var gte=Object.defineProperty;var mte=(t,e,r)=>e in t?gte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var lt=(t,e,r)=>(mte(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _te(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var bj={exports:{}},Dv={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var fN=Object.getOwnPropertySymbols,yte=Object.prototype.hasOwnProperty,xte=Object.prototype.propertyIsEnumerable;function bte(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function wte(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var hR=wte()?Object.assign:function(t,e){for(var r,n=bte(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)yte.call(r,o)&&(n[o]=r[o]);if(fN){i=fN(r);for(var s=0;s<i.length;s++)xte.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const Ete=$i(hR);var wj={exports:{}},Rr={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR=hR,md=60103,Ej=60106;Rr.Fragment=60107;Rr.StrictMode=60108;Rr.Profiler=60114;var Sj=60109,Cj=60110,Tj=60112;Rr.Suspense=60113;var Aj=60115,Ij=60116;if(typeof Symbol=="function"&&Symbol.for){var Co=Symbol.for;md=Co("react.element"),Ej=Co("react.portal"),Rr.Fragment=Co("react.fragment"),Rr.StrictMode=Co("react.strict_mode"),Rr.Profiler=Co("react.profiler"),Sj=Co("react.provider"),Cj=Co("react.context"),Tj=Co("react.forward_ref"),Rr.Suspense=Co("react.suspense"),Aj=Co("react.memo"),Ij=Co("react.lazy")}var hN=typeof Symbol=="function"&&Symbol.iterator;function Ste(t){return t===null||typeof t!="object"?null:(t=hN&&t[hN]||t["@@iterator"],typeof t=="function"?t:null)}function Uv(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pj={};function _d(t,e,r){this.props=t,this.context=e,this.refs=Pj,this.updater=r||Rj}_d.prototype.isReactComponent={};_d.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Uv(85));this.updater.enqueueSetState(this,t,e,"setState")};_d.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Oj(){}Oj.prototype=_d.prototype;function pR(t,e,r){this.props=t,this.context=e,this.refs=Pj,this.updater=r||Rj}var vR=pR.prototype=new Oj;vR.constructor=pR;dR(vR,_d.prototype);vR.isPureReactComponent=!0;var gR={current:null},kj=Object.prototype.hasOwnProperty,Fj={key:!0,ref:!0,__self:!0,__source:!0};function Nj(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)kj.call(e,n)&&!Fj.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:md,type:t,key:a,ref:o,props:i,_owner:gR.current}}function Cte(t,e){return{$$typeof:md,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mR(t){return typeof t=="object"&&t!==null&&t.$$typeof===md}function Tte(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var dN=/\/+/g;function Vw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tte(""+t.key):e.toString(36)}function v_(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case md:case Ej:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Vw(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(dN,"$&/")+"/"),v_(i,e,r,"",function(l){return l})):i!=null&&(mR(i)&&(i=Cte(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var c=n+Vw(a,s);o+=v_(a,e,r,c,i)}else if(c=Ste(t),typeof c=="function")for(t=c.call(t),s=0;!(a=t.next()).done;)a=a.value,c=n+Vw(a,s++),o+=v_(a,e,r,c,i);else if(a==="object")throw e=""+t,Error(Uv(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function lm(t,e,r){if(t==null)return t;var n=[],i=0;return v_(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Ate(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var Lj={current:null};function ml(){var t=Lj.current;if(t===null)throw Error(Uv(321));return t}var Ite={ReactCurrentDispatcher:Lj,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:gR,IsSomeRendererActing:{current:!1},assign:dR};Rr.Children={map:lm,forEach:function(t,e,r){lm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return lm(t,function(){e++}),e},toArray:function(t){return lm(t,function(e){return e})||[]},only:function(t){if(!mR(t))throw Error(Uv(143));return t}};Rr.Component=_d;Rr.PureComponent=pR;Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ite;Rr.cloneElement=function(t,e,r){if(t==null)throw Error(Uv(267,t));var n=dR({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=gR.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)kj.call(e,c)&&!Fj.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:md,type:t.type,key:i,ref:a,props:n,_owner:o}};Rr.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Cj,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Sj,_context:t},t.Consumer=t};Rr.createElement=Nj;Rr.createFactory=function(t){var e=Nj.bind(null,t);return e.type=t,e};Rr.createRef=function(){return{current:null}};Rr.forwardRef=function(t){return{$$typeof:Tj,render:t}};Rr.isValidElement=mR;Rr.lazy=function(t){return{$$typeof:Ij,_payload:{_status:-1,_result:t},_init:Ate}};Rr.memo=function(t,e){return{$$typeof:Aj,type:t,compare:e===void 0?null:e}};Rr.useCallback=function(t,e){return ml().useCallback(t,e)};Rr.useContext=function(t,e){return ml().useContext(t,e)};Rr.useDebugValue=function(){};Rr.useEffect=function(t,e){return ml().useEffect(t,e)};Rr.useImperativeHandle=function(t,e,r){return ml().useImperativeHandle(t,e,r)};Rr.useLayoutEffect=function(t,e){return ml().useLayoutEffect(t,e)};Rr.useMemo=function(t,e){return ml().useMemo(t,e)};Rr.useReducer=function(t,e,r){return ml().useReducer(t,e,r)};Rr.useRef=function(t){return ml().useRef(t)};Rr.useState=function(t){return ml().useState(t)};Rr.version="17.0.2";wj.exports=Rr;var _e=wj.exports;const Vr=$i(_e);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rte=_e,Mj=60103;Dv.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var pN=Symbol.for;Mj=pN("react.element"),Dv.Fragment=pN("react.fragment")}var Pte=Rte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ote=Object.prototype.hasOwnProperty,kte={key:!0,ref:!0,__self:!0,__source:!0};function Bj(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Ote.call(e,n)&&!kte.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Mj,type:t,key:a,ref:o,props:i,_owner:Pte.current}}Dv.jsx=Bj;Dv.jsxs=Bj;bj.exports=Dv;var N=bj.exports,Dj={exports:{}},yo={},Uj={exports:{}},jj={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,l=null,u=function(){if(c!==null)try{var D=t.unstable_now();c(!0,D),c=null}catch(H){throw setTimeout(u,0),H}};e=function(D){c!==null?setTimeout(e,0,D):(c=D,setTimeout(u,0))},r=function(D,H){l=setTimeout(D,H)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var d=!1,v=null,m=-1,g=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},i=function(){},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<D?Math.floor(1e3/D):5};var x=new MessageChannel,b=x.port2;x.port1.onmessage=function(){if(v!==null){var D=t.unstable_now();_=D+g;try{v(!0,D)?b.postMessage(null):(d=!1,v=null)}catch(H){throw b.postMessage(null),H}}else d=!1},e=function(D){v=D,d||(d=!0,b.postMessage(null))},r=function(D,H){m=f(function(){D(t.unstable_now())},H)},n=function(){h(m),m=-1}}function w(D,H){var G=D.length;D.push(H);e:for(;;){var V=G-1>>>1,ie=D[V];if(ie!==void 0&&0<T(ie,H))D[V]=H,D[G]=ie,G=V;else break e}}function E(D){return D=D[0],D===void 0?null:D}function C(D){var H=D[0];if(H!==void 0){var G=D.pop();if(G!==H){D[0]=G;e:for(var V=0,ie=D.length;V<ie;){var se=2*(V+1)-1,ge=D[se],ue=se+1,we=D[ue];if(ge!==void 0&&0>T(ge,G))we!==void 0&&0>T(we,ge)?(D[V]=we,D[ue]=G,V=ue):(D[V]=ge,D[se]=G,V=se);else if(we!==void 0&&0>T(we,G))D[V]=we,D[ue]=G,V=ue;else break e}}return H}return null}function T(D,H){var G=D.sortIndex-H.sortIndex;return G!==0?G:D.id-H.id}var I=[],R=[],O=1,P=null,k=3,L=!1,B=!1,U=!1;function z(D){for(var H=E(R);H!==null;){if(H.callback===null)C(R);else if(H.startTime<=D)C(R),H.sortIndex=H.expirationTime,w(I,H);else break;H=E(R)}}function ee(D){if(U=!1,z(D),!B)if(E(I)!==null)B=!0,e(ne);else{var H=E(R);H!==null&&r(ee,H.startTime-D)}}function ne(D,H){B=!1,U&&(U=!1,n()),L=!0;var G=k;try{for(z(H),P=E(I);P!==null&&(!(P.expirationTime>H)||D&&!t.unstable_shouldYield());){var V=P.callback;if(typeof V=="function"){P.callback=null,k=P.priorityLevel;var ie=V(P.expirationTime<=H);H=t.unstable_now(),typeof ie=="function"?P.callback=ie:P===E(I)&&C(I),z(H)}else C(I);P=E(I)}if(P!==null)var se=!0;else{var ge=E(R);ge!==null&&r(ee,ge.startTime-H),se=!1}return se}finally{P=null,k=G,L=!1}}var W=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){B||L||(B=!0,e(ne))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return E(I)},t.unstable_next=function(D){switch(k){case 1:case 2:case 3:var H=3;break;default:H=k}var G=k;k=H;try{return D()}finally{k=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=W,t.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=k;k=D;try{return H()}finally{k=G}},t.unstable_scheduleCallback=function(D,H,G){var V=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?V+G:V):G=V,D){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=G+ie,D={id:O++,callback:H,priorityLevel:D,startTime:G,expirationTime:ie,sortIndex:-1},G>V?(D.sortIndex=G,w(R,D),E(I)===null&&D===E(R)&&(U?n():U=!0,r(ee,G-V))):(D.sortIndex=ie,w(I,D),B||L||(B=!0,e(ne))),D},t.unstable_wrapCallback=function(D){var H=k;return function(){var G=k;k=H;try{return D.apply(this,arguments)}finally{k=G}}}})(jj);Uj.exports=jj;var Fte=Uj.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=_e,gn=hR,Ei=Fte;function Qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!wx)throw Error(Qe(227));var $j=new Set,Bp={};function lf(t,e){Kh(t,e),Kh(t+"Capture",e)}function Kh(t,e){for(Bp[t]=e,t=0;t<e.length;t++)$j.add(e[t])}var hl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vN=Object.prototype.hasOwnProperty,gN={},mN={};function Lte(t){return vN.call(mN,t)?!0:vN.call(gN,t)?!1:Nte.test(t)?mN[t]=!0:(gN[t]=!0,!1)}function Mte(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bte(t,e,r,n){if(e===null||typeof e>"u"||Mte(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ga(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var ji={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ji[t]=new ga(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ji[e]=new ga(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ji[t]=new ga(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ji[t]=new ga(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ji[t]=new ga(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ji[t]=new ga(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ji[t]=new ga(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ji[t]=new ga(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ji[t]=new ga(t,5,!1,t.toLowerCase(),null,!1,!1)});var _R=/[\-:]([a-z])/g;function yR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_R,yR);ji[e]=new ga(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_R,yR);ji[e]=new ga(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_R,yR);ji[e]=new ga(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ji[t]=new ga(t,1,!1,t.toLowerCase(),null,!1,!1)});ji.xlinkHref=new ga("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ji[t]=new ga(t,1,!1,t.toLowerCase(),null,!0,!0)});function xR(t,e,r,n){var i=ji.hasOwnProperty(e)?ji[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(Bte(e,r,i,n)&&(r=null),n||i===null?Lte(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var uf=wx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z0=60103,bc=60106,Gl=60107,bR=60108,up=60114,wR=60109,ER=60110,Ex=60112,cp=60113,ry=60120,Sx=60115,SR=60116,CR=60121,TR=60128,Gj=60129,AR=60130,TC=60131;if(typeof Symbol=="function"&&Symbol.for){var vi=Symbol.for;Z0=vi("react.element"),bc=vi("react.portal"),Gl=vi("react.fragment"),bR=vi("react.strict_mode"),up=vi("react.profiler"),wR=vi("react.provider"),ER=vi("react.context"),Ex=vi("react.forward_ref"),cp=vi("react.suspense"),ry=vi("react.suspense_list"),Sx=vi("react.memo"),SR=vi("react.lazy"),CR=vi("react.block"),vi("react.scope"),TR=vi("react.opaque.id"),Gj=vi("react.debug_trace_mode"),AR=vi("react.offscreen"),TC=vi("react.legacy_hidden")}var _N=typeof Symbol=="function"&&Symbol.iterator;function g0(t){return t===null||typeof t!="object"?null:(t=_N&&t[_N]||t["@@iterator"],typeof t=="function"?t:null)}var Hw;function J0(t){if(Hw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Hw=e&&e[1]||""}return`
`+Hw+t}var Xw=!1;function um(t,e){if(!t||Xw)return"";Xw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{Xw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?J0(t):""}function Dte(t){switch(t.tag){case 5:return J0(t.type);case 16:return J0("Lazy");case 13:return J0("Suspense");case 19:return J0("SuspenseList");case 0:case 2:case 15:return t=um(t.type,!1),t;case 11:return t=um(t.type.render,!1),t;case 22:return t=um(t.type._render,!1),t;case 1:return t=um(t.type,!0),t;default:return""}}function Sh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gl:return"Fragment";case bc:return"Portal";case up:return"Profiler";case bR:return"StrictMode";case cp:return"Suspense";case ry:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ER:return(t.displayName||"Context")+".Consumer";case wR:return(t._context.displayName||"Context")+".Provider";case Ex:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Sx:return Sh(t.type);case CR:return Sh(t._render);case SR:e=t._payload,t=t._init;try{return Sh(t(e))}catch{}}return null}function mu(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Vj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ute(t){var e=Vj(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cm(t){t._valueTracker||(t._valueTracker=Ute(t))}function Hj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Vj(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ny(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function AC(t,e){var r=e.checked;return gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function yN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=mu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xj(t,e){e=e.checked,e!=null&&xR(t,"checked",e,!1)}function IC(t,e){Xj(t,e);var r=mu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?RC(t,e.type,r):e.hasOwnProperty("defaultValue")&&RC(t,e.type,mu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function RC(t,e,r){(e!=="number"||ny(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function jte(t){var e="";return wx.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function PC(t,e){return t=gn({children:void 0},e),(e=jte(e.children))&&(t.children=e),t}function Ch(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+mu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function OC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return gn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Qe(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Qe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:mu(r)}}function zj(t,e){var r=mu(e.value),n=mu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function wN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var kC={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Wj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fm,Yj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==kC.svg||"innerHTML"in t)t.innerHTML=e;else{for(fm=fm||document.createElement("div"),fm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dp(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$te=["Webkit","ms","Moz","O"];Object.keys(fp).forEach(function(t){$te.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fp[e]=fp[t]})});function qj(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fp.hasOwnProperty(t)&&fp[t]?(""+e).trim():e+"px"}function Kj(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=qj(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Gte=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NC(t,e){if(e){if(Gte[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qe(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qe(62))}}function LC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function IR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var MC=null,Th=null,Ah=null;function EN(t){if(t=$v(t)){if(typeof MC!="function")throw Error(Qe(280));var e=t.stateNode;e&&(e=Px(e),MC(t.stateNode,t.type,e))}}function Zj(t){Th?Ah?Ah.push(t):Ah=[t]:Th=t}function Jj(){if(Th){var t=Th,e=Ah;if(Ah=Th=null,EN(t),e)for(t=0;t<e.length;t++)EN(e[t])}}function RR(t,e){return t(e)}function Qj(t,e,r,n,i){return t(e,r,n,i)}function PR(){}var e9=RR,wc=!1,zw=!1;function OR(){(Th!==null||Ah!==null)&&(PR(),Jj())}function Vte(t,e,r){if(zw)return t(e,r);zw=!0;try{return e9(t,e,r)}finally{zw=!1,OR()}}function Up(t,e){var r=t.stateNode;if(r===null)return null;var n=Px(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Qe(231,e,typeof r));return r}var BC=!1;if(hl)try{var m0={};Object.defineProperty(m0,"passive",{get:function(){BC=!0}}),window.addEventListener("test",m0,m0),window.removeEventListener("test",m0,m0)}catch{BC=!1}function Hte(t,e,r,n,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var hp=!1,iy=null,ay=!1,DC=null,Xte={onError:function(t){hp=!0,iy=t}};function zte(t,e,r,n,i,a,o,s,c){hp=!1,iy=null,Hte.apply(Xte,arguments)}function Wte(t,e,r,n,i,a,o,s,c){if(zte.apply(this,arguments),hp){if(hp){var l=iy;hp=!1,iy=null}else throw Error(Qe(198));ay||(ay=!0,DC=l)}}function cf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function t9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SN(t){if(cf(t)!==t)throw Error(Qe(188))}function Yte(t){var e=t.alternate;if(!e){if(e=cf(t),e===null)throw Error(Qe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return SN(i),t;if(a===n)return SN(i),e;a=a.sibling}throw Error(Qe(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Qe(189))}}if(r.alternate!==n)throw Error(Qe(190))}if(r.tag!==3)throw Error(Qe(188));return r.stateNode.current===r?t:e}function r9(t){if(t=Yte(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function CN(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var n9,kR,i9,a9,UC=!1,ms=[],tu=null,ru=null,nu=null,jp=new Map,$p=new Map,_0=[],TN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jC(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function AN(t,e){switch(t){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":nu=null;break;case"pointerover":case"pointerout":jp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$p.delete(e.pointerId)}}function y0(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=jC(e,r,n,i,a),e!==null&&(e=$v(e),e!==null&&kR(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qte(t,e,r,n,i){switch(e){case"focusin":return tu=y0(tu,t,e,r,n,i),!0;case"dragenter":return ru=y0(ru,t,e,r,n,i),!0;case"mouseover":return nu=y0(nu,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return jp.set(a,y0(jp.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,$p.set(a,y0($p.get(a)||null,t,e,r,n,i)),!0}return!1}function Kte(t){var e=Ec(t.target);if(e!==null){var r=cf(e);if(r!==null){if(e=r.tag,e===13){if(e=t9(r),e!==null){t.blockedOn=e,a9(t.lanePriority,function(){Ei.unstable_runWithPriority(t.priority,function(){i9(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function g_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=MR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=$v(r),e!==null&&kR(e),t.blockedOn=r,!1;e.shift()}return!0}function IN(t,e,r){g_(t)&&r.delete(e)}function Zte(){for(UC=!1;0<ms.length;){var t=ms[0];if(t.blockedOn!==null){t=$v(t.blockedOn),t!==null&&n9(t);break}for(var e=t.targetContainers;0<e.length;){var r=MR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&ms.shift()}tu!==null&&g_(tu)&&(tu=null),ru!==null&&g_(ru)&&(ru=null),nu!==null&&g_(nu)&&(nu=null),jp.forEach(IN),$p.forEach(IN)}function x0(t,e){t.blockedOn===e&&(t.blockedOn=null,UC||(UC=!0,Ei.unstable_scheduleCallback(Ei.unstable_NormalPriority,Zte)))}function o9(t){function e(i){return x0(i,t)}if(0<ms.length){x0(ms[0],t);for(var r=1;r<ms.length;r++){var n=ms[r];n.blockedOn===t&&(n.blockedOn=null)}}for(tu!==null&&x0(tu,t),ru!==null&&x0(ru,t),nu!==null&&x0(nu,t),jp.forEach(e),$p.forEach(e),r=0;r<_0.length;r++)n=_0[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<_0.length&&(r=_0[0],r.blockedOn===null);)Kte(r),r.blockedOn===null&&_0.shift()}function hm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var sh={animationend:hm("Animation","AnimationEnd"),animationiteration:hm("Animation","AnimationIteration"),animationstart:hm("Animation","AnimationStart"),transitionend:hm("Transition","TransitionEnd")},Ww={},s9={};hl&&(s9=document.createElement("div").style,"AnimationEvent"in window||(delete sh.animationend.animation,delete sh.animationiteration.animation,delete sh.animationstart.animation),"TransitionEvent"in window||delete sh.transitionend.transition);function Cx(t){if(Ww[t])return Ww[t];if(!sh[t])return t;var e=sh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in s9)return Ww[t]=e[r];return t}var l9=Cx("animationend"),u9=Cx("animationiteration"),c9=Cx("animationstart"),f9=Cx("transitionend"),h9=new Map,FR=new Map,Jte=["abort","abort",l9,"animationEnd",u9,"animationIteration",c9,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",f9,"transitionEnd","waiting","waiting"];function NR(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),FR.set(n,e),h9.set(n,i),lf(i,[n])}}var Qte=Ei.unstable_now;Qte();var Kr=8;function nh(t){if(1&t)return Kr=15,1;if(2&t)return Kr=14,2;if(4&t)return Kr=13,4;var e=24&t;return e!==0?(Kr=12,e):t&32?(Kr=11,32):(e=192&t,e!==0?(Kr=10,e):t&256?(Kr=9,256):(e=3584&t,e!==0?(Kr=8,e):t&4096?(Kr=7,4096):(e=4186112&t,e!==0?(Kr=6,e):(e=62914560&t,e!==0?(Kr=5,e):t&67108864?(Kr=4,67108864):t&134217728?(Kr=3,134217728):(e=805306368&t,e!==0?(Kr=2,e):1073741824&t?(Kr=1,1073741824):(Kr=8,t))))))}function ere(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function tre(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Qe(358,t))}}function Gp(t,e){var r=t.pendingLanes;if(r===0)return Kr=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=Kr=15;else if(a=r&134217727,a!==0){var c=a&~o;c!==0?(n=nh(c),i=Kr):(s&=a,s!==0&&(n=nh(s),i=Kr))}else a=r&~o,a!==0?(n=nh(a),i=Kr):s!==0&&(n=nh(s),i=Kr);if(n===0)return 0;if(n=31-_u(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(nh(e),i<=Kr)return e;Kr=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-_u(e),i=1<<r,n|=t[r],e&=~i;return n}function d9(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oy(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=ih(24&~e),t===0?oy(10,e):t;case 10:return t=ih(192&~e),t===0?oy(8,e):t;case 8:return t=ih(3584&~e),t===0&&(t=ih(4186112&~e),t===0&&(t=512)),t;case 2:return e=ih(805306368&~e),e===0&&(e=268435456),e}throw Error(Qe(358,t))}function ih(t){return t&-t}function Yw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Tx(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-_u(e),t[e]=r}var _u=Math.clz32?Math.clz32:ire,rre=Math.log,nre=Math.LN2;function ire(t){return t===0?32:31-(rre(t)/nre|0)|0}var are=Ei.unstable_UserBlockingPriority,ore=Ei.unstable_runWithPriority,m_=!0;function sre(t,e,r,n){wc||PR();var i=LR,a=wc;wc=!0;try{Qj(i,t,e,r,n)}finally{(wc=a)||OR()}}function lre(t,e,r,n){ore(are,LR.bind(null,t,e,r,n))}function LR(t,e,r,n){if(m_){var i;if((i=(e&4)===0)&&0<ms.length&&-1<TN.indexOf(t))t=jC(null,t,e,r,n),ms.push(t);else{var a=MR(t,e,r,n);if(a===null)i&&AN(t,n);else{if(i){if(-1<TN.indexOf(t)){t=jC(a,t,e,r,n),ms.push(t);return}if(qte(a,t,e,r,n))return;AN(t,n)}T9(t,e,n,null,r)}}}}function MR(t,e,r,n){var i=IR(n);if(i=Ec(i),i!==null){var a=cf(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=t9(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return T9(t,e,n,i,r),null}var Wl=null,BR=null,__=null;function p9(){if(__)return __;var t,e=BR,r=e.length,n,i="value"in Wl?Wl.value:Wl.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return __=i.slice(t,1<n?1-n:void 0)}function y_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dm(){return!0}function RN(){return!1}function Wa(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?dm:RN,this.isPropagationStopped=RN,this}return gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dm)},persist:function(){},isPersistent:dm}),e}var yd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DR=Wa(yd),jv=gn({},yd,{view:0,detail:0}),ure=Wa(jv),qw,Kw,b0,Ax=gn({},jv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==b0&&(b0&&t.type==="mousemove"?(qw=t.screenX-b0.screenX,Kw=t.screenY-b0.screenY):Kw=qw=0,b0=t),qw)},movementY:function(t){return"movementY"in t?t.movementY:Kw}}),PN=Wa(Ax),cre=gn({},Ax,{dataTransfer:0}),fre=Wa(cre),hre=gn({},jv,{relatedTarget:0}),Zw=Wa(hre),dre=gn({},yd,{animationName:0,elapsedTime:0,pseudoElement:0}),pre=Wa(dre),vre=gn({},yd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gre=Wa(vre),mre=gn({},yd,{data:0}),ON=Wa(mre),_re={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bre(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xre[t])?!!e[t]:!1}function UR(){return bre}var wre=gn({},jv,{key:function(t){if(t.key){var e=_re[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=y_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yre[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UR,charCode:function(t){return t.type==="keypress"?y_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?y_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ere=Wa(wre),Sre=gn({},Ax,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kN=Wa(Sre),Cre=gn({},jv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UR}),Tre=Wa(Cre),Are=gn({},yd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ire=Wa(Are),Rre=gn({},Ax,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pre=Wa(Rre),Ore=[9,13,27,32],jR=hl&&"CompositionEvent"in window,dp=null;hl&&"documentMode"in document&&(dp=document.documentMode);var kre=hl&&"TextEvent"in window&&!dp,v9=hl&&(!jR||dp&&8<dp&&11>=dp),FN=String.fromCharCode(32),NN=!1;function g9(t,e){switch(t){case"keyup":return Ore.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lh=!1;function Fre(t,e){switch(t){case"compositionend":return m9(e);case"keypress":return e.which!==32?null:(NN=!0,FN);case"textInput":return t=e.data,t===FN&&NN?null:t;default:return null}}function Nre(t,e){if(lh)return t==="compositionend"||!jR&&g9(t,e)?(t=p9(),__=BR=Wl=null,lh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return v9&&e.locale!=="ko"?null:e.data;default:return null}}var Lre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lre[t.type]:e==="textarea"}function _9(t,e,r,n){Zj(n),e=sy(e,"onChange"),0<e.length&&(r=new DR("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pp=null,Vp=null;function Mre(t){E9(t,0)}function Ix(t){var e=ch(t);if(Hj(e))return t}function Bre(t,e){if(t==="change")return e}var y9=!1;if(hl){var Jw;if(hl){var Qw="oninput"in document;if(!Qw){var MN=document.createElement("div");MN.setAttribute("oninput","return;"),Qw=typeof MN.oninput=="function"}Jw=Qw}else Jw=!1;y9=Jw&&(!document.documentMode||9<document.documentMode)}function BN(){pp&&(pp.detachEvent("onpropertychange",x9),Vp=pp=null)}function x9(t){if(t.propertyName==="value"&&Ix(Vp)){var e=[];if(_9(e,Vp,t,IR(t)),t=Mre,wc)t(e);else{wc=!0;try{RR(t,e)}finally{wc=!1,OR()}}}}function Dre(t,e,r){t==="focusin"?(BN(),pp=e,Vp=r,pp.attachEvent("onpropertychange",x9)):t==="focusout"&&BN()}function Ure(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ix(Vp)}function jre(t,e){if(t==="click")return Ix(e)}function $re(t,e){if(t==="input"||t==="change")return Ix(e)}function Gre(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fo=typeof Object.is=="function"?Object.is:Gre,Vre=Object.prototype.hasOwnProperty;function Hp(t,e){if(fo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Vre.call(e,r[n])||!fo(t[r[n]],e[r[n]]))return!1;return!0}function DN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function UN(t,e){var r=DN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=DN(r)}}function b9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?b9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jN(){for(var t=window,e=ny();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ny(t.document)}return e}function $C(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Hre=hl&&"documentMode"in document&&11>=document.documentMode,uh=null,GC=null,vp=null,VC=!1;function $N(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;VC||uh==null||uh!==ny(n)||(n=uh,"selectionStart"in n&&$C(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vp&&Hp(vp,n)||(vp=n,n=sy(GC,"onSelect"),0<n.length&&(e=new DR("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=uh)))}NR("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);NR("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);NR(Jte,2);for(var GN="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),eE=0;eE<GN.length;eE++)FR.set(GN[eE],0);Kh("onMouseEnter",["mouseout","mouseover"]);Kh("onMouseLeave",["mouseout","mouseover"]);Kh("onPointerEnter",["pointerout","pointerover"]);Kh("onPointerLeave",["pointerout","pointerover"]);lf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lf("onBeforeInput",["compositionend","keypress","textInput","paste"]);lf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Q0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Q0));function VN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Wte(n,e,void 0,t),t.currentTarget=null}function E9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;VN(i,s,l),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;VN(i,s,l),a=c}}}if(ay)throw t=DC,ay=!1,DC=null,t}function Qr(t,e){var r=I9(e),n=t+"__bubble";r.has(n)||(C9(e,t,2,!1),r.add(n))}var HN="_reactListening"+Math.random().toString(36).slice(2);function S9(t){t[HN]||(t[HN]=!0,$j.forEach(function(e){w9.has(e)||XN(e,!1,t,null),XN(e,!0,t,null)}))}function XN(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&w9.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=I9(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),C9(a,t,i,e),o.add(s))}function C9(t,e,r,n){var i=FR.get(e);switch(i===void 0?2:i){case 0:i=sre;break;case 1:i=lre;break;default:i=LR}r=i.bind(null,e,r,t),i=void 0,!BC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function T9(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ec(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}Vte(function(){var l=a,u=IR(r),f=[];e:{var h=h9.get(t);if(h!==void 0){var p=DR,d=t;switch(t){case"keypress":if(y_(r)===0)break e;case"keydown":case"keyup":p=Ere;break;case"focusin":d="focus",p=Zw;break;case"focusout":d="blur",p=Zw;break;case"beforeblur":case"afterblur":p=Zw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=PN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Tre;break;case l9:case u9:case c9:p=pre;break;case f9:p=Ire;break;case"scroll":p=ure;break;case"wheel":p=Pre;break;case"copy":case"cut":case"paste":p=gre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kN}var v=(e&4)!==0,m=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var _=l,x;_!==null;){x=_;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=Up(_,g),b!=null&&v.push(Xp(_,b,x)))),m)break;_=_.return}0<v.length&&(h=new p(h,d,null,r,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(d=r.relatedTarget||r.fromElement)&&(Ec(d)||d[xd]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(d=r.relatedTarget||r.toElement,p=l,d=d?Ec(d):null,d!==null&&(m=cf(d),d!==m||d.tag!==5&&d.tag!==6)&&(d=null)):(p=null,d=l),p!==d)){if(v=PN,b="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=kN,b="onPointerLeave",g="onPointerEnter",_="pointer"),m=p==null?h:ch(p),x=d==null?h:ch(d),h=new v(b,_+"leave",p,r,u),h.target=m,h.relatedTarget=x,b=null,Ec(u)===l&&(v=new v(g,_+"enter",d,r,u),v.target=x,v.relatedTarget=m,b=v),m=b,p&&d)t:{for(v=p,g=d,_=0,x=v;x;x=Bf(x))_++;for(x=0,b=g;b;b=Bf(b))x++;for(;0<_-x;)v=Bf(v),_--;for(;0<x-_;)g=Bf(g),x--;for(;_--;){if(v===g||g!==null&&v===g.alternate)break t;v=Bf(v),g=Bf(g)}v=null}else v=null;p!==null&&zN(f,h,p,v,!1),d!==null&&m!==null&&zN(f,m,d,v,!0)}}e:{if(h=l?ch(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=Bre;else if(LN(h))if(y9)w=$re;else{w=Ure;var E=Dre}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=jre);if(w&&(w=w(t,l))){_9(f,w,r,u);break e}E&&E(t,h,l),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&RC(h,"number",h.value)}switch(E=l?ch(l):window,t){case"focusin":(LN(E)||E.contentEditable==="true")&&(uh=E,GC=l,vp=null);break;case"focusout":vp=GC=uh=null;break;case"mousedown":VC=!0;break;case"contextmenu":case"mouseup":case"dragend":VC=!1,$N(f,r,u);break;case"selectionchange":if(Hre)break;case"keydown":case"keyup":$N(f,r,u)}var C;if(jR)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else lh?g9(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(v9&&r.locale!=="ko"&&(lh||T!=="onCompositionStart"?T==="onCompositionEnd"&&lh&&(C=p9()):(Wl=u,BR="value"in Wl?Wl.value:Wl.textContent,lh=!0)),E=sy(l,T),0<E.length&&(T=new ON(T,t,null,r,u),f.push({event:T,listeners:E}),C?T.data=C:(C=m9(r),C!==null&&(T.data=C)))),(C=kre?Fre(t,r):Nre(t,r))&&(l=sy(l,"onBeforeInput"),0<l.length&&(u=new ON("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=C))}E9(f,e)})}function Xp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function sy(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Up(t,r),a!=null&&n.unshift(Xp(t,a,i)),a=Up(t,e),a!=null&&n.push(Xp(t,a,i))),t=t.return}return n}function Bf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zN(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&l!==null&&(s=l,i?(c=Up(r,a),c!=null&&o.unshift(Xp(r,c,s))):i||(c=Up(r,a),c!=null&&o.push(Xp(r,c,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function ly(){}var tE=null,rE=null;function A9(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function HC(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var WN=typeof setTimeout=="function"?setTimeout:void 0,Xre=typeof clearTimeout=="function"?clearTimeout:void 0;function $R(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Ih(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function YN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var nE=0;function zre(t){return{$$typeof:TR,toString:t,valueOf:t}}var Rx=Math.random().toString(36).slice(2),Yl="__reactFiber$"+Rx,uy="__reactProps$"+Rx,xd="__reactContainer$"+Rx,qN="__reactEvents$"+Rx;function Ec(t){var e=t[Yl];if(e)return e;for(var r=t.parentNode;r;){if(e=r[xd]||r[Yl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=YN(t);t!==null;){if(r=t[Yl])return r;t=YN(t)}return e}t=r,r=t.parentNode}return null}function $v(t){return t=t[Yl]||t[xd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ch(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Qe(33))}function Px(t){return t[uy]||null}function I9(t){var e=t[qN];return e===void 0&&(e=t[qN]=new Set),e}var XC=[],fh=-1;function Nu(t){return{current:t}}function rn(t){0>fh||(t.current=XC[fh],XC[fh]=null,fh--)}function Pn(t,e){fh++,XC[fh]=t.current,t.current=e}var yu={},ea=Nu(yu),Aa=Nu(!1),zc=yu;function Zh(t,e){var r=t.type.contextTypes;if(!r)return yu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ia(t){return t=t.childContextTypes,t!=null}function cy(){rn(Aa),rn(ea)}function KN(t,e,r){if(ea.current!==yu)throw Error(Qe(168));Pn(ea,e),Pn(Aa,r)}function R9(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Qe(108,Sh(e)||"Unknown",i));return gn({},r,n)}function x_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yu,zc=ea.current,Pn(ea,t),Pn(Aa,Aa.current),!0}function ZN(t,e,r){var n=t.stateNode;if(!n)throw Error(Qe(169));r?(t=R9(t,e,zc),n.__reactInternalMemoizedMergedChildContext=t,rn(Aa),rn(ea),Pn(ea,t)):rn(Aa),Pn(Aa,r)}var GR=null,Mc=null,Wre=Ei.unstable_runWithPriority,VR=Ei.unstable_scheduleCallback,zC=Ei.unstable_cancelCallback,Yre=Ei.unstable_shouldYield,JN=Ei.unstable_requestPaint,WC=Ei.unstable_now,qre=Ei.unstable_getCurrentPriorityLevel,Ox=Ei.unstable_ImmediatePriority,P9=Ei.unstable_UserBlockingPriority,O9=Ei.unstable_NormalPriority,k9=Ei.unstable_LowPriority,F9=Ei.unstable_IdlePriority,iE={},Kre=JN!==void 0?JN:function(){},tl=null,b_=null,aE=!1,QN=WC(),Zi=1e4>QN?WC:function(){return WC()-QN};function Jh(){switch(qre()){case Ox:return 99;case P9:return 98;case O9:return 97;case k9:return 96;case F9:return 95;default:throw Error(Qe(332))}}function N9(t){switch(t){case 99:return Ox;case 98:return P9;case 97:return O9;case 96:return k9;case 95:return F9;default:throw Error(Qe(332))}}function Wc(t,e){return t=N9(t),Wre(t,e)}function zp(t,e,r){return t=N9(t),VR(t,e,r)}function Fs(){if(b_!==null){var t=b_;b_=null,zC(t)}L9()}function L9(){if(!aE&&tl!==null){aE=!0;var t=0;try{var e=tl;Wc(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),tl=null}catch(r){throw tl!==null&&(tl=tl.slice(t+1)),VR(Ox,Fs),r}finally{aE=!1}}}var Zre=uf.ReactCurrentBatchConfig;function No(t,e){if(t&&t.defaultProps){e=gn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var fy=Nu(null),hy=null,hh=null,dy=null;function HR(){dy=hh=hy=null}function XR(t){var e=fy.current;rn(fy),t.type._context._currentValue=e}function M9(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Rh(t,e){hy=t,dy=hh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jo=!0),t.firstContext=null)}function mo(t,e){if(dy!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(dy=t,e=1073741823),e={context:t,observedBits:e,next:null},hh===null){if(hy===null)throw Error(Qe(308));hh=e,hy.dependencies={lanes:0,firstContext:e,responders:null}}else hh=hh.next=e;return t._currentValue}var jl=!1;function zR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function B9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function iu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function au(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function eL(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Wp(t,e,r,n){var i=t.updateQueue;jl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=t.alternate;if(u!==null){u=u.updateQueue;var f=u.lastBaseUpdate;f!==o&&(f===null?u.firstBaseUpdate=l:f.next=l,u.lastBaseUpdate=c)}}if(a!==null){f=i.baseState,o=0,u=l=c=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,d=a;switch(s=e,h=r,d.tag){case 1:if(p=d.payload,typeof p=="function"){f=p.call(h,f,s);break e}f=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=d.payload,s=typeof p=="function"?p.call(h,f,s):p,s==null)break e;f=gn({},f,s);break e;case 2:jl=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,Vv|=o,t.lanes=o,t.memoizedState=f}}function tL(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Qe(191,i));i.call(n)}}}var D9=new wx.Component().refs;function py(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:gn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kx={isMounted:function(t){return(t=t._reactInternals)?cf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Va(),i=ou(t),a=iu(n,i);a.payload=e,r!=null&&(a.callback=r),au(t,a),su(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Va(),i=ou(t),a=iu(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),au(t,a),su(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Va(),n=ou(t),i=iu(r,n);i.tag=2,e!=null&&(i.callback=e),au(t,i),su(t,n,r)}};function rL(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Hp(r,n)||!Hp(i,a):!0}function U9(t,e,r){var n=!1,i=yu,a=e.contextType;return typeof a=="object"&&a!==null?a=mo(a):(i=Ia(e)?zc:ea.current,n=e.contextTypes,a=(n=n!=null)?Zh(t,i):yu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function nL(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&kx.enqueueReplaceState(e,e.state,null)}function YC(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=D9,zR(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=mo(a):(a=Ia(e)?zc:ea.current,i.context=Zh(t,a)),Wp(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(py(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kx.enqueueReplaceState(i,i.state,null),Wp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var pm=Array.isArray;function w0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Qe(309));var n=r.stateNode}if(!n)throw Error(Qe(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===D9&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Qe(284));if(!r._owner)throw Error(Qe(290,t))}return t}function vm(t,e){if(t.type!=="textarea")throw Error(Qe(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function j9(t){function e(m,g){if(t){var _=m.lastEffect;_!==null?(_.nextEffect=g,m.lastEffect=g):m.firstEffect=m.lastEffect=g,g.nextEffect=null,g.flags=8}}function r(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=bu(m,g),m.index=0,m.sibling=null,m}function a(m,g,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<g?(m.flags=2,g):_):(m.flags=2,g)):g}function o(m){return t&&m.alternate===null&&(m.flags=2),m}function s(m,g,_,x){return g===null||g.tag!==6?(g=cE(_,m.mode,x),g.return=m,g):(g=i(g,_),g.return=m,g)}function c(m,g,_,x){return g!==null&&g.elementType===_.type?(x=i(g,_.props),x.ref=w0(m,g,_),x.return=m,x):(x=C_(_.type,_.key,_.props,null,m.mode,x),x.ref=w0(m,g,_),x.return=m,x)}function l(m,g,_,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=fE(_,m.mode,x),g.return=m,g):(g=i(g,_.children||[]),g.return=m,g)}function u(m,g,_,x,b){return g===null||g.tag!==7?(g=Fh(_,m.mode,x,b),g.return=m,g):(g=i(g,_),g.return=m,g)}function f(m,g,_){if(typeof g=="string"||typeof g=="number")return g=cE(""+g,m.mode,_),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Z0:return _=C_(g.type,g.key,g.props,null,m.mode,_),_.ref=w0(m,null,g),_.return=m,_;case bc:return g=fE(g,m.mode,_),g.return=m,g}if(pm(g)||g0(g))return g=Fh(g,m.mode,_,null),g.return=m,g;vm(m,g)}return null}function h(m,g,_,x){var b=g!==null?g.key:null;if(typeof _=="string"||typeof _=="number")return b!==null?null:s(m,g,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Z0:return _.key===b?_.type===Gl?u(m,g,_.props.children,x,b):c(m,g,_,x):null;case bc:return _.key===b?l(m,g,_,x):null}if(pm(_)||g0(_))return b!==null?null:u(m,g,_,x,null);vm(m,_)}return null}function p(m,g,_,x,b){if(typeof x=="string"||typeof x=="number")return m=m.get(_)||null,s(g,m,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Z0:return m=m.get(x.key===null?_:x.key)||null,x.type===Gl?u(g,m,x.props.children,b,x.key):c(g,m,x,b);case bc:return m=m.get(x.key===null?_:x.key)||null,l(g,m,x,b)}if(pm(x)||g0(x))return m=m.get(_)||null,u(g,m,x,b,null);vm(g,x)}return null}function d(m,g,_,x){for(var b=null,w=null,E=g,C=g=0,T=null;E!==null&&C<_.length;C++){E.index>C?(T=E,E=null):T=E.sibling;var I=h(m,E,_[C],x);if(I===null){E===null&&(E=T);break}t&&E&&I.alternate===null&&e(m,E),g=a(I,g,C),w===null?b=I:w.sibling=I,w=I,E=T}if(C===_.length)return r(m,E),b;if(E===null){for(;C<_.length;C++)E=f(m,_[C],x),E!==null&&(g=a(E,g,C),w===null?b=E:w.sibling=E,w=E);return b}for(E=n(m,E);C<_.length;C++)T=p(E,m,C,_[C],x),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?C:T.key),g=a(T,g,C),w===null?b=T:w.sibling=T,w=T);return t&&E.forEach(function(R){return e(m,R)}),b}function v(m,g,_,x){var b=g0(_);if(typeof b!="function")throw Error(Qe(150));if(_=b.call(_),_==null)throw Error(Qe(151));for(var w=b=null,E=g,C=g=0,T=null,I=_.next();E!==null&&!I.done;C++,I=_.next()){E.index>C?(T=E,E=null):T=E.sibling;var R=h(m,E,I.value,x);if(R===null){E===null&&(E=T);break}t&&E&&R.alternate===null&&e(m,E),g=a(R,g,C),w===null?b=R:w.sibling=R,w=R,E=T}if(I.done)return r(m,E),b;if(E===null){for(;!I.done;C++,I=_.next())I=f(m,I.value,x),I!==null&&(g=a(I,g,C),w===null?b=I:w.sibling=I,w=I);return b}for(E=n(m,E);!I.done;C++,I=_.next())I=p(E,m,C,I.value,x),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?C:I.key),g=a(I,g,C),w===null?b=I:w.sibling=I,w=I);return t&&E.forEach(function(O){return e(m,O)}),b}return function(m,g,_,x){var b=typeof _=="object"&&_!==null&&_.type===Gl&&_.key===null;b&&(_=_.props.children);var w=typeof _=="object"&&_!==null;if(w)switch(_.$$typeof){case Z0:e:{for(w=_.key,b=g;b!==null;){if(b.key===w){switch(b.tag){case 7:if(_.type===Gl){r(m,b.sibling),g=i(b,_.props.children),g.return=m,m=g;break e}break;default:if(b.elementType===_.type){r(m,b.sibling),g=i(b,_.props),g.ref=w0(m,b,_),g.return=m,m=g;break e}}r(m,b);break}else e(m,b);b=b.sibling}_.type===Gl?(g=Fh(_.props.children,m.mode,x,_.key),g.return=m,m=g):(x=C_(_.type,_.key,_.props,null,m.mode,x),x.ref=w0(m,g,_),x.return=m,m=x)}return o(m);case bc:e:{for(b=_.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){r(m,g.sibling),g=i(g,_.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else e(m,g);g=g.sibling}g=fE(_,m.mode,x),g.return=m,m=g}return o(m)}if(typeof _=="string"||typeof _=="number")return _=""+_,g!==null&&g.tag===6?(r(m,g.sibling),g=i(g,_),g.return=m,m=g):(r(m,g),g=cE(_,m.mode,x),g.return=m,m=g),o(m);if(pm(_))return d(m,g,_,x);if(g0(_))return v(m,g,_,x);if(w&&vm(m,_),typeof _>"u"&&!b)switch(m.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Qe(152,Sh(m.type)||"Component"))}return r(m,g)}}var vy=j9(!0),$9=j9(!1),Gv={},bs=Nu(Gv),Yp=Nu(Gv),qp=Nu(Gv);function Sc(t){if(t===Gv)throw Error(Qe(174));return t}function qC(t,e){switch(Pn(qp,e),Pn(Yp,t),Pn(bs,Gv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:FC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=FC(e,t)}rn(bs),Pn(bs,e)}function Qh(){rn(bs),rn(Yp),rn(qp)}function iL(t){Sc(qp.current);var e=Sc(bs.current),r=FC(e,t.type);e!==r&&(Pn(Yp,t),Pn(bs,r))}function WR(t){Yp.current===t&&(rn(bs),rn(Yp))}var Rn=Nu(0);function gy(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var al=null,ql=null,ws=!1;function G9(t,e){var r=ho(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function aL(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function KC(t){if(ws){var e=ql;if(e){var r=e;if(!aL(t,e)){if(e=Ih(r.nextSibling),!e||!aL(t,e)){t.flags=t.flags&-1025|2,ws=!1,al=t;return}G9(al,r)}al=t,ql=Ih(e.firstChild)}else t.flags=t.flags&-1025|2,ws=!1,al=t}}function oL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;al=t}function gm(t){if(t!==al)return!1;if(!ws)return oL(t),ws=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!HC(e,t.memoizedProps))for(e=ql;e;)G9(t,e),e=Ih(e.nextSibling);if(oL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ql=Ih(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ql=null}}else ql=al?Ih(t.stateNode.nextSibling):null;return!0}function oE(){ql=al=null,ws=!1}var Ph=[];function YR(){for(var t=0;t<Ph.length;t++)Ph[t]._workInProgressVersionPrimary=null;Ph.length=0}var gp=uf.ReactCurrentDispatcher,go=uf.ReactCurrentBatchConfig,Kp=0,Vn=null,Ki=null,ki=null,my=!1,mp=!1;function ba(){throw Error(Qe(321))}function qR(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!fo(t[r],e[r]))return!1;return!0}function KR(t,e,r,n,i,a){if(Kp=a,Vn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gp.current=t===null||t.memoizedState===null?Qre:ene,t=r(n,i),mp){a=0;do{if(mp=!1,!(25>a))throw Error(Qe(301));a+=1,ki=Ki=null,e.updateQueue=null,gp.current=tne,t=r(n,i)}while(mp)}if(gp.current=by,e=Ki!==null&&Ki.next!==null,Kp=0,ki=Ki=Vn=null,my=!1,e)throw Error(Qe(300));return t}function Cc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ki===null?Vn.memoizedState=ki=t:ki=ki.next=t,ki}function ff(){if(Ki===null){var t=Vn.alternate;t=t!==null?t.memoizedState:null}else t=Ki.next;var e=ki===null?Vn.memoizedState:ki.next;if(e!==null)ki=e,Ki=t;else{if(t===null)throw Error(Qe(310));Ki=t,t={memoizedState:Ki.memoizedState,baseState:Ki.baseState,baseQueue:Ki.baseQueue,queue:Ki.queue,next:null},ki===null?Vn.memoizedState=ki=t:ki=ki.next=t}return ki}function _s(t,e){return typeof e=="function"?e(t):e}function E0(t){var e=ff(),r=e.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=t;var n=Ki,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,c=i;do{var l=c.lane;if((Kp&l)===l)s!==null&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var u={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};s===null?(o=s=u,a=n):s=s.next=u,Vn.lanes|=l,Vv|=l}c=c.next}while(c!==null&&c!==i);s===null?a=n:s.next=o,fo(n,e.memoizedState)||(jo=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function S0(t){var e=ff(),r=e.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);fo(a,e.memoizedState)||(jo=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function sL(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Kp&t)===t)&&(e._workInProgressVersionPrimary=n,Ph.push(e))),t)return r(e._source);throw Ph.push(e),Error(Qe(350))}function V9(t,e,r,n){var i=da;if(i===null)throw Error(Qe(349));var a=e._getVersion,o=a(e._source),s=gp.current,c=s.useState(function(){return sL(i,e,r)}),l=c[1],u=c[0];c=ki;var f=t.memoizedState,h=f.refs,p=h.getSnapshot,d=f.source;f=f.subscribe;var v=Vn;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var m=a(e._source);if(!fo(o,m)){m=r(e._source),fo(u,m)||(l(m),m=ou(v),i.mutableReadLanes|=m&i.pendingLanes),m=i.mutableReadLanes,i.entangledLanes|=m;for(var g=i.entanglements,_=m;0<_;){var x=31-_u(_),b=1<<x;g[x]|=m,_&=~b}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var m=h.getSnapshot,g=h.setSnapshot;try{g(m(e._source));var _=ou(v);i.mutableReadLanes|=_&i.pendingLanes}catch(x){g(function(){throw x})}})},[e,n]),fo(p,r)&&fo(d,e)&&fo(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:_s,lastRenderedState:u},t.dispatch=l=QR.bind(null,Vn,t),c.queue=t,c.baseQueue=null,u=sL(i,e,r),c.memoizedState=c.baseState=u),u}function H9(t,e,r){var n=ff();return V9(n,t,e,r)}function C0(t){var e=Cc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:_s,lastRenderedState:t},t=t.dispatch=QR.bind(null,Vn,t),[e.memoizedState,t]}function _y(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Vn.updateQueue,e===null?(e={lastEffect:null},Vn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function lL(t){var e=Cc();return t={current:t},e.memoizedState=t}function yy(){return ff().memoizedState}function ZC(t,e,r,n){var i=Cc();Vn.flags|=t,i.memoizedState=_y(1|e,r,void 0,n===void 0?null:n)}function ZR(t,e,r,n){var i=ff();n=n===void 0?null:n;var a=void 0;if(Ki!==null){var o=Ki.memoizedState;if(a=o.destroy,n!==null&&qR(n,o.deps)){_y(e,r,a,n);return}}Vn.flags|=t,i.memoizedState=_y(1|e,r,a,n)}function uL(t,e){return ZC(516,4,t,e)}function xy(t,e){return ZR(516,4,t,e)}function X9(t,e){return ZR(4,2,t,e)}function z9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function W9(t,e,r){return r=r!=null?r.concat([t]):null,ZR(4,2,z9.bind(null,e,t),r)}function JR(){}function Y9(t,e){var r=ff();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&qR(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function q9(t,e){var r=ff();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&qR(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Jre(t,e){var r=Jh();Wc(98>r?98:r,function(){t(!0)}),Wc(97<r?97:r,function(){var n=go.transition;go.transition=1;try{t(!1),e()}finally{go.transition=n}})}function QR(t,e,r){var n=Va(),i=ou(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===Vn||o!==null&&o===Vn)mp=my=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,c=o(s,r);if(a.eagerReducer=o,a.eagerState=c,fo(c,s))return}catch{}finally{}su(t,i,n)}}var by={readContext:mo,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useOpaqueIdentifier:ba,unstable_isNewReconciler:!1},Qre={readContext:mo,useCallback:function(t,e){return Cc().memoizedState=[t,e===void 0?null:e],t},useContext:mo,useEffect:uL,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ZC(4,2,z9.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ZC(4,2,t,e)},useMemo:function(t,e){var r=Cc();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Cc();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=QR.bind(null,Vn,t),[n.memoizedState,t]},useRef:lL,useState:C0,useDebugValue:JR,useDeferredValue:function(t){var e=C0(t),r=e[0],n=e[1];return uL(function(){var i=go.transition;go.transition=1;try{n(t)}finally{go.transition=i}},[t]),r},useTransition:function(){var t=C0(!1),e=t[0];return t=Jre.bind(null,t[1]),lL(t),[t,e]},useMutableSource:function(t,e,r){var n=Cc();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},V9(n,t,e,r)},useOpaqueIdentifier:function(){if(ws){var t=!1,e=zre(function(){throw t||(t=!0,r("r:"+(nE++).toString(36))),Error(Qe(355))}),r=C0(e)[1];return!(Vn.mode&2)&&(Vn.flags|=516,_y(5,function(){r("r:"+(nE++).toString(36))},void 0,null)),e}return e="r:"+(nE++).toString(36),C0(e),e},unstable_isNewReconciler:!1},ene={readContext:mo,useCallback:Y9,useContext:mo,useEffect:xy,useImperativeHandle:W9,useLayoutEffect:X9,useMemo:q9,useReducer:E0,useRef:yy,useState:function(){return E0(_s)},useDebugValue:JR,useDeferredValue:function(t){var e=E0(_s),r=e[0],n=e[1];return xy(function(){var i=go.transition;go.transition=1;try{n(t)}finally{go.transition=i}},[t]),r},useTransition:function(){var t=E0(_s)[0];return[yy().current,t]},useMutableSource:H9,useOpaqueIdentifier:function(){return E0(_s)[0]},unstable_isNewReconciler:!1},tne={readContext:mo,useCallback:Y9,useContext:mo,useEffect:xy,useImperativeHandle:W9,useLayoutEffect:X9,useMemo:q9,useReducer:S0,useRef:yy,useState:function(){return S0(_s)},useDebugValue:JR,useDeferredValue:function(t){var e=S0(_s),r=e[0],n=e[1];return xy(function(){var i=go.transition;go.transition=1;try{n(t)}finally{go.transition=i}},[t]),r},useTransition:function(){var t=S0(_s)[0];return[yy().current,t]},useMutableSource:H9,useOpaqueIdentifier:function(){return S0(_s)[0]},unstable_isNewReconciler:!1},rne=uf.ReactCurrentOwner,jo=!1;function wa(t,e,r,n){e.child=t===null?$9(e,null,r,n):vy(e,t.child,r,n)}function cL(t,e,r,n,i){r=r.render;var a=e.ref;return Rh(e,i),n=KR(t,e,r,n,a,i),t!==null&&!jo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ol(t,e,i)):(e.flags|=1,wa(t,e,n,i),e.child)}function fL(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!aP(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,K9(t,e,o,n,i,a)):(t=C_(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:Hp,r(i,n)&&t.ref===e.ref)?ol(t,e,a):(e.flags|=1,t=bu(o,n),t.ref=e.ref,t.return=e,e.child=t)}function K9(t,e,r,n,i,a){if(t!==null&&Hp(t.memoizedProps,n)&&t.ref===e.ref)if(jo=!1,(a&i)!==0)t.flags&16384&&(jo=!0);else return e.lanes=t.lanes,ol(t,e,a);return JC(t,e,r,n,a)}function sE(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},_m(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},_m(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},_m(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,_m(e,n);return wa(t,e,i,r),e.child}function Z9(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function JC(t,e,r,n,i){var a=Ia(r)?zc:ea.current;return a=Zh(e,a),Rh(e,i),r=KR(t,e,r,n,a,i),t!==null&&!jo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ol(t,e,i)):(e.flags|=1,wa(t,e,r,i),e.child)}function hL(t,e,r,n,i){if(Ia(r)){var a=!0;x_(e)}else a=!1;if(Rh(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),U9(e,r,n),YC(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=mo(l):(l=Ia(r)?zc:ea.current,l=Zh(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==l)&&nL(e,o,n,l),jl=!1;var h=e.memoizedState;o.state=h,Wp(e,n,o,i),c=e.memoizedState,s!==n||h!==c||Aa.current||jl?(typeof u=="function"&&(py(e,r,u,n),c=e.memoizedState),(s=jl||rL(e,r,s,n,h,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,B9(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:No(e.type,s),o.props=l,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=mo(c):(c=Ia(r)?zc:ea.current,c=Zh(e,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&nL(e,o,n,c),jl=!1,h=e.memoizedState,o.state=h,Wp(e,n,o,i);var d=e.memoizedState;s!==f||h!==d||Aa.current||jl?(typeof p=="function"&&(py(e,r,p,n),d=e.memoizedState),(l=jl||rL(e,r,l,n,h,d,c))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,d,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,d,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return QC(t,e,r,n,a,i)}function QC(t,e,r,n,i,a){Z9(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&ZN(e,r,!1),ol(t,e,a);n=e.stateNode,rne.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=vy(e,t.child,null,a),e.child=vy(e,null,s,a)):wa(t,e,s,a),e.memoizedState=n.state,i&&ZN(e,r,!0),e.child}function dL(t){var e=t.stateNode;e.pendingContext?KN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KN(t,e.context,!1),qC(t,e.containerInfo)}var mm={dehydrated:null,retryLane:0};function pL(t,e,r){var n=e.pendingProps,i=Rn.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Pn(Rn,i&1),t===null?(n.fallback!==void 0&&KC(e),t=n.children,i=n.fallback,a?(t=vL(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=mm,t):typeof n.unstable_expectedLoadTime=="number"?(t=vL(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=mm,e.lanes=33554432,t):(r=oP({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=mL(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=mm,n):(r=gL(t,e,n.children,r),e.memoizedState=null,r):a?(n=mL(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=mm,n):(r=gL(t,e,n.children,r),e.memoizedState=null,r)}function vL(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=oP(e,i,0,null),r=Fh(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function gL(t,e,r,n){var i=t.child;return t=i.sibling,r=bu(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function mL(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=bu(o,s),t!==null?n=bu(t,n):(n=Fh(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function _L(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),M9(t.return,e)}function lE(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function yL(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(wa(t,e,n.children,r),n=Rn.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_L(t,r);else if(t.tag===19)_L(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Pn(Rn,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&gy(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),lE(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gy(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}lE(e,!0,r,null,a,e.lastEffect);break;case"together":lE(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ol(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Vv|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(Qe(153));if(e.child!==null){for(t=e.child,r=bu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=bu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var J9,eT,Q9,e$;J9=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};eT=function(){};Q9=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Sc(bs.current);var a=null;switch(r){case"input":i=AC(t,i),n=AC(t,n),a=[];break;case"option":i=PC(t,i),n=PC(t,n),a=[];break;case"select":i=gn({},i,{value:void 0}),n=gn({},n,{value:void 0}),a=[];break;case"textarea":i=OC(t,i),n=OC(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ly)}NC(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Bp.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(c!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Bp.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Qr("scroll",t),a||s===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===TR?c.toString():(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};e$=function(t,e,r,n){r!==n&&(e.flags|=4)};function T0(t,e){if(!ws)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function nne(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ia(e.type)&&cy(),null;case 3:return Qh(),rn(Aa),rn(ea),YR(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(gm(e)?e.flags|=4:n.hydrate||(e.flags|=256)),eT(e),null;case 5:WR(e);var i=Sc(qp.current);if(r=e.type,t!==null&&e.stateNode!=null)Q9(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(Qe(166));return null}if(t=Sc(bs.current),gm(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Yl]=e,n[uy]=a,r){case"dialog":Qr("cancel",n),Qr("close",n);break;case"iframe":case"object":case"embed":Qr("load",n);break;case"video":case"audio":for(t=0;t<Q0.length;t++)Qr(Q0[t],n);break;case"source":Qr("error",n);break;case"img":case"image":case"link":Qr("error",n),Qr("load",n);break;case"details":Qr("toggle",n);break;case"input":yN(n,a),Qr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Qr("invalid",n);break;case"textarea":bN(n,a),Qr("invalid",n)}NC(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Bp.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Qr("scroll",n));switch(r){case"input":cm(n),xN(n,a,!0);break;case"textarea":cm(n),wN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ly)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===kC.html&&(t=Wj(r)),t===kC.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Yl]=e,t[uy]=n,J9(t,e,!1,!1),e.stateNode=t,o=LC(r,n),r){case"dialog":Qr("cancel",t),Qr("close",t),i=n;break;case"iframe":case"object":case"embed":Qr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Q0.length;i++)Qr(Q0[i],t);i=n;break;case"source":Qr("error",t),i=n;break;case"img":case"image":case"link":Qr("error",t),Qr("load",t),i=n;break;case"details":Qr("toggle",t),i=n;break;case"input":yN(t,n),i=AC(t,n),Qr("invalid",t);break;case"option":i=PC(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=gn({},n,{value:void 0}),Qr("invalid",t);break;case"textarea":bN(t,n),i=OC(t,n),Qr("invalid",t);break;default:i=n}NC(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?Kj(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yj(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Dp(t,c):typeof c=="number"&&Dp(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Qr("scroll",t):c!=null&&xR(t,a,c,o))}switch(r){case"input":cm(t),xN(t,n,!1);break;case"textarea":cm(t),wN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+mu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ch(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ch(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ly)}A9(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)e$(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Qe(166));r=Sc(qp.current),Sc(bs.current),gm(e)?(n=e.stateNode,r=e.memoizedProps,n[Yl]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yl]=e,e.stateNode=n)}return null;case 13:return rn(Rn),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&gm(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Rn.current&1?Mi===0&&(Mi=3):((Mi===0||Mi===3)&&(Mi=4),da===null||!(Vv&134217727)&&!(wd&134217727)||Oh(da,Ji))),(n||r)&&(e.flags|=4),null);case 4:return Qh(),eT(e),t===null&&S9(e.stateNode.containerInfo),null;case 10:return XR(e),null;case 17:return Ia(e.type)&&cy(),null;case 19:if(rn(Rn),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)T0(n,!1);else{if(Mi!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=gy(t),o!==null){for(e.flags|=64,T0(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Pn(Rn,Rn.current&1|2),e.child}t=t.sibling}n.tail!==null&&Zi()>oT&&(e.flags|=64,a=!0,T0(n,!1),e.lanes=33554432)}else{if(!a)if(t=gy(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),T0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!ws)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Zi()-n.renderingStartTime>oT&&r!==1073741824&&(e.flags|=64,a=!0,T0(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Zi(),r.sibling=null,e=Rn.current,Pn(Rn,a?e&1|2:e&1),r):null;case 23:case 24:return iP(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Qe(156,e.tag))}function ine(t){switch(t.tag){case 1:Ia(t.type)&&cy();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Qh(),rn(Aa),rn(ea),YR(),e=t.flags,e&64)throw Error(Qe(285));return t.flags=e&-4097|64,t;case 5:return WR(t),null;case 13:return rn(Rn),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return rn(Rn),null;case 4:return Qh(),null;case 10:return XR(t),null;case 23:case 24:return iP(),null;default:return null}}function eP(t,e){try{var r="",n=e;do r+=Dte(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function tT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ane=typeof WeakMap=="function"?WeakMap:Map;function t$(t,e,r){r=iu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ey||(Ey=!0,sT=n),tT(t,e)},r}function r$(t,e,r){r=iu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return tT(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(ys===null?ys=new Set([this]):ys.add(this),tT(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var one=typeof WeakSet=="function"?WeakSet:Set;function xL(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){lu(t,r)}else e.current=null}function sne(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:No(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&$R(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Qe(163))}function lne(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(f$(r,t),gne(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:No(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&tL(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}tL(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&A9(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&o9(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Qe(163))}function bL(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=qj("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function wL(t,e){if(Mc&&typeof Mc.onCommitFiberUnmount=="function")try{Mc.onCommitFiberUnmount(GR,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)f$(e,r);else{n=e;try{i()}catch(a){lu(n,a)}}r=r.next}while(r!==t)}break;case 1:if(xL(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){lu(e,a)}break;case 5:xL(e);break;case 4:n$(t,e)}}function EL(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function SL(t){return t.tag===5||t.tag===3||t.tag===4}function CL(t){e:{for(var e=t.return;e!==null;){if(SL(e))break e;e=e.return}throw Error(Qe(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Qe(161))}r.flags&16&&(Dp(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||SL(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?rT(t,r,e):nT(t,r,e)}function rT(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ly));else if(n!==4&&(t=t.child,t!==null))for(rT(t,e,r),t=t.sibling;t!==null;)rT(t,e,r),t=t.sibling}function nT(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(nT(t,e,r),t=t.sibling;t!==null;)nT(t,e,r),t=t.sibling}function n$(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Qe(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,c=s;;)if(wL(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(wL(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function uE(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[uy]=n,t==="input"&&n.type==="radio"&&n.name!=null&&Xj(r,n),LC(t,i),e=LC(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?Kj(r,s):o==="dangerouslySetInnerHTML"?Yj(r,s):o==="children"?Dp(r,s):xR(r,o,s,e)}switch(t){case"input":IC(r,n);break;case"textarea":zj(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?Ch(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?Ch(r,!!n.multiple,n.defaultValue,!0):Ch(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Qe(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,o9(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(nP=Zi(),bL(e.child,!0)),TL(e);return;case 19:TL(e);return;case 17:return;case 23:case 24:bL(e,e.memoizedState!==null);return}throw Error(Qe(163))}function TL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new one),e.forEach(function(n){var i=yne.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function une(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var cne=Math.ceil,wy=uf.ReactCurrentDispatcher,tP=uf.ReactCurrentOwner,Ut=0,da=null,ci=null,Ji=0,Yc=0,iT=Nu(0),Mi=0,Fx=null,bd=0,Vv=0,wd=0,rP=0,aT=null,nP=0,oT=1/0;function Ed(){oT=Zi()+500}var vt=null,Ey=!1,sT=null,ys=null,xu=!1,_p=null,ep=90,lT=[],uT=[],cl=null,yp=0,cT=null,w_=-1,nl=0,E_=0,xp=null,S_=!1;function Va(){return Ut&48?Zi():w_!==-1?w_:w_=Zi()}function ou(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Jh()===99?1:2;if(nl===0&&(nl=bd),Zre.transition!==0){E_!==0&&(E_=aT!==null?aT.pendingLanes:0),t=nl;var e=4186112&~E_;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Jh(),Ut&4&&t===98?t=oy(12,nl):(t=ere(t),t=oy(t,nl)),t}function su(t,e,r){if(50<yp)throw yp=0,cT=null,Error(Qe(185));if(t=Nx(t,e),t===null)return null;Tx(t,e,r),t===da&&(wd|=e,Mi===4&&Oh(t,Ji));var n=Jh();e===1?Ut&8&&!(Ut&48)?fT(t):(_o(t,r),Ut===0&&(Ed(),Fs())):(!(Ut&4)||n!==98&&n!==99||(cl===null?cl=new Set([t]):cl.add(t)),_o(t,r)),aT=t}function Nx(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function _o(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-_u(o),c=1<<s,l=a[s];if(l===-1){if(!(c&n)||c&i){l=e,nh(c);var u=Kr;a[s]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);o&=~c}if(n=Gp(t,t===da?Ji:0),e=Kr,n===0)r!==null&&(r!==iE&&zC(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==iE&&zC(r)}e===15?(r=fT.bind(null,t),tl===null?(tl=[r],b_=VR(Ox,L9)):tl.push(r),r=iE):e===14?r=zp(99,fT.bind(null,t)):(r=tre(e),r=zp(r,i$.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function i$(t){if(w_=-1,E_=nl=0,Ut&48)throw Error(Qe(327));var e=t.callbackNode;if(Lu()&&t.callbackNode!==e)return null;var r=Gp(t,t===da?Ji:0);if(r===0)return null;var n=r,i=Ut;Ut|=16;var a=l$();(da!==t||Ji!==n)&&(Ed(),kh(t,n));do try{dne();break}catch(s){s$(t,s)}while(1);if(HR(),wy.current=a,Ut=i,ci!==null?n=0:(da=null,Ji=0,n=Mi),bd&wd)kh(t,0);else if(n!==0){if(n===2&&(Ut|=64,t.hydrate&&(t.hydrate=!1,$R(t.containerInfo)),r=d9(t),r!==0&&(n=tp(t,r))),n===1)throw e=Fx,kh(t,0),Oh(t,r),_o(t,Zi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(Qe(345));case 2:uc(t);break;case 3:if(Oh(t,r),(r&62914560)===r&&(n=nP+500-Zi(),10<n)){if(Gp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Va(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=WN(uc.bind(null,t),n);break}uc(t);break;case 4:if(Oh(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-_u(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=Zi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cne(r/1960))-r,10<r){t.timeoutHandle=WN(uc.bind(null,t),r);break}uc(t);break;case 5:uc(t);break;default:throw Error(Qe(329))}}return _o(t,Zi()),t.callbackNode===e?i$.bind(null,t):null}function Oh(t,e){for(e&=~rP,e&=~wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_u(e),n=1<<r;t[r]=-1,e&=~n}}function fT(t){if(Ut&48)throw Error(Qe(327));if(Lu(),t===da&&t.expiredLanes&Ji){var e=Ji,r=tp(t,e);bd&wd&&(e=Gp(t,e),r=tp(t,e))}else e=Gp(t,0),r=tp(t,e);if(t.tag!==0&&r===2&&(Ut|=64,t.hydrate&&(t.hydrate=!1,$R(t.containerInfo)),e=d9(t),e!==0&&(r=tp(t,e))),r===1)throw r=Fx,kh(t,0),Oh(t,e),_o(t,Zi()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,uc(t),_o(t,Zi()),null}function fne(){if(cl!==null){var t=cl;cl=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,_o(e,Zi())})}Fs()}function a$(t,e){var r=Ut;Ut|=1;try{return t(e)}finally{Ut=r,Ut===0&&(Ed(),Fs())}}function o$(t,e){var r=Ut;Ut&=-2,Ut|=8;try{return t(e)}finally{Ut=r,Ut===0&&(Ed(),Fs())}}function _m(t,e){Pn(iT,Yc),Yc|=e,bd|=e}function iP(){Yc=iT.current,rn(iT)}function kh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Xre(r)),ci!==null)for(r=ci.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&cy();break;case 3:Qh(),rn(Aa),rn(ea),YR();break;case 5:WR(n);break;case 4:Qh();break;case 13:rn(Rn);break;case 19:rn(Rn);break;case 10:XR(n);break;case 23:case 24:iP()}r=r.return}da=t,ci=bu(t.current,null),Ji=Yc=bd=e,Mi=0,Fx=null,rP=wd=Vv=0}function s$(t,e){do{var r=ci;try{if(HR(),gp.current=by,my){for(var n=Vn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}my=!1}if(Kp=0,ki=Ki=Vn=null,mp=!1,tP.current=null,r===null||r.return===null){Mi=1,Fx=e,ci=null;break}e:{var a=t,o=r.return,s=r,c=e;if(e=Ji,s.flags|=2048,s.firstEffect=s.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(Rn.current&1)!==0,h=o;do{var p;if(p=h.tag===13){var d=h.memoizedState;if(d!==null)p=d.dehydrated!==null;else{var v=h.memoizedProps;p=v.fallback===void 0?!1:v.unstable_avoidThisFallback!==!0?!0:!f}}if(p){var m=h.updateQueue;if(m===null){var g=new Set;g.add(l),h.updateQueue=g}else m.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var _=iu(-1,1);_.tag=2,au(s,_)}s.lanes|=1;break e}c=void 0,s=e;var x=a.pingCache;if(x===null?(x=a.pingCache=new ane,c=new Set,x.set(l,c)):(c=x.get(l),c===void 0&&(c=new Set,x.set(l,c))),!c.has(s)){c.add(s);var b=_ne.bind(null,a,l,s);l.then(b,b)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);c=Error((Sh(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Mi!==5&&(Mi=2),c=eP(c,s),h=o;do{switch(h.tag){case 3:a=c,h.flags|=4096,e&=-e,h.lanes|=e;var w=t$(h,a,e);eL(h,w);break e;case 1:a=c;var E=h.type,C=h.stateNode;if(!(h.flags&64)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ys===null||!ys.has(C)))){h.flags|=4096,e&=-e,h.lanes|=e;var T=r$(h,a,e);eL(h,T);break e}}h=h.return}while(h!==null)}c$(r)}catch(I){e=I,ci===r&&r!==null&&(ci=r=r.return);continue}break}while(1)}function l$(){var t=wy.current;return wy.current=by,t===null?by:t}function tp(t,e){var r=Ut;Ut|=16;var n=l$();da===t&&Ji===e||kh(t,e);do try{hne();break}catch(i){s$(t,i)}while(1);if(HR(),Ut=r,wy.current=n,ci!==null)throw Error(Qe(261));return da=null,Ji=0,Mi}function hne(){for(;ci!==null;)u$(ci)}function dne(){for(;ci!==null&&!Yre();)u$(ci)}function u$(t){var e=h$(t.alternate,t,Yc);t.memoizedProps=t.pendingProps,e===null?c$(t):ci=e,tP.current=null}function c$(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=ine(e),r!==null){r.flags&=2047,ci=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=nne(r,e,Yc),r!==null){ci=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||Yc&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){ci=e;return}ci=e=t}while(e!==null);Mi===0&&(Mi=5)}function uc(t){var e=Jh();return Wc(99,pne.bind(null,t,e)),null}function pne(t,e){do Lu();while(_p!==null);if(Ut&48)throw Error(Qe(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Qe(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var c=31-_u(a),l=1<<c;i[c]=0,o[c]=-1,s[c]=-1,a&=~l}if(cl!==null&&!(n&24)&&cl.has(t)&&cl.delete(t),t===da&&(ci=da=null,Ji=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ut,Ut|=32,tP.current=null,tE=m_,o=jN(),$C(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var u=0,f=-1,h=-1,p=0,d=0,v=o,m=null;t:for(;;){for(var g;v!==s||a!==0&&v.nodeType!==3||(f=u+a),v!==c||l!==0&&v.nodeType!==3||(h=u+l),v.nodeType===3&&(u+=v.nodeValue.length),(g=v.firstChild)!==null;)m=v,v=g;for(;;){if(v===o)break t;if(m===s&&++p===a&&(f=u),m===c&&++d===l&&(h=u),(g=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=g}s=f===-1||h===-1?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;rE={focusedElem:o,selectionRange:s},m_=!1,xp=null,S_=!1,vt=n;do try{vne()}catch(I){if(vt===null)throw Error(Qe(330));lu(vt,I),vt=vt.nextEffect}while(vt!==null);xp=null,vt=n;do try{for(o=t;vt!==null;){var _=vt.flags;if(_&16&&Dp(vt.stateNode,""),_&128){var x=vt.alternate;if(x!==null){var b=x.ref;b!==null&&(typeof b=="function"?b(null):b.current=null)}}switch(_&1038){case 2:CL(vt),vt.flags&=-3;break;case 6:CL(vt),vt.flags&=-3,uE(vt.alternate,vt);break;case 1024:vt.flags&=-1025;break;case 1028:vt.flags&=-1025,uE(vt.alternate,vt);break;case 4:uE(vt.alternate,vt);break;case 8:s=vt,n$(o,s);var w=s.alternate;EL(s),w!==null&&EL(w)}vt=vt.nextEffect}}catch(I){if(vt===null)throw Error(Qe(330));lu(vt,I),vt=vt.nextEffect}while(vt!==null);if(b=rE,x=jN(),_=b.focusedElem,o=b.selectionRange,x!==_&&_&&_.ownerDocument&&b9(_.ownerDocument.documentElement,_)){for(o!==null&&$C(_)&&(x=o.start,b=o.end,b===void 0&&(b=x),"selectionStart"in _?(_.selectionStart=x,_.selectionEnd=Math.min(b,_.value.length)):(b=(x=_.ownerDocument||document)&&x.defaultView||window,b.getSelection&&(b=b.getSelection(),s=_.textContent.length,w=Math.min(o.start,s),o=o.end===void 0?w:Math.min(o.end,s),!b.extend&&w>o&&(s=o,o=w,w=s),s=UN(_,w),a=UN(_,o),s&&a&&(b.rangeCount!==1||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&(x=x.createRange(),x.setStart(s.node,s.offset),b.removeAllRanges(),w>o?(b.addRange(x),b.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),b.addRange(x)))))),x=[],b=_;b=b.parentNode;)b.nodeType===1&&x.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<x.length;_++)b=x[_],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}m_=!!tE,rE=tE=null,t.current=r,vt=n;do try{for(_=t;vt!==null;){var E=vt.flags;if(E&36&&lne(_,vt.alternate,vt),E&128){x=void 0;var C=vt.ref;if(C!==null){var T=vt.stateNode;switch(vt.tag){case 5:x=T;break;default:x=T}typeof C=="function"?C(x):C.current=x}}vt=vt.nextEffect}}catch(I){if(vt===null)throw Error(Qe(330));lu(vt,I),vt=vt.nextEffect}while(vt!==null);vt=null,Kre(),Ut=i}else t.current=r;if(xu)xu=!1,_p=t,ep=e;else for(vt=n;vt!==null;)e=vt.nextEffect,vt.nextEffect=null,vt.flags&8&&(E=vt,E.sibling=null,E.stateNode=null),vt=e;if(n=t.pendingLanes,n===0&&(ys=null),n===1?t===cT?yp++:(yp=0,cT=t):yp=0,r=r.stateNode,Mc&&typeof Mc.onCommitFiberRoot=="function")try{Mc.onCommitFiberRoot(GR,r,void 0,(r.current.flags&64)===64)}catch{}if(_o(t,Zi()),Ey)throw Ey=!1,t=sT,sT=null,t;return Ut&8||Fs(),null}function vne(){for(;vt!==null;){var t=vt.alternate;S_||xp===null||(vt.flags&8?CN(vt,xp)&&(S_=!0):vt.tag===13&&une(t,vt)&&CN(vt,xp)&&(S_=!0));var e=vt.flags;e&256&&sne(t,vt),!(e&512)||xu||(xu=!0,zp(97,function(){return Lu(),null})),vt=vt.nextEffect}}function Lu(){if(ep!==90){var t=97<ep?97:ep;return ep=90,Wc(t,mne)}return!1}function gne(t,e){lT.push(e,t),xu||(xu=!0,zp(97,function(){return Lu(),null}))}function f$(t,e){uT.push(e,t),xu||(xu=!0,zp(97,function(){return Lu(),null}))}function mne(){if(_p===null)return!1;var t=_p;if(_p=null,Ut&48)throw Error(Qe(331));var e=Ut;Ut|=32;var r=uT;uT=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(a===null)throw Error(Qe(330));lu(a,c)}}for(r=lT,lT=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(c){if(a===null)throw Error(Qe(330));lu(a,c)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return Ut=e,Fs(),!0}function AL(t,e,r){e=eP(r,e),e=t$(t,e,1),au(t,e),e=Va(),t=Nx(t,1),t!==null&&(Tx(t,1,e),_o(t,e))}function lu(t,e){if(t.tag===3)AL(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){AL(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ys===null||!ys.has(n))){t=eP(e,t);var i=r$(r,t,1);if(au(r,i),i=Va(),r=Nx(r,1),r!==null)Tx(r,1,i),_o(r,i);else if(typeof n.componentDidCatch=="function"&&(ys===null||!ys.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function _ne(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Va(),t.pingedLanes|=t.suspendedLanes&r,da===t&&(Ji&r)===r&&(Mi===4||Mi===3&&(Ji&62914560)===Ji&&500>Zi()-nP?kh(t,0):rP|=r),_o(t,e)}function yne(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(nl===0&&(nl=bd),e=ih(62914560&~nl),e===0&&(e=4194304)):e=Jh()===99?1:2:e=1),r=Va(),t=Nx(t,e),t!==null&&(Tx(t,e,r),_o(t,r))}var h$;h$=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Aa.current)jo=!0;else if(r&n)jo=!!(t.flags&16384);else{switch(jo=!1,e.tag){case 3:dL(e),oE();break;case 5:iL(e);break;case 1:Ia(e.type)&&x_(e);break;case 4:qC(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;Pn(fy,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?pL(t,e,r):(Pn(Rn,Rn.current&1),e=ol(t,e,r),e!==null?e.sibling:null);Pn(Rn,Rn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return yL(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pn(Rn,Rn.current),n)break;return null;case 23:case 24:return e.lanes=0,sE(t,e,r)}return ol(t,e,r)}else jo=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Zh(e,ea.current),Rh(e,r),i=KR(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ia(n)){var a=!0;x_(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zR(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&py(e,n,o,t),i.updater=kx,e.stateNode=i,i._reactInternals=e,YC(e,n,t,r),e=QC(null,e,n,!0,a,r)}else e.tag=0,wa(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=bne(i),t=No(i,t),a){case 0:e=JC(null,e,i,t,r);break e;case 1:e=hL(null,e,i,t,r);break e;case 11:e=cL(null,e,i,t,r);break e;case 14:e=fL(null,e,i,No(i.type,t),n,r);break e}throw Error(Qe(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:No(n,i),JC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:No(n,i),hL(t,e,n,i,r);case 3:if(dL(e),n=e.updateQueue,t===null||n===null)throw Error(Qe(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,B9(t,e),Wp(e,n,null,r),n=e.memoizedState.element,n===i)oE(),e=ol(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(ql=Ih(e.stateNode.containerInfo.firstChild),al=e,a=ws=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],Ph.push(a);for(r=$9(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else wa(t,e,n,r),oE();e=e.child}return e;case 5:return iL(e),t===null&&KC(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,HC(n,i)?o=null:a!==null&&HC(n,a)&&(e.flags|=16),Z9(t,e),wa(t,e,o,r),e.child;case 6:return t===null&&KC(e),null;case 13:return pL(t,e,r);case 4:return qC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=vy(e,null,n,r):wa(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:No(n,i),cL(t,e,n,i,r);case 7:return wa(t,e,e.pendingProps,r),e.child;case 8:return wa(t,e,e.pendingProps.children,r),e.child;case 12:return wa(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(Pn(fy,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=fo(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!Aa.current){e=ol(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=iu(-1,r&-r),l.tag=2,au(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),M9(s.return,r),c.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wa(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,Rh(e,r),i=mo(i,a.unstable_observedBits),n=n(i),e.flags|=1,wa(t,e,n,r),e.child;case 14:return i=e.type,a=No(i,e.pendingProps),a=No(i.type,a),fL(t,e,i,a,n,r);case 15:return K9(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:No(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ia(n)?(t=!0,x_(e)):t=!1,Rh(e,r),U9(e,n,i),YC(e,n,i,r),QC(null,e,n,!0,t,r);case 19:return yL(t,e,r);case 23:return sE(t,e,r);case 24:return sE(t,e,r)}throw Error(Qe(156,e.tag))};function xne(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(t,e,r,n){return new xne(t,e,r,n)}function aP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bne(t){if(typeof t=="function")return aP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ex)return 11;if(t===Sx)return 14}return 2}function bu(t,e){var r=t.alternate;return r===null?(r=ho(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function C_(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")aP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gl:return Fh(r.children,i,a,e);case Gj:o=8,i|=16;break;case bR:o=8,i|=1;break;case up:return t=ho(12,r,e,i|8),t.elementType=up,t.type=up,t.lanes=a,t;case cp:return t=ho(13,r,e,i),t.type=cp,t.elementType=cp,t.lanes=a,t;case ry:return t=ho(19,r,e,i),t.elementType=ry,t.lanes=a,t;case AR:return oP(r,i,a,e);case TC:return t=ho(24,r,e,i),t.elementType=TC,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wR:o=10;break e;case ER:o=9;break e;case Ex:o=11;break e;case Sx:o=14;break e;case SR:o=16,n=null;break e;case CR:o=22;break e}throw Error(Qe(130,t==null?t:typeof t,""))}return e=ho(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Fh(t,e,r,n){return t=ho(7,t,n,e),t.lanes=r,t}function oP(t,e,r,n){return t=ho(23,t,n,e),t.elementType=AR,t.lanes=r,t}function cE(t,e,r){return t=ho(6,t,null,e),t.lanes=r,t}function fE(t,e,r){return e=ho(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wne(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Yw(0),this.expirationTimes=Yw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yw(0),this.mutableSourceEagerHydrationData=null}function Ene(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Sy(t,e,r,n){var i=e.current,a=Va(),o=ou(i);e:if(r){r=r._reactInternals;t:{if(cf(r)!==r||r.tag!==1)throw Error(Qe(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ia(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Qe(171))}if(r.tag===1){var c=r.type;if(Ia(c)){r=R9(r,c,s);break e}}r=s}else r=yu;return e.context===null?e.context=r:e.pendingContext=r,e=iu(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),au(i,e),su(i,o,a),o}function hE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function IL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function sP(t,e){IL(t,e),(t=t.alternate)&&IL(t,e)}function Sne(){return null}function lP(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new wne(t,e,r!=null&&r.hydrate===!0),e=ho(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,zR(e),t[xd]=r.current,S9(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}lP.prototype.render=function(t){Sy(t,this._internalRoot,null,null)};lP.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Sy(null,t,null,function(){e[xd]=null})};function Hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cne(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new lP(t,0,e?{hydrate:!0}:void 0)}function Lx(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=hE(o);s.call(l)}}Sy(e,o,t,i)}else{if(a=r._reactRootContainer=Cne(r,n),o=a._internalRoot,typeof i=="function"){var c=i;i=function(){var l=hE(o);c.call(l)}}o$(function(){Sy(e,o,t,i)})}return hE(o)}n9=function(t){if(t.tag===13){var e=Va();su(t,4,e),sP(t,4)}};kR=function(t){if(t.tag===13){var e=Va();su(t,67108864,e),sP(t,67108864)}};i9=function(t){if(t.tag===13){var e=Va(),r=ou(t);su(t,r,e),sP(t,r)}};a9=function(t,e){return e()};MC=function(t,e,r){switch(e){case"input":if(IC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Px(n);if(!i)throw Error(Qe(90));Hj(n),IC(n,i)}}}break;case"textarea":zj(t,r);break;case"select":e=r.value,e!=null&&Ch(t,!!r.multiple,e,!1)}};RR=a$;Qj=function(t,e,r,n,i){var a=Ut;Ut|=4;try{return Wc(98,t.bind(null,e,r,n,i))}finally{Ut=a,Ut===0&&(Ed(),Fs())}};PR=function(){!(Ut&49)&&(fne(),Lu())};e9=function(t,e){var r=Ut;Ut|=2;try{return t(e)}finally{Ut=r,Ut===0&&(Ed(),Fs())}};function d$(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hv(e))throw Error(Qe(200));return Ene(t,e,null,r)}var Tne={Events:[$v,ch,Px,Zj,Jj,Lu,{current:!1}]},A0={findFiberByHostInstance:Ec,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Ane={bundleType:A0.bundleType,version:A0.version,rendererPackageName:A0.rendererPackageName,rendererConfig:A0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uf.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=r9(t),t===null?null:t.stateNode},findFiberByHostInstance:A0.findFiberByHostInstance||Sne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ym.isDisabled&&ym.supportsFiber)try{GR=ym.inject(Ane),Mc=ym}catch{}}yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tne;yo.createPortal=d$;yo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Qe(188)):Error(Qe(268,Object.keys(t)));return t=r9(e),t=t===null?null:t.stateNode,t};yo.flushSync=function(t,e){var r=Ut;if(r&48)return t(e);Ut|=1;try{if(t)return Wc(99,t.bind(null,e))}finally{Ut=r,Fs()}};yo.hydrate=function(t,e,r){if(!Hv(e))throw Error(Qe(200));return Lx(null,t,e,!0,r)};yo.render=function(t,e,r){if(!Hv(e))throw Error(Qe(200));return Lx(null,t,e,!1,r)};yo.unmountComponentAtNode=function(t){if(!Hv(t))throw Error(Qe(40));return t._reactRootContainer?(o$(function(){Lx(null,null,t,!1,function(){t._reactRootContainer=null,t[xd]=null})}),!0):!1};yo.unstable_batchedUpdates=a$;yo.unstable_createPortal=function(t,e){return d$(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};yo.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Hv(r))throw Error(Qe(200));if(t==null||t._reactInternals===void 0)throw Error(Qe(38));return Lx(t,e,r,!1,n)};yo.version="17.0.2";function p$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p$)}catch(t){console.error(t)}}p$(),Dj.exports=yo;var v$=Dj.exports;const wu=$i(v$);const Ine="_Title_main_1x8jv_1",Rne="_Title_buttonList_1x8jv_8",Pne="_Title_button_1x8jv_8",One="_Title_button_text_1x8jv_40",kne="_Title_button_custom_1x8jv_47",Fne="_Title_backup_background_1x8jv_66",I0={Title_main:Ine,Title_buttonList:Rne,Title_button:Pne,Title_button_text:One,Title_button_custom:kne,Title_backup_background:Fne};function Do(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Eu(t){return!!t&&!!t[fn]}function dl(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Gne}(t)||Array.isArray(t)||!!t[LL]||!!(!((e=t.constructor)===null||e===void 0)&&e[LL])||uP(t)||cP(t))}function qc(t,e,r){r===void 0&&(r=!1),Sd(t)===0?(r?Object.keys:Lh)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function Sd(t){var e=t[fn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:uP(t)?2:cP(t)?3:0}function Nh(t,e){return Sd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Nne(t,e){return Sd(t)===2?t.get(e):t[e]}function g$(t,e,r){var n=Sd(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function m$(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function uP(t){return jne&&t instanceof Map}function cP(t){return $ne&&t instanceof Set}function cc(t){return t.o||t.t}function fP(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=y$(t);delete e[fn];for(var r=Lh(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function hP(t,e){return e===void 0&&(e=!1),dP(t)||Eu(t)||!dl(t)||(Sd(t)>1&&(t.set=t.add=t.clear=t.delete=Lne),Object.freeze(t),e&&qc(t,function(r,n){return hP(n,!0)},!0)),t}function Lne(){Do(2)}function dP(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Es(t){var e=vT[t];return e||Do(18,t),e}function Mne(t,e){vT[t]||(vT[t]=e)}function hT(){return Zp}function dE(t,e){e&&(Es("Patches"),t.u=[],t.s=[],t.v=e)}function Cy(t){dT(t),t.p.forEach(Bne),t.p=null}function dT(t){t===Zp&&(Zp=t.l)}function RL(t){return Zp={p:[],l:Zp,h:t,m:!0,_:0}}function Bne(t){var e=t[fn];e.i===0||e.i===1?e.j():e.g=!0}function pE(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||Es("ES5").S(e,t,n),n?(r[fn].P&&(Cy(e),Do(4)),dl(t)&&(t=Ty(e,t),e.l||Ay(e,t)),e.u&&Es("Patches").M(r[fn].t,t,e.u,e.s)):t=Ty(e,r,[]),Cy(e),e.u&&e.v(e.u,e.s),t!==_$?t:void 0}function Ty(t,e,r){if(dP(e))return e;var n=e[fn];if(!n)return qc(e,function(s,c){return PL(t,n,e,s,c,r)},!0),e;if(n.A!==t)return e;if(!n.P)return Ay(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=fP(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),qc(a,function(s,c){return PL(t,n,i,s,c,r,o)}),Ay(t,i,!1),r&&t.u&&Es("Patches").N(n,r,t.u,t.s)}return n.o}function PL(t,e,r,n,i,a,o){if(Eu(i)){var s=Ty(t,i,a&&e&&e.i!==3&&!Nh(e.R,n)?a.concat(n):void 0);if(g$(r,n,s),!Eu(s))return;t.m=!1}else o&&r.add(i);if(dl(i)&&!dP(i)){if(!t.h.D&&t._<1)return;Ty(t,i),e&&e.A.l||Ay(t,i)}}function Ay(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&hP(e,r)}function vE(t,e){var r=t[fn];return(r?cc(r):t)[e]}function OL(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Vl(t){t.P||(t.P=!0,t.l&&Vl(t.l))}function gE(t){t.o||(t.o=fP(t.t))}function pT(t,e,r){var n=uP(e)?Es("MapSet").F(e,r):cP(e)?Es("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:hT(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},c=s,l=Jp;o&&(c=[s],l=rp);var u=Proxy.revocable(c,l),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,r):Es("ES5").J(e,r);return(r?r.A:hT()).p.push(n),n}function Dne(t){return Eu(t)||Do(22,t),function e(r){if(!dl(r))return r;var n,i=r[fn],a=Sd(r);if(i){if(!i.P&&(i.i<4||!Es("ES5").K(i)))return i.t;i.I=!0,n=kL(r,a),i.I=!1}else n=kL(r,a);return qc(n,function(o,s){i&&Nne(i.t,o)===s||g$(n,o,e(s))}),a===3?new Set(n):n}(t)}function kL(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return fP(t)}function Une(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var c=this[fn];return Jp.get(c,a)},set:function(c){var l=this[fn];Jp.set(l,a,c)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][fn];if(!s.P)switch(s.i){case 5:n(s)&&Vl(s);break;case 4:r(s)&&Vl(s)}}}function r(a){for(var o=a.t,s=a.k,c=Lh(s),l=c.length-1;l>=0;l--){var u=c[l];if(u!==fn){var f=o[u];if(f===void 0&&!Nh(o,u))return!0;var h=s[u],p=h&&h[fn];if(p?p.t!==f:!m$(h,f))return!0}}var d=!!o[fn];return c.length!==Lh(o).length+(d?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};Mne("ES5",{J:function(a,o){var s=Array.isArray(a),c=function(u,f){if(u){for(var h=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var d=y$(f);delete d[fn];for(var v=Lh(d),m=0;m<v.length;m++){var g=v[m];d[g]=t(g,u||!!d[g].enumerable)}return Object.create(Object.getPrototypeOf(f),d)}(s,a),l={i:s?5:4,A:o?o.A:hT(),P:!1,I:!1,R:{},l:o,t:a,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,fn,{value:l,writable:!0}),c},S:function(a,o,s){s?Eu(o)&&o[fn].A===a&&e(a.p):(a.u&&function c(l){if(l&&typeof l=="object"){var u=l[fn];if(u){var f=u.t,h=u.k,p=u.R,d=u.i;if(d===4)qc(h,function(x){x!==fn&&(f[x]!==void 0||Nh(f,x)?p[x]||c(h[x]):(p[x]=!0,Vl(u)))}),qc(f,function(x){h[x]!==void 0||Nh(h,x)||(p[x]=!1,Vl(u))});else if(d===5){if(n(u)&&(Vl(u),p.length=!0),h.length<f.length)for(var v=h.length;v<f.length;v++)p[v]=!1;else for(var m=f.length;m<h.length;m++)p[m]=!0;for(var g=Math.min(h.length,f.length),_=0;_<g;_++)h.hasOwnProperty(_)||(p[_]=!0),p[_]===void 0&&c(h[_])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var FL,Zp,pP=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",jne=typeof Map<"u",$ne=typeof Set<"u",NL=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",_$=pP?Symbol.for("immer-nothing"):((FL={})["immer-nothing"]=!0,FL),LL=pP?Symbol.for("immer-draftable"):"__$immer_draftable",fn=pP?Symbol.for("immer-state"):"__$immer_state",Gne=""+Object.prototype.constructor,Lh=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,y$=Object.getOwnPropertyDescriptors||function(t){var e={};return Lh(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},vT={},Jp={get:function(t,e){if(e===fn)return t;var r=cc(t);if(!Nh(r,e))return function(i,a,o){var s,c=OL(a,o);return c?"value"in c?c.value:(s=c.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!dl(n)?n:n===vE(t.t,e)?(gE(t),t.o[e]=pT(t.A.h,n,t)):n},has:function(t,e){return e in cc(t)},ownKeys:function(t){return Reflect.ownKeys(cc(t))},set:function(t,e,r){var n=OL(cc(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=vE(cc(t),e),a=i==null?void 0:i[fn];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(m$(r,i)&&(r!==void 0||Nh(t.t,e)))return!0;gE(t),Vl(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return vE(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,gE(t),Vl(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=cc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Do(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Do(12)}},rp={};qc(Jp,function(t,e){rp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),rp.deleteProperty=function(t,e){return rp.set.call(this,t,e,void 0)},rp.set=function(t,e,r){return Jp.set.call(this,t[0],e,r,t[0])};var Vne=function(){function t(r){var n=this;this.O=NL,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var c=n;return function(v){var m=this;v===void 0&&(v=s);for(var g=arguments.length,_=Array(g>1?g-1:0),x=1;x<g;x++)_[x-1]=arguments[x];return c.produce(v,function(b){var w;return(w=a).call.apply(w,[m,b].concat(_))})}}var l;if(typeof a!="function"&&Do(6),o!==void 0&&typeof o!="function"&&Do(7),dl(i)){var u=RL(n),f=pT(n,i,void 0),h=!0;try{l=a(f),h=!1}finally{h?Cy(u):dT(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(v){return dE(u,o),pE(v,u)},function(v){throw Cy(u),v}):(dE(u,o),pE(l,u))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===_$&&(l=void 0),n.D&&hP(l,!0),o){var p=[],d=[];Es("Patches").M(i,l,p,d),o(p,d)}return l}Do(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(f))})};var o,s,c=n.produce(i,a,function(l,u){o=l,s=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,s]}):[c,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){dl(r)||Do(8),Eu(r)&&(r=Dne(r));var n=RL(this),i=pT(this,r,void 0);return i[fn].C=!0,dT(n),i},e.finishDraft=function(r,n){var i=r&&r[fn],a=i.A;return dE(a,n),pE(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!NL&&Do(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=Es("Patches").$;return Eu(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),za=new Vne,x$=za.produce;za.produceWithPatches.bind(za);za.setAutoFreeze.bind(za);za.setUseProxies.bind(za);za.applyPatches.bind(za);za.createDraft.bind(za);za.finishDraft.bind(za);function bi(t){"@babel/helpers - typeof";return bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(t)}function Hne(t,e){if(bi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b$(t){var e=Hne(t,"string");return bi(e)=="symbol"?e:e+""}function Ya(t,e,r){return e=b$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var DL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),mE=function(){return Math.random().toString(36).substring(7).split("").join(".")},Iy={INIT:"@@redux/INIT"+mE(),REPLACE:"@@redux/REPLACE"+mE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mE()}};function Xne(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function w$(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qi(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(qi(1));return r(w$)(t,e)}if(typeof t!="function")throw new Error(qi(2));var i=t,a=e,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(qi(3));return a}function f(v){if(typeof v!="function")throw new Error(qi(4));if(c)throw new Error(qi(5));var m=!0;return l(),s.push(v),function(){if(m){if(c)throw new Error(qi(6));m=!1,l();var _=s.indexOf(v);s.splice(_,1),o=null}}}function h(v){if(!Xne(v))throw new Error(qi(7));if(typeof v.type>"u")throw new Error(qi(8));if(c)throw new Error(qi(9));try{c=!0,a=i(a,v)}finally{c=!1}for(var m=o=s,g=0;g<m.length;g++){var _=m[g];_()}return v}function p(v){if(typeof v!="function")throw new Error(qi(10));i=v,h({type:Iy.REPLACE})}function d(){var v,m=f;return v={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(qi(11));function x(){_.next&&_.next(u())}x();var b=m(x);return{unsubscribe:b}}},v[DL]=function(){return this},v}return h({type:Iy.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:p},n[DL]=d,n}function zne(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:Iy.INIT});if(typeof n>"u")throw new Error(qi(12));if(typeof r(void 0,{type:Iy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qi(13))})}function Wne(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{zne(r)}catch(s){o=s}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,f={},h=0;h<a.length;h++){var p=a[h],d=r[p],v=c[p],m=d(v,l);if(typeof m>"u")throw l&&l.type,new Error(qi(14));f[p]=m,u=u||m!==v}return u=u||a.length!==Object.keys(c).length,u?f:c}}function Ry(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function Yne(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(qi(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(c){return c(o)});return a=Ry.apply(void 0,s)(i.dispatch),BL(BL({},i),{},{dispatch:a})}}}function E$(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var S$=E$();S$.withExtraArgument=E$;const UL=S$;var C$=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qne=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ed=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},Kne=Object.defineProperty,Zne=Object.defineProperties,Jne=Object.getOwnPropertyDescriptors,jL=Object.getOwnPropertySymbols,Qne=Object.prototype.hasOwnProperty,eie=Object.prototype.propertyIsEnumerable,$L=function(t,e,r){return e in t?Kne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},uu=function(t,e){for(var r in e||(e={}))Qne.call(e,r)&&$L(t,r,e[r]);if(jL)for(var n=0,i=jL(e);n<i.length;n++){var r=i[n];eie.call(e,r)&&$L(t,r,e[r])}return t},_E=function(t,e){return Zne(t,Jne(e))},tie=function(t,e,r){return new Promise(function(n,i){var a=function(c){try{s(r.next(c))}catch(l){i(l)}},o=function(c){try{s(r.throw(c))}catch(l){i(l)}},s=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(a,o)};s((r=r.apply(t,e)).next())})},rie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ry:Ry.apply(null,arguments)};function nie(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function cu(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return uu(uu({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var iie=function(t){C$(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,ed([void 0],r[0].concat(this)))):new(e.bind.apply(e,ed([void 0],r.concat(this))))},e}(Array),aie=function(t){C$(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,ed([void 0],r[0].concat(this)))):new(e.bind.apply(e,ed([void 0],r.concat(this))))},e}(Array);function gT(t){return dl(t)?x$(t,function(){}):t}function oie(t){return typeof t=="boolean"}function sie(){return function(e){return T$(e)}}function T$(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new iie;return r&&(oie(r)?n.push(UL):n.push(UL.withExtraArgument(r.extraArgument))),n}var lie=!0;function uie(t){var e=sie(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,c=s===void 0?!0:s,l=r.preloadedState,u=l===void 0?void 0:l,f=r.enhancers,h=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(nie(i))p=Wne(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var d=o;typeof d=="function"&&(d=d(e));var v=Yne.apply(void 0,d),m=Ry;c&&(m=rie(uu({trace:!lie},typeof c=="object"&&c)));var g=new aie(v),_=g;Array.isArray(h)?_=ed([v],h):typeof h=="function"&&(_=h(g));var x=m.apply(void 0,_);return w$(p,u,x)}function A$(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function cie(t){return typeof t=="function"}function fie(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?A$(e):[e,r,n],a=i[0],o=i[1],s=i[2],c;if(cie(t))c=function(){return gT(t())};else{var l=gT(t);c=function(){return l}}function u(f,h){f===void 0&&(f=c());var p=ed([a[h.type]],o.filter(function(d){var v=d.matcher;return v(h)}).map(function(d){var v=d.reducer;return v}));return p.filter(function(d){return!!d}).length===0&&(p=[s]),p.reduce(function(d,v){if(v)if(Eu(d)){var m=d,g=v(m,h);return g===void 0?d:g}else{if(dl(d))return x$(d,function(_){return v(_,h)});var g=v(d,h);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return d},f)}return u.getInitialState=c,u}function hie(t,e){return t+"/"+e}function Xv(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:gT(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(u){var f=n[u],h=hie(e,u),p,d;"reducer"in f?(p=f.reducer,d=f.prepare):p=f,a[u]=p,o[h]=p,s[u]=d?cu(h,d):cu(h)});function c(){var u=typeof t.extraReducers=="function"?A$(t.extraReducers):[t.extraReducers],f=u[0],h=f===void 0?{}:f,p=u[1],d=p===void 0?[]:p,v=u[2],m=v===void 0?void 0:v,g=uu(uu({},h),o);return fie(r,function(_){for(var x in g)_.addCase(x,g[x]);for(var b=0,w=d;b<w.length;b++){var E=w[b];_.addMatcher(E.matcher,E.reducer)}m&&_.addDefaultCase(m)})}var l;return{name:e,reducer:function(u,f){return l||(l=c()),l(u,f)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var die="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pie=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=die[Math.random()*64|0];return e},vie=["name","message","stack","code"],yE=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),GL=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),gie=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=vie;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=cu(e+"/fulfilled",function(l,u,f,h){return{payload:l,meta:_E(uu({},h||{}),{arg:f,requestId:u,requestStatus:"fulfilled"})}}),a=cu(e+"/pending",function(l,u,f){return{payload:void 0,meta:_E(uu({},f||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=cu(e+"/rejected",function(l,u,f,h,p){return{payload:h,error:(n&&n.serializeError||gie)(l||"Rejected"),meta:_E(uu({},p||{}),{arg:f,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,f,h){var p=n!=null&&n.idGenerator?n.idGenerator(l):pie(),d=new s,v;function m(_){v=_,d.abort()}var g=function(){return tie(this,null,function(){var _,x,b,w,E,C,T;return qne(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),w=(_=n==null?void 0:n.condition)==null?void 0:_.call(n,l,{getState:f,extra:h}),_ie(w)?[4,w]:[3,2];case 1:w=I.sent(),I.label=2;case 2:if(w===!1||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(R,O){return d.signal.addEventListener("abort",function(){return O({name:"AbortError",message:v||"Aborted"})})}),u(a(p,l,(x=n==null?void 0:n.getPendingMeta)==null?void 0:x.call(n,{requestId:p,arg:l},{getState:f,extra:h}))),[4,Promise.race([E,Promise.resolve(r(l,{dispatch:u,getState:f,extra:h,requestId:p,signal:d.signal,abort:m,rejectWithValue:function(R,O){return new yE(R,O)},fulfillWithValue:function(R,O){return new GL(R,O)}})).then(function(R){if(R instanceof yE)throw R;return R instanceof GL?i(R.payload,p,l,R.meta):i(R,p,l)})])];case 3:return b=I.sent(),[3,5];case 4:return C=I.sent(),b=C instanceof yE?o(null,p,l,C.payload,C.meta):o(C,p,l),[3,5];case 5:return T=n&&!n.dispatchConditionRejection&&o.match(b)&&b.meta.condition,T||u(b),[2,b]}})})}();return Object.assign(g,{abort:m,requestId:p,arg:l,unwrap:function(){return g.then(mie)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function mie(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function _ie(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var vP="listenerMiddleware";cu(vP+"/add");cu(vP+"/removeAll");cu(vP+"/remove");var VL;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Une();function yie(){this.__data__=[],this.size=0}var xie=yie;function bie(t,e){return t===e||t!==t&&e!==e}var gP=bie,wie=gP;function Eie(t,e){for(var r=t.length;r--;)if(wie(t[r][0],e))return r;return-1}var Mx=Eie,Sie=Mx,Cie=Array.prototype,Tie=Cie.splice;function Aie(t){var e=this.__data__,r=Sie(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Tie.call(e,r,1),--this.size,!0}var Iie=Aie,Rie=Mx;function Pie(t){var e=this.__data__,r=Rie(e,t);return r<0?void 0:e[r][1]}var Oie=Pie,kie=Mx;function Fie(t){return kie(this.__data__,t)>-1}var Nie=Fie,Lie=Mx;function Mie(t,e){var r=this.__data__,n=Lie(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Bie=Mie,Die=xie,Uie=Iie,jie=Oie,$ie=Nie,Gie=Bie;function Cd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Cd.prototype.clear=Die;Cd.prototype.delete=Uie;Cd.prototype.get=jie;Cd.prototype.has=$ie;Cd.prototype.set=Gie;var Bx=Cd,Vie=Bx;function Hie(){this.__data__=new Vie,this.size=0}var Xie=Hie;function zie(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Wie=zie;function Yie(t){return this.__data__.get(t)}var qie=Yie;function Kie(t){return this.__data__.has(t)}var Zie=Kie,Jie=typeof Ct=="object"&&Ct&&Ct.Object===Object&&Ct,I$=Jie,Qie=I$,eae=typeof self=="object"&&self&&self.Object===Object&&self,tae=Qie||eae||Function("return this")(),Zo=tae,rae=Zo,nae=rae.Symbol,zv=nae,HL=zv,R$=Object.prototype,iae=R$.hasOwnProperty,aae=R$.toString,R0=HL?HL.toStringTag:void 0;function oae(t){var e=iae.call(t,R0),r=t[R0];try{t[R0]=void 0;var n=!0}catch{}var i=aae.call(t);return n&&(e?t[R0]=r:delete t[R0]),i}var sae=oae,lae=Object.prototype,uae=lae.toString;function cae(t){return uae.call(t)}var fae=cae,XL=zv,hae=sae,dae=fae,pae="[object Null]",vae="[object Undefined]",zL=XL?XL.toStringTag:void 0;function gae(t){return t==null?t===void 0?vae:pae:zL&&zL in Object(t)?hae(t):dae(t)}var Wv=gae;function mae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ns=mae,_ae=Wv,yae=Ns,xae="[object AsyncFunction]",bae="[object Function]",wae="[object GeneratorFunction]",Eae="[object Proxy]";function Sae(t){if(!yae(t))return!1;var e=_ae(t);return e==bae||e==wae||e==xae||e==Eae}var P$=Sae,Cae=Zo,Tae=Cae["__core-js_shared__"],Aae=Tae,xE=Aae,WL=function(){var t=/[^.]+$/.exec(xE&&xE.keys&&xE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Iae(t){return!!WL&&WL in t}var Rae=Iae,Pae=Function.prototype,Oae=Pae.toString;function kae(t){if(t!=null){try{return Oae.call(t)}catch{}try{return t+""}catch{}}return""}var O$=kae,Fae=P$,Nae=Rae,Lae=Ns,Mae=O$,Bae=/[\\^$.*+?()[\]{}|]/g,Dae=/^\[object .+?Constructor\]$/,Uae=Function.prototype,jae=Object.prototype,$ae=Uae.toString,Gae=jae.hasOwnProperty,Vae=RegExp("^"+$ae.call(Gae).replace(Bae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hae(t){if(!Lae(t)||Nae(t))return!1;var e=Fae(t)?Vae:Dae;return e.test(Mae(t))}var Xae=Hae;function zae(t,e){return t==null?void 0:t[e]}var Wae=zae,Yae=Xae,qae=Wae;function Kae(t,e){var r=qae(t,e);return Yae(r)?r:void 0}var hf=Kae,Zae=hf,Jae=Zo,Qae=Zae(Jae,"Map"),mP=Qae,eoe=hf,toe=eoe(Object,"create"),Dx=toe,YL=Dx;function roe(){this.__data__=YL?YL(null):{},this.size=0}var noe=roe;function ioe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aoe=ioe,ooe=Dx,soe="__lodash_hash_undefined__",loe=Object.prototype,uoe=loe.hasOwnProperty;function coe(t){var e=this.__data__;if(ooe){var r=e[t];return r===soe?void 0:r}return uoe.call(e,t)?e[t]:void 0}var foe=coe,hoe=Dx,doe=Object.prototype,poe=doe.hasOwnProperty;function voe(t){var e=this.__data__;return hoe?e[t]!==void 0:poe.call(e,t)}var goe=voe,moe=Dx,_oe="__lodash_hash_undefined__";function yoe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=moe&&e===void 0?_oe:e,this}var xoe=yoe,boe=noe,woe=aoe,Eoe=foe,Soe=goe,Coe=xoe;function Td(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Td.prototype.clear=boe;Td.prototype.delete=woe;Td.prototype.get=Eoe;Td.prototype.has=Soe;Td.prototype.set=Coe;var Toe=Td,qL=Toe,Aoe=Bx,Ioe=mP;function Roe(){this.size=0,this.__data__={hash:new qL,map:new(Ioe||Aoe),string:new qL}}var Poe=Roe;function Ooe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var koe=Ooe,Foe=koe;function Noe(t,e){var r=t.__data__;return Foe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ux=Noe,Loe=Ux;function Moe(t){var e=Loe(this,t).delete(t);return this.size-=e?1:0,e}var Boe=Moe,Doe=Ux;function Uoe(t){return Doe(this,t).get(t)}var joe=Uoe,$oe=Ux;function Goe(t){return $oe(this,t).has(t)}var Voe=Goe,Hoe=Ux;function Xoe(t,e){var r=Hoe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var zoe=Xoe,Woe=Poe,Yoe=Boe,qoe=joe,Koe=Voe,Zoe=zoe;function Ad(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ad.prototype.clear=Woe;Ad.prototype.delete=Yoe;Ad.prototype.get=qoe;Ad.prototype.has=Koe;Ad.prototype.set=Zoe;var _P=Ad,Joe=Bx,Qoe=mP,ese=_P,tse=200;function rse(t,e){var r=this.__data__;if(r instanceof Joe){var n=r.__data__;if(!Qoe||n.length<tse-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ese(n)}return r.set(t,e),this.size=r.size,this}var nse=rse,ise=Bx,ase=Xie,ose=Wie,sse=qie,lse=Zie,use=nse;function Id(t){var e=this.__data__=new ise(t);this.size=e.size}Id.prototype.clear=ase;Id.prototype.delete=ose;Id.prototype.get=sse;Id.prototype.has=lse;Id.prototype.set=use;var yP=Id;function cse(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var fse=cse,hse=hf,dse=function(){try{var t=hse(Object,"defineProperty");return t({},"",{}),t}catch{}}(),pse=dse,KL=pse;function vse(t,e,r){e=="__proto__"&&KL?KL(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var k$=vse,gse=k$,mse=gP,_se=Object.prototype,yse=_se.hasOwnProperty;function xse(t,e,r){var n=t[e];(!(yse.call(t,e)&&mse(n,r))||r===void 0&&!(e in t))&&gse(t,e,r)}var xP=xse,bse=xP,wse=k$;function Ese(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],c=n?n(r[s],t[s],s,r,t):void 0;c===void 0&&(c=t[s]),i?wse(r,s,c):bse(r,s,c)}return r}var jx=Ese;function Sse(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Cse=Sse;function Tse(t){return t!=null&&typeof t=="object"}var df=Tse,Ase=Wv,Ise=df,Rse="[object Arguments]";function Pse(t){return Ise(t)&&Ase(t)==Rse}var Ose=Pse,ZL=Ose,kse=df,F$=Object.prototype,Fse=F$.hasOwnProperty,Nse=F$.propertyIsEnumerable,Lse=ZL(function(){return arguments}())?ZL:function(t){return kse(t)&&Fse.call(t,"callee")&&!Nse.call(t,"callee")},N$=Lse,Mse=Array.isArray,_l=Mse,Py={exports:{}};function Bse(){return!1}var Dse=Bse;Py.exports;(function(t,e){var r=Zo,n=Dse,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;t.exports=l})(Py,Py.exports);var bP=Py.exports,Use=9007199254740991,jse=/^(?:0|[1-9]\d*)$/;function $se(t,e){var r=typeof t;return e=e??Use,!!e&&(r=="number"||r!="symbol"&&jse.test(t))&&t>-1&&t%1==0&&t<e}var wP=$se,Gse=9007199254740991;function Vse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Gse}var EP=Vse,Hse=Wv,Xse=EP,zse=df,Wse="[object Arguments]",Yse="[object Array]",qse="[object Boolean]",Kse="[object Date]",Zse="[object Error]",Jse="[object Function]",Qse="[object Map]",ele="[object Number]",tle="[object Object]",rle="[object RegExp]",nle="[object Set]",ile="[object String]",ale="[object WeakMap]",ole="[object ArrayBuffer]",sle="[object DataView]",lle="[object Float32Array]",ule="[object Float64Array]",cle="[object Int8Array]",fle="[object Int16Array]",hle="[object Int32Array]",dle="[object Uint8Array]",ple="[object Uint8ClampedArray]",vle="[object Uint16Array]",gle="[object Uint32Array]",en={};en[lle]=en[ule]=en[cle]=en[fle]=en[hle]=en[dle]=en[ple]=en[vle]=en[gle]=!0;en[Wse]=en[Yse]=en[ole]=en[qse]=en[sle]=en[Kse]=en[Zse]=en[Jse]=en[Qse]=en[ele]=en[tle]=en[rle]=en[nle]=en[ile]=en[ale]=!1;function mle(t){return zse(t)&&Xse(t.length)&&!!en[Hse(t)]}var _le=mle;function yle(t){return function(e){return t(e)}}var SP=yle,Oy={exports:{}};Oy.exports;(function(t,e){var r=I$,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Oy,Oy.exports);var CP=Oy.exports,xle=_le,ble=SP,JL=CP,QL=JL&&JL.isTypedArray,wle=QL?ble(QL):xle,L$=wle,Ele=Cse,Sle=N$,Cle=_l,Tle=bP,Ale=wP,Ile=L$,Rle=Object.prototype,Ple=Rle.hasOwnProperty;function Ole(t,e){var r=Cle(t),n=!r&&Sle(t),i=!r&&!n&&Tle(t),a=!r&&!n&&!i&&Ile(t),o=r||n||i||a,s=o?Ele(t.length,String):[],c=s.length;for(var l in t)(e||Ple.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Ale(l,c)))&&s.push(l);return s}var M$=Ole,kle=Object.prototype;function Fle(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||kle;return t===r}var TP=Fle;function Nle(t,e){return function(r){return t(e(r))}}var B$=Nle,Lle=B$,Mle=Lle(Object.keys,Object),Ble=Mle,Dle=TP,Ule=Ble,jle=Object.prototype,$le=jle.hasOwnProperty;function Gle(t){if(!Dle(t))return Ule(t);var e=[];for(var r in Object(t))$le.call(t,r)&&r!="constructor"&&e.push(r);return e}var Vle=Gle,Hle=P$,Xle=EP;function zle(t){return t!=null&&Xle(t.length)&&!Hle(t)}var D$=zle,Wle=M$,Yle=Vle,qle=D$;function Kle(t){return qle(t)?Wle(t):Yle(t)}var $x=Kle,Zle=jx,Jle=$x;function Qle(t,e){return t&&Zle(e,Jle(e),t)}var eue=Qle;function tue(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var rue=tue,nue=Ns,iue=TP,aue=rue,oue=Object.prototype,sue=oue.hasOwnProperty;function lue(t){if(!nue(t))return aue(t);var e=iue(t),r=[];for(var n in t)n=="constructor"&&(e||!sue.call(t,n))||r.push(n);return r}var uue=lue,cue=M$,fue=uue,hue=D$;function due(t){return hue(t)?cue(t,!0):fue(t)}var AP=due,pue=jx,vue=AP;function gue(t,e){return t&&pue(e,vue(e),t)}var mue=gue,ky={exports:{}};ky.exports;(function(t,e){var r=Zo,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}t.exports=c})(ky,ky.exports);var _ue=ky.exports;function yue(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var xue=yue;function bue(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var wue=bue;function Eue(){return[]}var U$=Eue,Sue=wue,Cue=U$,Tue=Object.prototype,Aue=Tue.propertyIsEnumerable,eM=Object.getOwnPropertySymbols,Iue=eM?function(t){return t==null?[]:(t=Object(t),Sue(eM(t),function(e){return Aue.call(t,e)}))}:Cue,IP=Iue,Rue=jx,Pue=IP;function Oue(t,e){return Rue(t,Pue(t),e)}var kue=Oue;function Fue(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var j$=Fue,Nue=B$,Lue=Nue(Object.getPrototypeOf,Object),$$=Lue,Mue=j$,Bue=$$,Due=IP,Uue=U$,jue=Object.getOwnPropertySymbols,$ue=jue?function(t){for(var e=[];t;)Mue(e,Due(t)),t=Bue(t);return e}:Uue,G$=$ue,Gue=jx,Vue=G$;function Hue(t,e){return Gue(t,Vue(t),e)}var Xue=Hue,zue=j$,Wue=_l;function Yue(t,e,r){var n=e(t);return Wue(t)?n:zue(n,r(t))}var V$=Yue,que=V$,Kue=IP,Zue=$x;function Jue(t){return que(t,Zue,Kue)}var H$=Jue,Que=V$,ece=G$,tce=AP;function rce(t){return Que(t,tce,ece)}var X$=rce,nce=hf,ice=Zo,ace=nce(ice,"DataView"),oce=ace,sce=hf,lce=Zo,uce=sce(lce,"Promise"),cce=uce,fce=hf,hce=Zo,dce=fce(hce,"Set"),z$=dce,pce=hf,vce=Zo,gce=pce(vce,"WeakMap"),mce=gce,mT=oce,_T=mP,yT=cce,xT=z$,bT=mce,W$=Wv,Rd=O$,tM="[object Map]",_ce="[object Object]",rM="[object Promise]",nM="[object Set]",iM="[object WeakMap]",aM="[object DataView]",yce=Rd(mT),xce=Rd(_T),bce=Rd(yT),wce=Rd(xT),Ece=Rd(bT),fc=W$;(mT&&fc(new mT(new ArrayBuffer(1)))!=aM||_T&&fc(new _T)!=tM||yT&&fc(yT.resolve())!=rM||xT&&fc(new xT)!=nM||bT&&fc(new bT)!=iM)&&(fc=function(t){var e=W$(t),r=e==_ce?t.constructor:void 0,n=r?Rd(r):"";if(n)switch(n){case yce:return aM;case xce:return tM;case bce:return rM;case wce:return nM;case Ece:return iM}return e});var Gx=fc,Sce=Object.prototype,Cce=Sce.hasOwnProperty;function Tce(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Cce.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Ace=Tce,Ice=Zo,Rce=Ice.Uint8Array,Y$=Rce,oM=Y$;function Pce(t){var e=new t.constructor(t.byteLength);return new oM(e).set(new oM(t)),e}var RP=Pce,Oce=RP;function kce(t,e){var r=e?Oce(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Fce=kce,Nce=/\w*$/;function Lce(t){var e=new t.constructor(t.source,Nce.exec(t));return e.lastIndex=t.lastIndex,e}var Mce=Lce,sM=zv,lM=sM?sM.prototype:void 0,uM=lM?lM.valueOf:void 0;function Bce(t){return uM?Object(uM.call(t)):{}}var Dce=Bce,Uce=RP;function jce(t,e){var r=e?Uce(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var $ce=jce,Gce=RP,Vce=Fce,Hce=Mce,Xce=Dce,zce=$ce,Wce="[object Boolean]",Yce="[object Date]",qce="[object Map]",Kce="[object Number]",Zce="[object RegExp]",Jce="[object Set]",Qce="[object String]",efe="[object Symbol]",tfe="[object ArrayBuffer]",rfe="[object DataView]",nfe="[object Float32Array]",ife="[object Float64Array]",afe="[object Int8Array]",ofe="[object Int16Array]",sfe="[object Int32Array]",lfe="[object Uint8Array]",ufe="[object Uint8ClampedArray]",cfe="[object Uint16Array]",ffe="[object Uint32Array]";function hfe(t,e,r){var n=t.constructor;switch(e){case tfe:return Gce(t);case Wce:case Yce:return new n(+t);case rfe:return Vce(t,r);case nfe:case ife:case afe:case ofe:case sfe:case lfe:case ufe:case cfe:case ffe:return zce(t,r);case qce:return new n;case Kce:case Qce:return new n(t);case Zce:return Hce(t);case Jce:return new n;case efe:return Xce(t)}}var dfe=hfe,pfe=Ns,cM=Object.create,vfe=function(){function t(){}return function(e){if(!pfe(e))return{};if(cM)return cM(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),gfe=vfe,mfe=gfe,_fe=$$,yfe=TP;function xfe(t){return typeof t.constructor=="function"&&!yfe(t)?mfe(_fe(t)):{}}var bfe=xfe,wfe=Gx,Efe=df,Sfe="[object Map]";function Cfe(t){return Efe(t)&&wfe(t)==Sfe}var Tfe=Cfe,Afe=Tfe,Ife=SP,fM=CP,hM=fM&&fM.isMap,Rfe=hM?Ife(hM):Afe,Pfe=Rfe,Ofe=Gx,kfe=df,Ffe="[object Set]";function Nfe(t){return kfe(t)&&Ofe(t)==Ffe}var Lfe=Nfe,Mfe=Lfe,Bfe=SP,dM=CP,pM=dM&&dM.isSet,Dfe=pM?Bfe(pM):Mfe,Ufe=Dfe,jfe=yP,$fe=fse,Gfe=xP,Vfe=eue,Hfe=mue,Xfe=_ue,zfe=xue,Wfe=kue,Yfe=Xue,qfe=H$,Kfe=X$,Zfe=Gx,Jfe=Ace,Qfe=dfe,ehe=bfe,the=_l,rhe=bP,nhe=Pfe,ihe=Ns,ahe=Ufe,ohe=$x,she=AP,lhe=1,uhe=2,che=4,q$="[object Arguments]",fhe="[object Array]",hhe="[object Boolean]",dhe="[object Date]",phe="[object Error]",K$="[object Function]",vhe="[object GeneratorFunction]",ghe="[object Map]",mhe="[object Number]",Z$="[object Object]",_he="[object RegExp]",yhe="[object Set]",xhe="[object String]",bhe="[object Symbol]",whe="[object WeakMap]",Ehe="[object ArrayBuffer]",She="[object DataView]",Che="[object Float32Array]",The="[object Float64Array]",Ahe="[object Int8Array]",Ihe="[object Int16Array]",Rhe="[object Int32Array]",Phe="[object Uint8Array]",Ohe="[object Uint8ClampedArray]",khe="[object Uint16Array]",Fhe="[object Uint32Array]",qr={};qr[q$]=qr[fhe]=qr[Ehe]=qr[She]=qr[hhe]=qr[dhe]=qr[Che]=qr[The]=qr[Ahe]=qr[Ihe]=qr[Rhe]=qr[ghe]=qr[mhe]=qr[Z$]=qr[_he]=qr[yhe]=qr[xhe]=qr[bhe]=qr[Phe]=qr[Ohe]=qr[khe]=qr[Fhe]=!0;qr[phe]=qr[K$]=qr[whe]=!1;function T_(t,e,r,n,i,a){var o,s=e&lhe,c=e&uhe,l=e&che;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!ihe(t))return t;var u=the(t);if(u){if(o=Jfe(t),!s)return zfe(t,o)}else{var f=Zfe(t),h=f==K$||f==vhe;if(rhe(t))return Xfe(t,s);if(f==Z$||f==q$||h&&!i){if(o=c||h?{}:ehe(t),!s)return c?Yfe(t,Hfe(o,t)):Wfe(t,Vfe(o,t))}else{if(!qr[f])return i?t:{};o=Qfe(t,f,s)}}a||(a=new jfe);var p=a.get(t);if(p)return p;a.set(t,o),ahe(t)?t.forEach(function(m){o.add(T_(m,e,r,m,t,a))}):nhe(t)&&t.forEach(function(m,g){o.set(g,T_(m,e,r,g,t,a))});var d=l?c?Kfe:qfe:c?she:ohe,v=u?void 0:d(t);return $fe(v||t,function(m,g){v&&(g=m,m=t[g]),Gfe(o,g,T_(m,e,r,g,t,a))}),o}var Nhe=T_,Lhe=Nhe,Mhe=1,Bhe=4;function Dhe(t){return Lhe(t,Mhe|Bhe)}var Uhe=Dhe;const vn=$i(Uhe);var Xt=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t))(Xt||{});const J$={oldBgName:"",bgName:"",bgX:0,bgY:0,figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},uiSe:"",gameSe:"",gameScounds:[],menuScounds:[],miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",dialogueMode:"role",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},storyLineBg:"",storyLineBgX:1280,storyLineBgY:720,achieveBg:"",unlockAchieve:{unlockname:"",saveTime:"",url:"",x:0,y:0},achieveBgX:1280,achieveBgY:720,unlockAchieves:[],totalAchievements:0,unlockedAchievements:0,isShowValueSWitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showValues:[],showValueList:[]},PP=Xv({name:"stage",initialState:vn(J$),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload,i=t.effects.findIndex(a=>a.target===r);i>=0?t.effects[i].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===Xt.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.live2dMotion.findIndex(a=>a.target===r);i<0?t.live2dMotion.push({target:r,motion:n}):t.live2dMotion[i].motion=n},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]},setStoryLineBg:(t,e)=>{t.storyLineBg=e.payload},setAchieveBg:(t,e)=>{t.achieveBg=e.payload},setUnlockAchieve:(t,e)=>{t.unlockAchieves.push(e.payload)},addShowValues:(t,e)=>{t.showValues.push(e.payload)},addShowValueList:(t,e)=>{t.showValueList=[...t.showValueList,e.payload]},updateShowValueList:(t,e)=>{t.showValueList=e.payload}}}),{resetStageState:Vx,setStage:Lt,setStageVar:Q$,setAchieveBg:jhe,setUnlockAchieve:EVe,setStoryLineBg:SVe,addShowValues:Df,addShowValueList:$he,updateShowValueList:Ghe}=PP.actions,Sa=PP.actions,Vhe=PP.reducer;function dh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var eG={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,u){if(!i[l]){if(!n[l]){var f=typeof dh=="function"&&dh;if(!u&&f)return f(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(d){var v=n[l][1][d];return o(v||d)},p,p.exports,r,n,i,a)}return i[l].exports}for(var s=typeof dh=="function"&&dh,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var c=0,l=new o(d),u=a.document.createTextNode("");l.observe(u,{characterData:!0}),s=function(){u.data=c=++c%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=d,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var m=a.document.createElement("script");m.onreadystatechange=function(){d(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:s=function(){setTimeout(d,0)};var h,p=[];function d(){h=!0;for(var m,g,_=p.length;_;){for(g=p,p=[],m=-1;++m<_;)g[m]();_=p.length}h=!1}n.exports=v;function v(m){p.push(m)===1&&!h&&s()}}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];n.exports=f;function f(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,w!==o&&v(this,w)}f.prototype.catch=function(w){return this.then(null,w)},f.prototype.then=function(w,E){if(typeof w!="function"&&this.state===l||typeof E!="function"&&this.state===c)return this;var C=new this.constructor(o);if(this.state!==u){var T=this.state===l?w:E;p(C,T,this.outcome)}else this.queue.push(new h(C,w,E));return C};function h(w,E,C){this.promise=w,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(w){s.resolve(this.promise,w)},h.prototype.otherCallFulfilled=function(w){p(this.promise,this.onFulfilled,w)},h.prototype.callRejected=function(w){s.reject(this.promise,w)},h.prototype.otherCallRejected=function(w){p(this.promise,this.onRejected,w)};function p(w,E,C){a(function(){var T;try{T=E(C)}catch(I){return s.reject(w,I)}T===w?s.reject(w,new TypeError("Cannot resolve promise with itself")):s.resolve(w,T)})}s.resolve=function(w,E){var C=m(d,E);if(C.status==="error")return s.reject(w,C.value);var T=C.value;if(T)v(w,T);else{w.state=l,w.outcome=E;for(var I=-1,R=w.queue.length;++I<R;)w.queue[I].callFulfilled(E)}return w},s.reject=function(w,E){w.state=c,w.outcome=E;for(var C=-1,T=w.queue.length;++C<T;)w.queue[C].callRejected(E);return w};function d(w){var E=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof E=="function")return function(){E.apply(w,arguments)}}function v(w,E){var C=!1;function T(P){C||(C=!0,s.reject(w,P))}function I(P){C||(C=!0,s.resolve(w,P))}function R(){E(I,T)}var O=m(R);O.status==="error"&&T(O.value)}function m(w,E){var C={};try{C.value=w(E),C.status="success"}catch(T){C.status="error",C.value=T}return C}f.resolve=g;function g(w){return w instanceof this?w:s.resolve(new this(o),w)}f.reject=_;function _(w){var E=new this(o);return s.reject(E,w)}f.all=x;function x(w){var E=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,T=!1;if(!C)return this.resolve([]);for(var I=new Array(C),R=0,O=-1,P=new this(o);++O<C;)k(w[O],O);return P;function k(L,B){E.resolve(L).then(U,function(z){T||(T=!0,s.reject(P,z))});function U(z){I[B]=z,++R===C&&!T&&(T=!0,s.resolve(P,I))}}}f.race=b;function b(w){var E=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,T=!1;if(!C)return this.resolve([]);for(var I=-1,R=new this(o);++I<C;)O(w[I]);return R;function O(P){E.resolve(P).then(function(k){T||(T=!0,s.resolve(R,k))},function(k){T||(T=!0,s.reject(R,k))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z};function o(Z,ce){if(!(Z instanceof ce))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=s();function l(){try{if(!c||!c.open)return!1;var Z=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ce=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Z||ce)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(Z,ce){Z=Z||[],ce=ce||{};try{return new Blob(Z,ce)}catch(de){if(de.name!=="TypeError")throw de;for(var re=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ve=new re,be=0;be<Z.length;be+=1)ve.append(Z[be]);return ve.getBlob(ce.type)}}typeof Promise>"u"&&r(3);var f=Promise;function h(Z,ce){ce&&Z.then(function(re){ce(null,re)},function(re){ce(re)})}function p(Z,ce,re){typeof ce=="function"&&Z.then(ce),typeof re=="function"&&Z.catch(re)}function d(Z){return typeof Z!="string"&&(console.warn(Z+" used as a key, but it is not a string."),Z=String(Z)),Z}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",g=void 0,_={},x=Object.prototype.toString,b="readonly",w="readwrite";function E(Z){for(var ce=Z.length,re=new ArrayBuffer(ce),ve=new Uint8Array(re),be=0;be<ce;be++)ve[be]=Z.charCodeAt(be);return re}function C(Z){return new f(function(ce){var re=Z.transaction(m,w),ve=u([""]);re.objectStore(m).put(ve,"key"),re.onabort=function(be){be.preventDefault(),be.stopPropagation(),ce(!1)},re.oncomplete=function(){var be=navigator.userAgent.match(/Chrome\/(\d+)/),de=navigator.userAgent.match(/Edge\//);ce(de||!be||parseInt(be[1],10)>=43)}}).catch(function(){return!1})}function T(Z){return typeof g=="boolean"?f.resolve(g):C(Z).then(function(ce){return g=ce,g})}function I(Z){var ce=_[Z.name],re={};re.promise=new f(function(ve,be){re.resolve=ve,re.reject=be}),ce.deferredOperations.push(re),ce.dbReady?ce.dbReady=ce.dbReady.then(function(){return re.promise}):ce.dbReady=re.promise}function R(Z){var ce=_[Z.name],re=ce.deferredOperations.pop();if(re)return re.resolve(),re.promise}function O(Z,ce){var re=_[Z.name],ve=re.deferredOperations.pop();if(ve)return ve.reject(ce),ve.promise}function P(Z,ce){return new f(function(re,ve){if(_[Z.name]=_[Z.name]||H(),Z.db)if(ce)I(Z),Z.db.close();else return re(Z.db);var be=[Z.name];ce&&be.push(Z.version);var de=c.open.apply(c,be);ce&&(de.onupgradeneeded=function(De){var ze=de.result;try{ze.createObjectStore(Z.storeName),De.oldVersion<=1&&ze.createObjectStore(m)}catch(Ke){if(Ke.name==="ConstraintError")console.warn('The database "'+Z.name+'" has been upgraded from version '+De.oldVersion+" to version "+De.newVersion+', but the storage "'+Z.storeName+'" already exists.');else throw Ke}}),de.onerror=function(De){De.preventDefault(),ve(de.error)},de.onsuccess=function(){var De=de.result;De.onversionchange=function(ze){ze.target.close()},re(De),R(Z)}})}function k(Z){return P(Z,!1)}function L(Z){return P(Z,!0)}function B(Z,ce){if(!Z.db)return!0;var re=!Z.db.objectStoreNames.contains(Z.storeName),ve=Z.version<Z.db.version,be=Z.version>Z.db.version;if(ve&&(Z.version!==ce&&console.warn('The database "'+Z.name+`" can't be downgraded from version `+Z.db.version+" to version "+Z.version+"."),Z.version=Z.db.version),be||re){if(re){var de=Z.db.version+1;de>Z.version&&(Z.version=de)}return!0}return!1}function U(Z){return new f(function(ce,re){var ve=new FileReader;ve.onerror=re,ve.onloadend=function(be){var de=btoa(be.target.result||"");ce({__local_forage_encoded_blob:!0,data:de,type:Z.type})},ve.readAsBinaryString(Z)})}function z(Z){var ce=E(atob(Z.data));return u([ce],{type:Z.type})}function ee(Z){return Z&&Z.__local_forage_encoded_blob}function ne(Z){var ce=this,re=ce._initReady().then(function(){var ve=_[ce._dbInfo.name];if(ve&&ve.dbReady)return ve.dbReady});return p(re,Z,Z),re}function W(Z){I(Z);for(var ce=_[Z.name],re=ce.forages,ve=0;ve<re.length;ve++){var be=re[ve];be._dbInfo.db&&(be._dbInfo.db.close(),be._dbInfo.db=null)}return Z.db=null,k(Z).then(function(de){return Z.db=de,B(Z)?L(Z):de}).then(function(de){Z.db=ce.db=de;for(var De=0;De<re.length;De++)re[De]._dbInfo.db=de}).catch(function(de){throw O(Z,de),de})}function D(Z,ce,re,ve){ve===void 0&&(ve=1);try{var be=Z.db.transaction(Z.storeName,ce);re(null,be)}catch(de){if(ve>0&&(!Z.db||de.name==="InvalidStateError"||de.name==="NotFoundError"))return f.resolve().then(function(){if(!Z.db||de.name==="NotFoundError"&&!Z.db.objectStoreNames.contains(Z.storeName)&&Z.version<=Z.db.version)return Z.db&&(Z.version=Z.db.version+1),L(Z)}).then(function(){return W(Z).then(function(){D(Z,ce,re,ve-1)})}).catch(re);re(de)}}function H(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function G(Z){var ce=this,re={db:null};if(Z)for(var ve in Z)re[ve]=Z[ve];var be=_[re.name];be||(be=H(),_[re.name]=be),be.forages.push(ce),ce._initReady||(ce._initReady=ce.ready,ce.ready=ne);var de=[];function De(){return f.resolve()}for(var ze=0;ze<be.forages.length;ze++){var Ke=be.forages[ze];Ke!==ce&&de.push(Ke._initReady().catch(De))}var Ze=be.forages.slice(0);return f.all(de).then(function(){return re.db=be.db,k(re)}).then(function(et){return re.db=et,B(re,ce._defaultConfig.version)?L(re):et}).then(function(et){re.db=be.db=et,ce._dbInfo=re;for(var gt=0;gt<Ze.length;gt++){var tr=Ze[gt];tr!==ce&&(tr._dbInfo.db=re.db,tr._dbInfo.version=re.version)}})}function V(Z,ce){var re=this;Z=d(Z);var ve=new f(function(be,de){re.ready().then(function(){D(re._dbInfo,b,function(De,ze){if(De)return de(De);try{var Ke=ze.objectStore(re._dbInfo.storeName),Ze=Ke.get(Z);Ze.onsuccess=function(){var et=Ze.result;et===void 0&&(et=null),ee(et)&&(et=z(et)),be(et)},Ze.onerror=function(){de(Ze.error)}}catch(et){de(et)}})}).catch(de)});return h(ve,ce),ve}function ie(Z,ce){var re=this,ve=new f(function(be,de){re.ready().then(function(){D(re._dbInfo,b,function(De,ze){if(De)return de(De);try{var Ke=ze.objectStore(re._dbInfo.storeName),Ze=Ke.openCursor(),et=1;Ze.onsuccess=function(){var gt=Ze.result;if(gt){var tr=gt.value;ee(tr)&&(tr=z(tr));var Cr=Z(tr,gt.key,et++);Cr!==void 0?be(Cr):gt.continue()}else be()},Ze.onerror=function(){de(Ze.error)}}catch(gt){de(gt)}})}).catch(de)});return h(ve,ce),ve}function se(Z,ce,re){var ve=this;Z=d(Z);var be=new f(function(de,De){var ze;ve.ready().then(function(){return ze=ve._dbInfo,x.call(ce)==="[object Blob]"?T(ze.db).then(function(Ke){return Ke?ce:U(ce)}):ce}).then(function(Ke){D(ve._dbInfo,w,function(Ze,et){if(Ze)return De(Ze);try{var gt=et.objectStore(ve._dbInfo.storeName);Ke===null&&(Ke=void 0);var tr=gt.put(Ke,Z);et.oncomplete=function(){Ke===void 0&&(Ke=null),de(Ke)},et.onabort=et.onerror=function(){var Cr=tr.error?tr.error:tr.transaction.error;De(Cr)}}catch(Cr){De(Cr)}})}).catch(De)});return h(be,re),be}function ge(Z,ce){var re=this;Z=d(Z);var ve=new f(function(be,de){re.ready().then(function(){D(re._dbInfo,w,function(De,ze){if(De)return de(De);try{var Ke=ze.objectStore(re._dbInfo.storeName),Ze=Ke.delete(Z);ze.oncomplete=function(){be()},ze.onerror=function(){de(Ze.error)},ze.onabort=function(){var et=Ze.error?Ze.error:Ze.transaction.error;de(et)}}catch(et){de(et)}})}).catch(de)});return h(ve,ce),ve}function ue(Z){var ce=this,re=new f(function(ve,be){ce.ready().then(function(){D(ce._dbInfo,w,function(de,De){if(de)return be(de);try{var ze=De.objectStore(ce._dbInfo.storeName),Ke=ze.clear();De.oncomplete=function(){ve()},De.onabort=De.onerror=function(){var Ze=Ke.error?Ke.error:Ke.transaction.error;be(Ze)}}catch(Ze){be(Ze)}})}).catch(be)});return h(re,Z),re}function we(Z){var ce=this,re=new f(function(ve,be){ce.ready().then(function(){D(ce._dbInfo,b,function(de,De){if(de)return be(de);try{var ze=De.objectStore(ce._dbInfo.storeName),Ke=ze.count();Ke.onsuccess=function(){ve(Ke.result)},Ke.onerror=function(){be(Ke.error)}}catch(Ze){be(Ze)}})}).catch(be)});return h(re,Z),re}function Be(Z,ce){var re=this,ve=new f(function(be,de){if(Z<0){be(null);return}re.ready().then(function(){D(re._dbInfo,b,function(De,ze){if(De)return de(De);try{var Ke=ze.objectStore(re._dbInfo.storeName),Ze=!1,et=Ke.openKeyCursor();et.onsuccess=function(){var gt=et.result;if(!gt){be(null);return}Z===0||Ze?be(gt.key):(Ze=!0,gt.advance(Z))},et.onerror=function(){de(et.error)}}catch(gt){de(gt)}})}).catch(de)});return h(ve,ce),ve}function Fe(Z){var ce=this,re=new f(function(ve,be){ce.ready().then(function(){D(ce._dbInfo,b,function(de,De){if(de)return be(de);try{var ze=De.objectStore(ce._dbInfo.storeName),Ke=ze.openKeyCursor(),Ze=[];Ke.onsuccess=function(){var et=Ke.result;if(!et){ve(Ze);return}Ze.push(et.key),et.continue()},Ke.onerror=function(){be(Ke.error)}}catch(et){be(et)}})}).catch(be)});return h(re,Z),re}function Ee(Z,ce){ce=v.apply(this,arguments);var re=this.config();Z=typeof Z!="function"&&Z||{},Z.name||(Z.name=Z.name||re.name,Z.storeName=Z.storeName||re.storeName);var ve=this,be;if(!Z.name)be=f.reject("Invalid arguments");else{var de=Z.name===re.name&&ve._dbInfo.db,De=de?f.resolve(ve._dbInfo.db):k(Z).then(function(ze){var Ke=_[Z.name],Ze=Ke.forages;Ke.db=ze;for(var et=0;et<Ze.length;et++)Ze[et]._dbInfo.db=ze;return ze});Z.storeName?be=De.then(function(ze){if(ze.objectStoreNames.contains(Z.storeName)){var Ke=ze.version+1;I(Z);var Ze=_[Z.name],et=Ze.forages;ze.close();for(var gt=0;gt<et.length;gt++){var tr=et[gt];tr._dbInfo.db=null,tr._dbInfo.version=Ke}var Cr=new f(function(Tr,ln){var $r=c.open(Z.name,Ke);$r.onerror=function(ia){var Sl=$r.result;Sl.close(),ln(ia)},$r.onupgradeneeded=function(){var ia=$r.result;ia.deleteObjectStore(Z.storeName)},$r.onsuccess=function(){var ia=$r.result;ia.close(),Tr(ia)}});return Cr.then(function(Tr){Ze.db=Tr;for(var ln=0;ln<et.length;ln++){var $r=et[ln];$r._dbInfo.db=Tr,R($r._dbInfo)}}).catch(function(Tr){throw(O(Z,Tr)||f.resolve()).catch(function(){}),Tr})}}):be=De.then(function(ze){I(Z);var Ke=_[Z.name],Ze=Ke.forages;ze.close();for(var et=0;et<Ze.length;et++){var gt=Ze[et];gt._dbInfo.db=null}var tr=new f(function(Cr,Tr){var ln=c.deleteDatabase(Z.name);ln.onerror=function(){var $r=ln.result;$r&&$r.close(),Tr(ln.error)},ln.onblocked=function(){console.warn('dropInstance blocked for database "'+Z.name+'" until all open connections are closed')},ln.onsuccess=function(){var $r=ln.result;$r&&$r.close(),Cr($r)}});return tr.then(function(Cr){Ke.db=Cr;for(var Tr=0;Tr<Ze.length;Tr++){var ln=Ze[Tr];R(ln._dbInfo)}}).catch(function(Cr){throw(O(Z,Cr)||f.resolve()).catch(function(){}),Cr})})}return h(be,ce),be}var Te={_driver:"asyncStorage",_initStorage:G,_support:l(),iterate:ie,getItem:V,setItem:se,removeItem:ge,clear:ue,length:we,key:Be,keys:Fe,dropInstance:Ee};function Ge(){return typeof openDatabase=="function"}var We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",Xe=/^~~local_forage_type~([^~]+)~/,qe="__lfsc__:",wt=qe.length,At="arbf",ct="blob",ft="si08",Et="ui08",Qt="uic8",Vt="si16",er="si32",$t="ur16",yt="ui32",Yt="fl32",Oe="fl64",j=wt+At.length,he=Object.prototype.toString;function Se(Z){var ce=Z.length*.75,re=Z.length,ve,be=0,de,De,ze,Ke;Z[Z.length-1]==="="&&(ce--,Z[Z.length-2]==="="&&ce--);var Ze=new ArrayBuffer(ce),et=new Uint8Array(Ze);for(ve=0;ve<re;ve+=4)de=We.indexOf(Z[ve]),De=We.indexOf(Z[ve+1]),ze=We.indexOf(Z[ve+2]),Ke=We.indexOf(Z[ve+3]),et[be++]=de<<2|De>>4,et[be++]=(De&15)<<4|ze>>2,et[be++]=(ze&3)<<6|Ke&63;return Ze}function ke(Z){var ce=new Uint8Array(Z),re="",ve;for(ve=0;ve<ce.length;ve+=3)re+=We[ce[ve]>>2],re+=We[(ce[ve]&3)<<4|ce[ve+1]>>4],re+=We[(ce[ve+1]&15)<<2|ce[ve+2]>>6],re+=We[ce[ve+2]&63];return ce.length%3===2?re=re.substring(0,re.length-1)+"=":ce.length%3===1&&(re=re.substring(0,re.length-2)+"=="),re}function ae(Z,ce){var re="";if(Z&&(re=he.call(Z)),Z&&(re==="[object ArrayBuffer]"||Z.buffer&&he.call(Z.buffer)==="[object ArrayBuffer]")){var ve,be=qe;Z instanceof ArrayBuffer?(ve=Z,be+=At):(ve=Z.buffer,re==="[object Int8Array]"?be+=ft:re==="[object Uint8Array]"?be+=Et:re==="[object Uint8ClampedArray]"?be+=Qt:re==="[object Int16Array]"?be+=Vt:re==="[object Uint16Array]"?be+=$t:re==="[object Int32Array]"?be+=er:re==="[object Uint32Array]"?be+=yt:re==="[object Float32Array]"?be+=Yt:re==="[object Float64Array]"?be+=Oe:ce(new Error("Failed to get type for BinaryArray"))),ce(be+ke(ve))}else if(re==="[object Blob]"){var de=new FileReader;de.onload=function(){var De=Ve+Z.type+"~"+ke(this.result);ce(qe+ct+De)},de.readAsArrayBuffer(Z)}else try{ce(JSON.stringify(Z))}catch(De){console.error("Couldn't convert value into a JSON string: ",Z),ce(null,De)}}function Ie(Z){if(Z.substring(0,wt)!==qe)return JSON.parse(Z);var ce=Z.substring(j),re=Z.substring(wt,j),ve;if(re===ct&&Xe.test(ce)){var be=ce.match(Xe);ve=be[1],ce=ce.substring(be[0].length)}var de=Se(ce);switch(re){case At:return de;case ct:return u([de],{type:ve});case ft:return new Int8Array(de);case Et:return new Uint8Array(de);case Qt:return new Uint8ClampedArray(de);case Vt:return new Int16Array(de);case $t:return new Uint16Array(de);case er:return new Int32Array(de);case yt:return new Uint32Array(de);case Yt:return new Float32Array(de);case Oe:return new Float64Array(de);default:throw new Error("Unkown type: "+re)}}var X={serialize:ae,deserialize:Ie,stringToBuffer:Se,bufferToString:ke};function Ue(Z,ce,re,ve){Z.executeSql("CREATE TABLE IF NOT EXISTS "+ce.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],re,ve)}function dt(Z){var ce=this,re={db:null};if(Z)for(var ve in Z)re[ve]=typeof Z[ve]!="string"?Z[ve].toString():Z[ve];var be=new f(function(de,De){try{re.db=openDatabase(re.name,String(re.version),re.description,re.size)}catch(ze){return De(ze)}re.db.transaction(function(ze){Ue(ze,re,function(){ce._dbInfo=re,de()},function(Ke,Ze){De(Ze)})},De)});return re.serializer=X,be}function F(Z,ce,re,ve,be,de){Z.executeSql(re,ve,be,function(De,ze){ze.code===ze.SYNTAX_ERR?De.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ce.storeName],function(Ke,Ze){Ze.rows.length?de(Ke,ze):Ue(Ke,ce,function(){Ke.executeSql(re,ve,be,de)},de)},de):de(De,ze)},de)}function Re(Z,ce){var re=this;Z=d(Z);var ve=new f(function(be,de){re.ready().then(function(){var De=re._dbInfo;De.db.transaction(function(ze){F(ze,De,"SELECT * FROM "+De.storeName+" WHERE key = ? LIMIT 1",[Z],function(Ke,Ze){var et=Ze.rows.length?Ze.rows.item(0).value:null;et&&(et=De.serializer.deserialize(et)),be(et)},function(Ke,Ze){de(Ze)})})}).catch(de)});return h(ve,ce),ve}function Pe(Z,ce){var re=this,ve=new f(function(be,de){re.ready().then(function(){var De=re._dbInfo;De.db.transaction(function(ze){F(ze,De,"SELECT * FROM "+De.storeName,[],function(Ke,Ze){for(var et=Ze.rows,gt=et.length,tr=0;tr<gt;tr++){var Cr=et.item(tr),Tr=Cr.value;if(Tr&&(Tr=De.serializer.deserialize(Tr)),Tr=Z(Tr,Cr.key,tr+1),Tr!==void 0){be(Tr);return}}be()},function(Ke,Ze){de(Ze)})})}).catch(de)});return h(ve,ce),ve}function Y(Z,ce,re,ve){var be=this;Z=d(Z);var de=new f(function(De,ze){be.ready().then(function(){ce===void 0&&(ce=null);var Ke=ce,Ze=be._dbInfo;Ze.serializer.serialize(ce,function(et,gt){gt?ze(gt):Ze.db.transaction(function(tr){F(tr,Ze,"INSERT OR REPLACE INTO "+Ze.storeName+" (key, value) VALUES (?, ?)",[Z,et],function(){De(Ke)},function(Cr,Tr){ze(Tr)})},function(tr){if(tr.code===tr.QUOTA_ERR){if(ve>0){De(Y.apply(be,[Z,Ke,re,ve-1]));return}ze(tr)}})})}).catch(ze)});return h(de,re),de}function le(Z,ce,re){return Y.apply(this,[Z,ce,re,1])}function Ce(Z,ce){var re=this;Z=d(Z);var ve=new f(function(be,de){re.ready().then(function(){var De=re._dbInfo;De.db.transaction(function(ze){F(ze,De,"DELETE FROM "+De.storeName+" WHERE key = ?",[Z],function(){be()},function(Ke,Ze){de(Ze)})})}).catch(de)});return h(ve,ce),ve}function ht(Z){var ce=this,re=new f(function(ve,be){ce.ready().then(function(){var de=ce._dbInfo;de.db.transaction(function(De){F(De,de,"DELETE FROM "+de.storeName,[],function(){ve()},function(ze,Ke){be(Ke)})})}).catch(be)});return h(re,Z),re}function Je(Z){var ce=this,re=new f(function(ve,be){ce.ready().then(function(){var de=ce._dbInfo;de.db.transaction(function(De){F(De,de,"SELECT COUNT(key) as c FROM "+de.storeName,[],function(ze,Ke){var Ze=Ke.rows.item(0).c;ve(Ze)},function(ze,Ke){be(Ke)})})}).catch(be)});return h(re,Z),re}function at(Z,ce){var re=this,ve=new f(function(be,de){re.ready().then(function(){var De=re._dbInfo;De.db.transaction(function(ze){F(ze,De,"SELECT key FROM "+De.storeName+" WHERE id = ? LIMIT 1",[Z+1],function(Ke,Ze){var et=Ze.rows.length?Ze.rows.item(0).key:null;be(et)},function(Ke,Ze){de(Ze)})})}).catch(de)});return h(ve,ce),ve}function Ot(Z){var ce=this,re=new f(function(ve,be){ce.ready().then(function(){var de=ce._dbInfo;de.db.transaction(function(De){F(De,de,"SELECT key FROM "+de.storeName,[],function(ze,Ke){for(var Ze=[],et=0;et<Ke.rows.length;et++)Ze.push(Ke.rows.item(et).key);ve(Ze)},function(ze,Ke){be(Ke)})})}).catch(be)});return h(re,Z),re}function Nn(Z){return new f(function(ce,re){Z.transaction(function(ve){ve.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(be,de){for(var De=[],ze=0;ze<de.rows.length;ze++)De.push(de.rows.item(ze).name);ce({db:Z,storeNames:De})},function(be,de){re(de)})},function(ve){re(ve)})})}function ir(Z,ce){ce=v.apply(this,arguments);var re=this.config();Z=typeof Z!="function"&&Z||{},Z.name||(Z.name=Z.name||re.name,Z.storeName=Z.storeName||re.storeName);var ve=this,be;return Z.name?be=new f(function(de){var De;Z.name===re.name?De=ve._dbInfo.db:De=openDatabase(Z.name,"","",0),Z.storeName?de({db:De,storeNames:[Z.storeName]}):de(Nn(De))}).then(function(de){return new f(function(De,ze){de.db.transaction(function(Ke){function Ze(Cr){return new f(function(Tr,ln){Ke.executeSql("DROP TABLE IF EXISTS "+Cr,[],function(){Tr()},function($r,ia){ln(ia)})})}for(var et=[],gt=0,tr=de.storeNames.length;gt<tr;gt++)et.push(Ze(de.storeNames[gt]));f.all(et).then(function(){De()}).catch(function(Cr){ze(Cr)})},function(Ke){ze(Ke)})})}):be=f.reject("Invalid arguments"),h(be,ce),be}var St={_driver:"webSQLStorage",_initStorage:dt,_support:Ge(),iterate:Pe,getItem:Re,setItem:le,removeItem:Ce,clear:ht,length:Je,key:at,keys:Ot,dropInstance:ir};function Sr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function on(Z,ce){var re=Z.name+"/";return Z.storeName!==ce.storeName&&(re+=Z.storeName+"/"),re}function zn(){var Z="_localforage_support_test";try{return localStorage.setItem(Z,!0),localStorage.removeItem(Z),!1}catch{return!0}}function bl(){return!zn()||localStorage.length>0}function wl(Z){var ce=this,re={};if(Z)for(var ve in Z)re[ve]=Z[ve];return re.keyPrefix=on(Z,ce._defaultConfig),bl()?(ce._dbInfo=re,re.serializer=X,f.resolve()):f.reject()}function sn(Z){var ce=this,re=ce.ready().then(function(){for(var ve=ce._dbInfo.keyPrefix,be=localStorage.length-1;be>=0;be--){var de=localStorage.key(be);de.indexOf(ve)===0&&localStorage.removeItem(de)}});return h(re,Z),re}function Gi(Z,ce){var re=this;Z=d(Z);var ve=re.ready().then(function(){var be=re._dbInfo,de=localStorage.getItem(be.keyPrefix+Z);return de&&(de=be.serializer.deserialize(de)),de});return h(ve,ce),ve}function Ln(Z,ce){var re=this,ve=re.ready().then(function(){for(var be=re._dbInfo,de=be.keyPrefix,De=de.length,ze=localStorage.length,Ke=1,Ze=0;Ze<ze;Ze++){var et=localStorage.key(Ze);if(et.indexOf(de)===0){var gt=localStorage.getItem(et);if(gt&&(gt=be.serializer.deserialize(gt)),gt=Z(gt,et.substring(De),Ke++),gt!==void 0)return gt}}});return h(ve,ce),ve}function ka(Z,ce){var re=this,ve=re.ready().then(function(){var be=re._dbInfo,de;try{de=localStorage.key(Z)}catch{de=null}return de&&(de=de.substring(be.keyPrefix.length)),de});return h(ve,ce),ve}function na(Z){var ce=this,re=ce.ready().then(function(){for(var ve=ce._dbInfo,be=localStorage.length,de=[],De=0;De<be;De++){var ze=localStorage.key(De);ze.indexOf(ve.keyPrefix)===0&&de.push(ze.substring(ve.keyPrefix.length))}return de});return h(re,Z),re}function xf(Z){var ce=this,re=ce.keys().then(function(ve){return ve.length});return h(re,Z),re}function Tb(Z,ce){var re=this;Z=d(Z);var ve=re.ready().then(function(){var be=re._dbInfo;localStorage.removeItem(be.keyPrefix+Z)});return h(ve,ce),ve}function Ab(Z,ce,re){var ve=this;Z=d(Z);var be=ve.ready().then(function(){ce===void 0&&(ce=null);var de=ce;return new f(function(De,ze){var Ke=ve._dbInfo;Ke.serializer.serialize(ce,function(Ze,et){if(et)ze(et);else try{localStorage.setItem(Ke.keyPrefix+Z,Ze),De(de)}catch(gt){(gt.name==="QuotaExceededError"||gt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ze(gt),ze(gt)}})})});return h(be,re),be}function Ib(Z,ce){if(ce=v.apply(this,arguments),Z=typeof Z!="function"&&Z||{},!Z.name){var re=this.config();Z.name=Z.name||re.name,Z.storeName=Z.storeName||re.storeName}var ve=this,be;return Z.name?be=new f(function(de){Z.storeName?de(on(Z,ve._defaultConfig)):de(Z.name+"/")}).then(function(de){for(var De=localStorage.length-1;De>=0;De--){var ze=localStorage.key(De);ze.indexOf(de)===0&&localStorage.removeItem(ze)}}):be=f.reject("Invalid arguments"),h(be,ce),be}var Rb={_driver:"localStorageWrapper",_initStorage:wl,_support:Sr(),iterate:Ln,getItem:Gi,setItem:Ab,removeItem:Tb,clear:sn,length:xf,key:ka,keys:na,dropInstance:Ib},Pb=function(ce,re){return ce===re||typeof ce=="number"&&typeof re=="number"&&isNaN(ce)&&isNaN(re)},bf=function(ce,re){for(var ve=ce.length,be=0;be<ve;){if(Pb(ce[be],re))return!0;be++}return!1},mg=Array.isArray||function(Z){return Object.prototype.toString.call(Z)==="[object Array]"},is={},_g={},El={INDEXEDDB:Te,WEBSQL:St,LOCALSTORAGE:Rb},Ob=[El.INDEXEDDB._driver,El.WEBSQL._driver,El.LOCALSTORAGE._driver],Gu=["dropInstance"],wf=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Gu),yg={description:"",driver:Ob.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function kb(Z,ce){Z[ce]=function(){var re=arguments;return Z.ready().then(function(){return Z[ce].apply(Z,re)})}}function Qd(){for(var Z=1;Z<arguments.length;Z++){var ce=arguments[Z];if(ce)for(var re in ce)ce.hasOwnProperty(re)&&(mg(ce[re])?arguments[0][re]=ce[re].slice():arguments[0][re]=ce[re])}return arguments[0]}var Fb=function(){function Z(ce){o(this,Z);for(var re in El)if(El.hasOwnProperty(re)){var ve=El[re],be=ve._driver;this[re]=be,is[be]||this.defineDriver(ve)}this._defaultConfig=Qd({},yg),this._config=Qd({},this._defaultConfig,ce),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Z.prototype.config=function(re){if((typeof re>"u"?"undefined":a(re))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ve in re){if(ve==="storeName"&&(re[ve]=re[ve].replace(/\W/g,"_")),ve==="version"&&typeof re[ve]!="number")return new Error("Database version must be a number.");this._config[ve]=re[ve]}return"driver"in re&&re.driver?this.setDriver(this._config.driver):!0}else return typeof re=="string"?this._config[re]:this._config},Z.prototype.defineDriver=function(re,ve,be){var de=new f(function(De,ze){try{var Ke=re._driver,Ze=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!re._driver){ze(Ze);return}for(var et=wf.concat("_initStorage"),gt=0,tr=et.length;gt<tr;gt++){var Cr=et[gt],Tr=!bf(Gu,Cr);if((Tr||re[Cr])&&typeof re[Cr]!="function"){ze(Ze);return}}var ln=function(){for(var Sl=function(bg){return function(){var Mb=new Error("Method "+bg+" is not implemented by the current driver"),wg=f.reject(Mb);return h(wg,arguments[arguments.length-1]),wg}},e0=0,xg=Gu.length;e0<xg;e0++){var Ef=Gu[e0];re[Ef]||(re[Ef]=Sl(Ef))}};ln();var $r=function(Sl){is[Ke]&&console.info("Redefining LocalForage driver: "+Ke),is[Ke]=re,_g[Ke]=Sl,De()};"_support"in re?re._support&&typeof re._support=="function"?re._support().then($r,ze):$r(!!re._support):$r(!0)}catch(ia){ze(ia)}});return p(de,ve,be),de},Z.prototype.driver=function(){return this._driver||null},Z.prototype.getDriver=function(re,ve,be){var de=is[re]?f.resolve(is[re]):f.reject(new Error("Driver not found."));return p(de,ve,be),de},Z.prototype.getSerializer=function(re){var ve=f.resolve(X);return p(ve,re),ve},Z.prototype.ready=function(re){var ve=this,be=ve._driverSet.then(function(){return ve._ready===null&&(ve._ready=ve._initDriver()),ve._ready});return p(be,re,re),be},Z.prototype.setDriver=function(re,ve,be){var de=this;mg(re)||(re=[re]);var De=this._getSupportedDrivers(re);function ze(){de._config.driver=de.driver()}function Ke(gt){return de._extend(gt),ze(),de._ready=de._initStorage(de._config),de._ready}function Ze(gt){return function(){var tr=0;function Cr(){for(;tr<gt.length;){var Tr=gt[tr];return tr++,de._dbInfo=null,de._ready=null,de.getDriver(Tr).then(Ke).catch(Cr)}ze();var ln=new Error("No available storage method found.");return de._driverSet=f.reject(ln),de._driverSet}return Cr()}}var et=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=et.then(function(){var gt=De[0];return de._dbInfo=null,de._ready=null,de.getDriver(gt).then(function(tr){de._driver=tr._driver,ze(),de._wrapLibraryMethodsWithReady(),de._initDriver=Ze(De)})}).catch(function(){ze();var gt=new Error("No available storage method found.");return de._driverSet=f.reject(gt),de._driverSet}),p(this._driverSet,ve,be),this._driverSet},Z.prototype.supports=function(re){return!!_g[re]},Z.prototype._extend=function(re){Qd(this,re)},Z.prototype._getSupportedDrivers=function(re){for(var ve=[],be=0,de=re.length;be<de;be++){var De=re[be];this.supports(De)&&ve.push(De)}return ve},Z.prototype._wrapLibraryMethodsWithReady=function(){for(var re=0,ve=wf.length;re<ve;re++)kb(this,wf[re])},Z.prototype.createInstance=function(re){return new Z(re)},Z}(),Nb=new Fb;n.exports=Nb},{3:3}]},{},[4])(4)})})(eG);var Kc=eG.exports;const Ls=$i(Kc);var OP={exports:{}},tG=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},Hhe=tG,pf=Object.prototype.toString;function kP(t){return pf.call(t)==="[object Array]"}function wT(t){return typeof t>"u"}function Xhe(t){return t!==null&&!wT(t)&&t.constructor!==null&&!wT(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function zhe(t){return pf.call(t)==="[object ArrayBuffer]"}function Whe(t){return typeof FormData<"u"&&t instanceof FormData}function Yhe(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function qhe(t){return typeof t=="string"}function Khe(t){return typeof t=="number"}function rG(t){return t!==null&&typeof t=="object"}function A_(t){if(pf.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Zhe(t){return pf.call(t)==="[object Date]"}function Jhe(t){return pf.call(t)==="[object File]"}function Qhe(t){return pf.call(t)==="[object Blob]"}function nG(t){return pf.call(t)==="[object Function]"}function ede(t){return rG(t)&&nG(t.pipe)}function tde(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function rde(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function nde(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function FP(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),kP(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function ET(){var t={};function e(i,a){A_(t[a])&&A_(i)?t[a]=ET(t[a],i):A_(i)?t[a]=ET({},i):kP(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)FP(arguments[r],e);return t}function ide(t,e,r){return FP(e,function(i,a){r&&typeof i=="function"?t[a]=Hhe(i,r):t[a]=i}),t}function ade(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var qa={isArray:kP,isArrayBuffer:zhe,isBuffer:Xhe,isFormData:Whe,isArrayBufferView:Yhe,isString:qhe,isNumber:Khe,isObject:rG,isPlainObject:A_,isUndefined:wT,isDate:Zhe,isFile:Jhe,isBlob:Qhe,isFunction:nG,isStream:ede,isURLSearchParams:tde,isStandardBrowserEnv:nde,forEach:FP,merge:ET,extend:ide,trim:rde,stripBOM:ade},Uf=qa;function vM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var iG=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Uf.isURLSearchParams(r))i=r.toString();else{var a=[];Uf.forEach(r,function(c,l){c===null||typeof c>"u"||(Uf.isArray(c)?l=l+"[]":c=[c],Uf.forEach(c,function(f){Uf.isDate(f)?f=f.toISOString():Uf.isObject(f)&&(f=JSON.stringify(f)),a.push(vM(l)+"="+vM(f))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},ode=qa;function Hx(){this.handlers=[]}Hx.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Hx.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Hx.prototype.forEach=function(e){ode.forEach(this.handlers,function(n){n!==null&&e(n)})};var sde=Hx,lde=qa,ude=function(e,r){lde.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},aG=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},bE,gM;function oG(){if(gM)return bE;gM=1;var t=aG;return bE=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},bE}var wE,mM;function cde(){if(mM)return wE;mM=1;var t=oG();return wE=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},wE}var EE,_M;function fde(){if(_M)return EE;_M=1;var t=qa;return EE=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),EE}var SE,yM;function hde(){return yM||(yM=1,SE=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),SE}var CE,xM;function dde(){return xM||(xM=1,CE=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),CE}var TE,bM;function pde(){if(bM)return TE;bM=1;var t=hde(),e=dde();return TE=function(n,i){return n&&!t(i)?e(n,i):i},TE}var AE,wM;function vde(){if(wM)return AE;wM=1;var t=qa,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return AE=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},AE}var IE,EM;function gde(){if(EM)return IE;EM=1;var t=qa;return IE=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),IE}var RE,SM;function Xx(){if(SM)return RE;SM=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,RE=t,RE}var PE,CM;function TM(){if(CM)return PE;CM=1;var t=qa,e=cde(),r=fde(),n=iG,i=pde(),a=vde(),o=gde(),s=oG(),c=zx(),l=Xx();return PE=function(f){return new Promise(function(p,d){var v=f.data,m=f.headers,g=f.responseType,_;function x(){f.cancelToken&&f.cancelToken.unsubscribe(_),f.signal&&f.signal.removeEventListener("abort",_)}t.isFormData(v)&&delete m["Content-Type"];var b=new XMLHttpRequest;if(f.auth){var w=f.auth.username||"",E=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+E)}var C=i(f.baseURL,f.url);b.open(f.method.toUpperCase(),n(C,f.params,f.paramsSerializer),!0),b.timeout=f.timeout;function T(){if(b){var R="getAllResponseHeaders"in b?a(b.getAllResponseHeaders()):null,O=!g||g==="text"||g==="json"?b.responseText:b.response,P={data:O,status:b.status,statusText:b.statusText,headers:R,config:f,request:b};e(function(L){p(L),x()},function(L){d(L),x()},P),b=null}}if("onloadend"in b?b.onloadend=T:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(T)},b.onabort=function(){b&&(d(s("Request aborted",f,"ECONNABORTED",b)),b=null)},b.onerror=function(){d(s("Network Error",f,null,b)),b=null},b.ontimeout=function(){var O=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",P=f.transitional||c.transitional;f.timeoutErrorMessage&&(O=f.timeoutErrorMessage),d(s(O,f,P.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},t.isStandardBrowserEnv()){var I=(f.withCredentials||o(C))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;I&&(m[f.xsrfHeaderName]=I)}"setRequestHeader"in b&&t.forEach(m,function(O,P){typeof v>"u"&&P.toLowerCase()==="content-type"?delete m[P]:b.setRequestHeader(P,O)}),t.isUndefined(f.withCredentials)||(b.withCredentials=!!f.withCredentials),g&&g!=="json"&&(b.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&b.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(_=function(R){b&&(d(!R||R&&R.type?new l("canceled"):R),b.abort(),b=null)},f.cancelToken&&f.cancelToken.subscribe(_),f.signal&&(f.signal.aborted?_():f.signal.addEventListener("abort",_))),v||(v=null),b.send(v)})},PE}var OE,AM;function zx(){if(AM)return OE;AM=1;var t=qa,e=ude,r=aG,n={"Content-Type":"application/x-www-form-urlencoded"};function i(c,l){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=l)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=TM()),c}function o(c,l,u){if(t.isString(c))try{return(l||JSON.parse)(c),t.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(u||JSON.stringify)(c)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),o(l)):l}],transformResponse:[function(l){var u=this.transitional||s.transitional,f=u&&u.silentJSONParsing,h=u&&u.forcedJSONParsing,p=!f&&this.responseType==="json";if(p||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(d){if(p)throw d.name==="SyntaxError"?r(d,this,"E_JSON_PARSE"):d}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),OE=s,OE}var mde=qa,_de=zx(),yde=function(e,r,n){var i=this||_de;return mde.forEach(n,function(o){e=o.call(i,e,r)}),e},kE,IM;function sG(){return IM||(IM=1,kE=function(e){return!!(e&&e.__CANCEL__)}),kE}var RM=qa,FE=yde,xde=sG(),bde=zx(),wde=Xx();function NE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wde("canceled")}var Ede=function(e){NE(e),e.headers=e.headers||{},e.data=FE.call(e,e.data,e.headers,e.transformRequest),e.headers=RM.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),RM.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||bde.adapter;return r(e).then(function(i){return NE(e),i.data=FE.call(e,i.data,i.headers,e.transformResponse),i},function(i){return xde(i)||(NE(e),i&&i.response&&(i.response.data=FE.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Ua=qa,lG=function(e,r){r=r||{};var n={};function i(u,f){return Ua.isPlainObject(u)&&Ua.isPlainObject(f)?Ua.merge(u,f):Ua.isPlainObject(f)?Ua.merge({},f):Ua.isArray(f)?f.slice():f}function a(u){if(Ua.isUndefined(r[u])){if(!Ua.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Ua.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Ua.isUndefined(r[u])){if(!Ua.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Ua.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,p=h(f);Ua.isUndefined(p)&&h!==c||(n[f]=p)}),n},LE,PM;function uG(){return PM||(PM=1,LE={version:"0.24.0"}),LE}var Sde=uG().version,NP={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){NP[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var OM={};NP.transitional=function(e,r,n){function i(a,o){return"[Axios v"+Sde+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!OM[o]&&(OM[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Cde(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new TypeError("option "+a+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+a)}}var Tde={assertOptions:Cde,validators:NP},cG=qa,Ade=iG,kM=sde,FM=Ede,Wx=lG,fG=Tde,jf=fG.validators;function Yv(t){this.defaults=t,this.interceptors={request:new kM,response:new kM}}Yv.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Wx(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&fG.assertOptions(r,{silentJSONParsing:jf.transitional(jf.boolean),forcedJSONParsing:jf.transitional(jf.boolean),clarifyTimeoutError:jf.transitional(jf.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[FM,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=e;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{o=FM(c)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};Yv.prototype.getUri=function(e){return e=Wx(this.defaults,e),Ade(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};cG.forEach(["delete","get","head","options"],function(e){Yv.prototype[e]=function(r,n){return this.request(Wx(n||{},{method:e,url:r,data:(n||{}).data}))}});cG.forEach(["post","put","patch"],function(e){Yv.prototype[e]=function(r,n,i){return this.request(Wx(i||{},{method:e,url:r,data:n}))}});var Ide=Yv,ME,NM;function Rde(){if(NM)return ME;NM=1;var t=Xx();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},ME=e,ME}var BE,LM;function Pde(){return LM||(LM=1,BE=function(e){return function(n){return e.apply(null,n)}}),BE}var DE,MM;function Ode(){return MM||(MM=1,DE=function(e){return typeof e=="object"&&e.isAxiosError===!0}),DE}var BM=qa,kde=tG,I_=Ide,Fde=lG,Nde=zx();function hG(t){var e=new I_(t),r=kde(I_.prototype.request,e);return BM.extend(r,I_.prototype,e),BM.extend(r,e),r.create=function(i){return hG(Fde(t,i))},r}var Ms=hG(Nde);Ms.Axios=I_;Ms.Cancel=Xx();Ms.CancelToken=Rde();Ms.isCancel=sG();Ms.VERSION=uG().version;Ms.all=function(e){return Promise.all(e)};Ms.spread=Pde();Ms.isAxiosError=Ode();OP.exports=Ms;OP.exports.default=Ms;var Lde=OP.exports,Mde=Lde;const Bde=Mde;class Dde{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&Bde.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var Ude=Dde;const jde=$i(Ude),it=new jde,$de={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"},r18:{title:"Welcome!",desction:"Please verify that you are 18 years of age or older to enter this site.",agree:"Agree",disagree:"Disagree"}},Gde={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:"MAIN "},vocalVolume:{title:"VOICE "},bgmVolume:{title:"BGM "},seVolume:{title:"SE "},uiSeVolume:{title:"UI "}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},Vde={common:{yes:"",no:"",cancel:"",confirm:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},extra:{title:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},quit:{title:"",subtitle:"QUIT"},storyLine:{title:"",subtitle:"STORYLINE"},achievement:{title:"",subtitle:"ACHIEVEMENT"},beautyGuide:{title:"",subtitle:"BEAUTYGUIDE"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:"",quitTips:`
`,backToGame:"",preserve:"",read:"",setting:"",backToTitle:"",collection:"",collected:"",continue:"",backToLevel:"",backToHome:""}},extra:{title:""},r18:{title:"",desction:" 18 ",agree:"",disagree:""}},Hde={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre"}},extra:{title:"EXTRA"}},Xde={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},zde={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var Pd=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(Pd||{});const DM={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},Wde={en:{translation:$de},zhCn:{translation:Vde},jp:{translation:Gde},fr:{translation:Hde},de:{translation:Xde},zhTw:{translation:zde}},Yde=0;var dG=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(dG||{}),fu=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(fu||{}),Bc=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(Bc||{}),LP=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(LP||{}),Ss=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(Ss||{}),pG=(t=>(t.Size1080P="1920x1080",t.Size720P="1280x720",t))(pG||{});const vG={slPage:1,volumeMain:100,textSpeed:50,autoSpeed:dG.normal,textSize:fu.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:Bc.song,textboxOpacity:75,language:Pd.zhCn,voiceInterruption:LP.yes,fullScreen:Ss.off,uiLight:100,videoSize:pG.Size720P},ST={optionData:vG,globalGameVar:{},appreciationData:{bgm:[],cg:[]},token:""},gG=Xv({name:"userData",initialState:vn(ST),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.globalGameVar[e.payload.key]=e.payload.value},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,vG)},resetAllData(t){Object.assign(t,vn(ST))},setToken(t,e){t.token=e.payload}}}),{setUserData:CVe,resetUserData:MP,setOptionData:Lo,setGlobalVar:qde,setSlPage:Fy,unlockCgInUserData:mG,unlockBgmInUserData:_G,resetOptionSet:TVe,resetAllData:AVe,setToken:Kde}=gG.actions,Zde=gG.reducer,yG={backlog_size:200,fast_timeout:50},Jde={textInitialDelay:80};class Qde{constructor(e){lt(this,"isSaveBacklogNext",!1);lt(this,"backlog",[]);lt(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=pe.getState().stage,r=vn(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:vn(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>yG.backlog_size;)this.getBacklog().shift()}}var Ar=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t))(Ar||{});const Ir=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;case 7:r=`./game/ui/${t}`;break;default:r="";break}return r}},e0e=(t,e)=>{(!J.sceneManager.sceneAssetsList[e]||!Object.values(J.sceneManager.sceneAssetsList[e]).length)&&(J.sceneManager.sceneAssetsList[e]=t.reduce((r,n)=>(r[n.url]="",r),{}));for(const r of t){const n=J.sceneManager.sceneAssetsList[e];n[r.url]==="success"||n[r.url]==="loading"?(P0(e),it.warn("")):(console.log("",r.url),r.url.endsWith(".mp4")||r.url.endsWith(".flv")?(n[r.url]="success",P0(e),J.videoManager.preloadVideo(r.url)):(n[r.url]="loading",t0e(r.url,3,1e3,()=>{n[r.url]="success",P0(e)},()=>{n[r.url]="error",P0(e);const i=J.sceneManager.settledAssets.findIndex(a=>a===r.url);i>-1&&J.sceneManager.settledAssets.splice(i,1)}),J.sceneManager.settledAssets.push(r.url)))}t.length===0&&P0(e)},P0=t=>{const e=J.sceneManager.sceneAssetsList[t],r=Object.values(e).every(n=>n==="error"||n==="success");J.sceneManager.sceneAssetsLoadedList[t]=Object.values(e).every(n=>n==="success"),r&&window.pubsub.publish("sceneAssetsLoaded",{sceneName:t})},t0e=(t,e,r,n,i)=>{const a=(o,s)=>{const c=()=>{n()},l=()=>{o>0?(console.log(`${t}${o}${s}ms`),setTimeout(()=>{a(o-1,s*2)},s)):i()};if(document.createElement("link"),window.isSafari)fetch(t).then(u=>{if(!u.ok)throw new Error("Error!");const f=t.split(".").pop()||"",h=["jpg","jpeg","png","gif","bmp","svg","webp"],p=["mp4","webm","ogg","flv"],d=["wav","mp3","ogg"];return h.includes(f)?u.blob():d.includes(f)||p.includes(f)?u.arrayBuffer():u.blob()}).then(c).catch(l);else{const u=document.createElement("link");u.setAttribute("rel","prefetch"),u.setAttribute("href",t);const f=document.getElementsByTagName("head");u.onload=c,u.onerror=l,f.length&&f[0].appendChild(u)}};a(e,r)};var ut;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera"})(ut||(ut={}));ut.intro,ut.changeBg,ut.changeFigure,ut.miniAvatar,ut.changeScene,ut.choose,ut.end,ut.bgm,ut.video,ut.setComplexAnimation,ut.setFilter,ut.pixiInit,ut.pixi,ut.label,ut.jumpLabel,ut.setVar,ut.callScene,ut.showVars,ut.unlockCg,ut.unlockBgm,ut.say,ut.filmMode,ut.callScene,ut.setTextbox,ut.setAnimation,ut.playEffect,ut.applyStyle,ut.unlockAchieve,ut.unlockStoryline,ut.showValue,ut.payProduct,ut.finishTrial,ut.moveCamera;ut.bgm,ut.pixi,ut.pixiInit,ut.label,ut.if,ut.miniAvatar,ut.setVar,ut.unlockBgm,ut.unlockCg,ut.filmMode,ut.playEffect,ut.showValue;var Yn;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video"})(Yn||(Yn={}));function xG(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),c=a.slice(o+1);o<0&&(s=a,c=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,Yn.vocal)}):c===void 0?r.push({key:s,value:!0}):c==="true"||c==="false"?r.push({key:s,value:c==="true"}):isNaN(Number(c))?r.push({key:s,value:c}):r.push({key:s,value:Number(c)})}),r}function r0e(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/:/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of xG(o,(c,l)=>c))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function n0e(t){return t.replaceAll("\r","").split(`
`).map(r=>r0e(r)).filter(r=>r.command!=="")}const UM=(t,e,r)=>{let n={type:ut.say,additionalArgs:[]};const i=i0e(t,e,r);return n.type=i,i===ut.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=a0e(n,i,e),n};function i0e(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??ut.say}function a0e(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const o0e=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case ut.playEffect:return r(t,Yn.vocal);case ut.changeBg:return r(t,Yn.background);case ut.changeFigure:return r(t,Yn.figure);case ut.bgm:return r(t,Yn.bgm);case ut.callScene:return r(t,Yn.scene);case ut.changeScene:return r(t,Yn.scene);case ut.miniAvatar:return r(t,Yn.figure);case ut.video:return r(t,Yn.video);case ut.choose:return s0e(t,r);case ut.unlockBgm:return r(t,Yn.bgm);case ut.unlockCg:return r(t,Yn.background);default:return t}};function s0e(t,e){const r=t.split("|"),n=[],i=[];for(const s of r)n.push(s.split(":")[0]??""),i.push(s.split(":")[1]??"");const a=i.map(s=>s.match(/\./)?e(s,Yn.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const l0e=(t,e,r)=>{const n=[];return t===ut.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Yn.vocal})}),e==="none"||e===""||(t===ut.changeBg&&n.push({name:e,url:e,lineNumber:0,type:Yn.background}),t===ut.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:Yn.figure}),t===ut.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:Yn.figure}),t===ut.video&&n.push({name:e,url:e,lineNumber:0,type:Yn.video}),t===ut.bgm&&n.push({name:e,url:e,lineNumber:0,type:Yn.bgm})),n},u0e=(t,e)=>{const r=[];return(t===ut.changeScene||t===ut.callScene)&&r.push(e),(t===ut.choose||t===ut.video)&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},c0e=(t,e,r,n)=>{let i,a,o;const s=[];let c,l,u,f=t.split(";")[0];if(f==="")return{command:ut.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(f);if(h===null){u=f,l=UM(u,r,n),i=l.type;for(const d of l.additionalArgs)i===ut.say&&d.key==="speaker"||s.push(d)}else{u=f.substring(0,h.index),f=f.substring(h.index+1,f.length),l=UM(u,r,n),i=l.type;for(const d of l.additionalArgs)s.push(d)}const p=/ -/.exec(f);if(p){const d=f.substring(p.index,t.length);f=f.substring(0,p.index);for(const v of xG(d,e))s.push(v)}return a=o0e(f,i,e),c=l0e(i,a,s),o=u0e(i,a),{command:i,commandRaw:u,content:a,args:s,sentenceAssets:c,subScene:o}};var xm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f0e=typeof xm=="object"&&xm&&xm.Object===Object&&xm,h0e=f0e,d0e=h0e,p0e=typeof self=="object"&&self&&self.Object===Object&&self,v0e=d0e||p0e||Function("return this")(),Yx=v0e,g0e=Yx,m0e=g0e.Symbol,bG=m0e,jM=bG,wG=Object.prototype,_0e=wG.hasOwnProperty,y0e=wG.toString,O0=jM?jM.toStringTag:void 0;function x0e(t){var e=_0e.call(t,O0),r=t[O0];try{t[O0]=void 0;var n=!0}catch{}var i=y0e.call(t);return n&&(e?t[O0]=r:delete t[O0]),i}var b0e=x0e,w0e=Object.prototype,E0e=w0e.toString;function S0e(t){return E0e.call(t)}var C0e=S0e,$M=bG,T0e=b0e,A0e=C0e,I0e="[object Null]",R0e="[object Undefined]",GM=$M?$M.toStringTag:void 0;function P0e(t){return t==null?t===void 0?R0e:I0e:GM&&GM in Object(t)?T0e(t):A0e(t)}var O0e=P0e;function k0e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var EG=k0e,F0e=O0e,N0e=EG,L0e="[object AsyncFunction]",M0e="[object Function]",B0e="[object GeneratorFunction]",D0e="[object Proxy]";function U0e(t){if(!N0e(t))return!1;var e=F0e(t);return e==M0e||e==B0e||e==L0e||e==D0e}var j0e=U0e,$0e=Yx,G0e=$0e["__core-js_shared__"],V0e=G0e,UE=V0e,VM=function(){var t=/[^.]+$/.exec(UE&&UE.keys&&UE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function H0e(t){return!!VM&&VM in t}var X0e=H0e,z0e=Function.prototype,W0e=z0e.toString;function Y0e(t){if(t!=null){try{return W0e.call(t)}catch{}try{return t+""}catch{}}return""}var q0e=Y0e,K0e=j0e,Z0e=X0e,J0e=EG,Q0e=q0e,epe=/[\\^$.*+?()[\]{}|]/g,tpe=/^\[object .+?Constructor\]$/,rpe=Function.prototype,npe=Object.prototype,ipe=rpe.toString,ape=npe.hasOwnProperty,ope=RegExp("^"+ipe.call(ape).replace(epe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function spe(t){if(!J0e(t)||Z0e(t))return!1;var e=K0e(t)?ope:tpe;return e.test(Q0e(t))}var lpe=spe;function upe(t,e){return t==null?void 0:t[e]}var cpe=upe,fpe=lpe,hpe=cpe;function dpe(t,e){var r=hpe(t,e);return fpe(r)?r:void 0}var BP=dpe,ppe=BP,vpe=ppe(Object,"create"),qx=vpe,HM=qx;function gpe(){this.__data__=HM?HM(null):{},this.size=0}var mpe=gpe;function _pe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ype=_pe,xpe=qx,bpe="__lodash_hash_undefined__",wpe=Object.prototype,Epe=wpe.hasOwnProperty;function Spe(t){var e=this.__data__;if(xpe){var r=e[t];return r===bpe?void 0:r}return Epe.call(e,t)?e[t]:void 0}var Cpe=Spe,Tpe=qx,Ape=Object.prototype,Ipe=Ape.hasOwnProperty;function Rpe(t){var e=this.__data__;return Tpe?e[t]!==void 0:Ipe.call(e,t)}var Ppe=Rpe,Ope=qx,kpe="__lodash_hash_undefined__";function Fpe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ope&&e===void 0?kpe:e,this}var Npe=Fpe,Lpe=mpe,Mpe=ype,Bpe=Cpe,Dpe=Ppe,Upe=Npe;function Od(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Od.prototype.clear=Lpe;Od.prototype.delete=Mpe;Od.prototype.get=Bpe;Od.prototype.has=Dpe;Od.prototype.set=Upe;var jpe=Od;function $pe(){this.__data__=[],this.size=0}var Gpe=$pe;function Vpe(t,e){return t===e||t!==t&&e!==e}var Hpe=Vpe,Xpe=Hpe;function zpe(t,e){for(var r=t.length;r--;)if(Xpe(t[r][0],e))return r;return-1}var Kx=zpe,Wpe=Kx,Ype=Array.prototype,qpe=Ype.splice;function Kpe(t){var e=this.__data__,r=Wpe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():qpe.call(e,r,1),--this.size,!0}var Zpe=Kpe,Jpe=Kx;function Qpe(t){var e=this.__data__,r=Jpe(e,t);return r<0?void 0:e[r][1]}var eve=Qpe,tve=Kx;function rve(t){return tve(this.__data__,t)>-1}var nve=rve,ive=Kx;function ave(t,e){var r=this.__data__,n=ive(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var ove=ave,sve=Gpe,lve=Zpe,uve=eve,cve=nve,fve=ove;function kd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}kd.prototype.clear=sve;kd.prototype.delete=lve;kd.prototype.get=uve;kd.prototype.has=cve;kd.prototype.set=fve;var hve=kd,dve=BP,pve=Yx,vve=dve(pve,"Map"),gve=vve,XM=jpe,mve=hve,_ve=gve;function yve(){this.size=0,this.__data__={hash:new XM,map:new(_ve||mve),string:new XM}}var xve=yve;function bve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var wve=bve,Eve=wve;function Sve(t,e){var r=t.__data__;return Eve(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Zx=Sve,Cve=Zx;function Tve(t){var e=Cve(this,t).delete(t);return this.size-=e?1:0,e}var Ave=Tve,Ive=Zx;function Rve(t){return Ive(this,t).get(t)}var Pve=Rve,Ove=Zx;function kve(t){return Ove(this,t).has(t)}var Fve=kve,Nve=Zx;function Lve(t,e){var r=Nve(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Mve=Lve,Bve=xve,Dve=Ave,Uve=Pve,jve=Fve,$ve=Mve;function Fd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fd.prototype.clear=Bve;Fd.prototype.delete=Dve;Fd.prototype.get=Uve;Fd.prototype.has=jve;Fd.prototype.set=$ve;var Gve=Fd,Vve="__lodash_hash_undefined__";function Hve(t){return this.__data__.set(t,Vve),this}var Xve=Hve;function zve(t){return this.__data__.has(t)}var Wve=zve,Yve=Gve,qve=Xve,Kve=Wve;function Ny(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Yve;++e<r;)this.add(t[e])}Ny.prototype.add=Ny.prototype.push=qve;Ny.prototype.has=Kve;var Zve=Ny;function Jve(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Qve=Jve;function ege(t){return t!==t}var tge=ege;function rge(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var nge=rge,ige=Qve,age=tge,oge=nge;function sge(t,e,r){return e===e?oge(t,e,r):ige(t,age,r)}var lge=sge,uge=lge;function cge(t,e){var r=t==null?0:t.length;return!!r&&uge(t,e,0)>-1}var fge=cge;function hge(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var dge=hge;function pge(t,e){return t.has(e)}var vge=pge,gge=BP,mge=Yx,_ge=gge(mge,"Set"),yge=_ge;function xge(){}var bge=xge;function wge(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var SG=wge,jE=yge,Ege=bge,Sge=SG,Cge=1/0,Tge=jE&&1/Sge(new jE([,-0]))[1]==Cge?function(t){return new jE(t)}:Ege,Age=Tge,Ige=Zve,Rge=fge,Pge=dge,Oge=vge,kge=Age,Fge=SG,Nge=200;function Lge(t,e,r){var n=-1,i=Rge,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=Pge;else if(a>=Nge){var l=e?null:kge(t);if(l)return Fge(l);o=!1,i=Oge,c=new Ige}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var Mge=Lge,Bge=Mge;function Dge(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Bge(t,void 0,e):[]}var Uge=Dge;const jge=(t,e,r,n,i,a,o)=>{const c=t.split(`
`);let l=[],u=[];const f=c.map(p=>{const d=c0e(p,i,a,o);return l=[...l,...d.sentenceAssets],u=[...u,...d.subScene],d});l=Uge(l);const h=["jpg","jpeg","png","gif","bmp","svg","webp","mp4","webm","ogg","flv","wav","mp3","ogg"];return l=l.filter(p=>h.includes(p.url.split(".").pop())),n(l,e),{sceneName:e,sceneUrl:r,sentenceList:f,assetsList:l,subSceneList:u}};function $ge(t){const[e,r]=Gge(t);return{classNameStyles:e,others:r}}function Gge(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class Vge{constructor(e,r,n,i){lt(this,"assetsPrefetcher");lt(this,"assetSetter");lt(this,"ADD_NEXT_ARG_LIST");lt(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return jge(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return n0e(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return $ge(e)}}function fr(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const Hge=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=fr(t,"enter"),a=fr(t,"volume");return r!==""&&pe.dispatch(_G({name:r,url:e,series:n})),WO(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function CG(t,e){return function(){return t.apply(e,arguments)}}const{toString:Xge}=Object.prototype,{getPrototypeOf:DP}=Object,Jx=(t=>e=>{const r=Xge.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Jo=t=>(t=t.toLowerCase(),e=>Jx(e)===t),Qx=t=>e=>typeof e===t,{isArray:Nd}=Array,Qp=Qx("undefined");function zge(t){return t!==null&&!Qp(t)&&t.constructor!==null&&!Qp(t.constructor)&&Ha(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const TG=Jo("ArrayBuffer");function Wge(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&TG(t.buffer),e}const Yge=Qx("string"),Ha=Qx("function"),AG=Qx("number"),e1=t=>t!==null&&typeof t=="object",qge=t=>t===!0||t===!1,R_=t=>{if(Jx(t)!=="object")return!1;const e=DP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kge=Jo("Date"),Zge=Jo("File"),Jge=Jo("Blob"),Qge=Jo("FileList"),eme=t=>e1(t)&&Ha(t.pipe),tme=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ha(t.append)&&((e=Jx(t))==="formdata"||e==="object"&&Ha(t.toString)&&t.toString()==="[object FormData]"))},rme=Jo("URLSearchParams"),[nme,ime,ame,ome]=["ReadableStream","Request","Response","Headers"].map(Jo),sme=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qv(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Nd(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,t[s],s,t)}}function IG(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Tc=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),RG=t=>!Qp(t)&&t!==Tc;function CT(){const{caseless:t}=RG(this)&&this||{},e={},r=(n,i)=>{const a=t&&IG(e,i)||i;R_(e[a])&&R_(n)?e[a]=CT(e[a],n):R_(n)?e[a]=CT({},n):Nd(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&qv(arguments[n],r);return e}const lme=(t,e,r,{allOwnKeys:n}={})=>(qv(e,(i,a)=>{r&&Ha(i)?t[a]=CG(i,r):t[a]=i},{allOwnKeys:n}),t),ume=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cme=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},fme=(t,e,r,n)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&DP(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},hme=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},dme=t=>{if(!t)return null;if(Nd(t))return t;let e=t.length;if(!AG(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},pme=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&DP(Uint8Array)),vme=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},gme=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},mme=Jo("HTMLFormElement"),_me=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),zM=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),yme=Jo("RegExp"),PG=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};qv(r,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},xme=t=>{PG(t,(e,r)=>{if(Ha(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ha(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bme=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Nd(t)?n(t):n(String(t).split(e)),r},wme=()=>{},Eme=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,$E="abcdefghijklmnopqrstuvwxyz",WM="0123456789",OG={DIGIT:WM,ALPHA:$E,ALPHA_DIGIT:$E+$E.toUpperCase()+WM},Sme=(t=16,e=OG.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Cme(t){return!!(t&&Ha(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Tme=t=>{const e=new Array(10),r=(n,i)=>{if(e1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=Nd(n)?[]:{};return qv(n,(o,s)=>{const c=r(o,i+1);!Qp(c)&&(a[s]=c)}),e[i]=void 0,a}}return n};return r(t,0)},Ame=Jo("AsyncFunction"),Ime=t=>t&&(e1(t)||Ha(t))&&Ha(t.then)&&Ha(t.catch),kG=((t,e)=>t?setImmediate:e?((r,n)=>(Tc.addEventListener("message",({source:i,data:a})=>{i===Tc&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Tc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ha(Tc.postMessage)),Rme=typeof queueMicrotask<"u"?queueMicrotask.bind(Tc):typeof process<"u"&&process.nextTick||kG,Le={isArray:Nd,isArrayBuffer:TG,isBuffer:zge,isFormData:tme,isArrayBufferView:Wge,isString:Yge,isNumber:AG,isBoolean:qge,isObject:e1,isPlainObject:R_,isReadableStream:nme,isRequest:ime,isResponse:ame,isHeaders:ome,isUndefined:Qp,isDate:Kge,isFile:Zge,isBlob:Jge,isRegExp:yme,isFunction:Ha,isStream:eme,isURLSearchParams:rme,isTypedArray:pme,isFileList:Qge,forEach:qv,merge:CT,extend:lme,trim:sme,stripBOM:ume,inherits:cme,toFlatObject:fme,kindOf:Jx,kindOfTest:Jo,endsWith:hme,toArray:dme,forEachEntry:vme,matchAll:gme,isHTMLForm:mme,hasOwnProperty:zM,hasOwnProp:zM,reduceDescriptors:PG,freezeMethods:xme,toObjectSet:bme,toCamelCase:_me,noop:wme,toFiniteNumber:Eme,findKey:IG,global:Tc,isContextDefined:RG,ALPHABET:OG,generateString:Sme,isSpecCompliantForm:Cme,toJSONObject:Tme,isAsyncFn:Ame,isThenable:Ime,setImmediate:kG,asap:Rme};function zt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Le.inherits(zt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const FG=zt.prototype,NG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NG[t]={value:t}});Object.defineProperties(zt,NG);Object.defineProperty(FG,"isAxiosError",{value:!0});zt.from=(t,e,r,n,i,a)=>{const o=Object.create(FG);return Le.toFlatObject(t,o,function(c){return c!==Error.prototype},s=>s!=="isAxiosError"),zt.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const Pme=null;function TT(t){return Le.isPlainObject(t)||Le.isArray(t)}function LG(t){return Le.endsWith(t,"[]")?t.slice(0,-2):t}function YM(t,e,r){return t?t.concat(e).map(function(i,a){return i=LG(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function Ome(t){return Le.isArray(t)&&!t.some(TT)}const kme=Le.toFlatObject(Le,{},null,function(e){return/^is[A-Z]/.test(e)});function t1(t,e,r){if(!Le.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Le.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,m){return!Le.isUndefined(m[v])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Le.isSpecCompliantForm(e);if(!Le.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(Le.isDate(d))return d.toISOString();if(!c&&Le.isBlob(d))throw new zt("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(d)||Le.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,v,m){let g=d;if(d&&!m&&typeof d=="object"){if(Le.endsWith(v,"{}"))v=n?v:v.slice(0,-2),d=JSON.stringify(d);else if(Le.isArray(d)&&Ome(d)||(Le.isFileList(d)||Le.endsWith(v,"[]"))&&(g=Le.toArray(d)))return v=LG(v),g.forEach(function(x,b){!(Le.isUndefined(x)||x===null)&&e.append(o===!0?YM([v],b,a):o===null?v:v+"[]",l(x))}),!1}return TT(d)?!0:(e.append(YM(m,v,a),l(d)),!1)}const f=[],h=Object.assign(kme,{defaultVisitor:u,convertValue:l,isVisitable:TT});function p(d,v){if(!Le.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(d),Le.forEach(d,function(g,_){(!(Le.isUndefined(g)||g===null)&&i.call(e,g,Le.isString(_)?_.trim():_,v,h))===!0&&p(g,v?v.concat(_):[_])}),f.pop()}}if(!Le.isObject(t))throw new TypeError("data must be an object");return p(t),e}function qM(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function UP(t,e){this._pairs=[],t&&t1(t,this,e)}const MG=UP.prototype;MG.append=function(e,r){this._pairs.push([e,r])};MG.toString=function(e){const r=e?function(n){return e.call(this,n,qM)}:qM;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Fme(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BG(t,e,r){if(!e)return t;const n=r&&r.encode||Fme,i=r&&r.serialize;let a;if(i?a=i(e,r):a=Le.isURLSearchParams(e)?e.toString():new UP(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Nme{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Le.forEach(this.handlers,function(n){n!==null&&e(n)})}}const KM=Nme,DG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lme=typeof URLSearchParams<"u"?URLSearchParams:UP,Mme=typeof FormData<"u"?FormData:null,Bme=typeof Blob<"u"?Blob:null,Dme={isBrowser:!0,classes:{URLSearchParams:Lme,FormData:Mme,Blob:Bme},protocols:["http","https","file","blob","url","data"]},jP=typeof window<"u"&&typeof document<"u",Ume=(t=>jP&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),jme=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),$me=jP&&window.location.href||"http://localhost",Gme=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jP,hasStandardBrowserEnv:Ume,hasStandardBrowserWebWorkerEnv:jme,origin:$me},Symbol.toStringTag,{value:"Module"})),Vo={...Gme,...Dme};function Vme(t,e){return t1(t,new Vo.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Vo.isNode&&Le.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Hme(t){return Le.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Xme(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function UG(t){function e(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),c=a>=r.length;return o=!o&&Le.isArray(i)?i.length:o,c?(Le.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!Le.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&Le.isArray(i[o])&&(i[o]=Xme(i[o])),!s)}if(Le.isFormData(t)&&Le.isFunction(t.entries)){const r={};return Le.forEachEntry(t,(n,i)=>{e(Hme(n),i,r,0)}),r}return null}function zme(t,e,r){if(Le.isString(t))try{return(e||JSON.parse)(t),Le.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const $P={transitional:DG,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Le.isObject(e);if(a&&Le.isHTMLForm(e)&&(e=new FormData(e)),Le.isFormData(e))return i?JSON.stringify(UG(e)):e;if(Le.isArrayBuffer(e)||Le.isBuffer(e)||Le.isStream(e)||Le.isFile(e)||Le.isBlob(e)||Le.isReadableStream(e))return e;if(Le.isArrayBufferView(e))return e.buffer;if(Le.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Vme(e,this.formSerializer).toString();if((s=Le.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return t1(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),zme(e)):e}],transformResponse:[function(e){const r=this.transitional||$P.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Le.isResponse(e)||Le.isReadableStream(e))return e;if(e&&Le.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?zt.from(s,zt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vo.classes.FormData,Blob:Vo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],t=>{$P.headers[t]={}});const GP=$P,Wme=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yme=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Wme[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},ZM=Symbol("internals");function k0(t){return t&&String(t).trim().toLowerCase()}function P_(t){return t===!1||t==null?t:Le.isArray(t)?t.map(P_):String(t)}function qme(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Kme=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function GE(t,e,r,n,i){if(Le.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Le.isString(e)){if(Le.isString(n))return e.indexOf(n)!==-1;if(Le.isRegExp(n))return n.test(e)}}function Zme(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Jme(t,e){const r=Le.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}class r1{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(s,c,l){const u=k0(c);if(!u)throw new Error("header name must be a non-empty string");const f=Le.findKey(i,u);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||c]=P_(s))}const o=(s,c)=>Le.forEach(s,(l,u)=>a(l,u,c));if(Le.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Le.isString(e)&&(e=e.trim())&&!Kme(e))o(Yme(e),r);else if(Le.isHeaders(e))for(const[s,c]of e.entries())a(c,s,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=k0(e),e){const n=Le.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return qme(i);if(Le.isFunction(r))return r.call(this,i,n);if(Le.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=k0(e),e){const n=Le.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||GE(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=k0(o),o){const s=Le.findKey(n,o);s&&(!r||GE(n,n[s],s,r))&&(delete n[s],i=!0)}}return Le.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||GE(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return Le.forEach(this,(i,a)=>{const o=Le.findKey(n,a);if(o){r[o]=P_(i),delete r[a];return}const s=e?Zme(a):String(a).trim();s!==a&&delete r[a],r[s]=P_(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Le.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Le.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[ZM]=this[ZM]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=k0(o);n[s]||(Jme(i,o),n[s]=!0)}return Le.isArray(e)?e.forEach(a):a(e),this}}r1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Le.reduceDescriptors(r1.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Le.freezeMethods(r1);const Ho=r1;function VE(t,e){const r=this||GP,n=e||r,i=Ho.from(n.headers);let a=n.data;return Le.forEach(t,function(s){a=s.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function jG(t){return!!(t&&t.__CANCEL__)}function Ld(t,e,r){zt.call(this,t??"canceled",zt.ERR_CANCELED,e,r),this.name="CanceledError"}Le.inherits(Ld,zt,{__CANCEL__:!0});function $G(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new zt("Request failed with status code "+r.status,[zt.ERR_BAD_REQUEST,zt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Qme(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function e_e(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[a];o||(o=l),r[i]=c,n[i]=l;let f=a,h=0;for(;f!==i;)h+=r[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),l-o<e)return;const p=u&&l-u;return p?Math.round(h*1e3/p):void 0}}function t_e(t,e){let r=0,n=1e3/e,i,a;const o=(l,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),t.apply(null,l)};return[(...l)=>{const u=Date.now(),f=u-r;f>=n?o(l,u):(i=l,a||(a=setTimeout(()=>{a=null,o(i)},n-f)))},()=>i&&o(i)]}const Ly=(t,e,r=3)=>{let n=0;const i=e_e(50,250);return t_e(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,c=o-n,l=i(c),u=o<=s;n=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:c,rate:l||void 0,estimated:l&&s&&u?(s-o)/l:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(f)},r)},JM=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},QM=t=>(...e)=>Le.asap(()=>t(...e)),r_e=Vo.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let o=a;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const s=Le.isString(o)?i(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),n_e=Vo.hasStandardBrowserEnv?{write(t,e,r,n,i,a){const o=[t+"="+encodeURIComponent(e)];Le.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Le.isString(n)&&o.push("path="+n),Le.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function i_e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function a_e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function GG(t,e){return t&&!i_e(e)?a_e(t,e):e}const eB=t=>t instanceof Ho?{...t}:t;function Zc(t,e){e=e||{};const r={};function n(l,u,f){return Le.isPlainObject(l)&&Le.isPlainObject(u)?Le.merge.call({caseless:f},l,u):Le.isPlainObject(u)?Le.merge({},u):Le.isArray(u)?u.slice():u}function i(l,u,f){if(Le.isUndefined(u)){if(!Le.isUndefined(l))return n(void 0,l,f)}else return n(l,u,f)}function a(l,u){if(!Le.isUndefined(u))return n(void 0,u)}function o(l,u){if(Le.isUndefined(u)){if(!Le.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function s(l,u,f){if(f in e)return n(l,u);if(f in t)return n(void 0,l)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(l,u)=>i(eB(l),eB(u),!0)};return Le.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=c[u]||i,h=f(t[u],e[u],u);Le.isUndefined(h)&&f!==s||(r[u]=h)}),r}const VG=t=>{const e=Zc({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;e.headers=o=Ho.from(o),e.url=BG(GG(e.baseURL,e.url),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let c;if(Le.isFormData(r)){if(Vo.hasStandardBrowserEnv||Vo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Vo.hasStandardBrowserEnv&&(n&&Le.isFunction(n)&&(n=n(e)),n||n!==!1&&r_e(e.url))){const l=i&&a&&n_e.read(a);l&&o.set(i,l)}return e},o_e=typeof XMLHttpRequest<"u",s_e=o_e&&function(t){return new Promise(function(r,n){const i=VG(t);let a=i.data;const o=Ho.from(i.headers).normalize();let{responseType:s,onUploadProgress:c,onDownloadProgress:l}=i,u,f,h,p,d;function v(){p&&p(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function g(){if(!m)return;const x=Ho.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),w={data:!s||s==="text"||s==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:x,config:t,request:m};$G(function(C){r(C),v()},function(C){n(C),v()},w),m=null}"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(g)},m.onabort=function(){m&&(n(new zt("Request aborted",zt.ECONNABORTED,t,m)),m=null)},m.onerror=function(){n(new zt("Network Error",zt.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||DG;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new zt(b,w.clarifyTimeoutError?zt.ETIMEDOUT:zt.ECONNABORTED,t,m)),m=null},a===void 0&&o.setContentType(null),"setRequestHeader"in m&&Le.forEach(o.toJSON(),function(b,w){m.setRequestHeader(w,b)}),Le.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),s&&s!=="json"&&(m.responseType=i.responseType),l&&([h,d]=Ly(l,!0),m.addEventListener("progress",h)),c&&m.upload&&([f,p]=Ly(c),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=x=>{m&&(n(!x||x.type?new Ld(null,t,m):x),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const _=Qme(i.url);if(_&&Vo.protocols.indexOf(_)===-1){n(new zt("Unsupported protocol "+_+":",zt.ERR_BAD_REQUEST,t));return}m.send(a||null)})},l_e=(t,e)=>{let r=new AbortController,n;const i=function(c){if(!n){n=!0,o();const l=c instanceof Error?c:this.reason;r.abort(l instanceof zt?l:new Ld(l instanceof Error?l.message:l))}};let a=e&&setTimeout(()=>{i(new zt(`timeout ${e} of ms exceeded`,zt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",i):c.unsubscribe(i))}),t=null)};t.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=o,[s,()=>{a&&clearTimeout(a),a=null}]},u_e=l_e,c_e=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},f_e=async function*(t,e,r){for await(const n of t)yield*c_e(ArrayBuffer.isView(n)?n:await r(String(n)),e)},tB=(t,e,r,n,i)=>{const a=f_e(t,e,i);let o=0,s,c=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await a.next();if(u){c(),l.close();return}let h=f.byteLength;if(r){let p=o+=h;r(p)}l.enqueue(new Uint8Array(f))}catch(u){throw c(u),u}},cancel(l){return c(l),a.return()}},{highWaterMark:2})},n1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",HG=n1&&typeof ReadableStream=="function",AT=n1&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),XG=(t,...e)=>{try{return!!t(...e)}catch{return!1}},h_e=HG&&XG(()=>{let t=!1;const e=new Request(Vo.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),rB=64*1024,IT=HG&&XG(()=>Le.isReadableStream(new Response("").body)),My={stream:IT&&(t=>t.body)};n1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!My[e]&&(My[e]=Le.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new zt(`Response type '${e}' is not supported`,zt.ERR_NOT_SUPPORT,n)})})})(new Response);const d_e=async t=>{if(t==null)return 0;if(Le.isBlob(t))return t.size;if(Le.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Le.isArrayBufferView(t)||Le.isArrayBuffer(t))return t.byteLength;if(Le.isURLSearchParams(t)&&(t=t+""),Le.isString(t))return(await AT(t)).byteLength},p_e=async(t,e)=>{const r=Le.toFiniteNumber(t.getContentLength());return r??d_e(e)},v_e=n1&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:h}=VG(t);l=l?(l+"").toLowerCase():"text";let[p,d]=i||a||o?u_e([i,a],o):[],v,m;const g=()=>{!v&&setTimeout(()=>{p&&p.unsubscribe()}),v=!0};let _;try{if(c&&h_e&&r!=="get"&&r!=="head"&&(_=await p_e(u,n))!==0){let E=new Request(e,{method:"POST",body:n,duplex:"half"}),C;if(Le.isFormData(n)&&(C=E.headers.get("content-type"))&&u.setContentType(C),E.body){const[T,I]=JM(_,Ly(QM(c)));n=tB(E.body,rB,T,I,AT)}}Le.isString(f)||(f=f?"include":"omit"),m=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:f});let x=await fetch(m);const b=IT&&(l==="stream"||l==="response");if(IT&&(s||b)){const E={};["status","statusText","headers"].forEach(R=>{E[R]=x[R]});const C=Le.toFiniteNumber(x.headers.get("content-length")),[T,I]=s&&JM(C,Ly(QM(s),!0))||[];x=new Response(tB(x.body,rB,T,()=>{I&&I(),b&&g()},AT),E)}l=l||"text";let w=await My[Le.findKey(My,l)||"text"](x,t);return!b&&g(),d&&d(),await new Promise((E,C)=>{$G(E,C,{data:w,headers:Ho.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:m})})}catch(x){throw g(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new zt("Network Error",zt.ERR_NETWORK,t,m),{cause:x.cause||x}):zt.from(x,x&&x.code,t,m)}}),RT={http:Pme,xhr:s_e,fetch:v_e};Le.forEach(RT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const nB=t=>`- ${t}`,g_e=t=>Le.isFunction(t)||t===null||t===!1,zG={getAdapter:t=>{t=Le.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!g_e(r)&&(n=RT[(o=String(r)).toLowerCase()],n===void 0))throw new zt(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([s,c])=>`adapter ${s} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(nB).join(`
`):" "+nB(a[0]):"as no adapter specified";throw new zt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:RT};function HE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ld(null,t)}function iB(t){return HE(t),t.headers=Ho.from(t.headers),t.data=VE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zG.getAdapter(t.adapter||GP.adapter)(t).then(function(n){return HE(t),n.data=VE.call(t,t.transformResponse,n),n.headers=Ho.from(n.headers),n},function(n){return jG(n)||(HE(t),n&&n.response&&(n.response.data=VE.call(t,t.transformResponse,n.response),n.response.headers=Ho.from(n.response.headers))),Promise.reject(n)})}const WG="1.7.3",VP={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{VP[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const aB={};VP.transitional=function(e,r,n){function i(a,o){return"[Axios v"+WG+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new zt(i(o," has been removed"+(r?" in "+r:"")),zt.ERR_DEPRECATED);return r&&!aB[o]&&(aB[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function m_e(t,e,r){if(typeof t!="object")throw new zt("options must be an object",zt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new zt("option "+a+" must be "+c,zt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new zt("Unknown option "+a,zt.ERR_BAD_OPTION)}}const PT={assertOptions:m_e,validators:VP},Nl=PT.validators;class By{constructor(e){this.defaults=e,this.interceptors={request:new KM,response:new KM}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Zc(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&PT.assertOptions(n,{silentJSONParsing:Nl.transitional(Nl.boolean),forcedJSONParsing:Nl.transitional(Nl.boolean),clarifyTimeoutError:Nl.transitional(Nl.boolean)},!1),i!=null&&(Le.isFunction(i)?r.paramsSerializer={serialize:i}:PT.assertOptions(i,{encode:Nl.function,serialize:Nl.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Le.merge(a.common,a[r.method]);a&&Le.forEach(["delete","get","head","post","put","patch","common"],d=>{delete a[d]}),r.headers=Ho.concat(o,a);const s=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const l=[];this.interceptors.response.forEach(function(v){l.push(v.fulfilled,v.rejected)});let u,f=0,h;if(!c){const d=[iB.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),h=d.length,u=Promise.resolve(r);f<h;)u=u.then(d[f++],d[f++]);return u}h=s.length;let p=r;for(f=0;f<h;){const d=s[f++],v=s[f++];try{p=d(p)}catch(m){v.call(this,m);break}}try{u=iB.call(this,p)}catch(d){return Promise.reject(d)}for(f=0,h=l.length;f<h;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=Zc(this.defaults,e);const r=GG(e.baseURL,e.url);return BG(r,e.params,e.paramsSerializer)}}Le.forEach(["delete","get","head","options"],function(e){By.prototype[e]=function(r,n){return this.request(Zc(n||{},{method:e,url:r,data:(n||{}).data}))}});Le.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(Zc(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}By.prototype[e]=r(),By.prototype[e+"Form"]=r(!0)});const O_=By;class HP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new Ld(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new HP(function(i){e=i}),cancel:e}}}const __e=HP;function y_e(t){return function(r){return t.apply(null,r)}}function x_e(t){return Le.isObject(t)&&t.isAxiosError===!0}const OT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(OT).forEach(([t,e])=>{OT[e]=t});const b_e=OT;function YG(t){const e=new O_(t),r=CG(O_.prototype.request,e);return Le.extend(r,O_.prototype,e,{allOwnKeys:!0}),Le.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return YG(Zc(t,i))},r}const ei=YG(GP);ei.Axios=O_;ei.CanceledError=Ld;ei.CancelToken=__e;ei.isCancel=jG;ei.VERSION=WG;ei.toFormData=t1;ei.AxiosError=zt;ei.Cancel=ei.CanceledError;ei.all=function(e){return Promise.all(e)};ei.spread=y_e;ei.isAxiosError=x_e;ei.mergeConfig=Zc;ei.AxiosHeaders=Ho;ei.formToJSON=t=>UG(Le.isHTMLForm(t)?new FormData(t):t);ei.getAdapter=zG.getAdapter;ei.HttpStatusCode=b_e;ei.default=ei;const td=ei,Ka=t=>new Promise(e=>{td.get(t).then(r=>{const n=r.data.toString();e(n)})}),w_e={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},i1=t=>{var n;let e=w_e;e=(((n=mV[t.command])==null?void 0:n.scriptFunction)??QV.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>J.gameplay.performController.arrangeNewPerform(i,t)):J.gameplay.performController.arrangeNewPerform(e,t)},E_e=t=>{Ka(t.sceneUrl).then(async e=>{await J.sceneManager.setCurrentScene(e,t.sceneName,t.sceneUrl,!0)&&(J.sceneManager.sceneData.currentSentenceId=t.continueLine+1,it.debug("",J.sceneManager.sceneData.currentScene),ti())})};var XP={},ev={document:{}},qG=Object.prototype.hasOwnProperty,KG=function(t){return a1(t)?t.toLowerCase():t},bp=Array.isArray,S_e=function(t){return a1(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(KG=S_e);var C_e,zP=Object.prototype.toString,ZG=Object.getPrototypeOf,XE=r7("ng");ev.angular||(ev.angular={});ev.document.documentMode;function T_e(t){if(t==null||qP(t))return!1;if(bp(t)||a1(t)||C_e)return!0;var e="length"in Object(t)&&t.length;return YP(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function xn(t,e,r){var n,i;if(t)if(e7(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(bp(t)||T_e(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==xn)t.forEach(e,r,t);else if(QG(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)qG.call(t,n)&&e.call(r,t[n],n,t);return t}function A_e(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function WP(){}WP.$inject=[];function I_e(t){return typeof t>"u"}function ph(t){return typeof t<"u"}function JG(t){return t!==null&&typeof t=="object"}function QG(t){return t!==null&&typeof t=="object"&&!ZG(t)}function a1(t){return typeof t=="string"}function YP(t){return typeof t=="number"}function e7(t){return typeof t=="function"}function qP(t){return t&&t.window===t}function t7(t){return t&&t.$evalAsync&&t.$watch}var R_e=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function P_e(t){return t&&YP(t.length)&&R_e.test(zP.call(t))}function O_e(t){return zP.call(t)==="[object ArrayBuffer]"}function k_e(t,e){var r=[],n=[];if(e){if(P_e(e)||O_e(e))throw XE("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw XE("cpi","Can't copy! Source and destination are identical.");return bp(e)?e.length=0:xn(e,function(s,c){c!=="$$hashKey"&&delete e[c]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,c){var l=c.$$hashKey,u;if(bp(s))for(var f=0,h=s.length;f<h;f++)c.push(a(s[f]));else if(QG(s))for(u in s)c[u]=a(s[u]);else if(s&&typeof s.hasOwnProperty=="function")for(u in s)s.hasOwnProperty(u)&&(c[u]=a(s[u]));else for(u in s)qG.call(s,u)&&(c[u]=a(s[u]));return A_e(c,l),c}function a(s){if(!JG(s))return s;var c=r.indexOf(s);if(c!==-1)return n[c];if(qP(s)||t7(s))throw XE("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,u=o(s);return u===void 0&&(u=bp(s)?[]:Object.create(ZG(s)),l=!0),r.push(s),n.push(u),l?i(s,u):u}function o(s){switch(zP.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var c=new ArrayBuffer(s.byteLength);return new Uint8Array(c).set(new Uint8Array(s)),c}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(e7(s.cloneNode))return s.cloneNode(!0)}}function F_e(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:qP(e)?r="$WINDOW":e&&ev.document===e?r="$DOCUMENT":t7(e)&&(r="$SCOPE"),r}function N_e(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}N_e(ev.document);function L_e(){return Object.create(null)}function M_e(t){var e=[];return JSON.stringify(t,function(r,n){if(n=F_e(r,n),JG(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function oB(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):I_e(t)?"undefined":typeof t!="string"?M_e(t):t}function r7(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,c;for(a+=o.replace(/\{\d+\}/g,function(l){var u=+l.slice(1,-1),f=u+r;return f<n.length?oB(n[f]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,c=r,s="?";c<n.length;c++,s="&")a+=s+"p"+(c-r)+"="+encodeURIComponent(oB(n[c]));return new e(a)}}var vh=r7("$parse");({}).constructor.prototype.valueOf;function n7(t){return t+""}var k_=L_e();xn("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){k_[t]=!0});var B_e={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},kT=function(e){this.options=e};kT.prototype={constructor:kT,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=k_[e],a=k_[r],o=k_[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===""},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=ph(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw vh("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=KG(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=B_e[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var Ye=function(e,r){this.lexer=e,this.options=r};Ye.Program="Program";Ye.ExpressionStatement="ExpressionStatement";Ye.AssignmentExpression="AssignmentExpression";Ye.ConditionalExpression="ConditionalExpression";Ye.LogicalExpression="LogicalExpression";Ye.BinaryExpression="BinaryExpression";Ye.UnaryExpression="UnaryExpression";Ye.CallExpression="CallExpression";Ye.MemberExpression="MemberExpression";Ye.Identifier="Identifier";Ye.Literal="Literal";Ye.ArrayExpression="ArrayExpression";Ye.Property="Property";Ye.ObjectExpression="ObjectExpression";Ye.ThisExpression="ThisExpression";Ye.LocalsExpression="LocalsExpression";Ye.NGValueParameter="NGValueParameter";Ye.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Ye.Program,body:t}},expressionStatement:function(){return{type:Ye.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!o7(t))throw vh("lval","Trying to assign a value to a non l-value");t={type:Ye.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:Ye.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Ye.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Ye.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Ye.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=k_e(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Ye.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:Ye.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:Ye.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:Ye.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:Ye.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Ye.Identifier,name:t.text}},constant:function(){return{type:Ye.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ye.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:Ye.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Ye.ObjectExpression,properties:t}},throwError:function(t,e){throw vh("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw vh("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw vh("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:Ye.ThisExpression},$locals:{type:Ye.LocalsExpression}}};function D_e(t,e){return typeof t<"u"?t:e}function i7(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function U_e(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function mi(t,e){var r,n,i;switch(t.type){case Ye.Program:r=!0,xn(t.body,function(a){mi(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case Ye.Literal:t.constant=!0,t.toWatch=[];break;case Ye.UnaryExpression:mi(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Ye.BinaryExpression:mi(t.left,e),mi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Ye.LogicalExpression:mi(t.left,e),mi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Ye.ConditionalExpression:mi(t.test,e),mi(t.alternate,e),mi(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Ye.Identifier:t.constant=!1,t.toWatch=[t];break;case Ye.MemberExpression:mi(t.object,e),t.computed&&mi(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Ye.CallExpression:i=t.filter?U_e(e,t.callee.name):!1,r=i,n=[],xn(t.arguments,function(a){mi(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case Ye.AssignmentExpression:mi(t.left,e),mi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Ye.ArrayExpression:r=!0,n=[],xn(t.elements,function(a){mi(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case Ye.ObjectExpression:r=!0,n=[],xn(t.properties,function(a){mi(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case Ye.ThisExpression:t.constant=!1,t.toWatch=[];break;case Ye.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function a7(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function o7(t){return t.type===Ye.Identifier||t.type===Ye.MemberExpression}function s7(t){if(t.body.length===1&&o7(t.body[0].expression))return{type:Ye.AssignmentExpression,left:t.body[0].expression,right:{type:Ye.NGValueParameter},operator:"="}}function l7(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===Ye.Literal||t.body[0].expression.type===Ye.ArrayExpression||t.body[0].expression.type===Ye.ObjectExpression)}function u7(t){return t.constant}function c7(t,e){this.astBuilder=t,this.$filter=e}c7.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},mi(r,e.$filter);var n="",i;if(this.stage="assign",i=s7(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=a7(r.body);e.stage="inputs",xn(o,function(l,u){var f="fn"+u;e.state[f]={vars:[],body:[],own:{}},e.state.computing=f;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(f),l.watchId=u}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,n7,D_e,i7);return this.state=this.stage=void 0,c.ast=r,c.literal=l7(r),c.constant=u7(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return xn(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return xn(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,c=this,l,u,f;if(n=n||WP,!a&&ph(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case Ye.Program:xn(t.body,function(p,d){c.recurse(p.expression,void 0,void 0,function(v){s=v}),d!==t.body.length-1?c.current().body.push(s,";"):c.return_(s)});break;case Ye.Literal:u=this.escape(t.value),this.assign(e,u),n(e||u);break;case Ye.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(p){s=p}),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),n(u);break;case Ye.BinaryExpression:this.recurse(t.left,void 0,void 0,function(p){o=p}),this.recurse(t.right,void 0,void 0,function(p){s=p}),t.operator==="+"?u=this.plus(o,s):t.operator==="-"?u=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):u="("+o+")"+t.operator+"("+s+")",this.assign(e,u),n(u);break;case Ye.LogicalExpression:e=e||this.nextId(),c.recurse(t.left,e),c.if_(t.operator==="&&"?e:c.not(e),c.lazyRecurse(t.right,e)),n(e);break;case Ye.ConditionalExpression:e=e||this.nextId(),c.recurse(t.test,e),c.if_(e,c.lazyRecurse(t.alternate,e),c.lazyRecurse(t.consequent,e)),n(e);break;case Ye.Identifier:e=e||this.nextId();var h=c.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=c.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),c.if_(c.stage==="inputs"||c.not(c.getHasOwnProperty("l",t.name)),function(){c.if_(c.stage==="inputs"||c.and_("s",c.or_(c.isNull(c.nonComputedMember("s",t.name)),c.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&c.if_(c.isNull(c.nonComputedMember("s",t.name)),c.lazyAssign(c.nonComputedMember("s",t.name),"{}")),c.assign(e,c.nonComputedMember("s",t.name))})},e&&c.lazyAssign(e,c.nonComputedMember("l",t.name))),n(e);break;case Ye.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),c.recurse(t.object,o,void 0,function(){var p=null,d=c.current().inAssignment;t.computed?(s=c.nextId(),d||c.state.computing==="assign"?p=c.unsafeComputedMember(o,s):p=c.computedMember(o,s)):(d||c.state.computing==="assign"?p=c.unsafeNonComputedMember(o,t.property.name):p=c.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===Ye.Literal&&c.recurse(t.property,s),c.if_(c.and_(c.notNull(o),c.or_(c.isNull(p),c.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==Ye.Literal&&c.recurse(t.property,s),i&&i!==1&&c.if_(c.not(p),c.lazyAssign(p,"{}")),c.assign(e,p),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&c.if_(c.isNull(p),c.lazyAssign(p,"{}")),c.assign(e,p),r&&(r.computed=!1,r.name=t.property.name))},function(){c.assign(e,"undefined")}),n(e)},!!i);break;case Ye.CallExpression:e=e||this.nextId(),t.filter?(s=c.filter(t.callee.name),l=[],xn(t.arguments,function(p){var d=c.nextId();c.recurse(p,d),l.push(d)}),u=s+".call("+s+","+l.join(",")+")",c.assign(e,u),n(e)):(s=c.nextId(),o={},l=[],c.recurse(t.callee,s,o,function(){c.if_(c.notNull(s),function(){if(xn(t.arguments,function(d){c.recurse(d,t.constant?void 0:c.nextId(),void 0,function(v){l.push(v)})}),o.name){var p=c.member(o.context,o.name,o.computed);u="("+p+" === null ? null : "+c.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else u=s+"("+l.join(",")+")";c.assign(e,u)},function(){c.assign(e,"undefined")}),n(e)}));break;case Ye.AssignmentExpression:s=this.nextId(),o={},c.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){c.if_(c.and_(c.notNull(o.context),c.or_(c.hasOwnProperty_(o.context,o.name),c.isNull(c.member(o.context,o.name,o.computed)))),function(){c.recurse(t.right,s),u=c.member(o.context,o.name,o.computed)+t.operator+s,c.assign(e,u),n(e||u)}),c.current().inAssignment=!1,c.recurse(t.right,s),c.current().inAssignment=!0},1),c.current().inAssignment=!1;break;case Ye.ArrayExpression:l=[],xn(t.elements,function(p){c.recurse(p,t.constant?void 0:c.nextId(),void 0,function(d){l.push(d)})}),u="["+l.join(",")+"]",this.assign(e,u),n(e||u);break;case Ye.ObjectExpression:l=[],f=!1,xn(t.properties,function(p){p.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),xn(t.properties,function(p){p.computed?(o=c.nextId(),c.recurse(p.key,o)):o=p.key.type===Ye.Identifier?p.key.name:""+p.key.value,s=c.nextId(),c.recurse(p.value,s),c.assign(c.unsafeMember(e,o,p.computed),s)})):(xn(t.properties,function(p){c.recurse(p.value,t.constant?void 0:c.nextId(),void 0,function(d){l.push(c.escape(p.key.type===Ye.Identifier?p.key.name:""+p.key.value)+":"+d)})}),u="{"+l.join(",")+"}",this.assign(e,u)),n(e||u);break;case Ye.ThisExpression:this.assign(e,"s"),n(e||"s");break;case Ye.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case Ye.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(a1(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(YP(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw vh("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function f7(t,e){this.astBuilder=t,this.$filter=e}f7.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);mi(r,e.$filter);var n,i;(n=s7(r))&&(i=this.recurse(n));var a=a7(r.body),o;a&&(o=[],xn(a,function(l,u){var f=e.recurse(l);l.input=f,o.push(f),l.watchId=u}));var s=[];xn(r.body,function(l){s.push(e.recurse(l.expression))});var c=r.body.length===0?WP:r.body.length===1?s[0]:function(l,u){var f;return xn(s,function(h){f=h(l,u)}),f};return i&&(c.assign=function(l,u,f){return i(l,f,u)}),o&&(c.inputs=o),c.ast=r,c.literal=l7(r),c.constant=u7(r),c},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Ye.Literal:return this.value(t.value,e);case Ye.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Ye.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Ye.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Ye.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Ye.Identifier:return a.identifier(t.name,e,r);case Ye.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case Ye.CallExpression:return o=[],xn(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));var p=i.apply(void 0,f,u);return e?{context:void 0,name:void 0,value:p}:p}:function(s,c,l,u){var f=i(s,c,l,u),h;if(f.value!=null){for(var p=[],d=0;d<o.length;++d)p.push(o[d](s,c,l,u));h=f.value.apply(f.context,p)}return e?{value:h}:h};case Ye.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,c,l,u){var f=n(s,!1,l,u),h=i(s,c,l,u);return f.context[f.name]=h,e?{value:h}:h};case Ye.ArrayExpression:return o=[],xn(t.elements,function(s){o.push(a.recurse(s))}),function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));return e?{value:f}:f};case Ye.ObjectExpression:return o=[],xn(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===Ye.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,c,l,u){for(var f={},h=0;h<o.length;++h)o[h].computed?f[o[h].key(s,c,l,u)]=o[h].value(s,c,l,u):f[o[h].key]=o[h].value(s,c,l,u);return e?{value:f}:f};case Ye.ThisExpression:return function(s){return e?{value:s}:s};case Ye.LocalsExpression:return function(s,c){return e?{value:c}:c};case Ye.NGValueParameter:return function(s,c,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return ph(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return ph(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=i7(s,c);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=(ph(s)?s:0)-(ph(c)?c:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s),l,u;return c!=null&&(l=e(i,a,o,s),l=n7(l),n&&n!==1&&c&&!c[l]&&(c[l]={}),Object.prototype.hasOwnProperty.call(c,l)&&(u=c[l])),r?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s);n&&n!==1&&c&&c[e]==null&&(c[e]={});var l=void 0;return c!=null&&Object.prototype.hasOwnProperty.call(c,e)&&(l=c[e]),r?{context:c,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var FT=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new Ye(e,n),this.astCompiler=n.csp?new f7(this.ast,r):new c7(this.ast,r)};FT.prototype={constructor:FT,parse:function(t){return this.astCompiler.compile(t)}};XP.Lexer=kT;XP.Parser=FT;var h7=XP,j_e={},$_e=h7.Lexer,G_e=h7.Parser;function KP(t,e){e=e||{};var r=e.filters||j_e,n=e.filters?e.cache||{}:KP.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new $_e(i),c=new G_e(s,function(u){return r[u]},o);return n?(a=n[t],a||(a=n[t]=c.parse(t)),a):c.parse(t)}KP.cache=Object.create(null);var d7=KP;function V_e(t,e){return typeof t!="number"&&(t=0),typeof e!="number"&&(t=0),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t-1))+t+1}const H_e=t=>{let e=!1,r=null,n=null,i=!1,a=0;t.args.forEach(s=>{s.key==="global"?e=!0:s.key==="minValue"?r=s.value:s.key==="maxValue"?n=s.value:s.key==="random"&&(i=s.value)}),i&&r!==null&&n!==null&&(a=V_e(r,n));let o;if(e?o=qde:o=Q$,t.content.match(/=/)){const s=t.content.split(/=/)[0],c=t.content.split(/=/)[1];if(c==="random()"){const l=i?a:Math.random();pe.dispatch(o({key:s,value:l})),pe.dispatch(Df({key:s,value:l}))}else if(c.match(/[+\-*\/()]/)&&!i){const u=c.split(/([+\-*\/()])/g).map(p=>p.match(/[a-zA-Z]/)?ZP(p).toString():p).reduce((p,d)=>p+d,"");let h=d7(u)();typeof h=="number"&&(typeof r=="number"&&h<r&&(h=r),typeof n=="number"&&h>n&&(h=n)),pe.dispatch(o({key:s,value:h})),pe.dispatch(Df({key:s,value:h}))}else c.match(/true|false/)&&!i?(c.match(/true/)&&(pe.dispatch(o({key:s,value:!0})),pe.dispatch(Df({key:s,value:!0}))),c.match(/false/)&&(pe.dispatch(o({key:s,value:!1})),pe.dispatch(Df({key:s,value:!1})))):isNaN(Number(c))?(pe.dispatch(o({key:s,value:i?a:c})),pe.dispatch(Df({key:s,value:i?a:c}))):(pe.dispatch(o({key:s,value:i?a:Number(c)})),pe.dispatch(Df({key:s,value:i?a:Number(c)})));e?(it.debug("",{key:s,value:pe.getState().userData.globalGameVar[s]}),sH()):it.debug("",{key:s,value:pe.getState().stage.GameVar[s]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function ZP(t){let e=0;return pe.getState().stage.GameVar.hasOwnProperty(t)?e=pe.getState().stage.GameVar[t]:pe.getState().userData.globalGameVar.hasOwnProperty(t)&&(e=pe.getState().userData.globalGameVar[t]),e}function X_e(t){return d7(t)()}const NT=t=>{if(t===void 0)return!0;const e=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g);if(e.every(n=>n.length)){const n=e.map(i=>i.match(/[a-zA-Z]/)?i.match(/true/)||i.match(/false/)?i:ZP(i).toString():i).reduce((i,a)=>i+a,"");return!!X_e(n)}return!0},p7=()=>{if(J.sceneManager.sceneData.currentScene.sceneName,J.sceneManager.sceneData.currentSentenceId>J.sceneManager.sceneData.currentScene.sentenceList.length-1){if(J.sceneManager.sceneData.sceneStack.length!==0){const l=J.sceneManager.sceneData.sceneStack.pop();l!==void 0&&E_e(l)}return}const t=J.sceneManager.sceneData.currentScene.sentenceList[J.sceneManager.sceneData.currentSentenceId],e=l=>{let u=l,f;if(window.isSafari){const h=u.match(/\{.*?\}/g);h?f=h.filter((p,d)=>{const v=u.indexOf(p,d?u.indexOf(h[d-1])+h[d-1].length:0);return v===0||u[v-1]!=="\\"}):f=null}else f=u.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return f!==null&&f.forEach(h=>{const p=ZP(window.isSafari?h.slice(1,-1):h.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));u=u.replace(h,p?p.toString():h)}),u=u.replace(/\\{/g,"{").replace(/\\}/g,"}"),u};(()=>{t.content=e((t==null?void 0:t.content)??""),t.args.forEach(l=>{l.value&&typeof l.value=="string"&&(l.value=e(l.value))})})();let n=!0,i=!1,a="";if(t.args.forEach(l=>{l.key==="when"&&(i=!0,a=l.value.toString())}),i&&(n=NT(a)),!n){it.warn(""),J.sceneManager.sceneData.currentSentenceId++,ti();return}i1(t);let o=!1;t.args.forEach(l=>{l.key==="next"&&l.value&&(o=!0)});let s=t.command===Xt.say;t.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(s=!1)});let c;if(o){J.sceneManager.sceneData.currentSentenceId++,p7();return}setTimeout(()=>{c=pe.getState().stage,pe.getState().userData.globalGameVar,it.debug("",J.sceneManager.sceneData.currentSentenceId),s&&J.backlogManager.saveCurrentStateToBacklog()},0),J.sceneManager.sceneData.currentSentenceId++},ti=()=>{if(J.events.userInteractNext.emit(),pe.getState().GUI.showTitle)return;let e=!1;if(J.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&!J.gameplay.isFast&&!J.gameplay.isSyncingWithOrigine&&(e=!0)}),e){it.warn("next ");return}let r=!0;if(J.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=pe.getState().stage,a=vn(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);pe.dispatch(Vx(a)),p7();return}it.warn("");let n=!1;for(let i=0;i<J.gameplay.performController.performList.length;i++){const a=J.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),J.gameplay.performController.performList.splice(i,1),i--))}n&&ti()};var z_e="__lodash_hash_undefined__";function W_e(t){return this.__data__.set(t,z_e),this}var Y_e=W_e;function q_e(t){return this.__data__.has(t)}var K_e=q_e,Z_e=_P,J_e=Y_e,Q_e=K_e;function Dy(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Z_e;++e<r;)this.add(t[e])}Dy.prototype.add=Dy.prototype.push=J_e;Dy.prototype.has=Q_e;var v7=Dy;function eye(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var tye=eye;function rye(t){return t!==t}var nye=rye;function iye(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var aye=iye,oye=tye,sye=nye,lye=aye;function uye(t,e,r){return e===e?lye(t,e,r):oye(t,sye,r)}var cye=uye,fye=cye;function hye(t,e){var r=t==null?0:t.length;return!!r&&fye(t,e,0)>-1}var dye=hye;function pye(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var vye=pye;function gye(t,e){return t.has(e)}var g7=gye;function mye(){}var _ye=mye;function yye(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var JP=yye,zE=z$,xye=_ye,bye=JP,wye=1/0,Eye=zE&&1/bye(new zE([,-0]))[1]==wye?function(t){return new zE(t)}:xye,Sye=Eye,Cye=v7,Tye=dye,Aye=vye,Iye=g7,Rye=Sye,Pye=JP,Oye=200;function kye(t,e,r){var n=-1,i=Tye,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=Aye;else if(a>=Oye){var l=e?null:Rye(t);if(l)return Pye(l);o=!1,i=Iye,c=new Cye}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var Fye=kye,Nye=Fye;function Lye(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Nye(t,void 0,e):[]}var Mye=Lye;const Kv=$i(Mye),Md=t=>{for(const e of t)J.sceneManager.settledScenes.includes(e)?it.warn(`${e}`):(it.info(`${e}`),Ka(e).then(r=>{const n=e.split("./game/scene/")[1];av(r,n||"",e)}))},Bye=(t,e)=>{J.sceneManager.sceneData.sceneStack.push({sceneName:J.sceneManager.sceneData.currentScene.sceneName,sceneUrl:J.sceneManager.sceneData.currentScene.sceneUrl,continueLine:J.sceneManager.sceneData.currentSentenceId}),Ka(t).then(async r=>{if(await J.sceneManager.setCurrentScene(r,e,t,!0)){J.sceneManager.sceneData.currentSentenceId=0;const i=J.sceneManager.sceneData.currentScene.subSceneList;J.sceneManager.settledScenes.push(t);const a=Kv(i);Md(a),it.debug("",J.sceneManager.sceneData),ti()}})},Dye=t=>{const e=t.content.split("/"),r=e[e.length-1];return Bye(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function tv(t,e,r){let n;const a=pe.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...e,alpha:0,duration:0};n.unshift(o)}return n}function m7(t,e){const r=J.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function a(o){if(r){const s=r.pixiContainer,c=J.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha<1&&(s.alpha+=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function _7(t,e){const r=J.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function a(o){if(r){const s=r.pixiContainer,c=J.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha>0&&(s.alpha-=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const QP={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};function y7(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var Uye=function(){},sB=function(){};const LT=(t,e,r)=>Math.min(Math.max(r,t),e),WE=.001,jye=.01,lB=10,$ye=.05,Gye=1;function Vye({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;Uye(t<=lB*1e3);let o=1-e;o=LT($ye,Gye,o),t=LT(jye,lB,t/1e3),o<1?(i=l=>{const u=l*o,f=u*t,h=u-r,p=MT(l,o),d=Math.exp(-f);return WE-h/p*d},a=l=>{const f=l*o*t,h=f*r+r,p=Math.pow(o,2)*Math.pow(l,2)*t,d=Math.exp(-f),v=MT(Math.pow(l,2),o);return(-i(l)+WE>0?-1:1)*((h-p)*d)/v}):(i=l=>{const u=Math.exp(-l*t),f=(l-r)*t+1;return-WE+u*f},a=l=>{const u=Math.exp(-l*t),f=(r-l)*(t*t);return u*f});const s=5/t,c=Xye(i,a,s);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const Hye=12;function Xye(t,e,r){let n=r;for(let i=1;i<Hye;i++)n=n-t(n)/e(n);return n}function MT(t,e){return t*Math.sqrt(1-e*e)}const zye=["duration","bounce"],Wye=["stiffness","damping","mass"];function uB(t,e){return e.some(r=>t[r]!==void 0)}function Yye(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!uB(t,Wye)&&uB(t,zye)){const r=Vye(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function eO(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=y7(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:h}=Yye(a),p=cB,d=cB;function v(){const m=u?-(u/1e3):0,g=r-e,_=c/(2*Math.sqrt(s*l)),x=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),_<1){const b=MT(x,_);p=w=>{const E=Math.exp(-_*x*w);return r-E*((m+_*x*g)/b*Math.sin(b*w)+g*Math.cos(b*w))},d=w=>{const E=Math.exp(-_*x*w);return _*x*E*(Math.sin(b*w)*(m+_*x*g)/b+g*Math.cos(b*w))-E*(Math.cos(b*w)*(m+_*x*g)-b*g*Math.sin(b*w))}}else if(_===1)p=b=>r-Math.exp(-x*b)*(g+(m+x*g)*b);else{const b=x*Math.sqrt(_*_-1);p=w=>{const E=Math.exp(-_*x*w),C=Math.min(b*w,300);return r-E*((m+_*x*g)*Math.sinh(C)+b*g*Math.cosh(C))/b}}}return v(),{next:m=>{const g=p(m);if(h)o.done=m>=f;else{const _=d(m)*1e3,x=Math.abs(_)<=n,b=Math.abs(r-g)<=i;o.done=x&&b}return o.value=o.done?r:g,o},flipTarget:()=>{u=-u,[e,r]=[r,e],v()}}}eO.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const cB=t=>0,x7=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},tO=(t,e,r)=>-r*t+r*e+t,b7=(t,e)=>r=>Math.max(Math.min(r,e),t),wp=t=>t%1?Number(t.toFixed(5)):t,Uy=/(-)?([\d]*\.?[\d])+/g,BT=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,qye=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zv(t){return typeof t=="string"}const o1={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},w7=Object.assign(Object.assign({},o1),{transform:b7(0,1)});Object.assign(Object.assign({},o1),{default:1});const Kye=t=>({test:e=>Zv(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ep=Kye("%");Object.assign(Object.assign({},Ep),{parse:t=>Ep.parse(t)/100,transform:t=>Ep.transform(t*100)});const rO=(t,e)=>r=>!!(Zv(r)&&qye.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),E7=(t,e,r)=>n=>{if(!Zv(n))return n;const[i,a,o,s]=n.match(Uy);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},Ac={test:rO("hsl","hue"),parse:E7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ep.transform(wp(e))+", "+Ep.transform(wp(r))+", "+wp(w7.transform(n))+")"},Zye=b7(0,255),YE=Object.assign(Object.assign({},o1),{transform:t=>Math.round(Zye(t))}),Kl={test:rO("rgb","red"),parse:E7("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+YE.transform(t)+", "+YE.transform(e)+", "+YE.transform(r)+", "+wp(w7.transform(n))+")"};function Jye(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const DT={test:rO("#"),parse:Jye,transform:Kl.transform},s1={test:t=>Kl.test(t)||DT.test(t)||Ac.test(t),parse:t=>Kl.test(t)?Kl.parse(t):Ac.test(t)?Ac.parse(t):DT.parse(t),transform:t=>Zv(t)?t:t.hasOwnProperty("red")?Kl.transform(t):Ac.transform(t)},S7="${c}",C7="${n}";function Qye(t){var e,r,n,i;return isNaN(t)&&Zv(t)&&((r=(e=t.match(Uy))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(BT))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function T7(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(BT);n&&(r=n.length,t=t.replace(BT,S7),e.push(...n.map(s1.parse)));const i=t.match(Uy);return i&&(t=t.replace(Uy,C7),e.push(...i.map(o1.parse))),{values:e,numColors:r,tokenised:t}}function A7(t){return T7(t).values}function I7(t){const{values:e,numColors:r,tokenised:n}=T7(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?S7:C7,s<r?s1.transform(a[s]):wp(a[s]));return o}}const exe=t=>typeof t=="number"?0:t;function txe(t){const e=A7(t);return I7(t)(e.map(exe))}const R7={test:Qye,parse:A7,createTransformer:I7,getAnimatableNone:txe};function qE(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function fB({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;i=qE(c,s,t+1/3),a=qE(c,s,t),o=qE(c,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const rxe=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},nxe=[DT,Kl,Ac],hB=t=>nxe.find(e=>e.test(t)),P7=(t,e)=>{let r=hB(t),n=hB(e),i=r.parse(t),a=n.parse(e);r===Ac&&(i=fB(i),r=Kl),n===Ac&&(a=fB(a),n=Kl);const o=Object.assign({},i);return s=>{for(const c in o)c!=="alpha"&&(o[c]=rxe(i[c],a[c],s));return o.alpha=tO(i.alpha,a.alpha,s),r.transform(o)}},ixe=t=>typeof t=="number",axe=(t,e)=>r=>e(t(r)),O7=(...t)=>t.reduce(axe);function k7(t,e){return ixe(t)?r=>tO(t,e,r):s1.test(t)?P7(t,e):N7(t,e)}const F7=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>k7(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},oxe=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=k7(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function dB(t){const e=R7.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const N7=(t,e)=>{const r=R7.createTransformer(e),n=dB(t),i=dB(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?O7(F7(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},sxe=(t,e)=>r=>tO(t,e,r);function lxe(t){if(typeof t=="number")return sxe;if(typeof t=="string")return s1.test(t)?P7:N7;if(Array.isArray(t))return F7;if(typeof t=="object")return oxe}function uxe(t,e,r){const n=[],i=r||lxe(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;s=O7(c,s)}n.push(s)}return n}function cxe([t,e],[r]){return n=>r(x7(t,e,n))}function fxe(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let c=1;for(;c<r&&!(t[c]>i||c===n);c++);a=c-1}const s=x7(t[a],t[a+1],i);return e[a](s)}}function L7(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;sB(a===e.length),sB(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=uxe(e,n,i),s=a===2?cxe(t,o):fxe(t,o);return r?c=>s(LT(t[0],t[a-1],c)):s}const hxe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dxe=t=>e=>Math.pow(e,t),pxe=t=>e=>e*e*((t+1)*e-t),vxe=t=>{const e=pxe(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},gxe=1.525,mxe=dxe(2),_xe=hxe(mxe);vxe(gxe);function yxe(t,e){return t.map(()=>e||_xe).splice(0,t.length-1)}function xxe(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function bxe(t,e){return t.map(r=>r*e)}function F_({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=bxe(n&&n.length===o.length?n:xxe(o),i);function c(){return L7(s,o,{ease:Array.isArray(r)?r:yxe(o,r)})}let l=c();return{next:u=>(a.value=l(u),a.done=u>=i,a),flipTarget:()=>{o.reverse(),l=c()}}}function wxe({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const c=e+s,l=a===void 0?c:a(c);return l!==c&&(s=l-e),{next:u=>{const f=-s*Math.exp(-u/n);return o.done=!(f>i||f<-i),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}const pB={keyframes:F_,spring:eO,decay:wxe};function Exe(t){if(Array.isArray(t.to))return F_;if(pB[t.type])return pB[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?F_:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?eO:F_}const M7=1/60*1e3,Sxe=typeof performance<"u"?()=>performance.now():()=>Date.now(),B7=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(Sxe()),M7);function Cxe(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(c,l=!1,u=!1)=>{const f=u&&i,h=f?e:r;return l&&o.add(c),h.indexOf(c)===-1&&(h.push(c),f&&i&&(n=e.length)),c},cancel:c=>{const l=r.indexOf(c);l!==-1&&r.splice(l,1),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const u=e[l];u(c),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(c))}};return s}const Txe=40;let UT=!0,rv=!1,jT=!1;const Sp={delta:0,timestamp:0},Jv=["read","update","preRender","render","postRender"],l1=Jv.reduce((t,e)=>(t[e]=Cxe(()=>rv=!0),t),{}),Axe=Jv.reduce((t,e)=>{const r=l1[e];return t[e]=(n,i=!1,a=!1)=>(rv||Pxe(),r.schedule(n,i,a)),t},{}),Ixe=Jv.reduce((t,e)=>(t[e]=l1[e].cancel,t),{});Jv.reduce((t,e)=>(t[e]=()=>l1[e].process(Sp),t),{});const Rxe=t=>l1[t].process(Sp),D7=t=>{rv=!1,Sp.delta=UT?M7:Math.max(Math.min(t-Sp.timestamp,Txe),1),Sp.timestamp=t,jT=!0,Jv.forEach(Rxe),jT=!1,rv&&(UT=!1,B7(D7))},Pxe=()=>{rv=!0,UT=!0,jT||B7(D7)},Oxe=Axe;function U7(t,e,r=0){return t-e-r}function kxe(t,e,r=0,n=!0){return n?U7(e+-t,e,r):e-(t-e)+r}function Fxe(t,e,r,n){return n?t>=e+r:t<=-r}const Nxe=t=>{const e=({delta:r})=>t(r);return{start:()=>Oxe.update(e,!0),stop:()=>Ixe.update(e)}};function Lxe(t){var e,r,{from:n,autoplay:i=!0,driver:a=Nxe,elapsed:o=0,repeat:s=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:f,onComplete:h,onRepeat:p,onUpdate:d}=t,v=y7(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:m}=v,g,_=0,x=v.duration,b,w=!1,E=!0,C;const T=Exe(v);!((r=(e=T).needsInterpolation)===null||r===void 0)&&r.call(e,n,m)&&(C=L7([0,100],[n,m],{clamp:!1}),n=0,m=100);const I=T(Object.assign(Object.assign({},v),{from:n,to:m}));function R(){_++,c==="reverse"?(E=_%2===0,o=kxe(o,x,l,E)):(o=U7(o,x,l),c==="mirror"&&I.flipTarget()),w=!1,p&&p()}function O(){g.stop(),h&&h()}function P(L){if(E||(L=-L),o+=L,!w){const B=I.next(Math.max(0,o));b=B.value,C&&(b=C(b)),w=E?B.done:o<=0}d==null||d(b),w&&(_===0&&(x??(x=o)),_<s?Fxe(o,x,l,E)&&R():O())}function k(){u==null||u(),g=a(P),g.start()}return i&&k(),{stop:()=>{f==null||f(),g.stop()}}}function Mxe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Bxe=Mxe,Dxe=v7,Uxe=Bxe,jxe=g7,$xe=1,Gxe=2;function Vxe(t,e,r,n,i,a){var o=r&$xe,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var f=-1,h=!0,p=r&Gxe?new Dxe:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var d=t[f],v=e[f];if(n)var m=o?n(v,d,f,e,t,a):n(d,v,f,t,e,a);if(m!==void 0){if(m)continue;h=!1;break}if(p){if(!Uxe(e,function(g,_){if(!jxe(p,_)&&(d===g||i(d,g,r,n,a)))return p.push(_)})){h=!1;break}}else if(!(d===v||i(d,v,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var j7=Vxe;function Hxe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Xxe=Hxe,vB=zv,gB=Y$,zxe=gP,Wxe=j7,Yxe=Xxe,qxe=JP,Kxe=1,Zxe=2,Jxe="[object Boolean]",Qxe="[object Date]",e1e="[object Error]",t1e="[object Map]",r1e="[object Number]",n1e="[object RegExp]",i1e="[object Set]",a1e="[object String]",o1e="[object Symbol]",s1e="[object ArrayBuffer]",l1e="[object DataView]",mB=vB?vB.prototype:void 0,KE=mB?mB.valueOf:void 0;function u1e(t,e,r,n,i,a,o){switch(r){case l1e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case s1e:return!(t.byteLength!=e.byteLength||!a(new gB(t),new gB(e)));case Jxe:case Qxe:case r1e:return zxe(+t,+e);case e1e:return t.name==e.name&&t.message==e.message;case n1e:case a1e:return t==e+"";case t1e:var s=Yxe;case i1e:var c=n&Kxe;if(s||(s=qxe),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=Zxe,o.set(t,e);var u=Wxe(s(t),s(e),n,i,a,o);return o.delete(t),u;case o1e:if(KE)return KE.call(t)==KE.call(e)}return!1}var c1e=u1e,_B=H$,f1e=1,h1e=Object.prototype,d1e=h1e.hasOwnProperty;function p1e(t,e,r,n,i,a){var o=r&f1e,s=_B(t),c=s.length,l=_B(e),u=l.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in e:d1e.call(e,h)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var v=!0;a.set(t,e),a.set(e,t);for(var m=o;++f<c;){h=s[f];var g=t[h],_=e[h];if(n)var x=o?n(_,g,h,e,t,a):n(g,_,h,t,e,a);if(!(x===void 0?g===_||i(g,_,r,n,a):x)){v=!1;break}m||(m=h=="constructor")}if(v&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(v=!1)}return a.delete(t),a.delete(e),v}var v1e=p1e,ZE=yP,g1e=j7,m1e=c1e,_1e=v1e,yB=Gx,xB=_l,bB=bP,y1e=L$,x1e=1,wB="[object Arguments]",EB="[object Array]",bm="[object Object]",b1e=Object.prototype,SB=b1e.hasOwnProperty;function w1e(t,e,r,n,i,a){var o=xB(t),s=xB(e),c=o?EB:yB(t),l=s?EB:yB(e);c=c==wB?bm:c,l=l==wB?bm:l;var u=c==bm,f=l==bm,h=c==l;if(h&&bB(t)){if(!bB(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new ZE),o||y1e(t)?g1e(t,e,r,n,i,a):m1e(t,e,c,r,n,i,a);if(!(r&x1e)){var p=u&&SB.call(t,"__wrapped__"),d=f&&SB.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,m=d?e.value():e;return a||(a=new ZE),i(v,m,r,n,a)}}return h?(a||(a=new ZE),_1e(t,e,r,n,i,a)):!1}var E1e=w1e,S1e=E1e,CB=df;function $7(t,e,r,n,i){return t===e?!0:t==null||e==null||!CB(t)&&!CB(e)?t!==t&&e!==e:S1e(t,e,r,n,$7,i)}var G7=$7,C1e=yP,T1e=G7,A1e=1,I1e=2;function R1e(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var f=new C1e;if(n)var h=n(l,u,c,t,e,f);if(!(h===void 0?T1e(u,l,A1e|I1e,n,f):h))return!1}}return!0}var P1e=R1e,O1e=Ns;function k1e(t){return t===t&&!O1e(t)}var V7=k1e,F1e=V7,N1e=$x;function L1e(t){for(var e=N1e(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,F1e(i)]}return e}var M1e=L1e;function B1e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var H7=B1e,D1e=P1e,U1e=M1e,j1e=H7;function $1e(t){var e=U1e(t);return e.length==1&&e[0][2]?j1e(e[0][0],e[0][1]):function(r){return r===t||D1e(r,t,e)}}var G1e=$1e,V1e=Wv,H1e=df,X1e="[object Symbol]";function z1e(t){return typeof t=="symbol"||H1e(t)&&V1e(t)==X1e}var u1=z1e,W1e=_l,Y1e=u1,q1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K1e=/^\w*$/;function Z1e(t,e){if(W1e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Y1e(t)?!0:K1e.test(t)||!q1e.test(t)||e!=null&&t in Object(e)}var nO=Z1e,X7=_P,J1e="Expected a function";function iO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(J1e);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(iO.Cache||X7),r}iO.Cache=X7;var Q1e=iO,ebe=Q1e,tbe=500;function rbe(t){var e=ebe(t,function(n){return r.size===tbe&&r.clear(),n}),r=e.cache;return e}var nbe=rbe,ibe=nbe,abe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,obe=/\\(\\)?/g,sbe=ibe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(abe,function(r,n,i,a){e.push(i?a.replace(obe,"$1"):n||r)}),e}),lbe=sbe;function ube(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var z7=ube,TB=zv,cbe=z7,fbe=_l,hbe=u1,dbe=1/0,AB=TB?TB.prototype:void 0,IB=AB?AB.toString:void 0;function W7(t){if(typeof t=="string")return t;if(fbe(t))return cbe(t,W7)+"";if(hbe(t))return IB?IB.call(t):"";var e=t+"";return e=="0"&&1/t==-dbe?"-0":e}var pbe=W7,vbe=pbe;function gbe(t){return t==null?"":vbe(t)}var mbe=gbe,_be=_l,ybe=nO,xbe=lbe,bbe=mbe;function wbe(t,e){return _be(t)?t:ybe(t,e)?[t]:xbe(bbe(t))}var c1=wbe,Ebe=u1,Sbe=1/0;function Cbe(t){if(typeof t=="string"||Ebe(t))return t;var e=t+"";return e=="0"&&1/t==-Sbe?"-0":e}var Qv=Cbe,Tbe=c1,Abe=Qv;function Ibe(t,e){e=Tbe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Abe(e[r++])];return r&&r==n?t:void 0}var aO=Ibe,Rbe=aO;function Pbe(t,e,r){var n=t==null?void 0:Rbe(t,e);return n===void 0?r:n}var Obe=Pbe;function kbe(t,e){return t!=null&&e in Object(t)}var Fbe=kbe,Nbe=c1,Lbe=N$,Mbe=_l,Bbe=wP,Dbe=EP,Ube=Qv;function jbe(t,e,r){e=Nbe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Ube(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&Dbe(i)&&Bbe(o,i)&&(Mbe(t)||Lbe(t)))}var $be=jbe,Gbe=Fbe,Vbe=$be;function Hbe(t,e){return t!=null&&Vbe(t,e,Gbe)}var Xbe=Hbe,zbe=G7,Wbe=Obe,Ybe=Xbe,qbe=nO,Kbe=V7,Zbe=H7,Jbe=Qv,Qbe=1,ewe=2;function twe(t,e){return qbe(t)&&Kbe(e)?Zbe(Jbe(t),e):function(r){var n=Wbe(r,t);return n===void 0&&n===e?Ybe(r,t):zbe(e,n,Qbe|ewe)}}var rwe=twe;function nwe(t){return t}var iwe=nwe;function awe(t){return function(e){return e==null?void 0:e[t]}}var owe=awe,swe=aO;function lwe(t){return function(e){return swe(e,t)}}var uwe=lwe,cwe=owe,fwe=uwe,hwe=nO,dwe=Qv;function pwe(t){return hwe(t)?cwe(dwe(t)):fwe(t)}var vwe=pwe,gwe=G1e,mwe=rwe,_we=iwe,ywe=_l,xwe=vwe;function bwe(t){return typeof t=="function"?t:t==null?_we:typeof t=="object"?ywe(t)?mwe(t[0],t[1]):gwe(t):xwe(t)}var Y7=bwe,wwe="Expected a function";function Ewe(t){if(typeof t!="function")throw new TypeError(wwe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var Swe=Ewe,Cwe=xP,Twe=c1,Awe=wP,RB=Ns,Iwe=Qv;function Rwe(t,e,r,n){if(!RB(t))return t;e=Twe(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var c=Iwe(e[i]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=o){var u=s[c];l=n?n(u,c,s):void 0,l===void 0&&(l=RB(u)?u:Awe(e[i+1])?[]:{})}Cwe(s,c,l),s=s[c]}return t}var Pwe=Rwe,Owe=aO,kwe=Pwe,Fwe=c1;function Nwe(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=Owe(t,o);r(s,o)&&kwe(a,Fwe(o,t),s)}return a}var Lwe=Nwe,Mwe=z7,Bwe=Y7,Dwe=Lwe,Uwe=X$;function jwe(t,e){if(t==null)return{};var r=Mwe(Uwe(t),function(n){return[n]});return e=Bwe(e),Dwe(t,r,function(n,i){return e(n,i[0])})}var $we=jwe,Gwe=Y7,Vwe=Swe,Hwe=$we;function Xwe(t,e){return Hwe(t,Vwe(Gwe(e)))}var zwe=Xwe;const JE=$i(zwe);function Wwe(t){return t===void 0}var Ywe=Wwe;const Ys=$i(Ywe);function q7(t,e,r){const n=J.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const g of t){const _=g.duration;i+=_;const{position:x,scale:b,...w}=g;a.push({x:x.x,y:x.y,scaleX:b.x,scaleY:b.y,...w}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let c=null;r>0&&(c=Lxe({to:a,offset:o,duration:r,onUpdate:g=>{if(s){const{scaleX:_,scaleY:x,...b}=g;Object.assign(s,JE(b,Ys)),Ys(_)||(s.scale.x=_),Ys(x)||(s.scale.y=x)}}}));const{duration:l,...u}=v();pe.dispatch(Sa.updateEffect({target:e,transform:u}));function f(){if(n!=null&&n.pixiContainer){const{position:g,scale:_,...x}=d(),b=JE({x:g.x,y:g.y,...x},Ys);Object.assign(n==null?void 0:n.pixiContainer,b),n!=null&&n.pixiContainer&&(Ys(_.x)||(n.pixiContainer.scale.x=_.x),Ys(_==null?void 0:_.y)||(n.pixiContainer.scale.y=_.y))}}function h(){if(c&&c.stop(),c=null,n!=null&&n.pixiContainer){const{position:g,scale:_,...x}=v(),b=JE({x:g.x,y:g.y,...x},Ys);Object.assign(n==null?void 0:n.pixiContainer,b),n!=null&&n.pixiContainer&&(Ys(_.x)||(n.pixiContainer.scale.x=_.x),Ys(_==null?void 0:_.y)||(n.pixiContainer.scale.y=_.y))}}function p(g){}function d(){return t[0]}function v(){return t[t.length-1]}function m(){const g=t[t.length-1],{alpha:_,rotation:x,blur:b,duration:w,scale:E,position:C,...T}=g;return T}return{setStartState:f,setEndState:h,tickerFunc:p,getEndFilterEffect:m}}function jy(t,e,r){const n=J.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=pe.getState().stage.effects.find(c=>c.target===e),s=vn({...(o==null?void 0:o.transform)??QP,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return it.debug("",i),q7(i,e,r)}return null}function Ta(t){const e=J.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function Hl(t,e,r=!1){if(e==="enter"){let n=500;r&&(n=1500);let i=m7(t,n);const a=J.animationManager.nextEnterAnimationName.get(t);return a&&(it.debug("",t),i=jy(a,t,Ta(a)),n=Ta(a),J.animationManager.nextEnterAnimationName.delete(t)),{duration:n,animation:i}}else{let n=750;r&&(n=1500);let i=_7(t,n);const a=J.animationManager.nextExitAnimationName.get(t);return a&&(it.debug("",t),i=jy(a,t,Ta(a)),n=Ta(a),J.animationManager.nextExitAnimationName.delete(t)),{duration:n,animation:i}}}const Xo=()=>Math.random().toString().substring(0,10);class qwe{constructor(){lt(this,"performList",[]);lt(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};pe.dispatch(Sa.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--)}}erasePerformFromState(e){pe.dispatch(Sa.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){let e=!1;this.performList.forEach(r=>{r.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):ti()}}const Kwe=t=>{const e=t.content,r=pe.dispatch;if(pe.getState().GUI.showStoryLine)return r(Lt({key:"storyLineBg",value:e})),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(Lt({key:"storyLineBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(Lt({key:"storyLineBgY",value:f.value}))}),{performName:Xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};if(pe.getState().GUI.showAchievement)return r(jhe(e)),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(Lt({key:"achieveBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(Lt({key:"achieveBgY",value:f.value}))}),{performName:Xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let n="",i="default",a=0,o=0;t.args.forEach(f=>{switch(f.key){case"unlockname":n=f.value.toString();break;case"series":i=f.value.toString();break;case"x":a=Number((f==null?void 0:f.value)??0);break;case"y":o=Number((f==null?void 0:f.value)??0);break}}),n!==""&&r(mG({name:n,url:e,series:i})),r(Sa.removeEffectByTargetId("bg-main"));const s=fr(t,"transform");let c=fr(t,"duration");(!c||typeof c!="number")&&(c=1e3);let l;if(s)try{const f=JSON.parse(s.toString());l=tv("bg-main",f,c),l[0].alpha=0;const h=(Math.random()*10).toString(16),p={name:h,effects:l};J.animationManager.addAnimation(p),c=Ta(h),J.animationManager.nextEnterAnimationName.set("bg-main",h)}catch{u()}else u();function u(){l=tv("bg-main",{},c),l[0].alpha=0;const h=(Math.random()*10).toString(16),p={name:h,effects:l};J.animationManager.addAnimation(p),c=Ta(h),J.animationManager.nextEnterAnimationName.set("bg-main",h)}return fr(t,"enter")&&(J.animationManager.nextEnterAnimationName.set("bg-main",fr(t,"enter").toString()),c=Ta(fr(t,"enter").toString())),fr(t,"exit")&&(J.animationManager.nextExitAnimationName.set("bg-main-off",fr(t,"exit").toString()),c=Ta(fr(t,"exit").toString())),a&&r(Lt({key:"bgX",value:a})),o&&r(Lt({key:"bgY",value:o})),r(Lt({key:"bgName",value:t.content})),{performName:"none",duration:c,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Zwe(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",p="";const d=pe.dispatch;for(const w of t.args)switch(w.key){case"left":w.value===!0&&(e="left");break;case"right":w.value===!0&&(e="right");break;case"clear":w.value===!0&&(r="");break;case"id":n=!0,o=w.value.toString();break;case"motion":i=w.value.toString();break;case"expression":a=w.value.toString();break;case"mouthOpen":c=w.value.toString(),c=Ir(c,Ar.figure);break;case"mouthClose":l=w.value.toString(),l=Ir(l,Ar.figure);break;case"mouthHalfOpen":u=w.value.toString(),u=Ir(u,Ar.figure);break;case"eyesOpen":f=w.value.toString(),f=Ir(f,Ar.figure);break;case"eyesClose":h=w.value.toString(),h=Ir(h,Ar.figure);break;case"animationFlag":p=w.value.toString();break;case"none":r="";break}const v=o||`fig-${e}`,g=pe.getState().stage.figureAssociatedAnimation.filter(w=>w.targetId!==v),_={targetId:v,animationFlag:p,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};g.push(_),d(Lt({key:"figureAssociatedAnimation",value:g}));let x=!0;if(o!==""){const w=pe.getState().stage.freeFigure.find(E=>E.key===o);w&&w.name===t.content&&(x=!1)}else e==="center"&&pe.getState().stage.figName===t.content&&(x=!1),e==="left"&&pe.getState().stage.figNameLeft===t.content&&(x=!1),e==="right"&&pe.getState().stage.figNameRight===t.content&&(x=!1);if(x){const w=`fig-${e}`,E=`${o}`;pe.dispatch(Sa.removeEffectByTargetId(w)),pe.dispatch(Sa.removeEffectByTargetId(E))}const b=(w,E)=>{const C=fr(E,"transform"),T=fr(E,"duration");T&&typeof T=="number"&&(s=T);let I;if(C){console.log(C);try{const k=JSON.parse(C.toString());I=tv(w,k,s),I[0].alpha=0;const L=(Math.random()*10).toString(16),B={name:L,effects:I};J.animationManager.addAnimation(B),s=Ta(L),J.animationManager.nextEnterAnimationName.set(w,L)}catch{R()}}else R();function R(){I=tv(w,{},s),I[0].alpha=0;const L=(Math.random()*10).toString(16),B={name:L,effects:I};J.animationManager.addAnimation(B),s=Ta(L),J.animationManager.nextEnterAnimationName.set(w,L)}const O=fr(E,"enter"),P=fr(E,"exit");O&&(J.animationManager.nextEnterAnimationName.set(w,O.toString()),s=Ta(O.toString())),P&&(J.animationManager.nextExitAnimationName.set(w+"-off",P.toString()),s=Ta(P.toString()))};if(n){pe.getState().stage.freeFigure;const w={key:o,name:r,basePosition:e};b(o,t),i&&d(Sa.setLive2dMotion({target:o,motion:i})),a&&d(Sa.setLive2dExpression({target:o,expression:a})),d(Sa.setFreeFigureByKey(w))}else{const w={center:"fig-center",left:"fig-left",right:"fig-right"},E={center:"figName",left:"figNameLeft",right:"figNameRight"};o=w[e],b(o,t),i&&d(Sa.setLive2dMotion({target:o,motion:i})),a&&d(Sa.setLive2dExpression({target:o,expression:a})),d(Lt({key:E[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const K7=(t,e)=>{Ka(t).then(async r=>{if(await J.sceneManager.setCurrentScene(r,e,t,!0)){J.sceneManager.sceneData.currentSentenceId=0;const i=[];J.sceneManager.sceneData.currentScene.assetsList.forEach(s=>{(s.url.endsWith(".mp4")||s.url.endsWith(".flv"))&&i.push(s.url)}),J.videoManager.destroyExcept(i);const a=J.sceneManager.sceneData.currentScene.subSceneList;J.sceneManager.settledScenes.push(t);const o=Kv(a);Md(o),it.debug("",J.sceneManager.sceneData),ti()}})},Jwe=t=>{const e=t.content.split("/"),r=e[e.length-1];return K7(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Z7=t=>{const e=J.sceneManager.sceneData.currentSentenceId;let r=e;J.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===Xt.label&&n.content===t&&i!==e&&(r=i)}),J.sceneManager.sceneData.currentSentenceId=r,setTimeout(ti,1)},Qwe="_Choose_Main_vkuyi_1",eEe="_Choose_item_vkuyi_15",tEe="_Choose_item_image_vkuyi_37",rEe="_Choose_item_countdown_vkuyi_52",nEe="_Choose_item_countdown_disabled_vkuyi_59",iEe="_Choose_item_progress_bar_vkuyi_66",aEe="_Choose_item_disabled_vkuyi_75",Ju={Choose_Main:Qwe,Choose_item:eEe,Choose_item_image:tEe,Choose_item_countdown:rEe,Choose_item_countdown_disabled:nEe,Choose_item_progress_bar:iEe,Choose_item_disabled:aEe},oEe=""+new URL("page-flip-1.mp3",import.meta.url).href,sEe=""+new URL("switch-1.mp3",import.meta.url).href,J7=""+new URL("mouse-enter.mp3",import.meta.url).href,lEe=""+new URL("dialog.mp3",import.meta.url).href,Q7=""+new URL("click.mp3",import.meta.url).href;var eV={exports:{}},tV={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd=_e;function uEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cEe=typeof Object.is=="function"?Object.is:uEe,fEe=rd.useState,hEe=rd.useEffect,dEe=rd.useLayoutEffect,pEe=rd.useDebugValue;function vEe(t,e){var r=e(),n=fEe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return dEe(function(){i.value=r,i.getSnapshot=e,QE(i)&&a({inst:i})},[t,r,e]),hEe(function(){return QE(i)&&a({inst:i}),t(function(){QE(i)&&a({inst:i})})},[t]),pEe(r),r}function QE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!cEe(t,r)}catch{return!0}}function gEe(t,e){return e()}var mEe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gEe:vEe;tV.useSyncExternalStore=rd.useSyncExternalStore!==void 0?rd.useSyncExternalStore:mEe;eV.exports=tV;var _Ee=eV.exports,rV={exports:{}},nV={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1=_e,yEe=_Ee;function xEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bEe=typeof Object.is=="function"?Object.is:xEe,wEe=yEe.useSyncExternalStore,EEe=f1.useRef,SEe=f1.useEffect,CEe=f1.useMemo,TEe=f1.useDebugValue;nV.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=EEe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=CEe(function(){function c(p){if(!l){if(l=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var d=o.value;if(i(d,p))return f=d}return f=p}if(d=f,bEe(u,p))return d;var v=n(p);return i!==void 0&&i(d,v)?d:(u=p,f=v)}var l=!1,u,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var s=wEe(t,a[0],a[1]);return SEe(function(){o.hasValue=!0,o.value=s},[s]),TEe(s),s};rV.exports=nV;var AEe=rV.exports;function IEe(t){t()}let iV=IEe;const REe=t=>iV=t,PEe=()=>iV,PB=Symbol.for("react-redux-context"),OB=typeof globalThis<"u"?globalThis:{};function OEe(){var t;if(!_e.createContext)return{};const e=(t=OB[PB])!=null?t:OB[PB]=new Map;let r=e.get(_e.createContext);return r||(r=_e.createContext(null),e.set(_e.createContext,r)),r}const Su=OEe();function oO(t=Su){return function(){return _e.useContext(t)}}const aV=oO(),kEe=()=>{throw new Error("uSES not initialized!")};let oV=kEe;const FEe=t=>{oV=t},NEe=(t,e)=>t===e;function LEe(t=Su){const e=t===Su?aV:oO(t);return function(n,i={}){const{equalityFn:a=NEe,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:f,noopCheck:h}=e();_e.useRef(!0);const p=_e.useCallback({[n.name](v){return n(v)}}[n.name],[n,f,o]),d=oV(l.addNestedSub,c.getState,u||c.getState,p,a);return _e.useDebugValue(d),d}}const xt=LEe();function MEe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var sV={exports:{}},jr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=typeof Symbol=="function"&&Symbol.for,sO=Ti?Symbol.for("react.element"):60103,lO=Ti?Symbol.for("react.portal"):60106,h1=Ti?Symbol.for("react.fragment"):60107,d1=Ti?Symbol.for("react.strict_mode"):60108,p1=Ti?Symbol.for("react.profiler"):60114,v1=Ti?Symbol.for("react.provider"):60109,g1=Ti?Symbol.for("react.context"):60110,uO=Ti?Symbol.for("react.async_mode"):60111,m1=Ti?Symbol.for("react.concurrent_mode"):60111,_1=Ti?Symbol.for("react.forward_ref"):60112,y1=Ti?Symbol.for("react.suspense"):60113,BEe=Ti?Symbol.for("react.suspense_list"):60120,x1=Ti?Symbol.for("react.memo"):60115,b1=Ti?Symbol.for("react.lazy"):60116,DEe=Ti?Symbol.for("react.block"):60121,UEe=Ti?Symbol.for("react.fundamental"):60117,jEe=Ti?Symbol.for("react.responder"):60118,$Ee=Ti?Symbol.for("react.scope"):60119;function Za(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sO:switch(t=t.type,t){case uO:case m1:case h1:case p1:case d1:case y1:return t;default:switch(t=t&&t.$$typeof,t){case g1:case _1:case b1:case x1:case v1:return t;default:return e}}case lO:return e}}}function lV(t){return Za(t)===m1}jr.AsyncMode=uO;jr.ConcurrentMode=m1;jr.ContextConsumer=g1;jr.ContextProvider=v1;jr.Element=sO;jr.ForwardRef=_1;jr.Fragment=h1;jr.Lazy=b1;jr.Memo=x1;jr.Portal=lO;jr.Profiler=p1;jr.StrictMode=d1;jr.Suspense=y1;jr.isAsyncMode=function(t){return lV(t)||Za(t)===uO};jr.isConcurrentMode=lV;jr.isContextConsumer=function(t){return Za(t)===g1};jr.isContextProvider=function(t){return Za(t)===v1};jr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sO};jr.isForwardRef=function(t){return Za(t)===_1};jr.isFragment=function(t){return Za(t)===h1};jr.isLazy=function(t){return Za(t)===b1};jr.isMemo=function(t){return Za(t)===x1};jr.isPortal=function(t){return Za(t)===lO};jr.isProfiler=function(t){return Za(t)===p1};jr.isStrictMode=function(t){return Za(t)===d1};jr.isSuspense=function(t){return Za(t)===y1};jr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===h1||t===m1||t===p1||t===d1||t===y1||t===BEe||typeof t=="object"&&t!==null&&(t.$$typeof===b1||t.$$typeof===x1||t.$$typeof===v1||t.$$typeof===g1||t.$$typeof===_1||t.$$typeof===UEe||t.$$typeof===jEe||t.$$typeof===$Ee||t.$$typeof===DEe)};jr.typeOf=Za;sV.exports=jr;var GEe=sV.exports,uV=GEe,VEe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},HEe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cV={};cV[uV.ForwardRef]=VEe;cV[uV.Memo]=HEe;var Hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO=Symbol.for("react.element"),fO=Symbol.for("react.portal"),w1=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),S1=Symbol.for("react.profiler"),C1=Symbol.for("react.provider"),T1=Symbol.for("react.context"),XEe=Symbol.for("react.server_context"),A1=Symbol.for("react.forward_ref"),I1=Symbol.for("react.suspense"),R1=Symbol.for("react.suspense_list"),P1=Symbol.for("react.memo"),O1=Symbol.for("react.lazy"),zEe=Symbol.for("react.offscreen"),fV;fV=Symbol.for("react.module.reference");function xo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cO:switch(t=t.type,t){case w1:case S1:case E1:case I1:case R1:return t;default:switch(t=t&&t.$$typeof,t){case XEe:case T1:case A1:case O1:case P1:case C1:return t;default:return e}}case fO:return e}}}Hr.ContextConsumer=T1;Hr.ContextProvider=C1;Hr.Element=cO;Hr.ForwardRef=A1;Hr.Fragment=w1;Hr.Lazy=O1;Hr.Memo=P1;Hr.Portal=fO;Hr.Profiler=S1;Hr.StrictMode=E1;Hr.Suspense=I1;Hr.SuspenseList=R1;Hr.isAsyncMode=function(){return!1};Hr.isConcurrentMode=function(){return!1};Hr.isContextConsumer=function(t){return xo(t)===T1};Hr.isContextProvider=function(t){return xo(t)===C1};Hr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cO};Hr.isForwardRef=function(t){return xo(t)===A1};Hr.isFragment=function(t){return xo(t)===w1};Hr.isLazy=function(t){return xo(t)===O1};Hr.isMemo=function(t){return xo(t)===P1};Hr.isPortal=function(t){return xo(t)===fO};Hr.isProfiler=function(t){return xo(t)===S1};Hr.isStrictMode=function(t){return xo(t)===E1};Hr.isSuspense=function(t){return xo(t)===I1};Hr.isSuspenseList=function(t){return xo(t)===R1};Hr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===w1||t===S1||t===E1||t===I1||t===R1||t===zEe||typeof t=="object"&&t!==null&&(t.$$typeof===O1||t.$$typeof===P1||t.$$typeof===C1||t.$$typeof===T1||t.$$typeof===A1||t.$$typeof===fV||t.getModuleId!==void 0)};Hr.typeOf=xo;function WEe(){const t=PEe();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const kB={notify(){},get:()=>[]};function YEe(t,e){let r,n=kB,i=0,a=!1;function o(v){u();const m=n.subscribe(v);let g=!1;return()=>{g||(g=!0,m(),f())}}function s(){n.notify()}function c(){d.onStateChange&&d.onStateChange()}function l(){return a}function u(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=WEe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=kB)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,f())}const d={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return d}const qEe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KEe=qEe?_e.useLayoutEffect:_e.useEffect;function ZEe({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=_e.useMemo(()=>{const l=YEe(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=_e.useMemo(()=>t.getState(),[t]);KEe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const c=e||Su;return _e.createElement(c.Provider,{value:o},r)}function hV(t=Su){const e=t===Su?aV:oO(t);return function(){const{store:n}=e();return n}}const JEe=hV();function QEe(t=Su){const e=t===Su?JEe:hV(t);return function(){return e().dispatch}}const an=QEe();FEe(AEe.useSyncExternalStoreWithSelector);REe(v$.unstable_batchedUpdates);const ri=()=>{const t=an();return xt(o=>o.stage),{playSeEnter:()=>{t(Lt({key:"uiSe",value:J7}))},playSeClick:()=>{t(Lt({key:"uiSe",value:Q7}))},playSePageChange:()=>{t(Lt({key:"uiSe",value:oEe}))},playSeDialogOpen:()=>{t(Lt({key:"uiSe",value:lEe}))},playSeSwitch:()=>{t(Lt({key:"uiSe",value:sEe}))}}},Bd=()=>({playSeEnter:()=>{pe.dispatch(Lt({key:"uiSe",value:J7}))},playSeClick:()=>{pe.dispatch(Lt({key:"uiSe",value:Q7}))}}),eSe=""+new URL("progress-bar-bg.png",import.meta.url).href,tSe=""+new URL("progress-bar.png",import.meta.url).href,rSe="_GlobalDialog_main_1h6ar_2",nSe="_showGlobalDialog_1h6ar_1",iSe="_glabalDialog_container_inner_1h6ar_17",aSe="_GlobalDialog_pay_container_1h6ar_30",oSe="_GlobalDialog_pay_tip_1h6ar_40",sSe="_GlobalDialog_pay_close_1h6ar_53",lSe="_GlobalDialog_pay_title_1h6ar_66",uSe="_GlobalDialog_pay_content_1h6ar_78",cSe="_GlobalDialog_star_stone_1h6ar_89",fSe="_GlobalDialog_pay_btns_1h6ar_99",hSe="_GlobalDialog_pay_btn_1h6ar_99",dSe="_GlobalDialog_pay_cancel_1h6ar_119",pSe="_GlobalDialog_pay_confirm_1h6ar_125",vSe="_glabalDialog_container_1h6ar_17",gSe="_title_1h6ar_139",mSe="_button_list_1h6ar_151",_Se="_button_1h6ar_151",ai={GlobalDialog_main:rSe,showGlobalDialog:nSe,glabalDialog_container_inner:iSe,GlobalDialog_pay_container:aSe,GlobalDialog_pay_tip:oSe,GlobalDialog_pay_close:sSe,GlobalDialog_pay_title:lSe,GlobalDialog_pay_content:uSe,GlobalDialog_star_stone:cSe,GlobalDialog_pay_btns:fSe,GlobalDialog_pay_btn:hSe,GlobalDialog_pay_cancel:dSe,GlobalDialog_pay_confirm:pSe,glabalDialog_container:vSe,title:gSe,button_list:mSe,button:_Se};function ySe(){const t=xt(e=>e.GUI.showGlobalDialog);return N.jsx(N.Fragment,{children:t&&N.jsx("div",{id:"globalDialogContainer"})})}function Yo(t){const{playSeClick:e,playSeEnter:r}=Bd(),n=t.type??"normal";pe.dispatch(It({component:"showGlobalDialog",visibility:!0}));const i=()=>{var s;e(),(s=t.leftFunc)==null||s.call(t),eS()},a=()=>{e(),t.rightFunc(),eS()};let o=null;n==="normal"?o=N.jsx("div",{className:ai.GlobalDialog_main,children:N.jsx("div",{className:ai.glabalDialog_container,children:N.jsxs("div",{className:ai.glabalDialog_container_inner,children:[N.jsx("div",{className:ai.title,children:t.title}),N.jsxs("div",{className:ai.button_list,children:[!!t.leftText&&N.jsx("div",{className:ai.button,onClick:i,onMouseEnter:r,children:t.leftText}),N.jsx("div",{className:ai.button,onClick:a,onMouseEnter:r,children:t.rightText})]})]})})}):n==="pay"&&(o=N.jsx("div",{className:ai.GlobalDialog_main,children:N.jsxs("div",{className:ai.GlobalDialog_pay_container,children:[N.jsx("div",{className:ai.GlobalDialog_pay_tip}),N.jsx("div",{className:ai.GlobalDialog_pay_close,onMouseEnter:r,onClick:()=>{e(),i(),eS()}}),N.jsx("div",{className:ai.GlobalDialog_pay_title,children:t.title}),N.jsxs("div",{className:ai.GlobalDialog_pay_content,children:[t.content,N.jsx("span",{className:ai.GlobalDialog_star_stone}),t.suffixContent]}),N.jsxs("div",{className:ai.GlobalDialog_pay_btns,children:[N.jsx("div",{className:`${ai.GlobalDialog_pay_btn} ${ai.GlobalDialog_pay_cancel}`,onClick:i,onMouseEnter:r}),N.jsx("div",{className:`${ai.GlobalDialog_pay_btn} ${ai.GlobalDialog_pay_confirm}`,onClick:a,onMouseEnter:r})]})]})})),setTimeout(()=>{wu.render(o,document.getElementById("globalDialogContainer"))},100)}function eS(){pe.dispatch(It({component:"showGlobalDialog",visibility:!1}))}const k1=td.create();k1.defaults.baseURL="https://test-api.idoltime.games";k1.defaults.headers.common["Content-Type"]="application/json";k1.interceptors.request.use(t=>{const e=pe.getState().userData.token,r=pe.getState().storeData.isEditorPreviewMode,n=localStorage.getItem("editor-token");return t.headers=r?{...t.headers,editorToken:n}:{...t.headers,token:e,source:"web"},t},t=>Promise.reject(t));const yl=k1,xSe={paymentConfigurationList:[],gameInfo:null,isEditorPreviewMode:!1},dV=Xv({name:"storeData",initialState:vn(xSe),reducers:{setPaymentConfigurationList(t,e){t.paymentConfigurationList=e.payload},setGameInfo(t,e){t.gameInfo=e.payload},setIsEditorPreviewMode(t,e){t.isEditorPreviewMode=e.payload}}}),{setPaymentConfigurationList:pV,setGameInfo:bSe,setIsEditorPreviewMode:FB}=dV.actions,wSe=dV.reducer,ESe=()=>yl.post("/game/chapter_sales_is_buy",{gId:J.gameId}).then(t=>{let e=pe.getState().storeData.paymentConfigurationList;return t.data.code===0&&(e=t.data.data),pe.dispatch(pV(e)),e}).catch(t=>(console.error(t),[])),SSe=()=>yl.post("/editor/game/detail",{gId:J.gameId}).then(t=>t.data).catch(t=>(console.error(t),{code:-999,data:null,message:""})),vV=t=>yl.post("/game/buy_chapter",{gId:J.gameId,productId:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""})),gV=()=>yl.post("/game/buy",{gId:J.gameId}).then(t=>(t.data.code===0&&hO(),t.data)).catch(t=>(console.error(t),{code:-999,data:!1,message:""})),$y=t=>yl.post("/game/product_id_is_buy",{gId:J.gameId,productId:t}).then(e=>{if(e.data.code===0){const r=[...pe.getState().storeData.paymentConfigurationList],n=r.findIndex(i=>i.product_id===t);if(n>-1){const i={...r[n]};i.is_buy=e.data.data,r[n]=i,pe.dispatch(pV(r))}}return e.data}).catch(e=>(console.error(e),{code:-999,data:!1,message:""})),hO=()=>yl.get("/game/get_game_info?gId="+J.gameId).then(t=>(t.data.code===0&&pe.dispatch(bSe(t.data.data)),t.data)).catch(t=>(console.error(t),{code:-999,data:null,message:""})),CSe=()=>yl.post("/user/recharge_config_list",{is_show:1}).then(t=>t.data).catch(t=>(console.error(t),{code:-999,data:null,message:""})),TSe=t=>yl.post("/user/recharge",{recharge_id:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""})),ASe=t=>yl.post("/user/recharge_status",{order_no:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""}));var Gy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Gy.exports;(function(t,e){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",f=1,h=2,p=4,d=1,v=2,m=1,g=2,_=4,x=8,b=16,w=32,E=64,C=128,T=256,I=512,R=30,O="...",P=800,k=16,L=1,B=2,U=3,z=1/0,ee=9007199254740991,ne=17976931348623157e292,W=0/0,D=4294967295,H=D-1,G=D>>>1,V=[["ary",C],["bind",m],["bindKey",g],["curry",x],["curryRight",b],["flip",I],["partial",w],["partialRight",E],["rearg",T]],ie="[object Arguments]",se="[object Array]",ge="[object AsyncFunction]",ue="[object Boolean]",we="[object Date]",Be="[object DOMException]",Fe="[object Error]",Ee="[object Function]",Te="[object GeneratorFunction]",Ge="[object Map]",We="[object Number]",Ve="[object Null]",Xe="[object Object]",qe="[object Promise]",wt="[object Proxy]",At="[object RegExp]",ct="[object Set]",ft="[object String]",Et="[object Symbol]",Qt="[object Undefined]",Vt="[object WeakMap]",er="[object WeakSet]",$t="[object ArrayBuffer]",yt="[object DataView]",Yt="[object Float32Array]",Oe="[object Float64Array]",j="[object Int8Array]",he="[object Int16Array]",Se="[object Int32Array]",ke="[object Uint8Array]",ae="[object Uint8ClampedArray]",Ie="[object Uint16Array]",X="[object Uint32Array]",Ue=/\b__p \+= '';/g,dt=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Re=/&(?:amp|lt|gt|quot|#39);/g,Pe=/[&<>"']/g,Y=RegExp(Re.source),le=RegExp(Pe.source),Ce=/<%-([\s\S]+?)%>/g,ht=/<%([\s\S]+?)%>/g,Je=/<%=([\s\S]+?)%>/g,at=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,Nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ir=/[\\^$.*+?()[\]{}|]/g,St=RegExp(ir.source),Sr=/^\s+/,on=/\s/,zn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bl=/\{\n\/\* \[wrapped with (.+)\] \*/,wl=/,? & /,sn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gi=/[()=,{}\[\]\/\s]/,Ln=/\\(\\)?/g,ka=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,na=/\w*$/,xf=/^[-+]0x[0-9a-f]+$/i,Tb=/^0b[01]+$/i,Ab=/^\[object .+?Constructor\]$/,Ib=/^0o[0-7]+$/i,Rb=/^(?:0|[1-9]\d*)$/,Pb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bf=/($^)/,mg=/['\n\r\u2028\u2029\\]/g,is="\\ud800-\\udfff",_g="\\u0300-\\u036f",El="\\ufe20-\\ufe2f",Ob="\\u20d0-\\u20ff",Gu=_g+El+Ob,wf="\\u2700-\\u27bf",yg="a-z\\xdf-\\xf6\\xf8-\\xff",kb="\\xac\\xb1\\xd7\\xf7",Qd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fb="\\u2000-\\u206f",Nb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Z="A-Z\\xc0-\\xd6\\xd8-\\xde",ce="\\ufe0e\\ufe0f",re=kb+Qd+Fb+Nb,ve="[']",be="["+is+"]",de="["+re+"]",De="["+Gu+"]",ze="\\d+",Ke="["+wf+"]",Ze="["+yg+"]",et="[^"+is+re+ze+wf+yg+Z+"]",gt="\\ud83c[\\udffb-\\udfff]",tr="(?:"+De+"|"+gt+")",Cr="[^"+is+"]",Tr="(?:\\ud83c[\\udde6-\\uddff]){2}",ln="[\\ud800-\\udbff][\\udc00-\\udfff]",$r="["+Z+"]",ia="\\u200d",Sl="(?:"+Ze+"|"+et+")",e0="(?:"+$r+"|"+et+")",xg="(?:"+ve+"(?:d|ll|m|re|s|t|ve))?",Ef="(?:"+ve+"(?:D|LL|M|RE|S|T|VE))?",Lb=tr+"?",bg="["+ce+"]?",Mb="(?:"+ia+"(?:"+[Cr,Tr,ln].join("|")+")"+bg+Lb+")*",wg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wY="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",n4=bg+Lb+Mb,EY="(?:"+[Ke,Tr,ln].join("|")+")"+n4,SY="(?:"+[Cr+De+"?",De,Tr,ln,be].join("|")+")",CY=RegExp(ve,"g"),TY=RegExp(De,"g"),Bb=RegExp(gt+"(?="+gt+")|"+SY+n4,"g"),AY=RegExp([$r+"?"+Ze+"+"+xg+"(?="+[de,$r,"$"].join("|")+")",e0+"+"+Ef+"(?="+[de,$r+Sl,"$"].join("|")+")",$r+"?"+Sl+"+"+xg,$r+"+"+Ef,wY,wg,ze,EY].join("|"),"g"),IY=RegExp("["+ia+is+Gu+ce+"]"),RY=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,PY=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],OY=-1,Jr={};Jr[Yt]=Jr[Oe]=Jr[j]=Jr[he]=Jr[Se]=Jr[ke]=Jr[ae]=Jr[Ie]=Jr[X]=!0,Jr[ie]=Jr[se]=Jr[$t]=Jr[ue]=Jr[yt]=Jr[we]=Jr[Fe]=Jr[Ee]=Jr[Ge]=Jr[We]=Jr[Xe]=Jr[At]=Jr[ct]=Jr[ft]=Jr[Vt]=!1;var Yr={};Yr[ie]=Yr[se]=Yr[$t]=Yr[yt]=Yr[ue]=Yr[we]=Yr[Yt]=Yr[Oe]=Yr[j]=Yr[he]=Yr[Se]=Yr[Ge]=Yr[We]=Yr[Xe]=Yr[At]=Yr[ct]=Yr[ft]=Yr[Et]=Yr[ke]=Yr[ae]=Yr[Ie]=Yr[X]=!0,Yr[Fe]=Yr[Ee]=Yr[Vt]=!1;var kY={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},FY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},NY={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},LY={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},MY=parseFloat,BY=parseInt,i4=typeof Ct=="object"&&Ct&&Ct.Object===Object&&Ct,DY=typeof self=="object"&&self&&self.Object===Object&&self,Ii=i4||DY||Function("return this")(),Db=e&&!e.nodeType&&e,Vu=Db&&!0&&t&&!t.nodeType&&t,a4=Vu&&Vu.exports===Db,Ub=a4&&i4.process,Ja=function(){try{var me=Vu&&Vu.require&&Vu.require("util").types;return me||Ub&&Ub.binding&&Ub.binding("util")}catch{}}(),o4=Ja&&Ja.isArrayBuffer,s4=Ja&&Ja.isDate,l4=Ja&&Ja.isMap,u4=Ja&&Ja.isRegExp,c4=Ja&&Ja.isSet,f4=Ja&&Ja.isTypedArray;function Fa(me,Me,Ne){switch(Ne.length){case 0:return me.call(Me);case 1:return me.call(Me,Ne[0]);case 2:return me.call(Me,Ne[0],Ne[1]);case 3:return me.call(Me,Ne[0],Ne[1],Ne[2])}return me.apply(Me,Ne)}function UY(me,Me,Ne,pt){for(var Gt=-1,Or=me==null?0:me.length;++Gt<Or;){var ni=me[Gt];Me(pt,ni,Ne(ni),me)}return pt}function Qa(me,Me){for(var Ne=-1,pt=me==null?0:me.length;++Ne<pt&&Me(me[Ne],Ne,me)!==!1;);return me}function jY(me,Me){for(var Ne=me==null?0:me.length;Ne--&&Me(me[Ne],Ne,me)!==!1;);return me}function h4(me,Me){for(var Ne=-1,pt=me==null?0:me.length;++Ne<pt;)if(!Me(me[Ne],Ne,me))return!1;return!0}function Cl(me,Me){for(var Ne=-1,pt=me==null?0:me.length,Gt=0,Or=[];++Ne<pt;){var ni=me[Ne];Me(ni,Ne,me)&&(Or[Gt++]=ni)}return Or}function Eg(me,Me){var Ne=me==null?0:me.length;return!!Ne&&Sf(me,Me,0)>-1}function jb(me,Me,Ne){for(var pt=-1,Gt=me==null?0:me.length;++pt<Gt;)if(Ne(Me,me[pt]))return!0;return!1}function un(me,Me){for(var Ne=-1,pt=me==null?0:me.length,Gt=Array(pt);++Ne<pt;)Gt[Ne]=Me(me[Ne],Ne,me);return Gt}function Tl(me,Me){for(var Ne=-1,pt=Me.length,Gt=me.length;++Ne<pt;)me[Gt+Ne]=Me[Ne];return me}function $b(me,Me,Ne,pt){var Gt=-1,Or=me==null?0:me.length;for(pt&&Or&&(Ne=me[++Gt]);++Gt<Or;)Ne=Me(Ne,me[Gt],Gt,me);return Ne}function $Y(me,Me,Ne,pt){var Gt=me==null?0:me.length;for(pt&&Gt&&(Ne=me[--Gt]);Gt--;)Ne=Me(Ne,me[Gt],Gt,me);return Ne}function Gb(me,Me){for(var Ne=-1,pt=me==null?0:me.length;++Ne<pt;)if(Me(me[Ne],Ne,me))return!0;return!1}var GY=Vb("length");function VY(me){return me.split("")}function HY(me){return me.match(sn)||[]}function d4(me,Me,Ne){var pt;return Ne(me,function(Gt,Or,ni){if(Me(Gt,Or,ni))return pt=Or,!1}),pt}function Sg(me,Me,Ne,pt){for(var Gt=me.length,Or=Ne+(pt?1:-1);pt?Or--:++Or<Gt;)if(Me(me[Or],Or,me))return Or;return-1}function Sf(me,Me,Ne){return Me===Me?rq(me,Me,Ne):Sg(me,p4,Ne)}function XY(me,Me,Ne,pt){for(var Gt=Ne-1,Or=me.length;++Gt<Or;)if(pt(me[Gt],Me))return Gt;return-1}function p4(me){return me!==me}function v4(me,Me){var Ne=me==null?0:me.length;return Ne?Xb(me,Me)/Ne:W}function Vb(me){return function(Me){return Me==null?r:Me[me]}}function Hb(me){return function(Me){return me==null?r:me[Me]}}function g4(me,Me,Ne,pt,Gt){return Gt(me,function(Or,ni,Xr){Ne=pt?(pt=!1,Or):Me(Ne,Or,ni,Xr)}),Ne}function zY(me,Me){var Ne=me.length;for(me.sort(Me);Ne--;)me[Ne]=me[Ne].value;return me}function Xb(me,Me){for(var Ne,pt=-1,Gt=me.length;++pt<Gt;){var Or=Me(me[pt]);Or!==r&&(Ne=Ne===r?Or:Ne+Or)}return Ne}function zb(me,Me){for(var Ne=-1,pt=Array(me);++Ne<me;)pt[Ne]=Me(Ne);return pt}function WY(me,Me){return un(Me,function(Ne){return[Ne,me[Ne]]})}function m4(me){return me&&me.slice(0,b4(me)+1).replace(Sr,"")}function Na(me){return function(Me){return me(Me)}}function Wb(me,Me){return un(Me,function(Ne){return me[Ne]})}function t0(me,Me){return me.has(Me)}function _4(me,Me){for(var Ne=-1,pt=me.length;++Ne<pt&&Sf(Me,me[Ne],0)>-1;);return Ne}function y4(me,Me){for(var Ne=me.length;Ne--&&Sf(Me,me[Ne],0)>-1;);return Ne}function YY(me,Me){for(var Ne=me.length,pt=0;Ne--;)me[Ne]===Me&&++pt;return pt}var qY=Hb(kY),KY=Hb(FY);function ZY(me){return"\\"+LY[me]}function JY(me,Me){return me==null?r:me[Me]}function Cf(me){return IY.test(me)}function QY(me){return RY.test(me)}function eq(me){for(var Me,Ne=[];!(Me=me.next()).done;)Ne.push(Me.value);return Ne}function Yb(me){var Me=-1,Ne=Array(me.size);return me.forEach(function(pt,Gt){Ne[++Me]=[Gt,pt]}),Ne}function x4(me,Me){return function(Ne){return me(Me(Ne))}}function Al(me,Me){for(var Ne=-1,pt=me.length,Gt=0,Or=[];++Ne<pt;){var ni=me[Ne];(ni===Me||ni===u)&&(me[Ne]=u,Or[Gt++]=Ne)}return Or}function Cg(me){var Me=-1,Ne=Array(me.size);return me.forEach(function(pt){Ne[++Me]=pt}),Ne}function tq(me){var Me=-1,Ne=Array(me.size);return me.forEach(function(pt){Ne[++Me]=[pt,pt]}),Ne}function rq(me,Me,Ne){for(var pt=Ne-1,Gt=me.length;++pt<Gt;)if(me[pt]===Me)return pt;return-1}function nq(me,Me,Ne){for(var pt=Ne+1;pt--;)if(me[pt]===Me)return pt;return pt}function Tf(me){return Cf(me)?aq(me):GY(me)}function bo(me){return Cf(me)?oq(me):VY(me)}function b4(me){for(var Me=me.length;Me--&&on.test(me.charAt(Me)););return Me}var iq=Hb(NY);function aq(me){for(var Me=Bb.lastIndex=0;Bb.test(me);)++Me;return Me}function oq(me){return me.match(Bb)||[]}function sq(me){return me.match(AY)||[]}var lq=function me(Me){Me=Me==null?Ii:Af.defaults(Ii.Object(),Me,Af.pick(Ii,PY));var Ne=Me.Array,pt=Me.Date,Gt=Me.Error,Or=Me.Function,ni=Me.Math,Xr=Me.Object,qb=Me.RegExp,uq=Me.String,eo=Me.TypeError,Tg=Ne.prototype,cq=Or.prototype,If=Xr.prototype,Ag=Me["__core-js_shared__"],Ig=cq.toString,Dr=If.hasOwnProperty,fq=0,w4=function(){var y=/[^.]+$/.exec(Ag&&Ag.keys&&Ag.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),Rg=If.toString,hq=Ig.call(Xr),dq=Ii._,pq=qb("^"+Ig.call(Dr).replace(ir,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pg=a4?Me.Buffer:r,Il=Me.Symbol,Og=Me.Uint8Array,E4=Pg?Pg.allocUnsafe:r,kg=x4(Xr.getPrototypeOf,Xr),S4=Xr.create,C4=If.propertyIsEnumerable,Fg=Tg.splice,T4=Il?Il.isConcatSpreadable:r,r0=Il?Il.iterator:r,Hu=Il?Il.toStringTag:r,Ng=function(){try{var y=qu(Xr,"defineProperty");return y({},"",{}),y}catch{}}(),vq=Me.clearTimeout!==Ii.clearTimeout&&Me.clearTimeout,gq=pt&&pt.now!==Ii.Date.now&&pt.now,mq=Me.setTimeout!==Ii.setTimeout&&Me.setTimeout,Lg=ni.ceil,Mg=ni.floor,Kb=Xr.getOwnPropertySymbols,_q=Pg?Pg.isBuffer:r,A4=Me.isFinite,yq=Tg.join,xq=x4(Xr.keys,Xr),ii=ni.max,Vi=ni.min,bq=pt.now,wq=Me.parseInt,I4=ni.random,Eq=Tg.reverse,Zb=qu(Me,"DataView"),n0=qu(Me,"Map"),Jb=qu(Me,"Promise"),Rf=qu(Me,"Set"),i0=qu(Me,"WeakMap"),a0=qu(Xr,"create"),Bg=i0&&new i0,Pf={},Sq=Ku(Zb),Cq=Ku(n0),Tq=Ku(Jb),Aq=Ku(Rf),Iq=Ku(i0),Dg=Il?Il.prototype:r,o0=Dg?Dg.valueOf:r,R4=Dg?Dg.toString:r;function q(y){if(Cn(y)&&!Ht(y)&&!(y instanceof mr)){if(y instanceof to)return y;if(Dr.call(y,"__wrapped__"))return PF(y)}return new to(y)}var Of=function(){function y(){}return function(S){if(!yn(S))return{};if(S4)return S4(S);y.prototype=S;var A=new y;return y.prototype=r,A}}();function Ug(){}function to(y,S){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=r}q.templateSettings={escape:Ce,evaluate:ht,interpolate:Je,variable:"",imports:{_:q}},q.prototype=Ug.prototype,q.prototype.constructor=q,to.prototype=Of(Ug.prototype),to.prototype.constructor=to;function mr(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function Rq(){var y=new mr(this.__wrapped__);return y.__actions__=ma(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=ma(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=ma(this.__views__),y}function Pq(){if(this.__filtered__){var y=new mr(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function Oq(){var y=this.__wrapped__.value(),S=this.__dir__,A=Ht(y),M=S<0,$=A?y.length:0,Q=VK(0,$,this.__views__),oe=Q.start,fe=Q.end,xe=fe-oe,je=M?fe:oe-1,$e=this.__iteratees__,He=$e.length,ot=0,bt=Vi(xe,this.__takeCount__);if(!A||!M&&$==xe&&bt==xe)return Q4(y,this.__actions__);var kt=[];e:for(;xe--&&ot<bt;){je+=S;for(var rr=-1,Ft=y[je];++rr<He;){var dr=$e[rr],br=dr.iteratee,Ba=dr.type,sa=br(Ft);if(Ba==B)Ft=sa;else if(!sa){if(Ba==L)continue e;break e}}kt[ot++]=Ft}return kt}mr.prototype=Of(Ug.prototype),mr.prototype.constructor=mr;function Xu(y){var S=-1,A=y==null?0:y.length;for(this.clear();++S<A;){var M=y[S];this.set(M[0],M[1])}}function kq(){this.__data__=a0?a0(null):{},this.size=0}function Fq(y){var S=this.has(y)&&delete this.__data__[y];return this.size-=S?1:0,S}function Nq(y){var S=this.__data__;if(a0){var A=S[y];return A===c?r:A}return Dr.call(S,y)?S[y]:r}function Lq(y){var S=this.__data__;return a0?S[y]!==r:Dr.call(S,y)}function Mq(y,S){var A=this.__data__;return this.size+=this.has(y)?0:1,A[y]=a0&&S===r?c:S,this}Xu.prototype.clear=kq,Xu.prototype.delete=Fq,Xu.prototype.get=Nq,Xu.prototype.has=Lq,Xu.prototype.set=Mq;function Us(y){var S=-1,A=y==null?0:y.length;for(this.clear();++S<A;){var M=y[S];this.set(M[0],M[1])}}function Bq(){this.__data__=[],this.size=0}function Dq(y){var S=this.__data__,A=jg(S,y);if(A<0)return!1;var M=S.length-1;return A==M?S.pop():Fg.call(S,A,1),--this.size,!0}function Uq(y){var S=this.__data__,A=jg(S,y);return A<0?r:S[A][1]}function jq(y){return jg(this.__data__,y)>-1}function $q(y,S){var A=this.__data__,M=jg(A,y);return M<0?(++this.size,A.push([y,S])):A[M][1]=S,this}Us.prototype.clear=Bq,Us.prototype.delete=Dq,Us.prototype.get=Uq,Us.prototype.has=jq,Us.prototype.set=$q;function js(y){var S=-1,A=y==null?0:y.length;for(this.clear();++S<A;){var M=y[S];this.set(M[0],M[1])}}function Gq(){this.size=0,this.__data__={hash:new Xu,map:new(n0||Us),string:new Xu}}function Vq(y){var S=Jg(this,y).delete(y);return this.size-=S?1:0,S}function Hq(y){return Jg(this,y).get(y)}function Xq(y){return Jg(this,y).has(y)}function zq(y,S){var A=Jg(this,y),M=A.size;return A.set(y,S),this.size+=A.size==M?0:1,this}js.prototype.clear=Gq,js.prototype.delete=Vq,js.prototype.get=Hq,js.prototype.has=Xq,js.prototype.set=zq;function zu(y){var S=-1,A=y==null?0:y.length;for(this.__data__=new js;++S<A;)this.add(y[S])}function Wq(y){return this.__data__.set(y,c),this}function Yq(y){return this.__data__.has(y)}zu.prototype.add=zu.prototype.push=Wq,zu.prototype.has=Yq;function wo(y){var S=this.__data__=new Us(y);this.size=S.size}function qq(){this.__data__=new Us,this.size=0}function Kq(y){var S=this.__data__,A=S.delete(y);return this.size=S.size,A}function Zq(y){return this.__data__.get(y)}function Jq(y){return this.__data__.has(y)}function Qq(y,S){var A=this.__data__;if(A instanceof Us){var M=A.__data__;if(!n0||M.length<i-1)return M.push([y,S]),this.size=++A.size,this;A=this.__data__=new js(M)}return A.set(y,S),this.size=A.size,this}wo.prototype.clear=qq,wo.prototype.delete=Kq,wo.prototype.get=Zq,wo.prototype.has=Jq,wo.prototype.set=Qq;function P4(y,S){var A=Ht(y),M=!A&&Zu(y),$=!A&&!M&&Fl(y),Q=!A&&!M&&!$&&Lf(y),oe=A||M||$||Q,fe=oe?zb(y.length,uq):[],xe=fe.length;for(var je in y)(S||Dr.call(y,je))&&!(oe&&(je=="length"||$&&(je=="offset"||je=="parent")||Q&&(je=="buffer"||je=="byteLength"||je=="byteOffset")||Hs(je,xe)))&&fe.push(je);return fe}function O4(y){var S=y.length;return S?y[uw(0,S-1)]:r}function eK(y,S){return Qg(ma(y),Wu(S,0,y.length))}function tK(y){return Qg(ma(y))}function Qb(y,S,A){(A!==r&&!Eo(y[S],A)||A===r&&!(S in y))&&$s(y,S,A)}function s0(y,S,A){var M=y[S];(!(Dr.call(y,S)&&Eo(M,A))||A===r&&!(S in y))&&$s(y,S,A)}function jg(y,S){for(var A=y.length;A--;)if(Eo(y[A][0],S))return A;return-1}function rK(y,S,A,M){return Rl(y,function($,Q,oe){S(M,$,A($),oe)}),M}function k4(y,S){return y&&os(S,pi(S),y)}function nK(y,S){return y&&os(S,ya(S),y)}function $s(y,S,A){S=="__proto__"&&Ng?Ng(y,S,{configurable:!0,enumerable:!0,value:A,writable:!0}):y[S]=A}function ew(y,S){for(var A=-1,M=S.length,$=Ne(M),Q=y==null;++A<M;)$[A]=Q?r:Nw(y,S[A]);return $}function Wu(y,S,A){return y===y&&(A!==r&&(y=y<=A?y:A),S!==r&&(y=y>=S?y:S)),y}function ro(y,S,A,M,$,Q){var oe,fe=S&f,xe=S&h,je=S&p;if(A&&(oe=$?A(y,M,$,Q):A(y)),oe!==r)return oe;if(!yn(y))return y;var $e=Ht(y);if($e){if(oe=XK(y),!fe)return ma(y,oe)}else{var He=Hi(y),ot=He==Ee||He==Te;if(Fl(y))return rF(y,fe);if(He==Xe||He==ie||ot&&!$){if(oe=xe||ot?{}:bF(y),!fe)return xe?NK(y,nK(oe,y)):FK(y,k4(oe,y))}else{if(!Yr[He])return $?y:{};oe=zK(y,He,fe)}}Q||(Q=new wo);var bt=Q.get(y);if(bt)return bt;Q.set(y,oe),KF(y)?y.forEach(function(Ft){oe.add(ro(Ft,S,A,Ft,y,Q))}):YF(y)&&y.forEach(function(Ft,dr){oe.set(dr,ro(Ft,S,A,dr,y,Q))});var kt=je?xe?xw:yw:xe?ya:pi,rr=$e?r:kt(y);return Qa(rr||y,function(Ft,dr){rr&&(dr=Ft,Ft=y[dr]),s0(oe,dr,ro(Ft,S,A,dr,y,Q))}),oe}function iK(y){var S=pi(y);return function(A){return F4(A,y,S)}}function F4(y,S,A){var M=A.length;if(y==null)return!M;for(y=Xr(y);M--;){var $=A[M],Q=S[$],oe=y[$];if(oe===r&&!($ in y)||!Q(oe))return!1}return!0}function N4(y,S,A){if(typeof y!="function")throw new eo(o);return p0(function(){y.apply(r,A)},S)}function l0(y,S,A,M){var $=-1,Q=Eg,oe=!0,fe=y.length,xe=[],je=S.length;if(!fe)return xe;A&&(S=un(S,Na(A))),M?(Q=jb,oe=!1):S.length>=i&&(Q=t0,oe=!1,S=new zu(S));e:for(;++$<fe;){var $e=y[$],He=A==null?$e:A($e);if($e=M||$e!==0?$e:0,oe&&He===He){for(var ot=je;ot--;)if(S[ot]===He)continue e;xe.push($e)}else Q(S,He,M)||xe.push($e)}return xe}var Rl=sF(as),L4=sF(rw,!0);function aK(y,S){var A=!0;return Rl(y,function(M,$,Q){return A=!!S(M,$,Q),A}),A}function $g(y,S,A){for(var M=-1,$=y.length;++M<$;){var Q=y[M],oe=S(Q);if(oe!=null&&(fe===r?oe===oe&&!Ma(oe):A(oe,fe)))var fe=oe,xe=Q}return xe}function oK(y,S,A,M){var $=y.length;for(A=qt(A),A<0&&(A=-A>$?0:$+A),M=M===r||M>$?$:qt(M),M<0&&(M+=$),M=A>M?0:JF(M);A<M;)y[A++]=S;return y}function M4(y,S){var A=[];return Rl(y,function(M,$,Q){S(M,$,Q)&&A.push(M)}),A}function Ri(y,S,A,M,$){var Q=-1,oe=y.length;for(A||(A=YK),$||($=[]);++Q<oe;){var fe=y[Q];S>0&&A(fe)?S>1?Ri(fe,S-1,A,M,$):Tl($,fe):M||($[$.length]=fe)}return $}var tw=lF(),B4=lF(!0);function as(y,S){return y&&tw(y,S,pi)}function rw(y,S){return y&&B4(y,S,pi)}function Gg(y,S){return Cl(S,function(A){return Xs(y[A])})}function Yu(y,S){S=Ol(S,y);for(var A=0,M=S.length;y!=null&&A<M;)y=y[ss(S[A++])];return A&&A==M?y:r}function D4(y,S,A){var M=S(y);return Ht(y)?M:Tl(M,A(y))}function aa(y){return y==null?y===r?Qt:Ve:Hu&&Hu in Xr(y)?GK(y):tZ(y)}function nw(y,S){return y>S}function sK(y,S){return y!=null&&Dr.call(y,S)}function lK(y,S){return y!=null&&S in Xr(y)}function uK(y,S,A){return y>=Vi(S,A)&&y<ii(S,A)}function iw(y,S,A){for(var M=A?jb:Eg,$=y[0].length,Q=y.length,oe=Q,fe=Ne(Q),xe=1/0,je=[];oe--;){var $e=y[oe];oe&&S&&($e=un($e,Na(S))),xe=Vi($e.length,xe),fe[oe]=!A&&(S||$>=120&&$e.length>=120)?new zu(oe&&$e):r}$e=y[0];var He=-1,ot=fe[0];e:for(;++He<$&&je.length<xe;){var bt=$e[He],kt=S?S(bt):bt;if(bt=A||bt!==0?bt:0,!(ot?t0(ot,kt):M(je,kt,A))){for(oe=Q;--oe;){var rr=fe[oe];if(!(rr?t0(rr,kt):M(y[oe],kt,A)))continue e}ot&&ot.push(kt),je.push(bt)}}return je}function cK(y,S,A,M){return as(y,function($,Q,oe){S(M,A($),Q,oe)}),M}function u0(y,S,A){S=Ol(S,y),y=CF(y,S);var M=y==null?y:y[ss(io(S))];return M==null?r:Fa(M,y,A)}function U4(y){return Cn(y)&&aa(y)==ie}function fK(y){return Cn(y)&&aa(y)==$t}function hK(y){return Cn(y)&&aa(y)==we}function c0(y,S,A,M,$){return y===S?!0:y==null||S==null||!Cn(y)&&!Cn(S)?y!==y&&S!==S:dK(y,S,A,M,c0,$)}function dK(y,S,A,M,$,Q){var oe=Ht(y),fe=Ht(S),xe=oe?se:Hi(y),je=fe?se:Hi(S);xe=xe==ie?Xe:xe,je=je==ie?Xe:je;var $e=xe==Xe,He=je==Xe,ot=xe==je;if(ot&&Fl(y)){if(!Fl(S))return!1;oe=!0,$e=!1}if(ot&&!$e)return Q||(Q=new wo),oe||Lf(y)?_F(y,S,A,M,$,Q):jK(y,S,xe,A,M,$,Q);if(!(A&d)){var bt=$e&&Dr.call(y,"__wrapped__"),kt=He&&Dr.call(S,"__wrapped__");if(bt||kt){var rr=bt?y.value():y,Ft=kt?S.value():S;return Q||(Q=new wo),$(rr,Ft,A,M,Q)}}return ot?(Q||(Q=new wo),$K(y,S,A,M,$,Q)):!1}function pK(y){return Cn(y)&&Hi(y)==Ge}function aw(y,S,A,M){var $=A.length,Q=$,oe=!M;if(y==null)return!Q;for(y=Xr(y);$--;){var fe=A[$];if(oe&&fe[2]?fe[1]!==y[fe[0]]:!(fe[0]in y))return!1}for(;++$<Q;){fe=A[$];var xe=fe[0],je=y[xe],$e=fe[1];if(oe&&fe[2]){if(je===r&&!(xe in y))return!1}else{var He=new wo;if(M)var ot=M(je,$e,xe,y,S,He);if(!(ot===r?c0($e,je,d|v,M,He):ot))return!1}}return!0}function j4(y){if(!yn(y)||KK(y))return!1;var S=Xs(y)?pq:Ab;return S.test(Ku(y))}function vK(y){return Cn(y)&&aa(y)==At}function gK(y){return Cn(y)&&Hi(y)==ct}function mK(y){return Cn(y)&&am(y.length)&&!!Jr[aa(y)]}function $4(y){return typeof y=="function"?y:y==null?xa:typeof y=="object"?Ht(y)?H4(y[0],y[1]):V4(y):uN(y)}function ow(y){if(!d0(y))return xq(y);var S=[];for(var A in Xr(y))Dr.call(y,A)&&A!="constructor"&&S.push(A);return S}function _K(y){if(!yn(y))return eZ(y);var S=d0(y),A=[];for(var M in y)M=="constructor"&&(S||!Dr.call(y,M))||A.push(M);return A}function sw(y,S){return y<S}function G4(y,S){var A=-1,M=_a(y)?Ne(y.length):[];return Rl(y,function($,Q,oe){M[++A]=S($,Q,oe)}),M}function V4(y){var S=ww(y);return S.length==1&&S[0][2]?EF(S[0][0],S[0][1]):function(A){return A===y||aw(A,y,S)}}function H4(y,S){return Sw(y)&&wF(S)?EF(ss(y),S):function(A){var M=Nw(A,y);return M===r&&M===S?Lw(A,y):c0(S,M,d|v)}}function Vg(y,S,A,M,$){y!==S&&tw(S,function(Q,oe){if($||($=new wo),yn(Q))yK(y,S,oe,A,Vg,M,$);else{var fe=M?M(Tw(y,oe),Q,oe+"",y,S,$):r;fe===r&&(fe=Q),Qb(y,oe,fe)}},ya)}function yK(y,S,A,M,$,Q,oe){var fe=Tw(y,A),xe=Tw(S,A),je=oe.get(xe);if(je){Qb(y,A,je);return}var $e=Q?Q(fe,xe,A+"",y,S,oe):r,He=$e===r;if(He){var ot=Ht(xe),bt=!ot&&Fl(xe),kt=!ot&&!bt&&Lf(xe);$e=xe,ot||bt||kt?Ht(fe)?$e=fe:Mn(fe)?$e=ma(fe):bt?(He=!1,$e=rF(xe,!0)):kt?(He=!1,$e=nF(xe,!0)):$e=[]:v0(xe)||Zu(xe)?($e=fe,Zu(fe)?$e=QF(fe):(!yn(fe)||Xs(fe))&&($e=bF(xe))):He=!1}He&&(oe.set(xe,$e),$($e,xe,M,Q,oe),oe.delete(xe)),Qb(y,A,$e)}function X4(y,S){var A=y.length;if(A)return S+=S<0?A:0,Hs(S,A)?y[S]:r}function z4(y,S,A){S.length?S=un(S,function(Q){return Ht(Q)?function(oe){return Yu(oe,Q.length===1?Q[0]:Q)}:Q}):S=[xa];var M=-1;S=un(S,Na(Rt()));var $=G4(y,function(Q,oe,fe){var xe=un(S,function(je){return je(Q)});return{criteria:xe,index:++M,value:Q}});return zY($,function(Q,oe){return kK(Q,oe,A)})}function xK(y,S){return W4(y,S,function(A,M){return Lw(y,M)})}function W4(y,S,A){for(var M=-1,$=S.length,Q={};++M<$;){var oe=S[M],fe=Yu(y,oe);A(fe,oe)&&f0(Q,Ol(oe,y),fe)}return Q}function bK(y){return function(S){return Yu(S,y)}}function lw(y,S,A,M){var $=M?XY:Sf,Q=-1,oe=S.length,fe=y;for(y===S&&(S=ma(S)),A&&(fe=un(y,Na(A)));++Q<oe;)for(var xe=0,je=S[Q],$e=A?A(je):je;(xe=$(fe,$e,xe,M))>-1;)fe!==y&&Fg.call(fe,xe,1),Fg.call(y,xe,1);return y}function Y4(y,S){for(var A=y?S.length:0,M=A-1;A--;){var $=S[A];if(A==M||$!==Q){var Q=$;Hs($)?Fg.call(y,$,1):hw(y,$)}}return y}function uw(y,S){return y+Mg(I4()*(S-y+1))}function wK(y,S,A,M){for(var $=-1,Q=ii(Lg((S-y)/(A||1)),0),oe=Ne(Q);Q--;)oe[M?Q:++$]=y,y+=A;return oe}function cw(y,S){var A="";if(!y||S<1||S>ee)return A;do S%2&&(A+=y),S=Mg(S/2),S&&(y+=y);while(S);return A}function ar(y,S){return Aw(SF(y,S,xa),y+"")}function EK(y){return O4(Mf(y))}function SK(y,S){var A=Mf(y);return Qg(A,Wu(S,0,A.length))}function f0(y,S,A,M){if(!yn(y))return y;S=Ol(S,y);for(var $=-1,Q=S.length,oe=Q-1,fe=y;fe!=null&&++$<Q;){var xe=ss(S[$]),je=A;if(xe==="__proto__"||xe==="constructor"||xe==="prototype")return y;if($!=oe){var $e=fe[xe];je=M?M($e,xe,fe):r,je===r&&(je=yn($e)?$e:Hs(S[$+1])?[]:{})}s0(fe,xe,je),fe=fe[xe]}return y}var q4=Bg?function(y,S){return Bg.set(y,S),y}:xa,CK=Ng?function(y,S){return Ng(y,"toString",{configurable:!0,enumerable:!1,value:Bw(S),writable:!0})}:xa;function TK(y){return Qg(Mf(y))}function no(y,S,A){var M=-1,$=y.length;S<0&&(S=-S>$?0:$+S),A=A>$?$:A,A<0&&(A+=$),$=S>A?0:A-S>>>0,S>>>=0;for(var Q=Ne($);++M<$;)Q[M]=y[M+S];return Q}function AK(y,S){var A;return Rl(y,function(M,$,Q){return A=S(M,$,Q),!A}),!!A}function Hg(y,S,A){var M=0,$=y==null?M:y.length;if(typeof S=="number"&&S===S&&$<=G){for(;M<$;){var Q=M+$>>>1,oe=y[Q];oe!==null&&!Ma(oe)&&(A?oe<=S:oe<S)?M=Q+1:$=Q}return $}return fw(y,S,xa,A)}function fw(y,S,A,M){var $=0,Q=y==null?0:y.length;if(Q===0)return 0;S=A(S);for(var oe=S!==S,fe=S===null,xe=Ma(S),je=S===r;$<Q;){var $e=Mg(($+Q)/2),He=A(y[$e]),ot=He!==r,bt=He===null,kt=He===He,rr=Ma(He);if(oe)var Ft=M||kt;else je?Ft=kt&&(M||ot):fe?Ft=kt&&ot&&(M||!bt):xe?Ft=kt&&ot&&!bt&&(M||!rr):bt||rr?Ft=!1:Ft=M?He<=S:He<S;Ft?$=$e+1:Q=$e}return Vi(Q,H)}function K4(y,S){for(var A=-1,M=y.length,$=0,Q=[];++A<M;){var oe=y[A],fe=S?S(oe):oe;if(!A||!Eo(fe,xe)){var xe=fe;Q[$++]=oe===0?0:oe}}return Q}function Z4(y){return typeof y=="number"?y:Ma(y)?W:+y}function La(y){if(typeof y=="string")return y;if(Ht(y))return un(y,La)+"";if(Ma(y))return R4?R4.call(y):"";var S=y+"";return S=="0"&&1/y==-z?"-0":S}function Pl(y,S,A){var M=-1,$=Eg,Q=y.length,oe=!0,fe=[],xe=fe;if(A)oe=!1,$=jb;else if(Q>=i){var je=S?null:DK(y);if(je)return Cg(je);oe=!1,$=t0,xe=new zu}else xe=S?[]:fe;e:for(;++M<Q;){var $e=y[M],He=S?S($e):$e;if($e=A||$e!==0?$e:0,oe&&He===He){for(var ot=xe.length;ot--;)if(xe[ot]===He)continue e;S&&xe.push(He),fe.push($e)}else $(xe,He,A)||(xe!==fe&&xe.push(He),fe.push($e))}return fe}function hw(y,S){return S=Ol(S,y),y=CF(y,S),y==null||delete y[ss(io(S))]}function J4(y,S,A,M){return f0(y,S,A(Yu(y,S)),M)}function Xg(y,S,A,M){for(var $=y.length,Q=M?$:-1;(M?Q--:++Q<$)&&S(y[Q],Q,y););return A?no(y,M?0:Q,M?Q+1:$):no(y,M?Q+1:0,M?$:Q)}function Q4(y,S){var A=y;return A instanceof mr&&(A=A.value()),$b(S,function(M,$){return $.func.apply($.thisArg,Tl([M],$.args))},A)}function dw(y,S,A){var M=y.length;if(M<2)return M?Pl(y[0]):[];for(var $=-1,Q=Ne(M);++$<M;)for(var oe=y[$],fe=-1;++fe<M;)fe!=$&&(Q[$]=l0(Q[$]||oe,y[fe],S,A));return Pl(Ri(Q,1),S,A)}function eF(y,S,A){for(var M=-1,$=y.length,Q=S.length,oe={};++M<$;){var fe=M<Q?S[M]:r;A(oe,y[M],fe)}return oe}function pw(y){return Mn(y)?y:[]}function vw(y){return typeof y=="function"?y:xa}function Ol(y,S){return Ht(y)?y:Sw(y,S)?[y]:RF(Nr(y))}var IK=ar;function kl(y,S,A){var M=y.length;return A=A===r?M:A,!S&&A>=M?y:no(y,S,A)}var tF=vq||function(y){return Ii.clearTimeout(y)};function rF(y,S){if(S)return y.slice();var A=y.length,M=E4?E4(A):new y.constructor(A);return y.copy(M),M}function gw(y){var S=new y.constructor(y.byteLength);return new Og(S).set(new Og(y)),S}function RK(y,S){var A=S?gw(y.buffer):y.buffer;return new y.constructor(A,y.byteOffset,y.byteLength)}function PK(y){var S=new y.constructor(y.source,na.exec(y));return S.lastIndex=y.lastIndex,S}function OK(y){return o0?Xr(o0.call(y)):{}}function nF(y,S){var A=S?gw(y.buffer):y.buffer;return new y.constructor(A,y.byteOffset,y.length)}function iF(y,S){if(y!==S){var A=y!==r,M=y===null,$=y===y,Q=Ma(y),oe=S!==r,fe=S===null,xe=S===S,je=Ma(S);if(!fe&&!je&&!Q&&y>S||Q&&oe&&xe&&!fe&&!je||M&&oe&&xe||!A&&xe||!$)return 1;if(!M&&!Q&&!je&&y<S||je&&A&&$&&!M&&!Q||fe&&A&&$||!oe&&$||!xe)return-1}return 0}function kK(y,S,A){for(var M=-1,$=y.criteria,Q=S.criteria,oe=$.length,fe=A.length;++M<oe;){var xe=iF($[M],Q[M]);if(xe){if(M>=fe)return xe;var je=A[M];return xe*(je=="desc"?-1:1)}}return y.index-S.index}function aF(y,S,A,M){for(var $=-1,Q=y.length,oe=A.length,fe=-1,xe=S.length,je=ii(Q-oe,0),$e=Ne(xe+je),He=!M;++fe<xe;)$e[fe]=S[fe];for(;++$<oe;)(He||$<Q)&&($e[A[$]]=y[$]);for(;je--;)$e[fe++]=y[$++];return $e}function oF(y,S,A,M){for(var $=-1,Q=y.length,oe=-1,fe=A.length,xe=-1,je=S.length,$e=ii(Q-fe,0),He=Ne($e+je),ot=!M;++$<$e;)He[$]=y[$];for(var bt=$;++xe<je;)He[bt+xe]=S[xe];for(;++oe<fe;)(ot||$<Q)&&(He[bt+A[oe]]=y[$++]);return He}function ma(y,S){var A=-1,M=y.length;for(S||(S=Ne(M));++A<M;)S[A]=y[A];return S}function os(y,S,A,M){var $=!A;A||(A={});for(var Q=-1,oe=S.length;++Q<oe;){var fe=S[Q],xe=M?M(A[fe],y[fe],fe,A,y):r;xe===r&&(xe=y[fe]),$?$s(A,fe,xe):s0(A,fe,xe)}return A}function FK(y,S){return os(y,Ew(y),S)}function NK(y,S){return os(y,yF(y),S)}function zg(y,S){return function(A,M){var $=Ht(A)?UY:rK,Q=S?S():{};return $(A,y,Rt(M,2),Q)}}function kf(y){return ar(function(S,A){var M=-1,$=A.length,Q=$>1?A[$-1]:r,oe=$>2?A[2]:r;for(Q=y.length>3&&typeof Q=="function"?($--,Q):r,oe&&oa(A[0],A[1],oe)&&(Q=$<3?r:Q,$=1),S=Xr(S);++M<$;){var fe=A[M];fe&&y(S,fe,M,Q)}return S})}function sF(y,S){return function(A,M){if(A==null)return A;if(!_a(A))return y(A,M);for(var $=A.length,Q=S?$:-1,oe=Xr(A);(S?Q--:++Q<$)&&M(oe[Q],Q,oe)!==!1;);return A}}function lF(y){return function(S,A,M){for(var $=-1,Q=Xr(S),oe=M(S),fe=oe.length;fe--;){var xe=oe[y?fe:++$];if(A(Q[xe],xe,Q)===!1)break}return S}}function LK(y,S,A){var M=S&m,$=h0(y);function Q(){var oe=this&&this!==Ii&&this instanceof Q?$:y;return oe.apply(M?A:this,arguments)}return Q}function uF(y){return function(S){S=Nr(S);var A=Cf(S)?bo(S):r,M=A?A[0]:S.charAt(0),$=A?kl(A,1).join(""):S.slice(1);return M[y]()+$}}function Ff(y){return function(S){return $b(sN(oN(S).replace(CY,"")),y,"")}}function h0(y){return function(){var S=arguments;switch(S.length){case 0:return new y;case 1:return new y(S[0]);case 2:return new y(S[0],S[1]);case 3:return new y(S[0],S[1],S[2]);case 4:return new y(S[0],S[1],S[2],S[3]);case 5:return new y(S[0],S[1],S[2],S[3],S[4]);case 6:return new y(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new y(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var A=Of(y.prototype),M=y.apply(A,S);return yn(M)?M:A}}function MK(y,S,A){var M=h0(y);function $(){for(var Q=arguments.length,oe=Ne(Q),fe=Q,xe=Nf($);fe--;)oe[fe]=arguments[fe];var je=Q<3&&oe[0]!==xe&&oe[Q-1]!==xe?[]:Al(oe,xe);if(Q-=je.length,Q<A)return pF(y,S,Wg,$.placeholder,r,oe,je,r,r,A-Q);var $e=this&&this!==Ii&&this instanceof $?M:y;return Fa($e,this,oe)}return $}function cF(y){return function(S,A,M){var $=Xr(S);if(!_a(S)){var Q=Rt(A,3);S=pi(S),A=function(fe){return Q($[fe],fe,$)}}var oe=y(S,A,M);return oe>-1?$[Q?S[oe]:oe]:r}}function fF(y){return Vs(function(S){var A=S.length,M=A,$=to.prototype.thru;for(y&&S.reverse();M--;){var Q=S[M];if(typeof Q!="function")throw new eo(o);if($&&!oe&&Zg(Q)=="wrapper")var oe=new to([],!0)}for(M=oe?M:A;++M<A;){Q=S[M];var fe=Zg(Q),xe=fe=="wrapper"?bw(Q):r;xe&&Cw(xe[0])&&xe[1]==(C|x|w|T)&&!xe[4].length&&xe[9]==1?oe=oe[Zg(xe[0])].apply(oe,xe[3]):oe=Q.length==1&&Cw(Q)?oe[fe]():oe.thru(Q)}return function(){var je=arguments,$e=je[0];if(oe&&je.length==1&&Ht($e))return oe.plant($e).value();for(var He=0,ot=A?S[He].apply(this,je):$e;++He<A;)ot=S[He].call(this,ot);return ot}})}function Wg(y,S,A,M,$,Q,oe,fe,xe,je){var $e=S&C,He=S&m,ot=S&g,bt=S&(x|b),kt=S&I,rr=ot?r:h0(y);function Ft(){for(var dr=arguments.length,br=Ne(dr),Ba=dr;Ba--;)br[Ba]=arguments[Ba];if(bt)var sa=Nf(Ft),Da=YY(br,sa);if(M&&(br=aF(br,M,$,bt)),Q&&(br=oF(br,Q,oe,bt)),dr-=Da,bt&&dr<je){var Bn=Al(br,sa);return pF(y,S,Wg,Ft.placeholder,A,br,Bn,fe,xe,je-dr)}var So=He?A:this,Ws=ot?So[y]:y;return dr=br.length,fe?br=rZ(br,fe):kt&&dr>1&&br.reverse(),$e&&xe<dr&&(br.length=xe),this&&this!==Ii&&this instanceof Ft&&(Ws=rr||h0(Ws)),Ws.apply(So,br)}return Ft}function hF(y,S){return function(A,M){return cK(A,y,S(M),{})}}function Yg(y,S){return function(A,M){var $;if(A===r&&M===r)return S;if(A!==r&&($=A),M!==r){if($===r)return M;typeof A=="string"||typeof M=="string"?(A=La(A),M=La(M)):(A=Z4(A),M=Z4(M)),$=y(A,M)}return $}}function mw(y){return Vs(function(S){return S=un(S,Na(Rt())),ar(function(A){var M=this;return y(S,function($){return Fa($,M,A)})})})}function qg(y,S){S=S===r?" ":La(S);var A=S.length;if(A<2)return A?cw(S,y):S;var M=cw(S,Lg(y/Tf(S)));return Cf(S)?kl(bo(M),0,y).join(""):M.slice(0,y)}function BK(y,S,A,M){var $=S&m,Q=h0(y);function oe(){for(var fe=-1,xe=arguments.length,je=-1,$e=M.length,He=Ne($e+xe),ot=this&&this!==Ii&&this instanceof oe?Q:y;++je<$e;)He[je]=M[je];for(;xe--;)He[je++]=arguments[++fe];return Fa(ot,$?A:this,He)}return oe}function dF(y){return function(S,A,M){return M&&typeof M!="number"&&oa(S,A,M)&&(A=M=r),S=zs(S),A===r?(A=S,S=0):A=zs(A),M=M===r?S<A?1:-1:zs(M),wK(S,A,M,y)}}function Kg(y){return function(S,A){return typeof S=="string"&&typeof A=="string"||(S=ao(S),A=ao(A)),y(S,A)}}function pF(y,S,A,M,$,Q,oe,fe,xe,je){var $e=S&x,He=$e?oe:r,ot=$e?r:oe,bt=$e?Q:r,kt=$e?r:Q;S|=$e?w:E,S&=~($e?E:w),S&_||(S&=~(m|g));var rr=[y,S,$,bt,He,kt,ot,fe,xe,je],Ft=A.apply(r,rr);return Cw(y)&&TF(Ft,rr),Ft.placeholder=M,AF(Ft,y,S)}function _w(y){var S=ni[y];return function(A,M){if(A=ao(A),M=M==null?0:Vi(qt(M),292),M&&A4(A)){var $=(Nr(A)+"e").split("e"),Q=S($[0]+"e"+(+$[1]+M));return $=(Nr(Q)+"e").split("e"),+($[0]+"e"+(+$[1]-M))}return S(A)}}var DK=Rf&&1/Cg(new Rf([,-0]))[1]==z?function(y){return new Rf(y)}:jw;function vF(y){return function(S){var A=Hi(S);return A==Ge?Yb(S):A==ct?tq(S):WY(S,y(S))}}function Gs(y,S,A,M,$,Q,oe,fe){var xe=S&g;if(!xe&&typeof y!="function")throw new eo(o);var je=M?M.length:0;if(je||(S&=~(w|E),M=$=r),oe=oe===r?oe:ii(qt(oe),0),fe=fe===r?fe:qt(fe),je-=$?$.length:0,S&E){var $e=M,He=$;M=$=r}var ot=xe?r:bw(y),bt=[y,S,A,M,$,$e,He,Q,oe,fe];if(ot&&QK(bt,ot),y=bt[0],S=bt[1],A=bt[2],M=bt[3],$=bt[4],fe=bt[9]=bt[9]===r?xe?0:y.length:ii(bt[9]-je,0),!fe&&S&(x|b)&&(S&=~(x|b)),!S||S==m)var kt=LK(y,S,A);else S==x||S==b?kt=MK(y,S,fe):(S==w||S==(m|w))&&!$.length?kt=BK(y,S,A,M):kt=Wg.apply(r,bt);var rr=ot?q4:TF;return AF(rr(kt,bt),y,S)}function gF(y,S,A,M){return y===r||Eo(y,If[A])&&!Dr.call(M,A)?S:y}function mF(y,S,A,M,$,Q){return yn(y)&&yn(S)&&(Q.set(S,y),Vg(y,S,r,mF,Q),Q.delete(S)),y}function UK(y){return v0(y)?r:y}function _F(y,S,A,M,$,Q){var oe=A&d,fe=y.length,xe=S.length;if(fe!=xe&&!(oe&&xe>fe))return!1;var je=Q.get(y),$e=Q.get(S);if(je&&$e)return je==S&&$e==y;var He=-1,ot=!0,bt=A&v?new zu:r;for(Q.set(y,S),Q.set(S,y);++He<fe;){var kt=y[He],rr=S[He];if(M)var Ft=oe?M(rr,kt,He,S,y,Q):M(kt,rr,He,y,S,Q);if(Ft!==r){if(Ft)continue;ot=!1;break}if(bt){if(!Gb(S,function(dr,br){if(!t0(bt,br)&&(kt===dr||$(kt,dr,A,M,Q)))return bt.push(br)})){ot=!1;break}}else if(!(kt===rr||$(kt,rr,A,M,Q))){ot=!1;break}}return Q.delete(y),Q.delete(S),ot}function jK(y,S,A,M,$,Q,oe){switch(A){case yt:if(y.byteLength!=S.byteLength||y.byteOffset!=S.byteOffset)return!1;y=y.buffer,S=S.buffer;case $t:return!(y.byteLength!=S.byteLength||!Q(new Og(y),new Og(S)));case ue:case we:case We:return Eo(+y,+S);case Fe:return y.name==S.name&&y.message==S.message;case At:case ft:return y==S+"";case Ge:var fe=Yb;case ct:var xe=M&d;if(fe||(fe=Cg),y.size!=S.size&&!xe)return!1;var je=oe.get(y);if(je)return je==S;M|=v,oe.set(y,S);var $e=_F(fe(y),fe(S),M,$,Q,oe);return oe.delete(y),$e;case Et:if(o0)return o0.call(y)==o0.call(S)}return!1}function $K(y,S,A,M,$,Q){var oe=A&d,fe=yw(y),xe=fe.length,je=yw(S),$e=je.length;if(xe!=$e&&!oe)return!1;for(var He=xe;He--;){var ot=fe[He];if(!(oe?ot in S:Dr.call(S,ot)))return!1}var bt=Q.get(y),kt=Q.get(S);if(bt&&kt)return bt==S&&kt==y;var rr=!0;Q.set(y,S),Q.set(S,y);for(var Ft=oe;++He<xe;){ot=fe[He];var dr=y[ot],br=S[ot];if(M)var Ba=oe?M(br,dr,ot,S,y,Q):M(dr,br,ot,y,S,Q);if(!(Ba===r?dr===br||$(dr,br,A,M,Q):Ba)){rr=!1;break}Ft||(Ft=ot=="constructor")}if(rr&&!Ft){var sa=y.constructor,Da=S.constructor;sa!=Da&&"constructor"in y&&"constructor"in S&&!(typeof sa=="function"&&sa instanceof sa&&typeof Da=="function"&&Da instanceof Da)&&(rr=!1)}return Q.delete(y),Q.delete(S),rr}function Vs(y){return Aw(SF(y,r,FF),y+"")}function yw(y){return D4(y,pi,Ew)}function xw(y){return D4(y,ya,yF)}var bw=Bg?function(y){return Bg.get(y)}:jw;function Zg(y){for(var S=y.name+"",A=Pf[S],M=Dr.call(Pf,S)?A.length:0;M--;){var $=A[M],Q=$.func;if(Q==null||Q==y)return $.name}return S}function Nf(y){var S=Dr.call(q,"placeholder")?q:y;return S.placeholder}function Rt(){var y=q.iteratee||Dw;return y=y===Dw?$4:y,arguments.length?y(arguments[0],arguments[1]):y}function Jg(y,S){var A=y.__data__;return qK(S)?A[typeof S=="string"?"string":"hash"]:A.map}function ww(y){for(var S=pi(y),A=S.length;A--;){var M=S[A],$=y[M];S[A]=[M,$,wF($)]}return S}function qu(y,S){var A=JY(y,S);return j4(A)?A:r}function GK(y){var S=Dr.call(y,Hu),A=y[Hu];try{y[Hu]=r;var M=!0}catch{}var $=Rg.call(y);return M&&(S?y[Hu]=A:delete y[Hu]),$}var Ew=Kb?function(y){return y==null?[]:(y=Xr(y),Cl(Kb(y),function(S){return C4.call(y,S)}))}:$w,yF=Kb?function(y){for(var S=[];y;)Tl(S,Ew(y)),y=kg(y);return S}:$w,Hi=aa;(Zb&&Hi(new Zb(new ArrayBuffer(1)))!=yt||n0&&Hi(new n0)!=Ge||Jb&&Hi(Jb.resolve())!=qe||Rf&&Hi(new Rf)!=ct||i0&&Hi(new i0)!=Vt)&&(Hi=function(y){var S=aa(y),A=S==Xe?y.constructor:r,M=A?Ku(A):"";if(M)switch(M){case Sq:return yt;case Cq:return Ge;case Tq:return qe;case Aq:return ct;case Iq:return Vt}return S});function VK(y,S,A){for(var M=-1,$=A.length;++M<$;){var Q=A[M],oe=Q.size;switch(Q.type){case"drop":y+=oe;break;case"dropRight":S-=oe;break;case"take":S=Vi(S,y+oe);break;case"takeRight":y=ii(y,S-oe);break}}return{start:y,end:S}}function HK(y){var S=y.match(bl);return S?S[1].split(wl):[]}function xF(y,S,A){S=Ol(S,y);for(var M=-1,$=S.length,Q=!1;++M<$;){var oe=ss(S[M]);if(!(Q=y!=null&&A(y,oe)))break;y=y[oe]}return Q||++M!=$?Q:($=y==null?0:y.length,!!$&&am($)&&Hs(oe,$)&&(Ht(y)||Zu(y)))}function XK(y){var S=y.length,A=new y.constructor(S);return S&&typeof y[0]=="string"&&Dr.call(y,"index")&&(A.index=y.index,A.input=y.input),A}function bF(y){return typeof y.constructor=="function"&&!d0(y)?Of(kg(y)):{}}function zK(y,S,A){var M=y.constructor;switch(S){case $t:return gw(y);case ue:case we:return new M(+y);case yt:return RK(y,A);case Yt:case Oe:case j:case he:case Se:case ke:case ae:case Ie:case X:return nF(y,A);case Ge:return new M;case We:case ft:return new M(y);case At:return PK(y);case ct:return new M;case Et:return OK(y)}}function WK(y,S){var A=S.length;if(!A)return y;var M=A-1;return S[M]=(A>1?"& ":"")+S[M],S=S.join(A>2?", ":" "),y.replace(zn,`{
/* [wrapped with `+S+`] */
`)}function YK(y){return Ht(y)||Zu(y)||!!(T4&&y&&y[T4])}function Hs(y,S){var A=typeof y;return S=S??ee,!!S&&(A=="number"||A!="symbol"&&Rb.test(y))&&y>-1&&y%1==0&&y<S}function oa(y,S,A){if(!yn(A))return!1;var M=typeof S;return(M=="number"?_a(A)&&Hs(S,A.length):M=="string"&&S in A)?Eo(A[S],y):!1}function Sw(y,S){if(Ht(y))return!1;var A=typeof y;return A=="number"||A=="symbol"||A=="boolean"||y==null||Ma(y)?!0:Ot.test(y)||!at.test(y)||S!=null&&y in Xr(S)}function qK(y){var S=typeof y;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?y!=="__proto__":y===null}function Cw(y){var S=Zg(y),A=q[S];if(typeof A!="function"||!(S in mr.prototype))return!1;if(y===A)return!0;var M=bw(A);return!!M&&y===M[0]}function KK(y){return!!w4&&w4 in y}var ZK=Ag?Xs:Gw;function d0(y){var S=y&&y.constructor,A=typeof S=="function"&&S.prototype||If;return y===A}function wF(y){return y===y&&!yn(y)}function EF(y,S){return function(A){return A==null?!1:A[y]===S&&(S!==r||y in Xr(A))}}function JK(y){var S=nm(y,function(M){return A.size===l&&A.clear(),M}),A=S.cache;return S}function QK(y,S){var A=y[1],M=S[1],$=A|M,Q=$<(m|g|C),oe=M==C&&A==x||M==C&&A==T&&y[7].length<=S[8]||M==(C|T)&&S[7].length<=S[8]&&A==x;if(!(Q||oe))return y;M&m&&(y[2]=S[2],$|=A&m?0:_);var fe=S[3];if(fe){var xe=y[3];y[3]=xe?aF(xe,fe,S[4]):fe,y[4]=xe?Al(y[3],u):S[4]}return fe=S[5],fe&&(xe=y[5],y[5]=xe?oF(xe,fe,S[6]):fe,y[6]=xe?Al(y[5],u):S[6]),fe=S[7],fe&&(y[7]=fe),M&C&&(y[8]=y[8]==null?S[8]:Vi(y[8],S[8])),y[9]==null&&(y[9]=S[9]),y[0]=S[0],y[1]=$,y}function eZ(y){var S=[];if(y!=null)for(var A in Xr(y))S.push(A);return S}function tZ(y){return Rg.call(y)}function SF(y,S,A){return S=ii(S===r?y.length-1:S,0),function(){for(var M=arguments,$=-1,Q=ii(M.length-S,0),oe=Ne(Q);++$<Q;)oe[$]=M[S+$];$=-1;for(var fe=Ne(S+1);++$<S;)fe[$]=M[$];return fe[S]=A(oe),Fa(y,this,fe)}}function CF(y,S){return S.length<2?y:Yu(y,no(S,0,-1))}function rZ(y,S){for(var A=y.length,M=Vi(S.length,A),$=ma(y);M--;){var Q=S[M];y[M]=Hs(Q,A)?$[Q]:r}return y}function Tw(y,S){if(!(S==="constructor"&&typeof y[S]=="function")&&S!="__proto__")return y[S]}var TF=IF(q4),p0=mq||function(y,S){return Ii.setTimeout(y,S)},Aw=IF(CK);function AF(y,S,A){var M=S+"";return Aw(y,WK(M,nZ(HK(M),A)))}function IF(y){var S=0,A=0;return function(){var M=bq(),$=k-(M-A);if(A=M,$>0){if(++S>=P)return arguments[0]}else S=0;return y.apply(r,arguments)}}function Qg(y,S){var A=-1,M=y.length,$=M-1;for(S=S===r?M:S;++A<S;){var Q=uw(A,$),oe=y[Q];y[Q]=y[A],y[A]=oe}return y.length=S,y}var RF=JK(function(y){var S=[];return y.charCodeAt(0)===46&&S.push(""),y.replace(Nn,function(A,M,$,Q){S.push($?Q.replace(Ln,"$1"):M||A)}),S});function ss(y){if(typeof y=="string"||Ma(y))return y;var S=y+"";return S=="0"&&1/y==-z?"-0":S}function Ku(y){if(y!=null){try{return Ig.call(y)}catch{}try{return y+""}catch{}}return""}function nZ(y,S){return Qa(V,function(A){var M="_."+A[0];S&A[1]&&!Eg(y,M)&&y.push(M)}),y.sort()}function PF(y){if(y instanceof mr)return y.clone();var S=new to(y.__wrapped__,y.__chain__);return S.__actions__=ma(y.__actions__),S.__index__=y.__index__,S.__values__=y.__values__,S}function iZ(y,S,A){(A?oa(y,S,A):S===r)?S=1:S=ii(qt(S),0);var M=y==null?0:y.length;if(!M||S<1)return[];for(var $=0,Q=0,oe=Ne(Lg(M/S));$<M;)oe[Q++]=no(y,$,$+=S);return oe}function aZ(y){for(var S=-1,A=y==null?0:y.length,M=0,$=[];++S<A;){var Q=y[S];Q&&($[M++]=Q)}return $}function oZ(){var y=arguments.length;if(!y)return[];for(var S=Ne(y-1),A=arguments[0],M=y;M--;)S[M-1]=arguments[M];return Tl(Ht(A)?ma(A):[A],Ri(S,1))}var sZ=ar(function(y,S){return Mn(y)?l0(y,Ri(S,1,Mn,!0)):[]}),lZ=ar(function(y,S){var A=io(S);return Mn(A)&&(A=r),Mn(y)?l0(y,Ri(S,1,Mn,!0),Rt(A,2)):[]}),uZ=ar(function(y,S){var A=io(S);return Mn(A)&&(A=r),Mn(y)?l0(y,Ri(S,1,Mn,!0),r,A):[]});function cZ(y,S,A){var M=y==null?0:y.length;return M?(S=A||S===r?1:qt(S),no(y,S<0?0:S,M)):[]}function fZ(y,S,A){var M=y==null?0:y.length;return M?(S=A||S===r?1:qt(S),S=M-S,no(y,0,S<0?0:S)):[]}function hZ(y,S){return y&&y.length?Xg(y,Rt(S,3),!0,!0):[]}function dZ(y,S){return y&&y.length?Xg(y,Rt(S,3),!0):[]}function pZ(y,S,A,M){var $=y==null?0:y.length;return $?(A&&typeof A!="number"&&oa(y,S,A)&&(A=0,M=$),oK(y,S,A,M)):[]}function OF(y,S,A){var M=y==null?0:y.length;if(!M)return-1;var $=A==null?0:qt(A);return $<0&&($=ii(M+$,0)),Sg(y,Rt(S,3),$)}function kF(y,S,A){var M=y==null?0:y.length;if(!M)return-1;var $=M-1;return A!==r&&($=qt(A),$=A<0?ii(M+$,0):Vi($,M-1)),Sg(y,Rt(S,3),$,!0)}function FF(y){var S=y==null?0:y.length;return S?Ri(y,1):[]}function vZ(y){var S=y==null?0:y.length;return S?Ri(y,z):[]}function gZ(y,S){var A=y==null?0:y.length;return A?(S=S===r?1:qt(S),Ri(y,S)):[]}function mZ(y){for(var S=-1,A=y==null?0:y.length,M={};++S<A;){var $=y[S];M[$[0]]=$[1]}return M}function NF(y){return y&&y.length?y[0]:r}function _Z(y,S,A){var M=y==null?0:y.length;if(!M)return-1;var $=A==null?0:qt(A);return $<0&&($=ii(M+$,0)),Sf(y,S,$)}function yZ(y){var S=y==null?0:y.length;return S?no(y,0,-1):[]}var xZ=ar(function(y){var S=un(y,pw);return S.length&&S[0]===y[0]?iw(S):[]}),bZ=ar(function(y){var S=io(y),A=un(y,pw);return S===io(A)?S=r:A.pop(),A.length&&A[0]===y[0]?iw(A,Rt(S,2)):[]}),wZ=ar(function(y){var S=io(y),A=un(y,pw);return S=typeof S=="function"?S:r,S&&A.pop(),A.length&&A[0]===y[0]?iw(A,r,S):[]});function EZ(y,S){return y==null?"":yq.call(y,S)}function io(y){var S=y==null?0:y.length;return S?y[S-1]:r}function SZ(y,S,A){var M=y==null?0:y.length;if(!M)return-1;var $=M;return A!==r&&($=qt(A),$=$<0?ii(M+$,0):Vi($,M-1)),S===S?nq(y,S,$):Sg(y,p4,$,!0)}function CZ(y,S){return y&&y.length?X4(y,qt(S)):r}var TZ=ar(LF);function LF(y,S){return y&&y.length&&S&&S.length?lw(y,S):y}function AZ(y,S,A){return y&&y.length&&S&&S.length?lw(y,S,Rt(A,2)):y}function IZ(y,S,A){return y&&y.length&&S&&S.length?lw(y,S,r,A):y}var RZ=Vs(function(y,S){var A=y==null?0:y.length,M=ew(y,S);return Y4(y,un(S,function($){return Hs($,A)?+$:$}).sort(iF)),M});function PZ(y,S){var A=[];if(!(y&&y.length))return A;var M=-1,$=[],Q=y.length;for(S=Rt(S,3);++M<Q;){var oe=y[M];S(oe,M,y)&&(A.push(oe),$.push(M))}return Y4(y,$),A}function Iw(y){return y==null?y:Eq.call(y)}function OZ(y,S,A){var M=y==null?0:y.length;return M?(A&&typeof A!="number"&&oa(y,S,A)?(S=0,A=M):(S=S==null?0:qt(S),A=A===r?M:qt(A)),no(y,S,A)):[]}function kZ(y,S){return Hg(y,S)}function FZ(y,S,A){return fw(y,S,Rt(A,2))}function NZ(y,S){var A=y==null?0:y.length;if(A){var M=Hg(y,S);if(M<A&&Eo(y[M],S))return M}return-1}function LZ(y,S){return Hg(y,S,!0)}function MZ(y,S,A){return fw(y,S,Rt(A,2),!0)}function BZ(y,S){var A=y==null?0:y.length;if(A){var M=Hg(y,S,!0)-1;if(Eo(y[M],S))return M}return-1}function DZ(y){return y&&y.length?K4(y):[]}function UZ(y,S){return y&&y.length?K4(y,Rt(S,2)):[]}function jZ(y){var S=y==null?0:y.length;return S?no(y,1,S):[]}function $Z(y,S,A){return y&&y.length?(S=A||S===r?1:qt(S),no(y,0,S<0?0:S)):[]}function GZ(y,S,A){var M=y==null?0:y.length;return M?(S=A||S===r?1:qt(S),S=M-S,no(y,S<0?0:S,M)):[]}function VZ(y,S){return y&&y.length?Xg(y,Rt(S,3),!1,!0):[]}function HZ(y,S){return y&&y.length?Xg(y,Rt(S,3)):[]}var XZ=ar(function(y){return Pl(Ri(y,1,Mn,!0))}),zZ=ar(function(y){var S=io(y);return Mn(S)&&(S=r),Pl(Ri(y,1,Mn,!0),Rt(S,2))}),WZ=ar(function(y){var S=io(y);return S=typeof S=="function"?S:r,Pl(Ri(y,1,Mn,!0),r,S)});function YZ(y){return y&&y.length?Pl(y):[]}function qZ(y,S){return y&&y.length?Pl(y,Rt(S,2)):[]}function KZ(y,S){return S=typeof S=="function"?S:r,y&&y.length?Pl(y,r,S):[]}function Rw(y){if(!(y&&y.length))return[];var S=0;return y=Cl(y,function(A){if(Mn(A))return S=ii(A.length,S),!0}),zb(S,function(A){return un(y,Vb(A))})}function MF(y,S){if(!(y&&y.length))return[];var A=Rw(y);return S==null?A:un(A,function(M){return Fa(S,r,M)})}var ZZ=ar(function(y,S){return Mn(y)?l0(y,S):[]}),JZ=ar(function(y){return dw(Cl(y,Mn))}),QZ=ar(function(y){var S=io(y);return Mn(S)&&(S=r),dw(Cl(y,Mn),Rt(S,2))}),eJ=ar(function(y){var S=io(y);return S=typeof S=="function"?S:r,dw(Cl(y,Mn),r,S)}),tJ=ar(Rw);function rJ(y,S){return eF(y||[],S||[],s0)}function nJ(y,S){return eF(y||[],S||[],f0)}var iJ=ar(function(y){var S=y.length,A=S>1?y[S-1]:r;return A=typeof A=="function"?(y.pop(),A):r,MF(y,A)});function BF(y){var S=q(y);return S.__chain__=!0,S}function aJ(y,S){return S(y),y}function em(y,S){return S(y)}var oJ=Vs(function(y){var S=y.length,A=S?y[0]:0,M=this.__wrapped__,$=function(Q){return ew(Q,y)};return S>1||this.__actions__.length||!(M instanceof mr)||!Hs(A)?this.thru($):(M=M.slice(A,+A+(S?1:0)),M.__actions__.push({func:em,args:[$],thisArg:r}),new to(M,this.__chain__).thru(function(Q){return S&&!Q.length&&Q.push(r),Q}))});function sJ(){return BF(this)}function lJ(){return new to(this.value(),this.__chain__)}function uJ(){this.__values__===r&&(this.__values__=ZF(this.value()));var y=this.__index__>=this.__values__.length,S=y?r:this.__values__[this.__index__++];return{done:y,value:S}}function cJ(){return this}function fJ(y){for(var S,A=this;A instanceof Ug;){var M=PF(A);M.__index__=0,M.__values__=r,S?$.__wrapped__=M:S=M;var $=M;A=A.__wrapped__}return $.__wrapped__=y,S}function hJ(){var y=this.__wrapped__;if(y instanceof mr){var S=y;return this.__actions__.length&&(S=new mr(this)),S=S.reverse(),S.__actions__.push({func:em,args:[Iw],thisArg:r}),new to(S,this.__chain__)}return this.thru(Iw)}function dJ(){return Q4(this.__wrapped__,this.__actions__)}var pJ=zg(function(y,S,A){Dr.call(y,A)?++y[A]:$s(y,A,1)});function vJ(y,S,A){var M=Ht(y)?h4:aK;return A&&oa(y,S,A)&&(S=r),M(y,Rt(S,3))}function gJ(y,S){var A=Ht(y)?Cl:M4;return A(y,Rt(S,3))}var mJ=cF(OF),_J=cF(kF);function yJ(y,S){return Ri(tm(y,S),1)}function xJ(y,S){return Ri(tm(y,S),z)}function bJ(y,S,A){return A=A===r?1:qt(A),Ri(tm(y,S),A)}function DF(y,S){var A=Ht(y)?Qa:Rl;return A(y,Rt(S,3))}function UF(y,S){var A=Ht(y)?jY:L4;return A(y,Rt(S,3))}var wJ=zg(function(y,S,A){Dr.call(y,A)?y[A].push(S):$s(y,A,[S])});function EJ(y,S,A,M){y=_a(y)?y:Mf(y),A=A&&!M?qt(A):0;var $=y.length;return A<0&&(A=ii($+A,0)),om(y)?A<=$&&y.indexOf(S,A)>-1:!!$&&Sf(y,S,A)>-1}var SJ=ar(function(y,S,A){var M=-1,$=typeof S=="function",Q=_a(y)?Ne(y.length):[];return Rl(y,function(oe){Q[++M]=$?Fa(S,oe,A):u0(oe,S,A)}),Q}),CJ=zg(function(y,S,A){$s(y,A,S)});function tm(y,S){var A=Ht(y)?un:G4;return A(y,Rt(S,3))}function TJ(y,S,A,M){return y==null?[]:(Ht(S)||(S=S==null?[]:[S]),A=M?r:A,Ht(A)||(A=A==null?[]:[A]),z4(y,S,A))}var AJ=zg(function(y,S,A){y[A?0:1].push(S)},function(){return[[],[]]});function IJ(y,S,A){var M=Ht(y)?$b:g4,$=arguments.length<3;return M(y,Rt(S,4),A,$,Rl)}function RJ(y,S,A){var M=Ht(y)?$Y:g4,$=arguments.length<3;return M(y,Rt(S,4),A,$,L4)}function PJ(y,S){var A=Ht(y)?Cl:M4;return A(y,im(Rt(S,3)))}function OJ(y){var S=Ht(y)?O4:EK;return S(y)}function kJ(y,S,A){(A?oa(y,S,A):S===r)?S=1:S=qt(S);var M=Ht(y)?eK:SK;return M(y,S)}function FJ(y){var S=Ht(y)?tK:TK;return S(y)}function NJ(y){if(y==null)return 0;if(_a(y))return om(y)?Tf(y):y.length;var S=Hi(y);return S==Ge||S==ct?y.size:ow(y).length}function LJ(y,S,A){var M=Ht(y)?Gb:AK;return A&&oa(y,S,A)&&(S=r),M(y,Rt(S,3))}var MJ=ar(function(y,S){if(y==null)return[];var A=S.length;return A>1&&oa(y,S[0],S[1])?S=[]:A>2&&oa(S[0],S[1],S[2])&&(S=[S[0]]),z4(y,Ri(S,1),[])}),rm=gq||function(){return Ii.Date.now()};function BJ(y,S){if(typeof S!="function")throw new eo(o);return y=qt(y),function(){if(--y<1)return S.apply(this,arguments)}}function jF(y,S,A){return S=A?r:S,S=y&&S==null?y.length:S,Gs(y,C,r,r,r,r,S)}function $F(y,S){var A;if(typeof S!="function")throw new eo(o);return y=qt(y),function(){return--y>0&&(A=S.apply(this,arguments)),y<=1&&(S=r),A}}var Pw=ar(function(y,S,A){var M=m;if(A.length){var $=Al(A,Nf(Pw));M|=w}return Gs(y,M,S,A,$)}),GF=ar(function(y,S,A){var M=m|g;if(A.length){var $=Al(A,Nf(GF));M|=w}return Gs(S,M,y,A,$)});function VF(y,S,A){S=A?r:S;var M=Gs(y,x,r,r,r,r,r,S);return M.placeholder=VF.placeholder,M}function HF(y,S,A){S=A?r:S;var M=Gs(y,b,r,r,r,r,r,S);return M.placeholder=HF.placeholder,M}function XF(y,S,A){var M,$,Q,oe,fe,xe,je=0,$e=!1,He=!1,ot=!0;if(typeof y!="function")throw new eo(o);S=ao(S)||0,yn(A)&&($e=!!A.leading,He="maxWait"in A,Q=He?ii(ao(A.maxWait)||0,S):Q,ot="trailing"in A?!!A.trailing:ot);function bt(Bn){var So=M,Ws=$;return M=$=r,je=Bn,oe=y.apply(Ws,So),oe}function kt(Bn){return je=Bn,fe=p0(dr,S),$e?bt(Bn):oe}function rr(Bn){var So=Bn-xe,Ws=Bn-je,cN=S-So;return He?Vi(cN,Q-Ws):cN}function Ft(Bn){var So=Bn-xe,Ws=Bn-je;return xe===r||So>=S||So<0||He&&Ws>=Q}function dr(){var Bn=rm();if(Ft(Bn))return br(Bn);fe=p0(dr,rr(Bn))}function br(Bn){return fe=r,ot&&M?bt(Bn):(M=$=r,oe)}function Ba(){fe!==r&&tF(fe),je=0,M=xe=$=fe=r}function sa(){return fe===r?oe:br(rm())}function Da(){var Bn=rm(),So=Ft(Bn);if(M=arguments,$=this,xe=Bn,So){if(fe===r)return kt(xe);if(He)return tF(fe),fe=p0(dr,S),bt(xe)}return fe===r&&(fe=p0(dr,S)),oe}return Da.cancel=Ba,Da.flush=sa,Da}var DJ=ar(function(y,S){return N4(y,1,S)}),UJ=ar(function(y,S,A){return N4(y,ao(S)||0,A)});function jJ(y){return Gs(y,I)}function nm(y,S){if(typeof y!="function"||S!=null&&typeof S!="function")throw new eo(o);var A=function(){var M=arguments,$=S?S.apply(this,M):M[0],Q=A.cache;if(Q.has($))return Q.get($);var oe=y.apply(this,M);return A.cache=Q.set($,oe)||Q,oe};return A.cache=new(nm.Cache||js),A}nm.Cache=js;function im(y){if(typeof y!="function")throw new eo(o);return function(){var S=arguments;switch(S.length){case 0:return!y.call(this);case 1:return!y.call(this,S[0]);case 2:return!y.call(this,S[0],S[1]);case 3:return!y.call(this,S[0],S[1],S[2])}return!y.apply(this,S)}}function $J(y){return $F(2,y)}var GJ=IK(function(y,S){S=S.length==1&&Ht(S[0])?un(S[0],Na(Rt())):un(Ri(S,1),Na(Rt()));var A=S.length;return ar(function(M){for(var $=-1,Q=Vi(M.length,A);++$<Q;)M[$]=S[$].call(this,M[$]);return Fa(y,this,M)})}),Ow=ar(function(y,S){var A=Al(S,Nf(Ow));return Gs(y,w,r,S,A)}),zF=ar(function(y,S){var A=Al(S,Nf(zF));return Gs(y,E,r,S,A)}),VJ=Vs(function(y,S){return Gs(y,T,r,r,r,S)});function HJ(y,S){if(typeof y!="function")throw new eo(o);return S=S===r?S:qt(S),ar(y,S)}function XJ(y,S){if(typeof y!="function")throw new eo(o);return S=S==null?0:ii(qt(S),0),ar(function(A){var M=A[S],$=kl(A,0,S);return M&&Tl($,M),Fa(y,this,$)})}function zJ(y,S,A){var M=!0,$=!0;if(typeof y!="function")throw new eo(o);return yn(A)&&(M="leading"in A?!!A.leading:M,$="trailing"in A?!!A.trailing:$),XF(y,S,{leading:M,maxWait:S,trailing:$})}function WJ(y){return jF(y,1)}function YJ(y,S){return Ow(vw(S),y)}function qJ(){if(!arguments.length)return[];var y=arguments[0];return Ht(y)?y:[y]}function KJ(y){return ro(y,p)}function ZJ(y,S){return S=typeof S=="function"?S:r,ro(y,p,S)}function JJ(y){return ro(y,f|p)}function QJ(y,S){return S=typeof S=="function"?S:r,ro(y,f|p,S)}function eQ(y,S){return S==null||F4(y,S,pi(S))}function Eo(y,S){return y===S||y!==y&&S!==S}var tQ=Kg(nw),rQ=Kg(function(y,S){return y>=S}),Zu=U4(function(){return arguments}())?U4:function(y){return Cn(y)&&Dr.call(y,"callee")&&!C4.call(y,"callee")},Ht=Ne.isArray,nQ=o4?Na(o4):fK;function _a(y){return y!=null&&am(y.length)&&!Xs(y)}function Mn(y){return Cn(y)&&_a(y)}function iQ(y){return y===!0||y===!1||Cn(y)&&aa(y)==ue}var Fl=_q||Gw,aQ=s4?Na(s4):hK;function oQ(y){return Cn(y)&&y.nodeType===1&&!v0(y)}function sQ(y){if(y==null)return!0;if(_a(y)&&(Ht(y)||typeof y=="string"||typeof y.splice=="function"||Fl(y)||Lf(y)||Zu(y)))return!y.length;var S=Hi(y);if(S==Ge||S==ct)return!y.size;if(d0(y))return!ow(y).length;for(var A in y)if(Dr.call(y,A))return!1;return!0}function lQ(y,S){return c0(y,S)}function uQ(y,S,A){A=typeof A=="function"?A:r;var M=A?A(y,S):r;return M===r?c0(y,S,r,A):!!M}function kw(y){if(!Cn(y))return!1;var S=aa(y);return S==Fe||S==Be||typeof y.message=="string"&&typeof y.name=="string"&&!v0(y)}function cQ(y){return typeof y=="number"&&A4(y)}function Xs(y){if(!yn(y))return!1;var S=aa(y);return S==Ee||S==Te||S==ge||S==wt}function WF(y){return typeof y=="number"&&y==qt(y)}function am(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=ee}function yn(y){var S=typeof y;return y!=null&&(S=="object"||S=="function")}function Cn(y){return y!=null&&typeof y=="object"}var YF=l4?Na(l4):pK;function fQ(y,S){return y===S||aw(y,S,ww(S))}function hQ(y,S,A){return A=typeof A=="function"?A:r,aw(y,S,ww(S),A)}function dQ(y){return qF(y)&&y!=+y}function pQ(y){if(ZK(y))throw new Gt(a);return j4(y)}function vQ(y){return y===null}function gQ(y){return y==null}function qF(y){return typeof y=="number"||Cn(y)&&aa(y)==We}function v0(y){if(!Cn(y)||aa(y)!=Xe)return!1;var S=kg(y);if(S===null)return!0;var A=Dr.call(S,"constructor")&&S.constructor;return typeof A=="function"&&A instanceof A&&Ig.call(A)==hq}var Fw=u4?Na(u4):vK;function mQ(y){return WF(y)&&y>=-ee&&y<=ee}var KF=c4?Na(c4):gK;function om(y){return typeof y=="string"||!Ht(y)&&Cn(y)&&aa(y)==ft}function Ma(y){return typeof y=="symbol"||Cn(y)&&aa(y)==Et}var Lf=f4?Na(f4):mK;function _Q(y){return y===r}function yQ(y){return Cn(y)&&Hi(y)==Vt}function xQ(y){return Cn(y)&&aa(y)==er}var bQ=Kg(sw),wQ=Kg(function(y,S){return y<=S});function ZF(y){if(!y)return[];if(_a(y))return om(y)?bo(y):ma(y);if(r0&&y[r0])return eq(y[r0]());var S=Hi(y),A=S==Ge?Yb:S==ct?Cg:Mf;return A(y)}function zs(y){if(!y)return y===0?y:0;if(y=ao(y),y===z||y===-z){var S=y<0?-1:1;return S*ne}return y===y?y:0}function qt(y){var S=zs(y),A=S%1;return S===S?A?S-A:S:0}function JF(y){return y?Wu(qt(y),0,D):0}function ao(y){if(typeof y=="number")return y;if(Ma(y))return W;if(yn(y)){var S=typeof y.valueOf=="function"?y.valueOf():y;y=yn(S)?S+"":S}if(typeof y!="string")return y===0?y:+y;y=m4(y);var A=Tb.test(y);return A||Ib.test(y)?BY(y.slice(2),A?2:8):xf.test(y)?W:+y}function QF(y){return os(y,ya(y))}function EQ(y){return y?Wu(qt(y),-ee,ee):y===0?y:0}function Nr(y){return y==null?"":La(y)}var SQ=kf(function(y,S){if(d0(S)||_a(S)){os(S,pi(S),y);return}for(var A in S)Dr.call(S,A)&&s0(y,A,S[A])}),eN=kf(function(y,S){os(S,ya(S),y)}),sm=kf(function(y,S,A,M){os(S,ya(S),y,M)}),CQ=kf(function(y,S,A,M){os(S,pi(S),y,M)}),TQ=Vs(ew);function AQ(y,S){var A=Of(y);return S==null?A:k4(A,S)}var IQ=ar(function(y,S){y=Xr(y);var A=-1,M=S.length,$=M>2?S[2]:r;for($&&oa(S[0],S[1],$)&&(M=1);++A<M;)for(var Q=S[A],oe=ya(Q),fe=-1,xe=oe.length;++fe<xe;){var je=oe[fe],$e=y[je];($e===r||Eo($e,If[je])&&!Dr.call(y,je))&&(y[je]=Q[je])}return y}),RQ=ar(function(y){return y.push(r,mF),Fa(tN,r,y)});function PQ(y,S){return d4(y,Rt(S,3),as)}function OQ(y,S){return d4(y,Rt(S,3),rw)}function kQ(y,S){return y==null?y:tw(y,Rt(S,3),ya)}function FQ(y,S){return y==null?y:B4(y,Rt(S,3),ya)}function NQ(y,S){return y&&as(y,Rt(S,3))}function LQ(y,S){return y&&rw(y,Rt(S,3))}function MQ(y){return y==null?[]:Gg(y,pi(y))}function BQ(y){return y==null?[]:Gg(y,ya(y))}function Nw(y,S,A){var M=y==null?r:Yu(y,S);return M===r?A:M}function DQ(y,S){return y!=null&&xF(y,S,sK)}function Lw(y,S){return y!=null&&xF(y,S,lK)}var UQ=hF(function(y,S,A){S!=null&&typeof S.toString!="function"&&(S=Rg.call(S)),y[S]=A},Bw(xa)),jQ=hF(function(y,S,A){S!=null&&typeof S.toString!="function"&&(S=Rg.call(S)),Dr.call(y,S)?y[S].push(A):y[S]=[A]},Rt),$Q=ar(u0);function pi(y){return _a(y)?P4(y):ow(y)}function ya(y){return _a(y)?P4(y,!0):_K(y)}function GQ(y,S){var A={};return S=Rt(S,3),as(y,function(M,$,Q){$s(A,S(M,$,Q),M)}),A}function VQ(y,S){var A={};return S=Rt(S,3),as(y,function(M,$,Q){$s(A,$,S(M,$,Q))}),A}var HQ=kf(function(y,S,A){Vg(y,S,A)}),tN=kf(function(y,S,A,M){Vg(y,S,A,M)}),XQ=Vs(function(y,S){var A={};if(y==null)return A;var M=!1;S=un(S,function(Q){return Q=Ol(Q,y),M||(M=Q.length>1),Q}),os(y,xw(y),A),M&&(A=ro(A,f|h|p,UK));for(var $=S.length;$--;)hw(A,S[$]);return A});function zQ(y,S){return rN(y,im(Rt(S)))}var WQ=Vs(function(y,S){return y==null?{}:xK(y,S)});function rN(y,S){if(y==null)return{};var A=un(xw(y),function(M){return[M]});return S=Rt(S),W4(y,A,function(M,$){return S(M,$[0])})}function YQ(y,S,A){S=Ol(S,y);var M=-1,$=S.length;for($||($=1,y=r);++M<$;){var Q=y==null?r:y[ss(S[M])];Q===r&&(M=$,Q=A),y=Xs(Q)?Q.call(y):Q}return y}function qQ(y,S,A){return y==null?y:f0(y,S,A)}function KQ(y,S,A,M){return M=typeof M=="function"?M:r,y==null?y:f0(y,S,A,M)}var nN=vF(pi),iN=vF(ya);function ZQ(y,S,A){var M=Ht(y),$=M||Fl(y)||Lf(y);if(S=Rt(S,4),A==null){var Q=y&&y.constructor;$?A=M?new Q:[]:yn(y)?A=Xs(Q)?Of(kg(y)):{}:A={}}return($?Qa:as)(y,function(oe,fe,xe){return S(A,oe,fe,xe)}),A}function JQ(y,S){return y==null?!0:hw(y,S)}function QQ(y,S,A){return y==null?y:J4(y,S,vw(A))}function eee(y,S,A,M){return M=typeof M=="function"?M:r,y==null?y:J4(y,S,vw(A),M)}function Mf(y){return y==null?[]:Wb(y,pi(y))}function tee(y){return y==null?[]:Wb(y,ya(y))}function ree(y,S,A){return A===r&&(A=S,S=r),A!==r&&(A=ao(A),A=A===A?A:0),S!==r&&(S=ao(S),S=S===S?S:0),Wu(ao(y),S,A)}function nee(y,S,A){return S=zs(S),A===r?(A=S,S=0):A=zs(A),y=ao(y),uK(y,S,A)}function iee(y,S,A){if(A&&typeof A!="boolean"&&oa(y,S,A)&&(S=A=r),A===r&&(typeof S=="boolean"?(A=S,S=r):typeof y=="boolean"&&(A=y,y=r)),y===r&&S===r?(y=0,S=1):(y=zs(y),S===r?(S=y,y=0):S=zs(S)),y>S){var M=y;y=S,S=M}if(A||y%1||S%1){var $=I4();return Vi(y+$*(S-y+MY("1e-"+(($+"").length-1))),S)}return uw(y,S)}var aee=Ff(function(y,S,A){return S=S.toLowerCase(),y+(A?aN(S):S)});function aN(y){return Mw(Nr(y).toLowerCase())}function oN(y){return y=Nr(y),y&&y.replace(Pb,qY).replace(TY,"")}function oee(y,S,A){y=Nr(y),S=La(S);var M=y.length;A=A===r?M:Wu(qt(A),0,M);var $=A;return A-=S.length,A>=0&&y.slice(A,$)==S}function see(y){return y=Nr(y),y&&le.test(y)?y.replace(Pe,KY):y}function lee(y){return y=Nr(y),y&&St.test(y)?y.replace(ir,"\\$&"):y}var uee=Ff(function(y,S,A){return y+(A?"-":"")+S.toLowerCase()}),cee=Ff(function(y,S,A){return y+(A?" ":"")+S.toLowerCase()}),fee=uF("toLowerCase");function hee(y,S,A){y=Nr(y),S=qt(S);var M=S?Tf(y):0;if(!S||M>=S)return y;var $=(S-M)/2;return qg(Mg($),A)+y+qg(Lg($),A)}function dee(y,S,A){y=Nr(y),S=qt(S);var M=S?Tf(y):0;return S&&M<S?y+qg(S-M,A):y}function pee(y,S,A){y=Nr(y),S=qt(S);var M=S?Tf(y):0;return S&&M<S?qg(S-M,A)+y:y}function vee(y,S,A){return A||S==null?S=0:S&&(S=+S),wq(Nr(y).replace(Sr,""),S||0)}function gee(y,S,A){return(A?oa(y,S,A):S===r)?S=1:S=qt(S),cw(Nr(y),S)}function mee(){var y=arguments,S=Nr(y[0]);return y.length<3?S:S.replace(y[1],y[2])}var _ee=Ff(function(y,S,A){return y+(A?"_":"")+S.toLowerCase()});function yee(y,S,A){return A&&typeof A!="number"&&oa(y,S,A)&&(S=A=r),A=A===r?D:A>>>0,A?(y=Nr(y),y&&(typeof S=="string"||S!=null&&!Fw(S))&&(S=La(S),!S&&Cf(y))?kl(bo(y),0,A):y.split(S,A)):[]}var xee=Ff(function(y,S,A){return y+(A?" ":"")+Mw(S)});function bee(y,S,A){return y=Nr(y),A=A==null?0:Wu(qt(A),0,y.length),S=La(S),y.slice(A,A+S.length)==S}function wee(y,S,A){var M=q.templateSettings;A&&oa(y,S,A)&&(S=r),y=Nr(y),S=sm({},S,M,gF);var $=sm({},S.imports,M.imports,gF),Q=pi($),oe=Wb($,Q),fe,xe,je=0,$e=S.interpolate||bf,He="__p += '",ot=qb((S.escape||bf).source+"|"+$e.source+"|"+($e===Je?ka:bf).source+"|"+(S.evaluate||bf).source+"|$","g"),bt="//# sourceURL="+(Dr.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++OY+"]")+`
`;y.replace(ot,function(Ft,dr,br,Ba,sa,Da){return br||(br=Ba),He+=y.slice(je,Da).replace(mg,ZY),dr&&(fe=!0,He+=`' +
__e(`+dr+`) +
'`),sa&&(xe=!0,He+=`';
`+sa+`;
__p += '`),br&&(He+=`' +
((__t = (`+br+`)) == null ? '' : __t) +
'`),je=Da+Ft.length,Ft}),He+=`';
`;var kt=Dr.call(S,"variable")&&S.variable;if(!kt)He=`with (obj) {
`+He+`
}
`;else if(Gi.test(kt))throw new Gt(s);He=(xe?He.replace(Ue,""):He).replace(dt,"$1").replace(F,"$1;"),He="function("+(kt||"obj")+`) {
`+(kt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fe?", __e = _.escape":"")+(xe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+He+`return __p
}`;var rr=lN(function(){return Or(Q,bt+"return "+He).apply(r,oe)});if(rr.source=He,kw(rr))throw rr;return rr}function Eee(y){return Nr(y).toLowerCase()}function See(y){return Nr(y).toUpperCase()}function Cee(y,S,A){if(y=Nr(y),y&&(A||S===r))return m4(y);if(!y||!(S=La(S)))return y;var M=bo(y),$=bo(S),Q=_4(M,$),oe=y4(M,$)+1;return kl(M,Q,oe).join("")}function Tee(y,S,A){if(y=Nr(y),y&&(A||S===r))return y.slice(0,b4(y)+1);if(!y||!(S=La(S)))return y;var M=bo(y),$=y4(M,bo(S))+1;return kl(M,0,$).join("")}function Aee(y,S,A){if(y=Nr(y),y&&(A||S===r))return y.replace(Sr,"");if(!y||!(S=La(S)))return y;var M=bo(y),$=_4(M,bo(S));return kl(M,$).join("")}function Iee(y,S){var A=R,M=O;if(yn(S)){var $="separator"in S?S.separator:$;A="length"in S?qt(S.length):A,M="omission"in S?La(S.omission):M}y=Nr(y);var Q=y.length;if(Cf(y)){var oe=bo(y);Q=oe.length}if(A>=Q)return y;var fe=A-Tf(M);if(fe<1)return M;var xe=oe?kl(oe,0,fe).join(""):y.slice(0,fe);if($===r)return xe+M;if(oe&&(fe+=xe.length-fe),Fw($)){if(y.slice(fe).search($)){var je,$e=xe;for($.global||($=qb($.source,Nr(na.exec($))+"g")),$.lastIndex=0;je=$.exec($e);)var He=je.index;xe=xe.slice(0,He===r?fe:He)}}else if(y.indexOf(La($),fe)!=fe){var ot=xe.lastIndexOf($);ot>-1&&(xe=xe.slice(0,ot))}return xe+M}function Ree(y){return y=Nr(y),y&&Y.test(y)?y.replace(Re,iq):y}var Pee=Ff(function(y,S,A){return y+(A?" ":"")+S.toUpperCase()}),Mw=uF("toUpperCase");function sN(y,S,A){return y=Nr(y),S=A?r:S,S===r?QY(y)?sq(y):HY(y):y.match(S)||[]}var lN=ar(function(y,S){try{return Fa(y,r,S)}catch(A){return kw(A)?A:new Gt(A)}}),Oee=Vs(function(y,S){return Qa(S,function(A){A=ss(A),$s(y,A,Pw(y[A],y))}),y});function kee(y){var S=y==null?0:y.length,A=Rt();return y=S?un(y,function(M){if(typeof M[1]!="function")throw new eo(o);return[A(M[0]),M[1]]}):[],ar(function(M){for(var $=-1;++$<S;){var Q=y[$];if(Fa(Q[0],this,M))return Fa(Q[1],this,M)}})}function Fee(y){return iK(ro(y,f))}function Bw(y){return function(){return y}}function Nee(y,S){return y==null||y!==y?S:y}var Lee=fF(),Mee=fF(!0);function xa(y){return y}function Dw(y){return $4(typeof y=="function"?y:ro(y,f))}function Bee(y){return V4(ro(y,f))}function Dee(y,S){return H4(y,ro(S,f))}var Uee=ar(function(y,S){return function(A){return u0(A,y,S)}}),jee=ar(function(y,S){return function(A){return u0(y,A,S)}});function Uw(y,S,A){var M=pi(S),$=Gg(S,M);A==null&&!(yn(S)&&($.length||!M.length))&&(A=S,S=y,y=this,$=Gg(S,pi(S)));var Q=!(yn(A)&&"chain"in A)||!!A.chain,oe=Xs(y);return Qa($,function(fe){var xe=S[fe];y[fe]=xe,oe&&(y.prototype[fe]=function(){var je=this.__chain__;if(Q||je){var $e=y(this.__wrapped__),He=$e.__actions__=ma(this.__actions__);return He.push({func:xe,args:arguments,thisArg:y}),$e.__chain__=je,$e}return xe.apply(y,Tl([this.value()],arguments))})}),y}function $ee(){return Ii._===this&&(Ii._=dq),this}function jw(){}function Gee(y){return y=qt(y),ar(function(S){return X4(S,y)})}var Vee=mw(un),Hee=mw(h4),Xee=mw(Gb);function uN(y){return Sw(y)?Vb(ss(y)):bK(y)}function zee(y){return function(S){return y==null?r:Yu(y,S)}}var Wee=dF(),Yee=dF(!0);function $w(){return[]}function Gw(){return!1}function qee(){return{}}function Kee(){return""}function Zee(){return!0}function Jee(y,S){if(y=qt(y),y<1||y>ee)return[];var A=D,M=Vi(y,D);S=Rt(S),y-=D;for(var $=zb(M,S);++A<y;)S(A);return $}function Qee(y){return Ht(y)?un(y,ss):Ma(y)?[y]:ma(RF(Nr(y)))}function ete(y){var S=++fq;return Nr(y)+S}var tte=Yg(function(y,S){return y+S},0),rte=_w("ceil"),nte=Yg(function(y,S){return y/S},1),ite=_w("floor");function ate(y){return y&&y.length?$g(y,xa,nw):r}function ote(y,S){return y&&y.length?$g(y,Rt(S,2),nw):r}function ste(y){return v4(y,xa)}function lte(y,S){return v4(y,Rt(S,2))}function ute(y){return y&&y.length?$g(y,xa,sw):r}function cte(y,S){return y&&y.length?$g(y,Rt(S,2),sw):r}var fte=Yg(function(y,S){return y*S},1),hte=_w("round"),dte=Yg(function(y,S){return y-S},0);function pte(y){return y&&y.length?Xb(y,xa):0}function vte(y,S){return y&&y.length?Xb(y,Rt(S,2)):0}return q.after=BJ,q.ary=jF,q.assign=SQ,q.assignIn=eN,q.assignInWith=sm,q.assignWith=CQ,q.at=TQ,q.before=$F,q.bind=Pw,q.bindAll=Oee,q.bindKey=GF,q.castArray=qJ,q.chain=BF,q.chunk=iZ,q.compact=aZ,q.concat=oZ,q.cond=kee,q.conforms=Fee,q.constant=Bw,q.countBy=pJ,q.create=AQ,q.curry=VF,q.curryRight=HF,q.debounce=XF,q.defaults=IQ,q.defaultsDeep=RQ,q.defer=DJ,q.delay=UJ,q.difference=sZ,q.differenceBy=lZ,q.differenceWith=uZ,q.drop=cZ,q.dropRight=fZ,q.dropRightWhile=hZ,q.dropWhile=dZ,q.fill=pZ,q.filter=gJ,q.flatMap=yJ,q.flatMapDeep=xJ,q.flatMapDepth=bJ,q.flatten=FF,q.flattenDeep=vZ,q.flattenDepth=gZ,q.flip=jJ,q.flow=Lee,q.flowRight=Mee,q.fromPairs=mZ,q.functions=MQ,q.functionsIn=BQ,q.groupBy=wJ,q.initial=yZ,q.intersection=xZ,q.intersectionBy=bZ,q.intersectionWith=wZ,q.invert=UQ,q.invertBy=jQ,q.invokeMap=SJ,q.iteratee=Dw,q.keyBy=CJ,q.keys=pi,q.keysIn=ya,q.map=tm,q.mapKeys=GQ,q.mapValues=VQ,q.matches=Bee,q.matchesProperty=Dee,q.memoize=nm,q.merge=HQ,q.mergeWith=tN,q.method=Uee,q.methodOf=jee,q.mixin=Uw,q.negate=im,q.nthArg=Gee,q.omit=XQ,q.omitBy=zQ,q.once=$J,q.orderBy=TJ,q.over=Vee,q.overArgs=GJ,q.overEvery=Hee,q.overSome=Xee,q.partial=Ow,q.partialRight=zF,q.partition=AJ,q.pick=WQ,q.pickBy=rN,q.property=uN,q.propertyOf=zee,q.pull=TZ,q.pullAll=LF,q.pullAllBy=AZ,q.pullAllWith=IZ,q.pullAt=RZ,q.range=Wee,q.rangeRight=Yee,q.rearg=VJ,q.reject=PJ,q.remove=PZ,q.rest=HJ,q.reverse=Iw,q.sampleSize=kJ,q.set=qQ,q.setWith=KQ,q.shuffle=FJ,q.slice=OZ,q.sortBy=MJ,q.sortedUniq=DZ,q.sortedUniqBy=UZ,q.split=yee,q.spread=XJ,q.tail=jZ,q.take=$Z,q.takeRight=GZ,q.takeRightWhile=VZ,q.takeWhile=HZ,q.tap=aJ,q.throttle=zJ,q.thru=em,q.toArray=ZF,q.toPairs=nN,q.toPairsIn=iN,q.toPath=Qee,q.toPlainObject=QF,q.transform=ZQ,q.unary=WJ,q.union=XZ,q.unionBy=zZ,q.unionWith=WZ,q.uniq=YZ,q.uniqBy=qZ,q.uniqWith=KZ,q.unset=JQ,q.unzip=Rw,q.unzipWith=MF,q.update=QQ,q.updateWith=eee,q.values=Mf,q.valuesIn=tee,q.without=ZZ,q.words=sN,q.wrap=YJ,q.xor=JZ,q.xorBy=QZ,q.xorWith=eJ,q.zip=tJ,q.zipObject=rJ,q.zipObjectDeep=nJ,q.zipWith=iJ,q.entries=nN,q.entriesIn=iN,q.extend=eN,q.extendWith=sm,Uw(q,q),q.add=tte,q.attempt=lN,q.camelCase=aee,q.capitalize=aN,q.ceil=rte,q.clamp=ree,q.clone=KJ,q.cloneDeep=JJ,q.cloneDeepWith=QJ,q.cloneWith=ZJ,q.conformsTo=eQ,q.deburr=oN,q.defaultTo=Nee,q.divide=nte,q.endsWith=oee,q.eq=Eo,q.escape=see,q.escapeRegExp=lee,q.every=vJ,q.find=mJ,q.findIndex=OF,q.findKey=PQ,q.findLast=_J,q.findLastIndex=kF,q.findLastKey=OQ,q.floor=ite,q.forEach=DF,q.forEachRight=UF,q.forIn=kQ,q.forInRight=FQ,q.forOwn=NQ,q.forOwnRight=LQ,q.get=Nw,q.gt=tQ,q.gte=rQ,q.has=DQ,q.hasIn=Lw,q.head=NF,q.identity=xa,q.includes=EJ,q.indexOf=_Z,q.inRange=nee,q.invoke=$Q,q.isArguments=Zu,q.isArray=Ht,q.isArrayBuffer=nQ,q.isArrayLike=_a,q.isArrayLikeObject=Mn,q.isBoolean=iQ,q.isBuffer=Fl,q.isDate=aQ,q.isElement=oQ,q.isEmpty=sQ,q.isEqual=lQ,q.isEqualWith=uQ,q.isError=kw,q.isFinite=cQ,q.isFunction=Xs,q.isInteger=WF,q.isLength=am,q.isMap=YF,q.isMatch=fQ,q.isMatchWith=hQ,q.isNaN=dQ,q.isNative=pQ,q.isNil=gQ,q.isNull=vQ,q.isNumber=qF,q.isObject=yn,q.isObjectLike=Cn,q.isPlainObject=v0,q.isRegExp=Fw,q.isSafeInteger=mQ,q.isSet=KF,q.isString=om,q.isSymbol=Ma,q.isTypedArray=Lf,q.isUndefined=_Q,q.isWeakMap=yQ,q.isWeakSet=xQ,q.join=EZ,q.kebabCase=uee,q.last=io,q.lastIndexOf=SZ,q.lowerCase=cee,q.lowerFirst=fee,q.lt=bQ,q.lte=wQ,q.max=ate,q.maxBy=ote,q.mean=ste,q.meanBy=lte,q.min=ute,q.minBy=cte,q.stubArray=$w,q.stubFalse=Gw,q.stubObject=qee,q.stubString=Kee,q.stubTrue=Zee,q.multiply=fte,q.nth=CZ,q.noConflict=$ee,q.noop=jw,q.now=rm,q.pad=hee,q.padEnd=dee,q.padStart=pee,q.parseInt=vee,q.random=iee,q.reduce=IJ,q.reduceRight=RJ,q.repeat=gee,q.replace=mee,q.result=YQ,q.round=hte,q.runInContext=me,q.sample=OJ,q.size=NJ,q.snakeCase=_ee,q.some=LJ,q.sortedIndex=kZ,q.sortedIndexBy=FZ,q.sortedIndexOf=NZ,q.sortedLastIndex=LZ,q.sortedLastIndexBy=MZ,q.sortedLastIndexOf=BZ,q.startCase=xee,q.startsWith=bee,q.subtract=dte,q.sum=pte,q.sumBy=vte,q.template=wee,q.times=Jee,q.toFinite=zs,q.toInteger=qt,q.toLength=JF,q.toLower=Eee,q.toNumber=ao,q.toSafeInteger=EQ,q.toString=Nr,q.toUpper=See,q.trim=Cee,q.trimEnd=Tee,q.trimStart=Aee,q.truncate=Iee,q.unescape=Ree,q.uniqueId=ete,q.upperCase=Pee,q.upperFirst=Mw,q.each=DF,q.eachRight=UF,q.first=NF,Uw(q,function(){var y={};return as(q,function(S,A){Dr.call(q.prototype,A)||(y[A]=S)}),y}(),{chain:!1}),q.VERSION=n,Qa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){q[y].placeholder=q}),Qa(["drop","take"],function(y,S){mr.prototype[y]=function(A){A=A===r?1:ii(qt(A),0);var M=this.__filtered__&&!S?new mr(this):this.clone();return M.__filtered__?M.__takeCount__=Vi(A,M.__takeCount__):M.__views__.push({size:Vi(A,D),type:y+(M.__dir__<0?"Right":"")}),M},mr.prototype[y+"Right"]=function(A){return this.reverse()[y](A).reverse()}}),Qa(["filter","map","takeWhile"],function(y,S){var A=S+1,M=A==L||A==U;mr.prototype[y]=function($){var Q=this.clone();return Q.__iteratees__.push({iteratee:Rt($,3),type:A}),Q.__filtered__=Q.__filtered__||M,Q}}),Qa(["head","last"],function(y,S){var A="take"+(S?"Right":"");mr.prototype[y]=function(){return this[A](1).value()[0]}}),Qa(["initial","tail"],function(y,S){var A="drop"+(S?"":"Right");mr.prototype[y]=function(){return this.__filtered__?new mr(this):this[A](1)}}),mr.prototype.compact=function(){return this.filter(xa)},mr.prototype.find=function(y){return this.filter(y).head()},mr.prototype.findLast=function(y){return this.reverse().find(y)},mr.prototype.invokeMap=ar(function(y,S){return typeof y=="function"?new mr(this):this.map(function(A){return u0(A,y,S)})}),mr.prototype.reject=function(y){return this.filter(im(Rt(y)))},mr.prototype.slice=function(y,S){y=qt(y);var A=this;return A.__filtered__&&(y>0||S<0)?new mr(A):(y<0?A=A.takeRight(-y):y&&(A=A.drop(y)),S!==r&&(S=qt(S),A=S<0?A.dropRight(-S):A.take(S-y)),A)},mr.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},mr.prototype.toArray=function(){return this.take(D)},as(mr.prototype,function(y,S){var A=/^(?:filter|find|map|reject)|While$/.test(S),M=/^(?:head|last)$/.test(S),$=q[M?"take"+(S=="last"?"Right":""):S],Q=M||/^find/.test(S);$&&(q.prototype[S]=function(){var oe=this.__wrapped__,fe=M?[1]:arguments,xe=oe instanceof mr,je=fe[0],$e=xe||Ht(oe),He=function(dr){var br=$.apply(q,Tl([dr],fe));return M&&ot?br[0]:br};$e&&A&&typeof je=="function"&&je.length!=1&&(xe=$e=!1);var ot=this.__chain__,bt=!!this.__actions__.length,kt=Q&&!ot,rr=xe&&!bt;if(!Q&&$e){oe=rr?oe:new mr(this);var Ft=y.apply(oe,fe);return Ft.__actions__.push({func:em,args:[He],thisArg:r}),new to(Ft,ot)}return kt&&rr?y.apply(this,fe):(Ft=this.thru(He),kt?M?Ft.value()[0]:Ft.value():Ft)})}),Qa(["pop","push","shift","sort","splice","unshift"],function(y){var S=Tg[y],A=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",M=/^(?:pop|shift)$/.test(y);q.prototype[y]=function(){var $=arguments;if(M&&!this.__chain__){var Q=this.value();return S.apply(Ht(Q)?Q:[],$)}return this[A](function(oe){return S.apply(Ht(oe)?oe:[],$)})}}),as(mr.prototype,function(y,S){var A=q[S];if(A){var M=A.name+"";Dr.call(Pf,M)||(Pf[M]=[]),Pf[M].push({name:S,func:A})}}),Pf[Wg(r,g).name]=[{name:"wrapper",func:r}],mr.prototype.clone=Rq,mr.prototype.reverse=Pq,mr.prototype.value=Oq,q.prototype.at=oJ,q.prototype.chain=sJ,q.prototype.commit=lJ,q.prototype.next=uJ,q.prototype.plant=fJ,q.prototype.reverse=hJ,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=dJ,q.prototype.first=q.prototype.head,r0&&(q.prototype[r0]=cJ),q},Af=lq();Vu?((Vu.exports=Af)._=Af,Db._=Af):Ii._=Af}).call(Ct)})(Gy,Gy.exports);var eg=Gy.exports;function pr(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const mV={};function ISe(t){const e={};for(const[r,n]of Object.entries(t))e[r]=mV[n.scriptType]={scriptString:r,...n};return e}const Mt=t=>(typeof t=="string"?Number(t):t)/.5;function Jc(t){const e={};return t&&(t.x!==void 0&&(e.left=Mt(t.x)+"px",e.position="absolute",e.transform="translateX(-50%)"),t.y!==void 0&&(e.top=Mt(t.y)+"px",e.position="absolute",e.transform+=" translateY(-50%)"),t.scale!==void 0&&(e.transform+=` scale(${t.scale})`),t.fontSize!==void 0&&(e.fontSize=Mt(t.fontSize)+"px"),t.fontColor!==void 0&&(e.color=t.fontColor),t.width!==void 0&&(e.width=Mt(t.width)+"px"),t.height!==void 0&&(e.height=Mt(t.height)+"px"),t.marginLeft!==void 0&&(e.marginLeft=Mt(t.marginLeft)+"px"),t.marginRight!==void 0&&(e.marginRight=Mt(t.marginRight)+"px"),t.gap!==void 0&&(e.gap=Mt(t.gap)+"px"),t.rowGap!==void 0&&(e.rowGap=Mt(t.rowGap)+"px"),t.columnGap!==void 0&&(e.columnGap=Mt(t.columnGap)+"px"),t.position&&(e.position=t.position)),e}function RSe(t){if(!t||eg.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"image",url:Ir(n,Ar.ui)})}),e}class dO{constructor(e,r){lt(this,"text");lt(this,"jump");lt(this,"jumpToScene");lt(this,"showCondition");lt(this,"enableCondition");lt(this,"shouldPay");lt(this,"amount");lt(this,"productId");lt(this,"hasBought");lt(this,"style");this.text=e,this.jump=r,this.jumpToScene=r.match(/\./)!==null}static parse(e,r){const n=e.split("->"),i=n.length>1?n[0]:null,a=n.length>1?n[1]:n[0],o=a.split(":"),s=o[0].replace(/[\$\#]{[^{}]*}/,""),c=new dO(s,o[1]),l=/\$\{(.*?)\}/,u=a.match(l);if(u){const p=u[1].split(","),d={};p.forEach(v=>{const[m,g]=v.split("=");m&&g&&(d[m.trim()]=isNaN(Number(g.trim()))?g.trim():Number(g.trim()))}),c.style=d}const f=/\#\{(.*?)\}/.exec(a);if(f&&pe.getState().storeData.isEditorPreviewMode===!1){const p=f[1].split(",");let d=0,v=0;p.forEach(g=>{const[_,x]=g.split("=");_==="productId"?d=isNaN(Number(x.trim()))?0:Number(x.trim()):_==="amount"&&(v=isNaN(Number(x.trim()))?0:Number(x.trim()))});const m=pe.getState().storeData.paymentConfigurationList.find(g=>g.product_id===d);d>0&&v>0&&(c.shouldPay=!0,c.productId=d,c.amount=v,$y(d).then(g=>{r.current[d]=!0})),(m==null?void 0:m.is_buy)===!0&&(c.hasBought=!0)}if(i!==null){const h=i.match(/\((.*)\)/);h&&(c.showCondition=h[1]);const p=i.match(/\[(.*)\]/);p&&(c.enableCondition=p[1])}return c}}const $T=(t,e)=>{const r=t.content.split("|"),n={current:{}},i=r.map(h=>dO.parse(h,n)),o=pe.getState().userData.optionData.textboxFont===Bc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:s,playSeClick:c}=Bd();let l={current:!1},u={current:null};const f=h=>h.filter((p,d)=>NT(p.showCondition)).map((p,d)=>{var x,b;const v=NT(p.enableCondition);let m=v?Ju.Choose_item:Ju.Choose_item_disabled;const g=()=>{if(!v&&!l.current)return;c();const w=()=>{if(e==null||e(),u.current&&(clearTimeout(u.current),u.current=null),p.jumpToScene){const E=p.jump.split("./game/scene/")[1];K7(p.jump,E)}else Z7(p.jump);l.current=!1,J.gameplay.performController.unmountPerform("choose")};if(p.shouldPay){const E=()=>{window.pubsub.publish("loading",{loading:!0}),vV(p.productId??0).then(R=>{window.pubsub.publish("loading",{loading:!1}),R.code===0?(window.pubsub.publish("toaster",{show:!0,text:""}),w()):R.code===10014?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("rechargeModal",{})):window.pubsub.publish("toaster",{show:!0,text:R.message})}).catch(()=>{window.pubsub.publish("loading",{loading:!1})})};let C=!1;const T=pe.getState().storeData.paymentConfigurationList.find(R=>R.product_id===p.productId);T&&(C=T.is_buy);const I=()=>{Yo({title:"",content:`${p.amount}`,suffixContent:"",leftText:"",rightText:"",type:"pay",leftFunc:()=>{},rightFunc:E})};if(C){n.current[p.productId||""]?w():$y(p.productId??0).then(R=>{R.code===0&&(n.current[p.productId||""]=!0,R.data.is_buy?w():I())});return}n.current[p.productId||""]&&!C?I():$y(p.productId??0).then(R=>{R.code===0&&(n.current[p.productId||""]=!0,R.data.is_buy?w():I())});return}else w()};let _={fontFamily:o};if(p.style&&(_=Jc(p.style)),typeof((x=p.style)==null?void 0:x.countdown)=="number"){m=v?Ju.Choose_item_countdown:Ju.Choose_item_countdown_disabled;let w=p.style.countdown,E=1082,C=1082/(w*1e3/16);const T=()=>{w<=0&&u.current?(clearTimeout(u),u.current=null,l.current=!v,g()):u.current=setTimeout(()=>{w-=.016,E-=C;let I=document.getElementById("rect");I==null||I.setAttribute("width",Math.max(0,E).toString()),T()},16)};return T(),N.jsxs(Vr.Fragment,{children:[N.jsxs("div",{className:m,style:_,children:[N.jsx("img",{src:eSe,alt:p.text,style:{width:"1082px",height:"106px"}}),N.jsx("img",{src:tSe,className:Ju.Choose_item_progress_bar})]}),N.jsx("svg",{width:"0",height:"0",children:N.jsx("defs",{children:N.jsx("clipPath",{id:"myClip",children:N.jsx("rect",{id:"rect",width:"1082",height:"106",rx:"53",ry:"53",style:{fill:"#ffffff"}})})})})]},p.jump+d)}if((b=p.style)!=null&&b.image){m=Ju.Choose_item_image;const w=Ir(p.style.image,Ar.ui),E=`img-option-${d}`,C=new Image;return C.src=w,C.onload=function(){let T=document.getElementById(E);C.style.width=C.naturalWidth+"px",C.style.height=C.naturalHeight+"px",C.style.position="absolute",C.alt=p.text,T&&(T.style.width=C.naturalWidth+"px",T.style.height=C.naturalHeight+"px",setTimeout(()=>{T==null||T.prepend(C),T=null},32))},N.jsx("div",{id:E,className:m,style:_,onClick:g,onMouseEnter:v?s:void 0,children:N.jsxs("span",{children:[p.text,!p.hasBought&&p.shouldPay&&N.jsxs("span",{style:{marginLeft:8,fontSize:"0.7em"},children:["(",p.amount,")"]})]})},p.jump+d)}return N.jsxs("div",{className:m,style:_,onClick:g,onMouseEnter:v?s:void 0,children:[p.text,!p.hasBought&&p.shouldPay&&N.jsxs("span",{style:{marginLeft:8,fontSize:"0.7em"},children:["(",p.amount,")"]})]},p.jump+d)});return wu.render(N.jsx("div",{className:Ju.Choose_Main,children:f(i)}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{wu.render(N.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},PSe=t=>(it.debug(`${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),OSe=t=>(t.content!==""&&t.content!=="none"?pe.dispatch(Lt({key:"enableFilm",value:t.content})):pe.dispatch(Lt({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),kSe="_Choose_Main_4xkm5_1",FSe="_Choose_item_4xkm5_13",NSe="_glabalDialog_container_inner_4xkm5_28",LSe="_glabalDialog_container_4xkm5_28",MSe="_title_4xkm5_47",BSe="_button_4xkm5_59",$f={Choose_Main:kSe,Choose_item:FSe,glabalDialog_container_inner:NSe,glabalDialog_container:LSe,title:MSe,button:BSe},DSe=t=>{const e=t.content.toString().trim(),r=fr(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=fr(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=pe.getState().userData.optionData.textboxFont===Bc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:c,playSeClick:l}=Bd(),u=N.jsx("div",{style:{fontFamily:s},className:$f.glabalDialog_container,children:N.jsxs("div",{className:$f.glabalDialog_container_inner,children:[N.jsx("div",{className:$f.title,children:n}),N.jsx("input",{id:"user-input",className:$f.Choose_item}),N.jsx("div",{onMouseEnter:c,onClick:()=>{const f=document.getElementById("user-input");f&&pe.dispatch(Q$({key:e,value:((f==null?void 0:f.value)??"")===""?" ":(f==null?void 0:f.value)??""})),l(),J.gameplay.performController.unmountPerform("userInput"),ti()},className:$f.button,children:a})]})});return wu.render(N.jsx("div",{className:$f.Choose_Main,children:u}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{wu.render(N.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},USe="_FullScreenPerform_main_7er8a_2",jSe="_FullScreenPerform_element_7er8a_9",$Se="_fullScreen_video_7er8a_17",GSe="_fadeIn_7er8a_74",VSe="_intro_showSoftly_7er8a_1",HSe="_slideIn_7er8a_80",XSe="_typingEffect_7er8a_86",zSe="_typing_7er8a_86",WSe="_blinkCursor_7er8a_1",YSe="_pixelateEffect_7er8a_95",qSe="_pixelateAnimation_7er8a_1",KSe="_revealAnimation_7er8a_101",ZSe="_videoContainer_7er8a_115",Ul={FullScreenPerform_main:USe,FullScreenPerform_element:jSe,fullScreen_video:$Se,fadeIn:GSe,intro_showSoftly:VSe,slideIn:HSe,typingEffect:XSe,typing:zSe,blinkCursor:WSe,pixelateEffect:YSe,pixelateAnimation:qSe,revealAnimation:KSe,videoContainer:ZSe},JSe=t=>{const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(w,E=0)=>{switch(w){case"fadeIn":return Ul.fadeIn;case"slideIn":return Ul.slideIn;case"typingEffect":return`${Ul.typingEffect} ${E}`;case"pixelateEffect":return Ul.pixelateEffect;case"revealAnimation":return Ul.revealAnimation;default:return Ul.fadeIn}};let o=Ul.fadeIn,s=1500,c=!1;for(const w of t.args){if(w.key==="backgroundColor"&&(n=w.value||"rgba(0, 0, 0, 1)"),w.key==="fontColor"&&(i=w.value||"rgba(255, 255, 255, 1)"),w.key==="fontSize")switch(w.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(w.key==="animation"&&(o=a(w.value)),w.key==="delayTime"){const E=parseInt(w.value.toString(),10);s=isNaN(E)?s:E}w.key==="hold"&&w.value===!0&&(c=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},u=t.content.split(/\|/);let h=1e3+s*u.length;const p=c?1e3*60*60*24:1e3+s*u.length;let d=!0,v=setTimeout(()=>{d=!1},h),m=setTimeout(()=>{});const g=()=>{const w=document.getElementById("introContainer");if(h-=s,clearTimeout(v),v=setTimeout(()=>{d=!1},h),w){const E=w.childNodes[0].childNodes[0].childNodes,C=E.length;E.forEach((T,I)=>{const R=Number(T.style.animationDelay.split("ms")[0]);R>0&&(T.style.animationDelay=`${R-s}ms`),I===C-1&&(R===0?(clearTimeout(m),J.gameplay.performController.unmountPerform(e)):(clearTimeout(m),c||(m=setTimeout(()=>{J.gameplay.performController.unmountPerform(e),setTimeout(ti,0)},h))))})}};J.events.userInteractNext.on(g);const _=u.map((w,E)=>N.jsxs("div",{style:{animationDelay:`${s*E}ms`},className:o,children:[w,w===""?"":""]},"introtext"+E+Math.random().toString())),x=N.jsx("div",{style:l,children:N.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:_})});wu.render(x,document.getElementById("introContainer"));const b=document.getElementById("introContainer");return b&&(b.style.display="block"),{performName:e,duration:p,isHoldOn:!1,stopFunction:()=>{const w=document.getElementById("introContainer");w&&(w.style.display="none"),J.events.userInteractNext.off(g)},blockingNext:()=>d,blockingAuto:()=>d,stopTimeout:void 0,goNextWhenOver:!0}},QSe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),e2e=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),pe.dispatch(Lt({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},t2e="modulepreload",r2e=function(t,e){return new URL(t,e).href},NB={},n2e=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=r2e(a,n),a in NB)return;NB[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":t2e,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},_V=new Map;function i2e(t){return t?typeof t=="string"?t:t():null}function yV(t){const e=i2e(t);return e||(it.error("Get name of perform failed. There no name of the perform."),"")}function IVe(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);_V.set(yV(t),e)}function a2e(t,e=[]){const r=_V.get(yV(t));if(!r||!(r instanceof Function))throw it.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}n2e(()=>import("./initRegister-dbf23f08.js"),[],import.meta.url);const o2e=t=>{const e="PixiPerform"+t.content;J.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=a2e(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;it.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(a=J.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=J.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},s2e=(t,e=4294967295,r=79764919)=>{const n=new Int32Array(256);let i,a,o,s=e;for(i=0;i<256;i++){for(o=i<<24,a=8;a>0;--a)o=2147483648&o?o<<1^r:o<<1;n[i]=o}for(i=0;i<t.length;i++)s=s<<8^n[255&(s>>24^t[i])];return s},LB=(t,e=s2e)=>{const r=m=>new Uint8Array(m.length/2).map((g,_)=>parseInt(m.substring(2*_,2*(_+1)),16)),n=m=>r(m)[0],i=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach((m,g)=>i.set(m,g));const a=new Uint8Array(t.length);let o,s,c,l=!1,u=0,f=42,h=t.length>13&&t.substring(0,9)==="dynEncode",p=0;h&&(p=11,s=n(t.substring(9,p)),s<=1&&(p+=2,f=n(t.substring(11,p))),s===1&&(p+=8,c=(m=>new DataView(r(m).buffer).getInt32(0,!0))(t.substring(13,p))));const d=256-f;for(let m=p;m<t.length;m++)if(o=t.charCodeAt(m),o!==61||l){if(o===92&&m<t.length-5&&h){const g=t.charCodeAt(m+1);g!==117&&g!==85||(o=parseInt(t.substring(m+2,m+6),16),m+=5)}if(o>255){const g=i.get(o);g&&(o=g+127)}l&&(l=!1,o-=64),a[u++]=o<f&&o>0?o+d:o-f}else l=!0;const v=a.subarray(0,u);if(h&&s===1){const m=e(v);if(m!==c){const g="Decode failed crc32 validation";throw console.error("`simple-yenc`\n",g+`
`,"Expected: "+c+"; Got: "+m+`
`,"Visit https://github.com/eshaz/simple-yenc for more information"),Error(g)}}return v};function tn(){const t=Uint8Array,e=Float32Array;tn.modules||Object.defineProperties(tn,{modules:{value:new WeakMap},setModule:{value(r,n){tn.modules.set(r,Promise.resolve(n))}},getModule:{value(r,n){let i=tn.modules.get(r);return i||(n?i=WebAssembly.compile(LB(n)):(n=r.wasm,i=tn.inflateDynEncodeString(n).then(a=>WebAssembly.compile(a))),tn.modules.set(r,i)),i}},concatFloat32:{value(r,n){let i=new e(n),a=0,o=0;for(;a<r.length;)i.set(r[a],o),o+=r[a++].length;return i}},getDecodedAudio:{value:(r,n,i,a,o)=>({errors:r,channelData:n,samplesDecoded:i,sampleRate:a,bitDepth:o})},getDecodedAudioMultiChannel:{value(r,n,i,a,o,s){let c=[],l,u;for(l=0;l<i;l++){const f=[];for(u=0;u<n.length;)f.push(n[u++][l]||[]);c.push(tn.concatFloat32(f,a))}return tn.getDecodedAudio(r,c,a,o,s)}},inflateDynEncodeString:{value(r){return r=LB(r),new Promise(n=>{const i=String.raw`dynEncode0114db91da9bu*ttt$#UU3yzzss|yusvuy&4<054<,5T44^T44<(6U~J(44< ~A544U~6J0444545 444J0444J,4U4U7U454U4Z4U4U^/6545T4T44BU~64CU~O4U54U~5 U5T4B4Z!4U~5U5U5T4U~6U4ZTU5U5T44~4O4U2ZTU5T44Z!4B6T44U~64B6U~O44U~4O4U~54U~5 44~C4~54U~5 44~5454U4B6Ub!444~UO4U~5 U54U4ZTU#44U$464<4~B6^4<444~U~B4U~54U544~544~U5 U#UJU#5TT4U0ZTTUX5U5T4T4U#~4OU4U$~C4~54U~5 T44$6U\!TTT4UaT4<6T4<64<Z!44~4N4<U~5 4UZ!4U_TU#44UU6U~B$544$6U\!4U6U#~B44U#~B$~64<6_TU#444U~B~6~54<Y!44<_!T4Y!4<64~444~AN44<U~6J4U5 44J4U[!U#44UO4U~54U~5 U54 7U6844J44J 4UJ4UJ04VK(44<J44<J$4U~54U~5 4U~5!TTT4U$5"U5TTTTTTT4U$"4VK,U54<(6U~64<$6_!4< 64~6A54A544U~6#J(U54A4U[!44J(44#~A4U6UUU[!4464~64_!4<64~54<6T4<4]TU5 T4Y!44~44~AN4U~54U~54U5 44J(44J UA!U5U#UJU"UJU#U"JU#U"JT4UZTU5T4UZTU5T4UDZTU5T4U$[T44~UO4U~5 UU4U~U$.U5T4UP[T4U~4~UO4U~5 U#<U#<4U~U2$.UUN 44 ~UO4U~5 44!~UO4U~5 4U~4~UO4U~5 44J44J(U5 44U~J@44U~J<44UD~J844U~J44U$54U$5U54U$54U1^4U1^!4U~54U~5U54U~6U4U^/65T4T4U$54U~4BU~4O4U54U~5 UU'464U'_/54UU~5T4T4U~4BU~UO4U54U~5 U54U~4U~4U~U'$!44~5U5T44\T44U<~$6U\!4U#aT4U~4U~4O4U~5 U5U5U5TTT4U$"4YTU5 4U4~C5U5 U5U5444$4~64~\TU5 4U~4U~5T4Y!44O4U~54U~54U5 4CYTU5 4U~4U~4U~4$6TU54U\!44B4B~[!4U~4UD~4U~4U~4$6TU54U\!44B4B~[!44U<~4U4~$5 4U"U#$544"Y!454U^!44<J44<(J454U~84UN!#%'+/37?GOWgwU;U9$%& !"#`;tn.getModule(tn,i).then(a=>WebAssembly.instantiate(a,{})).then(({exports:a})=>{const o=new Map(Object.entries(a)),s=o.get("puff"),c=o.get("memory").buffer,l=new t(c),u=new DataView(c);let f=o.get("__heap_base");const h=r.length,p=f;f+=4,u.setInt32(p,h,!0);const d=f;f+=h,l.set(r,d);const v=f;f+=4,u.setInt32(v,l.byteLength-f,!0),s(f,v,d,p),n(l.slice(f,f+u.getInt32(v,!0)))})})}}}),Object.defineProperty(this,"wasm",{enumerable:!0,get:()=>this._wasm}),this.getOutputChannels=(r,n,i)=>{let a=[],o=0;for(;o<n;)a.push(r.slice(o*i,o++*i+i));return a},this.allocateTypedArray=(r,n,i=!0)=>{const a=this._wasm.malloc(n.BYTES_PER_ELEMENT*r);return i&&this._pointers.add(a),{ptr:a,len:r,buf:new n(this._wasm.HEAP,a,r)}},this.free=()=>{this._pointers.forEach(r=>{this._wasm.free(r)}),this._pointers.clear()},this.codeToString=r=>{const n=[],i=new Uint8Array(this._wasm.HEAP);for(let a=i[r];a!==0;a=i[++r])n.push(a);return String.fromCharCode.apply(null,n)},this.addError=(r,n,i,a,o,s)=>{r.push({message:n,frameLength:i,frameNumber:a,inputBytes:o,outputSamples:s})},this.instantiate=(r,n)=>(n&&tn.setModule(r,n),this._wasm=new r(tn).instantiate(),this._pointers=new Set,this._wasm.ready.then(()=>this))}var l2e=Worker;const u2e=$i(l2e),c2e=()=>globalThis.Worker||u2e;class xV extends c2e(){constructor(e,r,n,i){tn.modules||new tn;let a=tn.modules.get(n);if(!a){let o="text/javascript",s,c=`'use strict';(${((l,u,f)=>{let h,p,d=new Promise(v=>{p=v});self.onmessage=({data:{id:v,command:m,data:g}})=>{let _=d,x={id:v},b;m==="init"?(Object.defineProperties(l,{WASMAudioDecoderCommon:{value:u},EmscriptenWASM:{value:f},module:{value:g.module},isWebWorker:{value:!0}}),h=new l(g.options),p()):m==="free"?h.free():m==="ready"?_=_.then(()=>h.ready):m==="reset"?_=_.then(()=>h.reset()):(Object.assign(x,h[m](Array.isArray(g)?g.map(w=>new Uint8Array(w)):new Uint8Array(g))),b=x.channelData?x.channelData.map(w=>w.buffer):[]),_.then(()=>self.postMessage(x,b))}}).toString()})(${n}, ${tn}, ${i})`;try{s=typeof process.versions.node<"u"}catch{}a=s?`data:${o};base64,${Buffer.from(c).toString("base64")}`:URL.createObjectURL(new Blob([c],{type:o})),tn.modules.set(n,a)}super(a,{name:r}),this._id=Number.MIN_SAFE_INTEGER,this._enqueuedOperations=new Map,this.onmessage=({data:o})=>{const{id:s,...c}=o;this._enqueuedOperations.get(s)(c),this._enqueuedOperations.delete(s)},new i(tn).getModule().then(o=>{this.postToDecoder("init",{module:o,options:e})})}async postToDecoder(e,r){return new Promise(n=>{this.postMessage({command:e,id:this._id,data:r}),this._enqueuedOperations.set(this._id++,n)})}get ready(){return this.postToDecoder("ready")}async free(){await this.postToDecoder("free").finally(()=>{this.terminate()})}async reset(){await this.postToDecoder("reset")}}const Dd=(t,e)=>{Object.defineProperty(t,"name",{value:e})},mn=Symbol,bV=", ",or=(()=>{const t="front",e="side",r="rear",n="left",i="center",a="right";return["",t+" ",e+" ",r+" "].map(o=>[[n,a],[n,a,i],[n,i,a],[i,n,a],[i]].flatMap(s=>s.map(c=>o+c).join(bV)))})(),hu="LFE",tg="monophonic (mono)",Mh="stereo",F0="surround",qn=(t,...e)=>`${[tg,Mh,`linear ${F0}`,"quadraphonic",`5.0 ${F0}`,`5.1 ${F0}`,`6.1 ${F0}`,`7.1 ${F0}`][t-1]} (${e.join(bV)})`,GT=[tg,qn(2,or[0][0]),qn(3,or[0][2]),qn(4,or[1][0],or[3][0]),qn(5,or[1][2],or[3][0]),qn(6,or[1][2],or[3][0],hu),qn(7,or[1][2],or[2][0],or[3][4],hu),qn(8,or[1][2],or[2][0],or[3][0],hu)],f2e=192e3,h2e=176400,wV=96e3,EV=88200,d2e=64e3,F1=48e3,pO=44100,vO=32e3,gO=24e3,mO=22050,_O=16e3,SV=12e3,CV=11025,yO=8e3,p2e=7350,Bh="absoluteGranulePosition",xr="bandwidth",Cu="bitDepth",Uo="bitrate",tS=Uo+"Maximum",rS=Uo+"Minimum",nS=Uo+"Nominal",rg="buffer",iS=rg+"Fullness",Bi="codec",Tu=Bi+"Frames",N_="coupledStreamCount",Vy="crc",TV=Vy+"16",AV=Vy+"32",Di="data",ur="description",gh="duration",wm="emphasis",aS="hasOpusPadding",Dc="header",Cp="isContinuedPacket",oS="isCopyrighted",Tp="isFirstPage",sS="isHome",Uc="isLastPage",Dh="isOriginal",Uh="isPrivate",lS="isVbr",$o="layer",nt="length",vr="mode",Ic=vr+"Extension",IV="mpeg",jh=IV+"Version",uS="numberAACFrames",cS="outputGain",L_="preSkip",fS="profile",hS=mn(),$h="protection",v2e="rawData",Rc="segments",En="subarray",Ap="version",N1="vorbis",M_=N1+"Comments",B_=N1+"Setup",L1="block",dS=L1+"ingStrategy",pS=mn(),Qu=L1+"Size",np=L1+"size0",ip=L1+"size1",Em=mn(),M1="channel",ec=M1+"MappingFamily",D_=M1+"MappingTable",Au=M1+"Mode",Sm=mn(),cr=M1+"s",RV="copyright",vS=RV+"Id",gS=RV+"IdStart",Qc="frame",ah=Qc+"Count",Iu=Qc+"Length",B1="Number",Ip=Qc+B1,Xl=Qc+"Padding",gr=Qc+"Size",PV="Rate",mS="inputSample"+PV,xO="page",U_=xO+"Checksum",Hy=mn(),ap=xO+"SegmentTable",Ca=xO+"Sequence"+B1,bO="sample",_S=bO+B1,Gn=bO+PV,zl=mn(),Ui=bO+"s",D1="stream",j_=D1+"Count",OV=D1+"Info",Gh=D1+"Serial"+B1,g2e=D1+"StructureVersion",wO="total",$_=wO+"BytesOut",G_=wO+"Duration",VT=wO+"Samples",jn=mn(),du=mn(),yS=mn(),U1=mn(),nd=mn(),kV=mn(),MB=mn(),j1=mn(),Qi=mn(),Ud=mn(),ef=mn(),ng=mn(),$1=mn(),FV=mn(),jc=mn(),id=mn(),jd=mn(),NV=mn(),pl=Uint8Array,G1=DataView,hn="reserved",po="bad",N0="free",EO="none",LV="16bit CRC",SO=(t,e,r)=>{for(let n=0;n<t[nt];n++){let i=e(n);for(let a=8;a>0;a--)i=r(i);t[n]=i}return t},m2e=SO(new pl(256),t=>t,t=>t&128?7^t<<1:t<<1),An=[SO(new Uint16Array(256),t=>t<<8,t=>t<<1^(t&32768?32773:0))],In=[SO(new Uint32Array(256),t=>t,t=>t>>>1^(t&1)*3988292384)];for(let t=0;t<15;t++){An.push(new Uint16Array(256)),In.push(new Uint32Array(256));for(let e=0;e<=255;e++)An[t+1][e]=An[0][An[t][e]>>>8]^An[t][e]<<8,In[t+1][e]=In[t][e]>>>8^In[0][In[t][e]&255]}const _2e=t=>{let e=0;const r=t[nt];for(let n=0;n!==r;n++)e=m2e[e^t[n]];return e},y2e=t=>{const e=t[nt],r=e-16;let n=0,i=0;for(;i<=r;)n^=t[i++]<<8|t[i++],n=An[15][n>>8]^An[14][n&255]^An[13][t[i++]]^An[12][t[i++]]^An[11][t[i++]]^An[10][t[i++]]^An[9][t[i++]]^An[8][t[i++]]^An[7][t[i++]]^An[6][t[i++]]^An[5][t[i++]]^An[4][t[i++]]^An[3][t[i++]]^An[2][t[i++]]^An[1][t[i++]]^An[0][t[i++]];for(;i!==e;)n=(n&255)<<8^An[0][n>>8^t[i++]];return n},x2e=t=>{const e=t[nt],r=e-16;let n=0,i=0;for(;i<=r;)n=In[15][(t[i++]^n)&255]^In[14][(t[i++]^n>>>8)&255]^In[13][(t[i++]^n>>>16)&255]^In[12][t[i++]^n>>>24]^In[11][t[i++]]^In[10][t[i++]]^In[9][t[i++]]^In[8][t[i++]]^In[7][t[i++]]^In[6][t[i++]]^In[5][t[i++]]^In[4][t[i++]]^In[3][t[i++]]^In[2][t[i++]]^In[1][t[i++]]^In[0][t[i++]];for(;i!==e;)n=In[0][(n^t[i++])&255]^n>>>8;return n^-1},HT=(...t)=>{const e=new pl(t.reduce((r,n)=>r+n[nt],0));return t.reduce((r,n)=>(e.set(n,r),r+n[nt]),0),e},tf=t=>String.fromCharCode(...t),BB=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],Xy=t=>BB[t&15]<<4|BB[t>>4];class b2e{constructor(e){this._data=e,this._pos=e[nt]*8}set position(e){this._pos=e}get position(){return this._pos}read(e){const r=Math.floor(this._pos/8),n=this._pos%8;return this._pos-=e,(Xy(this._data[r-1])<<8)+Xy(this._data[r])>>7-n&255}}class w2e{constructor(e,r){this._onCodecHeader=e,this._onCodecUpdate=r,this[jc]()}[id](){this._isEnabled=!0}[jc](){this._headerCache=new Map,this._codecUpdateData=new WeakMap,this._codecHeaderSent=!1,this._codecShouldUpdate=!1,this._bitrate=null,this._isEnabled=!1}[FV](e,r){if(this._onCodecUpdate){this._bitrate!==e&&(this._bitrate=e,this._codecShouldUpdate=!0);const n=this._codecUpdateData.get(this._headerCache.get(this._currentHeader));this._codecShouldUpdate&&n&&this._onCodecUpdate({bitrate:e,...n},r),this._codecShouldUpdate=!1}}[Qi](e){const r=this._headerCache.get(e);return r&&this._updateCurrentHeader(e),r}[Ud](e,r,n){this._isEnabled&&(this._codecHeaderSent||(this._onCodecHeader({...r}),this._codecHeaderSent=!0),this._updateCurrentHeader(e),this._headerCache.set(e,r),this._codecUpdateData.set(r,n))}_updateCurrentHeader(e){this._onCodecUpdate&&e!==this._currentHeader&&(this._codecShouldUpdate=!0,this._currentHeader=e)}}const Is=new WeakMap,Mu=new WeakMap;class $d{constructor(e,r){this._codecParser=e,this._headerCache=r}*[MB](){let e;do{if(e=yield*this.Frame[ef](this._codecParser,this._headerCache,0),e)return e;this._codecParser[du](1)}while(!0)}*[j1](e){let r=yield*this[MB]();const n=Mu.get(r)[nt];if(e||this._codecParser._flushing||(yield*this.Header[Qi](this._codecParser,this._headerCache,n)))return this._headerCache[id](),this._codecParser[du](n),this._codecParser[U1](r),r;this._codecParser[nd](`Missing ${Qc} at ${n} bytes from current position.`,`Dropping current ${Qc} and trying again.`),this._headerCache[jc](),this._codecParser[du](1)}}class MV{constructor(e,r){Mu.set(this,{[Dc]:e}),this[Di]=r}}class ig extends MV{static*[ef](e,r,n,i,a){const o=yield*e[Qi](n,i,a);if(o){const s=Is.get(o)[Iu],c=Is.get(o)[Ui],l=(yield*n[jn](s,a))[En](0,s);return new r(o,l,c)}else return null}constructor(e,r,n){super(e,r),this[Dc]=e,this[Ui]=n,this[gh]=n/e[Gn]*1e3,this[Ip]=null,this[$_]=null,this[VT]=null,this[G_]=null,Mu.get(this)[nt]=r[nt]}}const xS="unsynchronizationFlag",bS="extendedHeaderFlag",wS="experimentalFlag",ES="footerPresent";class CO{static*getID3v2Header(e,r,n){const a={};let o=yield*e[jn](3,n);if(o[0]!==73||o[1]!==68||o[2]!==51||(o=yield*e[jn](10,n),a[Ap]=`id3v2.${o[3]}.${o[4]}`,o[5]&15)||(a[xS]=!!(o[5]&128),a[bS]=!!(o[5]&64),a[wS]=!!(o[5]&32),a[ES]=!!(o[5]&16),o[6]&128||o[7]&128||o[8]&128||o[9]&128))return null;const s=o[6]<<21|o[7]<<14|o[8]<<7|o[9];return a[nt]=10+s,new CO(a)}constructor(e){this[Ap]=e[Ap],this[xS]=e[xS],this[bS]=e[bS],this[wS]=e[wS],this[ES]=e[ES],this[nt]=e[nt]}}class ag{constructor(e){Is.set(this,e),this[Cu]=e[Cu],this[Uo]=null,this[cr]=e[cr],this[Au]=e[Au],this[Gn]=e[Gn]}}const BV={0:[N0,N0,N0,N0,N0],16:[32,32,32,32,8],240:[po,po,po,po,po]},Cm=(t,e,r)=>8*((t+r)%e+e)*(1<<(t+r)/e)-8*e*(e/8|0);for(let t=2;t<15;t++)BV[t<<4]=[t*32,Cm(t,4,0),Cm(t,4,-1),Cm(t,8,4),Cm(t,8,0)];const E2e=0,S2e=1,C2e=2,T2e=3,DB=4,Tm="bands ",Am=" to 31",UB={0:Tm+4+Am,16:Tm+8+Am,32:Tm+12+Am,48:Tm+16+Am},hc="bitrateIndex",Rp="v2",V_="v1",Im="Intensity stereo ",Rm=", MS stereo ",Pm="on",Om="off",A2e={0:Im+Om+Rm+Om,16:Im+Pm+Rm+Om,32:Im+Om+Rm+Pm,48:Im+Pm+Rm+Pm},SS={0:{[ur]:hn},2:{[ur]:"Layer III",[Xl]:1,[Ic]:A2e,[V_]:{[hc]:C2e,[Ui]:1152},[Rp]:{[hc]:DB,[Ui]:576}},4:{[ur]:"Layer II",[Xl]:1,[Ic]:UB,[Ui]:1152,[V_]:{[hc]:S2e},[Rp]:{[hc]:DB}},6:{[ur]:"Layer I",[Xl]:4,[Ic]:UB,[Ui]:384,[V_]:{[hc]:E2e},[Rp]:{[hc]:T2e}}},CS="MPEG Version ",jB="ISO/IEC ",I2e={0:{[ur]:`${CS}2.5 (later extension of MPEG 2)`,[$o]:Rp,[Gn]:{0:CV,4:SV,8:yO,12:hn}},8:{[ur]:hn},16:{[ur]:`${CS}2 (${jB}13818-3)`,[$o]:Rp,[Gn]:{0:mO,4:gO,8:_O,12:hn}},24:{[ur]:`${CS}1 (${jB}11172-3)`,[$o]:V_,[Gn]:{0:pO,4:F1,8:vO,12:hn}},length:nt},R2e={0:LV,1:EO},P2e={0:EO,1:"50/15 ms",2:hn,3:"CCIT J.17"},$B={0:{[cr]:2,[ur]:Mh},64:{[cr]:2,[ur]:"joint "+Mh},128:{[cr]:2,[ur]:"dual channel"},192:{[cr]:1,[ur]:tg}};class nv extends ag{static*[Qi](e,r,n){const i={},a=yield*CO.getID3v2Header(e,r,n);a&&(yield*e[jn](a[nt],n),e[du](a[nt]));const o=yield*e[jn](4,n),s=tf(o[En](0,4)),c=r[Qi](s);if(c)return new nv(c);if(o[0]!==255||o[1]<224)return null;const l=I2e[o[1]&24];if(l[ur]===hn)return null;const u=o[1]&6;if(SS[u][ur]===hn)return null;const f={...SS[u],...SS[u][l[$o]]};if(i[jh]=l[ur],i[$o]=f[ur],i[Ui]=f[Ui],i[$h]=R2e[o[1]&1],i[nt]=4,i[Uo]=BV[o[2]&240][f[hc]],i[Uo]===po||(i[Gn]=l[Gn][o[2]&12],i[Gn]===hn)||(i[Xl]=o[2]&2&&f[Xl],i[Uh]=!!(o[2]&1),i[Iu]=Math.floor(125*i[Uo]*i[Ui]/i[Gn]+i[Xl]),!i[Iu]))return null;const h=o[3]&192;if(i[Au]=$B[h][ur],i[cr]=$B[h][cr],i[Ic]=f[Ic][o[3]&48],i[oS]=!!(o[3]&8),i[Dh]=!!(o[3]&4),i[wm]=P2e[o[3]&3],i[wm]===hn)return null;i[Cu]=16;{const{length:p,frameLength:d,samples:v,...m}=i;r[Ud](s,i,m)}return new nv(i)}constructor(e){super(e),this[Uo]=e[Uo],this[wm]=e[wm],this[Xl]=e[Xl],this[oS]=e[oS],this[Dh]=e[Dh],this[Uh]=e[Uh],this[$o]=e[$o],this[Ic]=e[Ic],this[jh]=e[jh],this[$h]=e[$h]}}class TO extends ig{static*[ef](e,r,n){return yield*super[ef](nv,TO,e,r,n)}constructor(e,r,n){super(e,r,n)}}class O2e extends $d{constructor(e,r,n){super(e,r),this.Frame=TO,this.Header=nv,n(this[Bi])}get[Bi](){return IV}*[ng](){return yield*this[j1]()}}const k2e={0:"MPEG-4",8:"MPEG-2"},F2e={0:"valid",2:po,4:po,6:po},N2e={0:LV,1:EO},L2e={0:"AAC Main",64:"AAC LC (Low Complexity)",128:"AAC SSR (Scalable Sample Rate)",192:"AAC LTP (Long Term Prediction)"},M2e={0:wV,4:EV,8:d2e,12:F1,16:pO,20:vO,24:gO,28:mO,32:_O,36:SV,40:CV,44:yO,48:p2e,52:hn,56:hn,60:"frequency is written explicitly"},GB={0:{[cr]:0,[ur]:"Defined in AOT Specific Config"},64:{[cr]:1,[ur]:tg},128:{[cr]:2,[ur]:qn(2,or[0][0])},192:{[cr]:3,[ur]:qn(3,or[1][3])},256:{[cr]:4,[ur]:qn(4,or[1][3],or[3][4])},320:{[cr]:5,[ur]:qn(5,or[1][3],or[3][0])},384:{[cr]:6,[ur]:qn(6,or[1][3],or[3][0],hu)},448:{[cr]:8,[ur]:qn(8,or[1][3],or[2][0],or[3][0],hu)}};class V1 extends ag{static*[Qi](e,r,n){const i={},a=yield*e[jn](7,n),o=tf([a[0],a[1],a[2],a[3]&252|a[6]&3]),s=r[Qi](o);if(s)Object.assign(i,s);else{if(a[0]!==255||a[1]<240||(i[jh]=k2e[a[1]&8],i[$o]=F2e[a[1]&6],i[$o]===po))return null;const l=a[1]&1;i[$h]=N2e[l],i[nt]=l?7:9,i[hS]=a[2]&192,i[zl]=a[2]&60;const u=a[2]&2;if(i[fS]=L2e[i[hS]],i[Gn]=M2e[i[zl]],i[Gn]===hn)return null;i[Uh]=!!u,i[Sm]=(a[2]<<8|a[3])&448,i[Au]=GB[i[Sm]][ur],i[cr]=GB[i[Sm]][cr],i[Dh]=!!(a[3]&32),i[sS]=!!(a[3]&8),i[vS]=!!(a[3]&8),i[gS]=!!(a[3]&4),i[Cu]=16,i[Ui]=1024,i[uS]=a[6]&3;{const{length:f,channelModeBits:h,profileBits:p,sampleRateBits:d,frameLength:v,samples:m,numberAACFrames:g,..._}=i;r[Ud](o,i,_)}}if(i[Iu]=(a[3]<<11|a[4]<<3|a[5]>>5)&8191,!i[Iu])return null;const c=(a[5]<<6|a[6]>>2)&2047;return i[iS]=c===2047?"VBR":c,new V1(i)}constructor(e){super(e),this[vS]=e[vS],this[gS]=e[gS],this[iS]=e[iS],this[sS]=e[sS],this[Dh]=e[Dh],this[Uh]=e[Uh],this[$o]=e[$o],this[nt]=e[nt],this[jh]=e[jh],this[uS]=e[uS],this[fS]=e[fS],this[$h]=e[$h]}get audioSpecificConfig(){const e=Is.get(this),r=e[hS]+64<<5|e[zl]<<5|e[Sm]>>3,n=new pl(2);return new G1(n[rg]).setUint16(0,r,!1),n}}class AO extends ig{static*[ef](e,r,n){return yield*super[ef](V1,AO,e,r,n)}constructor(e,r,n){super(e,r,n)}}class B2e extends $d{constructor(e,r,n){super(e,r),this.Frame=AO,this.Header=V1,n(this[Bi])}get[Bi](){return"aac"}*[ng](){return yield*this[j1]()}}class Pc extends ig{static _getFrameFooterCrc16(e){return(e[e[nt]-2]<<8)+e[e[nt]-1]}static[NV](e){const r=Pc._getFrameFooterCrc16(e),n=y2e(e[En](0,-2));return r===n}constructor(e,r,n){r[OV]=n,r[TV]=Pc._getFrameFooterCrc16(e),super(r,e,Is.get(r)[Ui])}}const DV="get from STREAMINFO metadata block",D2e={0:"Fixed",1:"Variable"},UV={0:hn,16:192};for(let t=2;t<16;t++)UV[t<<4]=t<6?576*2**(t-2):2**t;const U2e={0:DV,1:EV,2:h2e,3:f2e,4:yO,5:_O,6:mO,7:gO,8:vO,9:pO,10:F1,11:wV,15:po},j2e={0:{[cr]:1,[ur]:tg},16:{[cr]:2,[ur]:qn(2,or[0][0])},32:{[cr]:3,[ur]:qn(3,or[0][1])},48:{[cr]:4,[ur]:qn(4,or[1][0],or[3][0])},64:{[cr]:5,[ur]:qn(5,or[1][1],or[3][0])},80:{[cr]:6,[ur]:qn(6,or[1][1],hu,or[3][0])},96:{[cr]:7,[ur]:qn(7,or[1][1],hu,or[3][4],or[2][0])},112:{[cr]:8,[ur]:qn(8,or[1][1],hu,or[3][0],or[2][0])},128:{[cr]:2,[ur]:`${Mh} (left, diff)`},144:{[cr]:2,[ur]:`${Mh} (diff, right)`},160:{[cr]:2,[ur]:`${Mh} (avg, diff)`},176:hn,192:hn,208:hn,224:hn,240:hn},$2e={0:DV,2:8,4:12,6:hn,8:16,10:20,12:24,14:hn};class Zl extends ag{static _decodeUTF8Int(e){if(e[0]>254)return null;if(e[0]<128)return{value:e[0],length:1};let r=1;for(let o=64;o&e[0];o>>=1)r++;let n=r-1,i=0,a=0;for(;n>0;a+=6,n--){if((e[n]&192)!==128)return null;i|=(e[n]&63)<<a}return i|=(e[n]&127>>r)<<a,{value:i,length:r}}static[jd](e,r){const n={[jn]:function*(){return e}};return Zl[Qi](n,r,0).next().value}static*[Qi](e,r,n){let i=yield*e[jn](6,n);if(i[0]!==255||!(i[1]===248||i[1]===249))return null;const a={},o=tf(i[En](0,4)),s=r[Qi](o);if(s)Object.assign(a,s);else{if(a[pS]=i[1]&1,a[dS]=D2e[a[pS]],a[Em]=i[2]&240,a[zl]=i[2]&15,a[Qu]=UV[a[Em]],a[Qu]===hn||(a[Gn]=U2e[a[zl]],a[Gn]===po)||i[3]&1)return null;const l=j2e[i[3]&240];if(l===hn||(a[cr]=l[cr],a[Au]=l[ur],a[Cu]=$2e[i[3]&14],a[Cu]===hn))return null}a[nt]=5,i=yield*e[jn](a[nt]+8,n);const c=Zl._decodeUTF8Int(i[En](4));if(!c||(a[pS]?a[_S]=c.value:a[Ip]=c.value,a[nt]+=c[nt],a[Em]===96?(i[nt]<a[nt]&&(i=yield*e[jn](a[nt],n)),a[Qu]=i[a[nt]-1]+1,a[nt]+=1):a[Em]===112&&(i[nt]<a[nt]&&(i=yield*e[jn](a[nt],n)),a[Qu]=(i[a[nt]-1]<<8)+i[a[nt]]+1,a[nt]+=2),a[Ui]=a[Qu],a[zl]===12?(i[nt]<a[nt]&&(i=yield*e[jn](a[nt],n)),a[Gn]=i[a[nt]-1]*1e3,a[nt]+=1):a[zl]===13?(i[nt]<a[nt]&&(i=yield*e[jn](a[nt],n)),a[Gn]=(i[a[nt]-1]<<8)+i[a[nt]],a[nt]+=2):a[zl]===14&&(i[nt]<a[nt]&&(i=yield*e[jn](a[nt],n)),a[Gn]=((i[a[nt]-1]<<8)+i[a[nt]])*10,a[nt]+=2),i[nt]<a[nt]&&(i=yield*e[jn](a[nt],n)),a[Vy]=i[a[nt]-1],a[Vy]!==_2e(i[En](0,a[nt]-1))))return null;if(!s){const{blockingStrategyBits:l,frameNumber:u,sampleNumber:f,samples:h,sampleRateBits:p,blockSizeBits:d,crc:v,length:m,...g}=a;r[Ud](o,a,g)}return new Zl(a)}constructor(e){super(e),this[TV]=null,this[dS]=e[dS],this[Qu]=e[Qu],this[Ip]=e[Ip],this[_S]=e[_S],this[OV]=null}}const G2e=2,V2e=512*1024;class jV extends $d{constructor(e,r,n){super(e,r),this.Frame=Pc,this.Header=Zl,n(this[Bi])}get[Bi](){return"flac"}*_getNextFrameSyncOffset(e){const r=yield*this._codecParser[jn](2,0),n=r[nt]-2;for(;e<n;){if(r[e]===255){const a=r[e+1];if(a===248||a===249)break;a!==255&&e++}e++}return e}*[ng](){do{const e=yield*Zl[Qi](this._codecParser,this._headerCache,0);if(e){let r=Is.get(e)[nt]+G2e;for(;r<=V2e;){if(this._codecParser._flushing||(yield*Zl[Qi](this._codecParser,this._headerCache,r))){let n=yield*this._codecParser[jn](r);if(this._codecParser._flushing||(n=n[En](0,r)),Pc[NV](n)){const i=new Pc(n,e);return this._headerCache[id](),this._codecParser[du](r),this._codecParser[U1](i),i}}r=yield*this._getNextFrameSyncOffset(r+1)}this._codecParser[nd](`Unable to sync FLAC frame after searching ${r} bytes.`),this._codecParser[du](r)}else this._codecParser[du](yield*this._getNextFrameSyncOffset(1))}while(!0)}[$1](e){return e[Ca]===0?(this._headerCache[id](),this._streamInfo=e[Di][En](13)):e[Ca]===1||(e[Tu]=Mu.get(e)[Rc].map(r=>{const n=Zl[jd](r,this._headerCache);if(n)return new Pc(r,n,this._streamInfo);this._codecParser[nd]("Failed to parse Ogg FLAC frame","Skipping invalid FLAC frame")}).filter(r=>!!r)),e}}class H1{static*[Qi](e,r,n){const i={};let a=yield*e[jn](28,n);if(a[0]!==79||a[1]!==103||a[2]!==103||a[3]!==83||(i[g2e]=a[4],a[5]&248))return null;i[Uc]=!!(a[5]&4),i[Tp]=!!(a[5]&2),i[Cp]=!!(a[5]&1);const s=new G1(pl.from(a[En](0,28))[rg]);try{i[Bh]=s.getBigInt64(6,!0)}catch{}i[Gh]=s.getInt32(14,!0),i[Ca]=s.getInt32(18,!0),i[U_]=s.getInt32(22,!0);const c=a[26];i[nt]=c+27,a=yield*e[jn](i[nt],n),i[Iu]=0,i[ap]=[],i[Hy]=pl.from(a[En](27,i[nt]));for(let l=0,u=0;l<c;l++){const f=i[Hy][l];i[Iu]+=f,u+=f,(f!==255||l===c-1)&&(i[ap].push(u),u=0)}return new H1(i)}constructor(e){Is.set(this,e),this[Bh]=e[Bh],this[Cp]=e[Cp],this[Tp]=e[Tp],this[Uc]=e[Uc],this[ap]=e[ap],this[Ca]=e[Ca],this[U_]=e[U_],this[Gh]=e[Gh]}}class IO extends MV{static*[ef](e,r,n){const i=yield*H1[Qi](e,r,n);if(i){const a=Is.get(i)[Iu],o=Is.get(i)[nt],s=o+a,c=(yield*e[jn](s,0))[En](0,s),l=c[En](o,s);return new IO(i,l,c)}else return null}constructor(e,r,n){super(e,r),Mu.get(this)[nt]=n[nt],this[Tu]=[],this[v2e]=n,this[Bh]=e[Bh],this[AV]=e[U_],this[gh]=0,this[Cp]=e[Cp],this[Tp]=e[Tp],this[Uc]=e[Uc],this[Ca]=e[Ca],this[Ui]=0,this[Gh]=e[Gh]}}class VB extends ig{constructor(e,r){super(r,e,r[gr]*r[ah]/1e3*r[Gn])}}const HB={0:GT.slice(0,2),1:GT},oo="SILK-only",Xi="CELT-only",km="Hybrid",Ll="narrowband",Fm="medium-band",Ml="wideband",Gf="super-wideband",Vf="fullband",H2e={0:{[vr]:oo,[xr]:Ll,[gr]:10},8:{[vr]:oo,[xr]:Ll,[gr]:20},16:{[vr]:oo,[xr]:Ll,[gr]:40},24:{[vr]:oo,[xr]:Ll,[gr]:60},32:{[vr]:oo,[xr]:Fm,[gr]:10},40:{[vr]:oo,[xr]:Fm,[gr]:20},48:{[vr]:oo,[xr]:Fm,[gr]:40},56:{[vr]:oo,[xr]:Fm,[gr]:60},64:{[vr]:oo,[xr]:Ml,[gr]:10},72:{[vr]:oo,[xr]:Ml,[gr]:20},80:{[vr]:oo,[xr]:Ml,[gr]:40},88:{[vr]:oo,[xr]:Ml,[gr]:60},96:{[vr]:km,[xr]:Gf,[gr]:10},104:{[vr]:km,[xr]:Gf,[gr]:20},112:{[vr]:km,[xr]:Vf,[gr]:10},120:{[vr]:km,[xr]:Vf,[gr]:20},128:{[vr]:Xi,[xr]:Ll,[gr]:2.5},136:{[vr]:Xi,[xr]:Ll,[gr]:5},144:{[vr]:Xi,[xr]:Ll,[gr]:10},152:{[vr]:Xi,[xr]:Ll,[gr]:20},160:{[vr]:Xi,[xr]:Ml,[gr]:2.5},168:{[vr]:Xi,[xr]:Ml,[gr]:5},176:{[vr]:Xi,[xr]:Ml,[gr]:10},184:{[vr]:Xi,[xr]:Ml,[gr]:20},192:{[vr]:Xi,[xr]:Gf,[gr]:2.5},200:{[vr]:Xi,[xr]:Gf,[gr]:5},208:{[vr]:Xi,[xr]:Gf,[gr]:10},216:{[vr]:Xi,[xr]:Gf,[gr]:20},224:{[vr]:Xi,[xr]:Vf,[gr]:2.5},232:{[vr]:Xi,[xr]:Vf,[gr]:5},240:{[vr]:Xi,[xr]:Vf,[gr]:10},248:{[vr]:Xi,[xr]:Vf,[gr]:20}};class iv extends ag{static[jd](e,r,n){const i={};if(i[cr]=e[9],i[ec]=e[18],i[nt]=i[ec]!==0?21+i[cr]:19,e[nt]<i[nt])throw new Error("Out of data while inside an Ogg Page");const a=r[0]&3,o=a===3?2:1,s=tf(e[En](0,i[nt]))+tf(r[En](0,o)),c=n[Qi](s);if(c)return new iv(c);if(s.substr(0,8)!=="OpusHead"||e[8]!==1)return null;i[Di]=pl.from(e[En](0,i[nt]));const l=new G1(i[Di][rg]);if(i[Cu]=16,i[L_]=l.getUint16(10,!0),i[mS]=l.getUint32(12,!0),i[Gn]=F1,i[cS]=l.getInt16(16,!0),i[ec]in HB&&(i[Au]=HB[i[ec]][i[cr]-1],!i[Au]))return null;i[ec]!==0&&(i[j_]=e[19],i[N_]=e[20],i[D_]=[...e[En](21,i[cr]+21)]);const u=H2e[248&r[0]];switch(i[vr]=u[vr],i[xr]=u[xr],i[gr]=u[gr],a){case 0:i[ah]=1;break;case 1:case 2:i[ah]=2;break;case 3:i[lS]=!!(128&r[1]),i[aS]=!!(64&r[1]),i[ah]=63&r[1];break;default:return null}{const{length:f,data:h,channelMappingFamily:p,...d}=i;n[Ud](s,i,d)}return new iv(i)}constructor(e){super(e),this[Di]=e[Di],this[xr]=e[xr],this[ec]=e[ec],this[D_]=e[D_],this[N_]=e[N_],this[ah]=e[ah],this[gr]=e[gr],this[aS]=e[aS],this[mS]=e[mS],this[lS]=e[lS],this[vr]=e[vr],this[cS]=e[cS],this[L_]=e[L_],this[j_]=e[j_]}}class X2e extends $d{constructor(e,r,n){super(e,r),this.Frame=VB,this.Header=iv,n(this[Bi]),this._identificationHeader=null}get[Bi](){return"opus"}[$1](e){return e[Ca]===0?(this._headerCache[id](),this._identificationHeader=e[Di]):e[Ca]===1||(e[Tu]=Mu.get(e)[Rc].map(r=>{const n=iv[jd](this._identificationHeader,r,this._headerCache);if(n)return new VB(r,n);this._codecParser[kV]("Failed to parse Ogg Opus Header","Not a valid Ogg Opus file")})),e}}class XB extends ig{constructor(e,r,n){super(r,e,n)}}const XT={};for(let t=0;t<8;t++)XT[t+6]=2**(6+t);class zy extends ag{static[jd](e,r,n,i){if(e[nt]<30)throw new Error("Out of data while inside an Ogg Page");const a=tf(e[En](0,30)),o=r[Qi](a);if(o)return new zy(o);const s={[nt]:30};if(a.substr(0,7)!=="vorbis")return null;s[Di]=pl.from(e[En](0,30));const c=new G1(s[Di][rg]);if(s[Ap]=c.getUint32(7,!0),s[Ap]!==0||(s[cr]=e[11],s[Au]=GT[s[cr]-1]||"application defined",s[Gn]=c.getUint32(12,!0),s[tS]=c.getInt32(16,!0),s[nS]=c.getInt32(20,!0),s[rS]=c.getInt32(24,!0),s[ip]=XT[(e[28]&240)>>4],s[np]=XT[e[28]&15],s[np]>s[ip])||e[29]!==1)return null;s[Cu]=32,s[B_]=i,s[M_]=n;{const{length:l,data:u,version:f,vorbisSetup:h,vorbisComments:p,...d}=s;r[Ud](a,s,d)}return new zy(s)}constructor(e){super(e),this[tS]=e[tS],this[rS]=e[rS],this[nS]=e[nS],this[np]=e[np],this[ip]=e[ip],this[Di]=e[Di],this[M_]=e[M_],this[B_]=e[B_]}}class z2e extends $d{constructor(e,r,n){super(e,r),this.Frame=XB,n(this[Bi]),this._identificationHeader=null,this._setupComplete=!1,this._prevBlockSize=null}get[Bi](){return N1}[$1](e){e[Tu]=[];for(const r of Mu.get(e)[Rc])if(r[0]===1)this._headerCache[id](),this._identificationHeader=e[Di],this._setupComplete=!1;else if(r[0]===3)this._vorbisComments=r;else if(r[0]===5)this._vorbisSetup=r,this._mode=this._parseSetupHeader(r),this._setupComplete=!0;else if(this._setupComplete){const n=zy[jd](this._identificationHeader,this._headerCache,this._vorbisComments,this._vorbisSetup);n?e[Tu].push(new XB(r,n,this._getSamples(r,n))):this._codecParser[logError]("Failed to parse Ogg Vorbis Header","Not a valid Ogg Vorbis file")}return e}_getSamples(e,r){const i=this._mode.blockFlags[e[0]>>1&this._mode.mask]?r[ip]:r[np],a=this._prevBlockSize===null?0:(this._prevBlockSize+i)/4;return this._prevBlockSize=i,a}_parseSetupHeader(e){const r=new b2e(e),n={count:0,blockFlags:[]};for(;(r.read(1)&1)!==1;);let i;for(;n.count<64&&r.position>0;){Xy(r.read(8));let a=0;for(;r.read(8)===0&&a++<3;);if(a===4)i=r.read(7),n.blockFlags.unshift(i&1),r.position+=6,n.count++;else{((Xy(i)&126)>>1)+1!==n.count&&this._codecParser[nd]("vorbis derived mode count did not match actual mode count");break}}return n.mask=(1<<Math.log2(n.count))-1,n}}class W2e{constructor(e,r,n){this._codecParser=e,this._headerCache=r,this._onCodec=n,this._continuedPacket=new pl,this._codec=null,this._isSupported=null}get[Bi](){return this._codec||""}_updateCodec(e,r){this._codec!==e&&(this._headerCache[jc](),this._parser=new r(this._codecParser,this._headerCache,this._onCodec),this._codec=e)}_checkCodecSupport({data:e}){const r=tf(e[En](0,8));switch(r){case"fishead\0":return!1;case"OpusHead":return this._updateCodec("opus",X2e),!0;case(/^\x7fFLAC/.test(r)&&r):return this._updateCodec("flac",jV),!0;case(/^\x01vorbis/.test(r)&&r):return this._updateCodec(N1,z2e),!0;default:return!1}}_checkPageSequenceNumber(e){e[Ca]!==this._pageSequenceNumber+1&&this._pageSequenceNumber>1&&e[Ca]>1&&this._codecParser[nd]("Unexpected gap in Ogg Page Sequence Number.",`Expected: ${this._pageSequenceNumber+1}, Got: ${e[Ca]}`),this._pageSequenceNumber=e[Ca]}_parsePage(e){this._isSupported===null&&(this._pageSequenceNumber=e[Ca],this._isSupported=this._checkCodecSupport(e)),this._checkPageSequenceNumber(e);const r=Mu.get(e),n=Is.get(r[Dc]);let i=0;if(r[Rc]=n[ap].map(a=>e[Di][En](i,i+=a)),this._continuedPacket[nt]&&(r[Rc][0]=HT(this._continuedPacket,r[Rc][0]),this._continuedPacket=new pl),n[Hy][n[Hy][nt]-1]===255&&(this._continuedPacket=HT(this._continuedPacket,r[Rc].pop())),this._isSupported){const a=this._parser[$1](e);return this._codecParser[U1](a),a}else return e}}class Y2e extends $d{constructor(e,r,n){super(e,r),this._onCodec=n,this.Frame=IO,this.Header=H1,this._streams=new Map,this._currentSerialNumber=null}get[Bi](){const e=this._streams.get(this._currentSerialNumber);return e?e.codec:""}*[ng](){const e=yield*this[j1](!0);this._currentSerialNumber=e[Gh];let r=this._streams.get(this._currentSerialNumber);return r||(r=new W2e(this._codecParser,this._headerCache,this._onCodec),this._streams.set(this._currentSerialNumber,r)),e[Uc]&&this._streams.delete(this._currentSerialNumber),r._parsePage(e)}}const TS=()=>{};class $V{constructor(e,{onCodec:r,onCodecHeader:n,onCodecUpdate:i,enableLogging:a=!1,enableFrameCRC32:o=!0}={}){this._inputMimeType=e,this._onCodec=r||TS,this._onCodecHeader=n||TS,this._onCodecUpdate=i,this._enableLogging=a,this._crc32=o?x2e:TS,this[jc]()}get[Bi](){return this._parser?this._parser[Bi]:""}[jc](){this._headerCache=new w2e(this._onCodecHeader,this._onCodecUpdate),this._generator=this._getGenerator(),this._generator.next()}*flush(){this._flushing=!0;for(let e=this._generator.next();e.value;e=this._generator.next())yield e.value;this._flushing=!1,this[jc]()}*parseChunk(e){for(let r=this._generator.next(e);r.value;r=this._generator.next())yield r.value}parseAll(e){return[...this.parseChunk(e),...this.flush()]}*_getGenerator(){if(this._inputMimeType.match(/aac/))this._parser=new B2e(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/mpeg/))this._parser=new O2e(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/flac/))this._parser=new jV(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/ogg/))this._parser=new Y2e(this,this._headerCache,this._onCodec);else throw new Error(`Unsupported Codec ${mimeType}`);for(this._frameNumber=0,this._currentReadPosition=0,this._totalBytesIn=0,this._totalBytesOut=0,this._totalSamples=0,this._sampleRate=void 0,this._rawData=new Uint8Array(0);;){const e=yield*this._parser[ng]();e&&(yield e)}}*[jn](e=0,r=0){let n;for(;this._rawData[nt]<=e+r;){if(n=yield,this._flushing)return this._rawData[En](r);n&&(this._totalBytesIn+=n[nt],this._rawData=HT(this._rawData,n))}return this._rawData[En](r)}[du](e){this._currentReadPosition+=e,this._rawData=this._rawData[En](e)}[yS](e){this._sampleRate=e[Dc][Gn],e[Dc][Uo]=e[gh]>0?Math.round(e[Di][nt]/e[gh])*8:0,e[Ip]=this._frameNumber++,e[$_]=this._totalBytesOut,e[VT]=this._totalSamples,e[G_]=this._totalSamples/this._sampleRate*1e3,e[AV]=this._crc32(e[Di]),this._headerCache[FV](e[Dc][Uo],e[G_]),this._totalBytesOut+=e[Di][nt],this._totalSamples+=e[Ui]}[U1](e){e[Tu]?(e[Tu].forEach(r=>{e[gh]+=r[gh],e[Ui]+=r[Ui],this[yS](r)}),e[VT]=this._totalSamples,e[G_]=this._totalSamples/this._sampleRate*1e3||0,e[$_]=this._totalBytesOut):this[yS](e)}_log(e,r){if(this._enableLogging){const n=[`${Bi}:         ${this[Bi]}`,`inputMimeType: ${this._inputMimeType}`,`readPosition:  ${this._currentReadPosition}`,`totalBytesIn:  ${this._totalBytesIn}`,`${$_}: ${this._totalBytesOut}`],i=Math.max(...n.map(a=>a[nt]));r.push(`--stats--${"-".repeat(i-9)}`,...n,"-".repeat(i)),e("codec-parser",r.reduce((a,o)=>a+`
  `+o,""))}}[nd](...e){this._log(console.warn,e)}[kV](...e){this._log(console.error,e)}}const Oc=Bh,Pp=Tu,q2e=N_,H_=Di,GV=Dc,VV=Uc,K2e=L_,Z2e=M_,J2e=B_,Q2e=D_,zB=cr,HV=Ui,eCe=j_;function mh(t){function e(){}function r(O){throw O}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,mh.wasm||Object.defineProperty(mh,"wasm",{get:()=>String.raw`dynEncode01a33fc84f8dos?Q>_M'	zmea,=9z=$.JTK'(u H3KQt;=}X=})SVy{oEqUHh87[iA2(+*7}@B;?=}A?>~{x#5X.]J
=Mi=MUH 
5Omrn2Lj{	j			b)j{l8Jr/^UO6j5a1HH=M26I[T) W|HeF,l	'0b8K!eJ
vz&WrnV"5 kwP4pRAx[p;7>VU?Rq9~QwI=}	frgx7QE5-Ml?E	{@z5f}.;%Mi_ZU@.mt.,BB;Z_V)AUBf &$kz(_z^r>b>/DTQlIQ}:8_!@v!O
\\ebVp~\N'eBb#NY	#W0a]!\nTSx76I-pfh,ceieic#upab07>F3Tfkbxf6H6 yV?@?{Q+=}9%!>&@Uq?qtIU+gy+5s
GS1K;B\fhXd)Uw X151L-;j=piN:}BwXt3yoJLjnn-sTes	{Os9SekFTVK-WEO
R*vVJCsr^v3/ Po|$RKu# [{V>>ws~~9=Mz-hi>1d!>>	/~ywrb0!	~j#88Al3S8oK:x'dAk<;)3b{5?
NR/+>6}mzQ|pMj;2&#gg|/[k*Z8ZvXFa*+V,\r':G-W8rp ]k=M|]$"VD_d%~m>aj%U6^8"b]}lflIq;[T>{o3*iDg@s =Mkuw	F~{_95,}50>_6l*{)GjE7(arbj	Tgk;_RZ=MX*g[X^uN~u~
:_NWP\^Wptt22wT22v6y6;VI?^&>&F]VBfTe|$]	wyV.b. tnZ$:K? l
SZ'7
s%4cL+{
^KCUn9~g/rV$
[c6&(qx	6 YSO{-L;Uhk(y71CYD40,$Em9S"kUUg{>%[2\siU.~q
$&*hM#8#U@Ia[Hccm#g;/9?	g~B9'S.),gizf,^k|=Uv"&|[lyDIQCWz2_(pi}kU-PV$M)}Dq{a.|+/II^b?/uCHg|M#L'A-B7<9&f1E/ cE%5O.uK~;u7uR=~30pIx)Xyeyo	I%8K!9C'	Y0}ze"[MqA?;QWetbW)aWet+*jh8

~q|*=DW
q'$is4|USK|c(46?#M0rYNAPr{pge|H=MmOn@+(MI3z*^,Jz* [x|fpBf4s*s* [bGnj%Z\K-VyT1bJZJ=}<nul/6|@{b| wTAu.NvSUL-hrH7V
V-pL.PqEkl(tpOYHpcy592'6_9^;a&rbf_Z%#h?;zVj2lG^h
TGxim1O&ec/9/NMM
<rB8Vd$89okj)&>]FkjJCK'OGib6fh=faGHO*hs-#t*DS6(t,F0(n,dY@nh9{~@JT\VOdrr
&
JBV%trQOV SBi6OLi.p(xD
DL9nBbt;[KA0'|rqaz8m/V:&Z&Ukr9>Rrz"Bw&!Ad&?lSwkl29bzk(-gua5A3*GV@b1r#of:&z:ryG~qbf V\Q%c60n"a:{	$N~=}6Ym,A640kiL#=MMk%9[|[< 0 v\y-zO1@ j=}Gr55Z&RX*Q:B.k){B>MLZRf," p"!o4z0m0'$g,kbqUL?R@c4U	(ZEOD XzC=}D$)]SzELkMVa%FJ
4=MfA|jo3V5-:5rK[u\]3Q=}*TL87>':LCdheM73FrmM|"6d@OcsZg%nBUMK08ugN0R)h=P{nQI3314T=yyl=iUCgWQ($^]) 2>ms&bQ'YFyIr1ma0'#}^W_W}2QjA*Or
D_\Z=)#	]x165_x}']+\cO9g_dai"[9C^\:Rrtq'Y[7l4tS-W~xdG@fOs@Og.,H?_wXi~ZS(ERJ=M_=ML^lZc/z/whW:<OH _y}CKG]=M|c6kKO--QT676H	^	FcfCdDvB& 8M^17)h9=MESShIk/.XXppoG_wO+>F#GWM+nr#DoL}.p}	YW]jNkFL)}	+ 9~%uthw 3ZyVf/fOP==M4a3$FY\[)RfO71wZl
? .)fsnWI?UA17+_]ssS9WLs_Iu=M6bCg {FKMv)F eI*$&eXSX4G+g	VT[^~?|#KlLi;V'j0k=MAxyvJb0VHAM;O/(S3kUJf)g1Wl1Td%=MaPu(pD\ 00;7e( o6@L$cLJ,]&5&tvPxX 8HK0]f 8-r( 3OIj#	=bF%4X!@$@BlU@OED/}T3$%nJ[g;=M5:_qB1-eD6*_
Qs0w]6Y>3CxF4!y'wY0ww*X3gg5^/SZ.K9m"}b}V|Pt]pb=MtJ=^-=}W"ix=}W.}d=}w}S!/Kys}Ww0&)
}=M~PA9Z*SMNcHB]h_q^&Z=}* !v>B2!4 p_!dit7.;1bF"in/YN(<(C9~-"7LQ<1AHDP=c{?W:;]cnJ)Gl!d:PNg^Jj^6f(A?anD(Hsn
$Rrkxwo]<ipP}r-op44PV;? "zqClrt3jSm3-se
0!<=VBRV|po+Z#r%?#3 G=}xjIPN_0[xREN-<|EZ_1h'8U?q"!@/D)F=MYbd([5A=}PLN9.Q#VCpn@H:yGuIGllZu	fUr<<UZJ\fn/ ^W8G/kkkkCI
'&5N=M:)'GeIr=}7(z.o5	v^/LxFMgOb&-&KpipiG$H'cWr.NptcIOgnPr{[d	d|p[=}U	2li2k=}zD%-Pk3v	{Z<s@bW%j	+2tH%QszGd
\m&hK"I$-c0LMMC{5Rf*o}$h
MLH9V}}iH:q
fV-!q2$^lm=}Zk]j^=d{sIWq&k3</:gB]w (qdDv(^H '))MBD}a,%/e@s7R||R=/viH	HjkAwa59a_7V_^3@g?#<:f|jt&[[o\mR49Lh;h*Y77RPxG[RdPRJ<i|PS}	M15qF_aRwb2a)Z7 F6JX{>?!$"A"" lqL;;^=M,(& M"Kb(6tev&hD}e<}Tnz 7}.$1V	=}5M!m6jDe	"G %Ya[Je#/;}:
G<3mNXK2d|9c.J3+|*O 1/'~|JOi<>;HV=&X150l=}~k41q?O,K,NEPv4k+*5r#1D<|{1IjeYka	3$ A<y{rT))U"N_l @;PnSpJSq<^I9$)k+E!E'=t	IwC&"(* 1vbUIVfcUvz]%,m}=YBq]Hhir)ynCR2
 2I#4fN>zH6Ul	q5!EGm*6WJWN$p	}/},+:
'_6U|*c\U,g*l1ud	8-yIx.e=M=Mk?<Nd2o:SXtjVZT;XQ691=M1p((PIp[y)$$K{!n Pv6VCr>qv2tDd@=Mci5A,f/X*2o
{.yCt EaGtdnQ566/1=}wk*l$J_!Jm,vpre/7P$.6TAE%87R]VpPGOGO2GO2HO2GO2=MeHI@Kgg,p^OS5y&.+&Adg=MO[ma%V8=MPNf0u'|!jaeW4M;0 '4~F>Do6.r]gO:]Xhg(@DFy@=LM[yB3wK)wFY=MsGBG'@Ki=MdCk3v=MNf;8MG>(p	f	$2.8do.oSpXzw%UM5fg
BdB,cPqw=BO%DQq5
Rg7I" e;qg&:'skLoH':'Edf5*x=lF$wmUTHF]&*$)<{\?V"pAn{bua9z_<A4.	_6+<e^.gG=}T/bG*m-Brt%rB4:_rF#2]QRH7rK9?Q+VJt]*l+8~RZ-u5GDS"YC~5:=)$XbX&C.@"q
~K{Ychm8;*7vYGi=&v6V=MzUB}YvNck}K[kbmA3E.9ucHZe/z1,zct2XB*	a96IAd2*aH|#R^=Mnk=MDy0Q(-qoQ/	-G9FfA:9j	%v=M!)?6;HGxydVbt$-\@KFDS>KWS%	Bt&d7N'z0UtK=MdTrzU8vM[I[wIynQU{}IC"^vZ\y}BE6JQ$-9~>tmw(|np.T^6:<JX~		rL=Vk>=}	j!I.y_5ku"P/q>Ff=Mg4_q|=lrRCDz]KN4_v}p[.iC}2&[mr=}2x>{N!|d[?9H^;Z\yIp>PO?@\z}53)6O# cc2yVB_cpFc=Mg(f!yO#m#:n#/yWC	'X%)	pCQ}~$OLHJc:7dXJ90kK,H3:?77nK*w=Moll8#N5Q]V1(=}dNih.FUbgn	y(5;_				&tB| P=4oQ&@=;i*[/<{O
(&;88oCQ;)fqF1>'&9(Tj%&(F"0c2S	s
 {O>Y'=Mcs;}1{VH!t;O?qepHXzx P\M'9}#'}ztA.C\}!ijA;O(p;XCyJ51J.Nv.=M@og1f+1
k;7ExT/1x{ysz>;{ej'SMq>zpP5=MX=:[1u1kv+Fo0s2Etv8/3.\i8{#)e^Hteg^g4x3;-Ks%>=/as8,}F9Rrsh1j ]O+EM94%kH4v|LN 0jj0i[s+weD?k1ZprV=}OHV+?r7T\~Y^\9<	a$;3uJ?"o3eKJ}T^f[Q|RY8}r5IP8/0xvSP|I(.H#2[_Hy-1cQH(DvR "/uD$uDT%H>f!0L3m!_4{r-(jUT#i(997Hv%!OW~<A i/%1P	/Uei$Ow9C0o>Pu=}C0o g"}3x{F"S^b^vwsc=}Pi,x'SaDHO>.,LDL.6mS~'3>,:FA4{vH~A$pq%=}AVrf9y0\=H(6^O /}KZX]wb/U}n$q23dzbPP06LKoE=tZk+=qA''['2[6''v{Uj^,<Jm=M5,r.=}txH2': >A63a=M%m$U48S\>q}xOx;g;D.o:q|m}'@n
c[)phI+(w9Gk,%tgXCC	}g3F lFOkTblSO"4qb,*i\;SF$AFlUKI$uO]T>[ d O=}fW,u&G>N=}F.]McvT02M1M=Mr	/*R
	
\.0#mQk;bUJrr <y[V/23_6!+zXK}e?W=}NyT	bA=}JSL(^_OEYlT(e\+^	h06L;pQ%]a]2A?p!QzzB9au=}![r=	U~>Mo,BN$*{$n]/!!OoIz4e[&v{H\4WNs{BN +Z,ToI5yh}naO,dDqU 0qR4L2{]<
}Q^pY.vU\)		I	qv"8w
IHwi%a0B*;5|KI!URDJ7FEz\.*zlAV)zp!V[DBx%:W6{y2~=!'c12G[m3M0j)M]	+1WAERG;K=}pk@oDEFUvb^*YK=}<MH. Jp)*,)k0-<qd7W'B.2WKz_
!J^fimu(B","]!1=MCf/WrF,O(CC1*U$J\V]A'H2Z>, HVCJAuKG;5*B{ rJK+zx'L+0cG:=

VK C0S40= -~mRU8cs\En]60/$}}#^;KBe! lB9Z O>op!=)T]">(>? !zTa\8 LIM%Iz^b{@@j[r%dmFv},/3rk:>Dxt7_fJ=}|AE*"O&}H0W!
sz4r Pgl@~YY~aS,|6l\P_Vy JrTG[BnWieNi@SaP?dN:"[p dP02w
A,(<8o
+4DC9Kp*BDfEt8Y0<n_o+6IO4z/38m
~Q$om	 |qn~BL{Na
Q&G Jnw]oJ
t:LH92X.J%<M=}'S,Mz
b D;$MdwK)JYCDO3KT8iioHRsK2wNDDmQ5d5|/(Q|4I05ynDSF=}MS6;0
a_HV/@
Y\df>EW?>#?bq~;Px~v/!e54_7uPmN{~:!%Fc3HF)wf8('Dc=}H'"m/7p|	=}T}6jyhz12+$ 0
jP \GBO$%EX,=}(GA=}8%m=@2=MzrZ+uG;&#H]Xdr*x&*X7NO kCaOBzrSEs8{:4G=#Eu]SsG 6!g"Li Q
,D'G{>(2DI+gk7i83(snHAu-/X'm=MnKkfM<
EfV\!Qq^4Sy-=}<3ym6MI<Vr2F}jAwF+i?_}A(~wzW|]A l<@gGNvsx)<A|d4h\k
'6bEa-dc)<7*kck	q?2m	>L =Mxo?L=MV0<xG5,i\rx\.)c{YK$Gma)sJCw1yw/"+L*.xkw%6e.|s!-07#s*IY'UZ@LS&k@>8g{Oq E&#CIHL)Cdb bQO	|c>/H7.\Zi1syjdA;pW7[~ y=}30Xq@>{=}CHBB=Mo=}'C
'=}=}M0Ts*hetVXSB+f}=}9g&ucm6 ~
	H:QB)#'DDI,pDIU=Mw'A4K+&{:|U"~S+YZ|,NoGIJ-I8'_,
ZLORVphRIoyd@TNfnY} 	]_n*	=M/^NEZs
1W.:UM'*TMv]zt'I5=}^c^Qv;-r";1[&@R=M]-*7@=}'\Ne-^8pH&dt#w5k_^R%c}:D6N-+NucY\kp]"K[=M0)D{m7l<d*Y@	+G;A5*L?/3UUkhQ1~,ixsPoD6=DM34C^hKz/StwePB071fp[^p82It0>.46b/Y=}nQc$dJd*+ytVY1eo?s;|i}kHZFN(/C B,\gE=zG\ZN{:wWQ%z:XNl2-	*6_E.>lboT=M5Dsz7,?]vv[)h?/Xi7%&\/6@x7=}<OR'rJ!3ueh#H+[!_yw&C&Abe?jfE(w %(?{k/yx;745j>#gkMJOHIuT(tZr_U_wGNEm e(|,=MYzI*f/k]ij&rpP;~]4vHCa,Jy1Y+LT((CVS18n<'&TBar92q;5r\?xvBAGE)APejI4pUv=};/4dz&urnUmh+lEm!gKQtjR2dbmrY_o-o;
DSf,L&W'KI_BzQh^9FW:=}-rc/DEiQP4%]aEg$ bUbcl3)ynnnnBM])Dc[^28
vl822)v?xwx"x--^g,rx"2pY}Q&g
o[K( 8Z&\ @9.8Vm8pO{T1Opj=M9=	*7}<?+BwA]1..Y%!O	1P.Y=B!mU. <o]Q9wy})5515<OVH?_/{?(~C@0E50 1u=}nJ=MtFU"YXyPe* 5:j	Qfq."_{k*K$m]?4SQ%,>	-VSlTu";My
jn1=M&OfT09*D9qq /at6xu=M$r&f{[Q|*q'<|{06Me0,j}*Ks  T Hi}x-];+l1gRg*Yih+hm{OJ^:SU4e~oD]x}49=\+zR
YVv=l}a i>t(=iWJFfM Ct;u<QHw]=}uZ  (2D[].ti9Dt=}"tnPw{<b=>d&%Y;fP]^,a+	)de'e+ 0~I	.	6	P"j5V#0T.p3MDxZZ%-@ffwHm3~*w:-jW'M0;w\j=M7Gh~94[Bkj4FR7[KddN'1mxj/9n/OkXA,.-7-	efzeT%,$dHT!Ko0!_V_s3{o_X1@[:bSf*
tiYn2R	zN<ZWG&Z	TjZUHvO3rhTc9=HXII-v.qJo+dw
}?QCHIzs8;9t']\']J#xnYsY&"4PvM=})Lt;<w}a .=tu=Mtm$O("q}-NG=MwHU5^o C=}*=MzKm^eX
f,=O#I\&w=}2T14AsL09OY$x/([?+.RSs;T"Ir%@rmTj6+=}.Ql1qL@ 3h~vQpjcz-dQTwssRsciO%R (*TFftLZ;Y.^hG.(, QhM?+j48#BS'ffcj=Mzy7CHSH9{x.=Xs~LhH._1?1nwP>ot(FjnZ{9<1"Nyx'wz{*f3RT$OU	G"@M} 9I/K= |
$U<O;T(Z7>'<e^>sNPpaa1oVA1F',1p[\;XPQZ5Y7!Oyr"N-aq<y,p|la>xAeaWoYYSOI=.(@px|yvR
,=;Y?XU5:R To
OkUv{-pb1 o	2VjRTaZ<&pyx~zo/Vx}o@pK4a^2v^ssB}a_=}mU4F8f(tFKm-  IRJup|WbfAq'V_u91+G^N[=}50m:TJ3vM-}bzJEn~9v*KP \0vEgF6L9& ;U_2uSjlc8K%Y|JV A=} CvV=}|BH>QBXu]^B0==MlU( @G=}RGV=Y6A33.uMkytd?\*ffRp=q$(_-E*#h)'9i{fZaXePT_zu>%+@6q$=Msl]+IP~=}4EA*\@dj$b ;#R/3mp1o{tF4n)N4aS-Z4Cq')J'2N	72ASo_a}:i0Rh@'.O5JE^hZF=}$	EFV
!#Q;=}Y8Xy*i
/<hU pCx}k~FbI?cHe	5qm)F=_ f cyR2;#0Q+"*Wre./d%Zh'xDKh;Lf=jl?0cT&P5QFYt{}hk.,Tq+h@U* S*s(FWDH2N4=}uA#6
gyKe>D6@+3,K=MQi!=M{MRii=M)=MI$ry&n6"]s.HixS8@WSz#Vj OXR(&11[<&j11xq1nwwv	Bk;"&|1&AKd1au"-mKQha5FO-fK)F6jq1b_W4[,fY55(G7P\4xj~\(TC	:DtU<$o|t8z2y1Oh
2m/Rvm.8zo8q= R_HW}'X=}2p%W"SI^lv
A]m]qo2;P	GZa[!{f##pY~>X~Y~Y~Y8C^ZtVf.J%rt4N%BvS]58]:H"M;>u'qQ*,6,k3Z>u9XFF@@B}mz5~i@kDP&(GF=MXF>Cl"6\.l^#=MPt[j|,!Ca f_>$i
3)$Qa,>l{[MAC1b!h'd# *UF2(p'9{RgnM JoRPy&+fV*X(X<Etwr0K]+[CMd4REc6A-~3Ar<V	8CZeQEc|=p{{v%y6g:r90%|0N2%CucYzY""yY~Y	~Y~YVMB ;,Sn9Zv\$=}-yVn(Px\F<zr^\mUL]P-dmugd#408nr@	B9=M	Cn9)@h3'|:\A5.[!$?W=MV5&=McPHFhzx~U1\$P9NPoqc_{~h0\[[Z4xkej;N%a_=}q1bS~9=eigN^^pwF[FKm 	zu[gj DQ-
[mnR=}[]9h)o#2g-_L/}*Hy)t.obl{*h"4?2gm~ej=}oSo%<9WDp Y%}I5u,*?V~nQzwD,=Mv)Z_mF<#&<HadeXm8fPqo:1]67+HbhhFCP4Au5GS7->T=}hrelG:lCOGT+mhO#p=|L(3=MiN+1MfT46>X<Srm?Yoi%ag=Mq1+-R.*/h('d?GS3A:7!6'F9%Dl9l&89
~:~QZ	~Y~Y~w$8[{4Ws,Bn<H@,U%fWm% Tsx<=M.IEJfR,owwz Yw
S)z!CH&(Eu]i+\0yg<7Ad7 TF	>=M<v|y%SG!ZZr5"TphyNUgU@W'Y~rM_rWGL2JTq,^Z@>.Fq\^y(9QI[UH@~\tPp,a/Zud6ud.a=_mV{e:jB!/j@(#KgR&gp-q[m> f>ibWKt7Ad0e=M5$1EzZ=}ay&z.ih ;0t(=Alr)95i<itvF5nlJ]GuR8*tZG7q*$g&ojU&V0JmI[m	(<\3gH|T8tVKBPwX^#Xa#AjRg_>oi4R7MHH2:4ERy2hdn/d^[]5gZ8KNYT&E=}fND=};=MSfh:;wuHI9\=M"J9)wa1:+ ]z[TAQR<cE=MCpLC\VpW=}wF,=}{C,?<=kQ-[RT+:	/2;>q	:_e~17nHM7apl;fX2H9B8N/	GTY,OA:?oNpd=}^rb%	?Jlr}Ig)5.8[>KtE2a9oRF^M0S=}D=M9-=Mr0@2#X;wYM~YN}YPCY~Y^f79)m@=MkT\gb).lj&jn59
WNj17=}nEGJr0Aj{vMJBApTv[	CNc;$&ce$*Br!)s<.RCDlzDoxDg~gJM9ziXqY/l	LyYl1/U9D(=>B#F?~i7U~YqY~Y~Y 
MzAK+*]DV=p-%<F45Q5MFs9w]{+E 6WmP*JEs]|WY1-Pbyj'LYFt8q# 2CjRKt7/BqF-nzzjR"=(xj-'MPAC2
KfwH(bJeZ)kQ+L/8/qRK(TaFMf?K_YwOTVA$Un},PZ {~^TZq!ha|"a"=CD]HN)mda?ccD=/QHxjK)8Yj&7boH[8n[d#S}Y|OP~Y~Y~Y8GO	BZ(ftA(^o>gQU=}o;WY #.,ayF+TYb@A/b,>QrR*^^7L/a9ADIl02p0BB ?7t<R42I?qQsI[ iR#>z\K+-e^=M4IX.a6QNbgvM  !'Or(W,s2{\Y>x_X~*D)j~@:
:; *~c2:B4b 04x/Q^[m06qK5h	7%VKxCK$E:ta]o'sM&'4f2p1{>/qkXCI sgGq'7hj"	vB|k2nh"ZCH_Ke	Azf_^n7ye	SFD&V:DtZ+%SCY~nY||Y~Y~Y^kyP _Nu%u*Ia/iKL6(dA$~<B>H+2 d	x.z
F|ESNRS!^uy	o+Yu\5snjui/o/8*^FArh<=gj02!Yh589FLEi:p+B-33c2opom(
'n-bR4&b/RAd H< bcZR/t+oE"TSK]P_dg#|bZ;Et>1PnIhyYSe9N8o#y?acY0DTh6]vDF|c8^Si,Ga5 &a=}r5,Wz.JS
&&:US;SG^|kI?	Kq:uO[%e8'NysU1	ycE9VPK
vNvD>?~_~Q~V~q~Y*o#$@C[;@6*'))21gfA82ep^/Mq?k}' /{_U^7^1;A:9>cP:o5</y7<%5}FcAVR?l5=}<oE		q!ripX'4S+=}.tU4H-VqQBqKk$*P?x/p: SXjo:~c\|iF2hH YG2,%;)E-Z_&T$	>ijuT#Gf/ii2P 1}}_/6+^?uvfr=u_3P9S> K>(y..a'(xIb_DN?&RLU] 'm(IdZ<*u"gV'm.jo'8<
,q*4*oG6aEqSr9 4,krB'6
Wr!DtOa1[s*E/L~FgA4hO8J18i[~EX^Vx{_KV_@k>qx;*e\_Vn>S]]/Ow1HXB@*p,o+m>	d'Jm[	/|;]cWUn5O4{ YT~-RPOX]F[5Z{	7[#->YXmo
F_mVfQ0Nq}&LK/^=>b=^d un4(!|Ty!; [{"7""!D_BvfOVauBl3\($]g.!?	U
l5\g%*?d[4/1-vE{[=}t/)|a*&+5/a,-q,HlI=}UH3ll0I",JVq/kr	UkaM$|*LuX83	o| )aZ+k];f;dU[~'w29L?j3LelGvM[ ppO=MBN =M=MrNh LJTKAUo#0:	8[M]<U^Qi&YW>}u1Azyt.]tIb	SYb*S28B[B2D+&cnYz]:!oY8~Y>pYvt) W,AUW,=Ms	y3FFdjwQ,f:''DE$X|Or1Cc17}o/!W/kVkdi<< ez>Sw7(IW'}7	F=}p[aoFo2XClcPS<9kWP<GhhOMPk
X	nw^O\p=}^f8fiXHf|u1=yr:TJ
ZJT]cn(+Stff"qm'r(8-
?6%Q { s(Q^Uy0+)^M&q
%*^BdY<2iE,D U_+NI!d>F _p4T@2!n*qa6UEtg2!P"BZ=<ViB7J#V^6.Ti}x%[+yr&};da/N+b*s70T*Dg[*4=}e\(S?edR%.G v|\p>TR
ttp1I].t/p#GjSZqg.d&}.vQi.Fb}AFT_QKLC 3+b,@?0@	,Q5{,l[ <BF<eF3eG(YN9,IX}L-:ph}>c(])#Ov3>mI?uJK@{p/"?qoPl2SqN~;l<<TfDRpEj@OVLnmIU9
F">IHs*'/>f@!jsL\nqr+]omV  ;rz7^
	 >X(gA2Y	=}we!m0Q2-YdF'
J<]'mHW8Q/Pn+i wfkQ??1ho519Q?yR%dX|('A+#+	4_gV"+;<@:+Tj%{97G;mAl5FUX/5 i m<14X?h:QYk^H, K5N?RlUh7ot[(Ojr[;?#~Y^XP pP~Y~Y~0{3/Q~de)zu5_6>@7_qB^ dO.Q =U^Lnpb>Ef	[\=}qf4-	s\2*{/tD'yJ,:U:r_xa	M52@Wu^ zj4"9Fw6n
jkr:!is#QcI#%pGPF9U3%Z&7=M$Zx+p?>~6)=f_;";f]{}ep1+'MnS]/cD$^m$nL,|r4>?	,,89{,^4e6<xUY:Cm6DT 8n"6$eLSO3!#%(~+NOOwx$I5[YMN,8t[0-id
/C;^E6:q2=}@7I1y[jZ
@~;n&0\A<}&V=M gc&j76,xZv6"fG;JT@r 
. LW?LhgaPhfu{S|ycI=M>%EPi{>V@p>{oF Um2Z7FH-b7tfE?B#%.|YL~6}Y~Y~YXBj7Dj)7^?^92aXjU@nwT{nh9<x]~x9"nr	t4FaHI1@\0?;aeef1)Ajv2p6\rAW4AV9"pfra:_C~R$5MGorhd$MKxQ#c
FjJ)$WNZ =[1[!2W44u-<_!9=}X-|^nSk8
-O_!Tk4@_)D:el(m"6uVJ:G]sPa'p((=M((*iJpiT{5Is$nm$ZDUqr7-H1HkPOKDOJGMM/KP8MIFG}Jb5K5	WNm8 .77u7Z2;.Z~ylY~nY~Y~Y r]v0#b~$i2u=}B,.-EbNF-@TgTHBWoq--Hg\E0zKL[xIuP-hDx~ 5gBEpbr:-h/XE|4{I't[+@(}Nb>Eaka-mgsroIpo;"!l"5M\-ij;7,pG	X@9dw	Uv2bs;KH>U	a-pNXM]I )=Tw=}&Pp$YdV	WVx7B*;r*>rqVOAB J=}rJ*o<I}CjGA
rR;.ohp6
<_?Oyr!@,Wd} ><e>\T~@Z3\f#fz u~9	i|V~Y~~
~y6pR]""(WhapF=Mt?[v;bOQjqs6nV.=M(ivG:q.
7@dU=J PH5EA 36MvpK3Q%WxX Dqyi@Fgv:t=5MN[x9(%(ycy(7lyA2iU@_'%PpIT'r7RKs06;h9T1Pj2jo!2e,)8k>lBj*st.1+:kdZ?<c/QTIx5l9[l&7qHJ[#;n!h%rVbo0|"*3D;dc~Y AX~Y0~Y~Y/Al?dx/3
F}rbo+!5C8K(X]v
Bu*UPI")uBDm,~3yA5U6=,VB5Kp%qTjuJ5t0y-VpJ[J5g(
i=0JE=}nX" R(uiKcb}gx,&klY=M-&hR@Tg,3"";b$dp*:bcc![!*aeRG(nwxYW*_O@) Qm:NC'Lbp409a4#j{IZTxAF#X8UGOHf+^@a#f;hYKv<iQPNlES0l 
i%c%|Y>B~Y	~Y~Y~)}d%Xq-5at+"nwMk=} q?oj B)7q*9\ko
m(+"9_Kd_)\^Lao't2m~,x,=}j^gm(XTJT.&=ewR|o=/R1\1vL>/?>X2*U
{!!pZ3rRr4]d\Z.9=MmzI
.g,Yy,\75=}h\zd+/VG1LQpA%Q+No%wTso6otC**Crr@ih0
CrpaP3p{y1#osG|(aQg[=}zd  *	"_	%e&D!Fh=}(up5?nE_3c(t(+NL+IT@< 8_]3?M{SO+B-eY=4 &MH=}wTAFI0r}wd i^*t Y~zU~Y>~Y	~'@fm \aPL?#!m9)v**)V=q0CM0Q<2iI2H9A#t;#_o2l1>/V/2KX=}rqp7<
qSoqi Yxq6jOaoBUD2qE>W'U|9X?k3leN<V=}XN,4 jeN{^<P6YEvYUY6]12|d15&}:v!i'/+xb2/@*bAXt\z$P1t=g:T_(n%N0FRV[9|s-[*f5].k|_2vuO>3 D+*2.e2J<Zq$aLz/_Zdzy tu5(usR"}cgE/Y&zG+4ilxJ<3lth1u<A
9r:(\mcAhYqa5S,Q}Kod$8L4MOivmNMC,8Z^}K&6?xtH	1ROaB+c}#J?k+Ke@Zk;_9ITNe+g;O\TOx5A0T	_$fbjn=Mwb{w$}Uvv4?g*^q%[-[GlOew.=_pC.4,/6RYB,;&St.u'E=}y(/3lAh6Lt^{9zk/dqg)65+45S8x/JPXL/7fh")y'}~0
DB1
sZ"\:46hE|[l(Z9ar:VBE*yBELQ+xi<S'QHqfK/O~Gj,<N4nL+:wDz?rCc?'p=}]PWTLE0Ml@[^.kR=&cQY~=M~Y~Y~Y~	c'la+clO'3JHld 7V0p-?pg<?4od$+H5Z5vE=>G~];fmu~nZU/6&nANSHM-BF+TH7KoQm_dH(j3b!zMi|t=MIio*(J#_K#4}=kxxzT}w_w	Gi.;O.aYU2"JB&VL/#/S,|+E1r/[!l+Qi+/iP&au'a<K9	f4yD'J g%VE41 grTe 0$OWkXDs9B<T-=Mr=$_2'kj=Mn,?k"'->?tsdIn(wc8
LsXY_
Unn62AS.=0@zrrp*aLDFs:, *e=MmY&+DvwBO[Ez3O +C8OiN;&'H'Es-Ofi\*6 ?w15n4=l;C0I~F!=}kS9R/d98Tg+j4s,
rc{41,3!|<gllM|L0,_]@zzHvC>$Cqbq!	&
u:hClm}:UkUwBn'
\gID=2Ry_;;rCK3sl#^;*.,dHY:EbBZ:TpEXKGY%lN]bIO=}(N&M5=MGFXQfL
}-mWu#J,zZ<'p}/JXs}-)ZOQ
PibV&~I.]]3!yh%o1x*#WYPX Y0rnY M|Y~Y~ibap jza/ao
}m+FJ~C%A
5:55R6d 4A(y5	.;v G4IPz:)mlU5Q[^ u.lBlFB_mwW.bhVQw-;X>k4!T:F2P+b5%@EoEc=}K0C!W@i{6zD,]ij87+A m+HQaSY|ND5Ux{0}=MM[r
o-wj$3t_t|N,e=vyH(hs	Xs	O*B!xH&]Q.Q0E]g]W+v-^2Bg /[f#.{=McRiDTE
08'yev/3/{=Me%=z;AI?a<H	i|=}+Vo36t%XwA	lzQ-T)NP;>hG|y/
pIV_>|m)WdJh<nL"	jA~ae+~r|' *IA@1m5k'6'&@eJVn<
]b(QGhne679]f0rovb1%))[7.ji6w2ww"h)!g6t>pvR3f%ULYaP8*<.[r"iT#z;Rm3$JT+l6&IdTd1d=}U)CD)-=%"'i;dja)}fY%p_-c!j5r4ho0C-|"t-iBj)MQP2,N0}hh1UP1R*hVTA8^BcnX4A^,;a4tn6^6gV95/;V\<dHgn(*=}mLwJ?-(v?iLYJ@LiHv]&M3 755	7	U^4&/q	py
qUR?&e\wo-8 ZlFK2liu-;J#	83SO3+|n.R+[SE;F.tTIIU;@N\M  f}7m=}kY/HPJnR
)GBsdXiEU8oQW-:LEKH-]=}=xY"_P8	Lh _=MtMYyTcJ&A'w\A!{x]NrRC$F^kxCm)EOT3x/	9yoY4/(dG<-l{fj~kq&kXqB6,>uqLu4,gWIAeX.X p	5x^\AtOV*o?~.?vn '+l {d!sr6hR0=@J;g&f7=}hfq7P3 4{|$b#/JYN~Y~Y4@}X=Mnq-['^[;B.oX,o>g7I:3],'X]e?=4ohpGB4E7H-99tS\/f/<h*UV1V/?%I@
}Y:E(%nd^W1%C=}Da=M]587p&5-%--mZv7k&-CCi4D~pw>IpNbI9t=bvs=})/W)Y|Z7yU[\9*nZXUWNbjv!;nz j8wD,A;GYr@=uvlKd#&$p
"cK+4D/ykX'utkg%]7,N;1>k)oT	}wKJ<F	1		KV	y.{~eRF]UDF8mbr-
Z8Q\U]Y]}d)SvN/@o7fwB
m	:r~=Yvt:"?&bzB,dG=M<ynlq@!{A6
vTa.^ =;kp|#>.[lJ^8npZyos_*dwf&cd$*YHw.aE:=/N
4Uzyw+2}juJvb9
|!(|\(~#c/ua3Q3%kk8&_>'E)[+{+N=M7 .)o~x_jf'dlM;ve=}B?OmL1-U7Et2uF=ME*\jiB<ha,z
4 hlqoJ$uyW4!n)[dsWJo52liM|tbr55O-	/-Iqf"WC-!~VlY~Y~Y~Y^$vPkCf$-?lZ}=}\],Bu&kSVv,0T7{
,=p3\,3LRl9#o0m\VUz(Ms(qUD 8g1m=}uKEuDm, 0 0Ws0	u^@m=MD+qv@ x\<wa3N76	FO<
:dFb+6{H5T[yi|
A5^n<+
Yk.=%U"y.u	X\5j	> 1Z<W})z|n*\4&t*k\>f7G"[n: b|~BN=}]?=M2jK*2wB| 9X{
Bx <
_#Xw'#=NiKZ(m7VkM$8'~b_E=My+\=}.|E|++e{#~Y^<wY~Y~Y~Y#Obo[/sO+uU(-Dua(A&pGh Mt04'h3j%Q%UyK+F'?9(\62v;e_hj=}'x_}yi9 =-JYv*>*c6.,hl4Y<GfR}2.O3kvq,TNm9,o,Y94&Nlw[X
kmO6)J]0e_E3TZ<l8Yb
=M0$(=}l 0 a1t]0m_t
@E HVE1U@}=q:{G=MsN2dXl(I52648
>V$X>Clw>/Vhwf.0=MWS^. _YS{_Kh" >@]1U\s	xq|?Y\;dqUMfy?S@5FQQX\/\p:. -AB];b 4_k|21;\mF$2RYBy
B%~q\VqJ|Bz =Nxt5&t~Y|	~Y~Y~YnvCm$lVkcb&c\"u-F]+R.+k7<y,)k3ZFLm:PTZ8gJg RzB?tToVnkVx:v 	~<%4I <W;&vK3QM%Pod>E(%[D(T	8hYwMoC+nzKCUmf!NwG>iY5Ww0Es!0bsU?Q6Z9q@&]x|\@%a-@d~%M5Xv~&!o&45=}lE7l-$5M&lTJ=}U:Vz>[BAZptK_h|.@Xf.@ZK%"Y{f!>U8ZcIDU*{@	QS4|A5E*&m*
]f*k9KX|l*Az_;v:l t:an=}q)]v9ZfHs:yZ a\z2<mM'%*sFz+t!]SeF2Ju}o2=}lkB0=}Urh@ZM
aW(u=M=MY;uyk#VF/z"7, +7TG3=u0iM3^ALN36f9[#V~YrYy^||Y~Y~B-(d.L	CLn;d~L&*{|&Bl6cG6:jG6HalB<;5Hx1>w=Ja'4&hRS~.}AE:/@!<h7]M '
Y{gvb-p>0}v,}pT,U}Ii>jX{n>}*L{*f0d2{s*V?8ZGEfq~: ,s:-X X:*\>uAn~xP]5-n*\D"l2FEKcF=M=M}h2-raF2	A~2'z
@JBs6f\yxJBo[l	c~<B2 o70SgoOJHif}!kCG#O{VuD#gBL
d_%a0MU{2O;_
=l%.:=EA6p75PGlF5Pflhq5G4<_5	>G^5z_8TQhwo-SbGE-ZhHs )O<P^
F~.-CT-IpY7=}?9w;8uzKwwO=}rQx=}=	@w=O\pNf)d|YpnY^~Y~Y~Qi DD4+3?]DX.:3+SO]$s8VsRUuQ40UNbuE'U=%P9bTU[0KN5878=v78;8O>7~8	78:7Z8%!NIR,=M70
lo/	w
NRw
?BW}	!rC)tDH6T:%v)V$LvPAqV_]UqoMqT]qJIEt2	9qyyQI)@)h}EX~Y~~YaX~Y~Y/*-:aF{Bm*,aFjj1| i4Y-8i1~PPWk"7<1(ygW{iUFj1 uwyV-rFABGplw6H/MAZ|V_?|9QTnvCr9Ab	>je:en[VeH/e/re(5)b=MeiN9embQ_g?<w  o{~g& {D~Dq =MHH!(m.-m{Y]m|>mBYm[qAmy4m5m'<mbm(8QmGm^@momn6Amd>kt-_ya ((YjqhIIee%a87Qw9zWmW5/,	Ag<??Sq+Z|{YKajcw+m;q|kjw;u+qlp~O	/>9'V~YrY~_@~Y~YYqV6=}1k5{t\=M1ufgZ'j)1=MwKswtWHFj11 v	o8b229ZB+VkLjIX14Z|!c+F}/1n_ rDj}1MB""AFfF,V5<&.T^ZtBVC4N+a[G74J?UEAP<=}.^'dQ
734K'Wt?E-T]T9TQT"$Tn/0/p0>/|0t/^0	/U0/j00
/80:/0w/Z/02__E""0/b/"0hF4OW0E.?Tg,EDA)Iu+'/V4[tR[9-,$gvETE_Q4-	Xhy]H4;=MuY.XhtW.;x%|o,+cKzm/P.h	UI.Vgq4$XG(^GP],>h~PqJ{_oL2-3j'{@+:gnht]'[,R?)(A,rhM:EP{W".yGv:r,C_
KvBk$}Y~Y~Y~Y~Y~ b=M!uy=}xj	(sf	>*ye
(v
>wnt.9J9X9 GAY	^2|?6;JRpNR@6n=};iWJZ&k~c<!@ "JuT>RBQbUCS3 _(C8zD"LzvFNN z~ QxxrfIYQX1
ONOJw=MZU!rt{=}>>^=}Zw$YU>r>^0vG@9z_pM6j@^*^=M^n9Z*\JHw	
QFZ&X<)*B_Z47i9Rq/ wGalA-q4v4f:;vWfT
>V<rCZxHpVfh:!;\o9S_l_1<_iy] zia0QYQ>pHA9PYfZlNlPR}?uR!=!ka!2!|2&NeA2+j >[rKL>j.i\K_0R_C/4\-M;&gylWt \MQhG115	]1?=!]JFQqA4( DLo $,Ui]6[P/oBAlWz<q%g\-AO[]S7N )	o1Jd
av$<4cy,=MdS=}UYxq&tkAX?$l)tk}/\261i
|o9!530wG=fyU:k&HK/o
e?I5%DK}s8!
cS&z[n,Ba<2Gk!-5Iu91H k)<fT7O|gYV6*e5v?[gQ"6[r+jRB62"va&RiZ4r"bb'C!k$	4_=#F_=\/@^}YO~2LYvR rov	Cs*{~\@dswZ9;:^s[(VAvYA9Snk)}'bc'?zFQ)(dn>c=M^>n7i/9Z3_P]yiF@0eS7a=A$weZr4WT$-RnpvjX+=:_qn#:0j*
AgRN=P{S>9'A$
"e?Q|m- nj?NkZp@]=A5ks7=MrqF5^&A6a4Z}OV49IqsrqQ]t\aWfUlwAMre0 @T
3=(QJH5iwp!6"a=OKB4V><Vy9VH2/=PrqUT8{@|,3&hUATaUA!HK4)K=?!_x~1_=M"ai
1__	@|a7q	aB{L+6+n+!Z.:-.?[p/2GxqtB[uh,\grgvikjnUbMAUd^/F"vJ;?Vi|x[!=meuKrmrxOUW6YPz=}Bay@QXK!wYT};?O.3\[VXB4"@Q:\D_6W	h!3d=MUxhP)c"~doX~_aSB
D
=OCo  H.\QC   8Dwymi=H0(`});var a,o;function s(){var O=o.buffer;a=new Uint8Array(O)}function c(O){return Math.cos(O)}function l(O){return Math.sin(O)}function u(O){return Math.atan(O)}function f(O){return Math.exp(O)}function h(O){return Math.log(O)}function p(O,P){return Math.pow(O,P)}var d=(O,P,k)=>a.copyWithin(O,P,P+k),v=O=>{r("OOM")},m=O=>{a.length,v()},g={b:u,a:c,d:f,e:h,f:p,c:l,g:d,h:m};function _(O){O.j()}var x={a:g},b,w,E,C,T,I,R;this.setModule=O=>{t.setModule(mh,O)},this.getModule=()=>t.getModule(mh),this.instantiate=()=>(this.getModule().then(O=>WebAssembly.instantiate(O,x)).then(O=>{const P=O.exports;b=P.k,w=P.l,E=P.m,C=P.n,T=P.o,I=P.p,R=P.q,o=P.i,s(),_(P),e()}),this.ready=new Promise(O=>{e=O}).then(()=>{this.HEAP=o.buffer,this.malloc=w,this.free=R,this.create_decoder=b,this.send_setup=E,this.init_dsp=C,this.decode_packets=T,this.destroy_decoder=I}),this)}function _h(){return this._init=()=>new this._WASMAudioDecoderCommon().instantiate(this._EmscriptenWASM,this._module).then(t=>{this._common=t,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._firstPage=!0,this._inputLen=this._common.allocateTypedArray(1,Uint32Array),this._outputBufferPtr=this._common.allocateTypedArray(1,Uint32Array),this._channels=this._common.allocateTypedArray(1,Uint32Array),this._sampleRate=this._common.allocateTypedArray(1,Uint32Array),this._samplesDecoded=this._common.allocateTypedArray(1,Uint32Array);const e=128*2;this._errors=this._common.allocateTypedArray(e,Uint32Array),this._errorsLength=this._common.allocateTypedArray(1,Int32Array),this._frameNumber=0,this._inputBytes=0,this._outputSamples=0,this._decoder=this._common.wasm.create_decoder(this._input.ptr,this._inputLen.ptr,this._outputBufferPtr.ptr,this._channels.ptr,this._sampleRate.ptr,this._samplesDecoded.ptr,this._errors.ptr,this._errorsLength.ptr,e)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.wasm.destroy_decoder(this._decoder),this._common.free()},this.sendSetupHeader=t=>{this._input.buf.set(t),this._inputLen.buf[0]=t.length,this._common.wasm.send_setup(this._decoder,this._firstPage),this._firstPage=!1},this.initDsp=()=>{this._common.wasm.init_dsp(this._decoder)},this.decodePackets=t=>{let e=[],r=0,n=[];for(let i=0;i<t.length;i++){const a=t[i];this._input.buf.set(a),this._inputLen.buf[0]=a.length,this._common.wasm.decode_packets(this._decoder);const o=this._samplesDecoded.buf[0],s=[],c=new Uint32Array(this._common.wasm.HEAP,this._outputBufferPtr.buf[0],this._channels.buf[0]);for(let l=0;l<this._channels.buf[0];l++){const u=new Float32Array(o);o&&u.set(new Float32Array(this._common.wasm.HEAP,c[l],o)),s.push(u)}e.push(s),r+=o,this._frameNumber++,this._inputBytes+=a.length,this._outputSamples+=o;for(let l=0;l<this._errorsLength.buf;l+=2)n.push({message:this._common.codeToString(this._errors.buf[l])+" "+this._common.codeToString(this._errors.buf[l+1]),frameLength:a.length,frameNumber:this._frameNumber,inputBytes:this._inputBytes,outputSamples:this._outputSamples});this._errorsLength.buf[0]=0}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(n,e,this._channels.buf[0],r,this._sampleRate.buf[0],16)},this._isWebWorker=_h.isWebWorker,this._WASMAudioDecoderCommon=_h.WASMAudioDecoderCommon||tn,this._EmscriptenWASM=_h.EmscriptenWASM||mh,this._module=_h.module,this._inputSize=128*1024,this._ready=this._init(),this}const zT=Symbol();class RO{constructor(){this._onCodec=e=>{if(e!=="vorbis")throw new Error("@wasm-audio-decoders/ogg-vorbis does not support this codec "+e)},new tn,this._init(),this[zT](_h)}_init(){this._vorbisSetupInProgress=!0,this._beginningSampleOffset=void 0,this._codecParser=new $V("audio/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}[zT](e){if(this._decoder){const r=this._decoder;r.ready.then(()=>r.free())}this._decoder=new e,this._ready=this._decoder.ready}get ready(){return this._ready}async reset(){return this._init(),this._decoder.reset()}free(){this._decoder.free()}async decodeOggPages(e){const r=[];for(let a=0;a<e.length;a++){const o=e[a];if(this._vorbisSetupInProgress&&(o[H_][0]===1&&this._decoder.sendSetupHeader(o[H_]),o[Pp].length)){const s=o[Pp][0][GV];this._decoder.sendSetupHeader(s[Z2e]),this._decoder.sendSetupHeader(s[J2e]),this._decoder.initDsp(),this._vorbisSetupInProgress=!1}r.push(...o[Pp].map(s=>s[H_]))}const n=await this._decoder.decodePackets(r),i=e[e.length-1];if(e.length&&Number(i[Oc])>-1&&(this._beginningSampleOffset===void 0&&(this._beginningSampleOffset=i[Oc]-BigInt(i[HV])),i[VV])){const a=n.samplesDecoded-Number(i[Oc]);if(a>0){for(let o=0;o<n.channelData.length;o++)n.channelData[o]=n.channelData[o].subarray(0,n.samplesDecoded-a);n.samplesDecoded-=a}}return n}async decode(e){return this.decodeOggPages([...this._codecParser.parseChunk(e)])}async flush(){const e=this.decodeOggPages([...this._codecParser.flush()]);return await this.reset(),e}async decodeFile(e){const r=this.decodeOggPages([...this._codecParser.parseAll(e)]);return await this.reset(),r}}class tCe extends xV{constructor(e){super(e,"ogg-vorbis-decoder",_h,mh)}async sendSetupHeader(e){return this.postToDecoder("sendSetupHeader",e)}async initDsp(){return this.postToDecoder("initDsp")}async decodePackets(e){return this.postToDecoder("decodePackets",e)}}class rCe extends RO{constructor(){super(),super[zT](tCe)}async free(){super.free()}terminate(){this._decoder.terminate()}}Dd(RO,"OggVorbisDecoder");Dd(rCe,"OggVorbisDecoderWebWorker");function yh(t){function e(){}function r(w){throw w}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,yh.wasm||Object.defineProperty(yh,"wasm",{get:()=>String.raw`dynEncode01a36c6f98c83%y#6Ih-^*:8J#(3s/.*[v\z(oBMvm1I(&b?0=MPxA%T=} c0PN:QM_qA1k@6uk9F(Ac  )T=M]+aBc{!_#'.(hB\0E?s*i9)~Q6+=MlU<igW,$(mzq6"o1GwY$)(!j I,X_=M6JX>$F	M/=}WsF$9PsH03PWqC~}:ta/sdv[<x[0bRjzhqJ"'*034rv[B/9!rn5MEk5?7k,*drk4Vjooooal^=}MQ]Ql[g=M9	~3 9gGze	ulf	|Sot=z<h]9:#D3Le	[)hf?p9
Vn $%1rn:f+|;o:*W(J+vOb7<	[)oU89~3VN&vlGk&M6 6!^ vBL,Y+jLRekX\yF=1X1hQ^d@!G
 )+wyIOi;gR#'%fP S[Ec&0v\G-pSX-UQ<J#i"<o;6i|#mY	=$}
q_.}XixKQQK=MK8RM[@4(=M2 
'e3<&lw"j5i,{~OcWJXnrg/	lzdI~ j=Mv0A~DUn+mFiFU''^%np d)"~VYg}Q7"]eFZ0 v dc^i\	qd-|7{~UrV/wYF',nVcyi7e$ ~)&$d1G5S=M@=^=}QU:74t3?vs
A4e\WX2l<U{>f#pH5_r,=}7==T	qMa)_;T$k"b"l}"D:o5{6Nn?=M)~9* @kc$ne&^3/V"13H}oT{Z=j6_DKMw.tRcI!fuWwYYT I D=M5h=MtYn~e
ef1u)tpK*;;{Ot;pSo9<{	SS!<qVl>,(sU5-^SC%(%^}3I4}|
^h*{rzcTd<xOZ5?Lsk|L; -)rSXYWf{JA.pD LIoHI{/='+y3Mj:mP@,0	:>!\0%wAGi/XkK:PH_rrO8u=}8QR5y)P/!5Z#l;40R{W!U1{gTu&iF7zHTsCuPY$?*=Mq?N\d+iyzp(LvP~n:=kO~?Uh,a[SP,uNI<}:3; =@kj;@#G:W![>YyXvF?d!_o3)f(L~OM{^=Mu]6c$T@{I=M{d	=}8>LlUm(kx;Z+@XF@	h<FB+Q BG=hcWI
21R]r}^o'<<qNun%vu0lS% *5HV9O tn#heMKg=ML&67w+qEW+/M=}]z?H+'S [9j6%n38-1t)	,WGQ^P54wxv70FI,47-+Xdo6H=M.pU$7B)(=MO/k4,NHEzq,j[Ii[luBCsX{w+\;K@
M(Llvi?QP>fv;RMj\z-K{|xJt<a/}F|h_ Q%<g2(e3/m6Y/=s72r7 xIuhzY_1nf>Uc|zg}OU!%@mv9+Qc?'4c%%A'.Q0dSC%$p:(hLd<#h1X3.KqeH7u=q/<\iL$wGzEHY7RNBA8&.i? vch=DWmcl<|p7<#lsV3*5H]5Gqw,uhuJvJ?HL*,wB56T=}BWyM
[m)iM
e(78m}=w^kF#].'6"7*	U71\gkunH[[13.'5uCLBgaV3_vOqaUZ<-KsZ~\!^2^?*\RG+l)Df|]\x$4w9G AvpZX@@p	4z&j3=M=vgURWd/x+,ae*1vl
^m"@s# ;r[B- [a|>]6JHX@:{=}q!K "A=M=z*1z^5b*mZU ){
8ApG FE19bnX&>~1$5@a,'<i?2U;pw u f@2>y2LV^sY8,FQ<uDR.O lh%icU4Js|"VhejSqc5T^'l S#";R"sYY k 5wBYz
V9-[,\l
yh8@i1&q-b:|3d"YI_;UpCs]@D T\,"jif	hg> )[9),3=k@H79ywWB)*/#:%Ku3f@Z(M=M/}PCOCE?G(Mcp0YE$$IHXrpk%>n @-\?L}]Nqli3v3?r+4 )H}Q*8x(=M=}wf4FR!"\VT)jm8McFrH8[c@Jv
Tb!r~{%u3pC0wnP/{s5!f^"Qk5-Dh6 VGH#hdi\-3TE.[fLJ,KBF.Z*EV^
f#uY)PfZ	I2Ux4"BUR:eAAlD,[O0b){un\a?laP+ ?yw.3;+@>=}1vQ%n<_F!Z}"S');?LIH0#B#J=}"\?rp2q(=MYh x4_2gXP/_F|f*2 qcS
rQb.68W
gz**YbY,Z$ohdr #0^k\ umnxA5kmW,iL4aavw=M309WTn:-*bi%b	na
wz ~	/<4fP{}I1b=gM$7G=}sdP2UBeM&%T
5igee'"Ie$WK*E=M T	 oC7f*LBGWsnvw]0LQiK/	4tbU,2tppkJD7D8MLb?;$1\iJfAMCu)Ux}j4x%^q&]9F3+c60\7=My-)FF2g=}2H?.=MORl;U/ws:7p:ZL*wE#vShdJNqBJVAve7,@0PRC5a\}xr6poG_7dqwJ3|FKc+/N4J Vn=A,*=}o@b=MAf_JtSLI>Ix'=MCV^>V9-|CCt[
Fg7Wls,d%zjGI&)AeQ.:V$Po{]v,NXP8_#12u",4b"&Gz\g6&{cif5[=}#\e}~i~aN@v4Ll=}YEQ8_d*8Ma=M5nm'q\/+!4g,TN P0}[zZr)E;N$=ad;X\tI}TgrGu<rB}PB=}i5)Y.qSNaT,Bd'~h%tz{DW =M .ve6eRfhzLLRY"&z{4L.H41~dP lr*piz.a^/u?aelzZ>\=Hs1/=FeB{fU8gr4	 +@Y+1'{	1~F{M\5hL+;f4Rs++p\(KR{0;&e9l-Ez{D@Ct Hv#=1H/10X!L&[(h|g4Y~#'JdF4TbMSOr0pG]LUH<O"N+/#/]0DIH=Mk+v|.UK
F1c+$P7J>CKXN8G2g>}r.&Wq
6%!MU=}"Zj=}Y<upp6qf;	))%			^e	I!=MYNR@/mO(uWu!Vg5h8,Ar4Afge"Zz
i,kS%>6u
{rJ0qvHS8hmh<j
\r'mgB;9i{Rx+Tz
v[JZm[4}qR4f~ |195lK/=M0JNuMY4 #x|=>Z:nR{$* 2>%m QdP-
oJcNK)63W+nAWqs#F
6]c&:=}|<fe^	4#s^MY=M:uygmqErHY>?AXjb& 6yxH'+5pP*Gz7A)-	0BDmH +0GuRMGm/Y<go4H=}6-	s9u+,.0k5.&pz|Zdh<=!gaIC;|o~){P<F{De9?hB-
1WDPzjZ
aDM}O702?A,dOYTKm:hdUo}mwM!UxCGHFGfnk:e)ToHpcI#|&4qYwAE0x''=}D6j^p~Paw
N7~j:G H smm7-=}mi'p*K2V^%gg~l
o)k*cJ_ =MIj,KC}}Ps._ZN#G?UJejz(}g<68eK>$3s+]#[:J6@!U i{==}iU,m0cS$VN^7#v#I/Gu;0xNqJd-c;n	"QRsB|I }'C@/w+aAI2+1TOOz VTIn=}ga;v8\GTwaxh{dq_jJdGjyS{#*ST4~nvZmo	t]PJDwSTj%99{56#ySDvaw1j[28x8 EKv|Uhe(UYDSL_(4Ot=}w|8Hsfmc[DotPW]=}sKLV6kfx(&Azq1Q+j'A\BZd ;W*[$|ue&G{oaF=}C"|pzJ8D,eO2f:8O5\TFsP+#5[k0E{!W=M=Mx+G,?	htgw%uun/%=}PJKqCG=}S 7{8<<k e&f0&=}NhaT%5ldU|p &4^v2{h 7+xHdj@mh,f9P^"ewkWxW6?iCTN&pH5=M:dR,N:z4BZ@ 2it/FXOs0(R:zuw?d8\Q/9/p_2WGy3f8IV9I.\G =M9U+}J~@oq_>d1I=}=}I^p+k#ct(C=u+D=txtt>n*TPJz+9"2?]&KiNr/SLj{{OTd#{	c%ck{]j%61*fazd)O2%Px%ySc]uDG:$3&m=}J***1My61o*x~dScZj.=MeML\c>@f7~{
YQd0u&qaWg
1.{]1nne;DYRYjv-aR\=MVMANdYam+gHhI.@bLb%PPolIs,w/*%~@n4nN"-35<itQmJq'-:]R2yOIGY|1~n9\dQ~5fK\baozfnaZB:vn"glor1M%m_KJAkb)3L=q d]:}x--(=*fQ ]sFdmZ,^dH!7d=}6E
-/o=-P=MQDY\=}.s[rGJDob!S_pG	HT3ddvK[YMrcuOwPYM_n,%r\,rz%m:haMUNy=}vSbaPSNciFn;?]	si=}KS=}ahG|,f"'dN
3"A}U/.mIb5
mO [wm 3IL#W)_k4EKd%#4w: :;7wY|q7-
\o+V~QwD}KhD)djc0,};)jw3x|=I$xiKSL<m<o7q]o2
h=I)Mv*;v/oKE
FVV=}%ErYSHyG9*y9)!,5d/fV>6t
FtC5=xK	p=M(+~=M\:(5XV=MuS%$ik<d-o55o!Lt	+4LJfI:=}h\$8%?}^(;LG;1j#y:pQRE1WMG9uwG"}NfI%uzzoj)9C>ojy-Mw8,1B&!'!}u17HMm+	]oQp/<bC2|~dr<.:a4TCEmi3T7p#1_\mguiz$|LPzu][d=}+AqSc'u	81=}Y,2k#C.ea7G7D3l@xnN)]D!UgsMp9'B\#5Lkjy4[/R#In^PZm70]D\YRBA1F6."ff7J7!P=\Qzw%uUtI>_k!ORiX]GF	hbo	"_	'9M,Z*IOI&+1av]8u91Fc=M\#PCj&Y7TE:v&5I})S/ctvy.iu8I	>4vy%KiV@1 X3w,E
~FjWCGPcA,"s(\[1I8@nBK	tj5et~;d=M,?JuJ('>i7k:8g4HUHIh)H<OAJJ!}mW=M
zx=M/
N+v-I.'_Hhrr&% "uI%T%O vGmF7%2c=M;x/#g/}TIWtB(# I#Z3l*:P\J2M\jG=/qYT~FqnDRnd n,E?9+g){P :Omc|cSP{vD0aABA=3V,-sB/6W L\IhWB0z*/8Vu[flIG0=MFhmfB5lEPrsA"1n8x3'7-g&5F9	N[&WL{=}n=}fWI$1^1zF%Cd1
(JB~ok+]7<<2;,|Ry=}Cy<SgkAj,R]7YA7h?3(svpZWeWRG*
!N)SMk8AoUD
U^?AfF,N{+ILk=}|~T;V6iu=}UGa=Mh3	~c.}U7Z0@4f/<u/pk;8~0<XUnEgO#lO3:53j.6(To./s@LKt%#o3$'|.	iH/^*\;sySy]l~9wMnW}C,/&wP4nm62	jYhi)ljo/q9("{3-HDjIy2iVUS8O;QOPzYd?{(Z\f0'fm9^!62[UB+EP_v9pdp0],aVVT$#6@La:[T%xqADr#~=,BZ1@w;BH>,\gu+z#W:xHtLwNeG&w0A	Nhg[JK(M/o=}H>{N-pLG~%S|&48~3'tG90xDj0-6'"JbSBn%wf#i&=wC2t'!@m'qa$UjKkD2 Y$nNl bB2:Pbb!4!0Pi[O4*K1)Ek=Mgh,~p_ynTr_	0Zo&a%{g"+ jjvw]rdGqnxp<^L* O1LjK=">g':S>BqAsDs~KZ\I{$S6Ke am+Tfco~n_?zyGYNK]gvHb)'5Idj>W:ie=}kJ=}(+%9g?d(xo7s&Kl"zYkv#mO*sGR@3'M3.BB]=a~SQ9,x!@u50*! y!pVWvL4rIP26j!o-<ou@;|Y1H\t38n~;:qB@uJ>lQ5 
*j$^r\ \\Ml@1k+2(g+Y:X5%ji^u| QbO^[)t+J
%jfM@V2Mx9V8Na)4f#Tps!KPSMWq5#AJ'gdkza)IK6'Mj=M<TnVi=M&6hO]M6o
&C^X,nI]^zdIQHm5b 96i0}A+
Rli3^]R6iv)^\^UlPc"ZnGQm*L\@a	w@@Zr&b}5lr,uTfG?"
>]]|C*h&aX_[jz|#(BN \}Ba&WnG$GEC=}G9$p1A.\j=MV'Ns5Dh{+2-'U,sK-*uY(XXXn yF/EOmE@vqR(QLW;\bnl=M<aMUVU?{2^>Se[cqP*_kaUpv|fN^:7.6x7\<$s=M;t@d<Rz[l%m/HpyS;;g"s;=d 2STicQ.b/3i3o8uCj]$xOh.s~xUw3ZIFBs;!e-dej L"Rejj{ejjWyzbuiW202U6=}Ge3>_MR^ljs-g"lb]D_Ma dZa ?%JSy'tUDdM /W/<UL-t$tM-	"*RX_hJ2R"X LWofE4a	K)@e-n@;r\c$YNxHL)pI"T"H	7Io#'+5|ic@;MV7mxytF[8Y@(KlXSl+7 :=}r=}2/	"ur;r;zj1Boi4x	?P6,>9|,9QHf9UGoA)\|ZWB4i)VUJn{CQp{\3
WJ1"\K"5liI bD\F)_jk)"~p3]5(n5kY%zaTd=]V,XAG?
/$dX-Iq.i9hx;saetlWs+}]g.m-(-dJkI%i-j<3=sKDB*xgI&ATf+k6s^^H!x@mR0Yk4Q96}vO(G~qWrdS1]('+K<;-!5Fo@e+'.d.+lPrn7k*E(f*sIHLy}J4Di.}P{B0]&[6<xxrEa=MbKN|v+<Wugb:as@r< "kDlBX/n<7s-l|'d#[O">~\'K>^	0KDVQJ,Q'^x,YhuU=M"Ri@=Y8uL DEynV	(uMDphKS~Ge4pr#V.bI}C)K6VO*i@d7QHAgL-b4IH@Zo=}yK?GE:uD&&[hw:z|>Gmz ^4]XF	yWL Y 63t@-(\*vIHy%B=}kG=M[N9r.=62- N(Yd?%B=M(#>O]9=}Ji1z6.~C=}3C)!jSnS\ux<=]Qf*x &LJc2YfE7#?:h^..=M\/@ Yb\ua7vfopb_&rzlj$YNaf.p,&1IY=}x{]%zT6C1lPZ[1 +WzzNp!n!bK Y=e+wv\J>0?cc6A_dvrN2k<67z,	YHxDxZW>>(8),/>2:Gj*&"fDT50iV%:s88^V_|P~)Z
hKB9c/Zg&=J"hLeLK0nm~%Y D6[sno|de<a3I=}n0lp	'&qD,@q}bV&53_FzOm>qW%antx+~@'x0^w)WSoiFq<DNO%9Sro!U6^w^=}57=ifd:Awp khf/axr]sFWCc}h~1jly	iO1SZPoV# qo;j3w}4wLjgfO0n-? gi@HP-iU7 K_<UnHL5)[gR.^sI7\}~J1paQ,wJS.t/$bg9*[Aujr$cwoU{-Zn<77nyZr>Mj&aj3h<U"p)%;e;^0!8&Ve'=MS_Zv=2=k)U>'(]u?JMlkh]hmVzg[]U/Py045;:-6ce0CH=MTa*;6;mm7d,Wr!'CfEU6$?y^	+=M<7>9eXe"i|~i
=(zuRh|L
fcar@PNl@0lTV.P;e3OT]w<Q06lN5f|}IlNKLP60g5&tLK9D@VG~%cv
GDKfs /CXI @=0!K<>W-4	G{)L8?BPlrnya8_jGy./A;@F~R\g=V0:hF=M]{3 p<t? J(2X}}qXew}56vvn	v_ntO-t~d(6!Zhr/'u=}mRU+9r NtD\Gb0]utZk?<>L{Rhrdg_'gfUS 1jSJQ$=M_T_D+'J86A~)Bev>0Oj%NVhd4Q+BU"X Ba.'}_A17HDJvwS2%M3qC2	9=}] gs sl{ _K[e$xScBz,C6!r]?;f&	^a?]0B_b1oXh&"GsR
H Q}i7at e o=8	g(N Z\"7lKorvG7a*&<G44kDF.?64/{rzL0sZJN-6-_pr/[F](LJ|5(0k=/h]0h?=M
SHn];9XTpq=}gsK9X+n@5)'q@ /#(aVUo:r<ZrH}:_%&orI^smj7=M^M!d~~&h/ y3#'nEhs
)(q;LbaH	|d8D3MoXaF%E	#^[)O_#c	[Sl,@|r6@V[;r7$S#G S92eD?Mf.Y&S3s>tm+it DO'GJ9lR.33=.:oE>K<?m1q=MUU80Kx XQ3:II38<J%0q9P$_IF?-ud.hv$_GT43]Ttso^svtI\ZIn]x tR)xI(z?*'l5}Uyf%=_dR2^br$0$=:Jc@z>gNV1hQ=Qf4-8X,wm5*T8*$cmChSMrpp] U31l;s),YW~>Ghchk)dQGb%MlKj=}k:#H3\N>= 	U:.c9FS=}r\N1k."TW|;ZV]:0| C;\Y B~ #1bB|jj#_5 nZse$D_xxiST 4AkT=MfRG3\NQFN }?vX>bogV l2N9o/gK~Xh#|~+Ct~Ikbi3gK(5DVtWoX]m|F+.\OswR]6	 3_@bXT;xUq=Mq&O &l(e&J/
=}ZRTOjY4@U{\h'
h!LyOgyM0m|tkL2U~QoyT$]K\i)(Qe8Ov\GK)I-6qE]S5t91^ M@~ds=M_3uun\-=}X:i}}Ct:YU70jl#nO%6Nz1A(ARO ;5	a:N!0x*ljZIj59X)<o			9yW1j+)*p+&98MxDMHB6|T/FR-Hi=}VtIqXawB?loS)K&K.qT=M:4Bp=NstVM"a%*WqhoO3n;fFK-lg&JE+v=Q(6O+XTj8p_C;7/,|p8&QZ*.XY(.7M8|Z}CZvC;TK#Cw/erB4o3^!x?.K@MtF2/T=MY1-aF=_o% A_	uxO48%@z$0k-Hbt)tV2m/x_ ;<Asvkx7N5aFHz6^](l	_M/#y4<BN"Qu)K>Z~|8zLEjmr=Bus~ Fdcz]C)qy[Vox6W-40$Dot;V=$3dC2eiW[)a_w/Z,@_L<,[P-w=M
f'.i3>IT,=M__4#'D T}gF1t5WogD+39c,^Q=M:D
0ZxR1w1..=~5e)RivKBal!%%|~?uDx{N!ihCSxKVvQM"3-Lg#5-b,M{SJIo^z7R	EwHHN44D 4Mqp&j		=^=HON](: &h/7<I-)!P[6~gGhfI Rq-)N&Gx!5NG(W',&U$=}5{w#dJRw=}m}^
=eBtKbzur-"MFm6vt0sMUc4fT*f6MW3Y=M)hIW;gtk i	kkm/#1%dF XtC	|VA4'9%	m&9}UVqli:wS\aYfF\aUU-S'-
Z:rgK2<.}3hC7."v?PU2K,F9\K 	0.DEq-:m74F*^^o#O	3_|!vg'Sh-Py 5YIQxK#P4Kyw s*C@d*#SGK~\HMzL50S-L#UBN3tETpVt!CfFJ!"7$TO~Sw&|=M_	L\&=MD|>wkJ
zJ(ZAFJl-'gljAEN<-tJ=M[3*zn#8	]qP?Cnn=M0us x2avP^c=M|1W9
-?eG-)dnRP{!J[zM8zy(^mbp%7j[~R;&x^^+tk9w?#o"bjs\xf X'~S qiX[PTagSUNKeZXh3wX[*m	!(M+Zled}!"xB9BopJ":dUH*K{HhSAU@7<t/g*ywj
Wb:b[=}w:EhQ9W6zvuX/RDS-r!ZKCb=W!RUsf(V@z<H@('>([Z# )0z|F G{+7e	=}!.kg>X<}Wj%G@G|1Ee,*$x0g,t$4s;GL.@};F*=}o/jl=My[@'n?HQ9O(nk%9OU)k%O,H(D389}rbSOgdU{S<0\oc0dr3WXz=i_9mwvG{(Hn~*4^|*+K+	5
.wh/n';
YncK4u}rt:-/snKEi	405I*?EV*p+pNxH]VnoTM8x<n|llI- { D:]5\I3(0"i4U/ZcE:KXUVEQ4^z&*E|=MA:S(LiKoj%/YFu{2Xl2$R/	PXof?dyS3n8(Q5{
 mW~k'>Cq_H|Pz}ZS9yA?4OIOioB&Wl:x<ayaP3Dr:o&p=c!KQCKe9f	!1;fje<hqNYCp#'c(yCG?l{F8q)&!^QZYPA*f'C~Yv3'twyNxyQ%p\wG]mHQo:9EX|1qM@a4+[7drXuXm0}\5E3_70[cfQ	VJxn!\ulN-JmVg37D#\FxH=MnT~FVL*E-n#tzQl(E2K7&.+%MRyj-:(X#=M@l%j% 3G{9+z,{eZe+$[YT+[1f
2@5gi7;Ki_t8M%ek U08y7NmE7FoFH.Ui3K9VTr!!WIMvHD8](I	_CYG $$
JE~9-#dpR_jE].]bsPbY"y5HmdoKx*1tuS<RTewh|P;3e}6lhh6O=Mj,AWx^yyt5.;MGd8EiYBR$ 4+U~rAo{2TA3g6$1	mBg}<Qc;|"k nMwG\Pm7m12 s#s=}#'SaNh>_rvupC)]'[,	?=b\Ff,y%wS_+1VVx[EA6F5R
{d-R;&2,N32)QT {:~Vjdj1mAs&j=}bi_zL/](Fu(4&| >j*9* &&1mcaFCU"i *?		'+:<k#PZ +5xd/)+?~Lwzc;9Xro3
$Qh
;=}c Oe?kFPotT1LN{[Tc :RmkV /R>h=MNK'54w+w2v({),ETesuf;)=M>[8%HKWU9Rc/EvJYN%{9:~2o6]Dw4IR_.WsBTFn]@Q=BR#L"LT*NiB$,{9?%n)J%:
0,?jVNIMJJx%9Koc	3*4^O."cplh(SZ+ovhdejvy=	}=}<w]bU1Lw-02C@D=}M.qJP!TF*x8|kISBV~^;)83=M-y&a_;;A{D\z0,m4qRVYBFFdbVR*G$=M	qLejbG_>%+@cK%%+bO=}JZqN81|2?AQXl%'E>jc1 \ 9H]7 >>Gf0I873D]mr'[h7dQ.hT5 "	AhN=}2
sh5.hHgNhPs4Kp%'X\XsYAE^G))=}<T+D..jSb,HAJc~t|r#HaVjhHz>?^+*=MFRTT[Ff9Cs~w?AJMTR4
1j<1h&g,RM2Vlz  p(}J>tkJ"~3*"P_#7<4OT2r[UjfC:T14
*DgBMfo|ie;^]	 /\mm^I9l0O[D-N<+}yL*?$=}G"x&pBT?a?,S	^p'y(h\5Q),7N)J%KJ%WiD=>=M
2jr60;ibC&iREuYL_>"8[L#2:+"Ax[vkwN,-% /j<
=}^C|,p[?g=Miz]>YdsB$G-Ti0pIjY9c+2Dw'7Zd?+D\@z]E=ML$!4z=}nJl38i&b \gxxsU^;-m}r09_>N~7)3rc<Qwhb\?Aih#e,9 e(y;bDz*=M)C]&+nO n/Bmd%aK/ wZK8n!%m6'lHM8D3Z~{'Rt=t={tEjpa52<"a?3AuIL5IxIWn=}Z=MtcRt}GKaGH*4b5p22wC5[k02GQXD0:P=M
'9O_n8K[Sg='j282H2\-Q]{)=M tJQy=}Yj\=M 2<v0ha*}[Fr%{ziMs @^|_[yvuo4wocujT{t4wlsOZw)H{k>FoOu&;f) [2J(Zg' 8dFUo(AnR_u3b._rm:kU
UEhrj>3jW?VtGD3_\]bl2
![m<L]!;A{EyY:cwB0E""Zm*;q	krJ!C}he
V^2"s4 ,!/^m '#:GP C~^vz^i7IQ#UKo'8);-JD;CsY %-xo&vYKawd_g{=.nBxyFf-b=Ml-VV(A/\Wt'SM.2ShFkU_?[JIt?W{34A b8)D)<L,o{6cK={mR;
rc>zl93I1	=C=MXJx:i2JIt_k=}Lg/ ZIq9Ktl+B0O=Mb<]=}hG2=}dj9dSi ij/}Xd7] #W=Gfayjn=}:.26)8NEv>E6zG4p$/[|w;=erdQ4CA\=I!$~
48-JOG{}D5{NEJZC=}*SC3qa3/U|K<(4v8ptmf%E-(9o)H-mSNw^QFq 1]wJ<\-Wu6]R-%I3	nw,w!Ma A	t*=Wx-"SXZJUz]s>HNU 1igv[8GCUnL<TI2Fz/Aq_N=M/2@=}AwsGbacp7+RY(5#>;Kn'(YM(PDw15y4,<^YL\_'Tqk!p3)y)1jRinvZ-,zm,kHW 9CD4YL*\vKlHMWxY8PTECr>g-feGS_~zSzS}Y\MO3p3"BG!+o=MPyQ<9=MT) [ lE^dj\.[Ym |zpmJ5M-8-SRl%MEa5\Gws%~Hl&k<n=MLHxF0E~\[tNp'{g-%,#y]6[QRB:@&VOS<S
.W{5%*&P{r+o
{=}%G+0&P{2-{_=}d=}kb&4%DpN {^zqg.F-!$j4-89o<49Ky	GU&-)	=}#Ih#apkcqMW#LxW_>#Jrl#a	Q2;#@N8!@MD/!!Ay"bvP~V,N>"	RY"xpa]|?<dY"{E#YY=}n7m)]
JgZoL)pb	 E=}	7DIb8s3	Y=M9J~P$B="JU[~5.FN\"YM\yFt+
m'b<:h\@X TPq;y
"bR\>.lap6cnrq=}{[Ol!1("l&N{h7faz4-a qcU]g_Q.	]r:zca. '-3/yBw0j'9K|6 v2w4PFayDy;=}>EE Pz#<,@y! ]   2ct qAHM&Pe1!XOu^J82K8Ke]Fw}.Z]?S>ys[>UhnBpR*@h@7c)-I8w|&MM7NF$72&a.1n3B6K=k4ND[Ag^\MD_8MfT>b'[Lu^[3N]v(7UHe3(sQf+sR\RirpuC&ctJ+=}.H)XTGwcMK;F+YHQQRJNX;sqK^ >cy -(Dsbx:($E3Vz0QYwj:^vf9:5\K\[!P~_~wKGs6enn(Q+ {6j1.[mtp@=}'D2LeG_wcwKCThB8#u_UnIjZI3K4t7:<R\Z'FoEqWX:PaGPZ[B3fCd=}8\-IW-aJh	=M[gf1X3D!;-DOx}{7cH;|Lzi 84%,L}.9'=	#d	kDpmU>N	c/7aT>i8sp	k;JAf-o=}K2$ed*>yIeT.E^,~q$Gdb@QI
)"rAZm??(IK^	JK): ,'LHh8RkX?W<NYPX<:=MsQiw(N,>%x|wEa)"Px@Ynz=\LuM"* x) P]&Fu
ykw_%+'O?{*X+@k7l74
)"x}W~~EuVQB*L=}_V/32eg<&i&iivkhFMFW~SRZ$qt>0)k|$Nsc_*f>+5$u+).f+[/uk<A~\gC(/XOk9'wMjcK@7iI;i Z<)aC2]8d8ax.i4;mM_&}hMswI1?eNo*("/fTX?Z&=m1iRz<k*O\1?A{ES{wg\[b=}yb5UpcQJh=^YsZ
(t=:8)6{:PSatt;>8mocA{v)4c^?gC&7=}Rh;YTo^r6=}3Vbs,3J[ht5UX$.?\Sl~WpPd]*O8Sr<)C7BjD^CHJ*?{>E{FWZ?\K+0Hdzr#*YD)eE'uM|~_%;dJw4Z(z,|=M&| Rc hMb.)|.+J|j+oDKF8>pUIWH%wR$H=MYv[f5Rj{Obt 
&%MvMU@m1YA;B2diDD4x:NW.s-OBaKB>\su=}C:'?>zrz%Cs:$m }es&y;fbcf.E.r52}i"3ccm%	#hj::g"9Be[!62nAIO-n#U/Ei!w~Y~Y~YMuz}|fgdBNg%s oMbYt%Ofh	f5Oo(h=M-2w+4e$P@HGf(N3LKCos=M*	xYw?K+])DKgr*]BFI'F%%Zm*Ob&D
*@n+O^s!|>s(=}AQgKar^f)?!u_Ri=iif L!V jvw=Mux<nMM=TY!9098h2t$2:b2jq qoi||OLwU3+]T0	7bn&a=}G	]]Qq@1] <HX ,=[t%po?~qc}Y}98ibp^p p	}{W~xwx7v(s|KVg6
1~TG8+*qY/f~WX7[&T)u~lVJ E#-5;@H'BOr,($KC/ @b?%=}z]ZF0rW7!n&me:GO 3?zhAGQoOjs	L;y~llq{Wwi-erHrR=}.
+[13L8-58zmlP77AC6I+H~"6vm6J$s4guL- gdc=|xT*g6E7p)_rqo"	zX4.$3Whwqb0
*l(r>9Y]}^	zLNrP=9.b|o}r,mQ0
Yt?2 : azp}8?N1T0kaV
Q| >6_9 
{,@_:9K^	,_2}iErC=MT=M+Duy1[hr=})6udq7:pNI_y ZP@\xW|YHN r{paGn}r/]\F4OC{m"i] lT=VT 9'Wb> hF*j-]5$6Q}v?n{B[& *Gs=M* xg}.iA	A0:J5A'stn,5\k6,=M+N'ksmQ-v1.H*:5c(e<mEce{c:JU(+scz-_
*$R+ 3j;Zl5-+oF+mF<gu<%/cJ@g=k?z6KgH-l]+[zcCwAm:9JMAw'o#;C3Sj2w\N<p H'MqY0&xv)],>a$=Mv|z',z"qO?@}}1l	ZY=}-*("6S">|BL6OW=MvU\P%Yq=}?ao=G*%rX*^NbIq@o=}_4	!O"!4'?G]<4}P6,h,\JJ{JEDS	Dg}]DdKXMIK'AZmE-}0udxlk}'U[
ZO?aj|>? %mhG +0w$L	+}h'Y$c'10+qtd}2An^q&V}Q>G1
xIqKsw5s=
lA<NZB Dmq q}P5u7_LH1QV'BaPKo'9n^Ua&i5^r	:J"L:*o T& <2yv=}@	|!=M}{^q]N*yl
&m2$sy| o|uXWIT&r_8dqsddq=}4v-nMQ,0n8>^]TvEn?D(}Y}<}]n)vwmsY3" *IQ(|7A6/<.IZOj>I)qftMp,
!xJIdKQ:e1Qt $
Lb<Wu<nza'edClE!.y2GYf2^4J&58eCR#:hv&l0w 	 <uGb ?)7eRr95pE\w
M*7SLFM6GXr}']W6f#wUCPDR<d<X&,V-kN<1a-*_
M+g=>%yeiaT=;X+21}Gi	],7d;i}%0Z8rF;=aYC(]wF#*#wb8MQu[3l[Ml=M!QVK?fI|sn+53aCECJJl&{PpEgkoiW_i@W#d{KQa!#MAws=MwpF/QduAB	6){ZH4m
o6<<o#_QAi V~T%$sq,t8d/zbS;#s$7m 7o(lWlnA0avip?UXTu|2rn la??Wu|q7]=}AabPZ I93t!~5,:p
)A:QVMHv&
5%iF\
*kDw=G~o!3zrC BX8 &^p=}&"8Z8Q29e=\\o^A*]f%YhQr<
a=}_Kg!xiH(D*Jh,+3+MK+(vmZvD0VMl"]V^^+N]QRzg$bFV)=M=}Z_D$aq2 fVOHT=}NED+{bm64+<Gh%2F'Mc}UhO.OjD15BL2~N~4.4Ii/Kl=}' |9bi^}b;g1F,2<="h
2R.W'#D,J9#<TxKLg=MSnzMdaYZq}WcgT	~MA74:hL~0r}ZI-l.u6ezZc[Zw0AOZt4Tv/Tz=xI.b%{1wtw	{O{{~c7
0P@y**:I1sEk/w+"L,aCae q@C)~BsFaqBoZLDay-?+hC&BTMv+HqIW=^ =MFBXs0CZa=voWq
	gL4|6bP,.GGHsZ8\NEazzs\O_sTY\.y=d/iXCzZy$QFQg:]DaR@{jq'J"sCr4~mGr&U
4{ 6\l&g#wv=60{#|(@F   coKBBNP/QgsD
67OO0L$BtR)XH"zr:y|TX/4C?ORcz:7n)t.$Q)UX| .hX0O
2*EV)B"h]79aLsmQ1<H@*i~fa~p _%).hV|"
gIY !q=}T8=v!NmHL7YWu1qm\/Li<BXi}DNq\PME',b8vSXs(6Lx9Dr)et/hF~jG(\y_?
BWW&qYO~Y=T~Y~Y~Y6]/rLx!]@ dwz=MJiA,	v<lB(	nl=MyTg6LG6\H7XwvPWv=kFOnkimlynkqmlnkdmltn?kl?m?l|?nkhmlxnkpmlnkfmlvn_kn_m_l~_nkjmlznkrm=}<kI@<o	k9U?8O	4,6<6(80v@v&Tulypkqq2Tqrw1aJ?\"_;8p/u	LA	 o7@
m9	p,>|^J(RT~:{LH<@{|8O=M}[uA0$i
_tqMuw5QIXLP\=Mqa'4A-Mj=\xK4@vFXkO7:~!mF	S1O
;p	W,=M	>>9	+@~=}	^Fy^}vA "zrdw*}^1q=
?Ov?)Vrf\=MMIyw8}Rxf\ZLz^B3dfUkN58UIm "\bU$*Y&HZ{AtZ~@]]\qEAr\]h"]!9fB[  b^D&Z&h(dB:tbWSUH'J[=MYLHA]!^o%2DU2;D'e
!SFf3:;&#?f=ofDK#M#O'QR08P	(m9pxXR$\&2z%WZ$I&}$X*T}_'1=}}c xd_x^C}"Q3v0d91/ 8DHoiEsUKO0z,=}c.*)q3P]2c\FTT'#9Z*1x{af=}<A|<aI	9f[W\HX=}^$=tHMkcDC!$s
q I(S^C:y3qs*Kcc~c}e  '}"S&:*$ba7~_kYm53 'fvfwE cQLC $^0%&19;e'"'B2zMA7
d)Nl'=}d;yQ[?mSL+q4-LEX.aM>=}{M+%6AJN'MT7 B75	n[qD\?>Iz
Ej@E v]$^$P8@Nl9=MO z
Xqh)mWH ZH~~i{v6HjkRU)8=1z4w
 BPYrU~\Lmfzs84cR>
$yF#ec;%Ay 4~GgT|t'&rd{S=}E"vU/!pj}2i)4,M5O5Jj~}29:]-^Tak~S'75bzS a"M[Q@MD)LNsJj}|[|Q^
M^;Uq[~NR4b4"6W]4 sS=#S]3L4,;C}['V)l@>t=MvT0]VcE"98/ U<Z"fc]0hccC	x2CN&John5d!Ik	GfYdy^~V7r0=M|7Wr !~Bj!=}'Iw m9]<@]1HU)C]ZHU_5#I3vD,tnKr7-qO055P<nix1x F!B*4px=MuaW (_+/S[a~EI;3/9xg9xN?W8>
o:5zwYx iPM=vk:0(Lgi@GRBH?:VMY O;*N@=#fWjs9hH7YdH=M!~F1E%xGtMIKp=}+Pg#*#y|rCf{T+b,csp|2.aCsVJ. 9_lgG3OC%%_#3%Y'{}HZVkn.YVO?W1[g;SXi=}B<uQ(oJXcGM&]:	=1[pnwI%
ekDRPnG[+U?<N38yKbUwF*xHE1eY0yR *Q7!&\BTnP<_p	_'Pe]_yfZ.z5667[5(%*B6nUHta[boR-|z-7b1iS:"*2;9~AI{RZ^bkZEs|7^,a>@ #
VlY/b~Y~/V0{q)rwH4
s)h>%i=}rG}9ei]Yw.)=M1%rBEk0?UE8Z~S:{BjOR.ik
7FUC5umO}IFj"=;=}id@J%P8jbQ!	"6WW[PgUtT/W)F.W?8eAIG_X5N
L1R]r^7e:J*GOsSbSA	%d dbf."JpJKPB(-Fl=O(Y-b~LK75G?!5:JC5iQdnR)%W |>ktP71=}<?=7UV'(XiF!%0.jx.w'v.kE=+02VIeZ(@wB,C90{OoRoT @j>Sknfg2U\;n6tpcuI@jN|zvi>6tJ4)}y^A("^
]6<
h@dWj=MxvusB)tH!6J8'6:HS6/*99'vM(
:<cr:ygt
V9AhS[R'.7E[2y-OH42V00aHO
f;7dD7'@%%dos7!~+\ Jc}~W
Ng	k f* sfhIai.tXq6
=TPCMsh@V;|qDq\(r?s,>W\k"1O#aLy}V'"~E*jJ|Ey))i#s}p,y-O{ZEx%]jc?o{x=}vf'0=M(uo3"O]{=v;R:<6t,w64@x1vd{\j3) u-TOT
m2f\?N*|t[Fs
3vW<JLV2K4+s"g!jW"uwu*	vopQ=Kt.UA~~&Kp]NNr	@
M1o~$S=}A
}C%C#|Y~~Y~QV~Y~YXA_EJ~t~i#e_z}k{Oja9sPeT'%h\[T#GqH:5>V8c)[H
5k=}ku
jtKf~t6.e+=M6.<#T!K:N._va^bt<m>CJ>fM]UDuYn'(x mbCf>:=MU@w{pzAk_fQ7^"w}W!6|I%_))Ra%(B93u!Ag2hq9h 
Y6S	NW7bTLvp	v8Bmb,u/t01ez?JOa{4hEt@;9QV!USdsV~~Y0~Y~|V~<;E6rhH=MzL~~u#G5(>7,=MD\eQ3ZlUyG=U:6#zVn9/V}=}e$;Tcu7.Q4r=hEX:44LIq{}idI o\wp=MM\&QOZw|X)GkCi}ME[5u0sdL*|=
@yt2N>9BE/P;&~o)ZT4 fF@K^vc(~B? )%_Nb$Qt2!6S2,P@"/'(dA*YK2>M':XA%b8yK
y3B)AZg+Vdq2j@'3|-,aK]&*=M$
9'{HC(@&@TS R@>/3)87,amd-V Vn-/H)pna1=Mgy|QcTqavYY:yXeKA^F	9Ud+]_% F;iY~Y~Y<}Yz}q~YP<GrZUg) 6yil1_4-_AF59B7&><QiVM%%H,1}~G0F]En@Bsg]j	DoiGy72=MiaW>T9WZnfO\YH/|}+u!xG6N-??uN8]YeqDMpJS1uav23rA^0r3$t+ga*s^'fDm@6?k"d!B.?0"-	iT9w-A=.
Chz,<v6H6%o<=85iz<=
%Xk
'@(gVmqUm
)qlfB3rYa/XI=V(Or~?&-4F;np.H7*%8tq0nK $=}[%wMhRLIx*y 8=M\{,AxDUE1T7yy1J$GU!Sn>Mo>l	,	Bue}*Y)vq(7_&	3!X&BG"@XV.THRe z0FsyfJWZ:rafU.
!#w'3#U&ktT Er});vbek;<f@QB%CZ|[j/-L;m.F[-Aa#OcS#N_gO+% Q+6&:,;_XVo28hO	+LN='!7SV%jW%7L'H5E-,*	 &\-.aW74W63|ZfLR{@0{7P6zJ?AfV; qQM
T.8)a	4kURaqL9V'ho)::	_
$\lSC>q32(#o!ki+$O% >C%7[|w@c*{/v;=m*pL53nef1>VdUq'^<:3rJ|7UGer{!LI=MKd08V?d2#W.'i}9+$.m,zV4S\_H)$3^&%j-#f"V60J=}(FS\a%?A~]f<(y{ji$+*[}e>0;Jd(c}!sUQ*h>o/=}$-.]r#b%Se<B;kKRv(/l^z$t'?r#zv$]J.g;>Jx^KXm<Dy-C[CT4&F$~6G~1%j=MRM^!4zbRd-oC{]6r=MA}U\6_5,dL<wX3XXgdl)$jvu!>5@
q4+Q\7N1@^lV+<^,5yW8GQ\E/|GL]/TE_\4g5<4\ky V"6:\>RX4&Ib_>,=uopVolfoY/OX(g7q<qApP 4?77_xr}Rze V\*yy[mC"1>3p7,4 (q	4uC
2i'>:uxyCF^a-QG2Gt\b rueA8wp/XIW	=a*!VE=MZ;	BG
Kq=}RuL <(~OC4=MZK19G|]d0Nu"mxs2as=]c oEN~0U*2d "7j0f,xG%
My2\hiKs	pR<N$=}Q(}}V<1aK.bm({B+;*x8Ta"'87 )5{nOs*9;pyK:Jm{ /P	[,1oYk&_S~@X_.sP4*lD+E%3qW%jjr.gJ4k9L7@&aw\.WjSg4yj/r
 v(x?1p<;<(VS	<&\z\spfn[ 9p=3#6.2x?#}[cMToCT'42/9_;i*gM/h;4 8&ob+hpT[H$h!kf!pn%e	Dc;F[Wi#$H9hjFHpUdwpIlHfDL&5e2{x ,Tf)3fdS=McVk'$(2@Pu'dVh.::9%%?mZe=MbC/r){gz&F	ff[ qp#I~y?=MS=-^CI	9y/?:W^n+h8M'MJ5\55eJlYm9{z6u(K' nAo5X+T&4LtB<^IfS!y&,@(|ImeCLh@HiY28^7\q[<H/=}(
2&AAVUCn?K~PrH^MV-MZxF?-6n
k=M6LdX|IIiWd=}=P86"zswB:dK"*a|el{Jpc7H0Y O{+~xSxwbvx#~=M%sXB,;V{B\3*^8[T<*<BC-&StF'EyW1g~cT*,jS!D|?Vvcr
i	^|[-:QKnjKE-[#-x*T&-3W.su/v-h/'hRB.B_c"he$ w=MV]:'Sps=}Wm=7"fyx,+)8~c%$+^?Dl9pS)bS?-$SO=}3/Jp)'6yu~9SB4w6X,r-)Z37 , vR8sc}1ow._UIZ_eLl=}h=Mt(LM=M] {;Yrut%[E,y JAs-*yK&}v/v<+H(vr@4z&e|<dd(#E[RqodF] qf\4Kg2d^qi[8	xH?qf}{g2/| T.
#@~SY~Y~Y~Y~Y]
AV3O?OBq#c!cdK:"sgB5c'_p:n"rAb,*2rkgoemiq1
B#3K[GW/?%5M]IY1A$4L\HX0@bS[W?E-=}IYaT<H0@FV^Z	R{\)iJ	7yWoQB"bE$P

jbu.GZ0pP ZWIL& jcdbgY =.rL_"bA|#7UYT8f~Z/bBT_y>yt^3_LSX!zdxRv _i8bV |KmmmEE}C"""M9:F<S8MVVVIIc:~\/;Kxyy $zU|mY~yU~~|YR1)Yb[!o|Mc @%V=}AHOnn!C(jdueJ	
LNU11Pf~eo[n, _=M)355aD,*eg*		LU-~-o1H\< _5~i\
#;~}vI$])H=
/Zn49ZjlB<&,_F=}PiGF-@n-jo]~]L =)+Y.9IY*<(T_E5NPg=M!HPJnUywVX{ob5 \J
@%qW+q|nI.V3R#ahm^eOe?FF@r~,5tFZ.:rKT*Yi^gu=}g	Pfi=}mQT0AT
k>:g&|e"U[J&qUV;}Wce9v{&$<p[uO
uy?6F &0
{<UJ.2rLV:1qm[w=}w@f i)QX@AX
l;2{m-\J>'_Js=}/{~YXZpY><~Yaw5(Vl[o$Mn%7:s1s=2 >8pf!pWFxn*	ji)8.v,_LpR4uL*wA	Zf?x{"kB>8%ZE8A}Ya2IwlMkhG=MB--x{ /]=}e~Kj=M1eyGfb(Mb]^=M'O;?<ojluqmh=Mp xN4J^-as)hrh,&9a&=E|u-4qNXzDxYjRwn@Xdpq(b [rjJXVVtPxRWluAte'wV;C#$)$oE9p@nOl}|6=FPt/g5~yl?v I]j@qe;'pNfvS/f
;$'Rxi.5vPI}fW?I0v=}J+(i/DTioh/h>j1vTi oj3,_28H2XhpNrV -&S'#0&=MYf{^A
z|!PjQ|X^
z{@: 
z {: 
z{p. z|p> 
m* TlQ|8^
{x( B{x0 |x8 B|x@ 
:::::: ~ARX)XO{nA


	

VVVVVVVV:$l	U6DnUz ss tt uu vv ww xx yy z
#{'	{+I{/{3|7	)BY)$WI_r?pro:"l!|*'(
)jgh
iJ*4u#q0yURnR\ArU2lAURnVrpAV2g2,hR .*ir0jj u*u:2uJruZvjvzY~2vrv9C%J"W#+*a+2,:a,B-:Ja-ZR.zZa.b/ja/r0za01:a1Z2za2k*bk2!<bo
@r!=}pJPz!>bp=!?q:prtvxz|~^$cY~Y~Y~Y~Y'mP^uMO=mNP\qD-}D/=}C2D.x8 K7=MJ:=MI6!LJ8-O/VrWrl>56@3M	>
U	=}aI>Q6FPomHUmRbRabbgVjUfOVh9fphZNWnPX|PW^SddsdE-Y.I.]-wese0i{0};/m0g1c~Y~YflQE6/rW}l ytj2[":l]Kt$Y>$MlSP
 lT[hJD /<8932=}e7U)_v)stInXIBjHBMJwPD",PmJ1LFzTg(K:BL9UP6m|lm!00O/~{=}j}.wVA6rA0E <E&j
~Y\bV~YK~	~^0MYBT*^\? Z9eSkU<.24<k:k
"z0"as x>n7
mu0q&&W:Y0Y0/)z-hLEEWuJxLr6/.u(E8= 66p"}IPC.]y#U;l2HhlT<yz<rLQKKx@w>JTDqqXf>wZ)j.6;-?LNO=}An ?=}OOO*JqyzHP?<&P=a'k$p! !p!$1OI;@O;g#ETO$@:(>z0RHN=M	

R>Xz t\+| XPQVJ+Y9Z}@=cA'pCA^5)t[zHQ!+pqE'Z2{rnwY\7Ta"yRSIbmiZ=M2]qG}`});var a,o;function s(){var w=o.buffer;a=new Uint8Array(w)}function c(w){return Math.cos(w)}function l(w){return Math.exp(w)}var u=(w,E,C)=>a.copyWithin(w,E,E+C),f=w=>{r("OOM")},h=w=>{a.length,f()},p={b:c,a:l,c:u,d:h};function d(w){w.f()}var v={a:p},m,g,_,x,b;this.setModule=w=>{t.setModule(yh,w)},this.getModule=()=>t.getModule(yh),this.instantiate=()=>(this.getModule().then(w=>WebAssembly.instantiate(w,v)).then(w=>{const E=w.exports;m=E.g,g=E.h,_=E.i,x=E.j,b=E.k,o=E.e,s(),d(E),e()}),this.ready=new Promise(w=>{e=w}).then(()=>{this.HEAP=o.buffer,this.malloc=g,this.free=b,this.opus_frame_decoder_create=m,this.opus_frame_decode_float_deinterleaved=_,this.opus_frame_decoder_destroy=x}),this)}function fs(t={}){fs.errors||Object.defineProperties(fs,{errors:{value:new Map([[-1,"OPUS_BAD_ARG: One or more invalid/out of range arguments"],[-2,"OPUS_BUFFER_TOO_SMALL: Not enough bytes allocated in the buffer"],[-3,"OPUS_INTERNAL_ERROR: An internal error was detected"],[-4,"OPUS_INVALID_PACKET: The compressed data passed is corrupted"],[-5,"OPUS_UNIMPLEMENTED: Invalid/unsupported request number"],[-6,"OPUS_INVALID_STATE: An encoder or decoder structure is invalid or already freed"],[-7,"OPUS_ALLOC_FAIL: Memory allocation has failed"]])}}),this._init=()=>new this._WASMAudioDecoderCommon(this).instantiate(this._EmscriptenWASM,this._module).then(u=>{this._common=u,this._inputBytes=0,this._outputSamples=0,this._frameNumber=0,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._output=this._common.allocateTypedArray(this._outputChannels*this._outputChannelSize,Float32Array);const f=this._common.allocateTypedArray(this._channels,Uint8Array);f.buf.set(this._channelMappingTable),this._decoder=this._common.wasm.opus_frame_decoder_create(this._sampleRate,this._channels,this._streamCount,this._coupledStreamCount,f.ptr,this._preSkip,this._forceStereo)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.free(),this._common.wasm.opus_frame_decoder_destroy(this._decoder),this._common.wasm.free(this._decoder)},this._decode=u=>{if(!(u instanceof Uint8Array))throw Error("Data to decode must be Uint8Array. Instead got "+typeof u);this._input.buf.set(u);let f=this._common.wasm.opus_frame_decode_float_deinterleaved(this._decoder,this._input.ptr,u.length,this._output.ptr),h;return f<0&&(h="libopus "+f+" "+(fs.errors.get(f)||"Unknown Error"),console.error(h),f=0),{outputBuffer:this._common.getOutputChannels(this._output.buf,this._outputChannels,f),samplesDecoded:f,error:h}},this.decodeFrame=u=>{let f=[];const h=this._decode(u);return h.error&&this._common.addError(f,h.error,u.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=u.length,this._outputSamples+=h.samplesDecoded,this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(f,[h.outputBuffer],this._outputChannels,h.samplesDecoded,this._sampleRate)},this.decodeFrames=u=>{let f=[],h=[],p=0,d=0;for(;d<u.length;){const v=u[d++],m=this._decode(v);f.push(m.outputBuffer),p+=m.samplesDecoded,m.error&&this._common.addError(h,m.error,v.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=v.length,this._outputSamples+=m.samplesDecoded}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(h,f,this._outputChannels,p,this._sampleRate)},this._isWebWorker=fs.isWebWorker,this._WASMAudioDecoderCommon=fs.WASMAudioDecoderCommon||tn,this._EmscriptenWASM=fs.EmscriptenWASM||yh,this._module=fs.module;const e=8,r=u=>typeof u=="number",n=t.sampleRate,i=t.channels,a=t.streamCount,o=t.coupledStreamCount,s=t.channelMappingTable,c=t.preSkip,l=t.forceStereo?1:0;if(i>2&&(!r(a)||!r(o)||!Array.isArray(s)))throw new Error("Invalid Opus Decoder Options for multichannel decoding.");return this._sampleRate=[8e3,12e3,16e3,24e3,48e3].includes(n)?n:48e3,this._channels=r(i)?i:2,this._streamCount=r(a)?a:1,this._coupledStreamCount=r(o)?o:this._channels-1,this._channelMappingTable=s||(this._channels===2?[0,1]:[0]),this._preSkip=c||0,this._forceStereo=i<=e&&i!=2?l:0,this._inputSize=32e3*.12*this._channels,this._outputChannelSize=120*48,this._outputChannels=this._forceStereo?2:this._channels,this._ready=this._init(),this}class XV extends xV{constructor(e){super(e,"opus-decoder",fs,yh)}async decodeFrame(e){return this.postToDecoder("decodeFrame",e)}async decodeFrames(e){return this.postToDecoder("decodeFrames",e)}}Dd(fs,"OpusDecoder");Dd(XV,"OpusDecoderWebWorker");class PO{constructor(e={}){this._sampleRate=e.sampleRate||48e3,this._forceStereo=e.forceStereo!==void 0?e.forceStereo:!1,this._onCodec=r=>{if(r!=="opus")throw new Error("ogg-opus-decoder does not support this codec "+r)},new tn,this._decoderClass=fs,this._init()}_init(){this._decoder&&this._decoder.free(),this._decoder=null,this._ready=Promise.resolve(),this._codecParser=new $V("application/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}async _instantiateDecoder(e){this._totalSamplesDecoded=0,this._preSkip=e[K2e],this._channels=this._forceStereo?2:e[zB],this._beginningSampleOffset=null,this._decoder=new this._decoderClass({channels:e[zB],streamCount:e[eCe],coupledStreamCount:e[q2e],channelMappingTable:e[Q2e],preSkip:Math.round(this._preSkip/48e3*this._sampleRate),sampleRate:this._sampleRate,forceStereo:this._forceStereo}),await this._decoder.ready}get ready(){return this._ready}async reset(){this._init()}free(){this._init()}async _decode(e){let r=[],n=[],i=0;for await(const a of e){const o=a[Pp].map(s=>s[H_]);if(o.length){this._decoder||await this._instantiateDecoder(a[Pp][0][GV]);const{channelData:s,samplesDecoded:c,errors:l}=await this._decoder.decodeFrames(o);if(this._totalSamplesDecoded+=c,this._beginningSampleOffset===null&&Number(a[Oc])>-1&&(this._beginningSampleOffset=a[Oc]-BigInt(a[HV])+BigInt(this._preSkip)),a[VV]){if(a[Oc]!==void 0){const u=this._totalSamplesDecoded/this._sampleRate*48e3,f=Number(a[Oc]-this._beginningSampleOffset),h=Math.round((u-f)/48e3*this._sampleRate);for(let p=0;p<s.length;p++)s[p]=s[p].subarray(0,c-h);i-=h}this._init()}r.push(...l),n.push(s),i+=c}}return[r,n,this._channels,i,this._sampleRate,16]}_parse(e){return[...this._codecParser.parseChunk(e)]}_flush(){return[...this._codecParser.flush()]}async decode(e){const r=await this._decode(this._parse(e));return tn.getDecodedAudioMultiChannel(...r)}async decodeFile(e){const r=await this._decode([...this._parse(e),...this._flush()]);return this._init(),tn.getDecodedAudioMultiChannel(...r)}async flush(){const e=await this._decode(this._flush());return this._init(),tn.getDecodedAudioMultiChannel(...e)}}class nCe extends PO{constructor(e){super(e),this._decoderClass=XV}async free(){super.free()}}Dd(PO,"OggOpusDecoder");Dd(nCe,"OggOpusDecoderWebWorker");async function Op(t){if(!window.isSafari||!t.toLowerCase().endsWith(".ogg"))return t;const r=await(await fetch(t)).arrayBuffer(),n=new Uint8Array(r);try{return console.log(" Opus "),await aCe(n)}catch(i){console.log("Opus  Vorbis ",i);try{return await iCe(n)}catch(a){return console.error("Vorbis ",a),""}}}async function iCe(t){const e=new RO;await e.ready;const r=await e.decode(t);return zV(r)}async function aCe(t){const e=new PO;await e.ready;const r=await e.decode(t);return zV(r)}function zV(t){const r=new(window.AudioContext||window.webkitAudioContext)().createBuffer(t.channelData.length,t.samplesDecoded,t.sampleRate);for(let a=0;a<t.channelData.length;a++)r.copyToChannel(t.channelData[a],a);const n=new OfflineAudioContext(r.numberOfChannels,r.length,r.sampleRate),i=n.createBufferSource();return i.buffer=r,i.connect(n.destination),i.start(),n.startRendering().then(a=>{const o=oCe(a),s=new Blob([o],{type:"audio/wav"});return URL.createObjectURL(s)})}function oCe(t){const e=t.numberOfChannels,r=t.length*e*2+44,n=new ArrayBuffer(r),i=new DataView(n),a=[];let o,s=0,c=0;u(1179011410),u(r-8),u(1163280727),u(544501094),u(16),l(1),l(e),u(t.sampleRate),u(t.sampleRate*2*e),l(e*2),l(16),u(1635017060),u(r-c-4);for(let f=0;f<t.numberOfChannels;f++)a.push(t.getChannelData(f));for(;c<r;){for(let f=0;f<e;f++)o=Math.max(-1,Math.min(1,a[f][s])),o=(.5+o<0?o*32768:o*32767)|0,i.setInt16(c,o,!0),c+=2;s++}function l(f){i.setUint16(c,f,!0),c+=2}function u(f){i.setUint32(c,f,!0),c+=4}return n}const sCe=t=>{var a;it.debug("play SE");let e="effect-sound";J.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;fr(t,"id")&&(e=`effect-sound-${((a=fr(t,"id"))==null?void 0:a.toString())??""}`,J.gameplay.performController.unmountPerform(e,!0),n=!0);let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(async()=>{var d;const s=fr(t,"volume");let c=document.createElement("audio");c.src=await Op(r),c.load(),n&&(c.loop=!0);const l=pe.getState().userData,u=l.optionData.volumeMain,f=typeof s=="number"&&s>=0&&s<=100?s:100,h=u*.01*(((d=l.optionData)==null?void 0:d.seVolume)??100)*.01*f*.01;c.volume=h,c.currentTime=0;const p={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{c.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(p),c==null||c.play(),c.onended=()=>{for(const v of J.gameplay.performController.performList)v.performName===e&&(i=!0,v.stopFunction(),J.gameplay.performController.unmountPerform(v.performName))}},1)})}},lCe={saveData:[],quickSaveData:null,unlockStorylineList:[],saveVideoData:null,unlockAchieveData:[],isShowUnlock:!1,unlockAchieveAllTotal:0,unlockAchieveListAll:[],isLoadVideo:!1,isUnlockStoryline:!1,allUnlockAchieveList:[],allStorylineData:[]},WV=Xv({name:"saveData",initialState:vn(lCe),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload},setStorylineListFromStorage:(t,e)=>{t.unlockStorylineList=e.payload},addStorylineList:(t,e)=>{t.unlockStorylineList.push(e.payload)},replaceStorylineList:(t,e)=>{t.unlockStorylineList[e.payload.index]={...t.unlockStorylineList[e.payload.index],storyLine:e.payload.data.storyLine}},setSaveVideoData:(t,e)=>{t.saveVideoData=e.payload},setUnlockAchieveData:(t,e)=>{t.unlockAchieveData=[...e.payload]},resetStorylineList:t=>{t.unlockStorylineList=[]},resetUnlockAchieveData:t=>{t.unlockAchieveData=[]},addUnlockAchieveData:(t,e)=>{const r=[...t.unlockAchieveData,e.payload];t.unlockAchieveData=r},replaceUnlockAchieveData:(t,e)=>{t.unlockAchieveData[e.payload.index]=e.payload.data},setIsShowUnlock:(t,e)=>{t.isShowUnlock=e.payload},setShowStoryline:(t,e)=>{t.isUnlockStoryline=e.payload},setUnlockAchieveAllTotal:(t,e)=>{t.unlockAchieveAllTotal=e.payload},setUnlockAchieveAll:(t,e)=>{t.unlockAchieveListAll=e.payload},setLoadVideo:(t,e)=>{t.isLoadVideo=e.payload},saveAllUnlockAchieveList:(t,e)=>{t.allUnlockAchieveList=e.payload},saveAllStorylineData:(t,e)=>{t.allStorylineData=e.payload}}}),Br=WV.actions,uCe=WV.reducer;function cCe(t,e){for(let r=t;r<=e;r++){const n=pe.getState().saveData.saveData[r];n&&Ls.setItem(`${J.gameKey}-saves${r}`,n).then(()=>{it.info(`${r}`)})}}async function OO(t,e){for(let r=t;r<=e;r++){const n=await Ls.getItem(`${J.gameKey}-saves${r}`);pe.dispatch(Br.saveGame({index:r,saveData:n})),it.info(`${r}`)}}async function fCe(){const t=pe.getState().saveData.quickSaveData;await Ls.setItem(`${J.gameKey}-saves-fast`,t),it.info("")}async function YV(){const t=await Ls.getItem(`${J.gameKey}-saves-fast`);pe.dispatch(Br.setFastSave(t)),it.info("")}async function qV(){const t=pe.getState().saveData.unlockStorylineList;await Ls.setItem(`${J.gameKey}-storyline`,{data:t}),it.info(" >> ")}async function kO(){const t=await Ls.getItem(`${J.gameKey}-storyline`);pe.dispatch(Br.setStorylineListFromStorage((t==null?void 0:t.data)??[])),it.info(" >> ")}async function KV(){const t=pe.getState().saveData.unlockAchieveData;await Ls.setItem(`${J.gameKey}-unlock-achieve`,{data:t}),it.info(" >>> ")}async function hCe(){const t=await Ls.getItem(`${J.gameKey}-unlock-achieve`);pe.dispatch(Br.setUnlockAchieveData((t==null?void 0:t.data)||[])),it.info(" >>> ")}const WB=async(t,e)=>{const r=await ZV(t,!0,e);pe.dispatch(Br.saveGame({index:t,saveData:r})),cCe(t,t)};async function ZV(t,e=!0,r){const n=pe.getState().stage,i=vn(J.backlogManager.getBacklog());let a="";if(e){const c=document.getElementById("pixiCanvas"),l=document.createElement("canvas"),u=l.getContext("2d");l.width=480,l.height=270,u.drawImage(c,0,0,480,270),a=l.toDataURL("image/webp",.5),l.remove()}if(e&&!r){const c=J.videoManager.videosByKey[J.videoManager.currentPlayingVideo];c&&(a=c.poster)}const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1});return{nowStageState:vn(n),backlog:i,index:t,saveName:r||o,saveTime:o,sceneData:{currentSentenceId:J.sceneManager.sceneData.currentSentenceId,sceneStack:vn(J.sceneManager.sceneData.sceneStack),sceneName:J.sceneManager.sceneData.currentScene.sceneName,sceneUrl:J.sceneManager.sceneData.currentScene.sceneUrl},previewImage:a}}function FO(){const t=pe.getState().stage,e=vn(J.backlogManager.getBacklog()),r=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),n={nowStageState:vn(t),backlog:e,saveTime:r,saveName:"",index:-1,previewImage:"",sceneData:{currentSentenceId:J.sceneManager.sceneData.currentSentenceId,sceneStack:vn(J.sceneManager.sceneData.sceneStack),sceneName:J.sceneManager.sceneData.currentScene.sceneName,sceneUrl:J.sceneManager.sceneData.currentScene.sceneUrl}};return pe.dispatch(Br.setSaveVideoData(n)),n}const dCe=t=>{const e=pe.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01,a="videoPlay."+Xo();let o="",s=!1;const c=Date.now();pe.dispatch(qT(!1));const l={current:()=>{console.log("")}};t.args.forEach(p=>{p.key==="choose"&&(o="choose:"+p.value),p.key==="continueBgm"&&p.value,p.key==="loop"&&(s=p.value===!0)});const u=()=>{let p=fr(t,"skipOff"),d=!0;return J.gameplay.isFast?(p&&(d=!0),s&&(d=!1),o!==""&&(d=!0,l.current())):(p||s||o!=="")&&(d=!0),d};J.videoManager.showVideo(t.content);let f=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:u,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(p=>{const d=v=>{f=!0,v.stopFunction(),J.gameplay.performController.unmountPerform(v.performName)};setTimeout(()=>{const v=t.content,m=pe.getState().saveData.isLoadVideo;J.videoManager.seek(v,.03),J.videoManager.setVolume(v,i),J.videoManager.setLoop(v,s);const g=o?o.slice(7).split("|").map(C=>"game/scene/"+C.split(":")[1]):[];g.length&&Md(g);const _=()=>{if(m){pe.dispatch(It({component:"showExtra",visibility:!0}));return}for(const C of J.gameplay.performController.performList)if(C.performName===a)if(o!==""&&!s){const T=av(o,`${c}.txt`,""),I=J.videoManager.getDuration(v);J.videoManager.seek(v,(I||0)-.03),J.videoManager.pauseVideo(v);const R=T.sentenceList[0],O=$T(R,()=>{d(C)});J.gameplay.performController.arrangeNewPerform(O,R)}else d(C),ti()};l.current=_;const x={performName:a,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:(C=!1)=>{const T=document.getElementById("currentVocal");T&&(T.volume=n.toString()),J.videoManager.destroy(v,C)},blockingNext:u,blockingAuto:()=>!f,stopTimeout:void 0,goNextWhenOver:!0};p(x);const b=0,w=document.getElementById("currentVocal");w&&(w.volume=b.toString()),J.videoManager.playVideo(v);const E=pe.getState().saveData.saveData||[];if(E!=null&&E.length&&E.forEach(C=>{var T,I;(I=(T=C==null?void 0:C.nowStageState)==null?void 0:T.PerformList)==null||I.forEach(R=>{var O;((O=R==null?void 0:R.script)==null?void 0:O.content)===v&&setTimeout(()=>{pe.dispatch(qT(!0))})})}),o&&s){const T=av(o,`${c}.txt`,"").sentenceList[0],I=$T(T,_);J.gameplay.performController.arrangeNewPerform(I,T)}setTimeout(()=>{FO()},1e3),J.videoManager.onEnded(v,()=>{if(s)J.videoManager.seek(v,.03),J.videoManager.playVideo(v);else{const C=pe.getState().stage.showValueList;if(C!=null&&C.length){const T=pe.getState().stage.showValueName,I=C.filter(R=>R.showValueName!==T);pe.dispatch(Ghe(I))}_()}})},100)})}},pCe=t=>{var o;pe.getState().stage.currentDialogKey;const e=t.content,r=Ta(e),n=(((o=fr(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var c,l;(c=J.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n);const s=jy(e,n,r);s&&(it.debug(`${e}${n}`,r),(l=J.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},0),a=()=>{setTimeout(()=>{var s;pe.getState().stage.currentDialogKey,(s=J.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},0)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function vCe(t,e){const r=J.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,c=J.gameplay.pixiStage.frameDuration,l=e/c*o,u=1/l,f=5/l;s.alpha<1&&(s.alpha+=u),s.blur<5&&(s.blur+=f)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const gCe=[{name:"universalSoftIn",animationGenerateFunc:m7},{name:"universalSoftOff",animationGenerateFunc:_7},{name:"testblur",animationGenerateFunc:vCe}],mCe=t=>{var s,c,l;pe.getState().stage.currentDialogKey;const e=t.content,r=fr(t,"duration")??0,n=((s=fr(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=_Ce(e);let o=()=>{};if(a){it.debug(`${e}${n}`,r);const u=a(n,r);(c=J.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n),(l=J.gameplay.pixiStage)==null||l.registerAnimation(u,i,n),o=()=>{var f;pe.getState().stage.currentDialogKey,(f=J.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function _Ce(t){const e=gCe.find(r=>r.name===t);return it.debug("",e),e?e.animationGenerateFunc:null}const yCe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),xCe=t=>{var l;pe.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};J.animationManager.addAnimation(i);const a=Ta(e),o=((l=fr(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let c=()=>{};return setTimeout(()=>{var f,h;(f=J.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(o);const u=jy(e,o,a);u&&(it.debug(`${e}${o}`,a),(h=J.gameplay.pixiStage)==null||h.registerAnimation(u,s,o))},0),c=()=>{setTimeout(()=>{var u;pe.getState().stage.currentDialogKey,(u=J.gameplay.pixiStage)==null||u.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:c,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function bCe(t){return t.content==="hide"?pe.dispatch(Lt({key:"isDisableTextbox",value:!0})):pe.dispatch(Lt({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const wCe=t=>{var u;pe.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=fr(t,"duration"),a=((u=fr(t,"target"))==null?void 0:u.toString())??"0";try{const f=JSON.parse(r);n=tv(a,f,i)}catch{n=[]}const o={name:e,effects:n};J.animationManager.addAnimation(o);const s=SCe(e),c=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,p;(h=J.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const f=ECe(e,a,s);f&&(it.debug(`${e}${a}`,s),(p=J.gameplay.pixiStage)==null||p.registerAnimation(f,c,a))},0),l=()=>{setTimeout(()=>{var f;pe.getState().stage.currentDialogKey,(f=J.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(c)},0)},{performName:c,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function ECe(t,e,r){const n=J.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=vn({...QP,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return it.debug("",i),q7(i,e,r)}return null}function SCe(t){const e=J.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const CCe=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return fr(t,"enter")&&J.animationManager.nextEnterAnimationName.set(e,fr(t,"enter").toString()),fr(t,"exit")&&J.animationManager.nextExitAnimationName.set(e+"-off",fr(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},TCe=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"bgm-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),it.info(`BGM${r}${e}${n}`),pe.dispatch(_G({name:r,url:e,series:n}));const i=pe.getState().userData;return Ls.setItem(J.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},ACe=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"cg-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),it.info(`CG${r}${e}${n}`),pe.dispatch(mG({name:r,url:e,series:n}));const i=pe.getState().userData;return Ls.setItem(J.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},NO=(t,e=!0,r=!0)=>{t&&J.backlogManager.makeBacklogEmpty(),r&&J.videoManager.destroyAll(!0),e&&J.sceneManager.resetScene(),J.gameplay.performController.removeAllPerform(),J.gameplay.resetGamePlay();const n=vn(J$),i=pe.getState().stage.GameVar;pe.dispatch(Vx(n)),e||pe.dispatch(Lt({key:"GameVar",value:i})),pe.dispatch(Br.setLoadVideo(!1))},ICe=t=>{NO(!0);const e=pe.dispatch,r=Ir("start.txt",Ar.scene);return setTimeout(()=>{J.sceneManager.resetScene()},5),e(Br.resetFastSave()),sH(),Ka(r).then(n=>{J.sceneManager.setCurrentScene(n,"start.txt",r)}),e(It({component:"showTitle",visibility:!0})),WO(pe.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},RCe=t=>(Z7(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),PCe=t=>(J.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){it.warn("pixi ",e.performName);for(let r=0;r<J.gameplay.performController.performList.length;r++){const n=J.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),J.gameplay.performController.performList.splice(r,1),r--)}pe.dispatch(Sa.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Lr={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},OCe=t=>(Lr.maxAudioLevel=Math.max(t,Lr.maxAudioLevel),{OPEN_THRESHOLD:Lr.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:Lr.maxAudioLevel*.5}),kCe=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=J.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),Lr.blinkTimerID=setTimeout(()=>{var a;(a=J.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;Lr.blinkTimerID=setTimeout(r,i)},200))}r()},FCe=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},YB=t=>{var h,p;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:c}=t;let l;e>r?l=1:e>n?l=.5:l=0;const u=i+(l-i)*a;(h=J.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let f;u>.75?f="open":u>.25?f="half_open":f="closed",s!==void 0&&((p=J.gameplay.pixiStage)==null||p.performMouthSyncAnimation(o,s,f,c))};class NCe{constructor(e){lt(this,"subject");lt(this,"result");lt(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function X1(t){return new NCe(t)}const LCe=t=>{it.debug("play vocal");const e="vocal-play",r=fr(t,"vocal"),n=fr(t,"volume");let i;i=pe.getState().stage;let a="",o="";const s=i.freeFigure,c=i.figureAssociatedAnimation;let l=0,u=0;const f=1;let h=document.getElementById("currentVocal");J.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const d of t.args)d.value===!0&&X1(d.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),d.key==="figureId"&&(o=`${d.value.toString()}`);pe.dispatch(Lt({key:"playVocal",value:r})),pe.dispatch(Lt({key:"vocal",value:r}));let p=!1;return{arrangePerformPromise:new Promise(d=>{setTimeout(()=>{let v=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?pe.dispatch(Lt({key:"vocalVolume",value:n})):pe.dispatch(Lt({key:"vocalVolume",value:100})),v!==null){v.currentTime=0;const m={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(Lr.audioLevelInterval),v.pause(),o=o||`fig-${a}`;const _=c.find(x=>x.targetId===o);YB({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:_,pos:a}),clearTimeout(Lr.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!p,skipNextCollect:!0,stopTimeout:void 0};J.gameplay.performController.arrangeNewPerform(m,t,!1),o=o||`fig-${a}`;const g=c.find(_=>_.targetId===o);if(g){const _=s.find(w=>w.key===o);if(_&&(a=_.basePosition),!Lr.audioContext){let w;w=new AudioContext,Lr.analyser=w.createAnalyser(),Lr.analyser.fftSize=256,Lr.dataArray=new Uint8Array(Lr.analyser.frequencyBinCount)}Lr.analyser||(Lr.analyser=Lr.audioContext.createAnalyser(),Lr.analyser.fftSize=256),l=Lr.analyser.frequencyBinCount,Lr.dataArray=new Uint8Array(l);let x=document.getElementById("currentVocal");Lr.source||(Lr.source=Lr.audioContext.createMediaElementSource(x),Lr.source.connect(Lr.analyser)),Lr.analyser.connect(Lr.audioContext.destination),Lr.audioLevelInterval=setInterval(()=>{const w=FCe(Lr.analyser,Lr.dataArray,l),{OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:C}=OCe(w);YB({audioLevel:w,OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:C,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:g,pos:a})},50);let b;b=Date.now()+1e4,kCe({key:o,animationItem:g,pos:a,animationEndTime:b}),setTimeout(()=>{clearTimeout(Lr.blinkTimerID)},1e4)}v.onloadeddata=()=>{v==null||v.play()},v.onended=()=>{for(const _ of J.gameplay.performController.performList)_.performName===e&&(p=!0,_.stopFunction(),J.gameplay.performController.unmountPerform(_.performName))}}},1)})}};function JV(t){return t===0?3:t===100?80:77*Number(t)/100}function MCe(t){return t===0?800:t===100?200:800-600*Number(t)/100}const BCe=t=>{const e=pe.getState().stage,r=pe.getState().userData,n=pe.dispatch;let i=Math.random().toString(),a=t.content;const o=fr(t,"concat"),s=fr(t,"notend"),c=fr(t,"speaker"),l=fr(t,"clear"),u=fr(t,"vocal"),f=fr(t,"mode");o?(i=e.currentDialogKey,a=e.showText+a,n(Lt({key:"currentConcatDialogPrev",value:e.showText}))):n(Lt({key:"currentConcatDialogPrev",value:""})),n(Lt({key:"showText",value:a})),n(Lt({key:"vocal",value:""})),n(Lt({key:"dialogueMode",value:f})),r.optionData.voiceInterruption===LP.no&&u===null||(n(Lt({key:"playVocal",value:""})),J.gameplay.performController.unmountPerform("vocal-play",!0)),n(Lt({key:"currentDialogKey",value:i}));const p=JV(r.optionData.textSpeed)*t.content.length;for(const g of t.args)if(g.key==="fontSize")switch(g.value){case"default":n(Lt({key:"showTextSize",value:-1}));break;case"small":n(Lt({key:"showTextSize",value:fu.small}));break;case"medium":n(Lt({key:"showTextSize",value:fu.medium}));break;case"large":n(Lt({key:"showTextSize",value:fu.large}));break}let d=e.showName;c!==null&&(d=c),f==="player"&&(d=""),f==="narrator"&&(d=""),l&&(d=""),n(Lt({key:"showName",value:d})),u&&LCe(t);const v=Xo();let m=750-r.optionData.textSpeed/100*2*250;return s&&(m=0),FO(),{performName:v,duration:p+m,isHoldOn:!1,stopFunction:()=>{J.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}},DCe=t=>{const e=pe.getState().stage,r=pe.getState().userData,n=pe.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(Lt({key:"showText",value:JSON.stringify(i)})),n(Lt({key:"showName",value:""})),it.debug("",i),setTimeout(()=>{J.events.textSettle.emit()},0);const a=Xo(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{J.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},UCe=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];pe.dispatch(Sa.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},jCe=t=>(console.log(" >>>>>>>> start : ",{sentence:t}),(async()=>{var s,c;await FO(),await kO(),t!=null&&t.content;const r={};if(t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break;case"hideName":r.isHideName=l.value.toString()==="true";break}}),!r.name)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=pe.getState().saveData,i=(s=n.unlockStorylineList)==null?void 0:s.findIndex(l=>l.storyLine.name===r.name);let a;i!==-1&&(a=n.unlockStorylineList[i]);const o={name:r.name||"",thumbnailUrl:r.thumbnailUrl||"",x:r.x||0,y:r.y||0,isHideName:r.isHideName||!1,isUnlock:((c=a==null?void 0:a.storyLine)==null?void 0:c.isUnlock)||n.isUnlockStoryline||!1};i===-1?pe.dispatch(Br.addStorylineList({storyLine:o,videoData:pe.getState().saveData.saveVideoData})):pe.dispatch(Br.replaceStorylineList({index:i,data:{storyLine:o,videoData:pe.getState().saveData.saveVideoData}})),qV()})(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),$Ce=t=>{var l;console.log(" >>>>>>>> start : ",{sentence:t});let e=(t==null?void 0:t.content)||"";const r={};if(r.url=e,t.args.forEach(u=>{var f,h;switch(u.key){case"unlockname":r.unlockname=((f=u.value)==null?void 0:f.toString())??"";break;case"x":r.x=u.value&&Number(u.value)||0;break;case"y":r.y=u.value&&Number(u.value)||0;break;case"condition":r.condition=((h=u.value)==null?void 0:h.toString())??"";break}}),!r.unlockname||!r.url)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=pe.getState().saveData;if(!n.isShowUnlock)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const i=(l=n.unlockAchieveData)==null?void 0:l.findIndex(u=>u.unlockname===r.unlockname&&u.url===r.url);let a;i!==-1&&(a=n.unlockAchieveData[i]);const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),s={unlockname:r.unlockname||"",url:r.url||"",x:r.x||0,y:r.y||0,condition:r.condition||"",saveTime:o,isShowUnlock:(a==null?void 0:a.isShowUnlock)||n.isShowUnlock||!1},c=n.allUnlockAchieveList.map(u=>(u.unlockname===r.unlockname&&r.url&&r.url.includes(u.url)&&(u=s),u));return pe.dispatch(Br.saveAllUnlockAchieveList(c)),i===-1?pe.dispatch(Br.addUnlockAchieveData(s)):pe.dispatch(Br.replaceUnlockAchieveData({index:i,data:s})),KV(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},qB=t=>{const e=/\{(.*?)\}/,r=t.match(e);if(r){const i=r[1].split(","),a={};return i.forEach(o=>{const[s,c]=o.split("=");s&&c&&(a[s.trim()]=isNaN(Number(c.trim()))?c.trim():Number(c.trim()))}),a}};function GCe(t){const e={isShowValueSWitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showProgress:!1};return t!=null&&t.content&&(e.showValueName=t.content),t.args.forEach(r=>{r.key==="switchValue"?e.isShowValueSWitch=!!r.value:r.key==="x"?e.showValueAxisX=Number(r.value):r.key==="y"?e.showValueAxisY=Number(r.value):r.key==="showProgress"?e.showProgress=!!r.value:r.key==="progressBarBgStyle"?e.progressBarBgStyle=qB(r.value):r.key==="progressBarStyle"?e.progressBarStyle=qB(r.value):r.key==="maxValue"&&(e.maxValue=Number(r.value))}),pe.dispatch($he(e)),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const VCe=t=>{if(pe.getState().storeData.isEditorPreviewMode)return{performName:Xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let e={current:null};const r=Number(t.content),n=pe.getState().storeData.paymentConfigurationList.find(c=>c.product_id===r);let i=n==null?void 0:n.sales_amount;const a={current:!1};t.args.forEach(c=>{var l;switch(c.key){case"name":(l=c.value)==null||l.toString();break;case"amount":i||(i=isNaN(Number(c.value))?0:Number(c.value));break}});const o=(c=!1)=>{e.current=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},c?0:2e3);const l=()=>{Yo({title:`
`,rightText:"",rightFunc:()=>o(!0)})},u=()=>{vV(r??0).then(f=>{window.pubsub.publish("loading",{loading:!1}),f.code===0?(window.pubsub.publish("toaster",{show:!0,text:""}),J.gameplay.performController.unmountPerform("payProduct")):f.code===10014?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("rechargeModal",{successCallback:()=>{window.pubsub.publish("loading",{loading:!0}),u()},closeCallback:o})):(window.pubsub.publish("toaster",{show:!0,text:f.message}),o())}).catch(()=>{window.pubsub.publish("loading",{loading:!1})})};$y(r).then(f=>{e.current&&clearTimeout(e.current),window.pubsub.publish("loading",{loading:!1}),f.code===0?f.data?J.gameplay.performController.unmountPerform("payProduct"):Yo({title:"",content:`${i}`,suffixContent:"",leftText:"",rightText:"",type:"pay",leftFunc:()=>{a.current=!0},rightFunc:u}):l()}).catch(()=>{window.pubsub.publish("loading",{loading:!1}),l()})};return o(),{performName:"payProduct",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{const c={performName:Xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};J.gameplay.performController.arrangeNewPerform(c,t,!1)},blockingNext:()=>(a.current&&(a.current=!1,o()),!0),blockingAuto:()=>!0,stopTimeout:void 0}},HCe=t=>{if(pe.getState().storeData.isEditorPreviewMode)return{performName:Xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let e={current:null};const r=pe.getState().storeData.gameInfo;let n=(r==null?void 0:r.isFree)===1&&(r==null?void 0:r.tryPlay)===2;const{playSeEnter:i,playSeClick:a}=Bd(),o={current:!1};if(n&&(r!=null&&r.canPlay)||(r==null?void 0:r.isFree)===2||(r==null?void 0:r.isFree)===1&&(r==null?void 0:r.tryPlay)===1&&r.canPlay)return{performName:Xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};const s=async()=>{a();const u=await gV();window.pubsub.publish("loading",{loading:!1}),u.code===0||u.code===10053?(u.code===0&&window.pubsub.publish("toaster",{show:!0}),J.gameplay.performController.unmountPerform("finishTrial")):u.code===10014?(window.pubsub.publish("toaster",{show:!0,text:", "}),window.pubsub.publish("rechargeModal",{successCallback:()=>{window.pubsub.publish("loading",{loading:!0}),s()}})):window.pubsub.publish("toaster",{show:!0,text:u.message})},c=(u=!1)=>{e.current=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},u?0:2e3);const f=()=>{Yo({title:`
`,rightText:"",rightFunc:()=>c(!0)})};hO().then(h=>{if(e.current&&clearTimeout(e.current),window.pubsub.publish("loading",{loading:!1}),h.code===0){const p=h.data;if(!p)return;if(p.isFree===1&&p.tryPlay===2&&p.canPlay)J.gameplay.performController.unmountPerform("finishTrial");else{const d=pe.getState().storeData.gameInfo;Yo({title:"",type:"pay",content:`${d==null?void 0:d.salesAmount}`,suffixContent:"",leftText:"",rightText:"",leftFunc:()=>{o.current=!0},rightFunc:s})}}else f()}).catch(()=>{window.pubsub.publish("loading",{loading:!1}),f()})};return c(),{performName:"finishTrial",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{wu.render(N.jsx("div",{}),document.getElementById("chooseContainer"));const u={performName:Xo(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};J.gameplay.performController.arrangeNewPerform(u,t,!1)},blockingNext:()=>(o.current&&(c(),o.current=!1),!0),blockingAuto:()=>!0,stopTimeout:void 0}};function XCe(t,e,r,n=500){const i=t.scrollLeft,a=t.scrollTop,o=e-i,s=r-a,c=performance.now();function l(f){const h=f-c,p=Math.min(h/n,1),d=u(p);t.scrollTo(i+o*d,a+s*d),h<n&&requestAnimationFrame(l)}function u(f){return f<.5?2*f*f:-1+(4-2*f)*f}requestAnimationFrame(l)}const zCe=t=>{const e=Xo();let r=0,n=0,i=0,a=!1;console.log(" >>>>>>>> start : ",{sentence:t}),t.args.forEach(s=>{s.key==="duration"?r=Number(s.value):s.key==="x"?n=Number(s.value):s.key==="y"?i=Number(s.value):s.key==="next"&&(a=s.value==="true")});const o=document.getElementById("camera");return o&&(it.info(`${n}${i}`),XCe(o,n,i,r)),{performName:e,duration:r,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:a}},QV=ISe({intro:pr(Xt.intro,JSe),changeBg:pr(Xt.changeBg,Kwe),changeFigure:pr(Xt.changeFigure,Zwe),miniAvatar:pr(Xt.miniAvatar,e2e,{next:!0}),changeScene:pr(Xt.changeScene,Jwe),choose:pr(Xt.choose,$T),end:pr(Xt.end,ICe),bgm:pr(Xt.bgm,Hge,{next:!0}),playVideo:pr(Xt.video,dCe),setComplexAnimation:pr(Xt.setComplexAnimation,mCe),setFilter:pr(Xt.setFilter,yCe),pixiInit:pr(Xt.pixiInit,PCe,{next:!0}),pixiPerform:pr(Xt.pixi,o2e,{next:!0}),label:pr(Xt.label,QSe,{next:!0}),jumpLabel:pr(Xt.jumpLabel,RCe),setVar:pr(Xt.setVar,H_e,{next:!0}),showVars:pr(Xt.showVars,DCe),unlockCg:pr(Xt.unlockCg,ACe,{next:!0}),unlockBgm:pr(Xt.unlockBgm,TCe,{next:!0}),say:pr(Xt.say,BCe),filmMode:pr(Xt.filmMode,OSe,{next:!0}),callScene:pr(Xt.callScene,Dye),setTextbox:pr(Xt.setTextbox,bCe),setAnimation:pr(Xt.setAnimation,pCe),playEffect:pr(Xt.playEffect,sCe,{next:!0}),setTempAnimation:pr(Xt.setTempAnimation,xCe),__commment:pr(Xt.comment,PSe,{next:!0}),setTransform:pr(Xt.setTransform,wCe),setTransition:pr(Xt.setTransition,CCe,{next:!0}),getUserInput:pr(Xt.getUserInput,DSe),applyStyle:pr(Xt.applyStyle,UCe,{next:!0}),unlockAchieve:pr(Xt.unlockAchieve,$Ce,{next:!0}),unlockStoryline:pr(Xt.unlockStoryline,jCe,{next:!0}),showValue:pr(Xt.showValue,GCe,{next:!0}),payProduct:pr(Xt.payProduct,VCe),finishTrial:pr(Xt.finishTrial,HCe),moveCamera:pr(Xt.moveCamera,zCe)}),eH=Object.values(QV),WCe=eH.filter(t=>t.next).map(t=>t.scriptType),z1=new Vge(e0e,Ir,WCe,eH),av=(t,e,r)=>{const n=z1.parse(t,e,r);return it.info(`${e}`,n),n};var rf=(t=>(t.Start="start.txt",t.Achieve="achieve.txt",t.Storyline="storyline.txt",t))(rf||{});const KB={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class YCe{constructor(){lt(this,"settledScenes",[]);lt(this,"settledAssets",[]);lt(this,"sceneData",vn(KB));lt(this,"sceneAssetsList",{});lt(this,"sceneAssetsLoadedList",{})}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=vn(KB.currentScene)}setCurrentScene(e,r,n,i=!1){return new Promise(a=>{let o={current:null},s=null;i&&!this.sceneAssetsLoadedList[r]&&(s=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},1e3));const c=window.pubsub.subscribe("sceneAssetsLoaded",({sceneName:l})=>{setTimeout(()=>{var u,f;if(r===l){o.current&&(this.sceneData.currentScene=o.current);const h=((f=(u=this.sceneData)==null?void 0:u.currentScene)==null?void 0:f.sentenceList)??[];r==="storyline.txt"&&this.getAllStorylineList(h),r==="achieve.txt"&&this.getAllUnlockAchieveList(h),i&&window.pubsub.publish("loading",{loading:!1}),s&&clearTimeout(s),a(o),o.current=null,c()}},16)});o.current=av(e,r,n)})}async getAllStorylineList(e){await kO();const r=new Map,n=new Map;pe.getState().saveData.unlockStorylineList.forEach(o=>{const{name:s,isUnlock:c=!1}=o.storyLine||{};r.set(s,s),n.set(s,o.videoData)});const i=e.filter(o=>o.command===Xt.unlockStoryline).map(o=>{const s={thumbnailUrl:(o==null?void 0:o.content)??"",name:"",x:0,y:0,isUnlock:!1,isHideName:!1},c={storyLine:{},videoData:null};return o.args.forEach(l=>{l.key==="name"?s.name=l.value.toString():l.key==="x"?s.x=Number(l.value):l.key==="y"?s.y=Number(l.value):l.key==="hideName"&&(s.isHideName=l.value.toString()==="true")}),r.get(s.name)&&n.get(s.name)?(s.isUnlock=!0,c.videoData=n.get(s.name)):s.isUnlock=!1,c.storyLine=s,c});pe.dispatch(Br.saveAllStorylineData(i));const a=i.filter(o=>o.storyLine.isUnlock);pe.dispatch(Br.setStorylineListFromStorage(a)),await qV()}async getAllUnlockAchieveList(e){await hCe();const r=new Map,n=new Map;pe.getState().saveData.unlockAchieveData.forEach(o=>{o.isShowUnlock&&(r.set(o.unlockname,o.isShowUnlock),n.set(o.unlockname,(o==null?void 0:o.saveTime)??""))});const i=e.filter(o=>o.command===Xt.unlockAchieve).map(o=>{const s={url:(o==null?void 0:o.content)??"",unlockname:"",condition:"",saveTime:"",x:0,y:0,isShowUnlock:!1};return o.args.forEach(c=>{c.key==="unlockname"?s.unlockname=c.value.toString():c.key==="x"?s.x=Number(c.value):c.key==="y"?s.y=Number(c.value):c.key==="condition"&&(s.condition=c.value.toString())}),r!=null&&r.get(s==null?void 0:s.unlockname)&&(s.isShowUnlock=!0,s.saveTime=n==null?void 0:n.get(s==null?void 0:s.unlockname)),s});pe.dispatch(Br.saveAllUnlockAchieveList(i));const a=i.filter(o=>o==null?void 0:o.isShowUnlock);pe.dispatch(Br.setUnlockAchieveData(a)),await KV()}compareFilenames(e,r){const n=e.match(/\/?([^/]+)\.\w+$/),i=r.match(/\/?([^/]+)\.\w+$/);return n&&i?n[1]===i[1]:!1}}class qCe{constructor(){lt(this,"nextEnterAnimationName",new Map);lt(this,"nextExitAnimationName",new Map);lt(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}class KCe{constructor(){lt(this,"isAuto",!1);lt(this,"isFast",!1);lt(this,"isSyncingWithOrigine",!1);lt(this,"autoInterval",null);lt(this,"fastInterval",null);lt(this,"autoTimeout",null);lt(this,"pixiStage",null);lt(this,"performController",new qwe)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function ZCe(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class JCe{constructor(){lt(this,"textSettle",Nm("text-settle"));lt(this,"userInteractNext",Nm("__NEXT"));lt(this,"fullscreenDbClick",Nm("fullscreen-dbclick"));lt(this,"styleUpdate",Nm("style-update"))}}const AS=ZCe();function Nm(t){return{on:(e,r)=>{AS.on(`${t}-${r??""}`,e)},emit:(e,r)=>{AS.emit(`${t}-${r??""}`,e)},off:(e,r)=>{AS.off(`${t}-${r??""}`,e)}}}var tH={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(o,s,c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,u){o.exports=u()})(this,function(){function l(Oe){var j=typeof Oe;return Oe!==null&&(j==="object"||j==="function")}function u(Oe){return typeof Oe=="function"}var f=void 0;Array.isArray?f=Array.isArray:f=function(Oe){return Object.prototype.toString.call(Oe)==="[object Array]"};var h=f,p=0,d=void 0,v=void 0,m=function(j,he){k[p]=j,k[p+1]=he,p+=2,p===2&&(v?v(L):U())};function g(Oe){v=Oe}function _(Oe){m=Oe}var x=typeof window<"u"?window:void 0,b=x||{},w=b.MutationObserver||b.WebKitMutationObserver,E=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",C=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function T(){return function(){return process.nextTick(L)}}function I(){return typeof d<"u"?function(){d(L)}:P()}function R(){var Oe=0,j=new w(L),he=document.createTextNode("");return j.observe(he,{characterData:!0}),function(){he.data=Oe=++Oe%2}}function O(){var Oe=new MessageChannel;return Oe.port1.onmessage=L,function(){return Oe.port2.postMessage(0)}}function P(){var Oe=setTimeout;return function(){return Oe(L,1)}}var k=new Array(1e3);function L(){for(var Oe=0;Oe<p;Oe+=2){var j=k[Oe],he=k[Oe+1];j(he),k[Oe]=void 0,k[Oe+1]=void 0}p=0}function B(){try{var Oe=Function("return this")().require("vertx");return d=Oe.runOnLoop||Oe.runOnContext,I()}catch{return P()}}var U=void 0;E?U=T():w?U=R():C?U=O():x===void 0?U=B():U=P();function z(Oe,j){var he=this,Se=new this.constructor(W);Se[ne]===void 0&&At(Se);var ke=he._state;if(ke){var ae=arguments[ke-1];m(function(){return Ve(ke,Se,ae,he._result)})}else Ge(he,Se,Oe,j);return Se}function ee(Oe){var j=this;if(Oe&&typeof Oe=="object"&&Oe.constructor===j)return Oe;var he=new j(W);return Be(he,Oe),he}var ne=Math.random().toString(36).substring(2);function W(){}var D=void 0,H=1,G=2;function V(){return new TypeError("You cannot resolve a promise with itself")}function ie(){return new TypeError("A promises callback cannot return that same promise.")}function se(Oe,j,he,Se){try{Oe.call(j,he,Se)}catch(ke){return ke}}function ge(Oe,j,he){m(function(Se){var ke=!1,ae=se(he,j,function(Ie){ke||(ke=!0,j!==Ie?Be(Se,Ie):Ee(Se,Ie))},function(Ie){ke||(ke=!0,Te(Se,Ie))},"Settle: "+(Se._label||" unknown promise"));!ke&&ae&&(ke=!0,Te(Se,ae))},Oe)}function ue(Oe,j){j._state===H?Ee(Oe,j._result):j._state===G?Te(Oe,j._result):Ge(j,void 0,function(he){return Be(Oe,he)},function(he){return Te(Oe,he)})}function we(Oe,j,he){j.constructor===Oe.constructor&&he===z&&j.constructor.resolve===ee?ue(Oe,j):he===void 0?Ee(Oe,j):u(he)?ge(Oe,j,he):Ee(Oe,j)}function Be(Oe,j){if(Oe===j)Te(Oe,V());else if(l(j)){var he=void 0;try{he=j.then}catch(Se){Te(Oe,Se);return}we(Oe,j,he)}else Ee(Oe,j)}function Fe(Oe){Oe._onerror&&Oe._onerror(Oe._result),We(Oe)}function Ee(Oe,j){Oe._state===D&&(Oe._result=j,Oe._state=H,Oe._subscribers.length!==0&&m(We,Oe))}function Te(Oe,j){Oe._state===D&&(Oe._state=G,Oe._result=j,m(Fe,Oe))}function Ge(Oe,j,he,Se){var ke=Oe._subscribers,ae=ke.length;Oe._onerror=null,ke[ae]=j,ke[ae+H]=he,ke[ae+G]=Se,ae===0&&Oe._state&&m(We,Oe)}function We(Oe){var j=Oe._subscribers,he=Oe._state;if(j.length!==0){for(var Se=void 0,ke=void 0,ae=Oe._result,Ie=0;Ie<j.length;Ie+=3)Se=j[Ie],ke=j[Ie+he],Se?Ve(he,Se,ke,ae):ke(ae);Oe._subscribers.length=0}}function Ve(Oe,j,he,Se){var ke=u(he),ae=void 0,Ie=void 0,X=!0;if(ke){try{ae=he(Se)}catch(Ue){X=!1,Ie=Ue}if(j===ae){Te(j,ie());return}}else ae=Se;j._state!==D||(ke&&X?Be(j,ae):X===!1?Te(j,Ie):Oe===H?Ee(j,ae):Oe===G&&Te(j,ae))}function Xe(Oe,j){try{j(function(Se){Be(Oe,Se)},function(Se){Te(Oe,Se)})}catch(he){Te(Oe,he)}}var qe=0;function wt(){return qe++}function At(Oe){Oe[ne]=qe++,Oe._state=void 0,Oe._result=void 0,Oe._subscribers=[]}function ct(){return new Error("Array Methods must be provided an Array")}var ft=function(){function Oe(j,he){this._instanceConstructor=j,this.promise=new j(W),this.promise[ne]||At(this.promise),h(he)?(this.length=he.length,this._remaining=he.length,this._result=new Array(this.length),this.length===0?Ee(this.promise,this._result):(this.length=this.length||0,this._enumerate(he),this._remaining===0&&Ee(this.promise,this._result))):Te(this.promise,ct())}return Oe.prototype._enumerate=function(he){for(var Se=0;this._state===D&&Se<he.length;Se++)this._eachEntry(he[Se],Se)},Oe.prototype._eachEntry=function(he,Se){var ke=this._instanceConstructor,ae=ke.resolve;if(ae===ee){var Ie=void 0,X=void 0,Ue=!1;try{Ie=he.then}catch(F){Ue=!0,X=F}if(Ie===z&&he._state!==D)this._settledAt(he._state,Se,he._result);else if(typeof Ie!="function")this._remaining--,this._result[Se]=he;else if(ke===yt){var dt=new ke(W);Ue?Te(dt,X):we(dt,he,Ie),this._willSettleAt(dt,Se)}else this._willSettleAt(new ke(function(F){return F(he)}),Se)}else this._willSettleAt(ae(he),Se)},Oe.prototype._settledAt=function(he,Se,ke){var ae=this.promise;ae._state===D&&(this._remaining--,he===G?Te(ae,ke):this._result[Se]=ke),this._remaining===0&&Ee(ae,this._result)},Oe.prototype._willSettleAt=function(he,Se){var ke=this;Ge(he,void 0,function(ae){return ke._settledAt(H,Se,ae)},function(ae){return ke._settledAt(G,Se,ae)})},Oe}();function Et(Oe){return new ft(this,Oe).promise}function Qt(Oe){var j=this;return h(Oe)?new j(function(he,Se){for(var ke=Oe.length,ae=0;ae<ke;ae++)j.resolve(Oe[ae]).then(he,Se)}):new j(function(he,Se){return Se(new TypeError("You must pass an array to race."))})}function Vt(Oe){var j=this,he=new j(W);return Te(he,Oe),he}function er(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $t(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var yt=function(){function Oe(j){this[ne]=wt(),this._result=this._state=void 0,this._subscribers=[],W!==j&&(typeof j!="function"&&er(),this instanceof Oe?Xe(this,j):$t())}return Oe.prototype.catch=function(he){return this.then(null,he)},Oe.prototype.finally=function(he){var Se=this,ke=Se.constructor;return u(he)?Se.then(function(ae){return ke.resolve(he()).then(function(){return ae})},function(ae){return ke.resolve(he()).then(function(){throw ae})}):Se.then(he,he)},Oe}();yt.prototype.then=z,yt.all=Et,yt.race=Qt,yt.resolve=ee,yt.reject=Vt,yt._setScheduler=g,yt._setAsap=_,yt._asap=m;function Yt(){var Oe=void 0;if(typeof c.g<"u")Oe=c.g;else if(typeof self<"u")Oe=self;else try{Oe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var j=Oe.Promise;if(j){var he=null;try{he=Object.prototype.toString.call(j.resolve())}catch{}if(he==="[object Promise]"&&!j.cast)return}Oe.Promise=yt}return yt.polyfill=Yt,yt.Promise=yt,yt})},"./node_modules/events/events.js":function(o){var s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(P,k,L){return Function.prototype.apply.call(P,k,L)},l;s&&typeof s.ownKeys=="function"?l=s.ownKeys:Object.getOwnPropertySymbols?l=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:l=function(P){return Object.getOwnPropertyNames(P)};function u(O){console&&console.warn&&console.warn(O)}var f=Number.isNaN||function(P){return P!==P};function h(){h.init.call(this)}o.exports=h,o.exports.once=T,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var p=10;function d(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(O){if(typeof O!="number"||O<0||f(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");p=O}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||f(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function v(O){return O._maxListeners===void 0?h.defaultMaxListeners:O._maxListeners}h.prototype.getMaxListeners=function(){return v(this)},h.prototype.emit=function(P){for(var k=[],L=1;L<arguments.length;L++)k.push(arguments[L]);var B=P==="error",U=this._events;if(U!==void 0)B=B&&U.error===void 0;else if(!B)return!1;if(B){var z;if(k.length>0&&(z=k[0]),z instanceof Error)throw z;var ee=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw ee.context=z,ee}var ne=U[P];if(ne===void 0)return!1;if(typeof ne=="function")c(ne,this,k);else for(var W=ne.length,D=w(ne,W),L=0;L<W;++L)c(D[L],this,k);return!0};function m(O,P,k,L){var B,U,z;if(d(k),U=O._events,U===void 0?(U=O._events=Object.create(null),O._eventsCount=0):(U.newListener!==void 0&&(O.emit("newListener",P,k.listener?k.listener:k),U=O._events),z=U[P]),z===void 0)z=U[P]=k,++O._eventsCount;else if(typeof z=="function"?z=U[P]=L?[k,z]:[z,k]:L?z.unshift(k):z.push(k),B=v(O),B>0&&z.length>B&&!z.warned){z.warned=!0;var ee=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");ee.name="MaxListenersExceededWarning",ee.emitter=O,ee.type=P,ee.count=z.length,u(ee)}return O}h.prototype.addListener=function(P,k){return m(this,P,k,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(P,k){return m(this,P,k,!0)};function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(O,P,k){var L={fired:!1,wrapFn:void 0,target:O,type:P,listener:k},B=g.bind(L);return B.listener=k,L.wrapFn=B,B}h.prototype.once=function(P,k){return d(k),this.on(P,_(this,P,k)),this},h.prototype.prependOnceListener=function(P,k){return d(k),this.prependListener(P,_(this,P,k)),this},h.prototype.removeListener=function(P,k){var L,B,U,z,ee;if(d(k),B=this._events,B===void 0)return this;if(L=B[P],L===void 0)return this;if(L===k||L.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete B[P],B.removeListener&&this.emit("removeListener",P,L.listener||k));else if(typeof L!="function"){for(U=-1,z=L.length-1;z>=0;z--)if(L[z]===k||L[z].listener===k){ee=L[z].listener,U=z;break}if(U<0)return this;U===0?L.shift():E(L,U),L.length===1&&(B[P]=L[0]),B.removeListener!==void 0&&this.emit("removeListener",P,ee||k)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(P){var k,L,B;if(L=this._events,L===void 0)return this;if(L.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):L[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete L[P]),this;if(arguments.length===0){var U=Object.keys(L),z;for(B=0;B<U.length;++B)z=U[B],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=L[P],typeof k=="function")this.removeListener(P,k);else if(k!==void 0)for(B=k.length-1;B>=0;B--)this.removeListener(P,k[B]);return this};function x(O,P,k){var L=O._events;if(L===void 0)return[];var B=L[P];return B===void 0?[]:typeof B=="function"?k?[B.listener||B]:[B]:k?C(B):w(B,B.length)}h.prototype.listeners=function(P){return x(this,P,!0)},h.prototype.rawListeners=function(P){return x(this,P,!1)},h.listenerCount=function(O,P){return typeof O.listenerCount=="function"?O.listenerCount(P):b.call(O,P)},h.prototype.listenerCount=b;function b(O){var P=this._events;if(P!==void 0){var k=P[O];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function w(O,P){for(var k=new Array(P),L=0;L<P;++L)k[L]=O[L];return k}function E(O,P){for(;P+1<O.length;P++)O[P]=O[P+1];O.pop()}function C(O){for(var P=new Array(O.length),k=0;k<P.length;++k)P[k]=O[k].listener||O[k];return P}function T(O,P){return new Promise(function(k,L){function B(z){O.removeListener(P,U),L(z)}function U(){typeof O.removeListener=="function"&&O.removeListener("error",B),k([].slice.call(arguments))}R(O,P,U,{once:!0}),P!=="error"&&I(O,B,{once:!0})})}function I(O,P,k){typeof O.on=="function"&&R(O,"error",P,k)}function R(O,P,k,L){if(typeof O.on=="function")L.once?O.once(P,k):O.on(P,k);else if(typeof O.addEventListener=="function")O.addEventListener(P,function B(U){L.once&&O.removeEventListener(P,B),k(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}},"./node_modules/webworkify-webpack/index.js":function(o,s,c){function l(g){var _={};function x(w){if(_[w])return _[w].exports;var E=_[w]={i:w,l:!1,exports:{}};return g[w].call(E.exports,E,E.exports,x),E.l=!0,E.exports}x.m=g,x.c=_,x.i=function(w){return w},x.d=function(w,E,C){x.o(w,E)||Object.defineProperty(w,E,{configurable:!1,enumerable:!0,get:C})},x.r=function(w){Object.defineProperty(w,"__esModule",{value:!0})},x.n=function(w){var E=w&&w.__esModule?function(){return w.default}:function(){return w};return x.d(E,"a",E),E},x.o=function(w,E){return Object.prototype.hasOwnProperty.call(w,E)},x.p="/",x.oe=function(w){throw console.error(w),w};var b=x(x.s=ENTRY_MODULE);return b.default||b}var u="[\\.|\\-|\\+|\\w|/|@]+",f="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function h(g){return(g+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(g){return!isNaN(1*g)}function d(g,_,x){var b={};b[x]=[];var w=_.toString(),E=w.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!E)return b;for(var C=E[1],T=new RegExp("(\\\\n|\\W)"+h(C)+f,"g"),I;I=T.exec(w);)I[3]!=="dll-reference"&&b[x].push(I[3]);for(T=new RegExp("\\("+h(C)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+f,"g");I=T.exec(w);)g[I[2]]||(b[x].push(I[1]),g[I[2]]=c(I[1]).m),b[I[2]]=b[I[2]]||[],b[I[2]].push(I[4]);for(var R=Object.keys(b),O=0;O<R.length;O++)for(var P=0;P<b[R[O]].length;P++)p(b[R[O]][P])&&(b[R[O]][P]=1*b[R[O]][P]);return b}function v(g){var _=Object.keys(g);return _.reduce(function(x,b){return x||g[b].length>0},!1)}function m(g,_){for(var x={main:[_]},b={main:[]},w={main:{}};v(x);)for(var E=Object.keys(x),C=0;C<E.length;C++){var T=E[C],I=x[T],R=I.pop();if(w[T]=w[T]||{},!(w[T][R]||!g[T][R])){w[T][R]=!0,b[T]=b[T]||[],b[T].push(R);for(var O=d(g,g[T][R],T),P=Object.keys(O),k=0;k<P.length;k++)x[P[k]]=x[P[k]]||[],x[P[k]]=x[P[k]].concat(O[P[k]])}}return b}o.exports=function(g,_){_=_||{};var x={main:c.m},b=_.all?{main:Object.keys(x.main)}:m(x,g),w="";Object.keys(b).filter(function(R){return R!=="main"}).forEach(function(R){for(var O=0;b[R][O];)O++;b[R].push(O),x[R][O]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",w=w+"var "+R+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(O))+")({"+b[R].map(function(P){return""+JSON.stringify(P)+": "+x[R][P].toString()}).join(",")+`});
`}),w=w+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(g))+")({"+b.main.map(function(R){return""+JSON.stringify(R)+": "+x.main[R].toString()}).join(",")+"}))(self);";var E=new window.Blob([w],{type:"text/javascript"});if(_.bare)return E;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,T=C.createObjectURL(E),I=new window.Worker(T);return I.objectURL=T,I}},"./src/config.js":function(o,s,c){c.r(s),c.d(s,{defaultConfig:function(){return l},createDefaultConfig:function(){return u}});var l={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},l)}},"./src/core/features.js":function(o,s,c){c.r(s);var l=c("./src/io/io-controller.js"),u=c("./src/config.js"),f=function(){function h(){}return h.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},h.supportNetworkStreamIO=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d=="fetch-stream-loader"||d=="xhr-moz-chunked-loader"},h.getNetworkLoaderTypeName=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d},h.supportNativeMediaPlayback=function(p){h.videoElement==null&&(h.videoElement=window.document.createElement("video"));var d=h.videoElement.canPlayType(p);return d==="probably"||d=="maybe"},h.getFeatureList=function(){var p={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return p.mseFlvPlayback=h.supportMSEH264Playback(),p.networkStreamIO=h.supportNetworkStreamIO(),p.networkLoaderName=h.getNetworkLoaderTypeName(),p.mseLiveFlvPlayback=p.mseFlvPlayback&&p.networkStreamIO,p.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),p.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),p.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),p},h}();s.default=f},"./src/core/media-info.js":function(o,s,c){c.r(s);var l=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var f=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,h=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&f&&h},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(f){if(this.keyframesIndex==null)return null;var h=this.keyframesIndex,p=this._search(h.times,f);return{index:p,milliseconds:h.times[p],fileposition:h.filepositions[p]}},u.prototype._search=function(f,h){var p=0,d=f.length-1,v=0,m=0,g=d;for(h<f[0]&&(p=0,m=g+1);m<=g;)if(v=m+Math.floor((g-m)/2),v===d||h>=f[v]&&h<f[v+1]){p=v;break}else f[v]<h?m=v+1:g=v-1;return p},u}();s.default=l},"./src/core/media-segment-info.js":function(o,s,c){c.r(s),c.d(s,{SampleInfo:function(){return l},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return f},MediaSegmentInfoList:function(){return h}});var l=function(){function p(d,v,m,g,_){this.dts=d,this.pts=v,this.duration=m,this.originalDts=g,this.isSyncPoint=_,this.fileposition=null}return p}(),u=function(){function p(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return p.prototype.appendSyncPoint=function(d){d.isSyncPoint=!0,this.syncPoints.push(d)},p}(),f=function(){function p(){this._list=[]}return p.prototype.clear=function(){this._list=[]},p.prototype.appendArray=function(d){var v=this._list;d.length!==0&&(v.length>0&&d[0].originalDts<v[v.length-1].originalDts&&this.clear(),Array.prototype.push.apply(v,d))},p.prototype.getLastSyncPointBeforeDts=function(d){if(this._list.length==0)return null;var v=this._list,m=0,g=v.length-1,_=0,x=0,b=g;for(d<v[0].dts&&(m=0,x=b+1);x<=b;)if(_=x+Math.floor((b-x)/2),_===g||d>=v[_].dts&&d<v[_+1].dts){m=_;break}else v[_].dts<d?x=_+1:b=_-1;return this._list[m]},p}(),h=function(){function p(d){this._type=d,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return this._list.length===0},p.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},p.prototype._searchNearestSegmentBefore=function(d){var v=this._list;if(v.length===0)return-2;var m=v.length-1,g=0,_=0,x=m,b=0;if(d<v[0].originalBeginDts)return b=-1,b;for(;_<=x;)if(g=_+Math.floor((x-_)/2),g===m||d>v[g].lastSample.originalDts&&d<v[g+1].originalBeginDts){b=g;break}else v[g].originalBeginDts<d?_=g+1:x=g-1;return b},p.prototype._searchNearestSegmentAfter=function(d){return this._searchNearestSegmentBefore(d)+1},p.prototype.append=function(d){var v=this._list,m=d,g=this._lastAppendLocation,_=0;g!==-1&&g<v.length&&m.originalBeginDts>=v[g].lastSample.originalDts&&(g===v.length-1||g<v.length-1&&m.originalBeginDts<v[g+1].originalBeginDts)?_=g+1:v.length>0&&(_=this._searchNearestSegmentBefore(m.originalBeginDts)+1),this._lastAppendLocation=_,this._list.splice(_,0,m)},p.prototype.getLastSegmentBefore=function(d){var v=this._searchNearestSegmentBefore(d);return v>=0?this._list[v]:null},p.prototype.getLastSampleBefore=function(d){var v=this.getLastSegmentBefore(d);return v!=null?v.lastSample:null},p.prototype.getLastSyncPointBefore=function(d){for(var v=this._searchNearestSegmentBefore(d),m=this._list[v].syncPoints;m.length===0&&v>0;)v--,m=this._list[v].syncPoints;return m.length>0?m[m.length-1]:null},p}()},"./src/core/mse-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/core/mse-events.js"),d=c("./src/core/media-segment-info.js"),v=c("./src/utils/exception.js"),m=function(){function g(_){this.TAG="MSEController",this._config=_,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new d.IDRSampleList}return g.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},g.prototype.on=function(_,x){this._emitter.addListener(_,x)},g.prototype.off=function(_,x){this._emitter.removeListener(_,x)},g.prototype.attachMediaElement=function(_){if(this._mediaSource)throw new v.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var x=this._mediaSource=new window.MediaSource;x.addEventListener("sourceopen",this.e.onSourceOpen),x.addEventListener("sourceended",this.e.onSourceEnded),x.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=_,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),_.src=this._mediaSourceObjectURL},g.prototype.detachMediaElement=function(){if(this._mediaSource){var _=this._mediaSource;for(var x in this._sourceBuffers){var b=this._pendingSegments[x];b.splice(0,b.length),this._pendingSegments[x]=null,this._pendingRemoveRanges[x]=null,this._lastInitSegments[x]=null;var w=this._sourceBuffers[x];if(w){if(_.readyState!=="closed"){try{_.removeSourceBuffer(w)}catch(E){f.default.e(this.TAG,E.message)}w.removeEventListener("error",this.e.onSourceBufferError),w.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[x]=null,this._sourceBuffers[x]=null}}if(_.readyState==="open")try{_.endOfStream()}catch(E){f.default.e(this.TAG,E.message)}_.removeEventListener("sourceopen",this.e.onSourceOpen),_.removeEventListener("sourceended",this.e.onSourceEnded),_.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},g.prototype.appendInitSegment=function(_,x){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(_),this._pendingSegments[_.type].push(_);return}var b=_,w=""+b.container;b.codec&&b.codec.length>0&&(w+=";codecs="+b.codec);var E=!1;if(f.default.v(this.TAG,"Received Initialization Segment, mimeType: "+w),this._lastInitSegments[b.type]=b,w!==this._mimeTypes[b.type]){if(this._mimeTypes[b.type])f.default.v(this.TAG,"Notice: "+b.type+" mimeType changed, origin: "+this._mimeTypes[b.type]+", target: "+w);else{E=!0;try{var C=this._sourceBuffers[b.type]=this._mediaSource.addSourceBuffer(w);C.addEventListener("error",this.e.onSourceBufferError),C.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(T){f.default.e(this.TAG,T.message),this._emitter.emit(p.default.ERROR,{code:T.code,msg:T.message});return}}this._mimeTypes[b.type]=w}x||this._pendingSegments[b.type].push(b),E||this._sourceBuffers[b.type]&&!this._sourceBuffers[b.type].updating&&this._doAppendSegments(),h.default.safari&&b.container==="audio/mpeg"&&b.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=b.mediaDuration/1e3,this._updateMediaSourceDuration())},g.prototype.appendMediaSegment=function(_){var x=_;this._pendingSegments[x.type].push(x),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var b=this._sourceBuffers[x.type];b&&!b.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},g.prototype.seek=function(_){for(var x in this._sourceBuffers)if(this._sourceBuffers[x]){var b=this._sourceBuffers[x];if(this._mediaSource.readyState==="open")try{b.abort()}catch(R){f.default.e(this.TAG,R.message)}this._idrList.clear();var w=this._pendingSegments[x];if(w.splice(0,w.length),this._mediaSource.readyState!=="closed"){for(var E=0;E<b.buffered.length;E++){var C=b.buffered.start(E),T=b.buffered.end(E);this._pendingRemoveRanges[x].push({start:C,end:T})}if(b.updating||this._doRemoveRanges(),h.default.safari){var I=this._lastInitSegments[x];I&&(this._pendingSegments[x].push(I),b.updating||this._doAppendSegments())}}}},g.prototype.endOfStream=function(){var _=this._mediaSource,x=this._sourceBuffers;if(!_||_.readyState!=="open"){_&&_.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}x.video&&x.video.updating||x.audio&&x.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,_.endOfStream())},g.prototype.getNearestKeyframe=function(_){return this._idrList.getLastSyncPointBeforeDts(_)},g.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var _=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var b=this._sourceBuffers[x];if(b){var w=b.buffered;if(w.length>=1&&_-w.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},g.prototype._doCleanupSourceBuffer=function(){var _=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var b=this._sourceBuffers[x];if(b){for(var w=b.buffered,E=!1,C=0;C<w.length;C++){var T=w.start(C),I=w.end(C);if(T<=_&&_<I+3){if(_-T>=this._config.autoCleanupMaxBackwardDuration){E=!0;var R=_-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[x].push({start:T,end:R})}}else I<_&&(E=!0,this._pendingRemoveRanges[x].push({start:T,end:I}))}E&&!b.updating&&this._doRemoveRanges()}}},g.prototype._updateMediaSourceDuration=function(){var _=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(_.video&&_.video.updating||_.audio&&_.audio.updating)){var x=this._mediaSource.duration,b=this._pendingMediaDuration;b>0&&(isNaN(x)||b>x)&&(f.default.v(this.TAG,"Update MediaSource duration from "+x+" to "+b),this._mediaSource.duration=b),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},g.prototype._doRemoveRanges=function(){for(var _ in this._pendingRemoveRanges)if(!(!this._sourceBuffers[_]||this._sourceBuffers[_].updating))for(var x=this._sourceBuffers[_],b=this._pendingRemoveRanges[_];b.length&&!x.updating;){var w=b.shift();x.remove(w.start,w.end)}},g.prototype._doAppendSegments=function(){var _=this._pendingSegments;for(var x in _)if(!(!this._sourceBuffers[x]||this._sourceBuffers[x].updating)&&_[x].length>0){var b=_[x].shift();if(b.timestampOffset){var w=this._sourceBuffers[x].timestampOffset,E=b.timestampOffset/1e3,C=Math.abs(w-E);C>.1&&(f.default.v(this.TAG,"Update MPEG audio timestampOffset from "+w+" to "+E),this._sourceBuffers[x].timestampOffset=E),delete b.timestampOffset}if(!b.data||b.data.byteLength===0)continue;try{this._sourceBuffers[x].appendBuffer(b.data),this._isBufferFull=!1,x==="video"&&b.hasOwnProperty("info")&&this._idrList.appendArray(b.info.syncPoints)}catch(T){this._pendingSegments[x].unshift(b),T.code===22?(this._isBufferFull||this._emitter.emit(p.default.BUFFER_FULL),this._isBufferFull=!0):(f.default.e(this.TAG,T.message),this._emitter.emit(p.default.ERROR,{code:T.code,msg:T.message}))}}},g.prototype._onSourceOpen=function(){if(f.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var _=this._pendingSourceBufferInit;_.length;){var x=_.shift();this.appendInitSegment(x,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(p.default.SOURCE_OPEN)},g.prototype._onSourceEnded=function(){f.default.v(this.TAG,"MediaSource onSourceEnded")},g.prototype._onSourceClose=function(){f.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},g.prototype._hasPendingSegments=function(){var _=this._pendingSegments;return _.video.length>0||_.audio.length>0},g.prototype._hasPendingRemoveRanges=function(){var _=this._pendingRemoveRanges;return _.video.length>0||_.audio.length>0},g.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(p.default.UPDATE_END)},g.prototype._onSourceBufferError=function(_){f.default.e(this.TAG,"SourceBuffer Error: "+_)},g}();s.default=m},"./src/core/mse-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};s.default=l},"./src/core/transmuxer.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./node_modules/webworkify-webpack/index.js"),h=c.n(f),p=c("./src/utils/logger.js"),d=c("./src/utils/logging-control.js"),v=c("./src/core/transmuxing-controller.js"),m=c("./src/core/transmuxing-events.js"),g=c("./src/core/media-info.js"),_=function(){function x(b,w){if(this.TAG="Transmuxer",this._emitter=new(u()),w.enableWorker&&typeof Worker<"u")try{this._worker=h()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[b,w]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},d.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:d.default.getConfig()})}catch{p.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new v.default(b,w)}else this._controller=new v.default(b,w);if(this._controller){var E=this._controller;E.on(m.default.IO_ERROR,this._onIOError.bind(this)),E.on(m.default.DEMUX_ERROR,this._onDemuxError.bind(this)),E.on(m.default.INIT_SEGMENT,this._onInitSegment.bind(this)),E.on(m.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),E.on(m.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),E.on(m.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),E.on(m.default.MEDIA_INFO,this._onMediaInfo.bind(this)),E.on(m.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),E.on(m.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),E.on(m.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),E.on(m.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return x.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),d.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(b,w){this._emitter.addListener(b,w)},x.prototype.off=function(b,w){this._emitter.removeListener(b,w)},x.prototype.hasWorker=function(){return this._worker!=null},x.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},x.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},x.prototype.seek=function(b){this._worker?this._worker.postMessage({cmd:"seek",param:b}):this._controller.seek(b)},x.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},x.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},x.prototype._onInitSegment=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.INIT_SEGMENT,b,w)})},x.prototype._onMediaSegment=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.MEDIA_SEGMENT,b,w)})},x.prototype._onLoadingComplete=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.LOADING_COMPLETE)})},x.prototype._onRecoveredEarlyEof=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.RECOVERED_EARLY_EOF)})},x.prototype._onMediaInfo=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.MEDIA_INFO,b)})},x.prototype._onMetaDataArrived=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.METADATA_ARRIVED,b)})},x.prototype._onScriptDataArrived=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.SCRIPTDATA_ARRIVED,b)})},x.prototype._onStatisticsInfo=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.STATISTICS_INFO,b)})},x.prototype._onIOError=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.IO_ERROR,b,w)})},x.prototype._onDemuxError=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.DEMUX_ERROR,b,w)})},x.prototype._onRecommendSeekpoint=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.RECOMMEND_SEEKPOINT,b)})},x.prototype._onLoggingConfigChanged=function(b){this._worker&&this._worker.postMessage({cmd:"logging_config",param:b})},x.prototype._onWorkerMessage=function(b){var w=b.data,E=w.data;if(w.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(w.msg){case m.default.INIT_SEGMENT:case m.default.MEDIA_SEGMENT:this._emitter.emit(w.msg,E.type,E.data);break;case m.default.LOADING_COMPLETE:case m.default.RECOVERED_EARLY_EOF:this._emitter.emit(w.msg);break;case m.default.MEDIA_INFO:Object.setPrototypeOf(E,g.default.prototype),this._emitter.emit(w.msg,E);break;case m.default.METADATA_ARRIVED:case m.default.SCRIPTDATA_ARRIVED:case m.default.STATISTICS_INFO:this._emitter.emit(w.msg,E);break;case m.default.IO_ERROR:case m.default.DEMUX_ERROR:this._emitter.emit(w.msg,E.type,E.info);break;case m.default.RECOMMEND_SEEKPOINT:this._emitter.emit(w.msg,E);break;case"logcat_callback":p.default.emitter.emit("log",E.type,E.logcat);break}},x}();s.default=_},"./src/core/transmuxing-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/core/media-info.js"),d=c("./src/demux/flv-demuxer.js"),v=c("./src/remux/mp4-remuxer.js"),m=c("./src/demux/demux-errors.js"),g=c("./src/io/io-controller.js"),_=c("./src/core/transmuxing-events.js"),x=function(){function b(w,E){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=E,w.segments||(w.segments=[{duration:w.duration,filesize:w.filesize,url:w.url}]),typeof w.cors!="boolean"&&(w.cors=!0),typeof w.withCredentials!="boolean"&&(w.withCredentials=!1),this._mediaDataSource=w,this._currentSegmentIndex=0;var C=0;this._mediaDataSource.segments.forEach(function(T){T.timestampBase=C,C+=T.duration,T.cors=w.cors,T.withCredentials=w.withCredentials,E.referrerPolicy&&(T.referrerPolicy=E.referrerPolicy)}),!isNaN(C)&&this._mediaDataSource.duration!==C&&(this._mediaDataSource.duration=C),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return b.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},b.prototype.on=function(w,E){this._emitter.addListener(w,E)},b.prototype.off=function(w,E){this._emitter.removeListener(w,E)},b.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},b.prototype._loadSegment=function(w,E){this._currentSegmentIndex=w;var C=this._mediaDataSource.segments[w],T=this._ioctl=new g.default(C,this._config,w);T.onError=this._onIOException.bind(this),T.onSeeked=this._onIOSeeked.bind(this),T.onComplete=this._onIOComplete.bind(this),T.onRedirect=this._onIORedirect.bind(this),T.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),E?this._demuxer.bindDataSource(this._ioctl):T.onDataArrival=this._onInitChunkArrival.bind(this),T.open(E)},b.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},b.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},b.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},b.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},b.prototype.seek=function(w){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var E=this._searchSegmentIndexContains(w);if(E===this._currentSegmentIndex){var C=this._mediaInfo.segments[E];if(C==null)this._pendingSeekTime=w;else{var T=C.getNearestKeyframe(w);this._remuxer.seek(T.milliseconds),this._ioctl.seek(T.fileposition),this._pendingResolveSeekPoint=T.milliseconds}}else{var I=this._mediaInfo.segments[E];if(I==null)this._pendingSeekTime=w,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(E);else{var T=I.getNearestKeyframe(w);this._internalAbort(),this._remuxer.seek(w),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[E].timestampBase,this._loadSegment(E,T.fileposition),this._pendingResolveSeekPoint=T.milliseconds,this._reportSegmentMediaInfo(E)}}this._enableStatisticsReporter()}},b.prototype._searchSegmentIndexContains=function(w){for(var E=this._mediaDataSource.segments,C=E.length-1,T=0;T<E.length;T++)if(w<E[T].timestampBase){C=T-1;break}return C},b.prototype._onInitChunkArrival=function(w,E){var C=this,T=null,I=0;if(E>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,I=this._demuxer.parseChunks(w,E);else if((T=d.default.probe(w)).match){this._demuxer=new d.default(T,this._config),this._remuxer||(this._remuxer=new v.default(this._config));var R=this._mediaDataSource;R.duration!=null&&!isNaN(R.duration)&&(this._demuxer.overridedDuration=R.duration),typeof R.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=R.hasAudio),typeof R.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=R.hasVideo),this._demuxer.timestampBase=R.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),I=this._demuxer.parseChunks(w,E)}else T=null,f.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){C._internalAbort()}),this._emitter.emit(_.default.DEMUX_ERROR,m.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),I=0;return I},b.prototype._onMediaInfo=function(w){var E=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},w),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,p.default.prototype));var C=Object.assign({},w);Object.setPrototypeOf(C,p.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=C,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var T=E._pendingSeekTime;E._pendingSeekTime=null,E.seek(T)})},b.prototype._onMetaDataArrived=function(w){this._emitter.emit(_.default.METADATA_ARRIVED,w)},b.prototype._onScriptDataArrived=function(w){this._emitter.emit(_.default.SCRIPTDATA_ARRIVED,w)},b.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},b.prototype._onIOComplete=function(w){var E=w,C=E+1;C<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(C)):(this._remuxer.flushStashedSamples(),this._emitter.emit(_.default.LOADING_COMPLETE),this._disableStatisticsReporter())},b.prototype._onIORedirect=function(w){var E=this._ioctl.extraData;this._mediaDataSource.segments[E].redirectedURL=w},b.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(_.default.RECOVERED_EARLY_EOF)},b.prototype._onIOException=function(w,E){f.default.e(this.TAG,"IOException: type = "+w+", code = "+E.code+", msg = "+E.msg),this._emitter.emit(_.default.IO_ERROR,w,E),this._disableStatisticsReporter()},b.prototype._onDemuxException=function(w,E){f.default.e(this.TAG,"DemuxException: type = "+w+", info = "+E),this._emitter.emit(_.default.DEMUX_ERROR,w,E)},b.prototype._onRemuxerInitSegmentArrival=function(w,E){this._emitter.emit(_.default.INIT_SEGMENT,w,E)},b.prototype._onRemuxerMediaSegmentArrival=function(w,E){if(this._pendingSeekTime==null&&(this._emitter.emit(_.default.MEDIA_SEGMENT,w,E),this._pendingResolveSeekPoint!=null&&w==="video")){var C=E.info.syncPoints,T=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,h.default.safari&&C.length>0&&C[0].originalDts===T&&(T=C[0].pts),this._emitter.emit(_.default.RECOMMEND_SEEKPOINT,T)}},b.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},b.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},b.prototype._reportSegmentMediaInfo=function(w){var E=this._mediaInfo.segments[w],C=Object.assign({},E);C.duration=this._mediaInfo.duration,C.segmentCount=this._mediaInfo.segmentCount,delete C.segments,delete C.keyframesIndex,this._emitter.emit(_.default.MEDIA_INFO,C)},b.prototype._reportStatisticsInfo=function(){var w={};w.url=this._ioctl.currentURL,w.hasRedirect=this._ioctl.hasRedirect,w.hasRedirect&&(w.redirectedURL=this._ioctl.currentRedirectedURL),w.speed=this._ioctl.currentSpeed,w.loaderType=this._ioctl.loaderType,w.currentSegmentIndex=this._currentSegmentIndex,w.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(_.default.STATISTICS_INFO,w)},b}();s.default=x},"./src/core/transmuxing-events.js":function(o,s,c){c.r(s);var l={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};s.default=l},"./src/core/transmuxing-worker.js":function(o,s,c){c.r(s);var l=c("./src/utils/logging-control.js"),u=c("./src/utils/polyfill.js"),f=c("./src/core/transmuxing-controller.js"),h=c("./src/core/transmuxing-events.js"),p=function(d){var v=null,m=P.bind(this);u.default.install(),d.addEventListener("message",function(k){switch(k.data.cmd){case"init":v=new f.default(k.data.param[0],k.data.param[1]),v.on(h.default.IO_ERROR,I.bind(this)),v.on(h.default.DEMUX_ERROR,R.bind(this)),v.on(h.default.INIT_SEGMENT,g.bind(this)),v.on(h.default.MEDIA_SEGMENT,_.bind(this)),v.on(h.default.LOADING_COMPLETE,x.bind(this)),v.on(h.default.RECOVERED_EARLY_EOF,b.bind(this)),v.on(h.default.MEDIA_INFO,w.bind(this)),v.on(h.default.METADATA_ARRIVED,E.bind(this)),v.on(h.default.SCRIPTDATA_ARRIVED,C.bind(this)),v.on(h.default.STATISTICS_INFO,T.bind(this)),v.on(h.default.RECOMMEND_SEEKPOINT,O.bind(this));break;case"destroy":v&&(v.destroy(),v=null),d.postMessage({msg:"destroyed"});break;case"start":v.start();break;case"stop":v.stop();break;case"seek":v.seek(k.data.param);break;case"pause":v.pause();break;case"resume":v.resume();break;case"logging_config":{var L=k.data.param;l.default.applyConfig(L),L.enableCallback===!0?l.default.addLogListener(m):l.default.removeLogListener(m);break}}});function g(k,L){var B={msg:h.default.INIT_SEGMENT,data:{type:k,data:L}};d.postMessage(B,[L.data])}function _(k,L){var B={msg:h.default.MEDIA_SEGMENT,data:{type:k,data:L}};d.postMessage(B,[L.data])}function x(){var k={msg:h.default.LOADING_COMPLETE};d.postMessage(k)}function b(){var k={msg:h.default.RECOVERED_EARLY_EOF};d.postMessage(k)}function w(k){var L={msg:h.default.MEDIA_INFO,data:k};d.postMessage(L)}function E(k){var L={msg:h.default.METADATA_ARRIVED,data:k};d.postMessage(L)}function C(k){var L={msg:h.default.SCRIPTDATA_ARRIVED,data:k};d.postMessage(L)}function T(k){var L={msg:h.default.STATISTICS_INFO,data:k};d.postMessage(L)}function I(k,L){d.postMessage({msg:h.default.IO_ERROR,data:{type:k,info:L}})}function R(k,L){d.postMessage({msg:h.default.DEMUX_ERROR,data:{type:k,info:L}})}function O(k){d.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:k})}function P(k,L){d.postMessage({msg:"logcat_callback",data:{type:k,logcat:L}})}};s.default=p},"./src/demux/amf-parser.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/utils/utf8-conv.js"),f=c("./src/utils/exception.js"),h=function(){var d=new ArrayBuffer(2);return new DataView(d).setInt16(0,256,!0),new Int16Array(d)[0]===256}(),p=function(){function d(){}return d.parseScriptData=function(v,m,g){var _={};try{var x=d.parseValue(v,m,g),b=d.parseValue(v,m+x.size,g-x.size);_[x.data]=b.data}catch(w){l.default.e("AMF",w.toString())}return _},d.parseObject=function(v,m,g){if(g<3)throw new f.IllegalStateException("Data not enough when parse ScriptDataObject");var _=d.parseString(v,m,g),x=d.parseValue(v,m+_.size,g-_.size),b=x.objectEnd;return{data:{name:_.data,value:x.data},size:_.size+x.size,objectEnd:b}},d.parseVariable=function(v,m,g){return d.parseObject(v,m,g)},d.parseString=function(v,m,g){if(g<2)throw new f.IllegalStateException("Data not enough when parse String");var _=new DataView(v,m,g),x=_.getUint16(0,!h),b;return x>0?b=(0,u.default)(new Uint8Array(v,m+2,x)):b="",{data:b,size:2+x}},d.parseLongString=function(v,m,g){if(g<4)throw new f.IllegalStateException("Data not enough when parse LongString");var _=new DataView(v,m,g),x=_.getUint32(0,!h),b;return x>0?b=(0,u.default)(new Uint8Array(v,m+4,x)):b="",{data:b,size:4+x}},d.parseDate=function(v,m,g){if(g<10)throw new f.IllegalStateException("Data size invalid when parse Date");var _=new DataView(v,m,g),x=_.getFloat64(0,!h),b=_.getInt16(8,!h);return x+=b*60*1e3,{data:new Date(x),size:8+2}},d.parseValue=function(v,m,g){if(g<1)throw new f.IllegalStateException("Data not enough when parse Value");var _=new DataView(v,m,g),x=1,b=_.getUint8(0),w,E=!1;try{switch(b){case 0:w=_.getFloat64(1,!h),x+=8;break;case 1:{var C=_.getUint8(1);w=!!C,x+=1;break}case 2:{var T=d.parseString(v,m+1,g-1);w=T.data,x+=T.size;break}case 3:{w={};var I=0;for((_.getUint32(g-4,!h)&16777215)===9&&(I=3);x<g-4;){var R=d.parseObject(v,m+x,g-x-I);if(R.objectEnd)break;w[R.data.name]=R.data.value,x+=R.size}if(x<=g-3){var O=_.getUint32(x-1,!h)&16777215;O===9&&(x+=3)}break}case 8:{w={},x+=4;var I=0;for((_.getUint32(g-4,!h)&16777215)===9&&(I=3);x<g-8;){var P=d.parseVariable(v,m+x,g-x-I);if(P.objectEnd)break;w[P.data.name]=P.data.value,x+=P.size}if(x<=g-3){var O=_.getUint32(x-1,!h)&16777215;O===9&&(x+=3)}break}case 9:w=void 0,x=1,E=!0;break;case 10:{w=[];var k=_.getUint32(1,!h);x+=4;for(var L=0;L<k;L++){var B=d.parseValue(v,m+x,g-x);w.push(B.data),x+=B.size}break}case 11:{var U=d.parseDate(v,m+1,g-1);w=U.data,x+=U.size;break}case 12:{var z=d.parseString(v,m+1,g-1);w=z.data,x+=z.size;break}default:x=g,l.default.w("AMF","Unsupported AMF value type "+b)}}catch(ee){l.default.e("AMF",ee.toString())}return{data:w,size:x,objectEnd:E}},d}();s.default=p},"./src/demux/demux-errors.js":function(o,s,c){c.r(s);var l={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};s.default=l},"./src/demux/exp-golomb.js":function(o,s,c){c.r(s);var l=c("./src/utils/exception.js"),u=function(){function f(h){this.TAG="ExpGolomb",this._buffer=h,this._buffer_index=0,this._total_bytes=h.byteLength,this._total_bits=h.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return f.prototype.destroy=function(){this._buffer=null},f.prototype._fillCurrentWord=function(){var h=this._total_bytes-this._buffer_index;if(h<=0)throw new l.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var p=Math.min(4,h),d=new Uint8Array(4);d.set(this._buffer.subarray(this._buffer_index,this._buffer_index+p)),this._current_word=new DataView(d.buffer).getUint32(0,!1),this._buffer_index+=p,this._current_word_bits_left=p*8},f.prototype.readBits=function(h){if(h>32)throw new l.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(h<=this._current_word_bits_left){var p=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,p}var d=this._current_word_bits_left?this._current_word:0;d=d>>>32-this._current_word_bits_left;var v=h-this._current_word_bits_left;this._fillCurrentWord();var m=Math.min(v,this._current_word_bits_left),g=this._current_word>>>32-m;return this._current_word<<=m,this._current_word_bits_left-=m,d=d<<m|g,d},f.prototype.readBool=function(){return this.readBits(1)===1},f.prototype.readByte=function(){return this.readBits(8)},f.prototype._skipLeadingZero=function(){var h;for(h=0;h<this._current_word_bits_left;h++)if(this._current_word&2147483648>>>h)return this._current_word<<=h,this._current_word_bits_left-=h,h;return this._fillCurrentWord(),h+this._skipLeadingZero()},f.prototype.readUEG=function(){var h=this._skipLeadingZero();return this.readBits(h+1)-1},f.prototype.readSEG=function(){var h=this.readUEG();return h&1?h+1>>>1:-1*(h>>>1)},f}();s.default=u},"./src/demux/flv-demuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/demux/amf-parser.js"),f=c("./src/demux/sps-parser.js"),h=c("./src/demux/demux-errors.js"),p=c("./src/core/media-info.js"),d=c("./src/utils/exception.js");function v(g,_){return g[_]<<24|g[_+1]<<16|g[_+2]<<8|g[_+3]}var m=function(){function g(_,x){this.TAG="FLVDemuxer",this._config=x,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=_.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=_.hasAudioTrack,this._hasVideo=_.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new p.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var b=new ArrayBuffer(2);return new DataView(b).setInt16(0,256,!0),new Int16Array(b)[0]===256}()}return g.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},g.probe=function(_){var x=new Uint8Array(_),b={match:!1};if(x[0]!==70||x[1]!==76||x[2]!==86||x[3]!==1)return b;var w=(x[4]&4)>>>2!==0,E=(x[4]&1)!==0,C=v(x,5);return C<9?b:{match:!0,consumed:C,dataOffset:C,hasAudioTrack:w,hasVideoTrack:E}},g.prototype.bindDataSource=function(_){return _.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(g.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(_){this._onTrackMetadata=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(_){this._onMediaInfo=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(_){this._onMetaDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(_){this._onScriptDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onError",{get:function(){return this._onError},set:function(_){this._onError=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(_){this._onDataAvailable=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(_){this._timestampBase=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"overridedDuration",{get:function(){return this._duration},set:function(_){this._durationOverrided=!0,this._duration=_,this._mediaInfo.duration=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"overridedHasAudio",{set:function(_){this._hasAudioFlagOverrided=!0,this._hasAudio=_,this._mediaInfo.hasAudio=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"overridedHasVideo",{set:function(_){this._hasVideoFlagOverrided=!0,this._hasVideo=_,this._mediaInfo.hasVideo=_},enumerable:!1,configurable:!0}),g.prototype.resetMediaInfo=function(){this._mediaInfo=new p.default},g.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},g.prototype.parseChunks=function(_,x){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new d.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var b=0,w=this._littleEndian;if(x===0)if(_.byteLength>13){var E=g.probe(_);b=E.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,x+b!==this._dataOffset&&l.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var C=new DataView(_,b),T=C.getUint32(0,!w);T!==0&&l.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),b+=4}for(;b<_.byteLength;){this._dispatch=!0;var C=new DataView(_,b);if(b+11+4>_.byteLength)break;var I=C.getUint8(0),R=C.getUint32(0,!w)&16777215;if(b+11+R+4>_.byteLength)break;if(I!==8&&I!==9&&I!==18){l.default.w(this.TAG,"Unsupported tag type "+I+", skipped"),b+=11+R+4;continue}var O=C.getUint8(4),P=C.getUint8(5),k=C.getUint8(6),L=C.getUint8(7),B=k|P<<8|O<<16|L<<24,U=C.getUint32(7,!w)&16777215;U!==0&&l.default.w(this.TAG,"Meet tag which has StreamID != 0!");var z=b+11;switch(I){case 8:this._parseAudioData(_,z,R,B);break;case 9:this._parseVideoData(_,z,R,B,x+b);break;case 18:this._parseScriptData(_,z,R);break}var ee=C.getUint32(11+R,!w);ee!==11+R&&l.default.w(this.TAG,"Invalid PrevTagSize "+ee),b+=11+R+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),b},g.prototype._parseScriptData=function(_,x,b){var w=u.default.parseScriptData(_,x,b);if(w.hasOwnProperty("onMetaData")){if(w.onMetaData==null||typeof w.onMetaData!="object"){l.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&l.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=w;var E=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},E)),typeof E.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=E.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof E.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=E.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof E.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=E.audiodatarate),typeof E.videodatarate=="number"&&(this._mediaInfo.videoDataRate=E.videodatarate),typeof E.width=="number"&&(this._mediaInfo.width=E.width),typeof E.height=="number"&&(this._mediaInfo.height=E.height),typeof E.duration=="number"){if(!this._durationOverrided){var C=Math.floor(E.duration*this._timescale);this._duration=C,this._mediaInfo.duration=C}}else this._mediaInfo.duration=0;if(typeof E.framerate=="number"){var T=Math.floor(E.framerate*1e3);if(T>0){var I=T/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=I,this._referenceFrameRate.fps_num=T,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=I}}if(typeof E.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var R=E.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(R),E.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=E,l.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(w).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},w))},g.prototype._parseKeyframesIndex=function(_){for(var x=[],b=[],w=1;w<_.times.length;w++){var E=this._timestampBase+Math.floor(_.times[w]*1e3);x.push(E),b.push(_.filepositions[w])}return{times:x,filepositions:b}},g.prototype._parseAudioData=function(_,x,b,w){if(b<=1){l.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var E=new DataView(_,x,b),C=E.getUint8(0),T=C>>>4;if(T!==2&&T!==10){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+T);return}var I=0,R=(C&12)>>>2;if(R>=0&&R<=4)I=this._flvSoundRateTable[R];else{this._onError(h.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+R);return}var O=C&1,P=this._audioMetadata,k=this._audioTrack;if(P||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),P=this._audioMetadata={},P.type="audio",P.id=k.id,P.timescale=this._timescale,P.duration=this._duration,P.audioSampleRate=I,P.channelCount=O===0?1:2),T===10){var L=this._parseAACAudioData(_,x+1,b-1);if(L==null)return;if(L.packetType===0){P.config&&l.default.w(this.TAG,"Found another AudioSpecificConfig!");var B=L.data;P.audioSampleRate=B.samplingRate,P.channelCount=B.channelCount,P.codec=B.codec,P.originalCodec=B.originalCodec,P.config=B.config,P.refSampleDuration=1024/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",P);var U=this._mediaInfo;U.audioCodec=P.originalCodec,U.audioSampleRate=P.audioSampleRate,U.audioChannelCount=P.channelCount,U.hasVideo?U.videoCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.audioCodec+'"',U.isComplete()&&this._onMediaInfo(U)}else if(L.packetType===1){var z=this._timestampBase+w,ee={unit:L.data,length:L.data.byteLength,dts:z,pts:z};k.samples.push(ee),k.length+=L.data.length}else l.default.e(this.TAG,"Flv: Unsupported AAC data type "+L.packetType)}else if(T===2){if(!P.codec){var B=this._parseMP3AudioData(_,x+1,b-1,!0);if(B==null)return;P.audioSampleRate=B.samplingRate,P.channelCount=B.channelCount,P.codec=B.codec,P.originalCodec=B.originalCodec,P.refSampleDuration=1152/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",P);var U=this._mediaInfo;U.audioCodec=P.codec,U.audioSampleRate=P.audioSampleRate,U.audioChannelCount=P.channelCount,U.audioDataRate=B.bitRate,U.hasVideo?U.videoCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.audioCodec+'"',U.isComplete()&&this._onMediaInfo(U)}var ne=this._parseMP3AudioData(_,x+1,b-1,!1);if(ne==null)return;var z=this._timestampBase+w,W={unit:ne,length:ne.byteLength,dts:z,pts:z};k.samples.push(W),k.length+=ne.length}}},g.prototype._parseAACAudioData=function(_,x,b){if(b<=1){l.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var w={},E=new Uint8Array(_,x,b);return w.packetType=E[0],E[0]===0?w.data=this._parseAACAudioSpecificConfig(_,x+1,b-1):w.data=E.subarray(1),w},g.prototype._parseAACAudioSpecificConfig=function(_,x,b){var w=new Uint8Array(_,x,b),E=null,C=0,T=0,I=0,R=null;if(C=T=w[0]>>>3,I=(w[0]&7)<<1|w[1]>>>7,I<0||I>=this._mpegSamplingRates.length){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var O=this._mpegSamplingRates[I],P=(w[1]&120)>>>3;if(P<0||P>=8){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}C===5&&(R=(w[1]&7)<<1|w[2]>>>7,(w[2]&124)>>>2);var k=self.navigator.userAgent.toLowerCase();return k.indexOf("firefox")!==-1?I>=6?(C=5,E=new Array(4),R=I-3):(C=2,E=new Array(2),R=I):k.indexOf("android")!==-1?(C=2,E=new Array(2),R=I):(C=5,R=I,E=new Array(4),I>=6?R=I-3:P===1&&(C=2,E=new Array(2),R=I)),E[0]=C<<3,E[0]|=(I&15)>>>1,E[1]=(I&15)<<7,E[1]|=(P&15)<<3,C===5&&(E[1]|=(R&15)>>>1,E[2]=(R&1)<<7,E[2]|=8,E[3]=0),{config:E,samplingRate:O,channelCount:P,codec:"mp4a.40."+C,originalCodec:"mp4a.40."+T}},g.prototype._parseMP3AudioData=function(_,x,b,w){if(b<4){l.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var E=new Uint8Array(_,x,b),C=null;if(w){if(E[0]!==255)return;var T=E[1]>>>3&3,I=(E[1]&6)>>1,R=(E[2]&240)>>>4,O=(E[2]&12)>>>2,P=E[3]>>>6&3,k=P!==3?2:1,L=0,B=0,U="mp3";switch(T){case 0:L=this._mpegAudioV25SampleRateTable[O];break;case 2:L=this._mpegAudioV20SampleRateTable[O];break;case 3:L=this._mpegAudioV10SampleRateTable[O];break}switch(I){case 1:R<this._mpegAudioL3BitRateTable.length&&(B=this._mpegAudioL3BitRateTable[R]);break;case 2:R<this._mpegAudioL2BitRateTable.length&&(B=this._mpegAudioL2BitRateTable[R]);break;case 3:R<this._mpegAudioL1BitRateTable.length&&(B=this._mpegAudioL1BitRateTable[R]);break}C={bitRate:B,samplingRate:L,channelCount:k,codec:U,originalCodec:U}}else C=E;return C},g.prototype._parseVideoData=function(_,x,b,w,E){if(b<=1){l.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var C=new Uint8Array(_,x,b)[0],T=(C&240)>>>4,I=C&15;if(I!==7){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+I);return}this._parseAVCVideoPacket(_,x+1,b-1,w,E,T)}},g.prototype._parseAVCVideoPacket=function(_,x,b,w,E,C){if(b<4){l.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var T=this._littleEndian,I=new DataView(_,x,b),R=I.getUint8(0),O=I.getUint32(0,!T)&16777215,P=O<<8>>8;if(R===0)this._parseAVCDecoderConfigurationRecord(_,x+4,b-4);else if(R===1)this._parseAVCVideoData(_,x+4,b-4,w,E,C,P);else if(R!==2){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid video packet type "+R);return}},g.prototype._parseAVCDecoderConfigurationRecord=function(_,x,b){if(b<7){l.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var w=this._videoMetadata,E=this._videoTrack,C=this._littleEndian,T=new DataView(_,x,b);w?typeof w.avcc<"u"&&l.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),w=this._videoMetadata={},w.type="video",w.id=E.id,w.timescale=this._timescale,w.duration=this._duration);var I=T.getUint8(0),R=T.getUint8(1);if(T.getUint8(2),T.getUint8(3),I!==1||R===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(T.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(h.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var O=T.getUint8(5)&31;if(O===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else O>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+O);for(var P=6,k=0;k<O;k++){var L=T.getUint16(P,!C);if(P+=2,L!==0){var B=new Uint8Array(_,x+P,L);P+=L;var U=f.default.parseSPS(B);if(k===0){w.codecWidth=U.codec_size.width,w.codecHeight=U.codec_size.height,w.presentWidth=U.present_size.width,w.presentHeight=U.present_size.height,w.profile=U.profile_string,w.level=U.level_string,w.bitDepth=U.bit_depth,w.chromaFormat=U.chroma_format,w.sarRatio=U.sar_ratio,w.frameRate=U.frame_rate,(U.frame_rate.fixed===!1||U.frame_rate.fps_num===0||U.frame_rate.fps_den===0)&&(w.frameRate=this._referenceFrameRate);var z=w.frameRate.fps_den,ee=w.frameRate.fps_num;w.refSampleDuration=w.timescale*(z/ee);for(var ne=B.subarray(1,4),W="avc1.",D=0;D<3;D++){var H=ne[D].toString(16);H.length<2&&(H="0"+H),W+=H}w.codec=W;var G=this._mediaInfo;G.width=w.codecWidth,G.height=w.codecHeight,G.fps=w.frameRate.fps,G.profile=w.profile,G.level=w.level,G.refFrames=U.ref_frames,G.chromaFormat=U.chroma_format_string,G.sarNum=w.sarRatio.width,G.sarDen=w.sarRatio.height,G.videoCodec=W,G.hasAudio?G.audioCodec!=null&&(G.mimeType='video/x-flv; codecs="'+G.videoCodec+","+G.audioCodec+'"'):G.mimeType='video/x-flv; codecs="'+G.videoCodec+'"',G.isComplete()&&this._onMediaInfo(G)}}}var V=T.getUint8(P);if(V===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else V>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+V);P++;for(var k=0;k<V;k++){var L=T.getUint16(P,!C);P+=2,L!==0&&(P+=L)}w.avcc=new Uint8Array(b),w.avcc.set(new Uint8Array(_,x,b),0),l.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",w)},g.prototype._parseAVCVideoData=function(_,x,b,w,E,C,T){for(var I=this._littleEndian,R=new DataView(_,x,b),O=[],P=0,k=0,L=this._naluLengthSize,B=this._timestampBase+w,U=C===1;k<b;){if(k+4>=b){l.default.w(this.TAG,"Malformed Nalu near timestamp "+B+", offset = "+k+", dataSize = "+b);break}var z=R.getUint32(k,!I);if(L===3&&(z>>>=8),z>b-L){l.default.w(this.TAG,"Malformed Nalus near timestamp "+B+", NaluSize > DataSize!");return}var ee=R.getUint8(k+L)&31;ee===5&&(U=!0);var ne=new Uint8Array(_,x+k,L+z),W={type:ee,data:ne};O.push(W),P+=ne.byteLength,k+=L+z}if(O.length){var D=this._videoTrack,H={units:O,length:P,isKeyframe:U,dts:B,cts:T,pts:B+T};U&&(H.fileposition=E),D.samples.push(H),D.length+=P}},g}();s.default=m},"./src/demux/sps-parser.js":function(o,s,c){c.r(s);var l=c("./src/demux/exp-golomb.js"),u=function(){function f(){}return f._ebsp2rbsp=function(h){for(var p=h,d=p.byteLength,v=new Uint8Array(d),m=0,g=0;g<d;g++)g>=2&&p[g]===3&&p[g-1]===0&&p[g-2]===0||(v[m]=p[g],m++);return new Uint8Array(v.buffer,0,m)},f.parseSPS=function(h){var p=f._ebsp2rbsp(h),d=new l.default(p);d.readByte();var v=d.readByte();d.readByte();var m=d.readByte();d.readUEG();var g=f.getProfileString(v),_=f.getLevelString(m),x=1,b=420,w=[0,420,422,444],E=8;if((v===100||v===110||v===122||v===244||v===44||v===83||v===86||v===118||v===128||v===138||v===144)&&(x=d.readUEG(),x===3&&d.readBits(1),x<=3&&(b=w[x]),E=d.readUEG()+8,d.readUEG(),d.readBits(1),d.readBool()))for(var C=x!==3?8:12,T=0;T<C;T++)d.readBool()&&(T<6?f._skipScalingList(d,16):f._skipScalingList(d,64));d.readUEG();var I=d.readUEG();if(I===0)d.readUEG();else if(I===1){d.readBits(1),d.readSEG(),d.readSEG();for(var R=d.readUEG(),T=0;T<R;T++)d.readSEG()}var O=d.readUEG();d.readBits(1);var P=d.readUEG(),k=d.readUEG(),L=d.readBits(1);L===0&&d.readBits(1),d.readBits(1);var B=0,U=0,z=0,ee=0,ne=d.readBool();ne&&(B=d.readUEG(),U=d.readUEG(),z=d.readUEG(),ee=d.readUEG());var W=1,D=1,H=0,G=!0,V=0,ie=0,se=d.readBool();if(se){if(d.readBool()){var ge=d.readByte(),ue=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],we=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];ge>0&&ge<16?(W=ue[ge-1],D=we[ge-1]):ge===255&&(W=d.readByte()<<8|d.readByte(),D=d.readByte()<<8|d.readByte())}if(d.readBool()&&d.readBool(),d.readBool()&&(d.readBits(4),d.readBool()&&d.readBits(24)),d.readBool()&&(d.readUEG(),d.readUEG()),d.readBool()){var Be=d.readBits(32),Fe=d.readBits(32);G=d.readBool(),V=Fe,ie=Be*2,H=V/ie}}var Ee=1;(W!==1||D!==1)&&(Ee=W/D);var Te=0,Ge=0;if(x===0)Te=1,Ge=2-L;else{var We=x===3?1:2,Ve=x===1?2:1;Te=We,Ge=Ve*(2-L)}var Xe=(P+1)*16,qe=(2-L)*((k+1)*16);Xe-=(B+U)*Te,qe-=(z+ee)*Ge;var wt=Math.ceil(Xe*Ee);return d.destroy(),d=null,{profile_string:g,level_string:_,bit_depth:E,ref_frames:O,chroma_format:b,chroma_format_string:f.getChromaFormatString(b),frame_rate:{fixed:G,fps:H,fps_den:ie,fps_num:V},sar_ratio:{width:W,height:D},codec_size:{width:Xe,height:qe},present_size:{width:wt,height:qe}}},f._skipScalingList=function(h,p){for(var d=8,v=8,m=0,g=0;g<p;g++)v!==0&&(m=h.readSEG(),v=(d+m+256)%256),d=v===0?d:v},f.getProfileString=function(h){switch(h){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},f.getLevelString=function(h){return(h/10).toFixed(1)},f.getChromaFormatString=function(h){switch(h){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},f}();s.default=u},"./src/flv.js":function(o,s,c){c.r(s);var l=c("./src/utils/polyfill.js"),u=c("./src/core/features.js"),f=c("./src/io/loader.js"),h=c("./src/player/flv-player.js"),p=c("./src/player/native-player.js"),d=c("./src/player/player-events.js"),v=c("./src/player/player-errors.js"),m=c("./src/utils/logging-control.js"),g=c("./src/utils/exception.js");l.default.install();function _(E,C){var T=E;if(T==null||typeof T!="object")throw new g.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!T.hasOwnProperty("type"))throw new g.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(T.type){case"flv":return new h.default(T,C);default:return new p.default(T,C)}}function x(){return u.default.supportMSEH264Playback()}function b(){return u.default.getFeatureList()}var w={};w.createPlayer=_,w.isSupported=x,w.getFeatureList=b,w.BaseLoader=f.BaseLoader,w.LoaderStatus=f.LoaderStatus,w.LoaderErrors=f.LoaderErrors,w.Events=d.default,w.ErrorTypes=v.ErrorTypes,w.ErrorDetails=v.ErrorDetails,w.FlvPlayer=h.default,w.NativePlayer=p.default,w.LoggingControl=m.default,Object.defineProperty(w,"version",{enumerable:!0,get:function(){return"1.6.2"}}),s.default=w},"./src/index.js":function(o,s,c){o.exports=c("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/browser.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var d=function(v,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(g[x]=_[x])},d(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(v,m);function g(){this.constructor=v}v.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),p=function(d){h(v,d);function v(m,g){var _=d.call(this,"fetch-stream-loader")||this;return _.TAG="FetchStreamLoader",_._seekHandler=m,_._config=g,_._needStash=!0,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return v.isSupported=function(){try{var m=l.default.msedge&&l.default.version.minor>=15048,g=l.default.msedge?m:!0;return self.fetch&&self.ReadableStream&&g}catch{return!1}},v.prototype.destroy=function(){this.isWorking()&&this.abort(),d.prototype.destroy.call(this)},v.prototype.open=function(m,g){var _=this;this._dataSource=m,this._range=g;var x=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(x=m.redirectedURL);var b=this._seekHandler.getConfig(x,g),w=new self.Headers;if(typeof b.headers=="object"){var E=b.headers;for(var C in E)E.hasOwnProperty(C)&&w.append(C,E[C])}var T={method:"GET",headers:w,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var C in this._config.headers)w.append(C,this._config.headers[C]);m.cors===!1&&(T.mode="same-origin"),m.withCredentials&&(T.credentials="include"),m.referrerPolicy&&(T.referrerPolicy=m.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,T.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(b.url,T).then(function(I){if(_._requestAbort){_._status=u.LoaderStatus.kIdle,I.body.cancel();return}if(I.ok&&I.status>=200&&I.status<=299){if(I.url!==b.url&&_._onURLRedirect){var R=_._seekHandler.removeURLParameters(I.url);_._onURLRedirect(R)}var O=I.headers.get("Content-Length");return O!=null&&(_._contentLength=parseInt(O),_._contentLength!==0&&_._onContentLengthKnown&&_._onContentLengthKnown(_._contentLength)),_._pump.call(_,I.body.getReader())}else if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:I.status,msg:I.statusText});else throw new f.RuntimeException("FetchStreamLoader: Http code invalid, "+I.status+" "+I.statusText)}).catch(function(I){if(!(_._abortController&&_._abortController.signal.aborted))if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:I.message});else throw I})},v.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!l.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},v.prototype._pump=function(m){var g=this;return m.read().then(function(_){if(_.done)if(g._contentLength!==null&&g._receivedLength<g._contentLength){g._status=u.LoaderStatus.kError;var x=u.LoaderErrors.EARLY_EOF,b={code:-1,msg:"Fetch stream meet Early-EOF"};if(g._onError)g._onError(x,b);else throw new f.RuntimeException(b.msg)}else g._status=u.LoaderStatus.kComplete,g._onComplete&&g._onComplete(g._range.from,g._range.from+g._receivedLength-1);else{if(g._abortController&&g._abortController.signal.aborted){g._status=u.LoaderStatus.kComplete;return}else if(g._requestAbort===!0)return g._status=u.LoaderStatus.kComplete,m.cancel();g._status=u.LoaderStatus.kBuffering;var w=_.value.buffer,E=g._range.from+g._receivedLength;g._receivedLength+=w.byteLength,g._onDataArrival&&g._onDataArrival(w,E,g._receivedLength),g._pump(m)}}).catch(function(_){if(g._abortController&&g._abortController.signal.aborted){g._status=u.LoaderStatus.kComplete;return}if(!(_.code===11&&l.default.msedge)){g._status=u.LoaderStatus.kError;var x=0,b=null;if((_.code===19||_.message==="network error")&&(g._contentLength===null||g._contentLength!==null&&g._receivedLength<g._contentLength)?(x=u.LoaderErrors.EARLY_EOF,b={code:_.code,msg:"Fetch stream meet Early-EOF"}):(x=u.LoaderErrors.EXCEPTION,b={code:_.code,msg:_.message}),g._onError)g._onError(x,b);else throw new f.RuntimeException(b.msg)}})},v}(u.BaseLoader);s.default=p},"./src/io/io-controller.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/io/fetch-stream-loader.js"),p=c("./src/io/xhr-moz-chunked-loader.js"),d=c("./src/io/xhr-range-loader.js"),v=c("./src/io/websocket-loader.js"),m=c("./src/io/range-seek-handler.js"),g=c("./src/io/param-seek-handler.js"),_=c("./src/utils/exception.js"),x=function(){function b(w,E,C){this.TAG="IOController",this._config=E,this._extraData=C,this._stashInitialSize=1024*384,E.stashInitialSize!=null&&E.stashInitialSize>0&&(this._stashInitialSize=E.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,E.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=w,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(w.url),this._refTotalLength=w.filesize?w.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return b.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},b.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},b.prototype.isPaused=function(){return this._paused},Object.defineProperty(b.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"extraData",{get:function(){return this._extraData},set:function(w){this._extraData=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(w){this._onDataArrival=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(w){this._onSeeked=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onError",{get:function(){return this._onError},set:function(w){this._onError=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onComplete",{get:function(){return this._onComplete},set:function(w){this._onComplete=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(w){this._onRedirect=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(w){this._onRecoveredEarlyEof=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentSpeed",{get:function(){return this._loaderClass===d.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),b.prototype._selectSeekHandler=function(){var w=this._config;if(w.seekType==="range")this._seekHandler=new m.default(this._config.rangeLoadZeroStart);else if(w.seekType==="param"){var E=w.seekParamStart||"bstart",C=w.seekParamEnd||"bend";this._seekHandler=new g.default(E,C)}else if(w.seekType==="custom"){if(typeof w.customSeekHandler!="function")throw new _.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new w.customSeekHandler}else throw new _.InvalidArgumentException("Invalid seekType in config: "+w.seekType)},b.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=v.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(p.default.isSupported())this._loaderClass=p.default;else if(d.default.isSupported())this._loaderClass=d.default;else throw new _.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},b.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},b.prototype.open=function(w){this._currentRange={from:0,to:-1},w&&(this._currentRange.from=w),this._speedSampler.reset(),w||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},b.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},b.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},b.prototype.resume=function(){if(this._paused){this._paused=!1;var w=this._resumeFrom;this._resumeFrom=0,this._internalSeek(w,!0)}},b.prototype.seek=function(w){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(w,!0)},b.prototype._internalSeek=function(w,E){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(E),this._loader.destroy(),this._loader=null;var C={from:w,to:-1};this._currentRange={from:C.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,C),this._onSeeked&&this._onSeeked()},b.prototype.updateUrl=function(w){if(!w||typeof w!="string"||w.length===0)throw new _.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=w},b.prototype._expandBuffer=function(w){for(var E=this._stashSize;E+1024*1024*1<w;)E*=2;if(E+=1024*1024*1,E!==this._bufferSize){var C=new ArrayBuffer(E);if(this._stashUsed>0){var T=new Uint8Array(this._stashBuffer,0,this._stashUsed),I=new Uint8Array(C,0,E);I.set(T,0)}this._stashBuffer=C,this._bufferSize=E}},b.prototype._normalizeSpeed=function(w){var E=this._speedNormalizeList,C=E.length-1,T=0,I=0,R=C;if(w<E[0])return E[0];for(;I<=R;){if(T=I+Math.floor((R-I)/2),T===C||w>=E[T]&&w<E[T+1])return E[T];E[T]<w?I=T+1:R=T-1}},b.prototype._adjustStashSize=function(w){var E=0;this._config.isLive||w<512?E=w:w>=512&&w<=1024?E=Math.floor(w*1.5):E=w*2,E>8192&&(E=8192);var C=E*1024+1024*1024*1;this._bufferSize<C&&this._expandBuffer(C),this._stashSize=E*1024},b.prototype._dispatchChunks=function(w,E){return this._currentRange.to=E+w.byteLength-1,this._onDataArrival(w,E)},b.prototype._onURLRedirect=function(w){this._redirectedURL=w,this._onRedirect&&this._onRedirect(w)},b.prototype._onContentLengthKnown=function(w){w&&this._fullRequestFlag&&(this._totalLength=w,this._fullRequestFlag=!1)},b.prototype._onLoaderChunkArrival=function(w,E,C){if(!this._onDataArrival)throw new _.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(w.byteLength);var T=this._speedSampler.lastSecondKBps;if(T!==0){var I=this._normalizeSpeed(T);this._speedNormalized!==I&&(this._speedNormalized=I,this._adjustStashSize(I))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=E),this._stashUsed+w.byteLength<=this._stashSize){var P=new Uint8Array(this._stashBuffer,0,this._stashSize);P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength}else{var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var L=this._stashBuffer.slice(0,this._stashUsed),R=this._dispatchChunks(L,this._stashByteStart);if(R<L.byteLength){if(R>0){var k=new Uint8Array(L,R);P.set(k,0),this._stashUsed=k.byteLength,this._stashByteStart+=R}}else this._stashUsed=0,this._stashByteStart+=R;this._stashUsed+w.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+w.byteLength),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength}else{var R=this._dispatchChunks(w,E);if(R<w.byteLength){var O=w.byteLength-R;O>this._bufferSize&&(this._expandBuffer(O),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(w,R),0),this._stashUsed+=O,this._stashByteStart=E+R}}}else if(this._stashUsed===0){var R=this._dispatchChunks(w,E);if(R<w.byteLength){var O=w.byteLength-R;O>this._bufferSize&&this._expandBuffer(O);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(w,R),0),this._stashUsed+=O,this._stashByteStart=E+R}}else{this._stashUsed+w.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+w.byteLength);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength;var R=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(R<this._stashUsed&&R>0){var k=new Uint8Array(this._stashBuffer,R);P.set(k,0)}this._stashUsed-=R,this._stashByteStart+=R}}},b.prototype._flushStashBuffer=function(w){if(this._stashUsed>0){var E=this._stashBuffer.slice(0,this._stashUsed),C=this._dispatchChunks(E,this._stashByteStart),T=E.byteLength-C;if(C<E.byteLength)if(w)l.default.w(this.TAG,T+" bytes unconsumed data remain when flush buffer, dropped");else{if(C>0){var I=new Uint8Array(this._stashBuffer,0,this._bufferSize),R=new Uint8Array(E,C);I.set(R,0),this._stashUsed=R.byteLength,this._stashByteStart+=C}return 0}return this._stashUsed=0,this._stashByteStart=0,T}return 0},b.prototype._onLoaderComplete=function(w,E){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},b.prototype._onLoaderError=function(w,E){switch(l.default.e(this.TAG,"Loader error, code = "+E.code+", msg = "+E.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,w=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF),w){case f.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var C=this._currentRange.to+1;C<this._totalLength&&(l.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(C,!1));return}w=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case f.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case f.LoaderErrors.CONNECTING_TIMEOUT:case f.LoaderErrors.HTTP_STATUS_CODE_INVALID:case f.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(w,E);else throw new _.RuntimeException("IOException: "+E.msg)},b}();s.default=x},"./src/io/loader.js":function(o,s,c){c.r(s),c.d(s,{LoaderStatus:function(){return u},LoaderErrors:function(){return f},BaseLoader:function(){return h}});var l=c("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},f={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},h=function(){function p(d){this._type=d||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return p.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},p.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(d){this._onContentLengthKnown=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(d){this._onURLRedirect=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(d){this._onDataArrival=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(d){this._onError=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onComplete",{get:function(){return this._onComplete},set:function(d){this._onComplete=d},enumerable:!1,configurable:!0}),p.prototype.open=function(d,v){throw new l.NotImplementedException("Unimplemented abstract function!")},p.prototype.abort=function(){throw new l.NotImplementedException("Unimplemented abstract function!")},p}()},"./src/io/param-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f,h){this._startName=f,this._endName=h}return u.prototype.getConfig=function(f,h){var p=f;if(h.from!==0||h.to!==-1){var d=!0;p.indexOf("?")===-1&&(p+="?",d=!1),d&&(p+="&"),p+=this._startName+"="+h.from.toString(),h.to!==-1&&(p+="&"+this._endName+"="+h.to.toString())}return{url:p,headers:{}}},u.prototype.removeURLParameters=function(f){var h=f.split("?")[0],p=void 0,d=f.indexOf("?");d!==-1&&(p=f.substring(d+1));var v="";if(p!=null&&p.length>0)for(var m=p.split("&"),g=0;g<m.length;g++){var _=m[g].split("="),x=g>0;_[0]!==this._startName&&_[0]!==this._endName&&(x&&(v+="&"),v+=m[g])}return v.length===0?h:h+"?"+v},u}();s.default=l},"./src/io/range-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f){this._zeroStart=f||!1}return u.prototype.getConfig=function(f,h){var p={};if(h.from!==0||h.to!==-1){var d=void 0;h.to!==-1?d="bytes="+h.from.toString()+"-"+h.to.toString():d="bytes="+h.from.toString()+"-",p.Range=d}else this._zeroStart&&(p.Range="bytes=0-");return{url:f,headers:p}},u.prototype.removeURLParameters=function(f){return f},u}();s.default=l},"./src/io/speed-sampler.js":function(o,s,c){c.r(s);var l=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(f){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=f,this._totalBytes+=f):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=f,this._totalBytes+=f):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=f,this._totalBytes+=f,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var f=(this._now()-this._lastCheckpoint)/1e3;return f==0&&(f=1),this._intervalBytes/f/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var f=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/f/1024},enumerable:!1,configurable:!0}),u}();s.default=l},"./src/io/websocket-loader.js":function(o,s,c){c.r(s);var l=c("./src/io/loader.js"),u=c("./src/utils/exception.js"),f=function(){var p=function(d,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_])},p(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(d,v);function m(){this.constructor=d}d.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}(),h=function(p){f(d,p);function d(){var v=p.call(this,"websocket-loader")||this;return v.TAG="WebSocketLoader",v._needStash=!0,v._ws=null,v._requestAbort=!1,v._receivedLength=0,v}return d.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},d.prototype.destroy=function(){this._ws&&this.abort(),p.prototype.destroy.call(this)},d.prototype.open=function(v){try{var m=this._ws=new self.WebSocket(v.url);m.binaryType="arraybuffer",m.onopen=this._onWebSocketOpen.bind(this),m.onclose=this._onWebSocketClose.bind(this),m.onmessage=this._onWebSocketMessage.bind(this),m.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(_){this._status=l.LoaderStatus.kError;var g={code:_.code,msg:_.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,g);else throw new u.RuntimeException(g.msg)}},d.prototype.abort=function(){var v=this._ws;v&&(v.readyState===0||v.readyState===1)&&(this._requestAbort=!0,v.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},d.prototype._onWebSocketOpen=function(v){this._status=l.LoaderStatus.kBuffering},d.prototype._onWebSocketClose=function(v){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},d.prototype._onWebSocketMessage=function(v){var m=this;if(v.data instanceof ArrayBuffer)this._dispatchArrayBuffer(v.data);else if(v.data instanceof Blob){var g=new FileReader;g.onload=function(){m._dispatchArrayBuffer(g.result)},g.readAsArrayBuffer(v.data)}else{this._status=l.LoaderStatus.kError;var _={code:-1,msg:"Unsupported WebSocket message type: "+v.data.constructor.name};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)}},d.prototype._dispatchArrayBuffer=function(v){var m=v,g=this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,g,this._receivedLength)},d.prototype._onWebSocketError=function(v){this._status=l.LoaderStatus.kError;var m={code:v.code,msg:v.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,m);else throw new u.RuntimeException(m.msg)},d}(l.BaseLoader);s.default=h},"./src/io/xhr-moz-chunked-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var d=function(v,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(g[x]=_[x])},d(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(v,m);function g(){this.constructor=v}v.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),p=function(d){h(v,d);function v(m,g){var _=d.call(this,"xhr-moz-chunked-loader")||this;return _.TAG="MozChunkedLoader",_._seekHandler=m,_._config=g,_._needStash=!0,_._xhr=null,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return v.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="moz-chunked-arraybuffer",m.responseType==="moz-chunked-arraybuffer"}catch(g){return l.default.w("MozChunkedLoader",g.message),!1}},v.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),d.prototype.destroy.call(this)},v.prototype.open=function(m,g){this._dataSource=m,this._range=g;var _=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(_=m.redirectedURL);var x=this._seekHandler.getConfig(_,g);this._requestURL=x.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",x.url,!0),b.responseType="moz-chunked-arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onloadend=this._onLoadEnd.bind(this),b.onerror=this._onXhrError.bind(this),m.withCredentials&&(b.withCredentials=!0),typeof x.headers=="object"){var w=x.headers;for(var E in w)w.hasOwnProperty(E)&&b.setRequestHeader(E,w[E])}if(typeof this._config.headers=="object"){var w=this._config.headers;for(var E in w)w.hasOwnProperty(E)&&b.setRequestHeader(E,w[E])}this._status=u.LoaderStatus.kConnecting,b.send()},v.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},v.prototype._onReadyStateChange=function(m){var g=m.target;if(g.readyState===2){if(g.responseURL!=null&&g.responseURL!==this._requestURL&&this._onURLRedirect){var _=this._seekHandler.removeURLParameters(g.responseURL);this._onURLRedirect(_)}if(g.status!==0&&(g.status<200||g.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:g.status,msg:g.statusText});else throw new f.RuntimeException("MozChunkedLoader: Http code invalid, "+g.status+" "+g.statusText);else this._status=u.LoaderStatus.kBuffering}},v.prototype._onProgress=function(m){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&m.total!==null&&m.total!==0&&(this._contentLength=m.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var g=m.target.response,_=this._range.from+this._receivedLength;this._receivedLength+=g.byteLength,this._onDataArrival&&this._onDataArrival(g,_,this._receivedLength)}},v.prototype._onLoadEnd=function(m){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},v.prototype._onXhrError=function(m){this._status=u.LoaderStatus.kError;var g=0,_=null;if(this._contentLength&&m.loaded<this._contentLength?(g=u.LoaderErrors.EARLY_EOF,_={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(g=u.LoaderErrors.EXCEPTION,_={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(g,_);else throw new f.RuntimeException(_.msg)},v}(u.BaseLoader);s.default=p},"./src/io/xhr-range-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/utils/exception.js"),p=function(){var v=function(m,g){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&(_[b]=x[b])},v(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");v(m,g);function _(){this.constructor=m}m.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}}(),d=function(v){p(m,v);function m(g,_){var x=v.call(this,"xhr-range-loader")||this;return x.TAG="RangeLoader",x._seekHandler=g,x._config=_,x._needStash=!1,x._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],x._currentChunkSizeKB=384,x._currentSpeedNormalized=0,x._zeroSpeedChunkCount=0,x._xhr=null,x._speedSampler=new u.default,x._requestAbort=!1,x._waitForTotalLength=!1,x._totalLengthReceived=!1,x._currentRequestURL=null,x._currentRedirectedURL=null,x._currentRequestRange=null,x._totalLength=null,x._contentLength=null,x._receivedLength=0,x._lastTimeLoaded=0,x}return m.isSupported=function(){try{var g=new XMLHttpRequest;return g.open("GET","https://example.com",!0),g.responseType="arraybuffer",g.responseType==="arraybuffer"}catch(_){return l.default.w("RangeLoader",_.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),v.prototype.destroy.call(this)},Object.defineProperty(m.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),m.prototype.open=function(g,_){this._dataSource=g,this._range=_,this._status=f.LoaderStatus.kConnecting;var x=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(x=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!x?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},m.prototype._openSubRange=function(){var g=this._currentChunkSizeKB*1024,_=this._range.from+this._receivedLength,x=_+g;this._contentLength!=null&&x-this._range.from>=this._contentLength&&(x=this._range.from+this._contentLength-1),this._currentRequestRange={from:_,to:x},this._internalOpen(this._dataSource,this._currentRequestRange)},m.prototype._internalOpen=function(g,_){this._lastTimeLoaded=0;var x=g.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?x=this._currentRedirectedURL:g.redirectedURL!=null&&(x=g.redirectedURL));var b=this._seekHandler.getConfig(x,_);this._currentRequestURL=b.url;var w=this._xhr=new XMLHttpRequest;if(w.open("GET",b.url,!0),w.responseType="arraybuffer",w.onreadystatechange=this._onReadyStateChange.bind(this),w.onprogress=this._onProgress.bind(this),w.onload=this._onLoad.bind(this),w.onerror=this._onXhrError.bind(this),g.withCredentials&&(w.withCredentials=!0),typeof b.headers=="object"){var E=b.headers;for(var C in E)E.hasOwnProperty(C)&&w.setRequestHeader(C,E[C])}if(typeof this._config.headers=="object"){var E=this._config.headers;for(var C in E)E.hasOwnProperty(C)&&w.setRequestHeader(C,E[C])}w.send()},m.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=f.LoaderStatus.kComplete},m.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},m.prototype._onReadyStateChange=function(g){var _=g.target;if(_.readyState===2){if(_.responseURL!=null){var x=this._seekHandler.removeURLParameters(_.responseURL);_.responseURL!==this._currentRequestURL&&x!==this._currentRedirectedURL&&(this._currentRedirectedURL=x,this._onURLRedirect&&this._onURLRedirect(x))}if(_.status>=200&&_.status<=299){if(this._waitForTotalLength)return;this._status=f.LoaderStatus.kBuffering}else if(this._status=f.LoaderStatus.kError,this._onError)this._onError(f.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:_.status,msg:_.statusText});else throw new h.RuntimeException("RangeLoader: Http code invalid, "+_.status+" "+_.statusText)}},m.prototype._onProgress=function(g){if(this._status!==f.LoaderStatus.kError){if(this._contentLength===null){var _=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,_=!0;var x=g.total;this._internalAbort(),x!=null&x!==0&&(this._totalLength=x)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,_){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var b=g.loaded-this._lastTimeLoaded;this._lastTimeLoaded=g.loaded,this._speedSampler.addBytes(b)}},m.prototype._normalizeSpeed=function(g){var _=this._chunkSizeKBList,x=_.length-1,b=0,w=0,E=x;if(g<_[0])return _[0];for(;w<=E;){if(b=w+Math.floor((E-w)/2),b===x||g>=_[b]&&g<_[b+1])return _[b];_[b]<g?w=b+1:E=b-1}},m.prototype._onLoad=function(g){if(this._status!==f.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var _=this._speedSampler.lastSecondKBps;if(_===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(_=this._speedSampler.currentKBps)),_!==0){var x=this._normalizeSpeed(_);this._currentSpeedNormalized!==x&&(this._currentSpeedNormalized=x,this._currentChunkSizeKB=x)}var b=g.target.response,w=this._range.from+this._receivedLength;this._receivedLength+=b.byteLength;var E=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():E=!0,this._onDataArrival&&this._onDataArrival(b,w,this._receivedLength),E&&(this._status=f.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},m.prototype._onXhrError=function(g){this._status=f.LoaderStatus.kError;var _=0,x=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(_=f.LoaderErrors.EARLY_EOF,x={code:-1,msg:"RangeLoader meet Early-Eof"}):(_=f.LoaderErrors.EXCEPTION,x={code:-1,msg:g.constructor.name+" "+g.type}),this._onError)this._onError(_,x);else throw new h.RuntimeException(x.msg)},m}(f.BaseLoader);s.default=d},"./src/player/flv-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/player/player-events.js"),d=c("./src/core/transmuxer.js"),v=c("./src/core/transmuxing-events.js"),m=c("./src/core/mse-controller.js"),g=c("./src/core/mse-events.js"),_=c("./src/player/player-errors.js"),x=c("./src/config.js"),b=c("./src/utils/exception.js"),w=function(){function E(C,T){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,x.createDefaultConfig)(),typeof T=="object"&&Object.assign(this._config,T),C.type.toLowerCase()!=="flv")throw new b.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");C.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=C,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var I=h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(I||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return E.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},E.prototype.on=function(C,T){var I=this;C===p.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){I._emitter.emit(p.default.MEDIA_INFO,I.mediaInfo)}):C===p.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){I._emitter.emit(p.default.STATISTICS_INFO,I.statisticsInfo)}),this._emitter.addListener(C,T)},E.prototype.off=function(C,T){this._emitter.removeListener(C,T)},E.prototype.attachMediaElement=function(C){var T=this;if(this._mediaElement=C,C.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),C.addEventListener("seeking",this.e.onvSeeking),C.addEventListener("canplay",this.e.onvCanPlay),C.addEventListener("stalled",this.e.onvStalled),C.addEventListener("progress",this.e.onvProgress),this._msectl=new m.default(this._config),this._msectl.on(g.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(g.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(g.default.SOURCE_OPEN,function(){T._mseSourceOpened=!0,T._hasPendingLoad&&(T._hasPendingLoad=!1,T.load())}),this._msectl.on(g.default.ERROR,function(I){T._emitter.emit(p.default.ERROR,_.ErrorTypes.MEDIA_ERROR,_.ErrorDetails.MEDIA_MSE_ERROR,I)}),this._msectl.attachMediaElement(C),this._pendingSeekTime!=null)try{C.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},E.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},E.prototype.load=function(){var C=this;if(!this._mediaElement)throw new b.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new b.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new d.default(this._mediaDataSource,this._config),this._transmuxer.on(v.default.INIT_SEGMENT,function(T,I){C._msectl.appendInitSegment(I)}),this._transmuxer.on(v.default.MEDIA_SEGMENT,function(T,I){if(C._msectl.appendMediaSegment(I),C._config.lazyLoad&&!C._config.isLive){var R=C._mediaElement.currentTime;I.info.endDts>=(R+C._config.lazyLoadMaxDuration)*1e3&&C._progressChecker==null&&(f.default.v(C.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),C._suspendTransmuxer())}}),this._transmuxer.on(v.default.LOADING_COMPLETE,function(){C._msectl.endOfStream(),C._emitter.emit(p.default.LOADING_COMPLETE)}),this._transmuxer.on(v.default.RECOVERED_EARLY_EOF,function(){C._emitter.emit(p.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(v.default.IO_ERROR,function(T,I){C._emitter.emit(p.default.ERROR,_.ErrorTypes.NETWORK_ERROR,T,I)}),this._transmuxer.on(v.default.DEMUX_ERROR,function(T,I){C._emitter.emit(p.default.ERROR,_.ErrorTypes.MEDIA_ERROR,T,{code:-1,msg:I})}),this._transmuxer.on(v.default.MEDIA_INFO,function(T){C._mediaInfo=T,C._emitter.emit(p.default.MEDIA_INFO,Object.assign({},T))}),this._transmuxer.on(v.default.METADATA_ARRIVED,function(T){C._emitter.emit(p.default.METADATA_ARRIVED,T)}),this._transmuxer.on(v.default.SCRIPTDATA_ARRIVED,function(T){C._emitter.emit(p.default.SCRIPTDATA_ARRIVED,T)}),this._transmuxer.on(v.default.STATISTICS_INFO,function(T){C._statisticsInfo=C._fillStatisticsInfo(T),C._emitter.emit(p.default.STATISTICS_INFO,Object.assign({},C._statisticsInfo))}),this._transmuxer.on(v.default.RECOMMEND_SEEKPOINT,function(T){C._mediaElement&&!C._config.accurateSeek&&(C._requestSetTime=!0,C._mediaElement.currentTime=T/1e3)}),this._transmuxer.open()}},E.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},E.prototype.play=function(){return this._mediaElement.play()},E.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(E.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(C){this._mediaElement.volume=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(C){this._mediaElement.muted=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(C){this._mediaElement?this._internalSeek(C):this._pendingSeekTime=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),E.prototype._fillStatisticsInfo=function(C){if(C.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return C;var T=!0,I=0,R=0;if(this._mediaElement.getVideoPlaybackQuality){var O=this._mediaElement.getVideoPlaybackQuality();I=O.totalVideoFrames,R=O.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(I=this._mediaElement.webkitDecodedFrameCount,R=this._mediaElement.webkitDroppedFrameCount):T=!1;return T&&(C.decodedFrames=I,C.droppedFrames=R),C},E.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var C=this._mediaElement.buffered,T=this._mediaElement.currentTime,I=0,R=0;R<C.length;R++){var O=C.start(R),P=C.end(R);if(O<=T&&T<P){I=P;break}}I>=T+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(f.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},E.prototype._onmseBufferFull=function(){f.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},E.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},E.prototype._checkProgressAndResume=function(){for(var C=this._mediaElement.currentTime,T=this._mediaElement.buffered,I=!1,R=0;R<T.length;R++){var O=T.start(R),P=T.end(R);if(C>=O&&C<P){C>=P-this._config.lazyLoadRecoverDuration&&(I=!0);break}}I&&(window.clearInterval(this._progressChecker),this._progressChecker=null,I&&(f.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},E.prototype._isTimepointBuffered=function(C){for(var T=this._mediaElement.buffered,I=0;I<T.length;I++){var R=T.start(I),O=T.end(I);if(C>=R&&C<O)return!0}return!1},E.prototype._internalSeek=function(C){var T=this._isTimepointBuffered(C),I=!1,R=0;if(C<1&&this._mediaElement.buffered.length>0){var O=this._mediaElement.buffered.start(0);(O<1&&C<O||h.default.safari)&&(I=!0,R=h.default.safari?.1:O)}if(I)this._requestSetTime=!0,this._mediaElement.currentTime=R;else if(T){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=C;else{var P=this._msectl.getNearestKeyframe(Math.floor(C*1e3));this._requestSetTime=!0,P!=null?this._mediaElement.currentTime=P.dts/1e3:this._mediaElement.currentTime=C}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C)},E.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var C=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(C)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._checkAndResumeStuckPlayback=function(C){var T=this._mediaElement;if(C||!this._receivedCanPlay||T.readyState<2){var I=T.buffered;I.length>0&&T.currentTime<I.start(0)&&(f.default.w(this.TAG,"Playback seems stuck at "+T.currentTime+", seek to "+I.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=I.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},E.prototype._onvLoadedMetadata=function(C){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},E.prototype._onvSeeking=function(C){var T=this._mediaElement.currentTime,I=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(T<1&&I.length>0){var R=I.start(0);if(R<1&&T<R||h.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=h.default.safari?.1:R;return}}if(this._isTimepointBuffered(T)){if(this._alwaysSeekKeyframe){var O=this._msectl.getNearestKeyframe(Math.floor(T*1e3));O!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=O.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:T,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._onvCanPlay=function(C){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},E.prototype._onvStalled=function(C){this._checkAndResumeStuckPlayback(!0)},E.prototype._onvProgress=function(C){this._checkAndResumeStuckPlayback()},E}();s.default=w},"./src/player/native-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/player/player-events.js"),h=c("./src/config.js"),p=c("./src/utils/exception.js"),d=function(){function v(m,g){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,h.createDefaultConfig)(),typeof g=="object"&&Object.assign(this._config,g),m.type.toLowerCase()==="flv")throw new p.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(m.hasOwnProperty("segments"))throw new p.InvalidArgumentException("NativePlayer("+m.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=m,this._mediaElement=null}return v.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(m,g){var _=this;m===f.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(f.default.MEDIA_INFO,_.mediaInfo)}):m===f.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(f.default.STATISTICS_INFO,_.statisticsInfo)}),this._emitter.addListener(m,g)},v.prototype.off=function(m,g){this._emitter.removeListener(m,g)},v.prototype.attachMediaElement=function(m){if(this._mediaElement=m,m.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{m.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},v.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},v.prototype.load=function(){if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},v.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},v.prototype.play=function(){return this._mediaElement.play()},v.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(v.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(m){this._mediaElement.volume=m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(m){this._mediaElement.muted=m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(m){this._mediaElement?this._mediaElement.currentTime=m:this._pendingSeekTime=m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"mediaInfo",{get:function(){var m=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",g={mimeType:m+this._mediaDataSource.type};return this._mediaElement&&(g.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(g.width=this._mediaElement.videoWidth,g.height=this._mediaElement.videoHeight)),g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"statisticsInfo",{get:function(){var m={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return m;var g=!0,_=0,x=0;if(this._mediaElement.getVideoPlaybackQuality){var b=this._mediaElement.getVideoPlaybackQuality();_=b.totalVideoFrames,x=b.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(_=this._mediaElement.webkitDecodedFrameCount,x=this._mediaElement.webkitDroppedFrameCount):g=!1;return g&&(m.decodedFrames=_,m.droppedFrames=x),m},enumerable:!1,configurable:!0}),v.prototype._onvLoadedMetadata=function(m){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(f.default.MEDIA_INFO,this.mediaInfo)},v.prototype._reportStatisticsInfo=function(){this._emitter.emit(f.default.STATISTICS_INFO,this.statisticsInfo)},v}();s.default=d},"./src/player/player-errors.js":function(o,s,c){c.r(s),c.d(s,{ErrorTypes:function(){return f},ErrorDetails:function(){return h}});var l=c("./src/io/loader.js"),u=c("./src/demux/demux-errors.js"),f={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},h={NETWORK_EXCEPTION:l.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};s.default=l},"./src/remux/aac-silent.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.getSilentFrame=function(f,h){if(f==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();s.default=l},"./src/remux/mp4-generator.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var f in u.types)u.types.hasOwnProperty(f)&&(u.types[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);var h=u.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(f){for(var h=8,p=null,d=Array.prototype.slice.call(arguments,1),v=d.length,m=0;m<v;m++)h+=d[m].byteLength;p=new Uint8Array(h),p[0]=h>>>24&255,p[1]=h>>>16&255,p[2]=h>>>8&255,p[3]=h&255,p.set(f,4);for(var g=8,m=0;m<v;m++)p.set(d[m],g),g+=d[m].byteLength;return p},u.generateInitSegment=function(f){var h=u.box(u.types.ftyp,u.constants.FTYP),p=u.moov(f),d=new Uint8Array(h.byteLength+p.byteLength);return d.set(h,0),d.set(p,h.byteLength),d},u.moov=function(f){var h=u.mvhd(f.timescale,f.duration),p=u.trak(f),d=u.mvex(f);return u.box(u.types.moov,h,p,d)},u.mvhd=function(f,h){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(f){return u.box(u.types.trak,u.tkhd(f),u.mdia(f))},u.tkhd=function(f){var h=f.id,p=f.duration,d=f.presentWidth,v=f.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>>8&255,d&255,0,0,v>>>8&255,v&255,0,0]))},u.mdia=function(f){return u.box(u.types.mdia,u.mdhd(f),u.hdlr(f),u.minf(f))},u.mdhd=function(f){var h=f.timescale,p=f.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255,85,196,0,0]))},u.hdlr=function(f){var h=null;return f.type==="audio"?h=u.constants.HDLR_AUDIO:h=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,h)},u.minf=function(f){var h=null;return f.type==="audio"?h=u.box(u.types.smhd,u.constants.SMHD):h=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,h,u.dinf(),u.stbl(f))},u.dinf=function(){var f=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return f},u.stbl=function(f){var h=u.box(u.types.stbl,u.stsd(f),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return h},u.stsd=function(f){return f.type==="audio"?f.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(f))},u.mp3=function(f){var h=f.channelCount,p=f.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types[".mp3"],d)},u.mp4a=function(f){var h=f.channelCount,p=f.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types.mp4a,d,u.esds(f))},u.esds=function(f){var h=f.config||[],p=h.length,d=new Uint8Array([0,0,0,0,3,23+p,0,1,0,4,15+p,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([p]).concat(h).concat([6,1,2]));return u.box(u.types.esds,d)},u.avc1=function(f){var h=f.avcc,p=f.codecWidth,d=f.codecHeight,v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,p>>>8&255,p&255,d>>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,v,u.box(u.types.avcC,h))},u.mvex=function(f){return u.box(u.types.mvex,u.trex(f))},u.trex=function(f){var h=f.id,p=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,p)},u.moof=function(f,h){return u.box(u.types.moof,u.mfhd(f.sequenceNumber),u.traf(f,h))},u.mfhd=function(f){var h=new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255]);return u.box(u.types.mfhd,h)},u.traf=function(f,h){var p=f.id,d=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255])),v=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),m=u.sdtp(f),g=u.trun(f,m.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,d,v,g,m)},u.sdtp=function(f){for(var h=f.samples||[],p=h.length,d=new Uint8Array(4+p),v=0;v<p;v++){var m=h[v].flags;d[v+4]=m.isLeading<<6|m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy}return u.box(u.types.sdtp,d)},u.trun=function(f,h){var p=f.samples||[],d=p.length,v=12+16*d,m=new Uint8Array(v);h+=8+v,m.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,d&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255],0);for(var g=0;g<d;g++){var _=p[g].duration,x=p[g].size,b=p[g].flags,w=p[g].cts;m.set([_>>>24&255,_>>>16&255,_>>>8&255,_&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255,b.isLeading<<2|b.dependsOn,b.isDependedOn<<6|b.hasRedundancy<<4|b.isNonSync,0,0,w>>>24&255,w>>>16&255,w>>>8&255,w&255],12+16*g)}return u.box(u.types.trun,m)},u.mdat=function(f){return u.box(u.types.mdat,f)},u}();l.init(),s.default=l},"./src/remux/mp4-remuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/remux/mp4-generator.js"),f=c("./src/remux/aac-silent.js"),h=c("./src/utils/browser.js"),p=c("./src/core/media-segment-info.js"),d=c("./src/utils/exception.js"),v=function(){function m(g){this.TAG="MP4Remuxer",this._config=g,this._isLive=g.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new p.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new p.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661)),this._fillSilentAfterSeek=h.default.msedge||h.default.msie,this._mp3UseMpegAudio=!h.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return m.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},m.prototype.bindDataSource=function(g){return g.onDataAvailable=this.remux.bind(this),g.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(m.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(g){this._onInitSegment=g},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(g){this._onMediaSegment=g},enumerable:!1,configurable:!0}),m.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},m.prototype.seek=function(g){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},m.prototype.remux=function(g,_){if(!this._onMediaSegment)throw new d.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(g,_),this._remuxVideo(_),this._remuxAudio(g)},m.prototype._onTrackMetadataReceived=function(g,_){var x=null,b="mp4",w=_.codec;if(g==="audio")this._audioMeta=_,_.codec==="mp3"&&this._mp3UseMpegAudio?(b="mpeg",w="",x=new Uint8Array):x=u.default.generateInitSegment(_);else if(g==="video")this._videoMeta=_,x=u.default.generateInitSegment(_);else return;if(!this._onInitSegment)throw new d.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(g,{type:g,data:x.buffer,codec:w,container:g+"/"+b,mediaDuration:_.duration})},m.prototype._calculateDtsBase=function(g,_){this._dtsBaseInited||(g.samples&&g.samples.length&&(this._audioDtsBase=g.samples[0].dts),_.samples&&_.samples.length&&(this._videoDtsBase=_.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},m.prototype.flushStashedSamples=function(){var g=this._videoStashedLastSample,_=this._audioStashedLastSample,x={type:"video",id:1,sequenceNumber:0,samples:[],length:0};g!=null&&(x.samples.push(g),x.length=g.length);var b={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};_!=null&&(b.samples.push(_),b.length=_.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(x,!0),this._remuxAudio(b,!0)},m.prototype._remuxAudio=function(g,_){if(this._audioMeta!=null){var x=g,b=x.samples,w=void 0,E=-1,C=-1,T=this._audioMeta.refSampleDuration,I=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,R=this._dtsBaseInited&&this._audioNextDts===void 0,O=!1;if(!(!b||b.length===0)&&!(b.length===1&&!_)){var P=0,k=null,L=0;I?(P=0,L=x.length):(P=8,L=8+x.length);var B=null;if(b.length>1&&(B=b.pop(),L-=B.length),this._audioStashedLastSample!=null){var U=this._audioStashedLastSample;this._audioStashedLastSample=null,b.unshift(U),L+=U.length}B!=null&&(this._audioStashedLastSample=B);var z=b[0].dts-this._dtsBase;if(this._audioNextDts)w=z-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())w=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(O=!0);else{var ee=this._audioSegmentInfoList.getLastSampleBefore(z);if(ee!=null){var ne=z-(ee.originalDts+ee.duration);ne<=3&&(ne=0);var W=ee.dts+ee.duration+ne;w=z-W}else w=0}if(O){var D=z-w,H=this._videoSegmentInfoList.getLastSegmentBefore(z);if(H!=null&&H.beginDts<D){var G=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(G){var V=H.beginDts,ie=D-H.beginDts;l.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+V+", duration: "+ie),b.unshift({unit:G,dts:V,pts:V}),L+=G.byteLength}}else O=!1}for(var se=[],ge=0;ge<b.length;ge++){var U=b[ge],ue=U.unit,we=U.dts-this._dtsBase,V=we,Be=!1,Fe=null,Ee=0;if(!(we<-.001)){if(this._audioMeta.codec!=="mp3"){var Te=we,Ge=3;if(this._audioNextDts&&(Te=this._audioNextDts),w=we-Te,w<=-Ge*T){l.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+we+" ms ,curRefDts: "+Te+" ms)  due to dtsCorrection: "+w+" ms overlap.");continue}else if(w>=Ge*T&&this._fillAudioTimestampGap&&!h.default.safari){Be=!0;var We=Math.floor(w/T);l.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+we+" ms, curRefDts: "+Te+" ms, ")+("dtsCorrection: "+Math.round(w)+" ms, generate: "+We+" frames")),V=Math.floor(Te),Ee=Math.floor(Te+T)-V;var G=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);G==null&&(l.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),G=ue),Fe=[];for(var Ve=0;Ve<We;Ve++){Te=Te+T;var Xe=Math.floor(Te),qe=Math.floor(Te+T)-Xe,wt={dts:Xe,pts:Xe,cts:0,unit:G,size:G.byteLength,duration:qe,originalDts:we,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Fe.push(wt),L+=wt.size}this._audioNextDts=Te+T}else V=Math.floor(Te),Ee=Math.floor(Te+T)-V,this._audioNextDts=Te+T}else{if(V=we-w,ge!==b.length-1){var At=b[ge+1].dts-this._dtsBase-w;Ee=At-V}else if(B!=null){var At=B.dts-this._dtsBase-w;Ee=At-V}else se.length>=1?Ee=se[se.length-1].duration:Ee=Math.floor(T);this._audioNextDts=V+Ee}E===-1&&(E=V),se.push({dts:V,pts:V,cts:0,unit:U.unit,size:U.unit.byteLength,duration:Ee,originalDts:we,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Be&&se.push.apply(se,Fe)}}if(se.length===0){x.samples=[],x.length=0;return}I?k=new Uint8Array(L):(k=new Uint8Array(L),k[0]=L>>>24&255,k[1]=L>>>16&255,k[2]=L>>>8&255,k[3]=L&255,k.set(u.default.types.mdat,4));for(var ge=0;ge<se.length;ge++){var ue=se[ge].unit;k.set(ue,P),P+=ue.byteLength}var ct=se[se.length-1];C=ct.dts+ct.duration;var ft=new p.MediaSegmentInfo;ft.beginDts=E,ft.endDts=C,ft.beginPts=E,ft.endPts=C,ft.originalBeginDts=se[0].originalDts,ft.originalEndDts=ct.originalDts+ct.duration,ft.firstSample=new p.SampleInfo(se[0].dts,se[0].pts,se[0].duration,se[0].originalDts,!1),ft.lastSample=new p.SampleInfo(ct.dts,ct.pts,ct.duration,ct.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(ft),x.samples=se,x.sequenceNumber++;var Et=null;I?Et=new Uint8Array:Et=u.default.moof(x,E),x.samples=[],x.length=0;var Qt={type:"audio",data:this._mergeBoxes(Et,k).buffer,sampleCount:se.length,info:ft};I&&R&&(Qt.timestampOffset=E),this._onMediaSegment("audio",Qt)}}},m.prototype._remuxVideo=function(g,_){if(this._videoMeta!=null){var x=g,b=x.samples,w=void 0,E=-1,C=-1,T=-1,I=-1;if(!(!b||b.length===0)&&!(b.length===1&&!_)){var R=8,O=null,P=8+g.length,k=null;if(b.length>1&&(k=b.pop(),P-=k.length),this._videoStashedLastSample!=null){var L=this._videoStashedLastSample;this._videoStashedLastSample=null,b.unshift(L),P+=L.length}k!=null&&(this._videoStashedLastSample=k);var B=b[0].dts-this._dtsBase;if(this._videoNextDts)w=B-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())w=0;else{var U=this._videoSegmentInfoList.getLastSampleBefore(B);if(U!=null){var z=B-(U.originalDts+U.duration);z<=3&&(z=0);var ee=U.dts+U.duration+z;w=B-ee}else w=0}for(var ne=new p.MediaSegmentInfo,W=[],D=0;D<b.length;D++){var L=b[D],H=L.dts-this._dtsBase,G=L.isKeyframe,V=H-w,ie=L.cts,se=V+ie;E===-1&&(E=V,T=se);var ge=0;if(D!==b.length-1){var ue=b[D+1].dts-this._dtsBase-w;ge=ue-V}else if(k!=null){var ue=k.dts-this._dtsBase-w;ge=ue-V}else W.length>=1?ge=W[W.length-1].duration:ge=Math.floor(this._videoMeta.refSampleDuration);if(G){var we=new p.SampleInfo(V,se,ge,L.dts,!0);we.fileposition=L.fileposition,ne.appendSyncPoint(we)}W.push({dts:V,pts:se,cts:ie,units:L.units,size:L.length,isKeyframe:G,duration:ge,originalDts:H,flags:{isLeading:0,dependsOn:G?2:1,isDependedOn:G?1:0,hasRedundancy:0,isNonSync:G?0:1}})}O=new Uint8Array(P),O[0]=P>>>24&255,O[1]=P>>>16&255,O[2]=P>>>8&255,O[3]=P&255,O.set(u.default.types.mdat,4);for(var D=0;D<W.length;D++)for(var Be=W[D].units;Be.length;){var Fe=Be.shift(),Ee=Fe.data;O.set(Ee,R),R+=Ee.byteLength}var Te=W[W.length-1];if(C=Te.dts+Te.duration,I=Te.pts+Te.duration,this._videoNextDts=C,ne.beginDts=E,ne.endDts=C,ne.beginPts=T,ne.endPts=I,ne.originalBeginDts=W[0].originalDts,ne.originalEndDts=Te.originalDts+Te.duration,ne.firstSample=new p.SampleInfo(W[0].dts,W[0].pts,W[0].duration,W[0].originalDts,W[0].isKeyframe),ne.lastSample=new p.SampleInfo(Te.dts,Te.pts,Te.duration,Te.originalDts,Te.isKeyframe),this._isLive||this._videoSegmentInfoList.append(ne),x.samples=W,x.sequenceNumber++,this._forceFirstIDR){var Ge=W[0].flags;Ge.dependsOn=2,Ge.isNonSync=0}var We=u.default.moof(x,E);x.samples=[],x.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(We,O).buffer,sampleCount:W.length,info:ne})}}},m.prototype._mergeBoxes=function(g,_){var x=new Uint8Array(g.byteLength+_.byteLength);return x.set(g,0),x.set(_,g.byteLength),x},m}();s.default=v},"./src/utils/browser.js":function(o,s,c){c.r(s);var l={};function u(){var f=self.navigator.userAgent.toLowerCase(),h=/(edge)\/([\w.]+)/.exec(f)||/(opr)[\/]([\w.]+)/.exec(f)||/(chrome)[ \/]([\w.]+)/.exec(f)||/(iemobile)[\/]([\w.]+)/.exec(f)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(f)||[],p=/(ipad)/.exec(f)||/(ipod)/.exec(f)||/(windows phone)/.exec(f)||/(iphone)/.exec(f)||/(kindle)/.exec(f)||/(android)/.exec(f)||/(windows)/.exec(f)||/(mac)/.exec(f)||/(linux)/.exec(f)||/(cros)/.exec(f)||[],d={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",majorVersion:h[4]||h[2]||"0",platform:p[0]||""},v={};if(d.browser){v[d.browser]=!0;var m=d.majorVersion.split(".");v.version={major:parseInt(d.majorVersion,10),string:d.version},m.length>1&&(v.version.minor=parseInt(m[1],10)),m.length>2&&(v.version.build=parseInt(m[2],10))}if(d.platform&&(v[d.platform]=!0),(v.chrome||v.opr||v.safari)&&(v.webkit=!0),v.rv||v.iemobile){v.rv&&delete v.rv;var g="msie";d.browser=g,v[g]=!0}if(v.edge){delete v.edge;var _="msedge";d.browser=_,v[_]=!0}if(v.opr){var x="opera";d.browser=x,v[x]=!0}if(v.safari&&v.android){var b="android";d.browser=b,v[b]=!0}v.name=d.browser,v.platform=d.platform;for(var w in l)l.hasOwnProperty(w)&&delete l[w];Object.assign(l,v)}u(),s.default=l},"./src/utils/exception.js":function(o,s,c){c.r(s),c.d(s,{RuntimeException:function(){return u},IllegalStateException:function(){return f},InvalidArgumentException:function(){return h},NotImplementedException:function(){return p}});var l=function(){var d=function(v,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(g[x]=_[x])},d(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(v,m);function g(){this.constructor=v}v.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),u=function(){function d(v){this._message=v}return Object.defineProperty(d.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),d.prototype.toString=function(){return this.name+": "+this.message},d}(),f=function(d){l(v,d);function v(m){return d.call(this,m)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),v}(u),h=function(d){l(v,d);function v(m){return d.call(this,m)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),v}(u),p=function(d){l(v,d);function v(m){return d.call(this,m)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),v}(u)},"./src/utils/logger.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=function(){function h(){}return h.e=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var v="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","error",v),h.ENABLE_ERROR&&(console.error?console.error(v):console.warn?console.warn(v):console.log(v))},h.i=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var v="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","info",v),h.ENABLE_INFO&&(console.info?console.info(v):console.log(v))},h.w=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var v="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","warn",v),h.ENABLE_WARN&&(console.warn?console.warn(v):console.log(v))},h.d=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var v="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","debug",v),h.ENABLE_DEBUG&&(console.debug?console.debug(v):console.log(v))},h.v=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var v="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","verbose",v),h.ENABLE_VERBOSE&&console.log(v)},h}();f.GLOBAL_TAG="flv.js",f.FORCE_GLOBAL_TAG=!1,f.ENABLE_ERROR=!0,f.ENABLE_INFO=!0,f.ENABLE_WARN=!0,f.ENABLE_DEBUG=!0,f.ENABLE_VERBOSE=!0,f.ENABLE_CALLBACK=!1,f.emitter=new(u()),s.default=f},"./src/utils/logging-control.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=function(){function p(){}return Object.defineProperty(p,"forceGlobalTag",{get:function(){return f.default.FORCE_GLOBAL_TAG},set:function(d){f.default.FORCE_GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"globalTag",{get:function(){return f.default.GLOBAL_TAG},set:function(d){f.default.GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableAll",{get:function(){return f.default.ENABLE_VERBOSE&&f.default.ENABLE_DEBUG&&f.default.ENABLE_INFO&&f.default.ENABLE_WARN&&f.default.ENABLE_ERROR},set:function(d){f.default.ENABLE_VERBOSE=d,f.default.ENABLE_DEBUG=d,f.default.ENABLE_INFO=d,f.default.ENABLE_WARN=d,f.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableDebug",{get:function(){return f.default.ENABLE_DEBUG},set:function(d){f.default.ENABLE_DEBUG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableVerbose",{get:function(){return f.default.ENABLE_VERBOSE},set:function(d){f.default.ENABLE_VERBOSE=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableInfo",{get:function(){return f.default.ENABLE_INFO},set:function(d){f.default.ENABLE_INFO=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableWarn",{get:function(){return f.default.ENABLE_WARN},set:function(d){f.default.ENABLE_WARN=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableError",{get:function(){return f.default.ENABLE_ERROR},set:function(d){f.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),p.getConfig=function(){return{globalTag:f.default.GLOBAL_TAG,forceGlobalTag:f.default.FORCE_GLOBAL_TAG,enableVerbose:f.default.ENABLE_VERBOSE,enableDebug:f.default.ENABLE_DEBUG,enableInfo:f.default.ENABLE_INFO,enableWarn:f.default.ENABLE_WARN,enableError:f.default.ENABLE_ERROR,enableCallback:f.default.ENABLE_CALLBACK}},p.applyConfig=function(d){f.default.GLOBAL_TAG=d.globalTag,f.default.FORCE_GLOBAL_TAG=d.forceGlobalTag,f.default.ENABLE_VERBOSE=d.enableVerbose,f.default.ENABLE_DEBUG=d.enableDebug,f.default.ENABLE_INFO=d.enableInfo,f.default.ENABLE_WARN=d.enableWarn,f.default.ENABLE_ERROR=d.enableError,f.default.ENABLE_CALLBACK=d.enableCallback},p._notifyChange=function(){var d=p.emitter;if(d.listenerCount("change")>0){var v=p.getConfig();d.emit("change",v)}},p.registerListener=function(d){p.emitter.addListener("change",d)},p.removeListener=function(d){p.emitter.removeListener("change",d)},p.addLogListener=function(d){f.default.emitter.addListener("log",d),f.default.emitter.listenerCount("log")>0&&(f.default.ENABLE_CALLBACK=!0,p._notifyChange())},p.removeLogListener=function(d){f.default.emitter.removeListener("log",d),f.default.emitter.listenerCount("log")===0&&(f.default.ENABLE_CALLBACK=!1,p._notifyChange())},p}();h.emitter=new(u()),s.default=h},"./src/utils/polyfill.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(f,h){return f.__proto__=h,f},Object.assign=Object.assign||function(f){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(f),p=1;p<arguments.length;p++){var d=arguments[p];if(d!=null)for(var v in d)d.hasOwnProperty(v)&&(h[v]=d[v])}return h},typeof self.Promise!="function"&&c("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();l.install(),s.default=l},"./src/utils/utf8-conv.js":function(o,s,c){c.r(s);function l(f,h,p){var d=f;if(h+p<d.length){for(;p--;)if((d[++h]&192)!==128)return!1;return!0}else return!1}function u(f){for(var h=[],p=f,d=0,v=f.length;d<v;){if(p[d]<128){h.push(String.fromCharCode(p[d])),++d;continue}else if(!(p[d]<192)){if(p[d]<224){if(l(p,d,1)){var m=(p[d]&31)<<6|p[d+1]&63;if(m>=128){h.push(String.fromCharCode(m&65535)),d+=2;continue}}}else if(p[d]<240){if(l(p,d,2)){var m=(p[d]&15)<<12|(p[d+1]&63)<<6|p[d+2]&63;if(m>=2048&&(m&63488)!==55296){h.push(String.fromCharCode(m&65535)),d+=3;continue}}}else if(p[d]<248&&l(p,d,3)){var m=(p[d]&7)<<18|(p[d+1]&63)<<12|(p[d+2]&63)<<6|p[d+3]&63;if(m>65536&&m<1114112){m-=65536,h.push(String.fromCharCode(m>>>10|55296)),h.push(String.fromCharCode(m&1023|56320)),d+=4;continue}}}h.push(String.fromCharCode(65533)),++d}return h.join("")}s.default=u}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var c=n[o]={exports:{}};return r[o].call(c.exports,c,c.exports,i),c.exports}i.m=r,function(){i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,{a:s}),s}}(),function(){i.d=function(o,s){for(var c in s)i.o(s,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:s[c]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var a=i("./src/index.js");return a}()})})(tH);var QCe=tH.exports;const eTe=$i(QCe);var rH={exports:{}},IS={exports:{}};const tTe={},rTe=Object.freeze(Object.defineProperty({__proto__:null,default:tTe},Symbol.toStringTag,{value:"Module"})),nH=_te(rTe);var ZB;function Er(){return ZB||(ZB=1,function(t,e){(function(r,n){t.exports=n()})(Ct,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof Ct<"u"&&Ct.crypto&&(a=Ct.crypto),!a&&typeof dh=="function")try{a=nH}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function _(){}return function(x){var b;return _.prototype=x,b=new _,_.prototype=null,b}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(_){var x=s(this);return _&&x.mixIn(_),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var x in _)_.hasOwnProperty(x)&&(this[x]=_[x]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(_,x){_=this.words=_||[],x!=i?this.sigBytes=x:this.sigBytes=_.length*4},toString:function(_){return(_||p).stringify(this)},concat:function(_){var x=this.words,b=_.words,w=this.sigBytes,E=_.sigBytes;if(this.clamp(),w%4)for(var C=0;C<E;C++){var T=b[C>>>2]>>>24-C%4*8&255;x[w+C>>>2]|=T<<24-(w+C)%4*8}else for(var I=0;I<E;I+=4)x[w+I>>>2]=b[I>>>2];return this.sigBytes+=E,this},clamp:function(){var _=this.words,x=this.sigBytes;_[x>>>2]&=4294967295<<32-x%4*8,_.length=n.ceil(x/4)},clone:function(){var _=u.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var x=[],b=0;b<_;b+=4)x.push(o());return new f.init(x,_)}}),h=c.enc={},p=h.Hex={stringify:function(_){for(var x=_.words,b=_.sigBytes,w=[],E=0;E<b;E++){var C=x[E>>>2]>>>24-E%4*8&255;w.push((C>>>4).toString(16)),w.push((C&15).toString(16))}return w.join("")},parse:function(_){for(var x=_.length,b=[],w=0;w<x;w+=2)b[w>>>3]|=parseInt(_.substr(w,2),16)<<24-w%8*4;return new f.init(b,x/2)}},d=h.Latin1={stringify:function(_){for(var x=_.words,b=_.sigBytes,w=[],E=0;E<b;E++){var C=x[E>>>2]>>>24-E%4*8&255;w.push(String.fromCharCode(C))}return w.join("")},parse:function(_){for(var x=_.length,b=[],w=0;w<x;w++)b[w>>>2]|=(_.charCodeAt(w)&255)<<24-w%4*8;return new f.init(b,x)}},v=h.Utf8={stringify:function(_){try{return decodeURIComponent(escape(d.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return d.parse(unescape(encodeURIComponent(_)))}},m=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=v.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var x,b=this._data,w=b.words,E=b.sigBytes,C=this.blockSize,T=C*4,I=E/T;_?I=n.ceil(I):I=n.max((I|0)-this._minBufferSize,0);var R=I*C,O=n.min(R*4,E);if(R){for(var P=0;P<R;P+=C)this._doProcessBlock(w,P);x=w.splice(0,R),b.sigBytes-=O}return new f.init(x,O)},clone:function(){var _=u.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});l.Hasher=m.extend({cfg:u.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(_){return function(x,b){return new _.init(b).finalize(x)}},_createHmacHelper:function(_){return function(x,b){return new g.HMAC.init(_,b).finalize(x)}}});var g=c.algo={};return c}(Math);return r})}(IS)),IS.exports}var RS={exports:{}},JB;function W1(){return JB||(JB=1,function(t,e){(function(r,n){t.exports=n(Er())})(Ct,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=i.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var p=l[h];f.push(p.high),f.push(p.low)}return s.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),r})}(RS)),RS.exports}var PS={exports:{}},QB;function nTe(){return QB||(QB=1,function(t,e){(function(r,n){t.exports=n(Er())})(Ct,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(PS)),PS.exports}var OS={exports:{}},eD;function iTe(){return eD||(eD=1,function(t,e){(function(r,n){t.exports=n(Er())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var p=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var p=s(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=s(c.charCodeAt(f)<<16-f%2*16);return a.create(u,l*2)}};function s(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(OS)),OS.exports}var kS={exports:{}},tD;function vf(){return tD||(tD=1,function(t,e){(function(r,n){t.exports=n(Er())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],p=0;p<u;p+=3)for(var d=l[p>>>2]>>>24-p%4*8&255,v=l[p+1>>>2]>>>24-(p+1)%4*8&255,m=l[p+2>>>2]>>>24-(p+2)%4*8&255,g=d<<16|v<<8|m,_=0;_<4&&p+_*.75<u;_++)h.push(f.charAt(g>>>6*(3-_)&63));var x=f.charAt(64);if(x)for(;h.length%4;)h.push(x);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var d=c.indexOf(p);d!==-1&&(l=d)}return s(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,l,u){for(var f=[],h=0,p=0;p<l;p++)if(p%4){var d=u[c.charCodeAt(p-1)]<<p%4*2,v=u[c.charCodeAt(p)]>>>6-p%4*2,m=d|v;f[h>>>2]|=m<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64})}(kS)),kS.exports}var FS={exports:{}},rD;function aTe(){return rD||(rD=1,function(t,e){(function(r,n){t.exports=n(Er())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var p=[],d=0;d<f;d+=3)for(var v=u[d>>>2]>>>24-d%4*8&255,m=u[d+1>>>2]>>>24-(d+1)%4*8&255,g=u[d+2>>>2]>>>24-(d+2)%4*8&255,_=v<<16|m<<8|g,x=0;x<4&&d+x*.75<f;x++)p.push(h.charAt(_>>>6*(3-x)&63));var b=h.charAt(64);if(b)for(;p.length%4;)p.push(b);return p.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<f.length;p++)h[f.charCodeAt(p)]=p}var d=f.charAt(64);if(d){var v=c.indexOf(d);v!==-1&&(u=v)}return s(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(c,l,u){for(var f=[],h=0,p=0;p<l;p++)if(p%4){var d=u[c.charCodeAt(p-1)]<<p%4*2,v=u[c.charCodeAt(p)]>>>6-p%4*2,m=d|v;f[h>>>2]|=m<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64url})}(FS)),FS.exports}var NS={exports:{}},nD;function gf(){return nD||(nD=1,function(t,e){(function(r,n){t.exports=n(Er())})(Ct,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[];(function(){for(var v=0;v<64;v++)l[v]=n.abs(n.sin(v+1))*4294967296|0})();var u=c.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,m){for(var g=0;g<16;g++){var _=m+g,x=v[_];v[_]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var b=this._hash.words,w=v[m+0],E=v[m+1],C=v[m+2],T=v[m+3],I=v[m+4],R=v[m+5],O=v[m+6],P=v[m+7],k=v[m+8],L=v[m+9],B=v[m+10],U=v[m+11],z=v[m+12],ee=v[m+13],ne=v[m+14],W=v[m+15],D=b[0],H=b[1],G=b[2],V=b[3];D=f(D,H,G,V,w,7,l[0]),V=f(V,D,H,G,E,12,l[1]),G=f(G,V,D,H,C,17,l[2]),H=f(H,G,V,D,T,22,l[3]),D=f(D,H,G,V,I,7,l[4]),V=f(V,D,H,G,R,12,l[5]),G=f(G,V,D,H,O,17,l[6]),H=f(H,G,V,D,P,22,l[7]),D=f(D,H,G,V,k,7,l[8]),V=f(V,D,H,G,L,12,l[9]),G=f(G,V,D,H,B,17,l[10]),H=f(H,G,V,D,U,22,l[11]),D=f(D,H,G,V,z,7,l[12]),V=f(V,D,H,G,ee,12,l[13]),G=f(G,V,D,H,ne,17,l[14]),H=f(H,G,V,D,W,22,l[15]),D=h(D,H,G,V,E,5,l[16]),V=h(V,D,H,G,O,9,l[17]),G=h(G,V,D,H,U,14,l[18]),H=h(H,G,V,D,w,20,l[19]),D=h(D,H,G,V,R,5,l[20]),V=h(V,D,H,G,B,9,l[21]),G=h(G,V,D,H,W,14,l[22]),H=h(H,G,V,D,I,20,l[23]),D=h(D,H,G,V,L,5,l[24]),V=h(V,D,H,G,ne,9,l[25]),G=h(G,V,D,H,T,14,l[26]),H=h(H,G,V,D,k,20,l[27]),D=h(D,H,G,V,ee,5,l[28]),V=h(V,D,H,G,C,9,l[29]),G=h(G,V,D,H,P,14,l[30]),H=h(H,G,V,D,z,20,l[31]),D=p(D,H,G,V,R,4,l[32]),V=p(V,D,H,G,k,11,l[33]),G=p(G,V,D,H,U,16,l[34]),H=p(H,G,V,D,ne,23,l[35]),D=p(D,H,G,V,E,4,l[36]),V=p(V,D,H,G,I,11,l[37]),G=p(G,V,D,H,P,16,l[38]),H=p(H,G,V,D,B,23,l[39]),D=p(D,H,G,V,ee,4,l[40]),V=p(V,D,H,G,w,11,l[41]),G=p(G,V,D,H,T,16,l[42]),H=p(H,G,V,D,O,23,l[43]),D=p(D,H,G,V,L,4,l[44]),V=p(V,D,H,G,z,11,l[45]),G=p(G,V,D,H,W,16,l[46]),H=p(H,G,V,D,C,23,l[47]),D=d(D,H,G,V,w,6,l[48]),V=d(V,D,H,G,P,10,l[49]),G=d(G,V,D,H,ne,15,l[50]),H=d(H,G,V,D,R,21,l[51]),D=d(D,H,G,V,z,6,l[52]),V=d(V,D,H,G,T,10,l[53]),G=d(G,V,D,H,B,15,l[54]),H=d(H,G,V,D,E,21,l[55]),D=d(D,H,G,V,k,6,l[56]),V=d(V,D,H,G,W,10,l[57]),G=d(G,V,D,H,O,15,l[58]),H=d(H,G,V,D,ee,21,l[59]),D=d(D,H,G,V,I,6,l[60]),V=d(V,D,H,G,U,10,l[61]),G=d(G,V,D,H,C,15,l[62]),H=d(H,G,V,D,L,21,l[63]),b[0]=b[0]+D|0,b[1]=b[1]+H|0,b[2]=b[2]+G|0,b[3]=b[3]+V|0},_doFinalize:function(){var v=this._data,m=v.words,g=this._nDataBytes*8,_=v.sigBytes*8;m[_>>>5]|=128<<24-_%32;var x=n.floor(g/4294967296),b=g;m[(_+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,m[(_+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,v.sigBytes=(m.length+1)*4,this._process();for(var w=this._hash,E=w.words,C=0;C<4;C++){var T=E[C];E[C]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return w},clone:function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v}});function f(v,m,g,_,x,b,w){var E=v+(m&g|~m&_)+x+w;return(E<<b|E>>>32-b)+m}function h(v,m,g,_,x,b,w){var E=v+(m&_|g&~_)+x+w;return(E<<b|E>>>32-b)+m}function p(v,m,g,_,x,b,w){var E=v+(m^g^_)+x+w;return(E<<b|E>>>32-b)+m}function d(v,m,g,_,x,b,w){var E=v+(g^(m|~_))+x+w;return(E<<b|E>>>32-b)+m}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5})}(NS)),NS.exports}var LS={exports:{}},iD;function iH(){return iD||(iD=1,function(t,e){(function(r,n){t.exports=n(Er())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,p=h[0],d=h[1],v=h[2],m=h[3],g=h[4],_=0;_<80;_++){if(_<16)c[_]=u[f+_]|0;else{var x=c[_-3]^c[_-8]^c[_-14]^c[_-16];c[_]=x<<1|x>>>31}var b=(p<<5|p>>>27)+g+c[_];_<20?b+=(d&v|~d&m)+1518500249:_<40?b+=(d^v^m)+1859775393:_<60?b+=(d&v|d&m|v&m)-1894007588:b+=(d^v^m)-899497514,g=m,m=v,v=d<<30|d>>>2,d=p,p=b}h[0]=h[0]+p|0,h[1]=h[1]+d|0,h[2]=h[2]+v|0,h[3]=h[3]+m|0,h[4]=h[4]+g|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,p=u.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(p+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(LS)),LS.exports}var MS={exports:{}},aD;function LO(){return aD||(aD=1,function(t,e){(function(r,n){t.exports=n(Er())})(Ct,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[],u=[];(function(){function p(g){for(var _=n.sqrt(g),x=2;x<=_;x++)if(!(g%x))return!1;return!0}function d(g){return(g-(g|0))*4294967296|0}for(var v=2,m=0;m<64;)p(v)&&(m<8&&(l[m]=d(n.pow(v,1/2))),u[m]=d(n.pow(v,1/3)),m++),v++})();var f=[],h=c.SHA256=s.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(p,d){for(var v=this._hash.words,m=v[0],g=v[1],_=v[2],x=v[3],b=v[4],w=v[5],E=v[6],C=v[7],T=0;T<64;T++){if(T<16)f[T]=p[d+T]|0;else{var I=f[T-15],R=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,O=f[T-2],P=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;f[T]=R+f[T-7]+P+f[T-16]}var k=b&w^~b&E,L=m&g^m&_^g&_,B=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),U=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),z=C+U+k+u[T]+f[T],ee=B+L;C=E,E=w,w=b,b=x+z|0,x=_,_=g,g=m,m=z+ee|0}v[0]=v[0]+m|0,v[1]=v[1]+g|0,v[2]=v[2]+_|0,v[3]=v[3]+x|0,v[4]=v[4]+b|0,v[5]=v[5]+w|0,v[6]=v[6]+E|0,v[7]=v[7]+C|0},_doFinalize:function(){var p=this._data,d=p.words,v=this._nDataBytes*8,m=p.sigBytes*8;return d[m>>>5]|=128<<24-m%32,d[(m+64>>>9<<4)+14]=n.floor(v/4294967296),d[(m+64>>>9<<4)+15]=v,p.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=s._createHelper(h),i.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256})}(MS)),MS.exports}var BS={exports:{}},oD;function oTe(){return oD||(oD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),LO())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,c=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=s._createHelper(c),n.HmacSHA224=s._createHmacHelper(c)}(),r.SHA224})}(BS)),BS.exports}var DS={exports:{}},sD;function aH(){return sD||(sD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),W1())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,c=o.WordArray,l=n.algo;function u(){return s.create.apply(s,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var d=0;d<80;d++)h[d]=u()})();var p=l.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(d,v){for(var m=this._hash.words,g=m[0],_=m[1],x=m[2],b=m[3],w=m[4],E=m[5],C=m[6],T=m[7],I=g.high,R=g.low,O=_.high,P=_.low,k=x.high,L=x.low,B=b.high,U=b.low,z=w.high,ee=w.low,ne=E.high,W=E.low,D=C.high,H=C.low,G=T.high,V=T.low,ie=I,se=R,ge=O,ue=P,we=k,Be=L,Fe=B,Ee=U,Te=z,Ge=ee,We=ne,Ve=W,Xe=D,qe=H,wt=G,At=V,ct=0;ct<80;ct++){var ft,Et,Qt=h[ct];if(ct<16)Et=Qt.high=d[v+ct*2]|0,ft=Qt.low=d[v+ct*2+1]|0;else{var Vt=h[ct-15],er=Vt.high,$t=Vt.low,yt=(er>>>1|$t<<31)^(er>>>8|$t<<24)^er>>>7,Yt=($t>>>1|er<<31)^($t>>>8|er<<24)^($t>>>7|er<<25),Oe=h[ct-2],j=Oe.high,he=Oe.low,Se=(j>>>19|he<<13)^(j<<3|he>>>29)^j>>>6,ke=(he>>>19|j<<13)^(he<<3|j>>>29)^(he>>>6|j<<26),ae=h[ct-7],Ie=ae.high,X=ae.low,Ue=h[ct-16],dt=Ue.high,F=Ue.low;ft=Yt+X,Et=yt+Ie+(ft>>>0<Yt>>>0?1:0),ft=ft+ke,Et=Et+Se+(ft>>>0<ke>>>0?1:0),ft=ft+F,Et=Et+dt+(ft>>>0<F>>>0?1:0),Qt.high=Et,Qt.low=ft}var Re=Te&We^~Te&Xe,Pe=Ge&Ve^~Ge&qe,Y=ie&ge^ie&we^ge&we,le=se&ue^se&Be^ue&Be,Ce=(ie>>>28|se<<4)^(ie<<30|se>>>2)^(ie<<25|se>>>7),ht=(se>>>28|ie<<4)^(se<<30|ie>>>2)^(se<<25|ie>>>7),Je=(Te>>>14|Ge<<18)^(Te>>>18|Ge<<14)^(Te<<23|Ge>>>9),at=(Ge>>>14|Te<<18)^(Ge>>>18|Te<<14)^(Ge<<23|Te>>>9),Ot=f[ct],Nn=Ot.high,ir=Ot.low,St=At+at,Sr=wt+Je+(St>>>0<At>>>0?1:0),St=St+Pe,Sr=Sr+Re+(St>>>0<Pe>>>0?1:0),St=St+ir,Sr=Sr+Nn+(St>>>0<ir>>>0?1:0),St=St+ft,Sr=Sr+Et+(St>>>0<ft>>>0?1:0),on=ht+le,zn=Ce+Y+(on>>>0<ht>>>0?1:0);wt=Xe,At=qe,Xe=We,qe=Ve,We=Te,Ve=Ge,Ge=Ee+St|0,Te=Fe+Sr+(Ge>>>0<Ee>>>0?1:0)|0,Fe=we,Ee=Be,we=ge,Be=ue,ge=ie,ue=se,se=St+on|0,ie=Sr+zn+(se>>>0<St>>>0?1:0)|0}R=g.low=R+se,g.high=I+ie+(R>>>0<se>>>0?1:0),P=_.low=P+ue,_.high=O+ge+(P>>>0<ue>>>0?1:0),L=x.low=L+Be,x.high=k+we+(L>>>0<Be>>>0?1:0),U=b.low=U+Ee,b.high=B+Fe+(U>>>0<Ee>>>0?1:0),ee=w.low=ee+Ge,w.high=z+Te+(ee>>>0<Ge>>>0?1:0),W=E.low=W+Ve,E.high=ne+We+(W>>>0<Ve>>>0?1:0),H=C.low=H+qe,C.high=D+Xe+(H>>>0<qe>>>0?1:0),V=T.low=V+At,T.high=G+wt+(V>>>0<At>>>0?1:0)},_doFinalize:function(){var d=this._data,v=d.words,m=this._nDataBytes*8,g=d.sigBytes*8;v[g>>>5]|=128<<24-g%32,v[(g+128>>>10<<5)+30]=Math.floor(m/4294967296),v[(g+128>>>10<<5)+31]=m,d.sigBytes=v.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d},blockSize:1024/32});n.SHA512=a._createHelper(p),n.HmacSHA512=a._createHmacHelper(p)}(),r.SHA512})}(DS)),DS.exports}var US={exports:{}},lD;function sTe(){return lD||(lD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),W1(),aH())})(Ct,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l)}(),r.SHA384})}(US)),US.exports}var jS={exports:{}},uD;function lTe(){return uD||(uD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),W1())})(Ct,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.x64,l=c.Word,u=i.algo,f=[],h=[],p=[];(function(){for(var m=1,g=0,_=0;_<24;_++){f[m+5*g]=(_+1)*(_+2)/2%64;var x=g%5,b=(2*m+3*g)%5;m=x,g=b}for(var m=0;m<5;m++)for(var g=0;g<5;g++)h[m+5*g]=g+(2*m+3*g)%5*5;for(var w=1,E=0;E<24;E++){for(var C=0,T=0,I=0;I<7;I++){if(w&1){var R=(1<<I)-1;R<32?T^=1<<R:C^=1<<R-32}w&128?w=w<<1^113:w<<=1}p[E]=l.create(C,T)}})();var d=[];(function(){for(var m=0;m<25;m++)d[m]=l.create()})();var v=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],g=0;g<25;g++)m[g]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,g){for(var _=this._state,x=this.blockSize/2,b=0;b<x;b++){var w=m[g+2*b],E=m[g+2*b+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var C=_[b];C.high^=E,C.low^=w}for(var T=0;T<24;T++){for(var I=0;I<5;I++){for(var R=0,O=0,P=0;P<5;P++){var C=_[I+5*P];R^=C.high,O^=C.low}var k=d[I];k.high=R,k.low=O}for(var I=0;I<5;I++)for(var L=d[(I+4)%5],B=d[(I+1)%5],U=B.high,z=B.low,R=L.high^(U<<1|z>>>31),O=L.low^(z<<1|U>>>31),P=0;P<5;P++){var C=_[I+5*P];C.high^=R,C.low^=O}for(var ee=1;ee<25;ee++){var R,O,C=_[ee],ne=C.high,W=C.low,D=f[ee];D<32?(R=ne<<D|W>>>32-D,O=W<<D|ne>>>32-D):(R=W<<D-32|ne>>>64-D,O=ne<<D-32|W>>>64-D);var H=d[h[ee]];H.high=R,H.low=O}var G=d[0],V=_[0];G.high=V.high,G.low=V.low;for(var I=0;I<5;I++)for(var P=0;P<5;P++){var ee=I+5*P,C=_[ee],ie=d[ee],se=d[(I+1)%5+5*P],ge=d[(I+2)%5+5*P];C.high=ie.high^~se.high&ge.high,C.low=ie.low^~se.low&ge.low}var C=_[0],ue=p[T];C.high^=ue.high,C.low^=ue.low}},_doFinalize:function(){var m=this._data,g=m.words;this._nDataBytes*8;var _=m.sigBytes*8,x=this.blockSize*32;g[_>>>5]|=1<<24-_%32,g[(n.ceil((_+1)/x)*x>>>5)-1]|=128,m.sigBytes=g.length*4,this._process();for(var b=this._state,w=this.cfg.outputLength/8,E=w/8,C=[],T=0;T<E;T++){var I=b[T],R=I.high,O=I.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,C.push(O),C.push(R)}return new o.init(C,w)},clone:function(){for(var m=s.clone.call(this),g=m._state=this._state.slice(0),_=0;_<25;_++)g[_]=g[_].clone();return m}});i.SHA3=s._createHelper(v),i.HmacSHA3=s._createHmacHelper(v)}(Math),r.SHA3})}(jS)),jS.exports}var $S={exports:{}},cD;function uTe(){return cD||(cD=1,function(t,e){(function(r,n){t.exports=n(Er())})(Ct,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),d=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=c.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,C){for(var T=0;T<16;T++){var I=C+T,R=E[I];E[I]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var O=this._hash.words,P=p.words,k=d.words,L=l.words,B=u.words,U=f.words,z=h.words,ee,ne,W,D,H,G,V,ie,se,ge;G=ee=O[0],V=ne=O[1],ie=W=O[2],se=D=O[3],ge=H=O[4];for(var ue,T=0;T<80;T+=1)ue=ee+E[C+L[T]]|0,T<16?ue+=m(ne,W,D)+P[0]:T<32?ue+=g(ne,W,D)+P[1]:T<48?ue+=_(ne,W,D)+P[2]:T<64?ue+=x(ne,W,D)+P[3]:ue+=b(ne,W,D)+P[4],ue=ue|0,ue=w(ue,U[T]),ue=ue+H|0,ee=H,H=D,D=w(W,10),W=ne,ne=ue,ue=G+E[C+B[T]]|0,T<16?ue+=b(V,ie,se)+k[0]:T<32?ue+=x(V,ie,se)+k[1]:T<48?ue+=_(V,ie,se)+k[2]:T<64?ue+=g(V,ie,se)+k[3]:ue+=m(V,ie,se)+k[4],ue=ue|0,ue=w(ue,z[T]),ue=ue+ge|0,G=ge,ge=se,se=w(ie,10),ie=V,V=ue;ue=O[1]+W+se|0,O[1]=O[2]+D+ge|0,O[2]=O[3]+H+G|0,O[3]=O[4]+ee+V|0,O[4]=O[0]+ne+ie|0,O[0]=ue},_doFinalize:function(){var E=this._data,C=E.words,T=this._nDataBytes*8,I=E.sigBytes*8;C[I>>>5]|=128<<24-I%32,C[(I+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,E.sigBytes=(C.length+1)*4,this._process();for(var R=this._hash,O=R.words,P=0;P<5;P++){var k=O[P];O[P]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return R},clone:function(){var E=s.clone.call(this);return E._hash=this._hash.clone(),E}});function m(E,C,T){return E^C^T}function g(E,C,T){return E&C|~E&T}function _(E,C,T){return(E|~C)^T}function x(E,C,T){return E&T|C&~T}function b(E,C,T){return E^(C|~T)}function w(E,C){return E<<C|E>>>32-C}i.RIPEMD160=s._createHelper(v),i.HmacRIPEMD160=s._createHmacHelper(v)}(),r.RIPEMD160})}($S)),$S.exports}var GS={exports:{}},fD;function MO(){return fD||(fD=1,function(t,e){(function(r,n){t.exports=n(Er())})(Ct,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,c=n.algo;c.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=s.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),d=this._iKey=u.clone(),v=p.words,m=d.words,g=0;g<f;g++)v[g]^=1549556828,m[g]^=909522486;p.sigBytes=d.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(GS)),GS.exports}var VS={exports:{}},hD;function cTe(){return hD||(hD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),LO(),MO())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.SHA256,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var p=this.cfg,d=l.create(p.hasher,f),v=o.create(),m=o.create([1]),g=v.words,_=m.words,x=p.keySize,b=p.iterations;g.length<x;){var w=d.update(h).finalize(m);d.reset();for(var E=w.words,C=E.length,T=w,I=1;I<b;I++){T=d.finalize(T),d.reset();for(var R=T.words,O=0;O<C;O++)E[O]^=R[O]}v.concat(w),_[0]++}return v.sigBytes=x*4,v}});n.PBKDF2=function(f,h,p){return u.create(p).compute(f,h)}}(),r.PBKDF2})}(VS)),VS.exports}var HS={exports:{}},dD;function Bu(){return dD||(dD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),iH(),MO())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,p=this.cfg,d=p.hasher.create(),v=o.create(),m=v.words,g=p.keySize,_=p.iterations;m.length<g;){h&&d.update(h),h=d.update(u).finalize(f),d.reset();for(var x=1;x<_;x++)h=d.finalize(h),d.reset();v.concat(h)}return v.sigBytes=g*4,v}});n.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),r.EvpKDF})}(HS)),HS.exports}var XS={exports:{}},pD;function Ai(){return pD||(pD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Bu())})(Ct,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,f=i.algo,h=f.EvpKDF,p=a.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(R,O){return this.create(this._ENC_XFORM_MODE,R,O)},createDecryptor:function(R,O){return this.create(this._DEC_XFORM_MODE,R,O)},init:function(R,O,P){this.cfg=this.cfg.extend(P),this._xformMode=R,this._key=O,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(O){return typeof O=="string"?I:E}return function(O){return{encrypt:function(P,k,L){return R(k).encrypt(O,P,k,L)},decrypt:function(P,k,L){return R(k).decrypt(O,P,k,L)}}}}()});a.StreamCipher=p.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var d=i.mode={},v=a.BlockCipherMode=o.extend({createEncryptor:function(R,O){return this.Encryptor.create(R,O)},createDecryptor:function(R,O){return this.Decryptor.create(R,O)},init:function(R,O){this._cipher=R,this._iv=O}}),m=d.CBC=function(){var R=v.extend();R.Encryptor=R.extend({processBlock:function(P,k){var L=this._cipher,B=L.blockSize;O.call(this,P,k,B),L.encryptBlock(P,k),this._prevBlock=P.slice(k,k+B)}}),R.Decryptor=R.extend({processBlock:function(P,k){var L=this._cipher,B=L.blockSize,U=P.slice(k,k+B);L.decryptBlock(P,k),O.call(this,P,k,B),this._prevBlock=U}});function O(P,k,L){var B,U=this._iv;U?(B=U,this._iv=n):B=this._prevBlock;for(var z=0;z<L;z++)P[k+z]^=B[z]}return R}(),g=i.pad={},_=g.Pkcs7={pad:function(R,O){for(var P=O*4,k=P-R.sigBytes%P,L=k<<24|k<<16|k<<8|k,B=[],U=0;U<k;U+=4)B.push(L);var z=s.create(B,k);R.concat(z)},unpad:function(R){var O=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=O}};a.BlockCipher=p.extend({cfg:p.cfg.extend({mode:m,padding:_}),reset:function(){var R;p.reset.call(this);var O=this.cfg,P=O.iv,k=O.mode;this._xformMode==this._ENC_XFORM_MODE?R=k.createEncryptor:(R=k.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,P&&P.words):(this._mode=R.call(k,this,P&&P.words),this._mode.__creator=R)},_doProcessBlock:function(R,O){this._mode.processBlock(R,O)},_doFinalize:function(){var R,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),O.unpad(R)),R},blockSize:128/32});var x=a.CipherParams=o.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),b=i.format={},w=b.OpenSSL={stringify:function(R){var O,P=R.ciphertext,k=R.salt;return k?O=s.create([1398893684,1701076831]).concat(k).concat(P):O=P,O.toString(u)},parse:function(R){var O,P=u.parse(R),k=P.words;return k[0]==1398893684&&k[1]==1701076831&&(O=s.create(k.slice(2,4)),k.splice(0,4),P.sigBytes-=16),x.create({ciphertext:P,salt:O})}},E=a.SerializableCipher=o.extend({cfg:o.extend({format:w}),encrypt:function(R,O,P,k){k=this.cfg.extend(k);var L=R.createEncryptor(P,k),B=L.finalize(O),U=L.cfg;return x.create({ciphertext:B,key:P,iv:U.iv,algorithm:R,mode:U.mode,padding:U.padding,blockSize:R.blockSize,formatter:k.format})},decrypt:function(R,O,P,k){k=this.cfg.extend(k),O=this._parse(O,k.format);var L=R.createDecryptor(P,k).finalize(O.ciphertext);return L},_parse:function(R,O){return typeof R=="string"?O.parse(R,this):R}}),C=i.kdf={},T=C.OpenSSL={execute:function(R,O,P,k,L){if(k||(k=s.random(64/8)),L)var B=h.create({keySize:O+P,hasher:L}).compute(R,k);else var B=h.create({keySize:O+P}).compute(R,k);var U=s.create(B.words.slice(O),P*4);return B.sigBytes=O*4,x.create({key:B,iv:U,salt:k})}},I=a.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:T}),encrypt:function(R,O,P,k){k=this.cfg.extend(k);var L=k.kdf.execute(P,R.keySize,R.ivSize,k.salt,k.hasher);k.iv=L.iv;var B=E.encrypt.call(this,R,O,L.key,k);return B.mixIn(L),B},decrypt:function(R,O,P,k){k=this.cfg.extend(k),O=this._parse(O,k.format);var L=k.kdf.execute(P,R.keySize,R.ivSize,O.salt,k.hasher);k.iv=L.iv;var B=E.decrypt.call(this,R,O,L.key,k);return B}})}()})}(XS)),XS.exports}var zS={exports:{}},vD;function fTe(){return vD||(vD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize;i.call(this,a,o,c,s),this._prevBlock=a.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=a.slice(o,o+c);i.call(this,a,o,c,s),this._prevBlock=l}});function i(a,o,s,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<s;f++)a[o+f]^=l[f]}return n}(),r.mode.CFB})}(zS)),zS.exports}var WS={exports:{}},gD;function hTe(){return gD||(gD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);s.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)a[o+h]^=f[h]}});return n.Decryptor=i,n}(),r.mode.CTR})}(WS)),WS.exports}var YS={exports:{}},mD;function dTe(){return mD||(mD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var c=s>>16&255,l=s>>8&255,u=s&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,s=0,s+=c<<16,s+=l<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),a(h);var p=h.slice(0);l.encryptBlock(p,0);for(var d=0;d<u;d++)s[c+d]^=p[d]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(YS)),YS.exports}var qS={exports:{}},_D;function pTe(){return _D||(_D=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var f=0;f<c;f++)a[o+f]^=u[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}(qS)),qS.exports}var KS={exports:{}},yD;function vTe(){return yD||(yD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(KS)),KS.exports}var ZS={exports:{}},xD;function gTe(){return xD||(xD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,c=a+s-1;n.clamp(),n.words[c>>>2]|=s<<24-c%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(ZS)),ZS.exports}var JS={exports:{}},bD;function mTe(){return bD||(bD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(JS)),JS.exports}var QS={exports:{}},wD;function _Te(){return wD||(wD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(QS)),QS.exports}var e2={exports:{}},ED;function yTe(){return ED||(ED=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(e2)),e2.exports}var t2={exports:{}},SD;function xTe(){return SD||(SD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(t2)),t2.exports}var r2={exports:{}},CD;function bTe(){return CD||(CD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),Ai())})(Ct,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,c=s.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),r.format.Hex})}(r2)),r2.exports}var n2={exports:{}},TD;function wTe(){return TD||(TD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),vf(),gf(),Bu(),Ai())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],c=[],l=[],u=[],f=[],h=[],p=[],d=[],v=[],m=[];(function(){for(var x=[],b=0;b<256;b++)b<128?x[b]=b<<1:x[b]=b<<1^283;for(var w=0,E=0,b=0;b<256;b++){var C=E^E<<1^E<<2^E<<3^E<<4;C=C>>>8^C&255^99,s[w]=C,c[C]=w;var T=x[w],I=x[T],R=x[I],O=x[C]*257^C*16843008;l[w]=O<<24|O>>>8,u[w]=O<<16|O>>>16,f[w]=O<<8|O>>>24,h[w]=O;var O=R*16843009^I*65537^T*257^w*16843008;p[C]=O<<24|O>>>8,d[C]=O<<16|O>>>16,v[C]=O<<8|O>>>24,m[C]=O,w?(w=T^x[x[x[R^T]]],E^=x[x[E]]):w=E=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=a.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,w=b.words,E=b.sigBytes/4,C=this._nRounds=E+6,T=(C+1)*4,I=this._keySchedule=[],R=0;R<T;R++)R<E?I[R]=w[R]:(x=I[R-1],R%E?E>6&&R%E==4&&(x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255]):(x=x<<8|x>>>24,x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255],x^=g[R/E|0]<<24),I[R]=I[R-E]^x);for(var O=this._invKeySchedule=[],P=0;P<T;P++){var R=T-P;if(P%4)var x=I[R];else var x=I[R-4];P<4||R<=4?O[P]=x:O[P]=p[s[x>>>24]]^d[s[x>>>16&255]]^v[s[x>>>8&255]]^m[s[x&255]]}}},encryptBlock:function(x,b){this._doCryptBlock(x,b,this._keySchedule,l,u,f,h,s)},decryptBlock:function(x,b){var w=x[b+1];x[b+1]=x[b+3],x[b+3]=w,this._doCryptBlock(x,b,this._invKeySchedule,p,d,v,m,c);var w=x[b+1];x[b+1]=x[b+3],x[b+3]=w},_doCryptBlock:function(x,b,w,E,C,T,I,R){for(var O=this._nRounds,P=x[b]^w[0],k=x[b+1]^w[1],L=x[b+2]^w[2],B=x[b+3]^w[3],U=4,z=1;z<O;z++){var ee=E[P>>>24]^C[k>>>16&255]^T[L>>>8&255]^I[B&255]^w[U++],ne=E[k>>>24]^C[L>>>16&255]^T[B>>>8&255]^I[P&255]^w[U++],W=E[L>>>24]^C[B>>>16&255]^T[P>>>8&255]^I[k&255]^w[U++],D=E[B>>>24]^C[P>>>16&255]^T[k>>>8&255]^I[L&255]^w[U++];P=ee,k=ne,L=W,B=D}var ee=(R[P>>>24]<<24|R[k>>>16&255]<<16|R[L>>>8&255]<<8|R[B&255])^w[U++],ne=(R[k>>>24]<<24|R[L>>>16&255]<<16|R[B>>>8&255]<<8|R[P&255])^w[U++],W=(R[L>>>24]<<24|R[B>>>16&255]<<16|R[P>>>8&255]<<8|R[k&255])^w[U++],D=(R[B>>>24]<<24|R[P>>>16&255]<<16|R[k>>>8&255]<<8|R[L&255])^w[U++];x[b]=ee,x[b+1]=ne,x[b+2]=W,x[b+3]=D},keySize:256/32});n.AES=a._createHelper(_)}(),r.AES})}(n2)),n2.exports}var i2={exports:{}},AD;function ETe(){return AD||(AD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),vf(),gf(),Bu(),Ai())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=s.DES=o.extend({_doReset:function(){for(var g=this._key,_=g.words,x=[],b=0;b<56;b++){var w=c[b]-1;x[b]=_[w>>>5]>>>31-w%32&1}for(var E=this._subKeys=[],C=0;C<16;C++){for(var T=E[C]=[],I=u[C],b=0;b<24;b++)T[b/6|0]|=x[(l[b]-1+I)%28]<<31-b%6,T[4+(b/6|0)]|=x[28+(l[b+24]-1+I)%28]<<31-b%6;T[0]=T[0]<<1|T[0]>>>31;for(var b=1;b<7;b++)T[b]=T[b]>>>(b-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var R=this._invSubKeys=[],b=0;b<16;b++)R[b]=E[15-b]},encryptBlock:function(g,_){this._doCryptBlock(g,_,this._subKeys)},decryptBlock:function(g,_){this._doCryptBlock(g,_,this._invSubKeys)},_doCryptBlock:function(g,_,x){this._lBlock=g[_],this._rBlock=g[_+1],d.call(this,4,252645135),d.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),d.call(this,1,1431655765);for(var b=0;b<16;b++){for(var w=x[b],E=this._lBlock,C=this._rBlock,T=0,I=0;I<8;I++)T|=f[I][((C^w[I])&h[I])>>>0];this._lBlock=C,this._rBlock=E^T}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,d.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),g[_]=this._lBlock,g[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function d(g,_){var x=(this._lBlock>>>g^this._rBlock)&_;this._rBlock^=x,this._lBlock^=x<<g}function v(g,_){var x=(this._rBlock>>>g^this._lBlock)&_;this._lBlock^=x,this._rBlock^=x<<g}n.DES=o._createHelper(p);var m=s.TripleDES=o.extend({_doReset:function(){var g=this._key,_=g.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=_.slice(0,2),b=_.length<4?_.slice(0,2):_.slice(2,4),w=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=p.createEncryptor(a.create(x)),this._des2=p.createEncryptor(a.create(b)),this._des3=p.createEncryptor(a.create(w))},encryptBlock:function(g,_){this._des1.encryptBlock(g,_),this._des2.decryptBlock(g,_),this._des3.encryptBlock(g,_)},decryptBlock:function(g,_){this._des3.decryptBlock(g,_),this._des2.encryptBlock(g,_),this._des1.decryptBlock(g,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(m)}(),r.TripleDES})}(i2)),i2.exports}var a2={exports:{}},ID;function STe(){return ID||(ID=1,function(t,e){(function(r,n,i){t.exports=n(Er(),vf(),gf(),Bu(),Ai())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,p=this._S=[],d=0;d<256;d++)p[d]=d;for(var d=0,v=0;d<256;d++){var m=d%h,g=f[m>>>2]>>>24-m%4*8&255;v=(v+p[d]+g)%256;var _=p[d];p[d]=p[v],p[v]=_}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,p=0,d=0;d<4;d++){f=(f+1)%256,h=(h+u[f])%256;var v=u[f];u[f]=u[h],u[h]=v,p|=u[(u[f]+u[h])%256]<<24-d*8}return this._i=f,this._j=h,p}n.RC4=a._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(a2)),a2.exports}var o2={exports:{}},RD;function CTe(){return RD||(RD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),vf(),gf(),Bu(),Ai())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,p=this.cfg.iv,d=0;d<4;d++)h[d]=(h[d]<<8|h[d]>>>24)&16711935|(h[d]<<24|h[d]>>>8)&4278255360;var v=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var d=0;d<4;d++)f.call(this);for(var d=0;d<8;d++)m[d]^=v[d+4&7];if(p){var g=p.words,_=g[0],x=g[1],b=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,w=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,E=b>>>16|w&4294901760,C=w<<16|b&65535;m[0]^=b,m[1]^=E,m[2]^=w,m[3]^=C,m[4]^=b,m[5]^=E,m[6]^=w,m[7]^=C;for(var d=0;d<4;d++)f.call(this)}},_doProcessBlock:function(h,p){var d=this._X;f.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var v=0;v<4;v++)s[v]=(s[v]<<8|s[v]>>>24)&16711935|(s[v]<<24|s[v]>>>8)&4278255360,h[p+v]^=s[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,d=0;d<8;d++)c[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var d=0;d<8;d++){var v=h[d]+p[d],m=v&65535,g=v>>>16,_=((m*m>>>17)+m*g>>>15)+g*g,x=((v&4294901760)*v|0)+((v&65535)*v|0);l[d]=_^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(o2)),o2.exports}var s2={exports:{}},PD;function TTe(){return PD||(PD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),vf(),gf(),Bu(),Ai())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,p=this.cfg.iv,d=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],v=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var m=0;m<4;m++)f.call(this);for(var m=0;m<8;m++)v[m]^=d[m+4&7];if(p){var g=p.words,_=g[0],x=g[1],b=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,w=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,E=b>>>16|w&4294901760,C=w<<16|b&65535;v[0]^=b,v[1]^=E,v[2]^=w,v[3]^=C,v[4]^=b,v[5]^=E,v[6]^=w,v[7]^=C;for(var m=0;m<4;m++)f.call(this)}},_doProcessBlock:function(h,p){var d=this._X;f.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var v=0;v<4;v++)s[v]=(s[v]<<8|s[v]>>>24)&16711935|(s[v]<<24|s[v]>>>8)&4278255360,h[p+v]^=s[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,d=0;d<8;d++)c[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var d=0;d<8;d++){var v=h[d]+p[d],m=v&65535,g=v>>>16,_=((m*m>>>17)+m*g>>>15)+g*g,x=((v&4294901760)*v|0)+((v&65535)*v|0);l[d]=_^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(s2)),s2.exports}var l2={exports:{}},OD;function ATe(){return OD||(OD=1,function(t,e){(function(r,n,i){t.exports=n(Er(),vf(),gf(),Bu(),Ai())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(m,g){let _=g>>24&255,x=g>>16&255,b=g>>8&255,w=g&255,E=m.sbox[0][_]+m.sbox[1][x];return E=E^m.sbox[2][b],E=E+m.sbox[3][w],E}function h(m,g,_){let x=g,b=_,w;for(let E=0;E<s;++E)x=x^m.pbox[E],b=f(m,x)^b,w=x,x=b,b=w;return w=x,x=b,b=w,b=b^m.pbox[s],x=x^m.pbox[s+1],{left:x,right:b}}function p(m,g,_){let x=g,b=_,w;for(let E=s+1;E>1;--E)x=x^m.pbox[E],b=f(m,x)^b,w=x,x=b,b=w;return w=x,x=b,b=w,b=b^m.pbox[1],x=x^m.pbox[0],{left:x,right:b}}function d(m,g,_){for(let C=0;C<4;C++){m.sbox[C]=[];for(let T=0;T<256;T++)m.sbox[C][T]=l[C][T]}let x=0;for(let C=0;C<s+2;C++)m.pbox[C]=c[C]^g[x],x++,x>=_&&(x=0);let b=0,w=0,E=0;for(let C=0;C<s+2;C+=2)E=h(m,b,w),b=E.left,w=E.right,m.pbox[C]=b,m.pbox[C+1]=w;for(let C=0;C<4;C++)for(let T=0;T<256;T+=2)E=h(m,b,w),b=E.left,w=E.right,m.sbox[C][T]=b,m.sbox[C][T+1]=w;return!0}var v=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,g=m.words,_=m.sigBytes/4;d(u,g,_)}},encryptBlock:function(m,g){var _=h(u,m[g],m[g+1]);m[g]=_.left,m[g+1]=_.right},decryptBlock:function(m,g){var _=p(u,m[g],m[g+1]);m[g]=_.left,m[g+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(v)}(),r.Blowfish})}(l2)),l2.exports}(function(t,e){(function(r,n,i){t.exports=n(Er(),W1(),nTe(),iTe(),vf(),aTe(),gf(),iH(),LO(),oTe(),aH(),sTe(),lTe(),uTe(),MO(),cTe(),Bu(),Ai(),fTe(),hTe(),dTe(),pTe(),vTe(),gTe(),mTe(),_Te(),yTe(),xTe(),bTe(),wTe(),ETe(),STe(),CTe(),TTe(),ATe())})(Ct,function(r){return r})})(rH);var ITe=rH.exports;const X_=$i(ITe);function RTe(t){const e=new Uint8Array(t),r=[];for(let n=0;n<e.length;n+=4)r.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return X_.lib.WordArray.create(r,e.length)}async function PTe(t,e,r,n){const i=X_.enc.Hex.parse(e),a=X_.enc.Hex.parse(r),o=RTe(t),s=X_.AES.decrypt({ciphertext:o},i,{iv:a}),c=new Uint8Array(s.sigBytes);for(let l=0;l<s.sigBytes;l++)c[l]=s.words[l>>>2]>>>24-l%4*8&255;return new Blob([c],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}class OTe{constructor(){lt(this,"videosByKey");lt(this,"currentPlayingVideo","");lt(this,"videoIndex",0);this.videosByKey={},this.currentPlayingVideo=""}preloadVideo(e,r=!1){var c;if(this.videosByKey[e])return;console.info("",e);const n="video-"+this.videoIndex++,i=document.createElement("div"),a=document.createElement("video"),o=e.endsWith(".flv")?"flv":"mp4";i.setAttribute("id",n),i.style.width="100%",i.style.height="100%",i.style.zIndex="-99",i.style.display="block",i.style.opacity="0",i.style.background="#000",i.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.zIndex="11",a.style.position="absolute",a.style.display="block",a.playsInline=!0,a.controls=!1,a.addEventListener("play",function(){a.controls=!1}),a.addEventListener("pause",function(){a.controls=!1}),a.volume=0;const s=()=>{this.videosByKey[e].events.ended.callbacks.forEach(u=>u())};i.appendChild(a),(c=document.getElementById("videoContainer"))==null||c.appendChild(i),this.videosByKey[e]={player:null,id:n,progressTimer:null,waitCommands:{},events:{ended:{callbacks:[],handler:s}}},r&&(this.videosByKey[e].waitCommands={playVideo:!0,showVideo:!0}),fetch(e).then(l=>l.status>200?null:l.arrayBuffer()).then(async l=>{if(!l)return;const u="ENCRYPTED",f=u.length,h=new Uint8Array(l.slice(0,f));let p=!1;for(let g=0;g<f;g++){if(String.fromCharCode(h[g])!==u[g]){p=!1;break}p=!0}let d;if(p){const g=l.slice(f);d=await PTe(g,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",o)}else d=new Blob([new Uint8Array(l)],{type:`video/${o==="mp4"?"mp4":"x-flv"}`});const v=eTe.createPlayer({type:e.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(d)});v.attachMediaElement(a),v.load();const m={...this.videosByKey[e],player:v};this.videosByKey[e]=m,a.onloadeddata=()=>{const g=Object.keys(m.waitCommands);if(m){const _=document.createElement("canvas"),x=_.getContext("2d");_.width=480,_.height=270,x.drawImage(a,0,0,480,270);const b=_.toDataURL("image/webp",.5);_.remove(),m.poster=b}g.length&&g.forEach(_=>{if(!m){console.log("",e);return}this[_](e,m.waitCommands[_])})}})}pauseVideo(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.pause()}showVideo(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=document.getElementById(r.id);n&&(n.style.opacity="1",n.style.zIndex="11")}else r?r.waitCommands.showVideo=!0:this.preloadVideo(e,!0)}playVideo(e){const r=this.videosByKey[e];this.currentPlayingVideo=e,r!=null&&r.player?(r.player.play(),this.checkProgress(e)):r?r.waitCommands.playVideo=!0:this.preloadVideo(e,!0)}setLoop(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.loop=r)}else n.waitCommands.setLoop=r}seek(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.currentTime=r:n.waitCommands.seek=r}backward(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.currentTime>0&&(r.player.currentTime-=1)}forward(e){const r=this.videosByKey[e];r!=null&&r.player&&(r.player.currentTime+=1)}setVolume(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.volume=r:n.waitCommands.setVolume=r}destroy(e,r=!1,n=!1){const i=this.videosByKey[e];if(i!=null&&i.player){i.player.pause(),i.player.volume=0;const a=document.getElementById(i.id);a&&(a.style.opacity="0",a.style.zIndex="-99"),i!=null&&i.progressTimer&&clearTimeout(i.progressTimer),setTimeout(()=>{var o;try{const s=a==null?void 0:a.getElementsByTagName("video");s!=null&&s.length&&((o=i.player)==null||o.destroy())}catch(s){console.warn(s)}setTimeout(()=>{a==null||a.remove()},r?0:500),delete this.videosByKey[e]},r?0:2e3)}}destroyAll(e=!1){Object.keys(this.videosByKey).forEach(r=>{this.destroy(r,e)})}onEnded(e,r){this.videosByKey[e].events.ended.callbacks.push(r)}getDuration(e){const r=this.videosByKey[e];if(r!=null&&r.player)return r.player.duration}destroyExcept(e){Object.keys(this.videosByKey).forEach(r=>{e.includes(r)||this.destroy(r)})}checkProgress(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=r.player,i=n.currentTime;if(n.duration-i<=.03){clearTimeout(r.progressTimer),r.progressTimer=null,r.events.ended.handler();return}r.progressTimer=setTimeout(()=>{this.checkProgress(e)},100)}}}class kTe{constructor(){lt(this,"sceneManager",new YCe);lt(this,"backlogManager",new Qde(this.sceneManager));lt(this,"animationManager",new qCe);lt(this,"gameplay",new KCe);lt(this,"gameName","");lt(this,"gameKey","");lt(this,"gameId",0);lt(this,"events",new JCe);lt(this,"videoManager",new OTe)}}const J=new kTe,Fi=oH(()=>{const t=pe.getState().userData;Kc.setItem(J.gameKey,t).then(()=>{it.info("")})},100),Wy=oH(()=>{Kc.getItem(J.gameKey).then(t=>{if(t&&t.token&&delete t.token,!t||!lH(t)){it.warn(""),Fi();return}pe.dispatch(MP(t))})},100);function oH(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const sH=()=>{const t=pe.getState().userData;Kc.setItem(J.gameKey,t).then(()=>{Kc.getItem(J.gameKey).then(e=>{if(e&&e.token&&delete e.token,!e){Fi();return}pe.dispatch(MP(e))}),it.info("")})};function lH(t){let e=!0;for(const r in ST)t.hasOwnProperty(r)||(e=!1);return e}async function FTe(){const t=await Kc.getItem(J.gameKey);if(!t||!lH(t)){const e=pe.getState().userData;return it.warn(""),await Kc.setItem(J.gameKey,e)}else pe.dispatch(MP(t))}var Mo=(t=>(t.Game_start_button="Game_start_button",t.Game_achievement_button="Game_achievement_button",t.Game_storyline_button="Game_storyline_button",t.Game_extra_button="Game_extra_button",t.Game_collection_button="Game_collection_button",t.Game_option_button="Game_option_button",t.Game_load_button="Game_load_button",t.Game_continue_button="Game_continue_button",t))(Mo||{}),BO=(t=>(t.Load_back_button="Load_back_button",t))(BO||{}),DO=(t=>(t.Storyline_back_button="Storyline_back_button",t))(DO||{}),UO=(t=>(t.Achievement_back_button="Achievement_back_button",t))(UO||{}),jO=(t=>(t.Extra_back_button="Extra_back_button",t.Extra_bgm_button="Extra_bgm_button",t.Extra_video_button="Extra_video_button",t))(jO||{}),Y1=(t=>(t.Extra_title="Extra_title",t.Extra_bg="Extra_bg",t.Extra_bgm_locked_item_bg="Extra_bgm_locked_item_bg",t.Extra_bgm_unlocked_item="Extra_bgm_unlocked_item",t.Extra_video_unlocked_item="Extra_video_unlocked_item",t.Extra_indicator="Extra_indicator",t.Extra_video_locked_item_bg="Extra_video_locked_item_bg",t))(Y1||{}),gs=(t=>(t.Collection_title="Collection_title",t.Collection_bg="Collection_bg",t.Collection_img1="Collection_img1",t.Collection_img2="Collection_img2",t.Collection_img3="Collection_img3",t.Collection_detail_bg="Collection_detail_bg",t.Collection_detail_title="Collection_detail_title",t.Collection_detail_dialog_bg="Collection_detail_dialog_bg",t.Collection_detail_dialog_text="Collection_detail_dialog_text",t))(gs||{}),$O=(t=>(t.Option_back_button="Option_back_button",t))($O||{}),GO=(t=>(t.Collection_back_button="Collection_back_button",t.Collection_detail_dialog_prev_button="Collection_detail_dialog_prev_button",t.Collection_detail_dialog_next_button="Collection_detail_dialog_next_button",t))(GO||{}),VO=(t=>(t.Option_title="Option_title",t.Option_bg="Option_bg",t.Option_window_label="Option_window_label",t.Option_text_speed_label="Option_text_speed_label",t.Option_global_volume_label="Option_global_volume_label",t.Option_bg_music_volume_label="Option_bg_music_volume_label",t.Option_effect_volume_label="Option_effect_volume_label",t.Option_voice_volume_label="Option_voice_volume_label",t.Option_voice_slider="Option_voice_slider",t.Option_text_speed_slider="Option_text_speed_slider",t.Option_global_volume_slider="Option_global_volume_slider",t.Option_bg_music_volume_slider="Option_bg_music_volume_slider",t.Option_effect_volume_slider="Option_effect_volume_slider",t.Option_fullscreen_checkbox_label="Option_fullscreen_checkbox_label",t.Option_window_checkbox_label="Option_window_checkbox_label",t.Option_fullscreen_checkbox="Option_fullscreen_checkbox",t.Option_window_checkbox="Option_window_checkbox",t.Option_videoSize1080_checkbox="Option_videoSize1080_checkbox",t.Option_videoSize720_checkbox="Option_videoSize720_checkbox",t.Options_light_slider="Options_light_slider",t))(VO||{}),HO=(t=>(t.Achievement_title="Achievement_title",t))(HO||{}),XO=(t=>(t.Storyline_title="Storyline_title",t))(XO||{}),zO=(t=>(t.Load_bg="Load_bg",t.Load_title="Load_title",t.Load_item="Load_item",t.Load_locked_item="Load_locked_item",t.Load_indicator="Load_indicator",t))(zO||{}),ov=(t=>(t.Title_img="Title_img",t.Title_bgm="Title_bgm",t))(ov||{}),fa=(t=>(t.title="title",t.load="load",t.storyline="storyline",t.achievement="achievement",t.extra="extra",t.option="option",t.collection="collection",t))(fa||{});const u2={title:{buttons:Mo,other:ov},load:{buttons:BO,other:zO},storyline:{buttons:DO,other:XO},achievement:{buttons:UO,other:HO},extra:{buttons:jO,other:Y1},option:{buttons:$O,other:VO},collection:{buttons:GO,other:gs}},mt=(t=[])=>{const e={hide:!1,style:{}};return t.forEach(r=>{e[r]={}}),e},NTe={title:{key:"title",other:{Title_img:{key:"Title_img",content:"",args:{hide:!1,style:{}}},Title_bgm:{key:"Title_bgm",content:"",args:mt()}},buttons:{Game_start_button:{key:"Game_start_button",content:"",args:mt(["hoverStyle"])},Game_load_button:{key:"Game_load_button",content:"",args:mt(["hoverStyle"])},Game_option_button:{key:"Game_option_button",content:"",args:mt(["hoverStyle"])},Game_storyline_button:{key:"Game_storyline_button",content:"",args:mt(["hoverStyle"])},Game_achievement_button:{key:"Game_achievement_button",content:"",args:mt(["hoverStyle"])},Game_extra_button:{key:"Game_extra_button",content:"",args:mt(["hoverStyle"])},Game_collection_button:{key:"Game_collection_button",content:"",args:mt(["hoverStyle"])},Game_continue_button:{key:"Game_continue_button",content:"",args:mt(["hoverStyle"])}}},load:{key:"load",other:{Load_bg:{key:"Load_bg",content:"",args:mt()},Load_title:{key:"Load_title",content:"",args:mt(["hoverStyle"])},Load_item:{key:"Load_item",content:"",args:mt(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])},Load_indicator:{key:"Load_indicator",content:"",args:mt(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Load_locked_item:{key:"Load_locked_item",content:"",args:mt(["hoverStyle"])}},buttons:{Load_back_button:{key:"Load_back_button",content:"",args:mt(["hoverStyle"])}}},storyline:{key:"storyline",other:{Storyline_title:{key:"Storyline_title",content:"",args:mt(["hoverStyle"])}},buttons:{Storyline_back_button:{key:"Storyline_back_button",content:"",args:mt(["hoverStyle"])}}},achievement:{key:"achievement",other:{Achievement_title:{key:"Achievement_title",content:"",args:mt(["hoverStyle"])}},buttons:{Achievement_back_button:{key:"Achievement_back_button",content:"",args:mt(["hoverStyle"])}}},extra:{key:"extra",other:{Extra_title:{key:"Extra_title",content:"",args:mt(["hoverStyle"])},Extra_bgm_unlocked_item:{key:"Extra_bgm_unlocked_item",content:"",args:mt(["contentStyle","backgroundStyle","extraStyle","backgroundHoverStyle","extraHoverStyle"])},Extra_bgm_locked_item_bg:{key:"Extra_bgm_locked_item_bg",content:"",args:mt()},Extra_indicator:{key:"Extra_indicator",content:"",args:mt(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Extra_bg:{key:"Extra_bg",content:"",args:mt()},Extra_video_locked_item_bg:{key:"Extra_video_locked_item_bg",content:"",args:mt()},Extra_video_unlocked_item:{key:"Extra_video_unlocked_item",content:"",args:mt(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])}},buttons:{Extra_back_button:{key:"Extra_back_button",content:"",args:mt(["hoverStyle"])},Extra_video_button:{key:"Extra_video_button",content:"",args:mt(["hoverStyle"])},Extra_bgm_button:{key:"Extra_bgm_button",content:"",args:mt(["hoverStyle"])}}},option:{key:"option",other:{Option_bg:{key:"Option_bg",content:"",args:mt()},Option_title:{key:"Option_title",content:"",args:mt(["hoverStyle"])},Option_window_label:{key:"Option_window_label",content:"",args:mt(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_text_speed_label:{key:"Option_text_speed_label",content:"",args:mt(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_voice_volume_label:{key:"Option_voice_volume_label",content:"",args:mt(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_window_checkbox_label:{key:"Option_text_speed_label",content:"",args:mt(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_global_volume_label:{key:"Option_global_volume_label",content:"",args:mt(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_label:{key:"Option_bg_music_volume_label",content:"",args:mt(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_effect_volume_label:{key:"Option_effect_volume_label",content:"",args:mt(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_fullscreen_checkbox_label:{key:"Option_fullscreen_checkbox_label",content:"",args:mt(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_slider:{key:"Option_bg_music_volume_slider",content:"",args:mt(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_effect_volume_slider:{key:"Option_effect_volume_slider",content:"",args:mt(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_text_speed_slider:{key:"Option_text_speed_slider",content:"",args:mt(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_fullscreen_checkbox:{key:"Option_fullscreen_checkbox",content:"",args:mt(["hoverStyle"])},Option_window_checkbox:{key:"Option_window_checkbox",content:"",args:mt(["hoverStyle"])},Option_videoSize1080_checkbox:{key:"Option_videoSize1080_checkbox",content:"",args:mt(["hoverStyle"])},Option_videoSize720_checkbox:{key:"Option_videoSize720_checkbox",content:"",args:mt(["hoverStyle"])},Options_light_slider:{key:"Options_light_slider",content:"",args:mt(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_global_volume_slider:{key:"Option_global_volume_slider",content:"",args:mt(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_voice_slider:{key:"Option_voice_slider",content:"",args:mt(["sliderStyle","sliderBgStyle","sliderThumbStyle"])}},buttons:{Option_back_button:{key:"Option_back_button",content:"",args:mt(["hoverStyle"])}}},collection:{key:"collection",other:{Collection_title:{key:"Collection_title",content:"",args:mt(["hoverStyle"])},Collection_bg:{key:"Collection_bg",content:"",args:mt()},Collection_img1:{key:"Collection_img1",content:"",args:mt()},Collection_img2:{key:"Collection_img2",content:"",args:mt()},Collection_img3:{key:"Collection_img3",content:"",args:mt()},Collection_detail_title:{key:"Collection_detail_title",content:"",args:mt(["hoverStyle"])},Collection_detail_bg:{key:"Collection_detail_bg",content:"",args:mt()},Collection_detail_dialog_bg:{key:"Collection_detail_dialog_bg",content:"",args:mt()},Collection_detail_dialog_text:{key:"Collection_detail_dialog_text",content:"",args:mt()}},buttons:{Collection_back_button:{key:"Collection_back_button",content:"",args:mt(["hoverStyle"])},Collection_detail_dialog_prev_button:{key:"Collection_detail_dialog_prev_button",content:"",args:mt(["hoverStyle"])},Collection_detail_dialog_next_button:{key:"Collection_detail_dialog_next_button",content:"",args:mt(["hoverStyle"])}}}},LTe={Title_img:1,Load_bg:1,Extra_bg:1,Option_bg:1,Collection_bg:1,Collection_detail_bg:1,Collection_detail_dialog_bg:1};var Ur=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))(Ur||{}),dc=(t=>(t.Esc_continueGame_button="Esc_continueGame_button",t.Esc_backToLevel_button="Esc_backToLevel_button",t.Esc_setting_button="Esc_setting_button",t.Esc_exitGame_button="Esc_exitGame_button",t))(dc||{}),pc=(t=>(t.Achievement_back_button="Achievement_back_button",t.Achievement_title="Achievement_title",t.Achievement_progress_bg="Achievement_progress_bg",t.Achievement_progress_text="Achievement_progress_text",t.Achievement_progress="Achievement_progress",t.Achievement_notUnlock="Achievement_notUnlock",t))(pc||{});const Hf={content:"",args:{hide:!0,style:{},hoverStyle:{}}},Lm={content:"",args:{hide:!1,style:{x:0,y:0,scale:1,fontSize:0,fontColor:"",btnImage:"",btnPosition:"",align:"",fontFamily:""}}},Yy={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:Ur.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,isShowGameMenu:!1,showStoryLine:!1,showAchievement:!1,showFavorited:!1,gameUIConfigs:NTe,showBeautyGuide:!1,showBeautyGuideDetail:!1,showBeautyGuideImageDialog:!1,isShowR18Modal:!1,openR18Modal:!1,escMenus:{Esc_continueGame_button:Lm,Esc_backToLevel_button:Lm,Esc_setting_button:Lm,Esc_exitGame_button:Lm},achievementUI:{Achievement_progress_bg:Hf,Achievement_progress_text:Hf,Achievement_progress:Hf,Achievement_notUnlock:Hf,Achievement_back_button:Hf,Achievement_title:Hf}},uH=Xv({name:"gui",initialState:Yy,reducers:{setVisibility:(t,e)=>{Wy();const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{Wy(),t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]},setShowStoryLine:(t,e)=>{t.showStoryLine=e.payload},setshowFavorited:(t,e)=>{t.showFavorited=e.payload},setGameUIConfigs:(t,e)=>{t.gameUIConfigs=e.payload},setGameR18:(t,e)=>{t.isShowR18Modal=e.payload},setEscMenus:(t,e)=>{t.escMenus=e.payload},setAchievementUI:(t,e)=>{t.achievementUI=e.payload}}}),{setVisibility:It,setMenuPanelTag:$c,setGuiAsset:WT,setLogoImage:MTe,setShowStoryLine:YT,setshowFavorited:qT,setGameUIConfigs:BTe,setGameR18:cH,setEscMenus:DTe,setAchievementUI:UTe}=uH.actions,jTe=uH.reducer,pe=uie({reducer:{stage:Vhe,GUI:jTe,userData:Zde,saveData:uCe,storeData:wSe},middleware:T$({serializableCheck:!1})});let kD;function WO(t,e=0,r=100){if(it.info("playing bgm"+t),t===""){kD=setTimeout(()=>{pe.dispatch(Lt({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const i=pe.getState().stage.bgm.src;pe.dispatch(Lt({key:"bgm",value:{src:i,enter:-e,volume:r}}))}else clearTimeout(kD),pe.dispatch(Lt({key:"bgm",value:{src:t,enter:e,volume:r}}));const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())}function og(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const YO=()=>{it.warn("");for(let t=0;t<J.gameplay.performController.performList.length;t++){const e=J.gameplay.performController.performList[t];e.performName.startsWith("videoPlay")?e.stopFunction(!0):e.stopFunction(),clearTimeout(e.stopTimeout),J.gameplay.performController.performList.splice(t,1),t--}},qO=()=>{pe.getState().stage.PerformList.forEach(e=>{i1(e.script)})},$Te=t=>{const e=pe.dispatch,r=J.backlogManager.getBacklog()[t];it.debug("backlog",r),Ka(r.saveScene.sceneUrl).then(async i=>{if(await J.sceneManager.setCurrentScene(i,r.saveScene.sceneName,r.saveScene.sceneUrl)){const o=J.sceneManager.sceneData.currentScene.subSceneList;J.sceneManager.settledScenes.push(J.sceneManager.sceneData.currentScene.sceneUrl);const s=Kv(o);Md(s)}}),J.sceneManager.sceneData.currentSentenceId=r.saveScene.currentSentenceId,J.sceneManager.sceneData.sceneStack=vn(r.saveScene.sceneStack),YO();for(let i=J.backlogManager.getBacklog().length-1;i>t;i--)J.backlogManager.getBacklog().pop();J.backlogManager.isSaveBacklogNext=!0;const n=vn(r.currentStageState);e(Vx(n)),setTimeout(qO,0),e(It({component:"showBacklog",visibility:!1})),e(It({component:"showTextBox",visibility:!0}))},GTe=(t,e=!1)=>{const n=pe.getState().saveData.saveData[t];it.debug("",n),KO(n,e)};async function KO(t,e=!1){if(!t){it.info("");return}const r=t;try{const o=await Ka(r.sceneData.sceneUrl);if(!await J.sceneManager.setCurrentScene(o,r.sceneData.sceneName,r.sceneData.sceneUrl,!0))return;const c=J.sceneManager.sceneData.currentScene.subSceneList;J.sceneManager.settledScenes.push(J.sceneManager.sceneData.currentScene.sceneUrl);const l=Kv(c);Md(l)}catch(o){it.error("",o);return}J.sceneManager.sceneData.currentSentenceId=r.sceneData.currentSentenceId,J.sceneManager.sceneData.sceneStack=vn(r.sceneData.sceneStack),YO();const n=r.backlog;J.backlogManager.getBacklog().splice(0,J.backlogManager.getBacklog().length);for(const o of n)J.backlogManager.getBacklog().push(o);const i=vn(r.nowStageState),a=pe.dispatch;a(Vx(i)),e?(a(Br.setLoadVideo(!0)),r.nowStageState.PerformList.forEach(o=>{i1(o.script)})):setTimeout(qO,0),a(It({component:"showTitle",visibility:!1})),a(It({component:"showMenuPanel",visibility:!1})),a(It({component:"showExtra",visibility:!1})),og(pe.getState().stage.bgName)}function VTe(){`${J.gameName}${J.gameKey}`,`${J.gameName}${J.gameKey}`}async function HTe(){const t=await ZV(-1,!1),e=vn(t);pe.dispatch(Br.setFastSave(e)),await fCe()}async function XTe(){return await FTe(),pe.getState().saveData.quickSaveData!==null}async function zTe(){await YV();const t=pe.getState().saveData.quickSaveData;t&&KO(t)}const WTe=t=>{const e=document.body;t=typeof t=="string"?Number(t):t,e&&(e.style.opacity=(t/100).toFixed(2))},YTe=()=>{const t=pe.getState().storeData.gameInfo,e=()=>{NO(!0,!0,!1);const r=Ir("start.txt",Ar.scene);Ka(r).then(n=>{J.sceneManager.setCurrentScene(n,"start.txt",r,!0).then(i=>{i&&ti()})}),pe.dispatch(Br.setIsShowUnlock(!0)),pe.dispatch(Br.setShowStoryline(!0)),pe.dispatch(It({component:"showTitle",visibility:!1})),WTe(pe.getState().userData.optionData.uiLight)};if(pe.getState().storeData.isEditorPreviewMode){e();return}if(!t){Yo({title:`
`,rightText:"",rightFunc:()=>{window.location.reload()}});return}if(t.isFree===1&&t.tryPlay===1&&!t.canPlay){const r=()=>{Yo({type:"pay",title:"",content:""+t.salesAmount,suffixContent:"",rightText:"",rightFunc:()=>{window.pubsub.publish("showBuyGameModal",{buyGameCallback:r,startGameCallback:e})}})};r();return}e()};async function qTe(){if(og(pe.getState().stage.bgName),await XTe()&&J.sceneManager.sceneData.currentSentenceId===0){await zTe();return}J.sceneManager.sceneData.currentSentenceId===0&&J.sceneManager.sceneData.currentScene.sceneName==="start.txt"?ti():qO()}const KTe=async()=>{const t=Ir(rf.Storyline,Ar.scene);J.sceneManager.resetScene();const e=await Ka(t);pe.dispatch(YT(!0)),pe.dispatch(It({component:"showTitle",visibility:!1})),await J.sceneManager.setCurrentScene(e,rf.Storyline,t),ti(),pe.dispatch(It({component:"showMenuPanel",visibility:!1})),pe.dispatch(It({component:"showTextBox",visibility:!1}))},ZTe=()=>{pe.dispatch(It({component:"showBeautyGuide",visibility:!0}))};function JTe(t){return z1.parseScssToWebgalStyleObj(t)}function Ru(t){const[e,r]=_e.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function QTe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function eAe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var tAe=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(eAe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=QTe(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Wi="-ms-",qy="-moz-",kr="-webkit-",fH="comm",ZO="rule",JO="decl",rAe="@import",hH="@keyframes",nAe="@layer",iAe=Math.abs,q1=String.fromCharCode,aAe=Object.assign;function oAe(t,e){return Ni(t,0)^45?(((e<<2^Ni(t,0))<<2^Ni(t,1))<<2^Ni(t,2))<<2^Ni(t,3):0}function dH(t){return t.trim()}function sAe(t,e){return(t=e.exec(t))?t[0]:t}function Fr(t,e,r){return t.replace(e,r)}function KT(t,e){return t.indexOf(e)}function Ni(t,e){return t.charCodeAt(e)|0}function sv(t,e,r){return t.slice(e,r)}function ds(t){return t.length}function QO(t){return t.length}function Mm(t,e){return e.push(t),t}function lAe(t,e){return t.map(e).join("")}var K1=1,ad=1,pH=0,Ra=0,Qn=0,Gd="";function Z1(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:K1,column:ad,length:o,return:""}}function L0(t,e){return aAe(Z1("",null,null,"",null,null,0),t,{length:-t.length},e)}function uAe(){return Qn}function cAe(){return Qn=Ra>0?Ni(Gd,--Ra):0,ad--,Qn===10&&(ad=1,K1--),Qn}function Xa(){return Qn=Ra<pH?Ni(Gd,Ra++):0,ad++,Qn===10&&(ad=1,K1++),Qn}function Cs(){return Ni(Gd,Ra)}function z_(){return Ra}function sg(t,e){return sv(Gd,t,e)}function lv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vH(t){return K1=ad=1,pH=ds(Gd=t),Ra=0,[]}function gH(t){return Gd="",t}function W_(t){return dH(sg(Ra-1,ZT(t===91?t+2:t===40?t+1:t)))}function fAe(t){for(;(Qn=Cs())&&Qn<33;)Xa();return lv(t)>2||lv(Qn)>3?"":" "}function hAe(t,e){for(;--e&&Xa()&&!(Qn<48||Qn>102||Qn>57&&Qn<65||Qn>70&&Qn<97););return sg(t,z_()+(e<6&&Cs()==32&&Xa()==32))}function ZT(t){for(;Xa();)switch(Qn){case t:return Ra;case 34:case 39:t!==34&&t!==39&&ZT(Qn);break;case 40:t===41&&ZT(t);break;case 92:Xa();break}return Ra}function dAe(t,e){for(;Xa()&&t+Qn!==47+10;)if(t+Qn===42+42&&Cs()===47)break;return"/*"+sg(e,Ra-1)+"*"+q1(t===47?t:Xa())}function pAe(t){for(;!lv(Cs());)Xa();return sg(t,Ra)}function vAe(t){return gH(Y_("",null,null,null,[""],t=vH(t),0,[0],t))}function Y_(t,e,r,n,i,a,o,s,c){for(var l=0,u=0,f=o,h=0,p=0,d=0,v=1,m=1,g=1,_=0,x="",b=i,w=a,E=n,C=x;m;)switch(d=_,_=Xa()){case 40:if(d!=108&&Ni(C,f-1)==58){KT(C+=Fr(W_(_),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=W_(_);break;case 9:case 10:case 13:case 32:C+=fAe(d);break;case 92:C+=hAe(z_()-1,7);continue;case 47:switch(Cs()){case 42:case 47:Mm(gAe(dAe(Xa(),z_()),e,r),c);break;default:C+="/"}break;case 123*v:s[l++]=ds(C)*g;case 125*v:case 59:case 0:switch(_){case 0:case 125:m=0;case 59+u:g==-1&&(C=Fr(C,/\f/g,"")),p>0&&ds(C)-f&&Mm(p>32?ND(C+";",n,r,f-1):ND(Fr(C," ","")+";",n,r,f-2),c);break;case 59:C+=";";default:if(Mm(E=FD(C,e,r,l,u,i,s,x,b=[],w=[],f),a),_===123)if(u===0)Y_(C,e,E,E,b,a,f,s,w);else switch(h===99&&Ni(C,3)===110?100:h){case 100:case 108:case 109:case 115:Y_(t,E,E,n&&Mm(FD(t,E,E,0,0,i,s,x,i,b=[],f),w),i,w,f,s,n?b:w);break;default:Y_(C,E,E,E,[""],w,0,s,w)}}l=u=p=0,v=g=1,x=C="",f=o;break;case 58:f=1+ds(C),p=d;default:if(v<1){if(_==123)--v;else if(_==125&&v++==0&&cAe()==125)continue}switch(C+=q1(_),_*v){case 38:g=u>0?1:(C+="\f",-1);break;case 44:s[l++]=(ds(C)-1)*g,g=1;break;case 64:Cs()===45&&(C+=W_(Xa())),h=Cs(),u=f=ds(x=C+=pAe(z_())),_++;break;case 45:d===45&&ds(C)==2&&(v=0)}}return a}function FD(t,e,r,n,i,a,o,s,c,l,u){for(var f=i-1,h=i===0?a:[""],p=QO(h),d=0,v=0,m=0;d<n;++d)for(var g=0,_=sv(t,f+1,f=iAe(v=o[d])),x=t;g<p;++g)(x=dH(v>0?h[g]+" "+_:Fr(_,/&\f/g,h[g])))&&(c[m++]=x);return Z1(t,e,r,i===0?ZO:s,c,l,u)}function gAe(t,e,r){return Z1(t,e,r,fH,q1(uAe()),sv(t,2,-2),0)}function ND(t,e,r,n){return Z1(t,e,r,JO,sv(t,0,n),sv(t,n+1,-1),n)}function Vh(t,e){for(var r="",n=QO(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function mAe(t,e,r,n){switch(t.type){case nAe:if(t.children.length)break;case rAe:case JO:return t.return=t.return||t.value;case fH:return"";case hH:return t.return=t.value+"{"+Vh(t.children,n)+"}";case ZO:t.value=t.props.join(",")}return ds(r=Vh(t.children,n))?t.return=t.value+"{"+r+"}":""}function _Ae(t){var e=QO(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function yAe(t){return function(e){e.root||(e=e.return)&&t(e)}}function xAe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var bAe=function(e,r,n){for(var i=0,a=0;i=a,a=Cs(),i===38&&a===12&&(r[n]=1),!lv(a);)Xa();return sg(e,Ra)},wAe=function(e,r){var n=-1,i=44;do switch(lv(i)){case 0:i===38&&Cs()===12&&(r[n]=1),e[n]+=bAe(Ra-1,r,n);break;case 2:e[n]+=W_(i);break;case 4:if(i===44){e[++n]=Cs()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=q1(i)}while(i=Xa());return e},EAe=function(e,r){return gH(wAe(vH(e),r))},LD=new WeakMap,SAe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!LD.get(n))&&!i){LD.set(e,!0);for(var a=[],o=EAe(r,a),s=n.props,c=0,l=0;c<o.length;c++)for(var u=0;u<s.length;u++,l++)e.props[l]=a[c]?o[c].replace(/&\f/g,s[u]):s[u]+" "+o[c]}}},CAe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function mH(t,e){switch(oAe(t,e)){case 5103:return kr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return kr+t+qy+t+Wi+t+t;case 6828:case 4268:return kr+t+Wi+t+t;case 6165:return kr+t+Wi+"flex-"+t+t;case 5187:return kr+t+Fr(t,/(\w+).+(:[^]+)/,kr+"box-$1$2"+Wi+"flex-$1$2")+t;case 5443:return kr+t+Wi+"flex-item-"+Fr(t,/flex-|-self/,"")+t;case 4675:return kr+t+Wi+"flex-line-pack"+Fr(t,/align-content|flex-|-self/,"")+t;case 5548:return kr+t+Wi+Fr(t,"shrink","negative")+t;case 5292:return kr+t+Wi+Fr(t,"basis","preferred-size")+t;case 6060:return kr+"box-"+Fr(t,"-grow","")+kr+t+Wi+Fr(t,"grow","positive")+t;case 4554:return kr+Fr(t,/([^-])(transform)/g,"$1"+kr+"$2")+t;case 6187:return Fr(Fr(Fr(t,/(zoom-|grab)/,kr+"$1"),/(image-set)/,kr+"$1"),t,"")+t;case 5495:case 3959:return Fr(t,/(image-set\([^]*)/,kr+"$1$`$1");case 4968:return Fr(Fr(t,/(.+:)(flex-)?(.*)/,kr+"box-pack:$3"+Wi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kr+t+t;case 4095:case 3583:case 4068:case 2532:return Fr(t,/(.+)-inline(.+)/,kr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ds(t)-1-e>6)switch(Ni(t,e+1)){case 109:if(Ni(t,e+4)!==45)break;case 102:return Fr(t,/(.+:)(.+)-([^]+)/,"$1"+kr+"$2-$3$1"+qy+(Ni(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~KT(t,"stretch")?mH(Fr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ni(t,e+1)!==115)break;case 6444:switch(Ni(t,ds(t)-3-(~KT(t,"!important")&&10))){case 107:return Fr(t,":",":"+kr)+t;case 101:return Fr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kr+(Ni(t,14)===45?"inline-":"")+"box$3$1"+kr+"$2$3$1"+Wi+"$2box$3")+t}break;case 5936:switch(Ni(t,e+11)){case 114:return kr+t+Wi+Fr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return kr+t+Wi+Fr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return kr+t+Wi+Fr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return kr+t+Wi+t+t}return t}var TAe=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case JO:e.return=mH(e.value,e.length);break;case hH:return Vh([L0(e,{value:Fr(e.value,"@","@"+kr)})],i);case ZO:if(e.length)return lAe(e.props,function(a){switch(sAe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vh([L0(e,{props:[Fr(a,/:(read-\w+)/,":"+qy+"$1")]})],i);case"::placeholder":return Vh([L0(e,{props:[Fr(a,/:(plac\w+)/,":"+kr+"input-$1")]}),L0(e,{props:[Fr(a,/:(plac\w+)/,":"+qy+"$1")]}),L0(e,{props:[Fr(a,/:(plac\w+)/,Wi+"input-$1")]})],i)}return""})}},AAe=[TAe],IAe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var m=v.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||AAe,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var m=v.getAttribute("data-emotion").split(" "),g=1;g<m.length;g++)a[m[g]]=!0;s.push(v)});var c,l=[SAe,CAe];{var u,f=[mAe,yAe(function(v){u.insert(v)})],h=_Ae(l.concat(i,f)),p=function(m){return Vh(vAe(m),h)};c=function(m,g,_,x){u=_,p(m?m+"{"+g.styles+"}":g.styles),x&&(d.inserted[g.name]=!0)}}var d={key:r,sheet:new tAe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return d.sheet.hydrate(s),d};function RAe(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var PAe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},OAe=/[A-Z]|^ms/g,kAe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_H=function(e){return e.charCodeAt(1)===45},MD=function(e){return e!=null&&typeof e!="boolean"},c2=xAe(function(t){return _H(t)?t:t.replace(OAe,"-$&").toLowerCase()}),BD=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(kAe,function(n,i,a){return ps={name:i,styles:a,next:ps},i})}return PAe[e]!==1&&!_H(e)&&typeof r=="number"&&r!==0?r+"px":r};function uv(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return ps={name:r.name,styles:r.styles,next:ps},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)ps={name:n.name,styles:n.styles,next:ps},n=n.next;var i=r.styles+";";return i}return FAe(t,e,r)}case"function":{if(t!==void 0){var a=ps,o=r(t);return ps=a,uv(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function FAe(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=uv(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":MD(o)&&(n+=c2(a)+":"+BD(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)MD(o[s])&&(n+=c2(a)+":"+BD(a,o[s])+";");else{var c=uv(t,e,o);switch(a){case"animation":case"animationName":{n+=c2(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var DD=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ps,f2=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";ps=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=uv(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=uv(n,r,e[s]),i&&(a+=o[s]);DD.lastIndex=0;for(var c="",l;(l=DD.exec(a))!==null;)c+="-"+l[1];var u=RAe(a)+c;return{name:u,styles:a,next:ps}},NAe=!0;function yH(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var LAe=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||NAe===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},MAe=function(e,r,n){LAe(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function UD(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function jD(t,e,r){var n=[],i=yH(t,n,r);return n.length<2?r:i+e(n)}var BAe=function(e){var r=IAe(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=f2(l,r.registered,void 0);return MAe(r,f,!1),r.key+"-"+f.name},i=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=f2(l,r.registered),h="animation-"+f.name;return UD(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},a=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=f2(l,r.registered);UD(r,f)},o=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return jD(r.registered,n,DAe(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(c){c.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:yH.bind(null,r.registered),merge:jD.bind(null,r.registered,n)}},DAe=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},xH=BAe({key:"css"}),UAe=xH.injectGlobal,jAe=xH.css;function bH(t){const e=Ru({classNameStyles:{},others:""}),r=xt(a=>a.stage.replacedUIlable),n=(a,o)=>{var c;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=jAe(((c=e.value.classNameStyles)==null?void 0:c[s])??"");return`${o} ${l}`}return o},i=async()=>{it.debug(" Scss ",t);const o=(await td.get(`game/template/${t}`)).data;e.set(JTe(o))};return _e.useEffect(()=>{i()},[]),_e.useEffect(()=>{UAe(e.value.others)},[e.value.others]),$Ae(i),n}function $Ae(t){const e=()=>{t()};_e.useEffect(()=>(J.events.styleUpdate.on(e),()=>J.events.styleUpdate.off(e)),[])}function Vd(t){const e=xt(t),r=_e.useRef(e);return _e.useEffect(()=>{r.current=e},[e]),r}function Hd(t){_e.useEffect(()=>{t()},[])}function Xd(t){_e.useEffect(()=>function(){t()},[])}function GAe(t){_e.useEffect(()=>{t()})}const VAe="_main_1qr2u_1",HAe="_singleButton_1qr2u_12",XAe="_singleButton_fast_1qr2u_19",zAe="_singleButton_auto_1qr2u_23",WAe="_singleButton_auto_active_1qr2u_27",YAe="_singleButton_fast_active_1qr2u_31",qAe="_autoIcon_1qr2u_35",KAe="_fastIcon_1qr2u_48",ZAe="_historyIcon_1qr2u_61",JAe="_fastSlPreview_1qr2u_74",QAe="_fastSlEnter_1qr2u_1",eIe="_fastsave_1qr2u_88",tIe="_fastSPreview_1qr2u_88",rIe="_fastload_1qr2u_92",nIe="_fastLPreview_1qr2u_92",iIe="_slPreviewMain_1qr2u_104",aIe="_imgContainer_1qr2u_112",oIe="_textContainer_1qr2u_120",_i={main:VAe,singleButton:HAe,singleButton_fast:XAe,singleButton_auto:zAe,singleButton_auto_active:WAe,singleButton_fast_active:YAe,autoIcon:qAe,fastIcon:KAe,historyIcon:ZAe,fastSlPreview:JAe,fastSlEnter:QAe,fastsave:eIe,fastSPreview:tIe,fastload:rIe,fastLPreview:nIe,slPreviewMain:iIe,imgContainer:aIe,textContainer:oIe},wH=t=>{const e=document.getElementById("Button_ControlPanel_auto");if(e){let r=_i.singleButton+" "+_i.singleButton_auto;t?e.className=r+" "+_i.singleButton_auto_active:e.className=r}},J1=()=>{J.gameplay.isAuto=!1,wH(!1),J.gameplay.autoInterval!==null&&(clearInterval(J.gameplay.autoInterval),J.gameplay.autoInterval=null),J.gameplay.autoTimeout!==null&&(clearTimeout(J.gameplay.autoTimeout),J.gameplay.autoTimeout=null)},EH=()=>{J.gameplay.isAuto?J1():(J.gameplay.isAuto=!0,wH(!0),J.gameplay.autoInterval=setInterval(lIe,100))},sIe=()=>{ti(),J.gameplay.autoTimeout=null},lIe=()=>{const e=750-250*pe.getState().userData.optionData.autoSpeed;let r=!1;J.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&J.gameplay.autoTimeout===null&&(J.gameplay.autoTimeout=setTimeout(sIe,e))},SH=t=>{const e=document.getElementById("Button_ControlPanel_fast"),r=_i.singleButton+" "+_i.singleButton_fast;e&&(t?e.className=r+" "+_i.singleButton_fast_active:e.className=r)},Hh=()=>{TH()&&(J.gameplay.isFast=!1,SH(!1),J.gameplay.fastInterval!==null&&(clearInterval(J.gameplay.fastInterval),J.gameplay.fastInterval=null))},CH=()=>{TH()||(J.gameplay.isFast=!0,SH(!0),J.gameplay.fastInterval=setInterval(()=>{console.log(""),ti()},yG.fast_timeout))},TH=function(){return J.gameplay.isFast},ek=()=>{Hh(),J1()},AH=()=>{J.gameplay.isFast?Hh():CH()},uIe="_Backlog_main_1bt22_2",cIe="_backlog_soft_in_1bt22_1",fIe="_Backlog_main_out_1bt22_17",hIe="_backlog_soft_out_1bt22_1",dIe="_Backlog_main_out_IndexHide_1bt22_30",pIe="_Backlog_main_DisableScroll_1bt22_34",vIe="_backlog_top_icon_1bt22_38",gIe="_backlog_title_1bt22_62",mIe="_backlog_content_1bt22_74",_Ie="_backlog_item_1bt22_100",yIe="_backlog_item_in_1bt22_1",xIe="_backlog_item_button_element_1bt22_112",bIe="_backlog_item_out_1bt22_142",wIe="_backlog_func_area_1bt22_151",EIe="_backlog_item_content_name_1bt22_157",SIe="_backlog_item_content_1bt22_157",CIe="_backlog_content_container_1bt22_177",TIe="_sound_icon_1bt22_194",AIe="_backlog_item_content_text_1bt22_207",IIe="_backlog_icon_softin_1bt22_1",Yi={Backlog_main:uIe,backlog_soft_in:cIe,Backlog_main_out:fIe,backlog_soft_out:hIe,Backlog_main_out_IndexHide:dIe,Backlog_main_DisableScroll:pIe,backlog_top_icon:vIe,backlog_title:gIe,backlog_content:mIe,backlog_item:_Ie,backlog_item_in:yIe,backlog_item_button_element:xIe,backlog_item_out:bIe,backlog_func_area:wIe,backlog_item_content_name:EIe,backlog_item_content:SIe,backlog_content_container:CIe,sound_icon:TIe,backlog_item_content_text:AIe,backlog_icon_softin:IIe};var RIe=Zo,PIe=function(){return RIe.Date.now()},OIe=PIe,kIe=/\s/;function FIe(t){for(var e=t.length;e--&&kIe.test(t.charAt(e)););return e}var NIe=FIe,LIe=NIe,MIe=/^\s+/;function BIe(t){return t&&t.slice(0,LIe(t)+1).replace(MIe,"")}var DIe=BIe,UIe=DIe,$D=Ns,jIe=u1,GD=0/0,$Ie=/^[-+]0x[0-9a-f]+$/i,GIe=/^0b[01]+$/i,VIe=/^0o[0-7]+$/i,HIe=parseInt;function XIe(t){if(typeof t=="number")return t;if(jIe(t))return GD;if($D(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$D(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=UIe(t);var r=GIe.test(t);return r||VIe.test(t)?HIe(t.slice(2),r?2:8):$Ie.test(t)?GD:+t}var zIe=XIe,WIe=Ns,h2=OIe,VD=zIe,YIe="Expected a function",qIe=Math.max,KIe=Math.min;function ZIe(t,e,r){var n,i,a,o,s,c,l=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(YIe);e=VD(e)||0,WIe(r)&&(u=!!r.leading,f="maxWait"in r,a=f?qIe(VD(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(E){var C=n,T=i;return n=i=void 0,l=E,o=t.apply(T,C),o}function d(E){return l=E,s=setTimeout(g,e),u?p(E):o}function v(E){var C=E-c,T=E-l,I=e-C;return f?KIe(I,a-T):I}function m(E){var C=E-c,T=E-l;return c===void 0||C>=e||C<0||f&&T>=a}function g(){var E=h2();if(m(E))return _(E);s=setTimeout(g,v(E))}function _(E){return s=void 0,h&&n?p(E):(n=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),l=0,n=c=i=s=void 0}function b(){return s===void 0?o:_(h2())}function w(){var E=h2(),C=m(E);if(n=arguments,i=this,c=E,C){if(s===void 0)return d(c);if(f)return clearTimeout(s),s=setTimeout(g,e),p(c)}return s===void 0&&(s=setTimeout(g,e)),o}return w.cancel=x,w.flush=b,w}var JIe=ZIe,QIe=JIe,eRe=Ns,tRe="Expected a function";function rRe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(tRe);return eRe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),QIe(t,e,{leading:n,maxWait:e,trailing:i})}var nRe=rRe;const iRe=$i(nRe),xh="keyboard"in navigator&&navigator.keyboard;function aRe(t){oRe(),lRe(),cRe(),uRe(),fRe(),gRe(),_Re()}function oRe(){const t=Vd(c=>c.GUI),e=eb(),r=Q1(t),n=IH(t),i=hRe(t),a=pRe(t),o=dRe(t),s=_e.useCallback(c=>i()?(e("showGlobalDialog",!1),c.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),c.preventDefault(),!1),[]);Hd(()=>{document.addEventListener("contextmenu",s)}),Xd(()=>{document.removeEventListener("contextmenu",s)})}let sRe=setTimeout(()=>{},0);function lRe(){const t=Vd(s=>s.GUI),e=eb(),r=Q1(t),n=IH(t),i=RH(t),a=_e.useCallback(iRe(()=>{ti()},100),[]),o=_e.useRef(0);_e.useCallback(s=>{if(i())return;const c=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",l=s.ctrlKey,u=document.querySelector(`.${Yi.backlog_content}`);if(r()&&c==="up"&&!l)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&c==="down"&&!l){if(u){let f=mRe(u),h=new Date().getTime();f&&h-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=h}}else r()&&c==="down"&&!l&&(clearTimeout(sRe),J.gameplay.isFast=!0,setTimeout(()=>{J.gameplay.isFast=!1},150),a())},[]),Hd(()=>{}),Xd(()=>{})}function uRe(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=Vd(s=>s.GUI),n=_e.useCallback(()=>r.current.showTitle,[r]),i=RH(r),a=eb(),o=_e.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),ek()))},[]);Hd(()=>{document.addEventListener("keyup",o)}),Xd(()=>{document.removeEventListener("keyup",o)})}function cRe(){const t=Vd(o=>o.GUI),e=Q1(t),r=_e.useCallback(o=>o.keyCode===17,[]),n=_e.useCallback(o=>{r(o)&&e()&&CH()},[]),i=_e.useCallback(o=>{r(o)&&e()&&Hh()},[]),a=_e.useCallback(o=>{Hh()},[]);Hd(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",a)}),Xd(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",a)}),GAe(()=>{e()||Hh()})}function fRe(){const t=vRe(),e=_e.useCallback(async r=>{t()&&await HTe()},[]);Hd(()=>{window.addEventListener("beforeunload",e)}),Xd(()=>{window.removeEventListener("beforeunload",e)})}function Q1(t){return _e.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function IH(t){return _e.useCallback(()=>t.current.showBacklog,[t])}function hRe(t){return _e.useCallback(()=>t.current.showGlobalDialog,[t])}function dRe(t){return _e.useCallback(()=>t.current.showExtra,[t])}function RH(t){return _e.useCallback(()=>t.current.showPanicOverlay,[t])}function pRe(t){return _e.useCallback(()=>[Ur.Save,Ur.Load,Ur.Option].includes(t.current.currentMenuTag),[t])}function vRe(){return _e.useCallback(()=>J.sceneManager.sceneData.currentSentenceId!==0,[J.sceneManager.sceneData])}function eb(){const t=an();return(e,r)=>{t(It({component:e,visibility:r}))}}function gRe(){const t=Vd(c=>c.GUI),e=Q1(t),r=eb(),n=_e.useRef(!1),i=_e.useCallback(c=>c.keyCode===32||c.keyCode===13,[]),a=_e.useCallback(c=>{if(i(c)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}ek(),ti(),n.current=!0}},[]),o=_e.useCallback(c=>{i(c)&&e()&&(n.current=!1)},[]),s=_e.useCallback(c=>{n.current=!1},[]);Hd(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),Xd(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function mRe(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function _Re(){const t=xt(n=>n.userData),e=an(),r=t.optionData.fullScreen;_e.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==Ss.on?(e(Lo({key:"fullScreen",value:Ss.on})),Fi()):(e(Lo({key:"fullScreen",value:Ss.off})),Fi()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const yRe=async()=>{pe.dispatch(Br.setIsShowUnlock(!1));const t=Ir(rf.Achieve,Ar.scene);J.sceneManager.resetScene(),Ka(t).then(e=>{J.sceneManager.setCurrentScene(e,rf.Achieve,t).then(r=>{r&&ti()})}),pe.dispatch(It({component:"showTitle",visibility:!1})),pe.dispatch(It({component:"showMenuPanel",visibility:!1})),pe.dispatch(It({component:"showTextBox",visibility:!1})),pe.dispatch(It({component:"showAchievement",visibility:!0}))};const xRe=({text:t,defaultClass:e,defaultHoverClass:r,style:n,hoverStyle:i,onMouseEnter:a,onMouseLeave:o,onClick:s})=>{const[c,l]=_e.useState(!1);let u=e,f=n;const h=eg.debounce(()=>{i&&l(!0),a&&a()},100),p=()=>{l(!1),o&&o()};return c&&(u=`${e} ${r}`,f={...n,...i}),N.jsx("span",{className:u,onMouseEnter:h,onMouseLeave:p,onClick:s,style:f,children:t})},PH=({src:t,hoverSrc:e,defaultClass:r,defaultHoverClass:n,style:i,hoverStyle:a,onMouseEnter:o,onMouseLeave:s,onClick:c,nId:l})=>{const[u,f]=_e.useState(!1),[h,p]=_e.useState(0),d=()=>p(b=>b+1),v=_e.useRef({width:void 0,height:void 0});let m=r,g=i||{};const _=eg.debounce(()=>{a&&f(!0),o&&o()},100),x=()=>{f(!1),s&&s()};return u&&(m=`${r} ${n} imageHoverAnimation`,g={...i,...a}),g.width===void 0&&(g.width=v.current.width,g.height=v.current.height),N.jsx("img",{id:l,src:u&&e?e:t,className:m,onMouseEnter:_,onMouseLeave:x,style:g,onClick:c,onLoad:b=>{g.width===void 0&&(v.current.width=b.currentTarget.naturalWidth,v.current.height=b.currentTarget.naturalHeight,d())}})},bRe=({children:t,defaultClass:e,defaultHoverClass:r,style:n,hoverStyle:i,onMouseEnter:a,onMouseLeave:o,onClick:s})=>{const[c,l]=_e.useState(!1);let u=e,f=n;const h=eg.debounce(()=>{i&&l(!0),a&&a()},100),p=()=>{l(!1),o&&o()};return c&&(u=`${e} ${r}`,f={...n,...i}),N.jsx("div",{className:u,onMouseEnter:h,onMouseLeave:p,onClick:s,style:f,children:t})},tb=({item:t,defaultClass:e,key:r})=>{var a,o;if(t.args.hide)return null;const n=Jc(t.args.style),i=Ir(((a=t.args.style)==null?void 0:a.image)||"",Ar.background);return(o=t.args.style)!=null&&o.image?N.jsx(PH,{defaultClass:e,src:i,style:n},r):N.jsx("div",{className:e,style:n})},qo=({item:t,defaultClass:e,defaultTextClass:r,key:n,defaultHoverClass:i,onMouseEnter:a,onMouseLeave:o,onClick:s,type:c="button",checked:l=!1,onChecked:u=()=>{},text:f="",style:h,defaultText:p=""})=>{var C,T;if(t.args.hide)return null;const d=Jc(t.args.style),v=Jc(t.args.hoverStyle),m=((C=t.args.style)==null?void 0:C.image)||"",g=((T=t.args.hoverStyle)==null?void 0:T.image)||m,_=t,x={},b=m?{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}:{},w={...d,...h};w.width&&(x.width=w.width),w.height&&(x.height=w.height),m&&(w.backgroundImage=`url(${Ir(m,Ar.ui)})`,w.backgroundSize="100% 100%",w.backgroundRepeat="no-repeat");const E=I=>{c==="checkbox"&&u(!l),s&&s()};return N.jsxs(bRe,{onMouseEnter:a,onMouseLeave:o,onClick:E,defaultClass:e,defaultHoverClass:i,style:w,hoverStyle:v,children:[!!g&&c==="checkbox"&&l&&N.jsx(PH,{nId:n,src:Ir(g,Ar.ui),hoverSrc:c!=="checkbox"?g:"",style:x,onMouseEnter:a,onMouseLeave:o}),_.content?N.jsx(xRe,{text:_.content,defaultClass:r,style:b}):!m&&p]},n)},wRe=()=>{const t=xt(l=>l.userData),e=xt(l=>l.GUI),r=an(),n=t.optionData.fullScreen,{playSeEnter:i,playSeClick:a}=ri(),o=e.gameUIConfigs[fa.title],s=bH("UI/Title/title.scss"),c={[Mo.Game_start_button]:()=>{YTe(),a(),r(qT(!1))},[Mo.Game_achievement_button]:()=>{yRe(),a()},[Mo.Game_storyline_button]:()=>{KTe(),a()},[Mo.Game_extra_button]:()=>{r(It({component:"showExtra",visibility:!0})),a()},[Mo.Game_collection_button]:()=>{ZTe(),a()},[Mo.Game_continue_button]:()=>{a(),r(It({component:"showTitle",visibility:!1})),qTe()},[Mo.Game_option_button]:()=>{a(),r(It({component:"showMenuPanel",visibility:!0})),r($c(Ur.Option))},[Mo.Game_load_button]:()=>{a(),r(It({component:"showMenuPanel",visibility:!0})),r($c(Ur.Load))}};return N.jsxs(N.Fragment,{children:[e.showTitle&&N.jsx("div",{className:s("Title_backup_background",I0.Title_backup_background)}),N.jsx("div",{id:"enter_game_target",onClick:()=>{WO(e.titleBgm),r(It({component:"isEnterGame",visibility:!0})),n===Ss.on&&(document.documentElement.requestFullscreen(),xh&&xh.lock(["Escape","F11"]))},onMouseEnter:i}),e.showTitle&&N.jsxs("div",{children:[N.jsx(tb,{defaultClass:s("Title_main",I0.Title_main),item:o.other[ov.Title_img]}),N.jsx("div",{className:s("Title_buttonList",I0.Title_buttonList),children:Object.keys(o.buttons).map(l=>{let u=l,f=o.buttons[u];return N.jsx(qo,{item:f,defaultClass:I0.Title_button,defaultTextClass:I0.Title_button_text,onClick:c[u],onMouseEnter:i},u)})})]})]})},ERe="_Logo_main_19jxx_1",SRe="_overlay_19jxx_14",CRe="_Logo_Back_19jxx_61",TRe="_animationActive_19jxx_75",ARe="_fadeout_19jxx_1",Bm={Logo_main:ERe,"change-img-anim":"_change-img-anim_19jxx_1",overlay:SRe,"fade-in":"_fade-in_19jxx_1",Logo_Back:CRe,animationActive:TRe,fadeout:ARe,"fade-in-out":"_fade-in-out_19jxx_1"},IRe=()=>{const t=an(),e=xt(l=>l.GUI),r=e.logoImage,n=e.isEnterGame,i=Ru(-1),a=Ru(-1),o=5e3,s=()=>{clearTimeout(a.value),i.value<r.length-1?(i.set(i.value+1),a.set(setTimeout(s,o))):(e!=null&&e.isShowR18Modal&&t(It({component:"openR18Modal",visibility:!0})),i.set(-1))};_e.useEffect(()=>{n&&r.length>0&&(i.set(0),a.set(setTimeout(s,o)))},[n,r]);const c=i.value===-1?"":r[i.value];return N.jsxs(N.Fragment,{children:[i.value!==-1&&N.jsx("div",{className:Bm.Logo_Back+" "+(i.value===r.length-1?Bm.animationActive:""),style:{animationDuration:`${o}ms`}},i.value+"wh"),c!==""&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:Bm.Logo_main,onClick:s,style:{backgroundImage:`url("${c}")`,animationDuration:`${o}ms`}},i.value+"bg"),N.jsx("div",{className:Bm.overlay})]})]})},Xf=new Map([["true",!0],["false",!1],[!0,!0],[!1,!1]]),RRe=t=>{const e=pe.getState().GUI,r=pe.dispatch;td.get(t).then(n=>{var o;let i=n.data;const a=z1.parseConfig(i);if(it.info("",a),e){const s={...e.gameUIConfigs},c={};let l=!1;const u={};let f=!1;a.forEach(h=>{const{command:p,args:d,options:v}=h;switch(p){case"Title_img":{const m=Ir(d.join(""),Ar.background);r(WT({asset:"titleBg",value:m})),og(m);break}case"Game_Logo":{const m=d.map(g=>Ir(g,Ar.background));r(MTe(m));break}case"Game_cursor":{const m=d.map(g=>Ir(g,Ar.background));if(m!=null&&m.length){const g=m.map(x=>`url('${x}'), auto`).join(", "),_=document.createElement("style");_.innerHTML=`
                html, body, div, span { cursor: ${g} !important; }
                html:hover, body:hover, div:hover, span:hover { cursor: ${g} !important; }
              `,document.head.appendChild(_)}break}case"Title_bgm":{const m=Ir(d[0],Ar.bgm);r(WT({asset:"titleBgm",value:m}));break}case"Game_name":{J.gameName=d[0],document.title=d[0];break}case"Game_key":{J.gameKey=d[0],Wy(),YV(),OO(0,0);break}case"Game_id":{J.gameId=isNaN(Number(d[0]))?0:Number(d[0]);break}case"Game_r18":{(d==null?void 0:d.length)>0&&r(cH(!!Xf.get(d[0])));break}case"Game_sound":{if((v==null?void 0:v.length)>0){const m=v.map(g=>{var _;if(typeof g.value=="string"){const x=(_=g.value)==null?void 0:_.split(",");x!=null&&x.length&&!Xf.get(x[0])&&(g.value=x[1]?Ir(x[1],Ar.bgm):"")}return g});r(Lt({key:"gameScounds",value:m}))}break}case"Menu_sound":{if((v==null?void 0:v.length)>0){const m=v.map(g=>{var _;if(typeof g.value=="string"){const x=(_=g.value)==null?void 0:_.split(",");x!=null&&x.length&&!Xf.get(x[0])&&(g.value=x[1]?Ir(x[1],Ar.bgm):"")}return g});r(Lt({key:"menuScounds",value:m}))}break}case"Game_Icon":{if(d[0]){const m=Ir(d[0],Ar.background),g=document.getElementById("dynamic-favicon");g&&(g.href=m+`?t=${new Date().getTime()}`)}break}case dc.Esc_continueGame_button:case dc.Esc_backToLevel_button:case dc.Esc_setting_button:case dc.Esc_exitGame_button:{if(!(v!=null&&v.length))break;let m="",g=!1;const _={},x=["x","y","scale","fontSize"];v==null||v.forEach(w=>{var E;(E=w.value)==null||E.split(",").forEach(C=>{const[T,I]=(C==null?void 0:C.split("="))||[];T==="name"?m=I:T==="hide"?g=(Xf==null?void 0:Xf.get(I))??!1:_[T]=x.includes(T)?Number(I):I})});const b={...Yy.escMenus[dc[p]].args.style};c[dc[p]]={content:m,args:{hide:g,style:{...b,..._}}},l=!0;break}case pc.Achievement_progress_bg:case pc.Achievement_progress_text:case pc.Achievement_notUnlock:case pc.Achievement_progress:{u[pc[p]]=PRe(pc[p],d,v),f=!0;break}}if((Mo[p]||ov[p])&&p!==ov.Title_bgm){const m=fa.title;tc(s,m,h)}else if(BO[p]||zO[p]){const m=fa.load;tc(s,m,h)}else if(DO[p]||XO[p]){const m=fa.storyline;tc(s,m,h)}else if(UO[p]||HO[p]){const m=fa.achievement;tc(s,m,h)}else if($O[p]||VO[p]){const m=fa.option;tc(s,m,h)}else if(jO[p]||Y1[p]){const m=fa.extra;tc(s,m,h)}else if(GO[p]||gs[p]){const m=fa.collection;tc(s,m,h)}}),r(BTe(s)),l&&r(DTe(c)),f&&r(UTe(u))}(o=window==null?void 0:window.renderPromise)==null||o.call(window),window.pubsub.publish("gameReady"),delete window.renderPromise,VTe()})};function tc(t,e,r){const n=(i,a="")=>{const o=c=>{let l={};const u=/\{(.*?)\}/,f=c.match(u);if(f){const p=f[1].split(","),d={};p.forEach(v=>{const[m,g]=v.split("=");m&&g&&(d[m.trim()]=isNaN(Number(g.trim()))?g.trim():Number(g.trim()))}),l=d}return l},s={hide:!1,style:{}};return i.forEach(c=>{if(c.key==="hide")s.hide=c.value===!0;else if(c.key.toLowerCase().endsWith("style")){const l=o(c.value);c.key==="style"&&a&&(l.image=a),s[c.key]=l}else if(c.key.includes("info")||c.key.includes("images")){const l=o(c.value);s[c.key]=l}}),s};if(u2[e]){if(t[e]={...t[e]},r.options=r.options??[],r.options.some(a=>a.key==="style")||r.options.push({key:"style",value:"{}"}),u2[e].buttons[r.command])t[e].buttons={...t[e].buttons},t[e].buttons[r.command]={key:r.command,content:r.args[0]??"",args:n(r.options??[])};else if(u2[e].other[r.command]){let a=!1;LTe[r.command]&&(a=!0),t[e].other={...t[e].other},t[e].other[r.command]={key:r.command,content:a?"":r.args[0]??"",args:n(r.options??[],r.args[0])}}}return t}function PRe(t,e,r){var l,u,f;const n=((l=r.find(h=>h.key==="hide"))==null?void 0:l.value)||!1,i=((u=r.find(h=>h.key==="style"))==null?void 0:u.value)||"",a=((f=r.find(h=>h.key==="hoverStyle"))==null?void 0:f.value)||"";let o={...Yy.achievementUI[t].args.style},s={...Yy.achievementUI[t].args.hoverStyle};o=c(i),s=c(a);function c(h){const p=/\{(.*?)\}/,d=h.match(p);if(d){const m=d[1].split(","),g={};return m.forEach(_=>{const[x,b]=_.split("=");x&&b&&(g[x.trim()]=isNaN(Number(b.trim()))?b.trim():Number(b.trim()))}),g}}return{content:e!=null&&e.length?e[0]:"",args:{hide:n,style:o,hoverStyle:s}}}const ORe=(t,e)=>{it.warn(""+t+":"+e);const r=pe.dispatch;r(It({component:"showTitle",visibility:!1})),r(It({component:"showMenuPanel",visibility:!1})),r(It({component:"isShowLogo",visibility:!1}));const n=document.getElementById("Title_enter_page");n&&(n.style.display="none"),NO(!0);const i=Ir(t,Ar.scene);setTimeout(()=>{Ka(i).then(async a=>{if(!await J.sceneManager.setCurrentScene(a,"start.txt",i))return;const s=J.sceneManager.sceneData.currentScene.sceneName;J.gameplay.isFast=!0,J.gameplay.isSyncingWithOrigine=!0,tk(e,s)})},16)};function tk(t,e){J.sceneManager.sceneData.currentSentenceId<t&&J.sceneManager.sceneData.currentScene.sceneName===e?(ti(),setTimeout(()=>tk(t,e),100)):(J.gameplay.isSyncingWithOrigine=!1,J.gameplay.isFast=!1)}const kRe=()=>{window.JMP=tk};var op=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(op||{});const FRe=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}:9999`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),it.info("socket"+i);const a=new WebSocket(i);a.onopen=()=>{it.info("socket"),window.pubsub.publish("isPreviewMode",!0);function o(){const s={event:"message",data:{command:op.SYNCFC,sceneMsg:{scene:J.sceneManager.sceneData.currentScene.sceneName,sentence:J.sceneManager.sceneData.currentSentenceId},stageSyncMsg:pe.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===op.JUMP&&ORe(l.sceneMsg.scene,l.sceneMsg.sentence),l.command===op.EXE_COMMAND){const u=l.message,h=z1.parse(u,"temp.txt","temp.txt").sentenceList[0];i1(h)}if(l.command===op.REFETCH_TEMPLATE_FILES){const u=document.getElementById("Title_enter_page");u&&(u.style.display="none"),J.events.styleUpdate.emit()}},a.onerror=o=>{window.pubsub.publish("isPreviewMode",!1),it.info(" Terre ")}},NRe={version:"IdolTime 1.0.0"},LRe=navigator.userAgent,rk=!!LRe.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),MRe=()=>{it.info(NRe.version),it.info("Made with  by IdolTime"),rk&&alert(`iOS 
| iOS `),BRe("./game/userStyleSheet.css"),DRe(),RRe("./game/config.txt");const t=Ir("start.txt",Ar.scene);Ka(t).then(async e=>{const r=await J.sceneManager.setCurrentScene(e,"start.txt",t);if(!r)return;const n=J.sceneManager.sceneData.currentScene.subSceneList;J.sceneManager.settledScenes.push(t);const i=Kv(n);Md(i);const a=(r==null?void 0:r.sentenceList)??[],o=a==null?void 0:a.filter(s=>(s==null?void 0:s.commandRaw)==="unlockAchieve");pe.dispatch(Br.setUnlockAchieveAllTotal((o==null?void 0:o.length)??0))}),kRe(),FRe()};function BRe(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function DRe(){td.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)td.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};J.animationManager.addAnimation(i)}})})}const URe="_Menu_main_x2m75_1",jRe="_Menu_ShowSoftly_x2m75_1",$Re="_Menu_TagContent_x2m75_10",HD={Menu_main:URe,Menu_ShowSoftly:jRe,Menu_TagContent:$Re},GRe="_MenuPanel_main_1c9ky_1",VRe="_MenuPanel_button_1c9ky_10",HRe="_MenuPanel_button_icon_1c9ky_38",XRe="_MenuPanel_button_hl_1c9ky_44",bh={MenuPanel_main:GRe,MenuPanel_button:VRe,MenuPanel_button_icon:HRe,MenuPanel_button_hl:XRe};var zRe=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function XD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(r),!0).forEach(function(n){WRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WRe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YRe(t,e){if(t==null)return{};var r=qRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qRe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var KRe={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function ZRe(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function JRe(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var OH=_e.createContext(KRe);OH.Provider;function zd(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,c=n.theme,l=n.fill,u=n.className,f=n.spin,h=YRe(n,zRe),p=_e.useContext(OH),d=_e.useMemo(ZRe,[]),v=JRe(d,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:c,fill:l},p),m=[p.prefix+"-icon"];return m.push(p.prefix+"-icon-"+t),e&&p.rtl&&m.push(p.prefix+"-icon-rtl"),f&&m.push(p.prefix+"-icon-spin"),u&&m.push(u),Vr.createElement("span",zD(zD({},h),{},{className:m.join(" ")}),r(v))}}const QRe=zd("folder-open",!0,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),ePe=zd("hamburger-button",!1,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),tPe=zd("home",!1,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M19 29V42H29V29H19Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M9 42H39",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),rPe=zd("logout",!0,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M23.9917 6H6V42H24",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M33 33L42 24L33 15",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M16 23.9917H42",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),nPe=zd("save",!0,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:t.colors[3]}),Vr.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M9 6H34.2814",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M14 26H34",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M14 34H24.0083",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),iPe=zd("setting-two",!1,function(t){return Vr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Vr.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Vr.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),aPe=t=>{let e;switch(t.iconName){case"save":e=N.jsx(nPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"load":e=N.jsx(QRe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"option":e=N.jsx(iPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"title":e=N.jsx(tPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"exit":e=N.jsx(rPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;default:e=N.jsx("div",{})}return e},M0=t=>{const{playSePageChange:e,playSeEnter:r}=ri();let n=bh.MenuPanel_button;return t.hasOwnProperty("buttonOnClassName")&&(n=n+t.buttonOnClassName),N.jsxs("div",{className:n,onClick:()=>{t.clickFunc()},onMouseEnter:r,style:{...t.style,color:t.tagColor},children:[N.jsx("div",{className:bh.MenuPanel_button_icon,children:N.jsx(aPe,{iconName:t.iconName,iconColor:t.iconColor})}),t.tagName]})},lg=()=>{const t=pe.dispatch;YO(),J1(),Hh(),t(Lt({key:"playVocal",value:""})),t(It({component:"showTitle",visibility:!0})),t(Br.setIsShowUnlock(!1)),t(Br.setShowStoryline(!1)),og(pe.getState().GUI.titleBg)};function nk(t,e){if(t==null)return{};var r=MEe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var oPe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const sPe=$i(oPe);var lPe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function WD(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(sPe[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(lPe),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var uPe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,cPe=/^\s*$/,fPe=Object.create(null);function kH(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(kH,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var hPe={parse:function(t,e){e||(e={}),e.components||(e.components=fPe);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(uPe,function(c,l){if(o){if(c!=="</"+r.name+">")return;o=!1}var u,f=c.charAt(1)!=="/",h=c.startsWith("<!--"),p=l+c.length,d=t.charAt(p);if(h){var v=WD(c);return a<0?(n.push(v),n):((u=i[a]).children.push(v),n)}if(f&&(a++,(r=WD(c)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!d||d==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&d!=="<"&&d)){u=a===-1?n:i[a].children;var m=t.indexOf("<",p),g=t.slice(p,m===-1?void 0:m);cPe.test(g)&&(g=" "),(m>-1&&a+u.length>=0||g!==" ")&&u.push({type:"text",content:g})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+kH("",r)},"")}};function q_(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var YD={};function Ky(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&YD[e[0]]||(typeof e[0]=="string"&&(YD[e[0]]=new Date),q_.apply(void 0,e))}var FH=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function qD(t,e,r){t.loadNamespaces(e,FH(t,r))}function KD(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,FH(t,n))}function dPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(c,l){var u=e.services.backendConnector.state["".concat(c,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function pPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return Ky("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):dPe(t,e,r)}var vPe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gPe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mPe=function(e){return gPe[e]},_Pe=function(e){return e.replace(vPe,mPe)};function ZD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var JT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_Pe};function yPe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};JT=JD(JD({},JT),t)}function NH(){return JT}var LH;function xPe(t){LH=t}function ik(){return LH}var bPe=["format"],wPe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function QD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d2(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function p2(t){return t?t.props?t.props.children:t.children:[]}function EPe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return _e.isValidElement(e)})}function sp(t){return Array.isArray(t)?t:[t]}function SPe(t,e){var r=li({},e);return r.props=Object.assign(t.props,e.props),r}function MH(t,e){if(!t)return"";var r="",n=sp(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(_e.isValidElement(a)){var s=Object.keys(a.props).length,c=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&c&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!c||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(c&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=MH(l,e);r+="<".concat(o,">").concat(u,"</").concat(o,">")}}else if(a===null)q_("Trans: the passed in value is invalid - seems you passed in a null child.");else if(bi(a)==="object"){var f=a.format,h=nk(a,bPe),p=Object.keys(h);if(p.length===1){var d=f?"".concat(p[0],", ").concat(f):p[0];r+="{{".concat(d,"}}")}else q_("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else q_("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function CPe(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var c={};function l(m){var g=sp(m);g.forEach(function(_){typeof _!="string"&&(d2(_)?l(p2(_)):bi(_)==="object"&&!_e.isValidElement(_)&&Object.assign(c,_))})}l(t);var u=hPe.parse("<0>".concat(e,"</0>")),f=li(li({},c),i);function h(m,g,_){var x=p2(m),b=d(x,g.children,_);return EPe(x)&&b.length===0?x:b}function p(m,g,_,x,b){m.dummy&&(m.children=g),_.push(_e.cloneElement(m,li(li({},m.props),{},{key:x}),b?void 0:g))}function d(m,g,_){var x=sp(m),b=sp(g);return b.reduce(function(w,E,C){var T=E.children&&E.children[0]&&E.children[0].content&&r.services.interpolator.interpolate(E.children[0].content,f,r.language);if(E.type==="tag"){var I=x[parseInt(E.name,10)];!I&&_.length===1&&_[0][E.name]&&(I=_[0][E.name]),I||(I={});var R=Object.keys(E.attrs).length!==0?SPe({props:E.attrs},I):I,O=_e.isValidElement(R),P=O&&d2(E,!0)&&!E.voidElement,k=s&&bi(R)==="object"&&R.dummy&&!O,L=bi(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,E.name);if(typeof R=="string"){var B=r.services.interpolator.interpolate(R,f,r.language);w.push(B)}else if(d2(R)||P){var U=h(R,E,_);p(R,U,w,C)}else if(k){var z=d(x,E.children,_);w.push(_e.cloneElement(R,li(li({},R.props),{},{key:C}),z))}else if(Number.isNaN(parseFloat(E.name)))if(L){var ee=h(R,E,_);p(R,ee,w,C,E.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(E.name)>-1)if(E.voidElement)w.push(_e.createElement(E.name,{key:"".concat(E.name,"-").concat(C)}));else{var ne=d(x,E.children,_);w.push(_e.createElement(E.name,{key:"".concat(E.name,"-").concat(C)},ne))}else if(E.voidElement)w.push("<".concat(E.name," />"));else{var W=d(x,E.children,_);w.push("<".concat(E.name,">").concat(W,"</").concat(E.name,">"))}else if(bi(R)==="object"&&!O){var D=E.children[0]?T:null;D&&w.push(D)}else E.children.length===1&&T?w.push(_e.cloneElement(R,li(li({},R.props),{},{key:C}),T)):w.push(_e.cloneElement(R,li(li({},R.props),{},{key:C})))}else if(E.type==="text"){var H=n.transWrapTextNodes,G=a?n.unescape(r.services.interpolator.interpolate(E.content,f,r.language)):r.services.interpolator.interpolate(E.content,f,r.language);H?w.push(_e.createElement(H,{key:"".concat(E.name,"-").concat(C)},G)):w.push(G)}return w},[])}var v=d([{dummy:!0,children:t||[]}],u,sp(t||[]));return p2(v[0])}function TPe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,v=nk(t,wPe),m=h||ik();if(!m)return Ky("You will need to pass in an i18next instance by using i18nextReactModule"),e;var g=p||m.t.bind(m)||function(P){return P};a&&(s.context=a);var _=li(li({},NH()),m.options&&m.options.react),x=f||g.ns||m.options&&m.options.defaultNS;x=typeof x=="string"?[x]:x||["translation"];var b=l||MH(e,_)||_.transEmptyNodeValue||i,w=_.hashTransKey,E=i||(w?w(b):b),C=c?s.interpolation:{interpolation:li(li({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},T=li(li(li(li({},s),{},{count:r},c),C),{},{defaultValue:b,ns:x}),I=E?g(E,T):b,R=CPe(u||e,I,m,_,T,d),O=n!==void 0?n:_.defaultTransParent;return O?_e.createElement(O,v,R):R}function Qo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b$(n.key),n)}}function es(t,e,r){return e&&e8(t.prototype,e),r&&e8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var APe={type:"3rdParty",init:function(e){yPe(e.options.react),xPe(e)}},BH=_e.createContext(),IPe=function(){function t(){Qo(this,t),this.usedNamespaces={}}return es(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),RPe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function t8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PPe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OPe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,v=nk(t,RPe),m=_e.useContext(BH)||{},g=m.i18n,_=m.defaultNS,x=h||g||ik(),b=p||x&&x.t.bind(x);return TPe(PPe({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:c,defaults:l,components:u,ns:f||b&&b.ns||_||x&&x.options&&x.options.defaultNS,i18n:x,t:p,shouldUnescape:d},v))}function DH(t){if(Array.isArray(t))return t}function kPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function r8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UH(t,e){if(t){if(typeof t=="string")return r8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r8(t,e)}}function jH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FPe(t,e){return DH(t)||kPe(t,e)||UH(t,e)||jH()}function n8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var NPe=function(e,r){var n=_e.useRef();return _e.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function rb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=_e.useContext(BH)||{},i=n.i18n,a=n.defaultNS,o=r||i||ik();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new IPe),!o){Ky("You will need to pass in an i18next instance by using initReactI18next");var s=function(I,R){return typeof R=="string"?R:R&&bi(R)==="object"&&typeof R.defaultValue=="string"?R.defaultValue:Array.isArray(I)?I[I.length-1]:I},c=[s,{},!1];return c.t=s,c.i18n={},c.ready=!1,c}o.options.react&&o.options.react.wait!==void 0&&Ky("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=v2(v2(v2({},NH()),o.options.react),e),u=l.useSuspense,f=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var p=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(T){return pPe(T,o,l)});function d(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],f)}var v=_e.useState(d),m=FPe(v,2),g=m[0],_=m[1],x=h.join();e.lng&&(x="".concat(e.lng).concat(x));var b=NPe(x),w=_e.useRef(!0);_e.useEffect(function(){var T=l.bindI18n,I=l.bindI18nStore;w.current=!0,!p&&!u&&(e.lng?KD(o,e.lng,h,function(){w.current&&_(d)}):qD(o,h,function(){w.current&&_(d)})),p&&b&&b!==x&&w.current&&_(d);function R(){w.current&&_(d)}return T&&o&&o.on(T,R),I&&o&&o.store.on(I,R),function(){w.current=!1,T&&o&&T.split(" ").forEach(function(O){return o.off(O,R)}),I&&o&&I.split(" ").forEach(function(O){return o.store.off(O,R)})}},[o,x]);var E=_e.useRef(!0);_e.useEffect(function(){w.current&&!E.current&&_(d),E.current=!1},[o,f]);var C=[g,o,p];if(C.t=g,C.i18n=o,C.ready=p,p||!p&&!u)return C;throw new Promise(function(T){e.lng?KD(o,e.lng,h,function(){return T()}):qD(o,h,function(){return T()})})}function Pu(t){const{t:e}=rb(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}const LPe=()=>{const t=Pu("menu."),{playSeClick:e,playSeDialogOpen:r,playSePageChange:n}=ri(),i=xt(v=>v.GUI),a=an(),o=i.currentMenuTag===Ur.Save?` ${bh.MenuPanel_button_hl}`:"",s=i.currentMenuTag===Ur.Load?` ${bh.MenuPanel_button_hl}`:"",c=i.currentMenuTag===Ur.Option?` ${bh.MenuPanel_button_hl}`:"",l=i.currentMenuTag===Ur.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",u=i.currentMenuTag===Ur.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",f=i.currentMenuTag===Ur.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)",h=i.currentMenuTag===Ur.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",p=i.currentMenuTag===Ur.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",d=i.currentMenuTag===Ur.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)";return N.jsxs("div",{className:bh.MenuPanel_main,children:[N.jsx(M0,{iconName:"save",buttonOnClassName:o,iconColor:h,tagColor:l,clickFunc:()=>{n(),!i.showTitle&&a($c(Ur.Save))},tagName:t("saving.title")},"saveButton"),N.jsx(M0,{iconName:"load",buttonOnClassName:s,iconColor:p,tagColor:u,clickFunc:()=>{n(),a($c(Ur.Load))},tagName:t("loadSaving.title")},"loadButton"),N.jsx(M0,{iconName:"title",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{r(),Yo({title:t("$gaming.buttons.titleTips"),leftText:t("$common.no"),rightText:t("$common.yes"),leftFunc:()=>{},rightFunc:()=>{lg(),a(It({component:"showMenuPanel",visibility:!1}))}})},tagName:t("title.title")},"titleIcon"),N.jsx(M0,{iconName:"option",style:{marginLeft:"auto"},buttonOnClassName:c,iconColor:d,tagColor:f,clickFunc:()=>{n(),a($c(Ur.Option))},tagName:t("options.title")},"optionButton"),N.jsx(M0,{iconName:"exit",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{e(),a(It({component:"showMenuPanel",visibility:!1}))},tagName:t("exit.title")},"exitIcon")]})},MPe="_Save_Load_main_4r4rg_2",BPe="_Common_back_4r4rg_13",DPe="_Common_title_4r4rg_30",UPe="_Save_title_4r4rg_41",jPe="_Load_title_4r4rg_45",$Pe="_Save_Load_top_buttonList_4r4rg_49",GPe="_Save_Load_indicator_container_4r4rg_59",VPe="_Save_Load_top_button_4r4rg_49",HPe="_Save_Load_indicator_default_4r4rg_74",XPe="_Save_Load_indicator_active_4r4rg_83",zPe="_Save_Load_content_4r4rg_92",WPe="_Save_Load_content_element_4r4rg_105",YPe="_Elements_in_4r4rg_1",qPe="_Elements_in_transform_4r4rg_1",KPe="_Save_Load_content_element_top_4r4rg_120",ZPe="_Save_Load_info_4r4rg_127",JPe="_Save_Load_content_ele_4r4rg_105",QPe="_Save_Load_bg_4r4rg_158",eOe="_Save_Load_content_miniRen_bg_4r4rg_170",tOe="_Save_Load_border_4r4rg_181",rOe="_Btn_4r4rg_195",nOe="_Btn_r_4r4rg_209",sr={Save_Load_main:MPe,Common_back:BPe,Common_title:DPe,Save_title:UPe,Load_title:jPe,Save_Load_top_buttonList:$Pe,Save_Load_indicator_container:GPe,Save_Load_top_button:VPe,Save_Load_indicator_default:HPe,Save_Load_indicator_active:XPe,Save_Load_content:zPe,Save_Load_content_element:WPe,Elements_in:YPe,Elements_in_transform:qPe,Save_Load_content_element_top:KPe,Save_Load_info:ZPe,Save_Load_content_ele:JPe,Save_Load_bg:QPe,Save_Load_content_miniRen_bg:eOe,Save_Load_border:tOe,Btn:rOe,Btn_r:nOe},iOe=()=>{const{playSeClick:t,playSePageChange:e,playSeEnter:r,playSeDialogOpen:n}=ri(),i=xt(v=>v.userData),a=xt(v=>v.saveData),o=an(),s=[];for(let v=1;v<=4;v++){const m=N.jsx("div",{onClick:()=>{o(Fy(v)),Fi(),e()},onMouseEnter:r,className:sr.Save_Load_top_button,children:N.jsx("div",{className:v===i.optionData.slPage?sr.Save_Load_indicator_active:sr.Save_Load_indicator_default})},"Load_element_page"+v);s.push(m)}const c=Pu("common."),l=[],u=(i.optionData.slPage-1)*6+1,f=u+5;_e.useEffect(()=>{OO(u,f)},[u,f]);let h=0;for(let v=u;v<=f;v++){h++;const m=a.saveData[v];let g=N.jsx("div",{className:sr.Save_Load_content_ele});m&&(g=N.jsxs(N.Fragment,{children:[N.jsx("div",{className:sr.Save_Load_bg}),N.jsx("div",{className:sr.Save_Load_border}),N.jsx("img",{className:sr.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:m.previewImage}),N.jsxs("div",{className:sr.Save_Load_info,children:[m.saveTime,N.jsx("br",{}),N.jsx("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:Mt(300)},children:m.nowStageState.showText})]})]}));const _=N.jsx("div",{onClick:()=>{a.saveData[v]?(n(),Yo({title:p("saving.isOverwrite"),leftText:c("no"),rightText:c("yes"),leftFunc:()=>{},rightFunc:()=>{WB(v),Fi()}})):(e(),WB(v))},onMouseEnter:r,className:sr.Save_Load_content_element,style:{animationDelay:`${h*30}ms`},children:g},"saveElement_"+v);l.push(_)}const p=Pu("menu."),d=v=>{let g=i.optionData.slPage;v==="left"?g=g>1?g-1:4:g=g<4?g+1:1,o(Fy(g)),Fi(),e()};return N.jsxs("div",{className:sr.Save_Load_main,children:[N.jsx("div",{className:`${sr.Common_title} ${sr.Save_title}`,children:N.jsx("div",{className:sr.Common_back,onClick:()=>{t(),o(It({component:"showMenuPanel",visibility:!1}))},onMouseEnter:r})}),N.jsx("div",{className:sr.Save_Load_content,id:"Save_content_page_"+i.optionData.slPage,children:l}),N.jsxs("div",{className:sr.Save_Load_top_buttonList,children:[N.jsx("div",{className:sr.Btn,onMouseEnter:r,onClick:()=>d("left")}),N.jsx("div",{className:sr.Save_Load_indicator_container,children:s}),N.jsx("div",{className:`${sr.Btn} ${sr.Btn_r}`,onMouseEnter:r,onClick:()=>d("right")})]})]})},aOe=()=>{const{playSeClick:t,playSeEnter:e,playSePageChange:r}=ri(),n=xt(h=>h.userData),i=xt(h=>h.saveData),a=an(),o=[];for(let h=1;h<=4;h++){const p=N.jsx("div",{onClick:()=>{a(Fy(h)),Fi(),r()},onMouseEnter:e,className:sr.Save_Load_top_button,children:N.jsx("div",{className:h===n.optionData.slPage?sr.Save_Load_indicator_active:sr.Save_Load_indicator_default})},"Load_element_page"+h);o.push(p)}const s=[],c=(n.optionData.slPage-1)*6+1,l=c+5;_e.useEffect(()=>{OO(c,l)},[c,l]);let u=0;for(let h=c;h<=l;h++){u++;const p=i.saveData[h];let d=N.jsx("div",{className:sr.Save_Load_content_ele});p&&(d=N.jsxs(N.Fragment,{children:[N.jsx("div",{className:sr.Save_Load_bg}),N.jsx("img",{className:sr.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:p.previewImage}),N.jsx("div",{className:sr.Save_Load_border}),N.jsxs("div",{className:sr.Save_Load_info,children:[p.saveTime,N.jsx("br",{}),N.jsx("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:Mt(300)},children:p.nowStageState.showText})]})]}));const v=N.jsx("div",{onClick:()=>{GTe(h),t()},onMouseEnter:e,className:sr.Save_Load_content_element,style:{animationDelay:`${u*30}ms`},children:d},"loadElement_"+h);s.push(v)}Pu("menu.");const f=h=>{let d=n.optionData.slPage;h==="left"?d=d>1?d-1:4:d=d<4?d+1:1,a(Fy(d)),Fi(),r()};return N.jsxs("div",{className:sr.Save_Load_main,children:[N.jsx("div",{className:`${sr.Common_title} ${sr.Load_title}`,children:N.jsx("div",{className:sr.Common_back,onClick:()=>{t(),a(It({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e})}),N.jsx("div",{className:sr.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:s}),N.jsxs("div",{className:sr.Save_Load_top_buttonList,children:[N.jsx("div",{className:sr.Btn,onMouseEnter:e,onClick:()=>f("left")}),N.jsx("div",{className:sr.Save_Load_indicator_container,children:o}),N.jsx("div",{className:`${sr.Btn} ${sr.Btn_r}`,onMouseEnter:e,onClick:()=>f("right")})]})]})},oOe="_Options_main_1jn8j_1",sOe="_Options_top_1jn8j_12",lOe="_Options_page_container_1jn8j_25",uOe="_Options_left_1jn8j_31",cOe="_title_base_1jn8j_36",fOe="_Options_right_1jn8j_46",hOe="_Label_1jn8j_50",dOe="_title_voice_1jn8j_55",pOe="_Label_fullscreen_1jn8j_74",vOe="_Label_window_1jn8j_79",gOe="_Label_text_speed_1jn8j_84",mOe="_Label_row_1jn8j_88",_Oe="_Label_row_right_1jn8j_96",yOe="_Label_row_text_1jn8j_101",xOe="_Label_row_decoration_1jn8j_108",bOe="_Check_row_1jn8j_120",wOe="_Check_row_option_1jn8j_129",EOe="_Check_row_prefix_1jn8j_134",SOe="_Check_row_box_1jn8j_149",COe="_mt48_1jn8j_161",TOe="_mt32_1jn8j_165",AOe="_mt22_1jn8j_170",IOe="_Slider_wrapper_1jn8j_175",ROe="_Check_row_box_checked_1jn8j_179",POe="_Save_back_1jn8j_193",Nt={Options_main:oOe,Options_top:sOe,Options_page_container:lOe,Options_left:uOe,title_base:cOe,Options_right:fOe,Label:hOe,title_voice:dOe,Label_fullscreen:pOe,Label_window:vOe,Label_text_speed:gOe,Label_row:mOe,Label_row_right:_Oe,Label_row_text:yOe,Label_row_decoration:xOe,Check_row:bOe,Check_row_option:wOe,Check_row_prefix:EOe,Check_row_box:SOe,mt48:COe,mt32:TOe,mt22:AOe,Slider_wrapper:IOe,Check_row_box_checked:ROe,Save_back:POe};const B0=t=>{const{playSeEnter:e}=ri();_e.useEffect(()=>{setTimeout(()=>{const n=document.getElementById(t.uniqueID);n!==null&&n.setAttribute("value",(t.initValue||0).toString()),r()},1)},[]),_e.useEffect(()=>{r()},[t.initValue]);function r(){var i;const n=document.getElementById(`${t.uniqueID}-bg`);if(n!==null&&t.uniqueID==="light"){const o=(Number(t.initValue)-50)/50*684+"px";n.style.width=o}else n!==null&&(n.style.width=Number((i=t.initValue)==null?void 0:i.toString())/100*342/.5+"px")}return N.jsxs("div",{className:"Option_WebGAL_slider",children:[N.jsx("input",{className:"Rang_input",id:t.uniqueID,type:"range",min:(t==null?void 0:t.min)??0,max:(t==null?void 0:t.max)??100,onChange:t.onChange,onFocus:e,onMouseEnter:e}),N.jsxs("div",{className:"Slider_group",children:[N.jsx("div",{className:"Slider_bg",id:`${t.uniqueID}-bg`}),N.jsx("div",{className:"Slider_bg_under"})]})]})},OOe=()=>{_e.useEffect(Wy,[]);const{playSeClick:t,playSeEnter:e}=ri(),r=xt(i=>i.userData),n=an();return N.jsxs("div",{className:Nt.Options_main,children:[N.jsx("div",{className:Nt.Options_top,children:N.jsx("div",{className:Nt.Save_back,onClick:()=>{t(),n(It({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e})}),N.jsxs("div",{className:Nt.Options_page_container,children:[N.jsxs("div",{className:Nt.Options_left,children:[N.jsx("div",{className:Nt.title_base}),N.jsxs("div",{className:`${Nt.Label_row} ${Nt.mt48}`,children:[N.jsx("span",{className:Nt.Label_row_text,children:""}),N.jsx("span",{className:Nt.Label_row_decoration})]}),N.jsxs("div",{className:Nt.Check_row,children:[N.jsxs("div",{className:Nt.Check_row_option,children:[N.jsx("span",{className:Nt.Check_row_prefix,children:""}),N.jsx("div",{className:Nt.Check_row_box,onClick:()=>{n(Lo({key:"fullScreen",value:Ss.on})),Fi()},children:r.optionData.fullScreen?null:N.jsx("div",{className:Nt.Check_row_box_checked})})]}),N.jsxs("div",{className:Nt.Check_row_option,children:[N.jsx("span",{className:Nt.Check_row_prefix,children:""}),N.jsx("div",{className:Nt.Check_row_box,onClick:()=>{n(Lo({key:"fullScreen",value:Ss.off})),Fi()},children:r.optionData.fullScreen?N.jsx("div",{className:Nt.Check_row_box_checked}):null})]})]}),N.jsxs("div",{className:`${Nt.Label_row} ${Nt.mt48}`,children:[N.jsx("span",{className:Nt.Label_row_text,children:""}),N.jsx("span",{className:Nt.Label_row_decoration})]}),N.jsx(B0,{initValue:r.optionData.textSpeed,uniqueID:"",onChange:i=>{const a=i.target.value;n(Lo({key:"textSpeed",value:Number(a)})),Fi()}})]}),N.jsxs("div",{className:Nt.Options_right,children:[N.jsx("div",{className:Nt.title_voice}),N.jsxs("div",{className:`${Nt.Label_row} ${Nt.mt32} ${Nt.Label_row_right}`,children:[N.jsx("span",{className:Nt.Label_row_text,children:""}),N.jsx("span",{className:Nt.Label_row_decoration})]}),N.jsx("div",{className:Nt.Slider_wrapper,children:N.jsx(B0,{initValue:r.optionData.volumeMain,uniqueID:"",onChange:i=>{const a=i.target.value;n(Lo({key:"volumeMain",value:Number(a)})),Fi()}})}),N.jsxs("div",{className:`${Nt.Label_row} ${Nt.mt32} ${Nt.Label_row_right}`,children:[N.jsx("span",{className:Nt.Label_row_text,children:""}),N.jsx("span",{className:Nt.Label_row_decoration})]}),N.jsx("div",{className:Nt.Slider_wrapper,children:N.jsx(B0,{initValue:r.optionData.bgmVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n(Lo({key:"bgmVolume",value:Number(a)})),Fi()}})}),N.jsxs("div",{className:`${Nt.Label_row} ${Nt.mt32} ${Nt.Label_row_right}`,children:[N.jsx("span",{className:Nt.Label_row_text,children:""}),N.jsx("span",{className:Nt.Label_row_decoration})]}),N.jsx("div",{className:Nt.Slider_wrapper,children:N.jsx(B0,{initValue:r.optionData.seVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n(Lo({key:"seVolume",value:Number(a)})),n(Lo({key:"uiSeVolume",value:Number(a)})),Fi()}})}),N.jsxs("div",{className:`${Nt.Label_row} ${Nt.mt22} ${Nt.Label_row_right}`,children:[N.jsx("span",{className:Nt.Label_row_text,children:""}),N.jsx("span",{className:Nt.Label_row_decoration})]}),N.jsx("div",{className:Nt.Slider_wrapper,children:N.jsx(B0,{initValue:r.optionData.vocalVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n(Lo({key:"vocalVolume",value:Number(a)})),Fi()}})})]})]})]})},kOe=()=>{const t=xt(r=>r.GUI);let e;switch(t.currentMenuTag){case Ur.Save:e=N.jsx(iOe,{});break;case Ur.Load:e=N.jsx(aOe,{});break;case Ur.Option:e=N.jsx(OOe,{});break}return N.jsx(N.Fragment,{children:t.showMenuPanel&&N.jsxs("div",{className:HD.Menu_main,children:[N.jsx("div",{className:HD.Menu_TagContent,children:e}),Ur.Option?null:N.jsx(LPe,{})]})})},FOe="_MainStage_main_9enex_1",NOe="_MainStage_main_container_9enex_10",LOe="_MainStage_bgContainer_9enex_17",MOe="_MainStage_showBgSoftly_9enex_1",BOe="_MainStage_bgContainer_Settled_9enex_27",DOe="_MainStage_oldBgContainer_9enex_37",UOe="_MainStage_oldBgFadeout_9enex_1",jOe="_MainStage_oldBgContainer_Settled_9enex_47",$Oe="_pixiContainer_9enex_72",GOe="_chooseContainer_9enex_77",g2={MainStage_main:FOe,MainStage_main_container:NOe,MainStage_bgContainer:LOe,MainStage_showBgSoftly:MOe,MainStage_bgContainer_Settled:BOe,MainStage_oldBgContainer:DOe,MainStage_oldBgFadeout:UOe,MainStage_oldBgContainer_Settled:jOe,pixiContainer:$Oe,chooseContainer:GOe};function VOe(){const t=xt(r=>r.userData.optionData.textboxFont);function e(){return X1(t).with(Bc.song,()=>'"", serif').with(Bc.lxgw,()=>'"LXGW", serif').with(Bc.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function i8(t){switch(t){case 0:return 150;case 1:return 205;case 2:return 240;default:return 205}}const HOe="_TextBox_EventHandler_3ooeu_1",XOe="_TextBox_Container_3ooeu_9",zOe="_showSoftly_3ooeu_1",WOe="_TextBox_main_3ooeu_24",YOe="_TextBox_textElement_start_3ooeu_50",qOe="_TextDelayShow_3ooeu_1",KOe="_outer_3ooeu_56",ZOe="_inner_3ooeu_65",JOe="_zhanwei_3ooeu_74",QOe="_TextBox_textElement_Settled_3ooeu_79",eke="_TextBox_showName_3ooeu_84",tke="_outerName_3ooeu_94",rke="_TextBox_showName_avatar_3ooeu_98",nke="_TextBox_showName_player_3ooeu_104",ike="_TextBox_ShowName_Background_3ooeu_110",ake="_miniAvatarContainer_3ooeu_122",oke="_miniAvatarImg_3ooeu_142",ske="_nameContainer_3ooeu_147",lke="_innerName_3ooeu_160",uke="_line_3ooeu_167",cke="_line_avatar_3ooeu_175",fke="_line_hide_3ooeu_179",hke="_text_3ooeu_183",zr={TextBox_EventHandler:HOe,TextBox_Container:XOe,showSoftly:zOe,TextBox_main:WOe,TextBox_textElement_start:YOe,TextDelayShow:qOe,outer:KOe,inner:ZOe,zhanwei:JOe,TextBox_textElement_Settled:QOe,TextBox_showName:eke,outerName:tke,TextBox_showName_avatar:rke,TextBox_showName_player:nke,TextBox_ShowName_Background:ike,miniAvatarContainer:ake,miniAvatarImg:oke,nameContainer:ske,innerName:lke,line:uke,line_avatar:cke,line_hide:fke,text:hke};function dke(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:c,miniAvatar:l,showName:u,font:f,textDuration:h,isUseStroke:p,textboxOpacity:d,dialogueMode:v,textAlign:m}=t,g=bH("Stage/TextBox/textbox.scss");_e.useEffect(()=>{function b(){[...document.querySelectorAll(".Textelement_start")].forEach(C=>{C.className=g("TextBox_textElement_Settled",zr.TextBox_textElement_Settled)})}return J.events.textSettle.on(b),()=>{J.events.textSettle.off(b)}},[]);let _=0;const x=e.map((b,w)=>{const E=b.map((C,T)=>{let I=_*r;_++;let R=n.length;return n!==""&&T>=R&&(I=I-R*r),T<R?N.jsx("span",{id:`${I}`,className:g("TextBox_textElement_Settled",zr.TextBox_textElement_Settled),style:{animationDelay:`${I}ms`,animationDuration:`${h}ms`},children:N.jsxs("span",{className:zr.zhanwei,children:[C,N.jsx("span",{className:g("outer",zr.outer),children:C}),p&&N.jsx("span",{className:g("inner",zr.inner),children:C})]})},i+T):N.jsx("span",{"data-text":C,id:`${I}`,className:`${g("TextBox_textElement_start",zr.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${I}ms`,position:"relative"},children:N.jsxs("span",{className:zr.zhanwei,children:[C,N.jsx("span",{className:g("outer",zr.outer),children:C}),p&&N.jsx("span",{className:g("inner",zr.inner),children:C})]})},i+T)});return N.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:E},`text-line-${w}`)});return N.jsx(N.Fragment,{children:a&&N.jsxs("div",{className:zr.TextBox_Container,children:[N.jsx("div",{className:g("TextBox_main",zr.TextBox_main),style:{opacity:`${d/100}`}}),N.jsxs("div",{id:"textBoxMain",className:zr.TextBox_main,style:{fontFamily:f},children:[N.jsxs("div",{id:"miniAvatar",className:g("miniAvatarContainer",zr.miniAvatarContainer),children:[l!==""&&N.jsx("div",{}),l!==""&&N.jsx("img",{className:g("miniAvatarImg",zr.miniAvatarImg),alt:"miniAvatar",src:l})]}),u!==""&&v!=="narrator"&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:g("TextBox_showName",zr.TextBox_showName),style:{opacity:`${d/100}`,fontSize:"200%"},children:N.jsx("div",{style:{opacity:0},children:u.split("").map((b,w)=>N.jsx("span",{style:{position:"relative"},children:N.jsxs("span",{className:zr.zhanwei,children:[b,N.jsx("span",{className:g("outerName",zr.outerName),children:b}),p&&N.jsx("span",{className:g("innerName",zr.innerName),children:b})]})},b+w))})}),N.jsx("div",{className:`${zr.TextBox_showName} ${l?zr.TextBox_showName_avatar:""}`,children:u.split("").map((b,w)=>N.jsx("span",{style:{position:"relative"},children:N.jsxs("span",{className:zr.zhanwei,children:[b,N.jsx("span",{className:g("outerName",zr.outerName),children:b}),p&&N.jsx("span",{className:g("innerName",zr.innerName),children:b})]})},b+w))},u)]}),N.jsx("div",{className:`${zr.line} ${v==="narrator"?zr.line_hide:""} ${l?zr.line_avatar:""}`}),N.jsx("div",{className:g("text",zr.text),style:{flexFlow:"column",overflow:"hidden",textAlign:m||v==="narrator"?"center":"left"},children:x})]})]})})}const Zy={height:1440,width:2560},$H=navigator.userAgent,pke=/firefox/i.test($H),vke=/^((?!chrome|android).)*safari/i.test($H),gke=()=>{const[t,e]=_e.useState(!0);_e.useEffect(()=>{const x=()=>{const b=Zy.height,w=Zy.width,E=window.innerHeight,C=window.innerWidth,T=E/b,I=C/w,R=C/b,O=E/w;[T,I,R,O].forEach(P=>{P<=.2?e(!1):e(!0)})};return window.addEventListener("resize",x),x(),()=>{window.removeEventListener("resize",x)}},[]);const r=xt(x=>x.stage),n=xt(x=>x.userData),i=JV(n.optionData.textSpeed),a=MCe(n.optionData.textSpeed);let o=i8(n.optionData.textSize)+"%";const s=VOe(),c=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;c&&r.showTextSize!==-1&&(o=i8(r.showTextSize)+"%",l=r.showTextSize);const u=X1(n.optionData.textSize).with(fu.small,()=>3).with(fu.medium,()=>2).with(fu.large,()=>2).default(()=>2),f=GH(r.showText,u),h=r.showName,p=r.currentConcatDialogPrev,d=r.currentDialogKey,v=r.miniAvatar,m=n.optionData.textboxOpacity,g=r.dialogueMode,_=dke;return N.jsx(_,{textArray:f,isText:c,textDelay:i,showName:h,currentConcatDialogPrev:p,fontSize:o,currentDialogKey:d,isSafari:vke,isFirefox:pke,miniAvatar:v,textDuration:a,font:s,textSizeState:l,lineLimit:u,isUseStroke:t,textboxOpacity:m,dialogueMode:g})};function a8(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function GH(t,e,r){return t.split("|").map(o=>_ke(o)).map(o=>{const s=[];return o.forEach((c,l)=>{X1(c.type).with("SegmentType.String",()=>{const u=mke(c.value);s.push(...u)}).endsWith("SegmentType.Link",()=>{const u=c.value,f=N.jsxs("ruby",{children:[u.text,N.jsx("rt",{children:u.link})]},l+u.text);s.push(f)})}),s}).slice(0,r?void 0:e)}function mke(t){if(!t)return[];const e=[];let r="",n=a8(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(""),n=!1;else if(a8(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function _ke(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];r.push({type:"SegmentType.Link",value:{text:i,link:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r}const yke=()=>{var x;const t=xt(b=>b.stage),e=xt(b=>b.GUI.titleBgm),r=xt(b=>b.GUI.showTitle),n=xt(b=>b.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,c=t.uiSe,l=i*.01*(((x=n.optionData)==null?void 0:x.seVolume)??100)*.01,u=i*.01*(n.optionData.uiSeVolume??50)*.01,f=xt(b=>b.GUI.isEnterGame),[h,p]=_e.useState(""),[d,v]=_e.useState(""),[m,g]=_e.useState(setTimeout(()=>{},0)),_=(b,w,E)=>{E>=0?b.volume=0:b.volume=w;const C=10,T=w/E*C,I=()=>{const R=setTimeout(()=>{b.volume+T>=w?b.volume=w:b.volume+T<=0?(b.volume=0,pe.dispatch(Lt({key:"bgm",value:{src:"",enter:0,volume:100}}))):(b.volume+=T,I())},C);g(R)};I()};return _e.useEffect(()=>{clearTimeout(m);const b=document.getElementById("currentBgm");b&&(s===0?b.volume=o:_(b,o,s))},[h,o,s]),_e.useEffect(()=>{(async()=>{var E;const w=await Op(r?e:t.bgm.src);p(w),(E=document.getElementById("currentBgm"))==null||E.load()})()},[r,e,t.bgm.src]),_e.useEffect(()=>{it.debug(`${o}`)},[o]),_e.useEffect(()=>{it.debug(`: ${s}`)},[s]),_e.useEffect(()=>{it.debug(`${a}`);const b=document.getElementById("currentVocal");b&&(b.volume=a.toString())},[a]),_e.useEffect(()=>{if(c==="")return;(async()=>{const w=await Op(c),E=document.createElement("audio");E.src=w,E.load(),E.loop=!1,isNaN(u)?(it.error("UI SE Vol is NaN"),E.volume=isNaN(l)?i/100:l/100):E.volume=u,E.play(),E.addEventListener("ended",()=>{E.remove()}),pe.dispatch(Lt({key:"uiSe",value:""}))})()},[c]),_e.useEffect(()=>{it.debug(`: ${l}`)},[l]),_e.useEffect(()=>{it.debug(`: ${u}`)},[u]),_e.useEffect(()=>{it.debug(`: ${t.playVocal}`),Op(t.playVocal).then(b=>{v(b),document.getElementById("currentVocal").load()})},[t.playVocal]),N.jsxs("div",{children:[N.jsx("audio",{id:"currentBgm",src:h,loop:!0,autoPlay:f},r.toString()+h),N.jsx("audio",{id:"currentVocal",src:d})]})},xke=()=>{const t=xt(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),N.jsx("div",{className:Ul.FullScreenPerform_main,style:{width:e,height:r,top:n},children:N.jsx("div",{id:"videoContainer"})})},bke="_TextBox_EventHandler_449dq_2",wke="_TextBox_main_449dq_10",Eke="_showSoftly_449dq_1",Ske="_TextBox_textElement_449dq_38",Cke="_TextBox_textElement_start_449dq_43",Tke="_TextDelayShow_449dq_1",Ake="_TextBox_textElement_Settled_449dq_48",Ike="_TextBox_showName_449dq_52",Rke="_miniAvatarContainer_449dq_68",Pke="_miniAvatarImg_449dq_76",m2={TextBox_EventHandler:bke,TextBox_main:wke,showSoftly:Eke,TextBox_textElement:Ske,TextBox_textElement_start:Cke,TextDelayShow:Tke,TextBox_textElement_Settled:Ake,TextBox_showName:Ike,miniAvatarContainer:Rke,miniAvatarImg:Pke},Oke=()=>{const t=xt(o=>o.stage),e=xt(o=>o.userData);_e.useEffect(()=>{});const r=Jde.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let c=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(c=c-l*r),s<l?N.jsx("span",{id:`${c}`,className:m2.TextBox_textElement_Settled,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s):N.jsx("span",{id:`${c}`,className:m2.TextBox_textElement_start,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s)});return N.jsx("div",{id:"textBoxMain",className:m2.TextBox_main,children:N.jsx("div",{style:{fontSize:n},children:a})})};function kke(t){const e=t.bgName;_e.useEffect(()=>{var n,i,a;const r="bg-main";if(e!==""){const{bgX:o,bgY:s}=t,c=(n=J.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);c&&c.sourceUrl!==e&&o8(c),(i=J.gameplay.pixiStage)==null||i.addBg(r,e,o,s),og(e),it.debug(""),setTimeout(()=>{const{duration:l,animation:u}=Hl("bg-main","enter",!0);J.gameplay.pixiStage.registerPresetAnimation(u,"bg-main-softin",r,t.effects),setTimeout(()=>J.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),l)},0)}else{const o=(a=J.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(r);o&&o8(o)}},[e])}function o8(t){var i,a;(i=J.gameplay.pixiStage)==null||i.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off",(a=J.gameplay.pixiStage)==null||a.removeStageObjectByKey(e);const{duration:r,animation:n}=Hl("bg-main-off","exit",!0);J.gameplay.pixiStage.registerAnimation(n,"bg-main-softoff","bg-main-off"),setTimeout(()=>{var o,s;(o=J.gameplay.pixiStage)==null||o.removeAnimation("bg-main-softoff"),(s=J.gameplay.pixiStage)==null||s.removeStageObjectByKey("bg-main-off")},r)}async function Fke(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch file: ${e.status} ${e.statusText}`);const r=await e.arrayBuffer();return new Uint8Array(r)}function Nke(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t;_e.useEffect(()=>{var s;for(const c of a)(s=J.gameplay.pixiStage)==null||s.changeModelMotionByKey(c.target,c.motion)},[a]),_e.useEffect(()=>{var s;for(const c of o)(s=J.gameplay.pixiStage)==null||s.changeModelExpressionByKey(c.target,c.expression)},[o]),_e.useEffect(()=>{var l,u;const s="fig-center",c="fig-center-softin";if(r!==""){const f=(l=J.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&qs(f,c,t.effects),D0(void 0,s,r,"center"),it.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Hl(s,"enter");J.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>J.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{it.debug("");const f=(u=J.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==r&&qs(f,c,t.effects)}},[r]),_e.useEffect(()=>{var l,u;const s="fig-left",c="fig-left-softin";if(e!==""){const f=(l=J.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==e&&qs(f,c,t.effects),D0(void 0,s,e,"left"),it.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Hl(s,"enter");J.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>J.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{it.debug("");const f=(u=J.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==e&&qs(f,c,t.effects)}},[e]),_e.useEffect(()=>{var l,u;const s="fig-right",c="fig-right-softin";if(n!==""){const f=(l=J.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&qs(f,c,t.effects),D0(void 0,s,n,"right"),it.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Hl(s,"enter");J.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>J.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{const f=(u=J.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==n&&qs(f,c,t.effects)}},[n]),_e.useEffect(()=>{var c,l,u;for(const f of i){const h=`${f.key}`,p=`${f.key}-softin`;if(f.name!==""){const d=(c=J.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(h);d?d.sourceUrl!==f.name&&(qs(d,p,t.effects),D0(void 0,h,f.name,f.basePosition),it.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:m}=Hl(h,"enter");J.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>J.gameplay.pixiStage.removeAnimationWithSetEffects(p),v)},32)):(D0(void 0,h,f.name,f.basePosition),it.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:m}=Hl(h,"enter");J.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>J.gameplay.pixiStage.removeAnimationWithSetEffects(p),v)},32))}else{const d=(l=J.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);d&&d.sourceUrl!==f.name&&qs(d,p,t.effects)}}const s=(u=J.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const f of s)if(!(f.key==="fig-left"||f.key==="fig-center"||f.key==="fig-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(d=>d.key===h)<0){const d=`${f.key}-softin`;qs(f,d,t.effects)}}}},[i])}function qs(t,e,r){var c,l,u;if((c=J.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),J.gameplay.isFast){it.info(""),(l=J.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=J.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=Hl(i,"exit");J.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=J.gameplay.pixiStage)==null||f.removeAnimation(a),(h=J.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function D0(t,...e){var n,i;const r=e[1];if(r.endsWith(".json"))return Lke(...e);if(r.endsWith(".skel"))return(n=J.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e);if(r.endsWith(".png"))Fke(r).then(a=>{var o;return(o=J.gameplay.pixiStage)==null?void 0:o.addFigure(...e,Mke(a))});else return(i=J.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function Lke(...t){}function Mke(t){const e=new Uint8Array([137,80,78,71,13,10,26,10]);if(!t.slice(0,8).every((i,a)=>i===e[a]))return!1;const r=new Uint8Array([97,99,84,76]),n=37;return!!t.slice(n,n+4).every((i,a)=>i===r[a])}function Bke(t){const e=t.effects;setTimeout(()=>{Dke(e)},10)}function Dke(t){var r,n,i,a;const e=((r=J.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,c=t.find(u=>u.target===s);if(!(((n=J.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(c){const u=(i=J.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,s8(c.transform))}}else{const u=(a=J.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,s8(QP))}}}}function s8(t){if(!t)return{};const{position:e,...r}=t;return{...r,x:e.x,y:e.y}}function Uke(){const t=xt(e=>e.stage);return kke(t),Nke(t),Bke(t),N.jsx("div",{style:{display:"none"}})}const jke="_introContainer_119k8_1",$ke={introContainer:jke};function Gke(){return N.jsx("div",{className:$ke.introContainer,id:"introContainer"})}const Vke="_variableNameWrapper_1548c_1",Hke="_progressBarBg_1548c_10",Xke="_progressBar_1548c_10",_2={variableNameWrapper:Vke,progressBarBg:Hke,progressBar:Xke},zke=()=>{const t=xt(o=>o.stage),[e,r]=_e.useState([]),[n,i]=_e.useState([]),a=_e.useMemo(()=>{const o=new Map,s=t.showValues;return s!=null&&s.length&&s.forEach(c=>{o.set(c.key,c.value)}),o},[t]);return _e.useEffect(()=>{t.showValueList.forEach((o,s)=>{if(o.isShowValueSWitch&&n[s]){const c=a.get(o.showValueName);o.showProgress&&typeof c=="number"&&setTimeout(()=>{const l=document.getElementById(`myRect-${s}`),u=c/(o.maxValue??100)*n[s].width;l==null||l.setAttribute("width",u.toString())},16)}})},[t.showValueList,n]),N.jsx(N.Fragment,{children:t.showValueList.map((o,s)=>{if(o.isShowValueSWitch){const c=e[s]||{width:0,height:0},l=n[s]||{width:0,height:0};return N.jsxs("div",{className:_2.variableNameWrapper,style:{position:"fixed",left:o.showValueAxisX+"px",top:o.showValueAxisY+"px",backgroundColor:o.showProgress?"transparent":"#08c"},children:[!o.showProgress&&(a.get(o.showValueName)||""),o.showProgress&&o.progressBarBgStyle&&N.jsx("img",{src:Ir(o.progressBarBgStyle.image,Ar.ui),alt:"progress",className:_2.progressBarBg,style:c.width?{width:c.width,height:c.height,opacity:1}:void 0,onLoad:u=>{r([...e,{width:Mt(u.currentTarget.naturalWidth),height:Mt(u.currentTarget.naturalHeight)}])}}),o.showProgress&&o.progressBarStyle&&N.jsxs(N.Fragment,{children:[N.jsx("img",{src:Ir(o.progressBarStyle.image,Ar.ui),alt:"progress",className:_2.progressBar,style:l.width?{width:l.width,height:l.height,opacity:1,clipPath:`url(#myClip-${s})`}:void 0,onLoad:u=>{i([...n,{width:Mt(u.currentTarget.naturalWidth),height:Mt(u.currentTarget.naturalHeight)}])}}),N.jsx("svg",{width:"0",height:"0",children:N.jsx("defs",{children:N.jsx("clipPath",{id:`myClip-${s}`,children:N.jsx("rect",{id:`myRect-${s}`,width:"0",height:l.height,style:{fill:"#ffffff"}})})})})]})]},o.showValueName+s.toString())}return null})})};function l8(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function Wke(t,e,r){!e.controlsVisibility&&l8(t)&&r(It({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!l8(t)&&r(It({component:"controlsVisibility",visibility:!1}))}function Yke(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let y2=null;function qke(t,e,r,n){Yke(e,r)?(y2&&clearTimeout(y2),n(It({component:"controlsVisibility",visibility:!0})),y2=setTimeout(()=>{n(It({component:"controlsVisibility",visibility:!1}))},1e3)):Wke(t,r,n)}const Kke=()=>{const t=xt(n=>n.stage),e=xt(n=>n.GUI),r=an();return aRe(),N.jsxs("div",{className:g2.MainStage_main,children:[N.jsx(xke,{}),N.jsx(Uke,{}),N.jsx("div",{id:"pixiContianer",className:g2.pixiContainer,style:{zIndex:rk?"-5":void 0}}),N.jsx("div",{id:"chooseContainer",className:g2.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&N.jsx(gke,{}),e.showTextBox&&t.enableFilm!==""&&N.jsx(Oke,{}),N.jsx(yke,{}),N.jsx("div",{onClick:()=>{if(!e.showTextBox){r(It({component:"showTextBox",visibility:!0}));return}ek(),ti()},onDoubleClick:()=>{J.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&qke(n,t,e,r)}),N.jsx(Gke,{}),N.jsx(zke,{})]})},Zke=()=>{const t=Pu("gaming."),{i18n:e}=rb(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=ri();e.language;const a=xt(u=>u.GUI),o=xt(u=>u.stage),s=an(),c=(u,f)=>{s(It({component:u,visibility:f}))},l=xt(u=>u.saveData.saveData);if(t("noSaving"),l[0]){const u=l[0];_i.slPreviewMain,_i.imgContainer,u.previewImage,_i.textContainer,u.nowStageState.showName,u.nowStageState.showText}return N.jsx(N.Fragment,{children:a.showTextBox&&o.enableFilm===""&&N.jsxs("div",{className:_i.main,style:{visibility:a.controlsVisibility?"visible":"hidden"},children:[N.jsx("span",{id:"Button_ControlPanel_auto",className:`${_i.singleButton} ${_i.singleButton_auto}`,title:"",onClick:()=>{EH(),n()},onMouseEnter:r,children:N.jsx("span",{className:_i.autoIcon})}),N.jsx("span",{id:"Button_ControlPanel_fast",className:`${_i.singleButton} ${_i.singleButton_fast}`,title:"",onClick:()=>{AH(),n()},onMouseEnter:r,children:N.jsx("span",{className:_i.fastIcon})}),N.jsx("span",{className:_i.singleButton,title:"",onClick:()=>{J.gameplay.isAuto&&J1(),c("showBacklog",!0),c("showTextBox",!1),n()},onMouseEnter:r,children:N.jsx("span",{className:_i.historyIcon})})]})})},Jke=()=>{var h,p;Pu("gaming.");const{playSeEnter:t,playSeClick:e}=ri(),r=xt(d=>d.GUI),n=an(),[i,a]=_e.useState(!1),[o,s]=_e.useState(!1);let c=_e.useRef();const[l,u]=_e.useState(""),f=_e.useMemo(()=>{let d=[];for(let v=0;v<J.backlogManager.getBacklog().length;v++){const m=J.backlogManager.getBacklog()[v],g=GH(m.currentStageState.showText,3,!0),x=Qke(g).map((w,E)=>N.jsx("div",{children:w.map((C,T)=>C==="<br />"?N.jsx("br",{},`br${T}`):C)},`backlog-line-${E}`)),b=N.jsxs("div",{className:Yi.backlog_item,style:{animationDelay:`${20*(J.backlogManager.getBacklog().length-v)}ms`},children:[N.jsxs("div",{className:Yi.backlog_content_container,children:[N.jsxs("div",{className:Yi.backlog_func_area,children:[N.jsx("div",{className:Yi.backlog_item_content_name,children:m.currentStageState.showName&&`${m.currentStageState.showName}`||""}),m.currentStageState.vocal?N.jsx("div",{onClick:w=>{e(),w.preventDefault(),w.stopPropagation();const E=document.getElementById("backlog_audio_play_element_"+v);if(E){E.currentTime=0;const C=pe.getState().userData,T=C.optionData.volumeMain;E.volume=T*.01*C.optionData.vocalVolume*.01,Op(m.currentStageState.vocal).then(()=>{u(l),E.load(),E&&(E.onloadeddata=()=>{E.play()})})}},onMouseEnter:t,className:Yi.backlog_item_button_element,children:N.jsx("span",{className:Yi.sound_icon})}):null]}),N.jsx("div",{className:Yi.backlog_item_content,onClick:w=>{e(),$Te(v),w.preventDefault(),w.stopPropagation()},children:N.jsx("span",{className:Yi.backlog_item_content_text,children:x})})]}),N.jsx("audio",{id:"backlog_audio_play_element_"+v,src:l})]},"backlogItem"+m.currentStageState.showText+m.saveScene.currentSentenceId);d.unshift(b)}return d},[((p=(h=J.backlogManager.getBacklog()[J.backlogManager.getBacklog().length-1])==null?void 0:h.saveScene)==null?void 0:p.currentSentenceId)??0]);return _e.useEffect(()=>{r.showBacklog?(c.current&&clearTimeout(c.current),a(!1),s(!0),setTimeout(()=>{s(!1)},0)):c.current=setTimeout(()=>{a(!0),c.current=void 0},700+80)},[r.showBacklog]),N.jsx(N.Fragment,{children:N.jsxs("div",{className:`
          ${r.showBacklog?Yi.Backlog_main:Yi.Backlog_main_out}
          ${i?Yi.Backlog_main_out_IndexHide:""}
          `,children:[N.jsx("div",{className:Yi.backlog_title,onClick:()=>{it.info("Rua! Testing")},children:N.jsx("div",{className:Yi.backlog_top_icon,onClick:()=>{e(),n(It({component:"showBacklog",visibility:!1})),n(It({component:"showTextBox",visibility:!0}))},onMouseEnter:t})}),r.showBacklog&&N.jsx("div",{className:`${Yi.backlog_content} ${o?Yi.Backlog_main_DisableScroll:""}`,children:f})]})})};function Qke(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const e3e="_extra_2e79r_2",t3e="_extraTop_2e79r_12",r3e="_backIcon_2e79r_24",n3e="_mainContainer_2e79r_46",i3e="_mainTab_2e79r_53",a3e="_mainTab_bgm_2e79r_61",o3e="_mainTab_unselect_bgm_2e79r_70",s3e="_mainTab_cg_2e79r_79",l3e="_mainTab_unselect_cg_2e79r_88",u3e="_bgmContainer_2e79r_97",c3e="_bgmListContainer_2e79r_103",f3e="_bgmElement_2e79r_111",h3e="_bgmName_2e79r_122",d3e="_bgm_item_name_2e79r_132",p3e="_bgm_sound_wrapper_2e79r_140",v3e="_bgm_sound_unselect_2e79r_148",g3e="_bgm_sound_select_2e79r_153",m3e="_bgmLocked_2e79r_158",_3e="_bgmUnlocked_2e79r_162",y3e="_footer_2e79r_171",x3e="_footer_page_container_2e79r_181",b3e="_footer_page_indicator_2e79r_186",w3e="_footer_page_icon_checked_2e79r_194",E3e="_footer_page_icon_unchecked_2e79r_199",S3e="_cgMain_2e79r_212",C3e="_cgContainer_2e79r_217",T3e="_cgElement_2e79r_225",A3e="_cgUnLockElement_2e79r_232",I3e="_unlockedCGImg_2e79r_237",R3e="_cgShowDiv_2e79r_244",P3e="_cgShowDivWarpper_2e79r_253",O3e="_cgNav_2e79r_262",k3e="_cgNav_active_2e79r_281",F3e="_showFullContainer_2e79r_291",N3e="_showFullCgMain_2e79r_304",L3e="_fullCgIn_2e79r_1",M3e="_Btn_2e79r_325",B3e="_Btn_r_2e79r_339",D3e="_extra_icon_softin_2e79r_1",U3e="_bgmElement_In_2e79r_1",Dt={extra:e3e,extraTop:t3e,backIcon:r3e,mainContainer:n3e,mainTab:i3e,mainTab_bgm:a3e,mainTab_unselect_bgm:o3e,mainTab_cg:s3e,mainTab_unselect_cg:l3e,bgmContainer:u3e,bgmListContainer:c3e,bgmElement:f3e,bgmName:h3e,bgm_item_name:d3e,bgm_sound_wrapper:p3e,bgm_sound_unselect:v3e,bgm_sound_select:g3e,bgmLocked:m3e,bgmUnlocked:_3e,footer:y3e,footer_page_container:x3e,footer_page_indicator:b3e,footer_page_icon_checked:w3e,footer_page_icon_unchecked:E3e,cgMain:S3e,cgContainer:C3e,cgElement:T3e,cgUnLockElement:A3e,unlockedCGImg:I3e,cgShowDiv:R3e,cgShowDivWarpper:P3e,cgNav:O3e,cgNav_active:k3e,showFullContainer:F3e,showFullCgMain:N3e,fullCgIn:L3e,Btn:M3e,Btn_r:B3e,extra_icon_softin:D3e,bgmElement_In:U3e},j3e=""+new URL("sound-icon.png",import.meta.url).href,$3e=""+new URL("sound-choose.png",import.meta.url).href,G3e=""+new URL("bgm-locked-bg.png",import.meta.url).href,V3e=""+new URL("bgm-unlock-bg.png",import.meta.url).href,VH=""+new URL("point-active.png",import.meta.url).href,HH=""+new URL("point-default.png",import.meta.url).href;function H3e(){const{playSeClick:t,playSeEnter:e}=ri(),[r,n]=_e.useState(1),[i,a]=_e.useState([]),o=xt(d=>d.GUI.titleBgm),s=xt(d=>d.userData.appreciationData),c="Title_BGM";let l=c;const u=s.bgm.length;s.bgm.forEach((d,v)=>{d.url===o&&(l=d.name)});const f=Math.ceil(u/8)||1,h=Ru("");l!==c&&l!==h.value&&h.set(l);const p=an();return _e.useEffect(()=>{a(s.bgm.slice((r-1)*8,r*8)||[])},[s.bgm,r]),N.jsxs("div",{className:Dt.bgmContainer,children:[N.jsxs("div",{className:Dt.bgmListContainer,children:[i.map((d,v)=>N.jsxs("div",{onClick:()=>{t(),h.set(d.name),p(WT({asset:"titleBgm",value:d.url}))},className:Dt.bgmElement,onMouseEnter:e,children:[N.jsxs("div",{className:Dt.bgmName,children:[N.jsx("div",{className:Dt.bgm_item_name,children:d.name}),N.jsx("div",{className:Dt.bgm_sound_wrapper,children:N.jsx("img",{src:d.name===h.value?$3e:j3e,alt:"",className:d.name===h.value?Dt.bgm_sound_select:Dt.bgm_sound_unselect})})]}),N.jsx("img",{src:V3e,className:Dt.bgmUnlocked,alt:""})]},d.name)),Array.from({length:8-i.length}).map((d,v)=>N.jsx("div",{className:`${Dt.bgmElement}`,style:{cursor:"default"},children:N.jsx("img",{src:G3e,alt:"",className:Dt.bgmLocked})},v))]}),N.jsxs("div",{className:Dt.footer,children:[N.jsx("div",{className:Dt.Btn,onMouseEnter:e,onClick:()=>{t(),r>1&&n(r-1)}}),N.jsx("div",{className:Dt.footer_page_container,children:Array.from({length:f}).map((d,v)=>N.jsx("div",{className:Dt.footer_page_indicator,onMouseEnter:e,onClick:()=>{t(),n(v+1)},children:N.jsx("img",{src:v+1===r?VH:HH,alt:"",className:v+1===r?Dt.footer_page_icon_checked:Dt.footer_page_icon_unchecked})},v))}),N.jsx("div",{className:`${Dt.Btn} ${Dt.Btn_r}`,onMouseEnter:e,onClick:()=>{t(),r!==f&&n(r+1)}})]})]})}function X3e(t){const e=Ru(!1),{playSeEnter:r,playSeClick:n}=ri();return N.jsxs(N.Fragment,{children:[e.value&&N.jsx("div",{onClick:()=>{e.set(!e.value),n()},className:Dt.showFullContainer,onMouseEnter:r,children:N.jsx("div",{className:Dt.showFullCgMain,children:N.jsx("div",{style:{backgroundImage:`url('${t.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),N.jsx("div",{onClick:()=>{e.set(!e.value),n()},onMouseEnter:r,className:`${Dt.cgElement} ${Dt.cgUnLockElement}`,children:N.jsx("div",{className:Dt.unlockedCGImg,style:{background:`url('${t.imgUrl}') no-repeat center center`,backgroundSize:"cover"}})},t.name)]})}const z3e=""+new URL("cg-lock.png",import.meta.url).href;function W3e(){const t=xt(l=>l.userData.appreciationData),{playSeEnter:e,playSeClick:r}=ri(),[n,i]=_e.useState(1),[a,o]=_e.useState([]),s=t.cg.length,c=Math.ceil(s/6)||1;return _e.useEffect(()=>{o(t.cg.slice((n-1)*6,n*6)||[])},[t.cg,n]),N.jsxs("div",{className:Dt.cgMain,children:[N.jsxs("div",{className:Dt.cgContainer,children:[a.map((l,u)=>N.jsx(X3e,{name:l.name,imgUrl:l.url},u.toString()+l.url)),Array.from({length:6-a.length}).map((l,u)=>N.jsx("div",{className:Dt.cgElement,style:{cursor:"default"},children:N.jsx("img",{src:z3e,alt:"",style:{width:"100%"}})},u))]}),N.jsxs("div",{className:Dt.footer,children:[N.jsx("div",{className:Dt.Btn,onMouseEnter:e,onClick:()=>{r(),n>1&&i(n-1)}}),N.jsx("div",{className:Dt.footer_page_container,children:Array.from({length:c}).map((l,u)=>N.jsx("div",{className:Dt.footer_page_indicator,onMouseEnter:e,onClick:()=>{r(),i(u+1)},children:N.jsx("img",{src:u+1===n?VH:HH,alt:"",className:u+1===n?Dt.footer_page_icon_checked:Dt.footer_page_icon_unchecked})},u))}),N.jsx("div",{className:`${Dt.Btn} ${Dt.Btn_r}`,onMouseEnter:e,onClick:()=>{r(),n!==c&&i(n+1)}})]})]})}const Y3e=""+new URL("gallery-bg.webp",import.meta.url).href;function q3e(){const{playSeClick:t,playSeEnter:e}=ri(),r=xt(c=>c.GUI.showExtra),n=an(),[i,a]=_e.useState("bgm"),o=xt(c=>c.GUI.gameUIConfigs[fa.extra]);_e.useEffect(()=>{document.getElementById("currentBgm").pause()},[]),_e.useEffect(()=>{r&&n(Br.setLoadVideo(!0))},[r]);const s=()=>{t(),n(It({component:"showExtra",visibility:!1})),n(Br.setLoadVideo(!1))};return N.jsx(N.Fragment,{children:r&&N.jsxs("div",{className:Dt.extra,style:{background:`url(${Y3e}) no-repeat center center`,backgroundSize:"cover"},children:[N.jsx(qo,{item:o.buttons.Extra_back_button,defaultClass:Dt.backIcon,onClick:s,onMouseEnter:e}),N.jsx(qo,{item:o.other[Y1.Extra_title],defaultClass:Dt.extraTop}),N.jsx("div",{className:Dt.extraTop,children:N.jsx("div",{className:Dt.backIcon,onClick:()=>{n(It({component:"showExtra",visibility:!1})),t()},onMouseEnter:e})}),N.jsxs("div",{className:Dt.mainContainer,children:[N.jsxs("div",{className:Dt.mainTab,children:[i==="bgm"?N.jsx("span",{className:Dt.mainTab_bgm}):N.jsx("span",{className:Dt.mainTab_unselect_bgm,onClick:()=>{a("bgm"),t()},onMouseEnter:e}),i==="cg"?N.jsx("span",{className:Dt.mainTab_cg}):N.jsx("span",{className:Dt.mainTab_unselect_cg,onClick:()=>{a("cg"),t()},onMouseEnter:e})]}),i==="bgm"?N.jsx(H3e,{}):N.jsx(W3e,{})]})]})})}const K3e="_tag_yghix_2",Z3e="_container_yghix_17",J3e="_showContainer_yghix_1",Q3e="_singleButton_yghix_33",e4e="_button_text_yghix_37",gi={tag:K3e,container:Z3e,showContainer:J3e,singleButton:Q3e,button_text:e4e},t4e=()=>{const t=Ru(!1),e=xt(a=>a.stage),r=an(),n=(a,o)=>{r(It({component:a,visibility:o}))},i=a=>{r($c(a))};return N.jsx(N.Fragment,{children:e.enableFilm!==""&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:gi.tag,onClick:()=>{t.set(!t.value)},children:N.jsx(ePe,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&N.jsxs("div",{className:gi.container,children:[N.jsx("span",{className:gi.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:N.jsx("span",{className:gi.button_text,children:" / BACKLOG"})}),N.jsx("span",{className:gi.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:N.jsx("span",{className:gi.button_text,children:" / REPLAY VOICE"})}),N.jsx("span",{id:"Button_ControlPanel_auto",className:gi.singleButton,onClick:()=>{EH(),t.set(!t.value)},children:N.jsx("span",{className:gi.button_text,children:" / AUTO"})}),N.jsx("span",{id:"Button_ControlPanel_fast",className:gi.singleButton,onClick:()=>{AH(),t.set(!t.value)},children:N.jsx("span",{className:gi.button_text,children:" / FAST"})}),N.jsx("span",{className:gi.singleButton,onClick:()=>{t.set(!t.value),i(Ur.Save),n("showMenuPanel",!0)},children:N.jsx("span",{className:gi.button_text,children:" / SAVE"})}),N.jsx("span",{className:gi.singleButton,onClick:()=>{t.set(!t.value),i(Ur.Load),n("showMenuPanel",!0)},children:N.jsx("span",{className:gi.button_text,children:" / LOAD"})}),N.jsx("span",{className:gi.singleButton,onClick:()=>{t.set(!t.value),i(Ur.Option),n("showMenuPanel",!0)},children:N.jsx("span",{className:gi.button_text,children:" / OPTIONS"})}),N.jsx("span",{className:gi.singleButton,onClick:()=>{t.set(!t.value),lg()},children:N.jsx("span",{className:gi.button_text,children:" / TITLE"})})]})]})})},r4e="_devPanelMain_11x6i_1",n4e="_devPanelOpener_11x6i_13",u8={devPanelMain:r4e,devPanelOpener:n4e};function i4e(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function a4e(){function t(){return!!window.location.hash.match(/dev/)}const e=Ru(!1),r=Ru(window.location.hash),n=xt(c=>c.stage);_e.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=rb(),s=N.jsxs(N.Fragment,{children:[N.jsx("div",{onClick:()=>i4e(),children:"Save PIXI Screenshot"}),N.jsxs("div",{children:["Current Language:",o.language]}),N.jsx("div",{onClick:()=>{var c;return(c=J.gameplay.pixiStage)==null?void 0:c.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),N.jsx("div",{children:"Stage State"}),N.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return N.jsxs(N.Fragment,{children:[i&&e.value&&N.jsxs("div",{className:u8.devPanelMain,children:[N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),N.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),N.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&N.jsx("div",{onClick:()=>e.set(!0),className:u8.devPanelOpener,children:"Open Dev Panel"})]})}function o4e(t){return Pd[t]}function s4e(){const{i18n:t}=rb(),e=Vd(n=>n.userData),r=an();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??Pd.zhCn,o=o4e(a);t.changeLanguage(o),r(Lo({key:"language",value:a})),it.info(": "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&Fi()}}const l4e="_trans_8uz61_2",u4e="_langWrapper_8uz61_10",c4e="_lang_8uz61_10",f4e="_langSelect_8uz61_29",h4e="_langSelectButton_8uz61_35",U0={trans:l4e,langWrapper:u4e,lang:c4e,langSelect:f4e,langSelectButton:h4e};function d4e(){const t=s4e(),[e,r]=_e.useState(!1);_e.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))||"0"?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return N.jsx(N.Fragment,{children:e&&N.jsx("div",{className:U0.trans,children:N.jsxs("div",{className:U0.langWrapper,children:[N.jsx("div",{className:U0.lang,children:"LANGUAGE SELECT"}),N.jsx("div",{className:U0.langSelect,children:Object.keys(DM).map(i=>N.jsx("div",{className:U0.langSelectButton,onClick:()=>n(Pd[i]),children:DM[i]},i))})]})})})}const p4e=()=>{const t=xt(n=>n.GUI),[e,r]=_e.useState(!1);return _e.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),null};function v4e(){const t=xt(i=>i.userData),e=xt(i=>i.GUI);an();const r=t.optionData.fullScreen,n=e.isEnterGame;_e.useEffect(()=>{switch(r){case Ss.on:{n&&(document.documentElement.requestFullscreen(),xh&&xh.lock(["Escape","F11"]));break}case Ss.off:{document.fullscreenElement&&(document.exitFullscreen(),xh&&xh.unlock());break}}},[r])}const g4e="_gameMenuPanelWrapper_1bdvx_1",m4e="_gameMenuPanel_1bdvx_1",_4e="_menuButton_1bdvx_12",y4e="_gameMenuPanelContentWrapper_1bdvx_26",x4e="_mask_1bdvx_34",b4e="_gameMenuPanelContent_1bdvx_26",w4e="_buttonswrapper_1bdvx_54",E4e="_button_1bdvx_54",To={gameMenuPanelWrapper:g4e,gameMenuPanel:m4e,menuButton:_4e,gameMenuPanelContentWrapper:y4e,mask:x4e,gameMenuPanelContent:b4e,buttonswrapper:w4e,button:E4e},S4e=()=>{const t=Pu("gaming."),{playSeEnter:e,playSeClick:r,playSeDialogOpen:n}=ri(),i=xt(m=>m.GUI),[a,o]=_e.useState(!1);_e.useEffect(()=>{o(i.isShowGameMenu)},[i.isShowGameMenu]);const s=an(),c=(m,g)=>{s(It({component:m,visibility:g}))},l=m=>{s($c(m))},u=()=>{r(),c("isShowGameMenu",!0)},f=()=>{r(),c("isShowGameMenu",!1)},h=()=>{r(),l(Ur.Save),c("isShowGameMenu",!1),c("showMenuPanel",!0)},p=()=>{l(Ur.Load),c("isShowGameMenu",!1),c("showMenuPanel",!0),r()},d=()=>{l(Ur.Option),c("isShowGameMenu",!1),c("showMenuPanel",!0),r()},v=()=>{n(),Yo({title:t("buttons.quitTips"),leftText:t("$common.cancel"),rightText:t("$common.confirm"),leftFunc:()=>{},rightFunc:()=>{c("isShowGameMenu",!1),lg()}})};return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:To.gameMenuPanel,children:N.jsx("div",{className:To.menuButton,onClick:u,onMouseEnter:e})}),a&&N.jsxs("div",{className:To.gameMenuPanelContentWrapper,children:[N.jsx("div",{className:To.mask}),N.jsx("div",{className:To.gameMenuPanelContent,children:N.jsxs("div",{className:To.buttonswrapper,children:[N.jsx("span",{className:To.button,onMouseEnter:e,onClick:f,children:t("buttons.backToGame")}),N.jsx("span",{className:To.button,onMouseEnter:e,onClick:h,children:t("buttons.preserve")}),N.jsx("span",{className:To.button,onMouseEnter:e,onClick:p,children:t("buttons.read")}),N.jsx("span",{className:To.button,onMouseEnter:e,onClick:d,children:t("buttons.setting")}),N.jsx("span",{className:To.button,onMouseEnter:e,onClick:v,children:t("buttons.backToTitle")})]})})]})]})},C4e="_Loading_container_jqbjc_2",T4e="_spin_jqbjc_1",A4e={Loading_container:C4e,spin:T4e};function I4e(){const[t,e]=_e.useState(!1);return _e.useEffect(()=>window.pubsub.subscribe("loading",({loading:n})=>{e(n)}),[]),t?N.jsx("div",{className:A4e.Loading_container,children:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"116",height:"116",viewBox:"0 0 116 116",fill:"none",children:[N.jsxs("g",{filter:"url(#filter0_f_44_50)",children:[N.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"})]}),N.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),N.jsx("defs",{children:N.jsxs("filter",{id:"filter0_f_44_50",x:"0.5",y:"0.5",width:"115",height:"115",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[N.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),N.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),N.jsx("feGaussianBlur",{stdDeviation:"15",result:"effect1_foregroundBlur_44_50"})]})})]})}):null}const R4e="_storyLine_1jymd_2",P4e="_goBack_1jymd_12",O4e="_storyLine_content_1jymd_30",k4e="_storyLine_item_1jymd_38",F4e="_info_card_1jymd_47",N4e="_playButton_icon_1jymd_66",L4e="_name_1jymd_83",rc={storyLine:R4e,goBack:P4e,storyLine_content:O4e,storyLine_item:k4e,info_card:F4e,playButton_icon:N4e,name:L4e},M4e=()=>{const{playSeClick:t,playSeEnter:e}=ri(),r=an(),n=xt(u=>u.GUI),i=xt(u=>u.stage),a=xt(u=>u.saveData.allStorylineData),o=xt(u=>u.GUI.gameUIConfigs[fa.storyline]);_e.useEffect(()=>{kO(),n.showStoryLine&&r(Br.setShowStoryline(!1))},[n.showStoryLine]);const s=()=>{t(),lg(),r(YT(!1))},c=(u,f)=>{u.stopPropagation(),r(YT(!1)),r(Br.setIsShowUnlock(!0)),KO(f.videoData)};function l(u){return Ir(u,Ar.ui)}return N.jsx(N.Fragment,{children:n.showStoryLine&&N.jsxs("div",{className:rc.storyLine,id:"camera",children:[N.jsx(qo,{item:o.buttons.Storyline_back_button,defaultClass:rc.goBack,onClick:s,onMouseEnter:e}),N.jsx("div",{className:rc.storyLine_content,style:{width:Mt(i.storyLineBgX),height:i.storyLineBgY>720?Mt(i.storyLineBgY):"100%",backgroundImage:`url("${i.storyLineBg}")`,backgroundSize:i.storyLineBgX&&i.storyLineBgY&&`${Mt(i.storyLineBgX)}px ${Mt(i.storyLineBgY)}px`},children:(a==null?void 0:a.map((u,f)=>{const{name:h,thumbnailUrl:p,x:d,y:v,isUnlock:m,isHideName:g}=u.storyLine;return m?N.jsx("div",{className:rc.storyLine_item,style:p?{top:`${Mt(v)}px`,left:`${Mt(d)}px`,backgroundImage:`url("${l(p)}")`}:{},onClick:_=>c(_,u),children:N.jsxs("div",{className:rc.info_card,children:[N.jsx("span",{className:rc.playButton_icon,style:{width:g?"100%":"50%"}}),g?null:N.jsx("span",{className:rc.name,children:h})]})},`storyLine-${f}`):null}))??null})]})})},B4e="_achievement_187u5_1",D4e="_goback_187u5_13",U4e="_achievement_content_187u5_31",j4e="_achievement_current_187u5_38",$4e="_text_187u5_51",G4e="_number_187u5_56",V4e="_pregessBar_187u5_61",H4e="_pregressBar_inner_187u5_70",X4e="_achievement_content_bg_187u5_79",z4e="_achievement_list_187u5_87",W4e="_achievement_item_187u5_91",Y4e="_unlockname_187u5_104",q4e="_ripple_187u5_121",K4e="_info_card_187u5_124",Z4e="_condition_187u5_156",J4e="_condition_bg_active_187u5_165",Q4e="_time_187u5_168",eFe="_description_187u5_169",tFe="_info_card_position_right_187u5_174",rFe="_achievement_item_bg_active_187u5_178",Wn={achievement:B4e,goback:D4e,achievement_content:U4e,achievement_current:j4e,text:$4e,number:G4e,pregessBar:V4e,pregressBar_inner:H4e,achievement_content_bg:X4e,achievement_list:z4e,achievement_item:W4e,unlockname:Y4e,ripple:q4e,"ripple-effect":"_ripple-effect_187u5_1",info_card:K4e,condition:Z4e,condition_bg_active:J4e,time:Q4e,description:eFe,info_card_position_right:tFe,achievement_item_bg_active:rFe},nFe={achieveBg:"",achieveBgX:1280,achieveBgY:720},iFe=()=>{var I,R;const{playSeClick:t,playSeEnter:e}=ri(),r=xt(O=>O.GUI);xt(O=>O.stage);const n=xt(O=>O.saveData),i=an(),[a,o]=_e.useState(null),[s,c]=_e.useState(null),[l,u]=_e.useState(null),[f,h]=_e.useState(null),[p,d]=_e.useState(nFe),[v,m]=_e.useState({unlocked:0,allTotal:0,currentProgress:"0%"}),g=xt(O=>O.GUI.gameUIConfigs[fa.achievement]);_e.useEffect(()=>{r.showAchievement&&(r.achievementUI.Achievement_progress_text&&o(r.achievementUI.Achievement_progress_text),r.achievementUI.Achievement_progress_bg&&c(r.achievementUI.Achievement_progress_bg),r.achievementUI.Achievement_progress&&u(r.achievementUI.Achievement_progress),r.achievementUI.Achievement_notUnlock&&h(r.achievementUI.Achievement_notUnlock),pe.dispatch(Br.setIsShowUnlock(!1)),_())},[r.showAchievement]);async function _(){var B,U,z,ee;const O=Ir(rf.Achieve,Ar.scene),P=await Ka(O),L=av(P,rf.Achieve,O).sentenceList;if((L==null?void 0:L.length)>0&&((B=L[0])==null?void 0:B.commandRaw)==="changeBg"){const ne=((U=L[0])==null?void 0:U.content)??"";let W=1280,D=720;(ee=(z=L[0])==null?void 0:z.args)==null||ee.forEach(H=>{(H==null?void 0:H.key)==="x"?W=Number(H==null?void 0:H.value):(H==null?void 0:H.key)==="y"&&(D=Number(H==null?void 0:H.value))}),d({achieveBg:ne,achieveBgX:W,achieveBgY:D})}setTimeout(()=>{x()},100)}async function x(){var B;const O=pe.getState().saveData.allUnlockAchieveList,P=((B=pe.getState().saveData.unlockAchieveData)==null?void 0:B.length)??0,k=O.length||0,L=(P/k*100).toFixed(2)+"%";m({unlocked:P,allTotal:k,currentProgress:L})}const b=O=>Ir(O,Ar.ui),w=(O,P)=>O+500>=P,E=(O,P)=>O>=P?P-100:O,C=()=>{t(),lg(),i(It({component:"showAchievement",visibility:!1}))},T=()=>{var ne,W,D,H,G,V,ie,se,ge,ue,we,Be,Fe,Ee,Te,Ge,We,Ve,Xe,qe,wt,At,ct,ft,Et,Qt,Vt,er,$t,yt,Yt,Oe,j,he,Se,ke,ae;const O=(ne=a==null?void 0:a.args)!=null&&ne.hide?"":(a==null?void 0:a.content)??"",P=s!=null&&s.content?Ir(s==null?void 0:s.content,Ar.background):"",k=(D=(W=l==null?void 0:l.args)==null?void 0:W.style)!=null&&D.image?Ir(l.args.style.image,Ar.ui):"",L=(G=(H=l==null?void 0:l.args)==null?void 0:H.hoverStyle)!=null&&G.image?Ir(l==null?void 0:l.args.hoverStyle.image,Ar.ui):"",B=!((V=s==null?void 0:s.args)!=null&&V.hide)&&P?{...(ie=s==null?void 0:s.args)==null?void 0:ie.style,backgroundImage:`url(${P})`,transform:((se=s==null?void 0:s.args.style)==null?void 0:se.scale)&&`scale(${(ge=s==null?void 0:s.args.style)==null?void 0:ge.scale})`,width:((ue=s==null?void 0:s.args.style)==null?void 0:ue.width)&&`${Mt((we=s==null?void 0:s.args.style)==null?void 0:we.width)}px`,height:((Be=s==null?void 0:s.args.style)==null?void 0:Be.height)&&`${Mt((Fe=s==null?void 0:s.args.style)==null?void 0:Fe.height)}px`}:{},U=(Ee=a==null?void 0:a.args)!=null&&Ee.hide?{}:{...(Te=a==null?void 0:a.args)==null?void 0:Te.style,color:(We=(Ge=a==null?void 0:a.args)==null?void 0:Ge.style)==null?void 0:We.fontColor,transform:(Ve=a==null?void 0:a.args.style)!=null&&Ve.scale?`scale(${a.args.style.scale})`:""},z=(Xe=l==null?void 0:l.args)!=null&&Xe.hide?{}:{backgroundImage:`url(${k})`,transform:(wt=(qe=l==null?void 0:l.args)==null?void 0:qe.style)!=null&&wt.scale?`scale(${l.args.style.scale})`:void 0,width:(ct=(At=l==null?void 0:l.args)==null?void 0:At.style)!=null&&ct.width?`${Mt(l.args.style.width)}px`:void 0,height:(Et=(ft=l==null?void 0:l.args)==null?void 0:ft.style)!=null&&Et.height?`${Mt(l.args.style.height)}px`:void 0,top:(Vt=(Qt=l==null?void 0:l.args)==null?void 0:Qt.style)!=null&&Vt.y?`${Mt(l.args.style.y)}px`:void 0,left:($t=(er=l==null?void 0:l.args)==null?void 0:er.style)!=null&&$t.x?`${Mt(l.args.style.x)}px`:void 0},ee=(yt=l==null?void 0:l.args)!=null&&yt.hide?{}:{backgroundImage:`url(${L})`,transform:(Oe=(Yt=l==null?void 0:l.args)==null?void 0:Yt.hoverStyle)!=null&&Oe.scale?`scale(${(j=l.args.hoverStyle)==null?void 0:j.scale})`:void 0,width:(Se=(he=l==null?void 0:l.args)==null?void 0:he.hoverStyle)!=null&&Se.width?`${Mt(l.args.hoverStyle.width)}px`:void 0,height:(ae=(ke=l==null?void 0:l.args)==null?void 0:ke.hoverStyle)!=null&&ae.height?`${Mt(l.args.hoverStyle.height)}px`:void 0};return N.jsx("div",{className:Wn.achievement_content,children:N.jsxs("div",{className:Wn.achievement_current,style:B||{},children:[N.jsx("span",{className:Wn.text,style:U||{},children:O}),N.jsx("span",{className:Wn.number,style:U||{},children:`${v.unlocked}/${v.allTotal}`}),N.jsx("span",{className:Wn.pregessBar,style:z||{},children:N.jsx("span",{className:Wn.pregressBar_inner,style:{...ee,width:v.currentProgress}})})]})})};return N.jsx(N.Fragment,{children:r.showAchievement&&N.jsxs("div",{className:Wn.achievement,id:"camera",children:[N.jsx(qo,{item:g.buttons.Achievement_back_button,defaultClass:Wn.goback,onClick:C,onMouseEnter:e}),T(),N.jsx("div",{className:Wn.achievement_content_bg,style:{width:p!=null&&p.achieveBgX?Mt(p.achieveBgX):"100%",height:(p==null?void 0:p.achieveBgY)>720?Mt(p.achieveBgY):"100%",backgroundImage:`url("${p==null?void 0:p.achieveBg}")`,backgroundSize:(p==null?void 0:p.achieveBgX)&&(p==null?void 0:p.achieveBgY)&&`${Mt(p.achieveBgX)}px ${Mt(p.achieveBgY)}px`},children:((I=n.allUnlockAchieveList)==null?void 0:I.length)>0&&N.jsx("div",{className:Wn.achievement_list,children:((R=n.allUnlockAchieveList)==null?void 0:R.map(({unlockname:O,x:P,y:k,url:L,isShowUnlock:B,saveTime:U,condition:z},ee)=>{var W,D,H,G,V,ie,se,ge;const ne=f!=null&&f.args.hide?{}:{width:(D=(W=f==null?void 0:f.args)==null?void 0:W.style)!=null&&D.width?`${Mt(f.args.style.width)}px`:void 0,height:(G=(H=f==null?void 0:f.args)==null?void 0:H.style)!=null&&G.height?`${Mt(f.args.style.height)}px`:void 0};return N.jsxs("div",{className:`${Wn.achievement_item} ${B?Wn.achievement_item_bg_active:""}`,style:{top:`${Mt(k)}px`,left:`${E(Mt(P),Mt((p==null?void 0:p.achieveBgX)??""))}px`,backgroundImage:`url("${b(B?L:!(f!=null&&f.args.hide)&&((ie=(V=f==null?void 0:f.args)==null?void 0:V.style)!=null&&ie.image)?(ge=(se=f==null?void 0:f.args)==null?void 0:se.style)==null?void 0:ge.image:"")}")`,...ne},children:[B&&N.jsx("div",{className:Wn.ripple}),B&&N.jsx("span",{className:Wn.unlockname,children:O}),N.jsxs("div",{className:`${Wn.info_card} ${w(Mt(P),Mt((p==null?void 0:p.achieveBgX)??0))?Wn.info_card_position_right:""}`,children:[z&&N.jsx("span",{className:`${Wn.condition} ${B?Wn.condition_bg_active:""}`,children:z}),U&&N.jsx("span",{className:Wn.time,children:`${U}`}),N.jsxs("span",{className:Wn.description,children:[`${Math.floor(Math.random()*101)}%`,""]})]})]},`unlockAchieveItem-${ee}`)}))??null})})]})})};var ak=(t=>(t.Video="video",t.Image="image",t))(ak||{});const aFe="_beautyGuideImageDialog_qmqz2_1",oFe="_mark_qmqz2_10",sFe="_content_qmqz2_21",lFe="_content_bg_qmqz2_33",uFe="_imgWrapper_qmqz2_44",cFe="_fade_qmqz2_1",fFe="_btnsWrapper_qmqz2_56",hFe="_btn_qmqz2_56",dFe="_btn_prev_disabled_qmqz2_74",pFe="_btn_next_disabled_qmqz2_75",vFe="_btn_txt_qmqz2_82",so={beautyGuideImageDialog:aFe,mark:oFe,content:sFe,content_bg:lFe,imgWrapper:uFe,fade:cFe,btnsWrapper:fFe,btn:hFe,btn_prev_disabled:dFe,btn_next_disabled:pFe,btn_txt:vFe},gFe=t=>{var d,v,m;const e=an(),{playSeClick:r,playSeEnter:n}=ri(),[i,a]=_e.useState((t==null?void 0:t.imgUrl)??""),[o,s]=_e.useState(0),[c,l]=_e.useState({}),u=xt(g=>g.GUI.gameUIConfigs[fa.collection]);_e.useEffect(()=>{var g,_,x;if(((g=t.imgList)==null?void 0:g.length)>0){const b=t.imgList.findIndex(w=>w.url===t.imgUrl);b>-1&&s(b)}if(t.show){const b=Jc((x=(_=u==null?void 0:u.other[gs.Collection_detail_dialog_bg])==null?void 0:_.args)==null?void 0:x.style);l(b)}},[t.imgList,t.show]);const f=()=>{r(),e(It({component:"showBeautyGuideImageDialog",visibility:!1}))},h=()=>{r();const g=o-1;g<0||(s(g),a(t.imgList[g].url))},p=()=>{r();const g=o+1;g>t.imgList.length-1||(s(g),a(t.imgList[g].url))};return N.jsxs("div",{className:so.beautyGuideImageDialog,children:[N.jsx("div",{className:so.mark,onClick:f}),N.jsxs("div",{className:so.content,style:{width:c==null?void 0:c.width,height:c==null?void 0:c.height},children:[N.jsx(tb,{item:u.other[gs.Collection_detail_dialog_bg],defaultClass:so.content_bg}),N.jsx("div",{className:so.imgWrapper,children:t.imgList&&t.imgList.map((g,_)=>g.type===ak.Image&&_===o?N.jsx("img",{src:g.url,className:so.transitionImage},`img-${_}`):null)}),N.jsxs("div",{className:so.btnsWrapper,children:[N.jsx(qo,{defaultText:"",item:u.buttons.Collection_detail_dialog_prev_button,defaultClass:`${so.btn} 
                            ${o<1?so.btn_prev_disabled:""}`,onClick:h,onMouseEnter:n}),N.jsxs("span",{className:so.btn_txt,style:Jc((v=(d=u==null?void 0:u.other[gs==null?void 0:gs.Collection_detail_dialog_text])==null?void 0:d.args)==null?void 0:v.style)??{},children:[o+1,"/",((m=t.imgList)==null?void 0:m.length)??0,""]}),N.jsx(qo,{defaultText:"",item:u.buttons.Collection_detail_dialog_next_button,defaultClass:`${so.btn} 
                            ${o+1>=t.imgList.length?so.btn_next_disabled:""}`,onClick:p,onMouseEnter:n})]})]})]})},mFe="_beautyGuideDetail_main_1oe4p_1",_Fe="_beautyGuide_detail_bg_1oe4p_15",yFe="_beautyGuideDetail_left_1oe4p_26",xFe="_header_1oe4p_34",bFe="_goback_1oe4p_41",wFe="_title_1oe4p_55",EFe="_pictureUrl_1oe4p_59",SFe="_personal_info_1oe4p_70",CFe="_name_1oe4p_74",TFe="_info_1oe4p_81",AFe="_beautyGuideDetail_right_1oe4p_99",IFe="_contentWrapper_1oe4p_106",RFe="_content_1oe4p_106",PFe="_content_img_1oe4p_119",OFe="_thumbnailWrapper_1oe4p_130",kFe="_thumbnail_box_1oe4p_141",FFe="_video_mark_1oe4p_167",NFe="_desc_text_1oe4p_178",Tn={beautyGuideDetail_main:mFe,beautyGuide_detail_bg:_Fe,beautyGuideDetail_left:yFe,header:xFe,goback:bFe,title:wFe,pictureUrl:EFe,personal_info:SFe,name:CFe,info:TFe,beautyGuideDetail_right:AFe,contentWrapper:IFe,content:RFe,content_img:PFe,thumbnailWrapper:OFe,thumbnail_box:kFe,video_mark:FFe,desc_text:NFe},LFe=t=>{var p,d,v,m,g,_,x,b,w,E;const e=an(),{playSeClick:r,playSeEnter:n}=ri(),i=xt(C=>C.GUI),[a,o]=_e.useState(null),[s,c]=_e.useState(""),l=xt(C=>C.GUI.gameUIConfigs[fa.collection]);_e.useEffect(()=>{var T;const C=t.info;C!=null&&C.contentList&&((T=C==null?void 0:C.contentList)==null?void 0:T.length)>0&&o(C.contentList[0])},[t]);const u=_e.useMemo(()=>{var I;let C=[];const T=t.info;return T!=null&&T.contentList&&((I=T==null?void 0:T.contentList)==null?void 0:I.length)>0&&(C=T.contentList.filter(R=>R.type==="image")),C},[]),f=()=>{r(),e(It({component:"showBeautyGuideDetail",visibility:!1}))},h=C=>{r(),c(C),e(It({component:"showBeautyGuideImageDialog",visibility:!0}))};return N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:Tn.beautyGuideDetail_main,children:[N.jsx(tb,{item:l.other[gs.Collection_detail_bg],defaultClass:Tn.beautyGuide_detail_bg}),N.jsxs("div",{className:Tn.beautyGuideDetail_left,children:[N.jsxs("div",{className:Tn.header,children:[N.jsx(qo,{item:l.buttons.Collection_back_button,defaultClass:Tn.goback,onClick:f,onMouseEnter:n}),N.jsx(qo,{item:l.other.Collection_detail_title,defaultClass:Tn.title})]}),N.jsx("div",{className:Tn.pictureUrl,children:N.jsx("img",{src:(p=t.info)==null?void 0:p.image,alt:""})}),N.jsxs("div",{className:Tn.personal_info,children:[N.jsx("h3",{className:Tn.name,children:((d=t.info)==null?void 0:d.name)??""}),N.jsxs("div",{className:Tn.info,children:[N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:""}),N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:((v=t.info)==null?void 0:v.height)??"-"})]}),N.jsxs("div",{className:Tn.info,children:[N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:""}),N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:((m=t.info)==null?void 0:m.weight)??"-"})]}),N.jsxs("div",{className:Tn.info,children:[N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:""}),N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:((g=t.info)==null?void 0:g.bustSize)??"-"})]}),N.jsxs("div",{className:Tn.info,children:[N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:""}),N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:((_=t.info)==null?void 0:_.waistSize)??"-"})]}),N.jsxs("div",{className:Tn.info,children:[N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:""}),N.jsx("span",{style:(t==null?void 0:t.itemStyle)??{},children:((x=t.info)==null?void 0:x.hipSize)??"-"})]})]})]}),N.jsxs("div",{className:Tn.beautyGuideDetail_right,children:[N.jsxs("div",{className:Tn.contentWrapper,children:[N.jsx("div",{className:Tn.content,children:a&&N.jsxs(N.Fragment,{children:[a.type==="video"&&N.jsx("video",{controls:!0,autoPlay:!0,loop:!0,muted:!0,children:N.jsx("source",{src:a.url,type:"video/mp4"})},a.url),a.type==="image"&&N.jsx("img",{className:Tn.content_img,src:a.url,onClick:()=>{h(a.url)}})]})}),N.jsx("div",{className:Tn.thumbnailWrapper,children:N.jsx("div",{children:((w=(b=t.info)==null?void 0:b.contentList)==null?void 0:w.map((C,T)=>N.jsxs("div",{className:Tn.thumbnail_box,onClick:()=>{o(C)},children:[N.jsx("img",{src:C.url,alt:""}),C.type===ak.Video&&N.jsx("div",{className:Tn.video_mark,children:N.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4276",width:"48",height:"48",children:N.jsx("path",{fill:"#e6e6e6",d:"M315.453793 986.509241Q405.963034 1024 512 1024t196.546207-37.490759q90.509241-37.490759 165.490759-112.463448 74.981517-74.990345 112.472275-165.499586Q1024 618.036966 1024 512t-37.490759-196.546207q-37.490759-90.509241-112.463448-165.490759-74.990345-74.981517-165.499586-112.472275Q618.036966 0 512 0T315.453793 37.490759q-90.509241 37.490759-165.490759 112.463448-74.981517 74.990345-112.472275 165.499586Q0 405.963034 0 512t37.490759 196.546207q37.490759 90.518069 112.463448 165.490759 74.981517 74.981517 165.490759 112.472275z m365.982897-65.447724Q603.409655 953.37931 512 953.37931q-91.409655 0-169.43669-32.317793-78.035862-32.317793-142.66262-96.962207-64.644414-64.635586-96.962207-142.653793Q70.62069 603.400828 70.62069 512t32.317793-169.43669q32.317793-78.027034 96.962207-142.66262 64.635586-64.635586 142.653793-96.962207Q420.599172 70.62069 512 70.62069t169.43669 32.308965v0.008828q78.027034 32.317793 142.66262 96.962207 64.635586 64.635586 96.962207 142.653793Q953.37931 420.599172 953.37931 512t-32.317793 169.43669q-32.317793 78.027034-96.962207 142.66262-64.635586 64.644414-142.653793 96.962207h-0.008827z m-249.979587-650.504827l282.394483 221.007448a25.864828 25.864828 0 0 1 0 40.871724l-282.394483 221.016276c-17.390345 13.594483-43.04331 1.412414-43.04331-20.44469V290.992552c0-21.865931 25.661793-34.048 43.04331-20.44469z"})})})]},`thumbnail-${T}`)))??null})})]}),N.jsx("div",{className:Tn.desc_text,children:N.jsx("span",{children:((E=t.info)==null?void 0:E.description)??""})})]})]}),i.showBeautyGuideImageDialog&&N.jsx(gFe,{imgUrl:s,imgList:u,show:i.showBeautyGuideImageDialog})]})},MFe="_beautyGuide_main_1fu82_1",BFe="_beautyGuide_bg_1fu82_15",DFe="_beautyGuide_header_1fu82_26",UFe="_goback_1fu82_32",jFe="_title_1fu82_47",$Fe="_beautyGuide_content_1fu82_53",GFe="_item_1fu82_59",nc={beautyGuide_main:MFe,beautyGuide_bg:BFe,beautyGuide_header:DFe,goback:UFe,title:jFe,beautyGuide_content:$Fe,item:GFe},VFe=()=>{const t=an(),e=xt(v=>v.GUI),{playSeClick:r,playSeEnter:n}=ri(),[i,a]=_e.useState(null),o=xt(v=>v.GUI.gameUIConfigs[fa.collection]),[s,c]=_e.useState([]),[l,u]=_e.useState({}),[f,h]=_e.useState(null);_e.useEffect(()=>{if(e.showBeautyGuide){const v=[],m=(o==null?void 0:o.other)??{},g={};let _=1;Object.entries(m).forEach(([x,b])=>{var w,E,C;if(x!=null&&x.includes("Collection_img")){const T=(w=b==null?void 0:b.args)==null?void 0:w.info;let I=((E=b==null?void 0:b.args)==null?void 0:E.style)??{};const R=(C=b==null?void 0:b.args)==null?void 0:C.images;I=Jc(I);const O=RSe(R);v.push({name:T==null?void 0:T.name,image:T!=null&&T.image?Ir(T==null?void 0:T.image,Ar.ui):"",height:T==null?void 0:T.height,weight:T==null?void 0:T.weight,bustSize:T==null?void 0:T.bustSize,waistSize:T==null?void 0:T.waistSize,hipSize:T==null?void 0:T.hipSize,description:(T==null?void 0:T.description)??"",contentList:O}),g[`Collection_img${_}`]=I,_++}}),u(g),c(v)}},[e.showBeautyGuide]);const p=()=>{r(),a(null),t(It({component:"showBeautyGuide",visibility:!1}))},d=(v,m)=>{r(),a(v),h(l[`Collection_img${m+1}`]),t(It({component:"showBeautyGuideDetail",visibility:!0}))};return N.jsxs(N.Fragment,{children:[e.showBeautyGuide&&N.jsxs("div",{className:nc.beautyGuide_main,children:[N.jsx(tb,{item:o.other[gs.Collection_bg],defaultClass:nc.beautyGuide_bg}),N.jsxs("div",{className:nc.beautyGuide_header,children:[N.jsx(qo,{item:o.buttons.Collection_back_button,defaultClass:nc.goback,onClick:p,onMouseEnter:n}),N.jsx(qo,{item:o.other.Collection_title,defaultClass:nc.title})]}),N.jsx("div",{className:nc.beautyGuide_content,children:s.map((v,m)=>N.jsx("div",{className:nc.item,onClick:()=>d(v,m),onMouseEnter:n,children:N.jsx("img",{src:v.image})},`${v==null?void 0:v.name}$-${m}`))})]}),e.showBeautyGuideDetail&&N.jsx(LFe,{info:i,itemStyle:f})]})},HFe="_modalR18_main_167bk_1",XFe="_footer_167bk_16",c8={modalR18_main:HFe,"fade-in":"_fade-in_167bk_1",footer:XFe},zFe=""+new URL("r18-exit-btn-default.png",import.meta.url).href,WFe=""+new URL("r18-exit-btn-active.png",import.meta.url).href,YFe=""+new URL("r18-confirm-btn-default.png",import.meta.url).href,qFe=""+new URL("r18-confirm-btn-active.png",import.meta.url).href,KFe=()=>{Pu("r18.");const t=an(),e=xt(d=>d.GUI),{playSeClick:r,playSeEnter:n}=ri(),[i,a]=_e.useState(!1),[o,s]=_e.useState(!1),[c,l]=_e.useState({width:void 0,height:void 0,opacity:0}),[u,f]=_e.useState({width:void 0,height:void 0,opacity:0}),h=()=>{r(),t(cH(!1))},p=()=>{r(),window.location.href="/"};return N.jsx(N.Fragment,{children:e.isShowR18Modal&&e.openR18Modal&&N.jsx("div",{className:`${c8.modalR18_main} ${e.isShowR18Modal&&e.openR18Modal?"animated fadeIn":""}`,children:N.jsxs("div",{className:c8.footer,children:[N.jsx("div",{id:"exitButton",children:N.jsx("img",{src:i?WFe:zFe,onClick:p,onMouseEnter:()=>{a(!0),n()},onMouseLeave:()=>{a(!1)},onLoad:d=>{l({width:d.target.naturalWidth/.5,height:d.target.naturalHeight/.5,opacity:1})},style:c})}),N.jsx("div",{id:"confirmButton",children:N.jsx("img",{src:o?qFe:YFe,onClick:h,onMouseEnter:()=>{s(!0),n()},onMouseLeave:()=>{s(!1)},onLoad:d=>{f({width:d.target.naturalWidth/.5,height:d.target.naturalHeight/.5,opacity:1})},style:u})})]})})})};function ZFe(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function JFe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(c,l){if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(f){o(c,f)},function(f){i[c]={status:"rejected",reason:f},--a===0&&r(i)});return}}i[c]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function XH(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}XH.prototype=Error.prototype;function QFe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new XH(a,"All promises were rejected"))})}catch(s){n(s)}})}var eNe=setTimeout;function zH(t){return!!(t&&typeof t.length<"u")}function tNe(){}function rNe(t,e){return function(){t.apply(e,arguments)}}function Sn(t){if(!(this instanceof Sn))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],YH(t,this)}function WH(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,Sn._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?QT:cv)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){cv(e.promise,i);return}QT(e.promise,n)})}function QT(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof Sn){t._state=3,t._value=e,eA(t);return}else if(typeof r=="function"){YH(rNe(r,e),t);return}}t._state=1,t._value=e,eA(t)}catch(n){cv(t,n)}}function cv(t,e){t._state=2,t._value=e,eA(t)}function eA(t){t._state===2&&t._deferreds.length===0&&Sn._immediateFn(function(){t._handled||Sn._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)WH(t,t._deferreds[e]);t._deferreds=null}function nNe(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function YH(t,e){var r=!1;try{t(function(n){r||(r=!0,QT(e,n))},function(n){r||(r=!0,cv(e,n))})}catch(n){if(r)return;r=!0,cv(e,n)}}Sn.prototype.catch=function(t){return this.then(null,t)};Sn.prototype.then=function(t,e){var r=new this.constructor(tNe);return WH(this,new nNe(t,e,r)),r};Sn.prototype.finally=ZFe;Sn.all=function(t){return new Sn(function(e,r){if(!zH(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){l.call(c,function(u){a(s,u)},r);return}}n[s]=c,--i===0&&e(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])})};Sn.any=QFe;Sn.allSettled=JFe;Sn.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Sn?t:new Sn(function(e){e(t)})};Sn.reject=function(t){return new Sn(function(e,r){r(t)})};Sn.race=function(t){return new Sn(function(e,r){if(!zH(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Sn.resolve(t[n]).then(e,r)})};Sn._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){eNe(t,0)};Sn._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Sn);Object.assign||(Object.assign=Ete);var iNe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var aNe=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-aNe}}var x2=Date.now(),f8=["ms","moz","webkit","o"];for(var b2=0;b2<f8.length&&!globalThis.requestAnimationFrame;++b2){var w2=f8[b2];globalThis.requestAnimationFrame=globalThis[w2+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[w2+"CancelAnimationFrame"]||globalThis[w2+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=iNe+x2-e;return r<0&&(r=0),x2=e,globalThis.self.setTimeout(function(){x2=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var E2=/iPhone/i,h8=/iPod/i,d8=/iPad/i,p8=/\biOS-universal(?:.+)Mac\b/i,S2=/\bAndroid(?:.+)Mobile\b/i,v8=/Android/i,zf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Dm=/Silk/i,Ks=/Windows Phone/i,g8=/\bWindows(?:.+)ARM\b/i,m8=/BlackBerry/i,_8=/BB10/i,y8=/Opera Mini/i,x8=/\b(CriOS|Chrome)(?:.+)Mobile/i,b8=/Mobile(?:.+)Firefox\b/i,w8=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function oNe(t){return function(e){return e.test(t)}}function sNe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=oNe(r),a={apple:{phone:i(E2)&&!i(Ks),ipod:i(h8),tablet:!i(E2)&&(i(d8)||w8(e))&&!i(Ks),universal:i(p8),device:(i(E2)||i(h8)||i(d8)||i(p8)||w8(e))&&!i(Ks)},amazon:{phone:i(zf),tablet:!i(zf)&&i(Dm),device:i(zf)||i(Dm)},android:{phone:!i(Ks)&&i(zf)||!i(Ks)&&i(S2),tablet:!i(Ks)&&!i(zf)&&!i(S2)&&(i(Dm)||i(v8)),device:!i(Ks)&&(i(zf)||i(Dm)||i(S2)||i(v8))||i(/\bokhttp\b/i)},windows:{phone:i(Ks),tablet:i(g8),device:i(Ks)||i(g8)},other:{blackberry:i(m8),blackberry10:i(_8),opera:i(y8),firefox:i(b8),chrome:i(x8),device:i(m8)||i(_8)||i(y8)||i(b8)||i(x8)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vo=sNe(globalThis.navigator);function lNe(t){var e=!0;if(vo.tablet||vo.phone){if(vo.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(vo.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function uNe(){return!vo.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var E8;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(E8||(E8={}));var S8;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(S8||(S8={}));var C8;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(C8||(C8={}));var T8;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(T8||(T8={}));var A8;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(A8||(A8={}));var I8;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(I8||(I8={}));var R8;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(R8||(R8={}));var P8;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(P8||(P8={}));var O8;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(O8||(O8={}));var tA;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(tA||(tA={}));var rA;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(rA||(rA={}));var nA;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(nA||(nA={}));var k8;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(k8||(k8={}));var F8;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(F8||(F8={}));var iA;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(iA||(iA={}));var kp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(kp||(kp={}));var N8;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(N8||(N8={}));var aA;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(aA||(aA={}));var L8;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(L8||(L8={}));var _t={MIPMAP_TEXTURES:nA.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:aA.NONE,SPRITE_MAX_TEXTURES:lNe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:iA.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:rA.CLAMP,SCALE_MODE:tA.LINEAR,PRECISION_VERTEX:kp.HIGH,PRECISION_FRAGMENT:vo.apple.device?kp.HIGH:kp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:uNe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},qH={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||c,h),d=r?r+l:l;return c._events[d]?c._events[d].fn?c._events[d]=[c._events[d],p]:c._events[d].push(p):(c._events[d]=p,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,d=new Array(p);h<p;h++)d[h]=f[h].fn;return d},s.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,u,f,h,p,d){var v=r?r+l:l;if(!this._events[v])return!1;var m=this._events[v],g=arguments.length,_,x;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,f),!0;case 4:return m.fn.call(m.context,u,f,h),!0;case 5:return m.fn.call(m.context,u,f,h,p),!0;case 6:return m.fn.call(m.context,u,f,h,p,d),!0}for(x=1,_=new Array(g-1);x<g;x++)_[x-1]=arguments[x];m.fn.apply(m.context,_)}else{var b=m.length,w;for(x=0;x<b;x++)switch(m[x].once&&this.removeListener(l,m[x].fn,void 0,!0),g){case 1:m[x].fn.call(m[x].context);break;case 2:m[x].fn.call(m[x].context,u);break;case 3:m[x].fn.call(m[x].context,u,f);break;case 4:m[x].fn.call(m[x].context,u,f,h);break;default:if(!_)for(w=1,_=new Array(g-1);w<g;w++)_[w-1]=arguments[w];m[x].fn.apply(m[x].context,_)}}return!0},s.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},s.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},s.prototype.removeListener=function(l,u,f,h){var p=r?r+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var d=this._events[p];if(d.fn)d.fn===u&&(!h||d.once)&&(!f||d.context===f)&&o(this,p);else{for(var v=0,m=[],g=d.length;v<g;v++)(d[v].fn!==u||h&&!d[v].once||f&&d[v].context!==f)&&m.push(d[v]);m.length?this._events[p]=m.length===1?m[0]:m:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(qH);var cNe=qH.exports;const mf=$i(cNe);var ok={exports:{}};ok.exports=nb;ok.exports.default=nb;function nb(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=KH(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,c,l,u,f,h,p;if(n&&(a=vNe(t,e,a,r)),t.length>80*r){s=l=t[0],c=u=t[1];for(var d=r;d<i;d+=r)f=t[d],h=t[d+1],f<s&&(s=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);p=Math.max(l-s,u-c),p=p!==0?32767/p:0}return fv(a,o,r,s,c,p,0),o}function KH(t,e,r,n,i){var a,o;if(i===lA(t,e,r,n)>0)for(a=e;a<r;a+=n)o=M8(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=M8(a,t[a],t[a+1],o);return o&&ib(o,o.next)&&(dv(o),o=o.next),o}function nf(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(ib(r,r.next)||wn(r.prev,r,r.next)===0)){if(dv(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function fv(t,e,r,n,i,a,o){if(t){!o&&a&&xNe(t,n,i,a);for(var s=t,c,l;t.prev!==t.next;){if(c=t.prev,l=t.next,a?hNe(t,n,i,a):fNe(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),dv(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=dNe(nf(t),e,r),fv(t,e,r,n,i,a,2)):o===2&&pNe(t,e,r,n,i,a):fv(nf(t),e,r,n,i,a,1);break}}}}function fNe(t){var e=t.prev,r=t,n=t.next;if(wn(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,c=r.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,f=s<c?s<l?s:l:c<l?c:l,h=i>a?i>o?i:o:a>o?a:o,p=s>c?s>l?s:l:c>l?c:l,d=n.next;d!==e;){if(d.x>=u&&d.x<=h&&d.y>=f&&d.y<=p&&wh(i,s,a,c,o,l,d.x,d.y)&&wn(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function hNe(t,e,r,n){var i=t.prev,a=t,o=t.next;if(wn(i,a,o)>=0)return!1;for(var s=i.x,c=a.x,l=o.x,u=i.y,f=a.y,h=o.y,p=s<c?s<l?s:l:c<l?c:l,d=u<f?u<h?u:h:f<h?f:h,v=s>c?s>l?s:l:c>l?c:l,m=u>f?u>h?u:h:f>h?f:h,g=oA(p,d,e,r,n),_=oA(v,m,e,r,n),x=t.prevZ,b=t.nextZ;x&&x.z>=g&&b&&b.z<=_;){if(x.x>=p&&x.x<=v&&x.y>=d&&x.y<=m&&x!==i&&x!==o&&wh(s,u,c,f,l,h,x.x,x.y)&&wn(x.prev,x,x.next)>=0||(x=x.prevZ,b.x>=p&&b.x<=v&&b.y>=d&&b.y<=m&&b!==i&&b!==o&&wh(s,u,c,f,l,h,b.x,b.y)&&wn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;x&&x.z>=g;){if(x.x>=p&&x.x<=v&&x.y>=d&&x.y<=m&&x!==i&&x!==o&&wh(s,u,c,f,l,h,x.x,x.y)&&wn(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=_;){if(b.x>=p&&b.x<=v&&b.y>=d&&b.y<=m&&b!==i&&b!==o&&wh(s,u,c,f,l,h,b.x,b.y)&&wn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function dNe(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!ib(i,a)&&ZH(i,n,n.next,a)&&hv(i,a)&&hv(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),dv(n),dv(n.next),n=t=a),n=n.next}while(n!==t);return nf(n)}function pNe(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&ENe(o,s)){var c=JH(o,s);o=nf(o,o.next),c=nf(c,c.next),fv(o,e,r,n,i,a,0),fv(c,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function vNe(t,e,r,n){var i=[],a,o,s,c,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,c=a<o-1?e[a+1]*n:t.length,l=KH(t,s,c,n,!1),l===l.next&&(l.steiner=!0),i.push(wNe(l));for(i.sort(gNe),a=0;a<i.length;a++)r=mNe(i[a],r);return r}function gNe(t,e){return t.x-e.x}function mNe(t,e){var r=_Ne(t,e);if(!r)return e;var n=JH(r,t);return nf(n,n.next),nf(r,r.next)}function _Ne(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,l=o.x,u=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&wh(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),hv(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&yNe(o,r)))&&(o=r,f=h)),r=r.next;while(r!==c);return o}function yNe(t,e){return wn(t.prev,t,e.prev)<0&&wn(e.next,t,t.next)<0}function xNe(t,e,r,n){var i=t;do i.z===0&&(i.z=oA(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,bNe(i)}function bNe(t){var e,r,n,i,a,o,s,c,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(c=l;s>0||c>0&&n;)s!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function oA(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function wNe(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function wh(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function ENe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!SNe(t,e)&&(hv(t,e)&&hv(e,t)&&CNe(t,e)&&(wn(t.prev,t,e.prev)||wn(t,e.prev,e))||ib(t,e)&&wn(t.prev,t,t.next)>0&&wn(e.prev,e,e.next)>0)}function wn(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function ib(t,e){return t.x===e.x&&t.y===e.y}function ZH(t,e,r,n){var i=jm(wn(t,e,r)),a=jm(wn(t,e,n)),o=jm(wn(r,n,t)),s=jm(wn(r,n,e));return!!(i!==a&&o!==s||i===0&&Um(t,r,e)||a===0&&Um(t,n,e)||o===0&&Um(r,t,n)||s===0&&Um(r,e,n))}function Um(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function jm(t){return t>0?1:t<0?-1:0}function SNe(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&ZH(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function hv(t,e){return wn(t.prev,t,t.next)<0?wn(t,e,t.next)>=0&&wn(t,t.prev,e)>=0:wn(t,e,t.prev)<0||wn(t,t.next,e)<0}function CNe(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function JH(t,e){var r=new sA(t.i,t.x,t.y),n=new sA(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function M8(t,e,r,n){var i=new sA(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function dv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function sA(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}nb.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(lA(t,0,a,r));if(i)for(var s=0,c=e.length;s<c;s++){var l=e[s]*r,u=s<c-1?e[s+1]*r:t.length;o-=Math.abs(lA(t,l,u,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function lA(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}nb.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var TNe=ok.exports;const sk=$i(TNe);var Jy={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Jy.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof Ct=="object"&&Ct;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,c=36,l=1,u=26,f=38,h=700,p=72,d=128,v="-",m=/^xn--/,g=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=c-l,w=Math.floor,E=String.fromCharCode,C;function T(W){throw new RangeError(x[W])}function I(W,D){for(var H=W.length,G=[];H--;)G[H]=D(W[H]);return G}function R(W,D){var H=W.split("@"),G="";H.length>1&&(G=H[0]+"@",W=H[1]),W=W.replace(_,".");var V=W.split("."),ie=I(V,D).join(".");return G+ie}function O(W){for(var D=[],H=0,G=W.length,V,ie;H<G;)V=W.charCodeAt(H++),V>=55296&&V<=56319&&H<G?(ie=W.charCodeAt(H++),(ie&64512)==56320?D.push(((V&1023)<<10)+(ie&1023)+65536):(D.push(V),H--)):D.push(V);return D}function P(W){return I(W,function(D){var H="";return D>65535&&(D-=65536,H+=E(D>>>10&1023|55296),D=56320|D&1023),H+=E(D),H}).join("")}function k(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:c}function L(W,D){return W+22+75*(W<26)-((D!=0)<<5)}function B(W,D,H){var G=0;for(W=H?w(W/h):W>>1,W+=w(W/D);W>b*u>>1;G+=c)W=w(W/b);return w(G+(b+1)*W/(W+f))}function U(W){var D=[],H=W.length,G,V=0,ie=d,se=p,ge,ue,we,Be,Fe,Ee,Te,Ge,We;for(ge=W.lastIndexOf(v),ge<0&&(ge=0),ue=0;ue<ge;++ue)W.charCodeAt(ue)>=128&&T("not-basic"),D.push(W.charCodeAt(ue));for(we=ge>0?ge+1:0;we<H;){for(Be=V,Fe=1,Ee=c;we>=H&&T("invalid-input"),Te=k(W.charCodeAt(we++)),(Te>=c||Te>w((s-V)/Fe))&&T("overflow"),V+=Te*Fe,Ge=Ee<=se?l:Ee>=se+u?u:Ee-se,!(Te<Ge);Ee+=c)We=c-Ge,Fe>w(s/We)&&T("overflow"),Fe*=We;G=D.length+1,se=B(V-Be,G,Be==0),w(V/G)>s-ie&&T("overflow"),ie+=w(V/G),V%=G,D.splice(V++,0,ie)}return P(D)}function z(W){var D,H,G,V,ie,se,ge,ue,we,Be,Fe,Ee=[],Te,Ge,We,Ve;for(W=O(W),Te=W.length,D=d,H=0,ie=p,se=0;se<Te;++se)Fe=W[se],Fe<128&&Ee.push(E(Fe));for(G=V=Ee.length,V&&Ee.push(v);G<Te;){for(ge=s,se=0;se<Te;++se)Fe=W[se],Fe>=D&&Fe<ge&&(ge=Fe);for(Ge=G+1,ge-D>w((s-H)/Ge)&&T("overflow"),H+=(ge-D)*Ge,D=ge,se=0;se<Te;++se)if(Fe=W[se],Fe<D&&++H>s&&T("overflow"),Fe==D){for(ue=H,we=c;Be=we<=ie?l:we>=ie+u?u:we-ie,!(ue<Be);we+=c)Ve=ue-Be,We=c-Be,Ee.push(E(L(Be+Ve%We,0))),ue=w(Ve/We);Ee.push(E(L(ue,0))),ie=B(H,Ge,G==V),H=0,++G}++H,++D}return Ee.join("")}function ee(W){return R(W,function(D){return m.test(D)?U(D.slice(4).toLowerCase()):D})}function ne(W){return R(W,function(D){return g.test(D)?"xn--"+z(D):D})}if(o={version:"1.4.1",ucs2:{decode:O,encode:P},decode:U,encode:z,toASCII:ne,toUnicode:ee},n&&i)if(t.exports==n)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(n[C]=o[C]);else r.punycode=o})(Ct)})(Jy,Jy.exports);var ANe=Jy.exports,INe=Error,RNe=EvalError,PNe=RangeError,ONe=ReferenceError,QH=SyntaxError,ug=TypeError,kNe=URIError,FNe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},B8=typeof Symbol<"u"&&Symbol,NNe=FNe,LNe=function(){return typeof B8!="function"||typeof Symbol!="function"||typeof B8("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:NNe()},C2={__proto__:null,foo:{}},MNe=Object,BNe=function(){return{__proto__:C2}.foo===C2.foo&&!(C2 instanceof MNe)},DNe="Function.prototype.bind called on incompatible ",UNe=Object.prototype.toString,jNe=Math.max,$Ne="[object Function]",D8=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},GNe=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},VNe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},HNe=function(e){var r=this;if(typeof r!="function"||UNe.apply(r)!==$Ne)throw new TypeError(DNe+r);for(var n=GNe(arguments,1),i,a=function(){if(this instanceof i){var u=r.apply(this,D8(n,arguments));return Object(u)===u?u:this}return r.apply(e,D8(n,arguments))},o=jNe(0,r.length-n.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(i=Function("binder","return function ("+VNe(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},XNe=HNe,lk=Function.prototype.bind||XNe,zNe=Function.prototype.call,WNe=Object.prototype.hasOwnProperty,YNe=lk,qNe=YNe.call(zNe,WNe),_r,KNe=INe,ZNe=RNe,JNe=PNe,QNe=ONe,od=QH,Xh=ug,eLe=kNe,eX=Function,T2=function(t){try{return eX('"use strict"; return ('+t+").constructor;")()}catch{}},Gc=Object.getOwnPropertyDescriptor;if(Gc)try{Gc({},"")}catch{Gc=null}var A2=function(){throw new Xh},tLe=Gc?function(){try{return arguments.callee,A2}catch{try{return Gc(arguments,"callee").get}catch{return A2}}}():A2,Wf=LNe(),rLe=BNe(),yi=Object.getPrototypeOf||(rLe?function(t){return t.__proto__}:null),oh={},nLe=typeof Uint8Array>"u"||!yi?_r:yi(Uint8Array),Vc={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?_r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_r:ArrayBuffer,"%ArrayIteratorPrototype%":Wf&&yi?yi([][Symbol.iterator]()):_r,"%AsyncFromSyncIteratorPrototype%":_r,"%AsyncFunction%":oh,"%AsyncGenerator%":oh,"%AsyncGeneratorFunction%":oh,"%AsyncIteratorPrototype%":oh,"%Atomics%":typeof Atomics>"u"?_r:Atomics,"%BigInt%":typeof BigInt>"u"?_r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":KNe,"%eval%":eval,"%EvalError%":ZNe,"%Float32Array%":typeof Float32Array>"u"?_r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_r:FinalizationRegistry,"%Function%":eX,"%GeneratorFunction%":oh,"%Int8Array%":typeof Int8Array>"u"?_r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Wf&&yi?yi(yi([][Symbol.iterator]())):_r,"%JSON%":typeof JSON=="object"?JSON:_r,"%Map%":typeof Map>"u"?_r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Wf||!yi?_r:yi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_r:Promise,"%Proxy%":typeof Proxy>"u"?_r:Proxy,"%RangeError%":JNe,"%ReferenceError%":QNe,"%Reflect%":typeof Reflect>"u"?_r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Wf||!yi?_r:yi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Wf&&yi?yi(""[Symbol.iterator]()):_r,"%Symbol%":Wf?Symbol:_r,"%SyntaxError%":od,"%ThrowTypeError%":tLe,"%TypedArray%":nLe,"%TypeError%":Xh,"%Uint8Array%":typeof Uint8Array>"u"?_r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_r:Uint32Array,"%URIError%":eLe,"%WeakMap%":typeof WeakMap>"u"?_r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_r:WeakSet};if(yi)try{null.error}catch(t){var iLe=yi(yi(t));Vc["%Error.prototype%"]=iLe}var aLe=function t(e){var r;if(e==="%AsyncFunction%")r=T2("async function () {}");else if(e==="%GeneratorFunction%")r=T2("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=T2("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&yi&&(r=yi(i.prototype))}return Vc[e]=r,r},U8={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},cg=lk,Qy=qNe,oLe=cg.call(Function.call,Array.prototype.concat),sLe=cg.call(Function.apply,Array.prototype.splice),j8=cg.call(Function.call,String.prototype.replace),ex=cg.call(Function.call,String.prototype.slice),lLe=cg.call(Function.call,RegExp.prototype.exec),uLe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,cLe=/\\(\\)?/g,fLe=function(e){var r=ex(e,0,1),n=ex(e,-1);if(r==="%"&&n!=="%")throw new od("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new od("invalid intrinsic syntax, expected opening `%`");var i=[];return j8(e,uLe,function(a,o,s,c){i[i.length]=s?j8(c,cLe,"$1"):o||a}),i},hLe=function(e,r){var n=e,i;if(Qy(U8,n)&&(i=U8[n],n="%"+i[0]+"%"),Qy(Vc,n)){var a=Vc[n];if(a===oh&&(a=aLe(n)),typeof a>"u"&&!r)throw new Xh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new od("intrinsic "+e+" does not exist!")},Wd=function(e,r){if(typeof e!="string"||e.length===0)throw new Xh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Xh('"allowMissing" argument must be a boolean');if(lLe(/^%?[^%]*%?$/,e)===null)throw new od("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=fLe(e),i=n.length>0?n[0]:"",a=hLe("%"+i+"%",r),o=a.name,s=a.value,c=!1,l=a.alias;l&&(i=l[0],sLe(n,oLe([0,1],l)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=ex(h,0,1),d=ex(h,-1);if((p==='"'||p==="'"||p==="`"||d==='"'||d==="'"||d==="`")&&p!==d)throw new od("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",Qy(Vc,o))s=Vc[o];else if(s!=null){if(!(h in s)){if(!r)throw new Xh("base intrinsic for "+e+" exists, but the property is not available.");return}if(Gc&&u+1>=n.length){var v=Gc(s,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[h]}else f=Qy(s,h),s=s[h];f&&!c&&(Vc[o]=s)}}return s},tX={exports:{}},I2,$8;function uk(){if($8)return I2;$8=1;var t=Wd,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return I2=e,I2}var dLe=Wd,K_=dLe("%Object.getOwnPropertyDescriptor%",!0);if(K_)try{K_([],"length")}catch{K_=null}var rX=K_,G8=uk(),pLe=QH,Yf=ug,V8=rX,vLe=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Yf("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Yf("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Yf("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Yf("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Yf("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Yf("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!V8&&V8(e,r);if(G8)G8(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:a===null&&c?c.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new pLe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},uA=uk(),nX=function(){return!!uA};nX.hasArrayLengthDefineBug=function(){if(!uA)return null;try{return uA([],"length",{value:1}).length!==1}catch{return!0}};var gLe=nX,mLe=Wd,H8=vLe,_Le=gLe(),X8=rX,z8=ug,yLe=mLe("%Math.floor%"),xLe=function(e,r){if(typeof e!="function")throw new z8("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||yLe(r)!==r)throw new z8("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&X8){var o=X8(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(_Le?H8(e,"length",r,!0,!0):H8(e,"length",r)),e};(function(t){var e=lk,r=Wd,n=xLe,i=ug,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),c=uk(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return s(e,a,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u})(tX);var bLe=tX.exports,iX=Wd,aX=bLe,wLe=aX(iX("String.prototype.indexOf")),ELe=function(e,r){var n=iX(e,!!r);return typeof n=="function"&&wLe(e,".prototype.")>-1?aX(n):n},ck=typeof Map=="function"&&Map.prototype,R2=Object.getOwnPropertyDescriptor&&ck?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,tx=ck&&R2&&typeof R2.get=="function"?R2.get:null,W8=ck&&Map.prototype.forEach,fk=typeof Set=="function"&&Set.prototype,P2=Object.getOwnPropertyDescriptor&&fk?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,rx=fk&&P2&&typeof P2.get=="function"?P2.get:null,Y8=fk&&Set.prototype.forEach,SLe=typeof WeakMap=="function"&&WeakMap.prototype,Fp=SLe?WeakMap.prototype.has:null,CLe=typeof WeakSet=="function"&&WeakSet.prototype,Np=CLe?WeakSet.prototype.has:null,TLe=typeof WeakRef=="function"&&WeakRef.prototype,q8=TLe?WeakRef.prototype.deref:null,ALe=Boolean.prototype.valueOf,ILe=Object.prototype.toString,RLe=Function.prototype.toString,PLe=String.prototype.match,hk=String.prototype.slice,Jl=String.prototype.replace,OLe=String.prototype.toUpperCase,K8=String.prototype.toLowerCase,oX=RegExp.prototype.test,Z8=Array.prototype.concat,vs=Array.prototype.join,kLe=Array.prototype.slice,J8=Math.floor,cA=typeof BigInt=="function"?BigInt.prototype.valueOf:null,O2=Object.getOwnPropertySymbols,fA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,sd=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ta=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===sd||"symbol")?Symbol.toStringTag:null,sX=Object.prototype.propertyIsEnumerable,Q8=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function e6(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||oX.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-J8(-t):J8(t);if(n!==t){var i=String(n),a=hk.call(e,i.length+1);return Jl.call(i,r,"$&_")+"."+Jl.call(Jl.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Jl.call(e,r,"$&_")}var hA=nH,t6=hA.custom,r6=uX(t6)?t6:null,FLe=function t(e,r,n,i){var a=r||{};if($l(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if($l(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=$l(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($l(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($l(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return fX(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return s?e6(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return s?e6(e,l):l}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return dA(e)?"[Array]":"[Object]";var f=ZLe(a,n);if(typeof i>"u")i=[];else if(cX(i,e)>=0)return"[Circular]";function h(k,L,B){if(L&&(i=kLe.call(i),i.push(L)),B){var U={depth:a.depth};return $l(a,"quoteStyle")&&(U.quoteStyle=a.quoteStyle),t(k,U,n+1,i)}return t(k,a,n+1,i)}if(typeof e=="function"&&!n6(e)){var p=GLe(e),d=$m(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(d.length>0?" { "+vs.call(d,", ")+" }":"")}if(uX(e)){var v=sd?Jl.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):fA.call(e);return typeof e=="object"&&!sd?j0(v):v}if(YLe(e)){for(var m="<"+K8.call(String(e.nodeName)),g=e.attributes||[],_=0;_<g.length;_++)m+=" "+g[_].name+"="+lX(NLe(g[_].value),"double",a);return m+=">",e.childNodes&&e.childNodes.length&&(m+="..."),m+="</"+K8.call(String(e.nodeName))+">",m}if(dA(e)){if(e.length===0)return"[]";var x=$m(e,h);return f&&!KLe(x)?"["+pA(x,f)+"]":"[ "+vs.call(x,", ")+" ]"}if(MLe(e)){var b=$m(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!sX.call(e,"cause")?"{ ["+String(e)+"] "+vs.call(Z8.call("[cause]: "+h(e.cause),b),", ")+" }":b.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+vs.call(b,", ")+" }"}if(typeof e=="object"&&o){if(r6&&typeof e[r6]=="function"&&hA)return hA(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(VLe(e)){var w=[];return W8&&W8.call(e,function(k,L){w.push(h(L,e,!0)+" => "+h(k,e))}),i6("Map",tx.call(e),w,f)}if(zLe(e)){var E=[];return Y8&&Y8.call(e,function(k){E.push(h(k,e))}),i6("Set",rx.call(e),E,f)}if(HLe(e))return k2("WeakMap");if(WLe(e))return k2("WeakSet");if(XLe(e))return k2("WeakRef");if(DLe(e))return j0(h(Number(e)));if(jLe(e))return j0(h(cA.call(e)));if(ULe(e))return j0(ALe.call(e));if(BLe(e))return j0(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Ct)return"{ [object globalThis] }";if(!LLe(e)&&!n6(e)){var C=$m(e,h),T=Q8?Q8(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",R=!T&&ta&&Object(e)===e&&ta in e?hk.call(Du(e),8,-1):I?"Object":"",O=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",P=O+(R||I?"["+vs.call(Z8.call([],R||[],I||[]),": ")+"] ":"");return C.length===0?P+"{}":f?P+"{"+pA(C,f)+"}":P+"{ "+vs.call(C,", ")+" }"}return String(e)};function lX(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function NLe(t){return Jl.call(String(t),/"/g,"&quot;")}function dA(t){return Du(t)==="[object Array]"&&(!ta||!(typeof t=="object"&&ta in t))}function LLe(t){return Du(t)==="[object Date]"&&(!ta||!(typeof t=="object"&&ta in t))}function n6(t){return Du(t)==="[object RegExp]"&&(!ta||!(typeof t=="object"&&ta in t))}function MLe(t){return Du(t)==="[object Error]"&&(!ta||!(typeof t=="object"&&ta in t))}function BLe(t){return Du(t)==="[object String]"&&(!ta||!(typeof t=="object"&&ta in t))}function DLe(t){return Du(t)==="[object Number]"&&(!ta||!(typeof t=="object"&&ta in t))}function ULe(t){return Du(t)==="[object Boolean]"&&(!ta||!(typeof t=="object"&&ta in t))}function uX(t){if(sd)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!fA)return!1;try{return fA.call(t),!0}catch{}return!1}function jLe(t){if(!t||typeof t!="object"||!cA)return!1;try{return cA.call(t),!0}catch{}return!1}var $Le=Object.prototype.hasOwnProperty||function(t){return t in this};function $l(t,e){return $Le.call(t,e)}function Du(t){return ILe.call(t)}function GLe(t){if(t.name)return t.name;var e=PLe.call(RLe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function cX(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function VLe(t){if(!tx||!t||typeof t!="object")return!1;try{tx.call(t);try{rx.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function HLe(t){if(!Fp||!t||typeof t!="object")return!1;try{Fp.call(t,Fp);try{Np.call(t,Np)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function XLe(t){if(!q8||!t||typeof t!="object")return!1;try{return q8.call(t),!0}catch{}return!1}function zLe(t){if(!rx||!t||typeof t!="object")return!1;try{rx.call(t);try{tx.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function WLe(t){if(!Np||!t||typeof t!="object")return!1;try{Np.call(t,Np);try{Fp.call(t,Fp)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function YLe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function fX(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return fX(hk.call(t,0,e.maxStringLength),e)+n}var i=Jl.call(Jl.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,qLe);return lX(i,"single",e)}function qLe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+OLe.call(e.toString(16))}function j0(t){return"Object("+t+")"}function k2(t){return t+" { ? }"}function i6(t,e,r,n){var i=n?pA(r,n):vs.call(r,", ");return t+" ("+e+") {"+i+"}"}function KLe(t){for(var e=0;e<t.length;e++)if(cX(t[e],`
`)>=0)return!1;return!0}function ZLe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=vs.call(Array(t.indent+1)," ");else return null;return{base:r,prev:vs.call(Array(e+1),r)}}function pA(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+vs.call(t,","+r)+`
`+e.prev}function $m(t,e){var r=dA(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=$l(t,i)?e(t[i],t):""}var a=typeof O2=="function"?O2(t):[],o;if(sd){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in t)$l(t,c)&&(r&&String(Number(c))===c&&c<t.length||sd&&o["$"+c]instanceof Symbol||(oX.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof O2=="function")for(var l=0;l<a.length;l++)sX.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var hX=Wd,Yd=ELe,JLe=FLe,QLe=ug,Gm=hX("%WeakMap%",!0),Vm=hX("%Map%",!0),eMe=Yd("WeakMap.prototype.get",!0),tMe=Yd("WeakMap.prototype.set",!0),rMe=Yd("WeakMap.prototype.has",!0),nMe=Yd("Map.prototype.get",!0),iMe=Yd("Map.prototype.set",!0),aMe=Yd("Map.prototype.has",!0),dk=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},oMe=function(t,e){var r=dk(t,e);return r&&r.value},sMe=function(t,e,r){var n=dk(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},lMe=function(t,e){return!!dk(t,e)},uMe=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new QLe("Side channel does not contain "+JLe(a))},get:function(a){if(Gm&&a&&(typeof a=="object"||typeof a=="function")){if(e)return eMe(e,a)}else if(Vm){if(r)return nMe(r,a)}else if(n)return oMe(n,a)},has:function(a){if(Gm&&a&&(typeof a=="object"||typeof a=="function")){if(e)return rMe(e,a)}else if(Vm){if(r)return aMe(r,a)}else if(n)return lMe(n,a);return!1},set:function(a,o){Gm&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new Gm),tMe(e,a,o)):Vm?(r||(r=new Vm),iMe(r,a,o)):(n||(n={key:{},next:null}),sMe(n,a,o))}};return i},cMe=String.prototype.replace,fMe=/%20/g,F2={RFC1738:"RFC1738",RFC3986:"RFC3986"},pk={default:F2.RFC3986,formatters:{RFC1738:function(t){return cMe.call(t,fMe,"+")},RFC3986:function(t){return String(t)}},RFC1738:F2.RFC1738,RFC3986:F2.RFC3986},hMe=pk,N2=Object.prototype.hasOwnProperty,yc=Array.isArray,ls=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),dMe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(yc(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},dX=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},pMe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(yc(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!N2.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return yc(e)&&!yc(r)&&(i=dX(e,n)),yc(e)&&yc(r)?(r.forEach(function(a,o){if(N2.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return N2.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},vMe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},gMe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},mMe=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===hMe.RFC1738&&(l===40||l===41)){s+=o.charAt(c);continue}if(l<128){s=s+ls[l];continue}if(l<2048){s=s+(ls[192|l>>6]+ls[128|l&63]);continue}if(l<55296||l>=57344){s=s+(ls[224|l>>12]+ls[128|l>>6&63]+ls[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),s+=ls[240|l>>18]+ls[128|l>>12&63]+ls[128|l>>6&63]+ls[128|l&63]}return s},_Me=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return dMe(r),e},yMe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},xMe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},bMe=function(e,r){return[].concat(e,r)},wMe=function(e,r){if(yc(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},pX={arrayToObject:dX,assign:vMe,combine:bMe,compact:_Me,decode:gMe,encode:mMe,isBuffer:xMe,isRegExp:yMe,maybeMap:wMe,merge:pMe},vX=uMe,Z_=pX,Lp=pk,EMe=Object.prototype.hasOwnProperty,gX={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},hs=Array.isArray,SMe=Array.prototype.push,mX=function(t,e){SMe.apply(t,hs(e)?e:[e])},CMe=Date.prototype.toISOString,a6=Lp.default,si={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Z_.encode,encodeValuesOnly:!1,format:a6,formatter:Lp.formatters[a6],indices:!1,serializeDate:function(e){return CMe.call(e)},skipNulls:!1,strictNullHandling:!1},TMe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},L2={},AMe=function t(e,r,n,i,a,o,s,c,l,u,f,h,p,d,v,m,g,_){for(var x=e,b=_,w=0,E=!1;(b=b.get(L2))!==void 0&&!E;){var C=b.get(e);if(w+=1,typeof C<"u"){if(C===w)throw new RangeError("Cyclic object value");E=!0}typeof b.get(L2)>"u"&&(w=0)}if(typeof u=="function"?x=u(r,x):x instanceof Date?x=p(x):n==="comma"&&hs(x)&&(x=Z_.maybeMap(x,function(W){return W instanceof Date?p(W):W})),x===null){if(o)return l&&!m?l(r,si.encoder,g,"key",d):r;x=""}if(TMe(x)||Z_.isBuffer(x)){if(l){var T=m?r:l(r,si.encoder,g,"key",d);return[v(T)+"="+v(l(x,si.encoder,g,"value",d))]}return[v(r)+"="+v(String(x))]}var I=[];if(typeof x>"u")return I;var R;if(n==="comma"&&hs(x))m&&l&&(x=Z_.maybeMap(x,l)),R=[{value:x.length>0?x.join(",")||null:void 0}];else if(hs(u))R=u;else{var O=Object.keys(x);R=f?O.sort(f):O}var P=c?r.replace(/\./g,"%2E"):r,k=i&&hs(x)&&x.length===1?P+"[]":P;if(a&&hs(x)&&x.length===0)return k+"[]";for(var L=0;L<R.length;++L){var B=R[L],U=typeof B=="object"&&typeof B.value<"u"?B.value:x[B];if(!(s&&U===null)){var z=h&&c?B.replace(/\./g,"%2E"):B,ee=hs(x)?typeof n=="function"?n(k,z):k:k+(h?"."+z:"["+z+"]");_.set(e,w);var ne=vX();ne.set(L2,_),mX(I,t(U,ee,n,i,a,o,s,c,n==="comma"&&m&&hs(x)?null:l,u,f,h,p,d,v,m,g,ne))}}return I},IMe=function(e){if(!e)return si;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||si.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Lp.default;if(typeof e.format<"u"){if(!EMe.call(Lp.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Lp.formatters[n],a=si.filter;(typeof e.filter=="function"||hs(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in gX?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=si.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:si.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:si.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:si.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:si.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?si.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:si.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:si.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:si.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:si.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:si.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:si.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:si.strictNullHandling}},RMe=function(t,e){var r=t,n=IMe(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):hs(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=gX[n.arrayFormat],c=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=vX(),u=0;u<i.length;++u){var f=i[u];n.skipNulls&&r[f]===null||mX(o,AMe(r[f],f,s,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},ld=pX,vA=Object.prototype.hasOwnProperty,PMe=Array.isArray,Dn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:ld.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},OMe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},_X=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},kMe="utf8=%26%2310003%3B",FMe="utf8=%E2%9C%93",NMe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===FMe?l="utf-8":o[c]===kMe&&(l="iso-8859-1"),s=c,c=o.length);for(c=0;c<o.length;++c)if(c!==s){var u=o[c],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,p,d;h===-1?(p=r.decoder(u,Dn.decoder,l,"key"),d=r.strictNullHandling?null:""):(p=r.decoder(u.slice(0,h),Dn.decoder,l,"key"),d=ld.maybeMap(_X(u.slice(h+1),r),function(m){return r.decoder(m,Dn.decoder,l,"value")})),d&&r.interpretNumericEntities&&l==="iso-8859-1"&&(d=OMe(d)),u.indexOf("[]=")>-1&&(d=PMe(d)?[d]:d);var v=vA.call(n,p);v&&r.duplicates==="combine"?n[p]=ld.combine(n[p],d):(!v||r.duplicates==="last")&&(n[p]=d)}return n},LMe=function(t,e,r,n){for(var i=n?e:_X(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},MMe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),l=c?a.slice(0,c.index):a,u=[];if(l){if(!n.plainObjects&&vA.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var f=0;n.depth>0&&(c=s.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&vA.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+a.slice(c.index)+"]"),LMe(u,r,n,i)}},BMe=function(e){if(!e)return Dn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Dn.charset:e.charset,n=typeof e.duplicates>"u"?Dn.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Dn.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Dn.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Dn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Dn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Dn.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Dn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Dn.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Dn.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Dn.decoder,delimiter:typeof e.delimiter=="string"||ld.isRegExp(e.delimiter)?e.delimiter:Dn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Dn.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Dn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Dn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Dn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Dn.strictNullHandling}},DMe=function(t,e){var r=BMe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?NMe(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],c=MMe(s,n[s],r,typeof t=="string");i=ld.merge(i,c,r)}return r.allowSparse===!0?i:ld.compact(i)},UMe=RMe,jMe=DMe,$Me=pk,GMe={formats:$Me,parse:jMe,stringify:UMe},VMe=ANe;function zo(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var HMe=/^([a-z0-9.+-]+:)/i,XMe=/:[0-9]*$/,zMe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,WMe=["<",">",'"',"`"," ","\r",`
`,"	"],YMe=["{","}","|","\\","^","`"].concat(WMe),gA=["'"].concat(YMe),o6=["%","/","?",";","#"].concat(gA),s6=["/","?","#"],qMe=255,l6=/^[+a-z0-9A-Z_-]{0,63}$/,KMe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ZMe={javascript:!0,"javascript:":!0},mA={javascript:!0,"javascript:":!0},zh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_A=GMe;function ab(t,e,r){if(t&&typeof t=="object"&&t instanceof zo)return t;var n=new zo;return n.parse(t,e,r),n}zo.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var c=zMe.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=_A.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=HMe.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(l&&mA[l])&&(s=s.substr(2),this.slashes=!0)}if(!mA[l]&&(f||l&&!zh[l])){for(var h=-1,p=0;p<s6.length;p++){var d=s.indexOf(s6[p]);d!==-1&&(h===-1||d<h)&&(h=d)}var v,m;h===-1?m=s.lastIndexOf("@"):m=s.lastIndexOf("@",h),m!==-1&&(v=s.slice(0,m),s=s.slice(m+1),this.auth=decodeURIComponent(v)),h=-1;for(var p=0;p<o6.length;p++){var d=s.indexOf(o6[p]);d!==-1&&(h===-1||d<h)&&(h=d)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g)for(var _=this.hostname.split(/\./),p=0,x=_.length;p<x;p++){var b=_[p];if(b&&!b.match(l6)){for(var w="",E=0,C=b.length;E<C;E++)b.charCodeAt(E)>127?w+="x":w+=b[E];if(!w.match(l6)){var T=_.slice(0,p),I=_.slice(p+1),R=b.match(KMe);R&&(T.push(R[1]),I.unshift(R[2])),I.length&&(s="/"+I.join(".")+s),this.hostname=T.join(".");break}}}this.hostname.length>qMe?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=VMe.toASCII(this.hostname));var O=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+O,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!ZMe[u])for(var p=0,x=gA.length;p<x;p++){var k=gA[p];if(s.indexOf(k)!==-1){var L=encodeURIComponent(k);L===k&&(L=escape(k)),s=s.split(k).join(L)}}var B=s.indexOf("#");B!==-1&&(this.hash=s.substr(B),s=s.slice(0,B));var U=s.indexOf("?");if(U!==-1?(this.search=s.substr(U),this.query=s.substr(U+1),e&&(this.query=_A.parse(this.query)),s=s.slice(0,U)):e&&(this.search="",this.query={}),s&&(this.pathname=s),zh[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",z=this.search||"";this.path=O+z}return this.href=this.format(),this};function JMe(t){return typeof t=="string"&&(t=ab(t)),t instanceof zo?t.format():zo.prototype.format.call(t)}zo.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=_A.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||zh[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function QMe(t,e){return ab(t,!1,!0).resolve(e)}zo.prototype.resolve=function(t){return this.resolveObject(ab(t,!1,!0)).format()};zo.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new zo;e.parse(t,!1,!0),t=e}for(var r=new zo,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];c!=="protocol"&&(r[c]=t[c])}return zh[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!zh[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!mA[t.protocol]){for(var x=(t.pathname||"").split("/");x.length&&!(t.host=x.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),r.pathname=x.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",p=r.search||"";r.path=h+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var d=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",m=v||d||r.host&&t.pathname,g=m,_=r.pathname&&r.pathname.split("/")||[],x=t.pathname&&t.pathname.split("/")||[],b=r.protocol&&!zh[r.protocol];if(b&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host=null),m=m&&(x[0]===""||_[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=x;else if(x.length)_||(_=[]),_.pop(),_=_.concat(x),r.search=t.search,r.query=t.query;else if(t.search!=null){if(b){r.host=_.shift(),r.hostname=r.host;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=_.slice(-1)[0],C=(r.host||t.host||_.length>1)&&(E==="."||E==="..")||E==="",T=0,I=_.length;I>=0;I--)E=_[I],E==="."?_.splice(I,1):E===".."?(_.splice(I,1),T++):T&&(_.splice(I,1),T--);if(!m&&!g)for(;T--;T)_.unshift("..");m&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),C&&_.join("/").substr(-1)!=="/"&&_.push("");var R=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(b){r.hostname=R?"":_.length?_.shift():"",r.host=r.hostname;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return m=m||r.host&&_.length,m&&!R&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};zo.prototype.parseHost=function(){var t=this.host,e=XMe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var eBe=ab,tBe=QMe,rBe=JMe;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Rs;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Rs||(Rs={}));var ud;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(ud||(ud={}));var pv;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(pv||(pv={}));var st;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(st||(st={}));var Ga;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ga||(Ga={}));var rt;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(rt||(rt={}));var pu;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(pu||(pu={}));var Tt;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Tt||(Tt={}));var vv;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(vv||(vv={}));var wi;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(wi||(wi={}));var Ts;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ts||(Ts={}));var Pa;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Pa||(Pa={}));var va;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(va||(va={}));var rl;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(rl||(rl={}));var nx;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(nx||(nx={}));var Go;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Go||(Go={}));var Oi;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Oi||(Oi={}));var $n;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})($n||($n={}));var Wo;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Wo||(Wo={}));/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kc={parse:eBe,format:rBe,resolve:tBe};_t.RETINA_PREFIX=/@([0-9\.]+)x/;_t.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var yA=!1,u6="6.4.2";function nBe(){yA=!0}function yX(t){var e;if(!yA){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+u6+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+u6+" - "+t+" - http://www.pixijs.com/");yA=!0}}var M2;function xX(){return typeof M2>"u"&&(M2=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:_t.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),M2}var iBe="#f0f8ff",aBe="#faebd7",oBe="#00ffff",sBe="#7fffd4",lBe="#f0ffff",uBe="#f5f5dc",cBe="#ffe4c4",fBe="#000000",hBe="#ffebcd",dBe="#0000ff",pBe="#8a2be2",vBe="#a52a2a",gBe="#deb887",mBe="#5f9ea0",_Be="#7fff00",yBe="#d2691e",xBe="#ff7f50",bBe="#6495ed",wBe="#fff8dc",EBe="#dc143c",SBe="#00ffff",CBe="#00008b",TBe="#008b8b",ABe="#b8860b",IBe="#a9a9a9",RBe="#006400",PBe="#a9a9a9",OBe="#bdb76b",kBe="#8b008b",FBe="#556b2f",NBe="#ff8c00",LBe="#9932cc",MBe="#8b0000",BBe="#e9967a",DBe="#8fbc8f",UBe="#483d8b",jBe="#2f4f4f",$Be="#2f4f4f",GBe="#00ced1",VBe="#9400d3",HBe="#ff1493",XBe="#00bfff",zBe="#696969",WBe="#696969",YBe="#1e90ff",qBe="#b22222",KBe="#fffaf0",ZBe="#228b22",JBe="#ff00ff",QBe="#dcdcdc",eDe="#f8f8ff",tDe="#daa520",rDe="#ffd700",nDe="#808080",iDe="#008000",aDe="#adff2f",oDe="#808080",sDe="#f0fff0",lDe="#ff69b4",uDe="#cd5c5c",cDe="#4b0082",fDe="#fffff0",hDe="#f0e68c",dDe="#fff0f5",pDe="#e6e6fa",vDe="#7cfc00",gDe="#fffacd",mDe="#add8e6",_De="#f08080",yDe="#e0ffff",xDe="#fafad2",bDe="#d3d3d3",wDe="#90ee90",EDe="#d3d3d3",SDe="#ffb6c1",CDe="#ffa07a",TDe="#20b2aa",ADe="#87cefa",IDe="#778899",RDe="#778899",PDe="#b0c4de",ODe="#ffffe0",kDe="#00ff00",FDe="#32cd32",NDe="#faf0e6",LDe="#ff00ff",MDe="#800000",BDe="#66cdaa",DDe="#0000cd",UDe="#ba55d3",jDe="#9370db",$De="#3cb371",GDe="#7b68ee",VDe="#00fa9a",HDe="#48d1cc",XDe="#c71585",zDe="#191970",WDe="#f5fffa",YDe="#ffe4e1",qDe="#ffe4b5",KDe="#ffdead",ZDe="#000080",JDe="#fdf5e6",QDe="#808000",e8e="#6b8e23",t8e="#ffa500",r8e="#ff4500",n8e="#da70d6",i8e="#eee8aa",a8e="#98fb98",o8e="#afeeee",s8e="#db7093",l8e="#ffefd5",u8e="#ffdab9",c8e="#cd853f",f8e="#ffc0cb",h8e="#dda0dd",d8e="#b0e0e6",p8e="#800080",v8e="#663399",g8e="#ff0000",m8e="#bc8f8f",_8e="#4169e1",y8e="#8b4513",x8e="#fa8072",b8e="#f4a460",w8e="#2e8b57",E8e="#fff5ee",S8e="#a0522d",C8e="#c0c0c0",T8e="#87ceeb",A8e="#6a5acd",I8e="#708090",R8e="#708090",P8e="#fffafa",O8e="#00ff7f",k8e="#4682b4",F8e="#d2b48c",N8e="#008080",L8e="#d8bfd8",M8e="#ff6347",B8e="#40e0d0",D8e="#ee82ee",U8e="#f5deb3",j8e="#ffffff",$8e="#f5f5f5",G8e="#ffff00",V8e="#9acd32",H8e={aliceblue:iBe,antiquewhite:aBe,aqua:oBe,aquamarine:sBe,azure:lBe,beige:uBe,bisque:cBe,black:fBe,blanchedalmond:hBe,blue:dBe,blueviolet:pBe,brown:vBe,burlywood:gBe,cadetblue:mBe,chartreuse:_Be,chocolate:yBe,coral:xBe,cornflowerblue:bBe,cornsilk:wBe,crimson:EBe,cyan:SBe,darkblue:CBe,darkcyan:TBe,darkgoldenrod:ABe,darkgray:IBe,darkgreen:RBe,darkgrey:PBe,darkkhaki:OBe,darkmagenta:kBe,darkolivegreen:FBe,darkorange:NBe,darkorchid:LBe,darkred:MBe,darksalmon:BBe,darkseagreen:DBe,darkslateblue:UBe,darkslategray:jBe,darkslategrey:$Be,darkturquoise:GBe,darkviolet:VBe,deeppink:HBe,deepskyblue:XBe,dimgray:zBe,dimgrey:WBe,dodgerblue:YBe,firebrick:qBe,floralwhite:KBe,forestgreen:ZBe,fuchsia:JBe,gainsboro:QBe,ghostwhite:eDe,goldenrod:tDe,gold:rDe,gray:nDe,green:iDe,greenyellow:aDe,grey:oDe,honeydew:sDe,hotpink:lDe,indianred:uDe,indigo:cDe,ivory:fDe,khaki:hDe,lavenderblush:dDe,lavender:pDe,lawngreen:vDe,lemonchiffon:gDe,lightblue:mDe,lightcoral:_De,lightcyan:yDe,lightgoldenrodyellow:xDe,lightgray:bDe,lightgreen:wDe,lightgrey:EDe,lightpink:SDe,lightsalmon:CDe,lightseagreen:TDe,lightskyblue:ADe,lightslategray:IDe,lightslategrey:RDe,lightsteelblue:PDe,lightyellow:ODe,lime:kDe,limegreen:FDe,linen:NDe,magenta:LDe,maroon:MDe,mediumaquamarine:BDe,mediumblue:DDe,mediumorchid:UDe,mediumpurple:jDe,mediumseagreen:$De,mediumslateblue:GDe,mediumspringgreen:VDe,mediumturquoise:HDe,mediumvioletred:XDe,midnightblue:zDe,mintcream:WDe,mistyrose:YDe,moccasin:qDe,navajowhite:KDe,navy:ZDe,oldlace:JDe,olive:QDe,olivedrab:e8e,orange:t8e,orangered:r8e,orchid:n8e,palegoldenrod:i8e,palegreen:a8e,paleturquoise:o8e,palevioletred:s8e,papayawhip:l8e,peachpuff:u8e,peru:c8e,pink:f8e,plum:h8e,powderblue:d8e,purple:p8e,rebeccapurple:v8e,red:g8e,rosybrown:m8e,royalblue:_8e,saddlebrown:y8e,salmon:x8e,sandybrown:b8e,seagreen:w8e,seashell:E8e,sienna:S8e,silver:C8e,skyblue:T8e,slateblue:A8e,slategray:I8e,slategrey:R8e,snow:P8e,springgreen:O8e,steelblue:k8e,tan:F8e,teal:N8e,thistle:L8e,tomato:M8e,turquoise:B8e,violet:D8e,wheat:U8e,white:j8e,whitesmoke:$8e,yellow:G8e,yellowgreen:V8e};function hi(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function vk(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function gk(t){return typeof t=="string"&&(t=H8e[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function pa(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function X8e(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[st.NORMAL_NPM]=st.NORMAL,t[st.ADD_NPM]=st.ADD,t[st.SCREEN_NPM]=st.SCREEN,e[st.NORMAL]=st.NORMAL_NPM,e[st.ADD]=st.ADD_NPM,e[st.SCREEN]=st.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var mk=X8e();function _k(t,e){return mk[e?1:0][t]}function bX(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function ob(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function yk(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function wX(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function sb(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var z8e={Float32Array,Uint32Array,Int32Array,Uint8Array};function W8e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=sb(u);i[f]||(i[f]=new z8e[f](o)),s=i[f];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+c,d=h%l;s[p+d]=u[h]}c+=l}return new Float32Array(o)}function gv(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function xA(t){return!(t&t-1)&&!!t}function bA(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function As(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function Fc(t){return t===0?0:t<0?-1:1}var Y8e=0;function Ou(){return++Y8e}var c6={};function vl(t,e,r){if(r===void 0&&(r=3),!c6[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),c6[e]=!0}}var wA={},Ea=Object.create(null),uo=Object.create(null);function q8e(){var t;for(t in Ea)Ea[t].destroy();for(t in uo)uo[t].destroy()}function EX(){var t;for(t in Ea)delete Ea[t];for(t in uo)delete uo[t]}var EA=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||_t.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function SX(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},c=null,l,u,f;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%e,f=~~(l/4/e),s.top===null&&(s.top=f),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,c=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:c}}var CX=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function K8e(t){var e=CX.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Hm;function TX(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,Hm||(Hm=document.createElement("a")),Hm.href=t;var r=kc.parse(Hm.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function mv(t,e){var r=_t.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const Z8e=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:uo,CanvasRenderTarget:EA,DATA_URI:CX,EventEmitter:mf,ProgramCache:wA,TextureCache:Ea,clearTextureCache:EX,correctBlendMode:_k,createIndicesForQuads:wX,decomposeDataUri:K8e,deprecation:vl,destroyTextureCache:q8e,determineCrossOrigin:TX,earcut:sk,getBufferType:sb,getResolutionOfUrl:mv,hex2rgb:hi,hex2string:vk,interleaveTypedArrays:W8e,isMobile:vo,isPow2:xA,isWebGLSupported:xX,log2:bA,nextPow2:gv,premultiplyBlendMode:mk,premultiplyRgba:bX,premultiplyTint:ob,premultiplyTintToRgba:yk,removeItems:As,rgb2hex:pa,sayHello:yX,sign:Fc,skipHello:nBe,string2hex:gk,trimCanvas:SX,uid:Ou,url:kc},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _v=Math.PI*2,xk=180/Math.PI,gl=Math.PI/180,dn;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(dn||(dn={}));var hr=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Xm=[new hr,new hr,new hr,new hr],Jt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=dn.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,c=this.right,l=this.top,u=this.bottom;if(c<=s||u<=l)return!1;var f=Xm[0].set(e.left,e.top),h=Xm[1].set(e.left,e.bottom),p=Xm[2].set(e.right,e.top),d=Xm[3].set(e.right,e.bottom);if(p.x<=f.x||h.y<=f.y)return!1;var v=Math.sign(r.a*r.d-r.b*r.c);if(v===0||(r.apply(f,f),r.apply(h,h),r.apply(p,p),r.apply(d,d),Math.max(f.x,h.x,p.x,d.x)<=s||Math.min(f.x,h.x,p.x,d.x)>=c||Math.max(f.y,h.y,p.y,d.y)<=l||Math.min(f.y,h.y,p.y,d.y)>=u))return!1;var m=v*(h.y-f.y),g=v*(f.x-h.x),_=m*s+g*l,x=m*c+g*l,b=m*s+g*u,w=m*c+g*u;if(Math.max(_,x,b,w)<=m*f.x+g*f.y||Math.min(_,x,b,w)>=m*d.x+g*d.y)return!1;var E=v*(f.y-p.y),C=v*(p.x-f.x),T=E*s+C*l,I=E*c+C*l,R=E*s+C*u,O=E*c+C*u;return!(Math.max(T,I,R,O)<=E*f.x+C*f.y||Math.min(T,I,R,O)>=E*d.x+C*d.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),AX=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=dn.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new Jt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),IX=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=dn.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new Jt(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Wh=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=dn.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],c=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],f=c>r!=u>r&&e<(l-s)*((r-c)/(u-c))+s;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),RX=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=dn.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),Ql=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),nn=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new hr;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new hr;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,c,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-c)*o,this.d=Math.cos(s-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),c=Math.atan2(n,r),l=Math.abs(s+c);return l<1e-5||Math.abs(_v-l)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),vc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],gc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],mc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],_c=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],SA=[],PX=[],zm=Math.sign;function J8e(){for(var t=0;t<16;t++){var e=[];SA.push(e);for(var r=0;r<16;r++)for(var n=zm(vc[t]*vc[r]+mc[t]*gc[r]),i=zm(gc[t]*vc[r]+_c[t]*gc[r]),a=zm(vc[t]*mc[r]+mc[t]*_c[r]),o=zm(gc[t]*mc[r]+_c[t]*_c[r]),s=0;s<16;s++)if(vc[s]===n&&gc[s]===i&&mc[s]===a&&_c[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var c=new nn;c.set(vc[t],gc[t],mc[t],_c[t],0,0),PX.push(c)}}J8e();var cn={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return vc[t]},uY:function(t){return gc[t]},vX:function(t){return mc[t]},vY:function(t){return _c[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return SA[t][e]},sub:function(t,e){return SA[t][cn.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?cn.S:cn.N:Math.abs(e)*2<=Math.abs(t)?t>0?cn.E:cn.W:e>0?t>0?cn.SE:cn.SW:t>0?cn.NE:cn.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=PX[cn.inv(e)];i.tx=r,i.ty=n,t.append(i)}},fg=function(){function t(){this.worldTransform=new nn,this.localTransform=new nn,this.position=new Ql(this.onChange,this,0,0),this.scale=new Ql(this.onChange,this,1,1),this.pivot=new Ql(this.onChange,this,0,0),this.skew=new Ql(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */_t.SORTABLE_CHILDREN=!1;var cd=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Jt.EMPTY:(e=e||new Jt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,p=this.minY,d=this.maxX,v=this.maxY,m=o*r+c*n+u,g=s*r+l*n+f;h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*i+c*n+u,g=s*i+l*n+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*r+c*a+u,g=s*r+l*a+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*i+c*a+u,g=s*i+l*a+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,this.minX=h,this.minY=p,this.maxX=d,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,p=this.minX,d=this.minY,v=this.maxX,m=this.maxY,g=n;g<i;g+=2){var _=r[g],x=r[g+1],b=s*_+l*x+f,w=u*x+c*_+h;p=Math.min(p,b-a),v=Math.max(v,b+a),d=Math.min(d,w-o),m=Math.max(m,w+o)}this.minX=p,this.minY=d,this.maxX=v,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var CA=function(t,e){return CA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},CA(t,e)};function bk(t,e){CA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kn=function(t){bk(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new fg,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new cd,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Jt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new Jt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new cd);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new wk),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*xk},set:function(r){this.transform.rotation=r*gl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(mf),wk=function(t){bk(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(kn);kn.prototype.displayObjectUpdateTransform=kn.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var f6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(f6||(f6={}));var h6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(h6||(h6={}));var d6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(d6||(d6={}));var p6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(p6||(p6={}));var v6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(v6||(v6={}));var g6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(g6||(g6={}));var m6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(m6||(m6={}));var _6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(_6||(_6={}));var y6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(y6||(y6={}));var x6;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(x6||(x6={}));var b6;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(b6||(b6={}));var w6;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(w6||(w6={}));var E6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(E6||(E6={}));var S6;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(S6||(S6={}));var C6;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(C6||(C6={}));var T6;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(T6||(T6={}));var TA;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(TA||(TA={}));var A6;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(A6||(A6={}));var I6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(I6||(I6={}));function Q8e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var fi=function(t){bk(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=_t.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);As(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,As(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,As(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(Q8e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==TA.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(kn);fi.prototype.containerUpdateTransform=fi.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var OX={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};kn.mixin(OX);var e6e=9,Wm=100,t6e=0,r6e=0,R6=2,P6=1,n6e=-1e3,i6e=-1e3,a6e=2,kX=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(vo.tablet||vo.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Wm+"px",r.style.height=Wm+"px",r.style.position="absolute",r.style.top=t6e+"px",r.style.left=r6e+"px",r.style.zIndex=R6.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=P6+"px",r.style.height=P6+"px",r.style.position="absolute",r.style.top=n6e+"px",r.style.left=i6e+"px",r.style.zIndex=a6e.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(vo.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,c=s.width,l=s.height,u=s.resolution,f=a/c*u,h=o/l*u,p=this.div;p.style.left=n+"px",p.style.top=i+"px",p.style.width=c+"px",p.style.height=l+"px";for(var d=0;d<this.children.length;d++){var v=this.children[d];if(v.renderId!==this.renderId)v._accessibleActive=!1,As(this.children,d,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,d--;else{p=v._accessibleDiv;var m=v.hitArea,g=v.worldTransform;v.hitArea?(p.style.left=(g.tx+m.x*g.a)*f+"px",p.style.top=(g.ty+m.y*g.d)*h+"px",p.style.width=m.width*g.a*f+"px",p.style.height=m.height*g.d*h+"px"):(m=v.getBounds(),this.capHitArea(m),p.style.left=m.x*f+"px",p.style.top=m.y*h+"px",p.style.width=m.width*f+"px",p.style.height=m.height*h+"px",p.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(p.title=v.accessibleTitle),p.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&p.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==p.title||v.tabIndex!==p.tabIndex)&&(p.title=v.accessibleTitle,p.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Wm+"px",r.style.height=Wm+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=R6.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===e6e&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */_t.TARGET_FPMS=.06;var Ko;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(Ko||(Ko={}));var B2=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),bn=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new B2(null,null,1/0),this.deltaMS=1/_t.TARGET_FPMS,this.elapsedMS=1/_t.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=Ko.NORMAL),this._addListener(new B2(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=Ko.NORMAL),this._addListener(new B2(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*_t.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,_t.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),FX=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Ko.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?bn.shared:new bn,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var AA=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new hr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var IA=function(t,e){return IA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},IA(t,e)};function o6e(t,e){IA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var NX=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),J_=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),s6e=function(){function t(){this._tempPoint=new hr}return t.prototype.recursiveFindHit=function(e,r,n,i,a){if(!r||!r.visible)return!1;var o=e.data.global;a=r.interactive||a;var s=!1,c=a,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(o,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),c=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(o)||(i=!1)),l&&r.interactiveChildren&&r.children)for(var u=r.children,f=u.length-1;f>=0;f--){var h=u[f],p=this.recursiveFindHit(e,h,n,i,c);if(p){if(!h.parent)continue;c=!1,p&&(e.target&&(i=!1),s=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(o)&&(s=!0),r.interactive&&(s&&!e.target&&(e.target=r),n&&n(e,r,!!s))),s},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),LX={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};kn.mixin(LX);var Ym=1,qm={target:null,data:{global:null}},MX=function(t){o6e(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new AA,i.mouse.identifier=Ym,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Ym]=i.mouse,i.interactionDataPool=[],i.eventData=new NX,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new s6e,i._tempDisplayObject=new wk,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return qm.target=null,qm.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(qm,n,null,!0),qm.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(bn.system.add(this.tickerUpdate,this,Ko.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(bn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var c=s.length;this.delayedEvents=[];for(var l=0;l<c;l++){var u=s[l],f=u.displayObject,h=u.eventString,p=u.eventData;p.stopsPropagatingAt===f&&(p.stopPropagationHint=!0),this.dispatchEvent(f,h,p)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],c=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,c);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new J_(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var a=this.normalizeToPointerData(r),o=a.length,s=r.target!==this.interactionDOMElement?"outside":"",c=0;c<o;c++){var l=a[c],u=this.getInteractionDataForPointerId(l),f=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,f),l.pointerType==="mouse"||l.pointerType==="pen"){var h=l.button===2;this.emit(h?"rightup"+s:"mouseup"+s,f)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,f),this.releaseInteractionDataForPointerId(l.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],c=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var f=a.button===2,h=J_.FLAGS,p=f?h.RIGHT_DOWN:h.LEFT_DOWN,d=s!==void 0&&s.flags&p;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),d&&(this.dispatchEvent(n,f?"rightclick":"click",r),u=!0)):d&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),s&&(f?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),c&&this.dispatchEvent(n,"touchend",r),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",r),c&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),c&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),c=this.configureInteractionEventForDOMEvent(this.eventData,o,s);c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",c),o.pointerType==="touch"&&this.emit("touchmove",c),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",c)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",c=n.trackedPointers[o];i&&!c&&(c=n.trackedPointers[o]=new J_(o)),c!==void 0&&(i&&this.mouseOverRenderer?(c.over||(c.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):c.over&&(c.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),c.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Ym||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new AA,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=Ym),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(mf);/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Li=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,c){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,f=l.items;this._aliasCount++;for(var h=0,p=f.length;h<p;h++)f[h][u](e,r,n,i,a,o,s,c);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Li.prototype,{dispatch:{value:Li.prototype.emit},run:{value:Li.prototype.emit}});/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */_t.PREFER_ENV=vo.any?Rs.WEBGL:Rs.WEBGL2;_t.STRICT_TEXTURE_CACHE=!1;var yv=[];function lb(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=yv.length-1;i>=0;--i){var a=yv[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var RA=function(t,e){return RA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},RA(t,e)};function Zr(t,e){RA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var PA=function(){return PA=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},PA.apply(this,arguments)};function l6e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]]);return r}var af=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Li("setRealSize"),this.onUpdate=new Li("update"),this.onError=new Li("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Uu=function(t){Zr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===va.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(af),u6e={scaleMode:wi.NEAREST,format:rt.RGBA,alphaMode:va.NPM},lr=function(t){Zr(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,c=n.scaleMode,l=n.width,u=n.height,f=n.wrapMode,h=n.format,p=n.type,d=n.target,v=n.resolution,m=n.resourceOptions;return r&&!(r instanceof af)&&(r=lb(r,m),r.internal=!0),i.resolution=v||_t.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:_t.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:_t.ANISOTROPIC_LEVEL,i._wrapMode=f||_t.WRAP_MODE,i._scaleMode=c!==void 0?c:_t.SCALE_MODE,i.format=h||rt.RGBA,i.type=p||Tt.UNSIGNED_BYTE,i.target=d||pu.TEXTURE_2D,i.alphaMode=a!==void 0?a:va.UNPACK,i.uid=Ou(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=xA(this.realWidth)&&xA(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete uo[this.cacheId],delete Ea[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=_t.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Ou()}o=r._pixiId}var c=uo[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return c||(c=new e(r,n),c.cacheId=o,e.addToCache(c,o)),c},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new Uu(r,{width:n,height:i}),s=r instanceof Float32Array?Tt.FLOAT:Tt.UNSIGNED_BYTE;return new e(o,Object.assign(u6e,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),uo[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),uo[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=uo[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete uo[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete uo[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(mf),ub=function(t){Zr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var c=0;c<r;c++){var l=new lr;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof af?this.addResourceAt(r[i],i):this.addResourceAt(lb(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(af),Ek=function(t){Zr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c,l;return Array.isArray(r)?(c=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,c&&i.initFromArray(c,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=pu.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,c=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var u=0;u<o;u++){var f=c[u];s[u]<f.dirtyId&&(s[u]=f.dirtyId,f.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(ub),Ps=function(t){Zr(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=TX(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,c=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===va.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=c,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(af),cb=function(t){Zr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(Ps),Sk=function(t){Zr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=pu.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),c!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=pu.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=pu.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(ub),fb=function(t){Zr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;Ps.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:_t.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(c){a(c),n.onError.emit(c)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===va.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var c=o[s];if(c!==i&&c.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(Ps),Ck=function(t){Zr(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;Ps.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var c=r.source;c.width=o,c.height=s,c._pixiId="canvas_"+Ou(),c.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Ps),Tk=function(t){Zr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];Ps.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var c=document.createElement("source"),l=r[s],u=l.src,f=l.mime;u=u||r[s];var h=u.split("?").shift().toLowerCase(),p=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[p]||"video/"+p,c.src=u,c.type=f,a.appendChild(c)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=bn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(bn.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(bn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Ps),Ak=function(t){Zr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},e}(Ps);yv.push(fb,Ak,cb,Tk,Ck,Uu,Sk,Ek);var BX={__proto__:null,Resource:af,BaseImageResource:Ps,INSTALLED:yv,autoDetectResource:lb,AbstractMultiResource:ub,ArrayResource:Ek,BufferResource:Uu,CanvasResource:cb,CubeResource:Sk,ImageResource:fb,SVGResource:Ck,VideoResource:Tk,ImageBitmapResource:Ak},c6e=function(t){Zr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===va.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(Uu),ix=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Li("disposeFramebuffer"),this.multisample=$n.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new lr(null,{scaleMode:wi.NEAREST,resolution:1,mipmap:Pa.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new lr(new c6e(null,{width:this.width,height:this.height}),{scaleMode:wi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Pa.OFF,format:rt.DEPTH_COMPONENT,type:Tt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Ik=function(t){Zr(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:$n.NONE,n=t.call(this,null,r)||this,n.mipmap=Pa.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new ix(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(lr),Rk=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,c=e.x/i+o,l=e.y/a+s;n=cn.add(n,cn.NW),this.x0=c+o*cn.uX(n),this.y0=l+s*cn.uY(n),n=cn.add(n,2),this.x1=c+o*cn.uX(n),this.y1=l+s*cn.uY(n),n=cn.add(n,2),this.x2=c+o*cn.uX(n),this.y2=l+s*cn.uY(n),n=cn.add(n,2),this.x3=c+o*cn.uX(n),this.y3=l+s*cn.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),O6=new Rk;function Km(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var Pt=function(t){Zr(e,t);function e(r,n,i,a,o,s){var c=t.call(this)||this;if(c.noFrame=!1,n||(c.noFrame=!0,n=new Jt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=a,c.valid=!1,c._uvs=O6,c.uvMatrix=null,c.orig=i||n,c._rotate=Number(o||0),o===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=s?new hr(s.x,s.y):new hr(0,0),c._updateID=0,c.textureCacheIds=[],r.valid?c.noFrame?r.valid&&c.onBaseTextureUpdated(r):c.frame=n:r.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&r.on("update",c.onBaseTextureUpdated,c),c}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Ea[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===O6&&(this._uvs=new Rk),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=_t.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof lr){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+Ou(),lr.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Ou()}o=r._pixiId}var c=Ea[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!c&&!(r instanceof lr)?(n.resolution||(n.resolution=mv(r)),c=new e(new lr(r,n)),c.baseTexture.cacheId=o,lr.addToCache(c.baseTexture,o),e.addToCache(c,o)):!c&&r instanceof lr&&(c=new e(r),e.addToCache(c,o)),c},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(lr.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new lr(r,Object.assign({scaleMode:_t.SCALE_MODE,resolution:mv(n)},a)),s=o.resource;s instanceof fb&&(s.url=n);var c=new e(o);return i||(i=n),lr.addToCache(c.baseTexture,i),e.addToCache(c,i),i!==n&&(lr.addToCache(c.baseTexture,n),e.addToCache(c,n)),c.baseTexture.valid?Promise.resolve(c):new Promise(function(l){c.baseTexture.once("loaded",function(){return l(c)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Ea[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Ea[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Ea[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Ea[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)Ea[r.textureCacheIds[a]]===r&&delete Ea[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,c=i+o>this.baseTexture.height;if(s||c){var l=s&&c?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+f))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new lr),Km(e._EMPTY),Km(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=document.createElement("canvas"),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(new lr(new cb(r))),Km(e._WHITE),Km(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(mf),ku=function(t){Zr(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(vl("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new Ik(r))},e}(Pt),DX=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=$n.NONE);var i=new Ik(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ku(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=$n.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=gv(e),r=gv(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||$n.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),OA=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=Tt.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),f6e=0,Kn=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=f6e++,this.disposeRunner=new Li("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Wo.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Wo.ELEMENT_ARRAY_BUFFER:Wo.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),h6e={Float32Array,Uint32Array,Int32Array,Uint8Array};function d6e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=sb(u);i[f]||(i[f]=new h6e[f](o)),s=i[f];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+c,d=h%l;s[p+d]=u[h]}c+=l}return new Float32Array(o)}var k6={5126:4,5123:2,5121:1},p6e=0,v6e={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},qd=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=p6e++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Li("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,c){if(n===void 0&&(n=0),i===void 0&&(i=!1),c===void 0&&(c=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Kn||(r instanceof Array&&(r=new Float32Array(r)),r=new Kn(r));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],r,n,i,a);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new OA(f,n,i,a,o,s,c),this.instanced=this.instanced||c,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof Kn||(e instanceof Array&&(e=new Uint16Array(e)),e=new Kn(e)),e.type=Wo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new Kn,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*k6[a.type]/4),a.buffer=0}for(n.data=d6e(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new Kn(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new OA(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Wo.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,a[c]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new v6e[sb(o.buffers[s].data)](i[s]),r.buffers[s]=new Kn(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,a[c]),a[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Wo.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,f=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var p=o.attributes[s];(p.buffer|0)===h&&(u+=p.size*k6[p.type]/4)}for(var s=0;s<e.length;s++){for(var d=e[s].indexBuffer.data,c=0;c<d.length;c++)r.indexBuffer.data[c+f]+=l;l+=e[s].buffers[h].data.length/u,f+=d.length}}return r},t}(),UX=function(t){Zr(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(qd),Pk=function(t){Zr(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new Kn(r.vertices),r.uvBuffer=new Kn(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(qd),g6e=0,vu=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=g6e++,this.static=!!r,this.ubo=!!n,e instanceof Kn?(this.buffer=e,this.buffer.type=Wo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Kn(new Float32Array(1)),this.buffer.type=Wo.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),jX=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=$n.NONE,this.sourceFrame=new Jt,this.destinationFrame=new Jt,this.bindingSourceFrame=new Jt,this.bindingDestinationFrame=new Jt,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Zm=[new hr,new hr,new hr,new hr],D2=new nn,Ok=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new DX,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new UX,this.quadUv=new Pk,this.tempRect=new Jt,this.activeState={},this.globalUniforms=new vu({outputFrame:new Jt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new jX,c=this.renderer.renderTexture,l=r[0].resolution,u=r[0].multisample,f=r[0].padding,h=r[0].autoFit,p=(n=r[0].legacy)!==null&&n!==void 0?n:!0,d=1;d<r.length;d++){var v=r[d];l=Math.min(l,v.resolution),u=Math.min(u,v.multisample),f=this.useMaxPadding?Math.max(f,v.padding):f+v.padding,h=h&&v.autoFit,p=p||((i=v.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),o.push(s),s.resolution=l,s.multisample=u,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);var m=this.tempRect.copyFrom(c.sourceFrame);a.projection.transform&&this.transformAABB(D2.copyFrom(a.projection.transform).invert(),m),h?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,c.current?c.current.resolution:a.resolution,c.sourceFrame,c.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(c.sourceFrame),s.bindingDestinationFrame.copyFrom(c.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,c.bind(s.renderTexture,s.sourceFrame,g),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,rl.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,f=this.getOptimalFilterTexture(u.width,u.height,r.resolution);f.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(u.width,u.height,r.resolution),f.filterFrame=u.filterFrame),n[h].apply(this,u,f,rl.CLEAR,r);var p=u;u=f,f=p}n[h].apply(this,u,l.renderTexture,rl.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=rl.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===rl.CLEAR||r===rl.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Ga.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Ga.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),c=r.worldTransform.copyTo(nn.TEMP_MATRIX);return c.invert(),s.prepend(c),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=$n.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||$n.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=Zm[0],i=Zm[1],a=Zm[2],o=Zm[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),c=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),u=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=c,r.width=l-s,r.height=u-c},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,c=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?D2.copyFrom(a):D2.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),hg=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),kk=function(){function t(e){this.renderer=e,this.emptyRenderer=new hg(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,c=0,l=0;l<s;l++){var u=a[l],f=u._batchLocation;if(f>=0&&f<i&&r[f]===u){o[l]=f;continue}for(;c<i;){var h=r[c];if(h&&h._batchEnabled===n&&h._batchLocation===c){c++;continue}o[l]=c,u._batchLocation=c,r[c]=u;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),F6=0,Fk=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=F6++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=F6++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(_t.PREFER_ENV>=Rs.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),$X=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=$n.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),m6e=new Jt,Nk=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new ix(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Jt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;_t.PREFER_ENV===Rs.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var c=r.width>>n,l=r.height>>n,u=c/r.width;this.setViewport(r.x*u,r.y*u,c,l)}else{var c=e.width>>n,l=e.height>>n;this.setViewport(0,0,c,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=pv.COLOR|pv.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new $X(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],c=s.parentTextureArray||s;this.renderer.texture.bind(c,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],c=0;c<o;c++){var l=a[c],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),!(c===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,l.target,u._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+c))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=$n.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=$n.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,c=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[c];if(l){if(!e){if(!l.msaaBuffer)return;var u=a.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new ix(a.width,a.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=m6e,r.width=a.width,r.height=a.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,f?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Jt},t.prototype.destroy=function(){this.renderer=null},t}(),U2={5126:4,5123:2,5121:1},Lk=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;_t.PREFER_ENV===Rs.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,c,l){return i.drawElementsInstancedANGLE(a,o,s,c,l)},e.drawArraysInstanced=function(a,o,s,c){return i.drawArraysInstancedANGLE(a,o,s,c)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var c=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[c];if(u)return l[s.id]=u,u;var f=e.buffers,h=e.attributes,p={},d={};for(var v in f)p[v]=0,d[v]=0;for(var v in h)!h[v].size&&s.attributeData[v]?h[v].size=s.attributeData[v].size:h[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[h[v].buffer]+=h[v].size*U2[h[v].type];for(var v in h){var m=h[v],g=m.size;m.stride===void 0&&(p[m.buffer]===g*U2[m.type]?m.stride=0:m.stride=p[m.buffer]),m.start===void 0&&(m.start=d[m.buffer],d[m.buffer]+=g*U2[m.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var _=0;_<f.length;_++){var x=f[_];o.bind(x),n&&x._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=u,l[s.id]=u,l[c]=u,u},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var c=0;c<o.length;c++){var l=o[c]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[c],r))}if(!r){for(var u in i)if(u[0]==="g"){var f=i[u];this._activeVao===f&&this.unbind(),a.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var c=null;for(var l in s){var u=s[l],f=o[u.buffer],h=f._glBuffers[i];if(r.attributeData[l]){c!==h&&(a.bind(f),c=h);var p=r.attributeData[l].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(p,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,c=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),GX=function(){function t(e){e===void 0&&(e=null),this.type=Oi.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=_t.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Oi.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function N6(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function L6(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,u){return u+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var c=r.join(`
`);s[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function _6e(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||L6(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||L6(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function j2(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function VX(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return j2(2*e);case"bvec3":return j2(3*e);case"bvec4":return j2(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var HX={},$0=HX;function XX(){if($0===HX||$0&&$0.isContextLost()){var t=document.createElement("canvas"),e=void 0;_t.PREFER_ENV>=Rs.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),$0=e}return $0}var Jm;function y6e(){if(!Jm){Jm=Go.MEDIUM;var t=XX();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Jm=e.precision?Go.HIGH:Go.MEDIUM}}return Jm}function M6(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Go.HIGH&&r!==Go.HIGH&&(n=Go.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Go.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var x6e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function zX(t){return x6e[t]}var Qm=null,B6={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function WX(t,e){if(!Qm){var r=Object.keys(B6);Qm={};for(var n=0;n<r.length;++n){var i=r[n];Qm[t[i]]=B6[i]}}return Qm[e]}var Hc=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],b6e={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},w6e={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function E6e(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,c=0;c<Hc.length;c++)if(Hc[c].test(a,o)){n.push(Hc[c].code(i,o)),s=!0;break}if(!s){var l=a.size===1?b6e:w6e,u=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var S6e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function C6e(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function YX(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=S6e.replace(/%forloop%/gi,C6e(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var G0;function T6e(){if(typeof G0=="boolean")return G0;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");G0=t({a:"b"},"a","b")===!0}catch{G0=!1}return G0}var A6e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,I6e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,R6e=0,e_={},Kd=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=R6e++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),e_[n]?(e_[n]++,n+="-"+e_[n]):e_[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=M6(this.vertexSrc,_t.PRECISION_VERTEX,Go.HIGH),this.fragmentSrc=M6(this.fragmentSrc,_t.PRECISION_FRAGMENT,y6e())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return I6e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return A6e},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=wA[i];return a||(wA[i]=a=new t(e,r,n)),a},t}(),fl=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof vu?this.uniformGroup=r:this.uniformGroup=new vu(r):this.uniformGroup=new vu({})}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=Kd.from(e,r);return new t(i,n)},t}(),$2=0,G2=1,V2=2,H2=3,X2=4,z2=5,ju=function(){function t(){this.data=0,this.blendMode=st.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<$2)},set:function(e){!!(this.data&1<<$2)!==e&&(this.data^=1<<$2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<G2)},set:function(e){!!(this.data&1<<G2)!==e&&(this.data^=1<<G2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<V2)},set:function(e){!!(this.data&1<<V2)!==e&&(this.data^=1<<V2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<H2)},set:function(e){!!(this.data&1<<H2)!==e&&(this.data^=1<<H2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<z2)},set:function(e){!!(this.data&1<<z2)!==e&&(this.data^=1<<z2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<X2)},set:function(e){!!(this.data&1<<X2)!==e&&(this.data^=1<<X2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==st.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),P6e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,O6e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,jt=function(t){Zr(e,t);function e(r,n,i){var a=this,o=Kd.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=_t.FILTER_RESOLUTION,a.multisample=_t.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new ju,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return P6e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return O6e},enumerable:!1,configurable:!0}),e}(fl),k6e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,F6e=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,D6=new nn,hb=function(){function t(e,r){this._texture=e,this.mapCoord=new nn,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&(D6.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(D6));var o=r.baseTexture,s=this.uClampFrame,c=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+c+l)/o.width,s[1]=(r._frame.y+c+l)/o.height,s[2]=(r._frame.x+r._frame.width-c+l)/o.width,s[3]=(r._frame.y+r._frame.height-c+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),qX=function(t){Zr(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||k6e,n||F6e,i)||this,a.maskSprite=o,a.maskMatrix=new nn,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new hb(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}(jt),Mk=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new GX;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n.autoDetect&&this.detect(n),n._target=e,n.type!==Oi.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Oi.SCISSOR:this.renderer.scissor.push(n);break;case Oi.STENCIL:this.renderer.stencil.push(n);break;case Oi.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===Oi.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Oi.SCISSOR:this.renderer.scissor.pop();break;case Oi.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Oi.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Oi.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r.isSprite?e.type=Oi.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Oi.SCISSOR:e.type=Oi.STENCIL},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new qX]));var s=this.renderer,c=s.renderTexture,l,u;if(c.current){var f=c.current;l=e.resolution||f.resolution,u=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else l=e.resolution||s.resolution,u=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=u,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),KX=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),U6=new nn,Bk=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,a=this.renderer,o=a.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?U6.copyFrom(o):U6.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(KX),Dk=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(KX),Uk=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new nn,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),ic=new Jt,V0=new Jt,jk=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Jt,this.destinationFrame=new Jt,this.viewportFrame=new Jt}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(ic.width=e.frame.width,ic.height=e.frame.height,r=ic),n||(V0.x=e.frame.x,V0.y=e.frame.y,V0.width=r.width,V0.height=r.height,n=V0),o=a.framebuffer):(s=i.resolution,r||(ic.width=i.screen.width,ic.height=i.screen.height,r=ic),n||(n=ic,n.width=r.width,n.height=r.height));var c=this.viewportFrame;c.x=n.x*s,c.y=n.y*s,c.width=n.width*s,c.height=n.height*s,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,c=o.y,l=o.width,u=o.height;s=Math.round(s),c=Math.round(c),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,c,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function N6e(t,e,r,n,i){r.buffer.update(i)}var L6e={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},ZX={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function JX(t){for(var e=t.map(function(c){return{data:c,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=ZX[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function QX(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function ez(t,e){if(!t.autoManage)return{size:0,syncFunc:N6e};for(var r=QX(t.uniforms,e),n=JX(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var c=i[s],l=t.uniforms[c.data.name],u=c.data.name,f=!1,h=0;h<Hc.length;h++){var p=Hc[h];if(p.codeUbo&&p.test(c.data,l)){o.push("offset = "+c.offset/4+";",Hc[h].codeUbo(c.data.name,l)),f=!0;break}}if(!f)if(c.data.size>1){var d=zX(c.data.type),v=Math.max(ZX[c.data.type]/16,1),m=d/v,g=(4-m%4)%4;o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;

                t = 0;

                for(var i=0; i < `+c.data.size*v+`; i++)
                {
                    for(var j = 0; j < `+m+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+g+`;
                }

                `)}else{var _=L6e[c.data.type];o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;
                `+_+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var M6e=function(){function t(){}return t}(),tz=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function B6e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=WX(e,a.type),s={type:o,name:a.name,size:zX(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function D6e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),c=WX(e,a.type);r[o]={name:o,index:i,type:c,size:a.size,isArray:s,value:VX(c,a.size)}}return r}function rz(t,e){var r=N6(t,t.VERTEX_SHADER,e.vertexSrc),n=N6(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||_6e(t,i,r,n),e.attributeData=B6e(i,t),e.uniformData=D6e(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(u,f){return u>f?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var c=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:VX(c.type,c.size)}}var l=new tz(i,s);return l}var U6e=0,t_={textureCount:0,uboCount:0},$k=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=U6e++}return t.prototype.systemCheck=function(){if(!T6e())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(t_.textureCount=0,t_.uboCount=0,this.syncUniformGroup(e.uniformGroup,t_)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=E6e(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,t_,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=ez(e,this.shader.program.uniformData)),e.autoManage){var c=new Float32Array(s.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=rz(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function j6e(t,e){return e===void 0&&(e=[]),e[st.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.ADD]=[t.ONE,t.ONE],e[st.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.NONE]=[0,0],e[st.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[st.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[st.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[st.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[st.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[st.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[st.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[st.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[st.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[st.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[st.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var $6e=0,G6e=1,V6e=2,H6e=3,X6e=4,z6e=5,Gk=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=st.NONE,this._blendEq=!1,this.map=[],this.map[$6e]=this.setBlend,this.map[G6e]=this.setOffset,this.map[V6e]=this.setCullFace,this.map[H6e]=this.setDepthTest,this.map[X6e]=this.setFrontFace,this.map[z6e]=this.setDepthMask,this.checks=[],this.defaultState=new ju,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=j6e(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),Vk=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=_t.GC_MAX_IDLE,this.checkCountMax=_t.GC_MAX_CHECK_COUNT,this.mode=_t.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==nx.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function W6e(t){var e,r,n,i,a,o,s,c,l,u,f,h,p,d,v,m,g,_,x,b,w,E,C;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?C=(e={},e[Tt.UNSIGNED_BYTE]=(r={},r[rt.RGBA]=t.RGBA8,r[rt.RGB]=t.RGB8,r[rt.RG]=t.RG8,r[rt.RED]=t.R8,r[rt.RGBA_INTEGER]=t.RGBA8UI,r[rt.RGB_INTEGER]=t.RGB8UI,r[rt.RG_INTEGER]=t.RG8UI,r[rt.RED_INTEGER]=t.R8UI,r[rt.ALPHA]=t.ALPHA,r[rt.LUMINANCE]=t.LUMINANCE,r[rt.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[Tt.BYTE]=(n={},n[rt.RGBA]=t.RGBA8_SNORM,n[rt.RGB]=t.RGB8_SNORM,n[rt.RG]=t.RG8_SNORM,n[rt.RED]=t.R8_SNORM,n[rt.RGBA_INTEGER]=t.RGBA8I,n[rt.RGB_INTEGER]=t.RGB8I,n[rt.RG_INTEGER]=t.RG8I,n[rt.RED_INTEGER]=t.R8I,n),e[Tt.UNSIGNED_SHORT]=(i={},i[rt.RGBA_INTEGER]=t.RGBA16UI,i[rt.RGB_INTEGER]=t.RGB16UI,i[rt.RG_INTEGER]=t.RG16UI,i[rt.RED_INTEGER]=t.R16UI,i[rt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[Tt.SHORT]=(a={},a[rt.RGBA_INTEGER]=t.RGBA16I,a[rt.RGB_INTEGER]=t.RGB16I,a[rt.RG_INTEGER]=t.RG16I,a[rt.RED_INTEGER]=t.R16I,a),e[Tt.UNSIGNED_INT]=(o={},o[rt.RGBA_INTEGER]=t.RGBA32UI,o[rt.RGB_INTEGER]=t.RGB32UI,o[rt.RG_INTEGER]=t.RG32UI,o[rt.RED_INTEGER]=t.R32UI,o[rt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[Tt.INT]=(s={},s[rt.RGBA_INTEGER]=t.RGBA32I,s[rt.RGB_INTEGER]=t.RGB32I,s[rt.RG_INTEGER]=t.RG32I,s[rt.RED_INTEGER]=t.R32I,s),e[Tt.FLOAT]=(c={},c[rt.RGBA]=t.RGBA32F,c[rt.RGB]=t.RGB32F,c[rt.RG]=t.RG32F,c[rt.RED]=t.R32F,c[rt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,c),e[Tt.HALF_FLOAT]=(l={},l[rt.RGBA]=t.RGBA16F,l[rt.RGB]=t.RGB16F,l[rt.RG]=t.RG16F,l[rt.RED]=t.R16F,l),e[Tt.UNSIGNED_SHORT_5_6_5]=(u={},u[rt.RGB]=t.RGB565,u),e[Tt.UNSIGNED_SHORT_4_4_4_4]=(f={},f[rt.RGBA]=t.RGBA4,f),e[Tt.UNSIGNED_SHORT_5_5_5_1]=(h={},h[rt.RGBA]=t.RGB5_A1,h),e[Tt.UNSIGNED_INT_2_10_10_10_REV]=(p={},p[rt.RGBA]=t.RGB10_A2,p[rt.RGBA_INTEGER]=t.RGB10_A2UI,p),e[Tt.UNSIGNED_INT_10F_11F_11F_REV]=(d={},d[rt.RGB]=t.R11F_G11F_B10F,d),e[Tt.UNSIGNED_INT_5_9_9_9_REV]=(v={},v[rt.RGB]=t.RGB9_E5,v),e[Tt.UNSIGNED_INT_24_8]=(m={},m[rt.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,m),e[Tt.FLOAT_32_UNSIGNED_INT_24_8_REV]=(g={},g[rt.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,g),e):C=(_={},_[Tt.UNSIGNED_BYTE]=(x={},x[rt.RGBA]=t.RGBA,x[rt.RGB]=t.RGB,x[rt.ALPHA]=t.ALPHA,x[rt.LUMINANCE]=t.LUMINANCE,x[rt.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,x),_[Tt.UNSIGNED_SHORT_5_6_5]=(b={},b[rt.RGB]=t.RGB,b),_[Tt.UNSIGNED_SHORT_4_4_4_4]=(w={},w[rt.RGBA]=t.RGBA,w),_[Tt.UNSIGNED_SHORT_5_5_5_1]=(E={},E[rt.RGBA]=t.RGBA,E),_),C}var Q_=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Tt.UNSIGNED_BYTE,this.internalFormat=rt.RGBA,this.samplerType=0}return t}(),Hk=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new lr,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=W6e(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new Q_(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Q_(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var c=s._glTextures[a];c.samplerType!==vv.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new Q_(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===Tt.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==vv.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&As(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Pa.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Ts.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==Pa.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===wi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===wi.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===wi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===wi.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),nz={__proto__:null,FilterSystem:Ok,BatchSystem:kk,ContextSystem:Fk,FramebufferSystem:Nk,GeometrySystem:Lk,MaskSystem:Mk,ScissorSystem:Bk,StencilSystem:Dk,ProjectionSystem:Uk,RenderTextureSystem:jk,ShaderSystem:$k,StateSystem:Gk,TextureGCSystem:Vk,TextureSystem:Hk},W2=new nn,iz=function(t){Zr(e,t);function e(r,n){r===void 0&&(r=ud.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},_t.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new Jt(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||_t.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(vl("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(vl("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=l6e(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var c=ku.create(PA({width:a.width,height:a.height},s));return W2.tx=-a.x,W2.ty=-a.y,this.render(r,{renderTexture:c,clear:!1,transform:W2,skipUpdateTransform:!!r.parent}),c},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=ud.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=vk(r),hi(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(mf),Y6e=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),q6e=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new Y6e(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),xl=function(t){Zr(e,t);function e(r){var n=t.call(this,ud.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Li("destroy"),contextChange:new Li("contextChange"),reset:new Li("reset"),update:new Li("update"),postrender:new Li("postrender"),prerender:new Li("prerender"),resize:new Li("resize")},n.runners.contextChange.add(n),n.globalUniforms=new vu({projectionMatrix:new nn},!0),n.addSystem(Mk,"mask").addSystem(Fk,"context").addSystem(Gk,"state").addSystem($k,"shader").addSystem(Hk,"texture").addSystem(q6e,"buffer").addSystem(Lk,"geometry").addSystem(Nk,"framebuffer").addSystem(Bk,"scissor").addSystem(Dk,"stencil").addSystem(Uk,"projection").addSystem(Vk,"textureGC").addSystem(Ok,"filter").addSystem(jk,"renderTexture").addSystem(kk,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,yX(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(xX())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=$n.HIGH?this.multisample=$n.HIGH:n>=$n.MEDIUM?this.multisample=$n.MEDIUM:n>=$n.LOW?this.multisample=$n.LOW:this.multisample=$n.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof ku?(vl("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var c=r.enableTempParent();r.updateTransform(),r.disableTempParent(c)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return vl("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(iz);function az(t){return xl.create(t)}var K6e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Z6e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,oz=K6e,Xk=Z6e,J6e=function(){function t(e){vl("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),ax=function(){function t(){this.texArray=null,this.blend=0,this.type=Ga.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),ox=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),xv=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),sz=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=ju.for2d(),n.size=_t.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;_t.PREFER_ENV===Rs.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),_t.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=YX(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new ax);for(;n.length<a;)n.push(new ox);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,c=this.renderer.textureGC.count,l=++lr._globalBatch,u=0,f=a[0],h=0;o.copyBoundTextures(s,i);for(var p=0;p<this._bufferSize;++p){var d=n[p];n[p]=null,d._batchEnabled!==l&&(f.count>=i&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,p),h=p,f=a[++u],++l),d._batchEnabled=l,d.touched=c,f.elements[f.count++]=d)}f.count>0&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,this._bufferSize),++u,++l);for(var p=0;p<s.length;p++)s[p]=null;lr._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,c=a._indexBuffer,l=a.vertexSize,u=e._drawCallPool,f=this._dcIndex,h=this._aIndex,p=this._iIndex,d=u[f];d.start=this._iIndex,d.texArray=r;for(var v=n;v<i;++v){var m=o[v],g=m._texture.baseTexture,_=mk[g.alphaMode?1:0][m.blendMode];o[v]=null,n<v&&d.blend!==_&&(d.size=p-d.start,n=v,d=u[++f],d.texArray=r,d.start=p),this.packInterleavedGeometry(m,s,c,h,p),h+=m.vertexData.length/2*l,p+=m.indices.length,d.blend=_}n<i&&(d.size=p-d.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=p},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;_t.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,c=0;c<r;c++){var l=o[c],u=l.texArray,f=l.type,h=l.size,p=l.start,d=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,a.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,p*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),_t.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=gv(Math.ceil(r/8)),i=bA(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new xv(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=gv(Math.ceil(r/12)),i=bA(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,c=n.float32View,l=a/this.vertexSize,u=r.uvs,f=r.indices,h=r.vertexData,p=r._texture.baseTexture._batchLocation,d=Math.min(r.worldAlpha,1),v=d<1&&r._texture.baseTexture.alphaMode?ob(r._tintRGB,d):r._tintRGB+(d*255<<24),m=0;m<h.length;m+=2)c[a++]=h[m],c[a++]=h[m+1],c[a++]=u[m],c[a++]=u[m+1],s[a++]=v,c[a++]=p;for(var m=0;m<f.length;m++)i[o++]=l+f[m]},e._drawCallPool=[],e._textureArrayPool=[],e}(hg),lz=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=vu.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Kd(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new nn,default:this.defaultGroupCache[e]};return new fl(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),zk=function(t){Zr(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new Kn(null,r,!1),n._indexBuffer=new Kn(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,Tt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,Tt.FLOAT).addAttribute("aColor",n._buffer,4,!0,Tt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,Tt.FLOAT).addIndex(n._indexBuffer),n}return e}(qd),j6=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,$6=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,uz=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:j6,fragment:$6,geometryClass:zk,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){Zr(c,s);function c(l){var u=s.call(this,l)||this;return u.shaderGenerator=new lz(n,i),u.geometryClass=o,u.vertexSize=a,u}return c}(sz)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return j6},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return $6},enumerable:!1,configurable:!0}),t}(),cz=uz.create(),fz={},Q6e=function(t){Object.defineProperty(fz,t,{get:function(){return vl("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),BX[t]}})};for(var Wk in BX)Q6e(Wk);var hz={},e5e=function(t){Object.defineProperty(hz,t,{get:function(){return vl("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),nz[t]}})};for(var Wk in nz)e5e(Wk);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dg=function(){function t(e){var r=this;this.stage=new fi,e=Object.assign({forceCanvas:!1},e),this.renderer=az(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),t5e=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();dg.registerPlugin(t5e);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Y2=/iPhone/i,G6=/iPod/i,V6=/iPad/i,H6=/\biOS-universal(?:.+)Mac\b/i,q2=/\bAndroid(?:.+)Mobile\b/i,X6=/Android/i,qf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,r_=/Silk/i,Zs=/Windows Phone/i,z6=/\bWindows(?:.+)ARM\b/i,W6=/BlackBerry/i,Y6=/BB10/i,q6=/Opera Mini/i,K6=/\b(CriOS|Chrome)(?:.+)Mobile/i,Z6=/Mobile(?:.+)Firefox\b/i,J6=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function r5e(t){return function(e){return e.test(t)}}function n5e(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=r5e(r),a={apple:{phone:i(Y2)&&!i(Zs),ipod:i(G6),tablet:!i(Y2)&&(i(V6)||J6(e))&&!i(Zs),universal:i(H6),device:(i(Y2)||i(G6)||i(V6)||i(H6)||J6(e))&&!i(Zs)},amazon:{phone:i(qf),tablet:!i(qf)&&i(r_),device:i(qf)||i(r_)},android:{phone:!i(Zs)&&i(qf)||!i(Zs)&&i(q2),tablet:!i(Zs)&&!i(qf)&&!i(q2)&&(i(r_)||i(X6)),device:!i(Zs)&&(i(qf)||i(r_)||i(q2)||i(X6))||i(/\bokhttp\b/i)},windows:{phone:i(Zs),tablet:i(z6),device:i(Zs)||i(z6)},other:{blackberry:i(W6),blackberry10:i(Y6),opera:i(q6),firefox:i(Z6),chrome:i(K6),device:i(W6)||i(Y6)||i(q6)||i(Z6)||i(K6)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Eh=n5e(globalThis.navigator);function i5e(t){var e=!0;if(Eh.tablet||Eh.phone){if(Eh.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Eh.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function a5e(){return!Eh.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Q6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Q6||(Q6={}));var e5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(e5||(e5={}));var t5;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(t5||(t5={}));var r5;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(r5||(r5={}));var n5;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(n5||(n5={}));var i5;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(i5||(i5={}));var a5;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(a5||(a5={}));var o5;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(o5||(o5={}));var s5;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(s5||(s5={}));var kA;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(kA||(kA={}));var FA;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(FA||(FA={}));var NA;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(NA||(NA={}));var l5;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(l5||(l5={}));var u5;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(u5||(u5={}));var LA;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(LA||(LA={}));var Mp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Mp||(Mp={}));var c5;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(c5||(c5={}));var MA;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(MA||(MA={}));var f5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(f5||(f5={}));var dz={MIPMAP_TEXTURES:NA.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MA.NONE,SPRITE_MAX_TEXTURES:i5e(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:LA.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:FA.CLAMP,SCALE_MODE:kA.LINEAR,PRECISION_VERTEX:Mp.HIGH,PRECISION_FRAGMENT:Eh.apple.device?Mp.HIGH:Mp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:a5e(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */dz.SORTABLE_CHILDREN=!1;var h5=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Jt.EMPTY:(e=e||new Jt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,p=this.minY,d=this.maxX,v=this.maxY,m=o*r+c*n+u,g=s*r+l*n+f;h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*i+c*n+u,g=s*i+l*n+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*r+c*a+u,g=s*r+l*a+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,m=o*i+c*a+u,g=s*i+l*a+f,h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,v=g>v?g:v,this.minX=h,this.minY=p,this.maxX=d,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,p=this.minX,d=this.minY,v=this.maxX,m=this.maxY,g=n;g<i;g+=2){var _=r[g],x=r[g+1],b=s*_+l*x+f,w=u*x+c*_+h;p=Math.min(p,b-a),v=Math.max(v,b+a),d=Math.min(d,w-o),m=Math.max(m,w+o)}this.minX=p,this.minY=d,this.maxX=v,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var BA=function(t,e){return BA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},BA(t,e)};function Yk(t,e){BA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bv=function(t){Yk(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new fg,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new h5,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Jt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new Jt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new h5);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new o5e),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*xk},set:function(r){this.transform.rotation=r*gl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(mf),o5e=function(t){Yk(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(bv);bv.prototype.displayObjectUpdateTransform=bv.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var d5;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(d5||(d5={}));var p5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(p5||(p5={}));var v5;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(v5||(v5={}));var g5;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(g5||(g5={}));var m5;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(m5||(m5={}));var _5;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(_5||(_5={}));var y5;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(y5||(y5={}));var x5;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(x5||(x5={}));var b5;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(b5||(b5={}));var w5;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(w5||(w5={}));var E5;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(E5||(E5={}));var S5;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(S5||(S5={}));var C5;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(C5||(C5={}));var T5;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(T5||(T5={}));var A5;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(A5||(A5={}));var I5;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(I5||(I5={}));var DA;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(DA||(DA={}));var R5;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(R5||(R5={}));var P5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(P5||(P5={}));function s5e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var O5=function(t){Yk(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=dz.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);As(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,As(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,As(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(s5e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==DA.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(bv);O5.prototype.containerUpdateTransform=O5.prototype.updateTransform;var K2=new Jt,k5=4,pz=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,a=!1,o,s=!1;e&&(e instanceof ku?o=e:(o=this.renderer.generateTexture(e),s=!0)),o?(n=o.baseTexture.resolution,i=o.frame,a=!1,r.renderTexture.bind(o)):(n=this.renderer.resolution,a=!0,i=K2,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var c=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),u=new EA(c,l,1),f=new Uint8Array(k5*c*l),h=r.gl;h.readPixels(i.x*n,i.y*n,c,l,h.RGBA,h.UNSIGNED_BYTE,f);var p=u.context.getImageData(0,0,c,l);if(t.arrayPostDivide(f,p.data),u.context.putImageData(p,0,0),a){var d=new EA(u.width,u.height,1);d.context.scale(1,-1),d.context.drawImage(u.canvas,0,-l),u.destroy(),u=d}return s&&o.destroy(!0),u.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,a,o,s=!1;e&&(e instanceof ku?o=e:e instanceof bv&&(o=this.renderer.generateTexture(e),s=!0)),o?r?(i=r.resolution,a=o.frame,n.renderTexture.bind(o)):(i=o.baseTexture.resolution,a=o.frame,n.renderTexture.bind(o)):r?(i=r.resolution,a=K2,a.width=r.width,a.height=r.height,n.renderTexture.bind(null)):(i=n.resolution,a=K2,a.width=n.width,a.height=n.height,n.renderTexture.bind(null));var c=a.width*i,l=a.height*i,u=new Uint8Array(k5*c*l),f=n.gl;return f.readPixels(a.x*i,a.y*i,c,l,f.RGBA,f.UNSIGNED_BYTE,u),s&&o.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var n_=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function F5(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var il=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof n_))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return F5(this,new n_(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return F5(this,new n_(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof n_))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function vz(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,c){s&&(i[r.q.name][s]=c)}),i}var Z2,i_=null,l5e=0,N5=200,u5e=204,c5e=1223,f5e=2;function L5(){}function M5(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function J2(t){return t.toString().replace("object ","")}var Mr=function(){function t(e,r,n){if(this._dequeue=L5,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=L5,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new il,this.onProgress=new il,this.onComplete=new il,this.onAfterMiddleware=new il}return t.setExtensionLoadType=function(e,r){M5(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){M5(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof Z2>"u"&&(Z2=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),Z2&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(J2(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(J2(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(J2(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?N5:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===l5e&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=N5:n===c5e&&(n=u5e);var i=n/100|0;if(i===f5e)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,i_||(i_=document.createElement("a")),i_.href=e;var n=vz(i_.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Mr||(Mr={}));function ac(){}function h5e(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var d5e=function(){function t(e,r){this.data=e,this.callback=r}return t}(),Q2=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=ac,this.unsaturated=ac,this.empty=ac,this.drain=ac,this.error=ac,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new d5e(i,typeof o=="function"?o:ac);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,h5e(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=ac,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(c){if(c||a===o){n&&n(c);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),eC=100,p5e=/(#[\w-]+)?$/,Oa=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this._queue=Q2.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new il,this.onError=new il,this.onLoad=new il,this.onStart=new il,this.onComplete=new il;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new Mr(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var c=a.progressChunk*(o.length+1),l=c/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=eC/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=vz(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=p5e.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,Q2.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=eC,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Q2.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(eC,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();Oa.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var gz=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Oa.shared:new Oa},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),mz=function(){function t(){}return t.add=function(){Mr.setExtensionLoadType("svg",Mr.LOAD_TYPE.XHR),Mr.setExtensionXhrType("svg",Mr.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===Mr.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;Pt.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t}(),v5e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function g5e(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=v5e.charAt(i[a])}return e}function m5e(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Mr.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+g5e(t.xhr.responseText),t.type=Mr.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Mr.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}Oa.registerPlugin({use:m5e});Oa.registerPlugin(mz);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Gr,Kt;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(Kt||(Kt={}));var wv=(Gr={},Gr[Kt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Gr[Kt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Gr[Kt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Gr[Kt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Gr[Kt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Gr[Kt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Gr[Kt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Gr[Kt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Gr[Kt.COMPRESSED_R11_EAC]=.5,Gr[Kt.COMPRESSED_SIGNED_R11_EAC]=.5,Gr[Kt.COMPRESSED_RG11_EAC]=1,Gr[Kt.COMPRESSED_SIGNED_RG11_EAC]=1,Gr[Kt.COMPRESSED_RGB8_ETC2]=.5,Gr[Kt.COMPRESSED_RGBA8_ETC2_EAC]=1,Gr[Kt.COMPRESSED_SRGB8_ETC2]=.5,Gr[Kt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Gr[Kt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Gr[Kt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Gr[Kt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Gr[Kt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Gr[Kt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Gr[Kt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Gr[Kt.COMPRESSED_RGB_ETC1_WEBGL]=.5,Gr[Kt.COMPRESSED_RGB_ATC_WEBGL]=.5,Gr[Kt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Gr[Kt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Gr);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var UA=function(t,e){return UA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},UA(t,e)};function _z(t,e){UA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function _5e(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(u){a(u)}}function s(l){try{c(n.throw(l))}catch(u){a(u)}}function c(l){l.done?i(l.value):new r(function(u){u(l.value)}).then(o,s)}c((n=n.apply(t,e||[])).next())})}function y5e(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var yz=function(t){_z(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new xv(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return _5e(this,void 0,Promise,function(){var r,n,i;return y5e(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new xv(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Uu),sx=function(t){_z(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,c=this.levels;s<c;s++){var l=this._levelBuffers[s],u=l.levelID,f=l.levelWidth,h=l.levelHeight,p=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,u,this.format,f,h,0,p)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,c){for(var l=new Array(i),u=r.byteOffset,f=s,h=c,p=f+a-1&~(a-1),d=h+o-1&~(o-1),v=p*d*wv[n],m=0;m<i;m++)l[m]={levelID:m,levelWidth:i>1?f:p,levelHeight:i>1?h:d,levelBuffer:new Uint8Array(r.buffer,u,v)},u+=v,f=f>>1||1,h=h>>1||1,p=f+a-1&~(a-1),d=h+o-1&~(o-1),v=p*d*wv[n];return l},e}(yz),xz=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===Mr.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,c=0,l=a.length;c<l;c++){var u=a[c],f=u.src,h=u.format;if(h||(s=f),t.textureFormats[h]){o=f;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=kc.resolve(e.url.replace(i.baseUrl,""),o),v=n.cacheID;i.add(v,d,p,function(m){if(m.error){r(m.error);return}var g=m.texture,_=g===void 0?null:g,x=m.textures,b=x===void 0?{}:x;Object.assign(e,{texture:_,textures:b}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=document.createElement("canvas"),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function bz(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new Pt(new lr(a,Object.assign({mipmap:Pa.OFF,alphaMode:va.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);lr.addToCache(s,c),Pt.addToCache(a,c),o===0&&(lr.addToCache(s,t),Pt.addToCache(a,t),n.texture=a),n.textures[c]=a}),n}var H0,Ao;Mr.setExtensionXhrType("dds",Mr.XHR_RESPONSE_TYPE.BUFFER);var tC=4,a_=124,x5e=32,B5=20,b5e=542327876,o_={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},w5e={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},s_={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Oo;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Oo||(Oo={}));var jA;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(jA||(jA={}));var E5e=1,S5e=2,C5e=4,T5e=64,A5e=512,I5e=131072,R5e=827611204,P5e=861165636,O5e=894720068,k5e=808540228,F5e=4,N5e=(H0={},H0[R5e]=Kt.COMPRESSED_RGBA_S3TC_DXT1_EXT,H0[P5e]=Kt.COMPRESSED_RGBA_S3TC_DXT3_EXT,H0[O5e]=Kt.COMPRESSED_RGBA_S3TC_DXT5_EXT,H0),L5e=(Ao={},Ao[Oo.DXGI_FORMAT_BC1_TYPELESS]=Kt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ao[Oo.DXGI_FORMAT_BC1_UNORM]=Kt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ao[Oo.DXGI_FORMAT_BC2_TYPELESS]=Kt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ao[Oo.DXGI_FORMAT_BC2_UNORM]=Kt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ao[Oo.DXGI_FORMAT_BC3_TYPELESS]=Kt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ao[Oo.DXGI_FORMAT_BC3_UNORM]=Kt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ao[Oo.DXGI_FORMAT_BC1_UNORM_SRGB]=Kt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Ao[Oo.DXGI_FORMAT_BC2_UNORM_SRGB]=Kt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Ao[Oo.DXGI_FORMAT_BC3_UNORM_SRGB]=Kt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Ao),wz=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,bz(e.name||e.url,t.parse(e.data),e.metadata))}catch(n){r(n);return}r()},t.parse=function(e){var r=new Uint32Array(e),n=r[0];if(n!==b5e)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,a_/Uint32Array.BYTES_PER_ELEMENT),a=i[o_.HEIGHT],o=i[o_.WIDTH],s=i[o_.MIPMAP_COUNT],c=new Uint32Array(e,o_.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,x5e/Uint32Array.BYTES_PER_ELEMENT),l=c[E5e];if(l&C5e){var u=c[w5e.FOURCC];if(u!==k5e){var f=N5e[u],h=tC+a_,p=new Uint8Array(e,h),d=new sx(p,{format:f,width:o,height:a,levels:s});return[d]}var v=tC+a_,m=new Uint32Array(r.buffer,v,B5/Uint32Array.BYTES_PER_ELEMENT),g=m[s_.DXGI_FORMAT],_=m[s_.RESOURCE_DIMENSION],x=m[s_.MISC_FLAG],b=m[s_.ARRAY_SIZE],w=L5e[g];if(w===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+g);if(x===F5e)throw new Error("DDSLoader does not support cubemap textures");if(_===jA.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var E=new Array,C=tC+a_+B5;if(b===1)E.push(new Uint8Array(e,C));else{for(var T=wv[w],I=0,R=o,O=a,P=0;P<s;P++){var k=Math.max(1,R+3&-4),L=Math.max(1,O+3&-4),B=k*L*T;I+=B,R=R>>>1,O=O>>>1}for(var U=C,P=0;P<b;P++)E.push(new Uint8Array(e,U,I)),U+=I}return E.map(function(z){return new sx(z,{format:w,width:o,height:a,levels:s})})}throw l&T5e?new Error("DDSLoader does not support uncompressed texture data."):l&A5e?new Error("DDSLoader does not supported YUV uncompressed texture data."):l&I5e?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):l&S5e?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),Bl,Js,X0;Mr.setExtensionXhrType("ktx",Mr.XHR_RESPONSE_TYPE.BUFFER);var D5=[171,75,84,88,32,49,49,187,13,10,26,10],M5e=67305985,Io={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},rC=64,$A=(Bl={},Bl[Tt.UNSIGNED_BYTE]=1,Bl[Tt.UNSIGNED_SHORT]=2,Bl[Tt.INT]=4,Bl[Tt.UNSIGNED_INT]=4,Bl[Tt.FLOAT]=4,Bl[Tt.HALF_FLOAT]=8,Bl),Ez=(Js={},Js[rt.RGBA]=4,Js[rt.RGB]=3,Js[rt.RG]=2,Js[rt.RED]=1,Js[rt.LUMINANCE]=1,Js[rt.LUMINANCE_ALPHA]=2,Js[rt.ALPHA]=1,Js),Sz=(X0={},X0[Tt.UNSIGNED_SHORT_4_4_4_4]=2,X0[Tt.UNSIGNED_SHORT_5_5_5_1]=2,X0[Tt.UNSIGNED_SHORT_5_6_5]=2,X0),Cz=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=t.parse(n,e.data),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var c=bz(n,a,e.metadata);if(s&&c.textures)for(var l in c.textures)c.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,c)}else if(o){var u={};o.forEach(function(f,h){var p=new Pt(new lr(f.resource,{mipmap:Pa.OFF,alphaMode:va.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),d=n+"-"+(h+1);s&&(p.baseTexture.ktxKeyValueData=s),lr.addToCache(p.baseTexture,d),Pt.addToCache(p,d),h===0&&(u[n]=p,lr.addToCache(p.baseTexture,n),Pt.addToCache(p,n)),u[d]=p}),Object.assign(e,{textures:u})}}catch(f){r(f);return}r()},t.parse=function(e,r){var n=new DataView(r);if(!t.validate(e,n))return null;var i=n.getUint32(Io.ENDIANNESS,!0)===M5e,a=n.getUint32(Io.GL_TYPE,i),o=n.getUint32(Io.GL_FORMAT,i),s=n.getUint32(Io.GL_INTERNAL_FORMAT,i),c=n.getUint32(Io.PIXEL_WIDTH,i),l=n.getUint32(Io.PIXEL_HEIGHT,i)||1,u=n.getUint32(Io.PIXEL_DEPTH,i)||1,f=n.getUint32(Io.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(Io.NUMBER_OF_FACES,i),p=n.getUint32(Io.NUMBER_OF_MIPMAP_LEVELS,i),d=n.getUint32(Io.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var v=4,m=4,g=c+3&-4,_=l+3&-4,x=new Array(f),b=c*l;a===0&&(b=g*_);var w;if(a!==0?$A[a]?w=$A[a]*Ez[o]:w=Sz[a]:w=wv[s],w===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var E=t.loadKeyValueData?t.parseKvData(n,d,i):null,C=b*w,T=C,I=c,R=l,O=g,P=_,k=rC+d,L=0;L<p;L++){for(var B=n.getUint32(k,i),U=k+4,z=0;z<f;z++){var ee=x[z];ee||(ee=x[z]=new Array(p)),ee[L]={levelID:L,levelWidth:p>1||a!==0?I:O,levelHeight:p>1||a!==0?R:P,levelBuffer:new Uint8Array(r,U,T)},U+=T}k+=B+4,k=k%4!==0?k+4-k%4:k,I=I>>1||1,R=R>>1||1,O=I+v-1&~(v-1),P=R+m-1&~(m-1),T=O*P*w}return a!==0?{uncompressed:x.map(function(ne){var W=ne[0].levelBuffer,D=!1;return a===Tt.FLOAT?W=new Float32Array(ne[0].levelBuffer.buffer,ne[0].levelBuffer.byteOffset,ne[0].levelBuffer.byteLength/4):a===Tt.UNSIGNED_INT?(D=!0,W=new Uint32Array(ne[0].levelBuffer.buffer,ne[0].levelBuffer.byteOffset,ne[0].levelBuffer.byteLength/4)):a===Tt.INT&&(D=!0,W=new Int32Array(ne[0].levelBuffer.buffer,ne[0].levelBuffer.byteOffset,ne[0].levelBuffer.byteLength/4)),{resource:new Uu(W,{width:ne[0].levelWidth,height:ne[0].levelHeight}),type:a,format:D?t.convertFormatToInteger(o):o}}),kvData:E}:{compressed:x.map(function(ne){return new sx(null,{format:s,width:c,height:l,levels:p,levelBuffers:ne})}),kvData:E}},t.validate=function(e,r){for(var n=0;n<D5.length;n++)if(r.getUint8(n)!==D5[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(e){switch(e){case rt.RGBA:return rt.RGBA_INTEGER;case rt.RGB:return rt.RGB_INTEGER;case rt.RG:return rt.RG_INTEGER;case rt.RED:return rt.RED_INTEGER;default:return e}},t.parseKvData=function(e,r,n){for(var i=new Map,a=0;a<r;){var o=e.getUint32(rC+a,n),s=rC+a+4,c=3-(o+3)%4;if(o===0||o>r-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&e.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(e.buffer,s,l)),f=new DataView(e.buffer,s+l+1,o-l-1);i.set(u,f),a+=4+o+c}return i},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var GA=function(t,e){return GA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},GA(t,e)};function Tz(t,e){GA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var B5e=function(t){Tz(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=st.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,hi(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(fi),U5=function(){function t(e,r,n){this.geometry=new qd,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Tt.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new Kn(wX(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Kn(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Kn(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Tt.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Tt.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===Tt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===Tt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),D5e=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,U5e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Az=function(t){Tz(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new nn,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Tt.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=fl.from(U5e,D5e,{}),n.state=ju.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var c=r._buffers;c||(c=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture;this.state.blendMode=_k(r.blendMode,l.alphaMode),o.state.set(this.state);var u=o.gl,f=r.worldTransform.copyTo(this.tempMatrix);f.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=bX(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var h=!1,p=0,d=0;p<s;p+=a,d+=1){var v=s-p;v>a&&(v=a),d>=c.length&&c.push(this._generateOneMoreBuffer(r));var m=c[d];m.uploadDynamic(n,p,v);var g=r._bufferUpdateIDs[d]||0;h=h||m._updateID<g,h&&(m._updateID=r._updateID,m.uploadStatic(n,p,v)),o.geometry.bind(m.geometry),u.drawElements(u.TRIANGLES,v*6,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new U5(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new U5(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var c=0,l=0,u=0,f=0,h=0;h<i;++h){var p=r[n+h],d=p._texture,v=p.scale.x,m=p.scale.y,g=d.trim,_=d.orig;g?(l=g.x-p.anchor.x*_.width,c=l+g.width,f=g.y-p.anchor.y*_.height,u=f+g.height):(c=_.width*(1-p.anchor.x),l=_.width*-p.anchor.x,u=_.height*(1-p.anchor.y),f=_.height*-p.anchor.y),a[s]=l*v,a[s+1]=f*m,a[s+o]=c*v,a[s+o+1]=f*m,a[s+o*2]=c*v,a[s+o*2+1]=u*m,a[s+o*3]=l*v,a[s+o*3+1]=u*m,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c],u=l._texture.baseTexture.alphaMode>0,f=l.alpha,h=f<1&&u?ob(l._tintRGB,f):l._tintRGB+(f*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(hg);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var sl;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(sl||(sl={}));var ll;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(ll||(ll={}));var fd={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},qk=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Pt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Pt.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var VA=function(t,e){return VA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},VA(t,e)};function Kk(t,e){VA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function j5(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],c=t[i-1];o<i;o+=2){var l=t[o],u=t[o+1];a+=(l-s)*(u+c),s=l,c=u}if(!e&&a>0||e&&a<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,p=i-o-1,d=o,v=o+1;r=[t[d],t[h]],t[h]=r[0],t[d]=r[1],n=[t[v],t[p]],t[p]=n[0],t[v]=n[1]}}}var Zk={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){j5(r,!1);for(var o=[],s=0;s<n.length;s++){var c=n[s];j5(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}var l=sk(r,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<r.length;s++)i.push(r[s])}}},Ev={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===dn.CIRC){var c=t.shape;r=c.x,n=c.y,o=s=c.radius,i=a=0}else if(t.type===dn.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var u=t.shape,f=u.width/2,h=u.height/2;r=u.x+f,n=u.y+h,o=s=Math.max(0,Math.min(u.radius,Math.min(f,h))),i=f-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var p=Math.ceil(2.3*Math.sqrt(o+s)),d=p*8+(i?4:0)+(a?4:0);if(e.length=d,d!==0){if(p===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var v=0,m=p*4+(i?2:0)+2,g=m,_=d;{var x=i+o,b=a,w=r+x,E=r-x,C=n+b;if(e[v++]=w,e[v++]=C,e[--m]=C,e[--m]=E,a){var T=n-b;e[g++]=E,e[g++]=T,e[--_]=T,e[--_]=w}}for(var I=1;I<p;I++){var R=Math.PI/2*(I/p),x=i+Math.cos(R)*o,b=a+Math.sin(R)*s,w=r+x,E=r-x,C=n+b,T=n-b;e[v++]=w,e[v++]=C,e[--m]=C,e[--m]=E,e[g++]=E,e[g++]=T,e[--_]=T,e[--_]=w}{var x=i,b=a+s,w=r+x,E=r-x,C=n+b,T=n-b;e[v++]=w,e[v++]=C,e[--_]=T,e[--_]=w,i&&(e[v++]=E,e[v++]=C,e[--_]=T,e[--_]=E)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=a,s,c;if(t.type!==dn.RREC){var l=t.shape;s=l.x,c=l.y}else{var u=t.shape;s=u.x+u.width/2,c=u.y+u.height/2}var f=t.matrix;n.push(t.matrix?f.a*s+f.c*c+f.tx:s,t.matrix?f.b*s+f.d*c+f.ty:c),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}},Iz={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Kf(t,e,r){var n=e-t;return t+n*r}function l_(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,c=o,l=0,u=0,f=0,h=0,p=0,d=0,v=0,m=0;v<=s;++v)m=v/s,l=Kf(t,r,m),u=Kf(e,n,m),f=Kf(r,i,m),h=Kf(n,a,m),p=Kf(l,f,m),d=Kf(u,h,m),!(v===0&&c[c.length-2]===p&&c[c.length-1]===d)&&c.push(p,d);return c}var Rz={build:function(t){if(hd.nextRoundedRectBehavior){Ev.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(l_(n,i+s,n,i,n+s,i,r),l_(n+a-s,i,n+a,i,n+a,i+s,r),l_(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),l_(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(hd.nextRoundedRectBehavior){Ev.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=sk(r,null,2),s=0,c=o.length;s<c;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,c=r.length;s<c;s++)n.push(r[s],r[++s])}};function $5(t,e,r,n,i,a,o,s){var c=t-r*i,l=e-n*i,u=t+r*a,f=e+n*a,h,p;o?(h=n,p=-r):(h=-n,p=r);var d=c+h,v=l+p,m=u+h,g=f+p;return s.push(d,v),s.push(m,g),2}function Zf(t,e,r,n,i,a,o,s){var c=r-t,l=n-e,u=Math.atan2(c,l),f=Math.atan2(i-t,a-e);s&&u<f?u+=Math.PI*2:!s&&u>f&&(f+=Math.PI*2);var h=u,p=f-u,d=Math.abs(p),v=Math.sqrt(c*c+l*l),m=(15*d*Math.sqrt(v)/Math.PI>>0)+1,g=p/m;if(h+=g,s){o.push(t,e),o.push(r,n);for(var _=1,x=h;_<m;_++,x+=g)o.push(t,e),o.push(t+Math.sin(x)*v,e+Math.cos(x)*v);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var _=1,x=h;_<m;_++,x+=g)o.push(t+Math.sin(x)*v,e+Math.cos(x)*v),o.push(t,e);o.push(i,a),o.push(t,e)}return m*2}function j5e(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new hr(n[0],n[1]),s=new hr(n[n.length-2],n[n.length-1]),c=r.type!==dn.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(c){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,f=(s.y+o.y)*.5;n.unshift(u,f),n.push(u,f)}var h=e.points,p=n.length/2,d=n.length,v=h.length/2,m=a.width/2,g=m*m,_=a.miterLimit*a.miterLimit,x=n[0],b=n[1],w=n[2],E=n[3],C=0,T=0,I=-(b-E),R=x-w,O=0,P=0,k=Math.sqrt(I*I+R*R);I/=k,R/=k,I*=m,R*=m;var L=a.alignment,B=(1-L)*2,U=L*2;c||(a.cap===ll.ROUND?d+=Zf(x-I*(B-U)*.5,b-R*(B-U)*.5,x-I*B,b-R*B,x+I*U,b+R*U,h,!0)+2:a.cap===ll.SQUARE&&(d+=$5(x,b,I,R,B,U,!0,h))),h.push(x-I*B,b-R*B),h.push(x+I*U,b+R*U);for(var z=1;z<p-1;++z){x=n[(z-1)*2],b=n[(z-1)*2+1],w=n[z*2],E=n[z*2+1],C=n[(z+1)*2],T=n[(z+1)*2+1],I=-(b-E),R=x-w,k=Math.sqrt(I*I+R*R),I/=k,R/=k,I*=m,R*=m,O=-(E-T),P=w-C,k=Math.sqrt(O*O+P*P),O/=k,P/=k,O*=m,P*=m;var ee=w-x,ne=b-E,W=w-C,D=T-E,H=ne*W-D*ee,G=H<0;if(Math.abs(H)<.1){h.push(w-I*B,E-R*B),h.push(w+I*U,E+R*U);continue}var V=(-I+x)*(-R+E)-(-I+w)*(-R+b),ie=(-O+C)*(-P+E)-(-O+w)*(-P+T),se=(ee*ie-W*V)/H,ge=(D*V-ne*ie)/H,ue=(se-w)*(se-w)+(ge-E)*(ge-E),we=w+(se-w)*B,Be=E+(ge-E)*B,Fe=w-(se-w)*U,Ee=E-(ge-E)*U,Te=Math.min(ee*ee+ne*ne,W*W+D*D),Ge=G?B:U,We=Te+Ge*Ge*g,Ve=ue<=We;Ve?a.join===sl.BEVEL||ue/g>_?(G?(h.push(we,Be),h.push(w+I*U,E+R*U),h.push(we,Be),h.push(w+O*U,E+P*U)):(h.push(w-I*B,E-R*B),h.push(Fe,Ee),h.push(w-O*B,E-P*B),h.push(Fe,Ee)),d+=2):a.join===sl.ROUND?G?(h.push(we,Be),h.push(w+I*U,E+R*U),d+=Zf(w,E,w+I*U,E+R*U,w+O*U,E+P*U,h,!0)+4,h.push(we,Be),h.push(w+O*U,E+P*U)):(h.push(w-I*B,E-R*B),h.push(Fe,Ee),d+=Zf(w,E,w-I*B,E-R*B,w-O*B,E-P*B,h,!1)+4,h.push(w-O*B,E-P*B),h.push(Fe,Ee)):(h.push(we,Be),h.push(Fe,Ee)):(h.push(w-I*B,E-R*B),h.push(w+I*U,E+R*U),a.join===sl.ROUND?G?d+=Zf(w,E,w+I*U,E+R*U,w+O*U,E+P*U,h,!0)+2:d+=Zf(w,E,w-I*B,E-R*B,w-O*B,E-P*B,h,!1)+2:a.join===sl.MITER&&ue/g<=_&&(G?(h.push(Fe,Ee),h.push(Fe,Ee)):(h.push(we,Be),h.push(we,Be)),d+=2),h.push(w-O*B,E-P*B),h.push(w+O*U,E+P*U),d+=2)}x=n[(p-2)*2],b=n[(p-2)*2+1],w=n[(p-1)*2],E=n[(p-1)*2+1],I=-(b-E),R=x-w,k=Math.sqrt(I*I+R*R),I/=k,R/=k,I*=m,R*=m,h.push(w-I*B,E-R*B),h.push(w+I*U,E+R*U),c||(a.cap===ll.ROUND?d+=Zf(w-I*(B-U)*.5,E-R*(B-U)*.5,w-I*B,E-R*B,w+I*U,E+R*U,h,!1)+2:a.cap===ll.SQUARE&&(d+=$5(w,E,I,R,B,U,!1,h)));for(var Xe=e.indices,qe=fd.epsilon*fd.epsilon,z=v;z<d+v-2;++z)x=h[z*2],b=h[z*2+1],w=h[(z+1)*2],E=h[(z+1)*2+1],C=h[(z+2)*2],T=h[(z+2)*2+1],!(Math.abs(x*(E-T)+w*(T-b)+C*(b-E))<qe)&&Xe.push(z,z+1,z+2)}}function $5e(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==dn.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,c=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function HA(t,e){t.lineStyle.native?$5e(t,e):j5e(t,e)}var XA=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],c=o[o.length-1],l=c-r,u=s-e,f=i-r,h=n-e,p=Math.abs(l*h-u*f);if(p<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var d=l*l+u*u,v=f*f+h*h,m=l*f+u*h,g=a*Math.sqrt(d)/p,_=a*Math.sqrt(v)/p,x=g*m/d,b=_*m/v,w=g*h+_*u,E=g*f+_*l,C=u*(_+x),T=l*(_+x),I=h*(g+b),R=f*(g+b),O=Math.atan2(T-E,C-w),P=Math.atan2(R-E,I-w);return{cx:w+e,cy:E+r,radius:a,startAngle:O,endAngle:P,anticlockwise:u*f>h*l}},t.arc=function(e,r,n,i,a,o,s,c,l){for(var u=s-o,f=fd._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/_v)*40),h=u/(f*2),p=h*2,d=Math.cos(h),v=Math.sin(h),m=f-1,g=m%1/m,_=0;_<=m;++_){var x=_+g*_,b=h+o+p*x,w=Math.cos(b),E=-Math.sin(b);l.push((d*w+v*E)*a+n,(d*-E+v*w)*a+i)}},t}(),Pz=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,c){for(var l=10,u=0,f=0,h=0,p=0,d=0,v=0,m=0,g=0,_=0,x=0,b=0,w=e,E=r,C=1;C<=l;++C)f=C/l,h=f*f,p=h*f,d=1-f,v=d*d,m=v*d,g=m*e+3*v*f*n+3*d*h*a+p*s,_=m*r+3*v*f*i+3*d*h*o+p*c,x=w-g,b=E-_,w=g,E=_,u+=Math.sqrt(x*x+b*b);return u},t.curveTo=function(e,r,n,i,a,o,s){var c=s[s.length-2],l=s[s.length-1];s.length-=2;var u=fd._segmentsCount(t.curveLength(c,l,e,r,n,i,a,o)),f=0,h=0,p=0,d=0,v=0;s.push(c,l);for(var m=1,g=0;m<=u;++m)g=m/u,f=1-g,h=f*f,p=h*f,d=g*g,v=d*g,s.push(p*c+3*h*g*e+3*f*d*n+v*a,p*l+3*h*g*r+3*f*d*i+v*o)},t}(),Oz=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,c=r-2*i+o,l=2*n-2*e,u=2*i-2*r,f=4*(s*s+c*c),h=4*(s*l+c*u),p=l*l+u*u,d=2*Math.sqrt(f+h+p),v=Math.sqrt(f),m=2*f*v,g=2*Math.sqrt(p),_=h/v;return(m*d+v*h*(d-g)+(4*p*f-h*h)*Math.log((2*v+_+d)/(_+g)))/(4*m)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],c=fd._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,u=0,f=1;f<=c;++f){var h=f/c;l=o+(e-o)*h,u=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,u+(r+(i-r)*h-u)*h)}},t}(),kz=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),oc,ey=(oc={},oc[dn.POLY]=Zk,oc[dn.CIRC]=Ev,oc[dn.ELIP]=Ev,oc[dn.RECT]=Iz,oc[dn.RREC]=Rz,oc),zA=[],lp=[],WA=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Jf=new hr,G5e=new cd,Fz=function(t){Kk(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new cd,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),lp.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),zA.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new WA(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new WA(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,Jf):Jf.copyFrom(r),a.shape.contains(Jf.x,Jf.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var c=a.holes[s];if(c.shape.contains(Jf.x,Jf.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var c=i[s],l=c.fillStyle,u=c.lineStyle,f=ey[c.type];f.build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(l.visible||u.visible)&&this.processHoles(c.holes);for(var h=0;h<2;h++){var p=h===0?l:u;if(p.visible){var d=p.texture.baseTexture,v=this.indices.length,m=this.points.length/2;d.wrapMode=Ts.REPEAT,h===0?this.processFill(c):this.processLine(c);var g=this.points.length/2-m;g!==0&&(a&&!this._compareStyles(o,p)&&(a.end(v,m),a=null),a||(a=zA.pop()||new kz,a.begin(p,v,m),this.batches.push(a),o=p),this.addUvs(this.points,n,p.texture,m,g,p.matrix))}}}var _=this.indices.length,x=this.points.length/2;if(a&&a.end(_,x),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var b=x>65535&&r;this.indicesUint16=b?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++lr._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),lp.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=lp.pop();o||(o=new ax,o.texArray=new ox),o.texArray.count=0,o.start=0,o.size=0,o.type=Ga.TRIANGLES;var s=0,c=null,l=0,u=!1,f=Ga.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var p=this.batches[n],d=8,v=p.style,m=v.texture.baseTexture;u!==!!v.native&&(u=!!v.native,f=u?Ga.LINES:Ga.TRIANGLES,c=null,s=d,r++),c!==m&&(c=m,m._batchEnabled!==r&&(s===d&&(r++,s=0,o.size>0&&(o=lp.pop(),o||(o=new ax,o.texArray=new ox),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),m.touched=1,m._batchEnabled=r,m._batchLocation=s,m.wrapMode=Ts.REPEAT,o.texArray.elements[o.texArray.count++]=m,s++)),o.size+=p.size,h+=p.size,l=m._batchLocation,this.addColors(i,v.color,v.alpha,p.attribSize,p.attribStart),this.addTextureIds(a,l,p.attribSize,p.attribStart)}lr._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),c=new Uint32Array(o),l=0,u=0;u<r.length/2;u++)s[l++]=r[u*2],s[l++]=r[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],c[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)Zk.triangulate(r,this);else{var n=ey[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){HA(r,this);for(var n=0;n<r.holes.length;n++)HA(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=ey[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=G5e,i=nn.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,c=o.type,l=o.lineStyle,u=o.matrix||nn.IDENTITY,f=0;if(l&&l.visible&&(f=l.width,c!==dn.POLY||o.fillStyle.visible?f*=Math.max(0,l.alignment):f*=Math.max(l.alignment,1-l.alignment)),i!==u&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=u),c===dn.RECT||c===dn.RREC){var h=s;n.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,f,f)}else if(c===dn.CIRC){var p=s;n.addFramePad(p.x,p.y,p.x,p.y,p.radius+f,p.radius+f)}else if(c===dn.ELIP){var d=s;n.addFramePad(d.x,d.y,d.x,d.y,d.width+f,d.height+f)}else{var v=s;r.addVerticesMatrix(i,v.points,0,v.points.length,f,f)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),c=ob(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=c},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var c=0,l=n.length,u=i.frame;c<o;){var f=r[(a+c)*2],h=r[(a+c)*2+1];if(s){var p=s.a*f+s.c*h+s.tx;h=s.b*f+s.d*h+s.ty,f=p}c++,n.push(f/u.width,h/u.height)}var d=i.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,c=i+a*2,l=n.frame,u=l.width/o.width,f=l.height/o.height,h=l.x/l.width,p=l.y/l.height,d=Math.floor(r[i]+s),v=Math.floor(r[i+1]+s),m=i+2;m<c;m+=2)d=Math.min(d,Math.floor(r[m]+s)),v=Math.min(v,Math.floor(r[m+1]+s));h-=d,p-=v;for(var m=i;m<c;m+=2)r[m]=(r[m]+h)*u,r[m+1]=(r[m+1]+p)*f},e.BATCHABLE_SIZE=100,e}(zk),Nz=function(t){Kk(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=ll.BUTT,r.join=sl.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(qk),V5e=new Float32Array(3),nC={},hd=function(t){Kk(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new qk,n._lineStyle=new Nz,n._matrix=null,n._holeMode=!1,n.state=ju.for2d(),n._geometry=r||new Fz,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=st.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:Pt.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:ll.BUTT,join:sl.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Wh,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Wh,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Oz.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),Pz.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,c=XA.curveTo(r,n,i,a,o,s);if(c){var l=c.cx,u=c.cy,f=c.radius,h=c.startAngle,p=c.endAngle,d=c.anticlockwise;this.arc(l,u,f,h,p,d)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=_v:s&&a<=o&&(a+=_v);var c=o-a;if(c===0)return this;var l=r+Math.cos(a)*i,u=n+Math.sin(a)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var p=Math.abs(h[h.length-2]-l),d=Math.abs(h[h.length-1]-u);p<f&&d<f||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.points;return XA.arc(l,u,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:Pt.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:Pt.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new Jt(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new RX(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new AX(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new IX(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var c=new Wh(a);return c.closeStroke=o,this.drawShape(c),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===dn.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:c,blendMode:n,indices:u,uvs:l,_batchRGB:hi(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,c=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,u=c.length;l<u;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,c=i.count,l=0;l<c;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!nC[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new nn,default:vu.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;nC[i]=new fl(l,c)}n=nC[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=hi(this.tint,V5e),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,c=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(c|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this._geometry.points,f=this.vertexData,h=0,p=0;p<u.length;p+=2){var d=u[p],v=u[p+1];f[h++]=i*d+o*v+c,f[h++]=s*v+a*d+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new hr,e}(fi),H5e={buildPoly:Zk,buildCircle:Ev,buildRectangle:Iz,buildRoundedRectangle:Rz,buildLine:HA,ArcUtils:XA,BezierUtils:Pz,QuadraticUtils:Oz,BatchPart:kz,FILL_COMMANDS:ey,BATCH_POOL:zA,DRAW_CALL_POOL:lp};/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var YA=function(t,e){return YA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},YA(t,e)};function X5e(t,e){YA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var z0=new hr,z5e=new Uint16Array([0,1,2,0,2,3]),$a=function(t){X5e(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new Ql(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=st.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||Pt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=z5e,n.pluginName="batch",n.isSprite=!0,n._roundPixels=_t.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Fc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Fc(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this.vertexData,f=r.trim,h=r.orig,p=this._anchor,d=0,v=0,m=0,g=0;if(f?(v=f.x-p._x*h.width,d=v+f.width,g=f.y-p._y*h.height,m=g+f.height):(v=-p._x*h.width,d=v+h.width,g=-p._y*h.height,m=g+h.height),u[0]=i*v+o*g+c,u[1]=s*g+a*v+l,u[2]=i*d+o*g+c,u[3]=s*g+a*d+l,u[4]=i*d+o*m+c,u[5]=s*m+a*d+l,u[6]=i*v+o*m+c,u[7]=s*m+a*v+l,this._roundPixels)for(var _=_t.RESOLUTION,x=0;x<u.length;++x)u[x]=Math.round((u[x]*_|0)/_)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,p=-a._x*i.width,d=p+i.width,v=-a._y*i.height,m=v+i.height;n[0]=s*p+l*v+f,n[1]=u*v+c*p+h,n[2]=s*d+l*v+f,n[3]=u*v+c*d+h,n[4]=s*d+l*m+f,n[5]=u*m+c*d+h,n[6]=s*p+l*m+f,n[7]=u*m+c*p+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new cd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Jt),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,z0);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return z0.x>=a&&z0.x<a+n&&(o=-i*this.anchor.y,z0.y>=o&&z0.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof Pt?r:Pt.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=Fc(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=Fc(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||Pt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(fi);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qA=function(t,e){return qA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qA(t,e)};function W5e(t,e){qA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dd;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(dd||(dd={}));var iC={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:dd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Y5e=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],of=function(){function t(e){this.styleID=0,this.reset(),oC(this,e,e)}return t.prototype.clone=function(){var e={};return oC(e,this,iC),new t(e)},t.prototype.reset=function(){oC(this,iC,iC)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=aC(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=aC(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){q5e(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=aC(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Y5e.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function G5(t){return typeof t=="number"?vk(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function aC(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=G5(t[e]);return t}else return G5(t)}function q5e(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function oC(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var ts=function(){function t(e,r,n,i,a,o,s,c,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=c,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d");s.font=a;for(var c=n?t.wordWrap(e,r,i):e,l=c.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),f=0,h=0;h<l.length;h++){var p=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;u[h]=p,f=Math.max(f,p)}var d=f+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var v=r.lineHeight||o.fontSize+r.strokeThickness,m=Math.max(v,o.fontSize+r.strokeThickness)+(l.length-1)*(v+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new t(e,r,d,m,l,u,v+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",c=Object.create(null),l=r.letterSpacing,u=r.whiteSpace,f=t.collapseSpaces(u),h=t.collapseNewlines(u),p=!f,d=r.wordWrapWidth+l,v=t.tokenize(e),m=0;m<v.length;m++){var g=v[m];if(t.isNewline(g)){if(!h){s+=t.addLine(o),p=!f,o="",a=0;continue}g=" "}if(f){var _=t.isBreakingSpace(g),x=t.isBreakingSpace(o[o.length-1]);if(_&&x)continue}var b=t.getFromCache(g,l,c,i);if(b>d)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(g,r.breakWords))for(var w=t.wordWrapSplit(g),E=0;E<w.length;E++){for(var C=w[E],T=1;w[E+T];){var I=w[E+T],R=C[C.length-1];if(!t.canBreakChars(R,I,g,E,r.breakWords))C+=I;else break;T++}E+=C.length-1;var O=t.getFromCache(C,l,c,i);O+a>d&&(s+=t.addLine(o),p=!1,o="",a=0),o+=C,a+=O}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var P=m===v.length-1;s+=t.addLine(g,!P),p=!1,o="",a=0}else b+a>d&&(p=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(g)||p)&&(o+=g,a+=b)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),c=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,c).data,u=l.length,f=o*4,h=0,p=0,d=!1;for(h=0;h<s;++h){for(var v=0;v<f;v+=4)if(l[p+v]!==255){d=!0;break}if(!d)p+=f;else break}for(r.ascent=s-h,p=u-f,d=!1,h=c;h>s;--h){for(var v=0;v<f;v+=4)if(l[p+v]!==255){d=!0;break}if(!d)p-=f;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d");if(n&&n.measureText)return t.__canvas=r,r;e=document.createElement("canvas")}catch{e=document.createElement("canvas")}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();ts._fonts={};ts.METRICS_STRING="|q";ts.BASELINE_SYMBOL="M";ts.BASELINE_MULTIPLIER=1.4;ts.HEIGHT_MULTIPLIER=2;ts._newlines=[10,13];ts._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var K5e={texture:!0,children:!1,baseTexture:!0},Jk=function(t){W5e(e,t);function e(r,n,i){var a=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=Pt.from(i);return s.orig=new Jt,s.trim=new Jt,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=_t.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=ts.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,c=a.lines,l=a.lineHeight,u=a.lineWidths,f=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var p,d,v=n.dropShadow?2:1,m=0;m<v;++m){var g=n.dropShadow&&m===0,_=g?Math.ceil(Math.max(1,s)+n.padding*2):0,x=_*this._resolution;if(g){i.fillStyle="black",i.strokeStyle="black";var b=n.dropShadowColor,w=hi(typeof b=="number"?b:gk(b)),E=n.dropShadowBlur*this._resolution,C=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+w[0]*255+","+w[1]*255+","+w[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=E,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*C,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*C+x}else i.fillStyle=this._generateFillStyle(n,c,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var T=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(T=0);for(var I=0;I<c.length;I++)p=n.strokeThickness/2,d=n.strokeThickness/2+I*l+h.ascent+T,n.align==="right"?p+=f-u[I]:n.align==="center"&&(p+=(f-u[I])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[I],p+n.padding,d+n.padding-_,!0),n.fill&&this.drawLetterSpacing(c[I],p+n.padding,d+n.padding-_)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,c=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||c){c&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,u=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,p=0;p<u.length;++p){var d=u[p];a?this.context.strokeText(d,l,i):this.context.fillText(d,l,i);for(var v="",m=p+1;m<u.length;++m)v+=u[m];h=this.context.measureText(v).width,l+=f-h+s,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=SX(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,l=this.canvas.width/this._resolution-s-c*2,u=this.canvas.height/this._resolution-s-c*2,f=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var p=f.length+1,d=1;d<p;++d)h.push(d/p);if(f.unshift(a[0]),h.unshift(0),f.push(a[a.length-1]),h.push(1),r.fillGradientType===dd.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,c,l/2,u+c);for(var v=i.fontProperties.fontSize+r.strokeThickness,d=0;d<n.length;d++){var m=i.lineHeight*(d-1)+v,g=i.lineHeight*d,_=g;d>0&&m>g&&(_=(g+m)/2);var x=g+v,b=i.lineHeight*(d+1),w=x;d+1<n.length&&b<x&&(w=(x+b)/2);for(var E=(w-_)/u,C=0;C<f.length;C++){var T=0;typeof h[C]=="number"?T=h[C]:T=C/f.length;var I=Math.min(1,Math.max(0,_/u+T*E));I=Number(I.toFixed(5)),o.addColorStop(I,f[C])}}}else{o=this.context.createLinearGradient(c,u/2,l+c,u/2);for(var R=f.length+1,O=1,d=0;d<f.length;d++){var P=void 0;typeof h[d]=="number"?P=h[d]:P=O/R,o.addColorStop(P,f[d]),O++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},K5e,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=Fc(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=Fc(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof of?this._style=r:this._style=new of(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}($a);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */_t.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var KA=function(t,e){return KA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},KA(t,e)};function Z5e(t,e){KA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Lz=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function J5e(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof Pt){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function Q5e(t,e){if(t.baseTexture instanceof lr){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function eUe(t,e){if(t._texture&&t._texture instanceof Pt){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function tUe(t,e){return e instanceof Jk?(e.updateText(!0),!0):!1}function rUe(t,e){if(e instanceof of){var r=e.toFontString();return ts.measureFont(r),!0}return!1}function nUe(t,e){if(t instanceof Jk){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function iUe(t,e){return t instanceof of?(e.indexOf(t)===-1&&e.push(t),!0):!1}var Mz=function(){function t(e){var r=this;this.limiter=new Lz(_t.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(nUe),this.registerFindHook(iUe),this.registerFindHook(J5e),this.registerFindHook(Q5e),this.registerFindHook(eUe),this.registerUploadHook(tUe),this.registerUploadHook(rUe)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,bn.system.addOnce(this.tick,this,Ko.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)bn.system.addOnce(this.tick,this,Ko.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof fi)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&bn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Bz(t,e){return e instanceof lr?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function aUe(t,e){if(!(e instanceof hd))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&Bz(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function oUe(t,e){return t instanceof hd?(e.push(t),!0):!1}var Dz=function(t){Z5e(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(oUe),n.registerUploadHook(Bz),n.registerUploadHook(aUe),n}return e}(Mz),sUe=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Uz=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof Pt?e:null,this.baseTexture=e instanceof lr?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=mv(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,c=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new Jt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new Jt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new Jt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new Jt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Pt(this.baseTexture,s,u,c,a.rotated?2:0,a.anchor),Pt.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),jz=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==Mr.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var c=function(d){if(typeof d!="string")return"continue";var v=d.replace(".json",""),m=kc.resolve(e.url.replace(a.baseUrl,""),d);if(a.resources[v]||Object.values(a.resources).some(function(_){return kc.format(kc.parse(_.url))===m}))return"continue";var g={crossOrigin:e.crossOrigin,loadType:Mr.LOAD_TYPE.XHR,xhrType:Mr.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(v,m,g)},l=0,u=s;l<u.length;l++){var f=u[l];c(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,a.baseUrl);a.add(o,p,h,function(v){if(v.error){r(v.error);return}var m=new Uz(v.texture,e.data,e.url);m.parse(function(){e.spritesheet=m,e.textures=m.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:kc.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ZA=function(t,e){return ZA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ZA(t,e)};function $z(t,e){ZA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var W0=new hr,lUe=function(t){$z(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new fg,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new hb(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Jt),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,W0);var n=this._width,i=this._height,a=-n*this.anchor._x;if(W0.x>=a&&W0.x<a+n){var o=-i*this.anchor._y;if(W0.y>=o&&W0.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof Pt?r:Pt.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}($a),uUe=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,V5=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,cUe=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,fUe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,hUe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,u_=new nn,Gz=function(t){$z(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new Pk,n.state=ju.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=fl.from(V5,uUe,n),this.shader=r.context.webGLVersion>1?fl.from(fUe,hUe,n):fl.from(V5,cUe,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var c=r._texture,l=c.baseTexture,u=r.tileTransform.localTransform,f=r.uvMatrix,h=l.isPowerOfTwo&&c.frame.width===l.width&&c.frame.height===l.height;h&&(l._glTextures[n.CONTEXT_UID]?h=l.wrapMode!==Ts.CLAMP:l.wrapMode===Ts.CLAMP&&(l.wrapMode=Ts.REPEAT));var p=h?this.simpleShader:this.shader,d=c.width,v=c.height,m=r._width,g=r._height;u_.set(u.a*d/m,u.b*d/g,u.c*v/m,u.d*v/g,u.tx/m,u.ty/g),u_.invert(),h?u_.prepend(f.mapCoord):(p.uniforms.uMapCoord=f.mapCoord.toArray(!0),p.uniforms.uClampFrame=f.uClampFrame,p.uniforms.uClampOffset=f.uClampOffset),p.uniforms.uTransform=u_.toArray(!0),p.uniforms.uColor=yk(r.tint,r.worldAlpha,p.uniforms.uColor,l.alphaMode),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=c,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=_k(r.blendMode,l.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(hg);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var JA=function(t,e){return JA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},JA(t,e)};function Qk(t,e){JA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Vz=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),sC=new hr,H5=new Wh,pd=function(t){Qk(e,t);function e(r,n,i,a){a===void 0&&(a=Ga.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||ju.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=_t.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Ga.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,p=this.vertexData,d=0;d<p.length/2;d++){var v=i[d*2],m=i[d*2+1];p[d*2]=s*v+l*m+f,p[d*2+1]=c*v+u*m+h}if(this._roundPixels)for(var g=_t.RESOLUTION,d=0;d<p.length;++d)p[d]=Math.round((p[d]*g|0)/g);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new Vz(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,sC);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=H5.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,c=0;c+2<o;c+=s){var l=a[c]*2,u=a[c+1]*2,f=a[c+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[f],i[5]=n[f+1],H5.contains(sC.x,sC.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(fi),dUe=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,pUe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,vd=function(t){Qk(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:nn.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||Kd.from(pUe,dUe),a)||this,i._colorDirty=!1,i.uvMatrix=new hb(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;yk(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(fl),pg=function(t){Qk(e,t);function e(r,n,i){var a=t.call(this)||this,o=new Kn(r),s=new Kn(n,!0),c=new Kn(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,Tt.FLOAT).addAttribute("aTextureCoord",s,2,!1,Tt.FLOAT).addIndex(c),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(qd);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var QA=function(t,e){return QA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},QA(t,e)};function vUe(t,e){QA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sv=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),gUe=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var c in o){var l=o[c].split("="),u=l[0],f=l[1].replace(/"/gm,""),h=parseFloat(f),p=isNaN(h)?f:h;s[u]=p}n[a].push(s)}var d=new Sv;return n.info.forEach(function(v){return d.info.push({face:v.face,size:parseInt(v.size,10)})}),n.common.forEach(function(v){return d.common.push({lineHeight:parseInt(v.lineHeight,10)})}),n.page.forEach(function(v){return d.page.push({id:parseInt(v.id,10),file:v.file})}),n.char.forEach(function(v){return d.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),n.kerning.forEach(function(v){return d.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),n.distanceField.forEach(function(v){return d.distanceField.push({distanceRange:parseInt(v.distanceRange,10),fieldType:v.fieldType})}),d},t}(),eI=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Sv,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var u=o[l];r.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<c.length;l++)r.distanceField.push({fieldType:c[l].getAttribute("fieldType"),distanceRange:parseInt(c[l].getAttribute("distanceRange"),10)});return r},t}(),mUe=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return eI.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return eI.parse(r)},t}(),lC=[gUe,eI,mUe];function Hz(t){for(var e=0;e<lC.length;e++)if(lC[e].test(t))return lC[e];return null}function _Ue(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,c=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=t.width/n-c-l*2,f=t.height/n-c-l*2,h=o.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=h.length+1,v=1;v<d;++v)p.push(v/d);if(h.unshift(o[0]),p.unshift(0),h.push(o[o.length-1]),p.push(1),r.fillGradientType===dd.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,f+l);for(var m=0,g=a.fontProperties.fontSize+r.strokeThickness,_=g/f,v=0;v<i.length;v++)for(var x=a.lineHeight*v,b=0;b<h.length;b++){var w=0;typeof p[b]=="number"?w=p[b]:w=b/h.length;var E=x/f+w*_,C=Math.max(m,E);C=Math.min(C,1),s.addColorStop(C,h[b]),m=C}}else{s=e.createLinearGradient(l,f/2,u+l,f/2);for(var T=h.length+1,I=1,v=0;v<h.length;v++){var R=void 0;typeof p[v]=="number"?R=p[v]:R=I/T,s.addColorStop(R,h[v]),I++}}return s}function yUe(t,e,r,n,i,a,o){var s=r.text,c=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=_Ue(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=hi(typeof f=="number"?f:gk(f)),p=o.dropShadowBlur*a,d=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,u+r.lineHeight-c.descent),o.fill&&e.fillText(s,l,u+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Xz(t){return Array.from?Array.from(t):t.split("")}function xUe(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,c=o;s<=c;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,Xz(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function ty(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var xc=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],c=e.page[0],l=e.distanceField[0],u=mv(c.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var p=e.page[h],d=p.id,v=p.file;f[d]=r instanceof Array?r[h]:r[v],l!=null&&l.fieldType&&l.fieldType!=="none"&&(f[d].baseTexture.alphaMode=va.NO_PREMULTIPLIED_ALPHA)}for(var h=0;h<e.char.length;h++){var m=e.char[h],d=m.id,g=m.page,_=e.char[h],x=_.x,b=_.y,w=_.width,E=_.height,C=_.xoffset,T=_.yoffset,I=_.xadvance;x/=u,b/=u,w/=u,E/=u,C/=u,T/=u,I/=u;var R=new Jt(x+f[g].frame.x/u,b+f[g].frame.y/u,w,E);this.chars[d]={xOffset:C,yOffset:T,xAdvance:I,kerning:{},texture:new Pt(f[g].baseTexture,R),page:g}}for(var h=0;h<e.kerning.length;h++){var O=e.kerning[h],P=O.first,k=O.second,L=O.amount;P/=u,k/=u,L/=u,this.chars[k]&&(this.chars[k].kerning[P]=L)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Sv)i=e;else{var a=Hz(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof Pt&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,c=i.textureWidth,l=i.textureHeight,u=xUe(a),f=r instanceof of?r:new of(r),h=c,p=new Sv;p.info[0]={face:f.fontFamily,size:f.fontSize},p.common[0]={lineHeight:f.fontSize};for(var d=0,v=0,m,g,_,x=0,b=[],w=0;w<u.length;w++){m||(m=document.createElement("canvas"),m.width=c,m.height=l,g=m.getContext("2d"),_=new lr(m,{resolution:s}),b.push(new Pt(_)),p.page.push({id:b.length-1,file:""}));var E=ts.measureText(u[w],f,!1,m),C=E.width,T=Math.ceil(E.height),I=Math.ceil((f.fontStyle==="italic"?2:1)*C);if(v>=l-T*s){if(v===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+f.fontSize+"px fonts"));--w,m=null,g=null,_=null,v=0,d=0,x=0;continue}if(x=Math.max(T+E.fontProperties.descent,x),I*s+d>=h){--w,v+=x*s,v=Math.ceil(v),d=0,x=0;continue}yUe(m,g,E,d,v,s,f);var R=ty(E.text);p.char.push({id:R,page:b.length-1,x:d/s,y:v/s,width:I,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(C-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),d+=(I+2*o)*s,d=Math.ceil(d)}for(var w=0,O=u.length;w<O;w++)for(var P=u[w],k=0;k<O;k++){var L=u[k],B=g.measureText(P).width,U=g.measureText(L).width,z=g.measureText(P+L).width,ee=z-(B+U);ee&&p.kerning.push({first:ty(P),second:ty(L),amount:ee})}var ne=new t(p,b,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=ne,ne},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),bUe=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,wUe=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,EUe=[],SUe=[],X5=[],CUe=function(t){vUe(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,c=a.maxWidth,l=a.letterSpacing,u=a.fontName,f=a.fontSize;if(!xc.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=u,i._fontSize=f||xc.available[u].size,i.text=r,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new Ql(function(){i.dirty=!0},i,0,0),i._roundPixels=_t.ROUND_PIXELS,i.dirty=!0,i._resolution=_t.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=xc.available[this._fontName],i=this._fontSize/n.size,a=new hr,o=[],s=[],c=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=Xz(l),f=this._maxWidth*n.size/this._fontSize,h=n.distanceFieldType==="none"?EUe:SUe,p=null,d=0,v=0,m=0,g=-1,_=0,x=0,b=0,w=0,E=0;E<u.length;E++){var C=u[E],T=ty(C);if(/(?:\s)/.test(C)&&(g=E,_=d,w++),C==="\r"||C===`
`){s.push(d),c.push(-1),v=Math.max(v,d),++m,++x,a.x=0,a.y+=n.lineHeight,p=null,w=0;continue}var I=n.chars[T];if(I){p&&I.kerning[p]&&(a.x+=I.kerning[p]);var R=X5.pop()||{texture:Pt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new hr};R.texture=I.texture,R.line=m,R.charCode=T,R.position.x=a.x+I.xOffset+this._letterSpacing/2,R.position.y=a.y+I.yOffset,R.prevSpaces=w,o.push(R),d=R.position.x+Math.max(I.xAdvance,I.texture.orig.width),a.x+=I.xAdvance+this._letterSpacing,b=Math.max(b,I.yOffset+I.texture.height),p=T,g!==-1&&f>0&&a.x>f&&(++x,As(o,1+g-x,1+E-g),E=g,g=-1,s.push(_),c.push(o.length>0?o[o.length-1].prevSpaces:0),v=Math.max(v,_),m++,a.x=0,a.y+=n.lineHeight,p=null,w=0)}}var O=u[u.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(d=_),s.push(d),v=Math.max(v,d),c.push(-1));for(var P=[],E=0;E<=m;E++){var k=0;this._align==="right"?k=v-s[E]:this._align==="center"?k=(v-s[E])/2:this._align==="justify"&&(k=c[E]<0?0:(v-s[E])/c[E]),P.push(k)}for(var L=o.length,B={},U=[],z=this._activePagesMeshData,E=0;E<z.length;E++)h.push(z[E]);for(var E=0;E<L;E++){var ee=o[E].texture,ne=ee.baseTexture.uid;if(!B[ne]){var W=h.pop();if(!W){var D=new pg,H=void 0,G=void 0;n.distanceFieldType==="none"?(H=new vd(Pt.EMPTY),G=st.NORMAL):(H=new vd(Pt.EMPTY,{program:Kd.from(wUe,bUe),uniforms:{uFWidth:0}}),G=st.NORMAL_NPM);var V=new pd(D,H);V.blendMode=G,W={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:V,vertices:null,uvs:null,indices:null}}W.index=0,W.indexCount=0,W.vertexCount=0,W.uvsCount=0,W.total=0;var ie=this._textureCache;ie[ne]=ie[ne]||new Pt(ee.baseTexture),W.mesh.texture=ie[ne],W.mesh.tint=this._tint,U.push(W),B[ne]=W}B[ne].total++}for(var E=0;E<z.length;E++)U.indexOf(z[E])===-1&&this.removeChild(z[E].mesh);for(var E=0;E<U.length;E++)U[E].mesh.parent!==this&&this.addChild(U[E].mesh);this._activePagesMeshData=U;for(var E in B){var W=B[E],se=W.total;if(!(((r=W.indices)===null||r===void 0?void 0:r.length)>6*se)||W.vertices.length<pd.BATCHABLE_SIZE*2)W.vertices=new Float32Array(4*2*se),W.uvs=new Float32Array(4*2*se),W.indices=new Uint16Array(6*se);else for(var ge=W.total,ue=W.vertices,we=ge*4*2;we<ue.length;we++)ue[we]=0;W.mesh.size=6*se}for(var E=0;E<L;E++){var C=o[E],Be=C.position.x+P[C.line]*(this._align==="justify"?C.prevSpaces:1);this._roundPixels&&(Be=Math.round(Be));var Fe=Be*i,Ee=C.position.y*i,ee=C.texture,Te=B[ee.baseTexture.uid],Ge=ee.frame,We=ee._uvs,Ve=Te.index++;Te.indices[Ve*6+0]=0+Ve*4,Te.indices[Ve*6+1]=1+Ve*4,Te.indices[Ve*6+2]=2+Ve*4,Te.indices[Ve*6+3]=0+Ve*4,Te.indices[Ve*6+4]=2+Ve*4,Te.indices[Ve*6+5]=3+Ve*4,Te.vertices[Ve*8+0]=Fe,Te.vertices[Ve*8+1]=Ee,Te.vertices[Ve*8+2]=Fe+Ge.width*i,Te.vertices[Ve*8+3]=Ee,Te.vertices[Ve*8+4]=Fe+Ge.width*i,Te.vertices[Ve*8+5]=Ee+Ge.height*i,Te.vertices[Ve*8+6]=Fe,Te.vertices[Ve*8+7]=Ee+Ge.height*i,Te.uvs[Ve*8+0]=We.x0,Te.uvs[Ve*8+1]=We.y0,Te.uvs[Ve*8+2]=We.x1,Te.uvs[Ve*8+3]=We.y1,Te.uvs[Ve*8+4]=We.x2,Te.uvs[Ve*8+5]=We.y2,Te.uvs[Ve*8+6]=We.x3,Te.uvs[Ve*8+7]=We.y3}this._textWidth=v*i,this._textHeight=(a.y+n.lineHeight)*i;for(var E in B){var W=B[E];if(this.anchor.x!==0||this.anchor.y!==0)for(var Xe=0,qe=this._textWidth*this.anchor.x,wt=this._textHeight*this.anchor.y,At=0;At<W.total;At++)W.vertices[Xe++]-=qe,W.vertices[Xe++]-=wt,W.vertices[Xe++]-=qe,W.vertices[Xe++]-=wt,W.vertices[Xe++]-=qe,W.vertices[Xe++]-=wt,W.vertices[Xe++]-=qe,W.vertices[Xe++]-=wt;this._maxLineHeight=b*i;var ct=W.mesh.geometry.getBuffer("aVertexPosition"),ft=W.mesh.geometry.getBuffer("aTextureCoord"),Et=W.mesh.geometry.getIndex();ct.data=W.vertices,ft.data=W.uvs,Et.data=W.indices,ct.update(),ft.update(),Et.update()}for(var E=0;E<o.length;E++)X5.push(o[E])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=xc.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,c=s.a,l=s.b,u=s.c,f=s.d,h=Math.sqrt(c*c+l*l),p=Math.sqrt(u*u+f*f),d=(Math.abs(h)+Math.abs(p))/2,v=this._fontSize/o,m=0,g=this._activePagesMeshData;m<g.length;m++){var _=g[m];_.mesh.shader.uniforms.uFWidth=d*i*v*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!xc.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(fi),zz=function(){function t(){}return t.add=function(){Mr.setExtensionXhrType("fnt",Mr.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=Hz(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(v){o[v.metadata.pageFile]=v.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=xc.install(a,o,!0),r())},c=0;c<a.page.length;++c){var l=a.page[c].file,u=i+l,f=!1;for(var h in this.resources){var p=this.resources[h];if(p.url===u){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),f=!0;break}}if(!f){var d={crossOrigin:e.crossOrigin,loadType:Mr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,d,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var tI=function(t,e){return tI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},tI(t,e)};function TUe(t,e){tI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var AUe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,Wz=function(t){TUe(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,oz,AUe,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(jt);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var rI=function(t,e){return rI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},rI(t,e)};function Yz(t,e){rI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var IUe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function RUe(t,e){var r=Math.ceil(t/2),n=IUe,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var PUe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},OUe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function kUe(t){for(var e=PUe[t],r=e.length,n=OUe,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var c=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var z5;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(z5||(z5={}));var W5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(W5||(W5={}));var Y5;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Y5||(Y5={}));var q5;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(q5||(q5={}));var K5;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(K5||(K5={}));var Z5;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Z5||(Z5={}));var J5;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(J5||(J5={}));var Q5;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Q5||(Q5={}));var eU;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(eU||(eU={}));var tU;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(tU||(tU={}));var rU;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(rU||(rU={}));var nU;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(nU||(nU={}));var iU;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(iU||(iU={}));var Cv;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Cv||(Cv={}));var aU;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(aU||(aU={}));var oU;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(oU||(oU={}));var sU;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(sU||(sU={}));var lU;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(lU||(lU={}));var uU;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(uU||(uU={}));var Tv=function(t){Yz(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=_t.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,c=RUe(o,r),l=kUe(o);return s=t.call(this,c,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,c=n,l=o;this.state.blend=!1,r.applyFilter(this,c,l,Cv.CLEAR);for(var u=1;u<this.passes-1;u++){r.bindAndClear(c,Cv.BLIT),this.uniforms.uSampler=l;var f=l;l=c,c=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(jt),FUe=function(t){Yz(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=_t.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new Tv(!0,r,n,i,a),o.blurYFilter=new Tv(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var c=r.getFilterTexture();this.blurXFilter.apply(r,n,c,Cv.CLEAR),this.blurYFilter.apply(r,c,i,a),r.returnFilterTexture(c)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(jt);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var nI=function(t,e){return nI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},nI(t,e)};function NUe(t,e){nI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var LUe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,iI=function(t){NUe(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,Xk,LUe,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,c=o(s),l=i+(1-i)*s,u=s*(1-i)-c*a,f=s*(1-i)+c*a,h=s*(1-i)+c*a,p=i+s*(1-i),d=s*(1-i)-c*a,v=s*(1-i)-c*a,m=s*(1-i)+c*a,g=i+s*(1-i),_=[l,u,f,0,0,h,p,d,0,0,v,m,g,0,0,0,0,0,1,0];this._loadMatrix(_,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,c=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,f=(a>>8&255)/255,h=(a&255)/255,p=[.3,.59,.11,0,0,s,c,l,r,0,u,f,h,n,0,s-u,c-f,l-h,0,0];this._loadMatrix(p,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(jt);iI.prototype.grayscale=iI.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var aI=function(t,e){return aI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},aI(t,e)};function MUe(t,e){aI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var BUe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,DUe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,UUe=function(t){MUe(e,t);function e(r,n){var i=this,a=new nn;return r.renderable=!1,i=t.call(this,DUe,BUe,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new hr(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(jt);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var oI=function(t,e){return oI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},oI(t,e)};function jUe(t,e){oI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $Ue=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,GUe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,VUe=function(t){jUe(e,t);function e(){return t.call(this,$Ue,GUe)||this}return e}(jt);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var sI=function(t,e){return sI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sI(t,e)};function HUe(t,e){sI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var XUe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,zUe=function(t){HUe(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,Xk,XUe,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(jt);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var cU;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(cU||(cU={}));var fU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(fU||(fU={}));var hU;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(hU||(hU={}));var dU;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(dU||(dU={}));var pU;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(pU||(pU={}));var vU;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(vU||(vU={}));var gU;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(gU||(gU={}));var mU;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(mU||(mU={}));var _U;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(_U||(_U={}));var yU;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(yU||(yU={}));var xU;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(xU||(xU={}));var bU;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(bU||(bU={}));var wU;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(wU||(wU={}));var EU;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(EU||(EU={}));var SU;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(SU||(SU={}));var CU;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(CU||(CU={}));var TU;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(TU||(TU={}));var lI;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(lI||(lI={}));var AU;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(AU||(AU={}));var qz=new nn;kn.prototype._cacheAsBitmap=!1;kn.prototype._cacheData=null;kn.prototype._cacheAsBitmapResolution=null;kn.prototype._cacheAsBitmapMultisample=lI.NONE;var WUe=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(kn.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new WUe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});kn.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};kn.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(_t.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),c=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=ku.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+Ou();this._cacheData.textureCacheId=f,lr.addToCache(u.baseTexture,f),Pt.addToCache(u,f);var h=this.transform.localTransform.copyTo(qz).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var p=new $a(u);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(i.x/i.width),p.anchor.y=-(i.y/i.height),p.alpha=n,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}};kn.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};kn.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(_t.RESOLUTION);var o=ku.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+Ou();this._cacheData.textureCacheId=s,lr.addToCache(o.baseTexture,s),Pt.addToCache(o,s);var c=qz;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new $a(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};kn.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};kn.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};kn.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,lr.removeFromCache(this._cacheData.textureCacheId),Pt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};kn.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */kn.prototype.name=null;fi.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=this.children[n].getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */kn.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new hr),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var uI=function(t,e){return uI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},uI(t,e)};function Zd(t,e){uI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kz=function(t){Zd(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,c=this.width/o,l=this.height/s,u=0;u<r;u++){var f=u%this.segWidth,h=u/this.segWidth|0;n.push(f*c,h*l),i.push(f/o,h/s)}for(var p=o*s,u=0;u<p;u++){var d=u%o,v=u/o|0,m=v*this.segWidth+d,g=v*this.segWidth+d+1,_=(v+1)*this.segWidth+d,x=(v+1)*this.segWidth+d+1;a.push(m,g,_,g,x,_)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(pg),Zz=function(t){Zd(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var c=0,l=r[0],u=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var p=h*4;if(this.textureScale>0){var d=l.x-r[h].x,v=l.y-r[h].y,m=Math.sqrt(d*d+v*v);l=r[h],c+=m/u}else c=h/(f-1);o[p]=c,o[p+1]=0,o[p+2]=c,o[p+3]=1}for(var g=0,h=0;h<f-1;h++){var p=h*2;s[g++]=p,s[g++]=p+1,s[g++]=p+2,s[g++]=p+2,s[g++]=p+1,s[g++]=p+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,c=r.length,l=0;l<c;l++){var u=r[l],f=l*4;l<r.length-1?i=r[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=p,o*=p,s[f]=u.x+a,s[f+1]=u.y+o,s[f+2]=u.x-a,s[f+3]=u.y-o,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(pg),YUe=function(t){Zd(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new Zz(r.height,n,i),s=new vd(r);return i>0&&(r.baseTexture.wrapMode=Ts.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(pd),Jz=function(t){Zd(e,t);function e(r,n,i){var a=this,o=new Kz(r.width,r.height,n,i),s=new vd(Pt.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(pd),Qz=function(t){Zd(e,t);function e(r,n,i,a,o){r===void 0&&(r=Pt.EMPTY);var s=this,c=new pg(n,i,a);c.getBuffer("aVertexPosition").static=!1;var l=new vd(r);return s=t.call(this,c,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(pd),c_=10,qUe=function(t){Zd(e,t);function e(r,n,i,a,o){n===void 0&&(n=c_),i===void 0&&(i=c_),a===void 0&&(a=c_),o===void 0&&(o=c_);var s=t.call(this,Pt.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(Jz);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cI=function(t,e){return cI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},cI(t,e)};function KUe(t,e){cI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var eW=function(t){KUe(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof Pt?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(bn.shared.add(this.update,this,Ko.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Pt.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Pt.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof Pt)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(bn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}($a);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xl.registerPlugin("accessibility",kX);xl.registerPlugin("extract",pz);xl.registerPlugin("interaction",MX);xl.registerPlugin("particle",Az);xl.registerPlugin("prepare",Dz);xl.registerPlugin("batch",cz);xl.registerPlugin("tilingSprite",Gz);Oa.registerPlugin(zz);Oa.registerPlugin(xz);Oa.registerPlugin(wz);Oa.registerPlugin(Cz);Oa.registerPlugin(jz);dg.registerPlugin(FX);dg.registerPlugin(gz);var ZUe="6.4.2",tW={AlphaFilter:Wz,BlurFilter:FUe,BlurFilterPass:Tv,ColorMatrixFilter:iI,DisplacementFilter:UUe,FXAAFilter:VUe,NoiseFilter:zUe};const JUe=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return va},AbstractBatchRenderer:sz,AbstractMultiResource:ub,AbstractRenderer:iz,AccessibilityManager:kX,AnimatedSprite:eW,AppLoaderPlugin:gz,Application:dg,ArrayResource:Ek,Attribute:OA,get BLEND_MODES(){return st},get BUFFER_BITS(){return pv},get BUFFER_TYPE(){return Wo},BaseImageResource:Ps,BasePrepare:Mz,BaseRenderTexture:Ik,BaseTexture:lr,BatchDrawCall:ax,BatchGeometry:zk,BatchPluginFactory:uz,BatchRenderer:cz,BatchShaderGenerator:lz,BatchSystem:kk,BatchTextureArray:ox,BitmapFont:xc,BitmapFontData:Sv,BitmapFontLoader:zz,BitmapText:CUe,BlobResource:yz,Bounds:cd,Buffer:Kn,BufferResource:Uu,get CLEAR_MODES(){return rl},CanvasResource:cb,Circle:AX,CompressedTextureLoader:xz,CompressedTextureResource:sx,Container:fi,ContextSystem:Fk,CountLimiter:Lz,CubeResource:Sk,DDSLoader:wz,DEG_TO_RAD:gl,get DRAW_MODES(){return Ga},DisplayObject:kn,get ENV(){return Rs},Ellipse:IX,Extract:pz,get FORMATS(){return rt},FORMATS_TO_COMPONENTS:Ez,FillStyle:qk,Filter:jt,FilterState:jX,FilterSystem:Ok,Framebuffer:ix,FramebufferSystem:Nk,get GC_MODES(){return nx},GLFramebuffer:$X,GLProgram:tz,GLTexture:Q_,GRAPHICS_CURVES:fd,Geometry:qd,GeometrySystem:Lk,Graphics:hd,GraphicsData:WA,GraphicsGeometry:Fz,IGLUniformData:M6e,INSTALLED:yv,get INTERNAL_FORMATS(){return Kt},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:wv,ImageBitmapResource:Ak,ImageResource:fb,InteractionData:AA,InteractionEvent:NX,InteractionManager:MX,InteractionTrackingData:J_,KTXLoader:Cz,get LINE_CAP(){return ll},get LINE_JOIN(){return sl},LineStyle:Nz,Loader:Oa,get LoaderResource(){return Mr},get MASK_TYPES(){return Oi},get MIPMAP_MODES(){return Pa},get MSAA_QUALITY(){return $n},MaskData:GX,MaskSystem:Mk,Matrix:nn,Mesh:pd,MeshBatchUvs:Vz,MeshGeometry:pg,MeshMaterial:vd,NineSlicePlane:qUe,ObjectRenderer:hg,ObservablePoint:Ql,PI_2:_v,get PRECISION(){return Go},ParticleContainer:B5e,ParticleRenderer:Az,PlaneGeometry:Kz,Point:hr,Polygon:Wh,Prepare:Dz,Program:Kd,ProjectionSystem:Uk,Quad:UX,QuadUv:Pk,RAD_TO_DEG:xk,get RENDERER_TYPE(){return ud},Rectangle:Jt,RenderTexture:ku,RenderTexturePool:DX,RenderTextureSystem:jk,Renderer:xl,Resource:af,RopeGeometry:Zz,RoundedRectangle:RX,Runner:Li,get SAMPLER_TYPES(){return vv},get SCALE_MODES(){return wi},get SHAPES(){return dn},SVGResource:Ck,ScissorSystem:Bk,Shader:fl,ShaderSystem:$k,SimpleMesh:Qz,SimplePlane:Jz,SimpleRope:YUe,Sprite:$a,SpriteMaskFilter:qX,Spritesheet:Uz,SpritesheetLoader:jz,State:ju,StateSystem:Gk,StencilSystem:Dk,System:J6e,get TARGETS(){return pu},get TEXT_GRADIENT(){return dd},get TYPES(){return Tt},TYPES_TO_BYTES_PER_COMPONENT:$A,TYPES_TO_BYTES_PER_PIXEL:Sz,TemporaryDisplayObject:wk,Text:Jk,TextMetrics:ts,TextStyle:of,Texture:Pt,TextureGCSystem:Vk,TextureLoader:mz,TextureMatrix:hb,TextureSystem:Hk,TextureUvs:Rk,Ticker:bn,TickerPlugin:FX,TilingSprite:lUe,TilingSpriteRenderer:Gz,TimeLimiter:sUe,Transform:fg,get UPDATE_PRIORITY(){return Ko},UniformGroup:vu,VERSION:ZUe,VideoResource:Tk,ViewableBuffer:xv,get WRAP_MODES(){return Ts},accessibleTarget:OX,autoDetectRenderer:az,autoDetectResource:lb,checkMaxIfStatementsInShader:YX,createUBOElements:JX,defaultFilterVertex:Xk,defaultVertex:oz,filters:tW,generateProgram:rz,generateUniformBufferSync:ez,getTestContext:XX,getUBOData:QX,graphicsUtils:H5e,groupD8:cn,interactiveTarget:LX,isMobile:vo,resources:fz,settings:_t,systems:hz,uniformParsers:Hc,utils:Z8e},Symbol.toStringTag,{value:"Module"}));let f_;const QUe=new Uint8Array(16);function eje(){if(!f_&&(f_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!f_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f_(QUe)}const Pi=[];for(let t=0;t<256;++t)Pi.push((t+256).toString(16).slice(1));function tje(t,e=0){return Pi[t[e+0]]+Pi[t[e+1]]+Pi[t[e+2]]+Pi[t[e+3]]+"-"+Pi[t[e+4]]+Pi[t[e+5]]+"-"+Pi[t[e+6]]+Pi[t[e+7]]+"-"+Pi[t[e+8]]+Pi[t[e+9]]+"-"+Pi[t[e+10]]+Pi[t[e+11]]+Pi[t[e+12]]+Pi[t[e+13]]+Pi[t[e+14]]+Pi[t[e+15]]}const rje=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),IU={randomUUID:rje};function Y0(t,e,r){if(IU.randomUUID&&!e&&!t)return IU.randomUUID();t=t||{};const n=t.random||(t.rng||eje)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return tje(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fI=function(t,e){return fI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},fI(t,e)};function nje(t,e){fI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ije=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,aje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,oje=function(t){nje(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,ije,aje)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}(jt);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hI=function(t,e){return hI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},hI(t,e)};function sje(t,e){hI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,uje=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,cje=function(t){sje(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,lje,uje)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}(jt);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dI=function(t,e){return dI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},dI(t,e)};function fje(t,e){dI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,dje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,pje=function(t){fje(e,t);function e(r){var n=t.call(this,hje,dje)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}(jt);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pI=function(t,e){return pI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pI(t,e)};function vje(t,e){pI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mje=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,_je=function(t){vje(e,t);function e(r){var n=t.call(this,gje,mje)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=Pt.from(n._canvas,{scaleMode:wi.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,c=0;c<n;c++){var l=s/(o-c),u=Math.max(l*(1-Math.random()*.6),a);r[c]=u,s-=u}r[n]=s}else{for(var s=1,f=Math.sqrt(1/this._slices),c=0;c<n;c++){var u=Math.max(f*s*Math.random(),a);r[c]=u,s-=u}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var c=this._sizes[s]*r,l=a>0?a:0,u=a<0?-a:0;i.fillStyle="rgba("+l+", "+u+", 0, 1)",i.fillRect(0,o>>0,r,c+1>>0),o+=c}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*gl;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}(jt);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vI=function(t,e){return vI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},vI(t,e)};function yje(t,e){vI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var xje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,bje=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,wje=function(t){yje(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,xje,bje)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}(jt);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gI=function(t,e){return gI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},gI(t,e)};function Eje(t,e){gI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Cje=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,Tje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,Aje=function(t){Eje(e,t);function e(r){var n=t.call(this,Sje,Tje.replace("${perlin}",Cje))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new hr,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*gl;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}(jt);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mI=function(t,e){return mI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},mI(t,e)};function Ije(t,e){mI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Rje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Pje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){Ije(e,t);function e(r){var n=t.call(this,Rje,Pje)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})(jt);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _I=function(t,e){return _I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_I(t,e)};function Oje(t,e){_I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Fje=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,Nje=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,lx=function(t){Oje(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,kje,i?Nje:Fje)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new hr,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,c;if(this._quality===1||this._blur===0)c=this._kernels[0]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),u=n,f=l,h=void 0,p=this._quality-1,d=0;d<p;d++)c=this._kernels[d]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,f,1),h=u,u=f,f=h;c=this._kernels[p]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof hr?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}(jt);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yI=function(t,e){return yI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yI(t,e)};function rW(t,e){yI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nW=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Lje=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,Mje=function(t){rW(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,nW,Lje)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}(jt),Bje=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){rW(e,t);function e(r){var n=t.call(this,nW,Bje)||this;n.bloomScale=1,n.brightness=1,n._resolution=_t.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;return n._extractFilter=new Mje(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new lx(a):new lx(o,s),n.pixelSize=c,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var c=r.getFilterTexture();this._blurFilter.apply(r,s,c,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=c,r.applyFilter(this,n,i,a),r.returnFilterTexture(c),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:_t.FILTER_RESOLUTION},e})(jt);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xI=function(t,e){return xI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xI(t,e)};function Dje(t,e){xI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Uje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jje=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){Dje(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,Uje,jje)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bI=function(t,e){return bI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},bI(t,e)};function $je(t,e){bI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Vje=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){$je(e,t);function e(r){var n=t.call(this,Gje,Vje)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/gl},set:function(r){this._angle=r*gl,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return pa(this.uniforms.lightColor)},set:function(r){hi(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return pa(this.uniforms.shadowColor)},set:function(r){hi(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wI=function(t,e){return wI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wI(t,e)};function Hje(t,e){wI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){Hje(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=_t.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,c;return typeof r=="number"?(s=r,c=r):r instanceof hr?(s=r.x,c=r.y):Array.isArray(r)&&(s=r[0],c=r[1]),o.blurXFilter=new Tv(!0,s,n,i,a),o.blurYFilter=new Tv(!1,c,n,i,a),o.blurYFilter.blendMode=st.SCREEN,o.defaultFilter=new Wz,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EI=function(t,e){return EI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},EI(t,e)};function Xje(t,e){EI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Wje=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){Xje(e,t);function e(r){var n=t.call(this,zje,Wje)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})(jt);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SI=function(t,e){return SI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},SI(t,e)};function Yje(t,e){SI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Kje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){Yje(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,qje,Kje)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof Pt||(r=Pt.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=Pa.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?wi.NEAREST:wi.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=Pa.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})(jt);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CI=function(t,e){return CI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},CI(t,e)};function Zje(t,e){CI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Qje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){Zje(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,Jje,Qje)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(hi(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=pa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TI=function(t,e){return TI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},TI(t,e)};function e9e(t,e){TI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var t9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,r9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){e9e(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,t9e,r9e)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(hi(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=pa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(hi(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=pa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AI=function(t,e){return AI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},AI(t,e)};function n9e(t,e){AI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var i9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,a9e=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){n9e(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,i9e,a9e)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var II=function(t,e){return II=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},II(t,e)};function o9e(t,e){II(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var s9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,l9e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){o9e(e,t);function e(){return t.call(this,s9e,l9e)||this}return e})(jt);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var RI=function(t,e){return RI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},RI(t,e)};function u9e(t,e){RI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var c9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,f9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){u9e(e,t);function e(r){var n=t.call(this,c9e,f9e)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})(jt);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var PI=function(t,e){return PI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},PI(t,e)};function h9e(t,e){PI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ux=function(){return ux=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ux.apply(this,arguments)},d9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,p9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){h9e(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=_t.FILTER_RESOLUTION;var i=r?ux(ux({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;n._tintFilter=new jt(d9e,p9e),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new hr,n._tintFilter.resolution=l,n._blurFilter=a?new lx(a):new lx(o,s),n.pixelSize=c,n.resolution=l;var u=i.shadowOnly,f=i.rotation,h=i.distance,p=i.alpha,d=i.color;return n.shadowOnly=u,n.rotation=f,n.distance=h,n.alpha=p,n.color=d,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/gl},set:function(r){this.angle=r*gl,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return pa(this._tintFilter.uniforms.color)},set:function(r){hi(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:_t.FILTER_RESOLUTION},e})(jt);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var OI=function(t,e){return OI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},OI(t,e)};function v9e(t,e){OI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var g9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,m9e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){v9e(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,g9e,m9e)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kI=function(t,e){return kI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kI(t,e)};function _9e(t,e){kI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var y9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,x9e=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){_9e(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,c=i.knockout,l=i.quality,u=Math.round(i.distance);return n=t.call(this,y9e,x9e.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/u).toFixed(7)).replace(/__DIST__/gi,u.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:u,knockout:c}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return pa(this.uniforms.glowColor)},set:function(r){hi(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})(jt);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var FI=function(t,e){return FI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},FI(t,e)};function b9e(t,e){FI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var w9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,E9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){b9e(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,w9e,E9e)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new Ql(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,c=o.y;this.uniforms.uKernelSize=s!==0||c!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NI=function(t,e){return NI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},NI(t,e)};function S9e(t,e){NI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var C9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,T9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){S9e(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,C9e,T9e.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],c=s[0];typeof c=="number"?c=hi(c):s[0]=pa(c),n[o*3]=c[0],n[o*3+1]=c[1],n[o*3+2]=c[2];var l=s[1];typeof l=="number"?l=hi(l):s[1]=pa(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var LI=function(t,e){return LI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},LI(t,e)};function A9e(t,e){LI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var I9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,R9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){A9e(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,I9e,R9e.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return pa(this.uniforms.outlineColor)},set:function(r){hi(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})(jt);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var MI=function(t,e){return MI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},MI(t,e)};function P9e(t,e){MI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var O9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,k9e=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){P9e(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,O9e,k9e)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var BI=function(t,e){return BI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},BI(t,e)};function F9e(t,e){BI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var N9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,L9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){F9e(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,N9e,L9e)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DI=function(t,e){return DI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},DI(t,e)};function M9e(t,e){DI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var B9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,D9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,U9e=function(t){M9e(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,B9e,D9e)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}(jt);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var UI=function(t,e){return UI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},UI(t,e)};function j9e(t,e){UI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,G9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){j9e(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,$9e,G9e)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(hi(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=pa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jI=function(t,e){return jI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},jI(t,e)};function db(t,e){jI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var V9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,H9e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,iW=function(t){db(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,V9e,H9e)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new hr(0,window.innerHeight/2),o.uniforms.end=a||new hr(600,window.innerHeight/2),o.uniforms.delta=new hr(30,30),o.uniforms.texSize=new hr(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}(jt),X9e=function(t){db(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(iW),z9e=function(t){db(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(iW);(function(t){db(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new X9e(r,n,i,a),o.tiltShiftYFilter=new z9e(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})(jt);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $I=function(t,e){return $I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$I(t,e)};function W9e(t,e){$I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Y9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,q9e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){W9e(e,t);function e(r){var n=t.call(this,Y9e,q9e)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new hr},e})(jt);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GI=function(t,e){return GI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},GI(t,e)};function K9e(t,e){GI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Z9e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var J9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Q9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){K9e(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=Z9e(i,["maxKernelSize"]);return n=t.call(this,J9e,Q9e.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})(jt);const VI="shockwaveFilter";function e$e(t,e){const r=t.containerFilters.get(VI);if(r)return r;if(e){const n=new U9e([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(VI,n),n}}function t$e(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function r$e(t,e){if(e===0)t.removeFilter(VI);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const HI=0,XI="radiusAlphaFilter";class n$e extends jt{constructor(e,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new hr(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function i$e(t,e){const r=t.containerFilters.get(XI);if(r)return r;if(e){const n=new n$e(new hr(.5,.5),HI);return n.radius=HI,t.addFilter(n),t.containerFilters.set(XI,n),n}}function a$e(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:HI}function o$e(t,e){if(e===0)t.removeFilter(XI);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class uC extends fi{constructor(){super();lt(this,"containerFilters",new Map);lt(this,"baseX",0);lt(this,"baseY",0)}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new tW.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new oje;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new cje;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new pje;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new _je;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new wje;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new Aje;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return e$e(this,r)}get shockwaveFilter(){return t$e(this)}set shockwaveFilter(r){r$e(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return i$e(this,r)}get radiusAlphaFilter(){return a$e(this)}set radiusAlphaFilter(r){o$e(this,r)}}var Zt;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})(Zt||(Zt={}));var cx=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),K;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(K||(K={}));var Wt;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(Wt||(Wt={}));var pn;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(pn||(pn={}));var On;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(On||(On={}));var Bt;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})(Bt||(Bt={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zI=function(t,e){return zI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zI(t,e)};function Jd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function RU(t){switch(t.toLowerCase()){case"nearest":return ha.Nearest;case"linear":return ha.Linear;case"mipmap":return ha.MipMap;case"mipmapnearestnearest":return ha.MipMapNearestNearest;case"mipmaplinearnearest":return ha.MipMapLinearNearest;case"mipmapnearestlinear":return ha.MipMapNearestLinear;case"mipmaplinearlinear":return ha.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var ha;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(ha||(ha={}));var eu;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(eu||(eu={}));var WI=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),s$e=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),l$e=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new PU,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=ha.Nearest,i.uWrap=eu.ClampToEdge,i.vWrap=eu.ClampToEdge,n.push(i)}var s=new OU;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new u$e(e),o=new Array(4),s=null,c={},l=null;c.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},c.format=function(){},c.filter=function(){s.minFilter=RU(o[1]),s.magFilter=RU(o[2])},c.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=eu.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=eu.Repeat)},c.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var p=o[1],d=0;p.toLocaleLowerCase()=="true"?d=6:p.toLocaleLowerCase()=="false"?d=0:d=(720-parseFloat(p))%360/45,l.rotate=d},u.index=function(){l.index=parseInt(o[1])};for(var f=a.readLine();f!=null&&f.trim().length==0;)f=a.readLine();for(;!(f==null||f.trim().length==0||a.readEntry(o,f)==0);)f=a.readLine();var h=function(){for(;;){if(f==null)return n&&n(i);if(f.trim().length==0)s=null,f=a.readLine();else if(s===null){for(s=new PU,s.name=f.trim();a.readEntry(o,f=a.readLine())!=0;){var p=c[o[0]];p&&p()}i.pages.push(s),r(s.name,function(I){if(I===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=I,s.pma&&(I.alphaMode=va.PMA),I.valid||I.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=I.realWidth,s.height=I.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new s$e;var d=new OU;d.name=f,d.page=s;for(var v=null,m=null;;){var g=a.readEntry(o,f=a.readLine());if(g==0)break;var p=u[o[0]];if(p)p();else{v==null&&(v=[],m=[]),v.push(o[0]);for(var _=[],x=0;x<g;x++)_.push(parseInt(o[x+1]));m.push(_)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var b=s.baseTexture.resolution;l.x/=b,l.y/=b,l.width/=b,l.height/=b,l.originalWidth/=b,l.originalHeight/=b,l.offsetX/=b,l.offsetY/=b;var w=l.rotate%4!==0,E=new Jt(l.x,l.y,w?l.height:l.width,w?l.width:l.height),C=new Jt(0,0,l.originalWidth,l.originalHeight),T=new Jt(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);d.texture=new Pt(d.page.baseTexture,E,C,T,l.rotate),d.index=l.index,d.texture.updateUvs(),i.regions.push(d)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),u$e=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),PU=function(){function t(){this.minFilter=ha.Nearest,this.magFilter=ha.Nearest,this.uWrap=eu.ClampToEdge,this.vWrap=eu.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==ha.Linear?e.scaleMode=wi.LINEAR:this.minFilter==ha.Nearest?e.scaleMode=wi.NEAREST:(e.mipmap=Pa.POW2,r==ha.MipMapNearestNearest?e.scaleMode=wi.NEAREST:e.scaleMode=wi.LINEAR)},t}(),OU=function(t){Jd(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(WI),c$e=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),f$e=Math.fround||c$e,aW=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),oW=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),tt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),te=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),h$e=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),d$e=function(t){Jd(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(h$e),sW=function(t){Jd(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(d$e),ye=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?f$e(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),pb=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),Av=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),e3=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new pb(function(){return ye.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var c=0;c<s;c++){var l=o[c];if(l.bone.active){var u=l.getAttachment();if(u!=null&&u.type===Zt.BoundingBox){var f=u;n.push(f);var h=a.obtain();h.length!=f.worldVerticesLength&&(h=ye.newFloatArray(f.worldVerticesLength)),i.push(h),f.computeWorldVertices(l,0,f.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var c=a[o],l=c,u=0,f=c.length;u<f;u+=2){var h=l[u],p=l[u+1];e=Math.min(e,h),r=Math.min(r,p),n=Math.max(n,h),i=Math.max(i,p)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,c=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=c&&i>=c)return!1;var l=(i-r)/(n-e),u=l*(a-e)+r;if(u>o&&u<c||(u=l*(s-e)+r,u>o&&u<c))return!0;var f=(o-r)/l+e;return f>a&&f<s||(f=(c-r)/l+e,f>a&&f<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,c=0;c<a;c+=2){var l=i[c+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var f=i[c];f+(n-l)/(u-l)*(i[o]-f)<r&&(s=!s)}o=c}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,c=r-i,l=n-a,u=r*a-n*i,f=o[s-2],h=o[s-1],p=0;p<s;p+=2){var d=o[p],v=o[p+1],m=f*v-h*d,g=f-d,_=h-v,x=c*_-l*g,b=(u*g-c*m)/x;if((b>=f&&b<=d||b>=d&&b<=f)&&(b>=r&&b<=i||b>=i&&b<=r)){var w=(u*_-l*m)/x;if((w>=h&&w<=v||w>=v&&w<=h)&&(w>=n&&w<=a||w>=a&&w<=n))return!0}f=d,h=v}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),p$e={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},Dl=[0,0,0],v$e=function(t){Jd(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}($a),g$e=function(t){Jd(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(Qz),vg=function(t){Jd(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),c=n.newContainer();if(n.slotContainers.push(c),n.addChild(c),n.tempClipContainers.push(null),!!s)if(s.type===Zt.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,c.addChild(u)}else if(s.type===Zt.Mesh){var f=n.createMesh(o,s);o.currentMesh=f,o.currentMeshId=s.id,o.currentMeshName=s.name,c.addChild(f)}else s.type===Zt.Clipping&&(n.createGraphics(o,s),c.addChild(o.clippingContainer),c.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:fi.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return pa(this.tintRgb)},set:function(r){this.tintRgb=hi(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:p$e.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,c=null;o?(s=o.light,c=o.dark):s=this.tintRgb;for(var l=0,u=a.length;l<u;l++){var f=a[l],h=f.getAttachment(),p=this.slotContainers[l];if(!h){p.visible=!1;continue}var d=null;h.sequence&&h.sequence.apply(f,h);var v=h.region,m=h.color;switch(h!=null&&h.type){case Zt.Region:var g=p.transform;if(g.setFromMatrix(f.bone.matrix),v=h.region,f.currentMesh&&(f.currentMesh.visible=!1,f.currentMesh=null,f.currentMeshId=void 0,f.currentMeshName=void 0),!v){f.currentSprite&&(f.currentSprite.renderable=!1);break}if(!f.currentSpriteName||f.currentSpriteName!==h.name){var _=h.name;if(f.currentSprite&&(f.currentSprite.visible=!1),f.sprites=f.sprites||{},f.sprites[_]!==void 0)f.sprites[_].visible=!0;else{var x=this.createSprite(f,h,_);p.addChild(x)}f.currentSprite=f.sprites[_],f.currentSpriteName=_}f.currentSprite.renderable=!0,f.hackRegion||this.setSpriteRegion(h,f.currentSprite,v),f.currentSprite.color?d=f.currentSprite.color:(Dl[0]=s[0]*f.color.r*m.r,Dl[1]=s[1]*f.color.g*m.g,Dl[2]=s[2]*f.color.b*m.b,f.currentSprite.tint=pa(Dl)),f.currentSprite.blendMode=f.blendMode;break;case Zt.Mesh:if(f.currentSprite){f.currentSprite.visible=!1,f.currentSprite=null,f.currentSpriteName=void 0;var b=new fg;b._parentID=-1,b._worldID=p.transform._worldID,p.transform=b}if(!v){f.currentMesh&&(f.currentMesh.renderable=!1);break}var w=h.id;if(f.currentMeshId===void 0||f.currentMeshId!==w){var E=w;if(f.currentMesh&&(f.currentMesh.visible=!1),f.meshes=f.meshes||{},f.meshes[E]!==void 0)f.meshes[E].visible=!0;else{var C=this.createMesh(f,h);p.addChild(C)}f.currentMesh=f.meshes[E],f.currentMeshName=h.name,f.currentMeshId=E}f.currentMesh.renderable=!0,h.computeWorldVerticesOld(f,f.currentMesh.vertices),f.currentMesh.color?d=f.currentMesh.color:(Dl[0]=s[0]*f.color.r*m.r,Dl[1]=s[1]*f.color.g*m.g,Dl[2]=s[2]*f.color.b*m.b,f.currentMesh.tint=pa(Dl)),f.currentMesh.blendMode=f.blendMode,f.hackRegion||this.setMeshRegion(h,f.currentMesh,v);break;case Zt.Clipping:f.currentGraphics||(this.createGraphics(f,h),p.addChild(f.clippingContainer),p.addChild(f.currentGraphics)),this.updateGraphics(f,h),p.alpha=1,p.visible=!0;continue;default:p.visible=!1;continue}if(p.visible=!0,d){var T=f.color.r*m.r,I=f.color.g*m.g,R=f.color.b*m.b;d.setLight(s[0]*T+c[0]*(1-T),s[1]*I+c[1]*(1-I),s[2]*R+c[2]*(1-R)),f.darkColor?(T=f.darkColor.r,I=f.darkColor.g,R=f.darkColor.b):(T=0,I=0,R=0),d.setDark(s[0]*T+c[0]*(1-T),s[1]*I+c[1]*(1-I),s[2]*R+c[2]*(1-R))}p.alpha=f.color.a}for(var O=this.skeleton.drawOrder,P=null,k=null,l=0,u=O.length;l<u;l++){var f=a[O[l].data.index],p=this.slotContainers[O[l].data.index];if(k||p.parent!==null&&p.parent!==this&&(p.parent.removeChild(p),p.parent=this),f.currentGraphics&&f.getAttachment())k=f.clippingContainer,P=f.getAttachment(),k.children.length=0,this.children[l]=p,P.endSlot===f.data&&(P.endSlot=null);else if(k){var L=this.tempClipContainers[l];L||(L=this.tempClipContainers[l]=this.newContainer(),L.visible=!1),this.children[l]=L,p.parent=null,k.addChild(p),P.endSlot==f.data&&(k.renderable=!0,k=null,P=null)}else this.children[l]=p}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*te.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}fi.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),Ga.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new Wh([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new WI,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var c=this.skeleton.slots[o];if(!c)return!1;var l=c.getAttachment();if(n===l.name){var u=s.region;return i?(u=new WI,u.texture=i,u.size=a,c.hackRegion=u,c.hackAttachment=l):(c.hackRegion=null,c.hackAttachment=null),c.currentSprite&&c.currentSprite.region!=u?(this.setSpriteRegion(l,c.currentSprite,u),c.currentSprite.region=u):c.currentMesh&&c.currentMesh.region!=u&&this.setMeshRegion(l,c.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new fi},e.prototype.newSprite=function(r){return new v$e(r)},e.prototype.newGraphics=function(){return new hd},e.prototype.newMesh=function(r,n,i,a,o){return new g$e(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,c=this.skeleton.slots.length;s<c;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",f=l.currentSprite||l.currentMesh;u.endsWith(r)?(f.parentGroup=n,o.push(f)):i&&f&&(f.parentGroup=i,a.push(f))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(fi);Object.defineProperty(vg.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function m$e(t){return t.type===Mr.TYPE.JSON}function _$e(t){return t.xhrType===Mr.XHR_RESPONSE_TYPE.BUFFER}Mr.setExtensionXhrType("skel",Mr.XHR_RESPONSE_TYPE.BUFFER);var y$e=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=m$e(r)&&r.data.bones,a=_$e(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var c=r.metadata||{},l=c?c.spineSkeletonScale:null;l&&(o.scale=l);var u=c.spineAtlas;if(u===!1)return n();if(u&&u.pages)return e.parseData(r,o,u,s),n();var f=c.spineAtlasSuffix||".atlas",h=r.url,p=h.indexOf("?");p>0&&(h=h.substr(0,p)),h=h.substr(0,h.lastIndexOf("."))+f,c.spineAtlasFile&&(h=c.spineAtlasFile),h=h.replace(this.baseUrl,"");var d={crossOrigin:r.crossOrigin,xhrType:Mr.XHR_RESPONSE_TYPE.TEXT,metadata:c.spineMetadata||null,parentResource:r},v={crossOrigin:r.crossOrigin,metadata:c.imageMetadata||null,parentResource:r},m=r.url.substr(0,r.url.lastIndexOf("/")+1);m=m.replace(this.baseUrl,"");var g=c.imageNamePrefix||r.name+"_atlas_page_",_=c.images?kU(c.images):c.image?kU({default:c.image}):c.imageLoader?c.imageLoader(this,g,m,v):x$e(this,g,m,v);function x(b){new l$e(b,_,function(w){w&&e.parseData(r,o,w,s),n()})}c.atlasRawData?x(c.atlasRawData):this.add(r.name+"_atlas",h,d,function(b){b.error?n():x(b.data)})}}},t}();function x$e(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,c=t.resources[o];if(c){var l=function(){a(c.texture.baseTexture)};c.texture?l():c.onAfterMiddleware.add(l)}else t.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=va.PMA),a(u.texture.baseTexture))})}}function kU(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var YI=function(t,e){return YI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},YI(t,e)};function _n(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");YI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var t3=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),_f=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,v=h.a,m=h.c,g=h.b,_=h.d,x=n,b=o;b<i;x+=2,b+=s){var w=u[x],E=u[x+1];a[b]=w*v+E*m+p,a[b+1]=w*g+E*_+d}return}for(var C=0,T=0,I=0;I<n;I+=2){var R=f[C];C+=R+1,T+=R}var O=c.bones;if(l.length==0)for(var b=o,m=T*3;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,w=u[m],E=u[m+1],L=u[m+2];P+=(w*h.a+E*h.c+h.tx)*L,k+=(w*h.b+E*h.d+h.ty)*L}a[b]=P,a[b+1]=k}else for(var B=l,b=o,m=T*3,U=T<<1;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3,U+=2){var h=O[f[C]].matrix,w=u[m]+B[U],E=u[m+1]+B[U+1],L=u[m+2];P+=(w*h.a+E*h.c+h.tx)*L,k+=(w*h.b+E*h.d+h.ty)*L}a[b]=P,a[b+1]=k}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),ye.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=ye.newFloatArray(this.vertices.length),ye.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}(t3),lW=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.BoundingBox,n.color=new tt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(_f),uW=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Clipping,n.color=new tt(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(_f),vb=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Mesh,n.color=new tt(1,1,1,1),n.tempColor=new tt(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),ye.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),ye.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),ye.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(_f),Iv=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new tt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),ye.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(_f),cW=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Point,n.color=new tt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=te.cosDeg(this.rotation),a=te.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*te.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(_f),r3=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new tt,this.darkColor=e.darkColor==null?null:new tt,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),n3=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new tt(1,1,1,1),n.offset=ye.newFloatArray(8),n.uvs=ye.newFloatArray(8),n.tempColor=new tt(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,v=o*l+this.x,m=o*u,g=s*l+this.y,_=s*u,x=this.offset;x[e.OX1]=f-d,x[e.OY1]=p+h,x[e.OX2]=f-_,x[e.OY2]=g+h,x[e.OX3]=v-_,x[e.OY3]=g+m,x[e.OX4]=v-d,x[e.OY4]=p+m},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof r3?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,p=s.d,d=0,v=0;d=o[e.OX1],v=o[e.OY1],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX2],v=o[e.OY2],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX3],v=o[e.OY3],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX4],v=o[e.OY4],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,ye.arrayCopy(this.uvs,0,r.uvs,0,8),ye.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(t3),b$e=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=te.randomTriangular(-this.jitterX,this.jitterY),e.y+=te.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),w$e=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*te.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new sW(2),t}(),Hn=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Si;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Si||(Si={}));var Bs=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=ye.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,v=this.curves;v[d++]=t.BEZIER;for(var m=h,g=p,_=d+t.BEZIER_SIZE-1;d<_;d+=2)v[d]=m,v[d+1]=g,h+=u,p+=f,u+=c,f+=l,m+=h,g+=p},t.prototype.getCurvePercent=function(e,r){r=te.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),ja=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Si.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case K.setup:u.rotation=u.data.rotation;return;case K.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case K.setup:u.rotation=u.data.rotation+h*o;break;case K.first:case K.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case K.add:u.rotation+=h*o}return}var p=Hn.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],v=l[p],m=this.getCurvePercent((p>>1)-1,1-(i-v)/(l[p+e.PREV_TIME]-v)),g=l[p+e.ROTATION]-d;switch(g=d+(g-(16384-(16384.499999999996-g/360|0))*360)*m,s){case K.setup:u.rotation=u.data.rotation+(g-(16384-(16384.499999999996-g/360|0))*360)*o;break;case K.first:case K.replace:g+=u.data.rotation-u.rotation;case K.add:u.rotation+=(g-(16384-(16384.499999999996-g/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Bs),sf=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Si.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case K.setup:u.x=u.data.x,u.y=u.data.y;return;case K.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=Hn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.X]-f)*v,h+=(l[p+e.Y]-h)*v}switch(s){case K.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case K.first:case K.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case K.add:u.x+=f*o,u.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Bs),i3=function(t){_n(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Si.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case K.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case K.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=Hn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=(f+(l[p+e.X]-f)*v)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*v)*u.data.scaleY}if(o==1)s==K.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var m=0,g=0;if(c==Wt.mixOut)switch(s){case K.setup:m=u.data.scaleX,g=u.data.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-m)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-g)*o;break;case K.first:case K.replace:m=u.scaleX,g=u.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-m)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-g)*o;break;case K.add:m=u.scaleX,g=u.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-u.data.scaleX)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-u.data.scaleY)*o}else switch(s){case K.setup:m=Math.abs(u.data.scaleX)*te.signum(f),g=Math.abs(u.data.scaleY)*te.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=g+(h-g)*o;break;case K.first:case K.replace:m=Math.abs(u.scaleX)*te.signum(f),g=Math.abs(u.scaleY)*te.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=g+(h-g)*o;break;case K.add:m=te.signum(f),g=te.signum(h),u.scaleX=Math.abs(u.scaleX)*m+(f-Math.abs(u.data.scaleX)*m)*o,u.scaleY=Math.abs(u.scaleY)*g+(h-Math.abs(u.data.scaleY)*g)*o}}}},e}(sf),a3=function(t){_n(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Si.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case K.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case K.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=Hn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=f+(l[p+e.X]-f)*v,h=h+(l[p+e.Y]-h)*v}switch(s){case K.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case K.first:case K.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case K.add:u.shearX+=f*o,u.shearY+=h*o}}},e}(sf),Rv=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Si.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.color.setFromColor(l.data.color);return;case K.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,v=0,m=0;if(i>=u[u.length-e.ENTRIES]){var g=u.length;p=u[g+e.PREV_R],d=u[g+e.PREV_G],v=u[g+e.PREV_B],m=u[g+e.PREV_A]}else{var _=Hn.binarySearch(u,i,e.ENTRIES);p=u[_+e.PREV_R],d=u[_+e.PREV_G],v=u[_+e.PREV_B],m=u[_+e.PREV_A];var x=u[_],b=this.getCurvePercent(_/e.ENTRIES-1,1-(i-x)/(u[_+e.PREV_TIME]-x));p+=(u[_+e.R]-p)*b,d+=(u[_+e.G]-d)*b,v+=(u[_+e.B]-v)*b,m+=(u[_+e.A]-m)*b}if(o==1)l.color.set(p,d,v,m);else{var f=l.color;s==K.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(v-f.b)*o,(m-f.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Bs),Pv=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Si.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case K.first:var f=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var v=0,m=0,g=0,_=0,x=0,b=0,w=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;v=u[E+e.PREV_R],m=u[E+e.PREV_G],g=u[E+e.PREV_B],_=u[E+e.PREV_A],x=u[E+e.PREV_R2],b=u[E+e.PREV_G2],w=u[E+e.PREV_B2]}else{var C=Hn.binarySearch(u,i,e.ENTRIES);v=u[C+e.PREV_R],m=u[C+e.PREV_G],g=u[C+e.PREV_B],_=u[C+e.PREV_A],x=u[C+e.PREV_R2],b=u[C+e.PREV_G2],w=u[C+e.PREV_B2];var T=u[C],I=this.getCurvePercent(C/e.ENTRIES-1,1-(i-T)/(u[C+e.PREV_TIME]-T));v+=(u[C+e.R]-v)*I,m+=(u[C+e.G]-m)*I,g+=(u[C+e.B]-g)*I,_+=(u[C+e.A]-_)*I,x+=(u[C+e.R2]-x)*I,b+=(u[C+e.G2]-b)*I,w+=(u[C+e.B2]-w)*I}if(o==1)l.color.set(v,m,g,_),l.darkColor.set(x,b,w,1);else{var f=l.color,h=l.darkColor;s==K.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(m-f.g)*o,(g-f.b)*o,(_-f.a)*o),h.add((x-h.r)*o,(b-h.g)*o,(w-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Bs),Nc=function(){function t(e){this.frames=ye.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Si.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(c.bone.active){if(s==Wt.mixOut){o==K.setup&&this.setAttachment(e,c,c.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==K.setup||o==K.first)&&this.setAttachment(e,c,c.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=Hn.binarySearch(l,n,1)-1;var f=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),FU=null,o3=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r),n.frameVertices=new Array(r),FU==null&&(FU=ye.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Si.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof _f)||u.deformAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=K.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var v=u;switch(s){case K.setup:f.length=0;return;case K.first:if(o==1){f.length=0;break}var m=ye.setArraySize(f,p);if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++)m[_]+=(g[_]-m[_])*o;else{o=1-o;for(var _=0;_<p;_++)m[_]*=o}}return}var x=ye.setArraySize(f,p);if(i>=d[d.length-1]){var b=h[d.length-1];if(o==1)if(s==K.add){var v=u;if(v.bones==null)for(var g=v.vertices,w=0;w<p;w++)x[w]+=b[w]-g[w];else for(var E=0;E<p;E++)x[E]+=b[E]}else ye.arrayCopy(b,0,x,0,p);else switch(s){case K.setup:{var C=u;if(C.bones==null)for(var g=C.vertices,T=0;T<p;T++){var I=g[T];x[T]=I+(b[T]-I)*o}else for(var R=0;R<p;R++)x[R]=b[R]*o;break}case K.first:case K.replace:for(var O=0;O<p;O++)x[O]+=(b[O]-x[O])*o;break;case K.add:var v=u;if(v.bones==null)for(var g=v.vertices,P=0;P<p;P++)x[P]+=(b[P]-g[P])*o;else for(var k=0;k<p;k++)x[k]+=b[k]*o}return}var L=Hn.binarySearch(d,i),B=h[L-1],U=h[L],z=d[L],ee=this.getCurvePercent(L-1,1-(i-z)/(d[L-1]-z));if(o==1)if(s==K.add){var v=u;if(v.bones==null)for(var g=v.vertices,ne=0;ne<p;ne++){var W=B[ne];x[ne]+=W+(U[ne]-W)*ee-g[ne]}else for(var D=0;D<p;D++){var W=B[D];x[D]+=W+(U[D]-W)*ee}}else for(var H=0;H<p;H++){var W=B[H];x[H]=W+(U[H]-W)*ee}else switch(s){case K.setup:{var G=u;if(G.bones==null)for(var g=G.vertices,V=0;V<p;V++){var W=B[V],I=g[V];x[V]=I+(W+(U[V]-W)*ee-I)*o}else for(var ie=0;ie<p;ie++){var W=B[ie];x[ie]=(W+(U[ie]-W)*ee)*o}break}case K.first:case K.replace:for(var se=0;se<p;se++){var W=B[se];x[se]+=(W+(U[se]-W)*ee-x[se])*o}break;case K.add:var v=u;if(v.bones==null)for(var g=v.vertices,ge=0;ge<p;ge++){var W=B[ge];x[ge]+=(W+(U[ge]-W)*ee-g[ge])*o}else for(var ue=0;ue<p;ue++){var W=B[ue];x[ue]+=(W+(U[ue]-W)*ee)*o}}}}},e}(Bs),gb=function(){function t(e){this.frames=ye.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Si.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=Hn.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),Yh=function(){function t(e){this.frames=ye.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Si.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==Wt.mixOut&&o==K.setup){ye.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==K.setup||o==K.first)&&ye.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=Hn.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)ye.arrayCopy(l,0,c,0,l.length);else for(var p=0,d=h.length;p<d;p++)c[p]=l[h[p]]},t}(),Ov=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Si.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case K.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case K.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==K.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+e.PREV_SOFTNESS]-u.data.softness)*o,c==Wt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+e.PREV_SOFTNESS]-u.softness)*o,c==Wt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=Hn.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],p=l[f+e.PREV_SOFTNESS],d=l[f],v=this.getCurvePercent(f/e.ENTRIES-1,1-(i-d)/(l[f+e.PREV_TIME]-d));s==K.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*v-u.data.mix)*o,u.softness=u.data.softness+(p+(l[f+e.SOFTNESS]-p)*v-u.data.softness)*o,c==Wt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*v-u.mix)*o,u.softness+=(p+(l[f+e.SOFTNESS]-p)*v-u.softness)*o,c==Wt.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(Bs),kv=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Si.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var f=u.data;switch(s){case K.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case K.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,v=0;if(i>=l[l.length-e.ENTRIES]){var m=l.length;h=l[m+e.PREV_ROTATE],p=l[m+e.PREV_TRANSLATE],d=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR]}else{var g=Hn.binarySearch(l,i,e.ENTRIES);h=l[g+e.PREV_ROTATE],p=l[g+e.PREV_TRANSLATE],d=l[g+e.PREV_SCALE],v=l[g+e.PREV_SHEAR];var _=l[g],x=this.getCurvePercent(g/e.ENTRIES-1,1-(i-_)/(l[g+e.PREV_TIME]-_));h+=(l[g+e.ROTATE]-h)*x,p+=(l[g+e.TRANSLATE]-p)*x,d+=(l[g+e.SCALE]-d)*x,v+=(l[g+e.SHEAR]-v)*x}if(s==K.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(p-f.translateMix)*o,u.scaleMix=f.scaleMix+(d-f.scaleMix)*o,u.shearMix=f.shearMix+(v-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(v-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Bs),gd=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Si.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case K.setup:u.position=u.data.position;return;case K.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=Hn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==K.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Bs),s3=function(t){_n(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Si.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case K.setup:u.spacing=u.data.spacing;return;case K.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=Hn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==K.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o}},e}(gd),Fv=function(t){_n(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Si.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case K.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case K.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=Hn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.ROTATE]-f)*v,h+=(l[p+e.TRANSLATE]-h)*v}s==K.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Bs),fW=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new dW(this),this.propertyIDs=new aW,this.animationsChanged=!1,this.trackEntryPool=new pb(function(){return new hW}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?K.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||c==K.add)for(var d=0;d<h;d++){ye.webkit602BugfixHelper(l,c);var v=p[d];v instanceof Nc?this.applyAttachmentTimeline(v,e,f,c,!0):v.apply(e,u,f,r,l,c,Wt.mixIn)}else{var m=s.timelineMode,g=s.timelinesRotation.length==0;g&&ye.setArraySize(s.timelinesRotation,h<<1,null);for(var _=s.timelinesRotation,d=0;d<h;d++){var x=p[d],b=m[d]==t.SUBSEQUENT?c:K.setup;x instanceof ja?this.applyRotateTimeline(x,e,f,l,b,_,d<<1,g):x instanceof Nc?this.applyAttachmentTimeline(x,e,f,c,!0):(ye.webkit602BugfixHelper(l,c),x.apply(e,u,f,r,l,b,Wt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var w=this.unkeyedState+t.SETUP,E=e.slots,C=0,T=e.slots.length;C<T;C++){var I=E[C];if(I.attachmentState==w){var R=I.data.attachmentName;I.setAttachment(R==null?null:e.getAttachment(I.data.index,R))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==K.first&&(n=K.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=K.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==K.add)for(var v=0;v<f;v++)h[v].apply(r,l,u,o,d,n,Wt.mixOut);else{var m=i.timelineMode,g=i.timelineHoldMix,_=i.timelinesRotation.length==0;_&&ye.setArraySize(i.timelinesRotation,f<<1,null);var x=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var b=h[v],w=Wt.mixOut,E=void 0,C=0;switch(m[v]){case t.SUBSEQUENT:if(!c&&b instanceof Yh)continue;E=n,C=d;break;case t.FIRST:E=K.setup,C=d;break;case t.HOLD_SUBSEQUENT:E=n,C=p;break;case t.HOLD_FIRST:E=K.setup,C=p;break;default:E=K.setup;var T=g[v];C=p*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=C,b instanceof ja?this.applyRotateTimeline(b,r,u,C,E,x,v<<1,_):b instanceof Nc?this.applyAttachmentTimeline(b,r,u,E,s):(ye.webkit602BugfixHelper(C,n),c&&b instanceof Yh&&E==K.setup&&(w=Wt.mixIn),b.apply(r,l,u,o,C,E,w))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==K.setup||i==K.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var c;n>=s[s.length-1]?c=s.length-1:c=Hn.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[c],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,Wt.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex];if(f.active){var h=0,p=0;if(n<u[0])switch(a){case K.setup:f.rotation=f.data.rotation;default:return;case K.first:h=f.rotation,p=f.data.rotation}else if(h=a==K.setup?f.data.rotation:f.rotation,n>=u[u.length-ja.ENTRIES])p=f.data.rotation+u[u.length+ja.PREV_ROTATION];else{var d=Hn.binarySearch(u,n,ja.ENTRIES),v=u[d+ja.PREV_ROTATION],m=u[d],g=l.getCurvePercent((d>>1)-1,1-(n-m)/(u[d+ja.PREV_TIME]-m));p=u[d+ja.ROTATION]-v,p-=(16384-(16384.499999999996-p/360|0))*360,p=v+p*g+f.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var _=0,x=p-h;if(x-=(16384-(16384.499999999996-x/360|0))*360,x==0)_=o[s];else{var b=0,w=0;c?(b=0,w=x):(b=o[s],w=o[s+1]);var E=x>0,C=b>=0;te.signum(w)!=te.signum(x)&&Math.abs(w)<=90&&(Math.abs(b)>180&&(b+=360*te.signum(b)),C=E),_=x+b-b%360,C!=E&&(_+=360*te.signum(b)),o[s]=_}o[s+1]=x,h+=_*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ye.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=K.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=K.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=ye.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=ye.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.add(n[c].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyId();if(!s.add(u))a[c]=t.SUBSEQUENT;else if(r==null||l instanceof Nc||l instanceof Yh||l instanceof gb||!r.animation.hasTimeline(u))a[c]=t.FIRST;else{for(var f=r.mixingTo;f!=null;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=f;continue e}break}a[c]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new Hn("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),hW=function(){function t(){this.mixBlend=K.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),dW=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(la.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(la.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(la.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(la.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(la.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(la.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case la.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case la.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case la.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case la.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case la.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=te.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case la.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),la;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(la||(la={}));var E$e=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),pW=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),l3=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new n3(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new vb(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new lW(r)},t.prototype.newPathAttachment=function(e,r){return new Iv(r)},t.prototype.newPointAttachment=function(e,r){return new cW(r)},t.prototype.newClippingAttachment=function(e,r){return new uW(r)},t}(),qI=function(){function t(e,r,n){if(this.matrix=new nn,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,p=n+90+s;l.a=te.cosDeg(n+o)*i*u,l.c=te.cosDeg(p)*a*u,l.b=te.sinDeg(n+o)*i*f,l.d=te.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,v=c.matrix.c,m=c.matrix.b,g=c.matrix.d;switch(l.tx=d*e+v*r+c.matrix.tx,l.ty=m*e+g*r+c.matrix.ty,this.data.transformMode){case Bt.Normal:{var p=n+90+s,_=te.cosDeg(n+o)*i,x=te.cosDeg(p)*a,b=te.sinDeg(n+o)*i,w=te.sinDeg(p)*a;l.a=d*_+v*b,l.c=d*x+v*w,l.b=m*_+g*b,l.d=m*x+g*w;return}case Bt.OnlyTranslation:{var p=n+90+s;l.a=te.cosDeg(n+o)*i,l.c=te.cosDeg(p)*a,l.b=te.sinDeg(n+o)*i,l.d=te.sinDeg(p)*a;break}case Bt.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*g-v*m)/E,d/=this.skeleton.scaleX,m/=this.skeleton.scaleY,v=m*E,g=d*E,C=Math.atan2(m,d)*te.radDeg):(d=0,m=0,C=90-Math.atan2(g,v)*te.radDeg);var T=n+o-C,I=n+s-C+90,_=te.cosDeg(T)*i,x=te.cosDeg(I)*a,b=te.sinDeg(T)*i,w=te.sinDeg(I)*a;l.a=d*_-v*b,l.c=d*x-v*w,l.b=m*_+g*b,l.d=m*x+g*w;break}case Bt.NoScale:case Bt.NoScaleOrReflection:{var R=te.cosDeg(n),O=te.sinDeg(n),P=(d*R+v*O)/u,k=(m*R+g*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==Bt.NoScale&&d*g-v*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var L=Math.PI/2+Math.atan2(k,P),B=Math.cos(L)*E,U=Math.sin(L)*E,_=te.cosDeg(o)*i,x=te.cosDeg(90+s)*a,b=te.sinDeg(o)*i,w=te.sinDeg(90+s)*a;l.a=P*_+B*b,l.c=P*x+B*w,l.b=k*_+U*b,l.d=k*x+U*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*te.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*te.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*te.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*te.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var v=f*d-h*p;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,v)*te.radDeg,this.arotation=Math.atan2(p,f)*te.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*te.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*te.radDeg},t.prototype.localToWorldRotation=function(e){var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*te.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=te.cosDeg(e),c=te.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),u3=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Bt.Normal,this.skinRequired=!1,this.color=new tt,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),mb=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),c3=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),f3=function(){function t(e){this.name=e}return t}(),vW=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=c.a,u=c.c,f=c.b,h=c.d,p=-e.ashearX-e.arotation,d=0,v=0;switch(e.data.transformMode){case Bt.OnlyTranslation:d=r-e.worldX,v=n-e.worldY;break;case Bt.NoRotationOrReflection:var m=Math.abs(l*h-u*f)/(l*l+f*f),g=l/e.skeleton.scaleX,_=f/e.skeleton.scaleY;u=-_*m*e.skeleton.scaleX,h=g*m*e.skeleton.scaleY,p+=Math.atan2(_,g)*te.radDeg;default:var x=r-c.tx,b=n-c.ty,w=l*h-u*f;d=(x*h-b*u)/w-e.ax,v=(b*l-x*f)/w-e.ay}p+=Math.atan2(v,d)*te.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var E=e.ascaleX,C=e.ascaleY;if(i||a){switch(e.data.transformMode){case Bt.NoScale:case Bt.NoScaleOrReflection:d=r-e.worldX,v=n-e.worldY}var T=e.data.length*E,I=Math.sqrt(d*d+v*v);if(i&&I<T||a&&I>T&&T>1e-4){var m=(I/T-1)*s+1;E*=m,o&&(C*=m)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,E,C,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c){if(c==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,u=e.ay,f=e.ascaleX,h=f,p=e.ascaleY,d=r.ascaleX,v=e.matrix,m=0,g=0,_=0;f<0?(f=-f,m=180,_=-1):(m=0,_=1),p<0&&(p=-p,_=-_),d<0?(d=-d,g=180):g=0;var x=r.ax,b=0,w=0,E=0,C=v.a,T=v.c,I=v.b,R=v.d,O=Math.abs(f-p)<=1e-4;O?(b=r.ay,w=C*x+T*b+v.tx,E=I*x+R*b+v.ty):(b=0,w=C*x+v.tx,E=I*x+v.ty);var P=e.parent.matrix;C=P.a,T=P.c,I=P.b,R=P.d;var k=1/(C*R-T*I),L=w-P.tx,B=E-P.ty,U=(L*R-B*T)*k-l,z=(B*C-L*I)*k-u,ee=Math.sqrt(U*U+z*z),ne=r.data.length*d,W,D;if(ee<1e-4){this.apply1(e,n,i,!1,o,!1,c),r.updateWorldTransformWith(x,b,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}L=n-P.tx,B=i-P.ty;var H=(L*R-B*T)*k-l,G=(B*C-L*I)*k-u,V=H*H+G*G;if(s!=0){s*=f*(d+1)/2;var ie=Math.sqrt(V),se=ie-ee-ne*f+s;if(se>0){var ge=Math.min(1,se/(s*2))-1;ge=(se-s*(1-ge*ge))/ie,H-=ge*H,G-=ge*G,V=H*H+G*G}}e:if(O){ne*=f;var ue=(V-ee*ee-ne*ne)/(2*ee*ne);ue<-1?ue=-1:ue>1&&(ue=1,o&&(h*=(Math.sqrt(V)/(ee+ne)-1)*c+1)),D=Math.acos(ue)*a,C=ee+ne*ue,T=ne*Math.sin(D),W=Math.atan2(G*C-H*T,H*C+G*T)}else{C=f*ne,T=p*ne;var we=C*C,Be=T*T,Fe=Math.atan2(G,H);I=Be*ee*ee+we*V-we*Be;var Ee=-2*Be*ee,Te=Be-we;if(R=Ee*Ee-4*Te*I,R>=0){var Ge=Math.sqrt(R);Ee<0&&(Ge=-Ge),Ge=-(Ee+Ge)/2;var We=Ge/Te,Ve=I/Ge,Xe=Math.abs(We)<Math.abs(Ve)?We:Ve;if(Xe*Xe<=V){B=Math.sqrt(V-Xe*Xe)*a,W=Fe-Math.atan2(B,Xe),D=Math.atan2(B/p,(Xe-ee)/f);break e}}var qe=te.PI,wt=ee-C,At=wt*wt,ct=0,ft=0,Et=ee+C,Qt=Et*Et,Vt=0;I=-C*ee/(we-Be),I>=-1&&I<=1&&(I=Math.acos(I),L=C*Math.cos(I)+ee,B=T*Math.sin(I),R=L*L+B*B,R<At&&(qe=I,At=R,wt=L,ct=B),R>Qt&&(ft=I,Qt=R,Et=L,Vt=B)),V<=(At+Qt)/2?(W=Fe-Math.atan2(ct*a,wt),D=qe*a):(W=Fe-Math.atan2(Vt*a,Et),D=ft*a)}var er=Math.atan2(b,x)*_,$t=e.arotation;W=(W-er)*te.radDeg+m-$t,W>180?W-=360:W<-180&&(W+=360),e.updateWorldTransformWith(l,u,$t+W*c,h,e.ascaleY,0,0),$t=r.arotation,D=((D+er)*te.radDeg-r.ashearX)*_+g-$t,D>180?D-=360:D<-180&&(D+=360),r.updateWorldTransformWith(x,b,$t+D*c,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),h3=function(t){_n(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(mb),d3=function(t){_n(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(mb),ui;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(ui||(ui={}));var gW=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Iv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==ui.Length,l=o.rotateMode,u=l==On.Tangent,f=l==On.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,v=ye.setArraySize(this.spaces,p),m=null,g=this.spacing;if(f||c){f&&(m=ye.setArraySize(this.lengths,h));for(var _=0,x=p-1;_<x;){var b=d[_],w=b.data.length;if(w<t.epsilon)f&&(m[_]=0),v[++_]=0;else{var E=w*b.matrix.a,C=w*b.matrix.b,T=Math.sqrt(E*E+C*C);f&&(m[_]=T),v[++_]=(c?w+g:g)*T/w}}}else for(var _=1;_<p;_++)v[_]=g;var I=this.computeWorldPositions(e,p,u,o.positionMode==pn.Percent,s==ui.Percent),R=I[0],O=I[1],P=o.offsetRotation,k=!1;if(P==0)k=l==On.Chain;else{k=!1;var L=this.target.bone.matrix;P*=L.a*L.d-L.b*L.c>0?te.degRad:-te.degRad}for(var _=0,L=3;_<h;_++,L+=3){var b=d[_],B=b.matrix;B.tx+=(R-B.tx)*n,B.ty+=(O-B.ty)*n;var E=I[L],C=I[L+1],U=E-R,z=C-O;if(f){var ee=m[_];if(ee!=0){var ne=(Math.sqrt(U*U+z*z)/ee-1)*r+1;B.a*=ne,B.b*=ne}}if(R=E,O=C,a){var W=B.a,D=B.c,H=B.b,G=B.d,V=0,ie=0,se=0;if(u?V=I[L-1]:v[_+1]==0?V=I[L+2]:V=Math.atan2(z,U),V-=Math.atan2(H,W),k){ie=Math.cos(V),se=Math.sin(V);var ge=b.data.length;R+=(ge*(ie*W-se*H)-U)*r,O+=(ge*(se*W+ie*H)-z)*r}else V+=P;V>te.PI?V-=te.PI2:V<-te.PI&&(V+=te.PI2),V*=r,ie=Math.cos(V),se=Math.sin(V),B.a=ie*W-se*H,B.c=ie*D-se*G,B.b=se*W+ie*H,B.d=se*D+ie*G}b.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=ye.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var v=e.lengths;p-=f?1:2;var m=v[p];if(i&&(s*=m),a)for(var g=0;g<r;g++)c[g]*=m;u=ye.setArraySize(this.world,8);for(var g=0,_=0,x=0;g<r;g++,_+=3){var b=c[g];s+=b;var w=s;if(f)w%=m,w<0&&(w+=m),x=0;else if(w<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(w,u,0,l,_);continue}else if(w>m){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(w-m,u,0,l,_);continue}for(;;x++){var E=v[x];if(!(w>E)){if(x==0)w/=E;else{var C=v[x-1];w=(w-C)/(E-C)}break}}x!=d&&(d=x,f&&x==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,x*6+2,8,u,0,2)),this.addCurvePosition(w,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,_,n||g>0&&b==0)}return l}f?(h+=2,u=ye.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=ye.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var T=ye.setArraySize(this.curves,p),I=0,R=u[0],O=u[1],P=0,k=0,L=0,B=0,U=0,z=0,ee=0,ne=0,W=0,D=0,H=0,G=0,V=0,ie=0,g=0,se=2;g<p;g++,se+=6)P=u[se],k=u[se+1],L=u[se+2],B=u[se+3],U=u[se+4],z=u[se+5],ee=(R-P*2+L)*.1875,ne=(O-k*2+B)*.1875,W=((P-L)*3-R+U)*.09375,D=((k-B)*3-O+z)*.09375,H=ee*2+W,G=ne*2+D,V=(P-R)*.75+ee+W*.16666667,ie=(k-O)*.75+ne+D*.16666667,I+=Math.sqrt(V*V+ie*ie),V+=H,ie+=G,H+=W,G+=D,I+=Math.sqrt(V*V+ie*ie),V+=H,ie+=G,I+=Math.sqrt(V*V+ie*ie),V+=H+W,ie+=G+D,I+=Math.sqrt(V*V+ie*ie),T[g]=I,R=U,O=z;if(i&&(s*=I),a)for(var g=0;g<r;g++)c[g]*=I;for(var ge=this.segments,ue=0,g=0,_=0,x=0,we=0;g<r;g++,_+=3){var b=c[g];s+=b;var w=s;if(f)w%=I,w<0&&(w+=I),x=0;else if(w<0){this.addBeforePosition(w,u,0,l,_);continue}else if(w>I){this.addAfterPosition(w-I,u,h-4,l,_);continue}for(;;x++){var Be=T[x];if(!(w>Be)){if(x==0)w/=Be;else{var C=T[x-1];w=(w-C)/(Be-C)}break}}if(x!=d){d=x;var Fe=x*6;for(R=u[Fe],O=u[Fe+1],P=u[Fe+2],k=u[Fe+3],L=u[Fe+4],B=u[Fe+5],U=u[Fe+6],z=u[Fe+7],ee=(R-P*2+L)*.03,ne=(O-k*2+B)*.03,W=((P-L)*3-R+U)*.006,D=((k-B)*3-O+z)*.006,H=ee*2+W,G=ne*2+D,V=(P-R)*.3+ee+W*.16666667,ie=(k-O)*.3+ne+D*.16666667,ue=Math.sqrt(V*V+ie*ie),ge[0]=ue,Fe=1;Fe<8;Fe++)V+=H,ie+=G,H+=W,G+=D,ue+=Math.sqrt(V*V+ie*ie),ge[Fe]=ue;V+=H,ie+=G,ue+=Math.sqrt(V*V+ie*ie),ge[8]=ue,V+=H+W,ie+=G+D,ue+=Math.sqrt(V*V+ie*ie),ge[9]=ue,we=0}for(w*=ue;;we++){var Ee=ge[we];if(!(w>Ee)){if(we==0)w/=Ee;else{var C=ge[we-1];w=we+(w-C)/(Ee-C)}break}}this.addCurvePosition(w*.1,R,O,P,k,L,B,U,z,l,_,n||g>0&&b==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,v=1-e,m=v*v,g=m*v,_=v*e,x=_*3,b=v*x,w=x*e,E=r*g+i*b+o*w+c*d,C=n*g+a*b+s*w+l*d;u[f]=E,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),mW=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Av,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?te.degRad:-te.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,v=0,m=d.length;v<m;v++){var g=d[v],_=!1,x=g.matrix;if(e!=0){var b=x.a,w=x.c,E=x.b,C=x.d,T=Math.atan2(l,s)-Math.atan2(E,b)+h;T>te.PI?T-=te.PI2:T<-te.PI&&(T+=te.PI2),T*=e;var I=Math.cos(T),R=Math.sin(T);x.a=I*b-R*E,x.c=I*w-R*C,x.b=R*b+I*E,x.d=R*w+I*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=(O.x-x.tx)*r,x.ty+=(O.y-x.ty)*r,_=!0}if(n>0){var P=Math.sqrt(x.a*x.a+x.b*x.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),x.a*=P,x.b*=P,P=Math.sqrt(x.c*x.c+x.d*x.d),k=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),x.c*=P,x.d*=P,_=!0}if(i>0){var w=x.c,C=x.d,L=Math.atan2(C,w),T=Math.atan2(u,c)-Math.atan2(l,s)-(L-Math.atan2(x.b,x.a));T>te.PI?T-=te.PI2:T<-te.PI&&(T+=te.PI2),T=L+(T+p)*i;var P=Math.sqrt(w*w+C*C);x.c=Math.cos(T)*P,x.d=Math.sin(T)*P,_=!0}_&&(g.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?te.degRad:-te.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,v=0,m=d.length;v<m;v++){var g=d[v],_=!1,x=g.matrix;if(e!=0){var b=x.a,w=x.c,E=x.b,C=x.d,T=Math.atan2(l,s)+h;T>te.PI?T-=te.PI2:T<-te.PI&&(T+=te.PI2),T*=e;var I=Math.cos(T),R=Math.sin(T);x.a=I*b-R*E,x.c=I*w-R*C,x.b=R*b+I*E,x.d=R*w+I*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=O.x*r,x.ty+=O.y*r,_=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;x.a*=P,x.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,x.c*=P,x.d*=P,_=!0}if(i>0){var T=Math.atan2(u,c)-Math.atan2(l,s);T>te.PI?T-=te.PI2:T<-te.PI&&(T+=te.PI2);var w=x.c,C=x.d;T=Math.atan2(C,w)+(T-te.PI/2+p)*i;var P=Math.sqrt(w*w+C*C);x.c=Math.cos(T)*P,x.d=Math.sin(T)*P,_=!0}_&&(g.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,v=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var m=l.ashearY;if(i>0){var f=a.ashearY-m+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,p,u,d,v,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,p,d,l.ashearX,v)}},t}(),_W=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new qI(n,this,null);else{var a=this.bones[n.parent.index];i=new qI(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new r3(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new vW(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new mW(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new gW(u,this))}this.color=new tt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,p=u+f+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var v=s[d];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var d=0;d<f;d++){var v=c[d];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var d=0;d<h;d++){var v=l[d];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Iv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Iv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ye.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof n3)h=8,p=ye.setArraySize(n,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof vb){var v=d;h=v.worldVerticesLength,p=ye.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,p,0,2)}if(p!=null)for(var m=0,g=p.length;m<g;m+=2){var _=p[m],x=p[m+1];a=Math.min(a,_),o=Math.min(o,x),s=Math.max(s,_),c=Math.max(c,x)}}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),p3=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),v3=function(){function t(e,r,n){if(this.color=new tt(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),g3=function(t){_n(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(mb),KI=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),fx=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment!=null&&(c.attachment instanceof vb?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new KI(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new KI(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),yW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new p3;n.name="";var i=new cx(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var c=0;c<s;c++)i.strings.push(i.readString());s=i.readInt(!0);for(var c=0;c<s;c++){var l=i.readString(),u=c==0?null:n.bones[i.readInt(!0)],f=new u3(c,l,u);f.rotation=i.readFloat(),f.x=i.readFloat()*r,f.y=i.readFloat()*r,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*r,f.transformMode=t.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&tt.rgba8888ToColor(f.color,i.readInt32()),n.bones.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++){var h=i.readString(),p=n.bones[i.readInt(!0)],f=new v3(c,h,p);tt.rgba8888ToColor(f.color,i.readInt32());var d=i.readInt32();d!=-1&&tt.rgb888ToColor(f.darkColor=new tt,d),f.attachmentName=i.readStringRef(),f.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new h3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var m=0;m<v;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*r,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),n.ikConstraints.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new g3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var m=0;m<v;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*r,f.offsetY=i.readFloat()*r,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),n.transformConstraints.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new d3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var m=0;m<v;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.slots[i.readInt(!0)],f.positionMode=t.PositionModeValues[i.readInt(!0)],f.spacingMode=t.SpacingModeValues[i.readInt(!0)],f.rotateMode=t.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==pn.Fixed&&(f.position*=r),f.spacing=i.readFloat(),(f.spacingMode==ui.Length||f.spacingMode==ui.Fixed)&&(f.spacing*=r),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),n.pathConstraints.push(f)}var g=this.readSkin(i,n,!0,o);g!=null&&(n.defaultSkin=g,n.skins.push(g));{var c=n.skins.length;for(ye.setArraySize(n.skins,s=c+i.readInt(!0));c<s;c++)n.skins[c]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var c=0;c<s;c++){var _=this.linkedMeshes[c],x=_.skin==null?n.defaultSkin:n.findSkin(_.skin);if(x==null)throw new Error("Skin not found: "+_.skin);var b=x.getAttachment(_.slotIndex,_.parent);if(b==null)throw new Error("Parent mesh not found: "+_.parent);_.mesh.deformAttachment=_.inheritDeform?b:_.mesh,_.mesh.setParentMesh(b)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var c=0;c<s;c++){var f=new f3(i.readStringRef());f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath!=null&&(f.volume=i.readFloat(),f.balance=i.readFloat()),n.events.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new fx("default")}else{a=new fx(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,c=a.bones.length;s<c;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),u=0,f=e.readInt(!0);u<f;u++){var h=e.readStringRef(),p=this.readAttachment(e,r,a,l,h,i);p!=null&&a.setAttachment(l,h,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();c==null&&(c=a);var l=e.readByte(),u=t.AttachmentTypeValues[l];switch(u){case Zt.Region:{var f=e.readStringRef(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),v=e.readFloat(),m=e.readFloat(),g=e.readFloat(),_=e.readFloat(),x=e.readInt32();f==null&&(f=c);var b=this.attachmentLoader.newRegionAttachment(n,c,f);return b==null?null:(b.path=f,b.x=p*s,b.y=d*s,b.scaleX=v,b.scaleY=m,b.rotation=h,b.width=g*s,b.height=_*s,tt.rgba8888ToColor(b.color,x),b)}case Zt.BoundingBox:{var w=e.readInt(!0),E=this.readVertices(e,w),x=o?e.readInt32():0,C=this.attachmentLoader.newBoundingBoxAttachment(n,c);return C==null?null:(C.worldVerticesLength=w<<1,C.vertices=E.vertices,C.bones=E.bones,o&&tt.rgba8888ToColor(C.color,x),C)}case Zt.Mesh:{var f=e.readStringRef(),x=e.readInt32(),w=e.readInt(!0),T=this.readFloatArray(e,w<<1,1),I=this.readShortArray(e),E=this.readVertices(e,w),R=e.readInt(!0),O=null,g=0,_=0;o&&(O=this.readShortArray(e),g=e.readFloat(),_=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,tt.rgba8888ToColor(P.color,x),P.bones=E.bones,P.vertices=E.vertices,P.worldVerticesLength=w<<1,P.triangles=I,P.regionUVs=new Float32Array(T),P.hullLength=R<<1,o&&(P.edges=O,P.width=g*s,P.height=_*s),P)}case Zt.LinkedMesh:{var f=e.readStringRef(),x=e.readInt32(),k=e.readStringRef(),L=e.readStringRef(),B=e.readBoolean(),g=0,_=0;o&&(g=e.readFloat(),_=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,tt.rgba8888ToColor(P.color,x),o&&(P.width=g*s,P.height=_*s),this.linkedMeshes.push(new S$e(P,k,i,L,B)),P)}case Zt.Path:{for(var U=e.readBoolean(),z=e.readBoolean(),w=e.readInt(!0),E=this.readVertices(e,w),ee=ye.newArray(w/3,0),ne=0,W=ee.length;ne<W;ne++)ee[ne]=e.readFloat()*s;var x=o?e.readInt32():0,f=this.attachmentLoader.newPathAttachment(n,c);return f==null?null:(f.closed=U,f.constantSpeed=z,f.worldVerticesLength=w<<1,f.vertices=E.vertices,f.bones=E.bones,f.lengths=ee,o&&tt.rgba8888ToColor(f.color,x),f)}case Zt.Point:{var h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),x=o?e.readInt32():0,D=this.attachmentLoader.newPointAttachment(n,c);return D==null?null:(D.x=p*s,D.y=d*s,D.rotation=h,o&&tt.rgba8888ToColor(D.color,x),D)}case Zt.Clipping:{var H=e.readInt(!0),w=e.readInt(!0),E=this.readVertices(e,w),x=o?e.readInt32():0,G=this.attachmentLoader.newClippingAttachment(n,c);return G==null?null:(G.endSlot=r.slots[H],G.worldVerticesLength=w<<1,G.vertices=E.vertices,G.bones=E.bones,o&&tt.rgba8888ToColor(G.color,x),G)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new C$e,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=ye.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new tt,c=new tt,l=0,u=e.readInt(!0);l<u;l++)for(var f=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),v=e.readInt(!0);switch(d){case t.SLOT_ATTACHMENT:{var m=new Nc(v);m.slotIndex=f;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readStringRef());i.push(m),o=Math.max(o,m.frames[v-1]);break}case t.SLOT_COLOR:{var m=new Rv(v);m.slotIndex=f;for(var g=0;g<v;g++){var _=e.readFloat();tt.rgba8888ToColor(s,e.readInt32()),m.setFrame(g,_,s.r,s.g,s.b,s.a),g<v-1&&this.readCurve(e,g,m)}i.push(m),o=Math.max(o,m.frames[(v-1)*Rv.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var m=new Pv(v);m.slotIndex=f;for(var g=0;g<v;g++){var _=e.readFloat();tt.rgba8888ToColor(s,e.readInt32()),tt.rgb888ToColor(c,e.readInt32()),m.setFrame(g,_,s.r,s.g,s.b,s.a,c.r,c.g,c.b),g<v-1&&this.readCurve(e,g,m)}i.push(m),o=Math.max(o,m.frames[(v-1)*Pv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var x=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),v=e.readInt(!0);switch(d){case t.BONE_ROTATE:{var m=new ja(v);m.boneIndex=x;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat()),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*ja.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var m=void 0,b=1;d==t.BONE_SCALE?m=new i3(v):d==t.BONE_SHEAR?m=new a3(v):(m=new sf(v),b=a),m.boneIndex=x;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat()*b,e.readFloat()*b),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*sf.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++){var w=e.readInt(!0),v=e.readInt(!0),m=new Ov(v);m.ikConstraintIndex=w;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*Ov.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++){var w=e.readInt(!0),v=e.readInt(!0),m=new kv(v);m.transformConstraintIndex=w;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*kv.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++)for(var w=e.readInt(!0),E=n.pathConstraints[w],h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),v=e.readInt(!0);switch(d){case t.PATH_POSITION:case t.PATH_SPACING:{var m=void 0,b=1;d==t.PATH_SPACING?(m=new s3(v),(E.spacingMode==ui.Length||E.spacingMode==ui.Fixed)&&(b=a)):(m=new gd(v),E.positionMode==pn.Fixed&&(b=a)),m.pathConstraintIndex=w;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat()*b),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*gd.ENTRIES]);break}case t.PATH_MIX:{var m=new Fv(v);m.pathConstraintIndex=w;for(var g=0;g<v;g++)m.setFrame(g,e.readFloat(),e.readFloat(),e.readFloat()),g<v-1&&this.readCurve(e,g,m);i.push(m),o=Math.max(o,m.frames[(v-1)*Fv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var C=n.skins[e.readInt(!0)],h=0,p=e.readInt(!0);h<p;h++)for(var f=e.readInt(!0),T=0,I=e.readInt(!0);T<I;T++){var R=C.getAttachment(f,e.readStringRef()),O=R.bones!=null,P=R.vertices,k=O?P.length/3*2:P.length,v=e.readInt(!0),m=new o3(v);m.slotIndex=f,m.attachment=R;for(var g=0;g<v;g++){var _=e.readFloat(),L=void 0,B=e.readInt(!0);if(B==0)L=O?ye.newFloatArray(k):P;else{L=ye.newFloatArray(k);var U=e.readInt(!0);if(B+=U,a==1)for(var z=U;z<B;z++)L[z]=e.readFloat();else for(var z=U;z<B;z++)L[z]=e.readFloat()*a;if(!O)for(var z=0,ee=L.length;z<ee;z++)L[z]+=P[z]}m.setFrame(g,_,L),g<v-1&&this.readCurve(e,g,m)}i.push(m),o=Math.max(o,m.frames[v-1])}var ne=e.readInt(!0);if(ne>0){for(var m=new Yh(ne),W=n.slots.length,l=0;l<ne;l++){for(var _=e.readFloat(),D=e.readInt(!0),H=ye.newArray(W,0),h=W-1;h>=0;h--)H[h]=-1;for(var G=ye.newArray(W-D,0),V=0,ie=0,h=0;h<D;h++){for(var f=e.readInt(!0);V!=f;)G[ie++]=V++;H[V+e.readInt(!0)]=V++}for(;V<W;)G[ie++]=V++;for(var h=W-1;h>=0;h--)H[h]==-1&&(H[h]=G[--ie]);m.setFrame(l,_,H)}i.push(m),o=Math.max(o,m.frames[ne-1])}var se=e.readInt(!0);if(se>0){for(var m=new gb(se),l=0;l<se;l++){var _=e.readFloat(),ge=n.events[e.readInt(!0)],ue=new c3(_,ge);ue.intValue=e.readInt(!1),ue.floatValue=e.readFloat(),ue.stringValue=e.readBoolean()?e.readString():ge.stringValue,ue.data.audioPath!=null&&(ue.volume=e.readFloat(),ue.balance=e.readFloat()),m.setFrame(l,ue)}i.push(m),o=Math.max(o,m.frames[se-1])}return new Hn(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[Bt.Normal,Bt.OnlyTranslation,Bt.NoRotationOrReflection,Bt.NoScale,Bt.NoScaleOrReflection],t.PositionModeValues=[pn.Fixed,pn.Percent],t.SpacingModeValues=[ui.Length,ui.Fixed,ui.Percent],t.RotateModeValues=[On.Tangent,On.Chain,On.ChainScale],t.BlendModeValues=[st.NORMAL,st.ADD,st.MULTIPLY,st.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),S$e=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),C$e=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),T$e=function(t){_n(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(e3),xW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new p3,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var c=i.bones[s],l=null,u=this.getValue(c,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var f=new u3(n.bones.length,c.name,l);f.length=this.getValue(c,"length",0)*r,f.x=this.getValue(c,"x",0)*r,f.y=this.getValue(c,"y",0)*r,f.rotation=this.getValue(c,"rotation",0),f.scaleX=this.getValue(c,"scaleX",1),f.scaleY=this.getValue(c,"scaleY",1),f.shearX=this.getValue(c,"shearX",0),f.shearY=this.getValue(c,"shearY",0),f.transformMode=t.transformModeFromString(this.getValue(c,"transform","normal")),f.skinRequired=this.getValue(c,"skin",!1),n.bones.push(f)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],p=h.name,d=h.bone,v=n.findBone(d);if(v==null)throw new Error("Slot bone not found: "+d);var f=new v3(n.slots.length,p,v),m=this.getValue(h,"color",null);m!=null&&f.color.setFromString(m);var g=this.getValue(h,"dark",null);g!=null&&(f.darkColor=new tt(1,1,1,1),f.darkColor.setFromString(g)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(f)}if(i.ik)for(var s=0;s<i.ik.length;s++){var _=i.ik[s],f=new h3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var x=0;x<_.bones.length;x++){var d=_.bones[x],b=n.findBone(d);if(b==null)throw new Error("IK bone not found: "+d);f.bones.push(b)}var w=_.target;if(f.target=n.findBone(w),f.target==null)throw new Error("IK target bone not found: "+w);f.mix=this.getValue(_,"mix",1),f.softness=this.getValue(_,"softness",0)*r,f.bendDirection=this.getValue(_,"bendPositive",!0)?1:-1,f.compress=this.getValue(_,"compress",!1),f.stretch=this.getValue(_,"stretch",!1),f.uniform=this.getValue(_,"uniform",!1),n.ikConstraints.push(f)}if(i.transform)for(var s=0;s<i.transform.length;s++){var _=i.transform[s],f=new g3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var x=0;x<_.bones.length;x++){var d=_.bones[x],b=n.findBone(d);if(b==null)throw new Error("Transform constraint bone not found: "+d);f.bones.push(b)}var w=_.target;if(f.target=n.findBone(w),f.target==null)throw new Error("Transform constraint target bone not found: "+w);f.local=this.getValue(_,"local",!1),f.relative=this.getValue(_,"relative",!1),f.offsetRotation=this.getValue(_,"rotation",0),f.offsetX=this.getValue(_,"x",0)*r,f.offsetY=this.getValue(_,"y",0)*r,f.offsetScaleX=this.getValue(_,"scaleX",0),f.offsetScaleY=this.getValue(_,"scaleY",0),f.offsetShearY=this.getValue(_,"shearY",0),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),f.scaleMix=this.getValue(_,"scaleMix",1),f.shearMix=this.getValue(_,"shearMix",1),n.transformConstraints.push(f)}if(i.path)for(var s=0;s<i.path.length;s++){var _=i.path[s],f=new d3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var x=0;x<_.bones.length;x++){var d=_.bones[x],b=n.findBone(d);if(b==null)throw new Error("Transform constraint bone not found: "+d);f.bones.push(b)}var w=_.target;if(f.target=n.findSlot(w),f.target==null)throw new Error("Path target slot not found: "+w);f.positionMode=t.positionModeFromString(this.getValue(_,"positionMode","percent")),f.spacingMode=t.spacingModeFromString(this.getValue(_,"spacingMode","length")),f.rotateMode=t.rotateModeFromString(this.getValue(_,"rotateMode","tangent")),f.offsetRotation=this.getValue(_,"rotation",0),f.position=this.getValue(_,"position",0),f.positionMode==pn.Fixed&&(f.position*=r),f.spacing=this.getValue(_,"spacing",0),(f.spacingMode==ui.Length||f.spacingMode==ui.Fixed)&&(f.spacing*=r),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),n.pathConstraints.push(f)}if(i.skins)for(var s=0;s<i.skins.length;s++){var E=i.skins[s],C=new fx(E.name);if(E.bones)for(var T=0;T<E.bones.length;T++){var b=n.findBone(E.bones[T]);if(b==null)throw new Error("Skin bone not found: "+E.bones[s]);C.bones.push(b)}if(E.ik)for(var T=0;T<E.ik.length;T++){var I=n.findIkConstraint(E.ik[T]);if(I==null)throw new Error("Skin IK constraint not found: "+E.ik[s]);C.constraints.push(I)}if(E.transform)for(var T=0;T<E.transform.length;T++){var I=n.findTransformConstraint(E.transform[T]);if(I==null)throw new Error("Skin transform constraint not found: "+E.transform[s]);C.constraints.push(I)}if(E.path)for(var T=0;T<E.path.length;T++){var I=n.findPathConstraint(E.path[T]);if(I==null)throw new Error("Skin path constraint not found: "+E.path[s]);C.constraints.push(I)}for(var p in E.attachments){var R=n.findSlot(p);if(R==null)throw new Error("Slot not found: "+p);var h=E.attachments[p];for(var O in h){var P=this.readAttachment(h[O],C,R.index,O,n);P!=null&&C.setAttachment(R.index,O,P)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var s=0,k=this.linkedMeshes.length;s<k;s++){var L=this.linkedMeshes[s],C=L.skin==null?n.defaultSkin:n.findSkin(L.skin);if(C==null)throw new Error("Skin not found: "+L.skin);var B=C.getAttachment(L.slotIndex,L.parent);if(B==null)throw new Error("Parent mesh not found: "+L.parent);L.mesh.deformAttachment=L.inheritDeform?B:L.mesh,L.mesh.setParentMesh(B)}if(this.linkedMeshes.length=0,i.events)for(var U in i.events){var z=i.events[U],f=new f3(U);f.intValue=this.getValue(z,"int",0),f.floatValue=this.getValue(z,"float",0),f.stringValue=this.getValue(z,"string",""),f.audioPath=this.getValue(z,"audio",null),f.audioPath!=null&&(f.volume=this.getValue(z,"volume",1),f.balance=this.getValue(z,"balance",0)),n.events.push(f)}if(i.animations)for(var ee in i.animations){var ne=i.animations[ee];this.readAnimation(ne,ee,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var p=this.getValue(e,"parent",null);if(p!=null)return this.linkedMeshes.push(new A$e(h,this.getValue(e,"skin",null),n,p,this.getValue(e,"deform",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,c,v<<1);for(var m=ye.newArray(v/3,0),g=0;g<e.lengths.length;g++)m[g]=e.lengths[g]*o;c.lengths=m;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(_==null)return null;_.x=this.getValue(e,"x",0)*o,_.y=this.getValue(e,"y",0)*o,_.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&_.color.setFromString(u),_}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(x==null)return null;var b=this.getValue(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);x.endSlot=w}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=this.getValue(e,"color",null);return u!=null&&x.color.setFromString(u),x}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ye.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ye.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new Nc(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p++,this.getValue(v,"time",0),v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new Rv(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d],m=new tt;m.setFromString(v.color||"ffffffff"),h.setFrame(p,this.getValue(v,"time",0),m.r,m.g,m.b,m.a),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Rv.ENTRIES])}else if(u=="twoColor"){var h=new Pv(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d],g=new tt,_=new tt;g.setFromString(v.light),_.setFromString(v.dark),h.setFrame(p,this.getValue(v,"time",0),g.r,g.g,g.b,g.a,_.r,_.g,_.b),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Pv.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var x in e.bones){var b=e.bones[x],w=n.findBoneIndex(x);if(w==-1)throw new Error("Bone not found: "+x);for(var u in b){var f=b[u];if(u==="rotate"){var h=new ja(f.length);h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,this.getValue(v,"time",0),this.getValue(v,"angle",0)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*ja.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1,C=0;u==="scale"?(h=new i3(f.length),C=1):u==="shear"?h=new a3(f.length):(h=new sf(f.length),E=i),h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var v=f[d],T=this.getValue(v,"x",C),I=this.getValue(v,"y",C);h.setFrame(p,this.getValue(v,"time",0),T*E,I*E),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*sf.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+x+")")}}if(e.ik)for(var R in e.ik){var O=e.ik[R],P=n.findIkConstraint(R),h=new Ov(O.length);h.ikConstraintIndex=n.ikConstraints.indexOf(P);for(var p=0,d=0;d<O.length;d++){var v=O[d];h.setFrame(p,this.getValue(v,"time",0),this.getValue(v,"mix",1),this.getValue(v,"softness",0)*i,this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ov.ENTRIES])}if(e.transform)for(var R in e.transform){var O=e.transform[R],P=n.findTransformConstraint(R),h=new kv(O.length);h.transformConstraintIndex=n.transformConstraints.indexOf(P);for(var p=0,d=0;d<O.length;d++){var v=O[d];h.setFrame(p,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*kv.ENTRIES])}if(e.path)for(var R in e.path){var O=e.path[R],k=n.findPathConstraintIndex(R);if(k==-1)throw new Error("Path constraint not found: "+R);var L=n.pathConstraints[k];for(var u in O){var f=O[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new s3(f.length),(L.spacingMode==ui.Length||L.spacingMode==ui.Fixed)&&(E=i)):(h=new gd(f.length),L.positionMode==pn.Fixed&&(E=i)),h.pathConstraintIndex=k;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,this.getValue(v,"time",0),this.getValue(v,u,0)*E),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*gd.ENTRIES])}else if(u==="mix"){var h=new Fv(f.length);h.pathConstraintIndex=k;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Fv.ENTRIES])}}}if(e.deform)for(var B in e.deform){var U=e.deform[B],z=n.findSkin(B);if(z!=null)for(var s in U){var c=U[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],ee=z.getAttachment(l,u);if(ee==null)throw new Error("Deform attachment not found: "+f.name);var ne=ee.bones!=null,W=ee.vertices,D=ne?W.length/3*2:W.length,h=new o3(f.length);h.slotIndex=l,h.attachment=ee;for(var p=0,H=0;H<f.length;H++){var v=f[H],G=void 0,V=this.getValue(v,"vertices",null);if(V==null)G=ne?ye.newFloatArray(D):W;else{G=ye.newFloatArray(D);var ie=this.getValue(v,"offset",0);if(ye.arrayCopy(V,0,G,ie,V.length),i!=1)for(var d=ie,se=d+V.length;d<se;d++)G[d]*=i;if(!ne)for(var d=0;d<D;d++)G[d]+=W[d]}h.setFrame(p,this.getValue(v,"time",0),G),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var ge=e.drawOrder;if(ge==null&&(ge=e.draworder),ge!=null){for(var h=new Yh(ge.length),ue=n.slots.length,p=0,H=0;H<ge.length;H++){var we=ge[H],Be=null,Fe=this.getValue(we,"offsets",null);if(Fe!=null){Be=ye.newArray(ue,-1);for(var Ee=ye.newArray(ue-Fe.length,0),Te=0,Ge=0,d=0;d<Fe.length;d++){var We=Fe[d],l=n.findSlotIndex(We.slot);if(l==-1)throw new Error("Slot not found: "+We.slot);for(;Te!=l;)Ee[Ge++]=Te++;Be[Te+We.offset]=Te++}for(;Te<ue;)Ee[Ge++]=Te++;for(var d=ue-1;d>=0;d--)Be[d]==-1&&(Be[d]=Ee[--Ge])}h.setFrame(p++,this.getValue(we,"time",0),Be)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new gb(e.events.length),p=0,d=0;d<e.events.length;d++){var Ve=e.events[d],Xe=n.findEvent(Ve.name);if(Xe==null)throw new Error("Event not found: "+Ve.name);var qe=new c3(ye.toSinglePrecision(this.getValue(Ve,"time",0)),Xe);qe.intValue=this.getValue(Ve,"int",Xe.intValue),qe.floatValue=this.getValue(Ve,"float",Xe.floatValue),qe.stringValue=this.getValue(Ve,"string",Xe.stringValue),qe.data.audioPath!=null&&(qe.volume=this.getValue(Ve,"volume",1),qe.balance=this.getValue(Ve,"balance",0)),h.setFrame(p++,qe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Hn(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return st.NORMAL;if(e=="additive")return st.ADD;if(e=="multiply")return st.MULTIPLY;if(e=="screen")return st.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return pn.Fixed;if(e=="percent")return pn.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return ui.Length;if(e=="fixed")return ui.Fixed;if(e=="percent")return ui.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return On.Tangent;if(e=="chain")return On.Chain;if(e=="chainscale")return On.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Bt.Normal;if(e=="onlytranslation")return Bt.OnlyTranslation;if(e=="norotationorreflection")return Bt.NoRotationOrReflection;if(e=="noscale")return Bt.NoScale;if(e=="noscaleorreflection")return Bt.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),A$e=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),I$e=function(t){_n(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new _W(r),this.skeleton.updateWorldTransform(),this.stateData=new pW(r),this.state=new fW(this.stateData)},e}(vg);const R$e=Object.freeze(Object.defineProperty({__proto__:null,Animation:Hn,AnimationState:fW,AnimationStateAdapter:E$e,AnimationStateData:pW,AtlasAttachmentLoader:l3,Attachment:t3,AttachmentTimeline:Nc,Bone:qI,BoneData:u3,BoundingBoxAttachment:lW,ClippingAttachment:uW,ColorTimeline:Rv,ConstraintData:mb,CurveTimeline:Bs,DeformTimeline:o3,DrawOrderTimeline:Yh,Event:c3,EventData:f3,EventQueue:dW,EventTimeline:gb,get EventType(){return la},IkConstraint:vW,IkConstraintData:h3,IkConstraintTimeline:Ov,JitterEffect:b$e,MeshAttachment:vb,PathAttachment:Iv,PathConstraint:gW,PathConstraintData:d3,PathConstraintMixTimeline:Fv,PathConstraintPositionTimeline:gd,PathConstraintSpacingTimeline:s3,PointAttachment:cW,RegionAttachment:n3,RotateTimeline:ja,ScaleTimeline:i3,ShearTimeline:a3,Skeleton:_W,SkeletonBinary:yW,SkeletonBounds:T$e,SkeletonData:p3,SkeletonJson:xW,Skin:fx,SkinEntry:KI,Slot:r3,SlotData:v3,get SpacingMode(){return ui},Spine:I$e,SwirlEffect:w$e,get TimelineType(){return Si},TrackEntry:hW,TransformConstraint:mW,TransformConstraintData:g3,TransformConstraintTimeline:kv,TranslateTimeline:sf,TwoColorTimeline:Pv,VertexAttachment:_f},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZI=function(t,e){return ZI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ZI(t,e)};function Xn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ZI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var m3=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),yf=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.attachmentVertices,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,v=h.a,m=h.c,g=h.b,_=h.d,x=n,b=o;b<i;x+=2,b+=s){var w=u[x],E=u[x+1];a[b]=w*v+E*m+p,a[b+1]=w*g+E*_+d}return}for(var C=0,T=0,I=0;I<n;I+=2){var R=f[C];C+=R+1,T+=R}var O=c.bones;if(l.length==0)for(var b=o,m=T*3;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,w=u[m],E=u[m+1],L=u[m+2];P+=(w*h.a+E*h.c+h.tx)*L,k+=(w*h.b+E*h.d+h.ty)*L}a[b]=P,a[b+1]=k}else for(var B=l,b=o,m=T*3,U=T<<1;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3,U+=2){var h=O[f[C]].matrix,w=u[m]+B[U],E=u[m+1]+B[U+1],L=u[m+2];P+=(w*h.a+E*h.c+h.tx)*L,k+=(w*h.b+E*h.d+h.ty)*L}a[b]=P,a[b+1]=k}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(m3),bW=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.BoundingBox,n.color=new tt(1,1,1,1),n}return e}(yf),wW=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Clipping,n.color=new tt(.2275,.2275,.8078,1),n}return e}(yf),_3=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Mesh,n.color=new tt(1,1,1,1),n.inheritDeform=!1,n.tempColor=new tt(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(yf),Nv=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new tt(1,1,1,1),n}return e}(yf),EW=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Point,n.color=new tt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=te.cosDeg(this.rotation),a=te.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*te.radDeg},e}(yf),y3=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new tt,this.darkColor=e.darkColor==null?null:new tt,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),x3=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new tt(1,1,1,1),n.offset=ye.newFloatArray(8),n.uvs=ye.newFloatArray(8),n.tempColor=new tt(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,v=o*l+this.x,m=o*u,g=s*l+this.y,_=s*u,x=this.offset;x[e.OX1]=f-d,x[e.OY1]=p+h,x[e.OX2]=f-_,x[e.OY2]=g+h,x[e.OX3]=v-_,x[e.OY3]=g+m,x[e.OX4]=v-d,x[e.OY4]=p+m},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof y3?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,p=s.d,d=0,v=0;d=o[e.OX1],v=o[e.OY1],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX2],v=o[e.OY2],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX3],v=o[e.OY3],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l,i+=a,d=o[e.OX4],v=o[e.OY4],n[i]=d*u+v*f+c,n[i+1]=d*h+v*p+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(m3),P$e=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=te.randomTriangular(-this.jitterX,this.jitterY),e.y+=te.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),O$e=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*te.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new sW(2),t}(),di=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Ci;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Ci||(Ci={}));var Ds=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=ye.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,v=this.curves;v[d++]=t.BEZIER;for(var m=h,g=p,_=d+t.BEZIER_SIZE-1;d<_;d+=2)v[d]=m,v[d+1]=g,h+=u,p+=f,u+=c,f+=l,m+=h,g+=p},t.prototype.getCurvePercent=function(e,r){r=te.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Bo=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Ci.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case K.setup:u.rotation=u.data.rotation;return;case K.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case K.setup:u.rotation=u.data.rotation+h*o;break;case K.first:case K.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case K.add:u.rotation+=h*o}return}var p=di.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],v=l[p],m=this.getCurvePercent((p>>1)-1,1-(i-v)/(l[p+e.PREV_TIME]-v)),g=l[p+e.ROTATION]-d;switch(g=d+(g-(16384-(16384.499999999996-g/360|0))*360)*m,s){case K.setup:u.rotation=u.data.rotation+(g-(16384-(16384.499999999996-g/360|0))*360)*o;break;case K.first:case K.replace:g+=u.data.rotation-u.rotation;case K.add:u.rotation+=(g-(16384-(16384.499999999996-g/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Ds),Lv=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ci.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case K.setup:u.x=u.data.x,u.y=u.data.y;return;case K.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=di.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.X]-f)*v,h+=(l[p+e.Y]-h)*v}switch(s){case K.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case K.first:case K.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case K.add:u.x+=f*o,u.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Ds),SW=function(t){Xn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ci.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case K.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case K.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=di.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=(f+(l[p+e.X]-f)*v)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*v)*u.data.scaleY}if(o==1)s==K.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var m=0,g=0;if(c==Wt.mixOut)switch(s){case K.setup:m=u.data.scaleX,g=u.data.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-m)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-g)*o;break;case K.first:case K.replace:m=u.scaleX,g=u.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-m)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-g)*o;break;case K.add:m=u.scaleX,g=u.scaleY,u.scaleX=m+(Math.abs(f)*te.signum(m)-u.data.scaleX)*o,u.scaleY=g+(Math.abs(h)*te.signum(g)-u.data.scaleY)*o}else switch(s){case K.setup:m=Math.abs(u.data.scaleX)*te.signum(f),g=Math.abs(u.data.scaleY)*te.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=g+(h-g)*o;break;case K.first:case K.replace:m=Math.abs(u.scaleX)*te.signum(f),g=Math.abs(u.scaleY)*te.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=g+(h-g)*o;break;case K.add:m=te.signum(f),g=te.signum(h),u.scaleX=Math.abs(u.scaleX)*m+(f-Math.abs(u.data.scaleX)*m)*o,u.scaleY=Math.abs(u.scaleY)*g+(h-Math.abs(u.data.scaleY)*g)*o}}},e}(Lv),CW=function(t){Xn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ci.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case K.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case K.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=di.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=f+(l[p+e.X]-f)*v,h=h+(l[p+e.Y]-h)*v}switch(s){case K.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case K.first:case K.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case K.add:u.shearX+=f*o,u.shearY+=h*o}},e}(Lv),JI=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ci.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case K.setup:l.color.setFromColor(l.data.color);return;case K.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,v=0,m=0;if(i>=u[u.length-e.ENTRIES]){var g=u.length;p=u[g+e.PREV_R],d=u[g+e.PREV_G],v=u[g+e.PREV_B],m=u[g+e.PREV_A]}else{var _=di.binarySearch(u,i,e.ENTRIES);p=u[_+e.PREV_R],d=u[_+e.PREV_G],v=u[_+e.PREV_B],m=u[_+e.PREV_A];var x=u[_],b=this.getCurvePercent(_/e.ENTRIES-1,1-(i-x)/(u[_+e.PREV_TIME]-x));p+=(u[_+e.R]-p)*b,d+=(u[_+e.G]-d)*b,v+=(u[_+e.B]-v)*b,m+=(u[_+e.A]-m)*b}if(o==1)l.color.set(p,d,v,m);else{var f=l.color;s==K.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(v-f.b)*o,(m-f.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Ds),QI=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ci.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case K.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case K.first:var f=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var v=0,m=0,g=0,_=0,x=0,b=0,w=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;v=u[E+e.PREV_R],m=u[E+e.PREV_G],g=u[E+e.PREV_B],_=u[E+e.PREV_A],x=u[E+e.PREV_R2],b=u[E+e.PREV_G2],w=u[E+e.PREV_B2]}else{var C=di.binarySearch(u,i,e.ENTRIES);v=u[C+e.PREV_R],m=u[C+e.PREV_G],g=u[C+e.PREV_B],_=u[C+e.PREV_A],x=u[C+e.PREV_R2],b=u[C+e.PREV_G2],w=u[C+e.PREV_B2];var T=u[C],I=this.getCurvePercent(C/e.ENTRIES-1,1-(i-T)/(u[C+e.PREV_TIME]-T));v+=(u[C+e.R]-v)*I,m+=(u[C+e.G]-m)*I,g+=(u[C+e.B]-g)*I,_+=(u[C+e.A]-_)*I,x+=(u[C+e.R2]-x)*I,b+=(u[C+e.G2]-b)*I,w+=(u[C+e.B2]-w)*I}if(o==1)l.color.set(v,m,g,_),l.darkColor.set(x,b,w,1);else{var f=l.color,h=l.darkColor;s==K.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(m-f.g)*o,(g-f.b)*o,(_-f.a)*o),h.add((x-h.r)*o,(b-h.g)*o,(w-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Ds),hx=function(){function t(e){this.frames=ye.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Ci.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(s==Wt.mixOut&&o==K.setup){var l=c.data.attachmentName;c.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==K.setup||o==K.first){var f=c.data.attachmentName;c.setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}return}var h=0;n>=u[u.length-1]?h=u.length-1:h=di.binarySearch(u,n,1)-1;var p=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(p==null?null:e.getAttachment(this.slotIndex,p))},t}(),NU=null,TW=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r),n.frameVertices=new Array(r),NU==null&&(NU=ye.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Ci.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof yf)||!u.applyDeform(this.attachment))){var f=l.attachmentVertices;f.length==0&&(s=K.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var v=u;switch(s){case K.setup:f.length=0;return;case K.first:if(o==1){f.length=0;break}var m=ye.setArraySize(f,p);if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++)m[_]+=(g[_]-m[_])*o;else{o=1-o;for(var _=0;_<p;_++)m[_]*=o}}return}var x=ye.setArraySize(f,p);if(i>=d[d.length-1]){var b=h[d.length-1];if(o==1)if(s==K.add){var v=u;if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++)x[_]+=b[_]-g[_];else for(var _=0;_<p;_++)x[_]+=b[_]}else ye.arrayCopy(b,0,x,0,p);else switch(s){case K.setup:{var w=u;if(w.bones==null)for(var g=w.vertices,_=0;_<p;_++){var E=g[_];x[_]=E+(b[_]-E)*o}else for(var _=0;_<p;_++)x[_]=b[_]*o;break}case K.first:case K.replace:for(var _=0;_<p;_++)x[_]+=(b[_]-x[_])*o;case K.add:var v=u;if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++)x[_]+=(b[_]-g[_])*o;else for(var _=0;_<p;_++)x[_]+=b[_]*o}return}var C=di.binarySearch(d,i),T=h[C-1],I=h[C],R=d[C],O=this.getCurvePercent(C-1,1-(i-R)/(d[C-1]-R));if(o==1)if(s==K.add){var v=u;if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++){var P=T[_];x[_]+=P+(I[_]-P)*O-g[_]}else for(var _=0;_<p;_++){var P=T[_];x[_]+=P+(I[_]-P)*O}}else for(var _=0;_<p;_++){var P=T[_];x[_]=P+(I[_]-P)*O}else switch(s){case K.setup:{var k=u;if(k.bones==null)for(var g=k.vertices,_=0;_<p;_++){var P=T[_],E=g[_];x[_]=E+(P+(I[_]-P)*O-E)*o}else for(var _=0;_<p;_++){var P=T[_];x[_]=(P+(I[_]-P)*O)*o}break}case K.first:case K.replace:for(var _=0;_<p;_++){var P=T[_];x[_]+=(P+(I[_]-P)*O-x[_])*o}break;case K.add:var v=u;if(v.bones==null)for(var g=v.vertices,_=0;_<p;_++){var P=T[_];x[_]+=(P+(I[_]-P)*O-g[_])*o}else for(var _=0;_<p;_++){var P=T[_];x[_]+=(P+(I[_]-P)*O)*o}}}},e}(Ds),AW=function(){function t(e){this.frames=ye.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Ci.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=di.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),dx=function(){function t(e){this.frames=ye.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Ci.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==Wt.mixOut&&o==K.setup){ye.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==K.setup||o==K.first)&&ye.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=di.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)ye.arrayCopy(l,0,c,0,l.length);else for(var p=0,d=h.length;p<d;p++)c[p]=l[h[p]]},t}(),eR=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ci.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case K.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case K.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==K.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,c==Wt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,c==Wt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=di.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],p=l[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(i-p)/(l[f+e.PREV_TIME]-p));s==K.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*d-u.data.mix)*o,c==Wt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*d-u.mix)*o,c==Wt.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(Ds),tR=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ci.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var f=u.data;switch(s){case K.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case K.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,v=0;if(i>=l[l.length-e.ENTRIES]){var m=l.length;h=l[m+e.PREV_ROTATE],p=l[m+e.PREV_TRANSLATE],d=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR]}else{var g=di.binarySearch(l,i,e.ENTRIES);h=l[g+e.PREV_ROTATE],p=l[g+e.PREV_TRANSLATE],d=l[g+e.PREV_SCALE],v=l[g+e.PREV_SHEAR];var _=l[g],x=this.getCurvePercent(g/e.ENTRIES-1,1-(i-_)/(l[g+e.PREV_TIME]-_));h+=(l[g+e.ROTATE]-h)*x,p+=(l[g+e.TRANSLATE]-p)*x,d+=(l[g+e.SCALE]-d)*x,v+=(l[g+e.SHEAR]-v)*x}if(s==K.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(p-f.translateMix)*o,u.scaleMix=f.scaleMix+(d-f.scaleMix)*o,u.shearMix=f.shearMix+(v-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(v-u.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Ds),px=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ci.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case K.setup:u.position=u.data.position;return;case K.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=di.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==K.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Ds),IW=function(t){Xn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ci.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case K.setup:u.spacing=u.data.spacing;return;case K.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=di.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==K.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o},e}(px),rR=function(t){Xn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=ye.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ci.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case K.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case K.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=di.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],v=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.ROTATE]-f)*v,h+=(l[p+e.TRANSLATE]-h)*v}s==K.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Ds),RW=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new OW(this),this.propertyIDs=new aW,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new pb(function(){return new PW}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?K.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||c==K.add)for(var d=0;d<h;d++)ye.webkit602BugfixHelper(l,c),p[d].apply(e,u,f,r,l,c,Wt.mixIn);else{var v=s.timelineMode,m=s.timelinesRotation.length==0;m&&ye.setArraySize(s.timelinesRotation,h<<1,null);for(var g=s.timelinesRotation,d=0;d<h;d++){var _=p[d],x=v[d]==t.SUBSEQUENT?c:K.setup;_ instanceof Bo?this.applyRotateTimeline(_,e,f,l,x,g,d<<1,m):(ye.webkit602BugfixHelper(l,c),_.apply(e,u,f,r,l,x,Wt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==K.first&&(n=K.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=K.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==K.add)for(var v=0;v<f;v++)h[v].apply(r,l,u,o,d,n,Wt.mixOut);else{var m=i.timelineMode,g=i.timelineHoldMix,_=i.timelinesRotation.length==0;_&&ye.setArraySize(i.timelinesRotation,f<<1,null);var x=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var b=h[v],w=Wt.mixOut,E=void 0,C=0;switch(m[v]){case t.SUBSEQUENT:if(!s&&b instanceof hx||!c&&b instanceof dx)continue;E=n,C=d;break;case t.FIRST:E=K.setup,C=d;break;case t.HOLD:E=K.setup,C=p;break;default:E=K.setup;var T=g[v];C=p*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=C,b instanceof Bo?this.applyRotateTimeline(b,r,u,C,E,x,v<<1,_):(ye.webkit602BugfixHelper(C,n),E==K.setup&&(b instanceof hx?s&&(w=Wt.mixOut):b instanceof dx&&c&&(w=Wt.mixOut)),b.apply(r,l,u,o,C,E,w))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,Wt.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex],h=0,p=0;if(n<u[0])switch(a){case K.setup:f.rotation=f.data.rotation;default:return;case K.first:h=f.rotation,p=f.data.rotation}else if(h=a==K.setup?f.data.rotation:f.rotation,n>=u[u.length-Bo.ENTRIES])p=f.data.rotation+u[u.length+Bo.PREV_ROTATION];else{var d=di.binarySearch(u,n,Bo.ENTRIES),v=u[d+Bo.PREV_ROTATION],m=u[d],g=l.getCurvePercent((d>>1)-1,1-(n-m)/(u[d+Bo.PREV_TIME]-m));p=u[d+Bo.ROTATION]-v,p-=(16384-(16384.499999999996-p/360|0))*360,p=v+p*g+f.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var _=0,x=p-h;if(x-=(16384-(16384.499999999996-x/360|0))*360,x==0)_=o[s];else{var b=0,w=0;c?(b=0,w=x):(b=o[s],w=o[s+1]);var E=x>0,C=b>=0;te.signum(w)!=te.signum(x)&&Math.abs(w)<=90&&(Math.abs(b)>180&&(b+=360*te.signum(b)),C=E),_=x+b-b%360,C!=E&&(_+=360*te.signum(b)),o[s]=_}o[s+1]=x,h+=_*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ye.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=K.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=ye.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=ye.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)s.add(n[c].getPropertyId()),a[c]=t.HOLD;return}e:for(var c=0;c<i;c++){var l=n[c].getPropertyId();if(!s.add(l))a[c]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[c]=t.FIRST;else{for(var u=r.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=u;continue e}break}a[c]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new di("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),PW=function(){function t(){this.mixBlend=K.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),OW=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ua.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ua.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ua.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ua.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ua.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ua.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ua.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case ua.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case ua.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case ua.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case ua.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=te.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case ua.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),ua;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ua||(ua={}));var k$e=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),kW=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),FW=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new x3(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new _3(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new bW(r)},t.prototype.newPathAttachment=function(e,r){return new Nv(r)},t.prototype.newPointAttachment=function(e,r){return new EW(r)},t.prototype.newClippingAttachment=function(e,r){return new wW(r)},t}(),nR=function(){function t(e,r,n){if(this.matrix=new nn,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,p=n+90+s;l.a=te.cosDeg(n+o)*i*u,l.c=te.cosDeg(p)*a*u,l.b=te.sinDeg(n+o)*i*f,l.d=te.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,v=c.matrix.c,m=c.matrix.b,g=c.matrix.d;switch(l.tx=d*e+v*r+c.matrix.tx,l.ty=m*e+g*r+c.matrix.ty,this.data.transformMode){case Bt.Normal:{var p=n+90+s,_=te.cosDeg(n+o)*i,x=te.cosDeg(p)*a,b=te.sinDeg(n+o)*i,w=te.sinDeg(p)*a;l.a=d*_+v*b,l.c=d*x+v*w,l.b=m*_+g*b,l.d=m*x+g*w;return}case Bt.OnlyTranslation:{var p=n+90+s;l.a=te.cosDeg(n+o)*i,l.c=te.cosDeg(p)*a,l.b=te.sinDeg(n+o)*i,l.d=te.sinDeg(p)*a;break}case Bt.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*g-v*m)/E,v=m*E,g=d*E,C=Math.atan2(m,d)*te.radDeg):(d=0,m=0,C=90-Math.atan2(g,v)*te.radDeg);var T=n+o-C,I=n+s-C+90,_=te.cosDeg(T)*i,x=te.cosDeg(I)*a,b=te.sinDeg(T)*i,w=te.sinDeg(I)*a;l.a=d*_-v*b,l.c=d*x-v*w,l.b=m*_+g*b,l.d=m*x+g*w;break}case Bt.NoScale:case Bt.NoScaleOrReflection:{var R=te.cosDeg(n),O=te.sinDeg(n),P=(d*R+v*O)/u,k=(m*R+g*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==Bt.NoScale&&d*g-v*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var L=Math.PI/2+Math.atan2(k,P),B=Math.cos(L)*E,U=Math.sin(L)*E,_=te.cosDeg(o)*i,x=te.cosDeg(90+s)*a,b=te.sinDeg(o)*i,w=te.sinDeg(90+s)*a;l.a=P*_+B*b,l.c=P*x+B*w,l.b=k*_+U*b,l.d=k*x+U*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*te.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*te.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*te.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*te.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var v=f*d-h*p;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,v)*te.radDeg,this.arotation=Math.atan2(p,f)*te.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*te.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*te.radDeg},t.prototype.localToWorldRotation=function(e){var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*te.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=te.cosDeg(e),c=te.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),NW=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Bt.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),LW=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),MW=function(){function t(e){this.name=e}return t}(),BW=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=1/(c.a*c.d-c.b*c.c),u=r-c.tx,f=n-c.ty,h=(u*c.d-f*c.c)*l-e.ax,p=(f*c.a-u*c.b)*l-e.ay,d=Math.atan2(p,h)*te.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var v=e.ascaleX,m=e.ascaleY;if(i||a){var g=e.data.length*v,_=Math.sqrt(h*h+p*p);if(i&&_<g||a&&_>g&&g>1e-4){var x=(_/g-1)*s+1;v*=x,o&&(m*=x)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,v,m,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var c=e.ax,l=e.ay,u=e.ascaleX,f=u,h=e.ascaleY,p=r.ascaleX,d=e.matrix,v=0,m=0,g=0;u<0?(u=-u,v=180,g=-1):(v=0,g=1),h<0&&(h=-h,g=-g),p<0?(p=-p,m=180):m=0;var _=r.ax,x=0,b=0,w=0,E=d.a,C=d.c,T=d.b,I=d.d,R=Math.abs(u-h)<=1e-4;R?(x=r.ay,b=E*_+C*x+d.tx,w=T*_+I*x+d.ty):(x=0,b=E*_+d.tx,w=T*_+d.ty);var O=e.parent.matrix;E=O.a,C=O.c,T=O.b,I=O.d;var P=1/(E*I-C*T),k=n-O.tx,L=i-O.ty,B=(k*I-L*C)*P-c,U=(L*E-k*T)*P-l,z=B*B+U*U;k=b-O.tx,L=w-O.ty;var ee=(k*I-L*C)*P-c,ne=(L*E-k*T)*P-l,W=Math.sqrt(ee*ee+ne*ne),D=r.data.length*p,H=0,G=0;e:if(R){D*=u;var V=(z-W*W-D*D)/(2*W*D);V<-1?V=-1:V>1&&(V=1,o&&W+D>1e-4&&(f*=(Math.sqrt(z)/(W+D)-1)*s+1)),G=Math.acos(V)*a,E=W+D*V,C=D*Math.sin(G),H=Math.atan2(U*E-B*C,B*E+U*C)}else{E=u*D,C=h*D;var ie=E*E,se=C*C,ge=Math.atan2(U,B);T=se*W*W+ie*z-ie*se;var ue=-2*se*W,we=se-ie;if(I=ue*ue-4*we*T,I>=0){var Be=Math.sqrt(I);ue<0&&(Be=-Be),Be=-(ue+Be)/2;var Fe=Be/we,Ee=T/Be,Te=Math.abs(Fe)<Math.abs(Ee)?Fe:Ee;if(Te*Te<=z){L=Math.sqrt(z-Te*Te)*a,H=ge-Math.atan2(L,Te),G=Math.atan2(L/h,(Te-W)/u);break e}}var Ge=te.PI,We=W-E,Ve=We*We,Xe=0,qe=0,wt=W+E,At=wt*wt,ct=0;T=-E*W/(ie-se),T>=-1&&T<=1&&(T=Math.acos(T),k=E*Math.cos(T)+W,L=C*Math.sin(T),I=k*k+L*L,I<Ve&&(Ge=T,Ve=I,We=k,Xe=L),I>At&&(qe=T,At=I,wt=k,ct=L)),z<=(Ve+At)/2?(H=ge-Math.atan2(Xe*a,We),G=Ge*a):(H=ge-Math.atan2(ct*a,wt),G=qe*a)}var ft=Math.atan2(x,_)*g,Et=e.arotation;H=(H-ft)*te.radDeg+v-Et,H>180?H-=360:H<-180&&(H+=360),e.updateWorldTransformWith(c,l,Et+H*s,f,e.ascaleY,0,0),Et=r.arotation,G=((G+ft)*te.radDeg-r.ashearX)*g+m-Et,G>180?G-=360:G<-180&&(G+=360),r.updateWorldTransformWith(_,x,Et+G*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),DW=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),UW=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),co;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(co||(co={}));var jW=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Nv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==co.Length,l=o.rotateMode,u=l==On.Tangent,f=l==On.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,v=ye.setArraySize(this.spaces,p),m=null,g=this.spacing;if(f||c){f&&(m=ye.setArraySize(this.lengths,h));for(var _=0,x=p-1;_<x;){var b=d[_],w=b.data.length;if(w<t.epsilon)f&&(m[_]=0),v[++_]=0;else{var E=w*b.matrix.a,C=w*b.matrix.b,T=Math.sqrt(E*E+C*C);f&&(m[_]=T),v[++_]=(c?w+g:g)*T/w}}}else for(var _=1;_<p;_++)v[_]=g;var I=this.computeWorldPositions(e,p,u,o.positionMode==pn.Percent,s==co.Percent),R=I[0],O=I[1],P=o.offsetRotation,k=!1;if(P==0)k=l==On.Chain;else{k=!1;var L=this.target.bone.matrix;P*=L.a*L.d-L.b*L.c>0?te.degRad:-te.degRad}for(var _=0,L=3;_<h;_++,L+=3){var b=d[_],B=b.matrix;B.tx+=(R-B.tx)*n,B.ty+=(O-B.ty)*n;var E=I[L],C=I[L+1],U=E-R,z=C-O;if(f){var ee=m[_];if(ee!=0){var ne=(Math.sqrt(U*U+z*z)/ee-1)*r+1;B.a*=ne,B.b*=ne}}if(R=E,O=C,a){var W=B.a,D=B.c,H=B.b,G=B.d,V=0,ie=0,se=0;if(u?V=I[L-1]:v[_+1]==0?V=I[L+2]:V=Math.atan2(z,U),V-=Math.atan2(H,W),k){ie=Math.cos(V),se=Math.sin(V);var ge=b.data.length;R+=(ge*(ie*W-se*H)-U)*r,O+=(ge*(se*W+ie*H)-z)*r}else V+=P;V>te.PI?V-=te.PI2:V<-te.PI&&(V+=te.PI2),V*=r,ie=Math.cos(V),se=Math.sin(V),B.a=ie*W-se*H,B.c=ie*D-se*G,B.b=se*W+ie*H,B.d=se*D+ie*G}b.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=ye.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var v=e.lengths;p-=f?1:2;var m=v[p];if(i&&(s*=m),a)for(var g=0;g<r;g++)c[g]*=m;u=ye.setArraySize(this.world,8);for(var g=0,_=0,x=0;g<r;g++,_+=3){var b=c[g];s+=b;var w=s;if(f)w%=m,w<0&&(w+=m),x=0;else if(w<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(w,u,0,l,_);continue}else if(w>m){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(w-m,u,0,l,_);continue}for(;;x++){var E=v[x];if(!(w>E)){if(x==0)w/=E;else{var C=v[x-1];w=(w-C)/(E-C)}break}}x!=d&&(d=x,f&&x==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,x*6+2,8,u,0,2)),this.addCurvePosition(w,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,_,n||g>0&&b==0)}return l}f?(h+=2,u=ye.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=ye.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var T=ye.setArraySize(this.curves,p),I=0,R=u[0],O=u[1],P=0,k=0,L=0,B=0,U=0,z=0,ee=0,ne=0,W=0,D=0,H=0,G=0,V=0,ie=0,g=0,se=2;g<p;g++,se+=6)P=u[se],k=u[se+1],L=u[se+2],B=u[se+3],U=u[se+4],z=u[se+5],ee=(R-P*2+L)*.1875,ne=(O-k*2+B)*.1875,W=((P-L)*3-R+U)*.09375,D=((k-B)*3-O+z)*.09375,H=ee*2+W,G=ne*2+D,V=(P-R)*.75+ee+W*.16666667,ie=(k-O)*.75+ne+D*.16666667,I+=Math.sqrt(V*V+ie*ie),V+=H,ie+=G,H+=W,G+=D,I+=Math.sqrt(V*V+ie*ie),V+=H,ie+=G,I+=Math.sqrt(V*V+ie*ie),V+=H+W,ie+=G+D,I+=Math.sqrt(V*V+ie*ie),T[g]=I,R=U,O=z;if(i&&(s*=I),a)for(var g=0;g<r;g++)c[g]*=I;for(var ge=this.segments,ue=0,g=0,_=0,x=0,we=0;g<r;g++,_+=3){var b=c[g];s+=b;var w=s;if(f)w%=I,w<0&&(w+=I),x=0;else if(w<0){this.addBeforePosition(w,u,0,l,_);continue}else if(w>I){this.addAfterPosition(w-I,u,h-4,l,_);continue}for(;;x++){var Be=T[x];if(!(w>Be)){if(x==0)w/=Be;else{var C=T[x-1];w=(w-C)/(Be-C)}break}}if(x!=d){d=x;var Fe=x*6;for(R=u[Fe],O=u[Fe+1],P=u[Fe+2],k=u[Fe+3],L=u[Fe+4],B=u[Fe+5],U=u[Fe+6],z=u[Fe+7],ee=(R-P*2+L)*.03,ne=(O-k*2+B)*.03,W=((P-L)*3-R+U)*.006,D=((k-B)*3-O+z)*.006,H=ee*2+W,G=ne*2+D,V=(P-R)*.3+ee+W*.16666667,ie=(k-O)*.3+ne+D*.16666667,ue=Math.sqrt(V*V+ie*ie),ge[0]=ue,Fe=1;Fe<8;Fe++)V+=H,ie+=G,H+=W,G+=D,ue+=Math.sqrt(V*V+ie*ie),ge[Fe]=ue;V+=H,ie+=G,ue+=Math.sqrt(V*V+ie*ie),ge[8]=ue,V+=H+W,ie+=G+D,ue+=Math.sqrt(V*V+ie*ie),ge[9]=ue,we=0}for(w*=ue;;we++){var Ee=ge[we];if(!(w>Ee)){if(we==0)w/=Ee;else{var C=ge[we-1];w=we+(w-C)/(Ee-C)}break}}this.addCurvePosition(w*.1,R,O,P,k,L,B,U,z,l,_,n||g>0&&b==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,v=1-e,m=v*v,g=m*v,_=v*e,x=_*3,b=v*x,w=x*e,E=r*g+i*b+o*w+c*d,C=n*g+a*b+s*w+l*d;u[f]=E,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),$W=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Av,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?te.degRad:-te.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,v=0,m=d.length;v<m;v++){var g=d[v],_=!1,x=g.matrix;if(e!=0){var b=x.a,w=x.c,E=x.b,C=x.d,T=Math.atan2(l,s)-Math.atan2(E,b)+h;T>te.PI?T-=te.PI2:T<-te.PI&&(T+=te.PI2),T*=e;var I=Math.cos(T),R=Math.sin(T);x.a=I*b-R*E,x.c=I*w-R*C,x.b=R*b+I*E,x.d=R*w+I*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=(O.x-x.tx)*r,x.ty+=(O.y-x.ty)*r,_=!0}if(n>0){var P=Math.sqrt(x.a*x.a+x.b*x.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),x.a*=P,x.b*=P,P=Math.sqrt(x.c*x.c+x.d*x.d),k=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),x.c*=P,x.d*=P,_=!0}if(i>0){var w=x.c,C=x.d,L=Math.atan2(C,w),T=Math.atan2(u,c)-Math.atan2(l,s)-(L-Math.atan2(x.b,x.a));T>te.PI?T-=te.PI2:T<-te.PI&&(T+=te.PI2),T=L+(T+p)*i;var P=Math.sqrt(w*w+C*C);x.c=Math.cos(T)*P,x.d=Math.sin(T)*P,_=!0}_&&(g.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?te.degRad:-te.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,v=0,m=d.length;v<m;v++){var g=d[v],_=!1,x=g.matrix;if(e!=0){var b=x.a,w=x.c,E=x.b,C=x.d,T=Math.atan2(l,s)+h;T>te.PI?T-=te.PI2:T<-te.PI&&(T+=te.PI2),T*=e;var I=Math.cos(T),R=Math.sin(T);x.a=I*b-R*E,x.c=I*w-R*C,x.b=R*b+I*E,x.d=R*w+I*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=O.x*r,x.ty+=O.y*r,_=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;x.a*=P,x.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,x.c*=P,x.d*=P,_=!0}if(i>0){var T=Math.atan2(u,c)-Math.atan2(l,s);T>te.PI?T-=te.PI2:T<-te.PI&&(T+=te.PI2);var w=x.c,C=x.d;T=Math.atan2(C,w)+(T-te.PI/2+p)*i;var P=Math.sqrt(w*w+C*C);x.c=Math.cos(T)*P,x.d=Math.sin(T)*P,_=!0}_&&(g.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,v=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var m=l.ashearY;if(i>0){var f=a.ashearY-m+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,p,u,d,v,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,p,d,l.ashearX,v)}},t.prototype.getOrder=function(){return this.data.order},t}(),GW=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new nR(n,this,null);else{var a=this.bones[n.parent.index];i=new nR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new y3(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new BW(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new $W(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new jW(u,this))}this.color=new tt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,c=a.length,l=o.length,u=s.length,f=c+l+u;e:for(var n=0;n<f;n++){for(var h=0;h<c;h++){var p=a[h];if(p.data.order==n){this.sortIkConstraint(p);continue e}}for(var h=0;h<l;h++){var p=o[h];if(p.data.order==n){this.sortTransformConstraint(p);continue e}}for(var h=0;h<u;h++){var p=s[h];if(p.data.order==n){this.sortPathConstraint(p);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Nv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Nv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ye.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l],h=0,p=null,d=f.getAttachment();if(d instanceof x3)h=8,p=ye.setArraySize(n,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof _3){var v=d;h=v.worldVerticesLength,p=ye.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,p,0,2)}if(p!=null)for(var m=0,g=p.length;m<g;m+=2){var _=p[m],x=p[m+1];a=Math.min(a,_),o=Math.min(o,x),s=Math.max(s,_),c=Math.max(c,x)}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),F$e=function(t){Xn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(e3),VW=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),HW=function(){function t(e,r,n){if(this.color=new tt(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),XW=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),zW=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),WW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new VW,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],c=null,l=this.getValue(s,"parent",null);if(l!=null&&(c=n.findBone(l),c==null))throw new Error("Parent bone not found: "+l);var u=new NW(n.bones.length,s.name,c);u.length=this.getValue(s,"length",0)*r,u.x=this.getValue(s,"x",0)*r,u.y=this.getValue(s,"y",0)*r,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var f=i.slots[o],h=f.name,p=f.bone,d=n.findBone(p);if(d==null)throw new Error("Slot bone not found: "+p);var u=new HW(n.slots.length,h,d),v=this.getValue(f,"color",null);v!=null&&u.color.setFromString(v);var m=this.getValue(f,"dark",null);m!=null&&(u.darkColor=new tt(1,1,1,1),u.darkColor.setFromString(m)),u.attachmentName=this.getValue(f,"attachment",null),u.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var g=i.ik[o],u=new DW(g.name);u.order=this.getValue(g,"order",0);for(var _=0;_<g.bones.length;_++){var p=g.bones[_],x=n.findBone(p);if(x==null)throw new Error("IK bone not found: "+p);u.bones.push(x)}var b=g.target;if(u.target=n.findBone(b),u.target==null)throw new Error("IK target bone not found: "+b);u.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,u.mix=this.getValue(g,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var g=i.transform[o],u=new XW(g.name);u.order=this.getValue(g,"order",0);for(var _=0;_<g.bones.length;_++){var p=g.bones[_],x=n.findBone(p);if(x==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(x)}var b=g.target;if(u.target=n.findBone(b),u.target==null)throw new Error("Transform constraint target bone not found: "+b);u.local=this.getValue(g,"local",!1),u.relative=this.getValue(g,"relative",!1),u.offsetRotation=this.getValue(g,"rotation",0),u.offsetX=this.getValue(g,"x",0)*r,u.offsetY=this.getValue(g,"y",0)*r,u.offsetScaleX=this.getValue(g,"scaleX",0),u.offsetScaleY=this.getValue(g,"scaleY",0),u.offsetShearY=this.getValue(g,"shearY",0),u.rotateMix=this.getValue(g,"rotateMix",1),u.translateMix=this.getValue(g,"translateMix",1),u.scaleMix=this.getValue(g,"scaleMix",1),u.shearMix=this.getValue(g,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var g=i.path[o],u=new UW(g.name);u.order=this.getValue(g,"order",0);for(var _=0;_<g.bones.length;_++){var p=g.bones[_],x=n.findBone(p);if(x==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(x)}var b=g.target;if(u.target=n.findSlot(b),u.target==null)throw new Error("Path target slot not found: "+b);u.positionMode=t.positionModeFromString(this.getValue(g,"positionMode","percent")),u.spacingMode=t.spacingModeFromString(this.getValue(g,"spacingMode","length")),u.rotateMode=t.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),u.offsetRotation=this.getValue(g,"rotation",0),u.position=this.getValue(g,"position",0),u.positionMode==pn.Fixed&&(u.position*=r),u.spacing=this.getValue(g,"spacing",0),(u.spacingMode==co.Length||u.spacingMode==co.Fixed)&&(u.spacing*=r),u.rotateMix=this.getValue(g,"rotateMix",1),u.translateMix=this.getValue(g,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var w in i.skins){var E=i.skins[w],C=new zW(w);for(var h in E){var T=n.findSlotIndex(h);if(T==-1)throw new Error("Slot not found: "+h);var f=E[h];for(var I in f){var R=this.readAttachment(f[I],C,T,I,n);R!=null&&C.addAttachment(T,I,R)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var o=0,O=this.linkedMeshes.length;o<O;o++){var P=this.linkedMeshes[o],C=P.skin==null?n.defaultSkin:n.findSkin(P.skin);if(C==null)throw new Error("Skin not found: "+P.skin);var k=C.getAttachment(P.slotIndex,P.parent);if(k==null)throw new Error("Parent mesh not found: "+P.parent);P.mesh.setParentMesh(k)}if(this.linkedMeshes.length=0,i.events)for(var L in i.events){var B=i.events[L],u=new MW(L);u.intValue=this.getValue(B,"int",0),u.floatValue=this.getValue(B,"float",0),u.stringValue=this.getValue(B,"string",""),u.audioPath=this.getValue(B,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(B,"volume",1),u.balance=this.getValue(B,"balance",0)),n.events.push(u)}if(i.animations)for(var U in i.animations){var z=i.animations[U];this.readAnimation(z,U,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u);var p=this.getValue(e,"parent",null);if(p!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new N$e(h,this.getValue(e,"skin",null),n,p)),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,c,v<<1);for(var m=ye.newArray(v/3,0),g=0;g<e.lengths.length;g++)m[g]=e.lengths[g]*o;c.lengths=m;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(_==null)return null;_.x=this.getValue(e,"x",0)*o,_.y=this.getValue(e,"y",0)*o,_.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&_.color.setFromString(u),_}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(x==null)return null;var b=this.getValue(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);x.endSlot=w}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=this.getValue(e,"color",null);return u!=null&&x.color.setFromString(u),x}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ye.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ye.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new hx(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p++,v.time,v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new JI(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d],m=new tt;m.setFromString(v.color||"ffffffff"),h.setFrame(p,v.time,m.r,m.g,m.b,m.a),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*JI.ENTRIES])}else if(u=="twoColor"){var h=new QI(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var v=f[d],g=new tt,_=new tt;g.setFromString(v.light),_.setFromString(v.dark),h.setFrame(p,v.time,g.r,g.g,g.b,g.a,_.r,_.g,_.b),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*QI.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var x in e.bones){var b=e.bones[x],w=n.findBoneIndex(x);if(w==-1)throw new Error("Bone not found: "+x);for(var u in b){var f=b[u];if(u==="rotate"){var h=new Bo(f.length);h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,v.time,v.angle),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Bo.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1;u==="scale"?h=new SW(f.length):u==="shear"?h=new CW(f.length):(h=new Lv(f.length),E=i),h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var v=f[d],C=this.getValue(v,"x",0),T=this.getValue(v,"y",0);h.setFrame(p,v.time,C*E,T*E),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Lv.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+x+")")}}if(e.ik)for(var I in e.ik){var R=e.ik[I],O=n.findIkConstraint(I),h=new eR(R.length);h.ikConstraintIndex=n.ikConstraints.indexOf(O);for(var p=0,d=0;d<R.length;d++){var v=R[d];h.setFrame(p,v.time,this.getValue(v,"mix",1),this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*eR.ENTRIES])}if(e.transform)for(var I in e.transform){var R=e.transform[I],O=n.findTransformConstraint(I),h=new tR(R.length);h.transformConstraintIndex=n.transformConstraints.indexOf(O);for(var p=0,d=0;d<R.length;d++){var v=R[d];h.setFrame(p,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*tR.ENTRIES])}if(e.paths)for(var I in e.paths){var R=e.paths[I],P=n.findPathConstraintIndex(I);if(P==-1)throw new Error("Path constraint not found: "+I);var k=n.pathConstraints[P];for(var u in R){var f=R[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new IW(f.length),(k.spacingMode==co.Length||k.spacingMode==co.Fixed)&&(E=i)):(h=new px(f.length),k.positionMode==pn.Fixed&&(E=i)),h.pathConstraintIndex=P;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,v.time,this.getValue(v,u,0)*E),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*px.ENTRIES])}else if(u==="mix"){var h=new rR(f.length);h.pathConstraintIndex=P;for(var p=0,d=0;d<f.length;d++){var v=f[d];h.setFrame(p,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*rR.ENTRIES])}}}if(e.deform)for(var L in e.deform){var B=e.deform[L],U=n.findSkin(L);if(U!=null)for(var s in B){var c=B[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],z=U.getAttachment(l,u);if(z==null)throw new Error("Deform attachment not found: "+f.name);var ee=z.bones!=null,ne=z.vertices,W=ee?ne.length/3*2:ne.length,h=new TW(f.length);h.slotIndex=l,h.attachment=z;for(var p=0,D=0;D<f.length;D++){var v=f[D],H=void 0,G=this.getValue(v,"vertices",null);if(G==null)H=ee?ye.newFloatArray(W):ne;else{H=ye.newFloatArray(W);var V=this.getValue(v,"offset",0);if(ye.arrayCopy(G,0,H,V,G.length),i!=1)for(var d=V,ie=d+G.length;d<ie;d++)H[d]*=i;if(!ee)for(var d=0;d<W;d++)H[d]+=ne[d]}h.setFrame(p,v.time,H),this.readCurve(v,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var se=e.drawOrder;if(se==null&&(se=e.draworder),se!=null){for(var h=new dx(se.length),ge=n.slots.length,p=0,D=0;D<se.length;D++){var ue=se[D],we=null,Be=this.getValue(ue,"offsets",null);if(Be!=null){we=ye.newArray(ge,-1);for(var Fe=ye.newArray(ge-Be.length,0),Ee=0,Te=0,d=0;d<Be.length;d++){var Ge=Be[d],l=n.findSlotIndex(Ge.slot);if(l==-1)throw new Error("Slot not found: "+Ge.slot);for(;Ee!=l;)Fe[Te++]=Ee++;we[Ee+Ge.offset]=Ee++}for(;Ee<ge;)Fe[Te++]=Ee++;for(var d=ge-1;d>=0;d--)we[d]==-1&&(we[d]=Fe[--Te])}h.setFrame(p++,ue.time,we)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new AW(e.events.length),p=0,d=0;d<e.events.length;d++){var We=e.events[d],Ve=n.findEvent(We.name);if(Ve==null)throw new Error("Event not found: "+We.name);var Xe=new LW(ye.toSinglePrecision(We.time),Ve);Xe.intValue=this.getValue(We,"int",Ve.intValue),Xe.floatValue=this.getValue(We,"float",Ve.floatValue),Xe.stringValue=this.getValue(We,"string",Ve.stringValue),Xe.data.audioPath!=null&&(Xe.volume=this.getValue(We,"volume",1),Xe.balance=this.getValue(We,"balance",0)),h.setFrame(p++,Xe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new di(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return st.NORMAL;if(e=="additive")return st.ADD;if(e=="multiply")return st.MULTIPLY;if(e=="screen")return st.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return pn.Fixed;if(e=="percent")return pn.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return co.Length;if(e=="fixed")return co.Fixed;if(e=="percent")return co.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return On.Tangent;if(e=="chain")return On.Chain;if(e=="chainscale")return On.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Bt.Normal;if(e=="onlytranslation")return Bt.OnlyTranslation;if(e=="norotationorreflection")return Bt.NoRotationOrReflection;if(e=="noscale")return Bt.NoScale;if(e=="noscaleorreflection")return Bt.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),N$e=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),L$e=function(t){Xn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new GW(r),this.skeleton.updateWorldTransform(),this.stateData=new kW(r),this.state=new RW(this.stateData)},e}(vg);const M$e=Object.freeze(Object.defineProperty({__proto__:null,Animation:di,AnimationState:RW,AnimationStateAdapter2:k$e,AnimationStateData:kW,AtlasAttachmentLoader:FW,Attachment:m3,AttachmentTimeline:hx,Bone:nR,BoneData:NW,BoundingBoxAttachment:bW,ClippingAttachment:wW,ColorTimeline:JI,CurveTimeline:Ds,DeformTimeline:TW,DrawOrderTimeline:dx,Event:LW,EventData:MW,EventQueue:OW,EventTimeline:AW,get EventType(){return ua},IkConstraint:BW,IkConstraintData:DW,IkConstraintTimeline:eR,JitterEffect:P$e,MeshAttachment:_3,PathAttachment:Nv,PathConstraint:jW,PathConstraintData:UW,PathConstraintMixTimeline:rR,PathConstraintPositionTimeline:px,PathConstraintSpacingTimeline:IW,PointAttachment:EW,RegionAttachment:x3,RotateTimeline:Bo,ScaleTimeline:SW,ShearTimeline:CW,Skeleton:GW,SkeletonBounds:F$e,SkeletonData:VW,SkeletonJson:WW,Skin:zW,Slot:y3,SlotData:HW,get SpacingMode(){return co},Spine:L$e,SwirlEffect:O$e,get TimelineType(){return Ci},TrackEntry:PW,TransformConstraint:$W,TransformConstraintData:XW,TransformConstraintTimeline:tR,TranslateTimeline:Lv,TwoColorTimeline:QI,VertexAttachment:yf},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iR=function(t,e){return iR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iR(t,e)};function nr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b3=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),Os=function(t){nr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(!f){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,v=h.a,m=h.c,g=h.b,_=h.d,x=n,b=o;b<i;x+=2,b+=s){var w=u[x],E=u[x+1];a[b]=w*v+E*m+p,a[b+1]=w*g+E*_+d}return}for(var C=0,T=0,I=0;I<n;I+=2){var R=f[C];C+=R+1,T+=R}var O=c.bones;if(l.length==0)for(var b=o,m=T*3;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,w=u[m],E=u[m+1],L=u[m+2];P+=(w*h.a+E*h.c+h.tx)*L,k+=(w*h.b+E*h.d+h.ty)*L}a[b]=P,a[b+1]=k}else for(var B=l,b=o,m=T*3,U=T<<1;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3,U+=2){var h=O[f[C]].matrix,w=u[m]+B[U],E=u[m+1]+B[U+1],L=u[m+2];P+=(w*h.a+E*h.c+h.tx)*L,k+=(w*h.b+E*h.d+h.ty)*L}a[b]=P,a[b+1]=k}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),ye.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=ye.newFloatArray(this.vertices.length),ye.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(b3),YW=function(t){nr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.BoundingBox,n.color=new tt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Os),qW=function(t){nr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Clipping,n.endSlot=null,n.color=new tt(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Os),_b=function(t){nr(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=Zt.Mesh,i.region=null,i.triangles=[],i.color=new tt(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new tt(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),ye.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),ye.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),ye.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(Os),Mv=function(t){nr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new tt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),ye.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Os),KW=function(t){nr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Zt.Point,n.x=0,n.y=0,n.rotation=0,n.color=new tt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=te.cosDeg(this.rotation),a=te.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*te.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Os),w3=function(t){nr(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=Zt.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new tt(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=ye.newFloatArray(8),i.uvs=ye.newFloatArray(8),i.tempColor=new tt(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,c=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),f=Math.sin(l),h=this.x,p=this.y,d=a*u+h,v=a*f,m=o*u+p,g=o*f,_=s*u+h,x=s*f,b=c*u+p,w=c*f,E=this.offset;E[0]=d-g,E[1]=m+v,E[2]=d-w,E[3]=b+v,E[4]=_-w,E[5]=b+x,E[6]=_-g,E[7]=m+x;var C=this.uvs;r.degrees==90?(C[2]=r.u,C[3]=r.v2,C[4]=r.u,C[5]=r.v,C[6]=r.u2,C[7]=r.v,C[0]=r.u2,C[1]=r.v2):(C[0]=r.u,C[1]=r.v2,C[2]=r.u,C[3]=r.v,C[4]=r.u2,C[5]=r.v,C[6]=r.u2,C[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,c=o.matrix,l=c.tx,u=c.ty,f=c.a,h=c.c,p=c.b,d=c.d,v=0,m=0;v=s[0],m=s[1],n[i]=v*f+m*h+l,n[i+1]=v*p+m*d+u,i+=a,v=s[2],m=s[3],n[i]=v*f+m*h+l,n[i+1]=v*p+m*d+u,i+=a,v=s[4],m=s[5],n[i]=v*f+m*h+l,n[i+1]=v*p+m*d+u,i+=a,v=s[6],m=s[7],n[i]=v*f+m*h+l,n[i+1]=v*p+m*d+u},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,ye.arrayCopy(this.uvs,0,r.uvs,0,8),ye.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(b3),E3=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return ye.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),xi;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(xi||(xi={}));var S3=[xi.hold,xi.once,xi.loop,xi.pingpong,xi.onceReverse,xi.loopReverse,xi.pingpongReverse],yb=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new oW,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t}(),Pr={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},Fn=function(){function t(e,r){this.propertyIds=r,this.frames=ye.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),rs=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=ye.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=ye.newFloatArray(n);ye.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var v=(a-s*2+l)*.03,m=(o-c*2+u)*.03,g=((s-l)*3-a+f)*.006,_=((c-u)*3-o+h)*.006,x=v*2+g,b=m*2+_,w=(s-a)*.3+v+g*.16666667,E=(c-o)*.3+m+_*.16666667,C=a+w,T=o+E,I=d+18;d<I;d+=2)p[d]=C,p[d+1]=T,w+=x,E+=b,x+=g,b+=_,C+=w,T+=E},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],c=this.frames[n+i];return c+(r-s)/(o[a]-s)*(o[a+1]-c)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var u=o[a-2],f=o[a-1];return f+(r-u)/(o[a]-u)*(o[a+1]-f)}n+=this.getFrameEntries();var h=o[l-2],p=o[l-1];return p+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-p)},e}(Fn),ns=function(t){nr(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],c=n[i+1];return c+(r-s)/(n[i+2]-s)*(n[i+2+1]-c);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(rs),xb=function(t){nr(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(rs),Bv=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.rotation=l.data.rotation;return;case K.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var f=this.getCurveValue(i);switch(s){case K.setup:l.rotation=l.data.rotation+f*o;break;case K.first:case K.replace:f+=l.data.rotation-l.rotation;case K.add:l.rotation+=f*o}}},e}(ns),C3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.x+"|"+i,Pr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.x=l.data.x,l.y=l.data.y;return;case K.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var f=0,h=0,p=Fn.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var v=u[p];f=u[p+1],h=u[p+2];var m=(i-v)/(u[p+3]-v);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case K.setup:l.x=l.data.x+f*o,l.y=l.data.y+h*o;break;case K.first:case K.replace:l.x+=(l.data.x+f-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case K.add:l.x+=f*o,l.y+=h*o}}},e}(xb),T3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.x=l.data.x;return;case K.first:l.x+=(l.data.x-l.x)*o}return}var f=this.getCurveValue(i);switch(s){case K.setup:l.x=l.data.x+f*o;break;case K.first:case K.replace:l.x+=(l.data.x+f-l.x)*o;break;case K.add:l.x+=f*o}}},e}(ns),A3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.y=l.data.y;return;case K.first:l.y+=(l.data.y-l.y)*o}return}var f=this.getCurveValue(i);switch(s){case K.setup:l.y=l.data.y+f*o;break;case K.first:case K.replace:l.y+=(l.data.y+f-l.y)*o;break;case K.add:l.y+=f*o}}},e}(ns),I3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.scaleX+"|"+i,Pr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case K.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f,h,p=Fn.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var v=u[p];f=u[p+1],h=u[p+2];var m=(i-v)/(u[p+3]-v);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}if(f*=l.data.scaleX,h*=l.data.scaleY,o==1)s==K.add?(l.scaleX+=f-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=f,l.scaleY=h);else{var g=0,_=0;if(c==Wt.mixOut)switch(s){case K.setup:g=l.data.scaleX,_=l.data.scaleY,l.scaleX=g+(Math.abs(f)*te.signum(g)-g)*o,l.scaleY=_+(Math.abs(h)*te.signum(_)-_)*o;break;case K.first:case K.replace:g=l.scaleX,_=l.scaleY,l.scaleX=g+(Math.abs(f)*te.signum(g)-g)*o,l.scaleY=_+(Math.abs(h)*te.signum(_)-_)*o;break;case K.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case K.setup:g=Math.abs(l.data.scaleX)*te.signum(f),_=Math.abs(l.data.scaleY)*te.signum(h),l.scaleX=g+(f-g)*o,l.scaleY=_+(h-_)*o;break;case K.first:case K.replace:g=Math.abs(l.scaleX)*te.signum(f),_=Math.abs(l.scaleY)*te.signum(h),l.scaleX=g+(f-g)*o,l.scaleY=_+(h-_)*o;break;case K.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(xb),R3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.scaleX=l.data.scaleX;return;case K.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var f=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==K.add?l.scaleX+=f-l.data.scaleX:l.scaleX=f;else{var h=0;if(c==Wt.mixOut)switch(s){case K.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(f)*te.signum(h)-h)*o;break;case K.first:case K.replace:h=l.scaleX,l.scaleX=h+(Math.abs(f)*te.signum(h)-h)*o;break;case K.add:l.scaleX+=(f-l.data.scaleX)*o}else switch(s){case K.setup:h=Math.abs(l.data.scaleX)*te.signum(f),l.scaleX=h+(f-h)*o;break;case K.first:case K.replace:h=Math.abs(l.scaleX)*te.signum(f),l.scaleX=h+(f-h)*o;break;case K.add:l.scaleX+=(f-l.data.scaleX)*o}}}},e}(ns),P3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.scaleY=l.data.scaleY;return;case K.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==K.add?l.scaleY+=f-l.data.scaleY:l.scaleY=f;else{var h=0;if(c==Wt.mixOut)switch(s){case K.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(f)*te.signum(h)-h)*o;break;case K.first:case K.replace:h=l.scaleY,l.scaleY=h+(Math.abs(f)*te.signum(h)-h)*o;break;case K.add:l.scaleY+=(f-l.data.scaleY)*o}else switch(s){case K.setup:h=Math.abs(l.data.scaleY)*te.signum(f),l.scaleY=h+(f-h)*o;break;case K.first:case K.replace:h=Math.abs(l.scaleY)*te.signum(f),l.scaleY=h+(f-h)*o;break;case K.add:l.scaleY+=(f-l.data.scaleY)*o}}}},e}(ns),O3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.shearX+"|"+i,Pr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case K.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=0,h=0,p=Fn.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var v=u[p];f=u[p+1],h=u[p+2];var m=(i-v)/(u[p+3]-v);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case K.setup:l.shearX=l.data.shearX+f*o,l.shearY=l.data.shearY+h*o;break;case K.first:case K.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case K.add:l.shearX+=f*o,l.shearY+=h*o}}},e}(xb),k3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.shearX=l.data.shearX;return;case K.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var f=this.getCurveValue(i);switch(s){case K.setup:l.shearX=l.data.shearX+f*o;break;case K.first:case K.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o;break;case K.add:l.shearX+=f*o}}},e}(ns),F3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.shearY=l.data.shearY;return;case K.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=this.getCurveValue(i);switch(s){case K.setup:l.shearY=l.data.shearY+f*o;break;case K.first:case K.replace:l.shearY+=(l.data.shearY+f-l.shearY)*o;break;case K.add:l.shearY+=f*o}}},e}(ns),N3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Pr.rgb+"|"+i,Pr.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case K.setup:f.setFromColor(h);return;case K.first:f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,v=0,m=0,g=Fn.search(u,i,5),_=this.curves[g/5];switch(_){case 0:var x=u[g];p=u[g+1],d=u[g+2],v=u[g+3],m=u[g+4];var b=(i-x)/(u[g+5]-x);p+=(u[g+5+1]-p)*b,d+=(u[g+5+2]-d)*b,v+=(u[g+5+3]-v)*b,m+=(u[g+5+4]-m)*b;break;case 1:p=u[g+1],d=u[g+2],v=u[g+3],m=u[g+4];break;default:p=this.getBezierValue(i,g,1,_-2),d=this.getBezierValue(i,g,2,_+18-2),v=this.getBezierValue(i,g,3,_+18*2-2),m=this.getBezierValue(i,g,4,_+18*3-2)}o==1?f.set(p,d,v,m):(s==K.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(v-f.b)*o,(m-f.a)*o))}},e}(rs),L3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Pr.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case K.setup:f.r=h.r,f.g=h.g,f.b=h.b;return;case K.first:f.r+=(h.r-f.r)*o,f.g+=(h.g-f.g)*o,f.b+=(h.b-f.b)*o}return}var p=0,d=0,v=0,m=Fn.search(u,i,4),g=this.curves[m>>2];switch(g){case 0:var _=u[m];p=u[m+1],d=u[m+2],v=u[m+3];var x=(i-_)/(u[m+4]-_);p+=(u[m+4+1]-p)*x,d+=(u[m+4+2]-d)*x,v+=(u[m+4+3]-v)*x;break;case 1:p=u[m+1],d=u[m+2],v=u[m+3];break;default:p=this.getBezierValue(i,m,1,g-2),d=this.getBezierValue(i,m,2,g+18-2),v=this.getBezierValue(i,m,3,g+18*2-2)}if(o==1)f.r=p,f.g=d,f.b=v;else{if(s==K.setup){var h=l.data.color;f.r=h.r,f.g=h.g,f.b=h.b}f.r+=(p-f.r)*o,f.g+=(d-f.g)*o,f.b+=(v-f.b)*o}}},e}(rs),M3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var f=l.data.color;switch(s){case K.setup:u.a=f.a;return;case K.first:u.a+=(f.a-u.a)*o}return}var h=this.getCurveValue(i);o==1?u.a=h:(s==K.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*o)}},e}(ns),B3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Pr.rgb+"|"+i,Pr.alpha+"|"+i,Pr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l,this.frames[r+7]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case K.setup:f.setFromColor(p),h.r=d.r,h.g=d.g,h.b=d.b;return;case K.first:f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var v=0,m=0,g=0,_=0,x=0,b=0,w=0,E=Fn.search(u,i,8),C=this.curves[E>>3];switch(C){case 0:var T=u[E];v=u[E+1],m=u[E+2],g=u[E+3],_=u[E+4],x=u[E+5],b=u[E+6],w=u[E+7];var I=(i-T)/(u[E+8]-T);v+=(u[E+8+1]-v)*I,m+=(u[E+8+2]-m)*I,g+=(u[E+8+3]-g)*I,_+=(u[E+8+4]-_)*I,x+=(u[E+8+5]-x)*I,b+=(u[E+8+6]-b)*I,w+=(u[E+8+7]-w)*I;break;case 1:v=u[E+1],m=u[E+2],g=u[E+3],_=u[E+4],x=u[E+5],b=u[E+6],w=u[E+7];break;default:v=this.getBezierValue(i,E,1,C-2),m=this.getBezierValue(i,E,2,C+18-2),g=this.getBezierValue(i,E,3,C+18*2-2),_=this.getBezierValue(i,E,4,C+18*3-2),x=this.getBezierValue(i,E,5,C+18*4-2),b=this.getBezierValue(i,E,6,C+18*5-2),w=this.getBezierValue(i,E,7,C+18*6-2)}if(o==1)f.set(v,m,g,_),h.r=x,h.g=b,h.b=w;else{if(s==K.setup){f.setFromColor(l.data.color);var d=l.data.darkColor;h.r=d.r,h.g=d.g,h.b=d.b}f.add((v-f.r)*o,(m-f.g)*o,(g-f.b)*o,(_-f.a)*o),h.r+=(x-h.r)*o,h.g+=(b-h.g)*o,h.b+=(w-h.b)*o}}},e}(rs),D3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Pr.rgb+"|"+i,Pr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case K.setup:f.r=p.r,f.g=p.g,f.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b;return;case K.first:f.r+=(p.r-f.r)*o,f.g+=(p.g-f.g)*o,f.b+=(p.b-f.b)*o,h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var v=0,m=0,g=0,_=0,x=0,b=0,w=Fn.search(u,i,7),E=this.curves[w/7];switch(E){case 0:var C=u[w];v=u[w+1],m=u[w+2],g=u[w+3],_=u[w+4],x=u[w+5],b=u[w+6];var T=(i-C)/(u[w+7]-C);v+=(u[w+7+1]-v)*T,m+=(u[w+7+2]-m)*T,g+=(u[w+7+3]-g)*T,_+=(u[w+7+4]-_)*T,x+=(u[w+7+5]-x)*T,b+=(u[w+7+6]-b)*T;break;case 1:v=u[w+1],m=u[w+2],g=u[w+3],_=u[w+4],x=u[w+5],b=u[w+6];break;default:v=this.getBezierValue(i,w,1,E-2),m=this.getBezierValue(i,w,2,E+18-2),g=this.getBezierValue(i,w,3,E+18*2-2),_=this.getBezierValue(i,w,4,E+18*3-2),x=this.getBezierValue(i,w,5,E+18*4-2),b=this.getBezierValue(i,w,6,E+18*5-2)}if(o==1)f.r=v,f.g=m,f.b=g,h.r=_,h.g=x,h.b=b;else{if(s==K.setup){var p=l.data.color,d=l.data.darkColor;f.r=p.r,f.g=p.g,f.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b}f.r+=(v-f.r)*o,f.g+=(m-f.g)*o,f.b+=(g-f.b)*o,h.r+=(_-h.r)*o,h.g+=(x-h.g)*o,h.b+=(b-h.b)*o}}},e}(rs),Lc=function(t){nr(e,t);function e(r,n){var i=t.call(this,r,[Pr.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){if(c==Wt.mixOut){s==K.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==K.setup||s==K.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[Fn.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}(Fn),U3=function(t){nr(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[Pr.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var v=(a-s*2+l)*.03,m=u*.03-c*.06,g=((s-l)*3-a+f)*.006,_=(c-u+.33333333)*.018,x=v*2+g,b=m*2+_,w=(s-a)*.3+v+g*.16666667,E=c*.3+m+_*.16666667,C=a+w,T=E,I=d+18;d<I;d+=2)p[d]=C,p[d+1]=T,w+=x,E+=b,x+=g,b+=_,C+=w,T+=E},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var c=a+18;for(a+=2;a<c;a+=2)if(i[a]>=r){var l=i[a-2],u=i[a-1];return u+(r-l)/(i[a]-l)*(i[a+1]-u)}var f=i[c-2],h=i[c-1];return h+(1-h)*(r-f)/(this.frames[n+this.getFrameEntries()]-f)},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof Os)||u.timelineAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=K.setup);var h=this.vertices,p=h[0].length,d=this.frames;if(i<d[0]){switch(s){case K.setup:f.length=0;return;case K.first:if(o==1){f.length=0;return}f.length=p;var v=u;if(v.bones){o=1-o;for(var g=0;g<p;g++)f[g]*=o}else for(var m=v.vertices,g=0;g<p;g++)f[g]+=(m[g]-f[g])*o}return}if(f.length=p,i>=d[d.length-1]){var _=h[d.length-1];if(o==1)if(s==K.add){var v=u;if(v.bones)for(var b=0;b<p;b++)f[b]+=_[b];else for(var m=v.vertices,x=0;x<p;x++)f[x]+=_[x]-m[x]}else ye.arrayCopy(_,0,f,0,p);else switch(s){case K.setup:{var w=u;if(w.bones)for(var T=0;T<p;T++)f[T]=_[T]*o;else for(var m=w.vertices,E=0;E<p;E++){var C=m[E];f[E]=C+(_[E]-C)*o}break}case K.first:case K.replace:for(var I=0;I<p;I++)f[I]+=(_[I]-f[I])*o;break;case K.add:var v=u;if(v.bones)for(var O=0;O<p;O++)f[O]+=_[O]*o;else for(var m=v.vertices,R=0;R<p;R++)f[R]+=(_[R]-m[R])*o}return}var P=Fn.search1(d,i),k=this.getCurvePercent(i,P),L=h[P],B=h[P+1];if(o==1)if(s==K.add){var v=u;if(v.bones)for(var ee=0;ee<p;ee++){var z=L[ee];f[ee]+=z+(B[ee]-z)*k}else for(var m=v.vertices,U=0;U<p;U++){var z=L[U];f[U]+=z+(B[U]-z)*k-m[U]}}else for(var ne=0;ne<p;ne++){var z=L[ne];f[ne]=z+(B[ne]-z)*k}else switch(s){case K.setup:{var W=u;if(W.bones)for(var H=0;H<p;H++){var z=L[H];f[H]=(z+(B[H]-z)*k)*o}else for(var m=W.vertices,D=0;D<p;D++){var z=L[D],C=m[D];f[D]=C+(z+(B[D]-z)*k-C)*o}break}case K.first:case K.replace:for(var G=0;G<p;G++){var z=L[G];f[G]+=(z+(B[G]-z)*k-f[G])*o}break;case K.add:var v=u;if(v.bones)for(var ie=0;ie<p;ie++){var z=L[ie];f[ie]+=(z+(B[ie]-z)*k)*o}else for(var m=v.vertices,V=0;V<p;V++){var z=L[V];f[V]+=(z+(B[V]-z)*k-m[V])*o}}}}},e}(rs),bb=function(t){nr(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,c){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,c),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var f=0;if(n<l[0])f=0;else{f=Fn.search1(l,n)+1;for(var h=l[f];f>0&&l[f-1]==h;)f--}for(;f<u&&i>=l[f];f++)a.push(this.events[f])}}},e.propertyIds=[""+Pr.event],e}(Fn),qh=function(t){nr(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){if(c==Wt.mixOut){s==K.setup&&ye.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==K.setup||s==K.first)&&ye.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=Fn.search1(this.frames,i),u=this.drawOrders[l];if(!u)ye.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var f=r.drawOrder,h=r.slots,p=0,d=u.length;p<d;p++)f[p]=h[u[p]]},e.propertyIds=[""+Pr.drawOrder],e}(Fn),j3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Pr.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case K.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var f=0,h=0,p=Fn.search(u,i,6),d=this.curves[p/6];switch(d){case 0:var v=u[p];f=u[p+1],h=u[p+2];var m=(i-v)/(u[p+6]-v);f+=(u[p+6+1]-f)*m,h+=(u[p+6+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}s==K.setup?(l.mix=l.data.mix+(f-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,c==Wt.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0)):(l.mix+=(f-l.mix)*o,l.softness+=(h-l.softness)*o,c==Wt.mixIn&&(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0))}},e}(rs),$3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Pr.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){var u=this.frames;r*=7,u[r]=n,u[r+1]=i,u[r+2]=a,u[r+3]=o,u[r+4]=s,u[r+5]=c,u[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var f=l.data;switch(s){case K.setup:l.mixRotate=f.mixRotate,l.mixX=f.mixX,l.mixY=f.mixY,l.mixScaleX=f.mixScaleX,l.mixScaleY=f.mixScaleY,l.mixShearY=f.mixShearY;return;case K.first:l.mixRotate+=(f.mixRotate-l.mixRotate)*o,l.mixX+=(f.mixX-l.mixX)*o,l.mixY+=(f.mixY-l.mixY)*o,l.mixScaleX+=(f.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(f.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(f.mixShearY-l.mixShearY)*o}return}var h,p,d,v,m,g,_=Fn.search(u,i,7),x=this.curves[_/7];switch(x){case 0:var b=u[_];h=u[_+1],p=u[_+2],d=u[_+3],v=u[_+4],m=u[_+5],g=u[_+6];var w=(i-b)/(u[_+7]-b);h+=(u[_+7+1]-h)*w,p+=(u[_+7+2]-p)*w,d+=(u[_+7+3]-d)*w,v+=(u[_+7+4]-v)*w,m+=(u[_+7+5]-m)*w,g+=(u[_+7+6]-g)*w;break;case 1:h=u[_+1],p=u[_+2],d=u[_+3],v=u[_+4],m=u[_+5],g=u[_+6];break;default:h=this.getBezierValue(i,_,1,x-2),p=this.getBezierValue(i,_,2,x+18-2),d=this.getBezierValue(i,_,3,x+18*2-2),v=this.getBezierValue(i,_,4,x+18*3-2),m=this.getBezierValue(i,_,5,x+18*4-2),g=this.getBezierValue(i,_,6,x+18*5-2)}if(s==K.setup){var f=l.data;l.mixRotate=f.mixRotate+(h-f.mixRotate)*o,l.mixX=f.mixX+(p-f.mixX)*o,l.mixY=f.mixY+(d-f.mixY)*o,l.mixScaleX=f.mixScaleX+(v-f.mixScaleX)*o,l.mixScaleY=f.mixScaleY+(m-f.mixScaleY)*o,l.mixShearY=f.mixShearY+(g-f.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(p-l.mixX)*o,l.mixY+=(d-l.mixY)*o,l.mixScaleX+=(v-l.mixScaleX)*o,l.mixScaleY+=(m-l.mixScaleY)*o,l.mixShearY+=(g-l.mixShearY)*o}},e}(rs),G3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.position=l.data.position;return;case K.first:l.position+=(l.data.position-l.position)*o}return}var f=this.getCurveValue(i);s==K.setup?l.position=l.data.position+(f-l.data.position)*o:l.position+=(f-l.position)*o}},e}(ns),V3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,Pr.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.spacing=l.data.spacing;return;case K.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var f=this.getCurveValue(i);s==K.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*o:l.spacing+=(f-l.spacing)*o}},e}(ns),H3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,n,[Pr.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case K.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case K.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var f,h,p,d=Fn.search(u,i,4),v=this.curves[d>>2];switch(v){case 0:var m=u[d];f=u[d+1],h=u[d+2],p=u[d+3];var g=(i-m)/(u[d+4]-m);f+=(u[d+4+1]-f)*g,h+=(u[d+4+2]-h)*g,p+=(u[d+4+3]-p)*g;break;case 1:f=u[d+1],h=u[d+2],p=u[d+3];break;default:f=this.getBezierValue(i,d,1,v-2),h=this.getBezierValue(i,d,2,v+18-2),p=this.getBezierValue(i,d,3,v+18*2-2)}if(s==K.setup){var _=l.data;l.mixRotate=_.mixRotate+(f-_.mixRotate)*o,l.mixX=_.mixX+(h-_.mixX)*o,l.mixY=_.mixY+(p-_.mixY)*o}else l.mixRotate+=(f-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(p-l.mixY)*o}},e}(rs),X3=function(t){nr(e,t);function e(r,n,i){var a=t.call(this,r,[Pr.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,f=this.attachment;if(!(u!=f&&(!(u instanceof Os)||u.timelineAttachment!=f))){var h=this.frames;if(i<h[0]){(s==K.setup||s==K.first)&&(l.sequenceIndex=-1);return}var p=Fn.search(h,i,e.ENTRIES),d=h[p],v=h[p+e.MODE],m=h[p+e.DELAY];if(this.attachment.sequence){var g=v>>4,_=this.attachment.sequence.regions.length,x=S3[v&15];if(x!=xi.hold)switch(g+=(i-d)/m+1e-5|0,x){case xi.once:g=Math.min(_-1,g);break;case xi.loop:g%=_;break;case xi.pingpong:{var b=(_<<1)-2;g=b==0?0:g%b,g>=_&&(g=b-g);break}case xi.onceReverse:g=Math.max(_-1-g,0);break;case xi.loopReverse:g=_-1-g%_;break;case xi.pingpongReverse:{var b=(_<<1)-2;g=b==0?0:(g+_-1)%b,g>=_&&(g=b-g)}}l.sequenceIndex=g}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}(Fn),ZW=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new QW(this),this.propertyIDs=new oW,this.animationsChanged=!1,this.trackEntryPool=new pb(function(){return new JW}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var c=a==0?K.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=f,p=r;s.reverse&&(h=s.animation.duration-h,p=null);var d=s.animation.timelines,v=d.length;if(a==0&&l==1||c==K.add)for(var m=0;m<v;m++){ye.webkit602BugfixHelper(l,c);var g=d[m];g instanceof Lc?this.applyAttachmentTimeline(g,e,h,c,!0):g.apply(e,u,h,p,l,c,Wt.mixIn)}else{var _=s.timelineMode,x=s.shortestRotation,b=!x&&s.timelinesRotation.length!=v<<1;b&&(s.timelinesRotation.length=v<<1);for(var m=0;m<v;m++){var w=d[m],E=_[m]==cC?c:K.setup;!x&&w instanceof Bv?this.applyRotateTimeline(w,e,h,l,E,s.timelinesRotation,m<<1,b):w instanceof Lc?this.applyAttachmentTimeline(w,e,h,c,!0):(ye.webkit602BugfixHelper(l,c),w.apply(e,u,h,p,l,E,Wt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var C=this.unkeyedState+BU,T=e.slots,I=0,R=e.slots.length;I<R;I++){var O=T[I];if(O.attachmentState==C){var P=O.data.attachmentName;O.setAttachment(P?e.getAttachment(O.data.index,P):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==K.first&&(n=K.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=K.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,c=i.animation.timelines,l=c.length,u=i.alpha*e.interruptAlpha,f=u*(1-a),h=i.animationLast,p=i.getAnimationTime(),d=p,v=null;if(i.reverse?d=i.animation.duration-d:a<i.eventThreshold&&(v=this.events),n==K.add)for(var m=0;m<l;m++)c[m].apply(r,h,d,v,f,n,Wt.mixOut);else{var g=i.timelineMode,_=i.timelineHoldMix,x=i.shortestRotation,b=!x&&i.timelinesRotation.length!=l<<1;b&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var m=0;m<l;m++){var w=c[m],E=Wt.mixOut,C=void 0,T=0;switch(g[m]){case cC:if(!s&&w instanceof qh)continue;C=n,T=f;break;case LU:C=K.setup,T=f;break;case MU:C=n,T=u;break;case fC:C=K.setup,T=u;break;default:C=K.setup;var I=_[m];T=u*Math.max(0,1-I.mixTime/I.mixDuration);break}i.totalAlpha+=T,!x&&w instanceof Bv?this.applyRotateTimeline(w,r,d,T,C,i.timelinesRotation,m<<1,b):w instanceof Lc?this.applyAttachmentTimeline(w,r,d,C,o):(ye.webkit602BugfixHelper(T,n),s&&w instanceof qh&&C==K.setup&&(E=Wt.mixIn),w.apply(r,h,d,v,T,C,E))}}return e.mixDuration>0&&this.queueEvents(i,p),this.events.length=0,i.nextAnimationLast=p,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==K.setup||i==K.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[Fn.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+BU))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+U$e)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,Wt.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var u=e.frames,f=0,h=0;if(n<u[0])switch(a){case K.setup:l.rotation=l.data.rotation;default:return;case K.first:f=l.rotation,h=l.data.rotation}else f=a==K.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var p=0,d=h-f;if(d-=(16384-(16384.499999999996-d/360|0))*360,d==0)p=o[s];else{var v=0,m=0;c?(v=0,m=d):(v=o[s],m=o[s+1]);var g=d>0,_=v>=0;te.signum(m)!=te.signum(d)&&Math.abs(m)<=90&&(Math.abs(v)>180&&(v+=360*te.signum(v)),_=g),p=d+v-v%360,_!=g&&(p+=360*te.signum(v)),o[s]=p}o[s+1]=d,l.rotation=f+p*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(ye.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=K.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=K.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.addAll(n[c].getPropertyIds())?fC:MU;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyIds();if(!s.addAll(u))a[c]=cC;else if(!r||l instanceof Lc||l instanceof qh||l instanceof bb||!r.animation.hasTimeline(u))a[c]=LU;else{for(var f=r.mixingTo;f;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=D$e,o[c]=f;continue e}break}a[c]=fC}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new yb("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),JW=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=K.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),QW=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ca.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ca.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ca.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ca.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ca.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ca.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ca.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case ca.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case ca.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case ca.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case ca.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case ca.event:var c=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,c)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),ca;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ca||(ca={}));var B$e=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),cC=0,LU=1,MU=2,fC=3,D$e=4,BU=1,U$e=2,eY=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),z3=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),c=this.atlas.findRegion(s);if(c==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=c,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new w3(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new _b(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new YW(r)},t.prototype.newPathAttachment=function(e,r){return new Mv(r)},t.prototype.newPointAttachment=function(e,r){return new KW(r)},t.prototype.newClippingAttachment=function(e,r){return new qW(r)},t}(),aR=function(){function t(e,r,n){if(this.matrix=new nn,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(!c){var h=this.skeleton,p=n+90+s;l.a=te.cosDeg(n+o)*i*u,l.c=te.cosDeg(p)*a*u,l.b=te.sinDeg(n+o)*i*f,l.d=te.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,v=c.matrix.c,m=c.matrix.b,g=c.matrix.d;switch(l.tx=d*e+v*r+c.matrix.tx,l.ty=m*e+g*r+c.matrix.ty,this.data.transformMode){case Bt.Normal:{var p=n+90+s,_=te.cosDeg(n+o)*i,x=te.cosDeg(p)*a,b=te.sinDeg(n+o)*i,w=te.sinDeg(p)*a;l.a=d*_+v*b,l.c=d*x+v*w,l.b=m*_+g*b,l.d=m*x+g*w;return}case Bt.OnlyTranslation:{var p=n+90+s;l.a=te.cosDeg(n+o)*i,l.c=te.cosDeg(p)*a,l.b=te.sinDeg(n+o)*i,l.d=te.sinDeg(p)*a;break}case Bt.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*g-v*m)/E,d/=u,m/=f,v=m*E,g=d*E,C=Math.atan2(m,d)*te.radDeg):(d=0,m=0,C=90-Math.atan2(g,v)*te.radDeg);var T=n+o-C,I=n+s-C+90,_=te.cosDeg(T)*i,x=te.cosDeg(I)*a,b=te.sinDeg(T)*i,w=te.sinDeg(I)*a;l.a=d*_-v*b,l.c=d*x-v*w,l.b=m*_+g*b,l.d=m*x+g*w;break}case Bt.NoScale:case Bt.NoScaleOrReflection:{var R=te.cosDeg(n),O=te.sinDeg(n),P=(d*R+v*O)/u,k=(m*R+g*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==Bt.NoScale&&d*g-v*m<0!=(u<0!=f<0)&&(E=-E);var L=Math.PI/2+Math.atan2(k,P),B=Math.cos(L)*E,U=Math.sin(L)*E,_=te.cosDeg(o)*i,x=te.cosDeg(90+s)*a,b=te.sinDeg(o)*i,w=te.sinDeg(90+s)*a;l.a=P*_+B*b,l.c=P*x+B*w,l.b=k*_+U*b,l.d=k*x+U*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*te.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*te.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*te.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*te.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var v=f*d-h*p;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,v)*te.radDeg,this.arotation=Math.atan2(p,f)*te.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*te.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*te.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=te.sinDeg(e),n=te.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*te.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=te.cosDeg(e),c=te.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o},t}(),W3=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Bt.Normal,this.skinRequired=!1,this.color=new tt,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),wb=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),Y3=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),q3=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),tY=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var c=e.parent.matrix;if(!c)throw new Error("IK bone must have parent.");var l=c.a,u=c.c,f=c.b,h=c.d,p=-e.ashearX-e.arotation,d=0,v=0,m=e.skeleton.scaleX,g=-e.skeleton.scaleY;switch(e.data.transformMode){case Bt.OnlyTranslation:d=r-e.worldX,v=n-e.worldY,v=-v;break;case Bt.NoRotationOrReflection:var _=Math.abs(l*h-u*f)/(l*l+f*f),x=l/m,b=f/g;u=-b*_*m,h=x*_*g,p+=Math.atan2(b,x)*te.radDeg;default:var w=r-c.tx,E=n-c.ty,C=l*h-u*f;d=(w*h-E*u)/C-e.ax,v=(E*l-w*f)/C-e.ay}p+=Math.atan2(v,d)*te.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var T=e.ascaleX,I=e.ascaleY;if(i||a){switch(e.data.transformMode){case Bt.NoScale:case Bt.NoScaleOrReflection:d=r-e.worldX,v=n-e.worldY}var R=e.data.length*T,O=Math.sqrt(d*d+v*v);if(i&&O<R||a&&O>R&&R>1e-4){var _=(O/R-1)*s+1;T*=_,o&&(I*=_)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,T,I,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c,l){var u=e.ax,f=e.ay,h=e.ascaleX,p=e.ascaleY,d=h,v=p,m=r.ascaleX,g=e.matrix,_=0,x=0,b=0;h<0?(h=-h,_=180,b=-1):(_=0,b=1),p<0&&(p=-p,b=-b),m<0?(m=-m,x=180):x=0;var w=r.ax,E=0,C=0,T=0,I=g.a,R=g.c,O=g.b,P=g.d,k=Math.abs(h-p)<=1e-4;!k||o?(E=0,C=I*w+g.tx,T=O*w+g.ty):(E=r.ay,C=I*w+R*E+g.tx,T=O*w+P*E+g.ty);var L=e.parent.matrix;if(!L)throw new Error("IK parent must itself have a parent.");I=L.a,R=L.c,O=L.b,P=L.d;var B=1/(I*P-R*O),U=C-L.tx,z=T-L.ty,ee=(U*P-z*R)*B-u,ne=(z*I-U*O)*B-f,W=Math.sqrt(ee*ee+ne*ne),D=r.data.length*m,H,G;if(W<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(w,E,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}U=n-L.tx,z=i-L.ty;var V=(U*P-z*R)*B-u,ie=(z*I-U*O)*B-f,se=V*V+ie*ie;if(c!=0){c*=h*(m+1)*.5;var ge=Math.sqrt(se),ue=ge-W-D*h+c;if(ue>0){var we=Math.min(1,ue/(c*2))-1;we=(ue-c*(1-we*we))/ge,V-=we*V,ie-=we*ie,se=V*V+ie*ie}}e:if(k){D*=h;var Be=(se-W*W-D*D)/(2*W*D);Be<-1?(Be=-1,G=Math.PI*a):Be>1?(Be=1,G=0,o&&(I=(Math.sqrt(se)/(W+D)-1)*l+1,d*=I,s&&(v*=I))):G=Math.acos(Be)*a,I=W+D*Be,R=D*Math.sin(G),H=Math.atan2(ie*I-V*R,V*I+ie*R)}else{I=h*D,R=p*D;var Fe=I*I,Ee=R*R,Te=Math.atan2(ie,V);O=Ee*W*W+Fe*se-Fe*Ee;var Ge=-2*Ee*W,We=Ee-Fe;if(P=Ge*Ge-4*We*O,P>=0){var Ve=Math.sqrt(P);Ge<0&&(Ve=-Ve),Ve=-(Ge+Ve)*.5;var Xe=Ve/We,qe=O/Ve,wt=Math.abs(Xe)<Math.abs(qe)?Xe:qe;if(wt*wt<=se){z=Math.sqrt(se-wt*wt)*a,H=Te-Math.atan2(z,wt),G=Math.atan2(z/p,(wt-W)/h);break e}}var At=te.PI,ct=W-I,ft=ct*ct,Et=0,Qt=0,Vt=W+I,er=Vt*Vt,$t=0;O=-I*W/(Fe-Ee),O>=-1&&O<=1&&(O=Math.acos(O),U=I*Math.cos(O)+W,z=R*Math.sin(O),P=U*U+z*z,P<ft&&(At=O,ft=P,ct=U,Et=z),P>er&&(Qt=O,er=P,Vt=U,$t=z)),se<=(ft+er)*.5?(H=Te-Math.atan2(Et*a,ct),G=At*a):(H=Te-Math.atan2($t*a,Vt),G=Qt*a)}var yt=Math.atan2(E,w)*b,Yt=e.arotation;H=(H-yt)*te.radDeg+_-Yt,H>180?H-=360:H<-180&&(H+=360),e.updateWorldTransformWith(u,f,Yt+H*l,d,v,0,0),Yt=r.arotation,G=((G+yt)*te.radDeg-r.ashearX)*b+x-Yt,G>180?G-=360:G<-180&&(G+=360),r.updateWorldTransformWith(w,E,Yt+G*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),K3=function(t){nr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(wb),Z3=function(t){nr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=pn.Fixed,n.spacingMode=Zn.Fixed,n.rotateMode=On.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(wb),Zn;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(Zn||(Zn={}));var rY=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Mv){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==On.Tangent,s=a.rotateMode==On.ChainScale,c=this.bones,l=c.length,u=o?l:l+1,f=ye.setArraySize(this.spaces,u),h=s?this.lengths=ye.setArraySize(this.lengths,l):[],p=this.spacing;switch(a.spacingMode){case Zn.Percent:if(s)for(var d=0,v=u-1;d<v;d++){var m=c[d],g=m.data.length;if(g<t.epsilon)h[d]=0;else{var _=g*m.matrix.a,x=g*m.matrix.b;h[d]=Math.sqrt(_*_+x*x)}}ye.arrayFill(f,1,u,p);break;case Zn.Proportional:for(var b=0,d=0,v=u-1;d<v;){var m=c[d],g=m.data.length;if(g<t.epsilon)s&&(h[d]=0),f[++d]=p;else{var _=g*m.matrix.a,x=g*m.matrix.b,w=Math.sqrt(_*_+x*x);s&&(h[d]=w),f[++d]=w,b+=w}}if(b>0){b=u/b*p;for(var d=1;d<u;d++)f[d]*=b}break;default:for(var E=a.spacingMode==Zn.Length,d=0,v=u-1;d<v;){var m=c[d],g=m.data.length;if(g<t.epsilon)s&&(h[d]=0),f[++d]=p;else{var _=g*m.matrix.a,x=g*m.matrix.b,C=Math.sqrt(_*_+x*x);s&&(h[d]=C),f[++d]=(E?g+p:p)*C/g}}}var T=this.computeWorldPositions(e,u,o),I=T[0],R=T[1],O=a.offsetRotation,P=!1;if(O==0)P=a.rotateMode==On.Chain;else{P=!1;var k=this.target.bone.matrix;O*=k.a*k.d-k.b*k.c>0?te.degRad:-te.degRad}for(var d=0,k=3;d<l;d++,k+=3){var m=c[d],L=m.matrix;L.tx+=(I-L.tx)*n,L.ty+=(R-L.ty)*i;var _=T[k],x=T[k+1],B=_-I,U=x-R;if(s){var z=h[d];if(z!=0){var ee=(Math.sqrt(B*B+U*U)/z-1)*r+1;L.a*=ee,L.b*=ee}}if(I=_,R=x,r>0){var ne=L.a,W=L.c,D=L.b,H=L.d,G=0,V=0,ie=0;if(o?G=T[k-1]:f[d+1]==0?G=T[k+2]:G=Math.atan2(U,B),G-=Math.atan2(D,ne),P){V=Math.cos(G),ie=Math.sin(G);var se=m.data.length;I+=(se*(V*ne-ie*D)-B)*r,R+=(se*(ie*ne+V*D)-U)*r}else G+=O;G>te.PI?G-=te.PI2:G<-te.PI&&(G+=te.PI2),G*=r,V=Math.cos(G),ie=Math.sin(G),L.a=V*ne-ie*D,L.c=V*W-ie*H,L.b=ie*ne+V*D,L.d=ie*W+V*H}m.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=ye.setArraySize(this.positions,r*3+2),c=this.world,l=e.closed,u=e.worldVerticesLength,f=u/6,h=t.NONE;if(!e.constantSpeed){var p=e.lengths;f-=l?1:2;var d=p[f];this.data.positionMode==pn.Percent&&(a*=d);var v;switch(this.data.spacingMode){case Zn.Percent:v=d;break;case Zn.Proportional:v=d/r;break;default:v=1}c=ye.setArraySize(this.world,8);for(var m=0,g=0,_=0;m<r;m++,g+=3){var x=o[m]*v;a+=x;var b=a;if(l)b%=d,b<0&&(b+=d),_=0;else if(b<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,c,0,2)),this.addBeforePosition(b,c,0,s,g);continue}else if(b>d){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,u-6,4,c,0,2)),this.addAfterPosition(b-d,c,0,s,g);continue}for(;;_++){var w=p[_];if(!(b>w)){if(_==0)b/=w;else{var E=p[_-1];b=(b-E)/(w-E)}break}}_!=h&&(h=_,l&&_==f?(e.computeWorldVertices(i,u-4,4,c,0,2),e.computeWorldVertices(i,0,4,c,4,2)):e.computeWorldVertices(i,_*6+2,8,c,0,2)),this.addCurvePosition(b,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],s,g,n||m>0&&x==0)}return s}l?(u+=2,c=ye.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,c,0,2),e.computeWorldVertices(i,0,2,c,u-4,2),c[u-2]=c[0],c[u-1]=c[1]):(f--,u-=4,c=ye.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,c,0,2));for(var C=ye.setArraySize(this.curves,f),T=0,I=c[0],R=c[1],O=0,P=0,k=0,L=0,B=0,U=0,z=0,ee=0,ne=0,W=0,D=0,H=0,G=0,V=0,m=0,ie=2;m<f;m++,ie+=6)O=c[ie],P=c[ie+1],k=c[ie+2],L=c[ie+3],B=c[ie+4],U=c[ie+5],z=(I-O*2+k)*.1875,ee=(R-P*2+L)*.1875,ne=((O-k)*3-I+B)*.09375,W=((P-L)*3-R+U)*.09375,D=z*2+ne,H=ee*2+W,G=(O-I)*.75+z+ne*.16666667,V=(P-R)*.75+ee+W*.16666667,T+=Math.sqrt(G*G+V*V),G+=D,V+=H,D+=ne,H+=W,T+=Math.sqrt(G*G+V*V),G+=D,V+=H,T+=Math.sqrt(G*G+V*V),G+=D+ne,V+=H+W,T+=Math.sqrt(G*G+V*V),C[m]=T,I=B,R=U;this.data.positionMode==pn.Percent&&(a*=T);var se;switch(this.data.spacingMode){case Zn.Percent:se=T;break;case Zn.Proportional:se=T/r;break;default:se=1}for(var ge=this.segments,ue=0,m=0,g=0,_=0,we=0;m<r;m++,g+=3){var x=o[m]*se;a+=x;var b=a;if(l)b%=T,b<0&&(b+=T),_=0;else if(b<0){this.addBeforePosition(b,c,0,s,g);continue}else if(b>T){this.addAfterPosition(b-T,c,u-4,s,g);continue}for(;;_++){var Be=C[_];if(!(b>Be)){if(_==0)b/=Be;else{var E=C[_-1];b=(b-E)/(Be-E)}break}}if(_!=h){h=_;var Fe=_*6;for(I=c[Fe],R=c[Fe+1],O=c[Fe+2],P=c[Fe+3],k=c[Fe+4],L=c[Fe+5],B=c[Fe+6],U=c[Fe+7],z=(I-O*2+k)*.03,ee=(R-P*2+L)*.03,ne=((O-k)*3-I+B)*.006,W=((P-L)*3-R+U)*.006,D=z*2+ne,H=ee*2+W,G=(O-I)*.3+z+ne*.16666667,V=(P-R)*.3+ee+W*.16666667,ue=Math.sqrt(G*G+V*V),ge[0]=ue,Fe=1;Fe<8;Fe++)G+=D,V+=H,D+=ne,H+=W,ue+=Math.sqrt(G*G+V*V),ge[Fe]=ue;G+=D,V+=H,ue+=Math.sqrt(G*G+V*V),ge[8]=ue,G+=D+ne,V+=H+W,ue+=Math.sqrt(G*G+V*V),ge[9]=ue,we=0}for(b*=ue;;we++){var Ee=ge[we];if(!(b>Ee)){if(we==0)b/=Ee;else{var E=ge[we-1];b=we+(b-E)/(Ee-E)}break}}this.addCurvePosition(b*.1,I,R,O,P,k,L,B,U,s,g,n||m>0&&x==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){if(e==0||isNaN(e)){u[f]=r,u[f+1]=n,u[f+2]=Math.atan2(a-n,i-r);return}var p=e*e,d=p*e,v=1-e,m=v*v,g=m*v,_=v*e,x=_*3,b=v*x,w=x*e,E=r*g+i*b+o*w+c*d,C=n*g+a*b+s*w+l*d;u[f]=E,u[f+1]=C,h&&(e<.001?u[f+2]=Math.atan2(a-n,i-r):u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),nY=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new tt,this.darkColor=e.darkColor?new tt:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof Os)||!(this.attachment instanceof Os)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),iY=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new Av,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,p=l.d,d=u*p-f*h>0?te.degRad:-te.degRad,v=this.data.offsetRotation*d,m=this.data.offsetShearY*d,g=this.bones,_=0,x=g.length;_<x;_++){var b=g[_],w=b.matrix;if(e!=0){var E=w.a,C=w.c,T=w.b,I=w.d,R=Math.atan2(h,u)-Math.atan2(T,E)+v;R>te.PI?R-=te.PI2:R<-te.PI&&(R+=te.PI2),R*=e;var O=Math.cos(R),P=Math.sin(R);w.a=O*E-P*T,w.c=O*C-P*I,w.b=P*E+O*T,w.d=P*C+O*I}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),w.tx+=(k.x-w.tx)*r,w.ty+=(k.y-w.ty)*n}if(i!=0){var L=Math.sqrt(w.a*w.a+w.b*w.b);L!=0&&(L=(L+(Math.sqrt(u*u+h*h)-L+this.data.offsetScaleX)*i)/L),w.a*=L,w.b*=L}if(a!=0){var L=Math.sqrt(w.c*w.c+w.d*w.d);L!=0&&(L=(L+(Math.sqrt(f*f+p*p)-L+this.data.offsetScaleY)*a)/L),w.c*=L,w.d*=L}if(o>0){var C=w.c,I=w.d,B=Math.atan2(I,C),R=Math.atan2(p,f)-Math.atan2(h,u)-(B-Math.atan2(w.b,w.a));R>te.PI?R-=te.PI2:R<-te.PI&&(R+=te.PI2),R=B+(R+m)*o;var L=Math.sqrt(C*C+I*I);w.c=Math.cos(R)*L,w.d=Math.sin(R)*L}b.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,p=l.d,d=u*p-f*h>0?te.degRad:-te.degRad,v=this.data.offsetRotation*d,m=this.data.offsetShearY*d,g=this.bones,_=0,x=g.length;_<x;_++){var b=g[_],w=b.matrix;if(e!=0){var E=w.a,C=w.c,T=w.b,I=w.d,R=Math.atan2(h,u)+v;R>te.PI?R-=te.PI2:R<-te.PI&&(R+=te.PI2),R*=e;var O=Math.cos(R),P=Math.sin(R);w.a=O*E-P*T,w.c=O*C-P*I,w.b=P*E+O*T,w.d=P*C+O*I}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),w.tx+=k.x*r,w.ty+=k.y*n}if(i!=0){var L=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;w.a*=L,w.b*=L}if(a!=0){var L=(Math.sqrt(f*f+p*p)-1+this.data.offsetScaleY)*a+1;w.c*=L,w.d*=L}if(o>0){var R=Math.atan2(p,f)-Math.atan2(h,u);R>te.PI?R-=te.PI2:R<-te.PI&&(R+=te.PI2);var C=w.c,I=w.d;R=Math.atan2(I,C)+(R-te.PI/2+m)*o;var L=Math.sqrt(C*C+I*I);w.c=Math.cos(R)*L,w.d=Math.sin(R)*L}b.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation;if(e!=0){var p=s.arotation-h+this.data.offsetRotation;p-=(16384-(16384.499999999996-p/360|0))*360,h+=p*e}var d=f.ax,v=f.ay;d+=(s.ax-d+this.data.offsetX)*r,v+=(s.ay-v+this.data.offsetY)*n;var m=f.ascaleX,g=f.ascaleY;i!=0&&m!=0&&(m=(m+(s.ascaleX-m+this.data.offsetScaleX)*i)/m),a!=0&&g!=0&&(g=(g+(s.ascaleY-g+this.data.offsetScaleY)*a)/g);var _=f.ashearY;if(o!=0){var p=s.ashearY-_+this.data.offsetShearY;p-=(16384-(16384.499999999996-p/360|0))*360,_+=p*o}f.updateWorldTransformWith(d,v,h,m,g,f.ashearX,_)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation+(s.arotation+this.data.offsetRotation)*e,p=f.ax+(s.ax+this.data.offsetX)*r,d=f.ay+(s.ay+this.data.offsetY)*n,v=f.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),m=f.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),g=f.ashearY+(s.ashearY+this.data.offsetShearY)*o;f.updateWorldTransformWith(p,d,h,v,m,f.ashearX,g)}},t}(),aY=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new aR(n,this,null);else{var a=this.bones[n.parent.index];i=new aR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new nY(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new tY(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new iY(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new rY(u,this))}this.color=new tt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,p=u+f+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var v=s[d];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var d=0;d<f;d++){var v=c[d];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var d=0;d<h;d++){var v=l[d];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Mv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&ye.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Mv){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,c=te.cosDeg(r.rotation+r.shearX)*r.scaleX,l=te.cosDeg(s)*r.scaleY,u=te.sinDeg(r.rotation+r.shearX)*r.scaleX,f=te.sinDeg(s)*r.scaleY,h=this.scaleX,p=-this.scaleY;r.matrix.a=(n*c+i*u)*h,r.matrix.c=(n*l+i*f)*h,r.matrix.b=(a*c+o*u)*p,r.matrix.d=(a*l+o*f)*p;for(var d=this._updateCache,v=0,m=d.length;v<m;v++){var g=d[v];g!=r&&g.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;ye.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new Av,r=new Av;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof w3)h=8,p=ye.setArraySize(n,h,0),d.computeWorldVertices(f,p,0,2);else if(d instanceof _b){var v=d;h=v.worldVerticesLength,p=ye.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,p,0,2)}if(p)for(var m=0,g=p.length;m<g;m+=2){var _=p[m],x=p[m+1];a=Math.min(a,_),o=Math.min(o,x),s=Math.max(s,_),c=Math.max(c,x)}}}e.set(a,o),r.set(s-a,c-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),J3=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),Q3=function(){function t(e,r,n){if(this.index=0,this.color=new tt(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=st.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),e4=function(t){nr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(wb),oR=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),vx=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment&&(c.attachment instanceof _b?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new oR(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new oR(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u&&a.setAttachment(u);break}}}n++}},t}(),oY=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new J3;n.name="";var i=new cx(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var c="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(c)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var f=0;f<u;f++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}u=i.readInt(!0);for(var f=0;f<u;f++){var p=i.readString();if(!p)throw new Error("Bone name must not be null.");var d=f==0?null:n.bones[i.readInt(!0)],v=new W3(f,p,d);v.rotation=i.readFloat(),v.x=i.readFloat()*r,v.y=i.readFloat()*r,v.scaleX=i.readFloat(),v.scaleY=i.readFloat(),v.shearX=i.readFloat(),v.shearY=i.readFloat(),v.length=i.readFloat()*r,v.transformMode=i.readInt(!0),v.skinRequired=i.readBoolean(),l&&tt.rgba8888ToColor(v.color,i.readInt32()),n.bones.push(v)}u=i.readInt(!0);for(var f=0;f<u;f++){var m=i.readString();if(!m)throw new Error("Slot name must not be null.");var g=n.bones[i.readInt(!0)],v=new Q3(f,m,g);tt.rgba8888ToColor(v.color,i.readInt32());var _=i.readInt32();_!=-1&&tt.rgb888ToColor(v.darkColor=new tt,_),v.attachmentName=i.readStringRef(),v.blendMode=i.readInt(!0),n.slots.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var b=i.readString();if(!b)throw new Error("IK constraint data name must not be null.");var v=new K3(b);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var w=0;w<x;w++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.mix=i.readFloat(),v.softness=i.readFloat()*r,v.bendDirection=i.readByte(),v.compress=i.readBoolean(),v.stretch=i.readBoolean(),v.uniform=i.readBoolean(),n.ikConstraints.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var E=i.readString();if(!E)throw new Error("Transform constraint data name must not be null.");var v=new e4(E);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var w=0;w<x;w++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.local=i.readBoolean(),v.relative=i.readBoolean(),v.offsetRotation=i.readFloat(),v.offsetX=i.readFloat()*r,v.offsetY=i.readFloat()*r,v.offsetScaleX=i.readFloat(),v.offsetScaleY=i.readFloat(),v.offsetShearY=i.readFloat(),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),v.mixScaleX=i.readFloat(),v.mixScaleY=i.readFloat(),v.mixShearY=i.readFloat(),n.transformConstraints.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var C=i.readString();if(!C)throw new Error("Path constraint data name must not be null.");var v=new Z3(C);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var w=0;w<x;w++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.slots[i.readInt(!0)],v.positionMode=i.readInt(!0),v.spacingMode=i.readInt(!0),v.rotateMode=i.readInt(!0),v.offsetRotation=i.readFloat(),v.position=i.readFloat(),v.positionMode==pn.Fixed&&(v.position*=r),v.spacing=i.readFloat(),(v.spacingMode==Zn.Length||v.spacingMode==Zn.Fixed)&&(v.spacing*=r),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),n.pathConstraints.push(v)}var T=this.readSkin(i,n,!0,l);T&&(n.defaultSkin=T,n.skins.push(T));{var f=n.skins.length;for(ye.setArraySize(n.skins,u=f+i.readInt(!0));f<u;f++){var I=this.readSkin(i,n,!1,l);if(!I)throw new Error("readSkin() should not have returned null.");n.skins[f]=I}}u=this.linkedMeshes.length;for(var f=0;f<u;f++){var R=this.linkedMeshes[f],I=R.skin?n.findSkin(R.skin):n.defaultSkin;if(!I)throw new Error("Not skin found for linked mesh.");if(!R.parent)throw new Error("Linked mesh parent must not be null");var O=I.getAttachment(R.slotIndex,R.parent);if(!O)throw new Error("Parent mesh not found: "+R.parent);R.mesh.timelineAttachment=R.inheritTimeline?O:R.mesh,R.mesh.setParentMesh(O)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var f=0;f<u;f++){var P=i.readStringRef();if(!P)throw new Error;var v=new q3(P);v.intValue=i.readInt(!1),v.floatValue=i.readFloat(),v.stringValue=i.readString(),v.audioPath=i.readString(),v.audioPath&&(v.volume=i.readFloat(),v.balance=i.readFloat()),n.events.push(v)}u=i.readInt(!0);for(var f=0;f<u;f++){var k=i.readString();if(!k)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,k,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new vx("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new vx(s),a.bones.length=e.readInt(!0);for(var c=0,l=a.bones.length;c<l;c++)a.bones[c]=r.bones[e.readInt(!0)];for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var c=0;c<o;c++)for(var u=e.readInt(!0),f=0,h=e.readInt(!0);f<h;f++){var p=e.readStringRef();if(!p)throw new Error("Attachment name must not be null");var d=this.readAttachment(e,r,a,u,p,i);d&&a.setAttachment(u,p,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();switch(c||(c=a),e.readByte()){case Zt.Region:{var l=e.readStringRef(),u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),v=e.readFloat(),m=e.readFloat(),g=e.readInt32(),_=this.readSequence(e);l||(l=c);var x=this.attachmentLoader.newRegionAttachment(n,c,l,_);return x?(x.path=l,x.x=f*s,x.y=h*s,x.scaleX=p,x.scaleY=d,x.rotation=u,x.width=v*s,x.height=m*s,tt.rgba8888ToColor(x.color,g),x.sequence=_,_==null&&x.updateRegion(),x):null}case Zt.BoundingBox:{var b=e.readInt(!0),w=this.readVertices(e,b),g=o?e.readInt32():0,E=this.attachmentLoader.newBoundingBoxAttachment(n,c);return E?(E.worldVerticesLength=b<<1,E.vertices=w.vertices,E.bones=w.bones,o&&tt.rgba8888ToColor(E.color,g),E):null}case Zt.Mesh:{var l=e.readStringRef(),g=e.readInt32(),b=e.readInt(!0),C=this.readFloatArray(e,b<<1,1),T=this.readShortArray(e),w=this.readVertices(e,b),I=e.readInt(!0),_=this.readSequence(e),R=[],v=0,m=0;o&&(R=this.readShortArray(e),v=e.readFloat(),m=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,_);return O?(O.path=l,tt.rgba8888ToColor(O.color,g),O.bones=w.bones,O.vertices=w.vertices,O.worldVerticesLength=b<<1,O.triangles=T,O.regionUVs=new Float32Array(C),O.hullLength=I<<1,O.sequence=_,o&&(O.edges=R,O.width=v*s,O.height=m*s),O):null}case Zt.LinkedMesh:{var l=e.readStringRef(),g=e.readInt32(),P=e.readStringRef(),k=e.readStringRef(),L=e.readBoolean(),_=this.readSequence(e),v=0,m=0;o&&(v=e.readFloat(),m=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,_);return O?(O.path=l,tt.rgba8888ToColor(O.color,g),O.sequence=_,o&&(O.width=v*s,O.height=m*s),this.linkedMeshes.push(new j$e(O,P,i,k,L)),O):null}case Zt.Path:{for(var B=e.readBoolean(),U=e.readBoolean(),b=e.readInt(!0),w=this.readVertices(e,b),z=ye.newArray(b/3,0),ee=0,ne=z.length;ee<ne;ee++)z[ee]=e.readFloat()*s;var g=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,c);return l?(l.closed=B,l.constantSpeed=U,l.worldVerticesLength=b<<1,l.vertices=w.vertices,l.bones=w.bones,l.lengths=z,o&&tt.rgba8888ToColor(l.color,g),l):null}case Zt.Point:{var u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),g=o?e.readInt32():0,W=this.attachmentLoader.newPointAttachment(n,c);return W?(W.x=f*s,W.y=h*s,W.rotation=u,o&&tt.rgba8888ToColor(W.color,g),W):null}case Zt.Clipping:{var D=e.readInt(!0),b=e.readInt(!0),w=this.readVertices(e,b),g=o?e.readInt32():0,H=this.attachmentLoader.newClippingAttachment(n,c);return H?(H.endSlot=r.slots[D],H.worldVerticesLength=b<<1,H.vertices=w.vertices,H.bones=w.bones,o&&tt.rgba8888ToColor(H.color,g),H):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new E3(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?DU:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new $$e;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=ye.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var c=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var f=e.readByte(),h=e.readInt(!0),p=h-1;switch(f){case J$e:{for(var d=new Lc(h,c),v=0;v<h;v++)d.setFrame(v,e.readFloat(),e.readStringRef());i.push(d);break}case Q$e:{for(var m=e.readInt(!0),d=new N3(h,m,c),g=e.readFloat(),_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,v=0,E=0;d.setFrame(v,g,_,x,b,w),v!=p;v++){var C=e.readFloat(),T=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;switch(e.readByte()){case ko:d.setStepped(v);break;case Fo:yr(e,d,E++,v,0,g,C,_,T,1),yr(e,d,E++,v,1,g,C,x,I,1),yr(e,d,E++,v,2,g,C,b,R,1),yr(e,d,E++,v,3,g,C,w,O,1)}g=C,_=T,x=I,b=R,w=O}i.push(d);break}case eGe:{for(var m=e.readInt(!0),d=new L3(h,m,c),g=e.readFloat(),_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,v=0,E=0;d.setFrame(v,g,_,x,b),v!=p;v++){var C=e.readFloat(),T=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255;switch(e.readByte()){case ko:d.setStepped(v);break;case Fo:yr(e,d,E++,v,0,g,C,_,T,1),yr(e,d,E++,v,1,g,C,x,I,1),yr(e,d,E++,v,2,g,C,b,R,1)}g=C,_=T,x=I,b=R}i.push(d);break}case tGe:{for(var m=e.readInt(!0),d=new B3(h,m,c),g=e.readFloat(),_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,v=0,E=0;d.setFrame(v,g,_,x,b,w,T,I,R),v!=p;v++){var C=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255;switch(e.readByte()){case ko:d.setStepped(v);break;case Fo:yr(e,d,E++,v,0,g,C,_,P,1),yr(e,d,E++,v,1,g,C,x,k,1),yr(e,d,E++,v,2,g,C,b,L,1),yr(e,d,E++,v,3,g,C,w,B,1),yr(e,d,E++,v,4,g,C,T,U,1),yr(e,d,E++,v,5,g,C,I,z,1),yr(e,d,E++,v,6,g,C,R,ee,1)}g=C,_=P,x=k,b=L,w=B,T=U,I=z,R=ee}i.push(d);break}case rGe:{for(var m=e.readInt(!0),d=new D3(h,m,c),g=e.readFloat(),_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,v=0,E=0;d.setFrame(v,g,_,x,b,T,I,R),v!=p;v++){var C=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255;switch(e.readByte()){case ko:d.setStepped(v);break;case Fo:yr(e,d,E++,v,0,g,C,_,P,1),yr(e,d,E++,v,1,g,C,x,k,1),yr(e,d,E++,v,2,g,C,b,L,1),yr(e,d,E++,v,3,g,C,T,U,1),yr(e,d,E++,v,4,g,C,I,z,1),yr(e,d,E++,v,5,g,C,R,ee,1)}g=C,_=P,x=k,b=L,T=U,I=z,R=ee}i.push(d);break}case nGe:{for(var d=new M3(h,e.readInt(!0),c),g=e.readFloat(),w=e.readUnsignedByte()/255,v=0,E=0;d.setFrame(v,g,w),v!=p;v++){var C=e.readFloat(),O=e.readUnsignedByte()/255;switch(e.readByte()){case ko:d.setStepped(v);break;case Fo:yr(e,d,E++,v,0,g,C,w,O,1)}g=C,w=O}i.push(d)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var ne=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var W=e.readByte(),h=e.readInt(!0),m=e.readInt(!0);switch(W){case G$e:i.push(Qs(e,new Bv(h,m,ne),1));break;case V$e:i.push(hC(e,new C3(h,m,ne),a));break;case H$e:i.push(Qs(e,new T3(h,m,ne),a));break;case X$e:i.push(Qs(e,new A3(h,m,ne),a));break;case z$e:i.push(hC(e,new I3(h,m,ne),1));break;case W$e:i.push(Qs(e,new R3(h,m,ne),1));break;case Y$e:i.push(Qs(e,new P3(h,m,ne),1));break;case q$e:i.push(hC(e,new O3(h,m,ne),1));break;case K$e:i.push(Qs(e,new k3(h,m,ne),1));break;case Z$e:i.push(Qs(e,new F3(h,m,ne),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var D=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new j3(h,e.readInt(!0),D),g=e.readFloat(),H=e.readFloat(),G=e.readFloat()*a,v=0,E=0;d.setFrame(v,g,H,G,e.readByte(),e.readBoolean(),e.readBoolean()),v!=p;v++){var C=e.readFloat(),V=e.readFloat(),ie=e.readFloat()*a;switch(e.readByte()){case ko:d.setStepped(v);break;case Fo:yr(e,d,E++,v,0,g,C,H,V,1),yr(e,d,E++,v,1,g,C,G,ie,a)}g=C,H=V,G=ie}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var D=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new $3(h,e.readInt(!0),D),g=e.readFloat(),se=e.readFloat(),ge=e.readFloat(),ue=e.readFloat(),we=e.readFloat(),Be=e.readFloat(),Fe=e.readFloat(),v=0,E=0;d.setFrame(v,g,se,ge,ue,we,Be,Fe),v!=p;v++){var C=e.readFloat(),Ee=e.readFloat(),Te=e.readFloat(),Ge=e.readFloat(),We=e.readFloat(),Ve=e.readFloat(),Xe=e.readFloat();switch(e.readByte()){case ko:d.setStepped(v);break;case Fo:yr(e,d,E++,v,0,g,C,se,Ee,1),yr(e,d,E++,v,1,g,C,ge,Te,1),yr(e,d,E++,v,2,g,C,ue,Ge,1),yr(e,d,E++,v,3,g,C,we,We,1),yr(e,d,E++,v,4,g,C,Be,Ve,1),yr(e,d,E++,v,5,g,C,Fe,Xe,1)}g=C,se=Ee,ge=Te,ue=Ge,we=We,Be=Ve,Fe=Xe}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var D=e.readInt(!0),qe=n.pathConstraints[D],l=0,u=e.readInt(!0);l<u;l++)switch(e.readByte()){case aGe:i.push(Qs(e,new G3(e.readInt(!0),e.readInt(!0),D),qe.positionMode==pn.Fixed?a:1));break;case oGe:i.push(Qs(e,new V3(e.readInt(!0),e.readInt(!0),D),qe.spacingMode==Zn.Length||qe.spacingMode==Zn.Fixed?a:1));break;case sGe:for(var d=new H3(e.readInt(!0),e.readInt(!0),D),g=e.readFloat(),se=e.readFloat(),ge=e.readFloat(),ue=e.readFloat(),v=0,E=0,p=d.getFrameCount()-1;d.setFrame(v,g,se,ge,ue),v!=p;v++){var C=e.readFloat(),Ee=e.readFloat(),Te=e.readFloat(),Ge=e.readFloat();switch(e.readByte()){case ko:d.setStepped(v);break;case Fo:yr(e,d,E++,v,0,g,C,se,Ee,1),yr(e,d,E++,v,1,g,C,ge,Te,1),yr(e,d,E++,v,2,g,C,ue,Ge,1)}g=C,se=Ee,ge=Te,ue=Ge}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var wt=n.skins[e.readInt(!0)],l=0,u=e.readInt(!0);l<u;l++)for(var c=e.readInt(!0),At=0,ct=e.readInt(!0);At<ct;At++){var ft=e.readStringRef();if(!ft)throw new Error("attachmentName must not be null.");var Et=wt.getAttachment(c,ft),f=this.readDeformTimelineType(e),h=e.readInt(!0),p=h-1;switch(f){case DU:{for(var Qt=Et,Vt=Qt.bones,er=Qt.vertices,$t=Vt?er.length/3*2:er.length,m=e.readInt(!0),d=new U3(h,m,c,Qt),g=e.readFloat(),v=0,E=0;;v++){var yt=void 0,Yt=e.readInt(!0);if(Yt==0)yt=Vt?ye.newFloatArray($t):er;else{yt=ye.newFloatArray($t);var Oe=e.readInt(!0);if(Yt+=Oe,a==1)for(var j=Oe;j<Yt;j++)yt[j]=e.readFloat();else for(var j=Oe;j<Yt;j++)yt[j]=e.readFloat()*a;if(!Vt)for(var j=0,he=yt.length;j<he;j++)yt[j]+=er[j]}if(d.setFrame(v,g,yt),v==p)break;var C=e.readFloat();switch(e.readByte()){case ko:d.setStepped(v);break;case Fo:yr(e,d,E++,v,0,g,C,0,1,1)}g=C}i.push(d);break}case iGe:{for(var d=new X3(h,c,Et),v=0;v<h;v++){var g=e.readFloat(),Se=e.readInt32();d.setFrame(v,g,S3[Se&15],Se>>4,e.readFloat())}i.push(d);break}}}var ke=e.readInt(!0);if(ke>0){for(var d=new qh(ke),ae=n.slots.length,o=0;o<ke;o++){for(var g=e.readFloat(),Ie=e.readInt(!0),X=ye.newArray(ae,0),l=ae-1;l>=0;l--)X[l]=-1;for(var Ue=ye.newArray(ae-Ie,0),dt=0,F=0,l=0;l<Ie;l++){for(var c=e.readInt(!0);dt!=c;)Ue[F++]=dt++;X[dt+e.readInt(!0)]=dt++}for(;dt<ae;)Ue[F++]=dt++;for(var l=ae-1;l>=0;l--)X[l]==-1&&(X[l]=Ue[--F]);d.setFrame(o,g,X)}i.push(d)}var Re=e.readInt(!0);if(Re>0){for(var d=new bb(Re),o=0;o<Re;o++){var g=e.readFloat(),Pe=n.events[e.readInt(!0)],Y=new Y3(g,Pe);Y.intValue=e.readInt(!1),Y.floatValue=e.readFloat(),Y.stringValue=e.readBoolean()?e.readString():Pe.stringValue,Y.data.audioPath&&(Y.volume=e.readFloat(),Y.balance=e.readFloat()),d.setFrame(o,Y)}i.push(d)}for(var le=0,o=0,s=i.length;o<s;o++)le=Math.max(le,i[o].getDuration());return new yb(r,i,le)},t.BlendModeValues=[st.NORMAL,st.ADD,st.MULTIPLY,st.SCREEN],t}(),j$e=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),$$e=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function Qs(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var c=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case ko:e.setStepped(a);break;case Fo:yr(t,e,o++,a,0,n,c,i,l,r)}n=c,i=l}return e}function hC(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,c=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=c;o++){var l=t.readFloat(),u=t.readFloat()*r,f=t.readFloat()*r;switch(t.readByte()){case ko:e.setStepped(o);break;case Fo:yr(t,e,s++,o,0,n,l,i,u,r),yr(t,e,s++,o,1,n,l,a,f,r)}n=l,i=u,a=f}return e}function yr(t,e,r,n,i,a,o,s,c,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,c)}var G$e=0,V$e=1,H$e=2,X$e=3,z$e=4,W$e=5,Y$e=6,q$e=7,K$e=8,Z$e=9,J$e=0,Q$e=1,eGe=2,tGe=3,rGe=4,nGe=5,DU=0,iGe=1,aGe=0,oGe=1,sGe=2,ko=1,Fo=2,lGe=function(t){nr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(e3),sY=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new J3,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var c=0;c<i.bones.length;c++){var l=i.bones[c],u=null,f=Ae(l,"parent",null);if(f!=null&&(u=n.findBone(f),u==null))throw new Error("Parent bone not found: "+f);var h=new W3(n.bones.length,l.name,u);h.length=Ae(l,"length",0)*r,h.x=Ae(l,"x",0)*r,h.y=Ae(l,"y",0)*r,h.rotation=Ae(l,"rotation",0),h.scaleX=Ae(l,"scaleX",1),h.scaleY=Ae(l,"scaleY",1),h.shearX=Ae(l,"shearX",0),h.shearY=Ae(l,"shearY",0),h.transformMode=ye.enumValue(Bt,Ae(l,"transform","Normal")),h.skinRequired=Ae(l,"skin",!1);var p=Ae(l,"color",null);p&&h.color.setFromString(p),n.bones.push(h)}if(i.slots)for(var c=0;c<i.slots.length;c++){var d=i.slots[c],v=n.findBone(d.bone);if(!v)throw new Error("Couldn't find bone "+d.bone+" for slot "+d.name);var h=new Q3(n.slots.length,d.name,v),p=Ae(d,"color",null);p&&h.color.setFromString(p);var m=Ae(d,"dark",null);m&&(h.darkColor=tt.fromString(m)),h.attachmentName=Ae(d,"attachment",null),h.blendMode=t.blendModeFromString(Ae(d,"blend","normal")),n.slots.push(h)}if(i.ik)for(var c=0;c<i.ik.length;c++){var g=i.ik[c],h=new K3(g.name);h.order=Ae(g,"order",0),h.skinRequired=Ae(g,"skin",!1);for(var _=0;_<g.bones.length;_++){var x=g.bones[_],b=n.findBone(x);if(b==null)throw new Error("IK bone not found: "+x);h.bones.push(b)}h.target=n.findBone(g.target),h.mix=Ae(g,"mix",1),h.softness=Ae(g,"softness",0)*r,h.bendDirection=Ae(g,"bendPositive",!0)?1:-1,h.compress=Ae(g,"compress",!1),h.stretch=Ae(g,"stretch",!1),h.uniform=Ae(g,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var c=0;c<i.transform.length;c++){var g=i.transform[c],h=new e4(g.name);h.order=Ae(g,"order",0),h.skinRequired=Ae(g,"skin",!1);for(var _=0;_<g.bones.length;_++){var x=g.bones[_],b=n.findBone(x);if(!b)throw new Error("Couldn't find bone "+x+" for transform constraint "+g.name+".");h.bones.push(b)}var w=g.target,E=n.findBone(w);if(!E)throw new Error("Couldn't find target bone "+w+" for transform constraint "+g.name+".");h.target=E,h.local=Ae(g,"local",!1),h.relative=Ae(g,"relative",!1),h.offsetRotation=Ae(g,"rotation",0),h.offsetX=Ae(g,"x",0)*r,h.offsetY=Ae(g,"y",0)*r,h.offsetScaleX=Ae(g,"scaleX",0),h.offsetScaleY=Ae(g,"scaleY",0),h.offsetShearY=Ae(g,"shearY",0),h.mixRotate=Ae(g,"mixRotate",1),h.mixX=Ae(g,"mixX",1),h.mixY=Ae(g,"mixY",h.mixX),h.mixScaleX=Ae(g,"mixScaleX",1),h.mixScaleY=Ae(g,"mixScaleY",h.mixScaleX),h.mixShearY=Ae(g,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var c=0;c<i.path.length;c++){var g=i.path[c],h=new Z3(g.name);h.order=Ae(g,"order",0),h.skinRequired=Ae(g,"skin",!1);for(var _=0;_<g.bones.length;_++){var x=g.bones[_],b=n.findBone(x);if(!b)throw new Error("Couldn't find bone "+x+" for path constraint "+g.name+".");h.bones.push(b)}var w=g.target,E=n.findSlot(w);if(!E)throw new Error("Couldn't find target slot "+w+" for path constraint "+g.name+".");h.target=E,h.positionMode=ye.enumValue(pn,Ae(g,"positionMode","Percent")),h.spacingMode=ye.enumValue(Zn,Ae(g,"spacingMode","Length")),h.rotateMode=ye.enumValue(On,Ae(g,"rotateMode","Tangent")),h.offsetRotation=Ae(g,"rotation",0),h.position=Ae(g,"position",0),h.positionMode==pn.Fixed&&(h.position*=r),h.spacing=Ae(g,"spacing",0),(h.spacingMode==Zn.Length||h.spacingMode==Zn.Fixed)&&(h.spacing*=r),h.mixRotate=Ae(g,"mixRotate",1),h.mixX=Ae(g,"mixX",1),h.mixY=Ae(g,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var c=0;c<i.skins.length;c++){var C=i.skins[c],T=new vx(C.name);if(C.bones)for(var _=0;_<C.bones.length;_++){var x=C.bones[_],b=n.findBone(x);if(!b)throw new Error("Couldn't find bone "+x+" for skin "+C.name+".");T.bones.push(b)}if(C.ik)for(var _=0;_<C.ik.length;_++){var I=C.ik[_],R=n.findIkConstraint(I);if(!R)throw new Error("Couldn't find IK constraint "+I+" for skin "+C.name+".");T.constraints.push(R)}if(C.transform)for(var _=0;_<C.transform.length;_++){var I=C.transform[_],R=n.findTransformConstraint(I);if(!R)throw new Error("Couldn't find transform constraint "+I+" for skin "+C.name+".");T.constraints.push(R)}if(C.path)for(var _=0;_<C.path.length;_++){var I=C.path[_],R=n.findPathConstraint(I);if(!R)throw new Error("Couldn't find path constraint "+I+" for skin "+C.name+".");T.constraints.push(R)}for(var O in C.attachments){var P=n.findSlot(O);if(!P)throw new Error("Couldn't find slot "+O+" for skin "+C.name+".");var d=C.attachments[O];for(var k in d){var L=this.readAttachment(d[k],T,P.index,k,n);L&&T.setAttachment(P.index,k,L)}}n.skins.push(T),T.name=="default"&&(n.defaultSkin=T)}for(var c=0,B=this.linkedMeshes.length;c<B;c++){var U=this.linkedMeshes[c],T=U.skin?n.findSkin(U.skin):n.defaultSkin;if(!T)throw new Error("Skin not found: "+U.skin);var z=T.getAttachment(U.slotIndex,U.parent);if(!z)throw new Error("Parent mesh not found: "+U.parent);U.mesh.timelineAttachment=U.inheritTimeline?z:U.mesh,U.mesh.setParentMesh(z)}if(this.linkedMeshes.length=0,i.events)for(var ee in i.events){var ne=i.events[ee],h=new q3(ee);h.intValue=Ae(ne,"int",0),h.floatValue=Ae(ne,"float",0),h.stringValue=Ae(ne,"string",""),h.audioPath=Ae(ne,"audio",null),h.audioPath&&(h.volume=Ae(ne,"volume",1),h.balance=Ae(ne,"balance",0)),n.events.push(h)}if(i.animations)for(var W in i.animations){var D=i.animations[W];this.readAnimation(D,W,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=Ae(e,"name",i),Ae(e,"type","region")){case"region":{var s=Ae(e,"path",i),c=this.readSequence(Ae(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,c);if(!l)return null;l.path=s,l.x=Ae(e,"x",0)*o,l.y=Ae(e,"y",0)*o,l.scaleX=Ae(e,"scaleX",1),l.scaleY=Ae(e,"scaleY",1),l.rotation=Ae(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=c;var u=Ae(e,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!f)return null;this.readVertices(e,f,e.vertexCount<<1);var u=Ae(e,"color",null);return u&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var s=Ae(e,"path",i),c=this.readSequence(Ae(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,c);if(!h)return null;h.path=s;var u=Ae(e,"color",null);u&&h.color.setFromString(u),h.width=Ae(e,"width",0)*o,h.height=Ae(e,"height",0)*o,h.sequence=c;var p=Ae(e,"parent",null);if(p)return this.linkedMeshes.push(new uGe(h,Ae(e,"skin",null),n,p,Ae(e,"timelines",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=Ae(e,"edges",null),h.hullLength=Ae(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=Ae(e,"closed",!1),s.constantSpeed=Ae(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,s,v<<1);for(var m=ye.newArray(v/3,0),g=0;g<e.lengths.length;g++)m[g]=e.lengths[g]*o;s.lengths=m;var u=Ae(e,"color",null);return u&&s.color.setFromString(u),s}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(!_)return null;_.x=Ae(e,"x",0)*o,_.y=Ae(e,"y",0)*o,_.rotation=Ae(e,"rotation",0);var u=Ae(e,"color",null);return u&&_.color.setFromString(u),_}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(!x)return null;var b=Ae(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);x.endSlot=w}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=Ae(e,"color",null);return u&&x.color.setFromString(u),x}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new E3(Ae(e,"count",0));return r.start=Ae(e,"start",1),r.digits=Ae(e,"digits",0),r.setupIndex=Ae(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=ye.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=ye.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],c=n.findSlot(o);if(!c)throw new Error("Slot not found: "+o);var l=c.index;for(var u in s){var f=s[u];if(f){var h=f.length;if(u=="attachment"){for(var p=new Lc(h,l),d=0;d<h;d++){var v=f[d];p.setFrame(d,Ae(v,"time",0),Ae(v,"name",null))}a.push(p)}else if(u=="rgba"){for(var p=new N3(h,h<<2,l),v=f[0],m=Ae(v,"time",0),g=tt.fromString(v.color),d=0,_=0;;d++){p.setFrame(d,m,g.r,g.g,g.b,g.a);var x=f[d+1];if(!x){p.shrink(_);break}var b=Ae(x,"time",0),w=tt.fromString(x.color),E=v.curve;E&&(_=wr(E,p,_,d,0,m,b,g.r,w.r,1),_=wr(E,p,_,d,1,m,b,g.g,w.g,1),_=wr(E,p,_,d,2,m,b,g.b,w.b,1),_=wr(E,p,_,d,3,m,b,g.a,w.a,1)),m=b,g=w,v=x}a.push(p)}else if(u=="rgb"){for(var p=new L3(h,h*3,l),v=f[0],m=Ae(v,"time",0),g=tt.fromString(v.color),d=0,_=0;;d++){p.setFrame(d,m,g.r,g.g,g.b);var x=f[d+1];if(!x){p.shrink(_);break}var b=Ae(x,"time",0),w=tt.fromString(x.color),E=v.curve;E&&(_=wr(E,p,_,d,0,m,b,g.r,w.r,1),_=wr(E,p,_,d,1,m,b,g.g,w.g,1),_=wr(E,p,_,d,2,m,b,g.b,w.b,1)),m=b,g=w,v=x}a.push(p)}else if(u=="alpha")a.push(us(f,new M3(h,h,l),0,1));else if(u=="rgba2"){for(var p=new B3(h,h*7,l),v=f[0],m=Ae(v,"time",0),g=tt.fromString(v.light),C=tt.fromString(v.dark),d=0,_=0;;d++){p.setFrame(d,m,g.r,g.g,g.b,g.a,C.r,C.g,C.b);var x=f[d+1];if(!x){p.shrink(_);break}var b=Ae(x,"time",0),w=tt.fromString(x.light),T=tt.fromString(x.dark),E=v.curve;E&&(_=wr(E,p,_,d,0,m,b,g.r,w.r,1),_=wr(E,p,_,d,1,m,b,g.g,w.g,1),_=wr(E,p,_,d,2,m,b,g.b,w.b,1),_=wr(E,p,_,d,3,m,b,g.a,w.a,1),_=wr(E,p,_,d,4,m,b,C.r,T.r,1),_=wr(E,p,_,d,5,m,b,C.g,T.g,1),_=wr(E,p,_,d,6,m,b,C.b,T.b,1)),m=b,g=w,C=T,v=x}a.push(p)}else if(u=="rgb2"){for(var p=new D3(h,h*6,l),v=f[0],m=Ae(v,"time",0),g=tt.fromString(v.light),C=tt.fromString(v.dark),d=0,_=0;;d++){p.setFrame(d,m,g.r,g.g,g.b,C.r,C.g,C.b);var x=f[d+1];if(!x){p.shrink(_);break}var b=Ae(x,"time",0),w=tt.fromString(x.light),T=tt.fromString(x.dark),E=v.curve;E&&(_=wr(E,p,_,d,0,m,b,g.r,w.r,1),_=wr(E,p,_,d,1,m,b,g.g,w.g,1),_=wr(E,p,_,d,2,m,b,g.b,w.b,1),_=wr(E,p,_,d,3,m,b,C.r,T.r,1),_=wr(E,p,_,d,4,m,b,C.g,T.g,1),_=wr(E,p,_,d,5,m,b,C.b,T.b,1)),m=b,g=w,C=T,v=x}a.push(p)}}}}if(e.bones)for(var I in e.bones){var R=e.bones[I],O=n.findBone(I);if(!O)throw new Error("Bone not found: "+I);var P=O.index;for(var u in R){var f=R[u],k=f.length;if(k!=0){if(u==="rotate")a.push(us(f,new Bv(k,k,P),0,1));else if(u==="translate"){var p=new C3(k,k<<1,P);a.push(dC(f,p,"x","y",0,i))}else if(u==="translatex"){var p=new T3(k,k,P);a.push(us(f,p,0,i))}else if(u==="translatey"){var p=new A3(k,k,P);a.push(us(f,p,0,i))}else if(u==="scale"){var p=new I3(k,k<<1,P);a.push(dC(f,p,"x","y",1,1))}else if(u==="scalex"){var p=new R3(k,k,P);a.push(us(f,p,1,1))}else if(u==="scaley"){var p=new P3(k,k,P);a.push(us(f,p,1,1))}else if(u==="shear"){var p=new O3(k,k<<1,P);a.push(dC(f,p,"x","y",0,1))}else if(u==="shearx"){var p=new k3(k,k,P);a.push(us(f,p,0,1))}else if(u==="sheary"){var p=new F3(k,k,P);a.push(us(f,p,0,1))}}}}if(e.ik)for(var L in e.ik){var B=e.ik[L],v=B[0];if(v){var U=n.findIkConstraint(L);if(!U)throw new Error("IK Constraint not found: "+L);for(var z=n.ikConstraints.indexOf(U),p=new j3(B.length,B.length<<1,z),m=Ae(v,"time",0),ee=Ae(v,"mix",1),ne=Ae(v,"softness",0)*i,d=0,_=0;;d++){p.setFrame(d,m,ee,ne,Ae(v,"bendPositive",!0)?1:-1,Ae(v,"compress",!1),Ae(v,"stretch",!1));var x=B[d+1];if(!x){p.shrink(_);break}var b=Ae(x,"time",0),W=Ae(x,"mix",1),D=Ae(x,"softness",0)*i,E=v.curve;E&&(_=wr(E,p,_,d,0,m,b,ee,W,1),_=wr(E,p,_,d,1,m,b,ne,D,i)),m=b,ee=W,ne=D,v=x}a.push(p)}}if(e.transform)for(var L in e.transform){var f=e.transform[L],v=f[0];if(v){var U=n.findTransformConstraint(L);if(!U)throw new Error("Transform constraint not found: "+L);for(var z=n.transformConstraints.indexOf(U),p=new $3(f.length,f.length*6,z),m=Ae(v,"time",0),H=Ae(v,"mixRotate",1),G=Ae(v,"mixX",1),V=Ae(v,"mixY",G),ie=Ae(v,"mixScaleX",1),se=Ae(v,"mixScaleY",ie),ge=Ae(v,"mixShearY",1),d=0,_=0;;d++){p.setFrame(d,m,H,G,V,ie,se,ge);var x=f[d+1];if(!x){p.shrink(_);break}var b=Ae(x,"time",0),ue=Ae(x,"mixRotate",1),we=Ae(x,"mixX",1),Be=Ae(x,"mixY",we),Fe=Ae(x,"mixScaleX",1),Ee=Ae(x,"mixScaleY",Fe),Te=Ae(x,"mixShearY",1),E=v.curve;E&&(_=wr(E,p,_,d,0,m,b,H,ue,1),_=wr(E,p,_,d,1,m,b,G,we,1),_=wr(E,p,_,d,2,m,b,V,Be,1),_=wr(E,p,_,d,3,m,b,ie,Fe,1),_=wr(E,p,_,d,4,m,b,se,Ee,1),_=wr(E,p,_,d,5,m,b,ge,Te,1)),m=b,H=ue,G=we,V=Be,ie=Fe,se=Ee,ie=Fe,v=x}a.push(p)}}if(e.path)for(var L in e.path){var B=e.path[L],U=n.findPathConstraint(L);if(!U)throw new Error("Path constraint not found: "+L);var z=n.pathConstraints.indexOf(U);for(var u in B){var f=B[u],v=f[0];if(v){var Ge=f.length;if(u==="position"){var p=new G3(Ge,Ge,z);a.push(us(f,p,0,U.positionMode==pn.Fixed?i:1))}else if(u==="spacing"){var p=new V3(Ge,Ge,z);a.push(us(f,p,0,U.spacingMode==Zn.Length||U.spacingMode==Zn.Fixed?i:1))}else if(u==="mix"){for(var p=new H3(Ge,Ge*3,z),m=Ae(v,"time",0),H=Ae(v,"mixRotate",1),G=Ae(v,"mixX",1),V=Ae(v,"mixY",G),d=0,_=0;;d++){p.setFrame(d,m,H,G,V);var x=f[d+1];if(!x){p.shrink(_);break}var b=Ae(x,"time",0),ue=Ae(x,"mixRotate",1),we=Ae(x,"mixX",1),Be=Ae(x,"mixY",we),E=v.curve;E&&(_=wr(E,p,_,d,0,m,b,H,ue,1),_=wr(E,p,_,d,1,m,b,G,we,1),_=wr(E,p,_,d,2,m,b,V,Be,1)),m=b,H=ue,G=we,V=Be,v=x}a.push(p)}}}}if(e.deform){e.attachments={};for(var We in e.deform){var Ve=e.deform[We],Xe=e.attachments[We]={};for(var o in Ve){var s=Ve[o],qe=Xe[o]={};for(var wt in s)qe[wt]={deform:s[wt]}}}}if(e.attachments)for(var At in e.attachments){var ct=e.attachments[At],ft=n.findSkin(At);if(ft!=null)for(var Et in ct){var s=ct[Et],c=n.findSlot(Et);if(!c)throw new Error("Slot not found: "+Et);var l=c.index;for(var Qt in s){var Vt=s[Qt],er=ft.getAttachment(l,Qt);for(var $t in Vt){var f=Vt[$t],v=f[0];if(v){if($t=="deform"){for(var yt=er.bones,Yt=er.vertices,Oe=yt?Yt.length/3*2:Yt.length,p=new U3(f.length,f.length,l,er),m=Ae(v,"time",0),d=0,_=0;;d++){var j=void 0,he=Ae(v,"vertices",null);if(!he)j=yt?ye.newFloatArray(Oe):Yt;else{j=ye.newFloatArray(Oe);var Se=Ae(v,"offset",0);if(ye.arrayCopy(he,0,j,Se,he.length),i!=1)for(var ke=Se,ae=ke+he.length;ke<ae;ke++)j[ke]*=i;if(!yt)for(var ke=0;ke<Oe;ke++)j[ke]+=Yt[ke]}p.setFrame(d,m,j);var x=f[d+1];if(!x){p.shrink(_);break}var b=Ae(x,"time",0),E=v.curve;E&&(_=wr(E,p,_,d,0,m,b,0,1,1)),m=b,v=x}a.push(p)}else if($t=="sequence"){for(var p=new X3(f.length,l,er),Ie=0,d=0;d<f.length;d++){var X=Ae(v,"delay",Ie),m=Ae(v,"time",0),Ue=xi[Ae(v,"mode","hold")],dt=Ae(v,"index",0);p.setFrame(d,m,Ue,dt,X),Ie=X,v=f[d+1]}a.push(p)}}}}}}if(e.drawOrder){for(var p=new qh(e.drawOrder.length),F=n.slots.length,d=0,ke=0;ke<e.drawOrder.length;ke++,d++){var Re=e.drawOrder[ke],Pe=null,Y=Ae(Re,"offsets",null);if(Y){Pe=ye.newArray(F,-1);for(var le=ye.newArray(F-Y.length,0),Ce=0,ht=0,Je=0;Je<Y.length;Je++){var at=Y[Je],c=n.findSlot(at.slot);if(!c)throw new Error("Slot not found: "+c);for(var l=c.index;Ce!=l;)le[ht++]=Ce++;Pe[Ce+at.offset]=Ce++}for(;Ce<F;)le[ht++]=Ce++;for(var Je=F-1;Je>=0;Je--)Pe[Je]==-1&&(Pe[Je]=le[--ht])}p.setFrame(d,Ae(Re,"time",0),Pe)}a.push(p)}if(e.events){for(var p=new bb(e.events.length),d=0,ke=0;ke<e.events.length;ke++,d++){var Ot=e.events[ke],Nn=n.findEvent(Ot.name);if(!Nn)throw new Error("Event not found: "+Ot.name);var ir=new Y3(ye.toSinglePrecision(Ae(Ot,"time",0)),Nn);ir.intValue=Ae(Ot,"int",Nn.intValue),ir.floatValue=Ae(Ot,"float",Nn.floatValue),ir.stringValue=Ae(Ot,"string",Nn.stringValue),ir.data.audioPath&&(ir.volume=Ae(Ot,"volume",1),ir.balance=Ae(Ot,"balance",0)),p.setFrame(d,ir)}a.push(p)}for(var St=0,ke=0,ae=a.length;ke<ae;ke++)St=Math.max(St,a[ke].getDuration());if(isNaN(St))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new yb(r,a,St))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return st.NORMAL;if(e=="additive")return st.ADD;if(e=="multiply")return st.MULTIPLY;if(e=="screen")return st.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),uGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function us(t,e,r,n){for(var i=t[0],a=Ae(i,"time",0),o=Ae(i,"value",r)*n,s=0,c=0;;c++){e.setFrame(c,a,o);var l=t[c+1];if(!l)return e.shrink(s),e;var u=Ae(l,"time",0),f=Ae(l,"value",r)*n;i.curve&&(s=wr(i.curve,e,s,c,0,a,u,o,f,n)),a=u,o=f,i=l}}function dC(t,e,r,n,i,a){for(var o=t[0],s=Ae(o,"time",0),c=Ae(o,r,i)*a,l=Ae(o,n,i)*a,u=0,f=0;;f++){e.setFrame(f,s,c,l);var h=t[f+1];if(!h)return e.shrink(u),e;var p=Ae(h,"time",0),d=Ae(h,r,i)*a,v=Ae(h,n,i)*a,m=o.curve;m&&(u=wr(m,e,u,f,0,s,p,c,d,a),u=wr(m,e,u,f,1,s,p,l,v,a)),s=p,c=d,l=v,o=h}}function wr(t,e,r,n,i,a,o,s,c,l){if(t=="stepped")return e.setStepped(n),r;var u=i<<2,f=t[u],h=t[u+1]*l,p=t[u+2],d=t[u+3]*l;return e.setBezier(r,n,i,a,s,f,h,p,d,o,c),r+1}function Ae(t,e,r){return t[e]!==void 0?t[e]:r}var cGe=function(t){nr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new aY(r),this.skeleton.updateWorldTransform(),this.stateData=new eY(r),this.state=new ZW(this.stateData)},e}(vg);const fGe=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:M3,Animation:yb,AnimationState:ZW,AnimationStateAdapter:B$e,AnimationStateData:eY,AtlasAttachmentLoader:z3,Attachment:b3,AttachmentTimeline:Lc,Bone:aR,BoneData:W3,BoundingBoxAttachment:YW,ClippingAttachment:qW,ConstraintData:wb,CurveTimeline:rs,CurveTimeline1:ns,CurveTimeline2:xb,DeformTimeline:U3,DrawOrderTimeline:qh,Event:Y3,EventData:q3,EventQueue:QW,EventTimeline:bb,get EventType(){return ca},IkConstraint:tY,IkConstraintData:K3,IkConstraintTimeline:j3,MeshAttachment:_b,PathAttachment:Mv,PathConstraint:rY,PathConstraintData:Z3,PathConstraintMixTimeline:H3,PathConstraintPositionTimeline:G3,PathConstraintSpacingTimeline:V3,PointAttachment:KW,RGB2Timeline:D3,RGBA2Timeline:B3,RGBATimeline:N3,RGBTimeline:L3,RegionAttachment:w3,RotateTimeline:Bv,ScaleTimeline:I3,ScaleXTimeline:R3,ScaleYTimeline:P3,Sequence:E3,get SequenceMode(){return xi},SequenceModeValues:S3,SequenceTimeline:X3,ShearTimeline:O3,ShearXTimeline:k3,ShearYTimeline:F3,Skeleton:aY,SkeletonBinary:oY,SkeletonBounds:lGe,SkeletonData:J3,SkeletonJson:sY,Skin:vx,SkinEntry:oR,Slot:nY,SlotData:Q3,get SpacingMode(){return Zn},Spine:cGe,Timeline:Fn,TrackEntry:JW,TransformConstraint:iY,TransformConstraintData:e4,TransformConstraintTimeline:$3,TranslateTimeline:C3,TranslateXTimeline:T3,TranslateYTimeline:A3,VertexAttachment:Os},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sR=function(t,e){return sR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},sR(t,e)};function lY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(Jn||(Jn={}));function gx(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?Jn.VER37:e==="3.8"?Jn.VER38:e==="4.0"?Jn.VER40:e==="4.1"?Jn.VER41:r<Jn.VER37?Jn.VER37:Jn.UNKNOWN}var hGe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=gx(i);if(a===Jn.VER38&&(n=new yW(new l3(e))),i=this.readVersionNewFormat(r),a=gx(i),(a===Jn.VER40||a===Jn.VER41)&&(n=new oY(new z3(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new cx(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new cx(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),dGe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=gx(n),a=null;if(i===Jn.VER37&&(a=new WW(new FW(e))),i===Jn.VER38&&(a=new xW(new l3(e))),(i===Jn.VER40||i===Jn.VER41)&&(a=new sY(new z3(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),pGe=function(t){lY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new hGe},e.prototype.createJsonParser=function(){return new dGe},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){Oa.registerPlugin(e)},e.use=new e().genMiddleware().use,e}(y$e),vGe=function(t){lY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=gx(r.version),i=null;if(n===Jn.VER37&&(i=M$e),n===Jn.VER38&&(i=R$e),(n===Jn.VER40||n===Jn.VER41)&&(i=fGe),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(vg);pGe.registerLoaderPlugin();var uY={exports:{}},pC={},UU;function $u(){return UU||(UU=1,function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(a,o){return Object.prototype.hasOwnProperty.call(a,o)}t.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var c in s)r(s,c)&&(a[c]=s[c])}}return a},t.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var n={arraySet:function(a,o,s,c,l){if(o.subarray&&a.subarray){a.set(o.subarray(s,s+c),l);return}for(var u=0;u<c;u++)a[l+u]=o[s+u]},flattenChunks:function(a){var o,s,c,l,u,f;for(c=0,o=0,s=a.length;o<s;o++)c+=a[o].length;for(f=new Uint8Array(c),l=0,o=0,s=a.length;o<s;o++)u=a[o],f.set(u,l),l+=u.length;return f}},i={arraySet:function(a,o,s,c,l){for(var u=0;u<c;u++)a[l+u]=o[s+u]},flattenChunks:function(a){return[].concat.apply([],a)}};t.setTyped=function(a){a?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)}(pC)),pC}var Qf={},Ro={},sc={},jU;function gGe(){if(jU)return sc;jU=1;var t=$u(),e=4,r=0,n=1,i=2;function a(j){for(var he=j.length;--he>=0;)j[he]=0}var o=0,s=1,c=2,l=3,u=258,f=29,h=256,p=h+1+f,d=30,v=19,m=2*p+1,g=15,_=16,x=7,b=256,w=16,E=17,C=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=512,k=new Array((p+2)*2);a(k);var L=new Array(d*2);a(L);var B=new Array(P);a(B);var U=new Array(u-l+1);a(U);var z=new Array(f);a(z);var ee=new Array(d);a(ee);function ne(j,he,Se,ke,ae){this.static_tree=j,this.extra_bits=he,this.extra_base=Se,this.elems=ke,this.max_length=ae,this.has_stree=j&&j.length}var W,D,H;function G(j,he){this.dyn_tree=j,this.max_code=0,this.stat_desc=he}function V(j){return j<256?B[j]:B[256+(j>>>7)]}function ie(j,he){j.pending_buf[j.pending++]=he&255,j.pending_buf[j.pending++]=he>>>8&255}function se(j,he,Se){j.bi_valid>_-Se?(j.bi_buf|=he<<j.bi_valid&65535,ie(j,j.bi_buf),j.bi_buf=he>>_-j.bi_valid,j.bi_valid+=Se-_):(j.bi_buf|=he<<j.bi_valid&65535,j.bi_valid+=Se)}function ge(j,he,Se){se(j,Se[he*2],Se[he*2+1])}function ue(j,he){var Se=0;do Se|=j&1,j>>>=1,Se<<=1;while(--he>0);return Se>>>1}function we(j){j.bi_valid===16?(ie(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):j.bi_valid>=8&&(j.pending_buf[j.pending++]=j.bi_buf&255,j.bi_buf>>=8,j.bi_valid-=8)}function Be(j,he){var Se=he.dyn_tree,ke=he.max_code,ae=he.stat_desc.static_tree,Ie=he.stat_desc.has_stree,X=he.stat_desc.extra_bits,Ue=he.stat_desc.extra_base,dt=he.stat_desc.max_length,F,Re,Pe,Y,le,Ce,ht=0;for(Y=0;Y<=g;Y++)j.bl_count[Y]=0;for(Se[j.heap[j.heap_max]*2+1]=0,F=j.heap_max+1;F<m;F++)Re=j.heap[F],Y=Se[Se[Re*2+1]*2+1]+1,Y>dt&&(Y=dt,ht++),Se[Re*2+1]=Y,!(Re>ke)&&(j.bl_count[Y]++,le=0,Re>=Ue&&(le=X[Re-Ue]),Ce=Se[Re*2],j.opt_len+=Ce*(Y+le),Ie&&(j.static_len+=Ce*(ae[Re*2+1]+le)));if(ht!==0){do{for(Y=dt-1;j.bl_count[Y]===0;)Y--;j.bl_count[Y]--,j.bl_count[Y+1]+=2,j.bl_count[dt]--,ht-=2}while(ht>0);for(Y=dt;Y!==0;Y--)for(Re=j.bl_count[Y];Re!==0;)Pe=j.heap[--F],!(Pe>ke)&&(Se[Pe*2+1]!==Y&&(j.opt_len+=(Y-Se[Pe*2+1])*Se[Pe*2],Se[Pe*2+1]=Y),Re--)}}function Fe(j,he,Se){var ke=new Array(g+1),ae=0,Ie,X;for(Ie=1;Ie<=g;Ie++)ke[Ie]=ae=ae+Se[Ie-1]<<1;for(X=0;X<=he;X++){var Ue=j[X*2+1];Ue!==0&&(j[X*2]=ue(ke[Ue]++,Ue))}}function Ee(){var j,he,Se,ke,ae,Ie=new Array(g+1);for(Se=0,ke=0;ke<f-1;ke++)for(z[ke]=Se,j=0;j<1<<T[ke];j++)U[Se++]=ke;for(U[Se-1]=ke,ae=0,ke=0;ke<16;ke++)for(ee[ke]=ae,j=0;j<1<<I[ke];j++)B[ae++]=ke;for(ae>>=7;ke<d;ke++)for(ee[ke]=ae<<7,j=0;j<1<<I[ke]-7;j++)B[256+ae++]=ke;for(he=0;he<=g;he++)Ie[he]=0;for(j=0;j<=143;)k[j*2+1]=8,j++,Ie[8]++;for(;j<=255;)k[j*2+1]=9,j++,Ie[9]++;for(;j<=279;)k[j*2+1]=7,j++,Ie[7]++;for(;j<=287;)k[j*2+1]=8,j++,Ie[8]++;for(Fe(k,p+1,Ie),j=0;j<d;j++)L[j*2+1]=5,L[j*2]=ue(j,5);W=new ne(k,T,h+1,p,g),D=new ne(L,I,0,d,g),H=new ne(new Array(0),R,0,v,x)}function Te(j){var he;for(he=0;he<p;he++)j.dyn_ltree[he*2]=0;for(he=0;he<d;he++)j.dyn_dtree[he*2]=0;for(he=0;he<v;he++)j.bl_tree[he*2]=0;j.dyn_ltree[b*2]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function Ge(j){j.bi_valid>8?ie(j,j.bi_buf):j.bi_valid>0&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function We(j,he,Se,ke){Ge(j),ke&&(ie(j,Se),ie(j,~Se)),t.arraySet(j.pending_buf,j.window,he,Se,j.pending),j.pending+=Se}function Ve(j,he,Se,ke){var ae=he*2,Ie=Se*2;return j[ae]<j[Ie]||j[ae]===j[Ie]&&ke[he]<=ke[Se]}function Xe(j,he,Se){for(var ke=j.heap[Se],ae=Se<<1;ae<=j.heap_len&&(ae<j.heap_len&&Ve(he,j.heap[ae+1],j.heap[ae],j.depth)&&ae++,!Ve(he,ke,j.heap[ae],j.depth));)j.heap[Se]=j.heap[ae],Se=ae,ae<<=1;j.heap[Se]=ke}function qe(j,he,Se){var ke,ae,Ie=0,X,Ue;if(j.last_lit!==0)do ke=j.pending_buf[j.d_buf+Ie*2]<<8|j.pending_buf[j.d_buf+Ie*2+1],ae=j.pending_buf[j.l_buf+Ie],Ie++,ke===0?ge(j,ae,he):(X=U[ae],ge(j,X+h+1,he),Ue=T[X],Ue!==0&&(ae-=z[X],se(j,ae,Ue)),ke--,X=V(ke),ge(j,X,Se),Ue=I[X],Ue!==0&&(ke-=ee[X],se(j,ke,Ue)));while(Ie<j.last_lit);ge(j,b,he)}function wt(j,he){var Se=he.dyn_tree,ke=he.stat_desc.static_tree,ae=he.stat_desc.has_stree,Ie=he.stat_desc.elems,X,Ue,dt=-1,F;for(j.heap_len=0,j.heap_max=m,X=0;X<Ie;X++)Se[X*2]!==0?(j.heap[++j.heap_len]=dt=X,j.depth[X]=0):Se[X*2+1]=0;for(;j.heap_len<2;)F=j.heap[++j.heap_len]=dt<2?++dt:0,Se[F*2]=1,j.depth[F]=0,j.opt_len--,ae&&(j.static_len-=ke[F*2+1]);for(he.max_code=dt,X=j.heap_len>>1;X>=1;X--)Xe(j,Se,X);F=Ie;do X=j.heap[1],j.heap[1]=j.heap[j.heap_len--],Xe(j,Se,1),Ue=j.heap[1],j.heap[--j.heap_max]=X,j.heap[--j.heap_max]=Ue,Se[F*2]=Se[X*2]+Se[Ue*2],j.depth[F]=(j.depth[X]>=j.depth[Ue]?j.depth[X]:j.depth[Ue])+1,Se[X*2+1]=Se[Ue*2+1]=F,j.heap[1]=F++,Xe(j,Se,1);while(j.heap_len>=2);j.heap[--j.heap_max]=j.heap[1],Be(j,he),Fe(Se,dt,j.bl_count)}function At(j,he,Se){var ke,ae=-1,Ie,X=he[0*2+1],Ue=0,dt=7,F=4;for(X===0&&(dt=138,F=3),he[(Se+1)*2+1]=65535,ke=0;ke<=Se;ke++)Ie=X,X=he[(ke+1)*2+1],!(++Ue<dt&&Ie===X)&&(Ue<F?j.bl_tree[Ie*2]+=Ue:Ie!==0?(Ie!==ae&&j.bl_tree[Ie*2]++,j.bl_tree[w*2]++):Ue<=10?j.bl_tree[E*2]++:j.bl_tree[C*2]++,Ue=0,ae=Ie,X===0?(dt=138,F=3):Ie===X?(dt=6,F=3):(dt=7,F=4))}function ct(j,he,Se){var ke,ae=-1,Ie,X=he[0*2+1],Ue=0,dt=7,F=4;for(X===0&&(dt=138,F=3),ke=0;ke<=Se;ke++)if(Ie=X,X=he[(ke+1)*2+1],!(++Ue<dt&&Ie===X)){if(Ue<F)do ge(j,Ie,j.bl_tree);while(--Ue!==0);else Ie!==0?(Ie!==ae&&(ge(j,Ie,j.bl_tree),Ue--),ge(j,w,j.bl_tree),se(j,Ue-3,2)):Ue<=10?(ge(j,E,j.bl_tree),se(j,Ue-3,3)):(ge(j,C,j.bl_tree),se(j,Ue-11,7));Ue=0,ae=Ie,X===0?(dt=138,F=3):Ie===X?(dt=6,F=3):(dt=7,F=4)}}function ft(j){var he;for(At(j,j.dyn_ltree,j.l_desc.max_code),At(j,j.dyn_dtree,j.d_desc.max_code),wt(j,j.bl_desc),he=v-1;he>=3&&j.bl_tree[O[he]*2+1]===0;he--);return j.opt_len+=3*(he+1)+5+5+4,he}function Et(j,he,Se,ke){var ae;for(se(j,he-257,5),se(j,Se-1,5),se(j,ke-4,4),ae=0;ae<ke;ae++)se(j,j.bl_tree[O[ae]*2+1],3);ct(j,j.dyn_ltree,he-1),ct(j,j.dyn_dtree,Se-1)}function Qt(j){var he=4093624447,Se;for(Se=0;Se<=31;Se++,he>>>=1)if(he&1&&j.dyn_ltree[Se*2]!==0)return r;if(j.dyn_ltree[9*2]!==0||j.dyn_ltree[10*2]!==0||j.dyn_ltree[13*2]!==0)return n;for(Se=32;Se<h;Se++)if(j.dyn_ltree[Se*2]!==0)return n;return r}var Vt=!1;function er(j){Vt||(Ee(),Vt=!0),j.l_desc=new G(j.dyn_ltree,W),j.d_desc=new G(j.dyn_dtree,D),j.bl_desc=new G(j.bl_tree,H),j.bi_buf=0,j.bi_valid=0,Te(j)}function $t(j,he,Se,ke){se(j,(o<<1)+(ke?1:0),3),We(j,he,Se,!0)}function yt(j){se(j,s<<1,3),ge(j,b,k),we(j)}function Yt(j,he,Se,ke){var ae,Ie,X=0;j.level>0?(j.strm.data_type===i&&(j.strm.data_type=Qt(j)),wt(j,j.l_desc),wt(j,j.d_desc),X=ft(j),ae=j.opt_len+3+7>>>3,Ie=j.static_len+3+7>>>3,Ie<=ae&&(ae=Ie)):ae=Ie=Se+5,Se+4<=ae&&he!==-1?$t(j,he,Se,ke):j.strategy===e||Ie===ae?(se(j,(s<<1)+(ke?1:0),3),qe(j,k,L)):(se(j,(c<<1)+(ke?1:0),3),Et(j,j.l_desc.max_code+1,j.d_desc.max_code+1,X+1),qe(j,j.dyn_ltree,j.dyn_dtree)),Te(j),ke&&Ge(j)}function Oe(j,he,Se){return j.pending_buf[j.d_buf+j.last_lit*2]=he>>>8&255,j.pending_buf[j.d_buf+j.last_lit*2+1]=he&255,j.pending_buf[j.l_buf+j.last_lit]=Se&255,j.last_lit++,he===0?j.dyn_ltree[Se*2]++:(j.matches++,he--,j.dyn_ltree[(U[Se]+h+1)*2]++,j.dyn_dtree[V(he)*2]++),j.last_lit===j.lit_bufsize-1}return sc._tr_init=er,sc._tr_stored_block=$t,sc._tr_flush_block=Yt,sc._tr_tally=Oe,sc._tr_align=yt,sc}var vC,$U;function cY(){if($U)return vC;$U=1;function t(e,r,n,i){for(var a=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+r[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}return vC=t,vC}var gC,GU;function fY(){if(GU)return gC;GU=1;function t(){for(var n,i=[],a=0;a<256;a++){n=a;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var e=t();function r(n,i,a,o){var s=e,c=o+a;n^=-1;for(var l=o;l<c;l++)n=n>>>8^s[(n^i[l])&255];return n^-1}return gC=r,gC}var mC,VU;function t4(){return VU||(VU=1,mC={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),mC}var HU;function mGe(){if(HU)return Ro;HU=1;var t=$u(),e=gGe(),r=cY(),n=fY(),i=t4(),a=0,o=1,s=3,c=4,l=5,u=0,f=1,h=-2,p=-3,d=-5,v=-1,m=1,g=2,_=3,x=4,b=0,w=2,E=8,C=9,T=15,I=8,R=29,O=256,P=O+1+R,k=30,L=19,B=2*P+1,U=15,z=3,ee=258,ne=ee+z+1,W=32,D=42,H=69,G=73,V=91,ie=103,se=113,ge=666,ue=1,we=2,Be=3,Fe=4,Ee=3;function Te(F,Re){return F.msg=i[Re],Re}function Ge(F){return(F<<1)-(F>4?9:0)}function We(F){for(var Re=F.length;--Re>=0;)F[Re]=0}function Ve(F){var Re=F.state,Pe=Re.pending;Pe>F.avail_out&&(Pe=F.avail_out),Pe!==0&&(t.arraySet(F.output,Re.pending_buf,Re.pending_out,Pe,F.next_out),F.next_out+=Pe,Re.pending_out+=Pe,F.total_out+=Pe,F.avail_out-=Pe,Re.pending-=Pe,Re.pending===0&&(Re.pending_out=0))}function Xe(F,Re){e._tr_flush_block(F,F.block_start>=0?F.block_start:-1,F.strstart-F.block_start,Re),F.block_start=F.strstart,Ve(F.strm)}function qe(F,Re){F.pending_buf[F.pending++]=Re}function wt(F,Re){F.pending_buf[F.pending++]=Re>>>8&255,F.pending_buf[F.pending++]=Re&255}function At(F,Re,Pe,Y){var le=F.avail_in;return le>Y&&(le=Y),le===0?0:(F.avail_in-=le,t.arraySet(Re,F.input,F.next_in,le,Pe),F.state.wrap===1?F.adler=r(F.adler,Re,le,Pe):F.state.wrap===2&&(F.adler=n(F.adler,Re,le,Pe)),F.next_in+=le,F.total_in+=le,le)}function ct(F,Re){var Pe=F.max_chain_length,Y=F.strstart,le,Ce,ht=F.prev_length,Je=F.nice_match,at=F.strstart>F.w_size-ne?F.strstart-(F.w_size-ne):0,Ot=F.window,Nn=F.w_mask,ir=F.prev,St=F.strstart+ee,Sr=Ot[Y+ht-1],on=Ot[Y+ht];F.prev_length>=F.good_match&&(Pe>>=2),Je>F.lookahead&&(Je=F.lookahead);do if(le=Re,!(Ot[le+ht]!==on||Ot[le+ht-1]!==Sr||Ot[le]!==Ot[Y]||Ot[++le]!==Ot[Y+1])){Y+=2,le++;do;while(Ot[++Y]===Ot[++le]&&Ot[++Y]===Ot[++le]&&Ot[++Y]===Ot[++le]&&Ot[++Y]===Ot[++le]&&Ot[++Y]===Ot[++le]&&Ot[++Y]===Ot[++le]&&Ot[++Y]===Ot[++le]&&Ot[++Y]===Ot[++le]&&Y<St);if(Ce=ee-(St-Y),Y=St-ee,Ce>ht){if(F.match_start=Re,ht=Ce,Ce>=Je)break;Sr=Ot[Y+ht-1],on=Ot[Y+ht]}}while((Re=ir[Re&Nn])>at&&--Pe!==0);return ht<=F.lookahead?ht:F.lookahead}function ft(F){var Re=F.w_size,Pe,Y,le,Ce,ht;do{if(Ce=F.window_size-F.lookahead-F.strstart,F.strstart>=Re+(Re-ne)){t.arraySet(F.window,F.window,Re,Re,0),F.match_start-=Re,F.strstart-=Re,F.block_start-=Re,Y=F.hash_size,Pe=Y;do le=F.head[--Pe],F.head[Pe]=le>=Re?le-Re:0;while(--Y);Y=Re,Pe=Y;do le=F.prev[--Pe],F.prev[Pe]=le>=Re?le-Re:0;while(--Y);Ce+=Re}if(F.strm.avail_in===0)break;if(Y=At(F.strm,F.window,F.strstart+F.lookahead,Ce),F.lookahead+=Y,F.lookahead+F.insert>=z)for(ht=F.strstart-F.insert,F.ins_h=F.window[ht],F.ins_h=(F.ins_h<<F.hash_shift^F.window[ht+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[ht+z-1])&F.hash_mask,F.prev[ht&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=ht,ht++,F.insert--,!(F.lookahead+F.insert<z)););}while(F.lookahead<ne&&F.strm.avail_in!==0)}function Et(F,Re){var Pe=65535;for(Pe>F.pending_buf_size-5&&(Pe=F.pending_buf_size-5);;){if(F.lookahead<=1){if(ft(F),F.lookahead===0&&Re===a)return ue;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var Y=F.block_start+Pe;if((F.strstart===0||F.strstart>=Y)&&(F.lookahead=F.strstart-Y,F.strstart=Y,Xe(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-ne&&(Xe(F,!1),F.strm.avail_out===0))return ue}return F.insert=0,Re===c?(Xe(F,!0),F.strm.avail_out===0?Be:Fe):(F.strstart>F.block_start&&(Xe(F,!1),F.strm.avail_out===0),ue)}function Qt(F,Re){for(var Pe,Y;;){if(F.lookahead<ne){if(ft(F),F.lookahead<ne&&Re===a)return ue;if(F.lookahead===0)break}if(Pe=0,F.lookahead>=z&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+z-1])&F.hash_mask,Pe=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),Pe!==0&&F.strstart-Pe<=F.w_size-ne&&(F.match_length=ct(F,Pe)),F.match_length>=z)if(Y=e._tr_tally(F,F.strstart-F.match_start,F.match_length-z),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=z){F.match_length--;do F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+z-1])&F.hash_mask,Pe=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart;while(--F.match_length!==0);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else Y=e._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(Y&&(Xe(F,!1),F.strm.avail_out===0))return ue}return F.insert=F.strstart<z-1?F.strstart:z-1,Re===c?(Xe(F,!0),F.strm.avail_out===0?Be:Fe):F.last_lit&&(Xe(F,!1),F.strm.avail_out===0)?ue:we}function Vt(F,Re){for(var Pe,Y,le;;){if(F.lookahead<ne){if(ft(F),F.lookahead<ne&&Re===a)return ue;if(F.lookahead===0)break}if(Pe=0,F.lookahead>=z&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+z-1])&F.hash_mask,Pe=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=z-1,Pe!==0&&F.prev_length<F.max_lazy_match&&F.strstart-Pe<=F.w_size-ne&&(F.match_length=ct(F,Pe),F.match_length<=5&&(F.strategy===m||F.match_length===z&&F.strstart-F.match_start>4096)&&(F.match_length=z-1)),F.prev_length>=z&&F.match_length<=F.prev_length){le=F.strstart+F.lookahead-z,Y=e._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-z),F.lookahead-=F.prev_length-1,F.prev_length-=2;do++F.strstart<=le&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+z-1])&F.hash_mask,Pe=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart);while(--F.prev_length!==0);if(F.match_available=0,F.match_length=z-1,F.strstart++,Y&&(Xe(F,!1),F.strm.avail_out===0))return ue}else if(F.match_available){if(Y=e._tr_tally(F,0,F.window[F.strstart-1]),Y&&Xe(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return ue}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(Y=e._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<z-1?F.strstart:z-1,Re===c?(Xe(F,!0),F.strm.avail_out===0?Be:Fe):F.last_lit&&(Xe(F,!1),F.strm.avail_out===0)?ue:we}function er(F,Re){for(var Pe,Y,le,Ce,ht=F.window;;){if(F.lookahead<=ee){if(ft(F),F.lookahead<=ee&&Re===a)return ue;if(F.lookahead===0)break}if(F.match_length=0,F.lookahead>=z&&F.strstart>0&&(le=F.strstart-1,Y=ht[le],Y===ht[++le]&&Y===ht[++le]&&Y===ht[++le])){Ce=F.strstart+ee;do;while(Y===ht[++le]&&Y===ht[++le]&&Y===ht[++le]&&Y===ht[++le]&&Y===ht[++le]&&Y===ht[++le]&&Y===ht[++le]&&Y===ht[++le]&&le<Ce);F.match_length=ee-(Ce-le),F.match_length>F.lookahead&&(F.match_length=F.lookahead)}if(F.match_length>=z?(Pe=e._tr_tally(F,1,F.match_length-z),F.lookahead-=F.match_length,F.strstart+=F.match_length,F.match_length=0):(Pe=e._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++),Pe&&(Xe(F,!1),F.strm.avail_out===0))return ue}return F.insert=0,Re===c?(Xe(F,!0),F.strm.avail_out===0?Be:Fe):F.last_lit&&(Xe(F,!1),F.strm.avail_out===0)?ue:we}function $t(F,Re){for(var Pe;;){if(F.lookahead===0&&(ft(F),F.lookahead===0)){if(Re===a)return ue;break}if(F.match_length=0,Pe=e._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++,Pe&&(Xe(F,!1),F.strm.avail_out===0))return ue}return F.insert=0,Re===c?(Xe(F,!0),F.strm.avail_out===0?Be:Fe):F.last_lit&&(Xe(F,!1),F.strm.avail_out===0)?ue:we}function yt(F,Re,Pe,Y,le){this.good_length=F,this.max_lazy=Re,this.nice_length=Pe,this.max_chain=Y,this.func=le}var Yt;Yt=[new yt(0,0,0,0,Et),new yt(4,4,8,4,Qt),new yt(4,5,16,8,Qt),new yt(4,6,32,32,Qt),new yt(4,4,16,16,Vt),new yt(8,16,32,32,Vt),new yt(8,16,128,128,Vt),new yt(8,32,128,256,Vt),new yt(32,128,258,1024,Vt),new yt(32,258,258,4096,Vt)];function Oe(F){F.window_size=2*F.w_size,We(F.head),F.max_lazy_match=Yt[F.level].max_lazy,F.good_match=Yt[F.level].good_length,F.nice_match=Yt[F.level].nice_length,F.max_chain_length=Yt[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=z-1,F.match_available=0,F.ins_h=0}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(B*2),this.dyn_dtree=new t.Buf16((2*k+1)*2),this.bl_tree=new t.Buf16((2*L+1)*2),We(this.dyn_ltree),We(this.dyn_dtree),We(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(U+1),this.heap=new t.Buf16(2*P+1),We(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*P+1),We(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(F){var Re;return!F||!F.state?Te(F,h):(F.total_in=F.total_out=0,F.data_type=w,Re=F.state,Re.pending=0,Re.pending_out=0,Re.wrap<0&&(Re.wrap=-Re.wrap),Re.status=Re.wrap?D:se,F.adler=Re.wrap===2?0:1,Re.last_flush=a,e._tr_init(Re),u)}function Se(F){var Re=he(F);return Re===u&&Oe(F.state),Re}function ke(F,Re){return!F||!F.state||F.state.wrap!==2?h:(F.state.gzhead=Re,u)}function ae(F,Re,Pe,Y,le,Ce){if(!F)return h;var ht=1;if(Re===v&&(Re=6),Y<0?(ht=0,Y=-Y):Y>15&&(ht=2,Y-=16),le<1||le>C||Pe!==E||Y<8||Y>15||Re<0||Re>9||Ce<0||Ce>x)return Te(F,h);Y===8&&(Y=9);var Je=new j;return F.state=Je,Je.strm=F,Je.wrap=ht,Je.gzhead=null,Je.w_bits=Y,Je.w_size=1<<Je.w_bits,Je.w_mask=Je.w_size-1,Je.hash_bits=le+7,Je.hash_size=1<<Je.hash_bits,Je.hash_mask=Je.hash_size-1,Je.hash_shift=~~((Je.hash_bits+z-1)/z),Je.window=new t.Buf8(Je.w_size*2),Je.head=new t.Buf16(Je.hash_size),Je.prev=new t.Buf16(Je.w_size),Je.lit_bufsize=1<<le+6,Je.pending_buf_size=Je.lit_bufsize*4,Je.pending_buf=new t.Buf8(Je.pending_buf_size),Je.d_buf=1*Je.lit_bufsize,Je.l_buf=(1+2)*Je.lit_bufsize,Je.level=Re,Je.strategy=Ce,Je.method=Pe,Se(F)}function Ie(F,Re){return ae(F,Re,E,T,I,b)}function X(F,Re){var Pe,Y,le,Ce;if(!F||!F.state||Re>l||Re<0)return F?Te(F,h):h;if(Y=F.state,!F.output||!F.input&&F.avail_in!==0||Y.status===ge&&Re!==c)return Te(F,F.avail_out===0?d:h);if(Y.strm=F,Pe=Y.last_flush,Y.last_flush=Re,Y.status===D)if(Y.wrap===2)F.adler=0,qe(Y,31),qe(Y,139),qe(Y,8),Y.gzhead?(qe(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),qe(Y,Y.gzhead.time&255),qe(Y,Y.gzhead.time>>8&255),qe(Y,Y.gzhead.time>>16&255),qe(Y,Y.gzhead.time>>24&255),qe(Y,Y.level===9?2:Y.strategy>=g||Y.level<2?4:0),qe(Y,Y.gzhead.os&255),Y.gzhead.extra&&Y.gzhead.extra.length&&(qe(Y,Y.gzhead.extra.length&255),qe(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(F.adler=n(F.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=H):(qe(Y,0),qe(Y,0),qe(Y,0),qe(Y,0),qe(Y,0),qe(Y,Y.level===9?2:Y.strategy>=g||Y.level<2?4:0),qe(Y,Ee),Y.status=se);else{var ht=E+(Y.w_bits-8<<4)<<8,Je=-1;Y.strategy>=g||Y.level<2?Je=0:Y.level<6?Je=1:Y.level===6?Je=2:Je=3,ht|=Je<<6,Y.strstart!==0&&(ht|=W),ht+=31-ht%31,Y.status=se,wt(Y,ht),Y.strstart!==0&&(wt(Y,F.adler>>>16),wt(Y,F.adler&65535)),F.adler=1}if(Y.status===H)if(Y.gzhead.extra){for(le=Y.pending;Y.gzindex<(Y.gzhead.extra.length&65535)&&!(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>le&&(F.adler=n(F.adler,Y.pending_buf,Y.pending-le,le)),Ve(F),le=Y.pending,Y.pending===Y.pending_buf_size));)qe(Y,Y.gzhead.extra[Y.gzindex]&255),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>le&&(F.adler=n(F.adler,Y.pending_buf,Y.pending-le,le)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=G)}else Y.status=G;if(Y.status===G)if(Y.gzhead.name){le=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>le&&(F.adler=n(F.adler,Y.pending_buf,Y.pending-le,le)),Ve(F),le=Y.pending,Y.pending===Y.pending_buf_size)){Ce=1;break}Y.gzindex<Y.gzhead.name.length?Ce=Y.gzhead.name.charCodeAt(Y.gzindex++)&255:Ce=0,qe(Y,Ce)}while(Ce!==0);Y.gzhead.hcrc&&Y.pending>le&&(F.adler=n(F.adler,Y.pending_buf,Y.pending-le,le)),Ce===0&&(Y.gzindex=0,Y.status=V)}else Y.status=V;if(Y.status===V)if(Y.gzhead.comment){le=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>le&&(F.adler=n(F.adler,Y.pending_buf,Y.pending-le,le)),Ve(F),le=Y.pending,Y.pending===Y.pending_buf_size)){Ce=1;break}Y.gzindex<Y.gzhead.comment.length?Ce=Y.gzhead.comment.charCodeAt(Y.gzindex++)&255:Ce=0,qe(Y,Ce)}while(Ce!==0);Y.gzhead.hcrc&&Y.pending>le&&(F.adler=n(F.adler,Y.pending_buf,Y.pending-le,le)),Ce===0&&(Y.status=ie)}else Y.status=ie;if(Y.status===ie&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&Ve(F),Y.pending+2<=Y.pending_buf_size&&(qe(Y,F.adler&255),qe(Y,F.adler>>8&255),F.adler=0,Y.status=se)):Y.status=se),Y.pending!==0){if(Ve(F),F.avail_out===0)return Y.last_flush=-1,u}else if(F.avail_in===0&&Ge(Re)<=Ge(Pe)&&Re!==c)return Te(F,d);if(Y.status===ge&&F.avail_in!==0)return Te(F,d);if(F.avail_in!==0||Y.lookahead!==0||Re!==a&&Y.status!==ge){var at=Y.strategy===g?$t(Y,Re):Y.strategy===_?er(Y,Re):Yt[Y.level].func(Y,Re);if((at===Be||at===Fe)&&(Y.status=ge),at===ue||at===Be)return F.avail_out===0&&(Y.last_flush=-1),u;if(at===we&&(Re===o?e._tr_align(Y):Re!==l&&(e._tr_stored_block(Y,0,0,!1),Re===s&&(We(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),Ve(F),F.avail_out===0))return Y.last_flush=-1,u}return Re!==c?u:Y.wrap<=0?f:(Y.wrap===2?(qe(Y,F.adler&255),qe(Y,F.adler>>8&255),qe(Y,F.adler>>16&255),qe(Y,F.adler>>24&255),qe(Y,F.total_in&255),qe(Y,F.total_in>>8&255),qe(Y,F.total_in>>16&255),qe(Y,F.total_in>>24&255)):(wt(Y,F.adler>>>16),wt(Y,F.adler&65535)),Ve(F),Y.wrap>0&&(Y.wrap=-Y.wrap),Y.pending!==0?u:f)}function Ue(F){var Re;return!F||!F.state?h:(Re=F.state.status,Re!==D&&Re!==H&&Re!==G&&Re!==V&&Re!==ie&&Re!==se&&Re!==ge?Te(F,h):(F.state=null,Re===se?Te(F,p):u))}function dt(F,Re){var Pe=Re.length,Y,le,Ce,ht,Je,at,Ot,Nn;if(!F||!F.state||(Y=F.state,ht=Y.wrap,ht===2||ht===1&&Y.status!==D||Y.lookahead))return h;for(ht===1&&(F.adler=r(F.adler,Re,Pe,0)),Y.wrap=0,Pe>=Y.w_size&&(ht===0&&(We(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),Nn=new t.Buf8(Y.w_size),t.arraySet(Nn,Re,Pe-Y.w_size,Y.w_size,0),Re=Nn,Pe=Y.w_size),Je=F.avail_in,at=F.next_in,Ot=F.input,F.avail_in=Pe,F.next_in=0,F.input=Re,ft(Y);Y.lookahead>=z;){le=Y.strstart,Ce=Y.lookahead-(z-1);do Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[le+z-1])&Y.hash_mask,Y.prev[le&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=le,le++;while(--Ce);Y.strstart=le,Y.lookahead=z-1,ft(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=z-1,Y.match_available=0,F.next_in=at,F.input=Ot,F.avail_in=Je,Y.wrap=ht,u}return Ro.deflateInit=Ie,Ro.deflateInit2=ae,Ro.deflateReset=Se,Ro.deflateResetKeep=he,Ro.deflateSetHeader=ke,Ro.deflate=X,Ro.deflateEnd=Ue,Ro.deflateSetDictionary=dt,Ro.deflateInfo="pako deflate (from Nodeca project)",Ro}var lc={},XU;function hY(){if(XU)return lc;XU=1;var t=$u(),e=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var n=new t.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,lc.string2buf=function(o){var s,c,l,u,f,h=o.length,p=0;for(u=0;u<h;u++)c=o.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),p+=c<128?1:c<2048?2:c<65536?3:4;for(s=new t.Buf8(p),f=0,u=0;f<p;u++)c=o.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),c<128?s[f++]=c:c<2048?(s[f++]=192|c>>>6,s[f++]=128|c&63):c<65536?(s[f++]=224|c>>>12,s[f++]=128|c>>>6&63,s[f++]=128|c&63):(s[f++]=240|c>>>18,s[f++]=128|c>>>12&63,s[f++]=128|c>>>6&63,s[f++]=128|c&63);return s};function a(o,s){if(s<65534&&(o.subarray&&r||!o.subarray&&e))return String.fromCharCode.apply(null,t.shrinkBuf(o,s));for(var c="",l=0;l<s;l++)c+=String.fromCharCode(o[l]);return c}return lc.buf2binstring=function(o){return a(o,o.length)},lc.binstring2buf=function(o){for(var s=new t.Buf8(o.length),c=0,l=s.length;c<l;c++)s[c]=o.charCodeAt(c);return s},lc.buf2string=function(o,s){var c,l,u,f,h=s||o.length,p=new Array(h*2);for(l=0,c=0;c<h;){if(u=o[c++],u<128){p[l++]=u;continue}if(f=n[u],f>4){p[l++]=65533,c+=f-1;continue}for(u&=f===2?31:f===3?15:7;f>1&&c<h;)u=u<<6|o[c++]&63,f--;if(f>1){p[l++]=65533;continue}u<65536?p[l++]=u:(u-=65536,p[l++]=55296|u>>10&1023,p[l++]=56320|u&1023)}return a(p,l)},lc.utf8border=function(o,s){var c;for(s=s||o.length,s>o.length&&(s=o.length),c=s-1;c>=0&&(o[c]&192)===128;)c--;return c<0||c===0?s:c+n[o[c]]>s?c:s},lc}var _C,zU;function dY(){if(zU)return _C;zU=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return _C=t,_C}var WU;function _Ge(){if(WU)return Qf;WU=1;var t=mGe(),e=$u(),r=hY(),n=t4(),i=dY(),a=Object.prototype.toString,o=0,s=4,c=0,l=1,u=2,f=-1,h=0,p=8;function d(_){if(!(this instanceof d))return new d(_);this.options=e.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},_||{});var x=this.options;x.raw&&x.windowBits>0?x.windowBits=-x.windowBits:x.gzip&&x.windowBits>0&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var b=t.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(b!==c)throw new Error(n[b]);if(x.header&&t.deflateSetHeader(this.strm,x.header),x.dictionary){var w;if(typeof x.dictionary=="string"?w=r.string2buf(x.dictionary):a.call(x.dictionary)==="[object ArrayBuffer]"?w=new Uint8Array(x.dictionary):w=x.dictionary,b=t.deflateSetDictionary(this.strm,w),b!==c)throw new Error(n[b]);this._dict_set=!0}}d.prototype.push=function(_,x){var b=this.strm,w=this.options.chunkSize,E,C;if(this.ended)return!1;C=x===~~x?x:x===!0?s:o,typeof _=="string"?b.input=r.string2buf(_):a.call(_)==="[object ArrayBuffer]"?b.input=new Uint8Array(_):b.input=_,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new e.Buf8(w),b.next_out=0,b.avail_out=w),E=t.deflate(b,C),E!==l&&E!==c)return this.onEnd(E),this.ended=!0,!1;(b.avail_out===0||b.avail_in===0&&(C===s||C===u))&&(this.options.to==="string"?this.onData(r.buf2binstring(e.shrinkBuf(b.output,b.next_out))):this.onData(e.shrinkBuf(b.output,b.next_out)))}while((b.avail_in>0||b.avail_out===0)&&E!==l);return C===s?(E=t.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c):(C===u&&(this.onEnd(c),b.avail_out=0),!0)},d.prototype.onData=function(_){this.chunks.push(_)},d.prototype.onEnd=function(_){_===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function v(_,x){var b=new d(x);if(b.push(_,!0),b.err)throw b.msg||n[b.err];return b.result}function m(_,x){return x=x||{},x.raw=!0,v(_,x)}function g(_,x){return x=x||{},x.gzip=!0,v(_,x)}return Qf.Deflate=d,Qf.deflate=v,Qf.deflateRaw=m,Qf.gzip=g,Qf}var eh={},lo={},yC,YU;function yGe(){if(YU)return yC;YU=1;var t=30,e=12;return yC=function(n,i){var a,o,s,c,l,u,f,h,p,d,v,m,g,_,x,b,w,E,C,T,I,R,O,P,k;a=n.state,o=n.next_in,P=n.input,s=o+(n.avail_in-5),c=n.next_out,k=n.output,l=c-(i-n.avail_out),u=c+(n.avail_out-257),f=a.dmax,h=a.wsize,p=a.whave,d=a.wnext,v=a.window,m=a.hold,g=a.bits,_=a.lencode,x=a.distcode,b=(1<<a.lenbits)-1,w=(1<<a.distbits)-1;e:do{g<15&&(m+=P[o++]<<g,g+=8,m+=P[o++]<<g,g+=8),E=_[m&b];t:for(;;){if(C=E>>>24,m>>>=C,g-=C,C=E>>>16&255,C===0)k[c++]=E&65535;else if(C&16){T=E&65535,C&=15,C&&(g<C&&(m+=P[o++]<<g,g+=8),T+=m&(1<<C)-1,m>>>=C,g-=C),g<15&&(m+=P[o++]<<g,g+=8,m+=P[o++]<<g,g+=8),E=x[m&w];r:for(;;){if(C=E>>>24,m>>>=C,g-=C,C=E>>>16&255,C&16){if(I=E&65535,C&=15,g<C&&(m+=P[o++]<<g,g+=8,g<C&&(m+=P[o++]<<g,g+=8)),I+=m&(1<<C)-1,I>f){n.msg="invalid distance too far back",a.mode=t;break e}if(m>>>=C,g-=C,C=c-l,I>C){if(C=I-C,C>p&&a.sane){n.msg="invalid distance too far back",a.mode=t;break e}if(R=0,O=v,d===0){if(R+=h-C,C<T){T-=C;do k[c++]=v[R++];while(--C);R=c-I,O=k}}else if(d<C){if(R+=h+d-C,C-=d,C<T){T-=C;do k[c++]=v[R++];while(--C);if(R=0,d<T){C=d,T-=C;do k[c++]=v[R++];while(--C);R=c-I,O=k}}}else if(R+=d-C,C<T){T-=C;do k[c++]=v[R++];while(--C);R=c-I,O=k}for(;T>2;)k[c++]=O[R++],k[c++]=O[R++],k[c++]=O[R++],T-=3;T&&(k[c++]=O[R++],T>1&&(k[c++]=O[R++]))}else{R=c-I;do k[c++]=k[R++],k[c++]=k[R++],k[c++]=k[R++],T-=3;while(T>2);T&&(k[c++]=k[R++],T>1&&(k[c++]=k[R++]))}}else if(C&64){n.msg="invalid distance code",a.mode=t;break e}else{E=x[(E&65535)+(m&(1<<C)-1)];continue r}break}}else if(C&64)if(C&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=t;break e}else{E=_[(E&65535)+(m&(1<<C)-1)];continue t}break}}while(o<s&&c<u);T=g>>3,o-=T,g-=T<<3,m&=(1<<g)-1,n.next_in=o,n.next_out=c,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=c<u?257+(u-c):257-(c-u),a.hold=m,a.bits=g},yC}var xC,qU;function xGe(){if(qU)return xC;qU=1;var t=$u(),e=15,r=852,n=592,i=0,a=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return xC=function(h,p,d,v,m,g,_,x){var b=x.bits,w=0,E=0,C=0,T=0,I=0,R=0,O=0,P=0,k=0,L=0,B,U,z,ee,ne,W=null,D=0,H,G=new t.Buf16(e+1),V=new t.Buf16(e+1),ie=null,se=0,ge,ue,we;for(w=0;w<=e;w++)G[w]=0;for(E=0;E<v;E++)G[p[d+E]]++;for(I=b,T=e;T>=1&&G[T]===0;T--);if(I>T&&(I=T),T===0)return m[g++]=1<<24|64<<16|0,m[g++]=1<<24|64<<16|0,x.bits=1,0;for(C=1;C<T&&G[C]===0;C++);for(I<C&&(I=C),P=1,w=1;w<=e;w++)if(P<<=1,P-=G[w],P<0)return-1;if(P>0&&(h===i||T!==1))return-1;for(V[1]=0,w=1;w<e;w++)V[w+1]=V[w]+G[w];for(E=0;E<v;E++)p[d+E]!==0&&(_[V[p[d+E]]++]=E);if(h===i?(W=ie=_,H=19):h===a?(W=s,D-=257,ie=c,se-=257,H=256):(W=l,ie=u,H=-1),L=0,E=0,w=C,ne=g,R=I,O=0,z=-1,k=1<<I,ee=k-1,h===a&&k>r||h===o&&k>n)return 1;for(;;){ge=w-O,_[E]<H?(ue=0,we=_[E]):_[E]>H?(ue=ie[se+_[E]],we=W[D+_[E]]):(ue=32+64,we=0),B=1<<w-O,U=1<<R,C=U;do U-=B,m[ne+(L>>O)+U]=ge<<24|ue<<16|we|0;while(U!==0);for(B=1<<w-1;L&B;)B>>=1;if(B!==0?(L&=B-1,L+=B):L=0,E++,--G[w]===0){if(w===T)break;w=p[d+_[E]]}if(w>I&&(L&ee)!==z){for(O===0&&(O=I),ne+=C,R=w-O,P=1<<R;R+O<T&&(P-=G[R+O],!(P<=0));)R++,P<<=1;if(k+=1<<R,h===a&&k>r||h===o&&k>n)return 1;z=L&ee,m[z]=I<<24|R<<16|ne-g|0}}return L!==0&&(m[ne+L]=w-O<<24|64<<16|0),x.bits=I,0},xC}var KU;function bGe(){if(KU)return lo;KU=1;var t=$u(),e=cY(),r=fY(),n=yGe(),i=xGe(),a=0,o=1,s=2,c=4,l=5,u=6,f=0,h=1,p=2,d=-2,v=-3,m=-4,g=-5,_=8,x=1,b=2,w=3,E=4,C=5,T=6,I=7,R=8,O=9,P=10,k=11,L=12,B=13,U=14,z=15,ee=16,ne=17,W=18,D=19,H=20,G=21,V=22,ie=23,se=24,ge=25,ue=26,we=27,Be=28,Fe=29,Ee=30,Te=31,Ge=32,We=852,Ve=592,Xe=15,qe=Xe;function wt(ae){return(ae>>>24&255)+(ae>>>8&65280)+((ae&65280)<<8)+((ae&255)<<24)}function At(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ct(ae){var Ie;return!ae||!ae.state?d:(Ie=ae.state,ae.total_in=ae.total_out=Ie.total=0,ae.msg="",Ie.wrap&&(ae.adler=Ie.wrap&1),Ie.mode=x,Ie.last=0,Ie.havedict=0,Ie.dmax=32768,Ie.head=null,Ie.hold=0,Ie.bits=0,Ie.lencode=Ie.lendyn=new t.Buf32(We),Ie.distcode=Ie.distdyn=new t.Buf32(Ve),Ie.sane=1,Ie.back=-1,f)}function ft(ae){var Ie;return!ae||!ae.state?d:(Ie=ae.state,Ie.wsize=0,Ie.whave=0,Ie.wnext=0,ct(ae))}function Et(ae,Ie){var X,Ue;return!ae||!ae.state||(Ue=ae.state,Ie<0?(X=0,Ie=-Ie):(X=(Ie>>4)+1,Ie<48&&(Ie&=15)),Ie&&(Ie<8||Ie>15))?d:(Ue.window!==null&&Ue.wbits!==Ie&&(Ue.window=null),Ue.wrap=X,Ue.wbits=Ie,ft(ae))}function Qt(ae,Ie){var X,Ue;return ae?(Ue=new At,ae.state=Ue,Ue.window=null,X=Et(ae,Ie),X!==f&&(ae.state=null),X):d}function Vt(ae){return Qt(ae,qe)}var er=!0,$t,yt;function Yt(ae){if(er){var Ie;for($t=new t.Buf32(512),yt=new t.Buf32(32),Ie=0;Ie<144;)ae.lens[Ie++]=8;for(;Ie<256;)ae.lens[Ie++]=9;for(;Ie<280;)ae.lens[Ie++]=7;for(;Ie<288;)ae.lens[Ie++]=8;for(i(o,ae.lens,0,288,$t,0,ae.work,{bits:9}),Ie=0;Ie<32;)ae.lens[Ie++]=5;i(s,ae.lens,0,32,yt,0,ae.work,{bits:5}),er=!1}ae.lencode=$t,ae.lenbits=9,ae.distcode=yt,ae.distbits=5}function Oe(ae,Ie,X,Ue){var dt,F=ae.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new t.Buf8(F.wsize)),Ue>=F.wsize?(t.arraySet(F.window,Ie,X-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(dt=F.wsize-F.wnext,dt>Ue&&(dt=Ue),t.arraySet(F.window,Ie,X-Ue,dt,F.wnext),Ue-=dt,Ue?(t.arraySet(F.window,Ie,X-Ue,Ue,0),F.wnext=Ue,F.whave=F.wsize):(F.wnext+=dt,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=dt))),0}function j(ae,Ie){var X,Ue,dt,F,Re,Pe,Y,le,Ce,ht,Je,at,Ot,Nn,ir=0,St,Sr,on,zn,bl,wl,sn,Gi,Ln=new t.Buf8(4),ka,na,xf=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ae||!ae.state||!ae.output||!ae.input&&ae.avail_in!==0)return d;X=ae.state,X.mode===L&&(X.mode=B),Re=ae.next_out,dt=ae.output,Y=ae.avail_out,F=ae.next_in,Ue=ae.input,Pe=ae.avail_in,le=X.hold,Ce=X.bits,ht=Pe,Je=Y,Gi=f;e:for(;;)switch(X.mode){case x:if(X.wrap===0){X.mode=B;break}for(;Ce<16;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(X.wrap&2&&le===35615){X.check=0,Ln[0]=le&255,Ln[1]=le>>>8&255,X.check=r(X.check,Ln,2,0),le=0,Ce=0,X.mode=b;break}if(X.flags=0,X.head&&(X.head.done=!1),!(X.wrap&1)||(((le&255)<<8)+(le>>8))%31){ae.msg="incorrect header check",X.mode=Ee;break}if((le&15)!==_){ae.msg="unknown compression method",X.mode=Ee;break}if(le>>>=4,Ce-=4,sn=(le&15)+8,X.wbits===0)X.wbits=sn;else if(sn>X.wbits){ae.msg="invalid window size",X.mode=Ee;break}X.dmax=1<<sn,ae.adler=X.check=1,X.mode=le&512?P:L,le=0,Ce=0;break;case b:for(;Ce<16;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(X.flags=le,(X.flags&255)!==_){ae.msg="unknown compression method",X.mode=Ee;break}if(X.flags&57344){ae.msg="unknown header flags set",X.mode=Ee;break}X.head&&(X.head.text=le>>8&1),X.flags&512&&(Ln[0]=le&255,Ln[1]=le>>>8&255,X.check=r(X.check,Ln,2,0)),le=0,Ce=0,X.mode=w;case w:for(;Ce<32;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}X.head&&(X.head.time=le),X.flags&512&&(Ln[0]=le&255,Ln[1]=le>>>8&255,Ln[2]=le>>>16&255,Ln[3]=le>>>24&255,X.check=r(X.check,Ln,4,0)),le=0,Ce=0,X.mode=E;case E:for(;Ce<16;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}X.head&&(X.head.xflags=le&255,X.head.os=le>>8),X.flags&512&&(Ln[0]=le&255,Ln[1]=le>>>8&255,X.check=r(X.check,Ln,2,0)),le=0,Ce=0,X.mode=C;case C:if(X.flags&1024){for(;Ce<16;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}X.length=le,X.head&&(X.head.extra_len=le),X.flags&512&&(Ln[0]=le&255,Ln[1]=le>>>8&255,X.check=r(X.check,Ln,2,0)),le=0,Ce=0}else X.head&&(X.head.extra=null);X.mode=T;case T:if(X.flags&1024&&(at=X.length,at>Pe&&(at=Pe),at&&(X.head&&(sn=X.head.extra_len-X.length,X.head.extra||(X.head.extra=new Array(X.head.extra_len)),t.arraySet(X.head.extra,Ue,F,at,sn)),X.flags&512&&(X.check=r(X.check,Ue,at,F)),Pe-=at,F+=at,X.length-=at),X.length))break e;X.length=0,X.mode=I;case I:if(X.flags&2048){if(Pe===0)break e;at=0;do sn=Ue[F+at++],X.head&&sn&&X.length<65536&&(X.head.name+=String.fromCharCode(sn));while(sn&&at<Pe);if(X.flags&512&&(X.check=r(X.check,Ue,at,F)),Pe-=at,F+=at,sn)break e}else X.head&&(X.head.name=null);X.length=0,X.mode=R;case R:if(X.flags&4096){if(Pe===0)break e;at=0;do sn=Ue[F+at++],X.head&&sn&&X.length<65536&&(X.head.comment+=String.fromCharCode(sn));while(sn&&at<Pe);if(X.flags&512&&(X.check=r(X.check,Ue,at,F)),Pe-=at,F+=at,sn)break e}else X.head&&(X.head.comment=null);X.mode=O;case O:if(X.flags&512){for(;Ce<16;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(le!==(X.check&65535)){ae.msg="header crc mismatch",X.mode=Ee;break}le=0,Ce=0}X.head&&(X.head.hcrc=X.flags>>9&1,X.head.done=!0),ae.adler=X.check=0,X.mode=L;break;case P:for(;Ce<32;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}ae.adler=X.check=wt(le),le=0,Ce=0,X.mode=k;case k:if(X.havedict===0)return ae.next_out=Re,ae.avail_out=Y,ae.next_in=F,ae.avail_in=Pe,X.hold=le,X.bits=Ce,p;ae.adler=X.check=1,X.mode=L;case L:if(Ie===l||Ie===u)break e;case B:if(X.last){le>>>=Ce&7,Ce-=Ce&7,X.mode=we;break}for(;Ce<3;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}switch(X.last=le&1,le>>>=1,Ce-=1,le&3){case 0:X.mode=U;break;case 1:if(Yt(X),X.mode=H,Ie===u){le>>>=2,Ce-=2;break e}break;case 2:X.mode=ne;break;case 3:ae.msg="invalid block type",X.mode=Ee}le>>>=2,Ce-=2;break;case U:for(le>>>=Ce&7,Ce-=Ce&7;Ce<32;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if((le&65535)!==(le>>>16^65535)){ae.msg="invalid stored block lengths",X.mode=Ee;break}if(X.length=le&65535,le=0,Ce=0,X.mode=z,Ie===u)break e;case z:X.mode=ee;case ee:if(at=X.length,at){if(at>Pe&&(at=Pe),at>Y&&(at=Y),at===0)break e;t.arraySet(dt,Ue,F,at,Re),Pe-=at,F+=at,Y-=at,Re+=at,X.length-=at;break}X.mode=L;break;case ne:for(;Ce<14;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(X.nlen=(le&31)+257,le>>>=5,Ce-=5,X.ndist=(le&31)+1,le>>>=5,Ce-=5,X.ncode=(le&15)+4,le>>>=4,Ce-=4,X.nlen>286||X.ndist>30){ae.msg="too many length or distance symbols",X.mode=Ee;break}X.have=0,X.mode=W;case W:for(;X.have<X.ncode;){for(;Ce<3;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}X.lens[xf[X.have++]]=le&7,le>>>=3,Ce-=3}for(;X.have<19;)X.lens[xf[X.have++]]=0;if(X.lencode=X.lendyn,X.lenbits=7,ka={bits:X.lenbits},Gi=i(a,X.lens,0,19,X.lencode,0,X.work,ka),X.lenbits=ka.bits,Gi){ae.msg="invalid code lengths set",X.mode=Ee;break}X.have=0,X.mode=D;case D:for(;X.have<X.nlen+X.ndist;){for(;ir=X.lencode[le&(1<<X.lenbits)-1],St=ir>>>24,Sr=ir>>>16&255,on=ir&65535,!(St<=Ce);){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(on<16)le>>>=St,Ce-=St,X.lens[X.have++]=on;else{if(on===16){for(na=St+2;Ce<na;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(le>>>=St,Ce-=St,X.have===0){ae.msg="invalid bit length repeat",X.mode=Ee;break}sn=X.lens[X.have-1],at=3+(le&3),le>>>=2,Ce-=2}else if(on===17){for(na=St+3;Ce<na;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}le>>>=St,Ce-=St,sn=0,at=3+(le&7),le>>>=3,Ce-=3}else{for(na=St+7;Ce<na;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}le>>>=St,Ce-=St,sn=0,at=11+(le&127),le>>>=7,Ce-=7}if(X.have+at>X.nlen+X.ndist){ae.msg="invalid bit length repeat",X.mode=Ee;break}for(;at--;)X.lens[X.have++]=sn}}if(X.mode===Ee)break;if(X.lens[256]===0){ae.msg="invalid code -- missing end-of-block",X.mode=Ee;break}if(X.lenbits=9,ka={bits:X.lenbits},Gi=i(o,X.lens,0,X.nlen,X.lencode,0,X.work,ka),X.lenbits=ka.bits,Gi){ae.msg="invalid literal/lengths set",X.mode=Ee;break}if(X.distbits=6,X.distcode=X.distdyn,ka={bits:X.distbits},Gi=i(s,X.lens,X.nlen,X.ndist,X.distcode,0,X.work,ka),X.distbits=ka.bits,Gi){ae.msg="invalid distances set",X.mode=Ee;break}if(X.mode=H,Ie===u)break e;case H:X.mode=G;case G:if(Pe>=6&&Y>=258){ae.next_out=Re,ae.avail_out=Y,ae.next_in=F,ae.avail_in=Pe,X.hold=le,X.bits=Ce,n(ae,Je),Re=ae.next_out,dt=ae.output,Y=ae.avail_out,F=ae.next_in,Ue=ae.input,Pe=ae.avail_in,le=X.hold,Ce=X.bits,X.mode===L&&(X.back=-1);break}for(X.back=0;ir=X.lencode[le&(1<<X.lenbits)-1],St=ir>>>24,Sr=ir>>>16&255,on=ir&65535,!(St<=Ce);){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(Sr&&!(Sr&240)){for(zn=St,bl=Sr,wl=on;ir=X.lencode[wl+((le&(1<<zn+bl)-1)>>zn)],St=ir>>>24,Sr=ir>>>16&255,on=ir&65535,!(zn+St<=Ce);){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}le>>>=zn,Ce-=zn,X.back+=zn}if(le>>>=St,Ce-=St,X.back+=St,X.length=on,Sr===0){X.mode=ue;break}if(Sr&32){X.back=-1,X.mode=L;break}if(Sr&64){ae.msg="invalid literal/length code",X.mode=Ee;break}X.extra=Sr&15,X.mode=V;case V:if(X.extra){for(na=X.extra;Ce<na;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}X.length+=le&(1<<X.extra)-1,le>>>=X.extra,Ce-=X.extra,X.back+=X.extra}X.was=X.length,X.mode=ie;case ie:for(;ir=X.distcode[le&(1<<X.distbits)-1],St=ir>>>24,Sr=ir>>>16&255,on=ir&65535,!(St<=Ce);){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(!(Sr&240)){for(zn=St,bl=Sr,wl=on;ir=X.distcode[wl+((le&(1<<zn+bl)-1)>>zn)],St=ir>>>24,Sr=ir>>>16&255,on=ir&65535,!(zn+St<=Ce);){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}le>>>=zn,Ce-=zn,X.back+=zn}if(le>>>=St,Ce-=St,X.back+=St,Sr&64){ae.msg="invalid distance code",X.mode=Ee;break}X.offset=on,X.extra=Sr&15,X.mode=se;case se:if(X.extra){for(na=X.extra;Ce<na;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}X.offset+=le&(1<<X.extra)-1,le>>>=X.extra,Ce-=X.extra,X.back+=X.extra}if(X.offset>X.dmax){ae.msg="invalid distance too far back",X.mode=Ee;break}X.mode=ge;case ge:if(Y===0)break e;if(at=Je-Y,X.offset>at){if(at=X.offset-at,at>X.whave&&X.sane){ae.msg="invalid distance too far back",X.mode=Ee;break}at>X.wnext?(at-=X.wnext,Ot=X.wsize-at):Ot=X.wnext-at,at>X.length&&(at=X.length),Nn=X.window}else Nn=dt,Ot=Re-X.offset,at=X.length;at>Y&&(at=Y),Y-=at,X.length-=at;do dt[Re++]=Nn[Ot++];while(--at);X.length===0&&(X.mode=G);break;case ue:if(Y===0)break e;dt[Re++]=X.length,Y--,X.mode=G;break;case we:if(X.wrap){for(;Ce<32;){if(Pe===0)break e;Pe--,le|=Ue[F++]<<Ce,Ce+=8}if(Je-=Y,ae.total_out+=Je,X.total+=Je,Je&&(ae.adler=X.check=X.flags?r(X.check,dt,Je,Re-Je):e(X.check,dt,Je,Re-Je)),Je=Y,(X.flags?le:wt(le))!==X.check){ae.msg="incorrect data check",X.mode=Ee;break}le=0,Ce=0}X.mode=Be;case Be:if(X.wrap&&X.flags){for(;Ce<32;){if(Pe===0)break e;Pe--,le+=Ue[F++]<<Ce,Ce+=8}if(le!==(X.total&4294967295)){ae.msg="incorrect length check",X.mode=Ee;break}le=0,Ce=0}X.mode=Fe;case Fe:Gi=h;break e;case Ee:Gi=v;break e;case Te:return m;case Ge:default:return d}return ae.next_out=Re,ae.avail_out=Y,ae.next_in=F,ae.avail_in=Pe,X.hold=le,X.bits=Ce,(X.wsize||Je!==ae.avail_out&&X.mode<Ee&&(X.mode<we||Ie!==c))&&Oe(ae,ae.output,ae.next_out,Je-ae.avail_out),ht-=ae.avail_in,Je-=ae.avail_out,ae.total_in+=ht,ae.total_out+=Je,X.total+=Je,X.wrap&&Je&&(ae.adler=X.check=X.flags?r(X.check,dt,Je,ae.next_out-Je):e(X.check,dt,Je,ae.next_out-Je)),ae.data_type=X.bits+(X.last?64:0)+(X.mode===L?128:0)+(X.mode===H||X.mode===z?256:0),(ht===0&&Je===0||Ie===c)&&Gi===f&&(Gi=g),Gi}function he(ae){if(!ae||!ae.state)return d;var Ie=ae.state;return Ie.window&&(Ie.window=null),ae.state=null,f}function Se(ae,Ie){var X;return!ae||!ae.state||(X=ae.state,!(X.wrap&2))?d:(X.head=Ie,Ie.done=!1,f)}function ke(ae,Ie){var X=Ie.length,Ue,dt,F;return!ae||!ae.state||(Ue=ae.state,Ue.wrap!==0&&Ue.mode!==k)?d:Ue.mode===k&&(dt=1,dt=e(dt,Ie,X,0),dt!==Ue.check)?v:(F=Oe(ae,Ie,X,X),F?(Ue.mode=Te,m):(Ue.havedict=1,f))}return lo.inflateReset=ft,lo.inflateReset2=Et,lo.inflateResetKeep=ct,lo.inflateInit=Vt,lo.inflateInit2=Qt,lo.inflate=j,lo.inflateEnd=he,lo.inflateGetHeader=Se,lo.inflateSetDictionary=ke,lo.inflateInfo="pako inflate (from Nodeca project)",lo}var bC,ZU;function pY(){return ZU||(ZU=1,bC={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),bC}var wC,JU;function wGe(){if(JU)return wC;JU=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return wC=t,wC}var QU;function EGe(){if(QU)return eh;QU=1;var t=bGe(),e=$u(),r=hY(),n=pY(),i=t4(),a=dY(),o=wGe(),s=Object.prototype.toString;function c(f){if(!(this instanceof c))return new c(f);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},f||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(f&&f.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15||(h.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var p=t.inflateInit2(this.strm,h.windowBits);if(p!==n.Z_OK)throw new Error(i[p]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=r.string2buf(h.dictionary):s.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(p=t.inflateSetDictionary(this.strm,h.dictionary),p!==n.Z_OK)))throw new Error(i[p])}c.prototype.push=function(f,h){var p=this.strm,d=this.options.chunkSize,v=this.options.dictionary,m,g,_,x,b,w=!1;if(this.ended)return!1;g=h===~~h?h:h===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof f=="string"?p.input=r.binstring2buf(f):s.call(f)==="[object ArrayBuffer]"?p.input=new Uint8Array(f):p.input=f,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new e.Buf8(d),p.next_out=0,p.avail_out=d),m=t.inflate(p,n.Z_NO_FLUSH),m===n.Z_NEED_DICT&&v&&(m=t.inflateSetDictionary(this.strm,v)),m===n.Z_BUF_ERROR&&w===!0&&(m=n.Z_OK,w=!1),m!==n.Z_STREAM_END&&m!==n.Z_OK)return this.onEnd(m),this.ended=!0,!1;p.next_out&&(p.avail_out===0||m===n.Z_STREAM_END||p.avail_in===0&&(g===n.Z_FINISH||g===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(_=r.utf8border(p.output,p.next_out),x=p.next_out-_,b=r.buf2string(p.output,_),p.next_out=x,p.avail_out=d-x,x&&e.arraySet(p.output,p.output,_,x,0),this.onData(b)):this.onData(e.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(w=!0)}while((p.avail_in>0||p.avail_out===0)&&m!==n.Z_STREAM_END);return m===n.Z_STREAM_END&&(g=n.Z_FINISH),g===n.Z_FINISH?(m=t.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===n.Z_OK):(g===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),p.avail_out=0),!0)},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function l(f,h){var p=new c(h);if(p.push(f,!0),p.err)throw p.msg||i[p.err];return p.result}function u(f,h){return h=h||{},h.raw=!0,l(f,h)}return eh.Inflate=c,eh.inflate=l,eh.inflateRaw=u,eh.ungzip=l,eh}var EC,ej;function SGe(){if(ej)return EC;ej=1;var t=$u().assign,e=_Ge(),r=EGe(),n=pY(),i={};return t(i,e,r,n),EC=i,EC}(function(t){(function(){var e={},r;t.exports=e,typeof dh=="function"?r=SGe():r=window.pako,function(n,i){n.toRGBA8=function(a){var o=a.width,s=a.height;if(a.tabs.acTL==null)return[n.toRGBA8.decodeImage(a.data,o,s,a).buffer];var c=[];a.frames[0].data==null&&(a.frames[0].data=a.data);for(var l,u=new Uint8Array(o*s*4),f=0;f<a.frames.length;f++){var h=a.frames[f],p=h.rect.x,d=h.rect.y,v=h.rect.width,m=h.rect.height,g=n.toRGBA8.decodeImage(h.data,v,m,a);if(f==0?l=g:h.blend==0?n._copyTile(g,v,m,l,o,s,p,d,0):h.blend==1&&n._copyTile(g,v,m,l,o,s,p,d,1),c.push(l.buffer),l=l.slice(0),h.dispose!=0){if(h.dispose==1)n._copyTile(u,v,m,l,o,s,p,d,0);else if(h.dispose==2){for(var _=f-1;a.frames[_].dispose==2;)_--;l=new Uint8Array(c[_]).slice(0)}}}return c},n.toRGBA8.decodeImage=function(a,o,s,c){var l=o*s,u=n.decode._getBPP(c),f=Math.ceil(o*u/8),h=new Uint8Array(l*4),p=new Uint32Array(h.buffer),d=c.ctype,v=c.depth,m=n._bin.readUshort;if(d==6){var g=l<<2;if(v==8)for(var _=0;_<g;_++)h[_]=a[_];if(v==16)for(var _=0;_<g;_++)h[_]=a[_<<1]}else if(d==2){var x=c.tabs.tRNS,b=-1,w=-1,E=-1;if(x&&(b=x[0],w=x[1],E=x[2]),v==8)for(var _=0;_<l;_++){var C=_<<2,T=_*3;h[C]=a[T],h[C+1]=a[T+1],h[C+2]=a[T+2],h[C+3]=255,b!=-1&&a[T]==b&&a[T+1]==w&&a[T+2]==E&&(h[C+3]=0)}if(v==16)for(var _=0;_<l;_++){var C=_<<2,T=_*6;h[C]=a[T],h[C+1]=a[T+2],h[C+2]=a[T+4],h[C+3]=255,b!=-1&&m(a,T)==b&&m(a,T+2)==w&&m(a,T+4)==E&&(h[C+3]=0)}}else if(d==3){var I=c.tabs.PLTE,R=c.tabs.tRNS,O=R?R.length:0;if(v==1)for(var P=0;P<s;P++)for(var k=P*f,L=P*o,_=0;_<o;_++){var C=L+_<<2,B=a[k+(_>>3)]>>7-((_&7)<<0)&1,U=3*B;h[C]=I[U],h[C+1]=I[U+1],h[C+2]=I[U+2],h[C+3]=B<O?R[B]:255}if(v==2)for(var P=0;P<s;P++)for(var k=P*f,L=P*o,_=0;_<o;_++){var C=L+_<<2,B=a[k+(_>>2)]>>6-((_&3)<<1)&3,U=3*B;h[C]=I[U],h[C+1]=I[U+1],h[C+2]=I[U+2],h[C+3]=B<O?R[B]:255}if(v==4)for(var P=0;P<s;P++)for(var k=P*f,L=P*o,_=0;_<o;_++){var C=L+_<<2,B=a[k+(_>>1)]>>4-((_&1)<<2)&15,U=3*B;h[C]=I[U],h[C+1]=I[U+1],h[C+2]=I[U+2],h[C+3]=B<O?R[B]:255}if(v==8)for(var _=0;_<l;_++){var C=_<<2,B=a[_],U=3*B;h[C]=I[U],h[C+1]=I[U+1],h[C+2]=I[U+2],h[C+3]=B<O?R[B]:255}}else if(d==4){if(v==8)for(var _=0;_<l;_++){var C=_<<2,z=_<<1,ee=a[z];h[C]=ee,h[C+1]=ee,h[C+2]=ee,h[C+3]=a[z+1]}if(v==16)for(var _=0;_<l;_++){var C=_<<2,z=_<<2,ee=a[z];h[C]=ee,h[C+1]=ee,h[C+2]=ee,h[C+3]=a[z+2]}}else if(d==0){var b=c.tabs.tRNS?c.tabs.tRNS:-1;if(v==1)for(var _=0;_<l;_++){var ee=255*(a[_>>3]>>7-(_&7)&1),ne=ee==b*255?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(v==2)for(var _=0;_<l;_++){var ee=85*(a[_>>2]>>6-((_&3)<<1)&3),ne=ee==b*85?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(v==4)for(var _=0;_<l;_++){var ee=17*(a[_>>1]>>4-((_&1)<<2)&15),ne=ee==b*17?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(v==8)for(var _=0;_<l;_++){var ee=a[_],ne=ee==b?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(v==16)for(var _=0;_<l;_++){var ee=a[_<<1],ne=m(a,_<<1)==b?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}}return h},n.decode=function(a){for(var o=new Uint8Array(a),s=8,c=n._bin,l=c.readUshort,u=c.readUint,f={tabs:{},frames:[]},h=new Uint8Array(o.length),p=0,d,v=0,m=[137,80,78,71,13,10,26,10],g=0;g<8;g++)if(o[g]!=m[g])throw"The input is not a PNG file!";for(;s<o.length;){var _=c.readUint(o,s);s+=4;var x=c.readASCII(o,s,4);if(s+=4,x=="IHDR")n.decode._IHDR(o,s,f);else if(x=="IDAT"){for(var g=0;g<_;g++)h[p+g]=o[s+g];p+=_}else if(x=="acTL")f.tabs[x]={num_frames:u(o,s),num_plays:u(o,s+4)},d=new Uint8Array(o.length);else if(x=="fcTL"){if(v!=0){var b=f.frames[f.frames.length-1];b.data=n.decode._decompress(f,d.slice(0,v),b.rect.width,b.rect.height),v=0}var w={x:u(o,s+12),y:u(o,s+16),width:u(o,s+4),height:u(o,s+8)},E=l(o,s+22);E=l(o,s+20)/(E==0?100:E);var C={rect:w,delay:Math.round(E*1e3),dispose:o[s+24],blend:o[s+25]};f.frames.push(C)}else if(x=="fdAT"){for(var g=0;g<_-4;g++)d[v+g]=o[s+g+4];v+=_-4}else if(x=="pHYs")f.tabs[x]=[c.readUint(o,s),c.readUint(o,s+4),o[s+8]];else if(x=="cHRM"){f.tabs[x]=[];for(var g=0;g<8;g++)f.tabs[x].push(c.readUint(o,s+g*4))}else if(x=="tEXt"){f.tabs[x]==null&&(f.tabs[x]={});var T=c.nextZero(o,s),I=c.readASCII(o,s,T-s),R=c.readASCII(o,T+1,s+_-T-1);f.tabs[x][I]=R}else if(x=="iTXt"){f.tabs[x]==null&&(f.tabs[x]={});var T=0,O=s;T=c.nextZero(o,O);var I=c.readASCII(o,O,T-O);O=T+1,o[O],o[O+1],O+=2,T=c.nextZero(o,O),c.readASCII(o,O,T-O),O=T+1,T=c.nextZero(o,O),c.readUTF8(o,O,T-O),O=T+1;var R=c.readUTF8(o,O,_-(O-s));f.tabs[x][I]=R}else if(x=="PLTE")f.tabs[x]=c.readBytes(o,s,_);else if(x=="hIST"){var P=f.tabs.PLTE.length/3;f.tabs[x]=[];for(var g=0;g<P;g++)f.tabs[x].push(l(o,s+g*2))}else if(x=="tRNS")f.ctype==3?f.tabs[x]=c.readBytes(o,s,_):f.ctype==0?f.tabs[x]=l(o,s):f.ctype==2&&(f.tabs[x]=[l(o,s),l(o,s+2),l(o,s+4)]);else if(x=="gAMA")f.tabs[x]=c.readUint(o,s)/1e5;else if(x=="sRGB")f.tabs[x]=o[s];else if(x=="bKGD")f.ctype==0||f.ctype==4?f.tabs[x]=[l(o,s)]:f.ctype==2||f.ctype==6?f.tabs[x]=[l(o,s),l(o,s+2),l(o,s+4)]:f.ctype==3&&(f.tabs[x]=o[s]);else if(x=="IEND"){if(v!=0){var b=f.frames[f.frames.length-1];b.data=n.decode._decompress(f,d.slice(0,v),b.rect.width,b.rect.height),v=0}f.data=n.decode._decompress(f,h,f.width,f.height);break}s+=_,c.readUint(o,s),s+=4}return delete f.compress,delete f.interlace,delete f.filter,f},n.decode._decompress=function(a,o,s,c){return a.compress==0&&(o=n.decode._inflate(o)),a.interlace==0?o=n.decode._filterZero(o,a,0,s,c):a.interlace==1&&(o=n.decode._readInterlace(o,a)),o},n.decode._inflate=function(a){return i.inflate(a)},n.decode._readInterlace=function(a,o){for(var s=o.width,c=o.height,l=n.decode._getBPP(o),u=l>>3,f=Math.ceil(s*l/8),h=new Uint8Array(c*f),p=0,d=[0,0,4,0,2,0,1],v=[0,4,0,2,0,1,0],m=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1],_=0;_<7;){for(var x=m[_],b=g[_],w=0,E=0,C=d[_];C<c;)C+=x,E++;for(var T=v[_];T<s;)T+=b,w++;var I=Math.ceil(w*l/8);n.decode._filterZero(a,o,p,w,E);for(var R=0,O=d[_];O<c;){for(var P=v[_],k=p+R*I<<3;P<s;){if(l==1){var L=a[k>>3];L=L>>7-(k&7)&1,h[O*f+(P>>3)]|=L<<7-((P&3)<<0)}if(l==2){var L=a[k>>3];L=L>>6-(k&7)&3,h[O*f+(P>>2)]|=L<<6-((P&3)<<1)}if(l==4){var L=a[k>>3];L=L>>4-(k&7)&15,h[O*f+(P>>1)]|=L<<4-((P&1)<<2)}if(l>=8)for(var B=O*f+P*u,U=0;U<u;U++)h[B+U]=a[(k>>3)+U];k+=l,P+=b}R++,O+=x}w*E!=0&&(p+=E*(1+I)),_=_+1}return h},n.decode._getBPP=function(a){var o=[1,null,3,1,2,null,4][a.ctype];return o*a.depth},n.decode._filterZero=function(a,o,s,c,l){var u=n.decode._getBPP(o),f=Math.ceil(c*u/8),h=n.decode._paeth;u=Math.ceil(u/8);for(var p=0;p<l;p++){var d=s+p*f,v=d+p+1,m=a[v-1];if(m==0)for(var g=0;g<f;g++)a[d+g]=a[v+g];else if(m==1){for(var g=0;g<u;g++)a[d+g]=a[v+g];for(var g=u;g<f;g++)a[d+g]=a[v+g]+a[d+g-u]&255}else if(p==0){for(var g=0;g<u;g++)a[d+g]=a[v+g];if(m==2)for(var g=u;g<f;g++)a[d+g]=a[v+g]&255;if(m==3)for(var g=u;g<f;g++)a[d+g]=a[v+g]+(a[d+g-u]>>1)&255;if(m==4)for(var g=u;g<f;g++)a[d+g]=a[v+g]+h(a[d+g-u],0,0)&255}else{if(m==2)for(var g=0;g<f;g++)a[d+g]=a[v+g]+a[d+g-f]&255;if(m==3){for(var g=0;g<u;g++)a[d+g]=a[v+g]+(a[d+g-f]>>1)&255;for(var g=u;g<f;g++)a[d+g]=a[v+g]+(a[d+g-f]+a[d+g-u]>>1)&255}if(m==4){for(var g=0;g<u;g++)a[d+g]=a[v+g]+h(0,a[d+g-f],0)&255;for(var g=u;g<f;g++)a[d+g]=a[v+g]+h(a[d+g-u],a[d+g-f],a[d+g-u-f])&255}}}return a},n.decode._paeth=function(a,o,s){var c=a+o-s,l=Math.abs(c-a),u=Math.abs(c-o),f=Math.abs(c-s);return l<=u&&l<=f?a:u<=f?o:s},n.decode._IHDR=function(a,o,s){var c=n._bin;s.width=c.readUint(a,o),o+=4,s.height=c.readUint(a,o),o+=4,s.depth=a[o],o++,s.ctype=a[o],o++,s.compress=a[o],o++,s.filter=a[o],o++,s.interlace=a[o],o++},n._bin={nextZero:function(a,o){for(;a[o]!=0;)o++;return o},readUshort:function(a,o){return a[o]<<8|a[o+1]},writeUshort:function(a,o,s){a[o]=s>>8&255,a[o+1]=s&255},readUint:function(a,o){return a[o]*(256*256*256)+(a[o+1]<<16|a[o+2]<<8|a[o+3])},writeUint:function(a,o,s){a[o]=s>>24&255,a[o+1]=s>>16&255,a[o+2]=s>>8&255,a[o+3]=s&255},readASCII:function(a,o,s){for(var c="",l=0;l<s;l++)c+=String.fromCharCode(a[o+l]);return c},writeASCII:function(a,o,s){for(var c=0;c<s.length;c++)a[o+c]=s.charCodeAt(c)},readBytes:function(a,o,s){for(var c=[],l=0;l<s;l++)c.push(a[o+l]);return c},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,o,s){for(var c="",l,u=0;u<s;u++)c+="%"+n._bin.pad(a[o+u].toString(16));try{l=decodeURIComponent(c)}catch{return n._bin.readASCII(a,o,s)}return l}},n._copyTile=function(a,o,s,c,l,u,f,h,p){for(var d=Math.min(o,l),v=Math.min(s,u),m=0,g=0,_=0;_<v;_++)for(var x=0;x<d;x++)if(f>=0&&h>=0?(m=_*o+x<<2,g=(h+_)*l+f+x<<2):(m=(-h+_)*o-f+x<<2,g=_*l+x<<2),p==0)c[g]=a[m],c[g+1]=a[m+1],c[g+2]=a[m+2],c[g+3]=a[m+3];else if(p==1){var b=a[m+3]*.00392156862745098,w=a[m]*b,E=a[m+1]*b,C=a[m+2]*b,T=c[g+3]*(1/255),I=c[g]*T,R=c[g+1]*T,O=c[g+2]*T,P=1-b,k=b+T*P,L=k==0?0:1/k;c[g+3]=255*k,c[g+0]=(w+I*P)*L,c[g+1]=(E+R*P)*L,c[g+2]=(C+O*P)*L}else if(p==2){var b=a[m+3],w=a[m],E=a[m+1],C=a[m+2],T=c[g+3],I=c[g],R=c[g+1],O=c[g+2];b==T&&w==I&&E==R&&C==O?(c[g]=0,c[g+1]=0,c[g+2]=0,c[g+3]=0):(c[g]=w,c[g+1]=E,c[g+2]=C,c[g+3]=b)}else if(p==3){var b=a[m+3],w=a[m],E=a[m+1],C=a[m+2],T=c[g+3],I=c[g],R=c[g+1],O=c[g+2];if(b==T&&w==I&&E==R&&C==O)continue;if(b<220&&T>20)return!1}return!0},n.encode=function(a,o,s,c,l,u){c==null&&(c=0),u==null&&(u=!1);for(var f=new Uint8Array(a[0].byteLength*a.length+100),h=[137,80,78,71,13,10,26,10],p=0;p<8;p++)f[p]=h[p];var d=8,v=n._bin,m=n.crc.crc,g=v.writeUint,_=v.writeUshort,x=v.writeASCII,b=n.encode.compressPNG(a,o,s,c,u);g(f,d,13),d+=4,x(f,d,"IHDR"),d+=4,g(f,d,o),d+=4,g(f,d,s),d+=4,f[d]=b.depth,d++,f[d]=b.ctype,d++,f[d]=0,d++,f[d]=0,d++,f[d]=0,d++,g(f,d,m(f,d-17,17)),d+=4,g(f,d,1),d+=4,x(f,d,"sRGB"),d+=4,f[d]=1,d++,g(f,d,m(f,d-5,5)),d+=4;var w=a.length>1;if(w&&(g(f,d,8),d+=4,x(f,d,"acTL"),d+=4,g(f,d,a.length),d+=4,g(f,d,0),d+=4,g(f,d,m(f,d-12,12)),d+=4),b.ctype==3){var E=b.plte.length;g(f,d,E*3),d+=4,x(f,d,"PLTE"),d+=4;for(var p=0;p<E;p++){var C=p*3,T=b.plte[p],I=T&255,R=T>>8&255,O=T>>16&255;f[d+C+0]=I,f[d+C+1]=R,f[d+C+2]=O}if(d+=E*3,g(f,d,m(f,d-E*3-4,E*3+4)),d+=4,b.gotAlpha){g(f,d,E),d+=4,x(f,d,"tRNS"),d+=4;for(var p=0;p<E;p++)f[d+p]=b.plte[p]>>24&255;d+=E,g(f,d,m(f,d-E-4,E+4)),d+=4}}for(var P=0,k=0;k<b.frames.length;k++){var L=b.frames[k];w&&(g(f,d,26),d+=4,x(f,d,"fcTL"),d+=4,g(f,d,P++),d+=4,g(f,d,L.rect.width),d+=4,g(f,d,L.rect.height),d+=4,g(f,d,L.rect.x),d+=4,g(f,d,L.rect.y),d+=4,_(f,d,l[k]),d+=2,_(f,d,1e3),d+=2,f[d]=L.dispose,d++,f[d]=L.blend,d++,g(f,d,m(f,d-30,30)),d+=4);var B=L.cimg,E=B.length;g(f,d,E+(k==0?0:4)),d+=4;var U=d;x(f,d,k==0?"IDAT":"fdAT"),d+=4,k!=0&&(g(f,d,P++),d+=4);for(var p=0;p<E;p++)f[d+p]=B[p];d+=E,g(f,d,m(f,U,d-U)),d+=4}return g(f,d,0),d+=4,x(f,d,"IEND"),d+=4,g(f,d,m(f,d-4,4)),d+=4,f.buffer.slice(0,d)},n.encode.compressPNG=function(a,o,s,c,l){for(var u=n.encode.compress(a,o,s,c,!1,l),f=0;f<a.length;f++){var h=u.frames[f];h.rect.width;var p=h.rect.height,d=h.bpl,v=h.bpp,m=new Uint8Array(p*d+p);h.cimg=n.encode._filterZero(h.img,p,v,d,m)}return u},n.encode.compress=function(a,o,s,c,l,u){u==null&&(u=!1);for(var f=6,h=8,p=4,d=255,v=0;v<a.length;v++)for(var m=new Uint8Array(a[v]),g=m.length,_=0;_<g;_+=4)d&=m[_+3];var x=d!=255,b={},w=[];if(a.length!=0&&(b[0]=0,w.push(0),c!=0&&c--),c!=0){var E=n.quantize(a,c,l);a=E.bufs;for(var _=0;_<E.plte.length;_++){var C=E.plte[_].est.rgba;b[C]==null&&(b[C]=w.length,w.push(C))}}else for(var v=0;v<a.length;v++)for(var T=new Uint32Array(a[v]),g=T.length,_=0;_<g;_++){var C=T[_];if((_<o||C!=T[_-1]&&C!=T[_-o])&&b[C]==null&&(b[C]=w.length,w.push(C),w.length>=300))break}var I=x?l:!1,R=w.length;R<=256&&u==!1&&(R<=2?h=1:R<=4?h=2:R<=16?h=4:h=8,l&&(h=8),x=!0);for(var O=[],v=0;v<a.length;v++){var P=new Uint8Array(a[v]),k=new Uint32Array(P.buffer),L=0,B=0,U=o,z=s,ee=0;if(v!=0&&!I){for(var ne=l||v==1||O[O.length-2].dispose==2?1:2,W=0,D=1e9,H=0;H<ne;H++){for(var Fe=new Uint8Array(a[v-1-H]),G=new Uint32Array(a[v-1-H]),V=o,ie=s,se=-1,ge=-1,ue=0;ue<s;ue++)for(var we=0;we<o;we++){var _=ue*o+we;k[_]!=G[_]&&(we<V&&(V=we),we>se&&(se=we),ue<ie&&(ie=ue),ue>ge&&(ge=ue))}var Be=se==-1?1:(se-V+1)*(ge-ie+1);Be<D&&(D=Be,W=H,se==-1?(L=B=0,U=z=1):(L=V,B=ie,U=se-V+1,z=ge-ie+1))}var Fe=new Uint8Array(a[v-1-W]);W==1&&(O[O.length-1].dispose=2);var Ee=new Uint8Array(U*z*4);new Uint32Array(Ee.buffer),n._copyTile(Fe,o,s,Ee,U,z,-L,-B,0),n._copyTile(P,o,s,Ee,U,z,-L,-B,3)?(n._copyTile(P,o,s,Ee,U,z,-L,-B,2),ee=1):(n._copyTile(P,o,s,Ee,U,z,-L,-B,0),ee=0),P=Ee,k=new Uint32Array(P.buffer)}var Te=4*U;if(R<=256&&u==!1){Te=Math.ceil(h*U/8);for(var Ee=new Uint8Array(Te*z),ue=0;ue<z;ue++){var _=ue*Te,Ge=ue*U;if(h==8)for(var we=0;we<U;we++)Ee[_+we]=b[k[Ge+we]];else if(h==4)for(var we=0;we<U;we++)Ee[_+(we>>1)]|=b[k[Ge+we]]<<4-(we&1)*4;else if(h==2)for(var we=0;we<U;we++)Ee[_+(we>>2)]|=b[k[Ge+we]]<<6-(we&3)*2;else if(h==1)for(var we=0;we<U;we++)Ee[_+(we>>3)]|=b[k[Ge+we]]<<7-(we&7)*1}P=Ee,f=3,p=1}else if(x==!1&&a.length==1){for(var Ee=new Uint8Array(U*z*3),We=U*z,_=0;_<We;_++){var Ve=_*3,Xe=_*4;Ee[Ve]=P[Xe],Ee[Ve+1]=P[Xe+1],Ee[Ve+2]=P[Xe+2]}P=Ee,f=2,p=3,Te=3*U}O.push({rect:{x:L,y:B,width:U,height:z},img:P,bpl:Te,bpp:p,blend:ee,dispose:I?1:0})}return{ctype:f,depth:h,plte:w,gotAlpha:x,frames:O}},n.encode._filterZero=function(a,o,s,c,l){for(var u=[],f=0;f<5;f++)if(!(o*c>5e5&&(f==2||f==3||f==4))){for(var h=0;h<o;h++)n.encode._filterLine(l,a,h,c,s,f);if(u.push(i.deflate(l)),s==1)break}for(var p,d=1e9,v=0;v<u.length;v++)u[v].length<d&&(p=v,d=u[v].length);return u[p]},n.encode._filterLine=function(a,o,s,c,l,u){var f=s*c,h=f+s,p=n.decode._paeth;if(a[h]=u,h++,u==0)for(var d=0;d<c;d++)a[h+d]=o[f+d];else if(u==1){for(var d=0;d<l;d++)a[h+d]=o[f+d];for(var d=l;d<c;d++)a[h+d]=o[f+d]-o[f+d-l]+256&255}else if(s==0){for(var d=0;d<l;d++)a[h+d]=o[f+d];if(u==2)for(var d=l;d<c;d++)a[h+d]=o[f+d];if(u==3)for(var d=l;d<c;d++)a[h+d]=o[f+d]-(o[f+d-l]>>1)+256&255;if(u==4)for(var d=l;d<c;d++)a[h+d]=o[f+d]-p(o[f+d-l],0,0)+256&255}else{if(u==2)for(var d=0;d<c;d++)a[h+d]=o[f+d]+256-o[f+d-c]&255;if(u==3){for(var d=0;d<l;d++)a[h+d]=o[f+d]+256-(o[f+d-c]>>1)&255;for(var d=l;d<c;d++)a[h+d]=o[f+d]+256-(o[f+d-c]+o[f+d-l]>>1)&255}if(u==4){for(var d=0;d<l;d++)a[h+d]=o[f+d]+256-p(0,o[f+d-c],0)&255;for(var d=l;d<c;d++)a[h+d]=o[f+d]+256-p(o[f+d-l],o[f+d-c],o[f+d-l-c])&255}}},n.crc={table:function(){for(var a=new Uint32Array(256),o=0;o<256;o++){for(var s=o,c=0;c<8;c++)s&1?s=3988292384^s>>>1:s=s>>>1;a[o]=s}return a}(),update:function(a,o,s,c){for(var l=0;l<c;l++)a=n.crc.table[(a^o[s+l])&255]^a>>>8;return a},crc:function(a,o,s){return n.crc.update(4294967295,a,o,s)^4294967295}},n.quantize=function(a,o,s){for(var c=[],l=0,u=0;u<a.length;u++)c.push(n.encode.alphaMul(new Uint8Array(a[u]),s)),l+=a[u].byteLength;for(var f=new Uint8Array(l),h=new Uint32Array(f.buffer),p=0,u=0;u<c.length;u++){for(var d=c[u],v=d.length,m=0;m<v;m++)f[p+m]=d[m];p+=v}var g={i0:0,i1:f.length,bst:null,est:null,tdst:0,left:null,right:null};g.bst=n.quantize.stats(f,g.i0,g.i1),g.est=n.quantize.estats(g.bst);for(var _=[g];_.length<o;){for(var x=0,b=0,u=0;u<_.length;u++)_[u].est.L>x&&(x=_[u].est.L,b=u);if(x<.001)break;var w=_[b],E=n.quantize.splitPixels(f,h,w.i0,w.i1,w.est.e,w.est.eMq255),C={i0:w.i0,i1:E,bst:null,est:null,tdst:0,left:null,right:null};C.bst=n.quantize.stats(f,C.i0,C.i1),C.est=n.quantize.estats(C.bst);var T={i0:E,i1:w.i1,bst:null,est:null,tdst:0,left:null,right:null};T.bst={R:[],m:[],N:w.bst.N-C.bst.N};for(var u=0;u<16;u++)T.bst.R[u]=w.bst.R[u]-C.bst.R[u];for(var u=0;u<4;u++)T.bst.m[u]=w.bst.m[u]-C.bst.m[u];T.est=n.quantize.estats(T.bst),w.left=C,w.right=T,_[b]=C,_.push(T)}_.sort(function(ne,W){return W.bst.N-ne.bst.N});for(var I=0;I<c.length;I++){for(var R=n.quantize.planeDst,O=new Uint8Array(c[I].buffer),P=new Uint32Array(c[I].buffer),k=O.length,u=0;u<k;u+=4){for(var L=O[u]*.00392156862745098,B=O[u+1]*(1/255),U=O[u+2]*(1/255),z=O[u+3]*(1/255),ee=g;ee.left;)ee=R(ee.est,L,B,U,z)<=0?ee.left:ee.right;P[u>>2]=ee.est.rgba}c[I]=P.buffer}return{bufs:c,plte:_}},n.quantize.getNearest=function(a,o,s,c,l){if(a.left==null)return a.tdst=n.quantize.dist(a.est.q,o,s,c,l),a;var u=n.quantize.planeDst(a.est,o,s,c,l),f=a.left,h=a.right;u>0&&(f=a.right,h=a.left);var p=n.quantize.getNearest(f,o,s,c,l);if(p.tdst<=u*u)return p;var d=n.quantize.getNearest(h,o,s,c,l);return d.tdst<p.tdst?d:p},n.quantize.planeDst=function(a,o,s,c,l){var u=a.e;return u[0]*o+u[1]*s+u[2]*c+u[3]*l-a.eMq},n.quantize.dist=function(a,o,s,c,l){var u=o-a[0],f=s-a[1],h=c-a[2],p=l-a[3];return u*u+f*f+h*h+p*p},n.quantize.splitPixels=function(a,o,s,c,l,u){var f=n.quantize.vecDot;for(c-=4;s<c;){for(;f(a,s,l)<=u;)s+=4;for(;f(a,c,l)>u;)c-=4;if(s>=c)break;var h=o[s>>2];o[s>>2]=o[c>>2],o[c>>2]=h,s+=4,c-=4}for(;f(a,s,l)>u;)s-=4;return s+4},n.quantize.vecDot=function(a,o,s){return a[o]*s[0]+a[o+1]*s[1]+a[o+2]*s[2]+a[o+3]*s[3]},n.quantize.stats=function(a,o,s){for(var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0],u=s-o>>2,f=o;f<s;f+=4){var h=a[f]*.00392156862745098,p=a[f+1]*(1/255),d=a[f+2]*(1/255),v=a[f+3]*(1/255);l[0]+=h,l[1]+=p,l[2]+=d,l[3]+=v,c[0]+=h*h,c[1]+=h*p,c[2]+=h*d,c[3]+=h*v,c[5]+=p*p,c[6]+=p*d,c[7]+=p*v,c[10]+=d*d,c[11]+=d*v,c[15]+=v*v}return c[4]=c[1],c[8]=c[2],c[12]=c[3],c[9]=c[6],c[13]=c[7],c[14]=c[11],{R:c,m:l,N:u}},n.quantize.estats=function(a){var o=a.R,s=a.m,c=a.N,l=s[0],u=s[1],f=s[2],h=s[3],p=c==0?0:1/c,d=[o[0]-l*l*p,o[1]-l*u*p,o[2]-l*f*p,o[3]-l*h*p,o[4]-u*l*p,o[5]-u*u*p,o[6]-u*f*p,o[7]-u*h*p,o[8]-f*l*p,o[9]-f*u*p,o[10]-f*f*p,o[11]-f*h*p,o[12]-h*l*p,o[13]-h*u*p,o[14]-h*f*p,o[15]-h*h*p],v=d,m=n.M4,g=[.5,.5,.5,.5],_=0,x=0;if(c!=0)for(var b=0;b<10&&(g=m.multVec(v,g),x=Math.sqrt(m.dot(g,g)),g=m.sml(1/x,g),!(Math.abs(x-_)<1e-9));b++)_=x;var w=[l*p,u*p,f*p,h*p],E=m.dot(m.sml(255,w),g),C=w[3]<.001?0:1/w[3];return{Cov:d,q:w,e:g,L:_,eMq255:E,eMq:m.dot(g,w),rgba:(Math.round(255*w[3])<<24|Math.round(255*w[2]*C)<<16|Math.round(255*w[1]*C)<<8|Math.round(255*w[0]*C)<<0)>>>0}},n.M4={multVec:function(a,o){return[a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3],a[4]*o[0]+a[5]*o[1]+a[6]*o[2]+a[7]*o[3],a[8]*o[0]+a[9]*o[1]+a[10]*o[2]+a[11]*o[3],a[12]*o[0]+a[13]*o[1]+a[14]*o[2]+a[15]*o[3]]},dot:function(a,o){return a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3]},sml:function(a,o){return[a*o[0],a*o[1],a*o[2],a*o[3]]}},n.encode.alphaMul=function(a,o){for(var s=new Uint8Array(a.length),c=a.length>>2,l=0;l<c;l++){var u=l<<2,f=a[u+3];o&&(f=f<128?0:255);var h=f*(1/255);s[u+0]=a[u+0]*h,s[u+1]=a[u+1]*h,s[u+2]=a[u+2]*h,s[u+3]=f}return s}}(e,r)})()})(uY);var CGe=uY.exports;const tj=$i(CGe);/*!
 * @tbminiapp/pixi-apng-textures - v6.2.1-beta.9
 * Compiled Thu, 17 Mar 2022 08:24:35 UTC
 *
 * @tbminiapp/pixi-apng-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lR=function(t,e){return lR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lR(t,e)};function TGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var AGe=function(t){TGe(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,delay:16});var i=this,a,o;typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.loaded=!0;var s=n.delay;return i._delay=s||0,i.origin=a,i.buffer=o.buffer?new xv(o.buffer):null,i}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),e}(Uu);function IGe(t,e,r){var n={textures:{},texture:null,frameCount:0,frameTextureKeys:[],frameDelay:[]};if(!e)return n;var i=e.map(function(a){return new Pt(new lr(a,Object.assign({mipmap:Pa.OFF,alphaMode:va.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);lr.addToCache(s,c),Pt.addToCache(a,c),o===0&&(lr.addToCache(s,t),Pt.addToCache(a,t),n.texture=a),n.frameTextureKeys.push(c),n.frameDelay.push(s.resource.delay),n.textures[c]=a}),PIXI.utils.TextureCache.abcd="efg",n.frameCount=i.length,n}Mr.setExtensionXhrType("apng",Mr.XHR_RESPONSE_TYPE.BUFFER);var rj=[97,99,84,76],RGe=function(){function t(){}return t.use=async function(e,r){if(e.extension==="png"&&e.data)try{var n=e.url,i=e.name||n;async function a(o){const s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch file: ${s.status} ${s.statusText}`);const c=await s.arrayBuffer(),l=new Uint8Array(c);if(t.validate(o,l))Object.assign(e,IGe(i,t.parse(i,l),e.metadata));else{r();return}}await a(n)}catch(a){r(a);return}r()},t.parse=function(e,r){var n=tj.decode(r),i=n.width,a=n.height,o=n.frames,s=tj.toRGBA8(n),c=[];s.forEach(function(u,f){var h=o[f],p=h.delay;c.push({data:new Uint8Array(u),delay:p})});var l=c.map(function(u){return new AGe(u.data,{width:i,height:a,framesCount:c.length,delay:u.delay})});return l},t.validate=function(e,r){const n=r.slice(37,41);for(var i=0;i<rj.length;i++)if(n[i]!==rj[i])return!1;return!0},t}();/*!
 * @pixi/gif - v1.1.3
 * https://github.com/pixijs/gif
 * Compiled Wed, 21 Sep 2022 20:13:39 UTC
 *
 * @pixi/gif is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var uR=function(t,e){return uR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},uR(t,e)},cR=function(){return cR=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},cR.apply(this,arguments)},Xc={},vY={},ul={};Object.defineProperty(ul,"__esModule",{value:!0}),ul.loop=ul.conditional=ul.parse=void 0;ul.parse=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(o){return t(e,o,n,i)});else if(typeof r=="function")r(e,n,i,t);else{var a=Object.keys(r)[0];Array.isArray(r[a])?(i[a]={},t(e,r[a],n,i[a])):i[a]=r[a](e,n,i,t)}return n};ul.conditional=function(t,e){return function(r,n,i,a){e(r,n,i)&&a(r,t,n,i)}};ul.loop=function(t,e){return function(r,n,i,a){for(var o=[],s=r.pos;e(r,n,i);){var c={};if(a(r,t,n,c),r.pos===s)break;s=r.pos,o.push(c)}return o}};var Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.readBits=Un.readArray=Un.readUnsigned=Un.readString=Un.peekBytes=Un.readBytes=Un.peekByte=Un.readByte=Un.buildStream=void 0;Un.buildStream=function(t){return{data:t,pos:0}};var PGe=function(){return function(t){return t.data[t.pos++]}};Un.readByte=PGe;Un.peekByte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(e){return e.data[e.pos+t]}};var Eb=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};Un.readBytes=Eb;Un.peekBytes=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}};Un.readString=function(t){return function(e){return Array.from(Eb(t)(e)).map(function(r){return String.fromCharCode(r)}).join("")}};Un.readUnsigned=function(t){return function(e){var r=Eb(2)(e);return t?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};Un.readArray=function(t,e){return function(r,n,i){for(var a=typeof e=="function"?e(r,n,i):e,o=Eb(t),s=new Array(a),c=0;c<a;c++)s[c]=o(r);return s}};Un.readBits=function(t){return function(e){for(var r=function(a){return a.data[a.pos++]}(e),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(t).reduce(function(a,o){var s=t[o];return s.length?a[o]=function(c,l,u){for(var f=0,h=0;h<u;h++)f+=c[l+h]&&Math.pow(2,u-h-1);return f}(n,s.index,s.length):a[o]=n[s.index],a},{})}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=ul,r=Un,n={blocks:function(u){for(var f=[],h=u.data.length,p=0,d=(0,r.readByte)()(u);d!==0&&d;d=(0,r.readByte)()(u)){if(u.pos+d>=h){var v=h-u.pos;f.push((0,r.readBytes)(v)(u)),p+=v;break}f.push((0,r.readBytes)(d)(u)),p+=d}for(var m=new Uint8Array(p),g=0,_=0;_<f.length;_++)m.set(f[_],g),g+=f[_].length;return m}},i=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===249}),a=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(u,f,h){return Math.pow(2,h.descriptor.lct.size+1)})},function(u,f,h){return h.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(u){return(0,r.peekByte)()(u)===44}),o=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(u,f,h){return(0,r.readBytes)(h.text.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===1}),s=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(u,f,h){return(0,r.readString)(h.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===254}),l=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(u,f){return Math.pow(2,f.lsd.gct.size+1)})},function(u,f){return f.lsd.gct.exists}),{frames:(0,e.loop)([i,s,c,a,o],function(u){var f=(0,r.peekByte)()(u);return f===33||f===44})}];t.default=l}(vY);var mx={};Object.defineProperty(mx,"__esModule",{value:!0}),mx.deinterlace=void 0;mx.deinterlace=function(t,e){for(var r=new Array(t.length),n=t.length/e,i=function(u,f){var h=t.slice(f*e,(f+1)*e);r.splice.apply(r,[u*e,e].concat(h))},a=[0,4,2,1],o=[8,8,4,2],s=0,c=0;c<4;c++)for(var l=a[c];l<n;l+=o[c])i(l,s),s++;return r};var _x={};Object.defineProperty(_x,"__esModule",{value:!0}),_x.lzw=void 0;_x.lzw=function(t,e,r){var n,i,a,o,s,c,l,u,f,h,p,d,v,m,g,_,x=4096,b=r,w=new Array(r),E=new Array(x),C=new Array(x),T=new Array(4097);for(s=(i=1<<(h=t))+1,n=i+2,l=-1,a=(1<<(o=h+1))-1,u=0;u<i;u++)E[u]=0,C[u]=u;for(p=d=v=m=g=_=0,f=0;f<b;){if(m===0){if(d<o){p+=e[_]<<d,d+=8,_++;continue}if(u=p&a,p>>=o,d-=o,u>n||u==s)break;if(u==i){a=(1<<(o=h+1))-1,n=i+2,l=-1;continue}if(l==-1){T[m++]=C[u],l=u,v=u;continue}for(c=u,u==n&&(T[m++]=v,u=l);u>i;)T[m++]=C[u],u=E[u];v=255&C[u],T[m++]=v,n<x&&(E[n]=l,C[n]=v,!(++n&a)&&n<x&&(o++,a+=n)),l=c}m--,w[g++]=T[m],f++}for(f=g;f<b;f++)w[f]=0;return w},Object.defineProperty(Xc,"__esModule",{value:!0});var h_,gY=Xc.decompressFrames=Xc.decompressFrame=mY=Xc.parseGIF=void 0,OGe=(h_=vY)&&h_.__esModule?h_:{default:h_},kGe=ul,FGe=Un,NGe=mx,LGe=_x,mY=Xc.parseGIF=function(t){var e=new Uint8Array(t);return(0,kGe.parse)((0,FGe.buildStream)(e),OGe.default)},_Y=function(t,e,r){if(t.image){var n=t.image,i=n.descriptor.width*n.descriptor.height,a=(0,LGe.lzw)(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(a=(0,NGe.deinterlace)(a,n.descriptor.width));var o={pixels:a,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?o.colorTable=n.lct:o.colorTable=e,t.gce&&(o.delay=10*(t.gce.delay||10),o.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(o.transparentIndex=t.gce.transparentColorIndex)),r&&(o.patch=function(s){for(var c=s.pixels.length,l=new Uint8ClampedArray(4*c),u=0;u<c;u++){var f=4*u,h=s.pixels[u],p=s.colorTable[h]||[0,0,0];l[f]=p[0],l[f+1]=p[1],l[f+2]=p[2],l[f+3]=h!==s.transparentIndex?255:0}return l}(o)),o}};Xc.decompressFrame=_Y;gY=Xc.decompressFrames=function(t,e){return t.frames.filter(function(r){return r.image}).map(function(r){return _Y(r,t.gct,e)})};var MGe=function(t){function e(r,n){var i=this,a=Object.assign({},e.defaultOptions,n),o=a.scaleMode,s=a.width,c=a.height,l=function(h,p){var d={};for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&p.indexOf(v)<0&&(d[v]=h[v]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(v=Object.getOwnPropertySymbols(h);m<v.length;m++)p.indexOf(v[m])<0&&Object.prototype.propertyIsEnumerable.call(h,v[m])&&(d[v[m]]=h[v[m]])}return d}(a,["scaleMode","width","height"]),u=document.createElement("canvas"),f=u.getContext("2d");return u.width=s,u.height=c,(i=t.call(this,Pt.from(u,{scaleMode:o}))||this).duration=r[r.length-1].end,i._frames=r,i._context=f,i._playing=!1,i._currentTime=0,i._isConnectedToTicker=!1,Object.assign(i,l),i.currentFrame=0,i.autoPlay&&i.play(),i}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=r}uR(r,n),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}(e,t),e.fromBuffer=function(r,n){if(!r||r.byteLength===0)throw new Error("Invalid buffer");var i=mY(r);(function(L){for(var B,U=null,z=0,ee=L.frames;z<ee.length;z++){var ne=ee[z];U=(B=ne.gce)!==null&&B!==void 0?B:U,"image"in ne&&!("gce"in ne)&&(ne.gce=U)}})(i);var a=gY(i,!0),o=[],s=document.createElement("canvas"),c=s.getContext("2d"),l=document.createElement("canvas"),u=l.getContext("2d");s.width=i.lsd.width,s.height=i.lsd.height;for(var f=0,h=1e3/Object.assign({},e.defaultOptions,n).fps,p=0;p<a.length;p++){var d=a[p],v=d.disposalType,m=v===void 0?2:v,g=d.delay,_=g===void 0?h:g,x=d.patch,b=d.dims,w=b.width,E=b.height,C=b.left,T=b.top;l.width=w,l.height=E,u.clearRect(0,0,w,E);var I=u.createImageData(w,E);I.data.set(x),u.putImageData(I,0,0),c.drawImage(l,C,T);var R=c.getImageData(0,0,s.width,s.height);m!==2&&m!==3||c.clearRect(0,0,s.width,s.height),o.push({start:f,end:f+_,imageData:R}),f+=_}s.width=s.height=0,l.width=l.height=0;var O=i.lsd,P=O.width,k=O.height;return new e(o,cR({width:P,height:k},n))},e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(bn.shared.add(this.update,this,Ko.HIGH),this._isConnectedToTicker=!0),this.loop||this.currentFrame!==this._frames.length-1||(this._currentTime=0))},Object.defineProperty(e.prototype,"progress",{get:function(){return this._currentTime/this.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i;if(this._playing){var a=this.animationSpeed*r/_t.TARGET_FPMS,o=this._currentTime+a,s=o%this.duration,c=this._frames.findIndex(function(l){return l.start<=s&&l.end>s});o>=this.duration?this.loop?(this._currentTime=s,this.updateFrameIndex(c),(n=this.onLoop)===null||n===void 0||n.call(this)):(this._currentTime=this.duration,this.updateFrameIndex(this._frames.length-1),(i=this.onComplete)===null||i===void 0||i.call(this),this.stop()):(this._currentTime=s,this.updateFrameIndex(c))}},e.prototype.updateFrame=function(){if(this.dirty){var r=this._frames[this._currentFrame].imageData;this._context.putImageData(r,0,0),this._context.fillStyle="transparent",this._context.fillRect(0,0,0,1),this.texture.update(),this.dirty=!1}},e.prototype._render=function(r){this.updateFrame(),t.prototype._render.call(this,r)},e.prototype._renderCanvas=function(r){this.updateFrame(),t.prototype._renderCanvas.call(this,r)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(bn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(bn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(r){this.updateFrameIndex(r),this._currentTime=this._frames[r].start},enumerable:!1,configurable:!0}),e.prototype.updateFrameIndex=function(r){var n;if(r<0||r>=this._frames.length)throw new Error("Frame index out of range, expecting 0 to ".concat(this.totalFrames,", got ").concat(r));this._currentFrame!==r&&(this._currentFrame=r,this.dirty=!0,(n=this.onFrameChange)===null||n===void 0||n.call(this,r))},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._frames.length},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this,!0),this._context=null,this._frames=null,this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.prototype.clone=function(){return new e(function(r,n,i){if(i||arguments.length===2)for(var a,o=0,s=n.length;o<s;o++)!a&&o in n||(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return r.concat(a||Array.prototype.slice.call(n))}([],this._frames,!0),{autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.baseTexture.scaleMode,animationSpeed:this.animationSpeed,width:this._context.canvas.width,height:this._context.canvas.height,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop})},e.defaultOptions={scaleMode:wi.LINEAR,fps:bn.shared.FPS,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null},e}($a);window.PIXI=JUe;Oa.registerPlugin(RGe);class BGe{constructor(){lt(this,"currentApp",null);lt(this,"effectsContainer");lt(this,"frameDuration",16.67);lt(this,"notUpdateBacklogEffects",!1);lt(this,"figureContainer");lt(this,"figureObjects",[]);lt(this,"backgroundContainer");lt(this,"backgroundObjects",[]);lt(this,"stageAnimations",[]);lt(this,"assetLoader",new Oa);lt(this,"loadQueue",[]);lt(this,"live2dFigureRecorder",[]);lt(this,"lockTransformTarget",[]);lt(this,"stageWidth",Zy.width);lt(this,"stageHeight",Zy.height);lt(this,"MAX_TEX_COUNT",10);const e=new dg({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),rk&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new fi,this.effectsContainer.zIndex=3,this.figureContainer=new fi,this.figureContainer.zIndex=2,this.backgroundContainer=new fi,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:Y0(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const c=s.pixiContainer;Object.assign(c,a.transform)}return}this.stageAnimations.push({uuid:Y0(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const c=this.getStageObjByKey(o.targetKey);if(c){const l={alpha:c.pixiContainer.alpha,scale:{x:c.pixiContainer.scale.x,y:c.pixiContainer.scale.y},position:{x:c.pixiContainer.x,y:c.pixiContainer.y},rotation:c.pixiContainer.rotation,blur:c.pixiContainer.blur,...s};let u={target:o.targetKey,transform:l};pe.dispatch(Sa.updateEffect(u))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(f,h),d=new $a(c);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const v=l*p,m=u*p;a.setBaseY(this.stageHeight/2),m<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-m/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(v/2),i==="right"&&a.setBaseX(this.stageWidth-v/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(f,h),d=new $a(c);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const v=l*p,m=u*p;a.setBaseY(this.stageHeight/2),m<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-m/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(v/2),i==="right"&&a.setBaseX(this.stageWidth-v/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}addBg(e,r,n,i){var h,p;const a=this.assetLoader,o=new uC;this.backgroundObjects.findIndex(d=>d.key===e)>=0&&this.removeStageObjectByKey(e);const l=(d,v,m,g)=>{fetch(d).then(_=>_.arrayBuffer()).then(MGe.fromBuffer).then(_=>{v&&(_.transform=v.transform),m&&(_.width=Mt(m)),g&&(_.height=Mt(g)),o.addChild(_)})};this.backgroundContainer.addChild(o);const u=Y0();this.backgroundObjects.push({uuid:u,key:e,pixiContainer:o,sourceUrl:r,sourceType:r.includes(".gif")?"gif":"img",sourceExt:this.getExtName(r)});const f=()=>{var v,m;const d=(m=(v=a.resources)==null?void 0:v[r])==null?void 0:m.texture;if(d&&this.getStageObjByUuid(u)){const g=d.width,_=d.height,x=this.stageWidth/g,b=this.stageHeight/_,w=Math.max(x,b),E=new $a(d);if(E.scale.x=w,E.scale.y=w,E.anchor.set(.5),r.includes(".gif")){l(r,E,n,i);return}E.position.y=this.stageHeight/2,o.setBaseX(this.stageWidth/2),o.setBaseY(this.stageHeight/2),o.pivot.set(0,this.stageHeight/2),o.addChild(E)}};this.cacheGC(),(p=(h=a.resources)==null?void 0:h[r])!=null&&p.texture?f():this.loadAsset(r,f)}addFigure(e,r,n="center",i=!1){var f,h;const a=this.assetLoader,o=new uC;this.figureObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=Y0();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const u=()=>{var v,m;const p=(m=(v=a.resources)==null?void 0:v[r])==null?void 0:m.texture;let d=[];if(p&&this.getStageObjByUuid(l)){const g=a.resources[r],_=[];if(i){const{frameDelay:b,textures:w,frameCount:E}=g;d=b,Object.values(w||[]).forEach(C=>{_.push(C)})}(b=>{const w=p.width,E=p.height,C=this.stageWidth/w,T=this.stageHeight/E,I=Math.min(C,T),R=i?new eW(b):new $a(p);R.scale.x=I,R.scale.y=I,R.anchor.set(.5),R.position.y=this.stageHeight/2;const O=w*I,P=E*I;if(o.setBaseY(this.stageHeight/2),P<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-P/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(O/2),n==="right"&&o.setBaseX(this.stageWidth-O/2),i){const k=R;let L=0,B=1;const U=()=>{k.gotoAndStop(L),setTimeout(()=>{L===b.length-1&&(B=-1),L===0&&(B=1),L+=B,U()},d[L])};U()}o.pivot.set(0,this.stageHeight/2),o.addChild(R)})(_)}};this.cacheGC(),(h=(f=a.resources)==null?void 0:f[r])!=null&&h.texture?u():this.loadAsset(r,u,"",i)}addSpineFigure(e,r,n="center"){var f;const i=`spine-${r}`,a=this.assetLoader,o=new uC;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=Y0();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const u=()=>{var p,d;console.log(this.assetLoader.resources);const h=(p=this.assetLoader.resources)==null?void 0:p[i];if(h&&this.getStageObjByUuid(l)){const v=new vGe(h.spineData),m=((d=h==null?void 0:h.spineData)==null?void 0:d.y)??0;console.log(v);const g=v.width,_=v.height,x=this.stageWidth/g,b=this.stageHeight/_;v.y=-(b*m)/2,console.log(v.state),v.state.setAnimation(0,"07",!0);const w=Math.min(x,b),E=new $a;E.addChild(v),E.scale.x=w,E.scale.y=w,E.anchor.set(.5),E.position.y=this.stageHeight/2;const C=g*w,T=_*w;o.setBaseY(this.stageHeight/2),T<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-T/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(C/2),n==="right"&&o.setBaseX(this.stageWidth-C/2),o.pivot.set(0,this.stageHeight/2),o.addChild(E)}};this.cacheGC(),(f=a.resources)!=null&&f[r]?u():this.loadAsset(r,u,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const c=n.pixiContainer.children;for(const l of c){let u=r,f=0,h=3;const p=(l==null?void 0:l.internalModel)??void 0;(o=(a=p==null?void 0:p.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(u,f,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,c,l,u,f,h,p,d;function n(v){return v<50?0:(v-50)/50}const i=n(r),a=this.figureObjects.find(v=>v.key===e);if(a){const m=a.pixiContainer.children;for(const g of m)g!=null&&g.internalModel&&((s=(o=g==null?void 0:g.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((u=(l=(c=g==null?void 0:g.internalModel)==null?void 0:c.coreModel)==null?void 0:l.setParamFloat)==null||u.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(f=g==null?void 0:g.internalModel)==null?void 0:f.coreModel)!=null&&h.setParameterValueById&&((d=(p=g==null?void 0:g.internalModel)==null?void 0:p.coreModel)==null||d.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(i=>i.key===e),n=this.backgroundObjects.findIndex(i=>i.key===e);if(r>=0){const i=this.figureObjects[r];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){EX()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n,i){this.loadQueue.unshift({url:e,callback:r,name:n,extraInfo:{isApng:i??!1}}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){it.fatal("PIXI Loader ",r),e.callback(),this.callLoader()}}}updateFps(){SC==null||SC(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}}const SC=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),DGe="_Toaster_container_1phox_1",UGe="_Toaster_image_1phox_16",jGe="_Toaster_text_1phox_27",$Ge="_Toaster_fadeIn_1phox_34",GGe="_K_Toaster_fadein_1phox_1",VGe="_Toaster_slideIn_1phox_38",HGe="_K_Toaster_slidein_1phox_1",XGe="_Toaster_out_1phox_45",zGe="_K_Toaster_fadeout_1phox_1",q0={Toaster_container:DGe,Toaster_image:UGe,Toaster_text:jGe,Toaster_fadeIn:$Ge,K_Toaster_fadein:GGe,Toaster_slideIn:VGe,K_Toaster_slidein:HGe,Toaster_out:XGe,K_Toaster_fadeout:zGe},yY=t=>{const[e,r]=_e.useState();return N.jsx("img",{...t,style:e?{...t.style,width:e.width,height:e.height}:t.style,onLoad:n=>{r({width:Mt(n.currentTarget.naturalWidth),height:Mt(n.currentTarget.naturalHeight)})}})};let WGe=510;function YGe(){const[t,e]=_e.useState(!1),[r,n]=_e.useState({}),[i,a]=_e.useState(!1),o=_e.useRef({showTimer:null,animationTimer:null});if(_e.useEffect(()=>{const c=()=>{o.current.showTimer&&(clearTimeout(o.current.showTimer),o.current.showTimer=null),o.current.animationTimer&&(clearTimeout(o.current.animationTimer),o.current.animationTimer=null),a(!1)},l=window.pubsub.subscribe("toaster",u=>{u.show&&(n({text:u.text,image:u.image,animation:u.animation||"fadeIn"}),c(),e(!0),o.current.showTimer=setTimeout(()=>{a(!0),o.current.animationTimer=setTimeout(()=>{e(!1),a(!1)},WGe)},u.duration??3e3))});return()=>{l(),c()}},[]),!t)return null;const s=[q0.Toaster_container,r.image?q0.Toaster_image:"",r.animation?q0[`Toaster_${r.animation}`]:"",i?q0.Toaster_out:""].join(" ");return N.jsxs("div",{className:s,children:[r.image&&N.jsx(yY,{src:r.image}),r.text&&N.jsx("div",{className:q0.Toaster_text,children:r.text})]})}const qGe="_BuyGame_container_1jftv_2",KGe="_BuyGame_inner_1jftv_15",ZGe="_fadeIn_1jftv_1",JGe="_BuyGame_close_1jftv_20",QGe="_BuyGame_price_1jftv_26",e7e="_BuyGame_button_1jftv_36",t7e="_BuyGame_pay_container_1jftv_60",r7e="_BuyGame_pay_tip_1jftv_70",n7e="_BuyGame_pay_close_1jftv_83",i7e="_BuyGame_pay_title_1jftv_96",a7e="_BuyGame_select_text_1jftv_108",o7e="_BuyGame_info_block_1jftv_118",s7e="_BuyGame_info_row_1jftv_127",l7e="_BuyGame_game_cover_1jftv_132",u7e="_BuyGame_game_cover_inner_1jftv_141",c7e="_BuyGame_info_name_1jftv_154",f7e="_BuyGame_info_text_1jftv_163",h7e="_BuyGame_info_tag_1jftv_171",d7e="_BuyGame_info_price_1jftv_178",p7e="_BuyGame_info_price_stone_1jftv_196",v7e="_BuyGame_price_row_1jftv_203",g7e="_BuyGame_price_stone_1jftv_210",m7e="_BuyGame_price_text_1jftv_217",_7e="_BuyGame_price_button_1jftv_225",Wr={BuyGame_container:qGe,BuyGame_inner:KGe,fadeIn:ZGe,BuyGame_close:JGe,BuyGame_price:QGe,BuyGame_button:e7e,BuyGame_pay_container:t7e,BuyGame_pay_tip:r7e,BuyGame_pay_close:n7e,BuyGame_pay_title:i7e,BuyGame_select_text:a7e,BuyGame_info_block:o7e,BuyGame_info_row:s7e,BuyGame_game_cover:l7e,BuyGame_game_cover_inner:u7e,BuyGame_info_name:c7e,BuyGame_info_text:f7e,BuyGame_info_tag:h7e,BuyGame_info_price:d7e,BuyGame_info_price_stone:p7e,BuyGame_price_row:v7e,BuyGame_price_stone:g7e,BuyGame_price_text:m7e,BuyGame_price_button:_7e},y7e=""+new URL("buy-game-success.png",import.meta.url).href;function x7e(){const[t,e]=_e.useState(!1),{playSeEnter:r,playSeClick:n}=Bd(),{gameInfo:i}=xt(s=>s.storeData),a=_e.useRef({buyGameCallback:()=>{},startGameCallback:()=>{}}),o=async()=>{n();const s=await gV();window.pubsub.publish("loading",{loading:!1}),s.code===0||s.code===10053?(s.code===0&&window.pubsub.publish("toaster",{show:!0,image:y7e,animation:"slideIn"}),e(!1),a.current.startGameCallback()):s.code===10014?(window.pubsub.publish("toaster",{show:!0,text:", "}),window.pubsub.publish("rechargeModal",{})):window.pubsub.publish("toaster",{show:!0,text:s.message})};return _e.useEffect(()=>window.pubsub.subscribe("showBuyGameModal",({buyGameCallback:c,startGameCallback:l})=>{e(!0),a.current={buyGameCallback:c,startGameCallback:l}}),[]),t?N.jsx("div",{className:Wr.BuyGame_container,children:N.jsxs("div",{className:Wr.BuyGame_pay_container,children:[N.jsx("div",{className:Wr.BuyGame_pay_tip}),N.jsx("div",{className:Wr.BuyGame_pay_close,onMouseEnter:r,onClick:()=>{n(),e(!1),a.current.buyGameCallback()}}),N.jsx("div",{className:Wr.BuyGame_pay_title,children:""}),N.jsx("div",{className:Wr.BuyGame_select_text,children:"1"}),N.jsxs("div",{className:Wr.BuyGame_info_block,children:[N.jsxs("div",{className:Wr.BuyGame_info_row,children:[N.jsx("div",{className:Wr.BuyGame_game_cover,children:N.jsx("div",{className:Wr.BuyGame_game_cover_inner,children:N.jsx("img",{src:(i==null?void 0:i.coverPic)||""})})}),N.jsxs("div",{children:[N.jsx("div",{className:Wr.BuyGame_info_name,children:(i==null?void 0:i.name)||""}),N.jsx("div",{className:Wr.BuyGame_info_tag,children:i==null?void 0:i.tagList.map(s=>N.jsx("div",{className:Wr.BuyGame_info_text,children:s.tagName},s.tagId))})]})]}),N.jsxs("div",{className:Wr.BuyGame_info_row,children:[N.jsx("span",{className:Wr.BuyGame_info_text,children:":"}),N.jsxs("div",{className:Wr.BuyGame_info_price,children:[(i==null?void 0:i.salesAmount)||0,N.jsx("span",{className:Wr.BuyGame_info_price_stone})]})]})]}),N.jsxs("div",{className:Wr.BuyGame_price_row,children:[N.jsxs("div",{className:Wr.BuyGame_info_row,children:[N.jsx("span",{className:Wr.BuyGame_price_text,style:{marginRight:Mt(4)},children:":"}),N.jsxs("div",{className:Wr.BuyGame_price_text,children:[(i==null?void 0:i.salesAmount)||0,N.jsx("span",{className:Wr.BuyGame_price_stone})]})]}),N.jsxs("div",{className:Wr.BuyGame_info_row,children:[N.jsx("span",{className:Wr.BuyGame_price_text,style:{marginRight:Mt(4)},children:":"}),N.jsxs("div",{className:Wr.BuyGame_price_text,children:[(i==null?void 0:i.salesAmount)||0,N.jsx("span",{className:Wr.BuyGame_price_stone})]}),N.jsx("div",{className:Wr.BuyGame_price_button,onMouseEnter:r,onClick:o})]})]})]})}):null}const b7e=""+new URL("xingshiIcon.webp",import.meta.url).href,w7e=""+new URL("modal-close.png",import.meta.url).href,E7e="_Recharge_container_1ve9d_1",S7e="_Recharge_inner_1ve9d_14",C7e="_fadeIn_1ve9d_1",T7e="_RechargeModal_modalTitle_1ve9d_23",A7e="_RechargeModal_rechargeModalItem_1ve9d_40",I7e="_RechargeModal_rechargeModalItemChecked_1ve9d_57",R7e="_RechargeModal_rechargeCardIcon_1ve9d_61",P7e="_RechargeModal_rechargeModalCard_1ve9d_71",O7e="_RechargeModal_rechargeModalList_1ve9d_78",k7e="_RechargeModal_rechargeCardDiscount_1ve9d_87",F7e="_RechargeModal_rechargeModalItemHead_1ve9d_114",N7e="_RechargeModal_rechargeModalItemContent_1ve9d_144",L7e="_RechargeModal_rechargeModalItemBtn_1ve9d_166",M7e="_RechargeModal_rechargeModalItemImg_1ve9d_170",B7e="_RechargeModal_rechargeModalListBottom_1ve9d_198",D7e="_RechargeModal_modalFooter_1ve9d_208",U7e="_RechargeModal_modalFooterLeft_1ve9d_223",j7e="_RechargeModal_modalFooterRight_1ve9d_227",$7e="_RechargeModal_modalFooterConfirm_1ve9d_237",G7e="_Recharge_modal_close_1ve9d_261",oi={Recharge_container:E7e,Recharge_inner:S7e,fadeIn:C7e,RechargeModal_modalTitle:T7e,RechargeModal_rechargeModalItem:A7e,RechargeModal_rechargeModalItemChecked:I7e,RechargeModal_rechargeCardIcon:R7e,RechargeModal_rechargeModalCard:P7e,RechargeModal_rechargeModalList:O7e,RechargeModal_rechargeCardDiscount:k7e,RechargeModal_rechargeModalItemHead:F7e,RechargeModal_rechargeModalItemContent:N7e,RechargeModal_rechargeModalItemBtn:L7e,RechargeModal_rechargeModalItemImg:M7e,RechargeModal_rechargeModalListBottom:B7e,RechargeModal_modalFooter:D7e,RechargeModal_modalFooterLeft:U7e,RechargeModal_modalFooterRight:j7e,RechargeModal_modalFooterConfirm:$7e,Recharge_modal_close:G7e};function V7e(){const[t,e]=_e.useState(!1),{playSeEnter:r,playSeClick:n}=Bd();xt(p=>p.storeData);const i=_e.useRef({successCallback:()=>{},closeCallback:()=>{}}),[a,o]=_e.useState([]),[s,c]=_e.useState(),l=async p=>{var v,m;const d=await ASe(p);d.code===0?((v=d.data)==null?void 0:v.pay_status)===2?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("loading",{loading:!1}),i.current.successCallback(),e(!1)):((m=d.data)==null?void 0:m.pay_status)===3?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("loading",{loading:!1}),e(!1)):setTimeout(()=>{l(p)},3e3):(window.pubsub.publish("toaster",{show:!0,text:d.message}),window.pubsub.publish("loading",{loading:!1}),e(!1))},u=async()=>{r(),window.pubsub.publish("loading",{loading:!0});const p=await TSe((s==null?void 0:s.id)||0);if(p.code===0){const d=p.data.order_no;l(d)}else window.pubsub.publish("toaster",{show:!0,text:p.message}),window.pubsub.publish("loading",{loading:!1})},f=async()=>{n(),u()},h=async()=>{var d;window.pubsub.publish("loading",{loading:!0});const p=await CSe();p.code===0?(o(eg.chunk(p.data||[],3)),c((d=p.data)==null?void 0:d[0])):window.pubsub.publish("toaster",{show:!0,text:p.message}),window.pubsub.publish("loading",{loading:!1})};return _e.useEffect(()=>window.pubsub.subscribe("rechargeModal",({successCallback:d,closeCallback:v})=>{e(!0),h(),d&&(i.current.successCallback=d),v&&(i.current.closeCallback=v)}),[]),!t||!a.length?null:N.jsx("div",{className:oi.Recharge_container,children:N.jsxs("div",{className:oi.Recharge_inner,children:[N.jsx("div",{className:oi.RechargeModal_modalTitle,children:N.jsx("div",{children:""})}),N.jsx(yY,{src:w7e,className:oi.Recharge_modal_close,onMouseEnter:r,onClick:()=>{n(),e(!1),i.current.closeCallback()}}),N.jsx("div",{className:oi.RechargeModal_rechargeModalCard,children:a.map((p,d)=>N.jsxs("div",{className:oi.RechargeModal_rechargeModalList,children:[p.map((v,m)=>N.jsxs("div",{className:`${oi.RechargeModal_rechargeModalItem} ${v===s?oi.RechargeModal_rechargeModalItemChecked:""}`,onMouseEnter:r,onClick:()=>{n(),c(v)},children:[N.jsx("div",{className:oi.RechargeModal_rechargeCardIcon}),!!v.discount&&N.jsxs("div",{className:oi.RechargeModal_rechargeCardDiscount,children:[N.jsx("span",{children:v.discount}),""]}),N.jsx("div",{className:oi.RechargeModal_rechargeModalItemHead,children:N.jsxs("div",{children:[v.bonus_packs_title,N.jsx("img",{src:b7e,alt:""}),v.bonus_packs_num]})}),N.jsxs("div",{className:oi.RechargeModal_rechargeModalItemContent,children:[N.jsx("img",{src:v.icon||"http://dummyimage.com/100x100",alt:"",className:oi.RechargeModal_rechargeModalItemImg}),N.jsxs("div",{children:[N.jsx("span",{children:"X"})," ",v.beans]})]}),N.jsxs("div",{className:oi.RechargeModal_rechargeModalItemBtn,children:[N.jsx("span",{children:"$"}),v.price]})]},m)),N.jsx("div",{className:oi.RechargeModal_rechargeModalListBottom})]},d))}),N.jsxs("div",{className:oi.RechargeModal_modalFooter,children:[N.jsx("div",{className:oi.RechargeModal_modalFooterLeft,children:""}),N.jsxs("div",{className:oi.RechargeModal_modalFooterRight,children:[N.jsxs("span",{children:["$",s==null?void 0:s.price]}),N.jsx("div",{className:oi.RechargeModal_modalFooterConfirm,onClick:f,children:""})]})]})]})})}function H7e(){const[t,e]=_e.useState(!1),r=an();return _e.useEffect(()=>{MRe();const n=localStorage.getItem("editor-token"),i=new URLSearchParams(window.location.search).get("token");if(i||n){e(!0),r(Kde(i||""));let a={current:{gameReady:!1,previewMode:!1,previewModeValue:!1}};const o=()=>{a.current.gameReady&&!a.current.previewMode||(J.gameplay.pixiStage=new BGe,a.current.previewModeValue?SSe().then(s=>{window.pubsub.publish("gameInfoReady");const c=localStorage.getItem("editorUserInfo")||"{}",l=JSON.parse(c);if(s.code===0&&s.data.authorId!==l.userId){r(FB(!1)),e(!1),alert("");return}}):(hO().then(s=>{s.code===0?window.pubsub.publish("gameInfoReady"):(window.pubsub.publish("gameInfoReady"),Yo({title:`
`,rightText:"",rightFunc:()=>{window.location.reload()}}))}),ESe()))};window.pubsub.subscribe("gameReady",()=>{a.current.gameReady=!0,o()}),window.pubsub.subscribe("isPreviewMode",s=>{a.current.previewMode=!0,a.current.previewModeValue=s,r(FB(s)),o()})}else alert("")},[]),v4e(),t?N.jsxs("div",{className:"App",children:[N.jsx(V7e,{}),N.jsx(x7e,{}),N.jsx(YGe,{}),N.jsx(I4e,{}),N.jsx(d4e,{}),N.jsx(Kke,{}),N.jsx(Zke,{}),N.jsx(t4e,{}),N.jsx(Jke,{}),N.jsx(wRe,{}),N.jsx(IRe,{}),N.jsx(q3e,{}),N.jsx(kOe,{}),N.jsx(ySe,{}),N.jsx(p4e,{}),N.jsx(a4e,{}),N.jsx(M4e,{}),N.jsx(iFe,{}),N.jsx(VFe,{}),N.jsx(KFe,{}),N.jsx(S4e,{})]}):null}function gu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fR(t,e){return fR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fR(t,e)}function Sb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fR(t,e)}function gg(t,e){if(e&&(bi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gu(t)}function ks(t){return ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ks(t)}function X7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z7e(t){return DH(t)||X7e(t)||UH(t)||jH()}function nj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ij(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var W7e={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},Y7e=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qo(this,t),this.init(e,r)}return es(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||W7e,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,ij(ij({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),xs=new Y7e,Fu=function(){function t(){Qo(this,t),this.observers={}}return es(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(c){c.apply(c,[r].concat(i))})}}}]),t}();function K0(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function aj(t){return t==null?"":""+t}function q7e(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function r4(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function oj(t,e,r){var n=r4(t,e,Object),i=n.obj,a=n.k;i[a]=r}function K7e(t,e,r,n){var i=r4(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function yx(t,e){var r=r4(t,e),n=r.obj,i=r.k;if(n)return n[i]}function Z7e(t,e,r){var n=yx(t,r);return n!==void 0?n:yx(e,r)}function xY(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):xY(t[n],e[n],r):t[n]=e[n]);return t}function th(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var J7e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Q7e(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return J7e[e]}):t}var Cb=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,eVe=[" ",",","?","!",";"];function tVe(t,e,r){e=e||"",r=r||"";var n=eVe.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function xx(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),c=i[s];c===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),c=i[s];if(c===void 0)return;if(c===null)return null;if(e.endsWith(s)){if(typeof c=="string")return c;if(s&&typeof c[s]=="string")return c[s]}var l=n.slice(a+o).join(r);return l?xx(c,l,r):void 0}i=i[n[a]]}return i}}function sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rVe(t){var e=nVe();return function(){var n=ks(t),i;if(e){var a=ks(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gg(this,i)}}function nVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var iVe=function(t){Sb(r,t);var e=rVe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Qo(this,r),i=e.call(this),Cb&&Fu.call(gu(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return es(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(c?o.split(c):o)),i.indexOf(".")>-1&&(u=i.split("."));var f=yx(this.data,u);return f||!l||typeof o!="string"?f:xx(this.data&&this.data[i]&&this.data[i][a],o,c)}},{key:"addResource",value:function(i,a,o,s){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,u=[i,a];o&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split("."),s=a,a=u[1]),this.addNamespaces(a),oj(this.data,u,s),c.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in o)(typeof o[c]=="string"||Object.prototype.toString.apply(o[c])==="[object Array]")&&this.addResource(i,a,c,o[c],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var f=yx(this.data,u)||{};s?xY(f,o,c):f=d_(d_({},f),o),oj(this.data,u,f),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?d_(d_({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Fu),bY={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aVe(t){var e=oVe();return function(){var n=ks(t),i;if(e){var a=ks(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gg(this,i)}}function oVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var uj={},cj=function(t){Sb(r,t);var e=aVe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Qo(this,r),i=e.call(this),Cb&&Fu.call(gu(i)),q7e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,gu(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=xs.create("translator"),i}return es(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!tVe(i,o,s);if(l&&!u){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:c};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(c=h.shift()),i=h.join(s)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,a,o){var s=this;if(bi(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),bi(a)==="object"&&(a=zi({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),f=u.key,h=u.namespaces,p=h[h.length-1],d=a.lng||this.language,v=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(v){var m=a.nsSeparator||this.options.nsSeparator;return c?{res:"".concat(p).concat(m).concat(f),usedKey:f,exactUsedKey:f,usedLng:d,usedNS:p}:"".concat(p).concat(m).concat(f)}return c?{res:f,usedKey:f,exactUsedKey:f,usedLng:d,usedNS:p}:f}var g=this.resolve(i,a),_=g&&g.res,x=g&&g.usedKey||f,b=g&&g.exactUsedKey||f,w=Object.prototype.toString.apply(_),E=["[object Number]","[object Function]","[object RegExp]"],C=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,I=typeof _!="string"&&typeof _!="boolean"&&typeof _!="number";if(T&&_&&I&&E.indexOf(w)<0&&!(typeof C=="string"&&w==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,_,zi(zi({},a),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return c?(g.res=R,g):R}if(l){var O=w==="[object Array]",P=O?[]:{},k=O?b:x;for(var L in _)if(Object.prototype.hasOwnProperty.call(_,L)){var B="".concat(k).concat(l).concat(L);P[L]=this.translate(B,zi(zi({},a),{joinArrays:!1,ns:h})),P[L]===B&&(P[L]=_[L])}_=P}}else if(T&&typeof C=="string"&&w==="[object Array]")_=_.join(C),_&&(_=this.extendTranslation(_,i,a,o));else{var U=!1,z=!1,ee=a.count!==void 0&&typeof a.count!="string",ne=r.hasDefaultValue(a),W=ee?this.pluralResolver.getSuffix(d,a.count,a):"",D=a["defaultValue".concat(W)]||a.defaultValue;!this.isValidLookup(_)&&ne&&(U=!0,_=D),this.isValidLookup(_)||(z=!0,_=f);var H=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,G=H&&z?void 0:_,V=ne&&D!==_&&this.options.updateMissing;if(z||U||V){if(this.logger.log(V?"updateKey":"missingKey",d,p,f,V?D:_),l){var ie=this.resolve(f,zi(zi({},a),{},{keySeparator:!1}));ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var se=[],ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(var ue=0;ue<ge.length;ue++)se.push(ge[ue]);else this.options.saveMissingTo==="all"?se=this.languageUtils.toResolveHierarchy(a.lng||this.language):se.push(a.lng||this.language);var we=function(Fe,Ee,Te){var Ge=ne&&Te!==_?Te:G;s.options.missingKeyHandler?s.options.missingKeyHandler(Fe,p,Ee,Ge,V,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(Fe,p,Ee,Ge,V,a),s.emit("missingKey",Fe,p,Ee,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ee?se.forEach(function(Be){s.pluralResolver.getSuffixes(Be,a).forEach(function(Fe){we([Be],f+Fe,a["defaultValue".concat(Fe)]||D)})}):we(se,f,D))}_=this.extendTranslation(_,i,a,g,o),z&&_===f&&this.options.appendNamespaceToMissingKey&&(_="".concat(p,":").concat(f)),(z||U)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(p,":").concat(f):f,U?_:void 0):_=this.options.parseMissingKeyHandler(_))}return c?(g.res=_,g):_}},{key:"extendTranslation",value:function(i,a,o,s,c){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,zi(zi({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(zi(zi({},o),{interpolation:zi(zi({},this.options.interpolation),o.interpolation)}));var u=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(u){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var p=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(p=zi(zi({},this.options.interpolation.defaultVariables),p)),i=this.interpolator.interpolate(i,p,o.lng||this.language,o),u){var d=i.match(this.interpolator.nestingRegexp),v=d&&d.length;f<v&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var _=arguments.length,x=new Array(_),b=0;b<_;b++)x[b]=arguments[b];return c&&c[0]===x[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(x[0]," in key: ").concat(a[0])),null):l.translate.apply(l,x.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var m=o.postProcess||this.options.postProcess,g=typeof m=="string"?[m]:m;return i!=null&&g&&g.length&&o.applyPostProcessor!==!1&&(i=bY.handle(g,i,a,this.options&&this.options.postProcessPassResolved?zi({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,c,l,u,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var p=a.extractFromKey(h,o),d=p.key;c=d;var v=p.namespaces;a.options.fallbackNS&&(v=v.concat(a.options.fallbackNS));var m=o.count!==void 0&&typeof o.count!="string",g=m&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),_=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",x=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);v.forEach(function(b){a.isValidLookup(s)||(f=b,!uj["".concat(x[0],"-").concat(b)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&(uj["".concat(x[0],"-").concat(b)]=!0,a.logger.warn('key "'.concat(c,'" for languages "').concat(x.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(function(w){if(!a.isValidLookup(s)){u=w;var E=[d];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(E,d,w,b,o);else{var C;m&&(C=a.pluralResolver.getSuffix(w,o.count,o));var T="".concat(a.options.pluralSeparator,"zero");if(m&&(E.push(d+C),g&&E.push(d+T)),_){var I="".concat(d).concat(a.options.contextSeparator).concat(o.context);E.push(I),m&&(E.push(I+C),g&&E.push(I+T))}}for(var R;R=E.pop();)a.isValidLookup(s)||(l=R,s=a.getResource(w,b,R,o))}}))})}}),{res:s,usedKey:c,exactUsedKey:l,usedLng:u,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(Fu);function CC(t){return t.charAt(0).toUpperCase()+t.slice(1)}var fj=function(){function t(e){Qo(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xs.create("languageUtils")}return es(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=CC(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=CC(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=CC(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(c){o.indexOf(c)<0&&s(i.formatLanguageCode(c))}),o}}]),t}(),sVe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],lVe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},uVe=["v1","v2","v3"],hj={zero:0,one:1,two:2,few:3,many:4,other:5};function cVe(){var t={};return sVe.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:lVe[e.fc]}})}),t}var fVe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qo(this,t),this.languageUtils=e,this.options=r,this.logger=xs.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=cVe()}return es(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return hj[o]-hj[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!uVe.includes(this.options.compatibilityJSON)}}]),t}();function dj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Po(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pj(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Z7e(t,e,r);return!a&&i&&typeof r=="string"&&(a=xx(t,r,n),a===void 0&&(a=xx(e,r,n))),a}var hVe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qo(this,t),this.logger=xs.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return es(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:Q7e,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?th(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?th(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?th(n.nestingPrefix):n.nestingPrefixEscaped||th("$t("),this.nestingSuffix=n.nestingSuffix?th(n.nestingSuffix):n.nestingSuffixEscaped||th(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,c,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(m){return m.replace(/\$/g,"$$$$")}var h=function(g){if(g.indexOf(o.formatSeparator)<0){var _=pj(n,u,g,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(_,void 0,i,Po(Po(Po({},a),n),{},{interpolationkey:g})):_}var x=g.split(o.formatSeparator),b=x.shift().trim(),w=x.join(o.formatSeparator).trim();return o.format(pj(n,u,b,o.options.keySeparator,o.options.ignoreJSONStructure),w,i,Po(Po(Po({},a),n),{},{interpolationkey:b}))};this.resetRegExp();var p=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,d=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,v=[{regex:this.regexpUnescape,safeValue:function(g){return f(g)}},{regex:this.regexp,safeValue:function(g){return o.escapeValue?f(o.escape(g)):f(g)}}];return v.forEach(function(m){for(l=0;s=m.regex.exec(r);){var g=s[1].trim();if(c=h(g),c===void 0)if(typeof p=="function"){var _=p(r,s,a);c=typeof _=="string"?_:""}else if(a&&Object.prototype.hasOwnProperty.call(a,g))c="";else if(d){c=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(g," for interpolating ").concat(r)),c="";else typeof c!="string"&&!o.useRawValueToEscape&&(c=aj(c));var x=m.safeValue(c);if(r=r.replace(s[0],x),d?(m.regex.lastIndex+=c.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,c;function l(p,d){var v=this.nestingOptionsSeparator;if(p.indexOf(v)<0)return p;var m=p.split(new RegExp("".concat(v,"[ ]*{"))),g="{".concat(m[1]);p=m[0],g=this.interpolate(g,c);var _=g.match(/'/g),x=g.match(/"/g);(_&&_.length%2===0&&!x||x.length%2!==0)&&(g=g.replace(/'/g,'"'));try{c=JSON.parse(g),d&&(c=Po(Po({},d),c))}catch(b){return this.logger.warn("failed parsing options string in nesting for key ".concat(p),b),"".concat(p).concat(v).concat(g)}return delete c.defaultValue,p}for(;o=this.nestingRegexp.exec(r);){var u=[];c=Po({},a),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(p){return p.trim()});o[1]=h.shift(),u=h,f=!0}if(s=n(l.call(this,o[1].trim(),c),c),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=aj(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),f&&(s=u.reduce(function(p,d){return i.format(p,d,a.lng,Po(Po({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function el(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dVe(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),c=z7e(s),l=c[0],u=c.slice(1),f=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:r}}function rh(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var pVe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qo(this,t),this.logger=xs.create("formatter"),this.options=e,this.formats={number:rh(function(r,n){var i=new Intl.NumberFormat(r,el({},n));return function(a){return i.format(a)}}),currency:rh(function(r,n){var i=new Intl.NumberFormat(r,el(el({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:rh(function(r,n){var i=new Intl.DateTimeFormat(r,el({},n));return function(a){return i.format(a)}}),relativetime:rh(function(r,n){var i=new Intl.RelativeTimeFormat(r,el({},n));return function(a){return i.format(a,n.range||"day")}}),list:rh(function(r,n){var i=new Intl.ListFormat(r,el({},n));return function(a){return i.format(a)}})},this.init(e)}return es(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=rh(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),c=s.reduce(function(l,u){var f=dVe(u),h=f.formatName,p=f.formatOptions;if(a.formats[h]){var d=l;try{var v=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},m=v.locale||v.lng||o.locale||o.lng||i;d=a.formats[h](l,m,el(el(el({},p),o),v))}catch(g){a.logger.warn(g)}return d}else a.logger.warn("there was no format function for ".concat(h));return l},r);return c}}]),t}();function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vVe(t){var e=gVe();return function(){var n=ks(t),i;if(e){var a=ks(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gg(this,i)}}function gVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mVe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var _Ve=function(t){Sb(r,t);var e=vVe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Qo(this,r),o=e.call(this),Cb&&Fu.call(gu(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=xs.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return es(r,[{key:"queueLoad",value:function(i,a,o,s){var c=this,l={},u={},f={},h={};return i.forEach(function(p){var d=!0;a.forEach(function(v){var m="".concat(p,"|").concat(v);!o.reload&&c.store.hasResourceBundle(p,v)?c.state[m]=2:c.state[m]<0||(c.state[m]===1?u[m]===void 0&&(u[m]=!0):(c.state[m]=1,d=!1,u[m]===void 0&&(u[m]=!0),l[m]===void 0&&(l[m]=!0),h[v]===void 0&&(h[v]=!0)))}),d||(f[p]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),c=s[0],l=s[1];a&&this.emit("failedLoading",c,l,a),o&&this.store.addResourceBundle(c,l,o),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(f){K7e(f.loaded,[c],l),mVe(f,i),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){u[h]||(u[h]={});var p=f.loaded[h];p.length&&p.forEach(function(d){u[h][d]===void 0&&(u[h][d]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,a,o){var s=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:c,wait:l,callback:u});return}this.readingCalls++;var f=function(v,m){if(s.readingCalls--,s.waitingReads.length>0){var g=s.waitingReads.shift();s.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(v&&m&&c<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,c+1,l*2,u)},l);return}u(v,m)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var p=h(i,a);p&&typeof p.then=="function"?p.then(function(d){return f(null,d)}).catch(f):f(null,p)}catch(d){f(d)}return}return h(i,a,f)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,c);if(!l.toLoad.length)return l.pending.length||c(),null;l.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),c=s[0],l=s[1];this.read(c,l,"read",void 0,void 0,function(u,f){u&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(c," failed"),u),!u&&f&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(c),f),a.loaded(i,u,f)})}},{key:"saveMissing",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=mj(mj({},l),{},{isUpdate:c}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var p;h.length===5?p=h(i,a,o,s,f):p=h(i,a,o,s),p&&typeof p.then=="function"?p.then(function(d){return u(null,d)}).catch(u):u(null,p)}catch(d){u(d)}else h(i,a,o,s,u,f)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(Fu);function _j(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(bi(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),bi(e[2])==="object"||bi(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function yj(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yVe(t){var e=xVe();return function(){var n=ks(t),i;if(e){var a=ks(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gg(this,i)}}function xVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p_(){}function bVe(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var bx=function(t){Sb(r,t);var e=yVe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Qo(this,r),n=e.call(this),Cb&&Fu.call(gu(n)),n.options=yj(i),n.services={},n.logger=xs,n.modules={external:[]},bVe(gu(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),gg(n,gu(n));setTimeout(function(){n.init(i,a)},0)}return n}return es(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=_j();this.options=cs(cs(cs({},s),this.options),yj(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=cs(cs({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function c(g){return g?typeof g=="function"?new g:g:null}if(!this.options.isClone){this.modules.logger?xs.init(c(this.modules.logger),this.options):xs.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=pVe);var u=new fj(this.options);this.store=new iVe(this.options.resources,this.options);var f=this.services;f.logger=xs,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new fVe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=c(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new hVe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new _Ve(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(g){for(var _=arguments.length,x=new Array(_>1?_-1:0),b=1;b<_;b++)x[b-1]=arguments[b];i.emit.apply(i,[g].concat(x))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=c(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new cj(this.services,this.options),this.translator.on("*",function(g){for(var _=arguments.length,x=new Array(_>1?_-1:0),b=1;b<_;b++)x[b-1]=arguments[b];i.emit.apply(i,[g].concat(x))}),this.modules.external.forEach(function(g){g.init&&g.init(i)})}if(this.format=this.options.interpolation.format,o||(o=p_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var p=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];p.forEach(function(g){i[g]=function(){var _;return(_=i.store)[g].apply(_,arguments)}});var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach(function(g){i[g]=function(){var _;return(_=i.store)[g].apply(_,arguments),i}});var v=K0(),m=function(){var _=function(b,w){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),v.resolve(w),o(b,w)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return _(null,i.t.bind(i));i.changeLanguage(i.options.lng,_)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),v}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p_,s=o,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return s();var l=[],u=function(p){if(p){var d=a.services.languageUtils.toResolveHierarchy(p);d.forEach(function(v){l.indexOf(v)<0&&l.push(v)})}};if(c)u(c);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return u(h)})}this.options.preload&&this.options.preload.forEach(function(h){return u(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=K0();return i||(i=this.languages),a||(a=this.options.ns),o||(o=p_),this.services.backendConnector.reload(i,a,function(c){s.resolve(),o(c)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&bY.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=K0();this.emit("languageChanging",i);var c=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,p){p?(c(p),o.translator.changeLanguage(p),o.isLanguageChangingTo=void 0,o.emit("languageChanged",p),o.logger.log("languageChanged",p)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},u=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var p=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);p&&(o.language||c(p),o.translator.language||o.translator.changeLanguage(p),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(p)),o.loadResources(p,function(d){l(d,p)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,c=function l(u,f){var h;if(bi(f)!=="object"){for(var p=arguments.length,d=new Array(p>2?p-2:0),v=2;v<p;v++)d[v-2]=arguments[v];h=s.options.overloadTranslationOptionHandler([u,f].concat(d))}else h=cs({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var m=s.options.keySeparator||".",g;return h.keyPrefix&&Array.isArray(u)?g=u.map(function(_){return"".concat(h.keyPrefix).concat(m).concat(_)}):g=h.keyPrefix?"".concat(h.keyPrefix).concat(m).concat(u):u,s.t(g,h)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=a,c.keyPrefix=o,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(p,d){var v=a.services.backendConnector.state["".concat(p,"|").concat(d)];return v===-1||v===2};if(o.precheck){var f=o.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,i)&&(!c||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=K0();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){o.options.ns.indexOf(c)<0&&o.options.ns.push(c)}),this.loadResources(function(c){s.resolve(),a&&a(c)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=K0();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],c=i.filter(function(l){return s.indexOf(l)<0});return c.length?(this.options.preload=s.concat(c),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new fj(_j());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p_,s=cs(cs(cs({},this.options),a),{isClone:!0}),c=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){c[u]=i[u]}),c.services=cs({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new cj(c.services,c.options),c.translator.on("*",function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];c.emit.apply(c,[u].concat(h))}),c.init(s,o),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Fu);Ya(bx,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new bx(t,e)});var ra=bx.createInstance();ra.createInstance=bx.createInstance;ra.createInstance;ra.dir;ra.init;ra.loadResources;ra.reloadResources;ra.use;ra.changeLanguage;ra.getFixedT;ra.t;ra.exists;ra.setDefaultNamespace;ra.hasLoadedNamespace;ra.loadNamespaces;ra.loadLanguages;ra.use(APe).init({resources:Wde||{},lng:Pd[Yde]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("IdolTime i18n Ready!"));wu.render(N.jsx(Vr.StrictMode,{children:N.jsx(OPe,{children:N.jsx(ZEe,{store:pe,children:N.jsx(H7e,{})})})}),document.getElementById("root"));export{fi as C,$a as S,Pt as T,J as W,Zy as a,IVe as r};
