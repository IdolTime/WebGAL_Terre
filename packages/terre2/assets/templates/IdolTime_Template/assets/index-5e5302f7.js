var are=Object.defineProperty;var ore=(t,e,r)=>e in t?are(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var at=(t,e,r)=>(ore(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ki(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sre(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Zj={exports:{}},rg={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var DN=Object.getOwnPropertySymbols,lre=Object.prototype.hasOwnProperty,ure=Object.prototype.propertyIsEnumerable;function cre(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function fre(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var GR=fre()?Object.assign:function(t,e){for(var r,n=cre(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)lre.call(r,o)&&(n[o]=r[o]);if(DN){i=DN(r);for(var s=0;s<i.length;s++)ure.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const hre=Ki(GR);var Jj={exports:{}},Or={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR=GR,Pd=60103,Qj=60106;Or.Fragment=60107;Or.StrictMode=60108;Or.Profiler=60114;var e9=60109,t9=60110,r9=60112;Or.Suspense=60113;var n9=60115,i9=60116;if(typeof Symbol=="function"&&Symbol.for){var Mo=Symbol.for;Pd=Mo("react.element"),Qj=Mo("react.portal"),Or.Fragment=Mo("react.fragment"),Or.StrictMode=Mo("react.strict_mode"),Or.Profiler=Mo("react.profiler"),e9=Mo("react.provider"),t9=Mo("react.context"),r9=Mo("react.forward_ref"),Or.Suspense=Mo("react.suspense"),n9=Mo("react.memo"),i9=Mo("react.lazy")}var UN=typeof Symbol=="function"&&Symbol.iterator;function dre(t){return t===null||typeof t!="object"?null:(t=UN&&t[UN]||t["@@iterator"],typeof t=="function"?t:null)}function ng(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o9={};function Od(t,e,r){this.props=t,this.context=e,this.refs=o9,this.updater=r||a9}Od.prototype.isReactComponent={};Od.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(ng(85));this.updater.enqueueSetState(this,t,e,"setState")};Od.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function s9(){}s9.prototype=Od.prototype;function HR(t,e,r){this.props=t,this.context=e,this.refs=o9,this.updater=r||a9}var zR=HR.prototype=new s9;zR.constructor=HR;VR(zR,Od.prototype);zR.isPureReactComponent=!0;var XR={current:null},l9=Object.prototype.hasOwnProperty,u9={key:!0,ref:!0,__self:!0,__source:!0};function c9(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)l9.call(e,n)&&!u9.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Pd,type:t,key:a,ref:o,props:i,_owner:XR.current}}function pre(t,e){return{$$typeof:Pd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function WR(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pd}function vre(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var jN=/\/+/g;function pE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vre(""+t.key):e.toString(36)}function N_(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pd:case Qj:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+pE(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(jN,"$&/")+"/"),N_(i,e,r,"",function(l){return l})):i!=null&&(WR(i)&&(i=pre(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var c=n+pE(a,s);o+=N_(a,e,r,c,i)}else if(c=dre(t),typeof c=="function")for(t=c.call(t),s=0;!(a=t.next()).done;)a=a.value,c=n+pE(a,s++),o+=N_(a,e,r,c,i);else if(a==="object")throw e=""+t,Error(ng(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function Tm(t,e,r){if(t==null)return t;var n=[],i=0;return N_(t,n,"","",function(a){return e.call(r,a,i++)}),n}function gre(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var f9={current:null};function Cl(){var t=f9.current;if(t===null)throw Error(ng(321));return t}var mre={ReactCurrentDispatcher:f9,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:XR,IsSomeRendererActing:{current:!1},assign:VR};Or.Children={map:Tm,forEach:function(t,e,r){Tm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Tm(t,function(){e++}),e},toArray:function(t){return Tm(t,function(e){return e})||[]},only:function(t){if(!WR(t))throw Error(ng(143));return t}};Or.Component=Od;Or.PureComponent=HR;Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mre;Or.cloneElement=function(t,e,r){if(t==null)throw Error(ng(267,t));var n=VR({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=XR.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)l9.call(e,c)&&!u9.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:Pd,type:t.type,key:i,ref:a,props:n,_owner:o}};Or.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:t9,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:e9,_context:t},t.Consumer=t};Or.createElement=c9;Or.createFactory=function(t){var e=c9.bind(null,t);return e.type=t,e};Or.createRef=function(){return{current:null}};Or.forwardRef=function(t){return{$$typeof:r9,render:t}};Or.isValidElement=WR;Or.lazy=function(t){return{$$typeof:i9,_payload:{_status:-1,_result:t},_init:gre}};Or.memo=function(t,e){return{$$typeof:n9,type:t,compare:e===void 0?null:e}};Or.useCallback=function(t,e){return Cl().useCallback(t,e)};Or.useContext=function(t,e){return Cl().useContext(t,e)};Or.useDebugValue=function(){};Or.useEffect=function(t,e){return Cl().useEffect(t,e)};Or.useImperativeHandle=function(t,e,r){return Cl().useImperativeHandle(t,e,r)};Or.useLayoutEffect=function(t,e){return Cl().useLayoutEffect(t,e)};Or.useMemo=function(t,e){return Cl().useMemo(t,e)};Or.useReducer=function(t,e,r){return Cl().useReducer(t,e,r)};Or.useRef=function(t){return Cl().useRef(t)};Or.useState=function(t){return Cl().useState(t)};Or.version="17.0.2";Jj.exports=Or;var he=Jj.exports;const Ur=Ki(he);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _re=he,h9=60103;rg.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var $N=Symbol.for;h9=$N("react.element"),rg.Fragment=$N("react.fragment")}var yre=_re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xre=Object.prototype.hasOwnProperty,bre={key:!0,ref:!0,__self:!0,__source:!0};function d9(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)xre.call(e,n)&&!bre.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:h9,type:t,key:a,ref:o,props:i,_owner:yre.current}}rg.jsx=d9;rg.jsxs=d9;Zj.exports=rg;var M=Zj.exports,p9={exports:{}},Ro={},v9={exports:{}},g9={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,l=null,u=function(){if(c!==null)try{var U=t.unstable_now();c(!0,U),c=null}catch(X){throw setTimeout(u,0),X}};e=function(U){c!==null?setTimeout(e,0,U):(c=U,setTimeout(u,0))},r=function(U,X){l=setTimeout(U,X)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var d=!1,g=null,m=-1,v=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},i=function(){},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<U?Math.floor(1e3/U):5};var y=new MessageChannel,b=y.port2;y.port1.onmessage=function(){if(g!==null){var U=t.unstable_now();_=U+v;try{g(!0,U)?b.postMessage(null):(d=!1,g=null)}catch(X){throw b.postMessage(null),X}}else d=!1},e=function(U){g=U,d||(d=!0,b.postMessage(null))},r=function(U,X){m=f(function(){U(t.unstable_now())},X)},n=function(){h(m),m=-1}}function w(U,X){var j=U.length;U.push(X);e:for(;;){var G=j-1>>>1,ne=U[G];if(ne!==void 0&&0<T(ne,X))U[G]=X,U[j]=ne,j=G;else break e}}function E(U){return U=U[0],U===void 0?null:U}function C(U){var X=U[0];if(X!==void 0){var j=U.pop();if(j!==X){U[0]=j;e:for(var G=0,ne=U.length;G<ne;){var ae=2*(G+1)-1,pe=U[ae],se=ae+1,_e=U[se];if(pe!==void 0&&0>T(pe,j))_e!==void 0&&0>T(_e,pe)?(U[G]=_e,U[se]=j,G=se):(U[G]=pe,U[ae]=j,G=ae);else if(_e!==void 0&&0>T(_e,j))U[G]=_e,U[se]=j,G=se;else break e}}return X}return null}function T(U,X){var j=U.sortIndex-X.sortIndex;return j!==0?j:U.id-X.id}var A=[],I=[],O=1,P=null,k=3,F=!1,B=!1,D=!1;function z(U){for(var X=E(I);X!==null;){if(X.callback===null)C(I);else if(X.startTime<=U)C(I),X.sortIndex=X.expirationTime,w(A,X);else break;X=E(I)}}function ee(U){if(D=!1,z(U),!B)if(E(A)!==null)B=!0,e(te);else{var X=E(I);X!==null&&r(ee,X.startTime-U)}}function te(U,X){B=!1,D&&(D=!1,n()),F=!0;var j=k;try{for(z(X),P=E(A);P!==null&&(!(P.expirationTime>X)||U&&!t.unstable_shouldYield());){var G=P.callback;if(typeof G=="function"){P.callback=null,k=P.priorityLevel;var ne=G(P.expirationTime<=X);X=t.unstable_now(),typeof ne=="function"?P.callback=ne:P===E(A)&&C(A),z(X)}else C(A);P=E(A)}if(P!==null)var ae=!0;else{var pe=E(I);pe!==null&&r(ee,pe.startTime-X),ae=!1}return ae}finally{P=null,k=j,F=!1}}var Y=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){B||F||(B=!0,e(te))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return E(A)},t.unstable_next=function(U){switch(k){case 1:case 2:case 3:var X=3;break;default:X=k}var j=k;k=X;try{return U()}finally{k=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Y,t.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var j=k;k=U;try{return X()}finally{k=j}},t.unstable_scheduleCallback=function(U,X,j){var G=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?G+j:G):j=G,U){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=j+ne,U={id:O++,callback:X,priorityLevel:U,startTime:j,expirationTime:ne,sortIndex:-1},j>G?(U.sortIndex=j,w(I,U),E(A)===null&&U===E(I)&&(D?n():D=!0,r(ee,j-G))):(U.sortIndex=ne,w(A,U),B||F||(B=!0,e(te))),U},t.unstable_wrapCallback=function(U){var X=k;return function(){var j=k;k=X;try{return U.apply(this,arguments)}finally{k=j}}}})(g9);v9.exports=g9;var wre=v9.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=he,xn=GR,ki=wre;function et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Gx)throw Error(et(227));var m9=new Set,ev={};function yf(t,e){sd(t,e),sd(t+"Capture",e)}function sd(t,e){for(ev[t]=e,t=0;t<e.length;t++)m9.add(e[t])}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ere=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GN=Object.prototype.hasOwnProperty,VN={},HN={};function Sre(t){return GN.call(HN,t)?!0:GN.call(VN,t)?!1:Ere.test(t)?HN[t]=!0:(VN[t]=!0,!1)}function Cre(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tre(t,e,r,n){if(e===null||typeof e>"u"||Cre(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ta(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var qi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qi[t]=new Ta(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qi[e]=new Ta(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qi[t]=new Ta(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qi[t]=new Ta(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qi[t]=new Ta(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qi[t]=new Ta(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qi[t]=new Ta(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qi[t]=new Ta(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qi[t]=new Ta(t,5,!1,t.toLowerCase(),null,!1,!1)});var YR=/[\-:]([a-z])/g;function qR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(YR,qR);qi[e]=new Ta(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(YR,qR);qi[e]=new Ta(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(YR,qR);qi[e]=new Ta(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qi[t]=new Ta(t,1,!1,t.toLowerCase(),null,!1,!1)});qi.xlinkHref=new Ta("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qi[t]=new Ta(t,1,!1,t.toLowerCase(),null,!0,!0)});function KR(t,e,r,n){var i=qi.hasOwnProperty(e)?qi[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(Tre(e,r,i,n)&&(r=null),n||i===null?Sre(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var xf=Gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dp=60103,Fc=60106,Jl=60107,ZR=60108,Cp=60114,JR=60109,QR=60110,Vx=60112,Tp=60113,wy=60120,Hx=60115,eP=60116,tP=60121,rP=60128,_9=60129,nP=60130,ZC=60131;if(typeof Symbol=="function"&&Symbol.for){var Si=Symbol.for;dp=Si("react.element"),Fc=Si("react.portal"),Jl=Si("react.fragment"),ZR=Si("react.strict_mode"),Cp=Si("react.profiler"),JR=Si("react.provider"),QR=Si("react.context"),Vx=Si("react.forward_ref"),Tp=Si("react.suspense"),wy=Si("react.suspense_list"),Hx=Si("react.memo"),eP=Si("react.lazy"),tP=Si("react.block"),Si("react.scope"),rP=Si("react.opaque.id"),_9=Si("react.debug_trace_mode"),nP=Si("react.offscreen"),ZC=Si("react.legacy_hidden")}var zN=typeof Symbol=="function"&&Symbol.iterator;function O0(t){return t===null||typeof t!="object"?null:(t=zN&&t[zN]||t["@@iterator"],typeof t=="function"?t:null)}var vE;function pp(t){if(vE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);vE=e&&e[1]||""}return`
`+vE+t}var gE=!1;function Am(t,e){if(!t||gE)return"";gE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{gE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?pp(t):""}function Are(t){switch(t.tag){case 5:return pp(t.type);case 16:return pp("Lazy");case 13:return pp("Suspense");case 19:return pp("SuspenseList");case 0:case 2:case 15:return t=Am(t.type,!1),t;case 11:return t=Am(t.type.render,!1),t;case 22:return t=Am(t.type._render,!1),t;case 1:return t=Am(t.type,!0),t;default:return""}}function Lh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jl:return"Fragment";case Fc:return"Portal";case Cp:return"Profiler";case ZR:return"StrictMode";case Tp:return"Suspense";case wy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QR:return(t.displayName||"Context")+".Consumer";case JR:return(t._context.displayName||"Context")+".Provider";case Vx:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Hx:return Lh(t.type);case tP:return Lh(t._render);case eP:e=t._payload,t=t._init;try{return Lh(t(e))}catch{}}return null}function Iu(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function y9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ire(t){var e=y9(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Im(t){t._valueTracker||(t._valueTracker=Ire(t))}function x9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=y9(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ey(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function JC(t,e){var r=e.checked;return xn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function XN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Iu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b9(t,e){e=e.checked,e!=null&&KR(t,"checked",e,!1)}function QC(t,e){b9(t,e);var r=Iu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eT(t,e.type,r):e.hasOwnProperty("defaultValue")&&eT(t,e.type,Iu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function eT(t,e,r){(e!=="number"||Ey(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function Rre(t){var e="";return Gx.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function tT(t,e){return t=xn({children:void 0},e),(e=Rre(e.children))&&(t.children=e),t}function Bh(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Iu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(et(91));return xn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function YN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(et(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(et(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Iu(r)}}function w9(t,e){var r=Iu(e.value),n=Iu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function qN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var nT={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function E9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rm,S9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==nT.svg||"innerHTML"in t)t.innerHTML=e;else{for(Rm=Rm||document.createElement("div"),Rm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tv(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ap={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pre=["Webkit","ms","Moz","O"];Object.keys(Ap).forEach(function(t){Pre.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ap[e]=Ap[t]})});function C9(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ap.hasOwnProperty(t)&&Ap[t]?(""+e).trim():e+"px"}function T9(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=C9(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Ore=xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aT(t,e){if(e){if(Ore[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(et(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(et(62))}}function oT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function iP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sT=null,Dh=null,Uh=null;function KN(t){if(t=ag(t)){if(typeof sT!="function")throw Error(et(280));var e=t.stateNode;e&&(e=Kx(e),sT(t.stateNode,t.type,e))}}function A9(t){Dh?Uh?Uh.push(t):Uh=[t]:Dh=t}function I9(){if(Dh){var t=Dh,e=Uh;if(Uh=Dh=null,KN(t),e)for(t=0;t<e.length;t++)KN(e[t])}}function aP(t,e){return t(e)}function R9(t,e,r,n,i){return t(e,r,n,i)}function oP(){}var P9=aP,Nc=!1,mE=!1;function sP(){(Dh!==null||Uh!==null)&&(oP(),I9())}function kre(t,e,r){if(mE)return t(e,r);mE=!0;try{return P9(t,e,r)}finally{mE=!1,sP()}}function rv(t,e){var r=t.stateNode;if(r===null)return null;var n=Kx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(et(231,e,typeof r));return r}var lT=!1;if(xl)try{var k0={};Object.defineProperty(k0,"passive",{get:function(){lT=!0}}),window.addEventListener("test",k0,k0),window.removeEventListener("test",k0,k0)}catch{lT=!1}function Fre(t,e,r,n,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Ip=!1,Sy=null,Cy=!1,uT=null,Nre={onError:function(t){Ip=!0,Sy=t}};function Mre(t,e,r,n,i,a,o,s,c){Ip=!1,Sy=null,Fre.apply(Nre,arguments)}function Lre(t,e,r,n,i,a,o,s,c){if(Mre.apply(this,arguments),Ip){if(Ip){var l=Sy;Ip=!1,Sy=null}else throw Error(et(198));Cy||(Cy=!0,uT=l)}}function bf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function O9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZN(t){if(bf(t)!==t)throw Error(et(188))}function Bre(t){var e=t.alternate;if(!e){if(e=bf(t),e===null)throw Error(et(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return ZN(i),t;if(a===n)return ZN(i),e;a=a.sibling}throw Error(et(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(et(189))}}if(r.alternate!==n)throw Error(et(190))}if(r.tag!==3)throw Error(et(188));return r.stateNode.current===r?t:e}function k9(t){if(t=Bre(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function JN(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var F9,lP,N9,M9,cT=!1,bs=[],hu=null,du=null,pu=null,nv=new Map,iv=new Map,F0=[],QN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fT(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function eM(t,e){switch(t){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":du=null;break;case"mouseover":case"mouseout":pu=null;break;case"pointerover":case"pointerout":nv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":iv.delete(e.pointerId)}}function N0(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=fT(e,r,n,i,a),e!==null&&(e=ag(e),e!==null&&lP(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dre(t,e,r,n,i){switch(e){case"focusin":return hu=N0(hu,t,e,r,n,i),!0;case"dragenter":return du=N0(du,t,e,r,n,i),!0;case"mouseover":return pu=N0(pu,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return nv.set(a,N0(nv.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,iv.set(a,N0(iv.get(a)||null,t,e,r,n,i)),!0}return!1}function Ure(t){var e=Mc(t.target);if(e!==null){var r=bf(e);if(r!==null){if(e=r.tag,e===13){if(e=O9(r),e!==null){t.blockedOn=e,M9(t.lanePriority,function(){ki.unstable_runWithPriority(t.priority,function(){N9(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function M_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=hP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=ag(r),e!==null&&lP(e),t.blockedOn=r,!1;e.shift()}return!0}function tM(t,e,r){M_(t)&&r.delete(e)}function jre(){for(cT=!1;0<bs.length;){var t=bs[0];if(t.blockedOn!==null){t=ag(t.blockedOn),t!==null&&F9(t);break}for(var e=t.targetContainers;0<e.length;){var r=hP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&bs.shift()}hu!==null&&M_(hu)&&(hu=null),du!==null&&M_(du)&&(du=null),pu!==null&&M_(pu)&&(pu=null),nv.forEach(tM),iv.forEach(tM)}function M0(t,e){t.blockedOn===e&&(t.blockedOn=null,cT||(cT=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,jre)))}function L9(t){function e(i){return M0(i,t)}if(0<bs.length){M0(bs[0],t);for(var r=1;r<bs.length;r++){var n=bs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(hu!==null&&M0(hu,t),du!==null&&M0(du,t),pu!==null&&M0(pu,t),nv.forEach(e),iv.forEach(e),r=0;r<F0.length;r++)n=F0[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<F0.length&&(r=F0[0],r.blockedOn===null);)Ure(r),r.blockedOn===null&&F0.shift()}function Pm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var _h={animationend:Pm("Animation","AnimationEnd"),animationiteration:Pm("Animation","AnimationIteration"),animationstart:Pm("Animation","AnimationStart"),transitionend:Pm("Transition","TransitionEnd")},_E={},B9={};xl&&(B9=document.createElement("div").style,"AnimationEvent"in window||(delete _h.animationend.animation,delete _h.animationiteration.animation,delete _h.animationstart.animation),"TransitionEvent"in window||delete _h.transitionend.transition);function zx(t){if(_E[t])return _E[t];if(!_h[t])return t;var e=_h[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in B9)return _E[t]=e[r];return t}var D9=zx("animationend"),U9=zx("animationiteration"),j9=zx("animationstart"),$9=zx("transitionend"),G9=new Map,uP=new Map,$re=["abort","abort",D9,"animationEnd",U9,"animationIteration",j9,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$9,"transitionEnd","waiting","waiting"];function cP(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),uP.set(n,e),G9.set(n,i),yf(i,[n])}}var Gre=ki.unstable_now;Gre();var en=8;function ph(t){if(1&t)return en=15,1;if(2&t)return en=14,2;if(4&t)return en=13,4;var e=24&t;return e!==0?(en=12,e):t&32?(en=11,32):(e=192&t,e!==0?(en=10,e):t&256?(en=9,256):(e=3584&t,e!==0?(en=8,e):t&4096?(en=7,4096):(e=4186112&t,e!==0?(en=6,e):(e=62914560&t,e!==0?(en=5,e):t&67108864?(en=4,67108864):t&134217728?(en=3,134217728):(e=805306368&t,e!==0?(en=2,e):1073741824&t?(en=1,1073741824):(en=8,t))))))}function Vre(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Hre(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(et(358,t))}}function av(t,e){var r=t.pendingLanes;if(r===0)return en=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=en=15;else if(a=r&134217727,a!==0){var c=a&~o;c!==0?(n=ph(c),i=en):(s&=a,s!==0&&(n=ph(s),i=en))}else a=r&~o,a!==0?(n=ph(a),i=en):s!==0&&(n=ph(s),i=en);if(n===0)return 0;if(n=31-Ru(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(ph(e),i<=en)return e;en=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ru(e),i=1<<r,n|=t[r],e&=~i;return n}function V9(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ty(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=vh(24&~e),t===0?Ty(10,e):t;case 10:return t=vh(192&~e),t===0?Ty(8,e):t;case 8:return t=vh(3584&~e),t===0&&(t=vh(4186112&~e),t===0&&(t=512)),t;case 2:return e=vh(805306368&~e),e===0&&(e=268435456),e}throw Error(et(358,t))}function vh(t){return t&-t}function yE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Xx(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-Ru(e),t[e]=r}var Ru=Math.clz32?Math.clz32:Wre,zre=Math.log,Xre=Math.LN2;function Wre(t){return t===0?32:31-(zre(t)/Xre|0)|0}var Yre=ki.unstable_UserBlockingPriority,qre=ki.unstable_runWithPriority,L_=!0;function Kre(t,e,r,n){Nc||oP();var i=fP,a=Nc;Nc=!0;try{R9(i,t,e,r,n)}finally{(Nc=a)||sP()}}function Zre(t,e,r,n){qre(Yre,fP.bind(null,t,e,r,n))}function fP(t,e,r,n){if(L_){var i;if((i=(e&4)===0)&&0<bs.length&&-1<QN.indexOf(t))t=fT(null,t,e,r,n),bs.push(t);else{var a=hP(t,e,r,n);if(a===null)i&&eM(t,n);else{if(i){if(-1<QN.indexOf(t)){t=fT(a,t,e,r,n),bs.push(t);return}if(Dre(a,t,e,r,n))return;eM(t,n)}r$(t,e,n,null,r)}}}}function hP(t,e,r,n){var i=iP(n);if(i=Mc(i),i!==null){var a=bf(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=O9(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return r$(t,e,n,i,r),null}var iu=null,dP=null,B_=null;function H9(){if(B_)return B_;var t,e=dP,r=e.length,n,i="value"in iu?iu.value:iu.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return B_=i.slice(t,1<n?1-n:void 0)}function D_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Om(){return!0}function rM(){return!1}function ao(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Om:rM,this.isPropagationStopped=rM,this}return xn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Om)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Om)},persist:function(){},isPersistent:Om}),e}var kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pP=ao(kd),ig=xn({},kd,{view:0,detail:0}),Jre=ao(ig),xE,bE,L0,Wx=xn({},ig,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==L0&&(L0&&t.type==="mousemove"?(xE=t.screenX-L0.screenX,bE=t.screenY-L0.screenY):bE=xE=0,L0=t),xE)},movementY:function(t){return"movementY"in t?t.movementY:bE}}),nM=ao(Wx),Qre=xn({},Wx,{dataTransfer:0}),ene=ao(Qre),tne=xn({},ig,{relatedTarget:0}),wE=ao(tne),rne=xn({},kd,{animationName:0,elapsedTime:0,pseudoElement:0}),nne=ao(rne),ine=xn({},kd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ane=ao(ine),one=xn({},kd,{data:0}),iM=ao(one),sne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},une={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cne(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=une[t])?!!e[t]:!1}function vP(){return cne}var fne=xn({},ig,{key:function(t){if(t.key){var e=sne[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=D_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lne[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vP,charCode:function(t){return t.type==="keypress"?D_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?D_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hne=ao(fne),dne=xn({},Wx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aM=ao(dne),pne=xn({},ig,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vP}),vne=ao(pne),gne=xn({},kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),mne=ao(gne),_ne=xn({},Wx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yne=ao(_ne),xne=[9,13,27,32],gP=xl&&"CompositionEvent"in window,Rp=null;xl&&"documentMode"in document&&(Rp=document.documentMode);var bne=xl&&"TextEvent"in window&&!Rp,z9=xl&&(!gP||Rp&&8<Rp&&11>=Rp),oM=String.fromCharCode(32),sM=!1;function X9(t,e){switch(t){case"keyup":return xne.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yh=!1;function wne(t,e){switch(t){case"compositionend":return W9(e);case"keypress":return e.which!==32?null:(sM=!0,oM);case"textInput":return t=e.data,t===oM&&sM?null:t;default:return null}}function Ene(t,e){if(yh)return t==="compositionend"||!gP&&X9(t,e)?(t=H9(),B_=dP=iu=null,yh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return z9&&e.locale!=="ko"?null:e.data;default:return null}}var Sne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sne[t.type]:e==="textarea"}function Y9(t,e,r,n){A9(n),e=Ay(e,"onChange"),0<e.length&&(r=new pP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pp=null,ov=null;function Cne(t){Q9(t,0)}function Yx(t){var e=bh(t);if(x9(e))return t}function Tne(t,e){if(t==="change")return e}var q9=!1;if(xl){var EE;if(xl){var SE="oninput"in document;if(!SE){var uM=document.createElement("div");uM.setAttribute("oninput","return;"),SE=typeof uM.oninput=="function"}EE=SE}else EE=!1;q9=EE&&(!document.documentMode||9<document.documentMode)}function cM(){Pp&&(Pp.detachEvent("onpropertychange",K9),ov=Pp=null)}function K9(t){if(t.propertyName==="value"&&Yx(ov)){var e=[];if(Y9(e,ov,t,iP(t)),t=Cne,Nc)t(e);else{Nc=!0;try{aP(t,e)}finally{Nc=!1,sP()}}}}function Ane(t,e,r){t==="focusin"?(cM(),Pp=e,ov=r,Pp.attachEvent("onpropertychange",K9)):t==="focusout"&&cM()}function Ine(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yx(ov)}function Rne(t,e){if(t==="click")return Yx(e)}function Pne(t,e){if(t==="input"||t==="change")return Yx(e)}function One(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wo=typeof Object.is=="function"?Object.is:One,kne=Object.prototype.hasOwnProperty;function sv(t,e){if(wo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!kne.call(e,r[n])||!wo(t[r[n]],e[r[n]]))return!1;return!0}function fM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hM(t,e){var r=fM(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fM(r)}}function Z9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Z9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dM(){for(var t=window,e=Ey();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ey(t.document)}return e}function hT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Fne=xl&&"documentMode"in document&&11>=document.documentMode,xh=null,dT=null,Op=null,pT=!1;function pM(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pT||xh==null||xh!==Ey(n)||(n=xh,"selectionStart"in n&&hT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Op&&sv(Op,n)||(Op=n,n=Ay(dT,"onSelect"),0<n.length&&(e=new pP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=xh)))}cP("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);cP("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);cP($re,2);for(var vM="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),CE=0;CE<vM.length;CE++)uP.set(vM[CE],0);sd("onMouseEnter",["mouseout","mouseover"]);sd("onMouseLeave",["mouseout","mouseover"]);sd("onPointerEnter",["pointerout","pointerover"]);sd("onPointerLeave",["pointerout","pointerover"]);yf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yf("onBeforeInput",["compositionend","keypress","textInput","paste"]);yf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J9=new Set("cancel close invalid load scroll toggle".split(" ").concat(vp));function gM(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Lre(n,e,void 0,t),t.currentTarget=null}function Q9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;gM(i,s,l),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;gM(i,s,l),a=c}}}if(Cy)throw t=uT,Cy=!1,uT=null,t}function nn(t,e){var r=i$(e),n=t+"__bubble";r.has(n)||(t$(e,t,2,!1),r.add(n))}var mM="_reactListening"+Math.random().toString(36).slice(2);function e$(t){t[mM]||(t[mM]=!0,m9.forEach(function(e){J9.has(e)||_M(e,!1,t,null),_M(e,!0,t,null)}))}function _M(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&J9.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=i$(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),t$(a,t,i,e),o.add(s))}function t$(t,e,r,n){var i=uP.get(e);switch(i===void 0?2:i){case 0:i=Kre;break;case 1:i=Zre;break;default:i=fP}r=i.bind(null,e,r,t),i=void 0,!lT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function r$(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Mc(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}kre(function(){var l=a,u=iP(r),f=[];e:{var h=G9.get(t);if(h!==void 0){var p=pP,d=t;switch(t){case"keypress":if(D_(r)===0)break e;case"keydown":case"keyup":p=hne;break;case"focusin":d="focus",p=wE;break;case"focusout":d="blur",p=wE;break;case"beforeblur":case"afterblur":p=wE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ene;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vne;break;case D9:case U9:case j9:p=nne;break;case $9:p=mne;break;case"scroll":p=Jre;break;case"wheel":p=yne;break;case"copy":case"cut":case"paste":p=ane;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=aM}var g=(e&4)!==0,m=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var _=l,y;_!==null;){y=_;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,v!==null&&(b=rv(_,v),b!=null&&g.push(lv(_,b,y)))),m)break;_=_.return}0<g.length&&(h=new p(h,d,null,r,u),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(d=r.relatedTarget||r.fromElement)&&(Mc(d)||d[Fd]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(d=r.relatedTarget||r.toElement,p=l,d=d?Mc(d):null,d!==null&&(m=bf(d),d!==m||d.tag!==5&&d.tag!==6)&&(d=null)):(p=null,d=l),p!==d)){if(g=nM,b="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=aM,b="onPointerLeave",v="onPointerEnter",_="pointer"),m=p==null?h:bh(p),y=d==null?h:bh(d),h=new g(b,_+"leave",p,r,u),h.target=m,h.relatedTarget=y,b=null,Mc(u)===l&&(g=new g(v,_+"enter",d,r,u),g.target=y,g.relatedTarget=m,b=g),m=b,p&&d)t:{for(g=p,v=d,_=0,y=g;y;y=qf(y))_++;for(y=0,b=v;b;b=qf(b))y++;for(;0<_-y;)g=qf(g),_--;for(;0<y-_;)v=qf(v),y--;for(;_--;){if(g===v||v!==null&&g===v.alternate)break t;g=qf(g),v=qf(v)}g=null}else g=null;p!==null&&yM(f,h,p,g,!1),d!==null&&m!==null&&yM(f,m,d,g,!0)}}e:{if(h=l?bh(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=Tne;else if(lM(h))if(q9)w=Pne;else{w=Ine;var E=Ane}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=Rne);if(w&&(w=w(t,l))){Y9(f,w,r,u);break e}E&&E(t,h,l),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&eT(h,"number",h.value)}switch(E=l?bh(l):window,t){case"focusin":(lM(E)||E.contentEditable==="true")&&(xh=E,dT=l,Op=null);break;case"focusout":Op=dT=xh=null;break;case"mousedown":pT=!0;break;case"contextmenu":case"mouseup":case"dragend":pT=!1,pM(f,r,u);break;case"selectionchange":if(Fne)break;case"keydown":case"keyup":pM(f,r,u)}var C;if(gP)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yh?X9(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(z9&&r.locale!=="ko"&&(yh||T!=="onCompositionStart"?T==="onCompositionEnd"&&yh&&(C=H9()):(iu=u,dP="value"in iu?iu.value:iu.textContent,yh=!0)),E=Ay(l,T),0<E.length&&(T=new iM(T,t,null,r,u),f.push({event:T,listeners:E}),C?T.data=C:(C=W9(r),C!==null&&(T.data=C)))),(C=bne?wne(t,r):Ene(t,r))&&(l=Ay(l,"onBeforeInput"),0<l.length&&(u=new iM("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=C))}Q9(f,e)})}function lv(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ay(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=rv(t,r),a!=null&&n.unshift(lv(t,a,i)),a=rv(t,e),a!=null&&n.push(lv(t,a,i))),t=t.return}return n}function qf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yM(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&l!==null&&(s=l,i?(c=rv(r,a),c!=null&&o.unshift(lv(r,c,s))):i||(c=rv(r,a),c!=null&&o.push(lv(r,c,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function Iy(){}var TE=null,AE=null;function n$(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function vT(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xM=typeof setTimeout=="function"?setTimeout:void 0,Nne=typeof clearTimeout=="function"?clearTimeout:void 0;function mP(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function jh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function bM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var IE=0;function Mne(t){return{$$typeof:rP,toString:t,valueOf:t}}var qx=Math.random().toString(36).slice(2),au="__reactFiber$"+qx,Ry="__reactProps$"+qx,Fd="__reactContainer$"+qx,wM="__reactEvents$"+qx;function Mc(t){var e=t[au];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fd]||r[au]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=bM(t);t!==null;){if(r=t[au])return r;t=bM(t)}return e}t=r,r=t.parentNode}return null}function ag(t){return t=t[au]||t[Fd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(et(33))}function Kx(t){return t[Ry]||null}function i$(t){var e=t[wM];return e===void 0&&(e=t[wM]=new Set),e}var gT=[],wh=-1;function Xu(t){return{current:t}}function sn(t){0>wh||(t.current=gT[wh],gT[wh]=null,wh--)}function Bn(t,e){wh++,gT[wh]=t.current,t.current=e}var Pu={},ca=Xu(Pu),Da=Xu(!1),of=Pu;function ld(t,e){var r=t.type.contextTypes;if(!r)return Pu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ua(t){return t=t.childContextTypes,t!=null}function Py(){sn(Da),sn(ca)}function EM(t,e,r){if(ca.current!==Pu)throw Error(et(168));Bn(ca,e),Bn(Da,r)}function a$(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(et(108,Lh(e)||"Unknown",i));return xn({},r,n)}function U_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pu,of=ca.current,Bn(ca,t),Bn(Da,Da.current),!0}function SM(t,e,r){var n=t.stateNode;if(!n)throw Error(et(169));r?(t=a$(t,e,of),n.__reactInternalMemoizedMergedChildContext=t,sn(Da),sn(ca),Bn(ca,t)):sn(Da),Bn(Da,r)}var _P=null,Yc=null,Lne=ki.unstable_runWithPriority,yP=ki.unstable_scheduleCallback,mT=ki.unstable_cancelCallback,Bne=ki.unstable_shouldYield,CM=ki.unstable_requestPaint,_T=ki.unstable_now,Dne=ki.unstable_getCurrentPriorityLevel,Zx=ki.unstable_ImmediatePriority,o$=ki.unstable_UserBlockingPriority,s$=ki.unstable_NormalPriority,l$=ki.unstable_LowPriority,u$=ki.unstable_IdlePriority,RE={},Une=CM!==void 0?CM:function(){},sl=null,j_=null,PE=!1,TM=_T(),oa=1e4>TM?_T:function(){return _T()-TM};function ud(){switch(Dne()){case Zx:return 99;case o$:return 98;case s$:return 97;case l$:return 96;case u$:return 95;default:throw Error(et(332))}}function c$(t){switch(t){case 99:return Zx;case 98:return o$;case 97:return s$;case 96:return l$;case 95:return u$;default:throw Error(et(332))}}function sf(t,e){return t=c$(t),Lne(t,e)}function uv(t,e,r){return t=c$(t),yP(t,e,r)}function Bs(){if(j_!==null){var t=j_;j_=null,mT(t)}f$()}function f$(){if(!PE&&sl!==null){PE=!0;var t=0;try{var e=sl;sf(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),sl=null}catch(r){throw sl!==null&&(sl=sl.slice(t+1)),yP(Zx,Bs),r}finally{PE=!1}}}var jne=xf.ReactCurrentBatchConfig;function Vo(t,e){if(t&&t.defaultProps){e=xn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Oy=Xu(null),ky=null,Eh=null,Fy=null;function xP(){Fy=Eh=ky=null}function bP(t){var e=Oy.current;sn(Oy),t.type._context._currentValue=e}function h$(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function $h(t,e){ky=t,Fy=Eh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yo=!0),t.firstContext=null)}function Ao(t,e){if(Fy!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Fy=t,e=1073741823),e={context:t,observedBits:e,next:null},Eh===null){if(ky===null)throw Error(et(308));Eh=e,ky.dependencies={lanes:0,firstContext:e,responders:null}}else Eh=Eh.next=e;return t._currentValue}var Kl=!1;function wP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function d$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gu(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function AM(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function cv(t,e,r,n){var i=t.updateQueue;Kl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=t.alternate;if(u!==null){u=u.updateQueue;var f=u.lastBaseUpdate;f!==o&&(f===null?u.firstBaseUpdate=l:f.next=l,u.lastBaseUpdate=c)}}if(a!==null){f=i.baseState,o=0,u=l=c=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,d=a;switch(s=e,h=r,d.tag){case 1:if(p=d.payload,typeof p=="function"){f=p.call(h,f,s);break e}f=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=d.payload,s=typeof p=="function"?p.call(h,f,s):p,s==null)break e;f=xn({},f,s);break e;case 2:Kl=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,sg|=o,t.lanes=o,t.memoizedState=f}}function IM(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(et(191,i));i.call(n)}}}var p$=new Gx.Component().refs;function Ny(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:xn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jx={isMounted:function(t){return(t=t._reactInternals)?bf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=to(),i=mu(t),a=vu(n,i);a.payload=e,r!=null&&(a.callback=r),gu(t,a),_u(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=to(),i=mu(t),a=vu(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),gu(t,a),_u(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=to(),n=mu(t),i=vu(r,n);i.tag=2,e!=null&&(i.callback=e),gu(t,i),_u(t,n,r)}};function RM(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!sv(r,n)||!sv(i,a):!0}function v$(t,e,r){var n=!1,i=Pu,a=e.contextType;return typeof a=="object"&&a!==null?a=Ao(a):(i=Ua(e)?of:ca.current,n=e.contextTypes,a=(n=n!=null)?ld(t,i):Pu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function PM(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Jx.enqueueReplaceState(e,e.state,null)}function yT(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=p$,wP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ao(a):(a=Ua(e)?of:ca.current,i.context=ld(t,a)),cv(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ny(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jx.enqueueReplaceState(i,i.state,null),cv(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var km=Array.isArray;function B0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(et(309));var n=r.stateNode}if(!n)throw Error(et(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===p$&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(et(284));if(!r._owner)throw Error(et(290,t))}return t}function Fm(t,e){if(t.type!=="textarea")throw Error(et(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function g$(t){function e(m,v){if(t){var _=m.lastEffect;_!==null?(_.nextEffect=v,m.lastEffect=v):m.firstEffect=m.lastEffect=v,v.nextEffect=null,v.flags=8}}function r(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function n(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=ku(m,v),m.index=0,m.sibling=null,m}function a(m,v,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<v?(m.flags=2,v):_):(m.flags=2,v)):v}function o(m){return t&&m.alternate===null&&(m.flags=2),m}function s(m,v,_,y){return v===null||v.tag!==6?(v=ME(_,m.mode,y),v.return=m,v):(v=i(v,_),v.return=m,v)}function c(m,v,_,y){return v!==null&&v.elementType===_.type?(y=i(v,_.props),y.ref=B0(m,v,_),y.return=m,y):(y=H_(_.type,_.key,_.props,null,m.mode,y),y.ref=B0(m,v,_),y.return=m,y)}function l(m,v,_,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=LE(_,m.mode,y),v.return=m,v):(v=i(v,_.children||[]),v.return=m,v)}function u(m,v,_,y,b){return v===null||v.tag!==7?(v=zh(_,m.mode,y,b),v.return=m,v):(v=i(v,_),v.return=m,v)}function f(m,v,_){if(typeof v=="string"||typeof v=="number")return v=ME(""+v,m.mode,_),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dp:return _=H_(v.type,v.key,v.props,null,m.mode,_),_.ref=B0(m,null,v),_.return=m,_;case Fc:return v=LE(v,m.mode,_),v.return=m,v}if(km(v)||O0(v))return v=zh(v,m.mode,_,null),v.return=m,v;Fm(m,v)}return null}function h(m,v,_,y){var b=v!==null?v.key:null;if(typeof _=="string"||typeof _=="number")return b!==null?null:s(m,v,""+_,y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dp:return _.key===b?_.type===Jl?u(m,v,_.props.children,y,b):c(m,v,_,y):null;case Fc:return _.key===b?l(m,v,_,y):null}if(km(_)||O0(_))return b!==null?null:u(m,v,_,y,null);Fm(m,_)}return null}function p(m,v,_,y,b){if(typeof y=="string"||typeof y=="number")return m=m.get(_)||null,s(v,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dp:return m=m.get(y.key===null?_:y.key)||null,y.type===Jl?u(v,m,y.props.children,b,y.key):c(v,m,y,b);case Fc:return m=m.get(y.key===null?_:y.key)||null,l(v,m,y,b)}if(km(y)||O0(y))return m=m.get(_)||null,u(v,m,y,b,null);Fm(v,y)}return null}function d(m,v,_,y){for(var b=null,w=null,E=v,C=v=0,T=null;E!==null&&C<_.length;C++){E.index>C?(T=E,E=null):T=E.sibling;var A=h(m,E,_[C],y);if(A===null){E===null&&(E=T);break}t&&E&&A.alternate===null&&e(m,E),v=a(A,v,C),w===null?b=A:w.sibling=A,w=A,E=T}if(C===_.length)return r(m,E),b;if(E===null){for(;C<_.length;C++)E=f(m,_[C],y),E!==null&&(v=a(E,v,C),w===null?b=E:w.sibling=E,w=E);return b}for(E=n(m,E);C<_.length;C++)T=p(E,m,C,_[C],y),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?C:T.key),v=a(T,v,C),w===null?b=T:w.sibling=T,w=T);return t&&E.forEach(function(I){return e(m,I)}),b}function g(m,v,_,y){var b=O0(_);if(typeof b!="function")throw Error(et(150));if(_=b.call(_),_==null)throw Error(et(151));for(var w=b=null,E=v,C=v=0,T=null,A=_.next();E!==null&&!A.done;C++,A=_.next()){E.index>C?(T=E,E=null):T=E.sibling;var I=h(m,E,A.value,y);if(I===null){E===null&&(E=T);break}t&&E&&I.alternate===null&&e(m,E),v=a(I,v,C),w===null?b=I:w.sibling=I,w=I,E=T}if(A.done)return r(m,E),b;if(E===null){for(;!A.done;C++,A=_.next())A=f(m,A.value,y),A!==null&&(v=a(A,v,C),w===null?b=A:w.sibling=A,w=A);return b}for(E=n(m,E);!A.done;C++,A=_.next())A=p(E,m,C,A.value,y),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?C:A.key),v=a(A,v,C),w===null?b=A:w.sibling=A,w=A);return t&&E.forEach(function(O){return e(m,O)}),b}return function(m,v,_,y){var b=typeof _=="object"&&_!==null&&_.type===Jl&&_.key===null;b&&(_=_.props.children);var w=typeof _=="object"&&_!==null;if(w)switch(_.$$typeof){case dp:e:{for(w=_.key,b=v;b!==null;){if(b.key===w){switch(b.tag){case 7:if(_.type===Jl){r(m,b.sibling),v=i(b,_.props.children),v.return=m,m=v;break e}break;default:if(b.elementType===_.type){r(m,b.sibling),v=i(b,_.props),v.ref=B0(m,b,_),v.return=m,m=v;break e}}r(m,b);break}else e(m,b);b=b.sibling}_.type===Jl?(v=zh(_.props.children,m.mode,y,_.key),v.return=m,m=v):(y=H_(_.type,_.key,_.props,null,m.mode,y),y.ref=B0(m,v,_),y.return=m,m=y)}return o(m);case Fc:e:{for(b=_.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){r(m,v.sibling),v=i(v,_.children||[]),v.return=m,m=v;break e}else{r(m,v);break}else e(m,v);v=v.sibling}v=LE(_,m.mode,y),v.return=m,m=v}return o(m)}if(typeof _=="string"||typeof _=="number")return _=""+_,v!==null&&v.tag===6?(r(m,v.sibling),v=i(v,_),v.return=m,m=v):(r(m,v),v=ME(_,m.mode,y),v.return=m,m=v),o(m);if(km(_))return d(m,v,_,y);if(O0(_))return g(m,v,_,y);if(w&&Fm(m,_),typeof _>"u"&&!b)switch(m.tag){case 1:case 22:case 0:case 11:case 15:throw Error(et(152,Lh(m.type)||"Component"))}return r(m,v)}}var My=g$(!0),m$=g$(!1),og={},Cs=Xu(og),fv=Xu(og),hv=Xu(og);function Lc(t){if(t===og)throw Error(et(174));return t}function xT(t,e){switch(Bn(hv,e),Bn(fv,t),Bn(Cs,og),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iT(e,t)}sn(Cs),Bn(Cs,e)}function cd(){sn(Cs),sn(fv),sn(hv)}function OM(t){Lc(hv.current);var e=Lc(Cs.current),r=iT(e,t.type);e!==r&&(Bn(fv,t),Bn(Cs,r))}function EP(t){fv.current===t&&(sn(Cs),sn(fv))}var Ln=Xu(0);function Ly(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fl=null,ou=null,Ts=!1;function _$(t,e){var r=Eo(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function kM(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function bT(t){if(Ts){var e=ou;if(e){var r=e;if(!kM(t,e)){if(e=jh(r.nextSibling),!e||!kM(t,e)){t.flags=t.flags&-1025|2,Ts=!1,fl=t;return}_$(fl,r)}fl=t,ou=jh(e.firstChild)}else t.flags=t.flags&-1025|2,Ts=!1,fl=t}}function FM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fl=t}function Nm(t){if(t!==fl)return!1;if(!Ts)return FM(t),Ts=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!vT(e,t.memoizedProps))for(e=ou;e;)_$(t,e),e=jh(e.nextSibling);if(FM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ou=jh(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ou=null}}else ou=fl?jh(t.stateNode.nextSibling):null;return!0}function OE(){ou=fl=null,Ts=!1}var Gh=[];function SP(){for(var t=0;t<Gh.length;t++)Gh[t]._workInProgressVersionPrimary=null;Gh.length=0}var kp=xf.ReactCurrentDispatcher,To=xf.ReactCurrentBatchConfig,dv=0,Qn=null,aa=null,Gi=null,By=!1,Fp=!1;function ka(){throw Error(et(321))}function CP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wo(t[r],e[r]))return!1;return!0}function TP(t,e,r,n,i,a){if(dv=a,Qn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kp.current=t===null||t.memoizedState===null?Gne:Vne,t=r(n,i),Fp){a=0;do{if(Fp=!1,!(25>a))throw Error(et(301));a+=1,Gi=aa=null,e.updateQueue=null,kp.current=Hne,t=r(n,i)}while(Fp)}if(kp.current=$y,e=aa!==null&&aa.next!==null,dv=0,Gi=aa=Qn=null,By=!1,e)throw Error(et(300));return t}function Bc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gi===null?Qn.memoizedState=Gi=t:Gi=Gi.next=t,Gi}function wf(){if(aa===null){var t=Qn.alternate;t=t!==null?t.memoizedState:null}else t=aa.next;var e=Gi===null?Qn.memoizedState:Gi.next;if(e!==null)Gi=e,aa=t;else{if(t===null)throw Error(et(310));aa=t,t={memoizedState:aa.memoizedState,baseState:aa.baseState,baseQueue:aa.baseQueue,queue:aa.queue,next:null},Gi===null?Qn.memoizedState=Gi=t:Gi=Gi.next=t}return Gi}function ws(t,e){return typeof e=="function"?e(t):e}function D0(t){var e=wf(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=aa,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,c=i;do{var l=c.lane;if((dv&l)===l)s!==null&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var u={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};s===null?(o=s=u,a=n):s=s.next=u,Qn.lanes|=l,sg|=l}c=c.next}while(c!==null&&c!==i);s===null?a=n:s.next=o,wo(n,e.memoizedState)||(Yo=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function U0(t){var e=wf(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);wo(a,e.memoizedState)||(Yo=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function NM(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(dv&t)===t)&&(e._workInProgressVersionPrimary=n,Gh.push(e))),t)return r(e._source);throw Gh.push(e),Error(et(350))}function y$(t,e,r,n){var i=Ea;if(i===null)throw Error(et(349));var a=e._getVersion,o=a(e._source),s=kp.current,c=s.useState(function(){return NM(i,e,r)}),l=c[1],u=c[0];c=Gi;var f=t.memoizedState,h=f.refs,p=h.getSnapshot,d=f.source;f=f.subscribe;var g=Qn;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var m=a(e._source);if(!wo(o,m)){m=r(e._source),wo(u,m)||(l(m),m=mu(g),i.mutableReadLanes|=m&i.pendingLanes),m=i.mutableReadLanes,i.entangledLanes|=m;for(var v=i.entanglements,_=m;0<_;){var y=31-Ru(_),b=1<<y;v[y]|=m,_&=~b}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var m=h.getSnapshot,v=h.setSnapshot;try{v(m(e._source));var _=mu(g);i.mutableReadLanes|=_&i.pendingLanes}catch(y){v(function(){throw y})}})},[e,n]),wo(p,r)&&wo(d,e)&&wo(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:ws,lastRenderedState:u},t.dispatch=l=RP.bind(null,Qn,t),c.queue=t,c.baseQueue=null,u=NM(i,e,r),c.memoizedState=c.baseState=u),u}function x$(t,e,r){var n=wf();return y$(n,t,e,r)}function j0(t){var e=Bc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},t=t.dispatch=RP.bind(null,Qn,t),[e.memoizedState,t]}function Dy(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Qn.updateQueue,e===null?(e={lastEffect:null},Qn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function MM(t){var e=Bc();return t={current:t},e.memoizedState=t}function Uy(){return wf().memoizedState}function wT(t,e,r,n){var i=Bc();Qn.flags|=t,i.memoizedState=Dy(1|e,r,void 0,n===void 0?null:n)}function AP(t,e,r,n){var i=wf();n=n===void 0?null:n;var a=void 0;if(aa!==null){var o=aa.memoizedState;if(a=o.destroy,n!==null&&CP(n,o.deps)){Dy(e,r,a,n);return}}Qn.flags|=t,i.memoizedState=Dy(1|e,r,a,n)}function LM(t,e){return wT(516,4,t,e)}function jy(t,e){return AP(516,4,t,e)}function b$(t,e){return AP(4,2,t,e)}function w$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E$(t,e,r){return r=r!=null?r.concat([t]):null,AP(4,2,w$.bind(null,e,t),r)}function IP(){}function S$(t,e){var r=wf();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&CP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function C$(t,e){var r=wf();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&CP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function $ne(t,e){var r=ud();sf(98>r?98:r,function(){t(!0)}),sf(97<r?97:r,function(){var n=To.transition;To.transition=1;try{t(!1),e()}finally{To.transition=n}})}function RP(t,e,r){var n=to(),i=mu(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===Qn||o!==null&&o===Qn)Fp=By=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,c=o(s,r);if(a.eagerReducer=o,a.eagerState=c,wo(c,s))return}catch{}finally{}_u(t,i,n)}}var $y={readContext:Ao,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useOpaqueIdentifier:ka,unstable_isNewReconciler:!1},Gne={readContext:Ao,useCallback:function(t,e){return Bc().memoizedState=[t,e===void 0?null:e],t},useContext:Ao,useEffect:LM,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,wT(4,2,w$.bind(null,e,t),r)},useLayoutEffect:function(t,e){return wT(4,2,t,e)},useMemo:function(t,e){var r=Bc();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Bc();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=RP.bind(null,Qn,t),[n.memoizedState,t]},useRef:MM,useState:j0,useDebugValue:IP,useDeferredValue:function(t){var e=j0(t),r=e[0],n=e[1];return LM(function(){var i=To.transition;To.transition=1;try{n(t)}finally{To.transition=i}},[t]),r},useTransition:function(){var t=j0(!1),e=t[0];return t=$ne.bind(null,t[1]),MM(t),[t,e]},useMutableSource:function(t,e,r){var n=Bc();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},y$(n,t,e,r)},useOpaqueIdentifier:function(){if(Ts){var t=!1,e=Mne(function(){throw t||(t=!0,r("r:"+(IE++).toString(36))),Error(et(355))}),r=j0(e)[1];return!(Qn.mode&2)&&(Qn.flags|=516,Dy(5,function(){r("r:"+(IE++).toString(36))},void 0,null)),e}return e="r:"+(IE++).toString(36),j0(e),e},unstable_isNewReconciler:!1},Vne={readContext:Ao,useCallback:S$,useContext:Ao,useEffect:jy,useImperativeHandle:E$,useLayoutEffect:b$,useMemo:C$,useReducer:D0,useRef:Uy,useState:function(){return D0(ws)},useDebugValue:IP,useDeferredValue:function(t){var e=D0(ws),r=e[0],n=e[1];return jy(function(){var i=To.transition;To.transition=1;try{n(t)}finally{To.transition=i}},[t]),r},useTransition:function(){var t=D0(ws)[0];return[Uy().current,t]},useMutableSource:x$,useOpaqueIdentifier:function(){return D0(ws)[0]},unstable_isNewReconciler:!1},Hne={readContext:Ao,useCallback:S$,useContext:Ao,useEffect:jy,useImperativeHandle:E$,useLayoutEffect:b$,useMemo:C$,useReducer:U0,useRef:Uy,useState:function(){return U0(ws)},useDebugValue:IP,useDeferredValue:function(t){var e=U0(ws),r=e[0],n=e[1];return jy(function(){var i=To.transition;To.transition=1;try{n(t)}finally{To.transition=i}},[t]),r},useTransition:function(){var t=U0(ws)[0];return[Uy().current,t]},useMutableSource:x$,useOpaqueIdentifier:function(){return U0(ws)[0]},unstable_isNewReconciler:!1},zne=xf.ReactCurrentOwner,Yo=!1;function Fa(t,e,r,n){e.child=t===null?m$(e,null,r,n):My(e,t.child,r,n)}function BM(t,e,r,n,i){r=r.render;var a=e.ref;return $h(e,i),n=TP(t,e,r,n,a,i),t!==null&&!Yo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,hl(t,e,i)):(e.flags|=1,Fa(t,e,n,i),e.child)}function DM(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!MP(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,T$(t,e,o,n,i,a)):(t=H_(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:sv,r(i,n)&&t.ref===e.ref)?hl(t,e,a):(e.flags|=1,t=ku(o,n),t.ref=e.ref,t.return=e,e.child=t)}function T$(t,e,r,n,i,a){if(t!==null&&sv(t.memoizedProps,n)&&t.ref===e.ref)if(Yo=!1,(a&i)!==0)t.flags&16384&&(Yo=!0);else return e.lanes=t.lanes,hl(t,e,a);return ET(t,e,r,n,a)}function kE(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Lm(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},Lm(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Lm(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Lm(e,n);return Fa(t,e,i,r),e.child}function A$(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function ET(t,e,r,n,i){var a=Ua(r)?of:ca.current;return a=ld(e,a),$h(e,i),r=TP(t,e,r,n,a,i),t!==null&&!Yo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,hl(t,e,i)):(e.flags|=1,Fa(t,e,r,i),e.child)}function UM(t,e,r,n,i){if(Ua(r)){var a=!0;U_(e)}else a=!1;if($h(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),v$(e,r,n),yT(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Ao(l):(l=Ua(r)?of:ca.current,l=ld(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==l)&&PM(e,o,n,l),Kl=!1;var h=e.memoizedState;o.state=h,cv(e,n,o,i),c=e.memoizedState,s!==n||h!==c||Da.current||Kl?(typeof u=="function"&&(Ny(e,r,u,n),c=e.memoizedState),(s=Kl||RM(e,r,s,n,h,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,d$(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Vo(e.type,s),o.props=l,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ao(c):(c=Ua(r)?of:ca.current,c=ld(e,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&PM(e,o,n,c),Kl=!1,h=e.memoizedState,o.state=h,cv(e,n,o,i);var d=e.memoizedState;s!==f||h!==d||Da.current||Kl?(typeof p=="function"&&(Ny(e,r,p,n),d=e.memoizedState),(l=Kl||RM(e,r,l,n,h,d,c))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,d,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,d,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return ST(t,e,r,n,a,i)}function ST(t,e,r,n,i,a){A$(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&SM(e,r,!1),hl(t,e,a);n=e.stateNode,zne.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=My(e,t.child,null,a),e.child=My(e,null,s,a)):Fa(t,e,s,a),e.memoizedState=n.state,i&&SM(e,r,!0),e.child}function jM(t){var e=t.stateNode;e.pendingContext?EM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EM(t,e.context,!1),xT(t,e.containerInfo)}var Mm={dehydrated:null,retryLane:0};function $M(t,e,r){var n=e.pendingProps,i=Ln.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Bn(Ln,i&1),t===null?(n.fallback!==void 0&&bT(e),t=n.children,i=n.fallback,a?(t=GM(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Mm,t):typeof n.unstable_expectedLoadTime=="number"?(t=GM(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Mm,e.lanes=33554432,t):(r=LP({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=HM(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Mm,n):(r=VM(t,e,n.children,r),e.memoizedState=null,r):a?(n=HM(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Mm,n):(r=VM(t,e,n.children,r),e.memoizedState=null,r)}function GM(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=LP(e,i,0,null),r=zh(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function VM(t,e,r,n){var i=t.child;return t=i.sibling,r=ku(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function HM(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=ku(o,s),t!==null?n=ku(t,n):(n=zh(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function zM(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),h$(t.return,e)}function FE(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function XM(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Fa(t,e,n.children,r),n=Ln.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zM(t,r);else if(t.tag===19)zM(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Bn(Ln,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ly(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),FE(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ly(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}FE(e,!0,r,null,a,e.lastEffect);break;case"together":FE(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function hl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),sg|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,r=ku(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ku(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var I$,CT,R$,P$;I$=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};CT=function(){};R$=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Lc(Cs.current);var a=null;switch(r){case"input":i=JC(t,i),n=JC(t,n),a=[];break;case"option":i=tT(t,i),n=tT(t,n),a=[];break;case"select":i=xn({},i,{value:void 0}),n=xn({},n,{value:void 0}),a=[];break;case"textarea":i=rT(t,i),n=rT(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Iy)}aT(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ev.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(c!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ev.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&nn("scroll",t),a||s===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===rP?c.toString():(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};P$=function(t,e,r,n){r!==n&&(e.flags|=4)};function $0(t,e){if(!Ts)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Xne(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ua(e.type)&&Py(),null;case 3:return cd(),sn(Da),sn(ca),SP(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Nm(e)?e.flags|=4:n.hydrate||(e.flags|=256)),CT(e),null;case 5:EP(e);var i=Lc(hv.current);if(r=e.type,t!==null&&e.stateNode!=null)R$(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(et(166));return null}if(t=Lc(Cs.current),Nm(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[au]=e,n[Ry]=a,r){case"dialog":nn("cancel",n),nn("close",n);break;case"iframe":case"object":case"embed":nn("load",n);break;case"video":case"audio":for(t=0;t<vp.length;t++)nn(vp[t],n);break;case"source":nn("error",n);break;case"img":case"image":case"link":nn("error",n),nn("load",n);break;case"details":nn("toggle",n);break;case"input":XN(n,a),nn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},nn("invalid",n);break;case"textarea":YN(n,a),nn("invalid",n)}aT(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):ev.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&nn("scroll",n));switch(r){case"input":Im(n),WN(n,a,!0);break;case"textarea":Im(n),qN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Iy)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===nT.html&&(t=E9(r)),t===nT.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[au]=e,t[Ry]=n,I$(t,e,!1,!1),e.stateNode=t,o=oT(r,n),r){case"dialog":nn("cancel",t),nn("close",t),i=n;break;case"iframe":case"object":case"embed":nn("load",t),i=n;break;case"video":case"audio":for(i=0;i<vp.length;i++)nn(vp[i],t);i=n;break;case"source":nn("error",t),i=n;break;case"img":case"image":case"link":nn("error",t),nn("load",t),i=n;break;case"details":nn("toggle",t),i=n;break;case"input":XN(t,n),i=JC(t,n),nn("invalid",t);break;case"option":i=tT(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=xn({},n,{value:void 0}),nn("invalid",t);break;case"textarea":YN(t,n),i=rT(t,n),nn("invalid",t);break;default:i=n}aT(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?T9(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&S9(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&tv(t,c):typeof c=="number"&&tv(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ev.hasOwnProperty(a)?c!=null&&a==="onScroll"&&nn("scroll",t):c!=null&&KR(t,a,c,o))}switch(r){case"input":Im(t),WN(t,n,!1);break;case"textarea":Im(t),qN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Iu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Bh(t,!!n.multiple,a,!1):n.defaultValue!=null&&Bh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Iy)}n$(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)P$(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(et(166));r=Lc(hv.current),Lc(Cs.current),Nm(e)?(n=e.stateNode,r=e.memoizedProps,n[au]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[au]=e,e.stateNode=n)}return null;case 13:return sn(Ln),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Nm(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Ln.current&1?zi===0&&(zi=3):((zi===0||zi===3)&&(zi=4),Ea===null||!(sg&134217727)&&!(Md&134217727)||Vh(Ea,sa))),(n||r)&&(e.flags|=4),null);case 4:return cd(),CT(e),t===null&&e$(e.stateNode.containerInfo),null;case 10:return bP(e),null;case 17:return Ua(e.type)&&Py(),null;case 19:if(sn(Ln),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)$0(n,!1);else{if(zi!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=Ly(t),o!==null){for(e.flags|=64,$0(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Bn(Ln,Ln.current&1|2),e.child}t=t.sibling}n.tail!==null&&oa()>OT&&(e.flags|=64,a=!0,$0(n,!1),e.lanes=33554432)}else{if(!a)if(t=Ly(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),$0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!Ts)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*oa()-n.renderingStartTime>OT&&r!==1073741824&&(e.flags|=64,a=!0,$0(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=oa(),r.sibling=null,e=Ln.current,Bn(Ln,a?e&1|2:e&1),r):null;case 23:case 24:return NP(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(et(156,e.tag))}function Wne(t){switch(t.tag){case 1:Ua(t.type)&&Py();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(cd(),sn(Da),sn(ca),SP(),e=t.flags,e&64)throw Error(et(285));return t.flags=e&-4097|64,t;case 5:return EP(t),null;case 13:return sn(Ln),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return sn(Ln),null;case 4:return cd(),null;case 10:return bP(t),null;case 23:case 24:return NP(),null;default:return null}}function PP(t,e){try{var r="",n=e;do r+=Are(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function TT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Yne=typeof WeakMap=="function"?WeakMap:Map;function O$(t,e,r){r=vu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vy||(Vy=!0,kT=n),TT(t,e)},r}function k$(t,e,r){r=vu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return TT(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Es===null?Es=new Set([this]):Es.add(this),TT(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var qne=typeof WeakSet=="function"?WeakSet:Set;function WM(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){yu(t,r)}else e.current=null}function Kne(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:Vo(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&mP(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(et(163))}function Zne(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&($$(r,t),aie(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:Vo(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&IM(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}IM(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&n$(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&L9(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(et(163))}function YM(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=C9("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function qM(t,e){if(Yc&&typeof Yc.onCommitFiberUnmount=="function")try{Yc.onCommitFiberUnmount(_P,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)$$(e,r);else{n=e;try{i()}catch(a){yu(n,a)}}r=r.next}while(r!==t)}break;case 1:if(WM(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){yu(e,a)}break;case 5:WM(e);break;case 4:F$(t,e)}}function KM(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ZM(t){return t.tag===5||t.tag===3||t.tag===4}function JM(t){e:{for(var e=t.return;e!==null;){if(ZM(e))break e;e=e.return}throw Error(et(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(et(161))}r.flags&16&&(tv(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||ZM(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?AT(t,r,e):IT(t,r,e)}function AT(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Iy));else if(n!==4&&(t=t.child,t!==null))for(AT(t,e,r),t=t.sibling;t!==null;)AT(t,e,r),t=t.sibling}function IT(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(IT(t,e,r),t=t.sibling;t!==null;)IT(t,e,r),t=t.sibling}function F$(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(et(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,c=s;;)if(qM(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(qM(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function NE(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[Ry]=n,t==="input"&&n.type==="radio"&&n.name!=null&&b9(r,n),oT(t,i),e=oT(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?T9(r,s):o==="dangerouslySetInnerHTML"?S9(r,s):o==="children"?tv(r,s):KR(r,o,s,e)}switch(t){case"input":QC(r,n);break;case"textarea":w9(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?Bh(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?Bh(r,!!n.multiple,n.defaultValue,!0):Bh(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(et(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,L9(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(FP=oa(),YM(e.child,!0)),QM(e);return;case 19:QM(e);return;case 17:return;case 23:case 24:YM(e,e.memoizedState!==null);return}throw Error(et(163))}function QM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new qne),e.forEach(function(n){var i=lie.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Jne(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Qne=Math.ceil,Gy=xf.ReactCurrentDispatcher,OP=xf.ReactCurrentOwner,Gt=0,Ea=null,yi=null,sa=0,lf=0,RT=Xu(0),zi=0,Qx=null,Nd=0,sg=0,Md=0,kP=0,PT=null,FP=0,OT=1/0;function Ld(){OT=oa()+500}var mt=null,Vy=!1,kT=null,Es=null,Ou=!1,Np=null,gp=90,FT=[],NT=[],ml=null,Mp=0,MT=null,$_=-1,ul=0,G_=0,Lp=null,V_=!1;function to(){return Gt&48?oa():$_!==-1?$_:$_=oa()}function mu(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return ud()===99?1:2;if(ul===0&&(ul=Nd),jne.transition!==0){G_!==0&&(G_=PT!==null?PT.pendingLanes:0),t=ul;var e=4186112&~G_;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=ud(),Gt&4&&t===98?t=Ty(12,ul):(t=Vre(t),t=Ty(t,ul)),t}function _u(t,e,r){if(50<Mp)throw Mp=0,MT=null,Error(et(185));if(t=e1(t,e),t===null)return null;Xx(t,e,r),t===Ea&&(Md|=e,zi===4&&Vh(t,sa));var n=ud();e===1?Gt&8&&!(Gt&48)?LT(t):(Io(t,r),Gt===0&&(Ld(),Bs())):(!(Gt&4)||n!==98&&n!==99||(ml===null?ml=new Set([t]):ml.add(t)),Io(t,r)),PT=t}function e1(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Io(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ru(o),c=1<<s,l=a[s];if(l===-1){if(!(c&n)||c&i){l=e,ph(c);var u=en;a[s]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);o&=~c}if(n=av(t,t===Ea?sa:0),e=en,n===0)r!==null&&(r!==RE&&mT(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==RE&&mT(r)}e===15?(r=LT.bind(null,t),sl===null?(sl=[r],j_=yP(Zx,f$)):sl.push(r),r=RE):e===14?r=uv(99,LT.bind(null,t)):(r=Hre(e),r=uv(r,N$.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function N$(t){if($_=-1,G_=ul=0,Gt&48)throw Error(et(327));var e=t.callbackNode;if(Wu()&&t.callbackNode!==e)return null;var r=av(t,t===Ea?sa:0);if(r===0)return null;var n=r,i=Gt;Gt|=16;var a=D$();(Ea!==t||sa!==n)&&(Ld(),Hh(t,n));do try{rie();break}catch(s){B$(t,s)}while(1);if(xP(),Gy.current=a,Gt=i,yi!==null?n=0:(Ea=null,sa=0,n=zi),Nd&Md)Hh(t,0);else if(n!==0){if(n===2&&(Gt|=64,t.hydrate&&(t.hydrate=!1,mP(t.containerInfo)),r=V9(t),r!==0&&(n=mp(t,r))),n===1)throw e=Qx,Hh(t,0),Vh(t,r),Io(t,oa()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(et(345));case 2:xc(t);break;case 3:if(Vh(t,r),(r&62914560)===r&&(n=FP+500-oa(),10<n)){if(av(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){to(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xM(xc.bind(null,t),n);break}xc(t);break;case 4:if(Vh(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-Ru(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=oa()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qne(r/1960))-r,10<r){t.timeoutHandle=xM(xc.bind(null,t),r);break}xc(t);break;case 5:xc(t);break;default:throw Error(et(329))}}return Io(t,oa()),t.callbackNode===e?N$.bind(null,t):null}function Vh(t,e){for(e&=~kP,e&=~Md,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ru(e),n=1<<r;t[r]=-1,e&=~n}}function LT(t){if(Gt&48)throw Error(et(327));if(Wu(),t===Ea&&t.expiredLanes&sa){var e=sa,r=mp(t,e);Nd&Md&&(e=av(t,e),r=mp(t,e))}else e=av(t,0),r=mp(t,e);if(t.tag!==0&&r===2&&(Gt|=64,t.hydrate&&(t.hydrate=!1,mP(t.containerInfo)),e=V9(t),e!==0&&(r=mp(t,e))),r===1)throw r=Qx,Hh(t,0),Vh(t,e),Io(t,oa()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,xc(t),Io(t,oa()),null}function eie(){if(ml!==null){var t=ml;ml=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Io(e,oa())})}Bs()}function M$(t,e){var r=Gt;Gt|=1;try{return t(e)}finally{Gt=r,Gt===0&&(Ld(),Bs())}}function L$(t,e){var r=Gt;Gt&=-2,Gt|=8;try{return t(e)}finally{Gt=r,Gt===0&&(Ld(),Bs())}}function Lm(t,e){Bn(RT,lf),lf|=e,Nd|=e}function NP(){lf=RT.current,sn(RT)}function Hh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Nne(r)),yi!==null)for(r=yi.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Py();break;case 3:cd(),sn(Da),sn(ca),SP();break;case 5:EP(n);break;case 4:cd();break;case 13:sn(Ln);break;case 19:sn(Ln);break;case 10:bP(n);break;case 23:case 24:NP()}r=r.return}Ea=t,yi=ku(t.current,null),sa=lf=Nd=e,zi=0,Qx=null,kP=Md=sg=0}function B$(t,e){do{var r=yi;try{if(xP(),kp.current=$y,By){for(var n=Qn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}By=!1}if(dv=0,Gi=aa=Qn=null,Fp=!1,OP.current=null,r===null||r.return===null){zi=1,Qx=e,yi=null;break}e:{var a=t,o=r.return,s=r,c=e;if(e=sa,s.flags|=2048,s.firstEffect=s.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(Ln.current&1)!==0,h=o;do{var p;if(p=h.tag===13){var d=h.memoizedState;if(d!==null)p=d.dehydrated!==null;else{var g=h.memoizedProps;p=g.fallback===void 0?!1:g.unstable_avoidThisFallback!==!0?!0:!f}}if(p){var m=h.updateQueue;if(m===null){var v=new Set;v.add(l),h.updateQueue=v}else m.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var _=vu(-1,1);_.tag=2,gu(s,_)}s.lanes|=1;break e}c=void 0,s=e;var y=a.pingCache;if(y===null?(y=a.pingCache=new Yne,c=new Set,y.set(l,c)):(c=y.get(l),c===void 0&&(c=new Set,y.set(l,c))),!c.has(s)){c.add(s);var b=sie.bind(null,a,l,s);l.then(b,b)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);c=Error((Lh(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}zi!==5&&(zi=2),c=PP(c,s),h=o;do{switch(h.tag){case 3:a=c,h.flags|=4096,e&=-e,h.lanes|=e;var w=O$(h,a,e);AM(h,w);break e;case 1:a=c;var E=h.type,C=h.stateNode;if(!(h.flags&64)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Es===null||!Es.has(C)))){h.flags|=4096,e&=-e,h.lanes|=e;var T=k$(h,a,e);AM(h,T);break e}}h=h.return}while(h!==null)}j$(r)}catch(A){e=A,yi===r&&r!==null&&(yi=r=r.return);continue}break}while(1)}function D$(){var t=Gy.current;return Gy.current=$y,t===null?$y:t}function mp(t,e){var r=Gt;Gt|=16;var n=D$();Ea===t&&sa===e||Hh(t,e);do try{tie();break}catch(i){B$(t,i)}while(1);if(xP(),Gt=r,Gy.current=n,yi!==null)throw Error(et(261));return Ea=null,sa=0,zi}function tie(){for(;yi!==null;)U$(yi)}function rie(){for(;yi!==null&&!Bne();)U$(yi)}function U$(t){var e=G$(t.alternate,t,lf);t.memoizedProps=t.pendingProps,e===null?j$(t):yi=e,OP.current=null}function j$(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=Wne(e),r!==null){r.flags&=2047,yi=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=Xne(r,e,lf),r!==null){yi=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||lf&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){yi=e;return}yi=e=t}while(e!==null);zi===0&&(zi=5)}function xc(t){var e=ud();return sf(99,nie.bind(null,t,e)),null}function nie(t,e){do Wu();while(Np!==null);if(Gt&48)throw Error(et(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(et(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var c=31-Ru(a),l=1<<c;i[c]=0,o[c]=-1,s[c]=-1,a&=~l}if(ml!==null&&!(n&24)&&ml.has(t)&&ml.delete(t),t===Ea&&(yi=Ea=null,sa=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Gt,Gt|=32,OP.current=null,TE=L_,o=dM(),hT(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var u=0,f=-1,h=-1,p=0,d=0,g=o,m=null;t:for(;;){for(var v;g!==s||a!==0&&g.nodeType!==3||(f=u+a),g!==c||l!==0&&g.nodeType!==3||(h=u+l),g.nodeType===3&&(u+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===o)break t;if(m===s&&++p===a&&(f=u),m===c&&++d===l&&(h=u),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}s=f===-1||h===-1?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;AE={focusedElem:o,selectionRange:s},L_=!1,Lp=null,V_=!1,mt=n;do try{iie()}catch(A){if(mt===null)throw Error(et(330));yu(mt,A),mt=mt.nextEffect}while(mt!==null);Lp=null,mt=n;do try{for(o=t;mt!==null;){var _=mt.flags;if(_&16&&tv(mt.stateNode,""),_&128){var y=mt.alternate;if(y!==null){var b=y.ref;b!==null&&(typeof b=="function"?b(null):b.current=null)}}switch(_&1038){case 2:JM(mt),mt.flags&=-3;break;case 6:JM(mt),mt.flags&=-3,NE(mt.alternate,mt);break;case 1024:mt.flags&=-1025;break;case 1028:mt.flags&=-1025,NE(mt.alternate,mt);break;case 4:NE(mt.alternate,mt);break;case 8:s=mt,F$(o,s);var w=s.alternate;KM(s),w!==null&&KM(w)}mt=mt.nextEffect}}catch(A){if(mt===null)throw Error(et(330));yu(mt,A),mt=mt.nextEffect}while(mt!==null);if(b=AE,y=dM(),_=b.focusedElem,o=b.selectionRange,y!==_&&_&&_.ownerDocument&&Z9(_.ownerDocument.documentElement,_)){for(o!==null&&hT(_)&&(y=o.start,b=o.end,b===void 0&&(b=y),"selectionStart"in _?(_.selectionStart=y,_.selectionEnd=Math.min(b,_.value.length)):(b=(y=_.ownerDocument||document)&&y.defaultView||window,b.getSelection&&(b=b.getSelection(),s=_.textContent.length,w=Math.min(o.start,s),o=o.end===void 0?w:Math.min(o.end,s),!b.extend&&w>o&&(s=o,o=w,w=s),s=hM(_,w),a=hM(_,o),s&&a&&(b.rangeCount!==1||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&(y=y.createRange(),y.setStart(s.node,s.offset),b.removeAllRanges(),w>o?(b.addRange(y),b.extend(a.node,a.offset)):(y.setEnd(a.node,a.offset),b.addRange(y)))))),y=[],b=_;b=b.parentNode;)b.nodeType===1&&y.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<y.length;_++)b=y[_],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}L_=!!TE,AE=TE=null,t.current=r,mt=n;do try{for(_=t;mt!==null;){var E=mt.flags;if(E&36&&Zne(_,mt.alternate,mt),E&128){y=void 0;var C=mt.ref;if(C!==null){var T=mt.stateNode;switch(mt.tag){case 5:y=T;break;default:y=T}typeof C=="function"?C(y):C.current=y}}mt=mt.nextEffect}}catch(A){if(mt===null)throw Error(et(330));yu(mt,A),mt=mt.nextEffect}while(mt!==null);mt=null,Une(),Gt=i}else t.current=r;if(Ou)Ou=!1,Np=t,gp=e;else for(mt=n;mt!==null;)e=mt.nextEffect,mt.nextEffect=null,mt.flags&8&&(E=mt,E.sibling=null,E.stateNode=null),mt=e;if(n=t.pendingLanes,n===0&&(Es=null),n===1?t===MT?Mp++:(Mp=0,MT=t):Mp=0,r=r.stateNode,Yc&&typeof Yc.onCommitFiberRoot=="function")try{Yc.onCommitFiberRoot(_P,r,void 0,(r.current.flags&64)===64)}catch{}if(Io(t,oa()),Vy)throw Vy=!1,t=kT,kT=null,t;return Gt&8||Bs(),null}function iie(){for(;mt!==null;){var t=mt.alternate;V_||Lp===null||(mt.flags&8?JN(mt,Lp)&&(V_=!0):mt.tag===13&&Jne(t,mt)&&JN(mt,Lp)&&(V_=!0));var e=mt.flags;e&256&&Kne(t,mt),!(e&512)||Ou||(Ou=!0,uv(97,function(){return Wu(),null})),mt=mt.nextEffect}}function Wu(){if(gp!==90){var t=97<gp?97:gp;return gp=90,sf(t,oie)}return!1}function aie(t,e){FT.push(e,t),Ou||(Ou=!0,uv(97,function(){return Wu(),null}))}function $$(t,e){NT.push(e,t),Ou||(Ou=!0,uv(97,function(){return Wu(),null}))}function oie(){if(Np===null)return!1;var t=Np;if(Np=null,Gt&48)throw Error(et(331));var e=Gt;Gt|=32;var r=NT;NT=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(a===null)throw Error(et(330));yu(a,c)}}for(r=FT,FT=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(c){if(a===null)throw Error(et(330));yu(a,c)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return Gt=e,Bs(),!0}function eL(t,e,r){e=PP(r,e),e=O$(t,e,1),gu(t,e),e=to(),t=e1(t,1),t!==null&&(Xx(t,1,e),Io(t,e))}function yu(t,e){if(t.tag===3)eL(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){eL(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Es===null||!Es.has(n))){t=PP(e,t);var i=k$(r,t,1);if(gu(r,i),i=to(),r=e1(r,1),r!==null)Xx(r,1,i),Io(r,i);else if(typeof n.componentDidCatch=="function"&&(Es===null||!Es.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function sie(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=to(),t.pingedLanes|=t.suspendedLanes&r,Ea===t&&(sa&r)===r&&(zi===4||zi===3&&(sa&62914560)===sa&&500>oa()-FP?Hh(t,0):kP|=r),Io(t,e)}function lie(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(ul===0&&(ul=Nd),e=vh(62914560&~ul),e===0&&(e=4194304)):e=ud()===99?1:2:e=1),r=to(),t=e1(t,e),t!==null&&(Xx(t,e,r),Io(t,r))}var G$;G$=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Da.current)Yo=!0;else if(r&n)Yo=!!(t.flags&16384);else{switch(Yo=!1,e.tag){case 3:jM(e),OE();break;case 5:OM(e);break;case 1:Ua(e.type)&&U_(e);break;case 4:xT(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;Bn(Oy,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?$M(t,e,r):(Bn(Ln,Ln.current&1),e=hl(t,e,r),e!==null?e.sibling:null);Bn(Ln,Ln.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return XM(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bn(Ln,Ln.current),n)break;return null;case 23:case 24:return e.lanes=0,kE(t,e,r)}return hl(t,e,r)}else Yo=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=ld(e,ca.current),$h(e,r),i=TP(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ua(n)){var a=!0;U_(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wP(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&Ny(e,n,o,t),i.updater=Jx,e.stateNode=i,i._reactInternals=e,yT(e,n,t,r),e=ST(null,e,n,!0,a,r)}else e.tag=0,Fa(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=cie(i),t=Vo(i,t),a){case 0:e=ET(null,e,i,t,r);break e;case 1:e=UM(null,e,i,t,r);break e;case 11:e=BM(null,e,i,t,r);break e;case 14:e=DM(null,e,i,Vo(i.type,t),n,r);break e}throw Error(et(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vo(n,i),ET(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vo(n,i),UM(t,e,n,i,r);case 3:if(jM(e),n=e.updateQueue,t===null||n===null)throw Error(et(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,d$(t,e),cv(e,n,null,r),n=e.memoizedState.element,n===i)OE(),e=hl(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(ou=jh(e.stateNode.containerInfo.firstChild),fl=e,a=Ts=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],Gh.push(a);for(r=m$(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Fa(t,e,n,r),OE();e=e.child}return e;case 5:return OM(e),t===null&&bT(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,vT(n,i)?o=null:a!==null&&vT(n,a)&&(e.flags|=16),A$(t,e),Fa(t,e,o,r),e.child;case 6:return t===null&&bT(e),null;case 13:return $M(t,e,r);case 4:return xT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=My(e,null,n,r):Fa(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vo(n,i),BM(t,e,n,i,r);case 7:return Fa(t,e,e.pendingProps,r),e.child;case 8:return Fa(t,e,e.pendingProps.children,r),e.child;case 12:return Fa(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(Bn(Oy,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=wo(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!Da.current){e=hl(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=vu(-1,r&-r),l.tag=2,gu(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),h$(s.return,r),c.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Fa(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,$h(e,r),i=Ao(i,a.unstable_observedBits),n=n(i),e.flags|=1,Fa(t,e,n,r),e.child;case 14:return i=e.type,a=Vo(i,e.pendingProps),a=Vo(i.type,a),DM(t,e,i,a,n,r);case 15:return T$(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vo(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ua(n)?(t=!0,U_(e)):t=!1,$h(e,r),v$(e,n,i),yT(e,n,i,r),ST(null,e,n,!0,t,r);case 19:return XM(t,e,r);case 23:return kE(t,e,r);case 24:return kE(t,e,r)}throw Error(et(156,e.tag))};function uie(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(t,e,r,n){return new uie(t,e,r,n)}function MP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cie(t){if(typeof t=="function")return MP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vx)return 11;if(t===Hx)return 14}return 2}function ku(t,e){var r=t.alternate;return r===null?(r=Eo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function H_(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")MP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jl:return zh(r.children,i,a,e);case _9:o=8,i|=16;break;case ZR:o=8,i|=1;break;case Cp:return t=Eo(12,r,e,i|8),t.elementType=Cp,t.type=Cp,t.lanes=a,t;case Tp:return t=Eo(13,r,e,i),t.type=Tp,t.elementType=Tp,t.lanes=a,t;case wy:return t=Eo(19,r,e,i),t.elementType=wy,t.lanes=a,t;case nP:return LP(r,i,a,e);case ZC:return t=Eo(24,r,e,i),t.elementType=ZC,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JR:o=10;break e;case QR:o=9;break e;case Vx:o=11;break e;case Hx:o=14;break e;case eP:o=16,n=null;break e;case tP:o=22;break e}throw Error(et(130,t==null?t:typeof t,""))}return e=Eo(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function zh(t,e,r,n){return t=Eo(7,t,n,e),t.lanes=r,t}function LP(t,e,r,n){return t=Eo(23,t,n,e),t.elementType=nP,t.lanes=r,t}function ME(t,e,r){return t=Eo(6,t,null,e),t.lanes=r,t}function LE(t,e,r){return e=Eo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fie(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=yE(0),this.expirationTimes=yE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yE(0),this.mutableSourceEagerHydrationData=null}function hie(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Hy(t,e,r,n){var i=e.current,a=to(),o=mu(i);e:if(r){r=r._reactInternals;t:{if(bf(r)!==r||r.tag!==1)throw Error(et(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ua(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(et(171))}if(r.tag===1){var c=r.type;if(Ua(c)){r=a$(r,c,s);break e}}r=s}else r=Pu;return e.context===null?e.context=r:e.pendingContext=r,e=vu(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),gu(i,e),_u(i,o,a),o}function BE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function BP(t,e){tL(t,e),(t=t.alternate)&&tL(t,e)}function die(){return null}function DP(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new fie(t,e,r!=null&&r.hydrate===!0),e=Eo(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,wP(e),t[Fd]=r.current,e$(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}DP.prototype.render=function(t){Hy(t,this._internalRoot,null,null)};DP.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Hy(null,t,null,function(){e[Fd]=null})};function lg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pie(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new DP(t,0,e?{hydrate:!0}:void 0)}function t1(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=BE(o);s.call(l)}}Hy(e,o,t,i)}else{if(a=r._reactRootContainer=pie(r,n),o=a._internalRoot,typeof i=="function"){var c=i;i=function(){var l=BE(o);c.call(l)}}L$(function(){Hy(e,o,t,i)})}return BE(o)}F9=function(t){if(t.tag===13){var e=to();_u(t,4,e),BP(t,4)}};lP=function(t){if(t.tag===13){var e=to();_u(t,67108864,e),BP(t,67108864)}};N9=function(t){if(t.tag===13){var e=to(),r=mu(t);_u(t,r,e),BP(t,r)}};M9=function(t,e){return e()};sT=function(t,e,r){switch(e){case"input":if(QC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Kx(n);if(!i)throw Error(et(90));x9(n),QC(n,i)}}}break;case"textarea":w9(t,r);break;case"select":e=r.value,e!=null&&Bh(t,!!r.multiple,e,!1)}};aP=M$;R9=function(t,e,r,n,i){var a=Gt;Gt|=4;try{return sf(98,t.bind(null,e,r,n,i))}finally{Gt=a,Gt===0&&(Ld(),Bs())}};oP=function(){!(Gt&49)&&(eie(),Wu())};P9=function(t,e){var r=Gt;Gt|=2;try{return t(e)}finally{Gt=r,Gt===0&&(Ld(),Bs())}};function V$(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lg(e))throw Error(et(200));return hie(t,e,null,r)}var vie={Events:[ag,bh,Kx,A9,I9,Wu,{current:!1}]},G0={findFiberByHostInstance:Mc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},gie={bundleType:G0.bundleType,version:G0.version,rendererPackageName:G0.rendererPackageName,rendererConfig:G0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xf.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k9(t),t===null?null:t.stateNode},findFiberByHostInstance:G0.findFiberByHostInstance||die,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bm.isDisabled&&Bm.supportsFiber)try{_P=Bm.inject(gie),Yc=Bm}catch{}}Ro.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vie;Ro.createPortal=V$;Ro.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):Error(et(268,Object.keys(t)));return t=k9(e),t=t===null?null:t.stateNode,t};Ro.flushSync=function(t,e){var r=Gt;if(r&48)return t(e);Gt|=1;try{if(t)return sf(99,t.bind(null,e))}finally{Gt=r,Bs()}};Ro.hydrate=function(t,e,r){if(!lg(e))throw Error(et(200));return t1(null,t,e,!0,r)};Ro.render=function(t,e,r){if(!lg(e))throw Error(et(200));return t1(null,t,e,!1,r)};Ro.unmountComponentAtNode=function(t){if(!lg(t))throw Error(et(40));return t._reactRootContainer?(L$(function(){t1(null,null,t,!1,function(){t._reactRootContainer=null,t[Fd]=null})}),!0):!1};Ro.unstable_batchedUpdates=M$;Ro.unstable_createPortal=function(t,e){return V$(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ro.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!lg(r))throw Error(et(200));if(t==null||t._reactInternals===void 0)throw Error(et(38));return t1(t,e,r,!1,n)};Ro.version="17.0.2";function H$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H$)}catch(t){console.error(t)}}H$(),p9.exports=Ro;var z$=p9.exports;const Fu=Ki(z$);const mie="_Title_main_1pwsl_1",_ie="_Title_buttonList_1pwsl_8",yie="_Title_button_1pwsl_8",xie="_Title_button_text_1pwsl_38",bie="_Title_button_custom_1pwsl_45",wie="_Title_backup_background_1pwsl_64",Eie="_button_animation_pulse_1pwsl_1",V0={Title_main:mie,Title_buttonList:_ie,Title_button:yie,Title_button_text:xie,Title_button_custom:bie,Title_backup_background:wie,button_animation_pulse:Eie};function Xo(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Nu(t){return!!t&&!!t[vn]}function bl(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===kie}(t)||Array.isArray(t)||!!t[lL]||!!(!((e=t.constructor)===null||e===void 0)&&e[lL])||UP(t)||jP(t))}function uf(t,e,r){r===void 0&&(r=!1),Bd(t)===0?(r?Object.keys:Wh)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function Bd(t){var e=t[vn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:UP(t)?2:jP(t)?3:0}function Xh(t,e){return Bd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Sie(t,e){return Bd(t)===2?t.get(e):t[e]}function X$(t,e,r){var n=Bd(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function W$(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function UP(t){return Pie&&t instanceof Map}function jP(t){return Oie&&t instanceof Set}function bc(t){return t.o||t.t}function $P(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=q$(t);delete e[vn];for(var r=Wh(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function GP(t,e){return e===void 0&&(e=!1),VP(t)||Nu(t)||!bl(t)||(Bd(t)>1&&(t.set=t.add=t.clear=t.delete=Cie),Object.freeze(t),e&&uf(t,function(r,n){return GP(n,!0)},!0)),t}function Cie(){Xo(2)}function VP(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function As(t){var e=jT[t];return e||Xo(18,t),e}function Tie(t,e){jT[t]||(jT[t]=e)}function BT(){return pv}function DE(t,e){e&&(As("Patches"),t.u=[],t.s=[],t.v=e)}function zy(t){DT(t),t.p.forEach(Aie),t.p=null}function DT(t){t===pv&&(pv=t.l)}function rL(t){return pv={p:[],l:pv,h:t,m:!0,_:0}}function Aie(t){var e=t[vn];e.i===0||e.i===1?e.j():e.g=!0}function UE(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||As("ES5").S(e,t,n),n?(r[vn].P&&(zy(e),Xo(4)),bl(t)&&(t=Xy(e,t),e.l||Wy(e,t)),e.u&&As("Patches").M(r[vn].t,t,e.u,e.s)):t=Xy(e,r,[]),zy(e),e.u&&e.v(e.u,e.s),t!==Y$?t:void 0}function Xy(t,e,r){if(VP(e))return e;var n=e[vn];if(!n)return uf(e,function(s,c){return nL(t,n,e,s,c,r)},!0),e;if(n.A!==t)return e;if(!n.P)return Wy(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=$P(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),uf(a,function(s,c){return nL(t,n,i,s,c,r,o)}),Wy(t,i,!1),r&&t.u&&As("Patches").N(n,r,t.u,t.s)}return n.o}function nL(t,e,r,n,i,a,o){if(Nu(i)){var s=Xy(t,i,a&&e&&e.i!==3&&!Xh(e.R,n)?a.concat(n):void 0);if(X$(r,n,s),!Nu(s))return;t.m=!1}else o&&r.add(i);if(bl(i)&&!VP(i)){if(!t.h.D&&t._<1)return;Xy(t,i),e&&e.A.l||Wy(t,i)}}function Wy(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&GP(e,r)}function jE(t,e){var r=t[vn];return(r?bc(r):t)[e]}function iL(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Ql(t){t.P||(t.P=!0,t.l&&Ql(t.l))}function $E(t){t.o||(t.o=$P(t.t))}function UT(t,e,r){var n=UP(e)?As("MapSet").F(e,r):jP(e)?As("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:BT(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},c=s,l=vv;o&&(c=[s],l=_p);var u=Proxy.revocable(c,l),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,r):As("ES5").J(e,r);return(r?r.A:BT()).p.push(n),n}function Iie(t){return Nu(t)||Xo(22,t),function e(r){if(!bl(r))return r;var n,i=r[vn],a=Bd(r);if(i){if(!i.P&&(i.i<4||!As("ES5").K(i)))return i.t;i.I=!0,n=aL(r,a),i.I=!1}else n=aL(r,a);return uf(n,function(o,s){i&&Sie(i.t,o)===s||X$(n,o,e(s))}),a===3?new Set(n):n}(t)}function aL(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return $P(t)}function Rie(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var c=this[vn];return vv.get(c,a)},set:function(c){var l=this[vn];vv.set(l,a,c)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][vn];if(!s.P)switch(s.i){case 5:n(s)&&Ql(s);break;case 4:r(s)&&Ql(s)}}}function r(a){for(var o=a.t,s=a.k,c=Wh(s),l=c.length-1;l>=0;l--){var u=c[l];if(u!==vn){var f=o[u];if(f===void 0&&!Xh(o,u))return!0;var h=s[u],p=h&&h[vn];if(p?p.t!==f:!W$(h,f))return!0}}var d=!!o[vn];return c.length!==Wh(o).length+(d?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};Tie("ES5",{J:function(a,o){var s=Array.isArray(a),c=function(u,f){if(u){for(var h=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var d=q$(f);delete d[vn];for(var g=Wh(d),m=0;m<g.length;m++){var v=g[m];d[v]=t(v,u||!!d[v].enumerable)}return Object.create(Object.getPrototypeOf(f),d)}(s,a),l={i:s?5:4,A:o?o.A:BT(),P:!1,I:!1,R:{},l:o,t:a,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,vn,{value:l,writable:!0}),c},S:function(a,o,s){s?Nu(o)&&o[vn].A===a&&e(a.p):(a.u&&function c(l){if(l&&typeof l=="object"){var u=l[vn];if(u){var f=u.t,h=u.k,p=u.R,d=u.i;if(d===4)uf(h,function(y){y!==vn&&(f[y]!==void 0||Xh(f,y)?p[y]||c(h[y]):(p[y]=!0,Ql(u)))}),uf(f,function(y){h[y]!==void 0||Xh(h,y)||(p[y]=!1,Ql(u))});else if(d===5){if(n(u)&&(Ql(u),p.length=!0),h.length<f.length)for(var g=h.length;g<f.length;g++)p[g]=!1;else for(var m=f.length;m<h.length;m++)p[m]=!0;for(var v=Math.min(h.length,f.length),_=0;_<v;_++)h.hasOwnProperty(_)||(p[_]=!0),p[_]===void 0&&c(h[_])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var oL,pv,HP=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Pie=typeof Map<"u",Oie=typeof Set<"u",sL=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Y$=HP?Symbol.for("immer-nothing"):((oL={})["immer-nothing"]=!0,oL),lL=HP?Symbol.for("immer-draftable"):"__$immer_draftable",vn=HP?Symbol.for("immer-state"):"__$immer_state",kie=""+Object.prototype.constructor,Wh=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,q$=Object.getOwnPropertyDescriptors||function(t){var e={};return Wh(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},jT={},vv={get:function(t,e){if(e===vn)return t;var r=bc(t);if(!Xh(r,e))return function(i,a,o){var s,c=iL(a,o);return c?"value"in c?c.value:(s=c.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!bl(n)?n:n===jE(t.t,e)?($E(t),t.o[e]=UT(t.A.h,n,t)):n},has:function(t,e){return e in bc(t)},ownKeys:function(t){return Reflect.ownKeys(bc(t))},set:function(t,e,r){var n=iL(bc(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=jE(bc(t),e),a=i==null?void 0:i[vn];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(W$(r,i)&&(r!==void 0||Xh(t.t,e)))return!0;$E(t),Ql(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return jE(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,$E(t),Ql(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=bc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Xo(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Xo(12)}},_p={};uf(vv,function(t,e){_p[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),_p.deleteProperty=function(t,e){return _p.set.call(this,t,e,void 0)},_p.set=function(t,e,r){return vv.set.call(this,t[0],e,r,t[0])};var Fie=function(){function t(r){var n=this;this.O=sL,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var c=n;return function(g){var m=this;g===void 0&&(g=s);for(var v=arguments.length,_=Array(v>1?v-1:0),y=1;y<v;y++)_[y-1]=arguments[y];return c.produce(g,function(b){var w;return(w=a).call.apply(w,[m,b].concat(_))})}}var l;if(typeof a!="function"&&Xo(6),o!==void 0&&typeof o!="function"&&Xo(7),bl(i)){var u=rL(n),f=UT(n,i,void 0),h=!0;try{l=a(f),h=!1}finally{h?zy(u):DT(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return DE(u,o),UE(g,u)},function(g){throw zy(u),g}):(DE(u,o),UE(l,u))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===Y$&&(l=void 0),n.D&&GP(l,!0),o){var p=[],d=[];As("Patches").M(i,l,p,d),o(p,d)}return l}Xo(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(f))})};var o,s,c=n.produce(i,a,function(l,u){o=l,s=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,s]}):[c,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){bl(r)||Xo(8),Nu(r)&&(r=Iie(r));var n=rL(this),i=UT(this,r,void 0);return i[vn].C=!0,DT(n),i},e.finishDraft=function(r,n){var i=r&&r[vn],a=i.A;return DE(a,n),UE(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!sL&&Xo(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=As("Patches").$;return Nu(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),io=new Fie,K$=io.produce;io.produceWithPatches.bind(io);io.setAutoFreeze.bind(io);io.setUseProxies.bind(io);io.applyPatches.bind(io);io.createDraft.bind(io);io.finishDraft.bind(io);function Ri(t){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(t)}function Nie(t,e){if(Ri(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z$(t){var e=Nie(t,"string");return Ri(e)=="symbol"?e:e+""}function oo(t,e,r){return e=Z$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function na(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var fL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),GE=function(){return Math.random().toString(36).substring(7).split("").join(".")},Yy={INIT:"@@redux/INIT"+GE(),REPLACE:"@@redux/REPLACE"+GE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+GE()}};function Mie(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function J$(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(na(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(na(1));return r(J$)(t,e)}if(typeof t!="function")throw new Error(na(2));var i=t,a=e,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(na(3));return a}function f(g){if(typeof g!="function")throw new Error(na(4));if(c)throw new Error(na(5));var m=!0;return l(),s.push(g),function(){if(m){if(c)throw new Error(na(6));m=!1,l();var _=s.indexOf(g);s.splice(_,1),o=null}}}function h(g){if(!Mie(g))throw new Error(na(7));if(typeof g.type>"u")throw new Error(na(8));if(c)throw new Error(na(9));try{c=!0,a=i(a,g)}finally{c=!1}for(var m=o=s,v=0;v<m.length;v++){var _=m[v];_()}return g}function p(g){if(typeof g!="function")throw new Error(na(10));i=g,h({type:Yy.REPLACE})}function d(){var g,m=f;return g={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(na(11));function y(){_.next&&_.next(u())}y();var b=m(y);return{unsubscribe:b}}},g[fL]=function(){return this},g}return h({type:Yy.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:p},n[fL]=d,n}function Lie(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:Yy.INIT});if(typeof n>"u")throw new Error(na(12));if(typeof r(void 0,{type:Yy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(na(13))})}function Bie(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{Lie(r)}catch(s){o=s}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,f={},h=0;h<a.length;h++){var p=a[h],d=r[p],g=c[p],m=d(g,l);if(typeof m>"u")throw l&&l.type,new Error(na(14));f[p]=m,u=u||m!==g}return u=u||a.length!==Object.keys(c).length,u?f:c}}function qy(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function Die(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(na(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(c){return c(o)});return a=qy.apply(void 0,s)(i.dispatch),cL(cL({},i),{},{dispatch:a})}}}function Q$(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var eG=Q$();eG.withExtraArgument=Q$;const hL=eG;var tG=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uie=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},fd=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},jie=Object.defineProperty,$ie=Object.defineProperties,Gie=Object.getOwnPropertyDescriptors,dL=Object.getOwnPropertySymbols,Vie=Object.prototype.hasOwnProperty,Hie=Object.prototype.propertyIsEnumerable,pL=function(t,e,r){return e in t?jie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},xu=function(t,e){for(var r in e||(e={}))Vie.call(e,r)&&pL(t,r,e[r]);if(dL)for(var n=0,i=dL(e);n<i.length;n++){var r=i[n];Hie.call(e,r)&&pL(t,r,e[r])}return t},VE=function(t,e){return $ie(t,Gie(e))},zie=function(t,e,r){return new Promise(function(n,i){var a=function(c){try{s(r.next(c))}catch(l){i(l)}},o=function(c){try{s(r.throw(c))}catch(l){i(l)}},s=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(a,o)};s((r=r.apply(t,e)).next())})},Xie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qy:qy.apply(null,arguments)};function Wie(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function bu(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return xu(xu({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var Yie=function(t){tG(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,fd([void 0],r[0].concat(this)))):new(e.bind.apply(e,fd([void 0],r.concat(this))))},e}(Array),qie=function(t){tG(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,fd([void 0],r[0].concat(this)))):new(e.bind.apply(e,fd([void 0],r.concat(this))))},e}(Array);function $T(t){return bl(t)?K$(t,function(){}):t}function Kie(t){return typeof t=="boolean"}function Zie(){return function(e){return rG(e)}}function rG(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new Yie;return r&&(Kie(r)?n.push(hL):n.push(hL.withExtraArgument(r.extraArgument))),n}var Jie=!0;function Qie(t){var e=Zie(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,c=s===void 0?!0:s,l=r.preloadedState,u=l===void 0?void 0:l,f=r.enhancers,h=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(Wie(i))p=Bie(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var d=o;typeof d=="function"&&(d=d(e));var g=Die.apply(void 0,d),m=qy;c&&(m=Xie(xu({trace:!Jie},typeof c=="object"&&c)));var v=new qie(g),_=v;Array.isArray(h)?_=fd([g],h):typeof h=="function"&&(_=h(v));var y=m.apply(void 0,_);return J$(p,u,y)}function nG(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function eae(t){return typeof t=="function"}function tae(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?nG(e):[e,r,n],a=i[0],o=i[1],s=i[2],c;if(eae(t))c=function(){return $T(t())};else{var l=$T(t);c=function(){return l}}function u(f,h){f===void 0&&(f=c());var p=fd([a[h.type]],o.filter(function(d){var g=d.matcher;return g(h)}).map(function(d){var g=d.reducer;return g}));return p.filter(function(d){return!!d}).length===0&&(p=[s]),p.reduce(function(d,g){if(g)if(Nu(d)){var m=d,v=g(m,h);return v===void 0?d:v}else{if(bl(d))return K$(d,function(_){return g(_,h)});var v=g(d,h);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return d},f)}return u.getInitialState=c,u}function rae(t,e){return t+"/"+e}function ug(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:$T(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(u){var f=n[u],h=rae(e,u),p,d;"reducer"in f?(p=f.reducer,d=f.prepare):p=f,a[u]=p,o[h]=p,s[u]=d?bu(h,d):bu(h)});function c(){var u=typeof t.extraReducers=="function"?nG(t.extraReducers):[t.extraReducers],f=u[0],h=f===void 0?{}:f,p=u[1],d=p===void 0?[]:p,g=u[2],m=g===void 0?void 0:g,v=xu(xu({},h),o);return tae(r,function(_){for(var y in v)_.addCase(y,v[y]);for(var b=0,w=d;b<w.length;b++){var E=w[b];_.addMatcher(E.matcher,E.reducer)}m&&_.addDefaultCase(m)})}var l;return{name:e,reducer:function(u,f){return l||(l=c()),l(u,f)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var nae="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iae=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=nae[Math.random()*64|0];return e},aae=["name","message","stack","code"],HE=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),vL=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),oae=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=aae;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=bu(e+"/fulfilled",function(l,u,f,h){return{payload:l,meta:VE(xu({},h||{}),{arg:f,requestId:u,requestStatus:"fulfilled"})}}),a=bu(e+"/pending",function(l,u,f){return{payload:void 0,meta:VE(xu({},f||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=bu(e+"/rejected",function(l,u,f,h,p){return{payload:h,error:(n&&n.serializeError||oae)(l||"Rejected"),meta:VE(xu({},p||{}),{arg:f,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,f,h){var p=n!=null&&n.idGenerator?n.idGenerator(l):iae(),d=new s,g;function m(_){g=_,d.abort()}var v=function(){return zie(this,null,function(){var _,y,b,w,E,C,T;return Uie(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),w=(_=n==null?void 0:n.condition)==null?void 0:_.call(n,l,{getState:f,extra:h}),lae(w)?[4,w]:[3,2];case 1:w=A.sent(),A.label=2;case 2:if(w===!1||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(I,O){return d.signal.addEventListener("abort",function(){return O({name:"AbortError",message:g||"Aborted"})})}),u(a(p,l,(y=n==null?void 0:n.getPendingMeta)==null?void 0:y.call(n,{requestId:p,arg:l},{getState:f,extra:h}))),[4,Promise.race([E,Promise.resolve(r(l,{dispatch:u,getState:f,extra:h,requestId:p,signal:d.signal,abort:m,rejectWithValue:function(I,O){return new HE(I,O)},fulfillWithValue:function(I,O){return new vL(I,O)}})).then(function(I){if(I instanceof HE)throw I;return I instanceof vL?i(I.payload,p,l,I.meta):i(I,p,l)})])];case 3:return b=A.sent(),[3,5];case 4:return C=A.sent(),b=C instanceof HE?o(null,p,l,C.payload,C.meta):o(C,p,l),[3,5];case 5:return T=n&&!n.dispatchConditionRejection&&o.match(b)&&b.meta.condition,T||u(b),[2,b]}})})}();return Object.assign(v,{abort:m,requestId:p,arg:l,unwrap:function(){return v.then(sae)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function sae(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function lae(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var zP="listenerMiddleware";bu(zP+"/add");bu(zP+"/removeAll");bu(zP+"/remove");var gL;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Rie();function uae(){this.__data__=[],this.size=0}var cae=uae;function fae(t,e){return t===e||t!==t&&e!==e}var XP=fae,hae=XP;function dae(t,e){for(var r=t.length;r--;)if(hae(t[r][0],e))return r;return-1}var r1=dae,pae=r1,vae=Array.prototype,gae=vae.splice;function mae(t){var e=this.__data__,r=pae(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():gae.call(e,r,1),--this.size,!0}var _ae=mae,yae=r1;function xae(t){var e=this.__data__,r=yae(e,t);return r<0?void 0:e[r][1]}var bae=xae,wae=r1;function Eae(t){return wae(this.__data__,t)>-1}var Sae=Eae,Cae=r1;function Tae(t,e){var r=this.__data__,n=Cae(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Aae=Tae,Iae=cae,Rae=_ae,Pae=bae,Oae=Sae,kae=Aae;function Dd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Dd.prototype.clear=Iae;Dd.prototype.delete=Rae;Dd.prototype.get=Pae;Dd.prototype.has=Oae;Dd.prototype.set=kae;var n1=Dd,Fae=n1;function Nae(){this.__data__=new Fae,this.size=0}var Mae=Nae;function Lae(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Bae=Lae;function Dae(t){return this.__data__.get(t)}var Uae=Dae;function jae(t){return this.__data__.has(t)}var $ae=jae,Gae=typeof Ct=="object"&&Ct&&Ct.Object===Object&&Ct,iG=Gae,Vae=iG,Hae=typeof self=="object"&&self&&self.Object===Object&&self,zae=Vae||Hae||Function("return this")(),rs=zae,Xae=rs,Wae=Xae.Symbol,cg=Wae,mL=cg,aG=Object.prototype,Yae=aG.hasOwnProperty,qae=aG.toString,H0=mL?mL.toStringTag:void 0;function Kae(t){var e=Yae.call(t,H0),r=t[H0];try{t[H0]=void 0;var n=!0}catch{}var i=qae.call(t);return n&&(e?t[H0]=r:delete t[H0]),i}var Zae=Kae,Jae=Object.prototype,Qae=Jae.toString;function eoe(t){return Qae.call(t)}var toe=eoe,_L=cg,roe=Zae,noe=toe,ioe="[object Null]",aoe="[object Undefined]",yL=_L?_L.toStringTag:void 0;function ooe(t){return t==null?t===void 0?aoe:ioe:yL&&yL in Object(t)?roe(t):noe(t)}var fg=ooe;function soe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ds=soe,loe=fg,uoe=Ds,coe="[object AsyncFunction]",foe="[object Function]",hoe="[object GeneratorFunction]",doe="[object Proxy]";function poe(t){if(!uoe(t))return!1;var e=loe(t);return e==foe||e==hoe||e==coe||e==doe}var oG=poe,voe=rs,goe=voe["__core-js_shared__"],moe=goe,zE=moe,xL=function(){var t=/[^.]+$/.exec(zE&&zE.keys&&zE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _oe(t){return!!xL&&xL in t}var yoe=_oe,xoe=Function.prototype,boe=xoe.toString;function woe(t){if(t!=null){try{return boe.call(t)}catch{}try{return t+""}catch{}}return""}var sG=woe,Eoe=oG,Soe=yoe,Coe=Ds,Toe=sG,Aoe=/[\\^$.*+?()[\]{}|]/g,Ioe=/^\[object .+?Constructor\]$/,Roe=Function.prototype,Poe=Object.prototype,Ooe=Roe.toString,koe=Poe.hasOwnProperty,Foe=RegExp("^"+Ooe.call(koe).replace(Aoe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Noe(t){if(!Coe(t)||Soe(t))return!1;var e=Eoe(t)?Foe:Ioe;return e.test(Toe(t))}var Moe=Noe;function Loe(t,e){return t==null?void 0:t[e]}var Boe=Loe,Doe=Moe,Uoe=Boe;function joe(t,e){var r=Uoe(t,e);return Doe(r)?r:void 0}var Ef=joe,$oe=Ef,Goe=rs,Voe=$oe(Goe,"Map"),WP=Voe,Hoe=Ef,zoe=Hoe(Object,"create"),i1=zoe,bL=i1;function Xoe(){this.__data__=bL?bL(null):{},this.size=0}var Woe=Xoe;function Yoe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qoe=Yoe,Koe=i1,Zoe="__lodash_hash_undefined__",Joe=Object.prototype,Qoe=Joe.hasOwnProperty;function ese(t){var e=this.__data__;if(Koe){var r=e[t];return r===Zoe?void 0:r}return Qoe.call(e,t)?e[t]:void 0}var tse=ese,rse=i1,nse=Object.prototype,ise=nse.hasOwnProperty;function ase(t){var e=this.__data__;return rse?e[t]!==void 0:ise.call(e,t)}var ose=ase,sse=i1,lse="__lodash_hash_undefined__";function use(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=sse&&e===void 0?lse:e,this}var cse=use,fse=Woe,hse=qoe,dse=tse,pse=ose,vse=cse;function Ud(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ud.prototype.clear=fse;Ud.prototype.delete=hse;Ud.prototype.get=dse;Ud.prototype.has=pse;Ud.prototype.set=vse;var gse=Ud,wL=gse,mse=n1,_se=WP;function yse(){this.size=0,this.__data__={hash:new wL,map:new(_se||mse),string:new wL}}var xse=yse;function bse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var wse=bse,Ese=wse;function Sse(t,e){var r=t.__data__;return Ese(e)?r[typeof e=="string"?"string":"hash"]:r.map}var a1=Sse,Cse=a1;function Tse(t){var e=Cse(this,t).delete(t);return this.size-=e?1:0,e}var Ase=Tse,Ise=a1;function Rse(t){return Ise(this,t).get(t)}var Pse=Rse,Ose=a1;function kse(t){return Ose(this,t).has(t)}var Fse=kse,Nse=a1;function Mse(t,e){var r=Nse(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Lse=Mse,Bse=xse,Dse=Ase,Use=Pse,jse=Fse,$se=Lse;function jd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jd.prototype.clear=Bse;jd.prototype.delete=Dse;jd.prototype.get=Use;jd.prototype.has=jse;jd.prototype.set=$se;var YP=jd,Gse=n1,Vse=WP,Hse=YP,zse=200;function Xse(t,e){var r=this.__data__;if(r instanceof Gse){var n=r.__data__;if(!Vse||n.length<zse-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Hse(n)}return r.set(t,e),this.size=r.size,this}var Wse=Xse,Yse=n1,qse=Mae,Kse=Bae,Zse=Uae,Jse=$ae,Qse=Wse;function $d(t){var e=this.__data__=new Yse(t);this.size=e.size}$d.prototype.clear=qse;$d.prototype.delete=Kse;$d.prototype.get=Zse;$d.prototype.has=Jse;$d.prototype.set=Qse;var qP=$d;function ele(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var tle=ele,rle=Ef,nle=function(){try{var t=rle(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ile=nle,EL=ile;function ale(t,e,r){e=="__proto__"&&EL?EL(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var lG=ale,ole=lG,sle=XP,lle=Object.prototype,ule=lle.hasOwnProperty;function cle(t,e,r){var n=t[e];(!(ule.call(t,e)&&sle(n,r))||r===void 0&&!(e in t))&&ole(t,e,r)}var KP=cle,fle=KP,hle=lG;function dle(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],c=n?n(r[s],t[s],s,r,t):void 0;c===void 0&&(c=t[s]),i?hle(r,s,c):fle(r,s,c)}return r}var o1=dle;function ple(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var vle=ple;function gle(t){return t!=null&&typeof t=="object"}var Sf=gle,mle=fg,_le=Sf,yle="[object Arguments]";function xle(t){return _le(t)&&mle(t)==yle}var ble=xle,SL=ble,wle=Sf,uG=Object.prototype,Ele=uG.hasOwnProperty,Sle=uG.propertyIsEnumerable,Cle=SL(function(){return arguments}())?SL:function(t){return wle(t)&&Ele.call(t,"callee")&&!Sle.call(t,"callee")},cG=Cle,Tle=Array.isArray,Tl=Tle,Ky={exports:{}};function Ale(){return!1}var Ile=Ale;Ky.exports;(function(t,e){var r=rs,n=Ile,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;t.exports=l})(Ky,Ky.exports);var ZP=Ky.exports,Rle=9007199254740991,Ple=/^(?:0|[1-9]\d*)$/;function Ole(t,e){var r=typeof t;return e=e??Rle,!!e&&(r=="number"||r!="symbol"&&Ple.test(t))&&t>-1&&t%1==0&&t<e}var JP=Ole,kle=9007199254740991;function Fle(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kle}var QP=Fle,Nle=fg,Mle=QP,Lle=Sf,Ble="[object Arguments]",Dle="[object Array]",Ule="[object Boolean]",jle="[object Date]",$le="[object Error]",Gle="[object Function]",Vle="[object Map]",Hle="[object Number]",zle="[object Object]",Xle="[object RegExp]",Wle="[object Set]",Yle="[object String]",qle="[object WeakMap]",Kle="[object ArrayBuffer]",Zle="[object DataView]",Jle="[object Float32Array]",Qle="[object Float64Array]",eue="[object Int8Array]",tue="[object Int16Array]",rue="[object Int32Array]",nue="[object Uint8Array]",iue="[object Uint8ClampedArray]",aue="[object Uint16Array]",oue="[object Uint32Array]",an={};an[Jle]=an[Qle]=an[eue]=an[tue]=an[rue]=an[nue]=an[iue]=an[aue]=an[oue]=!0;an[Ble]=an[Dle]=an[Kle]=an[Ule]=an[Zle]=an[jle]=an[$le]=an[Gle]=an[Vle]=an[Hle]=an[zle]=an[Xle]=an[Wle]=an[Yle]=an[qle]=!1;function sue(t){return Lle(t)&&Mle(t.length)&&!!an[Nle(t)]}var lue=sue;function uue(t){return function(e){return t(e)}}var eO=uue,Zy={exports:{}};Zy.exports;(function(t,e){var r=iG,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Zy,Zy.exports);var tO=Zy.exports,cue=lue,fue=eO,CL=tO,TL=CL&&CL.isTypedArray,hue=TL?fue(TL):cue,fG=hue,due=vle,pue=cG,vue=Tl,gue=ZP,mue=JP,_ue=fG,yue=Object.prototype,xue=yue.hasOwnProperty;function bue(t,e){var r=vue(t),n=!r&&pue(t),i=!r&&!n&&gue(t),a=!r&&!n&&!i&&_ue(t),o=r||n||i||a,s=o?due(t.length,String):[],c=s.length;for(var l in t)(e||xue.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||mue(l,c)))&&s.push(l);return s}var hG=bue,wue=Object.prototype;function Eue(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||wue;return t===r}var rO=Eue;function Sue(t,e){return function(r){return t(e(r))}}var dG=Sue,Cue=dG,Tue=Cue(Object.keys,Object),Aue=Tue,Iue=rO,Rue=Aue,Pue=Object.prototype,Oue=Pue.hasOwnProperty;function kue(t){if(!Iue(t))return Rue(t);var e=[];for(var r in Object(t))Oue.call(t,r)&&r!="constructor"&&e.push(r);return e}var Fue=kue,Nue=oG,Mue=QP;function Lue(t){return t!=null&&Mue(t.length)&&!Nue(t)}var pG=Lue,Bue=hG,Due=Fue,Uue=pG;function jue(t){return Uue(t)?Bue(t):Due(t)}var s1=jue,$ue=o1,Gue=s1;function Vue(t,e){return t&&$ue(e,Gue(e),t)}var Hue=Vue;function zue(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Xue=zue,Wue=Ds,Yue=rO,que=Xue,Kue=Object.prototype,Zue=Kue.hasOwnProperty;function Jue(t){if(!Wue(t))return que(t);var e=Yue(t),r=[];for(var n in t)n=="constructor"&&(e||!Zue.call(t,n))||r.push(n);return r}var Que=Jue,ece=hG,tce=Que,rce=pG;function nce(t){return rce(t)?ece(t,!0):tce(t)}var nO=nce,ice=o1,ace=nO;function oce(t,e){return t&&ice(e,ace(e),t)}var sce=oce,Jy={exports:{}};Jy.exports;(function(t,e){var r=rs,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}t.exports=c})(Jy,Jy.exports);var lce=Jy.exports;function uce(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var cce=uce;function fce(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var hce=fce;function dce(){return[]}var vG=dce,pce=hce,vce=vG,gce=Object.prototype,mce=gce.propertyIsEnumerable,AL=Object.getOwnPropertySymbols,_ce=AL?function(t){return t==null?[]:(t=Object(t),pce(AL(t),function(e){return mce.call(t,e)}))}:vce,iO=_ce,yce=o1,xce=iO;function bce(t,e){return yce(t,xce(t),e)}var wce=bce;function Ece(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var gG=Ece,Sce=dG,Cce=Sce(Object.getPrototypeOf,Object),mG=Cce,Tce=gG,Ace=mG,Ice=iO,Rce=vG,Pce=Object.getOwnPropertySymbols,Oce=Pce?function(t){for(var e=[];t;)Tce(e,Ice(t)),t=Ace(t);return e}:Rce,_G=Oce,kce=o1,Fce=_G;function Nce(t,e){return kce(t,Fce(t),e)}var Mce=Nce,Lce=gG,Bce=Tl;function Dce(t,e,r){var n=e(t);return Bce(t)?n:Lce(n,r(t))}var yG=Dce,Uce=yG,jce=iO,$ce=s1;function Gce(t){return Uce(t,$ce,jce)}var xG=Gce,Vce=yG,Hce=_G,zce=nO;function Xce(t){return Vce(t,zce,Hce)}var bG=Xce,Wce=Ef,Yce=rs,qce=Wce(Yce,"DataView"),Kce=qce,Zce=Ef,Jce=rs,Qce=Zce(Jce,"Promise"),efe=Qce,tfe=Ef,rfe=rs,nfe=tfe(rfe,"Set"),wG=nfe,ife=Ef,afe=rs,ofe=ife(afe,"WeakMap"),sfe=ofe,GT=Kce,VT=WP,HT=efe,zT=wG,XT=sfe,EG=fg,Gd=sG,IL="[object Map]",lfe="[object Object]",RL="[object Promise]",PL="[object Set]",OL="[object WeakMap]",kL="[object DataView]",ufe=Gd(GT),cfe=Gd(VT),ffe=Gd(HT),hfe=Gd(zT),dfe=Gd(XT),wc=EG;(GT&&wc(new GT(new ArrayBuffer(1)))!=kL||VT&&wc(new VT)!=IL||HT&&wc(HT.resolve())!=RL||zT&&wc(new zT)!=PL||XT&&wc(new XT)!=OL)&&(wc=function(t){var e=EG(t),r=e==lfe?t.constructor:void 0,n=r?Gd(r):"";if(n)switch(n){case ufe:return kL;case cfe:return IL;case ffe:return RL;case hfe:return PL;case dfe:return OL}return e});var l1=wc,pfe=Object.prototype,vfe=pfe.hasOwnProperty;function gfe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&vfe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var mfe=gfe,_fe=rs,yfe=_fe.Uint8Array,SG=yfe,FL=SG;function xfe(t){var e=new t.constructor(t.byteLength);return new FL(e).set(new FL(t)),e}var aO=xfe,bfe=aO;function wfe(t,e){var r=e?bfe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Efe=wfe,Sfe=/\w*$/;function Cfe(t){var e=new t.constructor(t.source,Sfe.exec(t));return e.lastIndex=t.lastIndex,e}var Tfe=Cfe,NL=cg,ML=NL?NL.prototype:void 0,LL=ML?ML.valueOf:void 0;function Afe(t){return LL?Object(LL.call(t)):{}}var Ife=Afe,Rfe=aO;function Pfe(t,e){var r=e?Rfe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Ofe=Pfe,kfe=aO,Ffe=Efe,Nfe=Tfe,Mfe=Ife,Lfe=Ofe,Bfe="[object Boolean]",Dfe="[object Date]",Ufe="[object Map]",jfe="[object Number]",$fe="[object RegExp]",Gfe="[object Set]",Vfe="[object String]",Hfe="[object Symbol]",zfe="[object ArrayBuffer]",Xfe="[object DataView]",Wfe="[object Float32Array]",Yfe="[object Float64Array]",qfe="[object Int8Array]",Kfe="[object Int16Array]",Zfe="[object Int32Array]",Jfe="[object Uint8Array]",Qfe="[object Uint8ClampedArray]",ehe="[object Uint16Array]",the="[object Uint32Array]";function rhe(t,e,r){var n=t.constructor;switch(e){case zfe:return kfe(t);case Bfe:case Dfe:return new n(+t);case Xfe:return Ffe(t,r);case Wfe:case Yfe:case qfe:case Kfe:case Zfe:case Jfe:case Qfe:case ehe:case the:return Lfe(t,r);case Ufe:return new n;case jfe:case Vfe:return new n(t);case $fe:return Nfe(t);case Gfe:return new n;case Hfe:return Mfe(t)}}var nhe=rhe,ihe=Ds,BL=Object.create,ahe=function(){function t(){}return function(e){if(!ihe(e))return{};if(BL)return BL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),ohe=ahe,she=ohe,lhe=mG,uhe=rO;function che(t){return typeof t.constructor=="function"&&!uhe(t)?she(lhe(t)):{}}var fhe=che,hhe=l1,dhe=Sf,phe="[object Map]";function vhe(t){return dhe(t)&&hhe(t)==phe}var ghe=vhe,mhe=ghe,_he=eO,DL=tO,UL=DL&&DL.isMap,yhe=UL?_he(UL):mhe,xhe=yhe,bhe=l1,whe=Sf,Ehe="[object Set]";function She(t){return whe(t)&&bhe(t)==Ehe}var Che=She,The=Che,Ahe=eO,jL=tO,$L=jL&&jL.isSet,Ihe=$L?Ahe($L):The,Rhe=Ihe,Phe=qP,Ohe=tle,khe=KP,Fhe=Hue,Nhe=sce,Mhe=lce,Lhe=cce,Bhe=wce,Dhe=Mce,Uhe=xG,jhe=bG,$he=l1,Ghe=mfe,Vhe=nhe,Hhe=fhe,zhe=Tl,Xhe=ZP,Whe=xhe,Yhe=Ds,qhe=Rhe,Khe=s1,Zhe=nO,Jhe=1,Qhe=2,ede=4,CG="[object Arguments]",tde="[object Array]",rde="[object Boolean]",nde="[object Date]",ide="[object Error]",TG="[object Function]",ade="[object GeneratorFunction]",ode="[object Map]",sde="[object Number]",AG="[object Object]",lde="[object RegExp]",ude="[object Set]",cde="[object String]",fde="[object Symbol]",hde="[object WeakMap]",dde="[object ArrayBuffer]",pde="[object DataView]",vde="[object Float32Array]",gde="[object Float64Array]",mde="[object Int8Array]",_de="[object Int16Array]",yde="[object Int32Array]",xde="[object Uint8Array]",bde="[object Uint8ClampedArray]",wde="[object Uint16Array]",Ede="[object Uint32Array]",Qr={};Qr[CG]=Qr[tde]=Qr[dde]=Qr[pde]=Qr[rde]=Qr[nde]=Qr[vde]=Qr[gde]=Qr[mde]=Qr[_de]=Qr[yde]=Qr[ode]=Qr[sde]=Qr[AG]=Qr[lde]=Qr[ude]=Qr[cde]=Qr[fde]=Qr[xde]=Qr[bde]=Qr[wde]=Qr[Ede]=!0;Qr[ide]=Qr[TG]=Qr[hde]=!1;function z_(t,e,r,n,i,a){var o,s=e&Jhe,c=e&Qhe,l=e&ede;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!Yhe(t))return t;var u=zhe(t);if(u){if(o=Ghe(t),!s)return Lhe(t,o)}else{var f=$he(t),h=f==TG||f==ade;if(Xhe(t))return Mhe(t,s);if(f==AG||f==CG||h&&!i){if(o=c||h?{}:Hhe(t),!s)return c?Dhe(t,Nhe(o,t)):Bhe(t,Fhe(o,t))}else{if(!Qr[f])return i?t:{};o=Vhe(t,f,s)}}a||(a=new Phe);var p=a.get(t);if(p)return p;a.set(t,o),qhe(t)?t.forEach(function(m){o.add(z_(m,e,r,m,t,a))}):Whe(t)&&t.forEach(function(m,v){o.set(v,z_(m,e,r,v,t,a))});var d=l?c?jhe:Uhe:c?Zhe:Khe,g=u?void 0:d(t);return Ohe(g||t,function(m,v){g&&(v=m,m=t[v]),khe(o,v,z_(m,e,r,v,t,a))}),o}var Sde=z_,Cde=Sde,Tde=1,Ade=4;function Ide(t){return Cde(t,Tde|Ade)}var Rde=Ide;const yn=Ki(Rde);var Dt=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t[t.changeAffinity=39]="changeAffinity",t[t.unlockAffinity=40]="unlockAffinity",t[t.popUpImage=41]="popUpImage",t[t.clearScreen=42]="clearScreen",t[t.showUI=43]="showUI",t[t.eventData=44]="eventData",t))(Dt||{});function Dm(){let t=1280,e=720;const r=window.localStorage.getItem("game-screen-size"),n=(r==null?void 0:r.split("x"))??[];return(n==null?void 0:n.length)>0&&(t=Number(n[0]),e=Number(n[1])),{defaultWidth:t,defaultHeight:e}}const oO={oldBgName:"",bgName:"",bgX:0,bgY:0,figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],popUpImageName:"",popUpImageNameLeft:"",popUpImageNameRight:"",freePopUpImage:[],popUpImageAssociatedAnimation:[],popImgLive2dMotion:[],popImgLive2dExpression:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},currentPlayAudio:null,uiSe:"",gameSe:"",hasCustomClickSe:!1,gameScounds:[],menuScounds:[],miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",dialogueMode:"role",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},storyLineBg:"",storyLineBgX:Dm().defaultWidth,storyLineBgY:Dm().defaultHeight,achieveBg:"",unlockAchieve:{unlockname:"",saveTime:"",url:"",x:0,y:0},achieveBgX:Dm().defaultWidth,achieveBgY:Dm().defaultHeight,unlockAchieves:[],totalAchievements:0,unlockedAchievements:0,isShowValueSwitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showValues:[],showValueList:[],showAffinityChangeList:[]},sO=ug({name:"stage",initialState:yn(oO),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload,i=t.effects.findIndex(a=>a.target===r);i>=0?t.effects[i].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===Dt.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setFreePopupImageBykey:(t,e)=>{const r=t.freePopUpImage,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.live2dMotion.findIndex(a=>a.target===r);i<0?t.live2dMotion.push({target:r,motion:n}):t.live2dMotion[i].motion=n},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},setPopUpImageLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.popImgLive2dMotion.findIndex(a=>a.target===r);i<0?t.popImgLive2dMotion.push({target:r,motion:n}):t.popImgLive2dMotion[i].motion=n},setPopUpImageLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.popImgLive2dExpression.findIndex(a=>a.target===r);i<0?t.popImgLive2dExpression.push({target:r,expression:n}):t.popImgLive2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]},setStoryLineBg:(t,e)=>{t.storyLineBg=e.payload},setAchieveBg:(t,e)=>{t.achieveBg=e.payload},setUnlockAchieve:(t,e)=>{t.unlockAchieves.push(e.payload)},addShowValues:(t,e)=>{t.showValues.push(e.payload)},addShowValueList:(t,e)=>{const r=t.showValueList.findIndex(n=>n.showValueName===e.payload.showValueName);if(r>-1){const n=[...t.showValueList];n[r]=e.payload,t.showValueList=n}else t.showValueList=[...t.showValueList,e.payload]},updateShowValueList:(t,e)=>{t.showValueList=e.payload},addShowAffinityChangeList:(t,e)=>{t.showAffinityChangeList=[...t.showAffinityChangeList,e.payload]},updateShowAffinityChangeList:(t,e)=>{t.showAffinityChangeList=e.payload}}}),{resetStageState:hd,setStage:Lt,setStageVar:IG,setAchieveBg:Pde,setUnlockAchieve:nze,setStoryLineBg:ize,addShowValues:Kf,addShowValueList:Ode,updateShowValueList:kde,addShowAffinityChangeList:Fde,updateShowAffinityChangeList:Nde}=sO.actions,qn=sO.actions,Mde=sO.reducer;var ia=(t=>(t.Game_start_button="Game_start_button",t.Game_achievement_button="Game_achievement_button",t.Game_storyline_button="Game_storyline_button",t.Game_extra_button="Game_extra_button",t.Game_collection_button="Game_collection_button",t.Game_option_button="Game_option_button",t.Game_load_button="Game_load_button",t.Game_continue_button="Game_continue_button",t.Game_progression_button="Game_progression_button",t.Game_affinity_button="Game_affinity_button",t.Game_link_button="Game_link_button",t))(ia||{}),X_=(t=>(t.slider="slider",t.sliderBg="sliderBg",t.sliderThumb="sliderThumb",t))(X_||{}),lO=(t=>(t.Load_back_button="Load_back_button",t))(lO||{}),uO=(t=>(t.Storyline_back_button="Storyline_back_button",t))(uO||{}),cO=(t=>(t.Achievement_back_button="Achievement_back_button",t))(cO||{}),fO=(t=>(t.Extra_back_button="Extra_back_button",t.Extra_bgm_button="Extra_bgm_button",t.Extra_video_button="Extra_video_button",t))(fO||{}),hO=(t=>(t.Progress_back_button="Progress_back_button",t.Progress_chapter_button="Progress_chapter_button",t.Progress_achievement_button="Progress_achievement_button",t.Progress_affinity_button="Progress_affinity_button",t))(hO||{}),dO=(t=>(t.Affinity_back_button="Affinity_back_button",t))(dO||{}),u1=(t=>(t.Extra_title="Extra_title",t.Extra_bg="Extra_bg",t.Extra_bgm_locked_item_bg="Extra_bgm_locked_item_bg",t.Extra_bgm_unlocked_item="Extra_bgm_unlocked_item",t.Extra_video_unlocked_item="Extra_video_unlocked_item",t.Extra_indicator="Extra_indicator",t.Extra_video_locked_item_bg="Extra_video_locked_item_bg",t))(u1||{}),dn=(t=>(t.Collection_title="Collection_title",t.Collection_bg="Collection_bg",t.Collection_img1="Collection_img1",t.Collection_img2="Collection_img2",t.Collection_img3="Collection_img3",t.Collection_detail_bg="Collection_detail_bg",t.Collection_detail_title="Collection_detail_title",t.Collection_detail_dialog_bg="Collection_detail_dialog_bg",t.Collection_detail_dialog_text="Collection_detail_dialog_text",t.Collection_detail_left_bg="Collection_detail_left_bg",t.Collection_detail_right_content_bg="Collection_detail_right_content_bg",t.Collection_detail_right_thumbnail_bg="Collection_detail_right_thumbnail_bg",t.Collection_detail_right_desc_bg="Collection_detail_right_desc_bg",t))(dn||{}),c1=(t=>(t.Option_back_button="Option_back_button",t))(c1||{}),pO=(t=>(t.Collection_back_button="Collection_back_button",t.Collection_detail_dialog_prev_button="Collection_detail_dialog_prev_button",t.Collection_detail_dialog_next_button="Collection_detail_dialog_next_button",t))(pO||{}),gv=(t=>(t.Progress_title="Progress_title",t.Progress_bg="Progress_bg",t.Progress_content_container="Progress_content_container",t))(gv||{}),mv=(t=>(t.Affinity_title="Affinity_title",t.Affinity_bg="Affinity_bg",t.Affinity_item_container="Affinity_item_container",t.Affinity_locked_item="Affinity_locked_item",t.Affinity_unlocked_item="Affinity_unlocked_item",t))(mv||{}),f1=(t=>(t.Option_title="Option_title",t.Option_bg="Option_bg",t.Option_window_label="Option_window_label",t.Option_text_speed_label="Option_text_speed_label",t.Option_global_volume_label="Option_global_volume_label",t.Option_bg_music_volume_label="Option_bg_music_volume_label",t.Option_effect_volume_label="Option_effect_volume_label",t.Option_voice_volume_label="Option_voice_volume_label",t.Option_voice_slider="Option_voice_slider",t.Option_text_speed_slider="Option_text_speed_slider",t.Option_global_volume_slider="Option_global_volume_slider",t.Option_bg_music_volume_slider="Option_bg_music_volume_slider",t.Option_effect_volume_slider="Option_effect_volume_slider",t.Option_fullscreen_checkbox_label="Option_fullscreen_checkbox_label",t.Option_window_checkbox_label="Option_window_checkbox_label",t.Option_fullscreen_checkbox="Option_fullscreen_checkbox",t.Option_window_checkbox="Option_window_checkbox",t.Option_videoSize1080_checkbox="Option_videoSize1080_checkbox",t.Option_videoSize720_checkbox="Option_videoSize720_checkbox",t.Options_light_slider="Options_light_slider",t))(f1||{}),vO=(t=>(t.Achievement_title="Achievement_title",t))(vO||{}),gO=(t=>(t.Storyline_title="Storyline_title",t.Storyline_item="Storyline_item",t))(gO||{}),h1=(t=>(t.Load_bg="Load_bg",t.Load_title="Load_title",t.Load_item="Load_item",t.Load_locked_item="Load_locked_item",t.Load_indicator="Load_indicator",t))(h1||{}),_v=(t=>(t.Title_img="Title_img",t.Title_bgm="Title_bgm",t))(_v||{}),Mn=(t=>(t.title="title",t.load="load",t.storyline="storyline",t.achievement="achievement",t.extra="extra",t.option="option",t.collection="collection",t.progressAndAchievement="progressAndAchievement",t.affinity="affinity",t))(Mn||{});const XE={title:{buttons:ia,other:_v},load:{buttons:lO,other:h1},storyline:{buttons:uO,other:gO},achievement:{buttons:cO,other:vO},extra:{buttons:fO,other:u1},option:{buttons:c1,other:f1},collection:{buttons:pO,other:dn},progressAndAchievement:{buttons:hO,other:gv},affinity:{buttons:dO,other:mv}},it=(t=[])=>{const e={hide:!1,style:{}};return t.forEach(r=>{e[r]={}}),e},Lde={title:{key:"title",other:{Title_img:{key:"Title_img",content:"",args:{hide:!1,style:{}}},Title_bgm:{key:"Title_bgm",content:"",args:it()}},buttons:{Game_start_button:{key:"Game_start_button",content:"",args:it(["hoverStyle","activeStyle"])},Game_load_button:{key:"Game_load_button",content:"",args:it(["hoverStyle","activeStyle"])},Game_option_button:{key:"Game_option_button",content:"",args:it(["hoverStyle","activeStyle"])},Game_storyline_button:{key:"Game_storyline_button",content:"",args:it(["hoverStyle","activeStyle"])},Game_achievement_button:{key:"Game_achievement_button",content:"",args:it(["hoverStyle","activeStyle"])},Game_extra_button:{key:"Game_extra_button",content:"",args:it(["hoverStyle","activeStyle"])},Game_collection_button:{key:"Game_collection_button",content:"",args:it(["hoverStyle","activeStyle"])},Game_continue_button:{key:"Game_continue_button",content:"",args:it(["hoverStyle","activeStyle"])},Game_progression_button:{key:"Game_progression_button",content:"",args:it(["hoverStyle","activeStyle"])},Game_affinity_button:{key:"Game_affinity_button",content:"",args:it(["hoverStyle","activeStyle"])},Game_link_button:{key:"Game_link_button",content:"",args:it(["hoverStyle","buttonLink","activeStyle"])}}},load:{key:"load",other:{Load_bg:{key:"Load_bg",content:"",args:it()},Load_title:{key:"Load_title",content:"",args:it(["hoverStyle","activeStyle"])},Load_item:{key:"Load_item",content:"",args:it(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])},Load_indicator:{key:"Load_indicator",content:"",args:it(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Load_locked_item:{key:"Load_locked_item",content:"",args:it(["hoverStyle","activeStyle"])}},buttons:{Load_back_button:{key:"Load_back_button",content:"",args:it(["hoverStyle","activeStyle"])}}},storyline:{key:"storyline",other:{Storyline_title:{key:"Storyline_title",content:"",args:it(["hoverStyle","activeStyle"])},Storyline_item:{key:"Storyline_item",content:"",args:it(["hoverStyle","activeStyle"])}},buttons:{Storyline_back_button:{key:"Storyline_back_button",content:"",args:it(["hoverStyle","activeStyle"])}}},achievement:{key:"achievement",other:{Achievement_title:{key:"Achievement_title",content:"",args:it(["hoverStyle","activeStyle"])}},buttons:{Achievement_back_button:{key:"Achievement_back_button",content:"",args:it(["hoverStyle","activeStyle"])}}},extra:{key:"extra",other:{Extra_title:{key:"Extra_title",content:"",args:it(["hoverStyle","activeStyle"])},Extra_bgm_unlocked_item:{key:"Extra_bgm_unlocked_item",content:"",args:it(["contentStyle","backgroundStyle","extraStyle","backgroundHoverStyle","extraHoverStyle"])},Extra_bgm_locked_item_bg:{key:"Extra_bgm_locked_item_bg",content:"",args:it()},Extra_indicator:{key:"Extra_indicator",content:"",args:it(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Extra_bg:{key:"Extra_bg",content:"",args:it()},Extra_video_locked_item_bg:{key:"Extra_video_locked_item_bg",content:"",args:it()},Extra_video_unlocked_item:{key:"Extra_video_unlocked_item",content:"",args:it(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])}},buttons:{Extra_back_button:{key:"Extra_back_button",content:"",args:it(["hoverStyle","activeStyle"])},Extra_video_button:{key:"Extra_video_button",content:"",args:it(["hoverStyle","activeStyle"])},Extra_bgm_button:{key:"Extra_bgm_button",content:"",args:it(["hoverStyle","activeStyle"])}}},option:{key:"option",other:{Option_bg:{key:"Option_bg",content:"",args:it()},Option_title:{key:"Option_title",content:"",args:it(["hoverStyle","activeStyle"])},Option_window_label:{key:"Option_window_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_text_speed_label:{key:"Option_text_speed_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_voice_volume_label:{key:"Option_voice_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_window_checkbox_label:{key:"Option_text_speed_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_global_volume_label:{key:"Option_global_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_label:{key:"Option_bg_music_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_effect_volume_label:{key:"Option_effect_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_fullscreen_checkbox_label:{key:"Option_fullscreen_checkbox_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_slider:{key:"Option_bg_music_volume_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_effect_volume_slider:{key:"Option_effect_volume_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_text_speed_slider:{key:"Option_text_speed_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_fullscreen_checkbox:{key:"Option_fullscreen_checkbox",content:"",args:it(["hoverStyle","activeStyle"])},Option_window_checkbox:{key:"Option_window_checkbox",content:"",args:it(["hoverStyle","activeStyle"])},Option_videoSize1080_checkbox:{key:"Option_videoSize1080_checkbox",content:"",args:it(["hoverStyle","activeStyle"])},Option_videoSize720_checkbox:{key:"Option_videoSize720_checkbox",content:"",args:it(["hoverStyle","activeStyle"])},Options_light_slider:{key:"Options_light_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_global_volume_slider:{key:"Option_global_volume_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_voice_slider:{key:"Option_voice_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])}},buttons:{Option_back_button:{key:"Option_back_button",content:"",args:it(["hoverStyle","activeStyle"])}}},collection:{key:"collection",other:{Collection_title:{key:"Collection_title",content:"",args:it(["hoverStyle","activeStyle"])},Collection_bg:{key:"Collection_bg",content:"",args:it()},Collection_img1:{key:"Collection_img1",content:"",args:it()},Collection_img2:{key:"Collection_img2",content:"",args:it()},Collection_img3:{key:"Collection_img3",content:"",args:it()},Collection_detail_title:{key:"Collection_detail_title",content:"",args:it(["hoverStyle","activeStyle"])},Collection_detail_bg:{key:"Collection_detail_bg",content:"",args:it()},Collection_detail_dialog_bg:{key:"Collection_detail_dialog_bg",content:"",args:it()},Collection_detail_dialog_text:{key:"Collection_detail_dialog_text",content:"",args:it()},Collection_detail_left_bg:{key:"Collection_detail_left_bg",content:"",args:it()},Collection_detail_right_content_bg:{key:"Collection_detail_right_content_bg",content:"",args:it()},Collection_detail_right_thumbnail_bg:{key:"Collection_detail_right_thumbnail_bg",content:"",args:it()},Collection_detail_right_desc_bg:{key:"Collection_detail_right_desc_bg",content:"",args:it()}},buttons:{Collection_back_button:{key:"Collection_back_button",content:"",args:it(["hoverStyle","activeStyle"])},Collection_detail_dialog_prev_button:{key:"Collection_detail_dialog_prev_button",content:"",args:it(["hoverStyle","activeStyle"])},Collection_detail_dialog_next_button:{key:"Collection_detail_dialog_next_button",content:"",args:it(["hoverStyle","activeStyle"])}}},progressAndAchievement:{key:"progressAndAchievement",other:{Progress_title:{key:"Progress_title",content:"",args:it(["hoverStyle"])},Progress_bg:{key:"Progress_bg",content:"",args:it()},Progress_content_container:{key:"Progress_content_container",content:"",args:it()}},buttons:{Progress_back_button:{key:"Progress_back_button",content:"",args:it(["hoverStyle","activeStyle"])},Progress_achievement_button:{key:"Progress_achievement_button",content:"",args:it(["hoverStyle","activeStyle"])},Progress_chapter_button:{key:"Progress_chapter_button",content:"",args:it(["hoverStyle","activeStyle"])},Progress_affinity_button:{key:"Progress_affinity_button",content:"",args:it(["hoverStyle","activeStyle"])}}},affinity:{key:"affinity",other:{Affinity_title:{key:"Affinity_title",content:"",args:it(["hoverStyle"])},Affinity_item_container:{key:"Affinity_item_container",content:"",args:it()},Affinity_bg:{key:"Affinity_bg",content:"",args:it()},Affinity_locked_item:{key:"Affinity_locked_item",content:"",args:it(["hoverStyle"])},Affinity_unlocked_item:{key:"Affinity_unlocked_item",content:"",args:it(["contentStyle","extraStyle","contentHoverStyle","extraHoverStyle"])}},buttons:{Affinity_back_button:{key:"Affinity_back_button",content:"",args:it(["hoverStyle","activeStyle"])}}}},Bde={Title_img:1,Load_bg:1,Extra_bg:1,Option_bg:1,Collection_bg:1,Collection_detail_bg:1,Collection_detail_dialog_bg:1,Progress_bg:1,Affinity_bg:1,Collection_detail_left_bg:1,Collection_detail_right_content_bg:1,Collection_detail_right_thumbnail_bg:1,Collection_detail_right_desc_bg:1};var Gr=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))(Gr||{}),Ec=(t=>(t.Esc_continueGame_button="Esc_continueGame_button",t.Esc_backToLevel_button="Esc_backToLevel_button",t.Esc_setting_button="Esc_setting_button",t.Esc_exitGame_button="Esc_exitGame_button",t))(Ec||{}),Sc=(t=>(t.Achievement_back_button="Achievement_back_button",t.Achievement_title="Achievement_title",t.Achievement_progress_bg="Achievement_progress_bg",t.Achievement_progress_text="Achievement_progress_text",t.Achievement_progress="Achievement_progress",t.Achievement_notUnlock="Achievement_notUnlock",t))(Sc||{});const Zf={content:"",args:{hide:!0,style:{},hoverStyle:{}}},Um={content:"",args:{hide:!1,style:{x:0,y:0,scale:1,fontSize:0,fontColor:"",btnImage:"",btnSound:"",btnPosition:"",align:"",fontFamily:""}}},Qy={isInGaming:!1,showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:Gr.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,showStoryLine:!1,showAchievement:!1,showFavorited:!1,gameUIConfigs:Lde,showBeautyGuide:!1,showBeautyGuideDetail:!1,showBeautyGuideImageDialog:!1,isShowR18Modal:!1,openR18Modal:!1,showProgressAndAchievement:!1,showAffinity:!1,isShowGameMenu:!1,escMenus:{Esc_continueGame_button:Um,Esc_backToLevel_button:Um,Esc_setting_button:Um,Esc_exitGame_button:Um},achievementUI:{Achievement_progress_bg:Zf,Achievement_progress_text:Zf,Achievement_progress:Zf,Achievement_notUnlock:Zf,Achievement_back_button:Zf,Achievement_title:Zf},currentPlayAudio:null,playingVideo:!1},RG=ug({name:"gui",initialState:Qy,reducers:{setVisibility:(t,e)=>{const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]},setShowStoryLine:(t,e)=>{t.showStoryLine=e.payload},setshowFavorited:(t,e)=>{t.showFavorited=e.payload},setGameUIConfigs:(t,e)=>{t.gameUIConfigs=e.payload},setGameR18:(t,e)=>{t.isShowR18Modal=e.payload},setEscMenus:(t,e)=>{t.escMenus=e.payload},setAchievementUI:(t,e)=>{t.achievementUI=e.payload},setCurrentPlayAudio:(t,e)=>{t.currentPlayAudio=e.payload}}}),{setVisibility:yt,setMenuPanelTag:qc,setGuiAsset:WT,setLogoImage:Dde,setShowStoryLine:YT,setshowFavorited:qT,setGameUIConfigs:Ude,setGameR18:PG,setEscMenus:jde,setAchievementUI:$de,setCurrentPlayAudio:KT}=RG.actions,Gde=RG.reducer,Vde={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"},r18:{title:"Welcome!",desction:"Please verify that you are 18 years of age or older to enter this site.",agree:"Agree",disagree:"Disagree"}},Hde={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:"MAIN "},vocalVolume:{title:"VOICE "},bgmVolume:{title:"BGM "},seVolume:{title:"SE "},uiSeVolume:{title:"UI "}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},zde={common:{yes:"",no:"",cancel:"",confirm:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},extra:{title:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},quit:{title:"",subtitle:"QUIT"},storyLine:{title:"",subtitle:"STORYLINE"},achievement:{title:"",subtitle:"ACHIEVEMENT"},beautyGuide:{title:"",subtitle:"BEAUTYGUIDE"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:"",quitTips:`
`,backToGame:"",preserve:"",read:"",setting:"",backToTitle:"",collection:"",collected:"",continue:"",backToLevel:"",backToHome:""}},extra:{title:""},r18:{title:"",desction:" 18 ",agree:"",disagree:""}},Xde={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre"}},extra:{title:"EXTRA"}},Wde={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},Yde={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var Vd=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(Vd||{});const GL={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},qde={en:{translation:Vde},zhCn:{translation:zde},jp:{translation:Hde},fr:{translation:Xde},de:{translation:Wde},zhTw:{translation:Yde}},Kde=0;var OG=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(OG||{}),wu=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(wu||{}),Kc=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(Kc||{}),mO=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(mO||{}),Is=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(Is||{}),kG=(t=>(t.Size1080P="1920x1080",t.Size720P="1280x720",t))(kG||{});const FG={slPage:1,volumeMain:100,textSpeed:50,autoSpeed:OG.normal,textSize:wu.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:Kc.song,textboxOpacity:75,language:Vd.zhCn,voiceInterruption:mO.yes,fullScreen:Is.off,uiLight:100,videoSize:kG.Size720P},ZT={optionData:FG,globalGameVar:{},appreciationData:{bgm:[],cg:[]},token:"",userInfo:{nickName:"",userId:0}},NG=ug({name:"userData",initialState:yn(ZT),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.globalGameVar[e.payload.key]=e.payload.value},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,FG)},resetAllData(t){Object.assign(t,yn(ZT))},setToken(t,e){t.token=e.payload},setUserInfo(t,e){t.userInfo=e.payload}}}),{setUserData:aze,resetUserData:d1,setOptionData:Ho,setGlobalVar:Zde,setSlPage:ex,unlockCgInUserData:MG,unlockBgmInUserData:LG,resetOptionSet:oze,resetAllData:sze,setToken:Jde,setUserInfo:BG}=NG.actions,Qde=NG.reducer,e0e={saveData:[],quickSaveData:null,unlockStorylineList:[],saveVideoData:null,unlockAchieveData:[],isShowUnlock:!1,unlockAchieveAllTotal:0,unlockAchieveListAll:[],isLoadVideo:!1,isUnlockStoryline:!1,allUnlockAchieveList:[],allStorylineData:[],unlockAffinityData:[],uiSeAudioElement:null,gameScounds:{},menuScounds:{}},DG=ug({name:"saveData",initialState:yn(e0e),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload},setStorylineListFromStorage:(t,e)=>{t.unlockStorylineList=e.payload},addStorylineList:(t,e)=>{t.unlockStorylineList.push(e.payload)},replaceStorylineList:(t,e)=>{t.unlockStorylineList[e.payload.index]={...t.unlockStorylineList[e.payload.index],storyLine:e.payload.data.storyLine,videoData:e.payload.data.videoData}},setSaveVideoData:(t,e)=>{t.saveVideoData=e.payload},setUnlockAchieveData:(t,e)=>{t.unlockAchieveData=[...e.payload]},resetStorylineList:t=>{t.unlockStorylineList=[]},resetUnlockAchieveData:t=>{t.unlockAchieveData=[]},addUnlockAchieveData:(t,e)=>{const r=[...t.unlockAchieveData,e.payload];t.unlockAchieveData=r},replaceUnlockAchieveData:(t,e)=>{t.unlockAchieveData[e.payload.index]=e.payload.data},setIsShowUnlock:(t,e)=>{t.isShowUnlock=e.payload},setShowStoryline:(t,e)=>{t.isUnlockStoryline=e.payload},setUnlockAchieveAllTotal:(t,e)=>{t.unlockAchieveAllTotal=e.payload},setUnlockAchieveAll:(t,e)=>{t.unlockAchieveListAll=e.payload},setLoadVideo:(t,e)=>{t.isLoadVideo=e.payload},saveAllUnlockAchieveList:(t,e)=>{t.allUnlockAchieveList=e.payload},updateAffinityData:(t,e)=>{t.unlockAffinityData=e.payload},saveAllStorylineData:(t,e)=>{t.allStorylineData=e.payload},setSaveStatus:(t,e)=>{t[e.payload.key]=e.payload.value}}}),lr=DG.actions,t0e=DG.reducer,r0e={paymentConfigurationList:[],gameInfo:null,isEditorPreviewMode:!1},UG=ug({name:"storeData",initialState:yn(r0e),reducers:{setPaymentConfigurationList(t,e){t.paymentConfigurationList=e.payload},setGameInfo(t,e){t.gameInfo=e.payload},setIsEditorPreviewMode(t,e){t.isEditorPreviewMode=e.payload}}}),{setPaymentConfigurationList:jG,setGameInfo:n0e,setIsEditorPreviewMode:i0e}=UG.actions,a0e=UG.reducer,ue=Qie({reducer:{stage:Mde,GUI:Gde,userData:Qde,saveData:t0e,storeData:a0e},middleware:rG({serializableCheck:!1})});window.webgalStore=ue;var _O={exports:{}},$G=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},o0e=$G,Cf=Object.prototype.toString;function yO(t){return Cf.call(t)==="[object Array]"}function JT(t){return typeof t>"u"}function s0e(t){return t!==null&&!JT(t)&&t.constructor!==null&&!JT(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function l0e(t){return Cf.call(t)==="[object ArrayBuffer]"}function u0e(t){return typeof FormData<"u"&&t instanceof FormData}function c0e(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function f0e(t){return typeof t=="string"}function h0e(t){return typeof t=="number"}function GG(t){return t!==null&&typeof t=="object"}function W_(t){if(Cf.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function d0e(t){return Cf.call(t)==="[object Date]"}function p0e(t){return Cf.call(t)==="[object File]"}function v0e(t){return Cf.call(t)==="[object Blob]"}function VG(t){return Cf.call(t)==="[object Function]"}function g0e(t){return GG(t)&&VG(t.pipe)}function m0e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function _0e(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function y0e(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function xO(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),yO(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function QT(){var t={};function e(i,a){W_(t[a])&&W_(i)?t[a]=QT(t[a],i):W_(i)?t[a]=QT({},i):yO(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)xO(arguments[r],e);return t}function x0e(t,e,r){return xO(e,function(i,a){r&&typeof i=="function"?t[a]=o0e(i,r):t[a]=i}),t}function b0e(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var so={isArray:yO,isArrayBuffer:l0e,isBuffer:s0e,isFormData:u0e,isArrayBufferView:c0e,isString:f0e,isNumber:h0e,isObject:GG,isPlainObject:W_,isUndefined:JT,isDate:d0e,isFile:p0e,isBlob:v0e,isFunction:VG,isStream:g0e,isURLSearchParams:m0e,isStandardBrowserEnv:y0e,forEach:xO,merge:QT,extend:x0e,trim:_0e,stripBOM:b0e},Jf=so;function VL(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var HG=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Jf.isURLSearchParams(r))i=r.toString();else{var a=[];Jf.forEach(r,function(c,l){c===null||typeof c>"u"||(Jf.isArray(c)?l=l+"[]":c=[c],Jf.forEach(c,function(f){Jf.isDate(f)?f=f.toISOString():Jf.isObject(f)&&(f=JSON.stringify(f)),a.push(VL(l)+"="+VL(f))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},w0e=so;function p1(){this.handlers=[]}p1.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};p1.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};p1.prototype.forEach=function(e){w0e.forEach(this.handlers,function(n){n!==null&&e(n)})};var E0e=p1,S0e=so,C0e=function(e,r){S0e.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},zG=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},WE,HL;function XG(){if(HL)return WE;HL=1;var t=zG;return WE=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},WE}var YE,zL;function T0e(){if(zL)return YE;zL=1;var t=XG();return YE=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},YE}var qE,XL;function A0e(){if(XL)return qE;XL=1;var t=so;return qE=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),qE}var KE,WL;function I0e(){return WL||(WL=1,KE=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),KE}var ZE,YL;function R0e(){return YL||(YL=1,ZE=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),ZE}var JE,qL;function P0e(){if(qL)return JE;qL=1;var t=I0e(),e=R0e();return JE=function(n,i){return n&&!t(i)?e(n,i):i},JE}var QE,KL;function O0e(){if(KL)return QE;KL=1;var t=so,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return QE=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},QE}var eS,ZL;function k0e(){if(ZL)return eS;ZL=1;var t=so;return eS=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),eS}var tS,JL;function v1(){if(JL)return tS;JL=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,tS=t,tS}var rS,QL;function eB(){if(QL)return rS;QL=1;var t=so,e=T0e(),r=A0e(),n=HG,i=P0e(),a=O0e(),o=k0e(),s=XG(),c=g1(),l=v1();return rS=function(f){return new Promise(function(p,d){var g=f.data,m=f.headers,v=f.responseType,_;function y(){f.cancelToken&&f.cancelToken.unsubscribe(_),f.signal&&f.signal.removeEventListener("abort",_)}t.isFormData(g)&&delete m["Content-Type"];var b=new XMLHttpRequest;if(f.auth){var w=f.auth.username||"",E=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+E)}var C=i(f.baseURL,f.url);b.open(f.method.toUpperCase(),n(C,f.params,f.paramsSerializer),!0),b.timeout=f.timeout;function T(){if(b){var I="getAllResponseHeaders"in b?a(b.getAllResponseHeaders()):null,O=!v||v==="text"||v==="json"?b.responseText:b.response,P={data:O,status:b.status,statusText:b.statusText,headers:I,config:f,request:b};e(function(F){p(F),y()},function(F){d(F),y()},P),b=null}}if("onloadend"in b?b.onloadend=T:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(T)},b.onabort=function(){b&&(d(s("Request aborted",f,"ECONNABORTED",b)),b=null)},b.onerror=function(){d(s("Network Error",f,null,b)),b=null},b.ontimeout=function(){var O=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",P=f.transitional||c.transitional;f.timeoutErrorMessage&&(O=f.timeoutErrorMessage),d(s(O,f,P.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},t.isStandardBrowserEnv()){var A=(f.withCredentials||o(C))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;A&&(m[f.xsrfHeaderName]=A)}"setRequestHeader"in b&&t.forEach(m,function(O,P){typeof g>"u"&&P.toLowerCase()==="content-type"?delete m[P]:b.setRequestHeader(P,O)}),t.isUndefined(f.withCredentials)||(b.withCredentials=!!f.withCredentials),v&&v!=="json"&&(b.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&b.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(_=function(I){b&&(d(!I||I&&I.type?new l("canceled"):I),b.abort(),b=null)},f.cancelToken&&f.cancelToken.subscribe(_),f.signal&&(f.signal.aborted?_():f.signal.addEventListener("abort",_))),g||(g=null),b.send(g)})},rS}var nS,tB;function g1(){if(tB)return nS;tB=1;var t=so,e=C0e,r=zG,n={"Content-Type":"application/x-www-form-urlencoded"};function i(c,l){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=l)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=eB()),c}function o(c,l,u){if(t.isString(c))try{return(l||JSON.parse)(c),t.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(u||JSON.stringify)(c)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),o(l)):l}],transformResponse:[function(l){var u=this.transitional||s.transitional,f=u&&u.silentJSONParsing,h=u&&u.forcedJSONParsing,p=!f&&this.responseType==="json";if(p||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(d){if(p)throw d.name==="SyntaxError"?r(d,this,"E_JSON_PARSE"):d}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),nS=s,nS}var F0e=so,N0e=g1(),M0e=function(e,r,n){var i=this||N0e;return F0e.forEach(n,function(o){e=o.call(i,e,r)}),e},iS,rB;function WG(){return rB||(rB=1,iS=function(e){return!!(e&&e.__CANCEL__)}),iS}var nB=so,aS=M0e,L0e=WG(),B0e=g1(),D0e=v1();function oS(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new D0e("canceled")}var U0e=function(e){oS(e),e.headers=e.headers||{},e.data=aS.call(e,e.data,e.headers,e.transformRequest),e.headers=nB.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),nB.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||B0e.adapter;return r(e).then(function(i){return oS(e),i.data=aS.call(e,i.data,i.headers,e.transformResponse),i},function(i){return L0e(i)||(oS(e),i&&i.response&&(i.response.data=aS.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Ja=so,YG=function(e,r){r=r||{};var n={};function i(u,f){return Ja.isPlainObject(u)&&Ja.isPlainObject(f)?Ja.merge(u,f):Ja.isPlainObject(f)?Ja.merge({},f):Ja.isArray(f)?f.slice():f}function a(u){if(Ja.isUndefined(r[u])){if(!Ja.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Ja.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Ja.isUndefined(r[u])){if(!Ja.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Ja.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,p=h(f);Ja.isUndefined(p)&&h!==c||(n[f]=p)}),n},sS,iB;function qG(){return iB||(iB=1,sS={version:"0.24.0"}),sS}var j0e=qG().version,bO={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){bO[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var aB={};bO.transitional=function(e,r,n){function i(a,o){return"[Axios v"+j0e+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!aB[o]&&(aB[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function $0e(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new TypeError("option "+a+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+a)}}var G0e={assertOptions:$0e,validators:bO},KG=so,V0e=HG,oB=E0e,sB=U0e,m1=YG,ZG=G0e,Qf=ZG.validators;function hg(t){this.defaults=t,this.interceptors={request:new oB,response:new oB}}hg.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=m1(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&ZG.assertOptions(r,{silentJSONParsing:Qf.transitional(Qf.boolean),forcedJSONParsing:Qf.transitional(Qf.boolean),clarifyTimeoutError:Qf.transitional(Qf.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[sB,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=e;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{o=sB(c)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};hg.prototype.getUri=function(e){return e=m1(this.defaults,e),V0e(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};KG.forEach(["delete","get","head","options"],function(e){hg.prototype[e]=function(r,n){return this.request(m1(n||{},{method:e,url:r,data:(n||{}).data}))}});KG.forEach(["post","put","patch"],function(e){hg.prototype[e]=function(r,n,i){return this.request(m1(i||{},{method:e,url:r,data:n}))}});var H0e=hg,lS,lB;function z0e(){if(lB)return lS;lB=1;var t=v1();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},lS=e,lS}var uS,uB;function X0e(){return uB||(uB=1,uS=function(e){return function(n){return e.apply(null,n)}}),uS}var cS,cB;function W0e(){return cB||(cB=1,cS=function(e){return typeof e=="object"&&e.isAxiosError===!0}),cS}var fB=so,Y0e=$G,Y_=H0e,q0e=YG,K0e=g1();function JG(t){var e=new Y_(t),r=Y0e(Y_.prototype.request,e);return fB.extend(r,Y_.prototype,e),fB.extend(r,e),r.create=function(i){return JG(q0e(t,i))},r}var Us=JG(K0e);Us.Axios=Y_;Us.Cancel=v1();Us.CancelToken=z0e();Us.isCancel=WG();Us.VERSION=qG().version;Us.all=function(e){return Promise.all(e)};Us.spread=X0e();Us.isAxiosError=W0e();_O.exports=Us;_O.exports.default=Us;var Z0e=_O.exports,J0e=Z0e;const Q0e=J0e;class epe{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&Q0e.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var tpe=epe;const rpe=Ki(tpe),ze=new rpe;let hB;function wO(t,e=0,r=100){if(ze.info("playing bgm"+t),t===""){hB=setTimeout(()=>{ue.dispatch(Lt({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const i=ue.getState().stage.bgm.src;ue.dispatch(Lt({key:"bgm",value:{src:i,enter:-e,volume:r}}))}else clearTimeout(hB),ue.dispatch(Lt({key:"bgm",value:{src:t,enter:e,volume:r}}));const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())}var Tt=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t[t.image=8]="image",t[t.font=9]="font",t))(Tt||{});const Pt=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;case 7:r=`./game/ui/${t}`;break;case 8:r=`./game/image/${t}`;break;case 9:r=`./game/font/${t}`;break;default:r="";break}return r}};function QG(t,e){return function(){return t.apply(e,arguments)}}const{toString:npe}=Object.prototype,{getPrototypeOf:EO}=Object,_1=(t=>e=>{const r=npe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ns=t=>(t=t.toLowerCase(),e=>_1(e)===t),y1=t=>e=>typeof e===t,{isArray:Hd}=Array,yv=y1("undefined");function ipe(t){return t!==null&&!yv(t)&&t.constructor!==null&&!yv(t.constructor)&&ro(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const e7=ns("ArrayBuffer");function ape(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&e7(t.buffer),e}const ope=y1("string"),ro=y1("function"),t7=y1("number"),x1=t=>t!==null&&typeof t=="object",spe=t=>t===!0||t===!1,q_=t=>{if(_1(t)!=="object")return!1;const e=EO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lpe=ns("Date"),upe=ns("File"),cpe=ns("Blob"),fpe=ns("FileList"),hpe=t=>x1(t)&&ro(t.pipe),dpe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ro(t.append)&&((e=_1(t))==="formdata"||e==="object"&&ro(t.toString)&&t.toString()==="[object FormData]"))},ppe=ns("URLSearchParams"),[vpe,gpe,mpe,_pe]=["ReadableStream","Request","Response","Headers"].map(ns),ype=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dg(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Hd(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,t[s],s,t)}}function r7(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Dc=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),n7=t=>!yv(t)&&t!==Dc;function eA(){const{caseless:t}=n7(this)&&this||{},e={},r=(n,i)=>{const a=t&&r7(e,i)||i;q_(e[a])&&q_(n)?e[a]=eA(e[a],n):q_(n)?e[a]=eA({},n):Hd(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&dg(arguments[n],r);return e}const xpe=(t,e,r,{allOwnKeys:n}={})=>(dg(e,(i,a)=>{r&&ro(i)?t[a]=QG(i,r):t[a]=i},{allOwnKeys:n}),t),bpe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wpe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Epe=(t,e,r,n)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&EO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Spe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Cpe=t=>{if(!t)return null;if(Hd(t))return t;let e=t.length;if(!t7(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Tpe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&EO(Uint8Array)),Ape=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Ipe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Rpe=ns("HTMLFormElement"),Ppe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),dB=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Ope=ns("RegExp"),i7=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};dg(r,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},kpe=t=>{i7(t,(e,r)=>{if(ro(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ro(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Fpe=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Hd(t)?n(t):n(String(t).split(e)),r},Npe=()=>{},Mpe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,fS="abcdefghijklmnopqrstuvwxyz",pB="0123456789",a7={DIGIT:pB,ALPHA:fS,ALPHA_DIGIT:fS+fS.toUpperCase()+pB},Lpe=(t=16,e=a7.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Bpe(t){return!!(t&&ro(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Dpe=t=>{const e=new Array(10),r=(n,i)=>{if(x1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=Hd(n)?[]:{};return dg(n,(o,s)=>{const c=r(o,i+1);!yv(c)&&(a[s]=c)}),e[i]=void 0,a}}return n};return r(t,0)},Upe=ns("AsyncFunction"),jpe=t=>t&&(x1(t)||ro(t))&&ro(t.then)&&ro(t.catch),o7=((t,e)=>t?setImmediate:e?((r,n)=>(Dc.addEventListener("message",({source:i,data:a})=>{i===Dc&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Dc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ro(Dc.postMessage)),$pe=typeof queueMicrotask<"u"?queueMicrotask.bind(Dc):typeof process<"u"&&process.nextTick||o7,Le={isArray:Hd,isArrayBuffer:e7,isBuffer:ipe,isFormData:dpe,isArrayBufferView:ape,isString:ope,isNumber:t7,isBoolean:spe,isObject:x1,isPlainObject:q_,isReadableStream:vpe,isRequest:gpe,isResponse:mpe,isHeaders:_pe,isUndefined:yv,isDate:lpe,isFile:upe,isBlob:cpe,isRegExp:Ope,isFunction:ro,isStream:hpe,isURLSearchParams:ppe,isTypedArray:Tpe,isFileList:fpe,forEach:dg,merge:eA,extend:xpe,trim:ype,stripBOM:bpe,inherits:wpe,toFlatObject:Epe,kindOf:_1,kindOfTest:ns,endsWith:Spe,toArray:Cpe,forEachEntry:Ape,matchAll:Ipe,isHTMLForm:Rpe,hasOwnProperty:dB,hasOwnProp:dB,reduceDescriptors:i7,freezeMethods:kpe,toObjectSet:Fpe,toCamelCase:Ppe,noop:Npe,toFiniteNumber:Mpe,findKey:r7,global:Dc,isContextDefined:n7,ALPHABET:a7,generateString:Lpe,isSpecCompliantForm:Bpe,toJSONObject:Dpe,isAsyncFn:Upe,isThenable:jpe,setImmediate:o7,asap:$pe};function Wt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Le.inherits(Wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const s7=Wt.prototype,l7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{l7[t]={value:t}});Object.defineProperties(Wt,l7);Object.defineProperty(s7,"isAxiosError",{value:!0});Wt.from=(t,e,r,n,i,a)=>{const o=Object.create(s7);return Le.toFlatObject(t,o,function(c){return c!==Error.prototype},s=>s!=="isAxiosError"),Wt.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const Gpe=null;function tA(t){return Le.isPlainObject(t)||Le.isArray(t)}function u7(t){return Le.endsWith(t,"[]")?t.slice(0,-2):t}function vB(t,e,r){return t?t.concat(e).map(function(i,a){return i=u7(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function Vpe(t){return Le.isArray(t)&&!t.some(tA)}const Hpe=Le.toFlatObject(Le,{},null,function(e){return/^is[A-Z]/.test(e)});function b1(t,e,r){if(!Le.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Le.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!Le.isUndefined(m[g])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Le.isSpecCompliantForm(e);if(!Le.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(Le.isDate(d))return d.toISOString();if(!c&&Le.isBlob(d))throw new Wt("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(d)||Le.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,g,m){let v=d;if(d&&!m&&typeof d=="object"){if(Le.endsWith(g,"{}"))g=n?g:g.slice(0,-2),d=JSON.stringify(d);else if(Le.isArray(d)&&Vpe(d)||(Le.isFileList(d)||Le.endsWith(g,"[]"))&&(v=Le.toArray(d)))return g=u7(g),v.forEach(function(y,b){!(Le.isUndefined(y)||y===null)&&e.append(o===!0?vB([g],b,a):o===null?g:g+"[]",l(y))}),!1}return tA(d)?!0:(e.append(vB(m,g,a),l(d)),!1)}const f=[],h=Object.assign(Hpe,{defaultVisitor:u,convertValue:l,isVisitable:tA});function p(d,g){if(!Le.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(d),Le.forEach(d,function(v,_){(!(Le.isUndefined(v)||v===null)&&i.call(e,v,Le.isString(_)?_.trim():_,g,h))===!0&&p(v,g?g.concat(_):[_])}),f.pop()}}if(!Le.isObject(t))throw new TypeError("data must be an object");return p(t),e}function gB(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function SO(t,e){this._pairs=[],t&&b1(t,this,e)}const c7=SO.prototype;c7.append=function(e,r){this._pairs.push([e,r])};c7.toString=function(e){const r=e?function(n){return e.call(this,n,gB)}:gB;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function zpe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function f7(t,e,r){if(!e)return t;const n=r&&r.encode||zpe,i=r&&r.serialize;let a;if(i?a=i(e,r):a=Le.isURLSearchParams(e)?e.toString():new SO(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Xpe{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Le.forEach(this.handlers,function(n){n!==null&&e(n)})}}const mB=Xpe,h7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wpe=typeof URLSearchParams<"u"?URLSearchParams:SO,Ype=typeof FormData<"u"?FormData:null,qpe=typeof Blob<"u"?Blob:null,Kpe={isBrowser:!0,classes:{URLSearchParams:Wpe,FormData:Ype,Blob:qpe},protocols:["http","https","file","blob","url","data"]},CO=typeof window<"u"&&typeof document<"u",Zpe=(t=>CO&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Jpe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Qpe=CO&&window.location.href||"http://localhost",eve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:CO,hasStandardBrowserEnv:Zpe,hasStandardBrowserWebWorkerEnv:Jpe,origin:Qpe},Symbol.toStringTag,{value:"Module"})),Zo={...eve,...Kpe};function tve(t,e){return b1(t,new Zo.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Zo.isNode&&Le.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function rve(t){return Le.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function nve(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function d7(t){function e(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),c=a>=r.length;return o=!o&&Le.isArray(i)?i.length:o,c?(Le.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!Le.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&Le.isArray(i[o])&&(i[o]=nve(i[o])),!s)}if(Le.isFormData(t)&&Le.isFunction(t.entries)){const r={};return Le.forEachEntry(t,(n,i)=>{e(rve(n),i,r,0)}),r}return null}function ive(t,e,r){if(Le.isString(t))try{return(e||JSON.parse)(t),Le.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const TO={transitional:h7,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Le.isObject(e);if(a&&Le.isHTMLForm(e)&&(e=new FormData(e)),Le.isFormData(e))return i?JSON.stringify(d7(e)):e;if(Le.isArrayBuffer(e)||Le.isBuffer(e)||Le.isStream(e)||Le.isFile(e)||Le.isBlob(e)||Le.isReadableStream(e))return e;if(Le.isArrayBufferView(e))return e.buffer;if(Le.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tve(e,this.formSerializer).toString();if((s=Le.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return b1(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),ive(e)):e}],transformResponse:[function(e){const r=this.transitional||TO.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Le.isResponse(e)||Le.isReadableStream(e))return e;if(e&&Le.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?Wt.from(s,Wt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zo.classes.FormData,Blob:Zo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],t=>{TO.headers[t]={}});const AO=TO,ave=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ove=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&ave[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},_B=Symbol("internals");function z0(t){return t&&String(t).trim().toLowerCase()}function K_(t){return t===!1||t==null?t:Le.isArray(t)?t.map(K_):String(t)}function sve(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const lve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hS(t,e,r,n,i){if(Le.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Le.isString(e)){if(Le.isString(n))return e.indexOf(n)!==-1;if(Le.isRegExp(n))return n.test(e)}}function uve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function cve(t,e){const r=Le.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}class w1{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(s,c,l){const u=z0(c);if(!u)throw new Error("header name must be a non-empty string");const f=Le.findKey(i,u);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||c]=K_(s))}const o=(s,c)=>Le.forEach(s,(l,u)=>a(l,u,c));if(Le.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Le.isString(e)&&(e=e.trim())&&!lve(e))o(ove(e),r);else if(Le.isHeaders(e))for(const[s,c]of e.entries())a(c,s,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=z0(e),e){const n=Le.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return sve(i);if(Le.isFunction(r))return r.call(this,i,n);if(Le.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=z0(e),e){const n=Le.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||hS(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=z0(o),o){const s=Le.findKey(n,o);s&&(!r||hS(n,n[s],s,r))&&(delete n[s],i=!0)}}return Le.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||hS(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return Le.forEach(this,(i,a)=>{const o=Le.findKey(n,a);if(o){r[o]=K_(i),delete r[a];return}const s=e?uve(a):String(a).trim();s!==a&&delete r[a],r[s]=K_(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Le.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Le.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[_B]=this[_B]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=z0(o);n[s]||(cve(i,o),n[s]=!0)}return Le.isArray(e)?e.forEach(a):a(e),this}}w1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Le.reduceDescriptors(w1.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Le.freezeMethods(w1);const Jo=w1;function dS(t,e){const r=this||AO,n=e||r,i=Jo.from(n.headers);let a=n.data;return Le.forEach(t,function(s){a=s.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function p7(t){return!!(t&&t.__CANCEL__)}function zd(t,e,r){Wt.call(this,t??"canceled",Wt.ERR_CANCELED,e,r),this.name="CanceledError"}Le.inherits(zd,Wt,{__CANCEL__:!0});function v7(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Wt("Request failed with status code "+r.status,[Wt.ERR_BAD_REQUEST,Wt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function fve(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hve(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[a];o||(o=l),r[i]=c,n[i]=l;let f=a,h=0;for(;f!==i;)h+=r[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),l-o<e)return;const p=u&&l-u;return p?Math.round(h*1e3/p):void 0}}function dve(t,e){let r=0,n=1e3/e,i,a;const o=(l,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),t.apply(null,l)};return[(...l)=>{const u=Date.now(),f=u-r;f>=n?o(l,u):(i=l,a||(a=setTimeout(()=>{a=null,o(i)},n-f)))},()=>i&&o(i)]}const tx=(t,e,r=3)=>{let n=0;const i=hve(50,250);return dve(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,c=o-n,l=i(c),u=o<=s;n=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:c,rate:l||void 0,estimated:l&&s&&u?(s-o)/l:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(f)},r)},yB=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},xB=t=>(...e)=>Le.asap(()=>t(...e)),pve=Zo.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let o=a;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const s=Le.isString(o)?i(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),vve=Zo.hasStandardBrowserEnv?{write(t,e,r,n,i,a){const o=[t+"="+encodeURIComponent(e)];Le.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Le.isString(n)&&o.push("path="+n),Le.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mve(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function g7(t,e){return t&&!gve(e)?mve(t,e):e}const bB=t=>t instanceof Jo?{...t}:t;function cf(t,e){e=e||{};const r={};function n(l,u,f){return Le.isPlainObject(l)&&Le.isPlainObject(u)?Le.merge.call({caseless:f},l,u):Le.isPlainObject(u)?Le.merge({},u):Le.isArray(u)?u.slice():u}function i(l,u,f){if(Le.isUndefined(u)){if(!Le.isUndefined(l))return n(void 0,l,f)}else return n(l,u,f)}function a(l,u){if(!Le.isUndefined(u))return n(void 0,u)}function o(l,u){if(Le.isUndefined(u)){if(!Le.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function s(l,u,f){if(f in e)return n(l,u);if(f in t)return n(void 0,l)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(l,u)=>i(bB(l),bB(u),!0)};return Le.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=c[u]||i,h=f(t[u],e[u],u);Le.isUndefined(h)&&f!==s||(r[u]=h)}),r}const m7=t=>{const e=cf({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;e.headers=o=Jo.from(o),e.url=f7(g7(e.baseURL,e.url),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let c;if(Le.isFormData(r)){if(Zo.hasStandardBrowserEnv||Zo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Zo.hasStandardBrowserEnv&&(n&&Le.isFunction(n)&&(n=n(e)),n||n!==!1&&pve(e.url))){const l=i&&a&&vve.read(a);l&&o.set(i,l)}return e},_ve=typeof XMLHttpRequest<"u",yve=_ve&&function(t){return new Promise(function(r,n){const i=m7(t);let a=i.data;const o=Jo.from(i.headers).normalize();let{responseType:s,onUploadProgress:c,onDownloadProgress:l}=i,u,f,h,p,d;function g(){p&&p(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function v(){if(!m)return;const y=Jo.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),w={data:!s||s==="text"||s==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:y,config:t,request:m};v7(function(C){r(C),g()},function(C){n(C),g()},w),m=null}"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){m&&(n(new Wt("Request aborted",Wt.ECONNABORTED,t,m)),m=null)},m.onerror=function(){n(new Wt("Network Error",Wt.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||h7;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new Wt(b,w.clarifyTimeoutError?Wt.ETIMEDOUT:Wt.ECONNABORTED,t,m)),m=null},a===void 0&&o.setContentType(null),"setRequestHeader"in m&&Le.forEach(o.toJSON(),function(b,w){m.setRequestHeader(w,b)}),Le.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),s&&s!=="json"&&(m.responseType=i.responseType),l&&([h,d]=tx(l,!0),m.addEventListener("progress",h)),c&&m.upload&&([f,p]=tx(c),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=y=>{m&&(n(!y||y.type?new zd(null,t,m):y),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const _=fve(i.url);if(_&&Zo.protocols.indexOf(_)===-1){n(new Wt("Unsupported protocol "+_+":",Wt.ERR_BAD_REQUEST,t));return}m.send(a||null)})},xve=(t,e)=>{let r=new AbortController,n;const i=function(c){if(!n){n=!0,o();const l=c instanceof Error?c:this.reason;r.abort(l instanceof Wt?l:new zd(l instanceof Error?l.message:l))}};let a=e&&setTimeout(()=>{i(new Wt(`timeout ${e} of ms exceeded`,Wt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",i):c.unsubscribe(i))}),t=null)};t.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=o,[s,()=>{a&&clearTimeout(a),a=null}]},bve=xve,wve=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Eve=async function*(t,e,r){for await(const n of t)yield*wve(ArrayBuffer.isView(n)?n:await r(String(n)),e)},wB=(t,e,r,n,i)=>{const a=Eve(t,e,i);let o=0,s,c=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await a.next();if(u){c(),l.close();return}let h=f.byteLength;if(r){let p=o+=h;r(p)}l.enqueue(new Uint8Array(f))}catch(u){throw c(u),u}},cancel(l){return c(l),a.return()}},{highWaterMark:2})},E1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",_7=E1&&typeof ReadableStream=="function",rA=E1&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),y7=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Sve=_7&&y7(()=>{let t=!1;const e=new Request(Zo.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),EB=64*1024,nA=_7&&y7(()=>Le.isReadableStream(new Response("").body)),rx={stream:nA&&(t=>t.body)};E1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!rx[e]&&(rx[e]=Le.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Wt(`Response type '${e}' is not supported`,Wt.ERR_NOT_SUPPORT,n)})})})(new Response);const Cve=async t=>{if(t==null)return 0;if(Le.isBlob(t))return t.size;if(Le.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Le.isArrayBufferView(t)||Le.isArrayBuffer(t))return t.byteLength;if(Le.isURLSearchParams(t)&&(t=t+""),Le.isString(t))return(await rA(t)).byteLength},Tve=async(t,e)=>{const r=Le.toFiniteNumber(t.getContentLength());return r??Cve(e)},Ave=E1&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:h}=m7(t);l=l?(l+"").toLowerCase():"text";let[p,d]=i||a||o?bve([i,a],o):[],g,m;const v=()=>{!g&&setTimeout(()=>{p&&p.unsubscribe()}),g=!0};let _;try{if(c&&Sve&&r!=="get"&&r!=="head"&&(_=await Tve(u,n))!==0){let E=new Request(e,{method:"POST",body:n,duplex:"half"}),C;if(Le.isFormData(n)&&(C=E.headers.get("content-type"))&&u.setContentType(C),E.body){const[T,A]=yB(_,tx(xB(c)));n=wB(E.body,EB,T,A,rA)}}Le.isString(f)||(f=f?"include":"omit"),m=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:f});let y=await fetch(m);const b=nA&&(l==="stream"||l==="response");if(nA&&(s||b)){const E={};["status","statusText","headers"].forEach(I=>{E[I]=y[I]});const C=Le.toFiniteNumber(y.headers.get("content-length")),[T,A]=s&&yB(C,tx(xB(s),!0))||[];y=new Response(wB(y.body,EB,T,()=>{A&&A(),b&&v()},rA),E)}l=l||"text";let w=await rx[Le.findKey(rx,l)||"text"](y,t);return!b&&v(),d&&d(),await new Promise((E,C)=>{v7(E,C,{data:w,headers:Jo.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:m})})}catch(y){throw v(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new Wt("Network Error",Wt.ERR_NETWORK,t,m),{cause:y.cause||y}):Wt.from(y,y&&y.code,t,m)}}),iA={http:Gpe,xhr:yve,fetch:Ave};Le.forEach(iA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const SB=t=>`- ${t}`,Ive=t=>Le.isFunction(t)||t===null||t===!1,x7={getAdapter:t=>{t=Le.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!Ive(r)&&(n=iA[(o=String(r)).toLowerCase()],n===void 0))throw new Wt(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([s,c])=>`adapter ${s} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(SB).join(`
`):" "+SB(a[0]):"as no adapter specified";throw new Wt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:iA};function pS(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zd(null,t)}function CB(t){return pS(t),t.headers=Jo.from(t.headers),t.data=dS.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),x7.getAdapter(t.adapter||AO.adapter)(t).then(function(n){return pS(t),n.data=dS.call(t,t.transformResponse,n),n.headers=Jo.from(n.headers),n},function(n){return p7(n)||(pS(t),n&&n.response&&(n.response.data=dS.call(t,t.transformResponse,n.response),n.response.headers=Jo.from(n.response.headers))),Promise.reject(n)})}const b7="1.7.3",IO={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{IO[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const TB={};IO.transitional=function(e,r,n){function i(a,o){return"[Axios v"+b7+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new Wt(i(o," has been removed"+(r?" in "+r:"")),Wt.ERR_DEPRECATED);return r&&!TB[o]&&(TB[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Rve(t,e,r){if(typeof t!="object")throw new Wt("options must be an object",Wt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new Wt("option "+a+" must be "+c,Wt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Wt("Unknown option "+a,Wt.ERR_BAD_OPTION)}}const aA={assertOptions:Rve,validators:IO},Gl=aA.validators;class nx{constructor(e){this.defaults=e,this.interceptors={request:new mB,response:new mB}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=cf(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&aA.assertOptions(n,{silentJSONParsing:Gl.transitional(Gl.boolean),forcedJSONParsing:Gl.transitional(Gl.boolean),clarifyTimeoutError:Gl.transitional(Gl.boolean)},!1),i!=null&&(Le.isFunction(i)?r.paramsSerializer={serialize:i}:aA.assertOptions(i,{encode:Gl.function,serialize:Gl.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Le.merge(a.common,a[r.method]);a&&Le.forEach(["delete","get","head","post","put","patch","common"],d=>{delete a[d]}),r.headers=Jo.concat(o,a);const s=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let u,f=0,h;if(!c){const d=[CB.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),h=d.length,u=Promise.resolve(r);f<h;)u=u.then(d[f++],d[f++]);return u}h=s.length;let p=r;for(f=0;f<h;){const d=s[f++],g=s[f++];try{p=d(p)}catch(m){g.call(this,m);break}}try{u=CB.call(this,p)}catch(d){return Promise.reject(d)}for(f=0,h=l.length;f<h;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=cf(this.defaults,e);const r=g7(e.baseURL,e.url);return f7(r,e.params,e.paramsSerializer)}}Le.forEach(["delete","get","head","options"],function(e){nx.prototype[e]=function(r,n){return this.request(cf(n||{},{method:e,url:r,data:(n||{}).data}))}});Le.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(cf(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}nx.prototype[e]=r(),nx.prototype[e+"Form"]=r(!0)});const Z_=nx;class RO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new zd(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new RO(function(i){e=i}),cancel:e}}}const Pve=RO;function Ove(t){return function(r){return t.apply(null,r)}}function kve(t){return Le.isObject(t)&&t.isAxiosError===!0}const oA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oA).forEach(([t,e])=>{oA[e]=t});const Fve=oA;function w7(t){const e=new Z_(t),r=QG(Z_.prototype.request,e);return Le.extend(r,Z_.prototype,e,{allOwnKeys:!0}),Le.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return w7(cf(t,i))},r}const hi=w7(AO);hi.Axios=Z_;hi.CanceledError=zd;hi.CancelToken=Pve;hi.isCancel=p7;hi.VERSION=b7;hi.toFormData=b1;hi.AxiosError=Wt;hi.Cancel=hi.CanceledError;hi.all=function(e){return Promise.all(e)};hi.spread=Ove;hi.isAxiosError=kve;hi.mergeConfig=cf;hi.AxiosHeaders=Jo;hi.formToJSON=t=>d7(Le.isHTMLForm(t)?new FormData(t):t);hi.getAdapter=x7.getAdapter;hi.HttpStatusCode=Fve;hi.default=hi;const dd=hi,Aa=t=>new Promise(e=>{dd.get(t).then(r=>{const n=r.data.toString();e(n)})}),Nve={backlog_size:200,fast_timeout:50},Mve={textInitialDelay:80};class Lve{constructor(e){at(this,"isSaveBacklogNext",!1);at(this,"backlog",[]);at(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=ue.getState().stage,r=yn(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:yn(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>Nve.backlog_size;)this.getBacklog().shift()}}const sA=(t,e)=>{(!$.sceneManager.sceneAssetsList[e]||!Object.values($.sceneManager.sceneAssetsList[e]).length)&&($.sceneManager.sceneAssetsList[e]=t.reduce((r,n)=>(r[n.url]="",r),{}));for(const r of t){const n=$.sceneManager.sceneAssetsList[e];n[r.url]==="success"||n[r.url]==="loading"?(X0(e),ze.warn("")):(console.log("",r.url),r.url.endsWith(".mp4")||r.url.endsWith(".flv")?(n[r.url]="success",X0(e),$.videoManager.preloadVideo(r.url)):(n[r.url]="loading",Bve(r.url,3,1e3,()=>{n[r.url]="success",X0(e)},()=>{n[r.url]="error",X0(e);const i=$.sceneManager.settledAssets.findIndex(a=>a===r.url);i>-1&&$.sceneManager.settledAssets.splice(i,1)}),$.sceneManager.settledAssets.push(r.url)))}t.length===0&&X0(e)},X0=t=>{const e=$.sceneManager.sceneAssetsList[t],r=Object.values(e).every(n=>n==="error"||n==="success");$.sceneManager.sceneAssetsLoadedList[t]=Object.values(e).every(n=>n==="success"),r&&window.pubsub.publish("sceneAssetsLoaded",{sceneName:t})},Bve=(t,e,r,n,i)=>{const a=(o,s)=>{const c=()=>{n()},l=()=>{o>0?(console.log(`${t}${o}${s}ms`),setTimeout(()=>{a(o-1,s*2)},s)):i()};if(document.createElement("link"),window.isSafari)fetch(t).then(u=>{if(!u.ok)throw new Error("Error!");const f=t.split(".").pop()||"",h=["jpg","jpeg","png","gif","bmp","svg","webp"],p=["mp4","webm","ogg","flv"],d=["wav","mp3","ogg"];return h.includes(f)?u.blob():d.includes(f)||p.includes(f)?u.arrayBuffer():u.blob()}).then(c).catch(l);else{const u=document.createElement("link");u.setAttribute("rel","prefetch"),u.setAttribute("href",t);const f=document.getElementsByTagName("head");u.onload=c,u.onerror=l,f.length&&f[0].appendChild(u)}};a(e,r)};var ot;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t[t.changeAffinity=39]="changeAffinity",t[t.unlockAffinity=40]="unlockAffinity",t[t.popUpImage=41]="popUpImage",t[t.clearScreen=42]="clearScreen",t[t.showUI=43]="showUI",t[t.eventData=44]="eventData"})(ot||(ot={}));ot.intro,ot.changeBg,ot.changeFigure,ot.miniAvatar,ot.changeScene,ot.choose,ot.end,ot.bgm,ot.video,ot.setComplexAnimation,ot.setFilter,ot.pixiInit,ot.pixi,ot.label,ot.jumpLabel,ot.setVar,ot.callScene,ot.showVars,ot.unlockCg,ot.unlockBgm,ot.say,ot.filmMode,ot.callScene,ot.setTextbox,ot.setAnimation,ot.playEffect,ot.applyStyle,ot.unlockAchieve,ot.unlockStoryline,ot.showValue,ot.payProduct,ot.finishTrial,ot.moveCamera,ot.changeAffinity,ot.unlockAffinity,ot.popUpImage,ot.clearScreen,ot.showUI,ot.eventData;ot.bgm,ot.pixi,ot.pixiInit,ot.label,ot.if,ot.miniAvatar,ot.setVar,ot.unlockBgm,ot.unlockCg,ot.filmMode,ot.playEffect,ot.showValue;var Xn;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t[t.image=8]="image",t[t.font=9]="font"})(Xn||(Xn={}));function E7(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),c=a.slice(o+1);o<0&&(s=a,c=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,Xn.vocal)}):c===void 0?r.push({key:s,value:!0}):c==="true"||c==="false"?r.push({key:s,value:c==="true"}):isNaN(Number(c))?r.push({key:s,value:c}):r.push({key:s,value:Number(c)})}),r}function Dve(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/:/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of E7(o,(c,l)=>c))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function Uve(t){return t.replaceAll("\r","").split(`
`).map(r=>Dve(r)).filter(r=>r.command!=="")}const AB=(t,e,r)=>{let n={type:ot.say,additionalArgs:[]};const i=jve(t,e,r);return n.type=i,i===ot.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=$ve(n,i,e),n};function jve(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??ot.say}function $ve(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const Gve=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case ot.playEffect:return r(t,Xn.vocal);case ot.changeBg:return r(t,Xn.background);case ot.changeFigure:return r(t,Xn.figure);case ot.popUpImage:return r(t,Xn.image);case ot.bgm:return r(t,Xn.bgm);case ot.callScene:return r(t,Xn.scene);case ot.changeScene:return r(t,Xn.scene);case ot.miniAvatar:return r(t,Xn.figure);case ot.video:return r(t,Xn.video);case ot.choose:return Vve(t,r);case ot.unlockBgm:return r(t,Xn.bgm);case ot.unlockCg:default:return t}};function Vve(t,e){const r=t.split("|"),n=[],i=[];for(const s of r)n.push(s.split(":")[0]??""),i.push(s.split(":")[1]??"");const a=i.map(s=>s.match(/\./)?e(s,Xn.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const Hve=(t,e,r)=>{const n=[];return t===ot.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Xn.vocal})}),e==="none"||e===""||(t===ot.changeBg&&n.push({name:e,url:e,lineNumber:0,type:Xn.background}),t===ot.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:Xn.figure}),t===ot.popUpImage&&n.push({name:e,url:e,lineNumber:0,type:Xn.image}),t===ot.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:Xn.figure}),t===ot.video&&n.push({name:e,url:e,lineNumber:0,type:Xn.video}),t===ot.bgm&&n.push({name:e,url:e,lineNumber:0,type:Xn.bgm})),n},zve=(t,e)=>{const r=[];return(t===ot.changeScene||t===ot.callScene)&&r.push(e),(t===ot.choose||t===ot.video)&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},Xve=(t,e,r,n)=>{let i,a,o;const s=[];let c,l,u,f=t.split(";")[0];if(f==="")return{command:ot.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(f);if(h===null){u=f,l=AB(u,r,n),i=l.type;for(const d of l.additionalArgs)i===ot.say&&d.key==="speaker"||s.push(d)}else{u=f.substring(0,h.index),f=f.substring(h.index+1,f.length),l=AB(u,r,n),i=l.type;for(const d of l.additionalArgs)s.push(d)}const p=/ -/.exec(f);if(p){const d=f.substring(p.index,t.length);f=f.substring(0,p.index);for(const g of E7(d,e))s.push(g)}return a=Gve(f,i,e),c=Hve(i,a,s),o=zve(i,a),{command:i,commandRaw:u,content:a,args:s,sentenceAssets:c,subScene:o}};var jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wve=typeof jm=="object"&&jm&&jm.Object===Object&&jm,Yve=Wve,qve=Yve,Kve=typeof self=="object"&&self&&self.Object===Object&&self,Zve=qve||Kve||Function("return this")(),S1=Zve,Jve=S1,Qve=Jve.Symbol,S7=Qve,IB=S7,C7=Object.prototype,ege=C7.hasOwnProperty,tge=C7.toString,W0=IB?IB.toStringTag:void 0;function rge(t){var e=ege.call(t,W0),r=t[W0];try{t[W0]=void 0;var n=!0}catch{}var i=tge.call(t);return n&&(e?t[W0]=r:delete t[W0]),i}var nge=rge,ige=Object.prototype,age=ige.toString;function oge(t){return age.call(t)}var sge=oge,RB=S7,lge=nge,uge=sge,cge="[object Null]",fge="[object Undefined]",PB=RB?RB.toStringTag:void 0;function hge(t){return t==null?t===void 0?fge:cge:PB&&PB in Object(t)?lge(t):uge(t)}var dge=hge;function pge(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var T7=pge,vge=dge,gge=T7,mge="[object AsyncFunction]",_ge="[object Function]",yge="[object GeneratorFunction]",xge="[object Proxy]";function bge(t){if(!gge(t))return!1;var e=vge(t);return e==_ge||e==yge||e==mge||e==xge}var wge=bge,Ege=S1,Sge=Ege["__core-js_shared__"],Cge=Sge,vS=Cge,OB=function(){var t=/[^.]+$/.exec(vS&&vS.keys&&vS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Tge(t){return!!OB&&OB in t}var Age=Tge,Ige=Function.prototype,Rge=Ige.toString;function Pge(t){if(t!=null){try{return Rge.call(t)}catch{}try{return t+""}catch{}}return""}var Oge=Pge,kge=wge,Fge=Age,Nge=T7,Mge=Oge,Lge=/[\\^$.*+?()[\]{}|]/g,Bge=/^\[object .+?Constructor\]$/,Dge=Function.prototype,Uge=Object.prototype,jge=Dge.toString,$ge=Uge.hasOwnProperty,Gge=RegExp("^"+jge.call($ge).replace(Lge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vge(t){if(!Nge(t)||Fge(t))return!1;var e=kge(t)?Gge:Bge;return e.test(Mge(t))}var Hge=Vge;function zge(t,e){return t==null?void 0:t[e]}var Xge=zge,Wge=Hge,Yge=Xge;function qge(t,e){var r=Yge(t,e);return Wge(r)?r:void 0}var PO=qge,Kge=PO,Zge=Kge(Object,"create"),C1=Zge,kB=C1;function Jge(){this.__data__=kB?kB(null):{},this.size=0}var Qge=Jge;function eme(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var tme=eme,rme=C1,nme="__lodash_hash_undefined__",ime=Object.prototype,ame=ime.hasOwnProperty;function ome(t){var e=this.__data__;if(rme){var r=e[t];return r===nme?void 0:r}return ame.call(e,t)?e[t]:void 0}var sme=ome,lme=C1,ume=Object.prototype,cme=ume.hasOwnProperty;function fme(t){var e=this.__data__;return lme?e[t]!==void 0:cme.call(e,t)}var hme=fme,dme=C1,pme="__lodash_hash_undefined__";function vme(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=dme&&e===void 0?pme:e,this}var gme=vme,mme=Qge,_me=tme,yme=sme,xme=hme,bme=gme;function Xd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xd.prototype.clear=mme;Xd.prototype.delete=_me;Xd.prototype.get=yme;Xd.prototype.has=xme;Xd.prototype.set=bme;var wme=Xd;function Eme(){this.__data__=[],this.size=0}var Sme=Eme;function Cme(t,e){return t===e||t!==t&&e!==e}var Tme=Cme,Ame=Tme;function Ime(t,e){for(var r=t.length;r--;)if(Ame(t[r][0],e))return r;return-1}var T1=Ime,Rme=T1,Pme=Array.prototype,Ome=Pme.splice;function kme(t){var e=this.__data__,r=Rme(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Ome.call(e,r,1),--this.size,!0}var Fme=kme,Nme=T1;function Mme(t){var e=this.__data__,r=Nme(e,t);return r<0?void 0:e[r][1]}var Lme=Mme,Bme=T1;function Dme(t){return Bme(this.__data__,t)>-1}var Ume=Dme,jme=T1;function $me(t,e){var r=this.__data__,n=jme(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Gme=$me,Vme=Sme,Hme=Fme,zme=Lme,Xme=Ume,Wme=Gme;function Wd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Wd.prototype.clear=Vme;Wd.prototype.delete=Hme;Wd.prototype.get=zme;Wd.prototype.has=Xme;Wd.prototype.set=Wme;var Yme=Wd,qme=PO,Kme=S1,Zme=qme(Kme,"Map"),Jme=Zme,FB=wme,Qme=Yme,e_e=Jme;function t_e(){this.size=0,this.__data__={hash:new FB,map:new(e_e||Qme),string:new FB}}var r_e=t_e;function n_e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var i_e=n_e,a_e=i_e;function o_e(t,e){var r=t.__data__;return a_e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var A1=o_e,s_e=A1;function l_e(t){var e=s_e(this,t).delete(t);return this.size-=e?1:0,e}var u_e=l_e,c_e=A1;function f_e(t){return c_e(this,t).get(t)}var h_e=f_e,d_e=A1;function p_e(t){return d_e(this,t).has(t)}var v_e=p_e,g_e=A1;function m_e(t,e){var r=g_e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var __e=m_e,y_e=r_e,x_e=u_e,b_e=h_e,w_e=v_e,E_e=__e;function Yd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yd.prototype.clear=y_e;Yd.prototype.delete=x_e;Yd.prototype.get=b_e;Yd.prototype.has=w_e;Yd.prototype.set=E_e;var S_e=Yd,C_e="__lodash_hash_undefined__";function T_e(t){return this.__data__.set(t,C_e),this}var A_e=T_e;function I_e(t){return this.__data__.has(t)}var R_e=I_e,P_e=S_e,O_e=A_e,k_e=R_e;function ix(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new P_e;++e<r;)this.add(t[e])}ix.prototype.add=ix.prototype.push=O_e;ix.prototype.has=k_e;var F_e=ix;function N_e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var M_e=N_e;function L_e(t){return t!==t}var B_e=L_e;function D_e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var U_e=D_e,j_e=M_e,$_e=B_e,G_e=U_e;function V_e(t,e,r){return e===e?G_e(t,e,r):j_e(t,$_e,r)}var H_e=V_e,z_e=H_e;function X_e(t,e){var r=t==null?0:t.length;return!!r&&z_e(t,e,0)>-1}var W_e=X_e;function Y_e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var q_e=Y_e;function K_e(t,e){return t.has(e)}var Z_e=K_e,J_e=PO,Q_e=S1,eye=J_e(Q_e,"Set"),tye=eye;function rye(){}var nye=rye;function iye(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var A7=iye,gS=tye,aye=nye,oye=A7,sye=1/0,lye=gS&&1/oye(new gS([,-0]))[1]==sye?function(t){return new gS(t)}:aye,uye=lye,cye=F_e,fye=W_e,hye=q_e,dye=Z_e,pye=uye,vye=A7,gye=200;function mye(t,e,r){var n=-1,i=fye,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=hye;else if(a>=gye){var l=e?null:pye(t);if(l)return vye(l);o=!1,i=dye,c=new cye}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var _ye=mye,yye=_ye;function xye(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?yye(t,void 0,e):[]}var bye=xye;const wye=(t,e,r,n,i,a,o)=>{const c=t.split(`
`);let l=[],u=[];const f=c.map(p=>{const d=Xve(p,i,a,o);return l=[...l,...d.sentenceAssets],u=[...u,...d.subScene],d});l=bye(l);const h=["jpg","jpeg","png","gif","bmp","svg","webp","mp4","webm","ogg","flv","wav","mp3","ogg"];return l=l.filter(p=>h.includes(p.url.split(".").pop())),n(l,e),{sceneName:e,sceneUrl:r,sentenceList:f,assetsList:l,subSceneList:u}};function Eye(t){const[e,r]=Sye(t);return{classNameStyles:e,others:r}}function Sye(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class Cye{constructor(e,r,n,i){at(this,"assetsPrefetcher");at(this,"assetSetter");at(this,"ADD_NEXT_ARG_LIST");at(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return wye(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return Uve(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return Eye(e)}}function Yt(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const Tye=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=Yt(t,"enter"),a=Yt(t,"volume");return r!==""&&ue.dispatch(LG({name:r,url:e,series:n})),wO(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Aye={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},I1=t=>{var n;let e=Aye;e=(((n=iH[t.command])==null?void 0:n.scriptFunction)??zH.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>$.gameplay.performController.arrangeNewPerform(i,t)):$.gameplay.performController.arrangeNewPerform(e,t)},Iye=t=>{$.sceneManager.lockSceneWrite||($.sceneManager.lockSceneWrite=!0,Aa(t.sceneUrl).then(e=>{$.sceneManager.sceneData.currentScene=ju(e,t.sceneName,t.sceneUrl),$.sceneManager.sceneData.currentSentenceId=t.continueLine+1,ze.debug("",$.sceneManager.sceneData.currentScene),$.sceneManager.lockSceneWrite=!1,ti()}).catch(e=>{ze.error("",e),$.sceneManager.lockSceneWrite=!1}))};var OO={},xv={document:{}},I7=Object.prototype.hasOwnProperty,R7=function(t){return R1(t)?t.toLowerCase():t},Bp=Array.isArray,Rye=function(t){return R1(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(R7=Rye);var Pye,kO=Object.prototype.toString,P7=Object.getPrototypeOf,mS=M7("ng");xv.angular||(xv.angular={});xv.document.documentMode;function Oye(t){if(t==null||MO(t))return!1;if(Bp(t)||R1(t)||Pye)return!0;var e="length"in Object(t)&&t.length;return NO(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function Tn(t,e,r){var n,i;if(t)if(F7(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(Bp(t)||Oye(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==Tn)t.forEach(e,r,t);else if(k7(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)I7.call(t,n)&&e.call(r,t[n],n,t);return t}function kye(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function FO(){}FO.$inject=[];function Fye(t){return typeof t>"u"}function Sh(t){return typeof t<"u"}function O7(t){return t!==null&&typeof t=="object"}function k7(t){return t!==null&&typeof t=="object"&&!P7(t)}function R1(t){return typeof t=="string"}function NO(t){return typeof t=="number"}function F7(t){return typeof t=="function"}function MO(t){return t&&t.window===t}function N7(t){return t&&t.$evalAsync&&t.$watch}var Nye=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function Mye(t){return t&&NO(t.length)&&Nye.test(kO.call(t))}function Lye(t){return kO.call(t)==="[object ArrayBuffer]"}function Bye(t,e){var r=[],n=[];if(e){if(Mye(e)||Lye(e))throw mS("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw mS("cpi","Can't copy! Source and destination are identical.");return Bp(e)?e.length=0:Tn(e,function(s,c){c!=="$$hashKey"&&delete e[c]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,c){var l=c.$$hashKey,u;if(Bp(s))for(var f=0,h=s.length;f<h;f++)c.push(a(s[f]));else if(k7(s))for(u in s)c[u]=a(s[u]);else if(s&&typeof s.hasOwnProperty=="function")for(u in s)s.hasOwnProperty(u)&&(c[u]=a(s[u]));else for(u in s)I7.call(s,u)&&(c[u]=a(s[u]));return kye(c,l),c}function a(s){if(!O7(s))return s;var c=r.indexOf(s);if(c!==-1)return n[c];if(MO(s)||N7(s))throw mS("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,u=o(s);return u===void 0&&(u=Bp(s)?[]:Object.create(P7(s)),l=!0),r.push(s),n.push(u),l?i(s,u):u}function o(s){switch(kO.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var c=new ArrayBuffer(s.byteLength);return new Uint8Array(c).set(new Uint8Array(s)),c}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(F7(s.cloneNode))return s.cloneNode(!0)}}function Dye(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:MO(e)?r="$WINDOW":e&&xv.document===e?r="$DOCUMENT":N7(e)&&(r="$SCOPE"),r}function Uye(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}Uye(xv.document);function jye(){return Object.create(null)}function $ye(t){var e=[];return JSON.stringify(t,function(r,n){if(n=Dye(r,n),O7(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function NB(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):Fye(t)?"undefined":typeof t!="string"?$ye(t):t}function M7(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,c;for(a+=o.replace(/\{\d+\}/g,function(l){var u=+l.slice(1,-1),f=u+r;return f<n.length?NB(n[f]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,c=r,s="?";c<n.length;c++,s="&")a+=s+"p"+(c-r)+"="+encodeURIComponent(NB(n[c]));return new e(a)}}var Ch=M7("$parse");({}).constructor.prototype.valueOf;function L7(t){return t+""}var J_=jye();Tn("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){J_[t]=!0});var Gye={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},lA=function(e){this.options=e};lA.prototype={constructor:lA,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=J_[e],a=J_[r],o=J_[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===""},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=Sh(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw Ch("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=R7(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=Gye[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var qe=function(e,r){this.lexer=e,this.options=r};qe.Program="Program";qe.ExpressionStatement="ExpressionStatement";qe.AssignmentExpression="AssignmentExpression";qe.ConditionalExpression="ConditionalExpression";qe.LogicalExpression="LogicalExpression";qe.BinaryExpression="BinaryExpression";qe.UnaryExpression="UnaryExpression";qe.CallExpression="CallExpression";qe.MemberExpression="MemberExpression";qe.Identifier="Identifier";qe.Literal="Literal";qe.ArrayExpression="ArrayExpression";qe.Property="Property";qe.ObjectExpression="ObjectExpression";qe.ThisExpression="ThisExpression";qe.LocalsExpression="LocalsExpression";qe.NGValueParameter="NGValueParameter";qe.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:qe.Program,body:t}},expressionStatement:function(){return{type:qe.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!U7(t))throw Ch("lval","Trying to assign a value to a non l-value");t={type:qe.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:qe.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:qe.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:qe.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:qe.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:qe.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:qe.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:qe.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:qe.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=Bye(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:qe.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:qe.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:qe.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:qe.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:qe.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:qe.Identifier,name:t.text}},constant:function(){return{type:qe.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:qe.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:qe.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:qe.ObjectExpression,properties:t}},throwError:function(t,e){throw Ch("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw Ch("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw Ch("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:qe.ThisExpression},$locals:{type:qe.LocalsExpression}}};function Vye(t,e){return typeof t<"u"?t:e}function B7(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function Hye(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function Ti(t,e){var r,n,i;switch(t.type){case qe.Program:r=!0,Tn(t.body,function(a){Ti(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case qe.Literal:t.constant=!0,t.toWatch=[];break;case qe.UnaryExpression:Ti(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case qe.BinaryExpression:Ti(t.left,e),Ti(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case qe.LogicalExpression:Ti(t.left,e),Ti(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case qe.ConditionalExpression:Ti(t.test,e),Ti(t.alternate,e),Ti(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case qe.Identifier:t.constant=!1,t.toWatch=[t];break;case qe.MemberExpression:Ti(t.object,e),t.computed&&Ti(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case qe.CallExpression:i=t.filter?Hye(e,t.callee.name):!1,r=i,n=[],Tn(t.arguments,function(a){Ti(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case qe.AssignmentExpression:Ti(t.left,e),Ti(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case qe.ArrayExpression:r=!0,n=[],Tn(t.elements,function(a){Ti(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case qe.ObjectExpression:r=!0,n=[],Tn(t.properties,function(a){Ti(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case qe.ThisExpression:t.constant=!1,t.toWatch=[];break;case qe.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function D7(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function U7(t){return t.type===qe.Identifier||t.type===qe.MemberExpression}function j7(t){if(t.body.length===1&&U7(t.body[0].expression))return{type:qe.AssignmentExpression,left:t.body[0].expression,right:{type:qe.NGValueParameter},operator:"="}}function $7(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===qe.Literal||t.body[0].expression.type===qe.ArrayExpression||t.body[0].expression.type===qe.ObjectExpression)}function G7(t){return t.constant}function V7(t,e){this.astBuilder=t,this.$filter=e}V7.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ti(r,e.$filter);var n="",i;if(this.stage="assign",i=j7(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=D7(r.body);e.stage="inputs",Tn(o,function(l,u){var f="fn"+u;e.state[f]={vars:[],body:[],own:{}},e.state.computing=f;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(f),l.watchId=u}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,L7,Vye,B7);return this.state=this.stage=void 0,c.ast=r,c.literal=$7(r),c.constant=G7(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return Tn(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return Tn(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,c=this,l,u,f;if(n=n||FO,!a&&Sh(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case qe.Program:Tn(t.body,function(p,d){c.recurse(p.expression,void 0,void 0,function(g){s=g}),d!==t.body.length-1?c.current().body.push(s,";"):c.return_(s)});break;case qe.Literal:u=this.escape(t.value),this.assign(e,u),n(e||u);break;case qe.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(p){s=p}),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),n(u);break;case qe.BinaryExpression:this.recurse(t.left,void 0,void 0,function(p){o=p}),this.recurse(t.right,void 0,void 0,function(p){s=p}),t.operator==="+"?u=this.plus(o,s):t.operator==="-"?u=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):u="("+o+")"+t.operator+"("+s+")",this.assign(e,u),n(u);break;case qe.LogicalExpression:e=e||this.nextId(),c.recurse(t.left,e),c.if_(t.operator==="&&"?e:c.not(e),c.lazyRecurse(t.right,e)),n(e);break;case qe.ConditionalExpression:e=e||this.nextId(),c.recurse(t.test,e),c.if_(e,c.lazyRecurse(t.alternate,e),c.lazyRecurse(t.consequent,e)),n(e);break;case qe.Identifier:e=e||this.nextId();var h=c.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=c.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),c.if_(c.stage==="inputs"||c.not(c.getHasOwnProperty("l",t.name)),function(){c.if_(c.stage==="inputs"||c.and_("s",c.or_(c.isNull(c.nonComputedMember("s",t.name)),c.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&c.if_(c.isNull(c.nonComputedMember("s",t.name)),c.lazyAssign(c.nonComputedMember("s",t.name),"{}")),c.assign(e,c.nonComputedMember("s",t.name))})},e&&c.lazyAssign(e,c.nonComputedMember("l",t.name))),n(e);break;case qe.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),c.recurse(t.object,o,void 0,function(){var p=null,d=c.current().inAssignment;t.computed?(s=c.nextId(),d||c.state.computing==="assign"?p=c.unsafeComputedMember(o,s):p=c.computedMember(o,s)):(d||c.state.computing==="assign"?p=c.unsafeNonComputedMember(o,t.property.name):p=c.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===qe.Literal&&c.recurse(t.property,s),c.if_(c.and_(c.notNull(o),c.or_(c.isNull(p),c.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==qe.Literal&&c.recurse(t.property,s),i&&i!==1&&c.if_(c.not(p),c.lazyAssign(p,"{}")),c.assign(e,p),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&c.if_(c.isNull(p),c.lazyAssign(p,"{}")),c.assign(e,p),r&&(r.computed=!1,r.name=t.property.name))},function(){c.assign(e,"undefined")}),n(e)},!!i);break;case qe.CallExpression:e=e||this.nextId(),t.filter?(s=c.filter(t.callee.name),l=[],Tn(t.arguments,function(p){var d=c.nextId();c.recurse(p,d),l.push(d)}),u=s+".call("+s+","+l.join(",")+")",c.assign(e,u),n(e)):(s=c.nextId(),o={},l=[],c.recurse(t.callee,s,o,function(){c.if_(c.notNull(s),function(){if(Tn(t.arguments,function(d){c.recurse(d,t.constant?void 0:c.nextId(),void 0,function(g){l.push(g)})}),o.name){var p=c.member(o.context,o.name,o.computed);u="("+p+" === null ? null : "+c.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else u=s+"("+l.join(",")+")";c.assign(e,u)},function(){c.assign(e,"undefined")}),n(e)}));break;case qe.AssignmentExpression:s=this.nextId(),o={},c.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){c.if_(c.and_(c.notNull(o.context),c.or_(c.hasOwnProperty_(o.context,o.name),c.isNull(c.member(o.context,o.name,o.computed)))),function(){c.recurse(t.right,s),u=c.member(o.context,o.name,o.computed)+t.operator+s,c.assign(e,u),n(e||u)}),c.current().inAssignment=!1,c.recurse(t.right,s),c.current().inAssignment=!0},1),c.current().inAssignment=!1;break;case qe.ArrayExpression:l=[],Tn(t.elements,function(p){c.recurse(p,t.constant?void 0:c.nextId(),void 0,function(d){l.push(d)})}),u="["+l.join(",")+"]",this.assign(e,u),n(e||u);break;case qe.ObjectExpression:l=[],f=!1,Tn(t.properties,function(p){p.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),Tn(t.properties,function(p){p.computed?(o=c.nextId(),c.recurse(p.key,o)):o=p.key.type===qe.Identifier?p.key.name:""+p.key.value,s=c.nextId(),c.recurse(p.value,s),c.assign(c.unsafeMember(e,o,p.computed),s)})):(Tn(t.properties,function(p){c.recurse(p.value,t.constant?void 0:c.nextId(),void 0,function(d){l.push(c.escape(p.key.type===qe.Identifier?p.key.name:""+p.key.value)+":"+d)})}),u="{"+l.join(",")+"}",this.assign(e,u)),n(e||u);break;case qe.ThisExpression:this.assign(e,"s"),n(e||"s");break;case qe.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case qe.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(R1(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(NO(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw Ch("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function H7(t,e){this.astBuilder=t,this.$filter=e}H7.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);Ti(r,e.$filter);var n,i;(n=j7(r))&&(i=this.recurse(n));var a=D7(r.body),o;a&&(o=[],Tn(a,function(l,u){var f=e.recurse(l);l.input=f,o.push(f),l.watchId=u}));var s=[];Tn(r.body,function(l){s.push(e.recurse(l.expression))});var c=r.body.length===0?FO:r.body.length===1?s[0]:function(l,u){var f;return Tn(s,function(h){f=h(l,u)}),f};return i&&(c.assign=function(l,u,f){return i(l,f,u)}),o&&(c.inputs=o),c.ast=r,c.literal=$7(r),c.constant=G7(r),c},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case qe.Literal:return this.value(t.value,e);case qe.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case qe.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case qe.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case qe.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case qe.Identifier:return a.identifier(t.name,e,r);case qe.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case qe.CallExpression:return o=[],Tn(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));var p=i.apply(void 0,f,u);return e?{context:void 0,name:void 0,value:p}:p}:function(s,c,l,u){var f=i(s,c,l,u),h;if(f.value!=null){for(var p=[],d=0;d<o.length;++d)p.push(o[d](s,c,l,u));h=f.value.apply(f.context,p)}return e?{value:h}:h};case qe.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,c,l,u){var f=n(s,!1,l,u),h=i(s,c,l,u);return f.context[f.name]=h,e?{value:h}:h};case qe.ArrayExpression:return o=[],Tn(t.elements,function(s){o.push(a.recurse(s))}),function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));return e?{value:f}:f};case qe.ObjectExpression:return o=[],Tn(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===qe.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,c,l,u){for(var f={},h=0;h<o.length;++h)o[h].computed?f[o[h].key(s,c,l,u)]=o[h].value(s,c,l,u):f[o[h].key]=o[h].value(s,c,l,u);return e?{value:f}:f};case qe.ThisExpression:return function(s){return e?{value:s}:s};case qe.LocalsExpression:return function(s,c){return e?{value:c}:c};case qe.NGValueParameter:return function(s,c,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Sh(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Sh(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=B7(s,c);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=(Sh(s)?s:0)-(Sh(c)?c:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s),l,u;return c!=null&&(l=e(i,a,o,s),l=L7(l),n&&n!==1&&c&&!c[l]&&(c[l]={}),Object.prototype.hasOwnProperty.call(c,l)&&(u=c[l])),r?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s);n&&n!==1&&c&&c[e]==null&&(c[e]={});var l=void 0;return c!=null&&Object.prototype.hasOwnProperty.call(c,e)&&(l=c[e]),r?{context:c,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var uA=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new qe(e,n),this.astCompiler=n.csp?new H7(this.ast,r):new V7(this.ast,r)};uA.prototype={constructor:uA,parse:function(t){return this.astCompiler.compile(t)}};OO.Lexer=lA;OO.Parser=uA;var z7=OO,zye={},Xye=z7.Lexer,Wye=z7.Parser;function LO(t,e){e=e||{};var r=e.filters||zye,n=e.filters?e.cache||{}:LO.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new Xye(i),c=new Wye(s,function(u){return r[u]},o);return n?(a=n[t],a||(a=n[t]=c.parse(t)),a):c.parse(t)}LO.cache=Object.create(null);var X7=LO;function Th(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var W7={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,u){if(!i[l]){if(!n[l]){var f=typeof Th=="function"&&Th;if(!u&&f)return f(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(d){var g=n[l][1][d];return o(g||d)},p,p.exports,r,n,i,a)}return i[l].exports}for(var s=typeof Th=="function"&&Th,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var c=0,l=new o(d),u=a.document.createTextNode("");l.observe(u,{characterData:!0}),s=function(){u.data=c=++c%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=d,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var m=a.document.createElement("script");m.onreadystatechange=function(){d(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:s=function(){setTimeout(d,0)};var h,p=[];function d(){h=!0;for(var m,v,_=p.length;_;){for(v=p,p=[],m=-1;++m<_;)v[m]();_=p.length}h=!1}n.exports=g;function g(m){p.push(m)===1&&!h&&s()}}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];n.exports=f;function f(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,w!==o&&g(this,w)}f.prototype.catch=function(w){return this.then(null,w)},f.prototype.then=function(w,E){if(typeof w!="function"&&this.state===l||typeof E!="function"&&this.state===c)return this;var C=new this.constructor(o);if(this.state!==u){var T=this.state===l?w:E;p(C,T,this.outcome)}else this.queue.push(new h(C,w,E));return C};function h(w,E,C){this.promise=w,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(w){s.resolve(this.promise,w)},h.prototype.otherCallFulfilled=function(w){p(this.promise,this.onFulfilled,w)},h.prototype.callRejected=function(w){s.reject(this.promise,w)},h.prototype.otherCallRejected=function(w){p(this.promise,this.onRejected,w)};function p(w,E,C){a(function(){var T;try{T=E(C)}catch(A){return s.reject(w,A)}T===w?s.reject(w,new TypeError("Cannot resolve promise with itself")):s.resolve(w,T)})}s.resolve=function(w,E){var C=m(d,E);if(C.status==="error")return s.reject(w,C.value);var T=C.value;if(T)g(w,T);else{w.state=l,w.outcome=E;for(var A=-1,I=w.queue.length;++A<I;)w.queue[A].callFulfilled(E)}return w},s.reject=function(w,E){w.state=c,w.outcome=E;for(var C=-1,T=w.queue.length;++C<T;)w.queue[C].callRejected(E);return w};function d(w){var E=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof E=="function")return function(){E.apply(w,arguments)}}function g(w,E){var C=!1;function T(P){C||(C=!0,s.reject(w,P))}function A(P){C||(C=!0,s.resolve(w,P))}function I(){E(A,T)}var O=m(I);O.status==="error"&&T(O.value)}function m(w,E){var C={};try{C.value=w(E),C.status="success"}catch(T){C.status="error",C.value=T}return C}f.resolve=v;function v(w){return w instanceof this?w:s.resolve(new this(o),w)}f.reject=_;function _(w){var E=new this(o);return s.reject(E,w)}f.all=y;function y(w){var E=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,T=!1;if(!C)return this.resolve([]);for(var A=new Array(C),I=0,O=-1,P=new this(o);++O<C;)k(w[O],O);return P;function k(F,B){E.resolve(F).then(D,function(z){T||(T=!0,s.reject(P,z))});function D(z){A[B]=z,++I===C&&!T&&(T=!0,s.resolve(P,A))}}}f.race=b;function b(w){var E=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,T=!1;if(!C)return this.resolve([]);for(var A=-1,I=new this(o);++A<C;)O(w[A]);return I;function O(P){E.resolve(P).then(function(k){T||(T=!0,s.resolve(I,k))},function(k){T||(T=!0,s.reject(I,k))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J};function o(J,fe){if(!(J instanceof fe))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=s();function l(){try{if(!c||!c.open)return!1;var J=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),fe=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!J||fe)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(J,fe){J=J||[],fe=fe||{};try{return new Blob(J,fe)}catch(ge){if(ge.name!=="TypeError")throw ge;for(var ie=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,me=new ie,we=0;we<J.length;we+=1)me.append(J[we]);return me.getBlob(fe.type)}}typeof Promise>"u"&&r(3);var f=Promise;function h(J,fe){fe&&J.then(function(ie){fe(null,ie)},function(ie){fe(ie)})}function p(J,fe,ie){typeof fe=="function"&&J.then(fe),typeof ie=="function"&&J.catch(ie)}function d(J){return typeof J!="string"&&(console.warn(J+" used as a key, but it is not a string."),J=String(J)),J}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",v=void 0,_={},y=Object.prototype.toString,b="readonly",w="readwrite";function E(J){for(var fe=J.length,ie=new ArrayBuffer(fe),me=new Uint8Array(ie),we=0;we<fe;we++)me[we]=J.charCodeAt(we);return ie}function C(J){return new f(function(fe){var ie=J.transaction(m,w),me=u([""]);ie.objectStore(m).put(me,"key"),ie.onabort=function(we){we.preventDefault(),we.stopPropagation(),fe(!1)},ie.oncomplete=function(){var we=navigator.userAgent.match(/Chrome\/(\d+)/),ge=navigator.userAgent.match(/Edge\//);fe(ge||!we||parseInt(we[1],10)>=43)}}).catch(function(){return!1})}function T(J){return typeof v=="boolean"?f.resolve(v):C(J).then(function(fe){return v=fe,v})}function A(J){var fe=_[J.name],ie={};ie.promise=new f(function(me,we){ie.resolve=me,ie.reject=we}),fe.deferredOperations.push(ie),fe.dbReady?fe.dbReady=fe.dbReady.then(function(){return ie.promise}):fe.dbReady=ie.promise}function I(J){var fe=_[J.name],ie=fe.deferredOperations.pop();if(ie)return ie.resolve(),ie.promise}function O(J,fe){var ie=_[J.name],me=ie.deferredOperations.pop();if(me)return me.reject(fe),me.promise}function P(J,fe){return new f(function(ie,me){if(_[J.name]=_[J.name]||X(),J.db)if(fe)A(J),J.db.close();else return ie(J.db);var we=[J.name];fe&&we.push(J.version);var ge=c.open.apply(c,we);fe&&(ge.onupgradeneeded=function(De){var We=ge.result;try{We.createObjectStore(J.storeName),De.oldVersion<=1&&We.createObjectStore(m)}catch(Ze){if(Ze.name==="ConstraintError")console.warn('The database "'+J.name+'" has been upgraded from version '+De.oldVersion+" to version "+De.newVersion+', but the storage "'+J.storeName+'" already exists.');else throw Ze}}),ge.onerror=function(De){De.preventDefault(),me(ge.error)},ge.onsuccess=function(){var De=ge.result;De.onversionchange=function(We){We.target.close()},ie(De),I(J)}})}function k(J){return P(J,!1)}function F(J){return P(J,!0)}function B(J,fe){if(!J.db)return!0;var ie=!J.db.objectStoreNames.contains(J.storeName),me=J.version<J.db.version,we=J.version>J.db.version;if(me&&(J.version!==fe&&console.warn('The database "'+J.name+`" can't be downgraded from version `+J.db.version+" to version "+J.version+"."),J.version=J.db.version),we||ie){if(ie){var ge=J.db.version+1;ge>J.version&&(J.version=ge)}return!0}return!1}function D(J){return new f(function(fe,ie){var me=new FileReader;me.onerror=ie,me.onloadend=function(we){var ge=btoa(we.target.result||"");fe({__local_forage_encoded_blob:!0,data:ge,type:J.type})},me.readAsBinaryString(J)})}function z(J){var fe=E(atob(J.data));return u([fe],{type:J.type})}function ee(J){return J&&J.__local_forage_encoded_blob}function te(J){var fe=this,ie=fe._initReady().then(function(){var me=_[fe._dbInfo.name];if(me&&me.dbReady)return me.dbReady});return p(ie,J,J),ie}function Y(J){A(J);for(var fe=_[J.name],ie=fe.forages,me=0;me<ie.length;me++){var we=ie[me];we._dbInfo.db&&(we._dbInfo.db.close(),we._dbInfo.db=null)}return J.db=null,k(J).then(function(ge){return J.db=ge,B(J)?F(J):ge}).then(function(ge){J.db=fe.db=ge;for(var De=0;De<ie.length;De++)ie[De]._dbInfo.db=ge}).catch(function(ge){throw O(J,ge),ge})}function U(J,fe,ie,me){me===void 0&&(me=1);try{var we=J.db.transaction(J.storeName,fe);ie(null,we)}catch(ge){if(me>0&&(!J.db||ge.name==="InvalidStateError"||ge.name==="NotFoundError"))return f.resolve().then(function(){if(!J.db||ge.name==="NotFoundError"&&!J.db.objectStoreNames.contains(J.storeName)&&J.version<=J.db.version)return J.db&&(J.version=J.db.version+1),F(J)}).then(function(){return Y(J).then(function(){U(J,fe,ie,me-1)})}).catch(ie);ie(ge)}}function X(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function j(J){var fe=this,ie={db:null};if(J)for(var me in J)ie[me]=J[me];var we=_[ie.name];we||(we=X(),_[ie.name]=we),we.forages.push(fe),fe._initReady||(fe._initReady=fe.ready,fe.ready=te);var ge=[];function De(){return f.resolve()}for(var We=0;We<we.forages.length;We++){var Ze=we.forages[We];Ze!==fe&&ge.push(Ze._initReady().catch(De))}var Je=we.forages.slice(0);return f.all(ge).then(function(){return ie.db=we.db,k(ie)}).then(function(tt){return ie.db=tt,B(ie,fe._defaultConfig.version)?F(ie):tt}).then(function(tt){ie.db=we.db=tt,fe._dbInfo=ie;for(var _t=0;_t<Je.length;_t++){var rr=Je[_t];rr!==fe&&(rr._dbInfo.db=ie.db,rr._dbInfo.version=ie.version)}})}function G(J,fe){var ie=this;J=d(J);var me=new f(function(we,ge){ie.ready().then(function(){U(ie._dbInfo,b,function(De,We){if(De)return ge(De);try{var Ze=We.objectStore(ie._dbInfo.storeName),Je=Ze.get(J);Je.onsuccess=function(){var tt=Je.result;tt===void 0&&(tt=null),ee(tt)&&(tt=z(tt)),we(tt)},Je.onerror=function(){ge(Je.error)}}catch(tt){ge(tt)}})}).catch(ge)});return h(me,fe),me}function ne(J,fe){var ie=this,me=new f(function(we,ge){ie.ready().then(function(){U(ie._dbInfo,b,function(De,We){if(De)return ge(De);try{var Ze=We.objectStore(ie._dbInfo.storeName),Je=Ze.openCursor(),tt=1;Je.onsuccess=function(){var _t=Je.result;if(_t){var rr=_t.value;ee(rr)&&(rr=z(rr));var Ir=J(rr,_t.key,tt++);Ir!==void 0?we(Ir):_t.continue()}else we()},Je.onerror=function(){ge(Je.error)}}catch(_t){ge(_t)}})}).catch(ge)});return h(me,fe),me}function ae(J,fe,ie){var me=this;J=d(J);var we=new f(function(ge,De){var We;me.ready().then(function(){return We=me._dbInfo,y.call(fe)==="[object Blob]"?T(We.db).then(function(Ze){return Ze?fe:D(fe)}):fe}).then(function(Ze){U(me._dbInfo,w,function(Je,tt){if(Je)return De(Je);try{var _t=tt.objectStore(me._dbInfo.storeName);Ze===null&&(Ze=void 0);var rr=_t.put(Ze,J);tt.oncomplete=function(){Ze===void 0&&(Ze=null),ge(Ze)},tt.onabort=tt.onerror=function(){var Ir=rr.error?rr.error:rr.transaction.error;De(Ir)}}catch(Ir){De(Ir)}})}).catch(De)});return h(we,ie),we}function pe(J,fe){var ie=this;J=d(J);var me=new f(function(we,ge){ie.ready().then(function(){U(ie._dbInfo,w,function(De,We){if(De)return ge(De);try{var Ze=We.objectStore(ie._dbInfo.storeName),Je=Ze.delete(J);We.oncomplete=function(){we()},We.onerror=function(){ge(Je.error)},We.onabort=function(){var tt=Je.error?Je.error:Je.transaction.error;ge(tt)}}catch(tt){ge(tt)}})}).catch(ge)});return h(me,fe),me}function se(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){U(fe._dbInfo,w,function(ge,De){if(ge)return we(ge);try{var We=De.objectStore(fe._dbInfo.storeName),Ze=We.clear();De.oncomplete=function(){me()},De.onabort=De.onerror=function(){var Je=Ze.error?Ze.error:Ze.transaction.error;we(Je)}}catch(Je){we(Je)}})}).catch(we)});return h(ie,J),ie}function _e(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){U(fe._dbInfo,b,function(ge,De){if(ge)return we(ge);try{var We=De.objectStore(fe._dbInfo.storeName),Ze=We.count();Ze.onsuccess=function(){me(Ze.result)},Ze.onerror=function(){we(Ze.error)}}catch(Je){we(Je)}})}).catch(we)});return h(ie,J),ie}function Me(J,fe){var ie=this,me=new f(function(we,ge){if(J<0){we(null);return}ie.ready().then(function(){U(ie._dbInfo,b,function(De,We){if(De)return ge(De);try{var Ze=We.objectStore(ie._dbInfo.storeName),Je=!1,tt=Ze.openKeyCursor();tt.onsuccess=function(){var _t=tt.result;if(!_t){we(null);return}J===0||Je?we(_t.key):(Je=!0,_t.advance(J))},tt.onerror=function(){ge(tt.error)}}catch(_t){ge(_t)}})}).catch(ge)});return h(me,fe),me}function Pe(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){U(fe._dbInfo,b,function(ge,De){if(ge)return we(ge);try{var We=De.objectStore(fe._dbInfo.storeName),Ze=We.openKeyCursor(),Je=[];Ze.onsuccess=function(){var tt=Ze.result;if(!tt){me(Je);return}Je.push(tt.key),tt.continue()},Ze.onerror=function(){we(Ze.error)}}catch(tt){we(tt)}})}).catch(we)});return h(ie,J),ie}function Ee(J,fe){fe=g.apply(this,arguments);var ie=this.config();J=typeof J!="function"&&J||{},J.name||(J.name=J.name||ie.name,J.storeName=J.storeName||ie.storeName);var me=this,we;if(!J.name)we=f.reject("Invalid arguments");else{var ge=J.name===ie.name&&me._dbInfo.db,De=ge?f.resolve(me._dbInfo.db):k(J).then(function(We){var Ze=_[J.name],Je=Ze.forages;Ze.db=We;for(var tt=0;tt<Je.length;tt++)Je[tt]._dbInfo.db=We;return We});J.storeName?we=De.then(function(We){if(We.objectStoreNames.contains(J.storeName)){var Ze=We.version+1;A(J);var Je=_[J.name],tt=Je.forages;We.close();for(var _t=0;_t<tt.length;_t++){var rr=tt[_t];rr._dbInfo.db=null,rr._dbInfo.version=Ze}var Ir=new f(function(Rr,fn){var Hr=c.open(J.name,Ze);Hr.onerror=function(pa){var kl=Hr.result;kl.close(),fn(pa)},Hr.onupgradeneeded=function(){var pa=Hr.result;pa.deleteObjectStore(J.storeName)},Hr.onsuccess=function(){var pa=Hr.result;pa.close(),Rr(pa)}});return Ir.then(function(Rr){Je.db=Rr;for(var fn=0;fn<tt.length;fn++){var Hr=tt[fn];Hr._dbInfo.db=Rr,I(Hr._dbInfo)}}).catch(function(Rr){throw(O(J,Rr)||f.resolve()).catch(function(){}),Rr})}}):we=De.then(function(We){A(J);var Ze=_[J.name],Je=Ze.forages;We.close();for(var tt=0;tt<Je.length;tt++){var _t=Je[tt];_t._dbInfo.db=null}var rr=new f(function(Ir,Rr){var fn=c.deleteDatabase(J.name);fn.onerror=function(){var Hr=fn.result;Hr&&Hr.close(),Rr(fn.error)},fn.onblocked=function(){console.warn('dropInstance blocked for database "'+J.name+'" until all open connections are closed')},fn.onsuccess=function(){var Hr=fn.result;Hr&&Hr.close(),Ir(Hr)}});return rr.then(function(Ir){Ze.db=Ir;for(var Rr=0;Rr<Je.length;Rr++){var fn=Je[Rr];I(fn._dbInfo)}}).catch(function(Ir){throw(O(J,Ir)||f.resolve()).catch(function(){}),Ir})})}return h(we,fe),we}var Se={_driver:"asyncStorage",_initStorage:j,_support:l(),iterate:ne,getItem:G,setItem:ae,removeItem:pe,clear:se,length:_e,key:Me,keys:Pe,dropInstance:Ee};function Ge(){return typeof openDatabase=="function"}var Ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",Xe=/^~~local_forage_type~([^~]+)~/,Ke="__lfsc__:",wt=Ke.length,Rt="arbf",ht="blob",gt="si08",It="ui08",vr="uic8",tr="si16",gr="si32",Kt="ur16",Et="ui32",ur="fl32",ke="fl64",V=wt+Rt.length,ve=Object.prototype.toString;function Te(J){var fe=J.length*.75,ie=J.length,me,we=0,ge,De,We,Ze;J[J.length-1]==="="&&(fe--,J[J.length-2]==="="&&fe--);var Je=new ArrayBuffer(fe),tt=new Uint8Array(Je);for(me=0;me<ie;me+=4)ge=Ye.indexOf(J[me]),De=Ye.indexOf(J[me+1]),We=Ye.indexOf(J[me+2]),Ze=Ye.indexOf(J[me+3]),tt[we++]=ge<<2|De>>4,tt[we++]=(De&15)<<4|We>>2,tt[we++]=(We&3)<<6|Ze&63;return Je}function Fe(J){var fe=new Uint8Array(J),ie="",me;for(me=0;me<fe.length;me+=3)ie+=Ye[fe[me]>>2],ie+=Ye[(fe[me]&3)<<4|fe[me+1]>>4],ie+=Ye[(fe[me+1]&15)<<2|fe[me+2]>>6],ie+=Ye[fe[me+2]&63];return fe.length%3===2?ie=ie.substring(0,ie.length-1)+"=":fe.length%3===1&&(ie=ie.substring(0,ie.length-2)+"=="),ie}function oe(J,fe){var ie="";if(J&&(ie=ve.call(J)),J&&(ie==="[object ArrayBuffer]"||J.buffer&&ve.call(J.buffer)==="[object ArrayBuffer]")){var me,we=Ke;J instanceof ArrayBuffer?(me=J,we+=Rt):(me=J.buffer,ie==="[object Int8Array]"?we+=gt:ie==="[object Uint8Array]"?we+=It:ie==="[object Uint8ClampedArray]"?we+=vr:ie==="[object Int16Array]"?we+=tr:ie==="[object Uint16Array]"?we+=Kt:ie==="[object Int32Array]"?we+=gr:ie==="[object Uint32Array]"?we+=Et:ie==="[object Float32Array]"?we+=ur:ie==="[object Float64Array]"?we+=ke:fe(new Error("Failed to get type for BinaryArray"))),fe(we+Fe(me))}else if(ie==="[object Blob]"){var ge=new FileReader;ge.onload=function(){var De=Ve+J.type+"~"+Fe(this.result);fe(Ke+ht+De)},ge.readAsArrayBuffer(J)}else try{fe(JSON.stringify(J))}catch(De){console.error("Couldn't convert value into a JSON string: ",J),fe(null,De)}}function Ie(J){if(J.substring(0,wt)!==Ke)return JSON.parse(J);var fe=J.substring(V),ie=J.substring(wt,V),me;if(ie===ht&&Xe.test(fe)){var we=fe.match(Xe);me=we[1],fe=fe.substring(we[0].length)}var ge=Te(fe);switch(ie){case Rt:return ge;case ht:return u([ge],{type:me});case gt:return new Int8Array(ge);case It:return new Uint8Array(ge);case vr:return new Uint8ClampedArray(ge);case tr:return new Int16Array(ge);case Kt:return new Uint16Array(ge);case gr:return new Int32Array(ge);case Et:return new Uint32Array(ge);case ur:return new Float32Array(ge);case ke:return new Float64Array(ge);default:throw new Error("Unkown type: "+ie)}}var W={serialize:oe,deserialize:Ie,stringToBuffer:Te,bufferToString:Fe};function Ue(J,fe,ie,me){J.executeSql("CREATE TABLE IF NOT EXISTS "+fe.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ie,me)}function pt(J){var fe=this,ie={db:null};if(J)for(var me in J)ie[me]=typeof J[me]!="string"?J[me].toString():J[me];var we=new f(function(ge,De){try{ie.db=openDatabase(ie.name,String(ie.version),ie.description,ie.size)}catch(We){return De(We)}ie.db.transaction(function(We){Ue(We,ie,function(){fe._dbInfo=ie,ge()},function(Ze,Je){De(Je)})},De)});return ie.serializer=W,we}function N(J,fe,ie,me,we,ge){J.executeSql(ie,me,we,function(De,We){We.code===We.SYNTAX_ERR?De.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[fe.storeName],function(Ze,Je){Je.rows.length?ge(Ze,We):Ue(Ze,fe,function(){Ze.executeSql(ie,me,we,ge)},ge)},ge):ge(De,We)},ge)}function Re(J,fe){var ie=this;J=d(J);var me=new f(function(we,ge){ie.ready().then(function(){var De=ie._dbInfo;De.db.transaction(function(We){N(We,De,"SELECT * FROM "+De.storeName+" WHERE key = ? LIMIT 1",[J],function(Ze,Je){var tt=Je.rows.length?Je.rows.item(0).value:null;tt&&(tt=De.serializer.deserialize(tt)),we(tt)},function(Ze,Je){ge(Je)})})}).catch(ge)});return h(me,fe),me}function Oe(J,fe){var ie=this,me=new f(function(we,ge){ie.ready().then(function(){var De=ie._dbInfo;De.db.transaction(function(We){N(We,De,"SELECT * FROM "+De.storeName,[],function(Ze,Je){for(var tt=Je.rows,_t=tt.length,rr=0;rr<_t;rr++){var Ir=tt.item(rr),Rr=Ir.value;if(Rr&&(Rr=De.serializer.deserialize(Rr)),Rr=J(Rr,Ir.key,rr+1),Rr!==void 0){we(Rr);return}}we()},function(Ze,Je){ge(Je)})})}).catch(ge)});return h(me,fe),me}function q(J,fe,ie,me){var we=this;J=d(J);var ge=new f(function(De,We){we.ready().then(function(){fe===void 0&&(fe=null);var Ze=fe,Je=we._dbInfo;Je.serializer.serialize(fe,function(tt,_t){_t?We(_t):Je.db.transaction(function(rr){N(rr,Je,"INSERT OR REPLACE INTO "+Je.storeName+" (key, value) VALUES (?, ?)",[J,tt],function(){De(Ze)},function(Ir,Rr){We(Rr)})},function(rr){if(rr.code===rr.QUOTA_ERR){if(me>0){De(q.apply(we,[J,Ze,ie,me-1]));return}We(rr)}})})}).catch(We)});return h(ge,ie),ge}function ce(J,fe,ie){return q.apply(this,[J,fe,ie,1])}function Ce(J,fe){var ie=this;J=d(J);var me=new f(function(we,ge){ie.ready().then(function(){var De=ie._dbInfo;De.db.transaction(function(We){N(We,De,"DELETE FROM "+De.storeName+" WHERE key = ?",[J],function(){we()},function(Ze,Je){ge(Je)})})}).catch(ge)});return h(me,fe),me}function dt(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){var ge=fe._dbInfo;ge.db.transaction(function(De){N(De,ge,"DELETE FROM "+ge.storeName,[],function(){me()},function(We,Ze){we(Ze)})})}).catch(we)});return h(ie,J),ie}function Qe(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){var ge=fe._dbInfo;ge.db.transaction(function(De){N(De,ge,"SELECT COUNT(key) as c FROM "+ge.storeName,[],function(We,Ze){var Je=Ze.rows.item(0).c;me(Je)},function(We,Ze){we(Ze)})})}).catch(we)});return h(ie,J),ie}function lt(J,fe){var ie=this,me=new f(function(we,ge){ie.ready().then(function(){var De=ie._dbInfo;De.db.transaction(function(We){N(We,De,"SELECT key FROM "+De.storeName+" WHERE id = ? LIMIT 1",[J+1],function(Ze,Je){var tt=Je.rows.length?Je.rows.item(0).key:null;we(tt)},function(Ze,Je){ge(Je)})})}).catch(ge)});return h(me,fe),me}function Ft(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){var ge=fe._dbInfo;ge.db.transaction(function(De){N(De,ge,"SELECT key FROM "+ge.storeName,[],function(We,Ze){for(var Je=[],tt=0;tt<Ze.rows.length;tt++)Je.push(Ze.rows.item(tt).key);me(Je)},function(We,Ze){we(Ze)})})}).catch(we)});return h(ie,J),ie}function $n(J){return new f(function(fe,ie){J.transaction(function(me){me.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(we,ge){for(var De=[],We=0;We<ge.rows.length;We++)De.push(ge.rows.item(We).name);fe({db:J,storeNames:De})},function(we,ge){ie(ge)})},function(me){ie(me)})})}function ar(J,fe){fe=g.apply(this,arguments);var ie=this.config();J=typeof J!="function"&&J||{},J.name||(J.name=J.name||ie.name,J.storeName=J.storeName||ie.storeName);var me=this,we;return J.name?we=new f(function(ge){var De;J.name===ie.name?De=me._dbInfo.db:De=openDatabase(J.name,"","",0),J.storeName?ge({db:De,storeNames:[J.storeName]}):ge($n(De))}).then(function(ge){return new f(function(De,We){ge.db.transaction(function(Ze){function Je(Ir){return new f(function(Rr,fn){Ze.executeSql("DROP TABLE IF EXISTS "+Ir,[],function(){Rr()},function(Hr,pa){fn(pa)})})}for(var tt=[],_t=0,rr=ge.storeNames.length;_t<rr;_t++)tt.push(Je(ge.storeNames[_t]));f.all(tt).then(function(){De()}).catch(function(Ir){We(Ir)})},function(Ze){We(Ze)})})}):we=f.reject("Invalid arguments"),h(we,fe),we}var St={_driver:"webSQLStorage",_initStorage:pt,_support:Ge(),iterate:Oe,getItem:Re,setItem:ce,removeItem:Ce,clear:dt,length:Qe,key:lt,keys:Ft,dropInstance:ar};function Ar(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function un(J,fe){var ie=J.name+"/";return J.storeName!==fe.storeName&&(ie+=J.storeName+"/"),ie}function ni(){var J="_localforage_support_test";try{return localStorage.setItem(J,!0),localStorage.removeItem(J),!1}catch{return!0}}function Rl(){return!ni()||localStorage.length>0}function Pl(J){var fe=this,ie={};if(J)for(var me in J)ie[me]=J[me];return ie.keyPrefix=un(J,fe._defaultConfig),Rl()?(fe._dbInfo=ie,ie.serializer=W,f.resolve()):f.reject()}function cn(J){var fe=this,ie=fe.ready().then(function(){for(var me=fe._dbInfo.keyPrefix,we=localStorage.length-1;we>=0;we--){var ge=localStorage.key(we);ge.indexOf(me)===0&&localStorage.removeItem(ge)}});return h(ie,J),ie}function Zi(J,fe){var ie=this;J=d(J);var me=ie.ready().then(function(){var we=ie._dbInfo,ge=localStorage.getItem(we.keyPrefix+J);return ge&&(ge=we.serializer.deserialize(ge)),ge});return h(me,fe),me}function Gn(J,fe){var ie=this,me=ie.ready().then(function(){for(var we=ie._dbInfo,ge=we.keyPrefix,De=ge.length,We=localStorage.length,Ze=1,Je=0;Je<We;Je++){var tt=localStorage.key(Je);if(tt.indexOf(ge)===0){var _t=localStorage.getItem(tt);if(_t&&(_t=we.serializer.deserialize(_t)),_t=J(_t,tt.substring(De),Ze++),_t!==void 0)return _t}}});return h(me,fe),me}function za(J,fe){var ie=this,me=ie.ready().then(function(){var we=ie._dbInfo,ge;try{ge=localStorage.key(J)}catch{ge=null}return ge&&(ge=ge.substring(we.keyPrefix.length)),ge});return h(me,fe),me}function da(J){var fe=this,ie=fe.ready().then(function(){for(var me=fe._dbInfo,we=localStorage.length,ge=[],De=0;De<we;De++){var We=localStorage.key(De);We.indexOf(me.keyPrefix)===0&&ge.push(We.substring(me.keyPrefix.length))}return ge});return h(ie,J),ie}function kf(J){var fe=this,ie=fe.keys().then(function(me){return me.length});return h(ie,J),ie}function Zb(J,fe){var ie=this;J=d(J);var me=ie.ready().then(function(){var we=ie._dbInfo;localStorage.removeItem(we.keyPrefix+J)});return h(me,fe),me}function Jb(J,fe,ie){var me=this;J=d(J);var we=me.ready().then(function(){fe===void 0&&(fe=null);var ge=fe;return new f(function(De,We){var Ze=me._dbInfo;Ze.serializer.serialize(fe,function(Je,tt){if(tt)We(tt);else try{localStorage.setItem(Ze.keyPrefix+J,Je),De(ge)}catch(_t){(_t.name==="QuotaExceededError"||_t.name==="NS_ERROR_DOM_QUOTA_REACHED")&&We(_t),We(_t)}})})});return h(we,ie),we}function Qb(J,fe){if(fe=g.apply(this,arguments),J=typeof J!="function"&&J||{},!J.name){var ie=this.config();J.name=J.name||ie.name,J.storeName=J.storeName||ie.storeName}var me=this,we;return J.name?we=new f(function(ge){J.storeName?ge(un(J,me._defaultConfig)):ge(J.name+"/")}).then(function(ge){for(var De=localStorage.length-1;De>=0;De--){var We=localStorage.key(De);We.indexOf(ge)===0&&localStorage.removeItem(We)}}):we=f.reject("Invalid arguments"),h(we,fe),we}var ew={_driver:"localStorageWrapper",_initStorage:Pl,_support:Ar(),iterate:Gn,getItem:Zi,setItem:Jb,removeItem:Zb,clear:cn,length:kf,key:za,keys:da,dropInstance:Qb},tw=function(fe,ie){return fe===ie||typeof fe=="number"&&typeof ie=="number"&&isNaN(fe)&&isNaN(ie)},Ff=function(fe,ie){for(var me=fe.length,we=0;we<me;){if(tw(fe[we],ie))return!0;we++}return!1},Mg=Array.isArray||function(J){return Object.prototype.toString.call(J)==="[object Array]"},us={},Lg={},Ol={INDEXEDDB:Se,WEBSQL:St,LOCALSTORAGE:ew},rw=[Ol.INDEXEDDB._driver,Ol.WEBSQL._driver,Ol.LOCALSTORAGE._driver],ec=["dropInstance"],Nf=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ec),Bg={description:"",driver:rw.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function nw(J,fe){J[fe]=function(){var ie=arguments;return J.ready().then(function(){return J[fe].apply(J,ie)})}}function p0(){for(var J=1;J<arguments.length;J++){var fe=arguments[J];if(fe)for(var ie in fe)fe.hasOwnProperty(ie)&&(Mg(fe[ie])?arguments[0][ie]=fe[ie].slice():arguments[0][ie]=fe[ie])}return arguments[0]}var iw=function(){function J(fe){o(this,J);for(var ie in Ol)if(Ol.hasOwnProperty(ie)){var me=Ol[ie],we=me._driver;this[ie]=we,us[we]||this.defineDriver(me)}this._defaultConfig=p0({},Bg),this._config=p0({},this._defaultConfig,fe),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return J.prototype.config=function(ie){if((typeof ie>"u"?"undefined":a(ie))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var me in ie){if(me==="storeName"&&(ie[me]=ie[me].replace(/\W/g,"_")),me==="version"&&typeof ie[me]!="number")return new Error("Database version must be a number.");this._config[me]=ie[me]}return"driver"in ie&&ie.driver?this.setDriver(this._config.driver):!0}else return typeof ie=="string"?this._config[ie]:this._config},J.prototype.defineDriver=function(ie,me,we){var ge=new f(function(De,We){try{var Ze=ie._driver,Je=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ie._driver){We(Je);return}for(var tt=Nf.concat("_initStorage"),_t=0,rr=tt.length;_t<rr;_t++){var Ir=tt[_t],Rr=!Ff(ec,Ir);if((Rr||ie[Ir])&&typeof ie[Ir]!="function"){We(Je);return}}var fn=function(){for(var kl=function(Ug){return function(){var sw=new Error("Method "+Ug+" is not implemented by the current driver"),jg=f.reject(sw);return h(jg,arguments[arguments.length-1]),jg}},v0=0,Dg=ec.length;v0<Dg;v0++){var Mf=ec[v0];ie[Mf]||(ie[Mf]=kl(Mf))}};fn();var Hr=function(kl){us[Ze]&&console.info("Redefining LocalForage driver: "+Ze),us[Ze]=ie,Lg[Ze]=kl,De()};"_support"in ie?ie._support&&typeof ie._support=="function"?ie._support().then(Hr,We):Hr(!!ie._support):Hr(!0)}catch(pa){We(pa)}});return p(ge,me,we),ge},J.prototype.driver=function(){return this._driver||null},J.prototype.getDriver=function(ie,me,we){var ge=us[ie]?f.resolve(us[ie]):f.reject(new Error("Driver not found."));return p(ge,me,we),ge},J.prototype.getSerializer=function(ie){var me=f.resolve(W);return p(me,ie),me},J.prototype.ready=function(ie){var me=this,we=me._driverSet.then(function(){return me._ready===null&&(me._ready=me._initDriver()),me._ready});return p(we,ie,ie),we},J.prototype.setDriver=function(ie,me,we){var ge=this;Mg(ie)||(ie=[ie]);var De=this._getSupportedDrivers(ie);function We(){ge._config.driver=ge.driver()}function Ze(_t){return ge._extend(_t),We(),ge._ready=ge._initStorage(ge._config),ge._ready}function Je(_t){return function(){var rr=0;function Ir(){for(;rr<_t.length;){var Rr=_t[rr];return rr++,ge._dbInfo=null,ge._ready=null,ge.getDriver(Rr).then(Ze).catch(Ir)}We();var fn=new Error("No available storage method found.");return ge._driverSet=f.reject(fn),ge._driverSet}return Ir()}}var tt=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=tt.then(function(){var _t=De[0];return ge._dbInfo=null,ge._ready=null,ge.getDriver(_t).then(function(rr){ge._driver=rr._driver,We(),ge._wrapLibraryMethodsWithReady(),ge._initDriver=Je(De)})}).catch(function(){We();var _t=new Error("No available storage method found.");return ge._driverSet=f.reject(_t),ge._driverSet}),p(this._driverSet,me,we),this._driverSet},J.prototype.supports=function(ie){return!!Lg[ie]},J.prototype._extend=function(ie){p0(this,ie)},J.prototype._getSupportedDrivers=function(ie){for(var me=[],we=0,ge=ie.length;we<ge;we++){var De=ie[we];this.supports(De)&&me.push(De)}return me},J.prototype._wrapLibraryMethodsWithReady=function(){for(var ie=0,me=Nf.length;ie<me;ie++)nw(this,Nf[ie])},J.prototype.createInstance=function(ie){return new J(ie)},J}(),aw=new iw;n.exports=aw},{3:3}]},{},[4])(4)})})(W7);var qd=W7.exports;const js=Ki(qd),P1=dd.create();P1.defaults.baseURL="https://test-api.idoltime.games";P1.defaults.headers.common["Content-Type"]="application/json";P1.interceptors.request.use(t=>{const e=new URLSearchParams(window.location.search).get("token")||ue.getState().userData.token,r=ue.getState().storeData.isEditorPreviewMode,n=localStorage.getItem("editor-token");return t.headers=r?{...t.headers,editorToken:n,source:"editor"}:{...t.headers,token:e,source:"web"},t},t=>Promise.reject(t));const Mi=P1,Yye="_GlobalDialog_main_awvoa_2",qye="_showGlobalDialog_awvoa_1",Kye="_glabalDialog_container_inner_awvoa_18",Zye="_GlobalDialog_pay_container_awvoa_31",Jye="_GlobalDialog_pay_tip_awvoa_41",Qye="_GlobalDialog_pay_close_awvoa_54",exe="_GlobalDialog_pay_title_awvoa_67",txe="_GlobalDialog_pay_content_awvoa_79",rxe="_GlobalDialog_star_stone_awvoa_90",nxe="_GlobalDialog_pay_btns_awvoa_100",ixe="_GlobalDialog_pay_btn_awvoa_100",axe="_GlobalDialog_pay_cancel_awvoa_120",oxe="_GlobalDialog_pay_confirm_awvoa_126",sxe="_glabalDialog_container_awvoa_18",lxe="_title_awvoa_140",uxe="_button_list_awvoa_152",cxe="_button_awvoa_152",Pr={GlobalDialog_main:Yye,showGlobalDialog:qye,glabalDialog_container_inner:Kye,GlobalDialog_pay_container:Zye,GlobalDialog_pay_tip:Jye,GlobalDialog_pay_close:Qye,GlobalDialog_pay_title:exe,GlobalDialog_pay_content:txe,GlobalDialog_star_stone:rxe,GlobalDialog_pay_btns:nxe,GlobalDialog_pay_btn:ixe,GlobalDialog_pay_cancel:axe,GlobalDialog_pay_confirm:oxe,glabalDialog_container:sxe,title:lxe,button_list:uxe,button:cxe};var Y7={exports:{}},q7={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=he;function fxe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hxe=typeof Object.is=="function"?Object.is:fxe,dxe=pd.useState,pxe=pd.useEffect,vxe=pd.useLayoutEffect,gxe=pd.useDebugValue;function mxe(t,e){var r=e(),n=dxe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return vxe(function(){i.value=r,i.getSnapshot=e,_S(i)&&a({inst:i})},[t,r,e]),pxe(function(){return _S(i)&&a({inst:i}),t(function(){_S(i)&&a({inst:i})})},[t]),gxe(r),r}function _S(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hxe(t,r)}catch{return!0}}function _xe(t,e){return e()}var yxe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_xe:mxe;q7.useSyncExternalStore=pd.useSyncExternalStore!==void 0?pd.useSyncExternalStore:yxe;Y7.exports=q7;var xxe=Y7.exports,K7={exports:{}},Z7={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1=he,bxe=xxe;function wxe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Exe=typeof Object.is=="function"?Object.is:wxe,Sxe=bxe.useSyncExternalStore,Cxe=O1.useRef,Txe=O1.useEffect,Axe=O1.useMemo,Ixe=O1.useDebugValue;Z7.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Cxe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Axe(function(){function c(p){if(!l){if(l=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var d=o.value;if(i(d,p))return f=d}return f=p}if(d=f,Exe(u,p))return d;var g=n(p);return i!==void 0&&i(d,g)?d:(u=p,f=g)}var l=!1,u,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var s=Sxe(t,a[0],a[1]);return Txe(function(){o.hasValue=!0,o.value=s},[s]),Ixe(s),s};K7.exports=Z7;var Rxe=K7.exports;function Pxe(t){t()}let J7=Pxe;const Oxe=t=>J7=t,kxe=()=>J7,MB=Symbol.for("react-redux-context"),LB=typeof globalThis<"u"?globalThis:{};function Fxe(){var t;if(!he.createContext)return{};const e=(t=LB[MB])!=null?t:LB[MB]=new Map;let r=e.get(he.createContext);return r||(r=he.createContext(null),e.set(he.createContext,r)),r}const Mu=Fxe();function BO(t=Mu){return function(){return he.useContext(t)}}const Q7=BO(),Nxe=()=>{throw new Error("uSES not initialized!")};let eV=Nxe;const Mxe=t=>{eV=t},Lxe=(t,e)=>t===e;function Bxe(t=Mu){const e=t===Mu?Q7:BO(t);return function(n,i={}){const{equalityFn:a=Lxe,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:f,noopCheck:h}=e();he.useRef(!0);const p=he.useCallback({[n.name](g){return n(g)}}[n.name],[n,f,o]),d=eV(l.addNestedSub,c.getState,u||c.getState,p,a);return he.useDebugValue(d),d}}const ft=Bxe();function Dxe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var tV={exports:{}},Vr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=typeof Symbol=="function"&&Symbol.for,DO=Li?Symbol.for("react.element"):60103,UO=Li?Symbol.for("react.portal"):60106,k1=Li?Symbol.for("react.fragment"):60107,F1=Li?Symbol.for("react.strict_mode"):60108,N1=Li?Symbol.for("react.profiler"):60114,M1=Li?Symbol.for("react.provider"):60109,L1=Li?Symbol.for("react.context"):60110,jO=Li?Symbol.for("react.async_mode"):60111,B1=Li?Symbol.for("react.concurrent_mode"):60111,D1=Li?Symbol.for("react.forward_ref"):60112,U1=Li?Symbol.for("react.suspense"):60113,Uxe=Li?Symbol.for("react.suspense_list"):60120,j1=Li?Symbol.for("react.memo"):60115,$1=Li?Symbol.for("react.lazy"):60116,jxe=Li?Symbol.for("react.block"):60121,$xe=Li?Symbol.for("react.fundamental"):60117,Gxe=Li?Symbol.for("react.responder"):60118,Vxe=Li?Symbol.for("react.scope"):60119;function lo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case DO:switch(t=t.type,t){case jO:case B1:case k1:case N1:case F1:case U1:return t;default:switch(t=t&&t.$$typeof,t){case L1:case D1:case $1:case j1:case M1:return t;default:return e}}case UO:return e}}}function rV(t){return lo(t)===B1}Vr.AsyncMode=jO;Vr.ConcurrentMode=B1;Vr.ContextConsumer=L1;Vr.ContextProvider=M1;Vr.Element=DO;Vr.ForwardRef=D1;Vr.Fragment=k1;Vr.Lazy=$1;Vr.Memo=j1;Vr.Portal=UO;Vr.Profiler=N1;Vr.StrictMode=F1;Vr.Suspense=U1;Vr.isAsyncMode=function(t){return rV(t)||lo(t)===jO};Vr.isConcurrentMode=rV;Vr.isContextConsumer=function(t){return lo(t)===L1};Vr.isContextProvider=function(t){return lo(t)===M1};Vr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===DO};Vr.isForwardRef=function(t){return lo(t)===D1};Vr.isFragment=function(t){return lo(t)===k1};Vr.isLazy=function(t){return lo(t)===$1};Vr.isMemo=function(t){return lo(t)===j1};Vr.isPortal=function(t){return lo(t)===UO};Vr.isProfiler=function(t){return lo(t)===N1};Vr.isStrictMode=function(t){return lo(t)===F1};Vr.isSuspense=function(t){return lo(t)===U1};Vr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===k1||t===B1||t===N1||t===F1||t===U1||t===Uxe||typeof t=="object"&&t!==null&&(t.$$typeof===$1||t.$$typeof===j1||t.$$typeof===M1||t.$$typeof===L1||t.$$typeof===D1||t.$$typeof===$xe||t.$$typeof===Gxe||t.$$typeof===Vxe||t.$$typeof===jxe)};Vr.typeOf=lo;tV.exports=Vr;var Hxe=tV.exports,nV=Hxe,zxe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Xxe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iV={};iV[nV.ForwardRef]=zxe;iV[nV.Memo]=Xxe;var Wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $O=Symbol.for("react.element"),GO=Symbol.for("react.portal"),G1=Symbol.for("react.fragment"),V1=Symbol.for("react.strict_mode"),H1=Symbol.for("react.profiler"),z1=Symbol.for("react.provider"),X1=Symbol.for("react.context"),Wxe=Symbol.for("react.server_context"),W1=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),q1=Symbol.for("react.suspense_list"),K1=Symbol.for("react.memo"),Z1=Symbol.for("react.lazy"),Yxe=Symbol.for("react.offscreen"),aV;aV=Symbol.for("react.module.reference");function Po(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $O:switch(t=t.type,t){case G1:case H1:case V1:case Y1:case q1:return t;default:switch(t=t&&t.$$typeof,t){case Wxe:case X1:case W1:case Z1:case K1:case z1:return t;default:return e}}case GO:return e}}}Wr.ContextConsumer=X1;Wr.ContextProvider=z1;Wr.Element=$O;Wr.ForwardRef=W1;Wr.Fragment=G1;Wr.Lazy=Z1;Wr.Memo=K1;Wr.Portal=GO;Wr.Profiler=H1;Wr.StrictMode=V1;Wr.Suspense=Y1;Wr.SuspenseList=q1;Wr.isAsyncMode=function(){return!1};Wr.isConcurrentMode=function(){return!1};Wr.isContextConsumer=function(t){return Po(t)===X1};Wr.isContextProvider=function(t){return Po(t)===z1};Wr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$O};Wr.isForwardRef=function(t){return Po(t)===W1};Wr.isFragment=function(t){return Po(t)===G1};Wr.isLazy=function(t){return Po(t)===Z1};Wr.isMemo=function(t){return Po(t)===K1};Wr.isPortal=function(t){return Po(t)===GO};Wr.isProfiler=function(t){return Po(t)===H1};Wr.isStrictMode=function(t){return Po(t)===V1};Wr.isSuspense=function(t){return Po(t)===Y1};Wr.isSuspenseList=function(t){return Po(t)===q1};Wr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===G1||t===H1||t===V1||t===Y1||t===q1||t===Yxe||typeof t=="object"&&t!==null&&(t.$$typeof===Z1||t.$$typeof===K1||t.$$typeof===z1||t.$$typeof===X1||t.$$typeof===W1||t.$$typeof===aV||t.getModuleId!==void 0)};Wr.typeOf=Po;function qxe(){const t=kxe();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const BB={notify(){},get:()=>[]};function Kxe(t,e){let r,n=BB,i=0,a=!1;function o(g){u();const m=n.subscribe(g);let v=!1;return()=>{v||(v=!0,m(),f())}}function s(){n.notify()}function c(){d.onStateChange&&d.onStateChange()}function l(){return a}function u(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=qxe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=BB)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,f())}const d={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return d}const Zxe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jxe=Zxe?he.useLayoutEffect:he.useEffect;function Qxe({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=he.useMemo(()=>{const l=Kxe(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=he.useMemo(()=>t.getState(),[t]);Jxe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const c=e||Mu;return he.createElement(c.Provider,{value:o},r)}function oV(t=Mu){const e=t===Mu?Q7:BO(t);return function(){const{store:n}=e();return n}}const e1e=oV();function t1e(t=Mu){const e=t===Mu?e1e:oV(t);return function(){return e().dispatch}}const Zr=t1e();Mxe(Rxe.useSyncExternalStoreWithSelector);Oxe(z$.unstable_batchedUpdates);const J1={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};var Cc=(t=>(t.Click="click",t.Move="move",t.Error="error",t.Alert="alert",t))(Cc||{});const r1e=""+new URL("page-flip-1.mp3",import.meta.url).href,n1e=""+new URL("switch-1.mp3",import.meta.url).href,sV=""+new URL("mouse-enter.mp3",import.meta.url).href,i1e=""+new URL("dialog.mp3",import.meta.url).href,lV=""+new URL("click.mp3",import.meta.url).href,On=()=>{const t=Zr();let e=!1;const r=(c,l)=>{var f,h;const u=ue.getState().GUI.currentPlayAudio;c&&typeof c=="boolean"||(u&&((f=u==null?void 0:u.pause)==null||f.call(u),u.volume=0,(h=u==null?void 0:u.remove)==null||h.call(u),ue.dispatch(KT(null))),t(Lt({key:"uiSe",value:c||l})),e=!1)};return{playSeEnter:()=>{var u,f;if(e)return;e=!0;const c=ue.getState().saveData,l=ue.getState().GUI.isInGaming?(u=c.gameScounds)==null?void 0:u[Cc.Move]:(f=c.menuScounds)==null?void 0:f[Cc.Move];r(l,sV)},playSeClick:c=>{var f,h;const l=ue.getState().saveData,u=ue.getState().GUI.isInGaming?(f=l.gameScounds)==null?void 0:f[Cc.Click]:(h=l.menuScounds)==null?void 0:h[Cc.Click];c?t(Lt({key:"uiSe",value:c})):r(u,lV)},playSePageChange:()=>{t(Lt({key:"uiSe",value:r1e}))},playSeDialogOpen:()=>{var u,f;const c=ue.getState().saveData,l=ue.getState().GUI.isInGaming?(u=c.gameScounds)==null?void 0:u[Cc.Alert]:(f=c.menuScounds)==null?void 0:f[Cc.Alert];r(l,i1e)},playSeSwitch:()=>{t(Lt({key:"uiSe",value:n1e}))}}},Kd=()=>({playSeEnter:()=>{ue.dispatch(Lt({key:"uiSe",value:sV}))},playSeClick:()=>{ue.dispatch(Lt({key:"uiSe",value:lV}))}});ia.Game_start_button;function a1e(){const t=ft(e=>e.GUI.showGlobalDialog);return M.jsx(M.Fragment,{children:t&&M.jsx("div",{id:"globalDialogContainer"})})}function $a(t){const{playSeClick:e,playSeEnter:r}=Kd(),n=t.type??"normal";ue.dispatch(yt({component:"showGlobalDialog",visibility:!0}));const i=()=>{var c;e(),(c=t.leftFunc)==null||c.call(t),yS()},a=()=>{e(),t.rightFunc(),yS()};let o=null,s=0;n==="normal"?o=M.jsx("div",{className:Pr.GlobalDialog_main,children:M.jsx("div",{className:Pr.glabalDialog_container,children:M.jsxs("div",{className:Pr.glabalDialog_container_inner,children:[M.jsx("div",{className:Pr.title,children:t.title}),M.jsxs("div",{className:Pr.button_list,children:[!!t.leftText&&M.jsx("div",{className:`${Pr.button} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Pr.button} interactive btn-clicked`,s=Date.now()},onMouseUp:c=>{const l=Date.now()-s;let u=c.currentTarget;setTimeout(()=>{u.className=`${Pr.button} interactive`,u=null,setTimeout(()=>{i()},320)},l-350>0?0:350-l)},children:t.leftText}),M.jsx("div",{className:`${Pr.button} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Pr.button} interactive btn-clicked`,s=Date.now()},onMouseUp:c=>{const l=Date.now()-s;let u=c.currentTarget;setTimeout(()=>{u.className=`${Pr.button} interactive`,u=null,setTimeout(()=>{a()},320)},l-350>0?0:350-l)},children:t.rightText})]})]})})}):n==="pay"&&(o=M.jsx("div",{className:Pr.GlobalDialog_main,children:M.jsxs("div",{className:Pr.GlobalDialog_pay_container,children:[M.jsx("div",{className:Pr.GlobalDialog_pay_tip}),M.jsx("div",{className:`${Pr.GlobalDialog_pay_close} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Pr.GlobalDialog_pay_close} interactive btn-clicked`,s=Date.now()},onMouseUp:c=>{const l=Date.now()-s;let u=c.currentTarget;setTimeout(()=>{u.className=`${Pr.GlobalDialog_pay_close} interactive`,u=null,setTimeout(()=>{e(),i(),yS()},320)},l-350>0?0:350-l)}}),M.jsx("div",{className:Pr.GlobalDialog_pay_title,children:t.title}),M.jsxs("div",{className:Pr.GlobalDialog_pay_content,children:[t.content,M.jsx("span",{className:Pr.GlobalDialog_star_stone}),t.suffixContent]}),M.jsxs("div",{className:Pr.GlobalDialog_pay_btns,children:[M.jsx("div",{className:`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_cancel} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_cancel} interactive btn-clicked`,s=Date.now()},onMouseUp:c=>{const l=Date.now()-s;let u=c.currentTarget;setTimeout(()=>{u.className=`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_cancel} interactive`,u=null,setTimeout(()=>{i()},320)},l-350>0?0:350-l)}}),M.jsx("div",{className:`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_confirm} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_confirm}  interactive btn-clicked`,s=Date.now()},onMouseUp:c=>{const l=Date.now()-s;let u=c.currentTarget;setTimeout(()=>{u.className=`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_confirm} interactive`,u=null,setTimeout(()=>{a()},320)},l-350>0?0:350-l)}})]})]})})),setTimeout(()=>{Fu.render(o,document.getElementById("globalDialogContainer"))},100)}function yS(){ue.dispatch(yt({component:"showGlobalDialog",visibility:!1}))}let DB=0,UB=0;const Q1=()=>{var t;return $.channel==="0"?String(((t=ue.getState().userData.userInfo)==null?void 0:t.userId)||0):sessionStorage.getItem("sdk-userId")};function o1e(t,e){if(!$.gameId){for(let r=t;r<=e;r++){const n=ue.getState().saveData.saveData[r];n&&js.setItem(`${$.gameKey}-saves${r}`,n).then(()=>{ze.info(`${r}`)})}return}s1e(t,e)}async function s1e(t,e){const r=[],n={};window.pubsub.publish("loading",{loading:!0});for(let a=t;a<=e;a++){const o=ue.getState().saveData.saveData[a];if(o){const s=Mi.post("/editor/game/file_save",{userId:Q1(),gId:$.gameId,fileType:2,key:`${$.gameKey}-saves${a}`,value:JSON.stringify(o)}).then(c=>{if(c.data.code===0)ze.info(`${a}`),window.pubsub.publish("toaster",{show:!0,text:""});else throw new Error(c.data.message)}).catch(c=>{ze.error(`${a}: ${c.message}`),n[`${$.gameKey}-saves${a}`]=o});r.push(s)}}await Promise.all(r).finally(()=>{window.pubsub.publish("loading",{loading:!1})});const i=Object.values(n).length;i>0&&$a({title:"",content:`${i}, ?`,leftText:"",rightText:"",leftFunc:()=>{},rightFunc:()=>{uV(n)}})}async function Zd(t,e,r=!0){const n=[],i={};if(r&&window.pubsub.publish("loading",{loading:!0}),e){const o=Mi.post("/editor/game/file_save",{userId:Q1(),gId:$.gameId,fileType:1,key:t,value:JSON.stringify(e)}).then(s=>{if(s.data.code===0)ze.info(`${t}`);else throw new Error(s.data.message)}).catch(s=>{ze.error(`${t}: ${s.message}`),i[t]=e});n.push(o)}await Promise.all(n).finally(()=>{r&&window.pubsub.publish("loading",{loading:!1})}),Object.values(i).length&&$a({title:"",content:`${i.length}, ?`,leftText:"",rightText:"",leftFunc:()=>{},rightFunc:()=>{uV(i)}})}async function uV(t,e){const n=Object.keys(t).map(i=>{const a=t[i];return a?Mi.post("/editor/game/file_save",{userId:Q1(),gId:$.gameId,fileType:1,key:i,value:JSON.stringify(a)}).then(o=>{if(o.data.code===0)ze.info(`${i}`);else throw new Error(o.data.message)}).catch(o=>{ze.error(`${i}: ${o.message}`)}):Promise.resolve()});await Promise.all(n)}async function VO(t,e){if(ze.info(`${t}-${e}`),$.gameId)await Al(2);else for(let r=t;r<=e;r++){const n=await js.getItem(`${$.gameKey}-saves${r}`);ue.dispatch(lr.saveGame({index:r,saveData:n})),ze.info(`${r}`)}}async function Al(t){if(!(t===1&&Date.now()-DB<3e3)&&!(t===2&&Date.now()-UB<3e3)){t===2?(window.pubsub.publish("loading",{loading:!0}),UB=Date.now()):DB=Date.now(),console.trace(1111);try{const e=await Mi.post("/editor/game/file_list",{userId:Q1(),page:1,pageSize:30,fileType:t,gId:$.gameId}),r=e.data.data;if(e.data.code===0){const n=r.data;for(const i of n){const a=JSON.parse(i.value);i.key===`${$.gameKey}-saves-fast`?ue.dispatch(lr.setFastSave(a)):new RegExp(`${$.gameKey}-saves[0-9]+`).test(i.key)?ue.dispatch(lr.saveGame({index:Number(i.key.replace(`${$.gameKey}-saves`,"")),saveData:a})):i.key===`${$.gameKey}-storyline`?ue.dispatch(lr.setStorylineListFromStorage(a.data)):i.key===`${$.gameKey}-unlock-affinity`?ue.dispatch(lr.updateAffinityData(a.data)):i.key===`${$.gameKey}-unlock-achieve`?ue.dispatch(lr.setUnlockAchieveData(a.data)):i.key===$.gameKey&&ue.dispatch(d1(a))}}else throw console.error(e.data.message),new Error(e.data.message)}catch(e){console.error(e),$a({title:"",content:e.message,leftText:"",rightText:"",leftFunc:()=>{},rightFunc:()=>{Al(t)}})}finally{window.pubsub.publish("loading",{loading:!1})}}}async function l1e(){const t=ue.getState().saveData.quickSaveData;$.gameId?await Zd(`${$.gameKey}-saves-fast`,t):(await js.setItem(`${$.gameKey}-saves-fast`,t),ze.info(""))}async function u1e(){if(ze.info(""),$.gameId)await Al(1);else{const t=await js.getItem(`${$.gameKey}-saves-fast`);ue.dispatch(lr.setFastSave(t))}}async function cV(){const t=ue.getState().saveData.unlockStorylineList;$.gameId?await Zd(`${$.gameKey}-storyline`,{data:t}):(await js.setItem(`${$.gameKey}-storyline`,{data:t}),ze.info(" >> "))}async function HO(){if($.gameId)await Al(1);else{ze.info("");const t=await js.getItem(`${$.gameKey}-storyline`);ue.dispatch(lr.setStorylineListFromStorage((t==null?void 0:t.data)??[]))}}async function c1e(){const t=ue.getState().saveData.unlockAffinityData;$.gameId?await Zd(`${$.gameKey}-unlock-affinity`,{data:t}):(await js.setItem(`${$.gameKey}-unlock-affinity`,{data:t}),ze.info(" >> "))}async function fV(){if(ze.info(""),$.gameId)await Al(1);else{const t=await js.getItem(`${$.gameKey}-unlock-affinity`);ue.dispatch(lr.updateAffinityData((t==null?void 0:t.data)??[])),ze.info(" >> ")}}async function hV(){const t=ue.getState().saveData.unlockAchieveData;$.gameId?await Zd(`${$.gameKey}-unlock-achieve`,{data:t}):(await js.setItem(`${$.gameKey}-unlock-achieve`,{data:t}),ze.info(" >>> "))}async function f1e(){if(ze.info(""),$.gameId)await Al(1);else{const t=await js.getItem(`${$.gameKey}-unlock-achieve`);ue.dispatch(lr.setUnlockAchieveData((t==null?void 0:t.data)||[])),ze.info(" >>> ")}}const mi=pV(()=>{const t=ue.getState().userData;$.gameId?Zd($.gameKey,t):qd.setItem($.gameKey,t).then(()=>{ze.info("")})},100),dV=pV(()=>{let t;const e=r=>{if(r&&r.token&&delete r.token,!r||!gV(r)){ze.warn(""),mi();return}ue.dispatch(d1(r))};$.gameId?Al(1).then(()=>{t=ue.getState().userData,e(t)}):t=qd.getItem($.gameKey).then(r=>{e(r)})},100);function pV(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const vV=()=>{const t=e=>{if(e&&e.token&&delete e.token,!e){mi();return}ue.dispatch(d1(e)),ze.info("")};mV().then(async()=>{if($.gameId){await Al(1);const e=ue.getState().userData;t(e)}else{let e=qd.getItem($.gameKey);t(e)}})};function gV(t){let e=!0;for(const r in ZT)t.hasOwnProperty(r)||(e=!1);return e}async function mV(){const t=ue.getState().userData;return $.gameId?await Zd($.gameKey,t):await qd.setItem($.gameKey,t)}async function h1e(){let t;if($.gameId?(await Al(1),t=ue.getState().userData):t=await qd.getItem($.gameKey),!t||!gV(t))return ze.warn(""),await mV();ue.dispatch(d1(t))}function d1e(t,e){return typeof t!="number"&&(t=0),typeof e!="number"&&(t=0),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t-1))+t+1}const p1e=t=>{let e=!1,r=null,n=null,i=!1,a=0;t.args.forEach(s=>{s.key==="global"?e=!0:s.key==="minValue"?r=s.value:s.key==="maxValue"?n=s.value:s.key==="random"&&(i=s.value)}),i&&r!==null&&n!==null&&(a=d1e(r,n));let o;if(e?o=Zde:o=IG,t.content.match(/=/)){const s=t.content.split(/=/)[0],c=t.content.split(/=/)[1];if(c==="random()"){const l=i?a:Math.random();ue.dispatch(o({key:s,value:l})),ue.dispatch(Kf({key:s,value:l}))}else if(c.match(/[+\-*\/()]/)&&!i){const u=c.split(/([+\-*\/()])/g).map(p=>p.match(/[a-zA-Z]/)?zO(p).toString():p).reduce((p,d)=>p+d,"");let h=X7(u)();typeof h=="number"&&(typeof r=="number"&&h<r&&(h=r),typeof n=="number"&&h>n&&(h=n)),ue.dispatch(o({key:s,value:h})),ue.dispatch(Kf({key:s,value:h}))}else c.match(/true|false/)&&!i?(c.match(/true/)&&(ue.dispatch(o({key:s,value:!0})),ue.dispatch(Kf({key:s,value:!0}))),c.match(/false/)&&(ue.dispatch(o({key:s,value:!1})),ue.dispatch(Kf({key:s,value:!1})))):isNaN(Number(c))?(ue.dispatch(o({key:s,value:i?a:c})),ue.dispatch(Kf({key:s,value:i?a:c}))):(ue.dispatch(o({key:s,value:i?a:Number(c)})),ue.dispatch(Kf({key:s,value:i?a:Number(c)})));e?(ze.debug("",{key:s,value:ue.getState().userData.globalGameVar[s]}),vV()):ze.debug("",{key:s,value:ue.getState().stage.GameVar[s]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function zO(t){let e=0;return ue.getState().stage.GameVar.hasOwnProperty(t)?e=ue.getState().stage.GameVar[t]:ue.getState().userData.globalGameVar.hasOwnProperty(t)&&(e=ue.getState().userData.globalGameVar[t]),e}function v1e(t){return X7(t)()}const cA=t=>{if(t===void 0)return!0;const e=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g);if(e.every(n=>n.length)){const n=e.map(i=>i.match(/[a-zA-Z]/)?i.match(/true/)||i.match(/false/)?i:zO(i).toString():i).reduce((i,a)=>i+a,"");return!!v1e(n)}return!0},_V=()=>{if($.sceneManager.sceneData.currentScene.sceneName,$.sceneManager.sceneData.currentSentenceId>$.sceneManager.sceneData.currentScene.sentenceList.length-1){if($.sceneManager.sceneData.sceneStack.length!==0){const l=$.sceneManager.sceneData.sceneStack.pop();l!==void 0&&Iye(l)}return}const t=$.sceneManager.sceneData.currentScene.sentenceList[$.sceneManager.sceneData.currentSentenceId],e=l=>{let u=l,f;if(window.isSafari){const h=u.match(/\{.*?\}/g);h?f=h.filter((p,d)=>{const g=u.indexOf(p,d?u.indexOf(h[d-1])+h[d-1].length:0);return g===0||u[g-1]!=="\\"}):f=null}else f=u.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return f!==null&&f.forEach(h=>{const p=zO(window.isSafari?h.slice(1,-1):h.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));u=u.replace(h,p?p.toString():h)}),u=u.replace(/\\{/g,"{").replace(/\\}/g,"}"),u};(()=>{t.content=e((t==null?void 0:t.content)??""),t.args.forEach(l=>{l.value&&typeof l.value=="string"&&(l.value=e(l.value))})})();let n=!0,i=!1,a="";if(t.args.forEach(l=>{l.key==="when"&&(i=!0,a=l.value.toString())}),i&&(n=cA(a)),!n){ze.warn(""),$.sceneManager.sceneData.currentSentenceId++,ti();return}I1(t);let o=!1;t.args.forEach(l=>{l.key==="next"&&l.value&&(o=!0)});let s=t.command===Dt.say;t.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(s=!1)});let c;if(o){$.sceneManager.sceneData.currentSentenceId++,_V();return}setTimeout(()=>{c=ue.getState().stage;const l={currentStageState:c,globalGameVar:ue.getState().userData.globalGameVar};ze.debug("",l),s&&$.backlogManager.saveCurrentStateToBacklog()},0),$.sceneManager.sceneData.currentSentenceId++},ti=()=>{$.events.userInteractNext.emit();const t=ue.getState().GUI;if(t.showTitle&&!t.showStoryLine&&!t.showAchievement){ze.warn("");return}let e=!1;if($.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&(i.performName.startsWith("videoPlay")?!$.gameplay.isFast&&!$.gameplay.isSyncingWithOrigine&&(e=!0):e=!0)}),e){ze.warn("next ");return}let r=!0;if($.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=ue.getState().stage,a=yn(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);ze.warn(""),ue.dispatch(hd(a)),_V();return}ze.debug("");let n=!1;for(let i=0;i<$.gameplay.performController.performList.length;i++){const a=$.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),$.gameplay.performController.performList.splice(i,1),i--))}n&&ti()};var g1e="__lodash_hash_undefined__";function m1e(t){return this.__data__.set(t,g1e),this}var _1e=m1e;function y1e(t){return this.__data__.has(t)}var x1e=y1e,b1e=YP,w1e=_1e,E1e=x1e;function ax(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new b1e;++e<r;)this.add(t[e])}ax.prototype.add=ax.prototype.push=w1e;ax.prototype.has=E1e;var yV=ax;function S1e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var C1e=S1e;function T1e(t){return t!==t}var A1e=T1e;function I1e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var R1e=I1e,P1e=C1e,O1e=A1e,k1e=R1e;function F1e(t,e,r){return e===e?k1e(t,e,r):P1e(t,O1e,r)}var N1e=F1e,M1e=N1e;function L1e(t,e){var r=t==null?0:t.length;return!!r&&M1e(t,e,0)>-1}var B1e=L1e;function D1e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var U1e=D1e;function j1e(t,e){return t.has(e)}var xV=j1e;function $1e(){}var G1e=$1e;function V1e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var XO=V1e,xS=wG,H1e=G1e,z1e=XO,X1e=1/0,W1e=xS&&1/z1e(new xS([,-0]))[1]==X1e?function(t){return new xS(t)}:H1e,Y1e=W1e,q1e=yV,K1e=B1e,Z1e=U1e,J1e=xV,Q1e=Y1e,ebe=XO,tbe=200;function rbe(t,e,r){var n=-1,i=K1e,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=Z1e;else if(a>=tbe){var l=e?null:Q1e(t);if(l)return ebe(l);o=!1,i=J1e,c=new q1e}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var nbe=rbe,ibe=nbe;function abe(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?ibe(t,void 0,e):[]}var obe=abe;const pg=Ki(obe),Jd=t=>{for(const e of t)$.sceneManager.settledScenes.includes(e)?ze.warn(`${e}`):(ze.info(`${e}`),Aa(e).then(r=>{const n=e.split("./game/scene/")[1];ju(r,n||"",e)}))},sbe=(t,e)=>{$.sceneManager.lockSceneWrite||($.sceneManager.lockSceneWrite=!0,$.sceneManager.sceneData.sceneStack.push({sceneName:$.sceneManager.sceneData.currentScene.sceneName,sceneUrl:$.sceneManager.sceneData.currentScene.sceneUrl,continueLine:$.sceneManager.sceneData.currentSentenceId}),Aa(t).then(r=>{$.sceneManager.sceneData.currentScene=ju(r,e,t),$.sceneManager.sceneData.currentSentenceId=0;const n=$.sceneManager.sceneData.currentScene.subSceneList;$.sceneManager.settledScenes.push(t);const i=pg(n);Jd(i),ze.debug("",$.sceneManager.sceneData),$.sceneManager.lockSceneWrite=!1,ti()}).catch(r=>{ze.error("",r),$.sceneManager.lockSceneWrite=!1}))},lbe=t=>{const e=t.content.split("/"),r=e[e.length-1];return sbe(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function ff(t,e,r){let n;const a=ue.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...J1,alpha:0,duration:0};n.unshift(o)}return n}function bV(t,e){const r=$.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function a(o){if(r){const s=r.pixiContainer,c=$.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha<1&&(s.alpha+=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function wV(t,e){const r=$.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function a(o){if(r){const s=r.pixiContainer,c=$.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha>0&&(s.alpha-=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function EV(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var ube=function(){},jB=function(){};const fA=(t,e,r)=>Math.min(Math.max(r,t),e),bS=.001,cbe=.01,$B=10,fbe=.05,hbe=1;function dbe({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;ube(t<=$B*1e3);let o=1-e;o=fA(fbe,hbe,o),t=fA(cbe,$B,t/1e3),o<1?(i=l=>{const u=l*o,f=u*t,h=u-r,p=hA(l,o),d=Math.exp(-f);return bS-h/p*d},a=l=>{const f=l*o*t,h=f*r+r,p=Math.pow(o,2)*Math.pow(l,2)*t,d=Math.exp(-f),g=hA(Math.pow(l,2),o);return(-i(l)+bS>0?-1:1)*((h-p)*d)/g}):(i=l=>{const u=Math.exp(-l*t),f=(l-r)*t+1;return-bS+u*f},a=l=>{const u=Math.exp(-l*t),f=(r-l)*(t*t);return u*f});const s=5/t,c=vbe(i,a,s);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const pbe=12;function vbe(t,e,r){let n=r;for(let i=1;i<pbe;i++)n=n-t(n)/e(n);return n}function hA(t,e){return t*Math.sqrt(1-e*e)}const gbe=["duration","bounce"],mbe=["stiffness","damping","mass"];function GB(t,e){return e.some(r=>t[r]!==void 0)}function _be(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!GB(t,mbe)&&GB(t,gbe)){const r=dbe(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function WO(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=EV(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:h}=_be(a),p=VB,d=VB;function g(){const m=u?-(u/1e3):0,v=r-e,_=c/(2*Math.sqrt(s*l)),y=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),_<1){const b=hA(y,_);p=w=>{const E=Math.exp(-_*y*w);return r-E*((m+_*y*v)/b*Math.sin(b*w)+v*Math.cos(b*w))},d=w=>{const E=Math.exp(-_*y*w);return _*y*E*(Math.sin(b*w)*(m+_*y*v)/b+v*Math.cos(b*w))-E*(Math.cos(b*w)*(m+_*y*v)-b*v*Math.sin(b*w))}}else if(_===1)p=b=>r-Math.exp(-y*b)*(v+(m+y*v)*b);else{const b=y*Math.sqrt(_*_-1);p=w=>{const E=Math.exp(-_*y*w),C=Math.min(b*w,300);return r-E*((m+_*y*v)*Math.sinh(C)+b*v*Math.cosh(C))/b}}}return g(),{next:m=>{const v=p(m);if(h)o.done=m>=f;else{const _=d(m)*1e3,y=Math.abs(_)<=n,b=Math.abs(r-v)<=i;o.done=y&&b}return o.value=o.done?r:v,o},flipTarget:()=>{u=-u,[e,r]=[r,e],g()}}}WO.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const VB=t=>0,SV=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},YO=(t,e,r)=>-r*t+r*e+t,CV=(t,e)=>r=>Math.max(Math.min(r,e),t),Dp=t=>t%1?Number(t.toFixed(5)):t,ox=/(-)?([\d]*\.?[\d])+/g,dA=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ybe=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function vg(t){return typeof t=="string"}const eb={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},TV=Object.assign(Object.assign({},eb),{transform:CV(0,1)});Object.assign(Object.assign({},eb),{default:1});const xbe=t=>({test:e=>vg(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Up=xbe("%");Object.assign(Object.assign({},Up),{parse:t=>Up.parse(t)/100,transform:t=>Up.transform(t*100)});const qO=(t,e)=>r=>!!(vg(r)&&ybe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),AV=(t,e,r)=>n=>{if(!vg(n))return n;const[i,a,o,s]=n.match(ox);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},Uc={test:qO("hsl","hue"),parse:AV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Up.transform(Dp(e))+", "+Up.transform(Dp(r))+", "+Dp(TV.transform(n))+")"},bbe=CV(0,255),wS=Object.assign(Object.assign({},eb),{transform:t=>Math.round(bbe(t))}),su={test:qO("rgb","red"),parse:AV("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+wS.transform(t)+", "+wS.transform(e)+", "+wS.transform(r)+", "+Dp(TV.transform(n))+")"};function wbe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const pA={test:qO("#"),parse:wbe,transform:su.transform},tb={test:t=>su.test(t)||pA.test(t)||Uc.test(t),parse:t=>su.test(t)?su.parse(t):Uc.test(t)?Uc.parse(t):pA.parse(t),transform:t=>vg(t)?t:t.hasOwnProperty("red")?su.transform(t):Uc.transform(t)},IV="${c}",RV="${n}";function Ebe(t){var e,r,n,i;return isNaN(t)&&vg(t)&&((r=(e=t.match(ox))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(dA))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function PV(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(dA);n&&(r=n.length,t=t.replace(dA,IV),e.push(...n.map(tb.parse)));const i=t.match(ox);return i&&(t=t.replace(ox,RV),e.push(...i.map(eb.parse))),{values:e,numColors:r,tokenised:t}}function OV(t){return PV(t).values}function kV(t){const{values:e,numColors:r,tokenised:n}=PV(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?IV:RV,s<r?tb.transform(a[s]):Dp(a[s]));return o}}const Sbe=t=>typeof t=="number"?0:t;function Cbe(t){const e=OV(t);return kV(t)(e.map(Sbe))}const FV={test:Ebe,parse:OV,createTransformer:kV,getAnimatableNone:Cbe};function ES(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function HB({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;i=ES(c,s,t+1/3),a=ES(c,s,t),o=ES(c,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const Tbe=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},Abe=[pA,su,Uc],zB=t=>Abe.find(e=>e.test(t)),NV=(t,e)=>{let r=zB(t),n=zB(e),i=r.parse(t),a=n.parse(e);r===Uc&&(i=HB(i),r=su),n===Uc&&(a=HB(a),n=su);const o=Object.assign({},i);return s=>{for(const c in o)c!=="alpha"&&(o[c]=Tbe(i[c],a[c],s));return o.alpha=YO(i.alpha,a.alpha,s),r.transform(o)}},Ibe=t=>typeof t=="number",Rbe=(t,e)=>r=>e(t(r)),MV=(...t)=>t.reduce(Rbe);function LV(t,e){return Ibe(t)?r=>YO(t,e,r):tb.test(t)?NV(t,e):DV(t,e)}const BV=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>LV(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},Pbe=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=LV(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function XB(t){const e=FV.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const DV=(t,e)=>{const r=FV.createTransformer(e),n=XB(t),i=XB(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?MV(BV(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},Obe=(t,e)=>r=>YO(t,e,r);function kbe(t){if(typeof t=="number")return Obe;if(typeof t=="string")return tb.test(t)?NV:DV;if(Array.isArray(t))return BV;if(typeof t=="object")return Pbe}function Fbe(t,e,r){const n=[],i=r||kbe(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;s=MV(c,s)}n.push(s)}return n}function Nbe([t,e],[r]){return n=>r(SV(t,e,n))}function Mbe(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let c=1;for(;c<r&&!(t[c]>i||c===n);c++);a=c-1}const s=SV(t[a],t[a+1],i);return e[a](s)}}function UV(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;jB(a===e.length),jB(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=Fbe(e,n,i),s=a===2?Nbe(t,o):Mbe(t,o);return r?c=>s(fA(t[0],t[a-1],c)):s}const Lbe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Bbe=t=>e=>Math.pow(e,t),Dbe=t=>e=>e*e*((t+1)*e-t),Ube=t=>{const e=Dbe(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},jbe=1.525,$be=Bbe(2),Gbe=Lbe($be);Ube(jbe);function Vbe(t,e){return t.map(()=>e||Gbe).splice(0,t.length-1)}function Hbe(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function zbe(t,e){return t.map(r=>r*e)}function Q_({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=zbe(n&&n.length===o.length?n:Hbe(o),i);function c(){return UV(s,o,{ease:Array.isArray(r)?r:Vbe(o,r)})}let l=c();return{next:u=>(a.value=l(u),a.done=u>=i,a),flipTarget:()=>{o.reverse(),l=c()}}}function Xbe({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const c=e+s,l=a===void 0?c:a(c);return l!==c&&(s=l-e),{next:u=>{const f=-s*Math.exp(-u/n);return o.done=!(f>i||f<-i),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}const WB={keyframes:Q_,spring:WO,decay:Xbe};function Wbe(t){if(Array.isArray(t.to))return Q_;if(WB[t.type])return WB[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Q_:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?WO:Q_}const jV=1/60*1e3,Ybe=typeof performance<"u"?()=>performance.now():()=>Date.now(),$V=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(Ybe()),jV);function qbe(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(c,l=!1,u=!1)=>{const f=u&&i,h=f?e:r;return l&&o.add(c),h.indexOf(c)===-1&&(h.push(c),f&&i&&(n=e.length)),c},cancel:c=>{const l=r.indexOf(c);l!==-1&&r.splice(l,1),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const u=e[l];u(c),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(c))}};return s}const Kbe=40;let vA=!0,bv=!1,gA=!1;const jp={delta:0,timestamp:0},gg=["read","update","preRender","render","postRender"],rb=gg.reduce((t,e)=>(t[e]=qbe(()=>bv=!0),t),{}),Zbe=gg.reduce((t,e)=>{const r=rb[e];return t[e]=(n,i=!1,a=!1)=>(bv||ewe(),r.schedule(n,i,a)),t},{}),Jbe=gg.reduce((t,e)=>(t[e]=rb[e].cancel,t),{});gg.reduce((t,e)=>(t[e]=()=>rb[e].process(jp),t),{});const Qbe=t=>rb[t].process(jp),GV=t=>{bv=!1,jp.delta=vA?jV:Math.max(Math.min(t-jp.timestamp,Kbe),1),jp.timestamp=t,gA=!0,gg.forEach(Qbe),gA=!1,bv&&(vA=!1,$V(GV))},ewe=()=>{bv=!0,vA=!0,gA||$V(GV)},twe=Zbe;function VV(t,e,r=0){return t-e-r}function rwe(t,e,r=0,n=!0){return n?VV(e+-t,e,r):e-(t-e)+r}function nwe(t,e,r,n){return n?t>=e+r:t<=-r}const iwe=t=>{const e=({delta:r})=>t(r);return{start:()=>twe.update(e,!0),stop:()=>Jbe.update(e)}};function awe(t){var e,r,{from:n,autoplay:i=!0,driver:a=iwe,elapsed:o=0,repeat:s=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:f,onComplete:h,onRepeat:p,onUpdate:d}=t,g=EV(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:m}=g,v,_=0,y=g.duration,b,w=!1,E=!0,C;const T=Wbe(g);!((r=(e=T).needsInterpolation)===null||r===void 0)&&r.call(e,n,m)&&(C=UV([0,100],[n,m],{clamp:!1}),n=0,m=100);const A=T(Object.assign(Object.assign({},g),{from:n,to:m}));function I(){_++,c==="reverse"?(E=_%2===0,o=rwe(o,y,l,E)):(o=VV(o,y,l),c==="mirror"&&A.flipTarget()),w=!1,p&&p()}function O(){v.stop(),h&&h()}function P(F){if(E||(F=-F),o+=F,!w){const B=A.next(Math.max(0,o));b=B.value,C&&(b=C(b)),w=E?B.done:o<=0}d==null||d(b),w&&(_===0&&(y??(y=o)),_<s?nwe(o,y,l,E)&&I():O())}function k(){u==null||u(),v=a(P),v.start()}return i&&k(),{stop:()=>{f==null||f(),v.stop()}}}function owe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var swe=owe,lwe=yV,uwe=swe,cwe=xV,fwe=1,hwe=2;function dwe(t,e,r,n,i,a){var o=r&fwe,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var f=-1,h=!0,p=r&hwe?new lwe:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var d=t[f],g=e[f];if(n)var m=o?n(g,d,f,e,t,a):n(d,g,f,t,e,a);if(m!==void 0){if(m)continue;h=!1;break}if(p){if(!uwe(e,function(v,_){if(!cwe(p,_)&&(d===v||i(d,v,r,n,a)))return p.push(_)})){h=!1;break}}else if(!(d===g||i(d,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var HV=dwe;function pwe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var vwe=pwe,YB=cg,qB=SG,gwe=XP,mwe=HV,_we=vwe,ywe=XO,xwe=1,bwe=2,wwe="[object Boolean]",Ewe="[object Date]",Swe="[object Error]",Cwe="[object Map]",Twe="[object Number]",Awe="[object RegExp]",Iwe="[object Set]",Rwe="[object String]",Pwe="[object Symbol]",Owe="[object ArrayBuffer]",kwe="[object DataView]",KB=YB?YB.prototype:void 0,SS=KB?KB.valueOf:void 0;function Fwe(t,e,r,n,i,a,o){switch(r){case kwe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Owe:return!(t.byteLength!=e.byteLength||!a(new qB(t),new qB(e)));case wwe:case Ewe:case Twe:return gwe(+t,+e);case Swe:return t.name==e.name&&t.message==e.message;case Awe:case Rwe:return t==e+"";case Cwe:var s=_we;case Iwe:var c=n&xwe;if(s||(s=ywe),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=bwe,o.set(t,e);var u=mwe(s(t),s(e),n,i,a,o);return o.delete(t),u;case Pwe:if(SS)return SS.call(t)==SS.call(e)}return!1}var Nwe=Fwe,ZB=xG,Mwe=1,Lwe=Object.prototype,Bwe=Lwe.hasOwnProperty;function Dwe(t,e,r,n,i,a){var o=r&Mwe,s=ZB(t),c=s.length,l=ZB(e),u=l.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in e:Bwe.call(e,h)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var g=!0;a.set(t,e),a.set(e,t);for(var m=o;++f<c;){h=s[f];var v=t[h],_=e[h];if(n)var y=o?n(_,v,h,e,t,a):n(v,_,h,t,e,a);if(!(y===void 0?v===_||i(v,_,r,n,a):y)){g=!1;break}m||(m=h=="constructor")}if(g&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var Uwe=Dwe,CS=qP,jwe=HV,$we=Nwe,Gwe=Uwe,JB=l1,QB=Tl,eD=ZP,Vwe=fG,Hwe=1,tD="[object Arguments]",rD="[object Array]",$m="[object Object]",zwe=Object.prototype,nD=zwe.hasOwnProperty;function Xwe(t,e,r,n,i,a){var o=QB(t),s=QB(e),c=o?rD:JB(t),l=s?rD:JB(e);c=c==tD?$m:c,l=l==tD?$m:l;var u=c==$m,f=l==$m,h=c==l;if(h&&eD(t)){if(!eD(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new CS),o||Vwe(t)?jwe(t,e,r,n,i,a):$we(t,e,c,r,n,i,a);if(!(r&Hwe)){var p=u&&nD.call(t,"__wrapped__"),d=f&&nD.call(e,"__wrapped__");if(p||d){var g=p?t.value():t,m=d?e.value():e;return a||(a=new CS),i(g,m,r,n,a)}}return h?(a||(a=new CS),Gwe(t,e,r,n,i,a)):!1}var Wwe=Xwe,Ywe=Wwe,iD=Sf;function zV(t,e,r,n,i){return t===e?!0:t==null||e==null||!iD(t)&&!iD(e)?t!==t&&e!==e:Ywe(t,e,r,n,zV,i)}var XV=zV,qwe=qP,Kwe=XV,Zwe=1,Jwe=2;function Qwe(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var f=new qwe;if(n)var h=n(l,u,c,t,e,f);if(!(h===void 0?Kwe(u,l,Zwe|Jwe,n,f):h))return!1}}return!0}var eEe=Qwe,tEe=Ds;function rEe(t){return t===t&&!tEe(t)}var WV=rEe,nEe=WV,iEe=s1;function aEe(t){for(var e=iEe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,nEe(i)]}return e}var oEe=aEe;function sEe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var YV=sEe,lEe=eEe,uEe=oEe,cEe=YV;function fEe(t){var e=uEe(t);return e.length==1&&e[0][2]?cEe(e[0][0],e[0][1]):function(r){return r===t||lEe(r,t,e)}}var hEe=fEe,dEe=fg,pEe=Sf,vEe="[object Symbol]";function gEe(t){return typeof t=="symbol"||pEe(t)&&dEe(t)==vEe}var nb=gEe,mEe=Tl,_Ee=nb,yEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xEe=/^\w*$/;function bEe(t,e){if(mEe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||_Ee(t)?!0:xEe.test(t)||!yEe.test(t)||e!=null&&t in Object(e)}var KO=bEe,qV=YP,wEe="Expected a function";function ZO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(wEe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(ZO.Cache||qV),r}ZO.Cache=qV;var EEe=ZO,SEe=EEe,CEe=500;function TEe(t){var e=SEe(t,function(n){return r.size===CEe&&r.clear(),n}),r=e.cache;return e}var AEe=TEe,IEe=AEe,REe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PEe=/\\(\\)?/g,OEe=IEe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(REe,function(r,n,i,a){e.push(i?a.replace(PEe,"$1"):n||r)}),e}),kEe=OEe;function FEe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var KV=FEe,aD=cg,NEe=KV,MEe=Tl,LEe=nb,BEe=1/0,oD=aD?aD.prototype:void 0,sD=oD?oD.toString:void 0;function ZV(t){if(typeof t=="string")return t;if(MEe(t))return NEe(t,ZV)+"";if(LEe(t))return sD?sD.call(t):"";var e=t+"";return e=="0"&&1/t==-BEe?"-0":e}var DEe=ZV,UEe=DEe;function jEe(t){return t==null?"":UEe(t)}var $Ee=jEe,GEe=Tl,VEe=KO,HEe=kEe,zEe=$Ee;function XEe(t,e){return GEe(t)?t:VEe(t,e)?[t]:HEe(zEe(t))}var ib=XEe,WEe=nb,YEe=1/0;function qEe(t){if(typeof t=="string"||WEe(t))return t;var e=t+"";return e=="0"&&1/t==-YEe?"-0":e}var mg=qEe,KEe=ib,ZEe=mg;function JEe(t,e){e=KEe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[ZEe(e[r++])];return r&&r==n?t:void 0}var JO=JEe,QEe=JO;function eSe(t,e,r){var n=t==null?void 0:QEe(t,e);return n===void 0?r:n}var tSe=eSe;function rSe(t,e){return t!=null&&e in Object(t)}var nSe=rSe,iSe=ib,aSe=cG,oSe=Tl,sSe=JP,lSe=QP,uSe=mg;function cSe(t,e,r){e=iSe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=uSe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&lSe(i)&&sSe(o,i)&&(oSe(t)||aSe(t)))}var fSe=cSe,hSe=nSe,dSe=fSe;function pSe(t,e){return t!=null&&dSe(t,e,hSe)}var vSe=pSe,gSe=XV,mSe=tSe,_Se=vSe,ySe=KO,xSe=WV,bSe=YV,wSe=mg,ESe=1,SSe=2;function CSe(t,e){return ySe(t)&&xSe(e)?bSe(wSe(t),e):function(r){var n=mSe(r,t);return n===void 0&&n===e?_Se(r,t):gSe(e,n,ESe|SSe)}}var TSe=CSe;function ASe(t){return t}var ISe=ASe;function RSe(t){return function(e){return e==null?void 0:e[t]}}var PSe=RSe,OSe=JO;function kSe(t){return function(e){return OSe(e,t)}}var FSe=kSe,NSe=PSe,MSe=FSe,LSe=KO,BSe=mg;function DSe(t){return LSe(t)?NSe(BSe(t)):MSe(t)}var USe=DSe,jSe=hEe,$Se=TSe,GSe=ISe,VSe=Tl,HSe=USe;function zSe(t){return typeof t=="function"?t:t==null?GSe:typeof t=="object"?VSe(t)?$Se(t[0],t[1]):jSe(t):HSe(t)}var JV=zSe,XSe="Expected a function";function WSe(t){if(typeof t!="function")throw new TypeError(XSe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var YSe=WSe,qSe=KP,KSe=ib,ZSe=JP,lD=Ds,JSe=mg;function QSe(t,e,r,n){if(!lD(t))return t;e=KSe(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var c=JSe(e[i]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=o){var u=s[c];l=n?n(u,c,s):void 0,l===void 0&&(l=lD(u)?u:ZSe(e[i+1])?[]:{})}qSe(s,c,l),s=s[c]}return t}var e2e=QSe,t2e=JO,r2e=e2e,n2e=ib;function i2e(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=t2e(t,o);r(s,o)&&r2e(a,n2e(o,t),s)}return a}var a2e=i2e,o2e=KV,s2e=JV,l2e=a2e,u2e=bG;function c2e(t,e){if(t==null)return{};var r=o2e(u2e(t),function(n){return[n]});return e=s2e(e),l2e(t,r,function(n,i){return e(n,i[0])})}var f2e=c2e,h2e=JV,d2e=YSe,p2e=f2e;function v2e(t,e){return p2e(t,d2e(h2e(e)))}var g2e=v2e;const TS=Ki(g2e);function m2e(t){return t===void 0}var _2e=m2e;const Js=Ki(_2e);function QV(t,e,r){const n=$.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const v of t){const _=v.duration;i+=_;const{position:y,scale:b,...w}=v;a.push({x:y.x,y:y.y,scaleX:b.x,scaleY:b.y,...w}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let c=null;r>0&&(c=awe({to:a,offset:o,duration:r,onUpdate:v=>{if(s){const{scaleX:_,scaleY:y,...b}=v;Object.assign(s,TS(b,Js)),Js(_)||(s.scale.x=_),Js(y)||(s.scale.y=y)}}}));const{duration:l,...u}=g();ue.dispatch(qn.updateEffect({target:e,transform:u}));function f(){if(n!=null&&n.pixiContainer){const{position:v,scale:_,...y}=d(),b=TS({x:v.x,y:v.y,...y},Js);Object.assign(n==null?void 0:n.pixiContainer,b),n!=null&&n.pixiContainer&&(Js(_.x)||(n.pixiContainer.scale.x=_.x),Js(_==null?void 0:_.y)||(n.pixiContainer.scale.y=_.y))}}function h(){if(c&&c.stop(),c=null,n!=null&&n.pixiContainer){const{position:v,scale:_,...y}=g(),b=TS({x:v.x,y:v.y,...y},Js);Object.assign(n==null?void 0:n.pixiContainer,b),n!=null&&n.pixiContainer&&(Js(_.x)||(n.pixiContainer.scale.x=_.x),Js(_==null?void 0:_.y)||(n.pixiContainer.scale.y=_.y))}}function p(v){}function d(){return t[0]}function g(){return t[t.length-1]}function m(){const v=t[t.length-1],{alpha:_,rotation:y,blur:b,duration:w,scale:E,position:C,...T}=v;return T}return{setStartState:f,setEndState:h,tickerFunc:p,getEndFilterEffect:m}}function sx(t,e,r){const n=$.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=ue.getState().stage.effects.find(c=>c.target===e),s=yn({...(o==null?void 0:o.transform)??J1,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return ze.debug("",i),QV(i,e,r)}return null}function Pi(t){const e=$.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function La(t,e,r=!1){if(e==="enter"){let n=500;r&&(n=1500);let i=bV(t,n);const a=$.animationManager.nextEnterAnimationName.get(t);return a&&(ze.debug("",t),i=sx(a,t,Pi(a)),n=Pi(a),$.animationManager.nextEnterAnimationName.delete(t)),{duration:n,animation:i}}else{let n=750;r&&(n=1500);let i=wV(t,n);const a=$.animationManager.nextExitAnimationName.get(t);return a&&(ze.debug("",t),i=sx(a,t,Pi(a)),n=Pi(a),$.animationManager.nextExitAnimationName.delete(t)),{duration:n,animation:i}}}const la=()=>Math.random().toString().substring(0,10);class y2e{constructor(){at(this,"performList",[]);at(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};ue.dispatch(qn.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||this.unmountPerform(e.performName)},e.duration),r.args.find(i=>i.key==="continue"&&i.value===!0)&&(e.goNextWhenOver=!0),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),i.goNextWhenOver&&this.goNextWhenOver(),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),i.goNextWhenOver&&this.goNextWhenOver(),this.performList.splice(n,1),n--)}}erasePerformFromState(e){ue.dispatch(qn.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){var r;let e=!1;(r=this.performList)==null||r.forEach(n=>{n.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):ti()}}const x2e=t=>{const e=t.content,r=ue.dispatch;if(ue.getState().GUI.showStoryLine)return r(Lt({key:"storyLineBg",value:e})),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(Lt({key:"storyLineBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(Lt({key:"storyLineBgY",value:f.value}))}),{performName:la(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};if(ue.getState().GUI.showAchievement)return r(Pde(e)),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(Lt({key:"achieveBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(Lt({key:"achieveBgY",value:f.value}))}),{performName:la(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let n="",i="default",a=0,o=0;t.args.forEach(f=>{switch(f.key){case"unlockname":n=f.value.toString();break;case"series":i=f.value.toString();break;case"x":a=Number((f==null?void 0:f.value)??0);break;case"y":o=Number((f==null?void 0:f.value)??0);break}}),n!==""&&r(MG({name:n,url:e,series:i})),r(qn.removeEffectByTargetId("bg-main"));const s=Yt(t,"transform");let c=Yt(t,"duration");(!c||typeof c!="number")&&(c=1e3);let l;if(s)try{const f=JSON.parse(s.toString());l=ff("bg-main",f,c),l[0].alpha=0;const h=(Math.random()*10).toString(16),p={name:h,effects:l};$.animationManager.addAnimation(p),c=Pi(h),$.animationManager.nextEnterAnimationName.set("bg-main",h)}catch{u()}else u();function u(){l=ff("bg-main",{},c),l[0].alpha=0;const h=(Math.random()*10).toString(16),p={name:h,effects:l};$.animationManager.addAnimation(p),c=Pi(h),$.animationManager.nextEnterAnimationName.set("bg-main",h)}return Yt(t,"enter")&&($.animationManager.nextEnterAnimationName.set("bg-main",Yt(t,"enter").toString()),c=Pi(Yt(t,"enter").toString())),Yt(t,"exit")&&($.animationManager.nextExitAnimationName.set("bg-main-off",Yt(t,"exit").toString()),c=Pi(Yt(t,"exit").toString())),a&&r(Lt({key:"bgX",value:a})),o&&r(Lt({key:"bgY",value:o})),r(Lt({key:"bgName",value:t.content})),{performName:"changeBg."+la(),duration:c,isHoldOn:!1,skipNextCollect:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function b2e(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",p="";const d=ue.dispatch;for(const w of t.args)switch(w.key){case"left":w.value===!0&&(e="left");break;case"right":w.value===!0&&(e="right");break;case"clear":w.value===!0&&(r="");break;case"id":n=!0,o=w.value.toString();break;case"motion":i=w.value.toString();break;case"expression":a=w.value.toString();break;case"mouthOpen":c=w.value.toString(),c=Pt(c,Tt.figure);break;case"mouthClose":l=w.value.toString(),l=Pt(l,Tt.figure);break;case"mouthHalfOpen":u=w.value.toString(),u=Pt(u,Tt.figure);break;case"eyesOpen":f=w.value.toString(),f=Pt(f,Tt.figure);break;case"eyesClose":h=w.value.toString(),h=Pt(h,Tt.figure);break;case"animationFlag":p=w.value.toString();break;case"none":r="";break}const g=o||`fig-${e}`,v=ue.getState().stage.figureAssociatedAnimation.filter(w=>w.targetId!==g),_={targetId:g,animationFlag:p,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};v.push(_),d(Lt({key:"figureAssociatedAnimation",value:v}));let y=!0;if(o!==""){const w=ue.getState().stage.freeFigure.find(E=>E.key===o);w&&w.name===t.content&&(y=!1)}else e==="center"&&ue.getState().stage.figName===t.content&&(y=!1),e==="left"&&ue.getState().stage.figNameLeft===t.content&&(y=!1),e==="right"&&ue.getState().stage.figNameRight===t.content&&(y=!1);if(y){const w=`fig-${e}`,E=`${o}`;ue.dispatch(qn.removeEffectByTargetId(w)),ue.dispatch(qn.removeEffectByTargetId(E))}const b=(w,E)=>{const C=Yt(E,"transform"),T=Yt(E,"duration");T&&typeof T=="number"&&(s=T);let A;if(C){console.log(C);try{const k=JSON.parse(C.toString());A=ff(w,k,s),A[0].alpha=typeof k.alpha=="number"?0:1;const F=(Math.random()*10).toString(16),B={name:F,effects:A};$.animationManager.addAnimation(B),s=Pi(F),$.animationManager.nextEnterAnimationName.set(w,F)}catch{I()}}else I();function I(){A=ff(w,{},s),A[0].alpha=0;const F=(Math.random()*10).toString(16),B={name:F,effects:A};$.animationManager.addAnimation(B),s=Pi(F),$.animationManager.nextEnterAnimationName.set(w,F)}const O=Yt(E,"enter"),P=Yt(E,"exit");O&&($.animationManager.nextEnterAnimationName.set(w,O.toString()),s=Pi(O.toString())),P&&($.animationManager.nextExitAnimationName.set(w+"-off",P.toString()),s=Pi(P.toString()))};if(n){ue.getState().stage.freeFigure;const w={key:o,name:r,basePosition:e};b(o,t),i&&d(qn.setLive2dMotion({target:o,motion:i})),a&&d(qn.setLive2dExpression({target:o,expression:a})),d(qn.setFreeFigureByKey(w))}else{const w={center:"fig-center",left:"fig-left",right:"fig-right"},E={center:"figName",left:"figNameLeft",right:"figNameRight"};o=w[e],b(o,t),i&&d(qn.setLive2dMotion({target:o,motion:i})),a&&d(qn.setLive2dExpression({target:o,expression:a})),d(Lt({key:E[e],value:r}))}return{performName:"changeFigure."+la(),duration:s,isHoldOn:!1,skipNextCollect:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const eH=(t,e)=>{var r;$.sceneManager.lockSceneWrite||($.sceneManager.lockSceneWrite=!0,(r=window==null?void 0:window.pubsub)==null||r.publish("loading",{loading:!0}),Aa(t).then(async n=>{var a;const i=await $.sceneManager.setCurrentScene(n,e,t,!0);if((a=window==null?void 0:window.pubsub)==null||a.publish("loading",{loading:!1}),i){$.sceneManager.sceneData.currentSentenceId=0;const o=[];$.sceneManager.sceneData.currentScene.assetsList.forEach(l=>{(l.url.endsWith(".mp4")||l.url.endsWith(".flv"))&&o.push(l.url)}),$.videoManager.destroyExcept(o);const s=$.sceneManager.sceneData.currentScene.subSceneList;$.sceneManager.settledScenes.push(t);const c=pg(s);Jd(c),ze.debug("",$.sceneManager.sceneData),$.sceneManager.lockSceneWrite=!1,ti()}}).catch(n=>{ze.error("",n),$.sceneManager.lockSceneWrite=!1}))},w2e=t=>{const e=t.content.split("/"),r=e[e.length-1];return eH(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},tH=t=>{const e=$.sceneManager.sceneData.currentSentenceId;let r=e;$.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===Dt.label&&n.content===t&&i!==e&&(r=i)}),$.sceneManager.sceneData.currentSentenceId=r,setTimeout(ti,1)},E2e="_Choose_Main_wn0n1_1",S2e="_Choose_item_wn0n1_15",C2e="_Choose_item_image_wn0n1_37",T2e="_Choose_item_countdown_wn0n1_52",A2e="_Choose_item_countdown_disabled_wn0n1_59",I2e="_Choose_item_progress_bar_wn0n1_66",R2e="_Choose_item_disabled_wn0n1_75",cc={Choose_Main:E2e,Choose_item:S2e,Choose_item_image:C2e,Choose_item_countdown:T2e,Choose_item_countdown_disabled:A2e,Choose_item_progress_bar:I2e,Choose_item_disabled:R2e},P2e=""+new URL("progress-bar-bg.png",import.meta.url).href,O2e=""+new URL("progress-bar.png",import.meta.url).href,k2e=()=>Mi.post("/game/chapter_sales_is_buy",{gId:$.gameId}).then(t=>{let e=ue.getState().storeData.paymentConfigurationList;return t.data.code===0&&(e=t.data.data),ue.dispatch(jG(e)),e}).catch(t=>(console.error(t),[])),F2e=()=>Mi.post("/editor/game/detail",{gId:$.gameId}).then(t=>t.data).catch(t=>(console.error(t),{code:-999,data:null,message:""})),rH=t=>Mi.post("/game/buy_chapter",{gId:$.gameId,productId:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""})),nH=()=>Mi.post("/game/buy",{gId:$.gameId}).then(t=>(t.data.code===0&&QO(),t.data)).catch(t=>(console.error(t),{code:-999,data:!1,message:""})),lx=t=>Mi.post("/game/product_id_is_buy",{gId:$.gameId,productId:t}).then(e=>{if(e.data.code===0){const r=[...ue.getState().storeData.paymentConfigurationList],n=r.findIndex(i=>i.product_id===t);if(n>-1){const i={...r[n]};i.is_buy=e.data.data,r[n]=i,ue.dispatch(jG(r))}}return e.data}).catch(e=>(console.error(e),{code:-999,data:!1,message:""})),QO=()=>Mi.get("/game/get_game_info?gId="+$.gameId).then(t=>(t.data.code===0&&ue.dispatch(n0e(t.data.data)),t.data)).catch(t=>(console.error(t),{code:-999,data:null,message:""})),N2e=()=>Mi.post("/user/recharge_config_list",{is_show:1}).then(t=>t.data).catch(t=>(console.error(t),{code:-999,data:null,message:""})),M2e=t=>Mi.post("/user/recharge",{recharge_id:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""})),L2e=t=>Mi.post("/user/recharge_status",{order_no:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""}));var ux={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ux.exports;(function(t,e){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",f=1,h=2,p=4,d=1,g=2,m=1,v=2,_=4,y=8,b=16,w=32,E=64,C=128,T=256,A=512,I=30,O="...",P=800,k=16,F=1,B=2,D=3,z=1/0,ee=9007199254740991,te=17976931348623157e292,Y=0/0,U=4294967295,X=U-1,j=U>>>1,G=[["ary",C],["bind",m],["bindKey",v],["curry",y],["curryRight",b],["flip",A],["partial",w],["partialRight",E],["rearg",T]],ne="[object Arguments]",ae="[object Array]",pe="[object AsyncFunction]",se="[object Boolean]",_e="[object Date]",Me="[object DOMException]",Pe="[object Error]",Ee="[object Function]",Se="[object GeneratorFunction]",Ge="[object Map]",Ye="[object Number]",Ve="[object Null]",Xe="[object Object]",Ke="[object Promise]",wt="[object Proxy]",Rt="[object RegExp]",ht="[object Set]",gt="[object String]",It="[object Symbol]",vr="[object Undefined]",tr="[object WeakMap]",gr="[object WeakSet]",Kt="[object ArrayBuffer]",Et="[object DataView]",ur="[object Float32Array]",ke="[object Float64Array]",V="[object Int8Array]",ve="[object Int16Array]",Te="[object Int32Array]",Fe="[object Uint8Array]",oe="[object Uint8ClampedArray]",Ie="[object Uint16Array]",W="[object Uint32Array]",Ue=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Re=/&(?:amp|lt|gt|quot|#39);/g,Oe=/[&<>"']/g,q=RegExp(Re.source),ce=RegExp(Oe.source),Ce=/<%-([\s\S]+?)%>/g,dt=/<%([\s\S]+?)%>/g,Qe=/<%=([\s\S]+?)%>/g,lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ft=/^\w*$/,$n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ar=/[\\^$.*+?()[\]{}|]/g,St=RegExp(ar.source),Ar=/^\s+/,un=/\s/,ni=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rl=/\{\n\/\* \[wrapped with (.+)\] \*/,Pl=/,? & /,cn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zi=/[()=,{}\[\]\/\s]/,Gn=/\\(\\)?/g,za=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,da=/\w*$/,kf=/^[-+]0x[0-9a-f]+$/i,Zb=/^0b[01]+$/i,Jb=/^\[object .+?Constructor\]$/,Qb=/^0o[0-7]+$/i,ew=/^(?:0|[1-9]\d*)$/,tw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ff=/($^)/,Mg=/['\n\r\u2028\u2029\\]/g,us="\\ud800-\\udfff",Lg="\\u0300-\\u036f",Ol="\\ufe20-\\ufe2f",rw="\\u20d0-\\u20ff",ec=Lg+Ol+rw,Nf="\\u2700-\\u27bf",Bg="a-z\\xdf-\\xf6\\xf8-\\xff",nw="\\xac\\xb1\\xd7\\xf7",p0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",iw="\\u2000-\\u206f",aw=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",J="A-Z\\xc0-\\xd6\\xd8-\\xde",fe="\\ufe0e\\ufe0f",ie=nw+p0+iw+aw,me="[']",we="["+us+"]",ge="["+ie+"]",De="["+ec+"]",We="\\d+",Ze="["+Nf+"]",Je="["+Bg+"]",tt="[^"+us+ie+We+Nf+Bg+J+"]",_t="\\ud83c[\\udffb-\\udfff]",rr="(?:"+De+"|"+_t+")",Ir="[^"+us+"]",Rr="(?:\\ud83c[\\udde6-\\uddff]){2}",fn="[\\ud800-\\udbff][\\udc00-\\udfff]",Hr="["+J+"]",pa="\\u200d",kl="(?:"+Je+"|"+tt+")",v0="(?:"+Hr+"|"+tt+")",Dg="(?:"+me+"(?:d|ll|m|re|s|t|ve))?",Mf="(?:"+me+"(?:D|LL|M|RE|S|T|VE))?",ow=rr+"?",Ug="["+fe+"]?",sw="(?:"+pa+"(?:"+[Ir,Rr,fn].join("|")+")"+Ug+ow+")*",jg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fq="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",P4=Ug+ow+sw,hq="(?:"+[Ze,Rr,fn].join("|")+")"+P4,dq="(?:"+[Ir+De+"?",De,Rr,fn,we].join("|")+")",pq=RegExp(me,"g"),vq=RegExp(De,"g"),lw=RegExp(_t+"(?="+_t+")|"+dq+P4,"g"),gq=RegExp([Hr+"?"+Je+"+"+Dg+"(?="+[ge,Hr,"$"].join("|")+")",v0+"+"+Mf+"(?="+[ge,Hr+kl,"$"].join("|")+")",Hr+"?"+kl+"+"+Dg,Hr+"+"+Mf,fq,jg,We,hq].join("|"),"g"),mq=RegExp("["+pa+us+ec+fe+"]"),_q=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yq=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xq=-1,rn={};rn[ur]=rn[ke]=rn[V]=rn[ve]=rn[Te]=rn[Fe]=rn[oe]=rn[Ie]=rn[W]=!0,rn[ne]=rn[ae]=rn[Kt]=rn[se]=rn[Et]=rn[_e]=rn[Pe]=rn[Ee]=rn[Ge]=rn[Ye]=rn[Xe]=rn[Rt]=rn[ht]=rn[gt]=rn[tr]=!1;var Jr={};Jr[ne]=Jr[ae]=Jr[Kt]=Jr[Et]=Jr[se]=Jr[_e]=Jr[ur]=Jr[ke]=Jr[V]=Jr[ve]=Jr[Te]=Jr[Ge]=Jr[Ye]=Jr[Xe]=Jr[Rt]=Jr[ht]=Jr[gt]=Jr[It]=Jr[Fe]=Jr[oe]=Jr[Ie]=Jr[W]=!0,Jr[Pe]=Jr[Ee]=Jr[tr]=!1;var bq={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},wq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Eq={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sq={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cq=parseFloat,Tq=parseInt,O4=typeof Ct=="object"&&Ct&&Ct.Object===Object&&Ct,Aq=typeof self=="object"&&self&&self.Object===Object&&self,Di=O4||Aq||Function("return this")(),uw=e&&!e.nodeType&&e,tc=uw&&!0&&t&&!t.nodeType&&t,k4=tc&&tc.exports===uw,cw=k4&&O4.process,uo=function(){try{var ye=tc&&tc.require&&tc.require("util").types;return ye||cw&&cw.binding&&cw.binding("util")}catch{}}(),F4=uo&&uo.isArrayBuffer,N4=uo&&uo.isDate,M4=uo&&uo.isMap,L4=uo&&uo.isRegExp,B4=uo&&uo.isSet,D4=uo&&uo.isTypedArray;function Xa(ye,Be,Ne){switch(Ne.length){case 0:return ye.call(Be);case 1:return ye.call(Be,Ne[0]);case 2:return ye.call(Be,Ne[0],Ne[1]);case 3:return ye.call(Be,Ne[0],Ne[1],Ne[2])}return ye.apply(Be,Ne)}function Iq(ye,Be,Ne,vt){for(var Ht=-1,Fr=ye==null?0:ye.length;++Ht<Fr;){var di=ye[Ht];Be(vt,di,Ne(di),ye)}return vt}function co(ye,Be){for(var Ne=-1,vt=ye==null?0:ye.length;++Ne<vt&&Be(ye[Ne],Ne,ye)!==!1;);return ye}function Rq(ye,Be){for(var Ne=ye==null?0:ye.length;Ne--&&Be(ye[Ne],Ne,ye)!==!1;);return ye}function U4(ye,Be){for(var Ne=-1,vt=ye==null?0:ye.length;++Ne<vt;)if(!Be(ye[Ne],Ne,ye))return!1;return!0}function Fl(ye,Be){for(var Ne=-1,vt=ye==null?0:ye.length,Ht=0,Fr=[];++Ne<vt;){var di=ye[Ne];Be(di,Ne,ye)&&(Fr[Ht++]=di)}return Fr}function $g(ye,Be){var Ne=ye==null?0:ye.length;return!!Ne&&Lf(ye,Be,0)>-1}function fw(ye,Be,Ne){for(var vt=-1,Ht=ye==null?0:ye.length;++vt<Ht;)if(Ne(Be,ye[vt]))return!0;return!1}function hn(ye,Be){for(var Ne=-1,vt=ye==null?0:ye.length,Ht=Array(vt);++Ne<vt;)Ht[Ne]=Be(ye[Ne],Ne,ye);return Ht}function Nl(ye,Be){for(var Ne=-1,vt=Be.length,Ht=ye.length;++Ne<vt;)ye[Ht+Ne]=Be[Ne];return ye}function hw(ye,Be,Ne,vt){var Ht=-1,Fr=ye==null?0:ye.length;for(vt&&Fr&&(Ne=ye[++Ht]);++Ht<Fr;)Ne=Be(Ne,ye[Ht],Ht,ye);return Ne}function Pq(ye,Be,Ne,vt){var Ht=ye==null?0:ye.length;for(vt&&Ht&&(Ne=ye[--Ht]);Ht--;)Ne=Be(Ne,ye[Ht],Ht,ye);return Ne}function dw(ye,Be){for(var Ne=-1,vt=ye==null?0:ye.length;++Ne<vt;)if(Be(ye[Ne],Ne,ye))return!0;return!1}var Oq=pw("length");function kq(ye){return ye.split("")}function Fq(ye){return ye.match(cn)||[]}function j4(ye,Be,Ne){var vt;return Ne(ye,function(Ht,Fr,di){if(Be(Ht,Fr,di))return vt=Fr,!1}),vt}function Gg(ye,Be,Ne,vt){for(var Ht=ye.length,Fr=Ne+(vt?1:-1);vt?Fr--:++Fr<Ht;)if(Be(ye[Fr],Fr,ye))return Fr;return-1}function Lf(ye,Be,Ne){return Be===Be?zq(ye,Be,Ne):Gg(ye,$4,Ne)}function Nq(ye,Be,Ne,vt){for(var Ht=Ne-1,Fr=ye.length;++Ht<Fr;)if(vt(ye[Ht],Be))return Ht;return-1}function $4(ye){return ye!==ye}function G4(ye,Be){var Ne=ye==null?0:ye.length;return Ne?gw(ye,Be)/Ne:Y}function pw(ye){return function(Be){return Be==null?r:Be[ye]}}function vw(ye){return function(Be){return ye==null?r:ye[Be]}}function V4(ye,Be,Ne,vt,Ht){return Ht(ye,function(Fr,di,Yr){Ne=vt?(vt=!1,Fr):Be(Ne,Fr,di,Yr)}),Ne}function Mq(ye,Be){var Ne=ye.length;for(ye.sort(Be);Ne--;)ye[Ne]=ye[Ne].value;return ye}function gw(ye,Be){for(var Ne,vt=-1,Ht=ye.length;++vt<Ht;){var Fr=Be(ye[vt]);Fr!==r&&(Ne=Ne===r?Fr:Ne+Fr)}return Ne}function mw(ye,Be){for(var Ne=-1,vt=Array(ye);++Ne<ye;)vt[Ne]=Be(Ne);return vt}function Lq(ye,Be){return hn(Be,function(Ne){return[Ne,ye[Ne]]})}function H4(ye){return ye&&ye.slice(0,Y4(ye)+1).replace(Ar,"")}function Wa(ye){return function(Be){return ye(Be)}}function _w(ye,Be){return hn(Be,function(Ne){return ye[Ne]})}function g0(ye,Be){return ye.has(Be)}function z4(ye,Be){for(var Ne=-1,vt=ye.length;++Ne<vt&&Lf(Be,ye[Ne],0)>-1;);return Ne}function X4(ye,Be){for(var Ne=ye.length;Ne--&&Lf(Be,ye[Ne],0)>-1;);return Ne}function Bq(ye,Be){for(var Ne=ye.length,vt=0;Ne--;)ye[Ne]===Be&&++vt;return vt}var Dq=vw(bq),Uq=vw(wq);function jq(ye){return"\\"+Sq[ye]}function $q(ye,Be){return ye==null?r:ye[Be]}function Bf(ye){return mq.test(ye)}function Gq(ye){return _q.test(ye)}function Vq(ye){for(var Be,Ne=[];!(Be=ye.next()).done;)Ne.push(Be.value);return Ne}function yw(ye){var Be=-1,Ne=Array(ye.size);return ye.forEach(function(vt,Ht){Ne[++Be]=[Ht,vt]}),Ne}function W4(ye,Be){return function(Ne){return ye(Be(Ne))}}function Ml(ye,Be){for(var Ne=-1,vt=ye.length,Ht=0,Fr=[];++Ne<vt;){var di=ye[Ne];(di===Be||di===u)&&(ye[Ne]=u,Fr[Ht++]=Ne)}return Fr}function Vg(ye){var Be=-1,Ne=Array(ye.size);return ye.forEach(function(vt){Ne[++Be]=vt}),Ne}function Hq(ye){var Be=-1,Ne=Array(ye.size);return ye.forEach(function(vt){Ne[++Be]=[vt,vt]}),Ne}function zq(ye,Be,Ne){for(var vt=Ne-1,Ht=ye.length;++vt<Ht;)if(ye[vt]===Be)return vt;return-1}function Xq(ye,Be,Ne){for(var vt=Ne+1;vt--;)if(ye[vt]===Be)return vt;return vt}function Df(ye){return Bf(ye)?Yq(ye):Oq(ye)}function Oo(ye){return Bf(ye)?qq(ye):kq(ye)}function Y4(ye){for(var Be=ye.length;Be--&&un.test(ye.charAt(Be)););return Be}var Wq=vw(Eq);function Yq(ye){for(var Be=lw.lastIndex=0;lw.test(ye);)++Be;return Be}function qq(ye){return ye.match(lw)||[]}function Kq(ye){return ye.match(gq)||[]}var Zq=function ye(Be){Be=Be==null?Di:Uf.defaults(Di.Object(),Be,Uf.pick(Di,yq));var Ne=Be.Array,vt=Be.Date,Ht=Be.Error,Fr=Be.Function,di=Be.Math,Yr=Be.Object,xw=Be.RegExp,Jq=Be.String,fo=Be.TypeError,Hg=Ne.prototype,Qq=Fr.prototype,jf=Yr.prototype,zg=Be["__core-js_shared__"],Xg=Qq.toString,$r=jf.hasOwnProperty,eK=0,q4=function(){var x=/[^.]+$/.exec(zg&&zg.keys&&zg.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Wg=jf.toString,tK=Xg.call(Yr),rK=Di._,nK=xw("^"+Xg.call($r).replace(ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yg=k4?Be.Buffer:r,Ll=Be.Symbol,qg=Be.Uint8Array,K4=Yg?Yg.allocUnsafe:r,Kg=W4(Yr.getPrototypeOf,Yr),Z4=Yr.create,J4=jf.propertyIsEnumerable,Zg=Hg.splice,Q4=Ll?Ll.isConcatSpreadable:r,m0=Ll?Ll.iterator:r,rc=Ll?Ll.toStringTag:r,Jg=function(){try{var x=sc(Yr,"defineProperty");return x({},"",{}),x}catch{}}(),iK=Be.clearTimeout!==Di.clearTimeout&&Be.clearTimeout,aK=vt&&vt.now!==Di.Date.now&&vt.now,oK=Be.setTimeout!==Di.setTimeout&&Be.setTimeout,Qg=di.ceil,em=di.floor,bw=Yr.getOwnPropertySymbols,sK=Yg?Yg.isBuffer:r,eF=Be.isFinite,lK=Hg.join,uK=W4(Yr.keys,Yr),pi=di.max,Ji=di.min,cK=vt.now,fK=Be.parseInt,tF=di.random,hK=Hg.reverse,ww=sc(Be,"DataView"),_0=sc(Be,"Map"),Ew=sc(Be,"Promise"),$f=sc(Be,"Set"),y0=sc(Be,"WeakMap"),x0=sc(Yr,"create"),tm=y0&&new y0,Gf={},dK=lc(ww),pK=lc(_0),vK=lc(Ew),gK=lc($f),mK=lc(y0),rm=Ll?Ll.prototype:r,b0=rm?rm.valueOf:r,rF=rm?rm.toString:r;function K(x){if(kn(x)&&!zt(x)&&!(x instanceof xr)){if(x instanceof ho)return x;if($r.call(x,"__wrapped__"))return nN(x)}return new ho(x)}var Vf=function(){function x(){}return function(S){if(!En(S))return{};if(Z4)return Z4(S);x.prototype=S;var R=new x;return x.prototype=r,R}}();function nm(){}function ho(x,S){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=r}K.templateSettings={escape:Ce,evaluate:dt,interpolate:Qe,variable:"",imports:{_:K}},K.prototype=nm.prototype,K.prototype.constructor=K,ho.prototype=Vf(nm.prototype),ho.prototype.constructor=ho;function xr(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function _K(){var x=new xr(this.__wrapped__);return x.__actions__=Ia(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=Ia(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=Ia(this.__views__),x}function yK(){if(this.__filtered__){var x=new xr(this);x.__dir__=-1,x.__filtered__=!0}else x=this.clone(),x.__dir__*=-1;return x}function xK(){var x=this.__wrapped__.value(),S=this.__dir__,R=zt(x),L=S<0,H=R?x.length:0,Q=kZ(0,H,this.__views__),le=Q.start,de=Q.end,be=de-le,je=L?de:le-1,$e=this.__iteratees__,He=$e.length,ut=0,bt=Ji(be,this.__takeCount__);if(!R||!L&&H==be&&bt==be)return TF(x,this.__actions__);var Nt=[];e:for(;be--&&ut<bt;){je+=S;for(var nr=-1,Mt=x[je];++nr<He;){var mr=$e[nr],Sr=mr.iteratee,Ka=mr.type,ma=Sr(Mt);if(Ka==B)Mt=ma;else if(!ma){if(Ka==F)continue e;break e}}Nt[ut++]=Mt}return Nt}xr.prototype=Vf(nm.prototype),xr.prototype.constructor=xr;function nc(x){var S=-1,R=x==null?0:x.length;for(this.clear();++S<R;){var L=x[S];this.set(L[0],L[1])}}function bK(){this.__data__=x0?x0(null):{},this.size=0}function wK(x){var S=this.has(x)&&delete this.__data__[x];return this.size-=S?1:0,S}function EK(x){var S=this.__data__;if(x0){var R=S[x];return R===c?r:R}return $r.call(S,x)?S[x]:r}function SK(x){var S=this.__data__;return x0?S[x]!==r:$r.call(S,x)}function CK(x,S){var R=this.__data__;return this.size+=this.has(x)?0:1,R[x]=x0&&S===r?c:S,this}nc.prototype.clear=bK,nc.prototype.delete=wK,nc.prototype.get=EK,nc.prototype.has=SK,nc.prototype.set=CK;function Vs(x){var S=-1,R=x==null?0:x.length;for(this.clear();++S<R;){var L=x[S];this.set(L[0],L[1])}}function TK(){this.__data__=[],this.size=0}function AK(x){var S=this.__data__,R=im(S,x);if(R<0)return!1;var L=S.length-1;return R==L?S.pop():Zg.call(S,R,1),--this.size,!0}function IK(x){var S=this.__data__,R=im(S,x);return R<0?r:S[R][1]}function RK(x){return im(this.__data__,x)>-1}function PK(x,S){var R=this.__data__,L=im(R,x);return L<0?(++this.size,R.push([x,S])):R[L][1]=S,this}Vs.prototype.clear=TK,Vs.prototype.delete=AK,Vs.prototype.get=IK,Vs.prototype.has=RK,Vs.prototype.set=PK;function Hs(x){var S=-1,R=x==null?0:x.length;for(this.clear();++S<R;){var L=x[S];this.set(L[0],L[1])}}function OK(){this.size=0,this.__data__={hash:new nc,map:new(_0||Vs),string:new nc}}function kK(x){var S=gm(this,x).delete(x);return this.size-=S?1:0,S}function FK(x){return gm(this,x).get(x)}function NK(x){return gm(this,x).has(x)}function MK(x,S){var R=gm(this,x),L=R.size;return R.set(x,S),this.size+=R.size==L?0:1,this}Hs.prototype.clear=OK,Hs.prototype.delete=kK,Hs.prototype.get=FK,Hs.prototype.has=NK,Hs.prototype.set=MK;function ic(x){var S=-1,R=x==null?0:x.length;for(this.__data__=new Hs;++S<R;)this.add(x[S])}function LK(x){return this.__data__.set(x,c),this}function BK(x){return this.__data__.has(x)}ic.prototype.add=ic.prototype.push=LK,ic.prototype.has=BK;function ko(x){var S=this.__data__=new Vs(x);this.size=S.size}function DK(){this.__data__=new Vs,this.size=0}function UK(x){var S=this.__data__,R=S.delete(x);return this.size=S.size,R}function jK(x){return this.__data__.get(x)}function $K(x){return this.__data__.has(x)}function GK(x,S){var R=this.__data__;if(R instanceof Vs){var L=R.__data__;if(!_0||L.length<i-1)return L.push([x,S]),this.size=++R.size,this;R=this.__data__=new Hs(L)}return R.set(x,S),this.size=R.size,this}ko.prototype.clear=DK,ko.prototype.delete=UK,ko.prototype.get=jK,ko.prototype.has=$K,ko.prototype.set=GK;function nF(x,S){var R=zt(x),L=!R&&uc(x),H=!R&&!L&&$l(x),Q=!R&&!L&&!H&&Wf(x),le=R||L||H||Q,de=le?mw(x.length,Jq):[],be=de.length;for(var je in x)(S||$r.call(x,je))&&!(le&&(je=="length"||H&&(je=="offset"||je=="parent")||Q&&(je=="buffer"||je=="byteLength"||je=="byteOffset")||Ys(je,be)))&&de.push(je);return de}function iF(x){var S=x.length;return S?x[Nw(0,S-1)]:r}function VK(x,S){return mm(Ia(x),ac(S,0,x.length))}function HK(x){return mm(Ia(x))}function Sw(x,S,R){(R!==r&&!Fo(x[S],R)||R===r&&!(S in x))&&zs(x,S,R)}function w0(x,S,R){var L=x[S];(!($r.call(x,S)&&Fo(L,R))||R===r&&!(S in x))&&zs(x,S,R)}function im(x,S){for(var R=x.length;R--;)if(Fo(x[R][0],S))return R;return-1}function zK(x,S,R,L){return Bl(x,function(H,Q,le){S(L,H,R(H),le)}),L}function aF(x,S){return x&&fs(S,Ei(S),x)}function XK(x,S){return x&&fs(S,Pa(S),x)}function zs(x,S,R){S=="__proto__"&&Jg?Jg(x,S,{configurable:!0,enumerable:!0,value:R,writable:!0}):x[S]=R}function Cw(x,S){for(var R=-1,L=S.length,H=Ne(L),Q=x==null;++R<L;)H[R]=Q?r:aE(x,S[R]);return H}function ac(x,S,R){return x===x&&(R!==r&&(x=x<=R?x:R),S!==r&&(x=x>=S?x:S)),x}function po(x,S,R,L,H,Q){var le,de=S&f,be=S&h,je=S&p;if(R&&(le=H?R(x,L,H,Q):R(x)),le!==r)return le;if(!En(x))return x;var $e=zt(x);if($e){if(le=NZ(x),!de)return Ia(x,le)}else{var He=Qi(x),ut=He==Ee||He==Se;if($l(x))return RF(x,de);if(He==Xe||He==ne||ut&&!H){if(le=be||ut?{}:YF(x),!de)return be?EZ(x,XK(le,x)):wZ(x,aF(le,x))}else{if(!Jr[He])return H?x:{};le=MZ(x,He,de)}}Q||(Q=new ko);var bt=Q.get(x);if(bt)return bt;Q.set(x,le),EN(x)?x.forEach(function(Mt){le.add(po(Mt,S,R,Mt,x,Q))}):bN(x)&&x.forEach(function(Mt,mr){le.set(mr,po(Mt,S,R,mr,x,Q))});var Nt=je?be?zw:Hw:be?Pa:Ei,nr=$e?r:Nt(x);return co(nr||x,function(Mt,mr){nr&&(mr=Mt,Mt=x[mr]),w0(le,mr,po(Mt,S,R,mr,x,Q))}),le}function WK(x){var S=Ei(x);return function(R){return oF(R,x,S)}}function oF(x,S,R){var L=R.length;if(x==null)return!L;for(x=Yr(x);L--;){var H=R[L],Q=S[H],le=x[H];if(le===r&&!(H in x)||!Q(le))return!1}return!0}function sF(x,S,R){if(typeof x!="function")throw new fo(o);return R0(function(){x.apply(r,R)},S)}function E0(x,S,R,L){var H=-1,Q=$g,le=!0,de=x.length,be=[],je=S.length;if(!de)return be;R&&(S=hn(S,Wa(R))),L?(Q=fw,le=!1):S.length>=i&&(Q=g0,le=!1,S=new ic(S));e:for(;++H<de;){var $e=x[H],He=R==null?$e:R($e);if($e=L||$e!==0?$e:0,le&&He===He){for(var ut=je;ut--;)if(S[ut]===He)continue e;be.push($e)}else Q(S,He,L)||be.push($e)}return be}var Bl=NF(cs),lF=NF(Aw,!0);function YK(x,S){var R=!0;return Bl(x,function(L,H,Q){return R=!!S(L,H,Q),R}),R}function am(x,S,R){for(var L=-1,H=x.length;++L<H;){var Q=x[L],le=S(Q);if(le!=null&&(de===r?le===le&&!qa(le):R(le,de)))var de=le,be=Q}return be}function qK(x,S,R,L){var H=x.length;for(R=Zt(R),R<0&&(R=-R>H?0:H+R),L=L===r||L>H?H:Zt(L),L<0&&(L+=H),L=R>L?0:CN(L);R<L;)x[R++]=S;return x}function uF(x,S){var R=[];return Bl(x,function(L,H,Q){S(L,H,Q)&&R.push(L)}),R}function Ui(x,S,R,L,H){var Q=-1,le=x.length;for(R||(R=BZ),H||(H=[]);++Q<le;){var de=x[Q];S>0&&R(de)?S>1?Ui(de,S-1,R,L,H):Nl(H,de):L||(H[H.length]=de)}return H}var Tw=MF(),cF=MF(!0);function cs(x,S){return x&&Tw(x,S,Ei)}function Aw(x,S){return x&&cF(x,S,Ei)}function om(x,S){return Fl(S,function(R){return qs(x[R])})}function oc(x,S){S=Ul(S,x);for(var R=0,L=S.length;x!=null&&R<L;)x=x[hs(S[R++])];return R&&R==L?x:r}function fF(x,S,R){var L=S(x);return zt(x)?L:Nl(L,R(x))}function va(x){return x==null?x===r?vr:Ve:rc&&rc in Yr(x)?OZ(x):HZ(x)}function Iw(x,S){return x>S}function KK(x,S){return x!=null&&$r.call(x,S)}function ZK(x,S){return x!=null&&S in Yr(x)}function JK(x,S,R){return x>=Ji(S,R)&&x<pi(S,R)}function Rw(x,S,R){for(var L=R?fw:$g,H=x[0].length,Q=x.length,le=Q,de=Ne(Q),be=1/0,je=[];le--;){var $e=x[le];le&&S&&($e=hn($e,Wa(S))),be=Ji($e.length,be),de[le]=!R&&(S||H>=120&&$e.length>=120)?new ic(le&&$e):r}$e=x[0];var He=-1,ut=de[0];e:for(;++He<H&&je.length<be;){var bt=$e[He],Nt=S?S(bt):bt;if(bt=R||bt!==0?bt:0,!(ut?g0(ut,Nt):L(je,Nt,R))){for(le=Q;--le;){var nr=de[le];if(!(nr?g0(nr,Nt):L(x[le],Nt,R)))continue e}ut&&ut.push(Nt),je.push(bt)}}return je}function QK(x,S,R,L){return cs(x,function(H,Q,le){S(L,R(H),Q,le)}),L}function S0(x,S,R){S=Ul(S,x),x=JF(x,S);var L=x==null?x:x[hs(go(S))];return L==null?r:Xa(L,x,R)}function hF(x){return kn(x)&&va(x)==ne}function eZ(x){return kn(x)&&va(x)==Kt}function tZ(x){return kn(x)&&va(x)==_e}function C0(x,S,R,L,H){return x===S?!0:x==null||S==null||!kn(x)&&!kn(S)?x!==x&&S!==S:rZ(x,S,R,L,C0,H)}function rZ(x,S,R,L,H,Q){var le=zt(x),de=zt(S),be=le?ae:Qi(x),je=de?ae:Qi(S);be=be==ne?Xe:be,je=je==ne?Xe:je;var $e=be==Xe,He=je==Xe,ut=be==je;if(ut&&$l(x)){if(!$l(S))return!1;le=!0,$e=!1}if(ut&&!$e)return Q||(Q=new ko),le||Wf(x)?zF(x,S,R,L,H,Q):RZ(x,S,be,R,L,H,Q);if(!(R&d)){var bt=$e&&$r.call(x,"__wrapped__"),Nt=He&&$r.call(S,"__wrapped__");if(bt||Nt){var nr=bt?x.value():x,Mt=Nt?S.value():S;return Q||(Q=new ko),H(nr,Mt,R,L,Q)}}return ut?(Q||(Q=new ko),PZ(x,S,R,L,H,Q)):!1}function nZ(x){return kn(x)&&Qi(x)==Ge}function Pw(x,S,R,L){var H=R.length,Q=H,le=!L;if(x==null)return!Q;for(x=Yr(x);H--;){var de=R[H];if(le&&de[2]?de[1]!==x[de[0]]:!(de[0]in x))return!1}for(;++H<Q;){de=R[H];var be=de[0],je=x[be],$e=de[1];if(le&&de[2]){if(je===r&&!(be in x))return!1}else{var He=new ko;if(L)var ut=L(je,$e,be,x,S,He);if(!(ut===r?C0($e,je,d|g,L,He):ut))return!1}}return!0}function dF(x){if(!En(x)||UZ(x))return!1;var S=qs(x)?nK:Jb;return S.test(lc(x))}function iZ(x){return kn(x)&&va(x)==Rt}function aZ(x){return kn(x)&&Qi(x)==ht}function oZ(x){return kn(x)&&Em(x.length)&&!!rn[va(x)]}function pF(x){return typeof x=="function"?x:x==null?Oa:typeof x=="object"?zt(x)?mF(x[0],x[1]):gF(x):LN(x)}function Ow(x){if(!I0(x))return uK(x);var S=[];for(var R in Yr(x))$r.call(x,R)&&R!="constructor"&&S.push(R);return S}function sZ(x){if(!En(x))return VZ(x);var S=I0(x),R=[];for(var L in x)L=="constructor"&&(S||!$r.call(x,L))||R.push(L);return R}function kw(x,S){return x<S}function vF(x,S){var R=-1,L=Ra(x)?Ne(x.length):[];return Bl(x,function(H,Q,le){L[++R]=S(H,Q,le)}),L}function gF(x){var S=Ww(x);return S.length==1&&S[0][2]?KF(S[0][0],S[0][1]):function(R){return R===x||Pw(R,x,S)}}function mF(x,S){return qw(x)&&qF(S)?KF(hs(x),S):function(R){var L=aE(R,x);return L===r&&L===S?oE(R,x):C0(S,L,d|g)}}function sm(x,S,R,L,H){x!==S&&Tw(S,function(Q,le){if(H||(H=new ko),En(Q))lZ(x,S,le,R,sm,L,H);else{var de=L?L(Zw(x,le),Q,le+"",x,S,H):r;de===r&&(de=Q),Sw(x,le,de)}},Pa)}function lZ(x,S,R,L,H,Q,le){var de=Zw(x,R),be=Zw(S,R),je=le.get(be);if(je){Sw(x,R,je);return}var $e=Q?Q(de,be,R+"",x,S,le):r,He=$e===r;if(He){var ut=zt(be),bt=!ut&&$l(be),Nt=!ut&&!bt&&Wf(be);$e=be,ut||bt||Nt?zt(de)?$e=de:Vn(de)?$e=Ia(de):bt?(He=!1,$e=RF(be,!0)):Nt?(He=!1,$e=PF(be,!0)):$e=[]:P0(be)||uc(be)?($e=de,uc(de)?$e=TN(de):(!En(de)||qs(de))&&($e=YF(be))):He=!1}He&&(le.set(be,$e),H($e,be,L,Q,le),le.delete(be)),Sw(x,R,$e)}function _F(x,S){var R=x.length;if(R)return S+=S<0?R:0,Ys(S,R)?x[S]:r}function yF(x,S,R){S.length?S=hn(S,function(Q){return zt(Q)?function(le){return oc(le,Q.length===1?Q[0]:Q)}:Q}):S=[Oa];var L=-1;S=hn(S,Wa(Ot()));var H=vF(x,function(Q,le,de){var be=hn(S,function(je){return je(Q)});return{criteria:be,index:++L,value:Q}});return Mq(H,function(Q,le){return bZ(Q,le,R)})}function uZ(x,S){return xF(x,S,function(R,L){return oE(x,L)})}function xF(x,S,R){for(var L=-1,H=S.length,Q={};++L<H;){var le=S[L],de=oc(x,le);R(de,le)&&T0(Q,Ul(le,x),de)}return Q}function cZ(x){return function(S){return oc(S,x)}}function Fw(x,S,R,L){var H=L?Nq:Lf,Q=-1,le=S.length,de=x;for(x===S&&(S=Ia(S)),R&&(de=hn(x,Wa(R)));++Q<le;)for(var be=0,je=S[Q],$e=R?R(je):je;(be=H(de,$e,be,L))>-1;)de!==x&&Zg.call(de,be,1),Zg.call(x,be,1);return x}function bF(x,S){for(var R=x?S.length:0,L=R-1;R--;){var H=S[R];if(R==L||H!==Q){var Q=H;Ys(H)?Zg.call(x,H,1):Bw(x,H)}}return x}function Nw(x,S){return x+em(tF()*(S-x+1))}function fZ(x,S,R,L){for(var H=-1,Q=pi(Qg((S-x)/(R||1)),0),le=Ne(Q);Q--;)le[L?Q:++H]=x,x+=R;return le}function Mw(x,S){var R="";if(!x||S<1||S>ee)return R;do S%2&&(R+=x),S=em(S/2),S&&(x+=x);while(S);return R}function or(x,S){return Jw(ZF(x,S,Oa),x+"")}function hZ(x){return iF(Yf(x))}function dZ(x,S){var R=Yf(x);return mm(R,ac(S,0,R.length))}function T0(x,S,R,L){if(!En(x))return x;S=Ul(S,x);for(var H=-1,Q=S.length,le=Q-1,de=x;de!=null&&++H<Q;){var be=hs(S[H]),je=R;if(be==="__proto__"||be==="constructor"||be==="prototype")return x;if(H!=le){var $e=de[be];je=L?L($e,be,de):r,je===r&&(je=En($e)?$e:Ys(S[H+1])?[]:{})}w0(de,be,je),de=de[be]}return x}var wF=tm?function(x,S){return tm.set(x,S),x}:Oa,pZ=Jg?function(x,S){return Jg(x,"toString",{configurable:!0,enumerable:!1,value:lE(S),writable:!0})}:Oa;function vZ(x){return mm(Yf(x))}function vo(x,S,R){var L=-1,H=x.length;S<0&&(S=-S>H?0:H+S),R=R>H?H:R,R<0&&(R+=H),H=S>R?0:R-S>>>0,S>>>=0;for(var Q=Ne(H);++L<H;)Q[L]=x[L+S];return Q}function gZ(x,S){var R;return Bl(x,function(L,H,Q){return R=S(L,H,Q),!R}),!!R}function lm(x,S,R){var L=0,H=x==null?L:x.length;if(typeof S=="number"&&S===S&&H<=j){for(;L<H;){var Q=L+H>>>1,le=x[Q];le!==null&&!qa(le)&&(R?le<=S:le<S)?L=Q+1:H=Q}return H}return Lw(x,S,Oa,R)}function Lw(x,S,R,L){var H=0,Q=x==null?0:x.length;if(Q===0)return 0;S=R(S);for(var le=S!==S,de=S===null,be=qa(S),je=S===r;H<Q;){var $e=em((H+Q)/2),He=R(x[$e]),ut=He!==r,bt=He===null,Nt=He===He,nr=qa(He);if(le)var Mt=L||Nt;else je?Mt=Nt&&(L||ut):de?Mt=Nt&&ut&&(L||!bt):be?Mt=Nt&&ut&&!bt&&(L||!nr):bt||nr?Mt=!1:Mt=L?He<=S:He<S;Mt?H=$e+1:Q=$e}return Ji(Q,X)}function EF(x,S){for(var R=-1,L=x.length,H=0,Q=[];++R<L;){var le=x[R],de=S?S(le):le;if(!R||!Fo(de,be)){var be=de;Q[H++]=le===0?0:le}}return Q}function SF(x){return typeof x=="number"?x:qa(x)?Y:+x}function Ya(x){if(typeof x=="string")return x;if(zt(x))return hn(x,Ya)+"";if(qa(x))return rF?rF.call(x):"";var S=x+"";return S=="0"&&1/x==-z?"-0":S}function Dl(x,S,R){var L=-1,H=$g,Q=x.length,le=!0,de=[],be=de;if(R)le=!1,H=fw;else if(Q>=i){var je=S?null:AZ(x);if(je)return Vg(je);le=!1,H=g0,be=new ic}else be=S?[]:de;e:for(;++L<Q;){var $e=x[L],He=S?S($e):$e;if($e=R||$e!==0?$e:0,le&&He===He){for(var ut=be.length;ut--;)if(be[ut]===He)continue e;S&&be.push(He),de.push($e)}else H(be,He,R)||(be!==de&&be.push(He),de.push($e))}return de}function Bw(x,S){return S=Ul(S,x),x=JF(x,S),x==null||delete x[hs(go(S))]}function CF(x,S,R,L){return T0(x,S,R(oc(x,S)),L)}function um(x,S,R,L){for(var H=x.length,Q=L?H:-1;(L?Q--:++Q<H)&&S(x[Q],Q,x););return R?vo(x,L?0:Q,L?Q+1:H):vo(x,L?Q+1:0,L?H:Q)}function TF(x,S){var R=x;return R instanceof xr&&(R=R.value()),hw(S,function(L,H){return H.func.apply(H.thisArg,Nl([L],H.args))},R)}function Dw(x,S,R){var L=x.length;if(L<2)return L?Dl(x[0]):[];for(var H=-1,Q=Ne(L);++H<L;)for(var le=x[H],de=-1;++de<L;)de!=H&&(Q[H]=E0(Q[H]||le,x[de],S,R));return Dl(Ui(Q,1),S,R)}function AF(x,S,R){for(var L=-1,H=x.length,Q=S.length,le={};++L<H;){var de=L<Q?S[L]:r;R(le,x[L],de)}return le}function Uw(x){return Vn(x)?x:[]}function jw(x){return typeof x=="function"?x:Oa}function Ul(x,S){return zt(x)?x:qw(x,S)?[x]:rN(Br(x))}var mZ=or;function jl(x,S,R){var L=x.length;return R=R===r?L:R,!S&&R>=L?x:vo(x,S,R)}var IF=iK||function(x){return Di.clearTimeout(x)};function RF(x,S){if(S)return x.slice();var R=x.length,L=K4?K4(R):new x.constructor(R);return x.copy(L),L}function $w(x){var S=new x.constructor(x.byteLength);return new qg(S).set(new qg(x)),S}function _Z(x,S){var R=S?$w(x.buffer):x.buffer;return new x.constructor(R,x.byteOffset,x.byteLength)}function yZ(x){var S=new x.constructor(x.source,da.exec(x));return S.lastIndex=x.lastIndex,S}function xZ(x){return b0?Yr(b0.call(x)):{}}function PF(x,S){var R=S?$w(x.buffer):x.buffer;return new x.constructor(R,x.byteOffset,x.length)}function OF(x,S){if(x!==S){var R=x!==r,L=x===null,H=x===x,Q=qa(x),le=S!==r,de=S===null,be=S===S,je=qa(S);if(!de&&!je&&!Q&&x>S||Q&&le&&be&&!de&&!je||L&&le&&be||!R&&be||!H)return 1;if(!L&&!Q&&!je&&x<S||je&&R&&H&&!L&&!Q||de&&R&&H||!le&&H||!be)return-1}return 0}function bZ(x,S,R){for(var L=-1,H=x.criteria,Q=S.criteria,le=H.length,de=R.length;++L<le;){var be=OF(H[L],Q[L]);if(be){if(L>=de)return be;var je=R[L];return be*(je=="desc"?-1:1)}}return x.index-S.index}function kF(x,S,R,L){for(var H=-1,Q=x.length,le=R.length,de=-1,be=S.length,je=pi(Q-le,0),$e=Ne(be+je),He=!L;++de<be;)$e[de]=S[de];for(;++H<le;)(He||H<Q)&&($e[R[H]]=x[H]);for(;je--;)$e[de++]=x[H++];return $e}function FF(x,S,R,L){for(var H=-1,Q=x.length,le=-1,de=R.length,be=-1,je=S.length,$e=pi(Q-de,0),He=Ne($e+je),ut=!L;++H<$e;)He[H]=x[H];for(var bt=H;++be<je;)He[bt+be]=S[be];for(;++le<de;)(ut||H<Q)&&(He[bt+R[le]]=x[H++]);return He}function Ia(x,S){var R=-1,L=x.length;for(S||(S=Ne(L));++R<L;)S[R]=x[R];return S}function fs(x,S,R,L){var H=!R;R||(R={});for(var Q=-1,le=S.length;++Q<le;){var de=S[Q],be=L?L(R[de],x[de],de,R,x):r;be===r&&(be=x[de]),H?zs(R,de,be):w0(R,de,be)}return R}function wZ(x,S){return fs(x,Yw(x),S)}function EZ(x,S){return fs(x,XF(x),S)}function cm(x,S){return function(R,L){var H=zt(R)?Iq:zK,Q=S?S():{};return H(R,x,Ot(L,2),Q)}}function Hf(x){return or(function(S,R){var L=-1,H=R.length,Q=H>1?R[H-1]:r,le=H>2?R[2]:r;for(Q=x.length>3&&typeof Q=="function"?(H--,Q):r,le&&ga(R[0],R[1],le)&&(Q=H<3?r:Q,H=1),S=Yr(S);++L<H;){var de=R[L];de&&x(S,de,L,Q)}return S})}function NF(x,S){return function(R,L){if(R==null)return R;if(!Ra(R))return x(R,L);for(var H=R.length,Q=S?H:-1,le=Yr(R);(S?Q--:++Q<H)&&L(le[Q],Q,le)!==!1;);return R}}function MF(x){return function(S,R,L){for(var H=-1,Q=Yr(S),le=L(S),de=le.length;de--;){var be=le[x?de:++H];if(R(Q[be],be,Q)===!1)break}return S}}function SZ(x,S,R){var L=S&m,H=A0(x);function Q(){var le=this&&this!==Di&&this instanceof Q?H:x;return le.apply(L?R:this,arguments)}return Q}function LF(x){return function(S){S=Br(S);var R=Bf(S)?Oo(S):r,L=R?R[0]:S.charAt(0),H=R?jl(R,1).join(""):S.slice(1);return L[x]()+H}}function zf(x){return function(S){return hw(NN(FN(S).replace(pq,"")),x,"")}}function A0(x){return function(){var S=arguments;switch(S.length){case 0:return new x;case 1:return new x(S[0]);case 2:return new x(S[0],S[1]);case 3:return new x(S[0],S[1],S[2]);case 4:return new x(S[0],S[1],S[2],S[3]);case 5:return new x(S[0],S[1],S[2],S[3],S[4]);case 6:return new x(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new x(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var R=Vf(x.prototype),L=x.apply(R,S);return En(L)?L:R}}function CZ(x,S,R){var L=A0(x);function H(){for(var Q=arguments.length,le=Ne(Q),de=Q,be=Xf(H);de--;)le[de]=arguments[de];var je=Q<3&&le[0]!==be&&le[Q-1]!==be?[]:Ml(le,be);if(Q-=je.length,Q<R)return $F(x,S,fm,H.placeholder,r,le,je,r,r,R-Q);var $e=this&&this!==Di&&this instanceof H?L:x;return Xa($e,this,le)}return H}function BF(x){return function(S,R,L){var H=Yr(S);if(!Ra(S)){var Q=Ot(R,3);S=Ei(S),R=function(de){return Q(H[de],de,H)}}var le=x(S,R,L);return le>-1?H[Q?S[le]:le]:r}}function DF(x){return Ws(function(S){var R=S.length,L=R,H=ho.prototype.thru;for(x&&S.reverse();L--;){var Q=S[L];if(typeof Q!="function")throw new fo(o);if(H&&!le&&vm(Q)=="wrapper")var le=new ho([],!0)}for(L=le?L:R;++L<R;){Q=S[L];var de=vm(Q),be=de=="wrapper"?Xw(Q):r;be&&Kw(be[0])&&be[1]==(C|y|w|T)&&!be[4].length&&be[9]==1?le=le[vm(be[0])].apply(le,be[3]):le=Q.length==1&&Kw(Q)?le[de]():le.thru(Q)}return function(){var je=arguments,$e=je[0];if(le&&je.length==1&&zt($e))return le.plant($e).value();for(var He=0,ut=R?S[He].apply(this,je):$e;++He<R;)ut=S[He].call(this,ut);return ut}})}function fm(x,S,R,L,H,Q,le,de,be,je){var $e=S&C,He=S&m,ut=S&v,bt=S&(y|b),Nt=S&A,nr=ut?r:A0(x);function Mt(){for(var mr=arguments.length,Sr=Ne(mr),Ka=mr;Ka--;)Sr[Ka]=arguments[Ka];if(bt)var ma=Xf(Mt),Za=Bq(Sr,ma);if(L&&(Sr=kF(Sr,L,H,bt)),Q&&(Sr=FF(Sr,Q,le,bt)),mr-=Za,bt&&mr<je){var Hn=Ml(Sr,ma);return $F(x,S,fm,Mt.placeholder,R,Sr,Hn,de,be,je-mr)}var No=He?R:this,Zs=ut?No[x]:x;return mr=Sr.length,de?Sr=zZ(Sr,de):Nt&&mr>1&&Sr.reverse(),$e&&be<mr&&(Sr.length=be),this&&this!==Di&&this instanceof Mt&&(Zs=nr||A0(Zs)),Zs.apply(No,Sr)}return Mt}function UF(x,S){return function(R,L){return QK(R,x,S(L),{})}}function hm(x,S){return function(R,L){var H;if(R===r&&L===r)return S;if(R!==r&&(H=R),L!==r){if(H===r)return L;typeof R=="string"||typeof L=="string"?(R=Ya(R),L=Ya(L)):(R=SF(R),L=SF(L)),H=x(R,L)}return H}}function Gw(x){return Ws(function(S){return S=hn(S,Wa(Ot())),or(function(R){var L=this;return x(S,function(H){return Xa(H,L,R)})})})}function dm(x,S){S=S===r?" ":Ya(S);var R=S.length;if(R<2)return R?Mw(S,x):S;var L=Mw(S,Qg(x/Df(S)));return Bf(S)?jl(Oo(L),0,x).join(""):L.slice(0,x)}function TZ(x,S,R,L){var H=S&m,Q=A0(x);function le(){for(var de=-1,be=arguments.length,je=-1,$e=L.length,He=Ne($e+be),ut=this&&this!==Di&&this instanceof le?Q:x;++je<$e;)He[je]=L[je];for(;be--;)He[je++]=arguments[++de];return Xa(ut,H?R:this,He)}return le}function jF(x){return function(S,R,L){return L&&typeof L!="number"&&ga(S,R,L)&&(R=L=r),S=Ks(S),R===r?(R=S,S=0):R=Ks(R),L=L===r?S<R?1:-1:Ks(L),fZ(S,R,L,x)}}function pm(x){return function(S,R){return typeof S=="string"&&typeof R=="string"||(S=mo(S),R=mo(R)),x(S,R)}}function $F(x,S,R,L,H,Q,le,de,be,je){var $e=S&y,He=$e?le:r,ut=$e?r:le,bt=$e?Q:r,Nt=$e?r:Q;S|=$e?w:E,S&=~($e?E:w),S&_||(S&=~(m|v));var nr=[x,S,H,bt,He,Nt,ut,de,be,je],Mt=R.apply(r,nr);return Kw(x)&&QF(Mt,nr),Mt.placeholder=L,eN(Mt,x,S)}function Vw(x){var S=di[x];return function(R,L){if(R=mo(R),L=L==null?0:Ji(Zt(L),292),L&&eF(R)){var H=(Br(R)+"e").split("e"),Q=S(H[0]+"e"+(+H[1]+L));return H=(Br(Q)+"e").split("e"),+(H[0]+"e"+(+H[1]-L))}return S(R)}}var AZ=$f&&1/Vg(new $f([,-0]))[1]==z?function(x){return new $f(x)}:fE;function GF(x){return function(S){var R=Qi(S);return R==Ge?yw(S):R==ht?Hq(S):Lq(S,x(S))}}function Xs(x,S,R,L,H,Q,le,de){var be=S&v;if(!be&&typeof x!="function")throw new fo(o);var je=L?L.length:0;if(je||(S&=~(w|E),L=H=r),le=le===r?le:pi(Zt(le),0),de=de===r?de:Zt(de),je-=H?H.length:0,S&E){var $e=L,He=H;L=H=r}var ut=be?r:Xw(x),bt=[x,S,R,L,H,$e,He,Q,le,de];if(ut&&GZ(bt,ut),x=bt[0],S=bt[1],R=bt[2],L=bt[3],H=bt[4],de=bt[9]=bt[9]===r?be?0:x.length:pi(bt[9]-je,0),!de&&S&(y|b)&&(S&=~(y|b)),!S||S==m)var Nt=SZ(x,S,R);else S==y||S==b?Nt=CZ(x,S,de):(S==w||S==(m|w))&&!H.length?Nt=TZ(x,S,R,L):Nt=fm.apply(r,bt);var nr=ut?wF:QF;return eN(nr(Nt,bt),x,S)}function VF(x,S,R,L){return x===r||Fo(x,jf[R])&&!$r.call(L,R)?S:x}function HF(x,S,R,L,H,Q){return En(x)&&En(S)&&(Q.set(S,x),sm(x,S,r,HF,Q),Q.delete(S)),x}function IZ(x){return P0(x)?r:x}function zF(x,S,R,L,H,Q){var le=R&d,de=x.length,be=S.length;if(de!=be&&!(le&&be>de))return!1;var je=Q.get(x),$e=Q.get(S);if(je&&$e)return je==S&&$e==x;var He=-1,ut=!0,bt=R&g?new ic:r;for(Q.set(x,S),Q.set(S,x);++He<de;){var Nt=x[He],nr=S[He];if(L)var Mt=le?L(nr,Nt,He,S,x,Q):L(Nt,nr,He,x,S,Q);if(Mt!==r){if(Mt)continue;ut=!1;break}if(bt){if(!dw(S,function(mr,Sr){if(!g0(bt,Sr)&&(Nt===mr||H(Nt,mr,R,L,Q)))return bt.push(Sr)})){ut=!1;break}}else if(!(Nt===nr||H(Nt,nr,R,L,Q))){ut=!1;break}}return Q.delete(x),Q.delete(S),ut}function RZ(x,S,R,L,H,Q,le){switch(R){case Et:if(x.byteLength!=S.byteLength||x.byteOffset!=S.byteOffset)return!1;x=x.buffer,S=S.buffer;case Kt:return!(x.byteLength!=S.byteLength||!Q(new qg(x),new qg(S)));case se:case _e:case Ye:return Fo(+x,+S);case Pe:return x.name==S.name&&x.message==S.message;case Rt:case gt:return x==S+"";case Ge:var de=yw;case ht:var be=L&d;if(de||(de=Vg),x.size!=S.size&&!be)return!1;var je=le.get(x);if(je)return je==S;L|=g,le.set(x,S);var $e=zF(de(x),de(S),L,H,Q,le);return le.delete(x),$e;case It:if(b0)return b0.call(x)==b0.call(S)}return!1}function PZ(x,S,R,L,H,Q){var le=R&d,de=Hw(x),be=de.length,je=Hw(S),$e=je.length;if(be!=$e&&!le)return!1;for(var He=be;He--;){var ut=de[He];if(!(le?ut in S:$r.call(S,ut)))return!1}var bt=Q.get(x),Nt=Q.get(S);if(bt&&Nt)return bt==S&&Nt==x;var nr=!0;Q.set(x,S),Q.set(S,x);for(var Mt=le;++He<be;){ut=de[He];var mr=x[ut],Sr=S[ut];if(L)var Ka=le?L(Sr,mr,ut,S,x,Q):L(mr,Sr,ut,x,S,Q);if(!(Ka===r?mr===Sr||H(mr,Sr,R,L,Q):Ka)){nr=!1;break}Mt||(Mt=ut=="constructor")}if(nr&&!Mt){var ma=x.constructor,Za=S.constructor;ma!=Za&&"constructor"in x&&"constructor"in S&&!(typeof ma=="function"&&ma instanceof ma&&typeof Za=="function"&&Za instanceof Za)&&(nr=!1)}return Q.delete(x),Q.delete(S),nr}function Ws(x){return Jw(ZF(x,r,oN),x+"")}function Hw(x){return fF(x,Ei,Yw)}function zw(x){return fF(x,Pa,XF)}var Xw=tm?function(x){return tm.get(x)}:fE;function vm(x){for(var S=x.name+"",R=Gf[S],L=$r.call(Gf,S)?R.length:0;L--;){var H=R[L],Q=H.func;if(Q==null||Q==x)return H.name}return S}function Xf(x){var S=$r.call(K,"placeholder")?K:x;return S.placeholder}function Ot(){var x=K.iteratee||uE;return x=x===uE?pF:x,arguments.length?x(arguments[0],arguments[1]):x}function gm(x,S){var R=x.__data__;return DZ(S)?R[typeof S=="string"?"string":"hash"]:R.map}function Ww(x){for(var S=Ei(x),R=S.length;R--;){var L=S[R],H=x[L];S[R]=[L,H,qF(H)]}return S}function sc(x,S){var R=$q(x,S);return dF(R)?R:r}function OZ(x){var S=$r.call(x,rc),R=x[rc];try{x[rc]=r;var L=!0}catch{}var H=Wg.call(x);return L&&(S?x[rc]=R:delete x[rc]),H}var Yw=bw?function(x){return x==null?[]:(x=Yr(x),Fl(bw(x),function(S){return J4.call(x,S)}))}:hE,XF=bw?function(x){for(var S=[];x;)Nl(S,Yw(x)),x=Kg(x);return S}:hE,Qi=va;(ww&&Qi(new ww(new ArrayBuffer(1)))!=Et||_0&&Qi(new _0)!=Ge||Ew&&Qi(Ew.resolve())!=Ke||$f&&Qi(new $f)!=ht||y0&&Qi(new y0)!=tr)&&(Qi=function(x){var S=va(x),R=S==Xe?x.constructor:r,L=R?lc(R):"";if(L)switch(L){case dK:return Et;case pK:return Ge;case vK:return Ke;case gK:return ht;case mK:return tr}return S});function kZ(x,S,R){for(var L=-1,H=R.length;++L<H;){var Q=R[L],le=Q.size;switch(Q.type){case"drop":x+=le;break;case"dropRight":S-=le;break;case"take":S=Ji(S,x+le);break;case"takeRight":x=pi(x,S-le);break}}return{start:x,end:S}}function FZ(x){var S=x.match(Rl);return S?S[1].split(Pl):[]}function WF(x,S,R){S=Ul(S,x);for(var L=-1,H=S.length,Q=!1;++L<H;){var le=hs(S[L]);if(!(Q=x!=null&&R(x,le)))break;x=x[le]}return Q||++L!=H?Q:(H=x==null?0:x.length,!!H&&Em(H)&&Ys(le,H)&&(zt(x)||uc(x)))}function NZ(x){var S=x.length,R=new x.constructor(S);return S&&typeof x[0]=="string"&&$r.call(x,"index")&&(R.index=x.index,R.input=x.input),R}function YF(x){return typeof x.constructor=="function"&&!I0(x)?Vf(Kg(x)):{}}function MZ(x,S,R){var L=x.constructor;switch(S){case Kt:return $w(x);case se:case _e:return new L(+x);case Et:return _Z(x,R);case ur:case ke:case V:case ve:case Te:case Fe:case oe:case Ie:case W:return PF(x,R);case Ge:return new L;case Ye:case gt:return new L(x);case Rt:return yZ(x);case ht:return new L;case It:return xZ(x)}}function LZ(x,S){var R=S.length;if(!R)return x;var L=R-1;return S[L]=(R>1?"& ":"")+S[L],S=S.join(R>2?", ":" "),x.replace(ni,`{
/* [wrapped with `+S+`] */
`)}function BZ(x){return zt(x)||uc(x)||!!(Q4&&x&&x[Q4])}function Ys(x,S){var R=typeof x;return S=S??ee,!!S&&(R=="number"||R!="symbol"&&ew.test(x))&&x>-1&&x%1==0&&x<S}function ga(x,S,R){if(!En(R))return!1;var L=typeof S;return(L=="number"?Ra(R)&&Ys(S,R.length):L=="string"&&S in R)?Fo(R[S],x):!1}function qw(x,S){if(zt(x))return!1;var R=typeof x;return R=="number"||R=="symbol"||R=="boolean"||x==null||qa(x)?!0:Ft.test(x)||!lt.test(x)||S!=null&&x in Yr(S)}function DZ(x){var S=typeof x;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?x!=="__proto__":x===null}function Kw(x){var S=vm(x),R=K[S];if(typeof R!="function"||!(S in xr.prototype))return!1;if(x===R)return!0;var L=Xw(R);return!!L&&x===L[0]}function UZ(x){return!!q4&&q4 in x}var jZ=zg?qs:dE;function I0(x){var S=x&&x.constructor,R=typeof S=="function"&&S.prototype||jf;return x===R}function qF(x){return x===x&&!En(x)}function KF(x,S){return function(R){return R==null?!1:R[x]===S&&(S!==r||x in Yr(R))}}function $Z(x){var S=bm(x,function(L){return R.size===l&&R.clear(),L}),R=S.cache;return S}function GZ(x,S){var R=x[1],L=S[1],H=R|L,Q=H<(m|v|C),le=L==C&&R==y||L==C&&R==T&&x[7].length<=S[8]||L==(C|T)&&S[7].length<=S[8]&&R==y;if(!(Q||le))return x;L&m&&(x[2]=S[2],H|=R&m?0:_);var de=S[3];if(de){var be=x[3];x[3]=be?kF(be,de,S[4]):de,x[4]=be?Ml(x[3],u):S[4]}return de=S[5],de&&(be=x[5],x[5]=be?FF(be,de,S[6]):de,x[6]=be?Ml(x[5],u):S[6]),de=S[7],de&&(x[7]=de),L&C&&(x[8]=x[8]==null?S[8]:Ji(x[8],S[8])),x[9]==null&&(x[9]=S[9]),x[0]=S[0],x[1]=H,x}function VZ(x){var S=[];if(x!=null)for(var R in Yr(x))S.push(R);return S}function HZ(x){return Wg.call(x)}function ZF(x,S,R){return S=pi(S===r?x.length-1:S,0),function(){for(var L=arguments,H=-1,Q=pi(L.length-S,0),le=Ne(Q);++H<Q;)le[H]=L[S+H];H=-1;for(var de=Ne(S+1);++H<S;)de[H]=L[H];return de[S]=R(le),Xa(x,this,de)}}function JF(x,S){return S.length<2?x:oc(x,vo(S,0,-1))}function zZ(x,S){for(var R=x.length,L=Ji(S.length,R),H=Ia(x);L--;){var Q=S[L];x[L]=Ys(Q,R)?H[Q]:r}return x}function Zw(x,S){if(!(S==="constructor"&&typeof x[S]=="function")&&S!="__proto__")return x[S]}var QF=tN(wF),R0=oK||function(x,S){return Di.setTimeout(x,S)},Jw=tN(pZ);function eN(x,S,R){var L=S+"";return Jw(x,LZ(L,XZ(FZ(L),R)))}function tN(x){var S=0,R=0;return function(){var L=cK(),H=k-(L-R);if(R=L,H>0){if(++S>=P)return arguments[0]}else S=0;return x.apply(r,arguments)}}function mm(x,S){var R=-1,L=x.length,H=L-1;for(S=S===r?L:S;++R<S;){var Q=Nw(R,H),le=x[Q];x[Q]=x[R],x[R]=le}return x.length=S,x}var rN=$Z(function(x){var S=[];return x.charCodeAt(0)===46&&S.push(""),x.replace($n,function(R,L,H,Q){S.push(H?Q.replace(Gn,"$1"):L||R)}),S});function hs(x){if(typeof x=="string"||qa(x))return x;var S=x+"";return S=="0"&&1/x==-z?"-0":S}function lc(x){if(x!=null){try{return Xg.call(x)}catch{}try{return x+""}catch{}}return""}function XZ(x,S){return co(G,function(R){var L="_."+R[0];S&R[1]&&!$g(x,L)&&x.push(L)}),x.sort()}function nN(x){if(x instanceof xr)return x.clone();var S=new ho(x.__wrapped__,x.__chain__);return S.__actions__=Ia(x.__actions__),S.__index__=x.__index__,S.__values__=x.__values__,S}function WZ(x,S,R){(R?ga(x,S,R):S===r)?S=1:S=pi(Zt(S),0);var L=x==null?0:x.length;if(!L||S<1)return[];for(var H=0,Q=0,le=Ne(Qg(L/S));H<L;)le[Q++]=vo(x,H,H+=S);return le}function YZ(x){for(var S=-1,R=x==null?0:x.length,L=0,H=[];++S<R;){var Q=x[S];Q&&(H[L++]=Q)}return H}function qZ(){var x=arguments.length;if(!x)return[];for(var S=Ne(x-1),R=arguments[0],L=x;L--;)S[L-1]=arguments[L];return Nl(zt(R)?Ia(R):[R],Ui(S,1))}var KZ=or(function(x,S){return Vn(x)?E0(x,Ui(S,1,Vn,!0)):[]}),ZZ=or(function(x,S){var R=go(S);return Vn(R)&&(R=r),Vn(x)?E0(x,Ui(S,1,Vn,!0),Ot(R,2)):[]}),JZ=or(function(x,S){var R=go(S);return Vn(R)&&(R=r),Vn(x)?E0(x,Ui(S,1,Vn,!0),r,R):[]});function QZ(x,S,R){var L=x==null?0:x.length;return L?(S=R||S===r?1:Zt(S),vo(x,S<0?0:S,L)):[]}function eJ(x,S,R){var L=x==null?0:x.length;return L?(S=R||S===r?1:Zt(S),S=L-S,vo(x,0,S<0?0:S)):[]}function tJ(x,S){return x&&x.length?um(x,Ot(S,3),!0,!0):[]}function rJ(x,S){return x&&x.length?um(x,Ot(S,3),!0):[]}function nJ(x,S,R,L){var H=x==null?0:x.length;return H?(R&&typeof R!="number"&&ga(x,S,R)&&(R=0,L=H),qK(x,S,R,L)):[]}function iN(x,S,R){var L=x==null?0:x.length;if(!L)return-1;var H=R==null?0:Zt(R);return H<0&&(H=pi(L+H,0)),Gg(x,Ot(S,3),H)}function aN(x,S,R){var L=x==null?0:x.length;if(!L)return-1;var H=L-1;return R!==r&&(H=Zt(R),H=R<0?pi(L+H,0):Ji(H,L-1)),Gg(x,Ot(S,3),H,!0)}function oN(x){var S=x==null?0:x.length;return S?Ui(x,1):[]}function iJ(x){var S=x==null?0:x.length;return S?Ui(x,z):[]}function aJ(x,S){var R=x==null?0:x.length;return R?(S=S===r?1:Zt(S),Ui(x,S)):[]}function oJ(x){for(var S=-1,R=x==null?0:x.length,L={};++S<R;){var H=x[S];L[H[0]]=H[1]}return L}function sN(x){return x&&x.length?x[0]:r}function sJ(x,S,R){var L=x==null?0:x.length;if(!L)return-1;var H=R==null?0:Zt(R);return H<0&&(H=pi(L+H,0)),Lf(x,S,H)}function lJ(x){var S=x==null?0:x.length;return S?vo(x,0,-1):[]}var uJ=or(function(x){var S=hn(x,Uw);return S.length&&S[0]===x[0]?Rw(S):[]}),cJ=or(function(x){var S=go(x),R=hn(x,Uw);return S===go(R)?S=r:R.pop(),R.length&&R[0]===x[0]?Rw(R,Ot(S,2)):[]}),fJ=or(function(x){var S=go(x),R=hn(x,Uw);return S=typeof S=="function"?S:r,S&&R.pop(),R.length&&R[0]===x[0]?Rw(R,r,S):[]});function hJ(x,S){return x==null?"":lK.call(x,S)}function go(x){var S=x==null?0:x.length;return S?x[S-1]:r}function dJ(x,S,R){var L=x==null?0:x.length;if(!L)return-1;var H=L;return R!==r&&(H=Zt(R),H=H<0?pi(L+H,0):Ji(H,L-1)),S===S?Xq(x,S,H):Gg(x,$4,H,!0)}function pJ(x,S){return x&&x.length?_F(x,Zt(S)):r}var vJ=or(lN);function lN(x,S){return x&&x.length&&S&&S.length?Fw(x,S):x}function gJ(x,S,R){return x&&x.length&&S&&S.length?Fw(x,S,Ot(R,2)):x}function mJ(x,S,R){return x&&x.length&&S&&S.length?Fw(x,S,r,R):x}var _J=Ws(function(x,S){var R=x==null?0:x.length,L=Cw(x,S);return bF(x,hn(S,function(H){return Ys(H,R)?+H:H}).sort(OF)),L});function yJ(x,S){var R=[];if(!(x&&x.length))return R;var L=-1,H=[],Q=x.length;for(S=Ot(S,3);++L<Q;){var le=x[L];S(le,L,x)&&(R.push(le),H.push(L))}return bF(x,H),R}function Qw(x){return x==null?x:hK.call(x)}function xJ(x,S,R){var L=x==null?0:x.length;return L?(R&&typeof R!="number"&&ga(x,S,R)?(S=0,R=L):(S=S==null?0:Zt(S),R=R===r?L:Zt(R)),vo(x,S,R)):[]}function bJ(x,S){return lm(x,S)}function wJ(x,S,R){return Lw(x,S,Ot(R,2))}function EJ(x,S){var R=x==null?0:x.length;if(R){var L=lm(x,S);if(L<R&&Fo(x[L],S))return L}return-1}function SJ(x,S){return lm(x,S,!0)}function CJ(x,S,R){return Lw(x,S,Ot(R,2),!0)}function TJ(x,S){var R=x==null?0:x.length;if(R){var L=lm(x,S,!0)-1;if(Fo(x[L],S))return L}return-1}function AJ(x){return x&&x.length?EF(x):[]}function IJ(x,S){return x&&x.length?EF(x,Ot(S,2)):[]}function RJ(x){var S=x==null?0:x.length;return S?vo(x,1,S):[]}function PJ(x,S,R){return x&&x.length?(S=R||S===r?1:Zt(S),vo(x,0,S<0?0:S)):[]}function OJ(x,S,R){var L=x==null?0:x.length;return L?(S=R||S===r?1:Zt(S),S=L-S,vo(x,S<0?0:S,L)):[]}function kJ(x,S){return x&&x.length?um(x,Ot(S,3),!1,!0):[]}function FJ(x,S){return x&&x.length?um(x,Ot(S,3)):[]}var NJ=or(function(x){return Dl(Ui(x,1,Vn,!0))}),MJ=or(function(x){var S=go(x);return Vn(S)&&(S=r),Dl(Ui(x,1,Vn,!0),Ot(S,2))}),LJ=or(function(x){var S=go(x);return S=typeof S=="function"?S:r,Dl(Ui(x,1,Vn,!0),r,S)});function BJ(x){return x&&x.length?Dl(x):[]}function DJ(x,S){return x&&x.length?Dl(x,Ot(S,2)):[]}function UJ(x,S){return S=typeof S=="function"?S:r,x&&x.length?Dl(x,r,S):[]}function eE(x){if(!(x&&x.length))return[];var S=0;return x=Fl(x,function(R){if(Vn(R))return S=pi(R.length,S),!0}),mw(S,function(R){return hn(x,pw(R))})}function uN(x,S){if(!(x&&x.length))return[];var R=eE(x);return S==null?R:hn(R,function(L){return Xa(S,r,L)})}var jJ=or(function(x,S){return Vn(x)?E0(x,S):[]}),$J=or(function(x){return Dw(Fl(x,Vn))}),GJ=or(function(x){var S=go(x);return Vn(S)&&(S=r),Dw(Fl(x,Vn),Ot(S,2))}),VJ=or(function(x){var S=go(x);return S=typeof S=="function"?S:r,Dw(Fl(x,Vn),r,S)}),HJ=or(eE);function zJ(x,S){return AF(x||[],S||[],w0)}function XJ(x,S){return AF(x||[],S||[],T0)}var WJ=or(function(x){var S=x.length,R=S>1?x[S-1]:r;return R=typeof R=="function"?(x.pop(),R):r,uN(x,R)});function cN(x){var S=K(x);return S.__chain__=!0,S}function YJ(x,S){return S(x),x}function _m(x,S){return S(x)}var qJ=Ws(function(x){var S=x.length,R=S?x[0]:0,L=this.__wrapped__,H=function(Q){return Cw(Q,x)};return S>1||this.__actions__.length||!(L instanceof xr)||!Ys(R)?this.thru(H):(L=L.slice(R,+R+(S?1:0)),L.__actions__.push({func:_m,args:[H],thisArg:r}),new ho(L,this.__chain__).thru(function(Q){return S&&!Q.length&&Q.push(r),Q}))});function KJ(){return cN(this)}function ZJ(){return new ho(this.value(),this.__chain__)}function JJ(){this.__values__===r&&(this.__values__=SN(this.value()));var x=this.__index__>=this.__values__.length,S=x?r:this.__values__[this.__index__++];return{done:x,value:S}}function QJ(){return this}function eQ(x){for(var S,R=this;R instanceof nm;){var L=nN(R);L.__index__=0,L.__values__=r,S?H.__wrapped__=L:S=L;var H=L;R=R.__wrapped__}return H.__wrapped__=x,S}function tQ(){var x=this.__wrapped__;if(x instanceof xr){var S=x;return this.__actions__.length&&(S=new xr(this)),S=S.reverse(),S.__actions__.push({func:_m,args:[Qw],thisArg:r}),new ho(S,this.__chain__)}return this.thru(Qw)}function rQ(){return TF(this.__wrapped__,this.__actions__)}var nQ=cm(function(x,S,R){$r.call(x,R)?++x[R]:zs(x,R,1)});function iQ(x,S,R){var L=zt(x)?U4:YK;return R&&ga(x,S,R)&&(S=r),L(x,Ot(S,3))}function aQ(x,S){var R=zt(x)?Fl:uF;return R(x,Ot(S,3))}var oQ=BF(iN),sQ=BF(aN);function lQ(x,S){return Ui(ym(x,S),1)}function uQ(x,S){return Ui(ym(x,S),z)}function cQ(x,S,R){return R=R===r?1:Zt(R),Ui(ym(x,S),R)}function fN(x,S){var R=zt(x)?co:Bl;return R(x,Ot(S,3))}function hN(x,S){var R=zt(x)?Rq:lF;return R(x,Ot(S,3))}var fQ=cm(function(x,S,R){$r.call(x,R)?x[R].push(S):zs(x,R,[S])});function hQ(x,S,R,L){x=Ra(x)?x:Yf(x),R=R&&!L?Zt(R):0;var H=x.length;return R<0&&(R=pi(H+R,0)),Sm(x)?R<=H&&x.indexOf(S,R)>-1:!!H&&Lf(x,S,R)>-1}var dQ=or(function(x,S,R){var L=-1,H=typeof S=="function",Q=Ra(x)?Ne(x.length):[];return Bl(x,function(le){Q[++L]=H?Xa(S,le,R):S0(le,S,R)}),Q}),pQ=cm(function(x,S,R){zs(x,R,S)});function ym(x,S){var R=zt(x)?hn:vF;return R(x,Ot(S,3))}function vQ(x,S,R,L){return x==null?[]:(zt(S)||(S=S==null?[]:[S]),R=L?r:R,zt(R)||(R=R==null?[]:[R]),yF(x,S,R))}var gQ=cm(function(x,S,R){x[R?0:1].push(S)},function(){return[[],[]]});function mQ(x,S,R){var L=zt(x)?hw:V4,H=arguments.length<3;return L(x,Ot(S,4),R,H,Bl)}function _Q(x,S,R){var L=zt(x)?Pq:V4,H=arguments.length<3;return L(x,Ot(S,4),R,H,lF)}function yQ(x,S){var R=zt(x)?Fl:uF;return R(x,wm(Ot(S,3)))}function xQ(x){var S=zt(x)?iF:hZ;return S(x)}function bQ(x,S,R){(R?ga(x,S,R):S===r)?S=1:S=Zt(S);var L=zt(x)?VK:dZ;return L(x,S)}function wQ(x){var S=zt(x)?HK:vZ;return S(x)}function EQ(x){if(x==null)return 0;if(Ra(x))return Sm(x)?Df(x):x.length;var S=Qi(x);return S==Ge||S==ht?x.size:Ow(x).length}function SQ(x,S,R){var L=zt(x)?dw:gZ;return R&&ga(x,S,R)&&(S=r),L(x,Ot(S,3))}var CQ=or(function(x,S){if(x==null)return[];var R=S.length;return R>1&&ga(x,S[0],S[1])?S=[]:R>2&&ga(S[0],S[1],S[2])&&(S=[S[0]]),yF(x,Ui(S,1),[])}),xm=aK||function(){return Di.Date.now()};function TQ(x,S){if(typeof S!="function")throw new fo(o);return x=Zt(x),function(){if(--x<1)return S.apply(this,arguments)}}function dN(x,S,R){return S=R?r:S,S=x&&S==null?x.length:S,Xs(x,C,r,r,r,r,S)}function pN(x,S){var R;if(typeof S!="function")throw new fo(o);return x=Zt(x),function(){return--x>0&&(R=S.apply(this,arguments)),x<=1&&(S=r),R}}var tE=or(function(x,S,R){var L=m;if(R.length){var H=Ml(R,Xf(tE));L|=w}return Xs(x,L,S,R,H)}),vN=or(function(x,S,R){var L=m|v;if(R.length){var H=Ml(R,Xf(vN));L|=w}return Xs(S,L,x,R,H)});function gN(x,S,R){S=R?r:S;var L=Xs(x,y,r,r,r,r,r,S);return L.placeholder=gN.placeholder,L}function mN(x,S,R){S=R?r:S;var L=Xs(x,b,r,r,r,r,r,S);return L.placeholder=mN.placeholder,L}function _N(x,S,R){var L,H,Q,le,de,be,je=0,$e=!1,He=!1,ut=!0;if(typeof x!="function")throw new fo(o);S=mo(S)||0,En(R)&&($e=!!R.leading,He="maxWait"in R,Q=He?pi(mo(R.maxWait)||0,S):Q,ut="trailing"in R?!!R.trailing:ut);function bt(Hn){var No=L,Zs=H;return L=H=r,je=Hn,le=x.apply(Zs,No),le}function Nt(Hn){return je=Hn,de=R0(mr,S),$e?bt(Hn):le}function nr(Hn){var No=Hn-be,Zs=Hn-je,BN=S-No;return He?Ji(BN,Q-Zs):BN}function Mt(Hn){var No=Hn-be,Zs=Hn-je;return be===r||No>=S||No<0||He&&Zs>=Q}function mr(){var Hn=xm();if(Mt(Hn))return Sr(Hn);de=R0(mr,nr(Hn))}function Sr(Hn){return de=r,ut&&L?bt(Hn):(L=H=r,le)}function Ka(){de!==r&&IF(de),je=0,L=be=H=de=r}function ma(){return de===r?le:Sr(xm())}function Za(){var Hn=xm(),No=Mt(Hn);if(L=arguments,H=this,be=Hn,No){if(de===r)return Nt(be);if(He)return IF(de),de=R0(mr,S),bt(be)}return de===r&&(de=R0(mr,S)),le}return Za.cancel=Ka,Za.flush=ma,Za}var AQ=or(function(x,S){return sF(x,1,S)}),IQ=or(function(x,S,R){return sF(x,mo(S)||0,R)});function RQ(x){return Xs(x,A)}function bm(x,S){if(typeof x!="function"||S!=null&&typeof S!="function")throw new fo(o);var R=function(){var L=arguments,H=S?S.apply(this,L):L[0],Q=R.cache;if(Q.has(H))return Q.get(H);var le=x.apply(this,L);return R.cache=Q.set(H,le)||Q,le};return R.cache=new(bm.Cache||Hs),R}bm.Cache=Hs;function wm(x){if(typeof x!="function")throw new fo(o);return function(){var S=arguments;switch(S.length){case 0:return!x.call(this);case 1:return!x.call(this,S[0]);case 2:return!x.call(this,S[0],S[1]);case 3:return!x.call(this,S[0],S[1],S[2])}return!x.apply(this,S)}}function PQ(x){return pN(2,x)}var OQ=mZ(function(x,S){S=S.length==1&&zt(S[0])?hn(S[0],Wa(Ot())):hn(Ui(S,1),Wa(Ot()));var R=S.length;return or(function(L){for(var H=-1,Q=Ji(L.length,R);++H<Q;)L[H]=S[H].call(this,L[H]);return Xa(x,this,L)})}),rE=or(function(x,S){var R=Ml(S,Xf(rE));return Xs(x,w,r,S,R)}),yN=or(function(x,S){var R=Ml(S,Xf(yN));return Xs(x,E,r,S,R)}),kQ=Ws(function(x,S){return Xs(x,T,r,r,r,S)});function FQ(x,S){if(typeof x!="function")throw new fo(o);return S=S===r?S:Zt(S),or(x,S)}function NQ(x,S){if(typeof x!="function")throw new fo(o);return S=S==null?0:pi(Zt(S),0),or(function(R){var L=R[S],H=jl(R,0,S);return L&&Nl(H,L),Xa(x,this,H)})}function MQ(x,S,R){var L=!0,H=!0;if(typeof x!="function")throw new fo(o);return En(R)&&(L="leading"in R?!!R.leading:L,H="trailing"in R?!!R.trailing:H),_N(x,S,{leading:L,maxWait:S,trailing:H})}function LQ(x){return dN(x,1)}function BQ(x,S){return rE(jw(S),x)}function DQ(){if(!arguments.length)return[];var x=arguments[0];return zt(x)?x:[x]}function UQ(x){return po(x,p)}function jQ(x,S){return S=typeof S=="function"?S:r,po(x,p,S)}function $Q(x){return po(x,f|p)}function GQ(x,S){return S=typeof S=="function"?S:r,po(x,f|p,S)}function VQ(x,S){return S==null||oF(x,S,Ei(S))}function Fo(x,S){return x===S||x!==x&&S!==S}var HQ=pm(Iw),zQ=pm(function(x,S){return x>=S}),uc=hF(function(){return arguments}())?hF:function(x){return kn(x)&&$r.call(x,"callee")&&!J4.call(x,"callee")},zt=Ne.isArray,XQ=F4?Wa(F4):eZ;function Ra(x){return x!=null&&Em(x.length)&&!qs(x)}function Vn(x){return kn(x)&&Ra(x)}function WQ(x){return x===!0||x===!1||kn(x)&&va(x)==se}var $l=sK||dE,YQ=N4?Wa(N4):tZ;function qQ(x){return kn(x)&&x.nodeType===1&&!P0(x)}function KQ(x){if(x==null)return!0;if(Ra(x)&&(zt(x)||typeof x=="string"||typeof x.splice=="function"||$l(x)||Wf(x)||uc(x)))return!x.length;var S=Qi(x);if(S==Ge||S==ht)return!x.size;if(I0(x))return!Ow(x).length;for(var R in x)if($r.call(x,R))return!1;return!0}function ZQ(x,S){return C0(x,S)}function JQ(x,S,R){R=typeof R=="function"?R:r;var L=R?R(x,S):r;return L===r?C0(x,S,r,R):!!L}function nE(x){if(!kn(x))return!1;var S=va(x);return S==Pe||S==Me||typeof x.message=="string"&&typeof x.name=="string"&&!P0(x)}function QQ(x){return typeof x=="number"&&eF(x)}function qs(x){if(!En(x))return!1;var S=va(x);return S==Ee||S==Se||S==pe||S==wt}function xN(x){return typeof x=="number"&&x==Zt(x)}function Em(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=ee}function En(x){var S=typeof x;return x!=null&&(S=="object"||S=="function")}function kn(x){return x!=null&&typeof x=="object"}var bN=M4?Wa(M4):nZ;function eee(x,S){return x===S||Pw(x,S,Ww(S))}function tee(x,S,R){return R=typeof R=="function"?R:r,Pw(x,S,Ww(S),R)}function ree(x){return wN(x)&&x!=+x}function nee(x){if(jZ(x))throw new Ht(a);return dF(x)}function iee(x){return x===null}function aee(x){return x==null}function wN(x){return typeof x=="number"||kn(x)&&va(x)==Ye}function P0(x){if(!kn(x)||va(x)!=Xe)return!1;var S=Kg(x);if(S===null)return!0;var R=$r.call(S,"constructor")&&S.constructor;return typeof R=="function"&&R instanceof R&&Xg.call(R)==tK}var iE=L4?Wa(L4):iZ;function oee(x){return xN(x)&&x>=-ee&&x<=ee}var EN=B4?Wa(B4):aZ;function Sm(x){return typeof x=="string"||!zt(x)&&kn(x)&&va(x)==gt}function qa(x){return typeof x=="symbol"||kn(x)&&va(x)==It}var Wf=D4?Wa(D4):oZ;function see(x){return x===r}function lee(x){return kn(x)&&Qi(x)==tr}function uee(x){return kn(x)&&va(x)==gr}var cee=pm(kw),fee=pm(function(x,S){return x<=S});function SN(x){if(!x)return[];if(Ra(x))return Sm(x)?Oo(x):Ia(x);if(m0&&x[m0])return Vq(x[m0]());var S=Qi(x),R=S==Ge?yw:S==ht?Vg:Yf;return R(x)}function Ks(x){if(!x)return x===0?x:0;if(x=mo(x),x===z||x===-z){var S=x<0?-1:1;return S*te}return x===x?x:0}function Zt(x){var S=Ks(x),R=S%1;return S===S?R?S-R:S:0}function CN(x){return x?ac(Zt(x),0,U):0}function mo(x){if(typeof x=="number")return x;if(qa(x))return Y;if(En(x)){var S=typeof x.valueOf=="function"?x.valueOf():x;x=En(S)?S+"":S}if(typeof x!="string")return x===0?x:+x;x=H4(x);var R=Zb.test(x);return R||Qb.test(x)?Tq(x.slice(2),R?2:8):kf.test(x)?Y:+x}function TN(x){return fs(x,Pa(x))}function hee(x){return x?ac(Zt(x),-ee,ee):x===0?x:0}function Br(x){return x==null?"":Ya(x)}var dee=Hf(function(x,S){if(I0(S)||Ra(S)){fs(S,Ei(S),x);return}for(var R in S)$r.call(S,R)&&w0(x,R,S[R])}),AN=Hf(function(x,S){fs(S,Pa(S),x)}),Cm=Hf(function(x,S,R,L){fs(S,Pa(S),x,L)}),pee=Hf(function(x,S,R,L){fs(S,Ei(S),x,L)}),vee=Ws(Cw);function gee(x,S){var R=Vf(x);return S==null?R:aF(R,S)}var mee=or(function(x,S){x=Yr(x);var R=-1,L=S.length,H=L>2?S[2]:r;for(H&&ga(S[0],S[1],H)&&(L=1);++R<L;)for(var Q=S[R],le=Pa(Q),de=-1,be=le.length;++de<be;){var je=le[de],$e=x[je];($e===r||Fo($e,jf[je])&&!$r.call(x,je))&&(x[je]=Q[je])}return x}),_ee=or(function(x){return x.push(r,HF),Xa(IN,r,x)});function yee(x,S){return j4(x,Ot(S,3),cs)}function xee(x,S){return j4(x,Ot(S,3),Aw)}function bee(x,S){return x==null?x:Tw(x,Ot(S,3),Pa)}function wee(x,S){return x==null?x:cF(x,Ot(S,3),Pa)}function Eee(x,S){return x&&cs(x,Ot(S,3))}function See(x,S){return x&&Aw(x,Ot(S,3))}function Cee(x){return x==null?[]:om(x,Ei(x))}function Tee(x){return x==null?[]:om(x,Pa(x))}function aE(x,S,R){var L=x==null?r:oc(x,S);return L===r?R:L}function Aee(x,S){return x!=null&&WF(x,S,KK)}function oE(x,S){return x!=null&&WF(x,S,ZK)}var Iee=UF(function(x,S,R){S!=null&&typeof S.toString!="function"&&(S=Wg.call(S)),x[S]=R},lE(Oa)),Ree=UF(function(x,S,R){S!=null&&typeof S.toString!="function"&&(S=Wg.call(S)),$r.call(x,S)?x[S].push(R):x[S]=[R]},Ot),Pee=or(S0);function Ei(x){return Ra(x)?nF(x):Ow(x)}function Pa(x){return Ra(x)?nF(x,!0):sZ(x)}function Oee(x,S){var R={};return S=Ot(S,3),cs(x,function(L,H,Q){zs(R,S(L,H,Q),L)}),R}function kee(x,S){var R={};return S=Ot(S,3),cs(x,function(L,H,Q){zs(R,H,S(L,H,Q))}),R}var Fee=Hf(function(x,S,R){sm(x,S,R)}),IN=Hf(function(x,S,R,L){sm(x,S,R,L)}),Nee=Ws(function(x,S){var R={};if(x==null)return R;var L=!1;S=hn(S,function(Q){return Q=Ul(Q,x),L||(L=Q.length>1),Q}),fs(x,zw(x),R),L&&(R=po(R,f|h|p,IZ));for(var H=S.length;H--;)Bw(R,S[H]);return R});function Mee(x,S){return RN(x,wm(Ot(S)))}var Lee=Ws(function(x,S){return x==null?{}:uZ(x,S)});function RN(x,S){if(x==null)return{};var R=hn(zw(x),function(L){return[L]});return S=Ot(S),xF(x,R,function(L,H){return S(L,H[0])})}function Bee(x,S,R){S=Ul(S,x);var L=-1,H=S.length;for(H||(H=1,x=r);++L<H;){var Q=x==null?r:x[hs(S[L])];Q===r&&(L=H,Q=R),x=qs(Q)?Q.call(x):Q}return x}function Dee(x,S,R){return x==null?x:T0(x,S,R)}function Uee(x,S,R,L){return L=typeof L=="function"?L:r,x==null?x:T0(x,S,R,L)}var PN=GF(Ei),ON=GF(Pa);function jee(x,S,R){var L=zt(x),H=L||$l(x)||Wf(x);if(S=Ot(S,4),R==null){var Q=x&&x.constructor;H?R=L?new Q:[]:En(x)?R=qs(Q)?Vf(Kg(x)):{}:R={}}return(H?co:cs)(x,function(le,de,be){return S(R,le,de,be)}),R}function $ee(x,S){return x==null?!0:Bw(x,S)}function Gee(x,S,R){return x==null?x:CF(x,S,jw(R))}function Vee(x,S,R,L){return L=typeof L=="function"?L:r,x==null?x:CF(x,S,jw(R),L)}function Yf(x){return x==null?[]:_w(x,Ei(x))}function Hee(x){return x==null?[]:_w(x,Pa(x))}function zee(x,S,R){return R===r&&(R=S,S=r),R!==r&&(R=mo(R),R=R===R?R:0),S!==r&&(S=mo(S),S=S===S?S:0),ac(mo(x),S,R)}function Xee(x,S,R){return S=Ks(S),R===r?(R=S,S=0):R=Ks(R),x=mo(x),JK(x,S,R)}function Wee(x,S,R){if(R&&typeof R!="boolean"&&ga(x,S,R)&&(S=R=r),R===r&&(typeof S=="boolean"?(R=S,S=r):typeof x=="boolean"&&(R=x,x=r)),x===r&&S===r?(x=0,S=1):(x=Ks(x),S===r?(S=x,x=0):S=Ks(S)),x>S){var L=x;x=S,S=L}if(R||x%1||S%1){var H=tF();return Ji(x+H*(S-x+Cq("1e-"+((H+"").length-1))),S)}return Nw(x,S)}var Yee=zf(function(x,S,R){return S=S.toLowerCase(),x+(R?kN(S):S)});function kN(x){return sE(Br(x).toLowerCase())}function FN(x){return x=Br(x),x&&x.replace(tw,Dq).replace(vq,"")}function qee(x,S,R){x=Br(x),S=Ya(S);var L=x.length;R=R===r?L:ac(Zt(R),0,L);var H=R;return R-=S.length,R>=0&&x.slice(R,H)==S}function Kee(x){return x=Br(x),x&&ce.test(x)?x.replace(Oe,Uq):x}function Zee(x){return x=Br(x),x&&St.test(x)?x.replace(ar,"\\$&"):x}var Jee=zf(function(x,S,R){return x+(R?"-":"")+S.toLowerCase()}),Qee=zf(function(x,S,R){return x+(R?" ":"")+S.toLowerCase()}),ete=LF("toLowerCase");function tte(x,S,R){x=Br(x),S=Zt(S);var L=S?Df(x):0;if(!S||L>=S)return x;var H=(S-L)/2;return dm(em(H),R)+x+dm(Qg(H),R)}function rte(x,S,R){x=Br(x),S=Zt(S);var L=S?Df(x):0;return S&&L<S?x+dm(S-L,R):x}function nte(x,S,R){x=Br(x),S=Zt(S);var L=S?Df(x):0;return S&&L<S?dm(S-L,R)+x:x}function ite(x,S,R){return R||S==null?S=0:S&&(S=+S),fK(Br(x).replace(Ar,""),S||0)}function ate(x,S,R){return(R?ga(x,S,R):S===r)?S=1:S=Zt(S),Mw(Br(x),S)}function ote(){var x=arguments,S=Br(x[0]);return x.length<3?S:S.replace(x[1],x[2])}var ste=zf(function(x,S,R){return x+(R?"_":"")+S.toLowerCase()});function lte(x,S,R){return R&&typeof R!="number"&&ga(x,S,R)&&(S=R=r),R=R===r?U:R>>>0,R?(x=Br(x),x&&(typeof S=="string"||S!=null&&!iE(S))&&(S=Ya(S),!S&&Bf(x))?jl(Oo(x),0,R):x.split(S,R)):[]}var ute=zf(function(x,S,R){return x+(R?" ":"")+sE(S)});function cte(x,S,R){return x=Br(x),R=R==null?0:ac(Zt(R),0,x.length),S=Ya(S),x.slice(R,R+S.length)==S}function fte(x,S,R){var L=K.templateSettings;R&&ga(x,S,R)&&(S=r),x=Br(x),S=Cm({},S,L,VF);var H=Cm({},S.imports,L.imports,VF),Q=Ei(H),le=_w(H,Q),de,be,je=0,$e=S.interpolate||Ff,He="__p += '",ut=xw((S.escape||Ff).source+"|"+$e.source+"|"+($e===Qe?za:Ff).source+"|"+(S.evaluate||Ff).source+"|$","g"),bt="//# sourceURL="+($r.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xq+"]")+`
`;x.replace(ut,function(Mt,mr,Sr,Ka,ma,Za){return Sr||(Sr=Ka),He+=x.slice(je,Za).replace(Mg,jq),mr&&(de=!0,He+=`' +
__e(`+mr+`) +
'`),ma&&(be=!0,He+=`';
`+ma+`;
__p += '`),Sr&&(He+=`' +
((__t = (`+Sr+`)) == null ? '' : __t) +
'`),je=Za+Mt.length,Mt}),He+=`';
`;var Nt=$r.call(S,"variable")&&S.variable;if(!Nt)He=`with (obj) {
`+He+`
}
`;else if(Zi.test(Nt))throw new Ht(s);He=(be?He.replace(Ue,""):He).replace(pt,"$1").replace(N,"$1;"),He="function("+(Nt||"obj")+`) {
`+(Nt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(de?", __e = _.escape":"")+(be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+He+`return __p
}`;var nr=MN(function(){return Fr(Q,bt+"return "+He).apply(r,le)});if(nr.source=He,nE(nr))throw nr;return nr}function hte(x){return Br(x).toLowerCase()}function dte(x){return Br(x).toUpperCase()}function pte(x,S,R){if(x=Br(x),x&&(R||S===r))return H4(x);if(!x||!(S=Ya(S)))return x;var L=Oo(x),H=Oo(S),Q=z4(L,H),le=X4(L,H)+1;return jl(L,Q,le).join("")}function vte(x,S,R){if(x=Br(x),x&&(R||S===r))return x.slice(0,Y4(x)+1);if(!x||!(S=Ya(S)))return x;var L=Oo(x),H=X4(L,Oo(S))+1;return jl(L,0,H).join("")}function gte(x,S,R){if(x=Br(x),x&&(R||S===r))return x.replace(Ar,"");if(!x||!(S=Ya(S)))return x;var L=Oo(x),H=z4(L,Oo(S));return jl(L,H).join("")}function mte(x,S){var R=I,L=O;if(En(S)){var H="separator"in S?S.separator:H;R="length"in S?Zt(S.length):R,L="omission"in S?Ya(S.omission):L}x=Br(x);var Q=x.length;if(Bf(x)){var le=Oo(x);Q=le.length}if(R>=Q)return x;var de=R-Df(L);if(de<1)return L;var be=le?jl(le,0,de).join(""):x.slice(0,de);if(H===r)return be+L;if(le&&(de+=be.length-de),iE(H)){if(x.slice(de).search(H)){var je,$e=be;for(H.global||(H=xw(H.source,Br(da.exec(H))+"g")),H.lastIndex=0;je=H.exec($e);)var He=je.index;be=be.slice(0,He===r?de:He)}}else if(x.indexOf(Ya(H),de)!=de){var ut=be.lastIndexOf(H);ut>-1&&(be=be.slice(0,ut))}return be+L}function _te(x){return x=Br(x),x&&q.test(x)?x.replace(Re,Wq):x}var yte=zf(function(x,S,R){return x+(R?" ":"")+S.toUpperCase()}),sE=LF("toUpperCase");function NN(x,S,R){return x=Br(x),S=R?r:S,S===r?Gq(x)?Kq(x):Fq(x):x.match(S)||[]}var MN=or(function(x,S){try{return Xa(x,r,S)}catch(R){return nE(R)?R:new Ht(R)}}),xte=Ws(function(x,S){return co(S,function(R){R=hs(R),zs(x,R,tE(x[R],x))}),x});function bte(x){var S=x==null?0:x.length,R=Ot();return x=S?hn(x,function(L){if(typeof L[1]!="function")throw new fo(o);return[R(L[0]),L[1]]}):[],or(function(L){for(var H=-1;++H<S;){var Q=x[H];if(Xa(Q[0],this,L))return Xa(Q[1],this,L)}})}function wte(x){return WK(po(x,f))}function lE(x){return function(){return x}}function Ete(x,S){return x==null||x!==x?S:x}var Ste=DF(),Cte=DF(!0);function Oa(x){return x}function uE(x){return pF(typeof x=="function"?x:po(x,f))}function Tte(x){return gF(po(x,f))}function Ate(x,S){return mF(x,po(S,f))}var Ite=or(function(x,S){return function(R){return S0(R,x,S)}}),Rte=or(function(x,S){return function(R){return S0(x,R,S)}});function cE(x,S,R){var L=Ei(S),H=om(S,L);R==null&&!(En(S)&&(H.length||!L.length))&&(R=S,S=x,x=this,H=om(S,Ei(S)));var Q=!(En(R)&&"chain"in R)||!!R.chain,le=qs(x);return co(H,function(de){var be=S[de];x[de]=be,le&&(x.prototype[de]=function(){var je=this.__chain__;if(Q||je){var $e=x(this.__wrapped__),He=$e.__actions__=Ia(this.__actions__);return He.push({func:be,args:arguments,thisArg:x}),$e.__chain__=je,$e}return be.apply(x,Nl([this.value()],arguments))})}),x}function Pte(){return Di._===this&&(Di._=rK),this}function fE(){}function Ote(x){return x=Zt(x),or(function(S){return _F(S,x)})}var kte=Gw(hn),Fte=Gw(U4),Nte=Gw(dw);function LN(x){return qw(x)?pw(hs(x)):cZ(x)}function Mte(x){return function(S){return x==null?r:oc(x,S)}}var Lte=jF(),Bte=jF(!0);function hE(){return[]}function dE(){return!1}function Dte(){return{}}function Ute(){return""}function jte(){return!0}function $te(x,S){if(x=Zt(x),x<1||x>ee)return[];var R=U,L=Ji(x,U);S=Ot(S),x-=U;for(var H=mw(L,S);++R<x;)S(R);return H}function Gte(x){return zt(x)?hn(x,hs):qa(x)?[x]:Ia(rN(Br(x)))}function Vte(x){var S=++eK;return Br(x)+S}var Hte=hm(function(x,S){return x+S},0),zte=Vw("ceil"),Xte=hm(function(x,S){return x/S},1),Wte=Vw("floor");function Yte(x){return x&&x.length?am(x,Oa,Iw):r}function qte(x,S){return x&&x.length?am(x,Ot(S,2),Iw):r}function Kte(x){return G4(x,Oa)}function Zte(x,S){return G4(x,Ot(S,2))}function Jte(x){return x&&x.length?am(x,Oa,kw):r}function Qte(x,S){return x&&x.length?am(x,Ot(S,2),kw):r}var ere=hm(function(x,S){return x*S},1),tre=Vw("round"),rre=hm(function(x,S){return x-S},0);function nre(x){return x&&x.length?gw(x,Oa):0}function ire(x,S){return x&&x.length?gw(x,Ot(S,2)):0}return K.after=TQ,K.ary=dN,K.assign=dee,K.assignIn=AN,K.assignInWith=Cm,K.assignWith=pee,K.at=vee,K.before=pN,K.bind=tE,K.bindAll=xte,K.bindKey=vN,K.castArray=DQ,K.chain=cN,K.chunk=WZ,K.compact=YZ,K.concat=qZ,K.cond=bte,K.conforms=wte,K.constant=lE,K.countBy=nQ,K.create=gee,K.curry=gN,K.curryRight=mN,K.debounce=_N,K.defaults=mee,K.defaultsDeep=_ee,K.defer=AQ,K.delay=IQ,K.difference=KZ,K.differenceBy=ZZ,K.differenceWith=JZ,K.drop=QZ,K.dropRight=eJ,K.dropRightWhile=tJ,K.dropWhile=rJ,K.fill=nJ,K.filter=aQ,K.flatMap=lQ,K.flatMapDeep=uQ,K.flatMapDepth=cQ,K.flatten=oN,K.flattenDeep=iJ,K.flattenDepth=aJ,K.flip=RQ,K.flow=Ste,K.flowRight=Cte,K.fromPairs=oJ,K.functions=Cee,K.functionsIn=Tee,K.groupBy=fQ,K.initial=lJ,K.intersection=uJ,K.intersectionBy=cJ,K.intersectionWith=fJ,K.invert=Iee,K.invertBy=Ree,K.invokeMap=dQ,K.iteratee=uE,K.keyBy=pQ,K.keys=Ei,K.keysIn=Pa,K.map=ym,K.mapKeys=Oee,K.mapValues=kee,K.matches=Tte,K.matchesProperty=Ate,K.memoize=bm,K.merge=Fee,K.mergeWith=IN,K.method=Ite,K.methodOf=Rte,K.mixin=cE,K.negate=wm,K.nthArg=Ote,K.omit=Nee,K.omitBy=Mee,K.once=PQ,K.orderBy=vQ,K.over=kte,K.overArgs=OQ,K.overEvery=Fte,K.overSome=Nte,K.partial=rE,K.partialRight=yN,K.partition=gQ,K.pick=Lee,K.pickBy=RN,K.property=LN,K.propertyOf=Mte,K.pull=vJ,K.pullAll=lN,K.pullAllBy=gJ,K.pullAllWith=mJ,K.pullAt=_J,K.range=Lte,K.rangeRight=Bte,K.rearg=kQ,K.reject=yQ,K.remove=yJ,K.rest=FQ,K.reverse=Qw,K.sampleSize=bQ,K.set=Dee,K.setWith=Uee,K.shuffle=wQ,K.slice=xJ,K.sortBy=CQ,K.sortedUniq=AJ,K.sortedUniqBy=IJ,K.split=lte,K.spread=NQ,K.tail=RJ,K.take=PJ,K.takeRight=OJ,K.takeRightWhile=kJ,K.takeWhile=FJ,K.tap=YJ,K.throttle=MQ,K.thru=_m,K.toArray=SN,K.toPairs=PN,K.toPairsIn=ON,K.toPath=Gte,K.toPlainObject=TN,K.transform=jee,K.unary=LQ,K.union=NJ,K.unionBy=MJ,K.unionWith=LJ,K.uniq=BJ,K.uniqBy=DJ,K.uniqWith=UJ,K.unset=$ee,K.unzip=eE,K.unzipWith=uN,K.update=Gee,K.updateWith=Vee,K.values=Yf,K.valuesIn=Hee,K.without=jJ,K.words=NN,K.wrap=BQ,K.xor=$J,K.xorBy=GJ,K.xorWith=VJ,K.zip=HJ,K.zipObject=zJ,K.zipObjectDeep=XJ,K.zipWith=WJ,K.entries=PN,K.entriesIn=ON,K.extend=AN,K.extendWith=Cm,cE(K,K),K.add=Hte,K.attempt=MN,K.camelCase=Yee,K.capitalize=kN,K.ceil=zte,K.clamp=zee,K.clone=UQ,K.cloneDeep=$Q,K.cloneDeepWith=GQ,K.cloneWith=jQ,K.conformsTo=VQ,K.deburr=FN,K.defaultTo=Ete,K.divide=Xte,K.endsWith=qee,K.eq=Fo,K.escape=Kee,K.escapeRegExp=Zee,K.every=iQ,K.find=oQ,K.findIndex=iN,K.findKey=yee,K.findLast=sQ,K.findLastIndex=aN,K.findLastKey=xee,K.floor=Wte,K.forEach=fN,K.forEachRight=hN,K.forIn=bee,K.forInRight=wee,K.forOwn=Eee,K.forOwnRight=See,K.get=aE,K.gt=HQ,K.gte=zQ,K.has=Aee,K.hasIn=oE,K.head=sN,K.identity=Oa,K.includes=hQ,K.indexOf=sJ,K.inRange=Xee,K.invoke=Pee,K.isArguments=uc,K.isArray=zt,K.isArrayBuffer=XQ,K.isArrayLike=Ra,K.isArrayLikeObject=Vn,K.isBoolean=WQ,K.isBuffer=$l,K.isDate=YQ,K.isElement=qQ,K.isEmpty=KQ,K.isEqual=ZQ,K.isEqualWith=JQ,K.isError=nE,K.isFinite=QQ,K.isFunction=qs,K.isInteger=xN,K.isLength=Em,K.isMap=bN,K.isMatch=eee,K.isMatchWith=tee,K.isNaN=ree,K.isNative=nee,K.isNil=aee,K.isNull=iee,K.isNumber=wN,K.isObject=En,K.isObjectLike=kn,K.isPlainObject=P0,K.isRegExp=iE,K.isSafeInteger=oee,K.isSet=EN,K.isString=Sm,K.isSymbol=qa,K.isTypedArray=Wf,K.isUndefined=see,K.isWeakMap=lee,K.isWeakSet=uee,K.join=hJ,K.kebabCase=Jee,K.last=go,K.lastIndexOf=dJ,K.lowerCase=Qee,K.lowerFirst=ete,K.lt=cee,K.lte=fee,K.max=Yte,K.maxBy=qte,K.mean=Kte,K.meanBy=Zte,K.min=Jte,K.minBy=Qte,K.stubArray=hE,K.stubFalse=dE,K.stubObject=Dte,K.stubString=Ute,K.stubTrue=jte,K.multiply=ere,K.nth=pJ,K.noConflict=Pte,K.noop=fE,K.now=xm,K.pad=tte,K.padEnd=rte,K.padStart=nte,K.parseInt=ite,K.random=Wee,K.reduce=mQ,K.reduceRight=_Q,K.repeat=ate,K.replace=ote,K.result=Bee,K.round=tre,K.runInContext=ye,K.sample=xQ,K.size=EQ,K.snakeCase=ste,K.some=SQ,K.sortedIndex=bJ,K.sortedIndexBy=wJ,K.sortedIndexOf=EJ,K.sortedLastIndex=SJ,K.sortedLastIndexBy=CJ,K.sortedLastIndexOf=TJ,K.startCase=ute,K.startsWith=cte,K.subtract=rre,K.sum=nre,K.sumBy=ire,K.template=fte,K.times=$te,K.toFinite=Ks,K.toInteger=Zt,K.toLength=CN,K.toLower=hte,K.toNumber=mo,K.toSafeInteger=hee,K.toString=Br,K.toUpper=dte,K.trim=pte,K.trimEnd=vte,K.trimStart=gte,K.truncate=mte,K.unescape=_te,K.uniqueId=Vte,K.upperCase=yte,K.upperFirst=sE,K.each=fN,K.eachRight=hN,K.first=sN,cE(K,function(){var x={};return cs(K,function(S,R){$r.call(K.prototype,R)||(x[R]=S)}),x}(),{chain:!1}),K.VERSION=n,co(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){K[x].placeholder=K}),co(["drop","take"],function(x,S){xr.prototype[x]=function(R){R=R===r?1:pi(Zt(R),0);var L=this.__filtered__&&!S?new xr(this):this.clone();return L.__filtered__?L.__takeCount__=Ji(R,L.__takeCount__):L.__views__.push({size:Ji(R,U),type:x+(L.__dir__<0?"Right":"")}),L},xr.prototype[x+"Right"]=function(R){return this.reverse()[x](R).reverse()}}),co(["filter","map","takeWhile"],function(x,S){var R=S+1,L=R==F||R==D;xr.prototype[x]=function(H){var Q=this.clone();return Q.__iteratees__.push({iteratee:Ot(H,3),type:R}),Q.__filtered__=Q.__filtered__||L,Q}}),co(["head","last"],function(x,S){var R="take"+(S?"Right":"");xr.prototype[x]=function(){return this[R](1).value()[0]}}),co(["initial","tail"],function(x,S){var R="drop"+(S?"":"Right");xr.prototype[x]=function(){return this.__filtered__?new xr(this):this[R](1)}}),xr.prototype.compact=function(){return this.filter(Oa)},xr.prototype.find=function(x){return this.filter(x).head()},xr.prototype.findLast=function(x){return this.reverse().find(x)},xr.prototype.invokeMap=or(function(x,S){return typeof x=="function"?new xr(this):this.map(function(R){return S0(R,x,S)})}),xr.prototype.reject=function(x){return this.filter(wm(Ot(x)))},xr.prototype.slice=function(x,S){x=Zt(x);var R=this;return R.__filtered__&&(x>0||S<0)?new xr(R):(x<0?R=R.takeRight(-x):x&&(R=R.drop(x)),S!==r&&(S=Zt(S),R=S<0?R.dropRight(-S):R.take(S-x)),R)},xr.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},xr.prototype.toArray=function(){return this.take(U)},cs(xr.prototype,function(x,S){var R=/^(?:filter|find|map|reject)|While$/.test(S),L=/^(?:head|last)$/.test(S),H=K[L?"take"+(S=="last"?"Right":""):S],Q=L||/^find/.test(S);H&&(K.prototype[S]=function(){var le=this.__wrapped__,de=L?[1]:arguments,be=le instanceof xr,je=de[0],$e=be||zt(le),He=function(mr){var Sr=H.apply(K,Nl([mr],de));return L&&ut?Sr[0]:Sr};$e&&R&&typeof je=="function"&&je.length!=1&&(be=$e=!1);var ut=this.__chain__,bt=!!this.__actions__.length,Nt=Q&&!ut,nr=be&&!bt;if(!Q&&$e){le=nr?le:new xr(this);var Mt=x.apply(le,de);return Mt.__actions__.push({func:_m,args:[He],thisArg:r}),new ho(Mt,ut)}return Nt&&nr?x.apply(this,de):(Mt=this.thru(He),Nt?L?Mt.value()[0]:Mt.value():Mt)})}),co(["pop","push","shift","sort","splice","unshift"],function(x){var S=Hg[x],R=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",L=/^(?:pop|shift)$/.test(x);K.prototype[x]=function(){var H=arguments;if(L&&!this.__chain__){var Q=this.value();return S.apply(zt(Q)?Q:[],H)}return this[R](function(le){return S.apply(zt(le)?le:[],H)})}}),cs(xr.prototype,function(x,S){var R=K[S];if(R){var L=R.name+"";$r.call(Gf,L)||(Gf[L]=[]),Gf[L].push({name:S,func:R})}}),Gf[fm(r,v).name]=[{name:"wrapper",func:r}],xr.prototype.clone=_K,xr.prototype.reverse=yK,xr.prototype.value=xK,K.prototype.at=qJ,K.prototype.chain=KJ,K.prototype.commit=ZJ,K.prototype.next=JJ,K.prototype.plant=eQ,K.prototype.reverse=tQ,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=rQ,K.prototype.first=K.prototype.head,m0&&(K.prototype[m0]=QJ),K},Uf=Zq();tc?((tc.exports=Uf)._=Uf,uw._=Uf):Di._=Uf}).call(Ct)})(ux,ux.exports);var ek=ux.exports;function Xt(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const iH={};function B2e(t){const e={};for(const[r,n]of Object.entries(t))e[r]=iH[n.scriptType]={scriptString:r,...n};return e}const Ut=t=>(typeof t=="string"?Number(t):t)/.5;function fi(t){const e={};return t&&(t.x!==void 0&&(e.left=Ut(t.x)+"px",e.position="absolute"),t.y!==void 0&&(e.top=Ut(t.y)+"px",e.position="absolute"),t.scale!==void 0&&(e.transform?e.transform+=` scale(${t.scale})`:e.transform=`scale(${t.scale})`),t.fontSize!==void 0&&(e.fontSize=Ut(t.fontSize)+"px"),t.fontColor!==void 0&&(e.color=t.fontColor),t.width!==void 0&&(e.width=Ut(t.width)+"px"),t.height!==void 0&&(e.height=Ut(t.height)+"px"),t.marginLeft!==void 0&&(e.marginLeft=Ut(t.marginLeft)+"px"),t.marginRight!==void 0&&(e.marginRight=Ut(t.marginRight)+"px"),t.marginTop!==void 0&&(e.marginTop=Ut(t.marginTop)+"px"),t.marginBottom!==void 0&&(e.marginBottom=Ut(t.marginBottom)+"px"),t.gap!==void 0&&(e.gap=Ut(t.gap)+"px"),t.rowGap!==void 0&&(e.rowGap=Ut(t.rowGap)+"px"),t.columnGap!==void 0&&(e.columnGap=Ut(t.columnGap)+"px"),t.position&&(e.position=t.position),t.alignPosition!==void 0&&(t.alignPosition==="top-center"?e.top="0":t.alignPosition==="bottom-center"&&(e.top="auto",e.bottom="0")),t.fontColor===void 0&&t.customColor!==void 0&&(e.color=t.customColor),t.fontColor===void 0&&t.customFontSize!==void 0&&(e.fontSize=Ut(t.customFontSize)+"px")),e}function D2e(t){if(!t||ek.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"image",url:Pt(n,Tt.ui)})}),e}function U2e(){var r;const t=(r=$.sceneManager.sceneData.currentScene)==null?void 0:r.sceneName,e={[ja.Affinity]:1,[ja.Achieve]:1,[ja.Storyline]:1,"config.txt":1};return!(!t||e[t])}function j2e(t){if(!t||ek.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"video",url:Pt(n,Tt.video)})}),e}function uD(t,e){const r=document.createElement("style");let n=`
    @keyframes ${e==="normal"?"":"active-"}cursor-animation {
  `;if(!t.imgs||t.imgs.length===0)return;t.imgs.forEach((a,o)=>{const s=Pt(a,Tt.ui),c=o/t.imgs.length*100;n+=`
      ${c}% { cursor: url(${s}), pointer; }
    `}),n+=`
    100% { cursor: url(${Pt(t.imgs[0],Tt.ui)}), pointer; }
    }
  `;const i=[n];e==="normal"?i.push(`#root { animation: cursor-animation ${t.interval*t.imgs.length}ms infinite steps(${t.imgs.length}); }`):i.push(`.interactive { animation: active-cursor-animation ${t.interval*t.imgs.length}ms infinite steps(${t.imgs.length}); }`),r.innerHTML=i.join(`
`),document.head.appendChild(r)}function _g(t){return new Promise(e=>{setTimeout(e,t)})}const $2e="_main_1qr2u_1",G2e="_singleButton_1qr2u_12",V2e="_singleButton_fast_1qr2u_19",H2e="_singleButton_auto_1qr2u_23",z2e="_singleButton_auto_active_1qr2u_27",X2e="_singleButton_fast_active_1qr2u_31",W2e="_autoIcon_1qr2u_35",Y2e="_fastIcon_1qr2u_48",q2e="_historyIcon_1qr2u_61",K2e="_fastSlPreview_1qr2u_74",Z2e="_fastSlEnter_1qr2u_1",J2e="_fastsave_1qr2u_88",Q2e="_fastSPreview_1qr2u_88",eCe="_fastload_1qr2u_92",tCe="_fastLPreview_1qr2u_92",rCe="_slPreviewMain_1qr2u_104",nCe="_imgContainer_1qr2u_112",iCe="_textContainer_1qr2u_120",Xr={main:$2e,singleButton:G2e,singleButton_fast:V2e,singleButton_auto:H2e,singleButton_auto_active:z2e,singleButton_fast_active:X2e,autoIcon:W2e,fastIcon:Y2e,historyIcon:q2e,fastSlPreview:K2e,fastSlEnter:Z2e,fastsave:J2e,fastSPreview:Q2e,fastload:eCe,fastLPreview:tCe,slPreviewMain:rCe,imgContainer:nCe,textContainer:iCe},aH=t=>{const e=document.getElementById("Button_ControlPanel_auto");if(e){let r=Xr.singleButton+" "+Xr.singleButton_auto;t?e.className=r+" "+Xr.singleButton_auto_active:e.className=r}},ab=()=>{$.gameplay.isAuto=!1,aH(!1),$.gameplay.autoInterval!==null&&(clearInterval($.gameplay.autoInterval),$.gameplay.autoInterval=null),$.gameplay.autoTimeout!==null&&(clearTimeout($.gameplay.autoTimeout),$.gameplay.autoTimeout=null)},oH=()=>{$.gameplay.isAuto?ab():($.gameplay.isAuto=!0,aH(!0),$.gameplay.autoInterval=setInterval(oCe,100))},aCe=()=>{ti(),$.gameplay.autoTimeout=null},oCe=()=>{const e=750-250*ue.getState().userData.optionData.autoSpeed;let r=!1;$.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&$.gameplay.autoTimeout===null&&($.gameplay.autoTimeout=setTimeout(aCe,e))},sH=t=>{const e=document.getElementById("Button_ControlPanel_fast"),r=Xr.singleButton+" "+Xr.singleButton_fast;e&&(t?e.className=r+" "+Xr.singleButton_fast_active:e.className=r)},_l=()=>{uH()&&($.gameplay.isFast=!1,sH(!1),$.gameplay.fastTimeout!==null&&(clearTimeout($.gameplay.fastTimeout),$.gameplay.fastTimeout=null))},lH=()=>{if(uH())return;$.gameplay.isFast=!0,sH(!0);let t=0;const e=()=>{if(t>=9){_l();return}console.log(""),ti(),t++,$.gameplay.fastTimeout=setTimeout(e,200)};e()},uH=function(){return $.gameplay.isFast},tk=()=>{_l(),ab()},cH=()=>{$.gameplay.isFast?_l():lH()},sCe=async t=>{await Mi.post("/third_payment_record_report",t).then(()=>{console.log("")}).catch(e=>{console.error(": ",e)})},lCe=async t=>{await Mi.post("/third_user_online_report",t).then(()=>{console.log("")}).catch(e=>{console.error(": ",e)})},uCe=async t=>{await Mi.post("/third_user_online_log_report",t).then(()=>{console.log(" ")}).catch(e=>{console.error(" : ",e)})},fH=async t=>{await Mi.post("/third_product_chapter_report",t).then(()=>{console.log(" ")}).catch(e=>{console.error(" : ",e)})};function yg(){let t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");return`${e}-${r}-${n} ${i}:${a}:${o}`}class rk{constructor(e,r){at(this,"text");at(this,"jump");at(this,"jumpToScene");at(this,"showCondition");at(this,"enableCondition");at(this,"shouldPay");at(this,"amount");at(this,"salesType");at(this,"productId");at(this,"hasBought");at(this,"style");this.text=e,this.jump=r,this.jumpToScene=r.match(/\./)!==null}static parse(e,r){const n=e.split("->"),i=n.length>1?n[0]:null,a=n.length>1?n[1]:n[0],o=a.split(":"),s=o[0].replace(/[\$\#]{[^{}]*}/,""),c=new rk(s,o[1]),l=/\$\{(.*?)\}/,u=a.match(l);if(u){const p=u[1].split(","),d={};p.forEach(g=>{const[m,v]=g.split("=");m&&v&&(d[m.trim()]=isNaN(Number(v.trim()))?v.trim():Number(v.trim()))}),c.style=d}const f=/\#\{(.*?)\}/.exec(a);if(f&&ue.getState().storeData.isEditorPreviewMode===!0){const p=f[1].split(",");let d=0,g=0,m=1;p.forEach(_=>{const[y,b]=_.split("=");y==="productId"?d=isNaN(Number(b.trim()))?0:Number(b.trim()):y==="amount"?g=isNaN(Number(b.trim()))?0:Number(b.trim()):y==="salesType"&&(m=isNaN(Number(b.trim()))?1:Number(b.trim()))});const v=ue.getState().storeData.paymentConfigurationList.find(_=>_.product_id===d);d>0&&g>0&&(c.shouldPay=!0,c.productId=d,c.amount=g,c.salesType=m,lx(d).then(_=>{r.current[d]=!0})),(v==null?void 0:v.is_buy)===!0&&(c.hasBought=!0)}if(i!==null){const h=i.match(/\((.*)\)/);h&&(c.showCondition=h[1]);const p=i.match(/\[(.*)\]/);p&&(c.enableCondition=p[1])}return c}}const mA=(t,e)=>{var d;const r=t.content.split("|");let n=!1,i="";const a={current:{}},o=r.map(g=>rk.parse(g,a)),c=ue.getState().userData.optionData.textboxFont===Kc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:l,playSeClick:u}=Kd();let f={current:!1},h={current:null};if((d=t==null?void 0:t.args)==null||d.forEach(g=>{var m;g.key==="isChooseEvent"&&(n=!!g.value),g.key==="chooseEventId"&&(i=(m=g.value)==null?void 0:m.toString())}),n&&i){const g={thirdUserId:sessionStorage.getItem("sdk-userId"),productId:$.gameId+"",optionId:Number(i),reportTime:yg(),channel:sessionStorage.getItem("sdk-userId")?1:0};fH(g)}_l();const p=g=>g.filter((m,v)=>cA(m.showCondition)).map((m,v)=>{var C,T,A,I;const _=cA(m.enableCondition);let y=_?`${cc.Choose_item} interactive`:cc.Choose_item_disabled,b=Date.now();const w=()=>{if(!_&&!f.current)return;u();const O=()=>{if(e==null||e(),h.current&&(clearTimeout(h.current),h.current=null),m.jumpToScene){const P=m.jump.split("./game/scene/")[1];eH(m.jump,P)}else tH(m.jump);f.current=!1,$.gameplay.performController.unmountPerform("choose")};if(m.shouldPay){const P=()=>{window.pubsub.publish("loading",{loading:!0}),rH(m.productId??0).then(async D=>{window.pubsub.publish("loading",{loading:!1}),await _g(2e3),D.code===0?(window.pubsub.publish("toaster",{show:!0,text:""}),O()):D.code===10014?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("rechargeModal",{})):window.pubsub.publish("toaster",{show:!0,text:D.message})}).catch(()=>{window.pubsub.publish("loading",{loading:!1})})};let k=!1;const F=ue.getState().storeData.paymentConfigurationList.find(D=>D.product_id===m.productId);F&&(k=F.is_buy);const B=()=>{$a({title:"",content:`${m.amount}${m.salesType===1?"":""}`,suffixContent:"",leftText:"",rightText:"",type:"pay",leftFunc:()=>{},rightFunc:P})};if(k){a.current[m.productId||""]?O():lx(m.productId??0).then(D=>{D.code===0&&(a.current[m.productId||""]=!0,D.data.is_buy?O():B())});return}a.current[m.productId||""]&&!k?B():lx(m.productId??0).then(D=>{D.code===0&&(a.current[m.productId||""]=!0,D.data.is_buy?O():B())});return}else O()};let E={fontFamily:c};if(m.style&&(E=fi(m.style)),_||(E.cursor="not-allowed"),typeof((C=m.style)==null?void 0:C.countdown)=="number"){y=_?cc.Choose_item_countdown:cc.Choose_item_countdown_disabled;let O=m.style.countdown,P=1082,k=1082/(O*1e3/16);const F=()=>{O<=0&&h.current?(clearTimeout(h),h.current=null,f.current=!_,w()):h.current=setTimeout(()=>{O-=.016,P-=k;let B=document.getElementById("rect");B==null||B.setAttribute("width",Math.max(0,P).toString()),F()},16)};return F(),M.jsxs(Ur.Fragment,{children:[M.jsxs("div",{className:y,style:E,children:[M.jsx("img",{src:P2e,alt:m.text,style:{width:"1082px",height:"106px"}}),M.jsx("img",{src:O2e,className:cc.Choose_item_progress_bar})]}),M.jsx("svg",{width:"0",height:"0",children:M.jsx("defs",{children:M.jsx("clipPath",{id:"myClip",children:M.jsx("rect",{id:"rect",width:"1082",height:"106",rx:"53",ry:"53",style:{fill:"#ffffff"}})})})})]},m.jump+v)}if((T=m.style)!=null&&T.image){let O="";((A=m.style)!=null&&A.image.includes("-idle.png")||(I=m.style)!=null&&I.image.includes("-active.png"))&&(O="-18px"),y=`${cc.Choose_item_image} interactive`;const P=Pt(m.style.image,Tt.ui),k=`img-option-${v}`,F=new Image;return F.src=P,F.onload=function(){let B=document.getElementById(k),D=B==null?void 0:B.querySelectorAll("img");D==null||D.forEach(function(te){te.remove()});const z=Ut(F.naturalWidth)+"px",ee=Ut(F.naturalHeight)+"px";F.style.width=z,F.style.height=ee,F.style.position="absolute",O&&(F.style.top=O),F.alt=m.text,B&&(B.style.width=z,B.style.height=ee,B==null||B.prepend(F),B=null)},M.jsx("div",{id:k,className:y,style:E,onMouseEnter:_?l:void 0,onMouseDown:_?B=>{const D=B.currentTarget;D.className=`${y} btn-clicked`,b=Date.now()}:void 0,onMouseUp:_?B=>{const D=Date.now()-b;let z=B.currentTarget;setTimeout(()=>{z.className=y,z=null,setTimeout(w,320)},D-350>0?0:350-D)}:void 0,children:M.jsxs("span",{children:[m.text,!m.hasBought&&m.shouldPay&&M.jsxs("span",{style:{marginLeft:8,fontSize:"0.7em"},children:["(",m.amount,m.salesType===1?"":"",")"]})]})},m.jump+v)}return M.jsxs("div",{className:y,style:E,onMouseEnter:_?l:void 0,onMouseDown:_?O=>{const P=O.currentTarget;P.className=`${y} btn-clicked`,b=Date.now()}:void 0,onMouseUp:_?O=>{const P=Date.now()-b;let k=O.currentTarget;setTimeout(()=>{k.className=y,k=null,setTimeout(w,320)},P-350>0?0:350-P)}:void 0,children:[m.text,!m.hasBought&&m.shouldPay&&M.jsxs("span",{style:{marginLeft:8,fontSize:"0.7em"},children:["(",m.amount,")"]})]},m.jump+v)});return Fu.render(M.jsx("div",{className:cc.Choose_Main,children:p(o)}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{Fu.render(M.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},cCe=t=>(ze.debug(`${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),fCe=t=>(t.content!==""&&t.content!=="none"?ue.dispatch(Lt({key:"enableFilm",value:t.content})):ue.dispatch(Lt({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),hCe="_Choose_Main_bjhyz_1",dCe="_Choose_item_bjhyz_13",pCe="_glabalDialog_container_inner_bjhyz_28",vCe="_glabalDialog_container_bjhyz_28",gCe="_title_bjhyz_47",mCe="_button_bjhyz_59",Vl={Choose_Main:hCe,Choose_item:dCe,glabalDialog_container_inner:pCe,glabalDialog_container:vCe,title:gCe,button:mCe},_Ce=t=>{const e=t.content.toString().trim(),r=Yt(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=Yt(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=ue.getState().userData.optionData.textboxFont===Kc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:c,playSeClick:l}=Kd();let u=Date.now();const f=M.jsx("div",{style:{fontFamily:s},className:Vl.glabalDialog_container,children:M.jsxs("div",{className:Vl.glabalDialog_container_inner,children:[M.jsx("div",{className:Vl.title,children:n}),M.jsx("input",{id:"user-input",className:Vl.Choose_item}),M.jsx("div",{onMouseEnter:c,onMouseDown:h=>{const p=h.currentTarget;p.className=`${Vl.button} interactive btn-clicked`,u=Date.now()},onMouseUp:h=>{const p=Date.now()-u;let d=h.currentTarget;setTimeout(()=>{d.className=Vl.button,d=null;const g=document.getElementById("user-input");g&&ue.dispatch(IG({key:e,value:((g==null?void 0:g.value)??"")===""?" ":(g==null?void 0:g.value)??""})),l(),$.gameplay.performController.unmountPerform("userInput"),ti()},p-350>0?0:350-p)},className:`${Vl.button} interactive`,children:a})]})});return Fu.render(M.jsx("div",{className:Vl.Choose_Main,children:f}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Fu.render(M.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},yCe="_FullScreenPerform_main_7er8a_2",xCe="_FullScreenPerform_element_7er8a_9",bCe="_fullScreen_video_7er8a_17",wCe="_fadeIn_7er8a_74",ECe="_intro_showSoftly_7er8a_1",SCe="_slideIn_7er8a_80",CCe="_typingEffect_7er8a_86",TCe="_typing_7er8a_86",ACe="_blinkCursor_7er8a_1",ICe="_pixelateEffect_7er8a_95",RCe="_pixelateAnimation_7er8a_1",PCe="_revealAnimation_7er8a_101",OCe="_videoContainer_7er8a_115",ql={FullScreenPerform_main:yCe,FullScreenPerform_element:xCe,fullScreen_video:bCe,fadeIn:wCe,intro_showSoftly:ECe,slideIn:SCe,typingEffect:CCe,typing:TCe,blinkCursor:ACe,pixelateEffect:ICe,pixelateAnimation:RCe,revealAnimation:PCe,videoContainer:OCe},kCe=t=>{const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(w,E=0)=>{switch(w){case"fadeIn":return ql.fadeIn;case"slideIn":return ql.slideIn;case"typingEffect":return`${ql.typingEffect} ${E}`;case"pixelateEffect":return ql.pixelateEffect;case"revealAnimation":return ql.revealAnimation;default:return ql.fadeIn}};let o=ql.fadeIn,s=1500,c=!1;for(const w of t.args){if(w.key==="backgroundColor"&&(n=w.value||"rgba(0, 0, 0, 1)"),w.key==="fontColor"&&(i=w.value||"rgba(255, 255, 255, 1)"),w.key==="fontSize")switch(w.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(w.key==="animation"&&(o=a(w.value)),w.key==="delayTime"){const E=parseInt(w.value.toString(),10);s=isNaN(E)?s:E}w.key==="hold"&&w.value===!0&&(c=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},u=t.content.split(/\|/);let h=1e3+s*u.length;const p=c?1e3*60*60*24:1e3+s*u.length;let d=!0,g=setTimeout(()=>{d=!1},h),m=setTimeout(()=>{});const v=()=>{const w=document.getElementById("introContainer");if(h-=s,clearTimeout(g),g=setTimeout(()=>{d=!1},h),w){const E=w.childNodes[0].childNodes[0].childNodes,C=E.length;E.forEach((T,A)=>{const I=Number(T.style.animationDelay.split("ms")[0]);I>0&&(T.style.animationDelay=`${I-s}ms`),A===C-1&&(I===0?(clearTimeout(m),$.gameplay.performController.unmountPerform(e)):(clearTimeout(m),c||(m=setTimeout(()=>{$.gameplay.performController.unmountPerform(e),setTimeout(ti,0)},h))))})}};$.events.userInteractNext.on(v);const _=u.map((w,E)=>M.jsxs("div",{style:{animationDelay:`${s*E}ms`},className:o,children:[w,w===""?"":""]},"introtext"+E+Math.random().toString())),y=M.jsx("div",{style:l,children:M.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:_})});Fu.render(y,document.getElementById("introContainer"));const b=document.getElementById("introContainer");return b&&(b.style.display="block"),{performName:e,duration:p,isHoldOn:!1,stopFunction:()=>{const w=document.getElementById("introContainer");w&&(w.style.display="none"),$.events.userInteractNext.off(v)},blockingNext:()=>d,blockingAuto:()=>d,stopTimeout:void 0,goNextWhenOver:!0}},FCe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),NCe=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),ue.dispatch(Lt({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},MCe="modulepreload",LCe=function(t,e){return new URL(t,e).href},cD={},BCe=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=LCe(a,n),a in cD)return;cD[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":MCe,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},hH=new Map;function DCe(t){return t?typeof t=="string"?t:t():null}function dH(t){const e=DCe(t);return e||(ze.error("Get name of perform failed. There no name of the perform."),"")}function lze(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);hH.set(dH(t),e)}function UCe(t,e=[]){const r=hH.get(dH(t));if(!r||!(r instanceof Function))throw ze.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}BCe(()=>import("./initRegister-8f0b5cd9.js"),[],import.meta.url);const jCe=t=>{const e="PixiPerform"+t.content;$.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=UCe(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;ze.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(a=$.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=$.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},$Ce=(t,e=4294967295,r=79764919)=>{const n=new Int32Array(256);let i,a,o,s=e;for(i=0;i<256;i++){for(o=i<<24,a=8;a>0;--a)o=2147483648&o?o<<1^r:o<<1;n[i]=o}for(i=0;i<t.length;i++)s=s<<8^n[255&(s>>24^t[i])];return s},fD=(t,e=$Ce)=>{const r=m=>new Uint8Array(m.length/2).map((v,_)=>parseInt(m.substring(2*_,2*(_+1)),16)),n=m=>r(m)[0],i=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach((m,v)=>i.set(m,v));const a=new Uint8Array(t.length);let o,s,c,l=!1,u=0,f=42,h=t.length>13&&t.substring(0,9)==="dynEncode",p=0;h&&(p=11,s=n(t.substring(9,p)),s<=1&&(p+=2,f=n(t.substring(11,p))),s===1&&(p+=8,c=(m=>new DataView(r(m).buffer).getInt32(0,!0))(t.substring(13,p))));const d=256-f;for(let m=p;m<t.length;m++)if(o=t.charCodeAt(m),o!==61||l){if(o===92&&m<t.length-5&&h){const v=t.charCodeAt(m+1);v!==117&&v!==85||(o=parseInt(t.substring(m+2,m+6),16),m+=5)}if(o>255){const v=i.get(o);v&&(o=v+127)}l&&(l=!1,o-=64),a[u++]=o<f&&o>0?o+d:o-f}else l=!0;const g=a.subarray(0,u);if(h&&s===1){const m=e(g);if(m!==c){const v="Decode failed crc32 validation";throw console.error("`simple-yenc`\n",v+`
`,"Expected: "+c+"; Got: "+m+`
`,"Visit https://github.com/eshaz/simple-yenc for more information"),Error(v)}}return g};function on(){const t=Uint8Array,e=Float32Array;on.modules||Object.defineProperties(on,{modules:{value:new WeakMap},setModule:{value(r,n){on.modules.set(r,Promise.resolve(n))}},getModule:{value(r,n){let i=on.modules.get(r);return i||(n?i=WebAssembly.compile(fD(n)):(n=r.wasm,i=on.inflateDynEncodeString(n).then(a=>WebAssembly.compile(a))),on.modules.set(r,i)),i}},concatFloat32:{value(r,n){let i=new e(n),a=0,o=0;for(;a<r.length;)i.set(r[a],o),o+=r[a++].length;return i}},getDecodedAudio:{value:(r,n,i,a,o)=>({errors:r,channelData:n,samplesDecoded:i,sampleRate:a,bitDepth:o})},getDecodedAudioMultiChannel:{value(r,n,i,a,o,s){let c=[],l,u;for(l=0;l<i;l++){const f=[];for(u=0;u<n.length;)f.push(n[u++][l]||[]);c.push(on.concatFloat32(f,a))}return on.getDecodedAudio(r,c,a,o,s)}},inflateDynEncodeString:{value(r){return r=fD(r),new Promise(n=>{const i=String.raw`dynEncode0114db91da9bu*ttt$#UU3yzzss|yusvuy&4<054<,5T44^T44<(6U~J(44< ~A544U~6J0444545 444J0444J,4U4U7U454U4Z4U4U^/6545T4T44BU~64CU~O4U54U~5 U5T4B4Z!4U~5U5U5T4U~6U4ZTU5U5T44~4O4U2ZTU5T44Z!4B6T44U~64B6U~O44U~4O4U~54U~5 44~C4~54U~5 44~5454U4B6Ub!444~UO4U~5 U54U4ZTU#44U$464<4~B6^4<444~U~B4U~54U544~544~U5 U#UJU#5TT4U0ZTTUX5U5T4T4U#~4OU4U$~C4~54U~5 T44$6U\!TTT4UaT4<6T4<64<Z!44~4N4<U~5 4UZ!4U_TU#44UU6U~B$544$6U\!4U6U#~B44U#~B$~64<6_TU#444U~B~6~54<Y!44<_!T4Y!4<64~444~AN44<U~6J4U5 44J4U[!U#44UO4U~54U~5 U54 7U6844J44J 4UJ4UJ04VK(44<J44<J$4U~54U~5 4U~5!TTT4U$5"U5TTTTTTT4U$"4VK,U54<(6U~64<$6_!4< 64~6A54A544U~6#J(U54A4U[!44J(44#~A4U6UUU[!4464~64_!4<64~54<6T4<4]TU5 T4Y!44~44~AN4U~54U~54U5 44J(44J UA!U5U#UJU"UJU#U"JU#U"JT4UZTU5T4UZTU5T4UDZTU5T4U$[T44~UO4U~5 UU4U~U$.U5T4UP[T4U~4~UO4U~5 U#<U#<4U~U2$.UUN 44 ~UO4U~5 44!~UO4U~5 4U~4~UO4U~5 44J44J(U5 44U~J@44U~J<44UD~J844U~J44U$54U$5U54U$54U1^4U1^!4U~54U~5U54U~6U4U^/65T4T4U$54U~4BU~4O4U54U~5 UU'464U'_/54UU~5T4T4U~4BU~UO4U54U~5 U54U~4U~4U~U'$!44~5U5T44\T44U<~$6U\!4U#aT4U~4U~4O4U~5 U5U5U5TTT4U$"4YTU5 4U4~C5U5 U5U5444$4~64~\TU5 4U~4U~5T4Y!44O4U~54U~54U5 4CYTU5 4U~4U~4U~4$6TU54U\!44B4B~[!4U~4UD~4U~4U~4$6TU54U\!44B4B~[!44U<~4U4~$5 4U"U#$544"Y!454U^!44<J44<(J454U~84UN!#%'+/37?GOWgwU;U9$%& !"#`;on.getModule(on,i).then(a=>WebAssembly.instantiate(a,{})).then(({exports:a})=>{const o=new Map(Object.entries(a)),s=o.get("puff"),c=o.get("memory").buffer,l=new t(c),u=new DataView(c);let f=o.get("__heap_base");const h=r.length,p=f;f+=4,u.setInt32(p,h,!0);const d=f;f+=h,l.set(r,d);const g=f;f+=4,u.setInt32(g,l.byteLength-f,!0),s(f,g,d,p),n(l.slice(f,f+u.getInt32(g,!0)))})})}}}),Object.defineProperty(this,"wasm",{enumerable:!0,get:()=>this._wasm}),this.getOutputChannels=(r,n,i)=>{let a=[],o=0;for(;o<n;)a.push(r.slice(o*i,o++*i+i));return a},this.allocateTypedArray=(r,n,i=!0)=>{const a=this._wasm.malloc(n.BYTES_PER_ELEMENT*r);return i&&this._pointers.add(a),{ptr:a,len:r,buf:new n(this._wasm.HEAP,a,r)}},this.free=()=>{this._pointers.forEach(r=>{this._wasm.free(r)}),this._pointers.clear()},this.codeToString=r=>{const n=[],i=new Uint8Array(this._wasm.HEAP);for(let a=i[r];a!==0;a=i[++r])n.push(a);return String.fromCharCode.apply(null,n)},this.addError=(r,n,i,a,o,s)=>{r.push({message:n,frameLength:i,frameNumber:a,inputBytes:o,outputSamples:s})},this.instantiate=(r,n)=>(n&&on.setModule(r,n),this._wasm=new r(on).instantiate(),this._pointers=new Set,this._wasm.ready.then(()=>this))}var GCe=Worker;const VCe=Ki(GCe),HCe=()=>globalThis.Worker||VCe;class pH extends HCe(){constructor(e,r,n,i){on.modules||new on;let a=on.modules.get(n);if(!a){let o="text/javascript",s,c=`'use strict';(${((l,u,f)=>{let h,p,d=new Promise(g=>{p=g});self.onmessage=({data:{id:g,command:m,data:v}})=>{let _=d,y={id:g},b;m==="init"?(Object.defineProperties(l,{WASMAudioDecoderCommon:{value:u},EmscriptenWASM:{value:f},module:{value:v.module},isWebWorker:{value:!0}}),h=new l(v.options),p()):m==="free"?h.free():m==="ready"?_=_.then(()=>h.ready):m==="reset"?_=_.then(()=>h.reset()):(Object.assign(y,h[m](Array.isArray(v)?v.map(w=>new Uint8Array(w)):new Uint8Array(v))),b=y.channelData?y.channelData.map(w=>w.buffer):[]),_.then(()=>self.postMessage(y,b))}}).toString()})(${n}, ${on}, ${i})`;try{s=typeof process.versions.node<"u"}catch{}a=s?`data:${o};base64,${Buffer.from(c).toString("base64")}`:URL.createObjectURL(new Blob([c],{type:o})),on.modules.set(n,a)}super(a,{name:r}),this._id=Number.MIN_SAFE_INTEGER,this._enqueuedOperations=new Map,this.onmessage=({data:o})=>{const{id:s,...c}=o;this._enqueuedOperations.get(s)(c),this._enqueuedOperations.delete(s)},new i(on).getModule().then(o=>{this.postToDecoder("init",{module:o,options:e})})}async postToDecoder(e,r){return new Promise(n=>{this.postMessage({command:e,id:this._id,data:r}),this._enqueuedOperations.set(this._id++,n)})}get ready(){return this.postToDecoder("ready")}async free(){await this.postToDecoder("free").finally(()=>{this.terminate()})}async reset(){await this.postToDecoder("reset")}}const Qd=(t,e)=>{Object.defineProperty(t,"name",{value:e})},bn=Symbol,vH=", ",sr=(()=>{const t="front",e="side",r="rear",n="left",i="center",a="right";return["",t+" ",e+" ",r+" "].map(o=>[[n,a],[n,a,i],[n,i,a],[i,n,a],[i]].flatMap(s=>s.map(c=>o+c).join(vH)))})(),Eu="LFE",xg="monophonic (mono)",Yh="stereo",Y0="surround",oi=(t,...e)=>`${[xg,Yh,`linear ${Y0}`,"quadraphonic",`5.0 ${Y0}`,`5.1 ${Y0}`,`6.1 ${Y0}`,`7.1 ${Y0}`][t-1]} (${e.join(vH)})`,_A=[xg,oi(2,sr[0][0]),oi(3,sr[0][2]),oi(4,sr[1][0],sr[3][0]),oi(5,sr[1][2],sr[3][0]),oi(6,sr[1][2],sr[3][0],Eu),oi(7,sr[1][2],sr[2][0],sr[3][4],Eu),oi(8,sr[1][2],sr[2][0],sr[3][0],Eu)],zCe=192e3,XCe=176400,gH=96e3,mH=88200,WCe=64e3,ob=48e3,nk=44100,ik=32e3,ak=24e3,ok=22050,sk=16e3,_H=12e3,yH=11025,lk=8e3,YCe=7350,qh="absoluteGranulePosition",Er="bandwidth",Lu="bitDepth",Wo="bitrate",AS=Wo+"Maximum",IS=Wo+"Minimum",RS=Wo+"Nominal",bg="buffer",PS=bg+"Fullness",Xi="codec",Bu=Xi+"Frames",ey="coupledStreamCount",cx="crc",xH=cx+"16",bH=cx+"32",Wi="data",hr="description",Ah="duration",Gm="emphasis",OS="hasOpusPadding",Zc="header",$p="isContinuedPacket",kS="isCopyrighted",Gp="isFirstPage",FS="isHome",Jc="isLastPage",Kh="isOriginal",Zh="isPrivate",NS="isVbr",qo="layer",st="length",_r="mode",jc=_r+"Extension",wH="mpeg",Jh=wH+"Version",MS="numberAACFrames",LS="outputGain",ty="preSkip",BS="profile",DS=bn(),Qh="protection",qCe="rawData",$c="segments",Rn="subarray",Vp="version",sb="vorbis",ry=sb+"Comments",ny=sb+"Setup",lb="block",US=lb+"ingStrategy",jS=bn(),fc=lb+"Size",yp=lb+"size0",xp=lb+"size1",Vm=bn(),ub="channel",hc=ub+"MappingFamily",iy=ub+"MappingTable",Du=ub+"Mode",Hm=bn(),dr=ub+"s",EH="copyright",$S=EH+"Id",GS=EH+"IdStart",hf="frame",gh=hf+"Count",Uu=hf+"Length",cb="Number",Hp=hf+cb,eu=hf+"Padding",yr=hf+"Size",SH="Rate",VS="inputSample"+SH,uk="page",ay=uk+"Checksum",fx=bn(),bp=uk+"SegmentTable",Ba=uk+"Sequence"+cb,ck="sample",HS=ck+cb,Zn=ck+SH,tu=bn(),Yi=ck+"s",fb="stream",oy=fb+"Count",CH=fb+"Info",ed=fb+"Serial"+cb,KCe=fb+"StructureVersion",fk="total",sy=fk+"BytesOut",ly=fk+"Duration",yA=fk+"Samples",Yn=bn(),Su=bn(),zS=bn(),hb=bn(),vd=bn(),TH=bn(),hD=bn(),db=bn(),ua=bn(),e0=bn(),df=bn(),wg=bn(),pb=bn(),AH=bn(),Qc=bn(),gd=bn(),t0=bn(),IH=bn(),wl=Uint8Array,vb=DataView,gn="reserved",So="bad",q0="free",hk="none",RH="16bit CRC",dk=(t,e,r)=>{for(let n=0;n<t[st];n++){let i=e(n);for(let a=8;a>0;a--)i=r(i);t[n]=i}return t},ZCe=dk(new wl(256),t=>t,t=>t&128?7^t<<1:t<<1),Fn=[dk(new Uint16Array(256),t=>t<<8,t=>t<<1^(t&32768?32773:0))],Nn=[dk(new Uint32Array(256),t=>t,t=>t>>>1^(t&1)*3988292384)];for(let t=0;t<15;t++){Fn.push(new Uint16Array(256)),Nn.push(new Uint32Array(256));for(let e=0;e<=255;e++)Fn[t+1][e]=Fn[0][Fn[t][e]>>>8]^Fn[t][e]<<8,Nn[t+1][e]=Nn[t][e]>>>8^Nn[0][Nn[t][e]&255]}const JCe=t=>{let e=0;const r=t[st];for(let n=0;n!==r;n++)e=ZCe[e^t[n]];return e},QCe=t=>{const e=t[st],r=e-16;let n=0,i=0;for(;i<=r;)n^=t[i++]<<8|t[i++],n=Fn[15][n>>8]^Fn[14][n&255]^Fn[13][t[i++]]^Fn[12][t[i++]]^Fn[11][t[i++]]^Fn[10][t[i++]]^Fn[9][t[i++]]^Fn[8][t[i++]]^Fn[7][t[i++]]^Fn[6][t[i++]]^Fn[5][t[i++]]^Fn[4][t[i++]]^Fn[3][t[i++]]^Fn[2][t[i++]]^Fn[1][t[i++]]^Fn[0][t[i++]];for(;i!==e;)n=(n&255)<<8^Fn[0][n>>8^t[i++]];return n},eTe=t=>{const e=t[st],r=e-16;let n=0,i=0;for(;i<=r;)n=Nn[15][(t[i++]^n)&255]^Nn[14][(t[i++]^n>>>8)&255]^Nn[13][(t[i++]^n>>>16)&255]^Nn[12][t[i++]^n>>>24]^Nn[11][t[i++]]^Nn[10][t[i++]]^Nn[9][t[i++]]^Nn[8][t[i++]]^Nn[7][t[i++]]^Nn[6][t[i++]]^Nn[5][t[i++]]^Nn[4][t[i++]]^Nn[3][t[i++]]^Nn[2][t[i++]]^Nn[1][t[i++]]^Nn[0][t[i++]];for(;i!==e;)n=Nn[0][(n^t[i++])&255]^n>>>8;return n^-1},xA=(...t)=>{const e=new wl(t.reduce((r,n)=>r+n[st],0));return t.reduce((r,n)=>(e.set(n,r),r+n[st]),0),e},pf=t=>String.fromCharCode(...t),dD=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],hx=t=>dD[t&15]<<4|dD[t>>4];class tTe{constructor(e){this._data=e,this._pos=e[st]*8}set position(e){this._pos=e}get position(){return this._pos}read(e){const r=Math.floor(this._pos/8),n=this._pos%8;return this._pos-=e,(hx(this._data[r-1])<<8)+hx(this._data[r])>>7-n&255}}class rTe{constructor(e,r){this._onCodecHeader=e,this._onCodecUpdate=r,this[Qc]()}[gd](){this._isEnabled=!0}[Qc](){this._headerCache=new Map,this._codecUpdateData=new WeakMap,this._codecHeaderSent=!1,this._codecShouldUpdate=!1,this._bitrate=null,this._isEnabled=!1}[AH](e,r){if(this._onCodecUpdate){this._bitrate!==e&&(this._bitrate=e,this._codecShouldUpdate=!0);const n=this._codecUpdateData.get(this._headerCache.get(this._currentHeader));this._codecShouldUpdate&&n&&this._onCodecUpdate({bitrate:e,...n},r),this._codecShouldUpdate=!1}}[ua](e){const r=this._headerCache.get(e);return r&&this._updateCurrentHeader(e),r}[e0](e,r,n){this._isEnabled&&(this._codecHeaderSent||(this._onCodecHeader({...r}),this._codecHeaderSent=!0),this._updateCurrentHeader(e),this._headerCache.set(e,r),this._codecUpdateData.set(r,n))}_updateCurrentHeader(e){this._onCodecUpdate&&e!==this._currentHeader&&(this._codecShouldUpdate=!0,this._currentHeader=e)}}const ks=new WeakMap,Yu=new WeakMap;class r0{constructor(e,r){this._codecParser=e,this._headerCache=r}*[hD](){let e;do{if(e=yield*this.Frame[df](this._codecParser,this._headerCache,0),e)return e;this._codecParser[Su](1)}while(!0)}*[db](e){let r=yield*this[hD]();const n=Yu.get(r)[st];if(e||this._codecParser._flushing||(yield*this.Header[ua](this._codecParser,this._headerCache,n)))return this._headerCache[gd](),this._codecParser[Su](n),this._codecParser[hb](r),r;this._codecParser[vd](`Missing ${hf} at ${n} bytes from current position.`,`Dropping current ${hf} and trying again.`),this._headerCache[Qc](),this._codecParser[Su](1)}}class PH{constructor(e,r){Yu.set(this,{[Zc]:e}),this[Wi]=r}}class Eg extends PH{static*[df](e,r,n,i,a){const o=yield*e[ua](n,i,a);if(o){const s=ks.get(o)[Uu],c=ks.get(o)[Yi],l=(yield*n[Yn](s,a))[Rn](0,s);return new r(o,l,c)}else return null}constructor(e,r,n){super(e,r),this[Zc]=e,this[Yi]=n,this[Ah]=n/e[Zn]*1e3,this[Hp]=null,this[sy]=null,this[yA]=null,this[ly]=null,Yu.get(this)[st]=r[st]}}const XS="unsynchronizationFlag",WS="extendedHeaderFlag",YS="experimentalFlag",qS="footerPresent";class pk{static*getID3v2Header(e,r,n){const a={};let o=yield*e[Yn](3,n);if(o[0]!==73||o[1]!==68||o[2]!==51||(o=yield*e[Yn](10,n),a[Vp]=`id3v2.${o[3]}.${o[4]}`,o[5]&15)||(a[XS]=!!(o[5]&128),a[WS]=!!(o[5]&64),a[YS]=!!(o[5]&32),a[qS]=!!(o[5]&16),o[6]&128||o[7]&128||o[8]&128||o[9]&128))return null;const s=o[6]<<21|o[7]<<14|o[8]<<7|o[9];return a[st]=10+s,new pk(a)}constructor(e){this[Vp]=e[Vp],this[XS]=e[XS],this[WS]=e[WS],this[YS]=e[YS],this[qS]=e[qS],this[st]=e[st]}}class Sg{constructor(e){ks.set(this,e),this[Lu]=e[Lu],this[Wo]=null,this[dr]=e[dr],this[Du]=e[Du],this[Zn]=e[Zn]}}const OH={0:[q0,q0,q0,q0,q0],16:[32,32,32,32,8],240:[So,So,So,So,So]},zm=(t,e,r)=>8*((t+r)%e+e)*(1<<(t+r)/e)-8*e*(e/8|0);for(let t=2;t<15;t++)OH[t<<4]=[t*32,zm(t,4,0),zm(t,4,-1),zm(t,8,4),zm(t,8,0)];const nTe=0,iTe=1,aTe=2,oTe=3,pD=4,Xm="bands ",Wm=" to 31",vD={0:Xm+4+Wm,16:Xm+8+Wm,32:Xm+12+Wm,48:Xm+16+Wm},Tc="bitrateIndex",zp="v2",uy="v1",Ym="Intensity stereo ",qm=", MS stereo ",Km="on",Zm="off",sTe={0:Ym+Zm+qm+Zm,16:Ym+Km+qm+Zm,32:Ym+Zm+qm+Km,48:Ym+Km+qm+Km},KS={0:{[hr]:gn},2:{[hr]:"Layer III",[eu]:1,[jc]:sTe,[uy]:{[Tc]:aTe,[Yi]:1152},[zp]:{[Tc]:pD,[Yi]:576}},4:{[hr]:"Layer II",[eu]:1,[jc]:vD,[Yi]:1152,[uy]:{[Tc]:iTe},[zp]:{[Tc]:pD}},6:{[hr]:"Layer I",[eu]:4,[jc]:vD,[Yi]:384,[uy]:{[Tc]:nTe},[zp]:{[Tc]:oTe}}},ZS="MPEG Version ",gD="ISO/IEC ",lTe={0:{[hr]:`${ZS}2.5 (later extension of MPEG 2)`,[qo]:zp,[Zn]:{0:yH,4:_H,8:lk,12:gn}},8:{[hr]:gn},16:{[hr]:`${ZS}2 (${gD}13818-3)`,[qo]:zp,[Zn]:{0:ok,4:ak,8:sk,12:gn}},24:{[hr]:`${ZS}1 (${gD}11172-3)`,[qo]:uy,[Zn]:{0:nk,4:ob,8:ik,12:gn}},length:st},uTe={0:RH,1:hk},cTe={0:hk,1:"50/15 ms",2:gn,3:"CCIT J.17"},mD={0:{[dr]:2,[hr]:Yh},64:{[dr]:2,[hr]:"joint "+Yh},128:{[dr]:2,[hr]:"dual channel"},192:{[dr]:1,[hr]:xg}};class wv extends Sg{static*[ua](e,r,n){const i={},a=yield*pk.getID3v2Header(e,r,n);a&&(yield*e[Yn](a[st],n),e[Su](a[st]));const o=yield*e[Yn](4,n),s=pf(o[Rn](0,4)),c=r[ua](s);if(c)return new wv(c);if(o[0]!==255||o[1]<224)return null;const l=lTe[o[1]&24];if(l[hr]===gn)return null;const u=o[1]&6;if(KS[u][hr]===gn)return null;const f={...KS[u],...KS[u][l[qo]]};if(i[Jh]=l[hr],i[qo]=f[hr],i[Yi]=f[Yi],i[Qh]=uTe[o[1]&1],i[st]=4,i[Wo]=OH[o[2]&240][f[Tc]],i[Wo]===So||(i[Zn]=l[Zn][o[2]&12],i[Zn]===gn)||(i[eu]=o[2]&2&&f[eu],i[Zh]=!!(o[2]&1),i[Uu]=Math.floor(125*i[Wo]*i[Yi]/i[Zn]+i[eu]),!i[Uu]))return null;const h=o[3]&192;if(i[Du]=mD[h][hr],i[dr]=mD[h][dr],i[jc]=f[jc][o[3]&48],i[kS]=!!(o[3]&8),i[Kh]=!!(o[3]&4),i[Gm]=cTe[o[3]&3],i[Gm]===gn)return null;i[Lu]=16;{const{length:p,frameLength:d,samples:g,...m}=i;r[e0](s,i,m)}return new wv(i)}constructor(e){super(e),this[Wo]=e[Wo],this[Gm]=e[Gm],this[eu]=e[eu],this[kS]=e[kS],this[Kh]=e[Kh],this[Zh]=e[Zh],this[qo]=e[qo],this[jc]=e[jc],this[Jh]=e[Jh],this[Qh]=e[Qh]}}class vk extends Eg{static*[df](e,r,n){return yield*super[df](wv,vk,e,r,n)}constructor(e,r,n){super(e,r,n)}}class fTe extends r0{constructor(e,r,n){super(e,r),this.Frame=vk,this.Header=wv,n(this[Xi])}get[Xi](){return wH}*[wg](){return yield*this[db]()}}const hTe={0:"MPEG-4",8:"MPEG-2"},dTe={0:"valid",2:So,4:So,6:So},pTe={0:RH,1:hk},vTe={0:"AAC Main",64:"AAC LC (Low Complexity)",128:"AAC SSR (Scalable Sample Rate)",192:"AAC LTP (Long Term Prediction)"},gTe={0:gH,4:mH,8:WCe,12:ob,16:nk,20:ik,24:ak,28:ok,32:sk,36:_H,40:yH,44:lk,48:YCe,52:gn,56:gn,60:"frequency is written explicitly"},_D={0:{[dr]:0,[hr]:"Defined in AOT Specific Config"},64:{[dr]:1,[hr]:xg},128:{[dr]:2,[hr]:oi(2,sr[0][0])},192:{[dr]:3,[hr]:oi(3,sr[1][3])},256:{[dr]:4,[hr]:oi(4,sr[1][3],sr[3][4])},320:{[dr]:5,[hr]:oi(5,sr[1][3],sr[3][0])},384:{[dr]:6,[hr]:oi(6,sr[1][3],sr[3][0],Eu)},448:{[dr]:8,[hr]:oi(8,sr[1][3],sr[2][0],sr[3][0],Eu)}};class gb extends Sg{static*[ua](e,r,n){const i={},a=yield*e[Yn](7,n),o=pf([a[0],a[1],a[2],a[3]&252|a[6]&3]),s=r[ua](o);if(s)Object.assign(i,s);else{if(a[0]!==255||a[1]<240||(i[Jh]=hTe[a[1]&8],i[qo]=dTe[a[1]&6],i[qo]===So))return null;const l=a[1]&1;i[Qh]=pTe[l],i[st]=l?7:9,i[DS]=a[2]&192,i[tu]=a[2]&60;const u=a[2]&2;if(i[BS]=vTe[i[DS]],i[Zn]=gTe[i[tu]],i[Zn]===gn)return null;i[Zh]=!!u,i[Hm]=(a[2]<<8|a[3])&448,i[Du]=_D[i[Hm]][hr],i[dr]=_D[i[Hm]][dr],i[Kh]=!!(a[3]&32),i[FS]=!!(a[3]&8),i[$S]=!!(a[3]&8),i[GS]=!!(a[3]&4),i[Lu]=16,i[Yi]=1024,i[MS]=a[6]&3;{const{length:f,channelModeBits:h,profileBits:p,sampleRateBits:d,frameLength:g,samples:m,numberAACFrames:v,..._}=i;r[e0](o,i,_)}}if(i[Uu]=(a[3]<<11|a[4]<<3|a[5]>>5)&8191,!i[Uu])return null;const c=(a[5]<<6|a[6]>>2)&2047;return i[PS]=c===2047?"VBR":c,new gb(i)}constructor(e){super(e),this[$S]=e[$S],this[GS]=e[GS],this[PS]=e[PS],this[FS]=e[FS],this[Kh]=e[Kh],this[Zh]=e[Zh],this[qo]=e[qo],this[st]=e[st],this[Jh]=e[Jh],this[MS]=e[MS],this[BS]=e[BS],this[Qh]=e[Qh]}get audioSpecificConfig(){const e=ks.get(this),r=e[DS]+64<<5|e[tu]<<5|e[Hm]>>3,n=new wl(2);return new vb(n[bg]).setUint16(0,r,!1),n}}class gk extends Eg{static*[df](e,r,n){return yield*super[df](gb,gk,e,r,n)}constructor(e,r,n){super(e,r,n)}}class mTe extends r0{constructor(e,r,n){super(e,r),this.Frame=gk,this.Header=gb,n(this[Xi])}get[Xi](){return"aac"}*[wg](){return yield*this[db]()}}class Gc extends Eg{static _getFrameFooterCrc16(e){return(e[e[st]-2]<<8)+e[e[st]-1]}static[IH](e){const r=Gc._getFrameFooterCrc16(e),n=QCe(e[Rn](0,-2));return r===n}constructor(e,r,n){r[CH]=n,r[xH]=Gc._getFrameFooterCrc16(e),super(r,e,ks.get(r)[Yi])}}const kH="get from STREAMINFO metadata block",_Te={0:"Fixed",1:"Variable"},FH={0:gn,16:192};for(let t=2;t<16;t++)FH[t<<4]=t<6?576*2**(t-2):2**t;const yTe={0:kH,1:mH,2:XCe,3:zCe,4:lk,5:sk,6:ok,7:ak,8:ik,9:nk,10:ob,11:gH,15:So},xTe={0:{[dr]:1,[hr]:xg},16:{[dr]:2,[hr]:oi(2,sr[0][0])},32:{[dr]:3,[hr]:oi(3,sr[0][1])},48:{[dr]:4,[hr]:oi(4,sr[1][0],sr[3][0])},64:{[dr]:5,[hr]:oi(5,sr[1][1],sr[3][0])},80:{[dr]:6,[hr]:oi(6,sr[1][1],Eu,sr[3][0])},96:{[dr]:7,[hr]:oi(7,sr[1][1],Eu,sr[3][4],sr[2][0])},112:{[dr]:8,[hr]:oi(8,sr[1][1],Eu,sr[3][0],sr[2][0])},128:{[dr]:2,[hr]:`${Yh} (left, diff)`},144:{[dr]:2,[hr]:`${Yh} (diff, right)`},160:{[dr]:2,[hr]:`${Yh} (avg, diff)`},176:gn,192:gn,208:gn,224:gn,240:gn},bTe={0:kH,2:8,4:12,6:gn,8:16,10:20,12:24,14:gn};class lu extends Sg{static _decodeUTF8Int(e){if(e[0]>254)return null;if(e[0]<128)return{value:e[0],length:1};let r=1;for(let o=64;o&e[0];o>>=1)r++;let n=r-1,i=0,a=0;for(;n>0;a+=6,n--){if((e[n]&192)!==128)return null;i|=(e[n]&63)<<a}return i|=(e[n]&127>>r)<<a,{value:i,length:r}}static[t0](e,r){const n={[Yn]:function*(){return e}};return lu[ua](n,r,0).next().value}static*[ua](e,r,n){let i=yield*e[Yn](6,n);if(i[0]!==255||!(i[1]===248||i[1]===249))return null;const a={},o=pf(i[Rn](0,4)),s=r[ua](o);if(s)Object.assign(a,s);else{if(a[jS]=i[1]&1,a[US]=_Te[a[jS]],a[Vm]=i[2]&240,a[tu]=i[2]&15,a[fc]=FH[a[Vm]],a[fc]===gn||(a[Zn]=yTe[a[tu]],a[Zn]===So)||i[3]&1)return null;const l=xTe[i[3]&240];if(l===gn||(a[dr]=l[dr],a[Du]=l[hr],a[Lu]=bTe[i[3]&14],a[Lu]===gn))return null}a[st]=5,i=yield*e[Yn](a[st]+8,n);const c=lu._decodeUTF8Int(i[Rn](4));if(!c||(a[jS]?a[HS]=c.value:a[Hp]=c.value,a[st]+=c[st],a[Vm]===96?(i[st]<a[st]&&(i=yield*e[Yn](a[st],n)),a[fc]=i[a[st]-1]+1,a[st]+=1):a[Vm]===112&&(i[st]<a[st]&&(i=yield*e[Yn](a[st],n)),a[fc]=(i[a[st]-1]<<8)+i[a[st]]+1,a[st]+=2),a[Yi]=a[fc],a[tu]===12?(i[st]<a[st]&&(i=yield*e[Yn](a[st],n)),a[Zn]=i[a[st]-1]*1e3,a[st]+=1):a[tu]===13?(i[st]<a[st]&&(i=yield*e[Yn](a[st],n)),a[Zn]=(i[a[st]-1]<<8)+i[a[st]],a[st]+=2):a[tu]===14&&(i[st]<a[st]&&(i=yield*e[Yn](a[st],n)),a[Zn]=((i[a[st]-1]<<8)+i[a[st]])*10,a[st]+=2),i[st]<a[st]&&(i=yield*e[Yn](a[st],n)),a[cx]=i[a[st]-1],a[cx]!==JCe(i[Rn](0,a[st]-1))))return null;if(!s){const{blockingStrategyBits:l,frameNumber:u,sampleNumber:f,samples:h,sampleRateBits:p,blockSizeBits:d,crc:g,length:m,...v}=a;r[e0](o,a,v)}return new lu(a)}constructor(e){super(e),this[xH]=null,this[US]=e[US],this[fc]=e[fc],this[Hp]=e[Hp],this[HS]=e[HS],this[CH]=null}}const wTe=2,ETe=512*1024;class NH extends r0{constructor(e,r,n){super(e,r),this.Frame=Gc,this.Header=lu,n(this[Xi])}get[Xi](){return"flac"}*_getNextFrameSyncOffset(e){const r=yield*this._codecParser[Yn](2,0),n=r[st]-2;for(;e<n;){if(r[e]===255){const a=r[e+1];if(a===248||a===249)break;a!==255&&e++}e++}return e}*[wg](){do{const e=yield*lu[ua](this._codecParser,this._headerCache,0);if(e){let r=ks.get(e)[st]+wTe;for(;r<=ETe;){if(this._codecParser._flushing||(yield*lu[ua](this._codecParser,this._headerCache,r))){let n=yield*this._codecParser[Yn](r);if(this._codecParser._flushing||(n=n[Rn](0,r)),Gc[IH](n)){const i=new Gc(n,e);return this._headerCache[gd](),this._codecParser[Su](r),this._codecParser[hb](i),i}}r=yield*this._getNextFrameSyncOffset(r+1)}this._codecParser[vd](`Unable to sync FLAC frame after searching ${r} bytes.`),this._codecParser[Su](r)}else this._codecParser[Su](yield*this._getNextFrameSyncOffset(1))}while(!0)}[pb](e){return e[Ba]===0?(this._headerCache[gd](),this._streamInfo=e[Wi][Rn](13)):e[Ba]===1||(e[Bu]=Yu.get(e)[$c].map(r=>{const n=lu[t0](r,this._headerCache);if(n)return new Gc(r,n,this._streamInfo);this._codecParser[vd]("Failed to parse Ogg FLAC frame","Skipping invalid FLAC frame")}).filter(r=>!!r)),e}}class mb{static*[ua](e,r,n){const i={};let a=yield*e[Yn](28,n);if(a[0]!==79||a[1]!==103||a[2]!==103||a[3]!==83||(i[KCe]=a[4],a[5]&248))return null;i[Jc]=!!(a[5]&4),i[Gp]=!!(a[5]&2),i[$p]=!!(a[5]&1);const s=new vb(wl.from(a[Rn](0,28))[bg]);try{i[qh]=s.getBigInt64(6,!0)}catch{}i[ed]=s.getInt32(14,!0),i[Ba]=s.getInt32(18,!0),i[ay]=s.getInt32(22,!0);const c=a[26];i[st]=c+27,a=yield*e[Yn](i[st],n),i[Uu]=0,i[bp]=[],i[fx]=wl.from(a[Rn](27,i[st]));for(let l=0,u=0;l<c;l++){const f=i[fx][l];i[Uu]+=f,u+=f,(f!==255||l===c-1)&&(i[bp].push(u),u=0)}return new mb(i)}constructor(e){ks.set(this,e),this[qh]=e[qh],this[$p]=e[$p],this[Gp]=e[Gp],this[Jc]=e[Jc],this[bp]=e[bp],this[Ba]=e[Ba],this[ay]=e[ay],this[ed]=e[ed]}}class mk extends PH{static*[df](e,r,n){const i=yield*mb[ua](e,r,n);if(i){const a=ks.get(i)[Uu],o=ks.get(i)[st],s=o+a,c=(yield*e[Yn](s,0))[Rn](0,s),l=c[Rn](o,s);return new mk(i,l,c)}else return null}constructor(e,r,n){super(e,r),Yu.get(this)[st]=n[st],this[Bu]=[],this[qCe]=n,this[qh]=e[qh],this[bH]=e[ay],this[Ah]=0,this[$p]=e[$p],this[Gp]=e[Gp],this[Jc]=e[Jc],this[Ba]=e[Ba],this[Yi]=0,this[ed]=e[ed]}}class yD extends Eg{constructor(e,r){super(r,e,r[yr]*r[gh]/1e3*r[Zn])}}const xD={0:_A.slice(0,2),1:_A},_o="SILK-only",ea="CELT-only",Jm="Hybrid",Hl="narrowband",Qm="medium-band",zl="wideband",eh="super-wideband",th="fullband",STe={0:{[_r]:_o,[Er]:Hl,[yr]:10},8:{[_r]:_o,[Er]:Hl,[yr]:20},16:{[_r]:_o,[Er]:Hl,[yr]:40},24:{[_r]:_o,[Er]:Hl,[yr]:60},32:{[_r]:_o,[Er]:Qm,[yr]:10},40:{[_r]:_o,[Er]:Qm,[yr]:20},48:{[_r]:_o,[Er]:Qm,[yr]:40},56:{[_r]:_o,[Er]:Qm,[yr]:60},64:{[_r]:_o,[Er]:zl,[yr]:10},72:{[_r]:_o,[Er]:zl,[yr]:20},80:{[_r]:_o,[Er]:zl,[yr]:40},88:{[_r]:_o,[Er]:zl,[yr]:60},96:{[_r]:Jm,[Er]:eh,[yr]:10},104:{[_r]:Jm,[Er]:eh,[yr]:20},112:{[_r]:Jm,[Er]:th,[yr]:10},120:{[_r]:Jm,[Er]:th,[yr]:20},128:{[_r]:ea,[Er]:Hl,[yr]:2.5},136:{[_r]:ea,[Er]:Hl,[yr]:5},144:{[_r]:ea,[Er]:Hl,[yr]:10},152:{[_r]:ea,[Er]:Hl,[yr]:20},160:{[_r]:ea,[Er]:zl,[yr]:2.5},168:{[_r]:ea,[Er]:zl,[yr]:5},176:{[_r]:ea,[Er]:zl,[yr]:10},184:{[_r]:ea,[Er]:zl,[yr]:20},192:{[_r]:ea,[Er]:eh,[yr]:2.5},200:{[_r]:ea,[Er]:eh,[yr]:5},208:{[_r]:ea,[Er]:eh,[yr]:10},216:{[_r]:ea,[Er]:eh,[yr]:20},224:{[_r]:ea,[Er]:th,[yr]:2.5},232:{[_r]:ea,[Er]:th,[yr]:5},240:{[_r]:ea,[Er]:th,[yr]:10},248:{[_r]:ea,[Er]:th,[yr]:20}};class Ev extends Sg{static[t0](e,r,n){const i={};if(i[dr]=e[9],i[hc]=e[18],i[st]=i[hc]!==0?21+i[dr]:19,e[st]<i[st])throw new Error("Out of data while inside an Ogg Page");const a=r[0]&3,o=a===3?2:1,s=pf(e[Rn](0,i[st]))+pf(r[Rn](0,o)),c=n[ua](s);if(c)return new Ev(c);if(s.substr(0,8)!=="OpusHead"||e[8]!==1)return null;i[Wi]=wl.from(e[Rn](0,i[st]));const l=new vb(i[Wi][bg]);if(i[Lu]=16,i[ty]=l.getUint16(10,!0),i[VS]=l.getUint32(12,!0),i[Zn]=ob,i[LS]=l.getInt16(16,!0),i[hc]in xD&&(i[Du]=xD[i[hc]][i[dr]-1],!i[Du]))return null;i[hc]!==0&&(i[oy]=e[19],i[ey]=e[20],i[iy]=[...e[Rn](21,i[dr]+21)]);const u=STe[248&r[0]];switch(i[_r]=u[_r],i[Er]=u[Er],i[yr]=u[yr],a){case 0:i[gh]=1;break;case 1:case 2:i[gh]=2;break;case 3:i[NS]=!!(128&r[1]),i[OS]=!!(64&r[1]),i[gh]=63&r[1];break;default:return null}{const{length:f,data:h,channelMappingFamily:p,...d}=i;n[e0](s,i,d)}return new Ev(i)}constructor(e){super(e),this[Wi]=e[Wi],this[Er]=e[Er],this[hc]=e[hc],this[iy]=e[iy],this[ey]=e[ey],this[gh]=e[gh],this[yr]=e[yr],this[OS]=e[OS],this[VS]=e[VS],this[NS]=e[NS],this[_r]=e[_r],this[LS]=e[LS],this[ty]=e[ty],this[oy]=e[oy]}}class CTe extends r0{constructor(e,r,n){super(e,r),this.Frame=yD,this.Header=Ev,n(this[Xi]),this._identificationHeader=null}get[Xi](){return"opus"}[pb](e){return e[Ba]===0?(this._headerCache[gd](),this._identificationHeader=e[Wi]):e[Ba]===1||(e[Bu]=Yu.get(e)[$c].map(r=>{const n=Ev[t0](this._identificationHeader,r,this._headerCache);if(n)return new yD(r,n);this._codecParser[TH]("Failed to parse Ogg Opus Header","Not a valid Ogg Opus file")})),e}}class bD extends Eg{constructor(e,r,n){super(r,e,n)}}const bA={};for(let t=0;t<8;t++)bA[t+6]=2**(6+t);class dx extends Sg{static[t0](e,r,n,i){if(e[st]<30)throw new Error("Out of data while inside an Ogg Page");const a=pf(e[Rn](0,30)),o=r[ua](a);if(o)return new dx(o);const s={[st]:30};if(a.substr(0,7)!=="vorbis")return null;s[Wi]=wl.from(e[Rn](0,30));const c=new vb(s[Wi][bg]);if(s[Vp]=c.getUint32(7,!0),s[Vp]!==0||(s[dr]=e[11],s[Du]=_A[s[dr]-1]||"application defined",s[Zn]=c.getUint32(12,!0),s[AS]=c.getInt32(16,!0),s[RS]=c.getInt32(20,!0),s[IS]=c.getInt32(24,!0),s[xp]=bA[(e[28]&240)>>4],s[yp]=bA[e[28]&15],s[yp]>s[xp])||e[29]!==1)return null;s[Lu]=32,s[ny]=i,s[ry]=n;{const{length:l,data:u,version:f,vorbisSetup:h,vorbisComments:p,...d}=s;r[e0](a,s,d)}return new dx(s)}constructor(e){super(e),this[AS]=e[AS],this[IS]=e[IS],this[RS]=e[RS],this[yp]=e[yp],this[xp]=e[xp],this[Wi]=e[Wi],this[ry]=e[ry],this[ny]=e[ny]}}class TTe extends r0{constructor(e,r,n){super(e,r),this.Frame=bD,n(this[Xi]),this._identificationHeader=null,this._setupComplete=!1,this._prevBlockSize=null}get[Xi](){return sb}[pb](e){e[Bu]=[];for(const r of Yu.get(e)[$c])if(r[0]===1)this._headerCache[gd](),this._identificationHeader=e[Wi],this._setupComplete=!1;else if(r[0]===3)this._vorbisComments=r;else if(r[0]===5)this._vorbisSetup=r,this._mode=this._parseSetupHeader(r),this._setupComplete=!0;else if(this._setupComplete){const n=dx[t0](this._identificationHeader,this._headerCache,this._vorbisComments,this._vorbisSetup);n?e[Bu].push(new bD(r,n,this._getSamples(r,n))):this._codecParser[logError]("Failed to parse Ogg Vorbis Header","Not a valid Ogg Vorbis file")}return e}_getSamples(e,r){const i=this._mode.blockFlags[e[0]>>1&this._mode.mask]?r[xp]:r[yp],a=this._prevBlockSize===null?0:(this._prevBlockSize+i)/4;return this._prevBlockSize=i,a}_parseSetupHeader(e){const r=new tTe(e),n={count:0,blockFlags:[]};for(;(r.read(1)&1)!==1;);let i;for(;n.count<64&&r.position>0;){hx(r.read(8));let a=0;for(;r.read(8)===0&&a++<3;);if(a===4)i=r.read(7),n.blockFlags.unshift(i&1),r.position+=6,n.count++;else{((hx(i)&126)>>1)+1!==n.count&&this._codecParser[vd]("vorbis derived mode count did not match actual mode count");break}}return n.mask=(1<<Math.log2(n.count))-1,n}}class ATe{constructor(e,r,n){this._codecParser=e,this._headerCache=r,this._onCodec=n,this._continuedPacket=new wl,this._codec=null,this._isSupported=null}get[Xi](){return this._codec||""}_updateCodec(e,r){this._codec!==e&&(this._headerCache[Qc](),this._parser=new r(this._codecParser,this._headerCache,this._onCodec),this._codec=e)}_checkCodecSupport({data:e}){const r=pf(e[Rn](0,8));switch(r){case"fishead\0":return!1;case"OpusHead":return this._updateCodec("opus",CTe),!0;case(/^\x7fFLAC/.test(r)&&r):return this._updateCodec("flac",NH),!0;case(/^\x01vorbis/.test(r)&&r):return this._updateCodec(sb,TTe),!0;default:return!1}}_checkPageSequenceNumber(e){e[Ba]!==this._pageSequenceNumber+1&&this._pageSequenceNumber>1&&e[Ba]>1&&this._codecParser[vd]("Unexpected gap in Ogg Page Sequence Number.",`Expected: ${this._pageSequenceNumber+1}, Got: ${e[Ba]}`),this._pageSequenceNumber=e[Ba]}_parsePage(e){this._isSupported===null&&(this._pageSequenceNumber=e[Ba],this._isSupported=this._checkCodecSupport(e)),this._checkPageSequenceNumber(e);const r=Yu.get(e),n=ks.get(r[Zc]);let i=0;if(r[$c]=n[bp].map(a=>e[Wi][Rn](i,i+=a)),this._continuedPacket[st]&&(r[$c][0]=xA(this._continuedPacket,r[$c][0]),this._continuedPacket=new wl),n[fx][n[fx][st]-1]===255&&(this._continuedPacket=xA(this._continuedPacket,r[$c].pop())),this._isSupported){const a=this._parser[pb](e);return this._codecParser[hb](a),a}else return e}}class ITe extends r0{constructor(e,r,n){super(e,r),this._onCodec=n,this.Frame=mk,this.Header=mb,this._streams=new Map,this._currentSerialNumber=null}get[Xi](){const e=this._streams.get(this._currentSerialNumber);return e?e.codec:""}*[wg](){const e=yield*this[db](!0);this._currentSerialNumber=e[ed];let r=this._streams.get(this._currentSerialNumber);return r||(r=new ATe(this._codecParser,this._headerCache,this._onCodec),this._streams.set(this._currentSerialNumber,r)),e[Jc]&&this._streams.delete(this._currentSerialNumber),r._parsePage(e)}}const JS=()=>{};class MH{constructor(e,{onCodec:r,onCodecHeader:n,onCodecUpdate:i,enableLogging:a=!1,enableFrameCRC32:o=!0}={}){this._inputMimeType=e,this._onCodec=r||JS,this._onCodecHeader=n||JS,this._onCodecUpdate=i,this._enableLogging=a,this._crc32=o?eTe:JS,this[Qc]()}get[Xi](){return this._parser?this._parser[Xi]:""}[Qc](){this._headerCache=new rTe(this._onCodecHeader,this._onCodecUpdate),this._generator=this._getGenerator(),this._generator.next()}*flush(){this._flushing=!0;for(let e=this._generator.next();e.value;e=this._generator.next())yield e.value;this._flushing=!1,this[Qc]()}*parseChunk(e){for(let r=this._generator.next(e);r.value;r=this._generator.next())yield r.value}parseAll(e){return[...this.parseChunk(e),...this.flush()]}*_getGenerator(){if(this._inputMimeType.match(/aac/))this._parser=new mTe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/mpeg/))this._parser=new fTe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/flac/))this._parser=new NH(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/ogg/))this._parser=new ITe(this,this._headerCache,this._onCodec);else throw new Error(`Unsupported Codec ${mimeType}`);for(this._frameNumber=0,this._currentReadPosition=0,this._totalBytesIn=0,this._totalBytesOut=0,this._totalSamples=0,this._sampleRate=void 0,this._rawData=new Uint8Array(0);;){const e=yield*this._parser[wg]();e&&(yield e)}}*[Yn](e=0,r=0){let n;for(;this._rawData[st]<=e+r;){if(n=yield,this._flushing)return this._rawData[Rn](r);n&&(this._totalBytesIn+=n[st],this._rawData=xA(this._rawData,n))}return this._rawData[Rn](r)}[Su](e){this._currentReadPosition+=e,this._rawData=this._rawData[Rn](e)}[zS](e){this._sampleRate=e[Zc][Zn],e[Zc][Wo]=e[Ah]>0?Math.round(e[Wi][st]/e[Ah])*8:0,e[Hp]=this._frameNumber++,e[sy]=this._totalBytesOut,e[yA]=this._totalSamples,e[ly]=this._totalSamples/this._sampleRate*1e3,e[bH]=this._crc32(e[Wi]),this._headerCache[AH](e[Zc][Wo],e[ly]),this._totalBytesOut+=e[Wi][st],this._totalSamples+=e[Yi]}[hb](e){e[Bu]?(e[Bu].forEach(r=>{e[Ah]+=r[Ah],e[Yi]+=r[Yi],this[zS](r)}),e[yA]=this._totalSamples,e[ly]=this._totalSamples/this._sampleRate*1e3||0,e[sy]=this._totalBytesOut):this[zS](e)}_log(e,r){if(this._enableLogging){const n=[`${Xi}:         ${this[Xi]}`,`inputMimeType: ${this._inputMimeType}`,`readPosition:  ${this._currentReadPosition}`,`totalBytesIn:  ${this._totalBytesIn}`,`${sy}: ${this._totalBytesOut}`],i=Math.max(...n.map(a=>a[st]));r.push(`--stats--${"-".repeat(i-9)}`,...n,"-".repeat(i)),e("codec-parser",r.reduce((a,o)=>a+`
  `+o,""))}}[vd](...e){this._log(console.warn,e)}[TH](...e){this._log(console.error,e)}}const Vc=qh,Xp=Bu,RTe=ey,cy=Wi,LH=Zc,BH=Jc,PTe=ty,OTe=ry,kTe=ny,FTe=iy,wD=dr,DH=Yi,NTe=oy;function Ih(t){function e(){}function r(O){throw O}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,Ih.wasm||Object.defineProperty(Ih,"wasm",{get:()=>String.raw`dynEncode01a33fc84f8dos?Q>_M'	zmea,=9z=$.JTK'(u H3KQt;=}X=})SVy{oEqUHh87[iA2(+*7}@B;?=}A?>~{x#5X.]J
=Mi=MUH 
5Omrn2Lj{	j			b)j{l8Jr/^UO6j5a1HH=M26I[T) W|HeF,l	'0b8K!eJ
vz&WrnV"5 kwP4pRAx[p;7>VU?Rq9~QwI=}	frgx7QE5-Ml?E	{@z5f}.;%Mi_ZU@.mt.,BB;Z_V)AUBf &$kz(_z^r>b>/DTQlIQ}:8_!@v!O
\\ebVp~\N'eBb#NY	#W0a]!\nTSx76I-pfh,ceieic#upab07>F3Tfkbxf6H6 yV?@?{Q+=}9%!>&@Uq?qtIU+gy+5s
GS1K;B\fhXd)Uw X151L-;j=piN:}BwXt3yoJLjnn-sTes	{Os9SekFTVK-WEO
R*vVJCsr^v3/ Po|$RKu# [{V>>ws~~9=Mz-hi>1d!>>	/~ywrb0!	~j#88Al3S8oK:x'dAk<;)3b{5?
NR/+>6}mzQ|pMj;2&#gg|/[k*Z8ZvXFa*+V,\r':G-W8rp ]k=M|]$"VD_d%~m>aj%U6^8"b]}lflIq;[T>{o3*iDg@s =Mkuw	F~{_95,}50>_6l*{)GjE7(arbj	Tgk;_RZ=MX*g[X^uN~u~
:_NWP\^Wptt22wT22v6y6;VI?^&>&F]VBfTe|$]	wyV.b. tnZ$:K? l
SZ'7
s%4cL+{
^KCUn9~g/rV$
[c6&(qx	6 YSO{-L;Uhk(y71CYD40,$Em9S"kUUg{>%[2\siU.~q
$&*hM#8#U@Ia[Hccm#g;/9?	g~B9'S.),gizf,^k|=Uv"&|[lyDIQCWz2_(pi}kU-PV$M)}Dq{a.|+/II^b?/uCHg|M#L'A-B7<9&f1E/ cE%5O.uK~;u7uR=~30pIx)Xyeyo	I%8K!9C'	Y0}ze"[MqA?;QWetbW)aWet+*jh8

~q|*=DW
q'$is4|USK|c(46?#M0rYNAPr{pge|H=MmOn@+(MI3z*^,Jz* [x|fpBf4s*s* [bGnj%Z\K-VyT1bJZJ=}<nul/6|@{b| wTAu.NvSUL-hrH7V
V-pL.PqEkl(tpOYHpcy592'6_9^;a&rbf_Z%#h?;zVj2lG^h
TGxim1O&ec/9/NMM
<rB8Vd$89okj)&>]FkjJCK'OGib6fh=faGHO*hs-#t*DS6(t,F0(n,dY@nh9{~@JT\VOdrr
&
JBV%trQOV SBi6OLi.p(xD
DL9nBbt;[KA0'|rqaz8m/V:&Z&Ukr9>Rrz"Bw&!Ad&?lSwkl29bzk(-gua5A3*GV@b1r#of:&z:ryG~qbf V\Q%c60n"a:{	$N~=}6Ym,A640kiL#=MMk%9[|[< 0 v\y-zO1@ j=}Gr55Z&RX*Q:B.k){B>MLZRf," p"!o4z0m0'$g,kbqUL?R@c4U	(ZEOD XzC=}D$)]SzELkMVa%FJ
4=MfA|jo3V5-:5rK[u\]3Q=}*TL87>':LCdheM73FrmM|"6d@OcsZg%nBUMK08ugN0R)h=P{nQI3314T=yyl=iUCgWQ($^]) 2>ms&bQ'YFyIr1ma0'#}^W_W}2QjA*Or
D_\Z=)#	]x165_x}']+\cO9g_dai"[9C^\:Rrtq'Y[7l4tS-W~xdG@fOs@Og.,H?_wXi~ZS(ERJ=M_=ML^lZc/z/whW:<OH _y}CKG]=M|c6kKO--QT676H	^	FcfCdDvB& 8M^17)h9=MESShIk/.XXppoG_wO+>F#GWM+nr#DoL}.p}	YW]jNkFL)}	+ 9~%uthw 3ZyVf/fOP==M4a3$FY\[)RfO71wZl
? .)fsnWI?UA17+_]ssS9WLs_Iu=M6bCg {FKMv)F eI*$&eXSX4G+g	VT[^~?|#KlLi;V'j0k=MAxyvJb0VHAM;O/(S3kUJf)g1Wl1Td%=MaPu(pD\ 00;7e( o6@L$cLJ,]&5&tvPxX 8HK0]f 8-r( 3OIj#	=bF%4X!@$@BlU@OED/}T3$%nJ[g;=M5:_qB1-eD6*_
Qs0w]6Y>3CxF4!y'wY0ww*X3gg5^/SZ.K9m"}b}V|Pt]pb=MtJ=^-=}W"ix=}W.}d=}w}S!/Kys}Ww0&)
}=M~PA9Z*SMNcHB]h_q^&Z=}* !v>B2!4 p_!dit7.;1bF"in/YN(<(C9~-"7LQ<1AHDP=c{?W:;]cnJ)Gl!d:PNg^Jj^6f(A?anD(Hsn
$Rrkxwo]<ipP}r-op44PV;? "zqClrt3jSm3-se
0!<=VBRV|po+Z#r%?#3 G=}xjIPN_0[xREN-<|EZ_1h'8U?q"!@/D)F=MYbd([5A=}PLN9.Q#VCpn@H:yGuIGllZu	fUr<<UZJ\fn/ ^W8G/kkkkCI
'&5N=M:)'GeIr=}7(z.o5	v^/LxFMgOb&-&KpipiG$H'cWr.NptcIOgnPr{[d	d|p[=}U	2li2k=}zD%-Pk3v	{Z<s@bW%j	+2tH%QszGd
\m&hK"I$-c0LMMC{5Rf*o}$h
MLH9V}}iH:q
fV-!q2$^lm=}Zk]j^=d{sIWq&k3</:gB]w (qdDv(^H '))MBD}a,%/e@s7R||R=/viH	HjkAwa59a_7V_^3@g?#<:f|jt&[[o\mR49Lh;h*Y77RPxG[RdPRJ<i|PS}	M15qF_aRwb2a)Z7 F6JX{>?!$"A"" lqL;;^=M,(& M"Kb(6tev&hD}e<}Tnz 7}.$1V	=}5M!m6jDe	"G %Ya[Je#/;}:
G<3mNXK2d|9c.J3+|*O 1/'~|JOi<>;HV=&X150l=}~k41q?O,K,NEPv4k+*5r#1D<|{1IjeYka	3$ A<y{rT))U"N_l @;PnSpJSq<^I9$)k+E!E'=t	IwC&"(* 1vbUIVfcUvz]%,m}=YBq]Hhir)ynCR2
 2I#4fN>zH6Ul	q5!EGm*6WJWN$p	}/},+:
'_6U|*c\U,g*l1ud	8-yIx.e=M=Mk?<Nd2o:SXtjVZT;XQ691=M1p((PIp[y)$$K{!n Pv6VCr>qv2tDd@=Mci5A,f/X*2o
{.yCt EaGtdnQ566/1=}wk*l$J_!Jm,vpre/7P$.6TAE%87R]VpPGOGO2GO2HO2GO2=MeHI@Kgg,p^OS5y&.+&Adg=MO[ma%V8=MPNf0u'|!jaeW4M;0 '4~F>Do6.r]gO:]Xhg(@DFy@=LM[yB3wK)wFY=MsGBG'@Ki=MdCk3v=MNf;8MG>(p	f	$2.8do.oSpXzw%UM5fg
BdB,cPqw=BO%DQq5
Rg7I" e;qg&:'skLoH':'Edf5*x=lF$wmUTHF]&*$)<{\?V"pAn{bua9z_<A4.	_6+<e^.gG=}T/bG*m-Brt%rB4:_rF#2]QRH7rK9?Q+VJt]*l+8~RZ-u5GDS"YC~5:=)$XbX&C.@"q
~K{Ychm8;*7vYGi=&v6V=MzUB}YvNck}K[kbmA3E.9ucHZe/z1,zct2XB*	a96IAd2*aH|#R^=Mnk=MDy0Q(-qoQ/	-G9FfA:9j	%v=M!)?6;HGxydVbt$-\@KFDS>KWS%	Bt&d7N'z0UtK=MdTrzU8vM[I[wIynQU{}IC"^vZ\y}BE6JQ$-9~>tmw(|np.T^6:<JX~		rL=Vk>=}	j!I.y_5ku"P/q>Ff=Mg4_q|=lrRCDz]KN4_v}p[.iC}2&[mr=}2x>{N!|d[?9H^;Z\yIp>PO?@\z}53)6O# cc2yVB_cpFc=Mg(f!yO#m#:n#/yWC	'X%)	pCQ}~$OLHJc:7dXJ90kK,H3:?77nK*w=Moll8#N5Q]V1(=}dNih.FUbgn	y(5;_				&tB| P=4oQ&@=;i*[/<{O
(&;88oCQ;)fqF1>'&9(Tj%&(F"0c2S	s
 {O>Y'=Mcs;}1{VH!t;O?qepHXzx P\M'9}#'}ztA.C\}!ijA;O(p;XCyJ51J.Nv.=M@og1f+1
k;7ExT/1x{ysz>;{ej'SMq>zpP5=MX=:[1u1kv+Fo0s2Etv8/3.\i8{#)e^Hteg^g4x3;-Ks%>=/as8,}F9Rrsh1j ]O+EM94%kH4v|LN 0jj0i[s+weD?k1ZprV=}OHV+?r7T\~Y^\9<	a$;3uJ?"o3eKJ}T^f[Q|RY8}r5IP8/0xvSP|I(.H#2[_Hy-1cQH(DvR "/uD$uDT%H>f!0L3m!_4{r-(jUT#i(997Hv%!OW~<A i/%1P	/Uei$Ow9C0o>Pu=}C0o g"}3x{F"S^b^vwsc=}Pi,x'SaDHO>.,LDL.6mS~'3>,:FA4{vH~A$pq%=}AVrf9y0\=H(6^O /}KZX]wb/U}n$q23dzbPP06LKoE=tZk+=qA''['2[6''v{Uj^,<Jm=M5,r.=}txH2': >A63a=M%m$U48S\>q}xOx;g;D.o:q|m}'@n
c[)phI+(w9Gk,%tgXCC	}g3F lFOkTblSO"4qb,*i\;SF$AFlUKI$uO]T>[ d O=}fW,u&G>N=}F.]McvT02M1M=Mr	/*R
	
\.0#mQk;bUJrr <y[V/23_6!+zXK}e?W=}NyT	bA=}JSL(^_OEYlT(e\+^	h06L;pQ%]a]2A?p!QzzB9au=}![r=	U~>Mo,BN$*{$n]/!!OoIz4e[&v{H\4WNs{BN +Z,ToI5yh}naO,dDqU 0qR4L2{]<
}Q^pY.vU\)		I	qv"8w
IHwi%a0B*;5|KI!URDJ7FEz\.*zlAV)zp!V[DBx%:W6{y2~=!'c12G[m3M0j)M]	+1WAERG;K=}pk@oDEFUvb^*YK=}<MH. Jp)*,)k0-<qd7W'B.2WKz_
!J^fimu(B","]!1=MCf/WrF,O(CC1*U$J\V]A'H2Z>, HVCJAuKG;5*B{ rJK+zx'L+0cG:=

VK C0S40= -~mRU8cs\En]60/$}}#^;KBe! lB9Z O>op!=)T]">(>? !zTa\8 LIM%Iz^b{@@j[r%dmFv},/3rk:>Dxt7_fJ=}|AE*"O&}H0W!
sz4r Pgl@~YY~aS,|6l\P_Vy JrTG[BnWieNi@SaP?dN:"[p dP02w
A,(<8o
+4DC9Kp*BDfEt8Y0<n_o+6IO4z/38m
~Q$om	 |qn~BL{Na
Q&G Jnw]oJ
t:LH92X.J%<M=}'S,Mz
b D;$MdwK)JYCDO3KT8iioHRsK2wNDDmQ5d5|/(Q|4I05ynDSF=}MS6;0
a_HV/@
Y\df>EW?>#?bq~;Px~v/!e54_7uPmN{~:!%Fc3HF)wf8('Dc=}H'"m/7p|	=}T}6jyhz12+$ 0
jP \GBO$%EX,=}(GA=}8%m=@2=MzrZ+uG;&#H]Xdr*x&*X7NO kCaOBzrSEs8{:4G=#Eu]SsG 6!g"Li Q
,D'G{>(2DI+gk7i83(snHAu-/X'm=MnKkfM<
EfV\!Qq^4Sy-=}<3ym6MI<Vr2F}jAwF+i?_}A(~wzW|]A l<@gGNvsx)<A|d4h\k
'6bEa-dc)<7*kck	q?2m	>L =Mxo?L=MV0<xG5,i\rx\.)c{YK$Gma)sJCw1yw/"+L*.xkw%6e.|s!-07#s*IY'UZ@LS&k@>8g{Oq E&#CIHL)Cdb bQO	|c>/H7.\Zi1syjdA;pW7[~ y=}30Xq@>{=}CHBB=Mo=}'C
'=}=}M0Ts*hetVXSB+f}=}9g&ucm6 ~
	H:QB)#'DDI,pDIU=Mw'A4K+&{:|U"~S+YZ|,NoGIJ-I8'_,
ZLORVphRIoyd@TNfnY} 	]_n*	=M/^NEZs
1W.:UM'*TMv]zt'I5=}^c^Qv;-r";1[&@R=M]-*7@=}'\Ne-^8pH&dt#w5k_^R%c}:D6N-+NucY\kp]"K[=M0)D{m7l<d*Y@	+G;A5*L?/3UUkhQ1~,ixsPoD6=DM34C^hKz/StwePB071fp[^p82It0>.46b/Y=}nQc$dJd*+ytVY1eo?s;|i}kHZFN(/C B,\gE=zG\ZN{:wWQ%z:XNl2-	*6_E.>lboT=M5Dsz7,?]vv[)h?/Xi7%&\/6@x7=}<OR'rJ!3ueh#H+[!_yw&C&Abe?jfE(w %(?{k/yx;745j>#gkMJOHIuT(tZr_U_wGNEm e(|,=MYzI*f/k]ij&rpP;~]4vHCa,Jy1Y+LT((CVS18n<'&TBar92q;5r\?xvBAGE)APejI4pUv=};/4dz&urnUmh+lEm!gKQtjR2dbmrY_o-o;
DSf,L&W'KI_BzQh^9FW:=}-rc/DEiQP4%]aEg$ bUbcl3)ynnnnBM])Dc[^28
vl822)v?xwx"x--^g,rx"2pY}Q&g
o[K( 8Z&\ @9.8Vm8pO{T1Opj=M9=	*7}<?+BwA]1..Y%!O	1P.Y=B!mU. <o]Q9wy})5515<OVH?_/{?(~C@0E50 1u=}nJ=MtFU"YXyPe* 5:j	Qfq."_{k*K$m]?4SQ%,>	-VSlTu";My
jn1=M&OfT09*D9qq /at6xu=M$r&f{[Q|*q'<|{06Me0,j}*Ks  T Hi}x-];+l1gRg*Yih+hm{OJ^:SU4e~oD]x}49=\+zR
YVv=l}a i>t(=iWJFfM Ct;u<QHw]=}uZ  (2D[].ti9Dt=}"tnPw{<b=>d&%Y;fP]^,a+	)de'e+ 0~I	.	6	P"j5V#0T.p3MDxZZ%-@ffwHm3~*w:-jW'M0;w\j=M7Gh~94[Bkj4FR7[KddN'1mxj/9n/OkXA,.-7-	efzeT%,$dHT!Ko0!_V_s3{o_X1@[:bSf*
tiYn2R	zN<ZWG&Z	TjZUHvO3rhTc9=HXII-v.qJo+dw
}?QCHIzs8;9t']\']J#xnYsY&"4PvM=})Lt;<w}a .=tu=Mtm$O("q}-NG=MwHU5^o C=}*=MzKm^eX
f,=O#I\&w=}2T14AsL09OY$x/([?+.RSs;T"Ir%@rmTj6+=}.Ql1qL@ 3h~vQpjcz-dQTwssRsciO%R (*TFftLZ;Y.^hG.(, QhM?+j48#BS'ffcj=Mzy7CHSH9{x.=Xs~LhH._1?1nwP>ot(FjnZ{9<1"Nyx'wz{*f3RT$OU	G"@M} 9I/K= |
$U<O;T(Z7>'<e^>sNPpaa1oVA1F',1p[\;XPQZ5Y7!Oyr"N-aq<y,p|la>xAeaWoYYSOI=.(@px|yvR
,=;Y?XU5:R To
OkUv{-pb1 o	2VjRTaZ<&pyx~zo/Vx}o@pK4a^2v^ssB}a_=}mU4F8f(tFKm-  IRJup|WbfAq'V_u91+G^N[=}50m:TJ3vM-}bzJEn~9v*KP \0vEgF6L9& ;U_2uSjlc8K%Y|JV A=} CvV=}|BH>QBXu]^B0==MlU( @G=}RGV=Y6A33.uMkytd?\*ffRp=q$(_-E*#h)'9i{fZaXePT_zu>%+@6q$=Msl]+IP~=}4EA*\@dj$b ;#R/3mp1o{tF4n)N4aS-Z4Cq')J'2N	72ASo_a}:i0Rh@'.O5JE^hZF=}$	EFV
!#Q;=}Y8Xy*i
/<hU pCx}k~FbI?cHe	5qm)F=_ f cyR2;#0Q+"*Wre./d%Zh'xDKh;Lf=jl?0cT&P5QFYt{}hk.,Tq+h@U* S*s(FWDH2N4=}uA#6
gyKe>D6@+3,K=MQi!=M{MRii=M)=MI$ry&n6"]s.HixS8@WSz#Vj OXR(&11[<&j11xq1nwwv	Bk;"&|1&AKd1au"-mKQha5FO-fK)F6jq1b_W4[,fY55(G7P\4xj~\(TC	:DtU<$o|t8z2y1Oh
2m/Rvm.8zo8q= R_HW}'X=}2p%W"SI^lv
A]m]qo2;P	GZa[!{f##pY~>X~Y~Y~Y8C^ZtVf.J%rt4N%BvS]58]:H"M;>u'qQ*,6,k3Z>u9XFF@@B}mz5~i@kDP&(GF=MXF>Cl"6\.l^#=MPt[j|,!Ca f_>$i
3)$Qa,>l{[MAC1b!h'd# *UF2(p'9{RgnM JoRPy&+fV*X(X<Etwr0K]+[CMd4REc6A-~3Ar<V	8CZeQEc|=p{{v%y6g:r90%|0N2%CucYzY""yY~Y	~Y~YVMB ;,Sn9Zv\$=}-yVn(Px\F<zr^\mUL]P-dmugd#408nr@	B9=M	Cn9)@h3'|:\A5.[!$?W=MV5&=McPHFhzx~U1\$P9NPoqc_{~h0\[[Z4xkej;N%a_=}q1bS~9=eigN^^pwF[FKm 	zu[gj DQ-
[mnR=}[]9h)o#2g-_L/}*Hy)t.obl{*h"4?2gm~ej=}oSo%<9WDp Y%}I5u,*?V~nQzwD,=Mv)Z_mF<#&<HadeXm8fPqo:1]67+HbhhFCP4Au5GS7->T=}hrelG:lCOGT+mhO#p=|L(3=MiN+1MfT46>X<Srm?Yoi%ag=Mq1+-R.*/h('d?GS3A:7!6'F9%Dl9l&89
~:~QZ	~Y~Y~w$8[{4Ws,Bn<H@,U%fWm% Tsx<=M.IEJfR,owwz Yw
S)z!CH&(Eu]i+\0yg<7Ad7 TF	>=M<v|y%SG!ZZr5"TphyNUgU@W'Y~rM_rWGL2JTq,^Z@>.Fq\^y(9QI[UH@~\tPp,a/Zud6ud.a=_mV{e:jB!/j@(#KgR&gp-q[m> f>ibWKt7Ad0e=M5$1EzZ=}ay&z.ih ;0t(=Alr)95i<itvF5nlJ]GuR8*tZG7q*$g&ojU&V0JmI[m	(<\3gH|T8tVKBPwX^#Xa#AjRg_>oi4R7MHH2:4ERy2hdn/d^[]5gZ8KNYT&E=}fND=};=MSfh:;wuHI9\=M"J9)wa1:+ ]z[TAQR<cE=MCpLC\VpW=}wF,=}{C,?<=kQ-[RT+:	/2;>q	:_e~17nHM7apl;fX2H9B8N/	GTY,OA:?oNpd=}^rb%	?Jlr}Ig)5.8[>KtE2a9oRF^M0S=}D=M9-=Mr0@2#X;wYM~YN}YPCY~Y^f79)m@=MkT\gb).lj&jn59
WNj17=}nEGJr0Aj{vMJBApTv[	CNc;$&ce$*Br!)s<.RCDlzDoxDg~gJM9ziXqY/l	LyYl1/U9D(=>B#F?~i7U~YqY~Y~Y 
MzAK+*]DV=p-%<F45Q5MFs9w]{+E 6WmP*JEs]|WY1-Pbyj'LYFt8q# 2CjRKt7/BqF-nzzjR"=(xj-'MPAC2
KfwH(bJeZ)kQ+L/8/qRK(TaFMf?K_YwOTVA$Un},PZ {~^TZq!ha|"a"=CD]HN)mda?ccD=/QHxjK)8Yj&7boH[8n[d#S}Y|OP~Y~Y~Y8GO	BZ(ftA(^o>gQU=}o;WY #.,ayF+TYb@A/b,>QrR*^^7L/a9ADIl02p0BB ?7t<R42I?qQsI[ iR#>z\K+-e^=M4IX.a6QNbgvM  !'Or(W,s2{\Y>x_X~*D)j~@:
:; *~c2:B4b 04x/Q^[m06qK5h	7%VKxCK$E:ta]o'sM&'4f2p1{>/qkXCI sgGq'7hj"	vB|k2nh"ZCH_Ke	Azf_^n7ye	SFD&V:DtZ+%SCY~nY||Y~Y~Y^kyP _Nu%u*Ia/iKL6(dA$~<B>H+2 d	x.z
F|ESNRS!^uy	o+Yu\5snjui/o/8*^FArh<=gj02!Yh589FLEi:p+B-33c2opom(
'n-bR4&b/RAd H< bcZR/t+oE"TSK]P_dg#|bZ;Et>1PnIhyYSe9N8o#y?acY0DTh6]vDF|c8^Si,Ga5 &a=}r5,Wz.JS
&&:US;SG^|kI?	Kq:uO[%e8'NysU1	ycE9VPK
vNvD>?~_~Q~V~q~Y*o#$@C[;@6*'))21gfA82ep^/Mq?k}' /{_U^7^1;A:9>cP:o5</y7<%5}FcAVR?l5=}<oE		q!ripX'4S+=}.tU4H-VqQBqKk$*P?x/p: SXjo:~c\|iF2hH YG2,%;)E-Z_&T$	>ijuT#Gf/ii2P 1}}_/6+^?uvfr=u_3P9S> K>(y..a'(xIb_DN?&RLU] 'm(IdZ<*u"gV'm.jo'8<
,q*4*oG6aEqSr9 4,krB'6
Wr!DtOa1[s*E/L~FgA4hO8J18i[~EX^Vx{_KV_@k>qx;*e\_Vn>S]]/Ow1HXB@*p,o+m>	d'Jm[	/|;]cWUn5O4{ YT~-RPOX]F[5Z{	7[#->YXmo
F_mVfQ0Nq}&LK/^=>b=^d un4(!|Ty!; [{"7""!D_BvfOVauBl3\($]g.!?	U
l5\g%*?d[4/1-vE{[=}t/)|a*&+5/a,-q,HlI=}UH3ll0I",JVq/kr	UkaM$|*LuX83	o| )aZ+k];f;dU[~'w29L?j3LelGvM[ ppO=MBN =M=MrNh LJTKAUo#0:	8[M]<U^Qi&YW>}u1Azyt.]tIb	SYb*S28B[B2D+&cnYz]:!oY8~Y>pYvt) W,AUW,=Ms	y3FFdjwQ,f:''DE$X|Or1Cc17}o/!W/kVkdi<< ez>Sw7(IW'}7	F=}p[aoFo2XClcPS<9kWP<GhhOMPk
X	nw^O\p=}^f8fiXHf|u1=yr:TJ
ZJT]cn(+Stff"qm'r(8-
?6%Q { s(Q^Uy0+)^M&q
%*^BdY<2iE,D U_+NI!d>F _p4T@2!n*qa6UEtg2!P"BZ=<ViB7J#V^6.Ti}x%[+yr&};da/N+b*s70T*Dg[*4=}e\(S?edR%.G v|\p>TR
ttp1I].t/p#GjSZqg.d&}.vQi.Fb}AFT_QKLC 3+b,@?0@	,Q5{,l[ <BF<eF3eG(YN9,IX}L-:ph}>c(])#Ov3>mI?uJK@{p/"?qoPl2SqN~;l<<TfDRpEj@OVLnmIU9
F">IHs*'/>f@!jsL\nqr+]omV  ;rz7^
	 >X(gA2Y	=}we!m0Q2-YdF'
J<]'mHW8Q/Pn+i wfkQ??1ho519Q?yR%dX|('A+#+	4_gV"+;<@:+Tj%{97G;mAl5FUX/5 i m<14X?h:QYk^H, K5N?RlUh7ot[(Ojr[;?#~Y^XP pP~Y~Y~0{3/Q~de)zu5_6>@7_qB^ dO.Q =U^Lnpb>Ef	[\=}qf4-	s\2*{/tD'yJ,:U:r_xa	M52@Wu^ zj4"9Fw6n
jkr:!is#QcI#%pGPF9U3%Z&7=M$Zx+p?>~6)=f_;";f]{}ep1+'MnS]/cD$^m$nL,|r4>?	,,89{,^4e6<xUY:Cm6DT 8n"6$eLSO3!#%(~+NOOwx$I5[YMN,8t[0-id
/C;^E6:q2=}@7I1y[jZ
@~;n&0\A<}&V=M gc&j76,xZv6"fG;JT@r 
. LW?LhgaPhfu{S|ycI=M>%EPi{>V@p>{oF Um2Z7FH-b7tfE?B#%.|YL~6}Y~Y~YXBj7Dj)7^?^92aXjU@nwT{nh9<x]~x9"nr	t4FaHI1@\0?;aeef1)Ajv2p6\rAW4AV9"pfra:_C~R$5MGorhd$MKxQ#c
FjJ)$WNZ =[1[!2W44u-<_!9=}X-|^nSk8
-O_!Tk4@_)D:el(m"6uVJ:G]sPa'p((=M((*iJpiT{5Is$nm$ZDUqr7-H1HkPOKDOJGMM/KP8MIFG}Jb5K5	WNm8 .77u7Z2;.Z~ylY~nY~Y~Y r]v0#b~$i2u=}B,.-EbNF-@TgTHBWoq--Hg\E0zKL[xIuP-hDx~ 5gBEpbr:-h/XE|4{I't[+@(}Nb>Eaka-mgsroIpo;"!l"5M\-ij;7,pG	X@9dw	Uv2bs;KH>U	a-pNXM]I )=Tw=}&Pp$YdV	WVx7B*;r*>rqVOAB J=}rJ*o<I}CjGA
rR;.ohp6
<_?Oyr!@,Wd} ><e>\T~@Z3\f#fz u~9	i|V~Y~~
~y6pR]""(WhapF=Mt?[v;bOQjqs6nV.=M(ivG:q.
7@dU=J PH5EA 36MvpK3Q%WxX Dqyi@Fgv:t=5MN[x9(%(ycy(7lyA2iU@_'%PpIT'r7RKs06;h9T1Pj2jo!2e,)8k>lBj*st.1+:kdZ?<c/QTIx5l9[l&7qHJ[#;n!h%rVbo0|"*3D;dc~Y AX~Y0~Y~Y/Al?dx/3
F}rbo+!5C8K(X]v
Bu*UPI")uBDm,~3yA5U6=,VB5Kp%qTjuJ5t0y-VpJ[J5g(
i=0JE=}nX" R(uiKcb}gx,&klY=M-&hR@Tg,3"";b$dp*:bcc![!*aeRG(nwxYW*_O@) Qm:NC'Lbp409a4#j{IZTxAF#X8UGOHf+^@a#f;hYKv<iQPNlES0l 
i%c%|Y>B~Y	~Y~Y~)}d%Xq-5at+"nwMk=} q?oj B)7q*9\ko
m(+"9_Kd_)\^Lao't2m~,x,=}j^gm(XTJT.&=ewR|o=/R1\1vL>/?>X2*U
{!!pZ3rRr4]d\Z.9=MmzI
.g,Yy,\75=}h\zd+/VG1LQpA%Q+No%wTso6otC**Crr@ih0
CrpaP3p{y1#osG|(aQg[=}zd  *	"_	%e&D!Fh=}(up5?nE_3c(t(+NL+IT@< 8_]3?M{SO+B-eY=4 &MH=}wTAFI0r}wd i^*t Y~zU~Y>~Y	~'@fm \aPL?#!m9)v**)V=q0CM0Q<2iI2H9A#t;#_o2l1>/V/2KX=}rqp7<
qSoqi Yxq6jOaoBUD2qE>W'U|9X?k3leN<V=}XN,4 jeN{^<P6YEvYUY6]12|d15&}:v!i'/+xb2/@*bAXt\z$P1t=g:T_(n%N0FRV[9|s-[*f5].k|_2vuO>3 D+*2.e2J<Zq$aLz/_Zdzy tu5(usR"}cgE/Y&zG+4ilxJ<3lth1u<A
9r:(\mcAhYqa5S,Q}Kod$8L4MOivmNMC,8Z^}K&6?xtH	1ROaB+c}#J?k+Ke@Zk;_9ITNe+g;O\TOx5A0T	_$fbjn=Mwb{w$}Uvv4?g*^q%[-[GlOew.=_pC.4,/6RYB,;&St.u'E=}y(/3lAh6Lt^{9zk/dqg)65+45S8x/JPXL/7fh")y'}~0
DB1
sZ"\:46hE|[l(Z9ar:VBE*yBELQ+xi<S'QHqfK/O~Gj,<N4nL+:wDz?rCc?'p=}]PWTLE0Ml@[^.kR=&cQY~=M~Y~Y~Y~	c'la+clO'3JHld 7V0p-?pg<?4od$+H5Z5vE=>G~];fmu~nZU/6&nANSHM-BF+TH7KoQm_dH(j3b!zMi|t=MIio*(J#_K#4}=kxxzT}w_w	Gi.;O.aYU2"JB&VL/#/S,|+E1r/[!l+Qi+/iP&au'a<K9	f4yD'J g%VE41 grTe 0$OWkXDs9B<T-=Mr=$_2'kj=Mn,?k"'->?tsdIn(wc8
LsXY_
Unn62AS.=0@zrrp*aLDFs:, *e=MmY&+DvwBO[Ez3O +C8OiN;&'H'Es-Ofi\*6 ?w15n4=l;C0I~F!=}kS9R/d98Tg+j4s,
rc{41,3!|<gllM|L0,_]@zzHvC>$Cqbq!	&
u:hClm}:UkUwBn'
\gID=2Ry_;;rCK3sl#^;*.,dHY:EbBZ:TpEXKGY%lN]bIO=}(N&M5=MGFXQfL
}-mWu#J,zZ<'p}/JXs}-)ZOQ
PibV&~I.]]3!yh%o1x*#WYPX Y0rnY M|Y~Y~ibap jza/ao
}m+FJ~C%A
5:55R6d 4A(y5	.;v G4IPz:)mlU5Q[^ u.lBlFB_mwW.bhVQw-;X>k4!T:F2P+b5%@EoEc=}K0C!W@i{6zD,]ij87+A m+HQaSY|ND5Ux{0}=MM[r
o-wj$3t_t|N,e=vyH(hs	Xs	O*B!xH&]Q.Q0E]g]W+v-^2Bg /[f#.{=McRiDTE
08'yev/3/{=Me%=z;AI?a<H	i|=}+Vo36t%XwA	lzQ-T)NP;>hG|y/
pIV_>|m)WdJh<nL"	jA~ae+~r|' *IA@1m5k'6'&@eJVn<
]b(QGhne679]f0rovb1%))[7.ji6w2ww"h)!g6t>pvR3f%ULYaP8*<.[r"iT#z;Rm3$JT+l6&IdTd1d=}U)CD)-=%"'i;dja)}fY%p_-c!j5r4ho0C-|"t-iBj)MQP2,N0}hh1UP1R*hVTA8^BcnX4A^,;a4tn6^6gV95/;V\<dHgn(*=}mLwJ?-(v?iLYJ@LiHv]&M3 755	7	U^4&/q	py
qUR?&e\wo-8 ZlFK2liu-;J#	83SO3+|n.R+[SE;F.tTIIU;@N\M  f}7m=}kY/HPJnR
)GBsdXiEU8oQW-:LEKH-]=}=xY"_P8	Lh _=MtMYyTcJ&A'w\A!{x]NrRC$F^kxCm)EOT3x/	9yoY4/(dG<-l{fj~kq&kXqB6,>uqLu4,gWIAeX.X p	5x^\AtOV*o?~.?vn '+l {d!sr6hR0=@J;g&f7=}hfq7P3 4{|$b#/JYN~Y~Y4@}X=Mnq-['^[;B.oX,o>g7I:3],'X]e?=4ohpGB4E7H-99tS\/f/<h*UV1V/?%I@
}Y:E(%nd^W1%C=}Da=M]587p&5-%--mZv7k&-CCi4D~pw>IpNbI9t=bvs=})/W)Y|Z7yU[\9*nZXUWNbjv!;nz j8wD,A;GYr@=uvlKd#&$p
"cK+4D/ykX'utkg%]7,N;1>k)oT	}wKJ<F	1		KV	y.{~eRF]UDF8mbr-
Z8Q\U]Y]}d)SvN/@o7fwB
m	:r~=Yvt:"?&bzB,dG=M<ynlq@!{A6
vTa.^ =;kp|#>.[lJ^8npZyos_*dwf&cd$*YHw.aE:=/N
4Uzyw+2}juJvb9
|!(|\(~#c/ua3Q3%kk8&_>'E)[+{+N=M7 .)o~x_jf'dlM;ve=}B?OmL1-U7Et2uF=ME*\jiB<ha,z
4 hlqoJ$uyW4!n)[dsWJo52liM|tbr55O-	/-Iqf"WC-!~VlY~Y~Y~Y^$vPkCf$-?lZ}=}\],Bu&kSVv,0T7{
,=p3\,3LRl9#o0m\VUz(Ms(qUD 8g1m=}uKEuDm, 0 0Ws0	u^@m=MD+qv@ x\<wa3N76	FO<
:dFb+6{H5T[yi|
A5^n<+
Yk.=%U"y.u	X\5j	> 1Z<W})z|n*\4&t*k\>f7G"[n: b|~BN=}]?=M2jK*2wB| 9X{
Bx <
_#Xw'#=NiKZ(m7VkM$8'~b_E=My+\=}.|E|++e{#~Y^<wY~Y~Y~Y#Obo[/sO+uU(-Dua(A&pGh Mt04'h3j%Q%UyK+F'?9(\62v;e_hj=}'x_}yi9 =-JYv*>*c6.,hl4Y<GfR}2.O3kvq,TNm9,o,Y94&Nlw[X
kmO6)J]0e_E3TZ<l8Yb
=M0$(=}l 0 a1t]0m_t
@E HVE1U@}=q:{G=MsN2dXl(I52648
>V$X>Clw>/Vhwf.0=MWS^. _YS{_Kh" >@]1U\s	xq|?Y\;dqUMfy?S@5FQQX\/\p:. -AB];b 4_k|21;\mF$2RYBy
B%~q\VqJ|Bz =Nxt5&t~Y|	~Y~Y~YnvCm$lVkcb&c\"u-F]+R.+k7<y,)k3ZFLm:PTZ8gJg RzB?tToVnkVx:v 	~<%4I <W;&vK3QM%Pod>E(%[D(T	8hYwMoC+nzKCUmf!NwG>iY5Ww0Es!0bsU?Q6Z9q@&]x|\@%a-@d~%M5Xv~&!o&45=}lE7l-$5M&lTJ=}U:Vz>[BAZptK_h|.@Xf.@ZK%"Y{f!>U8ZcIDU*{@	QS4|A5E*&m*
]f*k9KX|l*Az_;v:l t:an=}q)]v9ZfHs:yZ a\z2<mM'%*sFz+t!]SeF2Ju}o2=}lkB0=}Urh@ZM
aW(u=M=MY;uyk#VF/z"7, +7TG3=u0iM3^ALN36f9[#V~YrYy^||Y~Y~B-(d.L	CLn;d~L&*{|&Bl6cG6:jG6HalB<;5Hx1>w=Ja'4&hRS~.}AE:/@!<h7]M '
Y{gvb-p>0}v,}pT,U}Ii>jX{n>}*L{*f0d2{s*V?8ZGEfq~: ,s:-X X:*\>uAn~xP]5-n*\D"l2FEKcF=M=M}h2-raF2	A~2'z
@JBs6f\yxJBo[l	c~<B2 o70SgoOJHif}!kCG#O{VuD#gBL
d_%a0MU{2O;_
=l%.:=EA6p75PGlF5Pflhq5G4<_5	>G^5z_8TQhwo-SbGE-ZhHs )O<P^
F~.-CT-IpY7=}?9w;8uzKwwO=}rQx=}=	@w=O\pNf)d|YpnY^~Y~Y~Qi DD4+3?]DX.:3+SO]$s8VsRUuQ40UNbuE'U=%P9bTU[0KN5878=v78;8O>7~8	78:7Z8%!NIR,=M70
lo/	w
NRw
?BW}	!rC)tDH6T:%v)V$LvPAqV_]UqoMqT]qJIEt2	9qyyQI)@)h}EX~Y~~YaX~Y~Y/*-:aF{Bm*,aFjj1| i4Y-8i1~PPWk"7<1(ygW{iUFj1 uwyV-rFABGplw6H/MAZ|V_?|9QTnvCr9Ab	>je:en[VeH/e/re(5)b=MeiN9embQ_g?<w  o{~g& {D~Dq =MHH!(m.-m{Y]m|>mBYm[qAmy4m5m'<mbm(8QmGm^@momn6Amd>kt-_ya ((YjqhIIee%a87Qw9zWmW5/,	Ag<??Sq+Z|{YKajcw+m;q|kjw;u+qlp~O	/>9'V~YrY~_@~Y~YYqV6=}1k5{t\=M1ufgZ'j)1=MwKswtWHFj11 v	o8b229ZB+VkLjIX14Z|!c+F}/1n_ rDj}1MB""AFfF,V5<&.T^ZtBVC4N+a[G74J?UEAP<=}.^'dQ
734K'Wt?E-T]T9TQT"$Tn/0/p0>/|0t/^0	/U0/j00
/80:/0w/Z/02__E""0/b/"0hF4OW0E.?Tg,EDA)Iu+'/V4[tR[9-,$gvETE_Q4-	Xhy]H4;=MuY.XhtW.;x%|o,+cKzm/P.h	UI.Vgq4$XG(^GP],>h~PqJ{_oL2-3j'{@+:gnht]'[,R?)(A,rhM:EP{W".yGv:r,C_
KvBk$}Y~Y~Y~Y~Y~ b=M!uy=}xj	(sf	>*ye
(v
>wnt.9J9X9 GAY	^2|?6;JRpNR@6n=};iWJZ&k~c<!@ "JuT>RBQbUCS3 _(C8zD"LzvFNN z~ QxxrfIYQX1
ONOJw=MZU!rt{=}>>^=}Zw$YU>r>^0vG@9z_pM6j@^*^=M^n9Z*\JHw	
QFZ&X<)*B_Z47i9Rq/ wGalA-q4v4f:;vWfT
>V<rCZxHpVfh:!;\o9S_l_1<_iy] zia0QYQ>pHA9PYfZlNlPR}?uR!=!ka!2!|2&NeA2+j >[rKL>j.i\K_0R_C/4\-M;&gylWt \MQhG115	]1?=!]JFQqA4( DLo $,Ui]6[P/oBAlWz<q%g\-AO[]S7N )	o1Jd
av$<4cy,=MdS=}UYxq&tkAX?$l)tk}/\261i
|o9!530wG=fyU:k&HK/o
e?I5%DK}s8!
cS&z[n,Ba<2Gk!-5Iu91H k)<fT7O|gYV6*e5v?[gQ"6[r+jRB62"va&RiZ4r"bb'C!k$	4_=#F_=\/@^}YO~2LYvR rov	Cs*{~\@dswZ9;:^s[(VAvYA9Snk)}'bc'?zFQ)(dn>c=M^>n7i/9Z3_P]yiF@0eS7a=A$weZr4WT$-RnpvjX+=:_qn#:0j*
AgRN=P{S>9'A$
"e?Q|m- nj?NkZp@]=A5ks7=MrqF5^&A6a4Z}OV49IqsrqQ]t\aWfUlwAMre0 @T
3=(QJH5iwp!6"a=OKB4V><Vy9VH2/=PrqUT8{@|,3&hUATaUA!HK4)K=?!_x~1_=M"ai
1__	@|a7q	aB{L+6+n+!Z.:-.?[p/2GxqtB[uh,\grgvikjnUbMAUd^/F"vJ;?Vi|x[!=meuKrmrxOUW6YPz=}Bay@QXK!wYT};?O.3\[VXB4"@Q:\D_6W	h!3d=MUxhP)c"~doX~_aSB
D
=OCo  H.\QC   8Dwymi=H0(`});var a,o;function s(){var O=o.buffer;a=new Uint8Array(O)}function c(O){return Math.cos(O)}function l(O){return Math.sin(O)}function u(O){return Math.atan(O)}function f(O){return Math.exp(O)}function h(O){return Math.log(O)}function p(O,P){return Math.pow(O,P)}var d=(O,P,k)=>a.copyWithin(O,P,P+k),g=O=>{r("OOM")},m=O=>{a.length,g()},v={b:u,a:c,d:f,e:h,f:p,c:l,g:d,h:m};function _(O){O.j()}var y={a:v},b,w,E,C,T,A,I;this.setModule=O=>{t.setModule(Ih,O)},this.getModule=()=>t.getModule(Ih),this.instantiate=()=>(this.getModule().then(O=>WebAssembly.instantiate(O,y)).then(O=>{const P=O.exports;b=P.k,w=P.l,E=P.m,C=P.n,T=P.o,A=P.p,I=P.q,o=P.i,s(),_(P),e()}),this.ready=new Promise(O=>{e=O}).then(()=>{this.HEAP=o.buffer,this.malloc=w,this.free=I,this.create_decoder=b,this.send_setup=E,this.init_dsp=C,this.decode_packets=T,this.destroy_decoder=A}),this)}function Rh(){return this._init=()=>new this._WASMAudioDecoderCommon().instantiate(this._EmscriptenWASM,this._module).then(t=>{this._common=t,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._firstPage=!0,this._inputLen=this._common.allocateTypedArray(1,Uint32Array),this._outputBufferPtr=this._common.allocateTypedArray(1,Uint32Array),this._channels=this._common.allocateTypedArray(1,Uint32Array),this._sampleRate=this._common.allocateTypedArray(1,Uint32Array),this._samplesDecoded=this._common.allocateTypedArray(1,Uint32Array);const e=128*2;this._errors=this._common.allocateTypedArray(e,Uint32Array),this._errorsLength=this._common.allocateTypedArray(1,Int32Array),this._frameNumber=0,this._inputBytes=0,this._outputSamples=0,this._decoder=this._common.wasm.create_decoder(this._input.ptr,this._inputLen.ptr,this._outputBufferPtr.ptr,this._channels.ptr,this._sampleRate.ptr,this._samplesDecoded.ptr,this._errors.ptr,this._errorsLength.ptr,e)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.wasm.destroy_decoder(this._decoder),this._common.free()},this.sendSetupHeader=t=>{this._input.buf.set(t),this._inputLen.buf[0]=t.length,this._common.wasm.send_setup(this._decoder,this._firstPage),this._firstPage=!1},this.initDsp=()=>{this._common.wasm.init_dsp(this._decoder)},this.decodePackets=t=>{let e=[],r=0,n=[];for(let i=0;i<t.length;i++){const a=t[i];this._input.buf.set(a),this._inputLen.buf[0]=a.length,this._common.wasm.decode_packets(this._decoder);const o=this._samplesDecoded.buf[0],s=[],c=new Uint32Array(this._common.wasm.HEAP,this._outputBufferPtr.buf[0],this._channels.buf[0]);for(let l=0;l<this._channels.buf[0];l++){const u=new Float32Array(o);o&&u.set(new Float32Array(this._common.wasm.HEAP,c[l],o)),s.push(u)}e.push(s),r+=o,this._frameNumber++,this._inputBytes+=a.length,this._outputSamples+=o;for(let l=0;l<this._errorsLength.buf;l+=2)n.push({message:this._common.codeToString(this._errors.buf[l])+" "+this._common.codeToString(this._errors.buf[l+1]),frameLength:a.length,frameNumber:this._frameNumber,inputBytes:this._inputBytes,outputSamples:this._outputSamples});this._errorsLength.buf[0]=0}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(n,e,this._channels.buf[0],r,this._sampleRate.buf[0],16)},this._isWebWorker=Rh.isWebWorker,this._WASMAudioDecoderCommon=Rh.WASMAudioDecoderCommon||on,this._EmscriptenWASM=Rh.EmscriptenWASM||Ih,this._module=Rh.module,this._inputSize=128*1024,this._ready=this._init(),this}const wA=Symbol();class _k{constructor(){this._onCodec=e=>{if(e!=="vorbis")throw new Error("@wasm-audio-decoders/ogg-vorbis does not support this codec "+e)},new on,this._init(),this[wA](Rh)}_init(){this._vorbisSetupInProgress=!0,this._beginningSampleOffset=void 0,this._codecParser=new MH("audio/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}[wA](e){if(this._decoder){const r=this._decoder;r.ready.then(()=>r.free())}this._decoder=new e,this._ready=this._decoder.ready}get ready(){return this._ready}async reset(){return this._init(),this._decoder.reset()}free(){this._decoder.free()}async decodeOggPages(e){const r=[];for(let a=0;a<e.length;a++){const o=e[a];if(this._vorbisSetupInProgress&&(o[cy][0]===1&&this._decoder.sendSetupHeader(o[cy]),o[Xp].length)){const s=o[Xp][0][LH];this._decoder.sendSetupHeader(s[OTe]),this._decoder.sendSetupHeader(s[kTe]),this._decoder.initDsp(),this._vorbisSetupInProgress=!1}r.push(...o[Xp].map(s=>s[cy]))}const n=await this._decoder.decodePackets(r),i=e[e.length-1];if(e.length&&Number(i[Vc])>-1&&(this._beginningSampleOffset===void 0&&(this._beginningSampleOffset=i[Vc]-BigInt(i[DH])),i[BH])){const a=n.samplesDecoded-Number(i[Vc]);if(a>0){for(let o=0;o<n.channelData.length;o++)n.channelData[o]=n.channelData[o].subarray(0,n.samplesDecoded-a);n.samplesDecoded-=a}}return n}async decode(e){return this.decodeOggPages([...this._codecParser.parseChunk(e)])}async flush(){const e=this.decodeOggPages([...this._codecParser.flush()]);return await this.reset(),e}async decodeFile(e){const r=this.decodeOggPages([...this._codecParser.parseAll(e)]);return await this.reset(),r}}class MTe extends pH{constructor(e){super(e,"ogg-vorbis-decoder",Rh,Ih)}async sendSetupHeader(e){return this.postToDecoder("sendSetupHeader",e)}async initDsp(){return this.postToDecoder("initDsp")}async decodePackets(e){return this.postToDecoder("decodePackets",e)}}class LTe extends _k{constructor(){super(),super[wA](MTe)}async free(){super.free()}terminate(){this._decoder.terminate()}}Qd(_k,"OggVorbisDecoder");Qd(LTe,"OggVorbisDecoderWebWorker");function Ph(t){function e(){}function r(w){throw w}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,Ph.wasm||Object.defineProperty(Ph,"wasm",{get:()=>String.raw`dynEncode01a36c6f98c83%y#6Ih-^*:8J#(3s/.*[v\z(oBMvm1I(&b?0=MPxA%T=} c0PN:QM_qA1k@6uk9F(Ac  )T=M]+aBc{!_#'.(hB\0E?s*i9)~Q6+=MlU<igW,$(mzq6"o1GwY$)(!j I,X_=M6JX>$F	M/=}WsF$9PsH03PWqC~}:ta/sdv[<x[0bRjzhqJ"'*034rv[B/9!rn5MEk5?7k,*drk4Vjooooal^=}MQ]Ql[g=M9	~3 9gGze	ulf	|Sot=z<h]9:#D3Le	[)hf?p9
Vn $%1rn:f+|;o:*W(J+vOb7<	[)oU89~3VN&vlGk&M6 6!^ vBL,Y+jLRekX\yF=1X1hQ^d@!G
 )+wyIOi;gR#'%fP S[Ec&0v\G-pSX-UQ<J#i"<o;6i|#mY	=$}
q_.}XixKQQK=MK8RM[@4(=M2 
'e3<&lw"j5i,{~OcWJXnrg/	lzdI~ j=Mv0A~DUn+mFiFU''^%np d)"~VYg}Q7"]eFZ0 v dc^i\	qd-|7{~UrV/wYF',nVcyi7e$ ~)&$d1G5S=M@=^=}QU:74t3?vs
A4e\WX2l<U{>f#pH5_r,=}7==T	qMa)_;T$k"b"l}"D:o5{6Nn?=M)~9* @kc$ne&^3/V"13H}oT{Z=j6_DKMw.tRcI!fuWwYYT I D=M5h=MtYn~e
ef1u)tpK*;;{Ot;pSo9<{	SS!<qVl>,(sU5-^SC%(%^}3I4}|
^h*{rzcTd<xOZ5?Lsk|L; -)rSXYWf{JA.pD LIoHI{/='+y3Mj:mP@,0	:>!\0%wAGi/XkK:PH_rrO8u=}8QR5y)P/!5Z#l;40R{W!U1{gTu&iF7zHTsCuPY$?*=Mq?N\d+iyzp(LvP~n:=kO~?Uh,a[SP,uNI<}:3; =@kj;@#G:W![>YyXvF?d!_o3)f(L~OM{^=Mu]6c$T@{I=M{d	=}8>LlUm(kx;Z+@XF@	h<FB+Q BG=hcWI
21R]r}^o'<<qNun%vu0lS% *5HV9O tn#heMKg=ML&67w+qEW+/M=}]z?H+'S [9j6%n38-1t)	,WGQ^P54wxv70FI,47-+Xdo6H=M.pU$7B)(=MO/k4,NHEzq,j[Ii[luBCsX{w+\;K@
M(Llvi?QP>fv;RMj\z-K{|xJt<a/}F|h_ Q%<g2(e3/m6Y/=s72r7 xIuhzY_1nf>Uc|zg}OU!%@mv9+Qc?'4c%%A'.Q0dSC%$p:(hLd<#h1X3.KqeH7u=q/<\iL$wGzEHY7RNBA8&.i? vch=DWmcl<|p7<#lsV3*5H]5Gqw,uhuJvJ?HL*,wB56T=}BWyM
[m)iM
e(78m}=w^kF#].'6"7*	U71\gkunH[[13.'5uCLBgaV3_vOqaUZ<-KsZ~\!^2^?*\RG+l)Df|]\x$4w9G AvpZX@@p	4z&j3=M=vgURWd/x+,ae*1vl
^m"@s# ;r[B- [a|>]6JHX@:{=}q!K "A=M=z*1z^5b*mZU ){
8ApG FE19bnX&>~1$5@a,'<i?2U;pw u f@2>y2LV^sY8,FQ<uDR.O lh%icU4Js|"VhejSqc5T^'l S#";R"sYY k 5wBYz
V9-[,\l
yh8@i1&q-b:|3d"YI_;UpCs]@D T\,"jif	hg> )[9),3=k@H79ywWB)*/#:%Ku3f@Z(M=M/}PCOCE?G(Mcp0YE$$IHXrpk%>n @-\?L}]Nqli3v3?r+4 )H}Q*8x(=M=}wf4FR!"\VT)jm8McFrH8[c@Jv
Tb!r~{%u3pC0wnP/{s5!f^"Qk5-Dh6 VGH#hdi\-3TE.[fLJ,KBF.Z*EV^
f#uY)PfZ	I2Ux4"BUR:eAAlD,[O0b){un\a?laP+ ?yw.3;+@>=}1vQ%n<_F!Z}"S');?LIH0#B#J=}"\?rp2q(=MYh x4_2gXP/_F|f*2 qcS
rQb.68W
gz**YbY,Z$ohdr #0^k\ umnxA5kmW,iL4aavw=M309WTn:-*bi%b	na
wz ~	/<4fP{}I1b=gM$7G=}sdP2UBeM&%T
5igee'"Ie$WK*E=M T	 oC7f*LBGWsnvw]0LQiK/	4tbU,2tppkJD7D8MLb?;$1\iJfAMCu)Ux}j4x%^q&]9F3+c60\7=My-)FF2g=}2H?.=MORl;U/ws:7p:ZL*wE#vShdJNqBJVAve7,@0PRC5a\}xr6poG_7dqwJ3|FKc+/N4J Vn=A,*=}o@b=MAf_JtSLI>Ix'=MCV^>V9-|CCt[
Fg7Wls,d%zjGI&)AeQ.:V$Po{]v,NXP8_#12u",4b"&Gz\g6&{cif5[=}#\e}~i~aN@v4Ll=}YEQ8_d*8Ma=M5nm'q\/+!4g,TN P0}[zZr)E;N$=ad;X\tI}TgrGu<rB}PB=}i5)Y.qSNaT,Bd'~h%tz{DW =M .ve6eRfhzLLRY"&z{4L.H41~dP lr*piz.a^/u?aelzZ>\=Hs1/=FeB{fU8gr4	 +@Y+1'{	1~F{M\5hL+;f4Rs++p\(KR{0;&e9l-Ez{D@Ct Hv#=1H/10X!L&[(h|g4Y~#'JdF4TbMSOr0pG]LUH<O"N+/#/]0DIH=Mk+v|.UK
F1c+$P7J>CKXN8G2g>}r.&Wq
6%!MU=}"Zj=}Y<upp6qf;	))%			^e	I!=MYNR@/mO(uWu!Vg5h8,Ar4Afge"Zz
i,kS%>6u
{rJ0qvHS8hmh<j
\r'mgB;9i{Rx+Tz
v[JZm[4}qR4f~ |195lK/=M0JNuMY4 #x|=>Z:nR{$* 2>%m QdP-
oJcNK)63W+nAWqs#F
6]c&:=}|<fe^	4#s^MY=M:uygmqErHY>?AXjb& 6yxH'+5pP*Gz7A)-	0BDmH +0GuRMGm/Y<go4H=}6-	s9u+,.0k5.&pz|Zdh<=!gaIC;|o~){P<F{De9?hB-
1WDPzjZ
aDM}O702?A,dOYTKm:hdUo}mwM!UxCGHFGfnk:e)ToHpcI#|&4qYwAE0x''=}D6j^p~Paw
N7~j:G H smm7-=}mi'p*K2V^%gg~l
o)k*cJ_ =MIj,KC}}Ps._ZN#G?UJejz(}g<68eK>$3s+]#[:J6@!U i{==}iU,m0cS$VN^7#v#I/Gu;0xNqJd-c;n	"QRsB|I }'C@/w+aAI2+1TOOz VTIn=}ga;v8\GTwaxh{dq_jJdGjyS{#*ST4~nvZmo	t]PJDwSTj%99{56#ySDvaw1j[28x8 EKv|Uhe(UYDSL_(4Ot=}w|8Hsfmc[DotPW]=}sKLV6kfx(&Azq1Q+j'A\BZd ;W*[$|ue&G{oaF=}C"|pzJ8D,eO2f:8O5\TFsP+#5[k0E{!W=M=Mx+G,?	htgw%uun/%=}PJKqCG=}S 7{8<<k e&f0&=}NhaT%5ldU|p &4^v2{h 7+xHdj@mh,f9P^"ewkWxW6?iCTN&pH5=M:dR,N:z4BZ@ 2it/FXOs0(R:zuw?d8\Q/9/p_2WGy3f8IV9I.\G =M9U+}J~@oq_>d1I=}=}I^p+k#ct(C=u+D=txtt>n*TPJz+9"2?]&KiNr/SLj{{OTd#{	c%ck{]j%61*fazd)O2%Px%ySc]uDG:$3&m=}J***1My61o*x~dScZj.=MeML\c>@f7~{
YQd0u&qaWg
1.{]1nne;DYRYjv-aR\=MVMANdYam+gHhI.@bLb%PPolIs,w/*%~@n4nN"-35<itQmJq'-:]R2yOIGY|1~n9\dQ~5fK\baozfnaZB:vn"glor1M%m_KJAkb)3L=q d]:}x--(=*fQ ]sFdmZ,^dH!7d=}6E
-/o=-P=MQDY\=}.s[rGJDob!S_pG	HT3ddvK[YMrcuOwPYM_n,%r\,rz%m:haMUNy=}vSbaPSNciFn;?]	si=}KS=}ahG|,f"'dN
3"A}U/.mIb5
mO [wm 3IL#W)_k4EKd%#4w: :;7wY|q7-
\o+V~QwD}KhD)djc0,};)jw3x|=I$xiKSL<m<o7q]o2
h=I)Mv*;v/oKE
FVV=}%ErYSHyG9*y9)!,5d/fV>6t
FtC5=xK	p=M(+~=M\:(5XV=MuS%$ik<d-o55o!Lt	+4LJfI:=}h\$8%?}^(;LG;1j#y:pQRE1WMG9uwG"}NfI%uzzoj)9C>ojy-Mw8,1B&!'!}u17HMm+	]oQp/<bC2|~dr<.:a4TCEmi3T7p#1_\mguiz$|LPzu][d=}+AqSc'u	81=}Y,2k#C.ea7G7D3l@xnN)]D!UgsMp9'B\#5Lkjy4[/R#In^PZm70]D\YRBA1F6."ff7J7!P=\Qzw%uUtI>_k!ORiX]GF	hbo	"_	'9M,Z*IOI&+1av]8u91Fc=M\#PCj&Y7TE:v&5I})S/ctvy.iu8I	>4vy%KiV@1 X3w,E
~FjWCGPcA,"s(\[1I8@nBK	tj5et~;d=M,?JuJ('>i7k:8g4HUHIh)H<OAJJ!}mW=M
zx=M/
N+v-I.'_Hhrr&% "uI%T%O vGmF7%2c=M;x/#g/}TIWtB(# I#Z3l*:P\J2M\jG=/qYT~FqnDRnd n,E?9+g){P :Omc|cSP{vD0aABA=3V,-sB/6W L\IhWB0z*/8Vu[flIG0=MFhmfB5lEPrsA"1n8x3'7-g&5F9	N[&WL{=}n=}fWI$1^1zF%Cd1
(JB~ok+]7<<2;,|Ry=}Cy<SgkAj,R]7YA7h?3(svpZWeWRG*
!N)SMk8AoUD
U^?AfF,N{+ILk=}|~T;V6iu=}UGa=Mh3	~c.}U7Z0@4f/<u/pk;8~0<XUnEgO#lO3:53j.6(To./s@LKt%#o3$'|.	iH/^*\;sySy]l~9wMnW}C,/&wP4nm62	jYhi)ljo/q9("{3-HDjIy2iVUS8O;QOPzYd?{(Z\f0'fm9^!62[UB+EP_v9pdp0],aVVT$#6@La:[T%xqADr#~=,BZ1@w;BH>,\gu+z#W:xHtLwNeG&w0A	Nhg[JK(M/o=}H>{N-pLG~%S|&48~3'tG90xDj0-6'"JbSBn%wf#i&=wC2t'!@m'qa$UjKkD2 Y$nNl bB2:Pbb!4!0Pi[O4*K1)Ek=Mgh,~p_ynTr_	0Zo&a%{g"+ jjvw]rdGqnxp<^L* O1LjK=">g':S>BqAsDs~KZ\I{$S6Ke am+Tfco~n_?zyGYNK]gvHb)'5Idj>W:ie=}kJ=}(+%9g?d(xo7s&Kl"zYkv#mO*sGR@3'M3.BB]=a~SQ9,x!@u50*! y!pVWvL4rIP26j!o-<ou@;|Y1H\t38n~;:qB@uJ>lQ5 
*j$^r\ \\Ml@1k+2(g+Y:X5%ji^u| QbO^[)t+J
%jfM@V2Mx9V8Na)4f#Tps!KPSMWq5#AJ'gdkza)IK6'Mj=M<TnVi=M&6hO]M6o
&C^X,nI]^zdIQHm5b 96i0}A+
Rli3^]R6iv)^\^UlPc"ZnGQm*L\@a	w@@Zr&b}5lr,uTfG?"
>]]|C*h&aX_[jz|#(BN \}Ba&WnG$GEC=}G9$p1A.\j=MV'Ns5Dh{+2-'U,sK-*uY(XXXn yF/EOmE@vqR(QLW;\bnl=M<aMUVU?{2^>Se[cqP*_kaUpv|fN^:7.6x7\<$s=M;t@d<Rz[l%m/HpyS;;g"s;=d 2STicQ.b/3i3o8uCj]$xOh.s~xUw3ZIFBs;!e-dej L"Rejj{ejjWyzbuiW202U6=}Ge3>_MR^ljs-g"lb]D_Ma dZa ?%JSy'tUDdM /W/<UL-t$tM-	"*RX_hJ2R"X LWofE4a	K)@e-n@;r\c$YNxHL)pI"T"H	7Io#'+5|ic@;MV7mxytF[8Y@(KlXSl+7 :=}r=}2/	"ur;r;zj1Boi4x	?P6,>9|,9QHf9UGoA)\|ZWB4i)VUJn{CQp{\3
WJ1"\K"5liI bD\F)_jk)"~p3]5(n5kY%zaTd=]V,XAG?
/$dX-Iq.i9hx;saetlWs+}]g.m-(-dJkI%i-j<3=sKDB*xgI&ATf+k6s^^H!x@mR0Yk4Q96}vO(G~qWrdS1]('+K<;-!5Fo@e+'.d.+lPrn7k*E(f*sIHLy}J4Di.}P{B0]&[6<xxrEa=MbKN|v+<Wugb:as@r< "kDlBX/n<7s-l|'d#[O">~\'K>^	0KDVQJ,Q'^x,YhuU=M"Ri@=Y8uL DEynV	(uMDphKS~Ge4pr#V.bI}C)K6VO*i@d7QHAgL-b4IH@Zo=}yK?GE:uD&&[hw:z|>Gmz ^4]XF	yWL Y 63t@-(\*vIHy%B=}kG=M[N9r.=62- N(Yd?%B=M(#>O]9=}Ji1z6.~C=}3C)!jSnS\ux<=]Qf*x &LJc2YfE7#?:h^..=M\/@ Yb\ua7vfopb_&rzlj$YNaf.p,&1IY=}x{]%zT6C1lPZ[1 +WzzNp!n!bK Y=e+wv\J>0?cc6A_dvrN2k<67z,	YHxDxZW>>(8),/>2:Gj*&"fDT50iV%:s88^V_|P~)Z
hKB9c/Zg&=J"hLeLK0nm~%Y D6[sno|de<a3I=}n0lp	'&qD,@q}bV&53_FzOm>qW%antx+~@'x0^w)WSoiFq<DNO%9Sro!U6^w^=}57=ifd:Awp khf/axr]sFWCc}h~1jly	iO1SZPoV# qo;j3w}4wLjgfO0n-? gi@HP-iU7 K_<UnHL5)[gR.^sI7\}~J1paQ,wJS.t/$bg9*[Aujr$cwoU{-Zn<77nyZr>Mj&aj3h<U"p)%;e;^0!8&Ve'=MS_Zv=2=k)U>'(]u?JMlkh]hmVzg[]U/Py045;:-6ce0CH=MTa*;6;mm7d,Wr!'CfEU6$?y^	+=M<7>9eXe"i|~i
=(zuRh|L
fcar@PNl@0lTV.P;e3OT]w<Q06lN5f|}IlNKLP60g5&tLK9D@VG~%cv
GDKfs /CXI @=0!K<>W-4	G{)L8?BPlrnya8_jGy./A;@F~R\g=V0:hF=M]{3 p<t? J(2X}}qXew}56vvn	v_ntO-t~d(6!Zhr/'u=}mRU+9r NtD\Gb0]utZk?<>L{Rhrdg_'gfUS 1jSJQ$=M_T_D+'J86A~)Bev>0Oj%NVhd4Q+BU"X Ba.'}_A17HDJvwS2%M3qC2	9=}] gs sl{ _K[e$xScBz,C6!r]?;f&	^a?]0B_b1oXh&"GsR
H Q}i7at e o=8	g(N Z\"7lKorvG7a*&<G44kDF.?64/{rzL0sZJN-6-_pr/[F](LJ|5(0k=/h]0h?=M
SHn];9XTpq=}gsK9X+n@5)'q@ /#(aVUo:r<ZrH}:_%&orI^smj7=M^M!d~~&h/ y3#'nEhs
)(q;LbaH	|d8D3MoXaF%E	#^[)O_#c	[Sl,@|r6@V[;r7$S#G S92eD?Mf.Y&S3s>tm+it DO'GJ9lR.33=.:oE>K<?m1q=MUU80Kx XQ3:II38<J%0q9P$_IF?-ud.hv$_GT43]Ttso^svtI\ZIn]x tR)xI(z?*'l5}Uyf%=_dR2^br$0$=:Jc@z>gNV1hQ=Qf4-8X,wm5*T8*$cmChSMrpp] U31l;s),YW~>Ghchk)dQGb%MlKj=}k:#H3\N>= 	U:.c9FS=}r\N1k."TW|;ZV]:0| C;\Y B~ #1bB|jj#_5 nZse$D_xxiST 4AkT=MfRG3\NQFN }?vX>bogV l2N9o/gK~Xh#|~+Ct~Ikbi3gK(5DVtWoX]m|F+.\OswR]6	 3_@bXT;xUq=Mq&O &l(e&J/
=}ZRTOjY4@U{\h'
h!LyOgyM0m|tkL2U~QoyT$]K\i)(Qe8Ov\GK)I-6qE]S5t91^ M@~ds=M_3uun\-=}X:i}}Ct:YU70jl#nO%6Nz1A(ARO ;5	a:N!0x*ljZIj59X)<o			9yW1j+)*p+&98MxDMHB6|T/FR-Hi=}VtIqXawB?loS)K&K.qT=M:4Bp=NstVM"a%*WqhoO3n;fFK-lg&JE+v=Q(6O+XTj8p_C;7/,|p8&QZ*.XY(.7M8|Z}CZvC;TK#Cw/erB4o3^!x?.K@MtF2/T=MY1-aF=_o% A_	uxO48%@z$0k-Hbt)tV2m/x_ ;<Asvkx7N5aFHz6^](l	_M/#y4<BN"Qu)K>Z~|8zLEjmr=Bus~ Fdcz]C)qy[Vox6W-40$Dot;V=$3dC2eiW[)a_w/Z,@_L<,[P-w=M
f'.i3>IT,=M__4#'D T}gF1t5WogD+39c,^Q=M:D
0ZxR1w1..=~5e)RivKBal!%%|~?uDx{N!ihCSxKVvQM"3-Lg#5-b,M{SJIo^z7R	EwHHN44D 4Mqp&j		=^=HON](: &h/7<I-)!P[6~gGhfI Rq-)N&Gx!5NG(W',&U$=}5{w#dJRw=}m}^
=eBtKbzur-"MFm6vt0sMUc4fT*f6MW3Y=M)hIW;gtk i	kkm/#1%dF XtC	|VA4'9%	m&9}UVqli:wS\aYfF\aUU-S'-
Z:rgK2<.}3hC7."v?PU2K,F9\K 	0.DEq-:m74F*^^o#O	3_|!vg'Sh-Py 5YIQxK#P4Kyw s*C@d*#SGK~\HMzL50S-L#UBN3tETpVt!CfFJ!"7$TO~Sw&|=M_	L\&=MD|>wkJ
zJ(ZAFJl-'gljAEN<-tJ=M[3*zn#8	]qP?Cnn=M0us x2avP^c=M|1W9
-?eG-)dnRP{!J[zM8zy(^mbp%7j[~R;&x^^+tk9w?#o"bjs\xf X'~S qiX[PTagSUNKeZXh3wX[*m	!(M+Zled}!"xB9BopJ":dUH*K{HhSAU@7<t/g*ywj
Wb:b[=}w:EhQ9W6zvuX/RDS-r!ZKCb=W!RUsf(V@z<H@('>([Z# )0z|F G{+7e	=}!.kg>X<}Wj%G@G|1Ee,*$x0g,t$4s;GL.@};F*=}o/jl=My[@'n?HQ9O(nk%9OU)k%O,H(D389}rbSOgdU{S<0\oc0dr3WXz=i_9mwvG{(Hn~*4^|*+K+	5
.wh/n';
YncK4u}rt:-/snKEi	405I*?EV*p+pNxH]VnoTM8x<n|llI- { D:]5\I3(0"i4U/ZcE:KXUVEQ4^z&*E|=MA:S(LiKoj%/YFu{2Xl2$R/	PXof?dyS3n8(Q5{
 mW~k'>Cq_H|Pz}ZS9yA?4OIOioB&Wl:x<ayaP3Dr:o&p=c!KQCKe9f	!1;fje<hqNYCp#'c(yCG?l{F8q)&!^QZYPA*f'C~Yv3'twyNxyQ%p\wG]mHQo:9EX|1qM@a4+[7drXuXm0}\5E3_70[cfQ	VJxn!\ulN-JmVg37D#\FxH=MnT~FVL*E-n#tzQl(E2K7&.+%MRyj-:(X#=M@l%j% 3G{9+z,{eZe+$[YT+[1f
2@5gi7;Ki_t8M%ek U08y7NmE7FoFH.Ui3K9VTr!!WIMvHD8](I	_CYG $$
JE~9-#dpR_jE].]bsPbY"y5HmdoKx*1tuS<RTewh|P;3e}6lhh6O=Mj,AWx^yyt5.;MGd8EiYBR$ 4+U~rAo{2TA3g6$1	mBg}<Qc;|"k nMwG\Pm7m12 s#s=}#'SaNh>_rvupC)]'[,	?=b\Ff,y%wS_+1VVx[EA6F5R
{d-R;&2,N32)QT {:~Vjdj1mAs&j=}bi_zL/](Fu(4&| >j*9* &&1mcaFCU"i *?		'+:<k#PZ +5xd/)+?~Lwzc;9Xro3
$Qh
;=}c Oe?kFPotT1LN{[Tc :RmkV /R>h=MNK'54w+w2v({),ETesuf;)=M>[8%HKWU9Rc/EvJYN%{9:~2o6]Dw4IR_.WsBTFn]@Q=BR#L"LT*NiB$,{9?%n)J%:
0,?jVNIMJJx%9Koc	3*4^O."cplh(SZ+ovhdejvy=	}=}<w]bU1Lw-02C@D=}M.qJP!TF*x8|kISBV~^;)83=M-y&a_;;A{D\z0,m4qRVYBFFdbVR*G$=M	qLejbG_>%+@cK%%+bO=}JZqN81|2?AQXl%'E>jc1 \ 9H]7 >>Gf0I873D]mr'[h7dQ.hT5 "	AhN=}2
sh5.hHgNhPs4Kp%'X\XsYAE^G))=}<T+D..jSb,HAJc~t|r#HaVjhHz>?^+*=MFRTT[Ff9Cs~w?AJMTR4
1j<1h&g,RM2Vlz  p(}J>tkJ"~3*"P_#7<4OT2r[UjfC:T14
*DgBMfo|ie;^]	 /\mm^I9l0O[D-N<+}yL*?$=}G"x&pBT?a?,S	^p'y(h\5Q),7N)J%KJ%WiD=>=M
2jr60;ibC&iREuYL_>"8[L#2:+"Ax[vkwN,-% /j<
=}^C|,p[?g=Miz]>YdsB$G-Ti0pIjY9c+2Dw'7Zd?+D\@z]E=ML$!4z=}nJl38i&b \gxxsU^;-m}r09_>N~7)3rc<Qwhb\?Aih#e,9 e(y;bDz*=M)C]&+nO n/Bmd%aK/ wZK8n!%m6'lHM8D3Z~{'Rt=t={tEjpa52<"a?3AuIL5IxIWn=}Z=MtcRt}GKaGH*4b5p22wC5[k02GQXD0:P=M
'9O_n8K[Sg='j282H2\-Q]{)=M tJQy=}Yj\=M 2<v0ha*}[Fr%{ziMs @^|_[yvuo4wocujT{t4wlsOZw)H{k>FoOu&;f) [2J(Zg' 8dFUo(AnR_u3b._rm:kU
UEhrj>3jW?VtGD3_\]bl2
![m<L]!;A{EyY:cwB0E""Zm*;q	krJ!C}he
V^2"s4 ,!/^m '#:GP C~^vz^i7IQ#UKo'8);-JD;CsY %-xo&vYKawd_g{=.nBxyFf-b=Ml-VV(A/\Wt'SM.2ShFkU_?[JIt?W{34A b8)D)<L,o{6cK={mR;
rc>zl93I1	=C=MXJx:i2JIt_k=}Lg/ ZIq9Ktl+B0O=Mb<]=}hG2=}dj9dSi ij/}Xd7] #W=Gfayjn=}:.26)8NEv>E6zG4p$/[|w;=erdQ4CA\=I!$~
48-JOG{}D5{NEJZC=}*SC3qa3/U|K<(4v8ptmf%E-(9o)H-mSNw^QFq 1]wJ<\-Wu6]R-%I3	nw,w!Ma A	t*=Wx-"SXZJUz]s>HNU 1igv[8GCUnL<TI2Fz/Aq_N=M/2@=}AwsGbacp7+RY(5#>;Kn'(YM(PDw15y4,<^YL\_'Tqk!p3)y)1jRinvZ-,zm,kHW 9CD4YL*\vKlHMWxY8PTECr>g-feGS_~zSzS}Y\MO3p3"BG!+o=MPyQ<9=MT) [ lE^dj\.[Ym |zpmJ5M-8-SRl%MEa5\Gws%~Hl&k<n=MLHxF0E~\[tNp'{g-%,#y]6[QRB:@&VOS<S
.W{5%*&P{r+o
{=}%G+0&P{2-{_=}d=}kb&4%DpN {^zqg.F-!$j4-89o<49Ky	GU&-)	=}#Ih#apkcqMW#LxW_>#Jrl#a	Q2;#@N8!@MD/!!Ay"bvP~V,N>"	RY"xpa]|?<dY"{E#YY=}n7m)]
JgZoL)pb	 E=}	7DIb8s3	Y=M9J~P$B="JU[~5.FN\"YM\yFt+
m'b<:h\@X TPq;y
"bR\>.lap6cnrq=}{[Ol!1("l&N{h7faz4-a qcU]g_Q.	]r:zca. '-3/yBw0j'9K|6 v2w4PFayDy;=}>EE Pz#<,@y! ]   2ct qAHM&Pe1!XOu^J82K8Ke]Fw}.Z]?S>ys[>UhnBpR*@h@7c)-I8w|&MM7NF$72&a.1n3B6K=k4ND[Ag^\MD_8MfT>b'[Lu^[3N]v(7UHe3(sQf+sR\RirpuC&ctJ+=}.H)XTGwcMK;F+YHQQRJNX;sqK^ >cy -(Dsbx:($E3Vz0QYwj:^vf9:5\K\[!P~_~wKGs6enn(Q+ {6j1.[mtp@=}'D2LeG_wcwKCThB8#u_UnIjZI3K4t7:<R\Z'FoEqWX:PaGPZ[B3fCd=}8\-IW-aJh	=M[gf1X3D!;-DOx}{7cH;|Lzi 84%,L}.9'=	#d	kDpmU>N	c/7aT>i8sp	k;JAf-o=}K2$ed*>yIeT.E^,~q$Gdb@QI
)"rAZm??(IK^	JK): ,'LHh8RkX?W<NYPX<:=MsQiw(N,>%x|wEa)"Px@Ynz=\LuM"* x) P]&Fu
ykw_%+'O?{*X+@k7l74
)"x}W~~EuVQB*L=}_V/32eg<&i&iivkhFMFW~SRZ$qt>0)k|$Nsc_*f>+5$u+).f+[/uk<A~\gC(/XOk9'wMjcK@7iI;i Z<)aC2]8d8ax.i4;mM_&}hMswI1?eNo*("/fTX?Z&=m1iRz<k*O\1?A{ES{wg\[b=}yb5UpcQJh=^YsZ
(t=:8)6{:PSatt;>8mocA{v)4c^?gC&7=}Rh;YTo^r6=}3Vbs,3J[ht5UX$.?\Sl~WpPd]*O8Sr<)C7BjD^CHJ*?{>E{FWZ?\K+0Hdzr#*YD)eE'uM|~_%;dJw4Z(z,|=M&| Rc hMb.)|.+J|j+oDKF8>pUIWH%wR$H=MYv[f5Rj{Obt 
&%MvMU@m1YA;B2diDD4x:NW.s-OBaKB>\su=}C:'?>zrz%Cs:$m }es&y;fbcf.E.r52}i"3ccm%	#hj::g"9Be[!62nAIO-n#U/Ei!w~Y~Y~YMuz}|fgdBNg%s oMbYt%Ofh	f5Oo(h=M-2w+4e$P@HGf(N3LKCos=M*	xYw?K+])DKgr*]BFI'F%%Zm*Ob&D
*@n+O^s!|>s(=}AQgKar^f)?!u_Ri=iif L!V jvw=Mux<nMM=TY!9098h2t$2:b2jq qoi||OLwU3+]T0	7bn&a=}G	]]Qq@1] <HX ,=[t%po?~qc}Y}98ibp^p p	}{W~xwx7v(s|KVg6
1~TG8+*qY/f~WX7[&T)u~lVJ E#-5;@H'BOr,($KC/ @b?%=}z]ZF0rW7!n&me:GO 3?zhAGQoOjs	L;y~llq{Wwi-erHrR=}.
+[13L8-58zmlP77AC6I+H~"6vm6J$s4guL- gdc=|xT*g6E7p)_rqo"	zX4.$3Whwqb0
*l(r>9Y]}^	zLNrP=9.b|o}r,mQ0
Yt?2 : azp}8?N1T0kaV
Q| >6_9 
{,@_:9K^	,_2}iErC=MT=M+Duy1[hr=})6udq7:pNI_y ZP@\xW|YHN r{paGn}r/]\F4OC{m"i] lT=VT 9'Wb> hF*j-]5$6Q}v?n{B[& *Gs=M* xg}.iA	A0:J5A'stn,5\k6,=M+N'ksmQ-v1.H*:5c(e<mEce{c:JU(+scz-_
*$R+ 3j;Zl5-+oF+mF<gu<%/cJ@g=k?z6KgH-l]+[zcCwAm:9JMAw'o#;C3Sj2w\N<p H'MqY0&xv)],>a$=Mv|z',z"qO?@}}1l	ZY=}-*("6S">|BL6OW=MvU\P%Yq=}?ao=G*%rX*^NbIq@o=}_4	!O"!4'?G]<4}P6,h,\JJ{JEDS	Dg}]DdKXMIK'AZmE-}0udxlk}'U[
ZO?aj|>? %mhG +0w$L	+}h'Y$c'10+qtd}2An^q&V}Q>G1
xIqKsw5s=
lA<NZB Dmq q}P5u7_LH1QV'BaPKo'9n^Ua&i5^r	:J"L:*o T& <2yv=}@	|!=M}{^q]N*yl
&m2$sy| o|uXWIT&r_8dqsddq=}4v-nMQ,0n8>^]TvEn?D(}Y}<}]n)vwmsY3" *IQ(|7A6/<.IZOj>I)qftMp,
!xJIdKQ:e1Qt $
Lb<Wu<nza'edClE!.y2GYf2^4J&58eCR#:hv&l0w 	 <uGb ?)7eRr95pE\w
M*7SLFM6GXr}']W6f#wUCPDR<d<X&,V-kN<1a-*_
M+g=>%yeiaT=;X+21}Gi	],7d;i}%0Z8rF;=aYC(]wF#*#wb8MQu[3l[Ml=M!QVK?fI|sn+53aCECJJl&{PpEgkoiW_i@W#d{KQa!#MAws=MwpF/QduAB	6){ZH4m
o6<<o#_QAi V~T%$sq,t8d/zbS;#s$7m 7o(lWlnA0avip?UXTu|2rn la??Wu|q7]=}AabPZ I93t!~5,:p
)A:QVMHv&
5%iF\
*kDw=G~o!3zrC BX8 &^p=}&"8Z8Q29e=\\o^A*]f%YhQr<
a=}_Kg!xiH(D*Jh,+3+MK+(vmZvD0VMl"]V^^+N]QRzg$bFV)=M=}Z_D$aq2 fVOHT=}NED+{bm64+<Gh%2F'Mc}UhO.OjD15BL2~N~4.4Ii/Kl=}' |9bi^}b;g1F,2<="h
2R.W'#D,J9#<TxKLg=MSnzMdaYZq}WcgT	~MA74:hL~0r}ZI-l.u6ezZc[Zw0AOZt4Tv/Tz=xI.b%{1wtw	{O{{~c7
0P@y**:I1sEk/w+"L,aCae q@C)~BsFaqBoZLDay-?+hC&BTMv+HqIW=^ =MFBXs0CZa=voWq
	gL4|6bP,.GGHsZ8\NEazzs\O_sTY\.y=d/iXCzZy$QFQg:]DaR@{jq'J"sCr4~mGr&U
4{ 6\l&g#wv=60{#|(@F   coKBBNP/QgsD
67OO0L$BtR)XH"zr:y|TX/4C?ORcz:7n)t.$Q)UX| .hX0O
2*EV)B"h]79aLsmQ1<H@*i~fa~p _%).hV|"
gIY !q=}T8=v!NmHL7YWu1qm\/Li<BXi}DNq\PME',b8vSXs(6Lx9Dr)et/hF~jG(\y_?
BWW&qYO~Y=T~Y~Y~Y6]/rLx!]@ dwz=MJiA,	v<lB(	nl=MyTg6LG6\H7XwvPWv=kFOnkimlynkqmlnkdmltn?kl?m?l|?nkhmlxnkpmlnkfmlvn_kn_m_l~_nkjmlznkrm=}<kI@<o	k9U?8O	4,6<6(80v@v&Tulypkqq2Tqrw1aJ?\"_;8p/u	LA	 o7@
m9	p,>|^J(RT~:{LH<@{|8O=M}[uA0$i
_tqMuw5QIXLP\=Mqa'4A-Mj=\xK4@vFXkO7:~!mF	S1O
;p	W,=M	>>9	+@~=}	^Fy^}vA "zrdw*}^1q=
?Ov?)Vrf\=MMIyw8}Rxf\ZLz^B3dfUkN58UIm "\bU$*Y&HZ{AtZ~@]]\qEAr\]h"]!9fB[  b^D&Z&h(dB:tbWSUH'J[=MYLHA]!^o%2DU2;D'e
!SFf3:;&#?f=ofDK#M#O'QR08P	(m9pxXR$\&2z%WZ$I&}$X*T}_'1=}}c xd_x^C}"Q3v0d91/ 8DHoiEsUKO0z,=}c.*)q3P]2c\FTT'#9Z*1x{af=}<A|<aI	9f[W\HX=}^$=tHMkcDC!$s
q I(S^C:y3qs*Kcc~c}e  '}"S&:*$ba7~_kYm53 'fvfwE cQLC $^0%&19;e'"'B2zMA7
d)Nl'=}d;yQ[?mSL+q4-LEX.aM>=}{M+%6AJN'MT7 B75	n[qD\?>Iz
Ej@E v]$^$P8@Nl9=MO z
Xqh)mWH ZH~~i{v6HjkRU)8=1z4w
 BPYrU~\Lmfzs84cR>
$yF#ec;%Ay 4~GgT|t'&rd{S=}E"vU/!pj}2i)4,M5O5Jj~}29:]-^Tak~S'75bzS a"M[Q@MD)LNsJj}|[|Q^
M^;Uq[~NR4b4"6W]4 sS=#S]3L4,;C}['V)l@>t=MvT0]VcE"98/ U<Z"fc]0hccC	x2CN&John5d!Ik	GfYdy^~V7r0=M|7Wr !~Bj!=}'Iw m9]<@]1HU)C]ZHU_5#I3vD,tnKr7-qO055P<nix1x F!B*4px=MuaW (_+/S[a~EI;3/9xg9xN?W8>
o:5zwYx iPM=vk:0(Lgi@GRBH?:VMY O;*N@=#fWjs9hH7YdH=M!~F1E%xGtMIKp=}+Pg#*#y|rCf{T+b,csp|2.aCsVJ. 9_lgG3OC%%_#3%Y'{}HZVkn.YVO?W1[g;SXi=}B<uQ(oJXcGM&]:	=1[pnwI%
ekDRPnG[+U?<N38yKbUwF*xHE1eY0yR *Q7!&\BTnP<_p	_'Pe]_yfZ.z5667[5(%*B6nUHta[boR-|z-7b1iS:"*2;9~AI{RZ^bkZEs|7^,a>@ #
VlY/b~Y~/V0{q)rwH4
s)h>%i=}rG}9ei]Yw.)=M1%rBEk0?UE8Z~S:{BjOR.ik
7FUC5umO}IFj"=;=}id@J%P8jbQ!	"6WW[PgUtT/W)F.W?8eAIG_X5N
L1R]r^7e:J*GOsSbSA	%d dbf."JpJKPB(-Fl=O(Y-b~LK75G?!5:JC5iQdnR)%W |>ktP71=}<?=7UV'(XiF!%0.jx.w'v.kE=+02VIeZ(@wB,C90{OoRoT @j>Sknfg2U\;n6tpcuI@jN|zvi>6tJ4)}y^A("^
]6<
h@dWj=MxvusB)tH!6J8'6:HS6/*99'vM(
:<cr:ygt
V9AhS[R'.7E[2y-OH42V00aHO
f;7dD7'@%%dos7!~+\ Jc}~W
Ng	k f* sfhIai.tXq6
=TPCMsh@V;|qDq\(r?s,>W\k"1O#aLy}V'"~E*jJ|Ey))i#s}p,y-O{ZEx%]jc?o{x=}vf'0=M(uo3"O]{=v;R:<6t,w64@x1vd{\j3) u-TOT
m2f\?N*|t[Fs
3vW<JLV2K4+s"g!jW"uwu*	vopQ=Kt.UA~~&Kp]NNr	@
M1o~$S=}A
}C%C#|Y~~Y~QV~Y~YXA_EJ~t~i#e_z}k{Oja9sPeT'%h\[T#GqH:5>V8c)[H
5k=}ku
jtKf~t6.e+=M6.<#T!K:N._va^bt<m>CJ>fM]UDuYn'(x mbCf>:=MU@w{pzAk_fQ7^"w}W!6|I%_))Ra%(B93u!Ag2hq9h 
Y6S	NW7bTLvp	v8Bmb,u/t01ez?JOa{4hEt@;9QV!USdsV~~Y0~Y~|V~<;E6rhH=MzL~~u#G5(>7,=MD\eQ3ZlUyG=U:6#zVn9/V}=}e$;Tcu7.Q4r=hEX:44LIq{}idI o\wp=MM\&QOZw|X)GkCi}ME[5u0sdL*|=
@yt2N>9BE/P;&~o)ZT4 fF@K^vc(~B? )%_Nb$Qt2!6S2,P@"/'(dA*YK2>M':XA%b8yK
y3B)AZg+Vdq2j@'3|-,aK]&*=M$
9'{HC(@&@TS R@>/3)87,amd-V Vn-/H)pna1=Mgy|QcTqavYY:yXeKA^F	9Ud+]_% F;iY~Y~Y<}Yz}q~YP<GrZUg) 6yil1_4-_AF59B7&><QiVM%%H,1}~G0F]En@Bsg]j	DoiGy72=MiaW>T9WZnfO\YH/|}+u!xG6N-??uN8]YeqDMpJS1uav23rA^0r3$t+ga*s^'fDm@6?k"d!B.?0"-	iT9w-A=.
Chz,<v6H6%o<=85iz<=
%Xk
'@(gVmqUm
)qlfB3rYa/XI=V(Or~?&-4F;np.H7*%8tq0nK $=}[%wMhRLIx*y 8=M\{,AxDUE1T7yy1J$GU!Sn>Mo>l	,	Bue}*Y)vq(7_&	3!X&BG"@XV.THRe z0FsyfJWZ:rafU.
!#w'3#U&ktT Er});vbek;<f@QB%CZ|[j/-L;m.F[-Aa#OcS#N_gO+% Q+6&:,;_XVo28hO	+LN='!7SV%jW%7L'H5E-,*	 &\-.aW74W63|ZfLR{@0{7P6zJ?AfV; qQM
T.8)a	4kURaqL9V'ho)::	_
$\lSC>q32(#o!ki+$O% >C%7[|w@c*{/v;=m*pL53nef1>VdUq'^<:3rJ|7UGer{!LI=MKd08V?d2#W.'i}9+$.m,zV4S\_H)$3^&%j-#f"V60J=}(FS\a%?A~]f<(y{ji$+*[}e>0;Jd(c}!sUQ*h>o/=}$-.]r#b%Se<B;kKRv(/l^z$t'?r#zv$]J.g;>Jx^KXm<Dy-C[CT4&F$~6G~1%j=MRM^!4zbRd-oC{]6r=MA}U\6_5,dL<wX3XXgdl)$jvu!>5@
q4+Q\7N1@^lV+<^,5yW8GQ\E/|GL]/TE_\4g5<4\ky V"6:\>RX4&Ib_>,=uopVolfoY/OX(g7q<qApP 4?77_xr}Rze V\*yy[mC"1>3p7,4 (q	4uC
2i'>:uxyCF^a-QG2Gt\b rueA8wp/XIW	=a*!VE=MZ;	BG
Kq=}RuL <(~OC4=MZK19G|]d0Nu"mxs2as=]c oEN~0U*2d "7j0f,xG%
My2\hiKs	pR<N$=}Q(}}V<1aK.bm({B+;*x8Ta"'87 )5{nOs*9;pyK:Jm{ /P	[,1oYk&_S~@X_.sP4*lD+E%3qW%jjr.gJ4k9L7@&aw\.WjSg4yj/r
 v(x?1p<;<(VS	<&\z\spfn[ 9p=3#6.2x?#}[cMToCT'42/9_;i*gM/h;4 8&ob+hpT[H$h!kf!pn%e	Dc;F[Wi#$H9hjFHpUdwpIlHfDL&5e2{x ,Tf)3fdS=McVk'$(2@Pu'dVh.::9%%?mZe=MbC/r){gz&F	ff[ qp#I~y?=MS=-^CI	9y/?:W^n+h8M'MJ5\55eJlYm9{z6u(K' nAo5X+T&4LtB<^IfS!y&,@(|ImeCLh@HiY28^7\q[<H/=}(
2&AAVUCn?K~PrH^MV-MZxF?-6n
k=M6LdX|IIiWd=}=P86"zswB:dK"*a|el{Jpc7H0Y O{+~xSxwbvx#~=M%sXB,;V{B\3*^8[T<*<BC-&StF'EyW1g~cT*,jS!D|?Vvcr
i	^|[-:QKnjKE-[#-x*T&-3W.su/v-h/'hRB.B_c"he$ w=MV]:'Sps=}Wm=7"fyx,+)8~c%$+^?Dl9pS)bS?-$SO=}3/Jp)'6yu~9SB4w6X,r-)Z37 , vR8sc}1ow._UIZ_eLl=}h=Mt(LM=M] {;Yrut%[E,y JAs-*yK&}v/v<+H(vr@4z&e|<dd(#E[RqodF] qf\4Kg2d^qi[8	xH?qf}{g2/| T.
#@~SY~Y~Y~Y~Y]
AV3O?OBq#c!cdK:"sgB5c'_p:n"rAb,*2rkgoemiq1
B#3K[GW/?%5M]IY1A$4L\HX0@bS[W?E-=}IYaT<H0@FV^Z	R{\)iJ	7yWoQB"bE$P

jbu.GZ0pP ZWIL& jcdbgY =.rL_"bA|#7UYT8f~Z/bBT_y>yt^3_LSX!zdxRv _i8bV |KmmmEE}C"""M9:F<S8MVVVIIc:~\/;Kxyy $zU|mY~yU~~|YR1)Yb[!o|Mc @%V=}AHOnn!C(jdueJ	
LNU11Pf~eo[n, _=M)355aD,*eg*		LU-~-o1H\< _5~i\
#;~}vI$])H=
/Zn49ZjlB<&,_F=}PiGF-@n-jo]~]L =)+Y.9IY*<(T_E5NPg=M!HPJnUywVX{ob5 \J
@%qW+q|nI.V3R#ahm^eOe?FF@r~,5tFZ.:rKT*Yi^gu=}g	Pfi=}mQT0AT
k>:g&|e"U[J&qUV;}Wce9v{&$<p[uO
uy?6F &0
{<UJ.2rLV:1qm[w=}w@f i)QX@AX
l;2{m-\J>'_Js=}/{~YXZpY><~Yaw5(Vl[o$Mn%7:s1s=2 >8pf!pWFxn*	ji)8.v,_LpR4uL*wA	Zf?x{"kB>8%ZE8A}Ya2IwlMkhG=MB--x{ /]=}e~Kj=M1eyGfb(Mb]^=M'O;?<ojluqmh=Mp xN4J^-as)hrh,&9a&=E|u-4qNXzDxYjRwn@Xdpq(b [rjJXVVtPxRWluAte'wV;C#$)$oE9p@nOl}|6=FPt/g5~yl?v I]j@qe;'pNfvS/f
;$'Rxi.5vPI}fW?I0v=}J+(i/DTioh/h>j1vTi oj3,_28H2XhpNrV -&S'#0&=MYf{^A
z|!PjQ|X^
z{@: 
z {: 
z{p. z|p> 
m* TlQ|8^
{x( B{x0 |x8 B|x@ 
:::::: ~ARX)XO{nA


	

VVVVVVVV:$l	U6DnUz ss tt uu vv ww xx yy z
#{'	{+I{/{3|7	)BY)$WI_r?pro:"l!|*'(
)jgh
iJ*4u#q0yURnR\ArU2lAURnVrpAV2g2,hR .*ir0jj u*u:2uJruZvjvzY~2vrv9C%J"W#+*a+2,:a,B-:Ja-ZR.zZa.b/ja/r0za01:a1Z2za2k*bk2!<bo
@r!=}pJPz!>bp=!?q:prtvxz|~^$cY~Y~Y~Y~Y'mP^uMO=mNP\qD-}D/=}C2D.x8 K7=MJ:=MI6!LJ8-O/VrWrl>56@3M	>
U	=}aI>Q6FPomHUmRbRabbgVjUfOVh9fphZNWnPX|PW^SddsdE-Y.I.]-wese0i{0};/m0g1c~Y~YflQE6/rW}l ytj2[":l]Kt$Y>$MlSP
 lT[hJD /<8932=}e7U)_v)stInXIBjHBMJwPD",PmJ1LFzTg(K:BL9UP6m|lm!00O/~{=}j}.wVA6rA0E <E&j
~Y\bV~YK~	~^0MYBT*^\? Z9eSkU<.24<k:k
"z0"as x>n7
mu0q&&W:Y0Y0/)z-hLEEWuJxLr6/.u(E8= 66p"}IPC.]y#U;l2HhlT<yz<rLQKKx@w>JTDqqXf>wZ)j.6;-?LNO=}An ?=}OOO*JqyzHP?<&P=a'k$p! !p!$1OI;@O;g#ETO$@:(>z0RHN=M	

R>Xz t\+| XPQVJ+Y9Z}@=cA'pCA^5)t[zHQ!+pqE'Z2{rnwY\7Ta"yRSIbmiZ=M2]qG}`});var a,o;function s(){var w=o.buffer;a=new Uint8Array(w)}function c(w){return Math.cos(w)}function l(w){return Math.exp(w)}var u=(w,E,C)=>a.copyWithin(w,E,E+C),f=w=>{r("OOM")},h=w=>{a.length,f()},p={b:c,a:l,c:u,d:h};function d(w){w.f()}var g={a:p},m,v,_,y,b;this.setModule=w=>{t.setModule(Ph,w)},this.getModule=()=>t.getModule(Ph),this.instantiate=()=>(this.getModule().then(w=>WebAssembly.instantiate(w,g)).then(w=>{const E=w.exports;m=E.g,v=E.h,_=E.i,y=E.j,b=E.k,o=E.e,s(),d(E),e()}),this.ready=new Promise(w=>{e=w}).then(()=>{this.HEAP=o.buffer,this.malloc=v,this.free=b,this.opus_frame_decoder_create=m,this.opus_frame_decode_float_deinterleaved=_,this.opus_frame_decoder_destroy=y}),this)}function gs(t={}){gs.errors||Object.defineProperties(gs,{errors:{value:new Map([[-1,"OPUS_BAD_ARG: One or more invalid/out of range arguments"],[-2,"OPUS_BUFFER_TOO_SMALL: Not enough bytes allocated in the buffer"],[-3,"OPUS_INTERNAL_ERROR: An internal error was detected"],[-4,"OPUS_INVALID_PACKET: The compressed data passed is corrupted"],[-5,"OPUS_UNIMPLEMENTED: Invalid/unsupported request number"],[-6,"OPUS_INVALID_STATE: An encoder or decoder structure is invalid or already freed"],[-7,"OPUS_ALLOC_FAIL: Memory allocation has failed"]])}}),this._init=()=>new this._WASMAudioDecoderCommon(this).instantiate(this._EmscriptenWASM,this._module).then(u=>{this._common=u,this._inputBytes=0,this._outputSamples=0,this._frameNumber=0,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._output=this._common.allocateTypedArray(this._outputChannels*this._outputChannelSize,Float32Array);const f=this._common.allocateTypedArray(this._channels,Uint8Array);f.buf.set(this._channelMappingTable),this._decoder=this._common.wasm.opus_frame_decoder_create(this._sampleRate,this._channels,this._streamCount,this._coupledStreamCount,f.ptr,this._preSkip,this._forceStereo)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.free(),this._common.wasm.opus_frame_decoder_destroy(this._decoder),this._common.wasm.free(this._decoder)},this._decode=u=>{if(!(u instanceof Uint8Array))throw Error("Data to decode must be Uint8Array. Instead got "+typeof u);this._input.buf.set(u);let f=this._common.wasm.opus_frame_decode_float_deinterleaved(this._decoder,this._input.ptr,u.length,this._output.ptr),h;return f<0&&(h="libopus "+f+" "+(gs.errors.get(f)||"Unknown Error"),console.error(h),f=0),{outputBuffer:this._common.getOutputChannels(this._output.buf,this._outputChannels,f),samplesDecoded:f,error:h}},this.decodeFrame=u=>{let f=[];const h=this._decode(u);return h.error&&this._common.addError(f,h.error,u.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=u.length,this._outputSamples+=h.samplesDecoded,this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(f,[h.outputBuffer],this._outputChannels,h.samplesDecoded,this._sampleRate)},this.decodeFrames=u=>{let f=[],h=[],p=0,d=0;for(;d<u.length;){const g=u[d++],m=this._decode(g);f.push(m.outputBuffer),p+=m.samplesDecoded,m.error&&this._common.addError(h,m.error,g.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=g.length,this._outputSamples+=m.samplesDecoded}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(h,f,this._outputChannels,p,this._sampleRate)},this._isWebWorker=gs.isWebWorker,this._WASMAudioDecoderCommon=gs.WASMAudioDecoderCommon||on,this._EmscriptenWASM=gs.EmscriptenWASM||Ph,this._module=gs.module;const e=8,r=u=>typeof u=="number",n=t.sampleRate,i=t.channels,a=t.streamCount,o=t.coupledStreamCount,s=t.channelMappingTable,c=t.preSkip,l=t.forceStereo?1:0;if(i>2&&(!r(a)||!r(o)||!Array.isArray(s)))throw new Error("Invalid Opus Decoder Options for multichannel decoding.");return this._sampleRate=[8e3,12e3,16e3,24e3,48e3].includes(n)?n:48e3,this._channels=r(i)?i:2,this._streamCount=r(a)?a:1,this._coupledStreamCount=r(o)?o:this._channels-1,this._channelMappingTable=s||(this._channels===2?[0,1]:[0]),this._preSkip=c||0,this._forceStereo=i<=e&&i!=2?l:0,this._inputSize=32e3*.12*this._channels,this._outputChannelSize=120*48,this._outputChannels=this._forceStereo?2:this._channels,this._ready=this._init(),this}class UH extends pH{constructor(e){super(e,"opus-decoder",gs,Ph)}async decodeFrame(e){return this.postToDecoder("decodeFrame",e)}async decodeFrames(e){return this.postToDecoder("decodeFrames",e)}}Qd(gs,"OpusDecoder");Qd(UH,"OpusDecoderWebWorker");class yk{constructor(e={}){this._sampleRate=e.sampleRate||48e3,this._forceStereo=e.forceStereo!==void 0?e.forceStereo:!1,this._onCodec=r=>{if(r!=="opus")throw new Error("ogg-opus-decoder does not support this codec "+r)},new on,this._decoderClass=gs,this._init()}_init(){this._decoder&&this._decoder.free(),this._decoder=null,this._ready=Promise.resolve(),this._codecParser=new MH("application/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}async _instantiateDecoder(e){this._totalSamplesDecoded=0,this._preSkip=e[PTe],this._channels=this._forceStereo?2:e[wD],this._beginningSampleOffset=null,this._decoder=new this._decoderClass({channels:e[wD],streamCount:e[NTe],coupledStreamCount:e[RTe],channelMappingTable:e[FTe],preSkip:Math.round(this._preSkip/48e3*this._sampleRate),sampleRate:this._sampleRate,forceStereo:this._forceStereo}),await this._decoder.ready}get ready(){return this._ready}async reset(){this._init()}free(){this._init()}async _decode(e){let r=[],n=[],i=0;for await(const a of e){const o=a[Xp].map(s=>s[cy]);if(o.length){this._decoder||await this._instantiateDecoder(a[Xp][0][LH]);const{channelData:s,samplesDecoded:c,errors:l}=await this._decoder.decodeFrames(o);if(this._totalSamplesDecoded+=c,this._beginningSampleOffset===null&&Number(a[Vc])>-1&&(this._beginningSampleOffset=a[Vc]-BigInt(a[DH])+BigInt(this._preSkip)),a[BH]){if(a[Vc]!==void 0){const u=this._totalSamplesDecoded/this._sampleRate*48e3,f=Number(a[Vc]-this._beginningSampleOffset),h=Math.round((u-f)/48e3*this._sampleRate);for(let p=0;p<s.length;p++)s[p]=s[p].subarray(0,c-h);i-=h}this._init()}r.push(...l),n.push(s),i+=c}}return[r,n,this._channels,i,this._sampleRate,16]}_parse(e){return[...this._codecParser.parseChunk(e)]}_flush(){return[...this._codecParser.flush()]}async decode(e){const r=await this._decode(this._parse(e));return on.getDecodedAudioMultiChannel(...r)}async decodeFile(e){const r=await this._decode([...this._parse(e),...this._flush()]);return this._init(),on.getDecodedAudioMultiChannel(...r)}async flush(){const e=await this._decode(this._flush());return this._init(),on.getDecodedAudioMultiChannel(...e)}}class BTe extends yk{constructor(e){super(e),this._decoderClass=UH}async free(){super.free()}}Qd(yk,"OggOpusDecoder");Qd(BTe,"OggOpusDecoderWebWorker");async function Wp(t){if(!window.isSafari||!t.toLowerCase().endsWith(".ogg"))return t;const r=await(await fetch(t)).arrayBuffer(),n=new Uint8Array(r);try{return console.log(" Opus "),await UTe(n)}catch(i){console.log("Opus  Vorbis ",i);try{return await DTe(n)}catch(a){return console.error("Vorbis ",a),""}}}async function DTe(t){const e=new _k;await e.ready;const r=await e.decode(t);return jH(r)}async function UTe(t){const e=new yk;await e.ready;const r=await e.decode(t);return jH(r)}function jH(t){const r=new(window.AudioContext||window.webkitAudioContext)().createBuffer(t.channelData.length,t.samplesDecoded,t.sampleRate);for(let a=0;a<t.channelData.length;a++)r.copyToChannel(t.channelData[a],a);const n=new OfflineAudioContext(r.numberOfChannels,r.length,r.sampleRate),i=n.createBufferSource();return i.buffer=r,i.connect(n.destination),i.start(),n.startRendering().then(a=>{const o=jTe(a),s=new Blob([o],{type:"audio/wav"});return URL.createObjectURL(s)})}function jTe(t){const e=t.numberOfChannels,r=t.length*e*2+44,n=new ArrayBuffer(r),i=new DataView(n),a=[];let o,s=0,c=0;u(1179011410),u(r-8),u(1163280727),u(544501094),u(16),l(1),l(e),u(t.sampleRate),u(t.sampleRate*2*e),l(e*2),l(16),u(1635017060),u(r-c-4);for(let f=0;f<t.numberOfChannels;f++)a.push(t.getChannelData(f));for(;c<r;){for(let f=0;f<e;f++)o=Math.max(-1,Math.min(1,a[f][s])),o=(.5+o<0?o*32768:o*32767)|0,i.setInt16(c,o,!0),c+=2;s++}function l(f){i.setUint16(c,f,!0),c+=2}function u(f){i.setUint32(c,f,!0),c+=4}return n}const $H=t=>{var a;ze.debug("play SE");let e="effect-sound";$.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;if(Yt(t,"id")&&(e=`effect-sound-${((a=Yt(t,"id"))==null?void 0:a.toString())??""}`,$.gameplay.performController.unmountPerform(e,!0),n=!0,!t.content))return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(async()=>{var d;const s=Yt(t,"volume");let c=document.createElement("audio");c.src=await Wp(r),c.load(),n&&(c.loop=!0);const l=ue.getState().userData,u=l.optionData.volumeMain,f=typeof s=="number"&&s>=0&&s<=100?s:100,h=u*.01*(((d=l.optionData)==null?void 0:d.seVolume)??100)*.01*f*.01;c.volume=h,c.currentTime=0;const p={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{c.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(p),c==null||c.play(),c.onended=()=>{for(const g of $.gameplay.performController.performList)g.performName===e&&(i=!0,g.stopFunction(),$.gameplay.performController.unmountPerform(g.performName))}},1)})}},ED=async(t,e,r)=>{const n=await GH(t,!0,e,r);ue.dispatch(lr.saveGame({index:t,saveData:n})),o1e(t,t)};async function GH(t,e=!0,r,n){var l;const i=ue.getState().stage,a=yn($.backlogManager.getBacklog());let o="";if(e){const u=document.getElementById("pixiCanvas"),f=document.createElement("canvas"),h=f.getContext("2d");f.width=480,f.height=270,h.drawImage(u,0,0,480,270),o=f.toDataURL("image/webp",.5),f.remove()}if(e&&ue.getState().GUI.playingVideo){const u=$.videoManager.videosByKey[$.videoManager.currentPlayingVideo];u&&(o=u.poster)}if(n){const u=ue.getState().saveData.saveData;o=((l=u==null?void 0:u[t])==null?void 0:l.previewImage)??""}const s=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1});return{nowStageState:yn(i),backlog:a,index:t,saveName:r||s,saveTime:s,sceneData:{currentSentenceId:$.sceneManager.sceneData.currentSentenceId,sceneStack:yn($.sceneManager.sceneData.sceneStack),sceneName:$.sceneManager.sceneData.currentScene.sceneName,sceneUrl:$.sceneManager.sceneData.currentScene.sceneUrl},previewImage:o}}function xk(){const t=ue.getState().stage,e=yn($.backlogManager.getBacklog()),r=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),n={nowStageState:yn(t),backlog:e,saveTime:r,saveName:"",index:-1,previewImage:"",sceneData:{currentSentenceId:$.sceneManager.sceneData.currentSentenceId,sceneStack:yn($.sceneManager.sceneData.sceneStack),sceneName:$.sceneManager.sceneData.currentScene.sceneName,sceneUrl:$.sceneManager.sceneData.currentScene.sceneUrl}};return ue.dispatch(lr.setSaveVideoData(n)),n}const $Te=t=>{var m;(m=window==null?void 0:window.pubsub)==null||m.publish("loading",{loading:!0});const e=ue.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01;let a=!1,o="",s=!1,c=t.content==="none"||t.content==="",l="";const u=Date.now();ue.dispatch(qT(!1)),ue.dispatch(Lt({key:"showText",value:""})),ue.dispatch(Lt({key:"showName",value:""})),ue.dispatch(yt({component:"showTextBox",visibility:!1}));const f={current:()=>{console.log("")}};t.args.forEach(v=>{v.key==="choose"&&(o="choose:"+v.value),v.key==="continueBgm"&&v.value,v.key==="loop"?s=v.value===!0:v.key==="keep"?(a=v.value===!0,s=!0):v.key==="id"&&(l=v.value)}),l&&!c&&$.videoManager.setUrlIdMap(l,t.content);const h="videoPlay."+(l||la());if(c){if(!l)$.videoManager.destroy($.videoManager.currentPlayingVideo);else{const v=$.videoManager.idURLMap[l];v&&$.videoManager.destroy(v)}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const p=()=>{let v=Yt(t,"skipOff"),_=!0;return $.gameplay.isFast?(v&&(_=!0),s&&(_=!1),o!==""&&(_=!0,f.current())):(v||s||o!=="")&&(_=!0),a&&(_=!1),_};$.videoManager.showVideo(t.content,a);let d=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:p,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(v=>{const _=y=>{d=!0,$.gameplay.performController.unmountPerform(y.performName)};setTimeout(()=>{var A;const y=t.content,b=ue.getState().saveData.isLoadVideo;$.videoManager.seek(y,.03),$.videoManager.setVolume(y,i),$.videoManager.setLoop(y,s);const w=o?o.slice(7).split("|").map(I=>"game/scene/"+I.split(":")[1]):[];w.length&&Jd(w);const E=()=>{if(b){ue.dispatch(yt({component:"showExtra",visibility:!0}));return}for(const I of $.gameplay.performController.performList)if(I.performName===h)if(o!==""&&!s){const O=ju(o,`${u}.txt`,""),P=$.videoManager.getDuration(y);$.videoManager.seek(y,(P||0)-.03),$.videoManager.pauseVideo(y);const k=O.sentenceList[0],F=mA(k,()=>{_(I)});$.gameplay.performController.arrangeNewPerform(F,k)}else _(I),ti()};f.current=E;const C={performName:h,duration:a?0:1e3*60*60*24*3650,isOver:!1,isHoldOn:!1,stopFunction:(I=!1)=>{if(!a){const O=document.getElementById("currentVocal");O&&(O.volume=n.toString()),$.videoManager.destroy(y,I)}},blockingNext:p,blockingAuto:()=>!d,stopTimeout:void 0,goNextWhenOver:!0};if(v(C),!a){const O=document.getElementById("currentVocal");O&&(O.volume=0 .toString())}$.videoManager.playVideo(y),(A=window==null?void 0:window.pubsub)==null||A.publish("loading",{loading:!1});const T=ue.getState().saveData.saveData||[];if(T!=null&&T.length&&T.forEach(I=>{var O,P;(P=(O=I==null?void 0:I.nowStageState)==null?void 0:O.PerformList)==null||P.forEach(k=>{var F;((F=k==null?void 0:k.script)==null?void 0:F.content)===y&&setTimeout(()=>{ue.dispatch(qT(!0))})})}),o&&s){const O=ju(o,`${u}.txt`,"").sentenceList[0],P=mA(O,E);$.gameplay.performController.arrangeNewPerform(P,O)}setTimeout(()=>{xk()},1e3),$.videoManager.onEnded(y,()=>{if(s)$.videoManager.seek(y,.03),$.videoManager.playVideo(y);else{const I=ue.getState().stage.showValueList;if(I!=null&&I.length){const O=ue.getState().stage.showValueName,P=I.filter(k=>k.showValueName!==O);ue.dispatch(kde(P))}E()}})},100)})}},GTe=t=>{var o;ue.getState().stage.currentDialogKey;const e=t.content,r=Pi(e),n=(((o=Yt(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var c,l;(c=$.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n);const s=sx(e,n,r);s&&(ze.debug(`${e}${n}`,r),(l=$.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},32),a=()=>{setTimeout(()=>{var s;ue.getState().stage.currentDialogKey,(s=$.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},32)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function VTe(t,e){const r=$.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,c=$.gameplay.pixiStage.frameDuration,l=e/c*o,u=1/l,f=5/l;s.alpha<1&&(s.alpha+=u),s.blur<5&&(s.blur+=f)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const HTe=[{name:"universalSoftIn",animationGenerateFunc:bV},{name:"universalSoftOff",animationGenerateFunc:wV},{name:"testblur",animationGenerateFunc:VTe}],zTe=t=>{var s,c,l;ue.getState().stage.currentDialogKey;const e=t.content,r=Yt(t,"duration")??0,n=((s=Yt(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=XTe(e);let o=()=>{};if(a){ze.debug(`${e}${n}`,r);const u=a(n,r);(c=$.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n),(l=$.gameplay.pixiStage)==null||l.registerAnimation(u,i,n),o=()=>{var f;ue.getState().stage.currentDialogKey,(f=$.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function XTe(t){const e=HTe.find(r=>r.name===t);return ze.debug("",e),e?e.animationGenerateFunc:null}const WTe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),YTe=t=>{var l;ue.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};$.animationManager.addAnimation(i);const a=Pi(e),o=((l=Yt(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let c=()=>{};return setTimeout(()=>{var f,h;(f=$.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(o);const u=sx(e,o,a);u&&(ze.debug(`${e}${o}`,a),(h=$.gameplay.pixiStage)==null||h.registerAnimation(u,s,o))},0),c=()=>{setTimeout(()=>{var u;ue.getState().stage.currentDialogKey,(u=$.gameplay.pixiStage)==null||u.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:c,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function qTe(t){return t.content==="hide"?ue.dispatch(Lt({key:"isDisableTextbox",value:!0})):ue.dispatch(Lt({key:"isDisableTextbox",value:!1})),{performName:la(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const KTe=t=>{var u;ue.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=Yt(t,"duration"),a=((u=Yt(t,"target"))==null?void 0:u.toString())??"0";try{const f=JSON.parse(r);n=ff(a,f,i)}catch{n=[]}const o={name:e,effects:n};$.animationManager.addAnimation(o);const s=JTe(e),c=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,p;(h=$.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const f=ZTe(e,a,s);f&&(ze.debug(`${e}${a}`,s),(p=$.gameplay.pixiStage)==null||p.registerAnimation(f,c,a))},32),l=()=>{setTimeout(()=>{var f;ue.getState().stage.currentDialogKey,(f=$.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(c)},32)},{performName:c,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function ZTe(t,e,r){const n=$.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=yn({...J1,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return ze.debug("",i),QV(i,e,r)}return null}function JTe(t){const e=$.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const QTe=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return Yt(t,"enter")&&$.animationManager.nextEnterAnimationName.set(e,Yt(t,"enter").toString()),Yt(t,"exit")&&$.animationManager.nextExitAnimationName.set(e+"-off",Yt(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},eAe=t=>{const e=t.content;let r=t.content,n="default";return console.log(t,"bgm-sentence"),t.args.forEach(i=>{i.key==="name"&&(r=i.value.toString()),i.key==="series"&&(n=i.value.toString())}),ze.info(`BGM${r}${e}${n}`),ue.dispatch(LG({name:r,url:e,series:n})),mi(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},tAe=t=>{const e=t.content;let r=t.content,n="default";return console.log(t,"cg-sentence"),t.args.forEach(i=>{i.key==="name"&&(r=i.value.toString()),i.key==="series"&&(n=i.value.toString())}),ze.info(`CG${r}${e}${n}`),ue.dispatch(MG({name:r,url:e,series:n})),mi(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};let fy;function rAe(){fy&&clearInterval(fy),t();function t(){const e={thirdUserId:sessionStorage.getItem("sdk-userId"),productId:$.gameId+"",reportTime:yg(),channel:sessionStorage.getItem("sdk-userId")?1:0};uCe(e)}fy=setInterval(t,2*60*1e3)}function VH(){clearInterval(fy)}const nAe=t=>{Ek(!0);const e=ue.dispatch,r=Pt("start.txt",Tt.scene);return setTimeout(()=>{$.sceneManager.resetScene()},5),e(lr.resetFastSave()),vV(),Aa(r).then(n=>{$.sceneManager.setCurrentScene(n,"start.txt",r)}),e(yt({component:"showTitle",visibility:!0})),e(yt({component:"isInGaming",visibility:!1})),wO(ue.getState().GUI.titleBgm),VH(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},iAe=t=>(tH(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),aAe=t=>($.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){ze.warn("pixi ",e.performName);for(let r=0;r<$.gameplay.performController.performList.length;r++){const n=$.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),$.gameplay.performController.performList.splice(r,1),r--)}ue.dispatch(qn.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Dr={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},oAe=t=>(Dr.maxAudioLevel=Math.max(t,Dr.maxAudioLevel),{OPEN_THRESHOLD:Dr.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:Dr.maxAudioLevel*.5}),sAe=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=$.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),Dr.blinkTimerID=setTimeout(()=>{var a;(a=$.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;Dr.blinkTimerID=setTimeout(r,i)},200))}r()},lAe=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},SD=t=>{var h,p;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:c}=t;let l;e>r?l=1:e>n?l=.5:l=0;const u=i+(l-i)*a;(h=$.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let f;u>.75?f="open":u>.25?f="half_open":f="closed",s!==void 0&&((p=$.gameplay.pixiStage)==null||p.performMouthSyncAnimation(o,s,f,c))};class uAe{constructor(e){at(this,"subject");at(this,"result");at(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function _b(t){return new uAe(t)}const cAe=t=>{ze.debug("play vocal");const e="vocal-play",r=Yt(t,"vocal"),n=Yt(t,"volume");let i;i=ue.getState().stage;let a="",o="";const s=i.freeFigure,c=i.figureAssociatedAnimation;let l=0,u=0;const f=1;let h=document.getElementById("currentVocal");$.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const d of t.args)d.value===!0&&_b(d.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),d.key==="figureId"&&(o=`${d.value.toString()}`);ue.dispatch(Lt({key:"playVocal",value:r})),ue.dispatch(Lt({key:"vocal",value:r}));let p=!1;return{arrangePerformPromise:new Promise(d=>{setTimeout(()=>{let g=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?ue.dispatch(Lt({key:"vocalVolume",value:n})):ue.dispatch(Lt({key:"vocalVolume",value:100})),g!==null){g.currentTime=0;const m={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(Dr.audioLevelInterval),g.pause(),o=o||`fig-${a}`;const _=c.find(y=>y.targetId===o);SD({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:_,pos:a}),clearTimeout(Dr.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!p,skipNextCollect:!0,stopTimeout:void 0};$.gameplay.performController.arrangeNewPerform(m,t,!1),o=o||`fig-${a}`;const v=c.find(_=>_.targetId===o);if(v){const _=s.find(w=>w.key===o);if(_&&(a=_.basePosition),!Dr.audioContext){let w;w=new AudioContext,Dr.analyser=w.createAnalyser(),Dr.analyser.fftSize=256,Dr.dataArray=new Uint8Array(Dr.analyser.frequencyBinCount)}Dr.analyser||(Dr.analyser=Dr.audioContext.createAnalyser(),Dr.analyser.fftSize=256),l=Dr.analyser.frequencyBinCount,Dr.dataArray=new Uint8Array(l);let y=document.getElementById("currentVocal");Dr.source||(Dr.source=Dr.audioContext.createMediaElementSource(y),Dr.source.connect(Dr.analyser)),Dr.analyser.connect(Dr.audioContext.destination),Dr.audioLevelInterval=setInterval(()=>{const w=lAe(Dr.analyser,Dr.dataArray,l),{OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:C}=oAe(w);SD({audioLevel:w,OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:C,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:v,pos:a})},50);let b;b=Date.now()+1e4,sAe({key:o,animationItem:v,pos:a,animationEndTime:b}),setTimeout(()=>{clearTimeout(Dr.blinkTimerID)},1e4)}g.onloadeddata=()=>{g==null||g.play()},g.onended=()=>{for(const _ of $.gameplay.performController.performList)_.performName===e&&(p=!0,_.stopFunction(),$.gameplay.performController.unmountPerform(_.performName))}}},1)})}};function HH(t){return t===0?3:t===100?80:77*Number(t)/100}function fAe(t){return t===0?800:t===100?200:800-600*Number(t)/100}const hAe=t=>{const e=ue.getState().stage,r=ue.getState().userData,n=ue.dispatch;let i=Math.random().toString(),a=t.content;const o=Yt(t,"concat"),s=Yt(t,"notend"),c=Yt(t,"speaker"),l=Yt(t,"clear"),u=Yt(t,"vocal"),f=Yt(t,"mode");o?(i=e.currentDialogKey,a=e.showText+a,n(Lt({key:"currentConcatDialogPrev",value:e.showText}))):n(Lt({key:"currentConcatDialogPrev",value:""})),n(Lt({key:"showText",value:a})),n(Lt({key:"vocal",value:""})),n(Lt({key:"dialogueMode",value:f})),r.optionData.voiceInterruption===mO.no&&u===null||(n(Lt({key:"playVocal",value:""})),$.gameplay.performController.unmountPerform("vocal-play",!0)),n(Lt({key:"currentDialogKey",value:i}));const p=HH(r.optionData.textSpeed)*t.content.length;for(const v of t.args)if(v.key==="fontSize")switch(v.value){case"default":n(Lt({key:"showTextSize",value:-1}));break;case"small":n(Lt({key:"showTextSize",value:wu.small}));break;case"medium":n(Lt({key:"showTextSize",value:wu.medium}));break;case"large":n(Lt({key:"showTextSize",value:wu.large}));break}let d=e.showName;c!==null&&(d=c),f==="player"&&(d=""),f==="narrator"&&(d=""),l&&(d=""),n(Lt({key:"showName",value:d})),u&&cAe(t);const g=la();let m=750-r.optionData.textSpeed/100*2*250;return s&&(m=0),xk(),{performName:g,duration:p+m,isHoldOn:!1,stopFunction:()=>{$.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}},dAe=t=>{const e=ue.getState().stage,r=ue.getState().userData,n=ue.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(Lt({key:"showText",value:JSON.stringify(i)})),n(Lt({key:"showName",value:""})),ze.debug("",i),setTimeout(()=>{$.events.textSettle.emit()},0);const a=la(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{$.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},pAe=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];ue.dispatch(qn.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},vAe=t=>(console.log(" >>>>>>>> start : ",{sentence:t}),(async()=>{var s,c;await xk(),await HO(),t!=null&&t.content;const r={};if(t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break;case"hideName":r.isHideName=l.value.toString()==="true";break}}),!r.name)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=ue.getState().saveData,i=(s=n==null?void 0:n.unlockStorylineList)==null?void 0:s.findIndex(l=>{var u;return((u=l==null?void 0:l.storyLine)==null?void 0:u.name)===r.name});let a;i!==-1&&(a=n.unlockStorylineList[i]);const o={name:r.name||"",thumbnailUrl:r.thumbnailUrl||"",x:r.x||0,y:r.y||0,isHideName:r.isHideName||!1,isUnlock:((c=a==null?void 0:a.storyLine)==null?void 0:c.isUnlock)||n.isUnlockStoryline||!1};i===-1?ue.dispatch(lr.addStorylineList({storyLine:o,videoData:ue.getState().saveData.saveVideoData})):ue.dispatch(lr.replaceStorylineList({index:i,data:{storyLine:o,videoData:ue.getState().saveData.saveVideoData}})),cV()})(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),gAe=t=>{var l;console.log(" >>>>>>>> start : ",{sentence:t});let e=(t==null?void 0:t.content)||"";const r={};if(r.url=e,t.args.forEach(u=>{var f,h;switch(u.key){case"unlockname":r.unlockname=((f=u.value)==null?void 0:f.toString())??"";break;case"x":r.x=u.value&&Number(u.value)||0;break;case"y":r.y=u.value&&Number(u.value)||0;break;case"condition":r.condition=((h=u.value)==null?void 0:h.toString())??"";break}}),!r.unlockname||!r.url)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=ue.getState().saveData;if(!n.isShowUnlock)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const i=(l=n.unlockAchieveData)==null?void 0:l.findIndex(u=>u.unlockname===r.unlockname&&u.url===r.url);let a;i!==-1&&(a=n.unlockAchieveData[i]);const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),s={unlockname:r.unlockname||"",url:r.url||"",x:r.x||0,y:r.y||0,condition:r.condition||"",saveTime:o,isShowUnlock:(a==null?void 0:a.isShowUnlock)||n.isShowUnlock||!1},c=n.allUnlockAchieveList.map(u=>(u.unlockname===r.unlockname&&r.url&&r.url.includes(u.url)&&(u=s),u));return ue.dispatch(lr.saveAllUnlockAchieveList(c)),i===-1?ue.dispatch(lr.addUnlockAchieveData(s)):ue.dispatch(lr.replaceUnlockAchieveData({index:i,data:s})),hV(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},CD=t=>{const e=/\{(.*?)\}/,r=t.match(e);if(r){const i=r[1].split(","),a={};return i.forEach(o=>{const[s,c]=o.split("=");s&&c&&(a[s.trim()]=isNaN(Number(c.trim()))?c.trim():Number(c.trim()))}),a}};function mAe(t){const e={isShowValueSwitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showProgress:!1};return t!=null&&t.content&&(e.showValueName=t.content),t.args.forEach(r=>{r.key==="switchValue"?e.isShowValueSwitch=!!r.value:r.key==="x"?e.showValueAxisX=Number(r.value):r.key==="y"?e.showValueAxisY=Number(r.value):r.key==="showProgress"?e.showProgress=!!r.value:r.key==="progressBarBgStyle"?e.progressBarBgStyle=CD(r.value):r.key==="progressBarStyle"?e.progressBarStyle=CD(r.value):r.key==="maxValue"&&(e.maxValue=Number(r.value))}),ue.dispatch(Ode(e)),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const _Ae=t=>{if(ue.getState().storeData.isEditorPreviewMode)return{performName:la(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let e={current:null};const r=Number(t.content),n=ue.getState().storeData.paymentConfigurationList.find(l=>l.product_id===r);let i=n==null?void 0:n.sales_amount,a=n==null?void 0:n.sales_type;const o={current:!1};t.args.forEach(l=>{var u;switch(l.key){case"name":(u=l.value)==null||u.toString();break;case"amount":i||(i=isNaN(Number(l.value))?0:Number(l.value));break}});const s=(l=!1)=>{e.current=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},l?0:2e3);const u=()=>{$a({title:`
`,rightText:"",rightFunc:()=>s(!0)})},f=()=>{rH(r??0).then(async h=>{window.pubsub.publish("loading",{loading:!1}),await _g(2e3),h.code===0?(window.pubsub.publish("toaster",{show:!0,text:""}),$.gameplay.performController.unmountPerform("payProduct")):h.code===10014?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("rechargeModal",{successCallback:s,closeCallback:s})):(window.pubsub.publish("toaster",{show:!0,text:h.message}),s())}).catch(()=>{window.pubsub.publish("loading",{loading:!1})})};lx(r).then(h=>{e.current&&clearTimeout(e.current),window.pubsub.publish("loading",{loading:!1}),h.code===0?h.data?$.gameplay.performController.unmountPerform("payProduct"):$a({title:"",content:`${i}${a===1?"":""}`,suffixContent:"",leftText:"",rightText:"",type:"pay",leftFunc:()=>{o.current=!0},rightFunc:f}):u()}).catch(()=>{window.pubsub.publish("loading",{loading:!1}),u()})};return s(),{performName:"payProduct",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{const l={performName:la(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};$.gameplay.performController.arrangeNewPerform(l,t,!1)},blockingNext:()=>(o.current&&(o.current=!1,s()),!0),blockingAuto:()=>!0,stopTimeout:void 0}},yAe=t=>{if(ue.getState().storeData.isEditorPreviewMode)return{performName:la(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let e={current:null};const r=ue.getState().storeData.gameInfo;let n=(r==null?void 0:r.isFree)===1&&(r==null?void 0:r.tryPlay)===2;const{playSeEnter:i,playSeClick:a}=Kd(),o={current:!1};if(n&&(r!=null&&r.canPlay)||(r==null?void 0:r.isFree)===2||(r==null?void 0:r.isFree)===1&&(r==null?void 0:r.tryPlay)===1&&r.canPlay)return{performName:la(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};const s=async()=>{a();const u=await nH();window.pubsub.publish("loading",{loading:!1}),await _g(2e3),u.code===0||u.code===10053?(u.code===0&&window.pubsub.publish("toaster",{show:!0}),$.gameplay.performController.unmountPerform("finishTrial")):u.code===10014?(window.pubsub.publish("toaster",{show:!0,text:", "}),window.pubsub.publish("rechargeModal",{successCallback:c,closeCallback:c})):window.pubsub.publish("toaster",{show:!0,text:u.message})},c=(u=!1)=>{e.current=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},u?0:2e3);const f=()=>{$a({title:`
`,rightText:"",rightFunc:()=>c(!0)})};QO().then(h=>{if(e.current&&clearTimeout(e.current),window.pubsub.publish("loading",{loading:!1}),h.code===0){const p=h.data;if(!p)return;if(p.isFree===1&&p.tryPlay===2&&p.canPlay)$.gameplay.performController.unmountPerform("finishTrial");else{const d=ue.getState().storeData.gameInfo;$a({title:"",type:"pay",content:`${d==null?void 0:d.salesAmount}${(d==null?void 0:d.salesAmountType)===1?"":""}`,suffixContent:"",leftText:"",rightText:"",leftFunc:()=>{o.current=!0},rightFunc:s})}}else f()}).catch(()=>{window.pubsub.publish("loading",{loading:!1}),f()})};return c(),{performName:"finishTrial",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{Fu.render(M.jsx("div",{}),document.getElementById("chooseContainer"));const u={performName:la(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};$.gameplay.performController.arrangeNewPerform(u,t,!1)},blockingNext:()=>(o.current&&(c(),o.current=!1),!0),blockingAuto:()=>!0,stopTimeout:void 0}};function xAe(t,e,r,n=500){const i=t.scrollLeft,a=t.scrollTop,o=e-i,s=r-a,c=performance.now();function l(f){const h=f-c,p=Math.min(h/n,1),d=u(p);t.scrollTo(i+o*d,a+s*d),h<n&&requestAnimationFrame(l)}function u(f){return f<.5?2*f*f:-1+(4-2*f)*f}requestAnimationFrame(l)}const bAe=t=>{const e=la();let r=0,n=0,i=0,a=!1;return console.log(" >>>>>>>> start : ",{sentence:t}),t.args.forEach(o=>{o.key==="duration"?r=Number(o.value):o.key==="x"?n=Number(o.value):o.key==="y"?i=Number(o.value):o.key==="next"&&(a=o.value==="true")}),setTimeout(()=>{const o=document.getElementById("camera");o&&(ze.info(`${n}${i}`),xAe(o,n,i,r))},16),{performName:e,duration:r,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:a}},wAe=t=>{let e=Pt(t.content,Tt.ui),r="",n=Date.now(),i="";return t.args.forEach(a=>{a.key==="number"?r=Pt(a.value.toString().trim(),Tt.ui):a.key==="sound"&&a.value&&(i=Pt(a.value.toString().trim(),Tt.vocal))}),ue.dispatch(Fde({rolePicture:e,numberPicture:r,key:n})),i&&$H({command:Dt.playEffect,commandRaw:"playEffect",content:i,sentenceAssets:[],subScene:[],args:[]}),{performName:la(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0}},QS={performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},EAe=t=>{var c;if(console.log(" >>>>>>>> start : ",{sentence:t}),U2e())return QS;let e=(t==null?void 0:t.content)||"";const r={};r.url=e,t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break}});const n=ue.getState().saveData;if(!r.name||!r.url)return QS;const i=(c=n.unlockAffinityData)==null?void 0:c.findIndex(l=>l.name===r.name&&l.url===r.url),a=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),o={name:r.name||"",url:r.url||"",x:r.x||0,y:r.y||0,saveTime:a,isUnlocked:!0},s=[...n.unlockAffinityData];return i!==-1?s[i]=o:s.push(o),ue.dispatch(lr.updateAffinityData(s)),c1e(),QS};function SAe(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",p="";const d=ue.dispatch;for(const w of t.args)switch(w.key){case"left":w.value===!0&&(e="left");break;case"right":w.value===!0&&(e="right");break;case"clear":w.value===!0&&(r="");break;case"id":n=!0,o=w.value.toString();break;case"motion":i=w.value.toString();break;case"expression":a=w.value.toString();break;case"mouthOpen":c=w.value.toString(),c=Pt(c,Tt.image);break;case"mouthClose":l=w.value.toString(),l=Pt(l,Tt.image);break;case"mouthHalfOpen":u=w.value.toString(),u=Pt(u,Tt.image);break;case"eyesOpen":f=w.value.toString(),f=Pt(f,Tt.image);break;case"eyesClose":h=w.value.toString(),h=Pt(h,Tt.image);break;case"animationFlag":p=w.value.toString();break;case"none":r="";break}const g=o||`pop-${e}`,v=ue.getState().stage.popUpImageAssociatedAnimation.filter(w=>w.targetId!==g),_={targetId:g,animationFlag:p,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};v.push(_),d(Lt({key:"popUpImageAssociatedAnimation",value:v}));let y=!0;if(o!==""){const w=ue.getState().stage.freePopUpImage.find(E=>E.key===o);w&&w.name===t.content&&(y=!1)}else e==="center"&&ue.getState().stage.popUpImageName===t.content&&(y=!1),e==="left"&&ue.getState().stage.popUpImageNameLeft===t.content&&(y=!1),e==="right"&&ue.getState().stage.popUpImageNameRight===t.content&&(y=!1);if(y){const w=`pop-${e}`,E=`${o}`;ue.dispatch(qn.removeEffectByTargetId(w)),ue.dispatch(qn.removeEffectByTargetId(E))}const b=(w,E)=>{const C=Yt(E,"transform"),T=Yt(E,"duration");T&&typeof T=="number"&&(s=T);let A;if(C){console.log(C);try{const k=JSON.parse(C.toString());A=ff(w,k,s),A[0].alpha=0;const F=(Math.random()*10).toString(16),B={name:F,effects:A};$.animationManager.addAnimation(B),s=Pi(F),$.animationManager.nextEnterAnimationName.set(w,F)}catch{I()}}else I();function I(){A=ff(w,{},s),A[0].alpha=0;const F=(Math.random()*10).toString(16),B={name:F,effects:A};$.animationManager.addAnimation(B),s=Pi(F),$.animationManager.nextEnterAnimationName.set(w,F)}const O=Yt(E,"enter"),P=Yt(E,"exit");O&&($.animationManager.nextEnterAnimationName.set(w,O.toString()),s=Pi(O.toString())),P&&($.animationManager.nextExitAnimationName.set(w+"-off",P.toString()),s=Pi(P.toString()))};if(n){ue.getState().stage.freePopUpImage;const w={key:o,name:r,basePosition:e};b(o,t),i&&d(qn.setPopUpImageLive2dMotion({target:o,motion:i})),a&&d(qn.setPopUpImageLive2dExpression({target:o,expression:a})),d(qn.setFreePopupImageBykey(w))}else{const w={center:"pop-center",left:"pop-left",right:"pop-right"},E={center:"popUpImageName",left:"popUpImageNameLeft",right:"popUpImageNameRight"};o=w[e],b(o,t),i&&d(qn.setPopUpImageLive2dMotion({target:o,motion:i})),a&&d(qn.setPopUpImageLive2dExpression({target:o,expression:a})),d(Lt({key:E[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const yb=()=>{ze.warn("");for(let t=0;t<$.gameplay.performController.performList.length;t++){const e=$.gameplay.performController.performList[t];e.performName.startsWith("videoPlay")?e.stopFunction(!0):e.stopFunction(),clearTimeout(e.stopTimeout),$.gameplay.performController.performList.splice(t,1),t--}};function CAe(t){const e=ue.dispatch,r=ue.getState().stage;return yb(),e(hd({...r,freeFigure:[],freePopUpImage:[],figNameLeft:"",figNameRight:"",figName:"",popUpImageName:"",popUpImageNameLeft:"",popUpImageNameRight:"",bgName:"",showAffinityChangeList:[],showValueList:[],showName:"",showText:""})),{performName:la(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const TAe=t=>{const e=t.content,r={thirdUserId:sessionStorage.getItem("sdk-userId"),productId:$.gameId+"",chapterId:Number(e),reportTime:yg(),channel:sessionStorage.getItem("sdk-userId")?1:0};return fH(r),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},zH=B2e({intro:Xt(Dt.intro,kCe),changeBg:Xt(Dt.changeBg,x2e),changeFigure:Xt(Dt.changeFigure,b2e),miniAvatar:Xt(Dt.miniAvatar,NCe,{next:!0}),changeScene:Xt(Dt.changeScene,w2e),choose:Xt(Dt.choose,mA),end:Xt(Dt.end,nAe),bgm:Xt(Dt.bgm,Tye,{next:!0}),playVideo:Xt(Dt.video,$Te),setComplexAnimation:Xt(Dt.setComplexAnimation,zTe),setFilter:Xt(Dt.setFilter,WTe),pixiInit:Xt(Dt.pixiInit,aAe,{next:!0}),pixiPerform:Xt(Dt.pixi,jCe,{next:!0}),label:Xt(Dt.label,FCe,{next:!0}),jumpLabel:Xt(Dt.jumpLabel,iAe),setVar:Xt(Dt.setVar,p1e,{next:!0}),showVars:Xt(Dt.showVars,dAe),unlockCg:Xt(Dt.unlockCg,tAe,{next:!0}),unlockBgm:Xt(Dt.unlockBgm,eAe,{next:!0}),say:Xt(Dt.say,hAe),filmMode:Xt(Dt.filmMode,fCe,{next:!0}),callScene:Xt(Dt.callScene,lbe),setTextbox:Xt(Dt.setTextbox,qTe),setAnimation:Xt(Dt.setAnimation,GTe),playEffect:Xt(Dt.playEffect,$H,{next:!0}),setTempAnimation:Xt(Dt.setTempAnimation,YTe),__commment:Xt(Dt.comment,cCe,{next:!0}),setTransform:Xt(Dt.setTransform,KTe),setTransition:Xt(Dt.setTransition,QTe,{next:!0}),getUserInput:Xt(Dt.getUserInput,_Ce),applyStyle:Xt(Dt.applyStyle,pAe,{next:!0}),unlockAchieve:Xt(Dt.unlockAchieve,gAe,{next:!0}),unlockStoryline:Xt(Dt.unlockStoryline,vAe,{next:!0}),showValue:Xt(Dt.showValue,mAe,{next:!0}),payProduct:Xt(Dt.payProduct,_Ae),finishTrial:Xt(Dt.finishTrial,yAe),moveCamera:Xt(Dt.moveCamera,bAe),changeAffinity:Xt(Dt.changeAffinity,wAe),unlockAffinity:Xt(Dt.unlockAffinity,EAe),popUpImage:Xt(Dt.popUpImage,SAe),clearScreen:Xt(Dt.clearScreen,CAe),eventData:Xt(Dt.eventData,TAe)}),XH=Object.values(zH),AAe=XH.filter(t=>t.next).map(t=>t.scriptType),xb=new Cye(sA,Pt,AAe,XH),ju=(t,e,r)=>{const n=xb.parse(t,e,r);return ze.info(`${e}`,n),n};var ja=(t=>(t.Start="start.txt",t.Achieve="achieve.txt",t.Storyline="storyline.txt",t.Affinity="affinity.txt",t))(ja||{});const TD={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class IAe{constructor(){at(this,"settledScenes",[]);at(this,"settledAssets",[]);at(this,"sceneData",yn(TD));at(this,"sceneAssetsList",{});at(this,"sceneAssetsLoadedList",{});at(this,"lockSceneWrite",!1)}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=yn(TD.currentScene)}setCurrentScene(e,r,n,i=!1){return new Promise(a=>{let o={current:null},s={current:{sceneReady:!1,gameReady:!1,params:{sceneName:"",sentenceList:[]}}},c=null;i&&!this.sceneAssetsLoadedList[r]&&(c=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},1e3));const l=window.pubsub.subscribe("sceneAssetsLoaded",({sceneName:f})=>{setTimeout(()=>{var h,p;if(r===f){o.current&&(this.sceneData.currentScene=o.current);const d=((p=(h=this.sceneData)==null?void 0:h.currentScene)==null?void 0:p.sentenceList)??[];s.current.sceneReady=!0,s.current.params={sceneName:r,sentenceList:d},s.current.sceneReady&&this.checkCallback(r,d),i&&window.pubsub.publish("loading",{loading:!1}),c&&clearTimeout(c),a(o),o.current=null,l()}},16)}),u=window.pubsub.subscribe("gameInfoReady",f=>{f&&(s.current.gameReady=!0,s.current.sceneReady&&this.checkCallback(s.current.params.sceneName,s.current.params.sentenceList),u())});o.current=ju(e,r,n)})}checkCallback(e,r){e==="storyline.txt"?this.getAllStorylineList(r):e==="achieve.txt"?this.getAllUnlockAchieveList(r):e==="affinity.txt"&&fV()}async getAllStorylineList(e){await HO();const r=new Map,n=new Map;ue.getState().saveData.unlockStorylineList.forEach(o=>{const{name:s,isUnlock:c=!1}=o.storyLine||{};r.set(s,s),n.set(s,o.videoData)});const i=e.filter(o=>o.command===Dt.unlockStoryline).map(o=>{const s={thumbnailUrl:(o==null?void 0:o.content)??"",name:"",x:0,y:0,isUnlock:!1,isHideName:!1},c={storyLine:{},videoData:null};return o.args.forEach(l=>{l.key==="name"?s.name=l.value.toString():l.key==="x"?s.x=Number(l.value):l.key==="y"?s.y=Number(l.value):l.key==="hideName"&&(s.isHideName=l.value.toString()==="true")}),r.get(s.name)&&n.get(s.name)?(s.isUnlock=!0,c.videoData=n.get(s.name)):s.isUnlock=!1,c.storyLine=s,c});ue.dispatch(lr.saveAllStorylineData(i));const a=i.filter(o=>o.storyLine.isUnlock);ue.dispatch(lr.setStorylineListFromStorage(a)),await cV()}async getAllUnlockAchieveList(e){await f1e();const r=new Map,n=new Map;ue.getState().saveData.unlockAchieveData.forEach(o=>{o.isShowUnlock&&(r.set(o.unlockname,o.isShowUnlock),n.set(o.unlockname,(o==null?void 0:o.saveTime)??""))});const i=e.filter(o=>o.command===Dt.unlockAchieve).map(o=>{const s={url:(o==null?void 0:o.content)??"",unlockname:"",condition:"",saveTime:"",x:0,y:0,isShowUnlock:!1};return o.args.forEach(c=>{c.key==="unlockname"?s.unlockname=c.value.toString():c.key==="x"?s.x=Number(c.value):c.key==="y"?s.y=Number(c.value):c.key==="condition"&&(s.condition=c.value.toString())}),r!=null&&r.get(s==null?void 0:s.unlockname)&&(s.isShowUnlock=!0,s.saveTime=n==null?void 0:n.get(s==null?void 0:s.unlockname)),s});ue.dispatch(lr.saveAllUnlockAchieveList(i));const a=i.filter(o=>o==null?void 0:o.isShowUnlock);ue.dispatch(lr.setUnlockAchieveData(a)),await hV()}compareFilenames(e,r){const n=e.match(/\/?([^/]+)\.\w+$/),i=r.match(/\/?([^/]+)\.\w+$/);return n&&i?n[1]===i[1]:!1}}class RAe{constructor(){at(this,"nextEnterAnimationName",new Map);at(this,"nextExitAnimationName",new Map);at(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}class PAe{constructor(){at(this,"isAuto",!1);at(this,"isFast",!1);at(this,"isSyncingWithOrigine",!1);at(this,"autoInterval",null);at(this,"fastTimeout",null);at(this,"autoTimeout",null);at(this,"pixiStage",null);at(this,"performController",new y2e)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastTimeout;r!==null&&clearTimeout(r),this.fastTimeout=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function OAe(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class kAe{constructor(){at(this,"textSettle",K0("text-settle"));at(this,"userInteractNext",K0("__NEXT"));at(this,"fullscreenDbClick",K0("fullscreen-dbclick"));at(this,"styleUpdate",K0("style-update"));at(this,"screenSizeChange",K0("screenSize-change"))}}const e2=OAe();function K0(t){return{on:(e,r)=>{e2.on(`${t}-${r??""}`,e)},emit:(e,r)=>{e2.emit(`${t}-${r??""}`,e)},off:(e,r)=>{e2.off(`${t}-${r??""}`,e)}}}var WH={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(o,s,c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,u){o.exports=u()})(this,function(){function l(ke){var V=typeof ke;return ke!==null&&(V==="object"||V==="function")}function u(ke){return typeof ke=="function"}var f=void 0;Array.isArray?f=Array.isArray:f=function(ke){return Object.prototype.toString.call(ke)==="[object Array]"};var h=f,p=0,d=void 0,g=void 0,m=function(V,ve){k[p]=V,k[p+1]=ve,p+=2,p===2&&(g?g(F):D())};function v(ke){g=ke}function _(ke){m=ke}var y=typeof window<"u"?window:void 0,b=y||{},w=b.MutationObserver||b.WebKitMutationObserver,E=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",C=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function T(){return function(){return process.nextTick(F)}}function A(){return typeof d<"u"?function(){d(F)}:P()}function I(){var ke=0,V=new w(F),ve=document.createTextNode("");return V.observe(ve,{characterData:!0}),function(){ve.data=ke=++ke%2}}function O(){var ke=new MessageChannel;return ke.port1.onmessage=F,function(){return ke.port2.postMessage(0)}}function P(){var ke=setTimeout;return function(){return ke(F,1)}}var k=new Array(1e3);function F(){for(var ke=0;ke<p;ke+=2){var V=k[ke],ve=k[ke+1];V(ve),k[ke]=void 0,k[ke+1]=void 0}p=0}function B(){try{var ke=Function("return this")().require("vertx");return d=ke.runOnLoop||ke.runOnContext,A()}catch{return P()}}var D=void 0;E?D=T():w?D=I():C?D=O():y===void 0?D=B():D=P();function z(ke,V){var ve=this,Te=new this.constructor(Y);Te[te]===void 0&&Rt(Te);var Fe=ve._state;if(Fe){var oe=arguments[Fe-1];m(function(){return Ve(Fe,Te,oe,ve._result)})}else Ge(ve,Te,ke,V);return Te}function ee(ke){var V=this;if(ke&&typeof ke=="object"&&ke.constructor===V)return ke;var ve=new V(Y);return Me(ve,ke),ve}var te=Math.random().toString(36).substring(2);function Y(){}var U=void 0,X=1,j=2;function G(){return new TypeError("You cannot resolve a promise with itself")}function ne(){return new TypeError("A promises callback cannot return that same promise.")}function ae(ke,V,ve,Te){try{ke.call(V,ve,Te)}catch(Fe){return Fe}}function pe(ke,V,ve){m(function(Te){var Fe=!1,oe=ae(ve,V,function(Ie){Fe||(Fe=!0,V!==Ie?Me(Te,Ie):Ee(Te,Ie))},function(Ie){Fe||(Fe=!0,Se(Te,Ie))},"Settle: "+(Te._label||" unknown promise"));!Fe&&oe&&(Fe=!0,Se(Te,oe))},ke)}function se(ke,V){V._state===X?Ee(ke,V._result):V._state===j?Se(ke,V._result):Ge(V,void 0,function(ve){return Me(ke,ve)},function(ve){return Se(ke,ve)})}function _e(ke,V,ve){V.constructor===ke.constructor&&ve===z&&V.constructor.resolve===ee?se(ke,V):ve===void 0?Ee(ke,V):u(ve)?pe(ke,V,ve):Ee(ke,V)}function Me(ke,V){if(ke===V)Se(ke,G());else if(l(V)){var ve=void 0;try{ve=V.then}catch(Te){Se(ke,Te);return}_e(ke,V,ve)}else Ee(ke,V)}function Pe(ke){ke._onerror&&ke._onerror(ke._result),Ye(ke)}function Ee(ke,V){ke._state===U&&(ke._result=V,ke._state=X,ke._subscribers.length!==0&&m(Ye,ke))}function Se(ke,V){ke._state===U&&(ke._state=j,ke._result=V,m(Pe,ke))}function Ge(ke,V,ve,Te){var Fe=ke._subscribers,oe=Fe.length;ke._onerror=null,Fe[oe]=V,Fe[oe+X]=ve,Fe[oe+j]=Te,oe===0&&ke._state&&m(Ye,ke)}function Ye(ke){var V=ke._subscribers,ve=ke._state;if(V.length!==0){for(var Te=void 0,Fe=void 0,oe=ke._result,Ie=0;Ie<V.length;Ie+=3)Te=V[Ie],Fe=V[Ie+ve],Te?Ve(ve,Te,Fe,oe):Fe(oe);ke._subscribers.length=0}}function Ve(ke,V,ve,Te){var Fe=u(ve),oe=void 0,Ie=void 0,W=!0;if(Fe){try{oe=ve(Te)}catch(Ue){W=!1,Ie=Ue}if(V===oe){Se(V,ne());return}}else oe=Te;V._state!==U||(Fe&&W?Me(V,oe):W===!1?Se(V,Ie):ke===X?Ee(V,oe):ke===j&&Se(V,oe))}function Xe(ke,V){try{V(function(Te){Me(ke,Te)},function(Te){Se(ke,Te)})}catch(ve){Se(ke,ve)}}var Ke=0;function wt(){return Ke++}function Rt(ke){ke[te]=Ke++,ke._state=void 0,ke._result=void 0,ke._subscribers=[]}function ht(){return new Error("Array Methods must be provided an Array")}var gt=function(){function ke(V,ve){this._instanceConstructor=V,this.promise=new V(Y),this.promise[te]||Rt(this.promise),h(ve)?(this.length=ve.length,this._remaining=ve.length,this._result=new Array(this.length),this.length===0?Ee(this.promise,this._result):(this.length=this.length||0,this._enumerate(ve),this._remaining===0&&Ee(this.promise,this._result))):Se(this.promise,ht())}return ke.prototype._enumerate=function(ve){for(var Te=0;this._state===U&&Te<ve.length;Te++)this._eachEntry(ve[Te],Te)},ke.prototype._eachEntry=function(ve,Te){var Fe=this._instanceConstructor,oe=Fe.resolve;if(oe===ee){var Ie=void 0,W=void 0,Ue=!1;try{Ie=ve.then}catch(N){Ue=!0,W=N}if(Ie===z&&ve._state!==U)this._settledAt(ve._state,Te,ve._result);else if(typeof Ie!="function")this._remaining--,this._result[Te]=ve;else if(Fe===Et){var pt=new Fe(Y);Ue?Se(pt,W):_e(pt,ve,Ie),this._willSettleAt(pt,Te)}else this._willSettleAt(new Fe(function(N){return N(ve)}),Te)}else this._willSettleAt(oe(ve),Te)},ke.prototype._settledAt=function(ve,Te,Fe){var oe=this.promise;oe._state===U&&(this._remaining--,ve===j?Se(oe,Fe):this._result[Te]=Fe),this._remaining===0&&Ee(oe,this._result)},ke.prototype._willSettleAt=function(ve,Te){var Fe=this;Ge(ve,void 0,function(oe){return Fe._settledAt(X,Te,oe)},function(oe){return Fe._settledAt(j,Te,oe)})},ke}();function It(ke){return new gt(this,ke).promise}function vr(ke){var V=this;return h(ke)?new V(function(ve,Te){for(var Fe=ke.length,oe=0;oe<Fe;oe++)V.resolve(ke[oe]).then(ve,Te)}):new V(function(ve,Te){return Te(new TypeError("You must pass an array to race."))})}function tr(ke){var V=this,ve=new V(Y);return Se(ve,ke),ve}function gr(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Kt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Et=function(){function ke(V){this[te]=wt(),this._result=this._state=void 0,this._subscribers=[],Y!==V&&(typeof V!="function"&&gr(),this instanceof ke?Xe(this,V):Kt())}return ke.prototype.catch=function(ve){return this.then(null,ve)},ke.prototype.finally=function(ve){var Te=this,Fe=Te.constructor;return u(ve)?Te.then(function(oe){return Fe.resolve(ve()).then(function(){return oe})},function(oe){return Fe.resolve(ve()).then(function(){throw oe})}):Te.then(ve,ve)},ke}();Et.prototype.then=z,Et.all=It,Et.race=vr,Et.resolve=ee,Et.reject=tr,Et._setScheduler=v,Et._setAsap=_,Et._asap=m;function ur(){var ke=void 0;if(typeof c.g<"u")ke=c.g;else if(typeof self<"u")ke=self;else try{ke=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var V=ke.Promise;if(V){var ve=null;try{ve=Object.prototype.toString.call(V.resolve())}catch{}if(ve==="[object Promise]"&&!V.cast)return}ke.Promise=Et}return Et.polyfill=ur,Et.Promise=Et,Et})},"./node_modules/events/events.js":function(o){var s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(P,k,F){return Function.prototype.apply.call(P,k,F)},l;s&&typeof s.ownKeys=="function"?l=s.ownKeys:Object.getOwnPropertySymbols?l=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:l=function(P){return Object.getOwnPropertyNames(P)};function u(O){console&&console.warn&&console.warn(O)}var f=Number.isNaN||function(P){return P!==P};function h(){h.init.call(this)}o.exports=h,o.exports.once=T,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var p=10;function d(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(O){if(typeof O!="number"||O<0||f(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");p=O}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||f(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function g(O){return O._maxListeners===void 0?h.defaultMaxListeners:O._maxListeners}h.prototype.getMaxListeners=function(){return g(this)},h.prototype.emit=function(P){for(var k=[],F=1;F<arguments.length;F++)k.push(arguments[F]);var B=P==="error",D=this._events;if(D!==void 0)B=B&&D.error===void 0;else if(!B)return!1;if(B){var z;if(k.length>0&&(z=k[0]),z instanceof Error)throw z;var ee=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw ee.context=z,ee}var te=D[P];if(te===void 0)return!1;if(typeof te=="function")c(te,this,k);else for(var Y=te.length,U=w(te,Y),F=0;F<Y;++F)c(U[F],this,k);return!0};function m(O,P,k,F){var B,D,z;if(d(k),D=O._events,D===void 0?(D=O._events=Object.create(null),O._eventsCount=0):(D.newListener!==void 0&&(O.emit("newListener",P,k.listener?k.listener:k),D=O._events),z=D[P]),z===void 0)z=D[P]=k,++O._eventsCount;else if(typeof z=="function"?z=D[P]=F?[k,z]:[z,k]:F?z.unshift(k):z.push(k),B=g(O),B>0&&z.length>B&&!z.warned){z.warned=!0;var ee=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");ee.name="MaxListenersExceededWarning",ee.emitter=O,ee.type=P,ee.count=z.length,u(ee)}return O}h.prototype.addListener=function(P,k){return m(this,P,k,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(P,k){return m(this,P,k,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(O,P,k){var F={fired:!1,wrapFn:void 0,target:O,type:P,listener:k},B=v.bind(F);return B.listener=k,F.wrapFn=B,B}h.prototype.once=function(P,k){return d(k),this.on(P,_(this,P,k)),this},h.prototype.prependOnceListener=function(P,k){return d(k),this.prependListener(P,_(this,P,k)),this},h.prototype.removeListener=function(P,k){var F,B,D,z,ee;if(d(k),B=this._events,B===void 0)return this;if(F=B[P],F===void 0)return this;if(F===k||F.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete B[P],B.removeListener&&this.emit("removeListener",P,F.listener||k));else if(typeof F!="function"){for(D=-1,z=F.length-1;z>=0;z--)if(F[z]===k||F[z].listener===k){ee=F[z].listener,D=z;break}if(D<0)return this;D===0?F.shift():E(F,D),F.length===1&&(B[P]=F[0]),B.removeListener!==void 0&&this.emit("removeListener",P,ee||k)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(P){var k,F,B;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[P]),this;if(arguments.length===0){var D=Object.keys(F),z;for(B=0;B<D.length;++B)z=D[B],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=F[P],typeof k=="function")this.removeListener(P,k);else if(k!==void 0)for(B=k.length-1;B>=0;B--)this.removeListener(P,k[B]);return this};function y(O,P,k){var F=O._events;if(F===void 0)return[];var B=F[P];return B===void 0?[]:typeof B=="function"?k?[B.listener||B]:[B]:k?C(B):w(B,B.length)}h.prototype.listeners=function(P){return y(this,P,!0)},h.prototype.rawListeners=function(P){return y(this,P,!1)},h.listenerCount=function(O,P){return typeof O.listenerCount=="function"?O.listenerCount(P):b.call(O,P)},h.prototype.listenerCount=b;function b(O){var P=this._events;if(P!==void 0){var k=P[O];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function w(O,P){for(var k=new Array(P),F=0;F<P;++F)k[F]=O[F];return k}function E(O,P){for(;P+1<O.length;P++)O[P]=O[P+1];O.pop()}function C(O){for(var P=new Array(O.length),k=0;k<P.length;++k)P[k]=O[k].listener||O[k];return P}function T(O,P){return new Promise(function(k,F){function B(z){O.removeListener(P,D),F(z)}function D(){typeof O.removeListener=="function"&&O.removeListener("error",B),k([].slice.call(arguments))}I(O,P,D,{once:!0}),P!=="error"&&A(O,B,{once:!0})})}function A(O,P,k){typeof O.on=="function"&&I(O,"error",P,k)}function I(O,P,k,F){if(typeof O.on=="function")F.once?O.once(P,k):O.on(P,k);else if(typeof O.addEventListener=="function")O.addEventListener(P,function B(D){F.once&&O.removeEventListener(P,B),k(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}},"./node_modules/webworkify-webpack/index.js":function(o,s,c){function l(v){var _={};function y(w){if(_[w])return _[w].exports;var E=_[w]={i:w,l:!1,exports:{}};return v[w].call(E.exports,E,E.exports,y),E.l=!0,E.exports}y.m=v,y.c=_,y.i=function(w){return w},y.d=function(w,E,C){y.o(w,E)||Object.defineProperty(w,E,{configurable:!1,enumerable:!0,get:C})},y.r=function(w){Object.defineProperty(w,"__esModule",{value:!0})},y.n=function(w){var E=w&&w.__esModule?function(){return w.default}:function(){return w};return y.d(E,"a",E),E},y.o=function(w,E){return Object.prototype.hasOwnProperty.call(w,E)},y.p="/",y.oe=function(w){throw console.error(w),w};var b=y(y.s=ENTRY_MODULE);return b.default||b}var u="[\\.|\\-|\\+|\\w|/|@]+",f="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function h(v){return(v+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(v){return!isNaN(1*v)}function d(v,_,y){var b={};b[y]=[];var w=_.toString(),E=w.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!E)return b;for(var C=E[1],T=new RegExp("(\\\\n|\\W)"+h(C)+f,"g"),A;A=T.exec(w);)A[3]!=="dll-reference"&&b[y].push(A[3]);for(T=new RegExp("\\("+h(C)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+f,"g");A=T.exec(w);)v[A[2]]||(b[y].push(A[1]),v[A[2]]=c(A[1]).m),b[A[2]]=b[A[2]]||[],b[A[2]].push(A[4]);for(var I=Object.keys(b),O=0;O<I.length;O++)for(var P=0;P<b[I[O]].length;P++)p(b[I[O]][P])&&(b[I[O]][P]=1*b[I[O]][P]);return b}function g(v){var _=Object.keys(v);return _.reduce(function(y,b){return y||v[b].length>0},!1)}function m(v,_){for(var y={main:[_]},b={main:[]},w={main:{}};g(y);)for(var E=Object.keys(y),C=0;C<E.length;C++){var T=E[C],A=y[T],I=A.pop();if(w[T]=w[T]||{},!(w[T][I]||!v[T][I])){w[T][I]=!0,b[T]=b[T]||[],b[T].push(I);for(var O=d(v,v[T][I],T),P=Object.keys(O),k=0;k<P.length;k++)y[P[k]]=y[P[k]]||[],y[P[k]]=y[P[k]].concat(O[P[k]])}}return b}o.exports=function(v,_){_=_||{};var y={main:c.m},b=_.all?{main:Object.keys(y.main)}:m(y,v),w="";Object.keys(b).filter(function(I){return I!=="main"}).forEach(function(I){for(var O=0;b[I][O];)O++;b[I].push(O),y[I][O]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",w=w+"var "+I+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(O))+")({"+b[I].map(function(P){return""+JSON.stringify(P)+": "+y[I][P].toString()}).join(",")+`});
`}),w=w+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(v))+")({"+b.main.map(function(I){return""+JSON.stringify(I)+": "+y.main[I].toString()}).join(",")+"}))(self);";var E=new window.Blob([w],{type:"text/javascript"});if(_.bare)return E;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,T=C.createObjectURL(E),A=new window.Worker(T);return A.objectURL=T,A}},"./src/config.js":function(o,s,c){c.r(s),c.d(s,{defaultConfig:function(){return l},createDefaultConfig:function(){return u}});var l={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},l)}},"./src/core/features.js":function(o,s,c){c.r(s);var l=c("./src/io/io-controller.js"),u=c("./src/config.js"),f=function(){function h(){}return h.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},h.supportNetworkStreamIO=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d=="fetch-stream-loader"||d=="xhr-moz-chunked-loader"},h.getNetworkLoaderTypeName=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d},h.supportNativeMediaPlayback=function(p){h.videoElement==null&&(h.videoElement=window.document.createElement("video"));var d=h.videoElement.canPlayType(p);return d==="probably"||d=="maybe"},h.getFeatureList=function(){var p={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return p.mseFlvPlayback=h.supportMSEH264Playback(),p.networkStreamIO=h.supportNetworkStreamIO(),p.networkLoaderName=h.getNetworkLoaderTypeName(),p.mseLiveFlvPlayback=p.mseFlvPlayback&&p.networkStreamIO,p.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),p.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),p.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),p},h}();s.default=f},"./src/core/media-info.js":function(o,s,c){c.r(s);var l=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var f=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,h=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&f&&h},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(f){if(this.keyframesIndex==null)return null;var h=this.keyframesIndex,p=this._search(h.times,f);return{index:p,milliseconds:h.times[p],fileposition:h.filepositions[p]}},u.prototype._search=function(f,h){var p=0,d=f.length-1,g=0,m=0,v=d;for(h<f[0]&&(p=0,m=v+1);m<=v;)if(g=m+Math.floor((v-m)/2),g===d||h>=f[g]&&h<f[g+1]){p=g;break}else f[g]<h?m=g+1:v=g-1;return p},u}();s.default=l},"./src/core/media-segment-info.js":function(o,s,c){c.r(s),c.d(s,{SampleInfo:function(){return l},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return f},MediaSegmentInfoList:function(){return h}});var l=function(){function p(d,g,m,v,_){this.dts=d,this.pts=g,this.duration=m,this.originalDts=v,this.isSyncPoint=_,this.fileposition=null}return p}(),u=function(){function p(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return p.prototype.appendSyncPoint=function(d){d.isSyncPoint=!0,this.syncPoints.push(d)},p}(),f=function(){function p(){this._list=[]}return p.prototype.clear=function(){this._list=[]},p.prototype.appendArray=function(d){var g=this._list;d.length!==0&&(g.length>0&&d[0].originalDts<g[g.length-1].originalDts&&this.clear(),Array.prototype.push.apply(g,d))},p.prototype.getLastSyncPointBeforeDts=function(d){if(this._list.length==0)return null;var g=this._list,m=0,v=g.length-1,_=0,y=0,b=v;for(d<g[0].dts&&(m=0,y=b+1);y<=b;)if(_=y+Math.floor((b-y)/2),_===v||d>=g[_].dts&&d<g[_+1].dts){m=_;break}else g[_].dts<d?y=_+1:b=_-1;return this._list[m]},p}(),h=function(){function p(d){this._type=d,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return this._list.length===0},p.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},p.prototype._searchNearestSegmentBefore=function(d){var g=this._list;if(g.length===0)return-2;var m=g.length-1,v=0,_=0,y=m,b=0;if(d<g[0].originalBeginDts)return b=-1,b;for(;_<=y;)if(v=_+Math.floor((y-_)/2),v===m||d>g[v].lastSample.originalDts&&d<g[v+1].originalBeginDts){b=v;break}else g[v].originalBeginDts<d?_=v+1:y=v-1;return b},p.prototype._searchNearestSegmentAfter=function(d){return this._searchNearestSegmentBefore(d)+1},p.prototype.append=function(d){var g=this._list,m=d,v=this._lastAppendLocation,_=0;v!==-1&&v<g.length&&m.originalBeginDts>=g[v].lastSample.originalDts&&(v===g.length-1||v<g.length-1&&m.originalBeginDts<g[v+1].originalBeginDts)?_=v+1:g.length>0&&(_=this._searchNearestSegmentBefore(m.originalBeginDts)+1),this._lastAppendLocation=_,this._list.splice(_,0,m)},p.prototype.getLastSegmentBefore=function(d){var g=this._searchNearestSegmentBefore(d);return g>=0?this._list[g]:null},p.prototype.getLastSampleBefore=function(d){var g=this.getLastSegmentBefore(d);return g!=null?g.lastSample:null},p.prototype.getLastSyncPointBefore=function(d){for(var g=this._searchNearestSegmentBefore(d),m=this._list[g].syncPoints;m.length===0&&g>0;)g--,m=this._list[g].syncPoints;return m.length>0?m[m.length-1]:null},p}()},"./src/core/mse-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/core/mse-events.js"),d=c("./src/core/media-segment-info.js"),g=c("./src/utils/exception.js"),m=function(){function v(_){this.TAG="MSEController",this._config=_,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new d.IDRSampleList}return v.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(_,y){this._emitter.addListener(_,y)},v.prototype.off=function(_,y){this._emitter.removeListener(_,y)},v.prototype.attachMediaElement=function(_){if(this._mediaSource)throw new g.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var y=this._mediaSource=new window.MediaSource;y.addEventListener("sourceopen",this.e.onSourceOpen),y.addEventListener("sourceended",this.e.onSourceEnded),y.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=_,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),_.src=this._mediaSourceObjectURL},v.prototype.detachMediaElement=function(){if(this._mediaSource){var _=this._mediaSource;for(var y in this._sourceBuffers){var b=this._pendingSegments[y];b.splice(0,b.length),this._pendingSegments[y]=null,this._pendingRemoveRanges[y]=null,this._lastInitSegments[y]=null;var w=this._sourceBuffers[y];if(w){if(_.readyState!=="closed"){try{_.removeSourceBuffer(w)}catch(E){f.default.e(this.TAG,E.message)}w.removeEventListener("error",this.e.onSourceBufferError),w.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[y]=null,this._sourceBuffers[y]=null}}if(_.readyState==="open")try{_.endOfStream()}catch(E){f.default.e(this.TAG,E.message)}_.removeEventListener("sourceopen",this.e.onSourceOpen),_.removeEventListener("sourceended",this.e.onSourceEnded),_.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},v.prototype.appendInitSegment=function(_,y){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(_),this._pendingSegments[_.type].push(_);return}var b=_,w=""+b.container;b.codec&&b.codec.length>0&&(w+=";codecs="+b.codec);var E=!1;if(f.default.v(this.TAG,"Received Initialization Segment, mimeType: "+w),this._lastInitSegments[b.type]=b,w!==this._mimeTypes[b.type]){if(this._mimeTypes[b.type])f.default.v(this.TAG,"Notice: "+b.type+" mimeType changed, origin: "+this._mimeTypes[b.type]+", target: "+w);else{E=!0;try{var C=this._sourceBuffers[b.type]=this._mediaSource.addSourceBuffer(w);C.addEventListener("error",this.e.onSourceBufferError),C.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(T){f.default.e(this.TAG,T.message),this._emitter.emit(p.default.ERROR,{code:T.code,msg:T.message});return}}this._mimeTypes[b.type]=w}y||this._pendingSegments[b.type].push(b),E||this._sourceBuffers[b.type]&&!this._sourceBuffers[b.type].updating&&this._doAppendSegments(),h.default.safari&&b.container==="audio/mpeg"&&b.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=b.mediaDuration/1e3,this._updateMediaSourceDuration())},v.prototype.appendMediaSegment=function(_){var y=_;this._pendingSegments[y.type].push(y),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var b=this._sourceBuffers[y.type];b&&!b.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},v.prototype.seek=function(_){for(var y in this._sourceBuffers)if(this._sourceBuffers[y]){var b=this._sourceBuffers[y];if(this._mediaSource.readyState==="open")try{b.abort()}catch(I){f.default.e(this.TAG,I.message)}this._idrList.clear();var w=this._pendingSegments[y];if(w.splice(0,w.length),this._mediaSource.readyState!=="closed"){for(var E=0;E<b.buffered.length;E++){var C=b.buffered.start(E),T=b.buffered.end(E);this._pendingRemoveRanges[y].push({start:C,end:T})}if(b.updating||this._doRemoveRanges(),h.default.safari){var A=this._lastInitSegments[y];A&&(this._pendingSegments[y].push(A),b.updating||this._doAppendSegments())}}}},v.prototype.endOfStream=function(){var _=this._mediaSource,y=this._sourceBuffers;if(!_||_.readyState!=="open"){_&&_.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}y.video&&y.video.updating||y.audio&&y.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,_.endOfStream())},v.prototype.getNearestKeyframe=function(_){return this._idrList.getLastSyncPointBeforeDts(_)},v.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var _=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var b=this._sourceBuffers[y];if(b){var w=b.buffered;if(w.length>=1&&_-w.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},v.prototype._doCleanupSourceBuffer=function(){var _=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var b=this._sourceBuffers[y];if(b){for(var w=b.buffered,E=!1,C=0;C<w.length;C++){var T=w.start(C),A=w.end(C);if(T<=_&&_<A+3){if(_-T>=this._config.autoCleanupMaxBackwardDuration){E=!0;var I=_-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[y].push({start:T,end:I})}}else A<_&&(E=!0,this._pendingRemoveRanges[y].push({start:T,end:A}))}E&&!b.updating&&this._doRemoveRanges()}}},v.prototype._updateMediaSourceDuration=function(){var _=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(_.video&&_.video.updating||_.audio&&_.audio.updating)){var y=this._mediaSource.duration,b=this._pendingMediaDuration;b>0&&(isNaN(y)||b>y)&&(f.default.v(this.TAG,"Update MediaSource duration from "+y+" to "+b),this._mediaSource.duration=b),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},v.prototype._doRemoveRanges=function(){for(var _ in this._pendingRemoveRanges)if(!(!this._sourceBuffers[_]||this._sourceBuffers[_].updating))for(var y=this._sourceBuffers[_],b=this._pendingRemoveRanges[_];b.length&&!y.updating;){var w=b.shift();y.remove(w.start,w.end)}},v.prototype._doAppendSegments=function(){var _=this._pendingSegments;for(var y in _)if(!(!this._sourceBuffers[y]||this._sourceBuffers[y].updating)&&_[y].length>0){var b=_[y].shift();if(b.timestampOffset){var w=this._sourceBuffers[y].timestampOffset,E=b.timestampOffset/1e3,C=Math.abs(w-E);C>.1&&(f.default.v(this.TAG,"Update MPEG audio timestampOffset from "+w+" to "+E),this._sourceBuffers[y].timestampOffset=E),delete b.timestampOffset}if(!b.data||b.data.byteLength===0)continue;try{this._sourceBuffers[y].appendBuffer(b.data),this._isBufferFull=!1,y==="video"&&b.hasOwnProperty("info")&&this._idrList.appendArray(b.info.syncPoints)}catch(T){this._pendingSegments[y].unshift(b),T.code===22?(this._isBufferFull||this._emitter.emit(p.default.BUFFER_FULL),this._isBufferFull=!0):(f.default.e(this.TAG,T.message),this._emitter.emit(p.default.ERROR,{code:T.code,msg:T.message}))}}},v.prototype._onSourceOpen=function(){if(f.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var _=this._pendingSourceBufferInit;_.length;){var y=_.shift();this.appendInitSegment(y,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(p.default.SOURCE_OPEN)},v.prototype._onSourceEnded=function(){f.default.v(this.TAG,"MediaSource onSourceEnded")},v.prototype._onSourceClose=function(){f.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},v.prototype._hasPendingSegments=function(){var _=this._pendingSegments;return _.video.length>0||_.audio.length>0},v.prototype._hasPendingRemoveRanges=function(){var _=this._pendingRemoveRanges;return _.video.length>0||_.audio.length>0},v.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(p.default.UPDATE_END)},v.prototype._onSourceBufferError=function(_){f.default.e(this.TAG,"SourceBuffer Error: "+_)},v}();s.default=m},"./src/core/mse-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};s.default=l},"./src/core/transmuxer.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./node_modules/webworkify-webpack/index.js"),h=c.n(f),p=c("./src/utils/logger.js"),d=c("./src/utils/logging-control.js"),g=c("./src/core/transmuxing-controller.js"),m=c("./src/core/transmuxing-events.js"),v=c("./src/core/media-info.js"),_=function(){function y(b,w){if(this.TAG="Transmuxer",this._emitter=new(u()),w.enableWorker&&typeof Worker<"u")try{this._worker=h()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[b,w]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},d.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:d.default.getConfig()})}catch{p.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new g.default(b,w)}else this._controller=new g.default(b,w);if(this._controller){var E=this._controller;E.on(m.default.IO_ERROR,this._onIOError.bind(this)),E.on(m.default.DEMUX_ERROR,this._onDemuxError.bind(this)),E.on(m.default.INIT_SEGMENT,this._onInitSegment.bind(this)),E.on(m.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),E.on(m.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),E.on(m.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),E.on(m.default.MEDIA_INFO,this._onMediaInfo.bind(this)),E.on(m.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),E.on(m.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),E.on(m.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),E.on(m.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return y.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),d.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},y.prototype.on=function(b,w){this._emitter.addListener(b,w)},y.prototype.off=function(b,w){this._emitter.removeListener(b,w)},y.prototype.hasWorker=function(){return this._worker!=null},y.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},y.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},y.prototype.seek=function(b){this._worker?this._worker.postMessage({cmd:"seek",param:b}):this._controller.seek(b)},y.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},y.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},y.prototype._onInitSegment=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.INIT_SEGMENT,b,w)})},y.prototype._onMediaSegment=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.MEDIA_SEGMENT,b,w)})},y.prototype._onLoadingComplete=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.LOADING_COMPLETE)})},y.prototype._onRecoveredEarlyEof=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.RECOVERED_EARLY_EOF)})},y.prototype._onMediaInfo=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.MEDIA_INFO,b)})},y.prototype._onMetaDataArrived=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.METADATA_ARRIVED,b)})},y.prototype._onScriptDataArrived=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.SCRIPTDATA_ARRIVED,b)})},y.prototype._onStatisticsInfo=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.STATISTICS_INFO,b)})},y.prototype._onIOError=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.IO_ERROR,b,w)})},y.prototype._onDemuxError=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.DEMUX_ERROR,b,w)})},y.prototype._onRecommendSeekpoint=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.RECOMMEND_SEEKPOINT,b)})},y.prototype._onLoggingConfigChanged=function(b){this._worker&&this._worker.postMessage({cmd:"logging_config",param:b})},y.prototype._onWorkerMessage=function(b){var w=b.data,E=w.data;if(w.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(w.msg){case m.default.INIT_SEGMENT:case m.default.MEDIA_SEGMENT:this._emitter.emit(w.msg,E.type,E.data);break;case m.default.LOADING_COMPLETE:case m.default.RECOVERED_EARLY_EOF:this._emitter.emit(w.msg);break;case m.default.MEDIA_INFO:Object.setPrototypeOf(E,v.default.prototype),this._emitter.emit(w.msg,E);break;case m.default.METADATA_ARRIVED:case m.default.SCRIPTDATA_ARRIVED:case m.default.STATISTICS_INFO:this._emitter.emit(w.msg,E);break;case m.default.IO_ERROR:case m.default.DEMUX_ERROR:this._emitter.emit(w.msg,E.type,E.info);break;case m.default.RECOMMEND_SEEKPOINT:this._emitter.emit(w.msg,E);break;case"logcat_callback":p.default.emitter.emit("log",E.type,E.logcat);break}},y}();s.default=_},"./src/core/transmuxing-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/core/media-info.js"),d=c("./src/demux/flv-demuxer.js"),g=c("./src/remux/mp4-remuxer.js"),m=c("./src/demux/demux-errors.js"),v=c("./src/io/io-controller.js"),_=c("./src/core/transmuxing-events.js"),y=function(){function b(w,E){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=E,w.segments||(w.segments=[{duration:w.duration,filesize:w.filesize,url:w.url}]),typeof w.cors!="boolean"&&(w.cors=!0),typeof w.withCredentials!="boolean"&&(w.withCredentials=!1),this._mediaDataSource=w,this._currentSegmentIndex=0;var C=0;this._mediaDataSource.segments.forEach(function(T){T.timestampBase=C,C+=T.duration,T.cors=w.cors,T.withCredentials=w.withCredentials,E.referrerPolicy&&(T.referrerPolicy=E.referrerPolicy)}),!isNaN(C)&&this._mediaDataSource.duration!==C&&(this._mediaDataSource.duration=C),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return b.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},b.prototype.on=function(w,E){this._emitter.addListener(w,E)},b.prototype.off=function(w,E){this._emitter.removeListener(w,E)},b.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},b.prototype._loadSegment=function(w,E){this._currentSegmentIndex=w;var C=this._mediaDataSource.segments[w],T=this._ioctl=new v.default(C,this._config,w);T.onError=this._onIOException.bind(this),T.onSeeked=this._onIOSeeked.bind(this),T.onComplete=this._onIOComplete.bind(this),T.onRedirect=this._onIORedirect.bind(this),T.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),E?this._demuxer.bindDataSource(this._ioctl):T.onDataArrival=this._onInitChunkArrival.bind(this),T.open(E)},b.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},b.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},b.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},b.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},b.prototype.seek=function(w){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var E=this._searchSegmentIndexContains(w);if(E===this._currentSegmentIndex){var C=this._mediaInfo.segments[E];if(C==null)this._pendingSeekTime=w;else{var T=C.getNearestKeyframe(w);this._remuxer.seek(T.milliseconds),this._ioctl.seek(T.fileposition),this._pendingResolveSeekPoint=T.milliseconds}}else{var A=this._mediaInfo.segments[E];if(A==null)this._pendingSeekTime=w,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(E);else{var T=A.getNearestKeyframe(w);this._internalAbort(),this._remuxer.seek(w),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[E].timestampBase,this._loadSegment(E,T.fileposition),this._pendingResolveSeekPoint=T.milliseconds,this._reportSegmentMediaInfo(E)}}this._enableStatisticsReporter()}},b.prototype._searchSegmentIndexContains=function(w){for(var E=this._mediaDataSource.segments,C=E.length-1,T=0;T<E.length;T++)if(w<E[T].timestampBase){C=T-1;break}return C},b.prototype._onInitChunkArrival=function(w,E){var C=this,T=null,A=0;if(E>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,A=this._demuxer.parseChunks(w,E);else if((T=d.default.probe(w)).match){this._demuxer=new d.default(T,this._config),this._remuxer||(this._remuxer=new g.default(this._config));var I=this._mediaDataSource;I.duration!=null&&!isNaN(I.duration)&&(this._demuxer.overridedDuration=I.duration),typeof I.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=I.hasAudio),typeof I.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=I.hasVideo),this._demuxer.timestampBase=I.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),A=this._demuxer.parseChunks(w,E)}else T=null,f.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){C._internalAbort()}),this._emitter.emit(_.default.DEMUX_ERROR,m.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),A=0;return A},b.prototype._onMediaInfo=function(w){var E=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},w),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,p.default.prototype));var C=Object.assign({},w);Object.setPrototypeOf(C,p.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=C,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var T=E._pendingSeekTime;E._pendingSeekTime=null,E.seek(T)})},b.prototype._onMetaDataArrived=function(w){this._emitter.emit(_.default.METADATA_ARRIVED,w)},b.prototype._onScriptDataArrived=function(w){this._emitter.emit(_.default.SCRIPTDATA_ARRIVED,w)},b.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},b.prototype._onIOComplete=function(w){var E=w,C=E+1;C<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(C)):(this._remuxer.flushStashedSamples(),this._emitter.emit(_.default.LOADING_COMPLETE),this._disableStatisticsReporter())},b.prototype._onIORedirect=function(w){var E=this._ioctl.extraData;this._mediaDataSource.segments[E].redirectedURL=w},b.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(_.default.RECOVERED_EARLY_EOF)},b.prototype._onIOException=function(w,E){f.default.e(this.TAG,"IOException: type = "+w+", code = "+E.code+", msg = "+E.msg),this._emitter.emit(_.default.IO_ERROR,w,E),this._disableStatisticsReporter()},b.prototype._onDemuxException=function(w,E){f.default.e(this.TAG,"DemuxException: type = "+w+", info = "+E),this._emitter.emit(_.default.DEMUX_ERROR,w,E)},b.prototype._onRemuxerInitSegmentArrival=function(w,E){this._emitter.emit(_.default.INIT_SEGMENT,w,E)},b.prototype._onRemuxerMediaSegmentArrival=function(w,E){if(this._pendingSeekTime==null&&(this._emitter.emit(_.default.MEDIA_SEGMENT,w,E),this._pendingResolveSeekPoint!=null&&w==="video")){var C=E.info.syncPoints,T=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,h.default.safari&&C.length>0&&C[0].originalDts===T&&(T=C[0].pts),this._emitter.emit(_.default.RECOMMEND_SEEKPOINT,T)}},b.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},b.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},b.prototype._reportSegmentMediaInfo=function(w){var E=this._mediaInfo.segments[w],C=Object.assign({},E);C.duration=this._mediaInfo.duration,C.segmentCount=this._mediaInfo.segmentCount,delete C.segments,delete C.keyframesIndex,this._emitter.emit(_.default.MEDIA_INFO,C)},b.prototype._reportStatisticsInfo=function(){var w={};w.url=this._ioctl.currentURL,w.hasRedirect=this._ioctl.hasRedirect,w.hasRedirect&&(w.redirectedURL=this._ioctl.currentRedirectedURL),w.speed=this._ioctl.currentSpeed,w.loaderType=this._ioctl.loaderType,w.currentSegmentIndex=this._currentSegmentIndex,w.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(_.default.STATISTICS_INFO,w)},b}();s.default=y},"./src/core/transmuxing-events.js":function(o,s,c){c.r(s);var l={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};s.default=l},"./src/core/transmuxing-worker.js":function(o,s,c){c.r(s);var l=c("./src/utils/logging-control.js"),u=c("./src/utils/polyfill.js"),f=c("./src/core/transmuxing-controller.js"),h=c("./src/core/transmuxing-events.js"),p=function(d){var g=null,m=P.bind(this);u.default.install(),d.addEventListener("message",function(k){switch(k.data.cmd){case"init":g=new f.default(k.data.param[0],k.data.param[1]),g.on(h.default.IO_ERROR,A.bind(this)),g.on(h.default.DEMUX_ERROR,I.bind(this)),g.on(h.default.INIT_SEGMENT,v.bind(this)),g.on(h.default.MEDIA_SEGMENT,_.bind(this)),g.on(h.default.LOADING_COMPLETE,y.bind(this)),g.on(h.default.RECOVERED_EARLY_EOF,b.bind(this)),g.on(h.default.MEDIA_INFO,w.bind(this)),g.on(h.default.METADATA_ARRIVED,E.bind(this)),g.on(h.default.SCRIPTDATA_ARRIVED,C.bind(this)),g.on(h.default.STATISTICS_INFO,T.bind(this)),g.on(h.default.RECOMMEND_SEEKPOINT,O.bind(this));break;case"destroy":g&&(g.destroy(),g=null),d.postMessage({msg:"destroyed"});break;case"start":g.start();break;case"stop":g.stop();break;case"seek":g.seek(k.data.param);break;case"pause":g.pause();break;case"resume":g.resume();break;case"logging_config":{var F=k.data.param;l.default.applyConfig(F),F.enableCallback===!0?l.default.addLogListener(m):l.default.removeLogListener(m);break}}});function v(k,F){var B={msg:h.default.INIT_SEGMENT,data:{type:k,data:F}};d.postMessage(B,[F.data])}function _(k,F){var B={msg:h.default.MEDIA_SEGMENT,data:{type:k,data:F}};d.postMessage(B,[F.data])}function y(){var k={msg:h.default.LOADING_COMPLETE};d.postMessage(k)}function b(){var k={msg:h.default.RECOVERED_EARLY_EOF};d.postMessage(k)}function w(k){var F={msg:h.default.MEDIA_INFO,data:k};d.postMessage(F)}function E(k){var F={msg:h.default.METADATA_ARRIVED,data:k};d.postMessage(F)}function C(k){var F={msg:h.default.SCRIPTDATA_ARRIVED,data:k};d.postMessage(F)}function T(k){var F={msg:h.default.STATISTICS_INFO,data:k};d.postMessage(F)}function A(k,F){d.postMessage({msg:h.default.IO_ERROR,data:{type:k,info:F}})}function I(k,F){d.postMessage({msg:h.default.DEMUX_ERROR,data:{type:k,info:F}})}function O(k){d.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:k})}function P(k,F){d.postMessage({msg:"logcat_callback",data:{type:k,logcat:F}})}};s.default=p},"./src/demux/amf-parser.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/utils/utf8-conv.js"),f=c("./src/utils/exception.js"),h=function(){var d=new ArrayBuffer(2);return new DataView(d).setInt16(0,256,!0),new Int16Array(d)[0]===256}(),p=function(){function d(){}return d.parseScriptData=function(g,m,v){var _={};try{var y=d.parseValue(g,m,v),b=d.parseValue(g,m+y.size,v-y.size);_[y.data]=b.data}catch(w){l.default.e("AMF",w.toString())}return _},d.parseObject=function(g,m,v){if(v<3)throw new f.IllegalStateException("Data not enough when parse ScriptDataObject");var _=d.parseString(g,m,v),y=d.parseValue(g,m+_.size,v-_.size),b=y.objectEnd;return{data:{name:_.data,value:y.data},size:_.size+y.size,objectEnd:b}},d.parseVariable=function(g,m,v){return d.parseObject(g,m,v)},d.parseString=function(g,m,v){if(v<2)throw new f.IllegalStateException("Data not enough when parse String");var _=new DataView(g,m,v),y=_.getUint16(0,!h),b;return y>0?b=(0,u.default)(new Uint8Array(g,m+2,y)):b="",{data:b,size:2+y}},d.parseLongString=function(g,m,v){if(v<4)throw new f.IllegalStateException("Data not enough when parse LongString");var _=new DataView(g,m,v),y=_.getUint32(0,!h),b;return y>0?b=(0,u.default)(new Uint8Array(g,m+4,y)):b="",{data:b,size:4+y}},d.parseDate=function(g,m,v){if(v<10)throw new f.IllegalStateException("Data size invalid when parse Date");var _=new DataView(g,m,v),y=_.getFloat64(0,!h),b=_.getInt16(8,!h);return y+=b*60*1e3,{data:new Date(y),size:8+2}},d.parseValue=function(g,m,v){if(v<1)throw new f.IllegalStateException("Data not enough when parse Value");var _=new DataView(g,m,v),y=1,b=_.getUint8(0),w,E=!1;try{switch(b){case 0:w=_.getFloat64(1,!h),y+=8;break;case 1:{var C=_.getUint8(1);w=!!C,y+=1;break}case 2:{var T=d.parseString(g,m+1,v-1);w=T.data,y+=T.size;break}case 3:{w={};var A=0;for((_.getUint32(v-4,!h)&16777215)===9&&(A=3);y<v-4;){var I=d.parseObject(g,m+y,v-y-A);if(I.objectEnd)break;w[I.data.name]=I.data.value,y+=I.size}if(y<=v-3){var O=_.getUint32(y-1,!h)&16777215;O===9&&(y+=3)}break}case 8:{w={},y+=4;var A=0;for((_.getUint32(v-4,!h)&16777215)===9&&(A=3);y<v-8;){var P=d.parseVariable(g,m+y,v-y-A);if(P.objectEnd)break;w[P.data.name]=P.data.value,y+=P.size}if(y<=v-3){var O=_.getUint32(y-1,!h)&16777215;O===9&&(y+=3)}break}case 9:w=void 0,y=1,E=!0;break;case 10:{w=[];var k=_.getUint32(1,!h);y+=4;for(var F=0;F<k;F++){var B=d.parseValue(g,m+y,v-y);w.push(B.data),y+=B.size}break}case 11:{var D=d.parseDate(g,m+1,v-1);w=D.data,y+=D.size;break}case 12:{var z=d.parseString(g,m+1,v-1);w=z.data,y+=z.size;break}default:y=v,l.default.w("AMF","Unsupported AMF value type "+b)}}catch(ee){l.default.e("AMF",ee.toString())}return{data:w,size:y,objectEnd:E}},d}();s.default=p},"./src/demux/demux-errors.js":function(o,s,c){c.r(s);var l={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};s.default=l},"./src/demux/exp-golomb.js":function(o,s,c){c.r(s);var l=c("./src/utils/exception.js"),u=function(){function f(h){this.TAG="ExpGolomb",this._buffer=h,this._buffer_index=0,this._total_bytes=h.byteLength,this._total_bits=h.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return f.prototype.destroy=function(){this._buffer=null},f.prototype._fillCurrentWord=function(){var h=this._total_bytes-this._buffer_index;if(h<=0)throw new l.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var p=Math.min(4,h),d=new Uint8Array(4);d.set(this._buffer.subarray(this._buffer_index,this._buffer_index+p)),this._current_word=new DataView(d.buffer).getUint32(0,!1),this._buffer_index+=p,this._current_word_bits_left=p*8},f.prototype.readBits=function(h){if(h>32)throw new l.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(h<=this._current_word_bits_left){var p=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,p}var d=this._current_word_bits_left?this._current_word:0;d=d>>>32-this._current_word_bits_left;var g=h-this._current_word_bits_left;this._fillCurrentWord();var m=Math.min(g,this._current_word_bits_left),v=this._current_word>>>32-m;return this._current_word<<=m,this._current_word_bits_left-=m,d=d<<m|v,d},f.prototype.readBool=function(){return this.readBits(1)===1},f.prototype.readByte=function(){return this.readBits(8)},f.prototype._skipLeadingZero=function(){var h;for(h=0;h<this._current_word_bits_left;h++)if(this._current_word&2147483648>>>h)return this._current_word<<=h,this._current_word_bits_left-=h,h;return this._fillCurrentWord(),h+this._skipLeadingZero()},f.prototype.readUEG=function(){var h=this._skipLeadingZero();return this.readBits(h+1)-1},f.prototype.readSEG=function(){var h=this.readUEG();return h&1?h+1>>>1:-1*(h>>>1)},f}();s.default=u},"./src/demux/flv-demuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/demux/amf-parser.js"),f=c("./src/demux/sps-parser.js"),h=c("./src/demux/demux-errors.js"),p=c("./src/core/media-info.js"),d=c("./src/utils/exception.js");function g(v,_){return v[_]<<24|v[_+1]<<16|v[_+2]<<8|v[_+3]}var m=function(){function v(_,y){this.TAG="FLVDemuxer",this._config=y,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=_.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=_.hasAudioTrack,this._hasVideo=_.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new p.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var b=new ArrayBuffer(2);return new DataView(b).setInt16(0,256,!0),new Int16Array(b)[0]===256}()}return v.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},v.probe=function(_){var y=new Uint8Array(_),b={match:!1};if(y[0]!==70||y[1]!==76||y[2]!==86||y[3]!==1)return b;var w=(y[4]&4)>>>2!==0,E=(y[4]&1)!==0,C=g(y,5);return C<9?b:{match:!0,consumed:C,dataOffset:C,hasAudioTrack:w,hasVideoTrack:E}},v.prototype.bindDataSource=function(_){return _.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(v.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(_){this._onTrackMetadata=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(_){this._onMediaInfo=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(_){this._onMetaDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(_){this._onScriptDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onError",{get:function(){return this._onError},set:function(_){this._onError=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(_){this._onDataAvailable=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(_){this._timestampBase=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedDuration",{get:function(){return this._duration},set:function(_){this._durationOverrided=!0,this._duration=_,this._mediaInfo.duration=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedHasAudio",{set:function(_){this._hasAudioFlagOverrided=!0,this._hasAudio=_,this._mediaInfo.hasAudio=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedHasVideo",{set:function(_){this._hasVideoFlagOverrided=!0,this._hasVideo=_,this._mediaInfo.hasVideo=_},enumerable:!1,configurable:!0}),v.prototype.resetMediaInfo=function(){this._mediaInfo=new p.default},v.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},v.prototype.parseChunks=function(_,y){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new d.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var b=0,w=this._littleEndian;if(y===0)if(_.byteLength>13){var E=v.probe(_);b=E.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,y+b!==this._dataOffset&&l.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var C=new DataView(_,b),T=C.getUint32(0,!w);T!==0&&l.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),b+=4}for(;b<_.byteLength;){this._dispatch=!0;var C=new DataView(_,b);if(b+11+4>_.byteLength)break;var A=C.getUint8(0),I=C.getUint32(0,!w)&16777215;if(b+11+I+4>_.byteLength)break;if(A!==8&&A!==9&&A!==18){l.default.w(this.TAG,"Unsupported tag type "+A+", skipped"),b+=11+I+4;continue}var O=C.getUint8(4),P=C.getUint8(5),k=C.getUint8(6),F=C.getUint8(7),B=k|P<<8|O<<16|F<<24,D=C.getUint32(7,!w)&16777215;D!==0&&l.default.w(this.TAG,"Meet tag which has StreamID != 0!");var z=b+11;switch(A){case 8:this._parseAudioData(_,z,I,B);break;case 9:this._parseVideoData(_,z,I,B,y+b);break;case 18:this._parseScriptData(_,z,I);break}var ee=C.getUint32(11+I,!w);ee!==11+I&&l.default.w(this.TAG,"Invalid PrevTagSize "+ee),b+=11+I+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),b},v.prototype._parseScriptData=function(_,y,b){var w=u.default.parseScriptData(_,y,b);if(w.hasOwnProperty("onMetaData")){if(w.onMetaData==null||typeof w.onMetaData!="object"){l.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&l.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=w;var E=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},E)),typeof E.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=E.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof E.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=E.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof E.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=E.audiodatarate),typeof E.videodatarate=="number"&&(this._mediaInfo.videoDataRate=E.videodatarate),typeof E.width=="number"&&(this._mediaInfo.width=E.width),typeof E.height=="number"&&(this._mediaInfo.height=E.height),typeof E.duration=="number"){if(!this._durationOverrided){var C=Math.floor(E.duration*this._timescale);this._duration=C,this._mediaInfo.duration=C}}else this._mediaInfo.duration=0;if(typeof E.framerate=="number"){var T=Math.floor(E.framerate*1e3);if(T>0){var A=T/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=A,this._referenceFrameRate.fps_num=T,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=A}}if(typeof E.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var I=E.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(I),E.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=E,l.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(w).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},w))},v.prototype._parseKeyframesIndex=function(_){for(var y=[],b=[],w=1;w<_.times.length;w++){var E=this._timestampBase+Math.floor(_.times[w]*1e3);y.push(E),b.push(_.filepositions[w])}return{times:y,filepositions:b}},v.prototype._parseAudioData=function(_,y,b,w){if(b<=1){l.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var E=new DataView(_,y,b),C=E.getUint8(0),T=C>>>4;if(T!==2&&T!==10){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+T);return}var A=0,I=(C&12)>>>2;if(I>=0&&I<=4)A=this._flvSoundRateTable[I];else{this._onError(h.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+I);return}var O=C&1,P=this._audioMetadata,k=this._audioTrack;if(P||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),P=this._audioMetadata={},P.type="audio",P.id=k.id,P.timescale=this._timescale,P.duration=this._duration,P.audioSampleRate=A,P.channelCount=O===0?1:2),T===10){var F=this._parseAACAudioData(_,y+1,b-1);if(F==null)return;if(F.packetType===0){P.config&&l.default.w(this.TAG,"Found another AudioSpecificConfig!");var B=F.data;P.audioSampleRate=B.samplingRate,P.channelCount=B.channelCount,P.codec=B.codec,P.originalCodec=B.originalCodec,P.config=B.config,P.refSampleDuration=1024/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",P);var D=this._mediaInfo;D.audioCodec=P.originalCodec,D.audioSampleRate=P.audioSampleRate,D.audioChannelCount=P.channelCount,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}else if(F.packetType===1){var z=this._timestampBase+w,ee={unit:F.data,length:F.data.byteLength,dts:z,pts:z};k.samples.push(ee),k.length+=F.data.length}else l.default.e(this.TAG,"Flv: Unsupported AAC data type "+F.packetType)}else if(T===2){if(!P.codec){var B=this._parseMP3AudioData(_,y+1,b-1,!0);if(B==null)return;P.audioSampleRate=B.samplingRate,P.channelCount=B.channelCount,P.codec=B.codec,P.originalCodec=B.originalCodec,P.refSampleDuration=1152/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",P);var D=this._mediaInfo;D.audioCodec=P.codec,D.audioSampleRate=P.audioSampleRate,D.audioChannelCount=P.channelCount,D.audioDataRate=B.bitRate,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}var te=this._parseMP3AudioData(_,y+1,b-1,!1);if(te==null)return;var z=this._timestampBase+w,Y={unit:te,length:te.byteLength,dts:z,pts:z};k.samples.push(Y),k.length+=te.length}}},v.prototype._parseAACAudioData=function(_,y,b){if(b<=1){l.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var w={},E=new Uint8Array(_,y,b);return w.packetType=E[0],E[0]===0?w.data=this._parseAACAudioSpecificConfig(_,y+1,b-1):w.data=E.subarray(1),w},v.prototype._parseAACAudioSpecificConfig=function(_,y,b){var w=new Uint8Array(_,y,b),E=null,C=0,T=0,A=0,I=null;if(C=T=w[0]>>>3,A=(w[0]&7)<<1|w[1]>>>7,A<0||A>=this._mpegSamplingRates.length){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var O=this._mpegSamplingRates[A],P=(w[1]&120)>>>3;if(P<0||P>=8){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}C===5&&(I=(w[1]&7)<<1|w[2]>>>7,(w[2]&124)>>>2);var k=self.navigator.userAgent.toLowerCase();return k.indexOf("firefox")!==-1?A>=6?(C=5,E=new Array(4),I=A-3):(C=2,E=new Array(2),I=A):k.indexOf("android")!==-1?(C=2,E=new Array(2),I=A):(C=5,I=A,E=new Array(4),A>=6?I=A-3:P===1&&(C=2,E=new Array(2),I=A)),E[0]=C<<3,E[0]|=(A&15)>>>1,E[1]=(A&15)<<7,E[1]|=(P&15)<<3,C===5&&(E[1]|=(I&15)>>>1,E[2]=(I&1)<<7,E[2]|=8,E[3]=0),{config:E,samplingRate:O,channelCount:P,codec:"mp4a.40."+C,originalCodec:"mp4a.40."+T}},v.prototype._parseMP3AudioData=function(_,y,b,w){if(b<4){l.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var E=new Uint8Array(_,y,b),C=null;if(w){if(E[0]!==255)return;var T=E[1]>>>3&3,A=(E[1]&6)>>1,I=(E[2]&240)>>>4,O=(E[2]&12)>>>2,P=E[3]>>>6&3,k=P!==3?2:1,F=0,B=0,D="mp3";switch(T){case 0:F=this._mpegAudioV25SampleRateTable[O];break;case 2:F=this._mpegAudioV20SampleRateTable[O];break;case 3:F=this._mpegAudioV10SampleRateTable[O];break}switch(A){case 1:I<this._mpegAudioL3BitRateTable.length&&(B=this._mpegAudioL3BitRateTable[I]);break;case 2:I<this._mpegAudioL2BitRateTable.length&&(B=this._mpegAudioL2BitRateTable[I]);break;case 3:I<this._mpegAudioL1BitRateTable.length&&(B=this._mpegAudioL1BitRateTable[I]);break}C={bitRate:B,samplingRate:F,channelCount:k,codec:D,originalCodec:D}}else C=E;return C},v.prototype._parseVideoData=function(_,y,b,w,E){if(b<=1){l.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var C=new Uint8Array(_,y,b)[0],T=(C&240)>>>4,A=C&15;if(A!==7){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+A);return}this._parseAVCVideoPacket(_,y+1,b-1,w,E,T)}},v.prototype._parseAVCVideoPacket=function(_,y,b,w,E,C){if(b<4){l.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var T=this._littleEndian,A=new DataView(_,y,b),I=A.getUint8(0),O=A.getUint32(0,!T)&16777215,P=O<<8>>8;if(I===0)this._parseAVCDecoderConfigurationRecord(_,y+4,b-4);else if(I===1)this._parseAVCVideoData(_,y+4,b-4,w,E,C,P);else if(I!==2){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid video packet type "+I);return}},v.prototype._parseAVCDecoderConfigurationRecord=function(_,y,b){if(b<7){l.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var w=this._videoMetadata,E=this._videoTrack,C=this._littleEndian,T=new DataView(_,y,b);w?typeof w.avcc<"u"&&l.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),w=this._videoMetadata={},w.type="video",w.id=E.id,w.timescale=this._timescale,w.duration=this._duration);var A=T.getUint8(0),I=T.getUint8(1);if(T.getUint8(2),T.getUint8(3),A!==1||I===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(T.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(h.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var O=T.getUint8(5)&31;if(O===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else O>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+O);for(var P=6,k=0;k<O;k++){var F=T.getUint16(P,!C);if(P+=2,F!==0){var B=new Uint8Array(_,y+P,F);P+=F;var D=f.default.parseSPS(B);if(k===0){w.codecWidth=D.codec_size.width,w.codecHeight=D.codec_size.height,w.presentWidth=D.present_size.width,w.presentHeight=D.present_size.height,w.profile=D.profile_string,w.level=D.level_string,w.bitDepth=D.bit_depth,w.chromaFormat=D.chroma_format,w.sarRatio=D.sar_ratio,w.frameRate=D.frame_rate,(D.frame_rate.fixed===!1||D.frame_rate.fps_num===0||D.frame_rate.fps_den===0)&&(w.frameRate=this._referenceFrameRate);var z=w.frameRate.fps_den,ee=w.frameRate.fps_num;w.refSampleDuration=w.timescale*(z/ee);for(var te=B.subarray(1,4),Y="avc1.",U=0;U<3;U++){var X=te[U].toString(16);X.length<2&&(X="0"+X),Y+=X}w.codec=Y;var j=this._mediaInfo;j.width=w.codecWidth,j.height=w.codecHeight,j.fps=w.frameRate.fps,j.profile=w.profile,j.level=w.level,j.refFrames=D.ref_frames,j.chromaFormat=D.chroma_format_string,j.sarNum=w.sarRatio.width,j.sarDen=w.sarRatio.height,j.videoCodec=Y,j.hasAudio?j.audioCodec!=null&&(j.mimeType='video/x-flv; codecs="'+j.videoCodec+","+j.audioCodec+'"'):j.mimeType='video/x-flv; codecs="'+j.videoCodec+'"',j.isComplete()&&this._onMediaInfo(j)}}}var G=T.getUint8(P);if(G===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else G>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+G);P++;for(var k=0;k<G;k++){var F=T.getUint16(P,!C);P+=2,F!==0&&(P+=F)}w.avcc=new Uint8Array(b),w.avcc.set(new Uint8Array(_,y,b),0),l.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",w)},v.prototype._parseAVCVideoData=function(_,y,b,w,E,C,T){for(var A=this._littleEndian,I=new DataView(_,y,b),O=[],P=0,k=0,F=this._naluLengthSize,B=this._timestampBase+w,D=C===1;k<b;){if(k+4>=b){l.default.w(this.TAG,"Malformed Nalu near timestamp "+B+", offset = "+k+", dataSize = "+b);break}var z=I.getUint32(k,!A);if(F===3&&(z>>>=8),z>b-F){l.default.w(this.TAG,"Malformed Nalus near timestamp "+B+", NaluSize > DataSize!");return}var ee=I.getUint8(k+F)&31;ee===5&&(D=!0);var te=new Uint8Array(_,y+k,F+z),Y={type:ee,data:te};O.push(Y),P+=te.byteLength,k+=F+z}if(O.length){var U=this._videoTrack,X={units:O,length:P,isKeyframe:D,dts:B,cts:T,pts:B+T};D&&(X.fileposition=E),U.samples.push(X),U.length+=P}},v}();s.default=m},"./src/demux/sps-parser.js":function(o,s,c){c.r(s);var l=c("./src/demux/exp-golomb.js"),u=function(){function f(){}return f._ebsp2rbsp=function(h){for(var p=h,d=p.byteLength,g=new Uint8Array(d),m=0,v=0;v<d;v++)v>=2&&p[v]===3&&p[v-1]===0&&p[v-2]===0||(g[m]=p[v],m++);return new Uint8Array(g.buffer,0,m)},f.parseSPS=function(h){var p=f._ebsp2rbsp(h),d=new l.default(p);d.readByte();var g=d.readByte();d.readByte();var m=d.readByte();d.readUEG();var v=f.getProfileString(g),_=f.getLevelString(m),y=1,b=420,w=[0,420,422,444],E=8;if((g===100||g===110||g===122||g===244||g===44||g===83||g===86||g===118||g===128||g===138||g===144)&&(y=d.readUEG(),y===3&&d.readBits(1),y<=3&&(b=w[y]),E=d.readUEG()+8,d.readUEG(),d.readBits(1),d.readBool()))for(var C=y!==3?8:12,T=0;T<C;T++)d.readBool()&&(T<6?f._skipScalingList(d,16):f._skipScalingList(d,64));d.readUEG();var A=d.readUEG();if(A===0)d.readUEG();else if(A===1){d.readBits(1),d.readSEG(),d.readSEG();for(var I=d.readUEG(),T=0;T<I;T++)d.readSEG()}var O=d.readUEG();d.readBits(1);var P=d.readUEG(),k=d.readUEG(),F=d.readBits(1);F===0&&d.readBits(1),d.readBits(1);var B=0,D=0,z=0,ee=0,te=d.readBool();te&&(B=d.readUEG(),D=d.readUEG(),z=d.readUEG(),ee=d.readUEG());var Y=1,U=1,X=0,j=!0,G=0,ne=0,ae=d.readBool();if(ae){if(d.readBool()){var pe=d.readByte(),se=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],_e=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];pe>0&&pe<16?(Y=se[pe-1],U=_e[pe-1]):pe===255&&(Y=d.readByte()<<8|d.readByte(),U=d.readByte()<<8|d.readByte())}if(d.readBool()&&d.readBool(),d.readBool()&&(d.readBits(4),d.readBool()&&d.readBits(24)),d.readBool()&&(d.readUEG(),d.readUEG()),d.readBool()){var Me=d.readBits(32),Pe=d.readBits(32);j=d.readBool(),G=Pe,ne=Me*2,X=G/ne}}var Ee=1;(Y!==1||U!==1)&&(Ee=Y/U);var Se=0,Ge=0;if(y===0)Se=1,Ge=2-F;else{var Ye=y===3?1:2,Ve=y===1?2:1;Se=Ye,Ge=Ve*(2-F)}var Xe=(P+1)*16,Ke=(2-F)*((k+1)*16);Xe-=(B+D)*Se,Ke-=(z+ee)*Ge;var wt=Math.ceil(Xe*Ee);return d.destroy(),d=null,{profile_string:v,level_string:_,bit_depth:E,ref_frames:O,chroma_format:b,chroma_format_string:f.getChromaFormatString(b),frame_rate:{fixed:j,fps:X,fps_den:ne,fps_num:G},sar_ratio:{width:Y,height:U},codec_size:{width:Xe,height:Ke},present_size:{width:wt,height:Ke}}},f._skipScalingList=function(h,p){for(var d=8,g=8,m=0,v=0;v<p;v++)g!==0&&(m=h.readSEG(),g=(d+m+256)%256),d=g===0?d:g},f.getProfileString=function(h){switch(h){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},f.getLevelString=function(h){return(h/10).toFixed(1)},f.getChromaFormatString=function(h){switch(h){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},f}();s.default=u},"./src/flv.js":function(o,s,c){c.r(s);var l=c("./src/utils/polyfill.js"),u=c("./src/core/features.js"),f=c("./src/io/loader.js"),h=c("./src/player/flv-player.js"),p=c("./src/player/native-player.js"),d=c("./src/player/player-events.js"),g=c("./src/player/player-errors.js"),m=c("./src/utils/logging-control.js"),v=c("./src/utils/exception.js");l.default.install();function _(E,C){var T=E;if(T==null||typeof T!="object")throw new v.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!T.hasOwnProperty("type"))throw new v.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(T.type){case"flv":return new h.default(T,C);default:return new p.default(T,C)}}function y(){return u.default.supportMSEH264Playback()}function b(){return u.default.getFeatureList()}var w={};w.createPlayer=_,w.isSupported=y,w.getFeatureList=b,w.BaseLoader=f.BaseLoader,w.LoaderStatus=f.LoaderStatus,w.LoaderErrors=f.LoaderErrors,w.Events=d.default,w.ErrorTypes=g.ErrorTypes,w.ErrorDetails=g.ErrorDetails,w.FlvPlayer=h.default,w.NativePlayer=p.default,w.LoggingControl=m.default,Object.defineProperty(w,"version",{enumerable:!0,get:function(){return"1.6.2"}}),s.default=w},"./src/index.js":function(o,s,c){o.exports=c("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/browser.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var d=function(g,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(v[y]=_[y])},d(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),p=function(d){h(g,d);function g(m,v){var _=d.call(this,"fetch-stream-loader")||this;return _.TAG="FetchStreamLoader",_._seekHandler=m,_._config=v,_._needStash=!0,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return g.isSupported=function(){try{var m=l.default.msedge&&l.default.version.minor>=15048,v=l.default.msedge?m:!0;return self.fetch&&self.ReadableStream&&v}catch{return!1}},g.prototype.destroy=function(){this.isWorking()&&this.abort(),d.prototype.destroy.call(this)},g.prototype.open=function(m,v){var _=this;this._dataSource=m,this._range=v;var y=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(y=m.redirectedURL);var b=this._seekHandler.getConfig(y,v),w=new self.Headers;if(typeof b.headers=="object"){var E=b.headers;for(var C in E)E.hasOwnProperty(C)&&w.append(C,E[C])}var T={method:"GET",headers:w,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var C in this._config.headers)w.append(C,this._config.headers[C]);m.cors===!1&&(T.mode="same-origin"),m.withCredentials&&(T.credentials="include"),m.referrerPolicy&&(T.referrerPolicy=m.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,T.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(b.url,T).then(function(A){if(_._requestAbort){_._status=u.LoaderStatus.kIdle,A.body.cancel();return}if(A.ok&&A.status>=200&&A.status<=299){if(A.url!==b.url&&_._onURLRedirect){var I=_._seekHandler.removeURLParameters(A.url);_._onURLRedirect(I)}var O=A.headers.get("Content-Length");return O!=null&&(_._contentLength=parseInt(O),_._contentLength!==0&&_._onContentLengthKnown&&_._onContentLengthKnown(_._contentLength)),_._pump.call(_,A.body.getReader())}else if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:A.status,msg:A.statusText});else throw new f.RuntimeException("FetchStreamLoader: Http code invalid, "+A.status+" "+A.statusText)}).catch(function(A){if(!(_._abortController&&_._abortController.signal.aborted))if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:A.message});else throw A})},g.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!l.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},g.prototype._pump=function(m){var v=this;return m.read().then(function(_){if(_.done)if(v._contentLength!==null&&v._receivedLength<v._contentLength){v._status=u.LoaderStatus.kError;var y=u.LoaderErrors.EARLY_EOF,b={code:-1,msg:"Fetch stream meet Early-EOF"};if(v._onError)v._onError(y,b);else throw new f.RuntimeException(b.msg)}else v._status=u.LoaderStatus.kComplete,v._onComplete&&v._onComplete(v._range.from,v._range.from+v._receivedLength-1);else{if(v._abortController&&v._abortController.signal.aborted){v._status=u.LoaderStatus.kComplete;return}else if(v._requestAbort===!0)return v._status=u.LoaderStatus.kComplete,m.cancel();v._status=u.LoaderStatus.kBuffering;var w=_.value.buffer,E=v._range.from+v._receivedLength;v._receivedLength+=w.byteLength,v._onDataArrival&&v._onDataArrival(w,E,v._receivedLength),v._pump(m)}}).catch(function(_){if(v._abortController&&v._abortController.signal.aborted){v._status=u.LoaderStatus.kComplete;return}if(!(_.code===11&&l.default.msedge)){v._status=u.LoaderStatus.kError;var y=0,b=null;if((_.code===19||_.message==="network error")&&(v._contentLength===null||v._contentLength!==null&&v._receivedLength<v._contentLength)?(y=u.LoaderErrors.EARLY_EOF,b={code:_.code,msg:"Fetch stream meet Early-EOF"}):(y=u.LoaderErrors.EXCEPTION,b={code:_.code,msg:_.message}),v._onError)v._onError(y,b);else throw new f.RuntimeException(b.msg)}})},g}(u.BaseLoader);s.default=p},"./src/io/io-controller.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/io/fetch-stream-loader.js"),p=c("./src/io/xhr-moz-chunked-loader.js"),d=c("./src/io/xhr-range-loader.js"),g=c("./src/io/websocket-loader.js"),m=c("./src/io/range-seek-handler.js"),v=c("./src/io/param-seek-handler.js"),_=c("./src/utils/exception.js"),y=function(){function b(w,E,C){this.TAG="IOController",this._config=E,this._extraData=C,this._stashInitialSize=1024*384,E.stashInitialSize!=null&&E.stashInitialSize>0&&(this._stashInitialSize=E.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,E.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=w,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(w.url),this._refTotalLength=w.filesize?w.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return b.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},b.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},b.prototype.isPaused=function(){return this._paused},Object.defineProperty(b.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"extraData",{get:function(){return this._extraData},set:function(w){this._extraData=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(w){this._onDataArrival=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(w){this._onSeeked=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onError",{get:function(){return this._onError},set:function(w){this._onError=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onComplete",{get:function(){return this._onComplete},set:function(w){this._onComplete=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(w){this._onRedirect=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(w){this._onRecoveredEarlyEof=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentSpeed",{get:function(){return this._loaderClass===d.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),b.prototype._selectSeekHandler=function(){var w=this._config;if(w.seekType==="range")this._seekHandler=new m.default(this._config.rangeLoadZeroStart);else if(w.seekType==="param"){var E=w.seekParamStart||"bstart",C=w.seekParamEnd||"bend";this._seekHandler=new v.default(E,C)}else if(w.seekType==="custom"){if(typeof w.customSeekHandler!="function")throw new _.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new w.customSeekHandler}else throw new _.InvalidArgumentException("Invalid seekType in config: "+w.seekType)},b.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=g.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(p.default.isSupported())this._loaderClass=p.default;else if(d.default.isSupported())this._loaderClass=d.default;else throw new _.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},b.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},b.prototype.open=function(w){this._currentRange={from:0,to:-1},w&&(this._currentRange.from=w),this._speedSampler.reset(),w||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},b.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},b.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},b.prototype.resume=function(){if(this._paused){this._paused=!1;var w=this._resumeFrom;this._resumeFrom=0,this._internalSeek(w,!0)}},b.prototype.seek=function(w){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(w,!0)},b.prototype._internalSeek=function(w,E){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(E),this._loader.destroy(),this._loader=null;var C={from:w,to:-1};this._currentRange={from:C.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,C),this._onSeeked&&this._onSeeked()},b.prototype.updateUrl=function(w){if(!w||typeof w!="string"||w.length===0)throw new _.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=w},b.prototype._expandBuffer=function(w){for(var E=this._stashSize;E+1024*1024*1<w;)E*=2;if(E+=1024*1024*1,E!==this._bufferSize){var C=new ArrayBuffer(E);if(this._stashUsed>0){var T=new Uint8Array(this._stashBuffer,0,this._stashUsed),A=new Uint8Array(C,0,E);A.set(T,0)}this._stashBuffer=C,this._bufferSize=E}},b.prototype._normalizeSpeed=function(w){var E=this._speedNormalizeList,C=E.length-1,T=0,A=0,I=C;if(w<E[0])return E[0];for(;A<=I;){if(T=A+Math.floor((I-A)/2),T===C||w>=E[T]&&w<E[T+1])return E[T];E[T]<w?A=T+1:I=T-1}},b.prototype._adjustStashSize=function(w){var E=0;this._config.isLive||w<512?E=w:w>=512&&w<=1024?E=Math.floor(w*1.5):E=w*2,E>8192&&(E=8192);var C=E*1024+1024*1024*1;this._bufferSize<C&&this._expandBuffer(C),this._stashSize=E*1024},b.prototype._dispatchChunks=function(w,E){return this._currentRange.to=E+w.byteLength-1,this._onDataArrival(w,E)},b.prototype._onURLRedirect=function(w){this._redirectedURL=w,this._onRedirect&&this._onRedirect(w)},b.prototype._onContentLengthKnown=function(w){w&&this._fullRequestFlag&&(this._totalLength=w,this._fullRequestFlag=!1)},b.prototype._onLoaderChunkArrival=function(w,E,C){if(!this._onDataArrival)throw new _.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(w.byteLength);var T=this._speedSampler.lastSecondKBps;if(T!==0){var A=this._normalizeSpeed(T);this._speedNormalized!==A&&(this._speedNormalized=A,this._adjustStashSize(A))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=E),this._stashUsed+w.byteLength<=this._stashSize){var P=new Uint8Array(this._stashBuffer,0,this._stashSize);P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength}else{var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var F=this._stashBuffer.slice(0,this._stashUsed),I=this._dispatchChunks(F,this._stashByteStart);if(I<F.byteLength){if(I>0){var k=new Uint8Array(F,I);P.set(k,0),this._stashUsed=k.byteLength,this._stashByteStart+=I}}else this._stashUsed=0,this._stashByteStart+=I;this._stashUsed+w.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+w.byteLength),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength}else{var I=this._dispatchChunks(w,E);if(I<w.byteLength){var O=w.byteLength-I;O>this._bufferSize&&(this._expandBuffer(O),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(w,I),0),this._stashUsed+=O,this._stashByteStart=E+I}}}else if(this._stashUsed===0){var I=this._dispatchChunks(w,E);if(I<w.byteLength){var O=w.byteLength-I;O>this._bufferSize&&this._expandBuffer(O);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(w,I),0),this._stashUsed+=O,this._stashByteStart=E+I}}else{this._stashUsed+w.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+w.byteLength);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength;var I=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(I<this._stashUsed&&I>0){var k=new Uint8Array(this._stashBuffer,I);P.set(k,0)}this._stashUsed-=I,this._stashByteStart+=I}}},b.prototype._flushStashBuffer=function(w){if(this._stashUsed>0){var E=this._stashBuffer.slice(0,this._stashUsed),C=this._dispatchChunks(E,this._stashByteStart),T=E.byteLength-C;if(C<E.byteLength)if(w)l.default.w(this.TAG,T+" bytes unconsumed data remain when flush buffer, dropped");else{if(C>0){var A=new Uint8Array(this._stashBuffer,0,this._bufferSize),I=new Uint8Array(E,C);A.set(I,0),this._stashUsed=I.byteLength,this._stashByteStart+=C}return 0}return this._stashUsed=0,this._stashByteStart=0,T}return 0},b.prototype._onLoaderComplete=function(w,E){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},b.prototype._onLoaderError=function(w,E){switch(l.default.e(this.TAG,"Loader error, code = "+E.code+", msg = "+E.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,w=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF),w){case f.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var C=this._currentRange.to+1;C<this._totalLength&&(l.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(C,!1));return}w=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case f.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case f.LoaderErrors.CONNECTING_TIMEOUT:case f.LoaderErrors.HTTP_STATUS_CODE_INVALID:case f.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(w,E);else throw new _.RuntimeException("IOException: "+E.msg)},b}();s.default=y},"./src/io/loader.js":function(o,s,c){c.r(s),c.d(s,{LoaderStatus:function(){return u},LoaderErrors:function(){return f},BaseLoader:function(){return h}});var l=c("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},f={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},h=function(){function p(d){this._type=d||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return p.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},p.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(d){this._onContentLengthKnown=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(d){this._onURLRedirect=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(d){this._onDataArrival=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(d){this._onError=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onComplete",{get:function(){return this._onComplete},set:function(d){this._onComplete=d},enumerable:!1,configurable:!0}),p.prototype.open=function(d,g){throw new l.NotImplementedException("Unimplemented abstract function!")},p.prototype.abort=function(){throw new l.NotImplementedException("Unimplemented abstract function!")},p}()},"./src/io/param-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f,h){this._startName=f,this._endName=h}return u.prototype.getConfig=function(f,h){var p=f;if(h.from!==0||h.to!==-1){var d=!0;p.indexOf("?")===-1&&(p+="?",d=!1),d&&(p+="&"),p+=this._startName+"="+h.from.toString(),h.to!==-1&&(p+="&"+this._endName+"="+h.to.toString())}return{url:p,headers:{}}},u.prototype.removeURLParameters=function(f){var h=f.split("?")[0],p=void 0,d=f.indexOf("?");d!==-1&&(p=f.substring(d+1));var g="";if(p!=null&&p.length>0)for(var m=p.split("&"),v=0;v<m.length;v++){var _=m[v].split("="),y=v>0;_[0]!==this._startName&&_[0]!==this._endName&&(y&&(g+="&"),g+=m[v])}return g.length===0?h:h+"?"+g},u}();s.default=l},"./src/io/range-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f){this._zeroStart=f||!1}return u.prototype.getConfig=function(f,h){var p={};if(h.from!==0||h.to!==-1){var d=void 0;h.to!==-1?d="bytes="+h.from.toString()+"-"+h.to.toString():d="bytes="+h.from.toString()+"-",p.Range=d}else this._zeroStart&&(p.Range="bytes=0-");return{url:f,headers:p}},u.prototype.removeURLParameters=function(f){return f},u}();s.default=l},"./src/io/speed-sampler.js":function(o,s,c){c.r(s);var l=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(f){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=f,this._totalBytes+=f):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=f,this._totalBytes+=f):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=f,this._totalBytes+=f,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var f=(this._now()-this._lastCheckpoint)/1e3;return f==0&&(f=1),this._intervalBytes/f/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var f=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/f/1024},enumerable:!1,configurable:!0}),u}();s.default=l},"./src/io/websocket-loader.js":function(o,s,c){c.r(s);var l=c("./src/io/loader.js"),u=c("./src/utils/exception.js"),f=function(){var p=function(d,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(m[_]=v[_])},p(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(d,g);function m(){this.constructor=d}d.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),h=function(p){f(d,p);function d(){var g=p.call(this,"websocket-loader")||this;return g.TAG="WebSocketLoader",g._needStash=!0,g._ws=null,g._requestAbort=!1,g._receivedLength=0,g}return d.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},d.prototype.destroy=function(){this._ws&&this.abort(),p.prototype.destroy.call(this)},d.prototype.open=function(g){try{var m=this._ws=new self.WebSocket(g.url);m.binaryType="arraybuffer",m.onopen=this._onWebSocketOpen.bind(this),m.onclose=this._onWebSocketClose.bind(this),m.onmessage=this._onWebSocketMessage.bind(this),m.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(_){this._status=l.LoaderStatus.kError;var v={code:_.code,msg:_.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,v);else throw new u.RuntimeException(v.msg)}},d.prototype.abort=function(){var g=this._ws;g&&(g.readyState===0||g.readyState===1)&&(this._requestAbort=!0,g.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},d.prototype._onWebSocketOpen=function(g){this._status=l.LoaderStatus.kBuffering},d.prototype._onWebSocketClose=function(g){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},d.prototype._onWebSocketMessage=function(g){var m=this;if(g.data instanceof ArrayBuffer)this._dispatchArrayBuffer(g.data);else if(g.data instanceof Blob){var v=new FileReader;v.onload=function(){m._dispatchArrayBuffer(v.result)},v.readAsArrayBuffer(g.data)}else{this._status=l.LoaderStatus.kError;var _={code:-1,msg:"Unsupported WebSocket message type: "+g.data.constructor.name};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)}},d.prototype._dispatchArrayBuffer=function(g){var m=g,v=this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,v,this._receivedLength)},d.prototype._onWebSocketError=function(g){this._status=l.LoaderStatus.kError;var m={code:g.code,msg:g.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,m);else throw new u.RuntimeException(m.msg)},d}(l.BaseLoader);s.default=h},"./src/io/xhr-moz-chunked-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var d=function(g,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(v[y]=_[y])},d(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),p=function(d){h(g,d);function g(m,v){var _=d.call(this,"xhr-moz-chunked-loader")||this;return _.TAG="MozChunkedLoader",_._seekHandler=m,_._config=v,_._needStash=!0,_._xhr=null,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return g.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="moz-chunked-arraybuffer",m.responseType==="moz-chunked-arraybuffer"}catch(v){return l.default.w("MozChunkedLoader",v.message),!1}},g.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),d.prototype.destroy.call(this)},g.prototype.open=function(m,v){this._dataSource=m,this._range=v;var _=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(_=m.redirectedURL);var y=this._seekHandler.getConfig(_,v);this._requestURL=y.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",y.url,!0),b.responseType="moz-chunked-arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onloadend=this._onLoadEnd.bind(this),b.onerror=this._onXhrError.bind(this),m.withCredentials&&(b.withCredentials=!0),typeof y.headers=="object"){var w=y.headers;for(var E in w)w.hasOwnProperty(E)&&b.setRequestHeader(E,w[E])}if(typeof this._config.headers=="object"){var w=this._config.headers;for(var E in w)w.hasOwnProperty(E)&&b.setRequestHeader(E,w[E])}this._status=u.LoaderStatus.kConnecting,b.send()},g.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},g.prototype._onReadyStateChange=function(m){var v=m.target;if(v.readyState===2){if(v.responseURL!=null&&v.responseURL!==this._requestURL&&this._onURLRedirect){var _=this._seekHandler.removeURLParameters(v.responseURL);this._onURLRedirect(_)}if(v.status!==0&&(v.status<200||v.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:v.status,msg:v.statusText});else throw new f.RuntimeException("MozChunkedLoader: Http code invalid, "+v.status+" "+v.statusText);else this._status=u.LoaderStatus.kBuffering}},g.prototype._onProgress=function(m){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&m.total!==null&&m.total!==0&&(this._contentLength=m.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var v=m.target.response,_=this._range.from+this._receivedLength;this._receivedLength+=v.byteLength,this._onDataArrival&&this._onDataArrival(v,_,this._receivedLength)}},g.prototype._onLoadEnd=function(m){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},g.prototype._onXhrError=function(m){this._status=u.LoaderStatus.kError;var v=0,_=null;if(this._contentLength&&m.loaded<this._contentLength?(v=u.LoaderErrors.EARLY_EOF,_={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(v=u.LoaderErrors.EXCEPTION,_={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(v,_);else throw new f.RuntimeException(_.msg)},g}(u.BaseLoader);s.default=p},"./src/io/xhr-range-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/utils/exception.js"),p=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,y){_.__proto__=y}||function(_,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(_[b]=y[b])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function _(){this.constructor=m}m.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}(),d=function(g){p(m,g);function m(v,_){var y=g.call(this,"xhr-range-loader")||this;return y.TAG="RangeLoader",y._seekHandler=v,y._config=_,y._needStash=!1,y._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],y._currentChunkSizeKB=384,y._currentSpeedNormalized=0,y._zeroSpeedChunkCount=0,y._xhr=null,y._speedSampler=new u.default,y._requestAbort=!1,y._waitForTotalLength=!1,y._totalLengthReceived=!1,y._currentRequestURL=null,y._currentRedirectedURL=null,y._currentRequestRange=null,y._totalLength=null,y._contentLength=null,y._receivedLength=0,y._lastTimeLoaded=0,y}return m.isSupported=function(){try{var v=new XMLHttpRequest;return v.open("GET","https://example.com",!0),v.responseType="arraybuffer",v.responseType==="arraybuffer"}catch(_){return l.default.w("RangeLoader",_.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),g.prototype.destroy.call(this)},Object.defineProperty(m.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),m.prototype.open=function(v,_){this._dataSource=v,this._range=_,this._status=f.LoaderStatus.kConnecting;var y=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(y=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!y?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},m.prototype._openSubRange=function(){var v=this._currentChunkSizeKB*1024,_=this._range.from+this._receivedLength,y=_+v;this._contentLength!=null&&y-this._range.from>=this._contentLength&&(y=this._range.from+this._contentLength-1),this._currentRequestRange={from:_,to:y},this._internalOpen(this._dataSource,this._currentRequestRange)},m.prototype._internalOpen=function(v,_){this._lastTimeLoaded=0;var y=v.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?y=this._currentRedirectedURL:v.redirectedURL!=null&&(y=v.redirectedURL));var b=this._seekHandler.getConfig(y,_);this._currentRequestURL=b.url;var w=this._xhr=new XMLHttpRequest;if(w.open("GET",b.url,!0),w.responseType="arraybuffer",w.onreadystatechange=this._onReadyStateChange.bind(this),w.onprogress=this._onProgress.bind(this),w.onload=this._onLoad.bind(this),w.onerror=this._onXhrError.bind(this),v.withCredentials&&(w.withCredentials=!0),typeof b.headers=="object"){var E=b.headers;for(var C in E)E.hasOwnProperty(C)&&w.setRequestHeader(C,E[C])}if(typeof this._config.headers=="object"){var E=this._config.headers;for(var C in E)E.hasOwnProperty(C)&&w.setRequestHeader(C,E[C])}w.send()},m.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=f.LoaderStatus.kComplete},m.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},m.prototype._onReadyStateChange=function(v){var _=v.target;if(_.readyState===2){if(_.responseURL!=null){var y=this._seekHandler.removeURLParameters(_.responseURL);_.responseURL!==this._currentRequestURL&&y!==this._currentRedirectedURL&&(this._currentRedirectedURL=y,this._onURLRedirect&&this._onURLRedirect(y))}if(_.status>=200&&_.status<=299){if(this._waitForTotalLength)return;this._status=f.LoaderStatus.kBuffering}else if(this._status=f.LoaderStatus.kError,this._onError)this._onError(f.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:_.status,msg:_.statusText});else throw new h.RuntimeException("RangeLoader: Http code invalid, "+_.status+" "+_.statusText)}},m.prototype._onProgress=function(v){if(this._status!==f.LoaderStatus.kError){if(this._contentLength===null){var _=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,_=!0;var y=v.total;this._internalAbort(),y!=null&y!==0&&(this._totalLength=y)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,_){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var b=v.loaded-this._lastTimeLoaded;this._lastTimeLoaded=v.loaded,this._speedSampler.addBytes(b)}},m.prototype._normalizeSpeed=function(v){var _=this._chunkSizeKBList,y=_.length-1,b=0,w=0,E=y;if(v<_[0])return _[0];for(;w<=E;){if(b=w+Math.floor((E-w)/2),b===y||v>=_[b]&&v<_[b+1])return _[b];_[b]<v?w=b+1:E=b-1}},m.prototype._onLoad=function(v){if(this._status!==f.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var _=this._speedSampler.lastSecondKBps;if(_===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(_=this._speedSampler.currentKBps)),_!==0){var y=this._normalizeSpeed(_);this._currentSpeedNormalized!==y&&(this._currentSpeedNormalized=y,this._currentChunkSizeKB=y)}var b=v.target.response,w=this._range.from+this._receivedLength;this._receivedLength+=b.byteLength;var E=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():E=!0,this._onDataArrival&&this._onDataArrival(b,w,this._receivedLength),E&&(this._status=f.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},m.prototype._onXhrError=function(v){this._status=f.LoaderStatus.kError;var _=0,y=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(_=f.LoaderErrors.EARLY_EOF,y={code:-1,msg:"RangeLoader meet Early-Eof"}):(_=f.LoaderErrors.EXCEPTION,y={code:-1,msg:v.constructor.name+" "+v.type}),this._onError)this._onError(_,y);else throw new h.RuntimeException(y.msg)},m}(f.BaseLoader);s.default=d},"./src/player/flv-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/player/player-events.js"),d=c("./src/core/transmuxer.js"),g=c("./src/core/transmuxing-events.js"),m=c("./src/core/mse-controller.js"),v=c("./src/core/mse-events.js"),_=c("./src/player/player-errors.js"),y=c("./src/config.js"),b=c("./src/utils/exception.js"),w=function(){function E(C,T){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,y.createDefaultConfig)(),typeof T=="object"&&Object.assign(this._config,T),C.type.toLowerCase()!=="flv")throw new b.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");C.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=C,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var A=h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(A||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return E.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},E.prototype.on=function(C,T){var A=this;C===p.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){A._emitter.emit(p.default.MEDIA_INFO,A.mediaInfo)}):C===p.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){A._emitter.emit(p.default.STATISTICS_INFO,A.statisticsInfo)}),this._emitter.addListener(C,T)},E.prototype.off=function(C,T){this._emitter.removeListener(C,T)},E.prototype.attachMediaElement=function(C){var T=this;if(this._mediaElement=C,C.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),C.addEventListener("seeking",this.e.onvSeeking),C.addEventListener("canplay",this.e.onvCanPlay),C.addEventListener("stalled",this.e.onvStalled),C.addEventListener("progress",this.e.onvProgress),this._msectl=new m.default(this._config),this._msectl.on(v.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(v.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(v.default.SOURCE_OPEN,function(){T._mseSourceOpened=!0,T._hasPendingLoad&&(T._hasPendingLoad=!1,T.load())}),this._msectl.on(v.default.ERROR,function(A){T._emitter.emit(p.default.ERROR,_.ErrorTypes.MEDIA_ERROR,_.ErrorDetails.MEDIA_MSE_ERROR,A)}),this._msectl.attachMediaElement(C),this._pendingSeekTime!=null)try{C.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},E.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},E.prototype.load=function(){var C=this;if(!this._mediaElement)throw new b.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new b.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new d.default(this._mediaDataSource,this._config),this._transmuxer.on(g.default.INIT_SEGMENT,function(T,A){C._msectl.appendInitSegment(A)}),this._transmuxer.on(g.default.MEDIA_SEGMENT,function(T,A){if(C._msectl.appendMediaSegment(A),C._config.lazyLoad&&!C._config.isLive){var I=C._mediaElement.currentTime;A.info.endDts>=(I+C._config.lazyLoadMaxDuration)*1e3&&C._progressChecker==null&&(f.default.v(C.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),C._suspendTransmuxer())}}),this._transmuxer.on(g.default.LOADING_COMPLETE,function(){C._msectl.endOfStream(),C._emitter.emit(p.default.LOADING_COMPLETE)}),this._transmuxer.on(g.default.RECOVERED_EARLY_EOF,function(){C._emitter.emit(p.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(g.default.IO_ERROR,function(T,A){C._emitter.emit(p.default.ERROR,_.ErrorTypes.NETWORK_ERROR,T,A)}),this._transmuxer.on(g.default.DEMUX_ERROR,function(T,A){C._emitter.emit(p.default.ERROR,_.ErrorTypes.MEDIA_ERROR,T,{code:-1,msg:A})}),this._transmuxer.on(g.default.MEDIA_INFO,function(T){C._mediaInfo=T,C._emitter.emit(p.default.MEDIA_INFO,Object.assign({},T))}),this._transmuxer.on(g.default.METADATA_ARRIVED,function(T){C._emitter.emit(p.default.METADATA_ARRIVED,T)}),this._transmuxer.on(g.default.SCRIPTDATA_ARRIVED,function(T){C._emitter.emit(p.default.SCRIPTDATA_ARRIVED,T)}),this._transmuxer.on(g.default.STATISTICS_INFO,function(T){C._statisticsInfo=C._fillStatisticsInfo(T),C._emitter.emit(p.default.STATISTICS_INFO,Object.assign({},C._statisticsInfo))}),this._transmuxer.on(g.default.RECOMMEND_SEEKPOINT,function(T){C._mediaElement&&!C._config.accurateSeek&&(C._requestSetTime=!0,C._mediaElement.currentTime=T/1e3)}),this._transmuxer.open()}},E.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},E.prototype.play=function(){return this._mediaElement.play()},E.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(E.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(C){this._mediaElement.volume=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(C){this._mediaElement.muted=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(C){this._mediaElement?this._internalSeek(C):this._pendingSeekTime=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),E.prototype._fillStatisticsInfo=function(C){if(C.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return C;var T=!0,A=0,I=0;if(this._mediaElement.getVideoPlaybackQuality){var O=this._mediaElement.getVideoPlaybackQuality();A=O.totalVideoFrames,I=O.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(A=this._mediaElement.webkitDecodedFrameCount,I=this._mediaElement.webkitDroppedFrameCount):T=!1;return T&&(C.decodedFrames=A,C.droppedFrames=I),C},E.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var C=this._mediaElement.buffered,T=this._mediaElement.currentTime,A=0,I=0;I<C.length;I++){var O=C.start(I),P=C.end(I);if(O<=T&&T<P){A=P;break}}A>=T+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(f.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},E.prototype._onmseBufferFull=function(){f.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},E.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},E.prototype._checkProgressAndResume=function(){for(var C=this._mediaElement.currentTime,T=this._mediaElement.buffered,A=!1,I=0;I<T.length;I++){var O=T.start(I),P=T.end(I);if(C>=O&&C<P){C>=P-this._config.lazyLoadRecoverDuration&&(A=!0);break}}A&&(window.clearInterval(this._progressChecker),this._progressChecker=null,A&&(f.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},E.prototype._isTimepointBuffered=function(C){for(var T=this._mediaElement.buffered,A=0;A<T.length;A++){var I=T.start(A),O=T.end(A);if(C>=I&&C<O)return!0}return!1},E.prototype._internalSeek=function(C){var T=this._isTimepointBuffered(C),A=!1,I=0;if(C<1&&this._mediaElement.buffered.length>0){var O=this._mediaElement.buffered.start(0);(O<1&&C<O||h.default.safari)&&(A=!0,I=h.default.safari?.1:O)}if(A)this._requestSetTime=!0,this._mediaElement.currentTime=I;else if(T){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=C;else{var P=this._msectl.getNearestKeyframe(Math.floor(C*1e3));this._requestSetTime=!0,P!=null?this._mediaElement.currentTime=P.dts/1e3:this._mediaElement.currentTime=C}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C)},E.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var C=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(C)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._checkAndResumeStuckPlayback=function(C){var T=this._mediaElement;if(C||!this._receivedCanPlay||T.readyState<2){var A=T.buffered;A.length>0&&T.currentTime<A.start(0)&&(f.default.w(this.TAG,"Playback seems stuck at "+T.currentTime+", seek to "+A.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=A.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},E.prototype._onvLoadedMetadata=function(C){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},E.prototype._onvSeeking=function(C){var T=this._mediaElement.currentTime,A=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(T<1&&A.length>0){var I=A.start(0);if(I<1&&T<I||h.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=h.default.safari?.1:I;return}}if(this._isTimepointBuffered(T)){if(this._alwaysSeekKeyframe){var O=this._msectl.getNearestKeyframe(Math.floor(T*1e3));O!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=O.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:T,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._onvCanPlay=function(C){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},E.prototype._onvStalled=function(C){this._checkAndResumeStuckPlayback(!0)},E.prototype._onvProgress=function(C){this._checkAndResumeStuckPlayback()},E}();s.default=w},"./src/player/native-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/player/player-events.js"),h=c("./src/config.js"),p=c("./src/utils/exception.js"),d=function(){function g(m,v){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,h.createDefaultConfig)(),typeof v=="object"&&Object.assign(this._config,v),m.type.toLowerCase()==="flv")throw new p.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(m.hasOwnProperty("segments"))throw new p.InvalidArgumentException("NativePlayer("+m.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=m,this._mediaElement=null}return g.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},g.prototype.on=function(m,v){var _=this;m===f.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(f.default.MEDIA_INFO,_.mediaInfo)}):m===f.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(f.default.STATISTICS_INFO,_.statisticsInfo)}),this._emitter.addListener(m,v)},g.prototype.off=function(m,v){this._emitter.removeListener(m,v)},g.prototype.attachMediaElement=function(m){if(this._mediaElement=m,m.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{m.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},g.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},g.prototype.load=function(){if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},g.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},g.prototype.play=function(){return this._mediaElement.play()},g.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(g.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(m){this._mediaElement.volume=m},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(m){this._mediaElement.muted=m},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(m){this._mediaElement?this._mediaElement.currentTime=m:this._pendingSeekTime=m},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"mediaInfo",{get:function(){var m=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",v={mimeType:m+this._mediaDataSource.type};return this._mediaElement&&(v.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(v.width=this._mediaElement.videoWidth,v.height=this._mediaElement.videoHeight)),v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"statisticsInfo",{get:function(){var m={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return m;var v=!0,_=0,y=0;if(this._mediaElement.getVideoPlaybackQuality){var b=this._mediaElement.getVideoPlaybackQuality();_=b.totalVideoFrames,y=b.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(_=this._mediaElement.webkitDecodedFrameCount,y=this._mediaElement.webkitDroppedFrameCount):v=!1;return v&&(m.decodedFrames=_,m.droppedFrames=y),m},enumerable:!1,configurable:!0}),g.prototype._onvLoadedMetadata=function(m){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(f.default.MEDIA_INFO,this.mediaInfo)},g.prototype._reportStatisticsInfo=function(){this._emitter.emit(f.default.STATISTICS_INFO,this.statisticsInfo)},g}();s.default=d},"./src/player/player-errors.js":function(o,s,c){c.r(s),c.d(s,{ErrorTypes:function(){return f},ErrorDetails:function(){return h}});var l=c("./src/io/loader.js"),u=c("./src/demux/demux-errors.js"),f={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},h={NETWORK_EXCEPTION:l.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};s.default=l},"./src/remux/aac-silent.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.getSilentFrame=function(f,h){if(f==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();s.default=l},"./src/remux/mp4-generator.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var f in u.types)u.types.hasOwnProperty(f)&&(u.types[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);var h=u.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(f){for(var h=8,p=null,d=Array.prototype.slice.call(arguments,1),g=d.length,m=0;m<g;m++)h+=d[m].byteLength;p=new Uint8Array(h),p[0]=h>>>24&255,p[1]=h>>>16&255,p[2]=h>>>8&255,p[3]=h&255,p.set(f,4);for(var v=8,m=0;m<g;m++)p.set(d[m],v),v+=d[m].byteLength;return p},u.generateInitSegment=function(f){var h=u.box(u.types.ftyp,u.constants.FTYP),p=u.moov(f),d=new Uint8Array(h.byteLength+p.byteLength);return d.set(h,0),d.set(p,h.byteLength),d},u.moov=function(f){var h=u.mvhd(f.timescale,f.duration),p=u.trak(f),d=u.mvex(f);return u.box(u.types.moov,h,p,d)},u.mvhd=function(f,h){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(f){return u.box(u.types.trak,u.tkhd(f),u.mdia(f))},u.tkhd=function(f){var h=f.id,p=f.duration,d=f.presentWidth,g=f.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>>8&255,d&255,0,0,g>>>8&255,g&255,0,0]))},u.mdia=function(f){return u.box(u.types.mdia,u.mdhd(f),u.hdlr(f),u.minf(f))},u.mdhd=function(f){var h=f.timescale,p=f.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255,85,196,0,0]))},u.hdlr=function(f){var h=null;return f.type==="audio"?h=u.constants.HDLR_AUDIO:h=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,h)},u.minf=function(f){var h=null;return f.type==="audio"?h=u.box(u.types.smhd,u.constants.SMHD):h=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,h,u.dinf(),u.stbl(f))},u.dinf=function(){var f=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return f},u.stbl=function(f){var h=u.box(u.types.stbl,u.stsd(f),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return h},u.stsd=function(f){return f.type==="audio"?f.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(f))},u.mp3=function(f){var h=f.channelCount,p=f.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types[".mp3"],d)},u.mp4a=function(f){var h=f.channelCount,p=f.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types.mp4a,d,u.esds(f))},u.esds=function(f){var h=f.config||[],p=h.length,d=new Uint8Array([0,0,0,0,3,23+p,0,1,0,4,15+p,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([p]).concat(h).concat([6,1,2]));return u.box(u.types.esds,d)},u.avc1=function(f){var h=f.avcc,p=f.codecWidth,d=f.codecHeight,g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,p>>>8&255,p&255,d>>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,g,u.box(u.types.avcC,h))},u.mvex=function(f){return u.box(u.types.mvex,u.trex(f))},u.trex=function(f){var h=f.id,p=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,p)},u.moof=function(f,h){return u.box(u.types.moof,u.mfhd(f.sequenceNumber),u.traf(f,h))},u.mfhd=function(f){var h=new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255]);return u.box(u.types.mfhd,h)},u.traf=function(f,h){var p=f.id,d=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255])),g=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),m=u.sdtp(f),v=u.trun(f,m.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,d,g,v,m)},u.sdtp=function(f){for(var h=f.samples||[],p=h.length,d=new Uint8Array(4+p),g=0;g<p;g++){var m=h[g].flags;d[g+4]=m.isLeading<<6|m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy}return u.box(u.types.sdtp,d)},u.trun=function(f,h){var p=f.samples||[],d=p.length,g=12+16*d,m=new Uint8Array(g);h+=8+g,m.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,d&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255],0);for(var v=0;v<d;v++){var _=p[v].duration,y=p[v].size,b=p[v].flags,w=p[v].cts;m.set([_>>>24&255,_>>>16&255,_>>>8&255,_&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,b.isLeading<<2|b.dependsOn,b.isDependedOn<<6|b.hasRedundancy<<4|b.isNonSync,0,0,w>>>24&255,w>>>16&255,w>>>8&255,w&255],12+16*v)}return u.box(u.types.trun,m)},u.mdat=function(f){return u.box(u.types.mdat,f)},u}();l.init(),s.default=l},"./src/remux/mp4-remuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/remux/mp4-generator.js"),f=c("./src/remux/aac-silent.js"),h=c("./src/utils/browser.js"),p=c("./src/core/media-segment-info.js"),d=c("./src/utils/exception.js"),g=function(){function m(v){this.TAG="MP4Remuxer",this._config=v,this._isLive=v.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new p.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new p.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661)),this._fillSilentAfterSeek=h.default.msedge||h.default.msie,this._mp3UseMpegAudio=!h.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return m.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},m.prototype.bindDataSource=function(v){return v.onDataAvailable=this.remux.bind(this),v.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(m.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(v){this._onInitSegment=v},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(v){this._onMediaSegment=v},enumerable:!1,configurable:!0}),m.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},m.prototype.seek=function(v){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},m.prototype.remux=function(v,_){if(!this._onMediaSegment)throw new d.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(v,_),this._remuxVideo(_),this._remuxAudio(v)},m.prototype._onTrackMetadataReceived=function(v,_){var y=null,b="mp4",w=_.codec;if(v==="audio")this._audioMeta=_,_.codec==="mp3"&&this._mp3UseMpegAudio?(b="mpeg",w="",y=new Uint8Array):y=u.default.generateInitSegment(_);else if(v==="video")this._videoMeta=_,y=u.default.generateInitSegment(_);else return;if(!this._onInitSegment)throw new d.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(v,{type:v,data:y.buffer,codec:w,container:v+"/"+b,mediaDuration:_.duration})},m.prototype._calculateDtsBase=function(v,_){this._dtsBaseInited||(v.samples&&v.samples.length&&(this._audioDtsBase=v.samples[0].dts),_.samples&&_.samples.length&&(this._videoDtsBase=_.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},m.prototype.flushStashedSamples=function(){var v=this._videoStashedLastSample,_=this._audioStashedLastSample,y={type:"video",id:1,sequenceNumber:0,samples:[],length:0};v!=null&&(y.samples.push(v),y.length=v.length);var b={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};_!=null&&(b.samples.push(_),b.length=_.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(y,!0),this._remuxAudio(b,!0)},m.prototype._remuxAudio=function(v,_){if(this._audioMeta!=null){var y=v,b=y.samples,w=void 0,E=-1,C=-1,T=this._audioMeta.refSampleDuration,A=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,I=this._dtsBaseInited&&this._audioNextDts===void 0,O=!1;if(!(!b||b.length===0)&&!(b.length===1&&!_)){var P=0,k=null,F=0;A?(P=0,F=y.length):(P=8,F=8+y.length);var B=null;if(b.length>1&&(B=b.pop(),F-=B.length),this._audioStashedLastSample!=null){var D=this._audioStashedLastSample;this._audioStashedLastSample=null,b.unshift(D),F+=D.length}B!=null&&(this._audioStashedLastSample=B);var z=b[0].dts-this._dtsBase;if(this._audioNextDts)w=z-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())w=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(O=!0);else{var ee=this._audioSegmentInfoList.getLastSampleBefore(z);if(ee!=null){var te=z-(ee.originalDts+ee.duration);te<=3&&(te=0);var Y=ee.dts+ee.duration+te;w=z-Y}else w=0}if(O){var U=z-w,X=this._videoSegmentInfoList.getLastSegmentBefore(z);if(X!=null&&X.beginDts<U){var j=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(j){var G=X.beginDts,ne=U-X.beginDts;l.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+G+", duration: "+ne),b.unshift({unit:j,dts:G,pts:G}),F+=j.byteLength}}else O=!1}for(var ae=[],pe=0;pe<b.length;pe++){var D=b[pe],se=D.unit,_e=D.dts-this._dtsBase,G=_e,Me=!1,Pe=null,Ee=0;if(!(_e<-.001)){if(this._audioMeta.codec!=="mp3"){var Se=_e,Ge=3;if(this._audioNextDts&&(Se=this._audioNextDts),w=_e-Se,w<=-Ge*T){l.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+_e+" ms ,curRefDts: "+Se+" ms)  due to dtsCorrection: "+w+" ms overlap.");continue}else if(w>=Ge*T&&this._fillAudioTimestampGap&&!h.default.safari){Me=!0;var Ye=Math.floor(w/T);l.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+_e+" ms, curRefDts: "+Se+" ms, ")+("dtsCorrection: "+Math.round(w)+" ms, generate: "+Ye+" frames")),G=Math.floor(Se),Ee=Math.floor(Se+T)-G;var j=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);j==null&&(l.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),j=se),Pe=[];for(var Ve=0;Ve<Ye;Ve++){Se=Se+T;var Xe=Math.floor(Se),Ke=Math.floor(Se+T)-Xe,wt={dts:Xe,pts:Xe,cts:0,unit:j,size:j.byteLength,duration:Ke,originalDts:_e,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Pe.push(wt),F+=wt.size}this._audioNextDts=Se+T}else G=Math.floor(Se),Ee=Math.floor(Se+T)-G,this._audioNextDts=Se+T}else{if(G=_e-w,pe!==b.length-1){var Rt=b[pe+1].dts-this._dtsBase-w;Ee=Rt-G}else if(B!=null){var Rt=B.dts-this._dtsBase-w;Ee=Rt-G}else ae.length>=1?Ee=ae[ae.length-1].duration:Ee=Math.floor(T);this._audioNextDts=G+Ee}E===-1&&(E=G),ae.push({dts:G,pts:G,cts:0,unit:D.unit,size:D.unit.byteLength,duration:Ee,originalDts:_e,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Me&&ae.push.apply(ae,Pe)}}if(ae.length===0){y.samples=[],y.length=0;return}A?k=new Uint8Array(F):(k=new Uint8Array(F),k[0]=F>>>24&255,k[1]=F>>>16&255,k[2]=F>>>8&255,k[3]=F&255,k.set(u.default.types.mdat,4));for(var pe=0;pe<ae.length;pe++){var se=ae[pe].unit;k.set(se,P),P+=se.byteLength}var ht=ae[ae.length-1];C=ht.dts+ht.duration;var gt=new p.MediaSegmentInfo;gt.beginDts=E,gt.endDts=C,gt.beginPts=E,gt.endPts=C,gt.originalBeginDts=ae[0].originalDts,gt.originalEndDts=ht.originalDts+ht.duration,gt.firstSample=new p.SampleInfo(ae[0].dts,ae[0].pts,ae[0].duration,ae[0].originalDts,!1),gt.lastSample=new p.SampleInfo(ht.dts,ht.pts,ht.duration,ht.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(gt),y.samples=ae,y.sequenceNumber++;var It=null;A?It=new Uint8Array:It=u.default.moof(y,E),y.samples=[],y.length=0;var vr={type:"audio",data:this._mergeBoxes(It,k).buffer,sampleCount:ae.length,info:gt};A&&I&&(vr.timestampOffset=E),this._onMediaSegment("audio",vr)}}},m.prototype._remuxVideo=function(v,_){if(this._videoMeta!=null){var y=v,b=y.samples,w=void 0,E=-1,C=-1,T=-1,A=-1;if(!(!b||b.length===0)&&!(b.length===1&&!_)){var I=8,O=null,P=8+v.length,k=null;if(b.length>1&&(k=b.pop(),P-=k.length),this._videoStashedLastSample!=null){var F=this._videoStashedLastSample;this._videoStashedLastSample=null,b.unshift(F),P+=F.length}k!=null&&(this._videoStashedLastSample=k);var B=b[0].dts-this._dtsBase;if(this._videoNextDts)w=B-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())w=0;else{var D=this._videoSegmentInfoList.getLastSampleBefore(B);if(D!=null){var z=B-(D.originalDts+D.duration);z<=3&&(z=0);var ee=D.dts+D.duration+z;w=B-ee}else w=0}for(var te=new p.MediaSegmentInfo,Y=[],U=0;U<b.length;U++){var F=b[U],X=F.dts-this._dtsBase,j=F.isKeyframe,G=X-w,ne=F.cts,ae=G+ne;E===-1&&(E=G,T=ae);var pe=0;if(U!==b.length-1){var se=b[U+1].dts-this._dtsBase-w;pe=se-G}else if(k!=null){var se=k.dts-this._dtsBase-w;pe=se-G}else Y.length>=1?pe=Y[Y.length-1].duration:pe=Math.floor(this._videoMeta.refSampleDuration);if(j){var _e=new p.SampleInfo(G,ae,pe,F.dts,!0);_e.fileposition=F.fileposition,te.appendSyncPoint(_e)}Y.push({dts:G,pts:ae,cts:ne,units:F.units,size:F.length,isKeyframe:j,duration:pe,originalDts:X,flags:{isLeading:0,dependsOn:j?2:1,isDependedOn:j?1:0,hasRedundancy:0,isNonSync:j?0:1}})}O=new Uint8Array(P),O[0]=P>>>24&255,O[1]=P>>>16&255,O[2]=P>>>8&255,O[3]=P&255,O.set(u.default.types.mdat,4);for(var U=0;U<Y.length;U++)for(var Me=Y[U].units;Me.length;){var Pe=Me.shift(),Ee=Pe.data;O.set(Ee,I),I+=Ee.byteLength}var Se=Y[Y.length-1];if(C=Se.dts+Se.duration,A=Se.pts+Se.duration,this._videoNextDts=C,te.beginDts=E,te.endDts=C,te.beginPts=T,te.endPts=A,te.originalBeginDts=Y[0].originalDts,te.originalEndDts=Se.originalDts+Se.duration,te.firstSample=new p.SampleInfo(Y[0].dts,Y[0].pts,Y[0].duration,Y[0].originalDts,Y[0].isKeyframe),te.lastSample=new p.SampleInfo(Se.dts,Se.pts,Se.duration,Se.originalDts,Se.isKeyframe),this._isLive||this._videoSegmentInfoList.append(te),y.samples=Y,y.sequenceNumber++,this._forceFirstIDR){var Ge=Y[0].flags;Ge.dependsOn=2,Ge.isNonSync=0}var Ye=u.default.moof(y,E);y.samples=[],y.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(Ye,O).buffer,sampleCount:Y.length,info:te})}}},m.prototype._mergeBoxes=function(v,_){var y=new Uint8Array(v.byteLength+_.byteLength);return y.set(v,0),y.set(_,v.byteLength),y},m}();s.default=g},"./src/utils/browser.js":function(o,s,c){c.r(s);var l={};function u(){var f=self.navigator.userAgent.toLowerCase(),h=/(edge)\/([\w.]+)/.exec(f)||/(opr)[\/]([\w.]+)/.exec(f)||/(chrome)[ \/]([\w.]+)/.exec(f)||/(iemobile)[\/]([\w.]+)/.exec(f)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(f)||[],p=/(ipad)/.exec(f)||/(ipod)/.exec(f)||/(windows phone)/.exec(f)||/(iphone)/.exec(f)||/(kindle)/.exec(f)||/(android)/.exec(f)||/(windows)/.exec(f)||/(mac)/.exec(f)||/(linux)/.exec(f)||/(cros)/.exec(f)||[],d={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",majorVersion:h[4]||h[2]||"0",platform:p[0]||""},g={};if(d.browser){g[d.browser]=!0;var m=d.majorVersion.split(".");g.version={major:parseInt(d.majorVersion,10),string:d.version},m.length>1&&(g.version.minor=parseInt(m[1],10)),m.length>2&&(g.version.build=parseInt(m[2],10))}if(d.platform&&(g[d.platform]=!0),(g.chrome||g.opr||g.safari)&&(g.webkit=!0),g.rv||g.iemobile){g.rv&&delete g.rv;var v="msie";d.browser=v,g[v]=!0}if(g.edge){delete g.edge;var _="msedge";d.browser=_,g[_]=!0}if(g.opr){var y="opera";d.browser=y,g[y]=!0}if(g.safari&&g.android){var b="android";d.browser=b,g[b]=!0}g.name=d.browser,g.platform=d.platform;for(var w in l)l.hasOwnProperty(w)&&delete l[w];Object.assign(l,g)}u(),s.default=l},"./src/utils/exception.js":function(o,s,c){c.r(s),c.d(s,{RuntimeException:function(){return u},IllegalStateException:function(){return f},InvalidArgumentException:function(){return h},NotImplementedException:function(){return p}});var l=function(){var d=function(g,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(v[y]=_[y])},d(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),u=function(){function d(g){this._message=g}return Object.defineProperty(d.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),d.prototype.toString=function(){return this.name+": "+this.message},d}(),f=function(d){l(g,d);function g(m){return d.call(this,m)||this}return Object.defineProperty(g.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),g}(u),h=function(d){l(g,d);function g(m){return d.call(this,m)||this}return Object.defineProperty(g.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),g}(u),p=function(d){l(g,d);function g(m){return d.call(this,m)||this}return Object.defineProperty(g.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),g}(u)},"./src/utils/logger.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=function(){function h(){}return h.e=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var g="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","error",g),h.ENABLE_ERROR&&(console.error?console.error(g):console.warn?console.warn(g):console.log(g))},h.i=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var g="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","info",g),h.ENABLE_INFO&&(console.info?console.info(g):console.log(g))},h.w=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var g="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","warn",g),h.ENABLE_WARN&&(console.warn?console.warn(g):console.log(g))},h.d=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var g="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","debug",g),h.ENABLE_DEBUG&&(console.debug?console.debug(g):console.log(g))},h.v=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var g="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","verbose",g),h.ENABLE_VERBOSE&&console.log(g)},h}();f.GLOBAL_TAG="flv.js",f.FORCE_GLOBAL_TAG=!1,f.ENABLE_ERROR=!0,f.ENABLE_INFO=!0,f.ENABLE_WARN=!0,f.ENABLE_DEBUG=!0,f.ENABLE_VERBOSE=!0,f.ENABLE_CALLBACK=!1,f.emitter=new(u()),s.default=f},"./src/utils/logging-control.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=function(){function p(){}return Object.defineProperty(p,"forceGlobalTag",{get:function(){return f.default.FORCE_GLOBAL_TAG},set:function(d){f.default.FORCE_GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"globalTag",{get:function(){return f.default.GLOBAL_TAG},set:function(d){f.default.GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableAll",{get:function(){return f.default.ENABLE_VERBOSE&&f.default.ENABLE_DEBUG&&f.default.ENABLE_INFO&&f.default.ENABLE_WARN&&f.default.ENABLE_ERROR},set:function(d){f.default.ENABLE_VERBOSE=d,f.default.ENABLE_DEBUG=d,f.default.ENABLE_INFO=d,f.default.ENABLE_WARN=d,f.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableDebug",{get:function(){return f.default.ENABLE_DEBUG},set:function(d){f.default.ENABLE_DEBUG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableVerbose",{get:function(){return f.default.ENABLE_VERBOSE},set:function(d){f.default.ENABLE_VERBOSE=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableInfo",{get:function(){return f.default.ENABLE_INFO},set:function(d){f.default.ENABLE_INFO=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableWarn",{get:function(){return f.default.ENABLE_WARN},set:function(d){f.default.ENABLE_WARN=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableError",{get:function(){return f.default.ENABLE_ERROR},set:function(d){f.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),p.getConfig=function(){return{globalTag:f.default.GLOBAL_TAG,forceGlobalTag:f.default.FORCE_GLOBAL_TAG,enableVerbose:f.default.ENABLE_VERBOSE,enableDebug:f.default.ENABLE_DEBUG,enableInfo:f.default.ENABLE_INFO,enableWarn:f.default.ENABLE_WARN,enableError:f.default.ENABLE_ERROR,enableCallback:f.default.ENABLE_CALLBACK}},p.applyConfig=function(d){f.default.GLOBAL_TAG=d.globalTag,f.default.FORCE_GLOBAL_TAG=d.forceGlobalTag,f.default.ENABLE_VERBOSE=d.enableVerbose,f.default.ENABLE_DEBUG=d.enableDebug,f.default.ENABLE_INFO=d.enableInfo,f.default.ENABLE_WARN=d.enableWarn,f.default.ENABLE_ERROR=d.enableError,f.default.ENABLE_CALLBACK=d.enableCallback},p._notifyChange=function(){var d=p.emitter;if(d.listenerCount("change")>0){var g=p.getConfig();d.emit("change",g)}},p.registerListener=function(d){p.emitter.addListener("change",d)},p.removeListener=function(d){p.emitter.removeListener("change",d)},p.addLogListener=function(d){f.default.emitter.addListener("log",d),f.default.emitter.listenerCount("log")>0&&(f.default.ENABLE_CALLBACK=!0,p._notifyChange())},p.removeLogListener=function(d){f.default.emitter.removeListener("log",d),f.default.emitter.listenerCount("log")===0&&(f.default.ENABLE_CALLBACK=!1,p._notifyChange())},p}();h.emitter=new(u()),s.default=h},"./src/utils/polyfill.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(f,h){return f.__proto__=h,f},Object.assign=Object.assign||function(f){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(f),p=1;p<arguments.length;p++){var d=arguments[p];if(d!=null)for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])}return h},typeof self.Promise!="function"&&c("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();l.install(),s.default=l},"./src/utils/utf8-conv.js":function(o,s,c){c.r(s);function l(f,h,p){var d=f;if(h+p<d.length){for(;p--;)if((d[++h]&192)!==128)return!1;return!0}else return!1}function u(f){for(var h=[],p=f,d=0,g=f.length;d<g;){if(p[d]<128){h.push(String.fromCharCode(p[d])),++d;continue}else if(!(p[d]<192)){if(p[d]<224){if(l(p,d,1)){var m=(p[d]&31)<<6|p[d+1]&63;if(m>=128){h.push(String.fromCharCode(m&65535)),d+=2;continue}}}else if(p[d]<240){if(l(p,d,2)){var m=(p[d]&15)<<12|(p[d+1]&63)<<6|p[d+2]&63;if(m>=2048&&(m&63488)!==55296){h.push(String.fromCharCode(m&65535)),d+=3;continue}}}else if(p[d]<248&&l(p,d,3)){var m=(p[d]&7)<<18|(p[d+1]&63)<<12|(p[d+2]&63)<<6|p[d+3]&63;if(m>65536&&m<1114112){m-=65536,h.push(String.fromCharCode(m>>>10|55296)),h.push(String.fromCharCode(m&1023|56320)),d+=4;continue}}}h.push(String.fromCharCode(65533)),++d}return h.join("")}s.default=u}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var c=n[o]={exports:{}};return r[o].call(c.exports,c,c.exports,i),c.exports}i.m=r,function(){i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,{a:s}),s}}(),function(){i.d=function(o,s){for(var c in s)i.o(s,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:s[c]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var a=i("./src/index.js");return a}()})})(WH);var FAe=WH.exports;const EA=Ki(FAe);var YH={exports:{}},t2={exports:{}};const NAe={},MAe=Object.freeze(Object.defineProperty({__proto__:null,default:NAe},Symbol.toStringTag,{value:"Module"})),qH=sre(MAe);var AD;function Tr(){return AD||(AD=1,function(t,e){(function(r,n){t.exports=n()})(Ct,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof Ct<"u"&&Ct.crypto&&(a=Ct.crypto),!a&&typeof Th=="function")try{a=qH}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function _(){}return function(y){var b;return _.prototype=y,b=new _,_.prototype=null,b}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(_){var y=s(this);return _&&y.mixIn(_),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var y in _)_.hasOwnProperty(y)&&(this[y]=_[y]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(_,y){_=this.words=_||[],y!=i?this.sigBytes=y:this.sigBytes=_.length*4},toString:function(_){return(_||p).stringify(this)},concat:function(_){var y=this.words,b=_.words,w=this.sigBytes,E=_.sigBytes;if(this.clamp(),w%4)for(var C=0;C<E;C++){var T=b[C>>>2]>>>24-C%4*8&255;y[w+C>>>2]|=T<<24-(w+C)%4*8}else for(var A=0;A<E;A+=4)y[w+A>>>2]=b[A>>>2];return this.sigBytes+=E,this},clamp:function(){var _=this.words,y=this.sigBytes;_[y>>>2]&=4294967295<<32-y%4*8,_.length=n.ceil(y/4)},clone:function(){var _=u.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var y=[],b=0;b<_;b+=4)y.push(o());return new f.init(y,_)}}),h=c.enc={},p=h.Hex={stringify:function(_){for(var y=_.words,b=_.sigBytes,w=[],E=0;E<b;E++){var C=y[E>>>2]>>>24-E%4*8&255;w.push((C>>>4).toString(16)),w.push((C&15).toString(16))}return w.join("")},parse:function(_){for(var y=_.length,b=[],w=0;w<y;w+=2)b[w>>>3]|=parseInt(_.substr(w,2),16)<<24-w%8*4;return new f.init(b,y/2)}},d=h.Latin1={stringify:function(_){for(var y=_.words,b=_.sigBytes,w=[],E=0;E<b;E++){var C=y[E>>>2]>>>24-E%4*8&255;w.push(String.fromCharCode(C))}return w.join("")},parse:function(_){for(var y=_.length,b=[],w=0;w<y;w++)b[w>>>2]|=(_.charCodeAt(w)&255)<<24-w%4*8;return new f.init(b,y)}},g=h.Utf8={stringify:function(_){try{return decodeURIComponent(escape(d.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return d.parse(unescape(encodeURIComponent(_)))}},m=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=g.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var y,b=this._data,w=b.words,E=b.sigBytes,C=this.blockSize,T=C*4,A=E/T;_?A=n.ceil(A):A=n.max((A|0)-this._minBufferSize,0);var I=A*C,O=n.min(I*4,E);if(I){for(var P=0;P<I;P+=C)this._doProcessBlock(w,P);y=w.splice(0,I),b.sigBytes-=O}return new f.init(y,O)},clone:function(){var _=u.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});l.Hasher=m.extend({cfg:u.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(_){return function(y,b){return new _.init(b).finalize(y)}},_createHmacHelper:function(_){return function(y,b){return new v.HMAC.init(_,b).finalize(y)}}});var v=c.algo={};return c}(Math);return r})}(t2)),t2.exports}var r2={exports:{}},ID;function bb(){return ID||(ID=1,function(t,e){(function(r,n){t.exports=n(Tr())})(Ct,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=i.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var p=l[h];f.push(p.high),f.push(p.low)}return s.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),r})}(r2)),r2.exports}var n2={exports:{}},RD;function LAe(){return RD||(RD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(Ct,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(n2)),n2.exports}var i2={exports:{}},PD;function BAe(){return PD||(PD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var p=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var p=s(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=s(c.charCodeAt(f)<<16-f%2*16);return a.create(u,l*2)}};function s(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(i2)),i2.exports}var a2={exports:{}},OD;function Tf(){return OD||(OD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],p=0;p<u;p+=3)for(var d=l[p>>>2]>>>24-p%4*8&255,g=l[p+1>>>2]>>>24-(p+1)%4*8&255,m=l[p+2>>>2]>>>24-(p+2)%4*8&255,v=d<<16|g<<8|m,_=0;_<4&&p+_*.75<u;_++)h.push(f.charAt(v>>>6*(3-_)&63));var y=f.charAt(64);if(y)for(;h.length%4;)h.push(y);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var d=c.indexOf(p);d!==-1&&(l=d)}return s(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,l,u){for(var f=[],h=0,p=0;p<l;p++)if(p%4){var d=u[c.charCodeAt(p-1)]<<p%4*2,g=u[c.charCodeAt(p)]>>>6-p%4*2,m=d|g;f[h>>>2]|=m<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64})}(a2)),a2.exports}var o2={exports:{}},kD;function DAe(){return kD||(kD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var p=[],d=0;d<f;d+=3)for(var g=u[d>>>2]>>>24-d%4*8&255,m=u[d+1>>>2]>>>24-(d+1)%4*8&255,v=u[d+2>>>2]>>>24-(d+2)%4*8&255,_=g<<16|m<<8|v,y=0;y<4&&d+y*.75<f;y++)p.push(h.charAt(_>>>6*(3-y)&63));var b=h.charAt(64);if(b)for(;p.length%4;)p.push(b);return p.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<f.length;p++)h[f.charCodeAt(p)]=p}var d=f.charAt(64);if(d){var g=c.indexOf(d);g!==-1&&(u=g)}return s(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(c,l,u){for(var f=[],h=0,p=0;p<l;p++)if(p%4){var d=u[c.charCodeAt(p-1)]<<p%4*2,g=u[c.charCodeAt(p)]>>>6-p%4*2,m=d|g;f[h>>>2]|=m<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64url})}(o2)),o2.exports}var s2={exports:{}},FD;function Af(){return FD||(FD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(Ct,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[];(function(){for(var g=0;g<64;g++)l[g]=n.abs(n.sin(g+1))*4294967296|0})();var u=c.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,m){for(var v=0;v<16;v++){var _=m+v,y=g[_];g[_]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var b=this._hash.words,w=g[m+0],E=g[m+1],C=g[m+2],T=g[m+3],A=g[m+4],I=g[m+5],O=g[m+6],P=g[m+7],k=g[m+8],F=g[m+9],B=g[m+10],D=g[m+11],z=g[m+12],ee=g[m+13],te=g[m+14],Y=g[m+15],U=b[0],X=b[1],j=b[2],G=b[3];U=f(U,X,j,G,w,7,l[0]),G=f(G,U,X,j,E,12,l[1]),j=f(j,G,U,X,C,17,l[2]),X=f(X,j,G,U,T,22,l[3]),U=f(U,X,j,G,A,7,l[4]),G=f(G,U,X,j,I,12,l[5]),j=f(j,G,U,X,O,17,l[6]),X=f(X,j,G,U,P,22,l[7]),U=f(U,X,j,G,k,7,l[8]),G=f(G,U,X,j,F,12,l[9]),j=f(j,G,U,X,B,17,l[10]),X=f(X,j,G,U,D,22,l[11]),U=f(U,X,j,G,z,7,l[12]),G=f(G,U,X,j,ee,12,l[13]),j=f(j,G,U,X,te,17,l[14]),X=f(X,j,G,U,Y,22,l[15]),U=h(U,X,j,G,E,5,l[16]),G=h(G,U,X,j,O,9,l[17]),j=h(j,G,U,X,D,14,l[18]),X=h(X,j,G,U,w,20,l[19]),U=h(U,X,j,G,I,5,l[20]),G=h(G,U,X,j,B,9,l[21]),j=h(j,G,U,X,Y,14,l[22]),X=h(X,j,G,U,A,20,l[23]),U=h(U,X,j,G,F,5,l[24]),G=h(G,U,X,j,te,9,l[25]),j=h(j,G,U,X,T,14,l[26]),X=h(X,j,G,U,k,20,l[27]),U=h(U,X,j,G,ee,5,l[28]),G=h(G,U,X,j,C,9,l[29]),j=h(j,G,U,X,P,14,l[30]),X=h(X,j,G,U,z,20,l[31]),U=p(U,X,j,G,I,4,l[32]),G=p(G,U,X,j,k,11,l[33]),j=p(j,G,U,X,D,16,l[34]),X=p(X,j,G,U,te,23,l[35]),U=p(U,X,j,G,E,4,l[36]),G=p(G,U,X,j,A,11,l[37]),j=p(j,G,U,X,P,16,l[38]),X=p(X,j,G,U,B,23,l[39]),U=p(U,X,j,G,ee,4,l[40]),G=p(G,U,X,j,w,11,l[41]),j=p(j,G,U,X,T,16,l[42]),X=p(X,j,G,U,O,23,l[43]),U=p(U,X,j,G,F,4,l[44]),G=p(G,U,X,j,z,11,l[45]),j=p(j,G,U,X,Y,16,l[46]),X=p(X,j,G,U,C,23,l[47]),U=d(U,X,j,G,w,6,l[48]),G=d(G,U,X,j,P,10,l[49]),j=d(j,G,U,X,te,15,l[50]),X=d(X,j,G,U,I,21,l[51]),U=d(U,X,j,G,z,6,l[52]),G=d(G,U,X,j,T,10,l[53]),j=d(j,G,U,X,B,15,l[54]),X=d(X,j,G,U,E,21,l[55]),U=d(U,X,j,G,k,6,l[56]),G=d(G,U,X,j,Y,10,l[57]),j=d(j,G,U,X,O,15,l[58]),X=d(X,j,G,U,ee,21,l[59]),U=d(U,X,j,G,A,6,l[60]),G=d(G,U,X,j,D,10,l[61]),j=d(j,G,U,X,C,15,l[62]),X=d(X,j,G,U,F,21,l[63]),b[0]=b[0]+U|0,b[1]=b[1]+X|0,b[2]=b[2]+j|0,b[3]=b[3]+G|0},_doFinalize:function(){var g=this._data,m=g.words,v=this._nDataBytes*8,_=g.sigBytes*8;m[_>>>5]|=128<<24-_%32;var y=n.floor(v/4294967296),b=v;m[(_+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,m[(_+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,g.sigBytes=(m.length+1)*4,this._process();for(var w=this._hash,E=w.words,C=0;C<4;C++){var T=E[C];E[C]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return w},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g}});function f(g,m,v,_,y,b,w){var E=g+(m&v|~m&_)+y+w;return(E<<b|E>>>32-b)+m}function h(g,m,v,_,y,b,w){var E=g+(m&_|v&~_)+y+w;return(E<<b|E>>>32-b)+m}function p(g,m,v,_,y,b,w){var E=g+(m^v^_)+y+w;return(E<<b|E>>>32-b)+m}function d(g,m,v,_,y,b,w){var E=g+(v^(m|~_))+y+w;return(E<<b|E>>>32-b)+m}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5})}(s2)),s2.exports}var l2={exports:{}},ND;function KH(){return ND||(ND=1,function(t,e){(function(r,n){t.exports=n(Tr())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,p=h[0],d=h[1],g=h[2],m=h[3],v=h[4],_=0;_<80;_++){if(_<16)c[_]=u[f+_]|0;else{var y=c[_-3]^c[_-8]^c[_-14]^c[_-16];c[_]=y<<1|y>>>31}var b=(p<<5|p>>>27)+v+c[_];_<20?b+=(d&g|~d&m)+1518500249:_<40?b+=(d^g^m)+1859775393:_<60?b+=(d&g|d&m|g&m)-1894007588:b+=(d^g^m)-899497514,v=m,m=g,g=d<<30|d>>>2,d=p,p=b}h[0]=h[0]+p|0,h[1]=h[1]+d|0,h[2]=h[2]+g|0,h[3]=h[3]+m|0,h[4]=h[4]+v|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,p=u.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(p+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(l2)),l2.exports}var u2={exports:{}},MD;function bk(){return MD||(MD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(Ct,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[],u=[];(function(){function p(v){for(var _=n.sqrt(v),y=2;y<=_;y++)if(!(v%y))return!1;return!0}function d(v){return(v-(v|0))*4294967296|0}for(var g=2,m=0;m<64;)p(g)&&(m<8&&(l[m]=d(n.pow(g,1/2))),u[m]=d(n.pow(g,1/3)),m++),g++})();var f=[],h=c.SHA256=s.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(p,d){for(var g=this._hash.words,m=g[0],v=g[1],_=g[2],y=g[3],b=g[4],w=g[5],E=g[6],C=g[7],T=0;T<64;T++){if(T<16)f[T]=p[d+T]|0;else{var A=f[T-15],I=(A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3,O=f[T-2],P=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;f[T]=I+f[T-7]+P+f[T-16]}var k=b&w^~b&E,F=m&v^m&_^v&_,B=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),D=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),z=C+D+k+u[T]+f[T],ee=B+F;C=E,E=w,w=b,b=y+z|0,y=_,_=v,v=m,m=z+ee|0}g[0]=g[0]+m|0,g[1]=g[1]+v|0,g[2]=g[2]+_|0,g[3]=g[3]+y|0,g[4]=g[4]+b|0,g[5]=g[5]+w|0,g[6]=g[6]+E|0,g[7]=g[7]+C|0},_doFinalize:function(){var p=this._data,d=p.words,g=this._nDataBytes*8,m=p.sigBytes*8;return d[m>>>5]|=128<<24-m%32,d[(m+64>>>9<<4)+14]=n.floor(g/4294967296),d[(m+64>>>9<<4)+15]=g,p.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=s._createHelper(h),i.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256})}(u2)),u2.exports}var c2={exports:{}},LD;function UAe(){return LD||(LD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),bk())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,c=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=s._createHelper(c),n.HmacSHA224=s._createHmacHelper(c)}(),r.SHA224})}(c2)),c2.exports}var f2={exports:{}},BD;function ZH(){return BD||(BD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),bb())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,c=o.WordArray,l=n.algo;function u(){return s.create.apply(s,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var d=0;d<80;d++)h[d]=u()})();var p=l.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(d,g){for(var m=this._hash.words,v=m[0],_=m[1],y=m[2],b=m[3],w=m[4],E=m[5],C=m[6],T=m[7],A=v.high,I=v.low,O=_.high,P=_.low,k=y.high,F=y.low,B=b.high,D=b.low,z=w.high,ee=w.low,te=E.high,Y=E.low,U=C.high,X=C.low,j=T.high,G=T.low,ne=A,ae=I,pe=O,se=P,_e=k,Me=F,Pe=B,Ee=D,Se=z,Ge=ee,Ye=te,Ve=Y,Xe=U,Ke=X,wt=j,Rt=G,ht=0;ht<80;ht++){var gt,It,vr=h[ht];if(ht<16)It=vr.high=d[g+ht*2]|0,gt=vr.low=d[g+ht*2+1]|0;else{var tr=h[ht-15],gr=tr.high,Kt=tr.low,Et=(gr>>>1|Kt<<31)^(gr>>>8|Kt<<24)^gr>>>7,ur=(Kt>>>1|gr<<31)^(Kt>>>8|gr<<24)^(Kt>>>7|gr<<25),ke=h[ht-2],V=ke.high,ve=ke.low,Te=(V>>>19|ve<<13)^(V<<3|ve>>>29)^V>>>6,Fe=(ve>>>19|V<<13)^(ve<<3|V>>>29)^(ve>>>6|V<<26),oe=h[ht-7],Ie=oe.high,W=oe.low,Ue=h[ht-16],pt=Ue.high,N=Ue.low;gt=ur+W,It=Et+Ie+(gt>>>0<ur>>>0?1:0),gt=gt+Fe,It=It+Te+(gt>>>0<Fe>>>0?1:0),gt=gt+N,It=It+pt+(gt>>>0<N>>>0?1:0),vr.high=It,vr.low=gt}var Re=Se&Ye^~Se&Xe,Oe=Ge&Ve^~Ge&Ke,q=ne&pe^ne&_e^pe&_e,ce=ae&se^ae&Me^se&Me,Ce=(ne>>>28|ae<<4)^(ne<<30|ae>>>2)^(ne<<25|ae>>>7),dt=(ae>>>28|ne<<4)^(ae<<30|ne>>>2)^(ae<<25|ne>>>7),Qe=(Se>>>14|Ge<<18)^(Se>>>18|Ge<<14)^(Se<<23|Ge>>>9),lt=(Ge>>>14|Se<<18)^(Ge>>>18|Se<<14)^(Ge<<23|Se>>>9),Ft=f[ht],$n=Ft.high,ar=Ft.low,St=Rt+lt,Ar=wt+Qe+(St>>>0<Rt>>>0?1:0),St=St+Oe,Ar=Ar+Re+(St>>>0<Oe>>>0?1:0),St=St+ar,Ar=Ar+$n+(St>>>0<ar>>>0?1:0),St=St+gt,Ar=Ar+It+(St>>>0<gt>>>0?1:0),un=dt+ce,ni=Ce+q+(un>>>0<dt>>>0?1:0);wt=Xe,Rt=Ke,Xe=Ye,Ke=Ve,Ye=Se,Ve=Ge,Ge=Ee+St|0,Se=Pe+Ar+(Ge>>>0<Ee>>>0?1:0)|0,Pe=_e,Ee=Me,_e=pe,Me=se,pe=ne,se=ae,ae=St+un|0,ne=Ar+ni+(ae>>>0<St>>>0?1:0)|0}I=v.low=I+ae,v.high=A+ne+(I>>>0<ae>>>0?1:0),P=_.low=P+se,_.high=O+pe+(P>>>0<se>>>0?1:0),F=y.low=F+Me,y.high=k+_e+(F>>>0<Me>>>0?1:0),D=b.low=D+Ee,b.high=B+Pe+(D>>>0<Ee>>>0?1:0),ee=w.low=ee+Ge,w.high=z+Se+(ee>>>0<Ge>>>0?1:0),Y=E.low=Y+Ve,E.high=te+Ye+(Y>>>0<Ve>>>0?1:0),X=C.low=X+Ke,C.high=U+Xe+(X>>>0<Ke>>>0?1:0),G=T.low=G+Rt,T.high=j+wt+(G>>>0<Rt>>>0?1:0)},_doFinalize:function(){var d=this._data,g=d.words,m=this._nDataBytes*8,v=d.sigBytes*8;g[v>>>5]|=128<<24-v%32,g[(v+128>>>10<<5)+30]=Math.floor(m/4294967296),g[(v+128>>>10<<5)+31]=m,d.sigBytes=g.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d},blockSize:1024/32});n.SHA512=a._createHelper(p),n.HmacSHA512=a._createHmacHelper(p)}(),r.SHA512})}(f2)),f2.exports}var h2={exports:{}},DD;function jAe(){return DD||(DD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),bb(),ZH())})(Ct,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l)}(),r.SHA384})}(h2)),h2.exports}var d2={exports:{}},UD;function $Ae(){return UD||(UD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),bb())})(Ct,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.x64,l=c.Word,u=i.algo,f=[],h=[],p=[];(function(){for(var m=1,v=0,_=0;_<24;_++){f[m+5*v]=(_+1)*(_+2)/2%64;var y=v%5,b=(2*m+3*v)%5;m=y,v=b}for(var m=0;m<5;m++)for(var v=0;v<5;v++)h[m+5*v]=v+(2*m+3*v)%5*5;for(var w=1,E=0;E<24;E++){for(var C=0,T=0,A=0;A<7;A++){if(w&1){var I=(1<<A)-1;I<32?T^=1<<I:C^=1<<I-32}w&128?w=w<<1^113:w<<=1}p[E]=l.create(C,T)}})();var d=[];(function(){for(var m=0;m<25;m++)d[m]=l.create()})();var g=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],v=0;v<25;v++)m[v]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,v){for(var _=this._state,y=this.blockSize/2,b=0;b<y;b++){var w=m[v+2*b],E=m[v+2*b+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var C=_[b];C.high^=E,C.low^=w}for(var T=0;T<24;T++){for(var A=0;A<5;A++){for(var I=0,O=0,P=0;P<5;P++){var C=_[A+5*P];I^=C.high,O^=C.low}var k=d[A];k.high=I,k.low=O}for(var A=0;A<5;A++)for(var F=d[(A+4)%5],B=d[(A+1)%5],D=B.high,z=B.low,I=F.high^(D<<1|z>>>31),O=F.low^(z<<1|D>>>31),P=0;P<5;P++){var C=_[A+5*P];C.high^=I,C.low^=O}for(var ee=1;ee<25;ee++){var I,O,C=_[ee],te=C.high,Y=C.low,U=f[ee];U<32?(I=te<<U|Y>>>32-U,O=Y<<U|te>>>32-U):(I=Y<<U-32|te>>>64-U,O=te<<U-32|Y>>>64-U);var X=d[h[ee]];X.high=I,X.low=O}var j=d[0],G=_[0];j.high=G.high,j.low=G.low;for(var A=0;A<5;A++)for(var P=0;P<5;P++){var ee=A+5*P,C=_[ee],ne=d[ee],ae=d[(A+1)%5+5*P],pe=d[(A+2)%5+5*P];C.high=ne.high^~ae.high&pe.high,C.low=ne.low^~ae.low&pe.low}var C=_[0],se=p[T];C.high^=se.high,C.low^=se.low}},_doFinalize:function(){var m=this._data,v=m.words;this._nDataBytes*8;var _=m.sigBytes*8,y=this.blockSize*32;v[_>>>5]|=1<<24-_%32,v[(n.ceil((_+1)/y)*y>>>5)-1]|=128,m.sigBytes=v.length*4,this._process();for(var b=this._state,w=this.cfg.outputLength/8,E=w/8,C=[],T=0;T<E;T++){var A=b[T],I=A.high,O=A.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,C.push(O),C.push(I)}return new o.init(C,w)},clone:function(){for(var m=s.clone.call(this),v=m._state=this._state.slice(0),_=0;_<25;_++)v[_]=v[_].clone();return m}});i.SHA3=s._createHelper(g),i.HmacSHA3=s._createHmacHelper(g)}(Math),r.SHA3})}(d2)),d2.exports}var p2={exports:{}},jD;function GAe(){return jD||(jD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(Ct,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),d=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=c.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,C){for(var T=0;T<16;T++){var A=C+T,I=E[A];E[A]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var O=this._hash.words,P=p.words,k=d.words,F=l.words,B=u.words,D=f.words,z=h.words,ee,te,Y,U,X,j,G,ne,ae,pe;j=ee=O[0],G=te=O[1],ne=Y=O[2],ae=U=O[3],pe=X=O[4];for(var se,T=0;T<80;T+=1)se=ee+E[C+F[T]]|0,T<16?se+=m(te,Y,U)+P[0]:T<32?se+=v(te,Y,U)+P[1]:T<48?se+=_(te,Y,U)+P[2]:T<64?se+=y(te,Y,U)+P[3]:se+=b(te,Y,U)+P[4],se=se|0,se=w(se,D[T]),se=se+X|0,ee=X,X=U,U=w(Y,10),Y=te,te=se,se=j+E[C+B[T]]|0,T<16?se+=b(G,ne,ae)+k[0]:T<32?se+=y(G,ne,ae)+k[1]:T<48?se+=_(G,ne,ae)+k[2]:T<64?se+=v(G,ne,ae)+k[3]:se+=m(G,ne,ae)+k[4],se=se|0,se=w(se,z[T]),se=se+pe|0,j=pe,pe=ae,ae=w(ne,10),ne=G,G=se;se=O[1]+Y+ae|0,O[1]=O[2]+U+pe|0,O[2]=O[3]+X+j|0,O[3]=O[4]+ee+G|0,O[4]=O[0]+te+ne|0,O[0]=se},_doFinalize:function(){var E=this._data,C=E.words,T=this._nDataBytes*8,A=E.sigBytes*8;C[A>>>5]|=128<<24-A%32,C[(A+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,E.sigBytes=(C.length+1)*4,this._process();for(var I=this._hash,O=I.words,P=0;P<5;P++){var k=O[P];O[P]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return I},clone:function(){var E=s.clone.call(this);return E._hash=this._hash.clone(),E}});function m(E,C,T){return E^C^T}function v(E,C,T){return E&C|~E&T}function _(E,C,T){return(E|~C)^T}function y(E,C,T){return E&T|C&~T}function b(E,C,T){return E^(C|~T)}function w(E,C){return E<<C|E>>>32-C}i.RIPEMD160=s._createHelper(g),i.HmacRIPEMD160=s._createHmacHelper(g)}(),r.RIPEMD160})}(p2)),p2.exports}var v2={exports:{}},$D;function wk(){return $D||($D=1,function(t,e){(function(r,n){t.exports=n(Tr())})(Ct,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,c=n.algo;c.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=s.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),d=this._iKey=u.clone(),g=p.words,m=d.words,v=0;v<f;v++)g[v]^=1549556828,m[v]^=909522486;p.sigBytes=d.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(v2)),v2.exports}var g2={exports:{}},GD;function VAe(){return GD||(GD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),bk(),wk())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.SHA256,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var p=this.cfg,d=l.create(p.hasher,f),g=o.create(),m=o.create([1]),v=g.words,_=m.words,y=p.keySize,b=p.iterations;v.length<y;){var w=d.update(h).finalize(m);d.reset();for(var E=w.words,C=E.length,T=w,A=1;A<b;A++){T=d.finalize(T),d.reset();for(var I=T.words,O=0;O<C;O++)E[O]^=I[O]}g.concat(w),_[0]++}return g.sigBytes=y*4,g}});n.PBKDF2=function(f,h,p){return u.create(p).compute(f,h)}}(),r.PBKDF2})}(g2)),g2.exports}var m2={exports:{}},VD;function qu(){return VD||(VD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),KH(),wk())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,p=this.cfg,d=p.hasher.create(),g=o.create(),m=g.words,v=p.keySize,_=p.iterations;m.length<v;){h&&d.update(h),h=d.update(u).finalize(f),d.reset();for(var y=1;y<_;y++)h=d.finalize(h),d.reset();g.concat(h)}return g.sigBytes=v*4,g}});n.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),r.EvpKDF})}(m2)),m2.exports}var _2={exports:{}},HD;function Bi(){return HD||(HD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),qu())})(Ct,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,f=i.algo,h=f.EvpKDF,p=a.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(I,O){return this.create(this._ENC_XFORM_MODE,I,O)},createDecryptor:function(I,O){return this.create(this._DEC_XFORM_MODE,I,O)},init:function(I,O,P){this.cfg=this.cfg.extend(P),this._xformMode=I,this._key=O,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function I(O){return typeof O=="string"?A:E}return function(O){return{encrypt:function(P,k,F){return I(k).encrypt(O,P,k,F)},decrypt:function(P,k,F){return I(k).decrypt(O,P,k,F)}}}}()});a.StreamCipher=p.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var d=i.mode={},g=a.BlockCipherMode=o.extend({createEncryptor:function(I,O){return this.Encryptor.create(I,O)},createDecryptor:function(I,O){return this.Decryptor.create(I,O)},init:function(I,O){this._cipher=I,this._iv=O}}),m=d.CBC=function(){var I=g.extend();I.Encryptor=I.extend({processBlock:function(P,k){var F=this._cipher,B=F.blockSize;O.call(this,P,k,B),F.encryptBlock(P,k),this._prevBlock=P.slice(k,k+B)}}),I.Decryptor=I.extend({processBlock:function(P,k){var F=this._cipher,B=F.blockSize,D=P.slice(k,k+B);F.decryptBlock(P,k),O.call(this,P,k,B),this._prevBlock=D}});function O(P,k,F){var B,D=this._iv;D?(B=D,this._iv=n):B=this._prevBlock;for(var z=0;z<F;z++)P[k+z]^=B[z]}return I}(),v=i.pad={},_=v.Pkcs7={pad:function(I,O){for(var P=O*4,k=P-I.sigBytes%P,F=k<<24|k<<16|k<<8|k,B=[],D=0;D<k;D+=4)B.push(F);var z=s.create(B,k);I.concat(z)},unpad:function(I){var O=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=O}};a.BlockCipher=p.extend({cfg:p.cfg.extend({mode:m,padding:_}),reset:function(){var I;p.reset.call(this);var O=this.cfg,P=O.iv,k=O.mode;this._xformMode==this._ENC_XFORM_MODE?I=k.createEncryptor:(I=k.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,P&&P.words):(this._mode=I.call(k,this,P&&P.words),this._mode.__creator=I)},_doProcessBlock:function(I,O){this._mode.processBlock(I,O)},_doFinalize:function(){var I,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),O.unpad(I)),I},blockSize:128/32});var y=a.CipherParams=o.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),b=i.format={},w=b.OpenSSL={stringify:function(I){var O,P=I.ciphertext,k=I.salt;return k?O=s.create([1398893684,1701076831]).concat(k).concat(P):O=P,O.toString(u)},parse:function(I){var O,P=u.parse(I),k=P.words;return k[0]==1398893684&&k[1]==1701076831&&(O=s.create(k.slice(2,4)),k.splice(0,4),P.sigBytes-=16),y.create({ciphertext:P,salt:O})}},E=a.SerializableCipher=o.extend({cfg:o.extend({format:w}),encrypt:function(I,O,P,k){k=this.cfg.extend(k);var F=I.createEncryptor(P,k),B=F.finalize(O),D=F.cfg;return y.create({ciphertext:B,key:P,iv:D.iv,algorithm:I,mode:D.mode,padding:D.padding,blockSize:I.blockSize,formatter:k.format})},decrypt:function(I,O,P,k){k=this.cfg.extend(k),O=this._parse(O,k.format);var F=I.createDecryptor(P,k).finalize(O.ciphertext);return F},_parse:function(I,O){return typeof I=="string"?O.parse(I,this):I}}),C=i.kdf={},T=C.OpenSSL={execute:function(I,O,P,k,F){if(k||(k=s.random(64/8)),F)var B=h.create({keySize:O+P,hasher:F}).compute(I,k);else var B=h.create({keySize:O+P}).compute(I,k);var D=s.create(B.words.slice(O),P*4);return B.sigBytes=O*4,y.create({key:B,iv:D,salt:k})}},A=a.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:T}),encrypt:function(I,O,P,k){k=this.cfg.extend(k);var F=k.kdf.execute(P,I.keySize,I.ivSize,k.salt,k.hasher);k.iv=F.iv;var B=E.encrypt.call(this,I,O,F.key,k);return B.mixIn(F),B},decrypt:function(I,O,P,k){k=this.cfg.extend(k),O=this._parse(O,k.format);var F=k.kdf.execute(P,I.keySize,I.ivSize,O.salt,k.hasher);k.iv=F.iv;var B=E.decrypt.call(this,I,O,F.key,k);return B}})}()})}(_2)),_2.exports}var y2={exports:{}},zD;function HAe(){return zD||(zD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize;i.call(this,a,o,c,s),this._prevBlock=a.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=a.slice(o,o+c);i.call(this,a,o,c,s),this._prevBlock=l}});function i(a,o,s,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<s;f++)a[o+f]^=l[f]}return n}(),r.mode.CFB})}(y2)),y2.exports}var x2={exports:{}},XD;function zAe(){return XD||(XD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);s.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)a[o+h]^=f[h]}});return n.Decryptor=i,n}(),r.mode.CTR})}(x2)),x2.exports}var b2={exports:{}},WD;function XAe(){return WD||(WD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var c=s>>16&255,l=s>>8&255,u=s&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,s=0,s+=c<<16,s+=l<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),a(h);var p=h.slice(0);l.encryptBlock(p,0);for(var d=0;d<u;d++)s[c+d]^=p[d]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(b2)),b2.exports}var w2={exports:{}},YD;function WAe(){return YD||(YD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var f=0;f<c;f++)a[o+f]^=u[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}(w2)),w2.exports}var E2={exports:{}},qD;function YAe(){return qD||(qD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(E2)),E2.exports}var S2={exports:{}},KD;function qAe(){return KD||(KD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,c=a+s-1;n.clamp(),n.words[c>>>2]|=s<<24-c%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(S2)),S2.exports}var C2={exports:{}},ZD;function KAe(){return ZD||(ZD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(C2)),C2.exports}var T2={exports:{}},JD;function ZAe(){return JD||(JD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(T2)),T2.exports}var A2={exports:{}},QD;function JAe(){return QD||(QD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(A2)),A2.exports}var I2={exports:{}},e8;function QAe(){return e8||(e8=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(I2)),I2.exports}var R2={exports:{}},t8;function eIe(){return t8||(t8=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Bi())})(Ct,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,c=s.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),r.format.Hex})}(R2)),R2.exports}var P2={exports:{}},r8;function tIe(){return r8||(r8=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Tf(),Af(),qu(),Bi())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],c=[],l=[],u=[],f=[],h=[],p=[],d=[],g=[],m=[];(function(){for(var y=[],b=0;b<256;b++)b<128?y[b]=b<<1:y[b]=b<<1^283;for(var w=0,E=0,b=0;b<256;b++){var C=E^E<<1^E<<2^E<<3^E<<4;C=C>>>8^C&255^99,s[w]=C,c[C]=w;var T=y[w],A=y[T],I=y[A],O=y[C]*257^C*16843008;l[w]=O<<24|O>>>8,u[w]=O<<16|O>>>16,f[w]=O<<8|O>>>24,h[w]=O;var O=I*16843009^A*65537^T*257^w*16843008;p[C]=O<<24|O>>>8,d[C]=O<<16|O>>>16,g[C]=O<<8|O>>>24,m[C]=O,w?(w=T^y[y[y[I^T]]],E^=y[y[E]]):w=E=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=a.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,w=b.words,E=b.sigBytes/4,C=this._nRounds=E+6,T=(C+1)*4,A=this._keySchedule=[],I=0;I<T;I++)I<E?A[I]=w[I]:(y=A[I-1],I%E?E>6&&I%E==4&&(y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255]):(y=y<<8|y>>>24,y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255],y^=v[I/E|0]<<24),A[I]=A[I-E]^y);for(var O=this._invKeySchedule=[],P=0;P<T;P++){var I=T-P;if(P%4)var y=A[I];else var y=A[I-4];P<4||I<=4?O[P]=y:O[P]=p[s[y>>>24]]^d[s[y>>>16&255]]^g[s[y>>>8&255]]^m[s[y&255]]}}},encryptBlock:function(y,b){this._doCryptBlock(y,b,this._keySchedule,l,u,f,h,s)},decryptBlock:function(y,b){var w=y[b+1];y[b+1]=y[b+3],y[b+3]=w,this._doCryptBlock(y,b,this._invKeySchedule,p,d,g,m,c);var w=y[b+1];y[b+1]=y[b+3],y[b+3]=w},_doCryptBlock:function(y,b,w,E,C,T,A,I){for(var O=this._nRounds,P=y[b]^w[0],k=y[b+1]^w[1],F=y[b+2]^w[2],B=y[b+3]^w[3],D=4,z=1;z<O;z++){var ee=E[P>>>24]^C[k>>>16&255]^T[F>>>8&255]^A[B&255]^w[D++],te=E[k>>>24]^C[F>>>16&255]^T[B>>>8&255]^A[P&255]^w[D++],Y=E[F>>>24]^C[B>>>16&255]^T[P>>>8&255]^A[k&255]^w[D++],U=E[B>>>24]^C[P>>>16&255]^T[k>>>8&255]^A[F&255]^w[D++];P=ee,k=te,F=Y,B=U}var ee=(I[P>>>24]<<24|I[k>>>16&255]<<16|I[F>>>8&255]<<8|I[B&255])^w[D++],te=(I[k>>>24]<<24|I[F>>>16&255]<<16|I[B>>>8&255]<<8|I[P&255])^w[D++],Y=(I[F>>>24]<<24|I[B>>>16&255]<<16|I[P>>>8&255]<<8|I[k&255])^w[D++],U=(I[B>>>24]<<24|I[P>>>16&255]<<16|I[k>>>8&255]<<8|I[F&255])^w[D++];y[b]=ee,y[b+1]=te,y[b+2]=Y,y[b+3]=U},keySize:256/32});n.AES=a._createHelper(_)}(),r.AES})}(P2)),P2.exports}var O2={exports:{}},n8;function rIe(){return n8||(n8=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Tf(),Af(),qu(),Bi())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=s.DES=o.extend({_doReset:function(){for(var v=this._key,_=v.words,y=[],b=0;b<56;b++){var w=c[b]-1;y[b]=_[w>>>5]>>>31-w%32&1}for(var E=this._subKeys=[],C=0;C<16;C++){for(var T=E[C]=[],A=u[C],b=0;b<24;b++)T[b/6|0]|=y[(l[b]-1+A)%28]<<31-b%6,T[4+(b/6|0)]|=y[28+(l[b+24]-1+A)%28]<<31-b%6;T[0]=T[0]<<1|T[0]>>>31;for(var b=1;b<7;b++)T[b]=T[b]>>>(b-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var I=this._invSubKeys=[],b=0;b<16;b++)I[b]=E[15-b]},encryptBlock:function(v,_){this._doCryptBlock(v,_,this._subKeys)},decryptBlock:function(v,_){this._doCryptBlock(v,_,this._invSubKeys)},_doCryptBlock:function(v,_,y){this._lBlock=v[_],this._rBlock=v[_+1],d.call(this,4,252645135),d.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),d.call(this,1,1431655765);for(var b=0;b<16;b++){for(var w=y[b],E=this._lBlock,C=this._rBlock,T=0,A=0;A<8;A++)T|=f[A][((C^w[A])&h[A])>>>0];this._lBlock=C,this._rBlock=E^T}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,d.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),v[_]=this._lBlock,v[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function d(v,_){var y=(this._lBlock>>>v^this._rBlock)&_;this._rBlock^=y,this._lBlock^=y<<v}function g(v,_){var y=(this._rBlock>>>v^this._lBlock)&_;this._lBlock^=y,this._rBlock^=y<<v}n.DES=o._createHelper(p);var m=s.TripleDES=o.extend({_doReset:function(){var v=this._key,_=v.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=_.slice(0,2),b=_.length<4?_.slice(0,2):_.slice(2,4),w=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=p.createEncryptor(a.create(y)),this._des2=p.createEncryptor(a.create(b)),this._des3=p.createEncryptor(a.create(w))},encryptBlock:function(v,_){this._des1.encryptBlock(v,_),this._des2.decryptBlock(v,_),this._des3.encryptBlock(v,_)},decryptBlock:function(v,_){this._des3.decryptBlock(v,_),this._des2.encryptBlock(v,_),this._des1.decryptBlock(v,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(m)}(),r.TripleDES})}(O2)),O2.exports}var k2={exports:{}},i8;function nIe(){return i8||(i8=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Tf(),Af(),qu(),Bi())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,p=this._S=[],d=0;d<256;d++)p[d]=d;for(var d=0,g=0;d<256;d++){var m=d%h,v=f[m>>>2]>>>24-m%4*8&255;g=(g+p[d]+v)%256;var _=p[d];p[d]=p[g],p[g]=_}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,p=0,d=0;d<4;d++){f=(f+1)%256,h=(h+u[f])%256;var g=u[f];u[f]=u[h],u[h]=g,p|=u[(u[f]+u[h])%256]<<24-d*8}return this._i=f,this._j=h,p}n.RC4=a._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(k2)),k2.exports}var F2={exports:{}},a8;function iIe(){return a8||(a8=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Tf(),Af(),qu(),Bi())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,p=this.cfg.iv,d=0;d<4;d++)h[d]=(h[d]<<8|h[d]>>>24)&16711935|(h[d]<<24|h[d]>>>8)&4278255360;var g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var d=0;d<4;d++)f.call(this);for(var d=0;d<8;d++)m[d]^=g[d+4&7];if(p){var v=p.words,_=v[0],y=v[1],b=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,w=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=b>>>16|w&4294901760,C=w<<16|b&65535;m[0]^=b,m[1]^=E,m[2]^=w,m[3]^=C,m[4]^=b,m[5]^=E,m[6]^=w,m[7]^=C;for(var d=0;d<4;d++)f.call(this)}},_doProcessBlock:function(h,p){var d=this._X;f.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var g=0;g<4;g++)s[g]=(s[g]<<8|s[g]>>>24)&16711935|(s[g]<<24|s[g]>>>8)&4278255360,h[p+g]^=s[g]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,d=0;d<8;d++)c[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var d=0;d<8;d++){var g=h[d]+p[d],m=g&65535,v=g>>>16,_=((m*m>>>17)+m*v>>>15)+v*v,y=((g&4294901760)*g|0)+((g&65535)*g|0);l[d]=_^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(F2)),F2.exports}var N2={exports:{}},o8;function aIe(){return o8||(o8=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Tf(),Af(),qu(),Bi())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,p=this.cfg.iv,d=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],g=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var m=0;m<4;m++)f.call(this);for(var m=0;m<8;m++)g[m]^=d[m+4&7];if(p){var v=p.words,_=v[0],y=v[1],b=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,w=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=b>>>16|w&4294901760,C=w<<16|b&65535;g[0]^=b,g[1]^=E,g[2]^=w,g[3]^=C,g[4]^=b,g[5]^=E,g[6]^=w,g[7]^=C;for(var m=0;m<4;m++)f.call(this)}},_doProcessBlock:function(h,p){var d=this._X;f.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var g=0;g<4;g++)s[g]=(s[g]<<8|s[g]>>>24)&16711935|(s[g]<<24|s[g]>>>8)&4278255360,h[p+g]^=s[g]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,d=0;d<8;d++)c[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var d=0;d<8;d++){var g=h[d]+p[d],m=g&65535,v=g>>>16,_=((m*m>>>17)+m*v>>>15)+v*v,y=((g&4294901760)*g|0)+((g&65535)*g|0);l[d]=_^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(N2)),N2.exports}var M2={exports:{}},s8;function oIe(){return s8||(s8=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Tf(),Af(),qu(),Bi())})(Ct,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(m,v){let _=v>>24&255,y=v>>16&255,b=v>>8&255,w=v&255,E=m.sbox[0][_]+m.sbox[1][y];return E=E^m.sbox[2][b],E=E+m.sbox[3][w],E}function h(m,v,_){let y=v,b=_,w;for(let E=0;E<s;++E)y=y^m.pbox[E],b=f(m,y)^b,w=y,y=b,b=w;return w=y,y=b,b=w,b=b^m.pbox[s],y=y^m.pbox[s+1],{left:y,right:b}}function p(m,v,_){let y=v,b=_,w;for(let E=s+1;E>1;--E)y=y^m.pbox[E],b=f(m,y)^b,w=y,y=b,b=w;return w=y,y=b,b=w,b=b^m.pbox[1],y=y^m.pbox[0],{left:y,right:b}}function d(m,v,_){for(let C=0;C<4;C++){m.sbox[C]=[];for(let T=0;T<256;T++)m.sbox[C][T]=l[C][T]}let y=0;for(let C=0;C<s+2;C++)m.pbox[C]=c[C]^v[y],y++,y>=_&&(y=0);let b=0,w=0,E=0;for(let C=0;C<s+2;C+=2)E=h(m,b,w),b=E.left,w=E.right,m.pbox[C]=b,m.pbox[C+1]=w;for(let C=0;C<4;C++)for(let T=0;T<256;T+=2)E=h(m,b,w),b=E.left,w=E.right,m.sbox[C][T]=b,m.sbox[C][T+1]=w;return!0}var g=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,v=m.words,_=m.sigBytes/4;d(u,v,_)}},encryptBlock:function(m,v){var _=h(u,m[v],m[v+1]);m[v]=_.left,m[v+1]=_.right},decryptBlock:function(m,v){var _=p(u,m[v],m[v+1]);m[v]=_.left,m[v+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(g)}(),r.Blowfish})}(M2)),M2.exports}(function(t,e){(function(r,n,i){t.exports=n(Tr(),bb(),LAe(),BAe(),Tf(),DAe(),Af(),KH(),bk(),UAe(),ZH(),jAe(),$Ae(),GAe(),wk(),VAe(),qu(),Bi(),HAe(),zAe(),XAe(),WAe(),YAe(),qAe(),KAe(),ZAe(),JAe(),QAe(),eIe(),tIe(),rIe(),nIe(),iIe(),aIe(),oIe())})(Ct,function(r){return r})})(YH);var sIe=YH.exports;const px=Ki(sIe),JH=`<svg width="116" height="116" viewBox="0 0 116 116" fill="none" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#filter0_f_13_25)">
<path d="M58 33V43" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M58 73V83" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M83 58H73" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M43 58H33" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M40.3223 40.3224L47.3933 47.3934" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M68.6067 68.6067L75.6777 75.6777" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M75.6777 40.3224L68.6067 47.3934" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M47.3933 68.6067L40.3223 75.6777" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</g>
<path d="M58 33V43" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M58 73V83" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M83 58H73" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M43 58H33" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M40.3223 40.3224L47.3933 47.3934" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M68.6067 68.6067L75.6777 75.6777" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M75.6777 40.3224L68.6067 47.3934" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M47.3933 68.6067L40.3223 75.6777" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
<defs>
<filter id="filter0_f_13_25" x="0.5" y="0.5" width="115" height="115" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>
<feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend>
<feGaussianBlur stdDeviation="15" result="effect1_foregroundBlur_13_25"></feGaussianBlur>
</filter>
</defs>
</svg>`;function lIe(t){const e=new Uint8Array(t),r=[];for(let n=0;n<e.length;n+=4)r.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return px.lib.WordArray.create(r,e.length)}async function uIe(t,e,r){const n=lIe(t),i=px.AES.decrypt({ciphertext:n},e,{iv:r}),a=new Uint8Array(i.sigBytes);for(let o=0;o<i.sigBytes;o++)a[o]=i.words[o>>>2]>>>24-o%4*8&255;return a}async function QH(t,e,r,n,i=16*1024*1024){const a=px.enc.Hex.parse(e),o=px.enc.Hex.parse(r),s=Math.ceil(t.byteLength/i),c=[];for(let h=0;h<s;h++){const p=h*i,d=Math.min(p+i,t.byteLength),g=t.slice(p,d),m=await uIe(g,a,o);c.push(m)}const l=c.reduce((h,p)=>h+p.length,0),u=new Uint8Array(l);let f=0;for(const h of c)u.set(h,f),f+=h.length;return new Blob([u],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}async function ez(t,e,r,n){const i={name:"AES-CBC",iv:r},a=await crypto.subtle.importKey("raw",e,i,!1,["decrypt"]),o=await crypto.subtle.decrypt(i,a,t);return new Blob([new Uint8Array(o)],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}class cIe{constructor(){at(this,"videosByKey");at(this,"idURLMap",{});at(this,"currentPlayingVideo","");at(this,"videoIndex",0);this.videosByKey={},this.currentPlayingVideo=""}preloadVideo(e,r=!1){var c;if(this.videosByKey[e])return;console.info("",e);const n="video-"+this.videoIndex++,i=document.createElement("div"),a=document.createElement("video"),o=e.endsWith(".flv")?"flv":"mp4";i.setAttribute("id",n),i.style.width="100%",i.style.height="100%",i.style.zIndex="-99",i.style.display="block",i.style.opacity="0",i.style.background="#000",i.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.zIndex="11",a.style.position="absolute",a.style.display="block",a.playsInline=!0,a.controls=!1,a.addEventListener("play",function(){a.controls=!1}),a.addEventListener("pause",function(){a.controls=!1}),a.volume=0;const s=()=>{this.videosByKey[e].events.ended.callbacks.forEach(u=>u())};i.appendChild(a),(c=document.getElementById("videoContainer"))==null||c.appendChild(i),a.addEventListener("waiting",()=>{if(!i.querySelector(".video-loading")){const u=document.createElement("div");u.className="video-loading",u.innerHTML=JH,i.appendChild(u)}}),a.addEventListener("canplay",()=>{const l=i.querySelector(".video-loading");l&&i.removeChild(l)}),a.addEventListener("error",()=>{const l=i.querySelector(".video-loading");l&&i.removeChild(l);const u=document.createElement("div");u.className="video-error",u.textContent="",i.appendChild(u)}),this.videosByKey[e]={player:null,id:n,progressTimer:null,waitCommands:{},events:{ended:{callbacks:[],handler:s}}},r&&(this.videosByKey[e].waitCommands={playVideo:!0,showVideo:!0}),fetch(e).then(l=>l.status>200?null:l.arrayBuffer()).then(async l=>{var v;if(!l)return;const u="ENCRYPTED",f=u.length,h=new Uint8Array(l.slice(0,f));let p=!1;for(let _=0;_<f;_++){if(String.fromCharCode(h[_])!==u[_]){p=!1;break}p=!0}let d;if(p){const _=l.slice(f);if((v=window.crypto)!=null&&v.subtle){const y=new Uint8Array([64,230,173,66,154,19,2,10,7,190,41,12,94,241,215,220,126,69,229,196,191,52,213,74,86,100,40,38,39,148,110,77]),b=new Uint8Array([157,107,172,116,198,78,232,113,78,121,89,206,247,82,113,208]);d=await ez(_,y,b,o)}else d=await QH(_,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",o)}else d=new Blob([new Uint8Array(l)],{type:`video/${o==="mp4"?"mp4":"x-flv"}`});const g=EA.createPlayer({type:e.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(d)});g.attachMediaElement(a),g.load();const m={...this.videosByKey[e],player:g};this.videosByKey[e]=m,a.onloadeddata=()=>{const _=Object.keys(m.waitCommands);if(m){const y=document.createElement("canvas"),b=y.getContext("2d");y.width=480,y.height=270,b.drawImage(a,0,0,480,270);const w=y.toDataURL("image/webp",.5);y.remove(),m.poster=w}_.length&&_.forEach(y=>{if(!m){console.log("",e);return}this[y](e,m.waitCommands[y])})}})}pauseVideo(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.pause()}showVideo(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.style.opacity="1",i.style.zIndex=r?"6":"11")}else n?n.waitCommands.showVideo=!0:this.preloadVideo(e,!0)}playVideo(e){const r=this.videosByKey[e];this.currentPlayingVideo=e,r!=null&&r.player?(r.player.play(),this.checkProgress(e)):r?r.waitCommands.playVideo=!0:this.preloadVideo(e,!0)}setLoop(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.loop=r)}else n.waitCommands.setLoop=r}seek(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.currentTime=r:n.waitCommands.seek=r}backward(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.currentTime>0&&(r.player.currentTime-=1)}forward(e){const r=this.videosByKey[e];r!=null&&r.player&&(r.player.currentTime+=1)}setVolume(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.volume=r:n.waitCommands.setVolume=r}setUrlIdMap(e,r){this.idURLMap[e]=r}destroy(e,r=!1,n=!1){const i=this.videosByKey[e];if(i!=null&&i.player){i.player.pause(),i.player.volume=0;const a=document.getElementById(i.id);a&&(a.style.opacity="0",a.style.zIndex="-99"),i!=null&&i.progressTimer&&clearTimeout(i.progressTimer),setTimeout(()=>{var o;try{const s=a==null?void 0:a.getElementsByTagName("video");s!=null&&s.length&&((o=i.player)==null||o.destroy())}catch(s){console.warn(s)}setTimeout(()=>{a==null||a.remove()},r?0:500),delete this.videosByKey[e]},r?0:2e3)}}destroyAll(e=!1){Object.keys(this.videosByKey).forEach(r=>{this.destroy(r,e)})}onEnded(e,r){this.videosByKey[e].events.ended.callbacks.push(r)}getDuration(e){const r=this.videosByKey[e];if(r!=null&&r.player)return r.player.duration}destroyExcept(e){Object.keys(this.videosByKey).forEach(r=>{e.includes(r)||this.destroy(r)})}checkProgress(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=r.player,i=n.currentTime;if(n.duration-i<=.03){clearTimeout(r.progressTimer),r.progressTimer=null,r.events.ended.handler();return}r.progressTimer=setTimeout(()=>{this.checkProgress(e)},100)}}}class fIe{constructor(){at(this,"sceneManager",new IAe);at(this,"backlogManager",new Lve(this.sceneManager));at(this,"animationManager",new RAe);at(this,"gameplay",new PAe);at(this,"gameName","");at(this,"gameKey","");at(this,"gameId",0);at(this,"channel","0");at(this,"events",new kAe);at(this,"videoManager",new cIe)}}const $=new fIe,Ek=(t,e=!0,r=!0)=>{t&&$.backlogManager.makeBacklogEmpty(),r&&$.videoManager.destroyAll(!0),e&&$.sceneManager.resetScene(),$.gameplay.performController.removeAllPerform(),$.gameplay.resetGamePlay();const n=yn(oO),i=ue.getState().stage.GameVar;ue.dispatch(hd(n)),e||ue.dispatch(Lt({key:"GameVar",value:i})),ue.dispatch(lr.setLoadVideo(!1))};function Cg(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const Sk=()=>{ue.getState().stage.PerformList.forEach(e=>{I1(e.script)})},hIe=async(t,e=!0)=>{_l();const r=ue.dispatch,n=$.backlogManager.getBacklog()[t];ze.debug("backlog",n),yb(),r(hd(oO)),window.pubsub.publish("loading",{loading:!0}),await _g(2e3),e&&Aa(n.saveScene.sceneUrl).then(async a=>{const o=await $.sceneManager.setCurrentScene(a,n.saveScene.sceneName,n.saveScene.sceneUrl);if(window.pubsub.publish("loading",{loading:!1}),o){const s=$.sceneManager.sceneData.currentScene.subSceneList;$.sceneManager.settledScenes.push($.sceneManager.sceneData.currentScene.sceneUrl);const c=pg(s);Jd(c)}}),$.sceneManager.sceneData.currentSentenceId=n.saveScene.currentSentenceId,$.sceneManager.sceneData.sceneStack=yn(n.saveScene.sceneStack);for(let a=$.backlogManager.getBacklog().length-1;a>t;a--)$.backlogManager.getBacklog().pop();$.backlogManager.isSaveBacklogNext=!0;const i=yn(n.currentStageState);r(hd(i)),setTimeout(Sk,0),setTimeout(()=>{r(yt({component:"showBacklog",visibility:!1})),r(yt({component:"showTextBox",visibility:!0}))},32)},dIe=(t,e=!1)=>{const n=ue.getState().saveData.saveData[t];ze.debug("",n),Ck(n,e)};async function Ck(t,e=!1){if(!t){ze.info("");return}const r=t;try{const o=await Aa(r.sceneData.sceneUrl);if(!await $.sceneManager.setCurrentScene(o,r.sceneData.sceneName,r.sceneData.sceneUrl,!0))return;const c=$.sceneManager.sceneData.currentScene.subSceneList;$.sceneManager.settledScenes.push($.sceneManager.sceneData.currentScene.sceneUrl);const l=pg(c);Jd(l)}catch(o){ze.error("",o);return}$.sceneManager.sceneData.currentSentenceId=r.sceneData.currentSentenceId,$.sceneManager.sceneData.sceneStack=yn(r.sceneData.sceneStack),yb();const n=r.backlog;$.backlogManager.getBacklog().splice(0,$.backlogManager.getBacklog().length);for(const o of n)$.backlogManager.getBacklog().push(o);const i=yn(r.nowStageState),a=ue.dispatch;a(hd(i)),e?(a(lr.setLoadVideo(!0)),r.nowStageState.PerformList.forEach(o=>{I1(o.script)})):setTimeout(Sk,0),a(yt({component:"showTitle",visibility:!1})),a(yt({component:"showMenuPanel",visibility:!1})),a(yt({component:"showExtra",visibility:!1})),Cg(ue.getState().stage.bgName)}function pIe(){`${$.gameName}${$.gameKey}`,`${$.gameName}${$.gameKey}`}async function vIe(){const t=await GH(-1,!1),e=yn(t);ue.dispatch(lr.setFastSave(e)),await l1e()}async function gIe(){return await h1e(),ue.getState().saveData.quickSaveData!==null}async function mIe(){await u1e();const t=ue.getState().saveData.quickSaveData;t&&Ck(t)}const _Ie=t=>{const e=document.body;t=typeof t=="string"?Number(t):t,e&&(e.style.opacity=(t/100).toFixed(2))},yIe=()=>{const t=ue.getState().storeData.gameInfo,e=()=>{Ek(!0,!0,!1);const r=Pt("start.txt",Tt.scene);Aa(r).then(n=>{$.sceneManager.setCurrentScene(n,"start.txt",r,!0).then(i=>{i&&ti()})}),ue.dispatch(lr.setIsShowUnlock(!0)),ue.dispatch(lr.setShowStoryline(!0)),ue.dispatch(yt({component:"showTitle",visibility:!1})),ue.dispatch(yt({component:"isInGaming",visibility:!0})),_Ie(ue.getState().userData.optionData.uiLight)};if(ue.getState().storeData.isEditorPreviewMode){e();return}if(!t){$a({title:`
`,rightText:"",rightFunc:()=>{window.location.reload()}});return}if(t.isFree===1&&t.tryPlay===1&&!t.canPlay){const r=()=>{$a({type:"pay",title:"",content:""+t.salesAmount+(t.salesAmountType===1?"":""),suffixContent:"",rightText:"",rightFunc:()=>{window.pubsub.publish("showBuyGameModal",{buyGameCallback:r,startGameCallback:e})}})};r();return}e()};async function xIe(){if(Cg(ue.getState().stage.bgName),await gIe()&&$.sceneManager.sceneData.currentSentenceId===0){await mIe();return}$.sceneManager.sceneData.currentSentenceId===0&&$.sceneManager.sceneData.currentScene.sceneName==="start.txt"?ti():Sk()}const SA=async()=>{const t=Pt(ja.Storyline,Tt.scene);$.sceneManager.resetScene();const e=await Aa(t);ue.dispatch(YT(!0)),await $.sceneManager.setCurrentScene(e,ja.Storyline,t),ti(),ue.dispatch(yt({component:"showMenuPanel",visibility:!1})),ue.dispatch(yt({component:"showTextBox",visibility:!1}))},bIe=async()=>{const t=Pt(ja.Affinity,Tt.scene);$.sceneManager.resetScene();const e=await Aa(t);ue.dispatch(yt({component:"showAffinity",visibility:!0})),await $.sceneManager.setCurrentScene(e,ja.Affinity,t),ti(),ue.dispatch(yt({component:"showMenuPanel",visibility:!1})),ue.dispatch(yt({component:"showTextBox",visibility:!1}))},wIe=()=>{ue.dispatch(yt({component:"showBeautyGuide",visibility:!0}))};function EIe(t){return xb.parseScssToWebgalStyleObj(t)}function $u(t){const[e,r]=he.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function SIe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function CIe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var TIe=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(CIe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=SIe(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),ra="-ms-",vx="-moz-",Mr="-webkit-",tz="comm",Tk="rule",Ak="decl",AIe="@import",rz="@keyframes",IIe="@layer",RIe=Math.abs,wb=String.fromCharCode,PIe=Object.assign;function OIe(t,e){return Vi(t,0)^45?(((e<<2^Vi(t,0))<<2^Vi(t,1))<<2^Vi(t,2))<<2^Vi(t,3):0}function nz(t){return t.trim()}function kIe(t,e){return(t=e.exec(t))?t[0]:t}function Lr(t,e,r){return t.replace(e,r)}function CA(t,e){return t.indexOf(e)}function Vi(t,e){return t.charCodeAt(e)|0}function Sv(t,e,r){return t.slice(e,r)}function _s(t){return t.length}function Ik(t){return t.length}function e_(t,e){return e.push(t),t}function FIe(t,e){return t.map(e).join("")}var Eb=1,md=1,iz=0,Ga=0,ci=0,n0="";function Sb(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:Eb,column:md,length:o,return:""}}function Z0(t,e){return PIe(Sb("",null,null,"",null,null,0),t,{length:-t.length},e)}function NIe(){return ci}function MIe(){return ci=Ga>0?Vi(n0,--Ga):0,md--,ci===10&&(md=1,Eb--),ci}function no(){return ci=Ga<iz?Vi(n0,Ga++):0,md++,ci===10&&(md=1,Eb++),ci}function Rs(){return Vi(n0,Ga)}function hy(){return Ga}function Tg(t,e){return Sv(n0,t,e)}function Cv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function az(t){return Eb=md=1,iz=_s(n0=t),Ga=0,[]}function oz(t){return n0="",t}function dy(t){return nz(Tg(Ga-1,TA(t===91?t+2:t===40?t+1:t)))}function LIe(t){for(;(ci=Rs())&&ci<33;)no();return Cv(t)>2||Cv(ci)>3?"":" "}function BIe(t,e){for(;--e&&no()&&!(ci<48||ci>102||ci>57&&ci<65||ci>70&&ci<97););return Tg(t,hy()+(e<6&&Rs()==32&&no()==32))}function TA(t){for(;no();)switch(ci){case t:return Ga;case 34:case 39:t!==34&&t!==39&&TA(ci);break;case 40:t===41&&TA(t);break;case 92:no();break}return Ga}function DIe(t,e){for(;no()&&t+ci!==47+10;)if(t+ci===42+42&&Rs()===47)break;return"/*"+Tg(e,Ga-1)+"*"+wb(t===47?t:no())}function UIe(t){for(;!Cv(Rs());)no();return Tg(t,Ga)}function jIe(t){return oz(py("",null,null,null,[""],t=az(t),0,[0],t))}function py(t,e,r,n,i,a,o,s,c){for(var l=0,u=0,f=o,h=0,p=0,d=0,g=1,m=1,v=1,_=0,y="",b=i,w=a,E=n,C=y;m;)switch(d=_,_=no()){case 40:if(d!=108&&Vi(C,f-1)==58){CA(C+=Lr(dy(_),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=dy(_);break;case 9:case 10:case 13:case 32:C+=LIe(d);break;case 92:C+=BIe(hy()-1,7);continue;case 47:switch(Rs()){case 42:case 47:e_($Ie(DIe(no(),hy()),e,r),c);break;default:C+="/"}break;case 123*g:s[l++]=_s(C)*v;case 125*g:case 59:case 0:switch(_){case 0:case 125:m=0;case 59+u:v==-1&&(C=Lr(C,/\f/g,"")),p>0&&_s(C)-f&&e_(p>32?u8(C+";",n,r,f-1):u8(Lr(C," ","")+";",n,r,f-2),c);break;case 59:C+=";";default:if(e_(E=l8(C,e,r,l,u,i,s,y,b=[],w=[],f),a),_===123)if(u===0)py(C,e,E,E,b,a,f,s,w);else switch(h===99&&Vi(C,3)===110?100:h){case 100:case 108:case 109:case 115:py(t,E,E,n&&e_(l8(t,E,E,0,0,i,s,y,i,b=[],f),w),i,w,f,s,n?b:w);break;default:py(C,E,E,E,[""],w,0,s,w)}}l=u=p=0,g=v=1,y=C="",f=o;break;case 58:f=1+_s(C),p=d;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&MIe()==125)continue}switch(C+=wb(_),_*g){case 38:v=u>0?1:(C+="\f",-1);break;case 44:s[l++]=(_s(C)-1)*v,v=1;break;case 64:Rs()===45&&(C+=dy(no())),h=Rs(),u=f=_s(y=C+=UIe(hy())),_++;break;case 45:d===45&&_s(C)==2&&(g=0)}}return a}function l8(t,e,r,n,i,a,o,s,c,l,u){for(var f=i-1,h=i===0?a:[""],p=Ik(h),d=0,g=0,m=0;d<n;++d)for(var v=0,_=Sv(t,f+1,f=RIe(g=o[d])),y=t;v<p;++v)(y=nz(g>0?h[v]+" "+_:Lr(_,/&\f/g,h[v])))&&(c[m++]=y);return Sb(t,e,r,i===0?Tk:s,c,l,u)}function $Ie(t,e,r){return Sb(t,e,r,tz,wb(NIe()),Sv(t,2,-2),0)}function u8(t,e,r,n){return Sb(t,e,r,Ak,Sv(t,0,n),Sv(t,n+1,-1),n)}function td(t,e){for(var r="",n=Ik(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function GIe(t,e,r,n){switch(t.type){case IIe:if(t.children.length)break;case AIe:case Ak:return t.return=t.return||t.value;case tz:return"";case rz:return t.return=t.value+"{"+td(t.children,n)+"}";case Tk:t.value=t.props.join(",")}return _s(r=td(t.children,n))?t.return=t.value+"{"+r+"}":""}function VIe(t){var e=Ik(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function HIe(t){return function(e){e.root||(e=e.return)&&t(e)}}function zIe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var XIe=function(e,r,n){for(var i=0,a=0;i=a,a=Rs(),i===38&&a===12&&(r[n]=1),!Cv(a);)no();return Tg(e,Ga)},WIe=function(e,r){var n=-1,i=44;do switch(Cv(i)){case 0:i===38&&Rs()===12&&(r[n]=1),e[n]+=XIe(Ga-1,r,n);break;case 2:e[n]+=dy(i);break;case 4:if(i===44){e[++n]=Rs()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=wb(i)}while(i=no());return e},YIe=function(e,r){return oz(WIe(az(e),r))},c8=new WeakMap,qIe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!c8.get(n))&&!i){c8.set(e,!0);for(var a=[],o=YIe(r,a),s=n.props,c=0,l=0;c<o.length;c++)for(var u=0;u<s.length;u++,l++)e.props[l]=a[c]?o[c].replace(/&\f/g,s[u]):s[u]+" "+o[c]}}},KIe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function sz(t,e){switch(OIe(t,e)){case 5103:return Mr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Mr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Mr+t+vx+t+ra+t+t;case 6828:case 4268:return Mr+t+ra+t+t;case 6165:return Mr+t+ra+"flex-"+t+t;case 5187:return Mr+t+Lr(t,/(\w+).+(:[^]+)/,Mr+"box-$1$2"+ra+"flex-$1$2")+t;case 5443:return Mr+t+ra+"flex-item-"+Lr(t,/flex-|-self/,"")+t;case 4675:return Mr+t+ra+"flex-line-pack"+Lr(t,/align-content|flex-|-self/,"")+t;case 5548:return Mr+t+ra+Lr(t,"shrink","negative")+t;case 5292:return Mr+t+ra+Lr(t,"basis","preferred-size")+t;case 6060:return Mr+"box-"+Lr(t,"-grow","")+Mr+t+ra+Lr(t,"grow","positive")+t;case 4554:return Mr+Lr(t,/([^-])(transform)/g,"$1"+Mr+"$2")+t;case 6187:return Lr(Lr(Lr(t,/(zoom-|grab)/,Mr+"$1"),/(image-set)/,Mr+"$1"),t,"")+t;case 5495:case 3959:return Lr(t,/(image-set\([^]*)/,Mr+"$1$`$1");case 4968:return Lr(Lr(t,/(.+:)(flex-)?(.*)/,Mr+"box-pack:$3"+ra+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Mr+t+t;case 4095:case 3583:case 4068:case 2532:return Lr(t,/(.+)-inline(.+)/,Mr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_s(t)-1-e>6)switch(Vi(t,e+1)){case 109:if(Vi(t,e+4)!==45)break;case 102:return Lr(t,/(.+:)(.+)-([^]+)/,"$1"+Mr+"$2-$3$1"+vx+(Vi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~CA(t,"stretch")?sz(Lr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Vi(t,e+1)!==115)break;case 6444:switch(Vi(t,_s(t)-3-(~CA(t,"!important")&&10))){case 107:return Lr(t,":",":"+Mr)+t;case 101:return Lr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Mr+(Vi(t,14)===45?"inline-":"")+"box$3$1"+Mr+"$2$3$1"+ra+"$2box$3")+t}break;case 5936:switch(Vi(t,e+11)){case 114:return Mr+t+ra+Lr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Mr+t+ra+Lr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Mr+t+ra+Lr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Mr+t+ra+t+t}return t}var ZIe=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case Ak:e.return=sz(e.value,e.length);break;case rz:return td([Z0(e,{value:Lr(e.value,"@","@"+Mr)})],i);case Tk:if(e.length)return FIe(e.props,function(a){switch(kIe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return td([Z0(e,{props:[Lr(a,/:(read-\w+)/,":"+vx+"$1")]})],i);case"::placeholder":return td([Z0(e,{props:[Lr(a,/:(plac\w+)/,":"+Mr+"input-$1")]}),Z0(e,{props:[Lr(a,/:(plac\w+)/,":"+vx+"$1")]}),Z0(e,{props:[Lr(a,/:(plac\w+)/,ra+"input-$1")]})],i)}return""})}},JIe=[ZIe],QIe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var m=g.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||JIe,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var m=g.getAttribute("data-emotion").split(" "),v=1;v<m.length;v++)a[m[v]]=!0;s.push(g)});var c,l=[qIe,KIe];{var u,f=[GIe,HIe(function(g){u.insert(g)})],h=VIe(l.concat(i,f)),p=function(m){return td(jIe(m),h)};c=function(m,v,_,y){u=_,p(m?m+"{"+v.styles+"}":v.styles),y&&(d.inserted[v.name]=!0)}}var d={key:r,sheet:new TIe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return d.sheet.hydrate(s),d};function eRe(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var tRe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rRe=/[A-Z]|^ms/g,nRe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lz=function(e){return e.charCodeAt(1)===45},f8=function(e){return e!=null&&typeof e!="boolean"},L2=zIe(function(t){return lz(t)?t:t.replace(rRe,"-$&").toLowerCase()}),h8=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(nRe,function(n,i,a){return ys={name:i,styles:a,next:ys},i})}return tRe[e]!==1&&!lz(e)&&typeof r=="number"&&r!==0?r+"px":r};function Tv(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return ys={name:r.name,styles:r.styles,next:ys},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)ys={name:n.name,styles:n.styles,next:ys},n=n.next;var i=r.styles+";";return i}return iRe(t,e,r)}case"function":{if(t!==void 0){var a=ys,o=r(t);return ys=a,Tv(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function iRe(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Tv(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":f8(o)&&(n+=L2(a)+":"+h8(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)f8(o[s])&&(n+=L2(a)+":"+h8(a,o[s])+";");else{var c=Tv(t,e,o);switch(a){case"animation":case"animationName":{n+=L2(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var d8=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ys,B2=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";ys=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=Tv(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=Tv(n,r,e[s]),i&&(a+=o[s]);d8.lastIndex=0;for(var c="",l;(l=d8.exec(a))!==null;)c+="-"+l[1];var u=eRe(a)+c;return{name:u,styles:a,next:ys}},aRe=!0;function uz(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var oRe=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||aRe===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},sRe=function(e,r,n){oRe(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function p8(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function v8(t,e,r){var n=[],i=uz(t,n,r);return n.length<2?r:i+e(n)}var lRe=function(e){var r=QIe(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=B2(l,r.registered,void 0);return sRe(r,f,!1),r.key+"-"+f.name},i=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=B2(l,r.registered),h="animation-"+f.name;return p8(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},a=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=B2(l,r.registered);p8(r,f)},o=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return v8(r.registered,n,uRe(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(c){c.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:uz.bind(null,r.registered),merge:v8.bind(null,r.registered,n)}},uRe=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},cz=lRe({key:"css"}),cRe=cz.injectGlobal,fRe=cz.css;function fz(t){const e=$u({classNameStyles:{},others:""}),r=ft(a=>a.stage.replacedUIlable),n=(a,o)=>{var c;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=fRe(((c=e.value.classNameStyles)==null?void 0:c[s])??"");return`${o} ${l}`}return o},i=async()=>{ze.debug(" Scss ",t);const o=(await dd.get(`game/template/${t}`)).data;e.set(EIe(o))};return he.useEffect(()=>{i()},[]),he.useEffect(()=>{cRe(e.value.others)},[e.value.others]),hRe(i),n}function hRe(t){const e=()=>{t()};he.useEffect(()=>($.events.styleUpdate.on(e),()=>$.events.styleUpdate.off(e)),[])}function i0(t){const e=ft(t),r=he.useRef(e);return he.useEffect(()=>{r.current=e},[e]),r}function a0(t){he.useEffect(()=>{t()},[])}function o0(t){he.useEffect(()=>function(){t()},[])}function dRe(t){he.useEffect(()=>{t()})}const pRe="_Backlog_main_1bt22_2",vRe="_backlog_soft_in_1bt22_1",gRe="_Backlog_main_out_1bt22_17",mRe="_backlog_soft_out_1bt22_1",_Re="_Backlog_main_out_IndexHide_1bt22_30",yRe="_Backlog_main_DisableScroll_1bt22_34",xRe="_backlog_top_icon_1bt22_38",bRe="_backlog_title_1bt22_62",wRe="_backlog_content_1bt22_74",ERe="_backlog_item_1bt22_100",SRe="_backlog_item_in_1bt22_1",CRe="_backlog_item_button_element_1bt22_112",TRe="_backlog_item_out_1bt22_142",ARe="_backlog_func_area_1bt22_151",IRe="_backlog_item_content_name_1bt22_157",RRe="_backlog_item_content_1bt22_157",PRe="_backlog_content_container_1bt22_177",ORe="_sound_icon_1bt22_194",kRe="_backlog_item_content_text_1bt22_207",FRe="_backlog_icon_softin_1bt22_1",ai={Backlog_main:pRe,backlog_soft_in:vRe,Backlog_main_out:gRe,backlog_soft_out:mRe,Backlog_main_out_IndexHide:_Re,Backlog_main_DisableScroll:yRe,backlog_top_icon:xRe,backlog_title:bRe,backlog_content:wRe,backlog_item:ERe,backlog_item_in:SRe,backlog_item_button_element:CRe,backlog_item_out:TRe,backlog_func_area:ARe,backlog_item_content_name:IRe,backlog_item_content:RRe,backlog_content_container:PRe,sound_icon:ORe,backlog_item_content_text:kRe,backlog_icon_softin:FRe};var NRe=rs,MRe=function(){return NRe.Date.now()},LRe=MRe,BRe=/\s/;function DRe(t){for(var e=t.length;e--&&BRe.test(t.charAt(e)););return e}var URe=DRe,jRe=URe,$Re=/^\s+/;function GRe(t){return t&&t.slice(0,jRe(t)+1).replace($Re,"")}var VRe=GRe,HRe=VRe,g8=Ds,zRe=nb,m8=0/0,XRe=/^[-+]0x[0-9a-f]+$/i,WRe=/^0b[01]+$/i,YRe=/^0o[0-7]+$/i,qRe=parseInt;function KRe(t){if(typeof t=="number")return t;if(zRe(t))return m8;if(g8(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=g8(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=HRe(t);var r=WRe.test(t);return r||YRe.test(t)?qRe(t.slice(2),r?2:8):XRe.test(t)?m8:+t}var ZRe=KRe,JRe=Ds,D2=LRe,_8=ZRe,QRe="Expected a function",ePe=Math.max,tPe=Math.min;function rPe(t,e,r){var n,i,a,o,s,c,l=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(QRe);e=_8(e)||0,JRe(r)&&(u=!!r.leading,f="maxWait"in r,a=f?ePe(_8(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(E){var C=n,T=i;return n=i=void 0,l=E,o=t.apply(T,C),o}function d(E){return l=E,s=setTimeout(v,e),u?p(E):o}function g(E){var C=E-c,T=E-l,A=e-C;return f?tPe(A,a-T):A}function m(E){var C=E-c,T=E-l;return c===void 0||C>=e||C<0||f&&T>=a}function v(){var E=D2();if(m(E))return _(E);s=setTimeout(v,g(E))}function _(E){return s=void 0,h&&n?p(E):(n=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,n=c=i=s=void 0}function b(){return s===void 0?o:_(D2())}function w(){var E=D2(),C=m(E);if(n=arguments,i=this,c=E,C){if(s===void 0)return d(c);if(f)return clearTimeout(s),s=setTimeout(v,e),p(c)}return s===void 0&&(s=setTimeout(v,e)),o}return w.cancel=y,w.flush=b,w}var nPe=rPe,iPe=nPe,aPe=Ds,oPe="Expected a function";function sPe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(oPe);return aPe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),iPe(t,e,{leading:n,maxWait:e,trailing:i})}var lPe=sPe;const uPe=Ki(lPe),Oh="keyboard"in navigator&&navigator.keyboard;function cPe(t){fPe(),dPe(),vPe(t==null?void 0:t.isDisableCtrl),pPe(),gPe(),bPe(),EPe()}function fPe(){const t=i0(c=>c.GUI),e=Tb(),r=Cb(t),n=hz(t),i=mPe(t),a=yPe(t),o=_Pe(t),s=he.useCallback(c=>i()?(e("showGlobalDialog",!1),c.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),c.preventDefault(),!1),[]);a0(()=>{document.addEventListener("contextmenu",s)}),o0(()=>{document.removeEventListener("contextmenu",s)})}let hPe=setTimeout(()=>{},0);function dPe(){const t=i0(s=>s.GUI),e=Tb(),r=Cb(t),n=hz(t),i=dz(t),a=he.useCallback(uPe(()=>{ti()},100),[]),o=he.useRef(0);he.useCallback(s=>{if(i())return;const c=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",l=s.ctrlKey,u=document.querySelector(`.${ai.backlog_content}`);if(r()&&c==="up"&&!l)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&c==="down"&&!l){if(u){let f=wPe(u),h=new Date().getTime();f&&h-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=h}}else r()&&c==="down"&&!l&&(clearTimeout(hPe),$.gameplay.isFast=!0,setTimeout(()=>{$.gameplay.isFast=!1},150),a())},[]),a0(()=>{}),o0(()=>{})}function pPe(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=i0(s=>s.GUI),n=he.useCallback(()=>r.current.showTitle,[r]),i=dz(r),a=Tb(),o=he.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),tk()))},[]);a0(()=>{document.addEventListener("keyup",o)}),o0(()=>{document.removeEventListener("keyup",o)})}function vPe(t=!1){const e=i0(s=>s.GUI),r=Cb(e),n=he.useCallback(s=>s.keyCode===17,[]),i=he.useCallback(s=>{n(s)&&r()&&!t&&lH()},[]),a=he.useCallback(s=>{n(s)&&r()&&_l()},[]),o=he.useCallback(s=>{_l()},[]);a0(()=>{document.addEventListener("keydown",i),document.addEventListener("keyup",a),window.addEventListener("blur",o)}),o0(()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",a),window.removeEventListener("blur",o)}),dRe(()=>{r()||_l()})}function gPe(){const t=xPe(),e=he.useCallback(async r=>{t()&&await vIe()},[]);a0(()=>{window.addEventListener("beforeunload",e)}),o0(()=>{window.removeEventListener("beforeunload",e)})}function Cb(t){return he.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function hz(t){return he.useCallback(()=>t.current.showBacklog,[t])}function mPe(t){return he.useCallback(()=>t.current.showGlobalDialog,[t])}function _Pe(t){return he.useCallback(()=>t.current.showExtra,[t])}function dz(t){return he.useCallback(()=>t.current.showPanicOverlay,[t])}function yPe(t){return he.useCallback(()=>[Gr.Save,Gr.Load,Gr.Option].includes(t.current.currentMenuTag),[t])}function xPe(){return he.useCallback(()=>$.sceneManager.sceneData.currentSentenceId!==0,[$.sceneManager.sceneData])}function Tb(){const t=Zr();return(e,r)=>{t(yt({component:e,visibility:r}))}}function bPe(){const t=i0(c=>c.GUI),e=Cb(t),r=Tb(),n=he.useRef(!1),i=he.useCallback(c=>c.keyCode===32||c.keyCode===13,[]),a=he.useCallback(c=>{if(i(c)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}tk(),ti(),n.current=!0}},[]),o=he.useCallback(c=>{i(c)&&e()&&(n.current=!1)},[]),s=he.useCallback(c=>{n.current=!1},[]);a0(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),o0(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function wPe(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function EPe(){const t=ft(n=>n.userData),e=Zr(),r=t.optionData.fullScreen;he.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==Is.on?(e(Ho({key:"fullScreen",value:Is.on})),mi()):(e(Ho({key:"fullScreen",value:Is.off})),mi()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const pz=async()=>{ue.dispatch(lr.setIsShowUnlock(!1));const t=Pt(ja.Achieve,Tt.scene);$.sceneManager.resetScene(),Aa(t).then(e=>{$.sceneManager.setCurrentScene(e,ja.Achieve,t).then(r=>{r&&ti()})}),ue.dispatch(yt({component:"showMenuPanel",visibility:!1})),ue.dispatch(yt({component:"showTextBox",visibility:!1})),ue.dispatch(yt({component:"showAchievement",visibility:!0}))},ef={height:1440,width:2560};function Yp(t){const e=t||window.localStorage.getItem("game-screen-size"),r=(e==null?void 0:e.split("x"))??[];return(r==null?void 0:r.length)>0&&(ef.width=Number(r[0])*2,ef.height=Number(r[1])*2),ef}const SPe=({text:t,defaultClass:e,defaultHoverClass:r,defaultActiveClass:n,style:i,hoverStyle:a,activeStyle:o,onMouseEnter:s,onMouseLeave:c,onMouseDown:l,onMouseUp:u,onMouseOut:f,onClick:h,key:p,isACtiveStatus:d,isHoverStatus:g})=>{const m=`customText-${p}-${t}`,[v,_]=he.useState(!1),[y,b]=he.useState(!1);let w=e,E=i;const C=()=>{a&&_(!0),s&&s()},T=()=>{_(!1),c&&c()};g&&(w=`${e} ${r}`,E={...i,...a}),d&&(w=`${e} ${n}`,E={...i,...o});const A=document.getElementById(`${m}-text`);A&&t&&(A.innerText=(t==null?void 0:t.replace(/\\n/g,`
`))??t);const I=()=>{y&&b(!0),l==null||l()},O=()=>{b(!1),u==null||u()};return M.jsx("span",{className:w,onMouseEnter:C,onMouseLeave:T,onMouseDown:I,onMouseUp:O,onMouseOut:f,onClick:h,style:E,id:`${m}-text`,children:t})},vz=({src:t,hoverSrc:e,activeSrc:r,defaultClass:n,defaultHoverClass:i,defaultActiveClass:a,style:o,hoverStyle:s,activeStyle:c,onMouseEnter:l,onMouseLeave:u,onMouseDown:f,onMouseUp:h,onClick:p,nId:d,draggable:g,isHoverStatus:m,isACtiveStatus:v})=>{const[_,y]=he.useState(!1),[b,w]=he.useState(!1),[E,C]=he.useState(0),T=()=>C(D=>D+1),A=he.useRef({width:void 0,height:void 0});let I=n,O=o||{};const P=()=>{(e||s)&&y(!0),l&&l()},k=()=>{y(!1),u&&u()},F=()=>{w(!0),y(!1),f==null||f()},B=()=>{w(!1),h==null||h()};return m&&(I=`${n||""} ${i||""}`,O={...o,...s}),v&&(I=`${n||""} ${a||""}`,O={...o,...c}),O.width===void 0&&(O.width=A.current.width,O.height=A.current.height),M.jsx("img",{id:d,src:m&&e||v&&r||t,className:I,onMouseEnter:P,onMouseLeave:k,onMouseDown:F,onMouseUp:B,draggable:g,style:O,onClick:p,onLoad:D=>{O.width===void 0&&(A.current.width=D.currentTarget.naturalWidth,A.current.height=D.currentTarget.naturalHeight,T())}})},gz=({item:t,children:e,defaultClass:r,defaultHoverClass:n,defaultActiveClass:i,style:a,hoverStyle:o,activeStyle:s,onMouseEnter:c,onMouseLeave:l,onMouseDown:u,onMouseUp:f,onMouseOut:h,onClick:p,id:d,isACtiveStatus:g})=>{const[m,v]=he.useState(!1),[_,y]=he.useState(!1);let b=r,w=a,E=o,C=s;if(t){if(t.args.hide)return null;w||(w=fi(t.args.style)),E||(E=fi(t.args.hoverStyle)),C||(C=fi(t.args.activeStyle))}const T=()=>{E&&v(!0),c&&c()},A=()=>{v(!1),l&&l()};m&&(b=`${r} ${n}`,w={...a,...o}),_&&(b=`${r} ${i}`,w={...a,...s});const I=()=>{C&&y(!0),u==null||u()},O=()=>{y(!1),f==null||f()},P=()=>{y(!1),h==null||h()};return M.jsx("div",{className:b,onMouseEnter:T,onMouseLeave:A,onMouseDown:I,onMouseUp:O,onMouseOut:P,onClick:p,style:w,id:d,children:e})},dl=({item:t,defaultClass:e,key:r})=>{var a,o;if(t.args.hide)return null;const n=fi(t.args.style),i=Pt(((a=t.args.style)==null?void 0:a.image)||"",Tt.background);return(o=t.args.style)!=null&&o.image?M.jsx(vz,{defaultClass:e,src:i,style:n},r):M.jsx("div",{className:e,style:n,draggable:"false"})},Jn=({item:t,defaultClass:e,defaultTextClass:r,key:n,defaultHoverClass:i,defaultActiveClass:a,onMouseEnter:o,onMouseLeave:s,onMouseDown:c,onMouseUp:l,onClick:u,type:f="button",checked:h=!1,onChecked:p=()=>{},text:d="",style:g,defaultText:m=""})=>{var pe,se,_e,Me,Pe;if(t.args.hide)return null;const[v,_]=he.useState(!1),[y,b]=he.useState(!1),[w,E]=he.useState(!1),[C,T]=he.useState(!1),A=fi(t.args.style),I=fi(t.args.hoverStyle),O=fi(t.args.activeStyle),{playSeClick:P}=On(),k=((pe=t.args.style)==null?void 0:pe.image)||"",F=(_e=(se=t.args)==null?void 0:se.btnSound)!=null&&_e.clickSound?Pt(t.args.btnSound.clickSound,Tt.bgm):"",B=((Me=t.args.hoverStyle)==null?void 0:Me.image)||k,D=((Pe=t.args.activeStyle)==null?void 0:Pe.image)||"",z=t,ee={},te=he.useRef(),Y=he.useRef(0),U=k?{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}:{},X={...A,...g};X.width&&(ee.width=X.width),X.height&&(ee.height=X.height),k&&(X.backgroundImage="none");const j=()=>{f==="checkbox"&&(P(F),p(!h)),u&&(P(F),u())},G=typeof u=="function"&&typeof o=="function",ne=()=>{G&&(clearTimeout(te.current),_(!0),Y.current=Date.now())},ae=()=>{if(G){const Ee=Date.now()-Y.current;setTimeout(()=>{_(!1),setTimeout(()=>{j()},320)},Ee-350>0?0:350-Ee)}};return M.jsxs(gz,{onMouseEnter:()=>{b(!0),o==null||o()},onMouseLeave:()=>{b(!1),s==null||s()},onMouseDown:()=>{ne(),E(!0),b(!1),c==null||c()},onMouseUp:()=>{ae(),E(!1),b(!1),T(!1),l==null||l()},onMouseOut:()=>{C?setTimeout(()=>{E(!1),T(!1)},2e3):(E(!1),T(!1))},defaultClass:`${e} ${v?"btn-clicked":""}`,defaultHoverClass:i,defaultActiveClass:a,style:X,hoverStyle:I,activeStyle:O,isACtiveStatus:w,children:[!!k&&M.jsx(vz,{nId:n,src:Pt(h?B:k,Tt.ui),hoverSrc:B?Pt(B,Tt.ui):"",activeSrc:D?Pt(D,Tt.ui):"",style:ee,onMouseEnter:o,onMouseLeave:s,isHoverStatus:y,isACtiveStatus:w,onMouseDown:c,onMouseUp:l}),z.content?M.jsx(SPe,{text:z.content,defaultClass:r,activeStyle:O,style:U,isACtiveStatus:w,isHoverStatus:y,onMouseDown:()=>{k&&T(!0)}},n):!k&&m]},n)},CPe=()=>{const t=ft(u=>u.userData),e=ft(u=>u.GUI),r=Zr(),n=t.optionData.fullScreen,{playSeEnter:i,playSeClick:a}=On(),o=e.gameUIConfigs[Mn.title],s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),c=fz("UI/Title/title.scss"),l={[ia.Game_start_button]:()=>{setTimeout(()=>{yIe(),r(qT(!1));const u={thirdUserId:sessionStorage.getItem("sdk-userId"),productId:$.gameId+"",onlineTime:yg(),channel:sessionStorage.getItem("sdk-userId")?1:0};lCe(u)},16),rAe()},[ia.Game_achievement_button]:()=>{pz()},[ia.Game_storyline_button]:()=>{SA()},[ia.Game_extra_button]:()=>{r(yt({component:"showExtra",visibility:!0}))},[ia.Game_collection_button]:()=>{wIe()},[ia.Game_continue_button]:()=>{r(yt({component:"showTitle",visibility:!1})),r(yt({component:"isInGaming",visibility:!0})),xIe()},[ia.Game_option_button]:()=>{r(yt({component:"showMenuPanel",visibility:!0})),r(qc(Gr.Option))},[ia.Game_load_button]:()=>{r(yt({component:"showMenuPanel",visibility:!0})),r(qc(Gr.Load))},[ia.Game_progression_button]:()=>{r(yt({component:"showProgressAndAchievement",visibility:!0}))},[ia.Game_affinity_button]:()=>{r(yt({component:"showAffinity",visibility:!0}))},[ia.Game_link_button]:()=>{var f,h;const u=((h=(f=o.buttons[ia.Game_link_button].args)==null?void 0:f.buttonLink)==null?void 0:h.link)??"";if(u)if(s){const p=window.open("","_blank");p.location.href=u}else window.open(u)}};return M.jsxs(M.Fragment,{children:[e.showTitle&&M.jsx("div",{className:c("Title_backup_background",V0.Title_backup_background)}),M.jsx("div",{id:"enter_game_target",onClick:()=>{wO(e.titleBgm),r(yt({component:"isEnterGame",visibility:!0})),n===Is.on&&(document.documentElement.requestFullscreen(),Oh&&Oh.lock(["Escape","F11"]))},onMouseEnter:i}),M.jsxs("div",{style:{opacity:e.showTitle?1:0,zIndex:e.showTitle?1:-99},children:[M.jsx(dl,{defaultClass:c("Title_main",V0.Title_main),item:o.other[_v.Title_img]}),M.jsx("div",{className:c("Title_buttonList",V0.Title_buttonList),children:Object.keys(o.buttons).map(u=>{let f=u,h=o.buttons[f];return M.jsx(Jn,{item:h,defaultClass:`${V0.Title_button} interactive`,defaultTextClass:V0.Title_button_text,onClick:l[f],onMouseEnter:i},f)})})]})]})},TPe="_Logo_main_y88l5_1",APe="_overlay_y88l5_14",IPe="_Logo_Back_y88l5_61",RPe="_animationActive_y88l5_75",PPe="_fadeout_y88l5_1",t_={Logo_main:TPe,"change-img-anim":"_change-img-anim_y88l5_1",overlay:APe,"fade-in":"_fade-in_y88l5_1",Logo_Back:IPe,animationActive:RPe,fadeout:PPe,"fade-in-out":"_fade-in-out_y88l5_1"},OPe=()=>{const t=Zr(),e=ft(l=>l.GUI),r=e.logoImage,n=e.isEnterGame,i=$u(-1),a=$u(-1),o=5e3,s=()=>{clearTimeout(a.value),i.value<r.length-1?(i.set(i.value+1),a.set(setTimeout(s,o))):(e!=null&&e.isShowR18Modal&&t(yt({component:"openR18Modal",visibility:!0})),i.set(-1))};he.useEffect(()=>{n&&r.length>0&&(i.set(0),a.set(setTimeout(s,o)))},[n,r]);const c=i.value===-1?"":r[i.value];return M.jsxs(M.Fragment,{children:[i.value!==-1&&M.jsx("div",{className:t_.Logo_Back+" "+(i.value===r.length-1?t_.animationActive:""),style:{animationDuration:`${o}ms`}},i.value+"wh"),c!==""&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:t_.Logo_main,onClick:s,style:{backgroundImage:`url("${c}")`,animationDuration:`${o}ms`}},i.value+"bg"),M.jsx("div",{className:t_.overlay})]})]})},kPe=["r18-warning.png","loading-bar-bg.png","save-load-item-bg.png","check.png","bgm-unselect.png","affinity.png","autoplay-unselect.png","modal-confirm.png","fast-forward-unselect.png","rechargeHeadNor.webp","loading-bar.png","base-set-line.png","history-bg.webp","set-title.png","menu-icon-active.png","choose-item-active.png","game-menu-button-bg.png","cg-choose.png","loading-enter.webp","rechargeCardNor.webp","r18-exit-btn-active.png","setting-bg.webp","r18-exit-btn-default.png","gallery-title.png","r18-confirm-btn-active.png","bgm-locked-bg.png","dialog-bg.png","click0.png","modal-cancel.png","click1.png","rechargeBtnNor.webp","review-title.png","rechargeCardNew.webp","save-load-bg.webp","cg-unselect.png","modal-close.png","click3.png","sound-choose.png","review-line.png","chapter.png","click2.png","bar-bg.png","cg-lock.png","cg-bottom-left.png","click6.png","click7.png","voice-set.png","checked.png","point-default.png","click5.png","set-decoration.png","click4.png","rechargeCardBottom.webp","bar-checked.png","click9.png","gallery-bg.webp","click8.png","xingshiIcon.webp","modal-title.png","save-title.png","base-set.png","flashback-unselect.png","back-r.png","choose-item-default.png","logo.png","achievement.png","modal-close-2.png","rechargeCardIcon.webp","menu-button-active.png","confirm-recharge.png","bar-thumb.png","load-title.png","affinity-click.png","menu-icon.png","rechargeCardDiscount.webp","confirm-buy.png","cg-bottom-right.png","rechargeHeadNel.webp","progress-bar-bg.png","game-menu-button-bg-active.png","save-load-item-unlock-bg.png","cg-bottom-right-select.png","point-active.png","dialogue-default.png","avatar-dialogue.png","buy-game-success.png","text-dialog-bg.png","rechargeBtnNel.webp","save-load-item-selected-bg.png","bgm-choose.png","chapter-click.png","bgm-unlock-bg.png","flashback.png","menu-bg.png","cg-unLock.png","fast-forward.png","sound-icon.png","back.png","progress-bar.png","achievement-click.png","r18-confirm-btn-default.png","menu-button-default.png","cg-bottom-left-select.png","autoplay.png"];X_.slider,X_.sliderBg,X_.sliderThumb;const kh=new Map([["true",!0],["false",!1],[!0,!0],[!1,!1]]);let gx=[];const FPe=t=>{const e=ue.getState().GUI,r=ue.dispatch;gx=[],dd.get(t).then(n=>{var o;let i=n.data;const a=xb.parseConfig(i);if(ze.info("",a),console.log("UI"),sA(kPe.map(s=>({name:s,type:Tt.ui,url:"./assets/"+s,lineNumber:0})),"__default-ui__.txt"),e){const s={...e.gameUIConfigs},c={};let l=!1;const u={};let f=!1;a.forEach(h=>{const{command:p,args:d,options:g}=h;switch(p){case"Title_img":{const m=Pt(d.join(""),Tt.background);r(WT({asset:"titleBg",value:m})),Cg(m);break}case"Game_Logo":{const m=d.map(v=>Pt(v,Tt.background));r(Dde(m));break}case"Game_cursor":{let m="{}",v="{}";g.forEach(b=>{b.key==="normal"?m=b.value:b.key==="active"&&(v=b.value)});const _=JSON.parse(m),y=JSON.parse(v);uD(_,"normal"),uD(y,"active");break}case"Title_bgm":{const m=Pt(d[0],Tt.bgm);r(WT({asset:"titleBgm",value:m}));break}case"Game_name":{$.gameName=d[0],document.title=d[0];break}case"Game_key":{$.gameKey=d[0];const m=window.pubsub.subscribe("gameInfoReady",v=>{v&&(dV(),VO(0,0),m())});break}case"Game_id":{$.gameId=isNaN(Number(d[0]))?0:Number(d[0]);break}case"Game_r18":{(d==null?void 0:d.length)>0&&r(PG(!!kh.get(d[0])));break}case"Game_sound":{if((g==null?void 0:g.length)>0){const m=y8(g);r(lr.setSaveStatus({key:"gameScounds",value:m}))}break}case"Menu_sound":{if((g==null?void 0:g.length)>0){const m=y8(g);r(lr.setSaveStatus({key:"menuScounds",value:m}))}break}case"Game_Icon":{if(d[0]){const m=Pt(d[0],Tt.background),v=document.getElementById("dynamic-favicon");v&&(v.href=m+`?t=${new Date().getTime()}`)}break}case Ec.Esc_continueGame_button:case Ec.Esc_backToLevel_button:case Ec.Esc_setting_button:case Ec.Esc_exitGame_button:{if(!(g!=null&&g.length))break;let m="",v=!1;const _={},y=["x","y","scale","fontSize"];g==null||g.forEach(w=>{var E,C;typeof(w==null?void 0:w.value)=="string"&&((C=(E=w.value)==null?void 0:E.split(","))==null||C.forEach(T=>{const[A,I]=(T==null?void 0:T.split("="))||[];A==="name"?m=I:A==="hide"?v=(kh==null?void 0:kh.get(I))??!1:_[A]=y.includes(A)?Number(I):I}))});const b={...Qy.escMenus[Ec[p]].args.style};c[Ec[p]]={content:m,args:{hide:v,style:{...b,..._}}},l=!0;break}case Sc.Achievement_progress_bg:case Sc.Achievement_progress_text:case Sc.Achievement_notUnlock:case Sc.Achievement_progress:{u[Sc[p]]=NPe(Sc[p],d,g),f=!0;break}}if((ia[p]||_v[p])&&p!==_v.Title_bgm){const m=Mn.title;Qs(s,m,h)}else if(lO[p]||h1[p]){const m=Mn.load;Qs(s,m,h)}else if(uO[p]||gO[p]){const m=Mn.storyline;Qs(s,m,h)}else if(cO[p]||vO[p]){const m=Mn.achievement;Qs(s,m,h)}else if(c1[p]||f1[p]){const m=Mn.option;Qs(s,m,h)}else if(fO[p]||u1[p]){const m=Mn.extra;Qs(s,m,h)}else if(pO[p]||dn[p]){const m=Mn.collection;Qs(s,m,h)}else if(hO[p]||gv[p]){const m=Mn.progressAndAchievement;Qs(s,m,h)}else if(dO[p]||mv[p]){const m=Mn.affinity;Qs(s,m,h)}}),r(Ude(s)),l&&r(jde(c)),f&&r($de(u))}(o=window==null?void 0:window.renderPromise)==null||o.call(window),console.log("UI"),sA(gx,"__custom-ui__.txt"),window.pubsub.publish("gameReady"),delete window.renderPromise,pIe()})};function Qs(t,e,r){const n=(i,a="")=>{const o=l=>{let u={};const f=/\{(.*?)\}/,h=l.match(f);if(h){const d=h[1].split(","),g={};d.forEach(m=>{const[v,_]=m.split("=");v&&_&&(g[v.trim()]=isNaN(Number(_.trim()))?_.trim():Number(_.trim()))}),u=g}return u},s={hide:!1,style:{}},c=["hoverStyle","info","images","btnSound","videos","buttonLink","activeStyle"];return i.forEach(l=>{if(l.key==="hide")s.hide=l.value===!0;else if(l.key.toLowerCase().endsWith("style")){const u=o(l.value);l.key==="style"&&a?(u.image=a,gx.push({name:u.image,type:Tt.background,url:Pt(u.image,Tt.background),lineNumber:0})):u.image&&gx.push({name:u.image,type:Tt.ui,url:Pt(u.image,Tt.ui),lineNumber:0}),s[l.key]=u}else if(c.includes(l.key)){const u=o(l.value);s[l.key]=u}}),s};if(XE[e]){if(t[e]={...t[e]},r.options=r.options??[],r.options.some(a=>a.key==="style")||r.options.push({key:"style",value:"{}"}),XE[e].buttons[r.command])t[e].buttons={...t[e].buttons},t[e].buttons[r.command]={key:r.command,content:r.args[0]??"",args:n(r.options??[])};else if(XE[e].other[r.command]){let a=!1;Bde[r.command]&&(a=!0),t[e].other={...t[e].other},t[e].other[r.command]={key:r.command,content:a?"":r.args[0]??"",args:n(r.options??[],r.args[0])}}}return t}function NPe(t,e,r){var l,u,f;const n=((l=r.find(h=>h.key==="hide"))==null?void 0:l.value)||!1,i=((u=r.find(h=>h.key==="style"))==null?void 0:u.value)||"",a=((f=r.find(h=>h.key==="hoverStyle"))==null?void 0:f.value)||"";let o={...Qy.achievementUI[t].args.style},s={...Qy.achievementUI[t].args.hoverStyle};o=c(i),s=c(a);function c(h){const p=/\{(.*?)\}/,d=h.match(p);if(d){const m=d[1].split(","),v={};return m.forEach(_=>{const[y,b]=_.split("=");y&&b&&(v[y.trim()]=isNaN(Number(b.trim()))?b.trim():Number(b.trim()))}),v}}return{content:e!=null&&e.length?e[0]:"",args:{hide:n,style:o,hoverStyle:s}}}function y8(t){const e={};return t.forEach(r=>{var n;if(typeof r.value=="string"){const i=((n=r.value)==null?void 0:n.split(","))??[];e[r.key]=i!=null&&i.length?!!kh.get(i[0])||Pt(i[1],Tt.bgm):!1}else e[r.key]=typeof r.value=="boolean"?!!kh.get(r.value):!1}),e}const MPe=(t,e)=>{ze.warn(""+t+":"+e);const r=ue.dispatch;r(yt({component:"showTitle",visibility:!1})),r(yt({component:"showMenuPanel",visibility:!1})),r(yt({component:"isShowLogo",visibility:!1}));const n=document.getElementById("Title_enter_page");n&&(n.style.display="none"),Ek(!0);const i=Pt(t,Tt.scene);setTimeout(()=>{Aa(i).then(async a=>{if(!await $.sceneManager.setCurrentScene(a,"start.txt",i))return;const s=$.sceneManager.sceneData.currentScene.sceneName;$.gameplay.isFast=!0,$.gameplay.isSyncingWithOrigine=!0,Rk(e,s)})},16)};function Rk(t,e){$.sceneManager.sceneData.currentSentenceId<t&&$.sceneManager.sceneData.currentScene.sceneName===e?(ti(),setTimeout(()=>Rk(t,e),100)):($.gameplay.isSyncingWithOrigine=!1,$.gameplay.isFast=!1)}const LPe=()=>{window.JMP=Rk};var wp=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(wp||{});const BPe=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}:9999`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),ze.info("socket"+i);const a=new WebSocket(i);a.onopen=()=>{ze.info("socket"),window.pubsub.publish("isPreviewMode",!0);function o(){const s={event:"message",data:{command:wp.SYNCFC,sceneMsg:{scene:$.sceneManager.sceneData.currentScene.sceneName,sentence:$.sceneManager.sceneData.currentSentenceId},stageSyncMsg:ue.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===wp.JUMP&&MPe(l.sceneMsg.scene,l.sceneMsg.sentence),l.command===wp.EXE_COMMAND){const u=l.message,h=xb.parse(u,"temp.txt","temp.txt").sentenceList[0];I1(h)}if(l.command===wp.REFETCH_TEMPLATE_FILES){const u=document.getElementById("Title_enter_page");u&&(u.style.display="none"),$.events.styleUpdate.emit()}},a.onerror=o=>{window.pubsub.publish("isPreviewMode",!1),ze.info(" Terre ")}},DPe={version:"IdolTime 1.0.0"},UPe=navigator.userAgent,Pk=!!UPe.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),jPe=()=>{ze.info(DPe.version),ze.info("Made with  by IdolTime"),Pk&&alert(`iOS 
| iOS `),$Pe("./game/userStyleSheet.css"),GPe(),FPe("./game/config.txt");const t=Pt("start.txt",Tt.scene);Aa(t).then(async e=>{const r=await $.sceneManager.setCurrentScene(e,"start.txt",t);if(!r)return;const n=$.sceneManager.sceneData.currentScene.subSceneList;$.sceneManager.settledScenes.push(t);const i=pg(n);Jd(i);const a=(r==null?void 0:r.sentenceList)??[],o=a==null?void 0:a.filter(s=>(s==null?void 0:s.commandRaw)==="unlockAchieve");ue.dispatch(lr.setUnlockAchieveAllTotal((o==null?void 0:o.length)??0))}),LPe(),BPe()};function $Pe(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function GPe(){dd.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)dd.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};$.animationManager.addAnimation(i)}})})}function VPe(){var t;(t=document.getElementById("root"))==null||t.addEventListener("click",function(e){e.target;const r=document.body,n=document.createElement("div");n.classList.add("click-frame");const{clientX:i,clientY:a}=e;n.style.left=`${i-36}px`,n.style.top=`${a-36.25}px`,r==null||r.appendChild(n);let o=0;const s=()=>{o>9?setTimeout(()=>{r==null||r.removeChild(n)},0):(n.style.backgroundImage=`url('./assets/click${o}.png')`,o++,setTimeout(s,35))};setTimeout(s,35)})}const HPe="_Menu_main_x2m75_1",zPe="_Menu_ShowSoftly_x2m75_1",XPe="_Menu_TagContent_x2m75_10",x8={Menu_main:HPe,Menu_ShowSoftly:zPe,Menu_TagContent:XPe},WPe="_MenuPanel_main_1c9ky_1",YPe="_MenuPanel_button_1c9ky_10",qPe="_MenuPanel_button_icon_1c9ky_38",KPe="_MenuPanel_button_hl_1c9ky_44",Fh={MenuPanel_main:WPe,MenuPanel_button:YPe,MenuPanel_button_icon:qPe,MenuPanel_button_hl:KPe};var ZPe=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function b8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(r),!0).forEach(function(n){JPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JPe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QPe(t,e){if(t==null)return{};var r=eOe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eOe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var tOe={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function rOe(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function nOe(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var mz=he.createContext(tOe);mz.Provider;function s0(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,c=n.theme,l=n.fill,u=n.className,f=n.spin,h=QPe(n,ZPe),p=he.useContext(mz),d=he.useMemo(rOe,[]),g=nOe(d,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:c,fill:l},p),m=[p.prefix+"-icon"];return m.push(p.prefix+"-icon-"+t),e&&p.rtl&&m.push(p.prefix+"-icon-rtl"),f&&m.push(p.prefix+"-icon-spin"),u&&m.push(u),Ur.createElement("span",w8(w8({},h),{},{className:m.join(" ")}),r(g))}}const iOe=s0("folder-open",!0,function(t){return Ur.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Ur.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),aOe=s0("hamburger-button",!1,function(t){return Ur.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Ur.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),oOe=s0("home",!1,function(t){return Ur.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Ur.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M19 29V42H29V29H19Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M9 42H39",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),sOe=s0("logout",!0,function(t){return Ur.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Ur.createElement("path",{d:"M23.9917 6H6V42H24",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M33 33L42 24L33 15",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M16 23.9917H42",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),lOe=s0("save",!0,function(t){return Ur.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Ur.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:t.colors[3]}),Ur.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M9 6H34.2814",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M14 26H34",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M14 34H24.0083",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),uOe=s0("setting-two",!1,function(t){return Ur.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Ur.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Ur.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),cOe=t=>{let e;switch(t.iconName){case"save":e=M.jsx(lOe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"load":e=M.jsx(iOe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"option":e=M.jsx(uOe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"title":e=M.jsx(oOe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"exit":e=M.jsx(sOe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;default:e=M.jsx("div",{})}return e},J0=t=>{const{playSePageChange:e,playSeEnter:r}=On();let n=Fh.MenuPanel_button;return t.hasOwnProperty("buttonOnClassName")&&(n=n+t.buttonOnClassName),M.jsxs("div",{className:n,onClick:()=>{t.clickFunc()},onMouseEnter:r,style:{...t.style,color:t.tagColor},children:[M.jsx("div",{className:Fh.MenuPanel_button_icon,children:M.jsx(cOe,{iconName:t.iconName,iconColor:t.iconColor})}),t.tagName]})},If=()=>{const t=ue.dispatch;yb(),ab(),_l(),t(Lt({key:"playVocal",value:""})),t(yt({component:"showTitle",visibility:!0})),t(lr.setIsShowUnlock(!1)),t(lr.setShowStoryline(!1)),Cg(ue.getState().GUI.titleBg)};function Ok(t,e){if(t==null)return{};var r=Dxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var fOe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const hOe=Ki(fOe);var dOe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function E8(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(hOe[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(dOe),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var pOe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,vOe=/^\s*$/,gOe=Object.create(null);function _z(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(_z,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var mOe={parse:function(t,e){e||(e={}),e.components||(e.components=gOe);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(pOe,function(c,l){if(o){if(c!=="</"+r.name+">")return;o=!1}var u,f=c.charAt(1)!=="/",h=c.startsWith("<!--"),p=l+c.length,d=t.charAt(p);if(h){var g=E8(c);return a<0?(n.push(g),n):((u=i[a]).children.push(g),n)}if(f&&(a++,(r=E8(c)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!d||d==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&d!=="<"&&d)){u=a===-1?n:i[a].children;var m=t.indexOf("<",p),v=t.slice(p,m===-1?void 0:m);vOe.test(v)&&(v=" "),(m>-1&&a+u.length>=0||v!==" ")&&u.push({type:"text",content:v})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+_z("",r)},"")}};function vy(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var S8={};function mx(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&S8[e[0]]||(typeof e[0]=="string"&&(S8[e[0]]=new Date),vy.apply(void 0,e))}var yz=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function C8(t,e,r){t.loadNamespaces(e,yz(t,r))}function T8(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,yz(t,n))}function _Oe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(c,l){var u=e.services.backendConnector.state["".concat(c,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function yOe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return mx("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):_Oe(t,e,r)}var xOe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,bOe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},wOe=function(e){return bOe[e]},EOe=function(e){return e.replace(xOe,wOe)};function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var AA={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:EOe};function SOe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};AA=I8(I8({},AA),t)}function xz(){return AA}var bz;function COe(t){bz=t}function kk(){return bz}var TOe=["format"],AOe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function R8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U2(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function j2(t){return t?t.props?t.props.children:t.children:[]}function IOe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return he.isValidElement(e)})}function Ep(t){return Array.isArray(t)?t:[t]}function ROe(t,e){var r=gi({},e);return r.props=Object.assign(t.props,e.props),r}function wz(t,e){if(!t)return"";var r="",n=Ep(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(he.isValidElement(a)){var s=Object.keys(a.props).length,c=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&c&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!c||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(c&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=wz(l,e);r+="<".concat(o,">").concat(u,"</").concat(o,">")}}else if(a===null)vy("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Ri(a)==="object"){var f=a.format,h=Ok(a,TOe),p=Object.keys(h);if(p.length===1){var d=f?"".concat(p[0],", ").concat(f):p[0];r+="{{".concat(d,"}}")}else vy("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else vy("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function POe(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var c={};function l(m){var v=Ep(m);v.forEach(function(_){typeof _!="string"&&(U2(_)?l(j2(_)):Ri(_)==="object"&&!he.isValidElement(_)&&Object.assign(c,_))})}l(t);var u=mOe.parse("<0>".concat(e,"</0>")),f=gi(gi({},c),i);function h(m,v,_){var y=j2(m),b=d(y,v.children,_);return IOe(y)&&b.length===0?y:b}function p(m,v,_,y,b){m.dummy&&(m.children=v),_.push(he.cloneElement(m,gi(gi({},m.props),{},{key:y}),b?void 0:v))}function d(m,v,_){var y=Ep(m),b=Ep(v);return b.reduce(function(w,E,C){var T=E.children&&E.children[0]&&E.children[0].content&&r.services.interpolator.interpolate(E.children[0].content,f,r.language);if(E.type==="tag"){var A=y[parseInt(E.name,10)];!A&&_.length===1&&_[0][E.name]&&(A=_[0][E.name]),A||(A={});var I=Object.keys(E.attrs).length!==0?ROe({props:E.attrs},A):A,O=he.isValidElement(I),P=O&&U2(E,!0)&&!E.voidElement,k=s&&Ri(I)==="object"&&I.dummy&&!O,F=Ri(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,E.name);if(typeof I=="string"){var B=r.services.interpolator.interpolate(I,f,r.language);w.push(B)}else if(U2(I)||P){var D=h(I,E,_);p(I,D,w,C)}else if(k){var z=d(y,E.children,_);w.push(he.cloneElement(I,gi(gi({},I.props),{},{key:C}),z))}else if(Number.isNaN(parseFloat(E.name)))if(F){var ee=h(I,E,_);p(I,ee,w,C,E.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(E.name)>-1)if(E.voidElement)w.push(he.createElement(E.name,{key:"".concat(E.name,"-").concat(C)}));else{var te=d(y,E.children,_);w.push(he.createElement(E.name,{key:"".concat(E.name,"-").concat(C)},te))}else if(E.voidElement)w.push("<".concat(E.name," />"));else{var Y=d(y,E.children,_);w.push("<".concat(E.name,">").concat(Y,"</").concat(E.name,">"))}else if(Ri(I)==="object"&&!O){var U=E.children[0]?T:null;U&&w.push(U)}else E.children.length===1&&T?w.push(he.cloneElement(I,gi(gi({},I.props),{},{key:C}),T)):w.push(he.cloneElement(I,gi(gi({},I.props),{},{key:C})))}else if(E.type==="text"){var X=n.transWrapTextNodes,j=a?n.unescape(r.services.interpolator.interpolate(E.content,f,r.language)):r.services.interpolator.interpolate(E.content,f,r.language);X?w.push(he.createElement(X,{key:"".concat(E.name,"-").concat(C)},j)):w.push(j)}return w},[])}var g=d([{dummy:!0,children:t||[]}],u,Ep(t||[]));return j2(g[0])}function OOe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,g=Ok(t,AOe),m=h||kk();if(!m)return mx("You will need to pass in an i18next instance by using i18nextReactModule"),e;var v=p||m.t.bind(m)||function(P){return P};a&&(s.context=a);var _=gi(gi({},xz()),m.options&&m.options.react),y=f||v.ns||m.options&&m.options.defaultNS;y=typeof y=="string"?[y]:y||["translation"];var b=l||wz(e,_)||_.transEmptyNodeValue||i,w=_.hashTransKey,E=i||(w?w(b):b),C=c?s.interpolation:{interpolation:gi(gi({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},T=gi(gi(gi(gi({},s),{},{count:r},c),C),{},{defaultValue:b,ns:y}),A=E?v(E,T):b,I=POe(u||e,A,m,_,T,d),O=n!==void 0?n:_.defaultTransParent;return O?he.createElement(O,g,I):I}function is(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z$(n.key),n)}}function as(t,e,r){return e&&P8(t.prototype,e),r&&P8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var kOe={type:"3rdParty",init:function(e){SOe(e.options.react),COe(e)}},Ez=he.createContext(),FOe=function(){function t(){is(this,t),this.usedNamespaces={}}return as(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),NOe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function O8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MOe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LOe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,g=Ok(t,NOe),m=he.useContext(Ez)||{},v=m.i18n,_=m.defaultNS,y=h||v||kk(),b=p||y&&y.t.bind(y);return OOe(MOe({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:c,defaults:l,components:u,ns:f||b&&b.ns||_||y&&y.options&&y.options.defaultNS,i18n:y,t:p,shouldUnescape:d},g))}function Sz(t){if(Array.isArray(t))return t}function BOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function k8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cz(t,e){if(t){if(typeof t=="string")return k8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k8(t,e)}}function Tz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DOe(t,e){return Sz(t)||BOe(t,e)||Cz(t,e)||Tz()}function F8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var UOe=function(e,r){var n=he.useRef();return he.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function Ab(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=he.useContext(Ez)||{},i=n.i18n,a=n.defaultNS,o=r||i||kk();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new FOe),!o){mx("You will need to pass in an i18next instance by using initReactI18next");var s=function(A,I){return typeof I=="string"?I:I&&Ri(I)==="object"&&typeof I.defaultValue=="string"?I.defaultValue:Array.isArray(A)?A[A.length-1]:A},c=[s,{},!1];return c.t=s,c.i18n={},c.ready=!1,c}o.options.react&&o.options.react.wait!==void 0&&mx("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=$2($2($2({},xz()),o.options.react),e),u=l.useSuspense,f=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var p=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(T){return yOe(T,o,l)});function d(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],f)}var g=he.useState(d),m=DOe(g,2),v=m[0],_=m[1],y=h.join();e.lng&&(y="".concat(e.lng).concat(y));var b=UOe(y),w=he.useRef(!0);he.useEffect(function(){var T=l.bindI18n,A=l.bindI18nStore;w.current=!0,!p&&!u&&(e.lng?T8(o,e.lng,h,function(){w.current&&_(d)}):C8(o,h,function(){w.current&&_(d)})),p&&b&&b!==y&&w.current&&_(d);function I(){w.current&&_(d)}return T&&o&&o.on(T,I),A&&o&&o.store.on(A,I),function(){w.current=!1,T&&o&&T.split(" ").forEach(function(O){return o.off(O,I)}),A&&o&&A.split(" ").forEach(function(O){return o.store.off(O,I)})}},[o,y]);var E=he.useRef(!0);he.useEffect(function(){w.current&&!E.current&&_(d),E.current=!1},[o,f]);var C=[v,o,p];if(C.t=v,C.i18n=o,C.ready=p,p||!p&&!u)return C;throw new Promise(function(T){e.lng?T8(o,e.lng,h,function(){return T()}):C8(o,h,function(){return T()})})}function Gu(t){const{t:e}=Ab(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}const jOe=()=>{const t=Gu("menu."),{playSeClick:e,playSeDialogOpen:r,playSePageChange:n}=On(),i=ft(g=>g.GUI),a=Zr(),o=i.currentMenuTag===Gr.Save?` ${Fh.MenuPanel_button_hl}`:"",s=i.currentMenuTag===Gr.Load?` ${Fh.MenuPanel_button_hl}`:"",c=i.currentMenuTag===Gr.Option?` ${Fh.MenuPanel_button_hl}`:"",l=i.currentMenuTag===Gr.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",u=i.currentMenuTag===Gr.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",f=i.currentMenuTag===Gr.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)",h=i.currentMenuTag===Gr.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",p=i.currentMenuTag===Gr.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",d=i.currentMenuTag===Gr.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)";return M.jsxs("div",{className:Fh.MenuPanel_main,children:[M.jsx(J0,{iconName:"save",buttonOnClassName:o,iconColor:h,tagColor:l,clickFunc:()=>{n(),!i.showTitle&&a(qc(Gr.Save))},tagName:t("saving.title")},"saveButton"),M.jsx(J0,{iconName:"load",buttonOnClassName:s,iconColor:p,tagColor:u,clickFunc:()=>{n(),a(qc(Gr.Load))},tagName:t("loadSaving.title")},"loadButton"),M.jsx(J0,{iconName:"title",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{r(),$a({title:t("$gaming.buttons.titleTips"),leftText:t("$common.no"),rightText:t("$common.yes"),leftFunc:()=>{},rightFunc:()=>{If(),a(yt({component:"showMenuPanel",visibility:!1}))}})},tagName:t("title.title")},"titleIcon"),M.jsx(J0,{iconName:"option",style:{marginLeft:"auto"},buttonOnClassName:c,iconColor:d,tagColor:f,clickFunc:()=>{n(),a(qc(Gr.Option))},tagName:t("options.title")},"optionButton"),M.jsx(J0,{iconName:"exit",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{e(),a(yt({component:"showMenuPanel",visibility:!1}))},tagName:t("exit.title")},"exitIcon")]})},$Oe="_Save_Load_main_ifo2p_2",GOe="_Common_back_ifo2p_13",VOe="_Common_title_ifo2p_30",HOe="_Save_title_ifo2p_41",zOe="_Load_title_ifo2p_45",XOe="_Save_Load_top_buttonList_ifo2p_49",WOe="_Save_Load_indicator_container_ifo2p_59",YOe="_Save_Load_top_button_ifo2p_49",qOe="_Save_Load_indicator_default_ifo2p_74",KOe="_Save_Load_indicator_active_ifo2p_83",ZOe="_Save_Load_content_ifo2p_92",JOe="_Save_Load_content_element_ifo2p_105",QOe="_Elements_in_ifo2p_1",eke="_Elements_in_transform_ifo2p_1",tke="_Save_Load_content_element_top_ifo2p_120",rke="_Save_Load_info_ifo2p_127",nke="_Save_Load_content_ele_ifo2p_105",ike="_Save_Load_bg_ifo2p_158",ake="_Save_Load_content_miniRen_bg_ifo2p_170",oke="_Save_Load_border_ifo2p_181",ske="_Btn_ifo2p_195",lke="_Btn_r_ifo2p_209",cr={Save_Load_main:$Oe,Common_back:GOe,Common_title:VOe,Save_title:HOe,Load_title:zOe,Save_Load_top_buttonList:XOe,Save_Load_indicator_container:WOe,Save_Load_top_button:YOe,Save_Load_indicator_default:qOe,Save_Load_indicator_active:KOe,Save_Load_content:ZOe,Save_Load_content_element:JOe,Elements_in:QOe,Elements_in_transform:eke,Save_Load_content_element_top:tke,Save_Load_info:rke,Save_Load_content_ele:nke,Save_Load_bg:ike,Save_Load_content_miniRen_bg:ake,Save_Load_border:oke,Btn:ske,Btn_r:lke},uke=()=>{const{playSeClick:t,playSePageChange:e,playSeEnter:r,playSeDialogOpen:n}=On(),i=ft(v=>v.userData),a=ft(v=>v.saveData),o=Zr(),s=[],l=ft(v=>v.GUI).gameUIConfigs[Mn.load];for(let v=1;v<=4;v++){const _=M.jsx("div",{onClick:()=>{o(ex(v)),mi(),e()},onMouseEnter:r,className:`${cr.Save_Load_top_button} interactive`,children:M.jsx("div",{className:v===i.optionData.slPage?cr.Save_Load_indicator_active:cr.Save_Load_indicator_default})},"Load_element_page"+v);s.push(_)}const u=Gu("common."),f=[],h=(i.optionData.slPage-1)*6+1,p=h+5;he.useEffect(()=>{VO(h,p)},[h,p]);let d=0;for(let v=h;v<=p;v++){d++;const _=a.saveData[v];let y=M.jsx("div",{className:cr.Save_Load_content_ele});_&&(y=M.jsxs(M.Fragment,{children:[M.jsx("div",{className:cr.Save_Load_bg}),M.jsx("div",{className:cr.Save_Load_border}),M.jsx("img",{className:cr.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:_.previewImage}),M.jsxs("div",{className:cr.Save_Load_info,children:[_.saveTime,M.jsx("br",{}),M.jsx("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:Ut(300)},children:_.nowStageState.showText})]})]}));const b=M.jsx("div",{onClick:()=>{a.saveData[v]?(n(),$a({title:g("saving.isOverwrite"),leftText:u("no"),rightText:u("yes"),leftFunc:()=>{},rightFunc:()=>{ED(v),mi()}})):(e(),ED(v))},onMouseEnter:r,className:`${cr.Save_Load_content_element} interactive`,style:{animationDelay:`${d*30}ms`},children:y},"saveElement_"+v);f.push(b)}const g=Gu("menu."),m=v=>{let y=i.optionData.slPage;v==="left"?y=y>1?y-1:4:y=y<4?y+1:1,o(ex(y)),mi(),e()};return M.jsxs("div",{className:cr.Save_Load_main,children:[M.jsx(Jn,{item:l.buttons.Load_back_button,defaultClass:`${cr.Common_back} interactive`,onClick:()=>{o(yt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:r}),M.jsx("div",{className:`${cr.Common_title} ${cr.Save_title}`}),M.jsx("div",{className:cr.Save_Load_content,id:"Save_content_page_"+i.optionData.slPage,children:f}),M.jsxs("div",{className:cr.Save_Load_top_buttonList,children:[M.jsx("div",{className:`${cr.Btn} interactive`,onMouseEnter:r,onClick:()=>m("left")}),M.jsx("div",{className:cr.Save_Load_indicator_container,children:s}),M.jsx("div",{className:`${cr.Btn} ${cr.Btn_r} interactive`,onMouseEnter:r,onClick:()=>m("right")})]})]})},cke=()=>{const{playSeClick:t,playSeEnter:e,playSePageChange:r}=On(),n=ft(d=>d.userData),i=ft(d=>d.saveData),a=Zr(),o=ft(d=>d.GUI),s=[],c=o.gameUIConfigs[Mn.load];for(let d=1;d<=4;d++){const g=M.jsx("div",{onClick:()=>{a(ex(d)),mi(),r()},onMouseEnter:e,className:`${cr.Save_Load_top_button} interactive`,children:M.jsx("div",{className:d===n.optionData.slPage?cr.Save_Load_indicator_active:cr.Save_Load_indicator_default})},"Load_element_page"+d);s.push(g)}const l=[],u=(n.optionData.slPage-1)*6+1,f=u+5;he.useEffect(()=>{VO(u,f)},[u,f]);let h=0;for(let d=u;d<=f;d++){h++;const g=i.saveData[d];let m=M.jsx("div",{className:cr.Save_Load_content_ele});g&&(m=M.jsxs(M.Fragment,{children:[M.jsx("div",{className:cr.Save_Load_bg}),M.jsx("img",{className:cr.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:g.previewImage}),M.jsx("div",{className:cr.Save_Load_border}),M.jsxs("div",{className:cr.Save_Load_info,children:[g.saveTime,M.jsx("br",{}),M.jsx("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:Ut(300)},children:g.nowStageState.showText})]})]}));const v=M.jsx("div",{onClick:()=>{var _;t(),(_=window==null?void 0:window.pubsub)==null||_.publish("loading",{loading:!0}),dIe(d)},onMouseEnter:e,className:`${cr.Save_Load_content_element} interactive`,style:{animationDelay:`${h*30}ms`},children:m},"loadElement_"+d);l.push(v)}Gu("menu.");const p=d=>{let m=n.optionData.slPage;d==="left"?m=m>1?m-1:4:m=m<4?m+1:1,a(ex(m)),mi(),r()};return M.jsxs("div",{className:cr.Save_Load_main,children:[M.jsx(Jn,{item:c.buttons.Load_back_button,defaultClass:`${cr.Common_back} interactive`,onClick:()=>{a(yt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e}),M.jsx(Jn,{item:c.other[h1.Load_title],defaultClass:`${cr.Common_title} ${cr.Load_title}`}),M.jsx("div",{className:cr.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:l}),M.jsxs("div",{className:cr.Save_Load_top_buttonList,children:[M.jsx("div",{className:`${cr.Btn} interactive`,onMouseEnter:e,onClick:()=>p("left")}),M.jsx("div",{className:cr.Save_Load_indicator_container,children:s}),M.jsx("div",{className:`${cr.Btn} ${cr.Btn_r} interactive`,onMouseEnter:e,onClick:()=>p("right")})]})]})},fke="_Options_main_z372r_1",hke="_Options_top_z372r_12",dke="_Options_page_container_z372r_25",pke="_Options_left_z372r_31",vke="_title_base_z372r_36",gke="_Options_right_z372r_46",mke="_Label_z372r_50",_ke="_title_voice_z372r_55",yke="_Label_fullscreen_z372r_74",xke="_Label_window_z372r_79",bke="_Label_text_speed_z372r_84",wke="_Label_row_z372r_88",Eke="_Label_row_right_z372r_96",Ske="_Label_row_text_z372r_101",Cke="_Label_row_decoration_z372r_108",Tke="_Check_row_z372r_120",Ake="_Check_row_option_z372r_129",Ike="_Check_row_prefix_z372r_134",Rke="_Check_row_box_z372r_149",Pke="_mt48_z372r_161",Oke="_mt32_z372r_165",kke="_mt22_z372r_170",Fke="_Slider_wrapper_z372r_175",Nke="_Check_row_box_checked_z372r_179",Mke="_Save_back_z372r_193",Bt={Options_main:fke,Options_top:hke,Options_page_container:dke,Options_left:pke,title_base:vke,Options_right:gke,Label:mke,title_voice:_ke,Label_fullscreen:yke,Label_window:xke,Label_text_speed:bke,Label_row:wke,Label_row_right:Eke,Label_row_text:Ske,Label_row_decoration:Cke,Check_row:Tke,Check_row_option:Ake,Check_row_prefix:Ike,Check_row_box:Rke,mt48:Pke,mt32:Oke,mt22:kke,Slider_wrapper:Fke,Check_row_box_checked:Nke,Save_back:Mke};const Q0=t=>{const{playSeEnter:e}=On();he.useEffect(()=>{setTimeout(()=>{const n=document.getElementById(t.uniqueID);n!==null&&n.setAttribute("value",(t.initValue||0).toString()),r()},1)},[]),he.useEffect(()=>{r()},[t.initValue]);function r(){var i;const n=document.getElementById(`${t.uniqueID}-bg`);if(n!==null&&t.uniqueID==="light"){const o=(Number(t.initValue)-50)/50*684+"px";n.style.width=o}else n!==null&&(n.style.width=Number((i=t.initValue)==null?void 0:i.toString())/100*342/.5+"px")}return M.jsxs("div",{className:"Option_WebGAL_slider",children:[M.jsx("input",{className:"Rang_input",id:t.uniqueID,type:"range",min:(t==null?void 0:t.min)??0,max:(t==null?void 0:t.max)??100,onChange:t.onChange,onFocus:e,onMouseEnter:e}),M.jsxs("div",{className:"Slider_group",children:[M.jsx("div",{className:"Slider_bg",id:`${t.uniqueID}-bg`}),M.jsx("div",{className:"Slider_bg_under"})]})]})},Lke=()=>{he.useEffect(dV,[]);const{playSeClick:t,playSeEnter:e}=On(),r=ft(o=>o.userData),n=Zr(),a=ft(o=>o.GUI).gameUIConfigs[Mn.option];return M.jsxs("div",{className:Bt.Options_main,children:[M.jsx(Jn,{item:a.buttons[c1.Option_back_button],defaultClass:`${Bt.Save_back} interactive`,onClick:()=>{n(yt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e}),M.jsx(Jn,{item:a.other[f1.Option_title],defaultClass:Bt.Options_top}),M.jsxs("div",{className:Bt.Options_page_container,children:[M.jsxs("div",{className:Bt.Options_left,children:[M.jsx("div",{className:Bt.title_base}),M.jsxs("div",{className:`${Bt.Label_row} ${Bt.mt48}`,children:[M.jsx("span",{className:Bt.Label_row_text,children:""}),M.jsx("span",{className:Bt.Label_row_decoration})]}),M.jsxs("div",{className:Bt.Check_row,children:[M.jsxs("div",{className:Bt.Check_row_option,children:[M.jsx("span",{className:Bt.Check_row_prefix,children:""}),M.jsx("div",{className:`${Bt.Check_row_box} interactive`,onClick:()=>{n(Ho({key:"fullScreen",value:Is.on})),mi()},children:r.optionData.fullScreen?null:M.jsx("div",{className:Bt.Check_row_box_checked})})]}),M.jsxs("div",{className:Bt.Check_row_option,children:[M.jsx("span",{className:Bt.Check_row_prefix,children:""}),M.jsx("div",{className:`${Bt.Check_row_box} interactive`,onClick:()=>{n(Ho({key:"fullScreen",value:Is.off})),mi()},children:r.optionData.fullScreen?M.jsx("div",{className:Bt.Check_row_box_checked}):null})]})]}),M.jsxs("div",{className:`${Bt.Label_row} ${Bt.mt48}`,children:[M.jsx("span",{className:Bt.Label_row_text,children:""}),M.jsx("span",{className:Bt.Label_row_decoration})]}),M.jsx(Q0,{initValue:r.optionData.textSpeed,uniqueID:"",onChange:o=>{const s=o.target.value;n(Ho({key:"textSpeed",value:Number(s)})),mi()}})]}),M.jsxs("div",{className:Bt.Options_right,children:[M.jsx("div",{className:Bt.title_voice}),M.jsxs("div",{className:`${Bt.Label_row} ${Bt.mt32} ${Bt.Label_row_right}`,children:[M.jsx("span",{className:Bt.Label_row_text,children:""}),M.jsx("span",{className:Bt.Label_row_decoration})]}),M.jsx("div",{className:Bt.Slider_wrapper,children:M.jsx(Q0,{initValue:r.optionData.volumeMain,uniqueID:"",onChange:o=>{const s=o.target.value;n(Ho({key:"volumeMain",value:Number(s)})),mi()}})}),M.jsxs("div",{className:`${Bt.Label_row} ${Bt.mt32} ${Bt.Label_row_right}`,children:[M.jsx("span",{className:Bt.Label_row_text,children:""}),M.jsx("span",{className:Bt.Label_row_decoration})]}),M.jsx("div",{className:Bt.Slider_wrapper,children:M.jsx(Q0,{initValue:r.optionData.bgmVolume,uniqueID:"",onChange:o=>{const s=o.target.value;n(Ho({key:"bgmVolume",value:Number(s)})),mi()}})}),M.jsxs("div",{className:`${Bt.Label_row} ${Bt.mt32} ${Bt.Label_row_right}`,children:[M.jsx("span",{className:Bt.Label_row_text,children:""}),M.jsx("span",{className:Bt.Label_row_decoration})]}),M.jsx("div",{className:Bt.Slider_wrapper,children:M.jsx(Q0,{initValue:r.optionData.seVolume,uniqueID:"",onChange:o=>{const s=o.target.value;n(Ho({key:"seVolume",value:Number(s)})),n(Ho({key:"uiSeVolume",value:Number(s)})),mi()}})}),M.jsxs("div",{className:`${Bt.Label_row} ${Bt.mt22} ${Bt.Label_row_right}`,children:[M.jsx("span",{className:Bt.Label_row_text,children:""}),M.jsx("span",{className:Bt.Label_row_decoration})]}),M.jsx("div",{className:Bt.Slider_wrapper,children:M.jsx(Q0,{initValue:r.optionData.vocalVolume,uniqueID:"",onChange:o=>{const s=o.target.value;n(Ho({key:"vocalVolume",value:Number(s)})),mi()}})})]})]})]})},Bke=()=>{const t=ft(r=>r.GUI);let e;switch(t.currentMenuTag){case Gr.Save:e=M.jsx(uke,{});break;case Gr.Load:e=M.jsx(cke,{});break;case Gr.Option:e=M.jsx(Lke,{});break}return M.jsx(M.Fragment,{children:t.showMenuPanel&&M.jsxs("div",{className:x8.Menu_main,children:[M.jsx("div",{className:x8.Menu_TagContent,children:e}),Gr.Option?null:M.jsx(jOe,{})]})})},Dke="_MainStage_main_9enex_1",Uke="_MainStage_main_container_9enex_10",jke="_MainStage_bgContainer_9enex_17",$ke="_MainStage_showBgSoftly_9enex_1",Gke="_MainStage_bgContainer_Settled_9enex_27",Vke="_MainStage_oldBgContainer_9enex_37",Hke="_MainStage_oldBgFadeout_9enex_1",zke="_MainStage_oldBgContainer_Settled_9enex_47",Xke="_pixiContainer_9enex_72",Wke="_chooseContainer_9enex_77",G2={MainStage_main:Dke,MainStage_main_container:Uke,MainStage_bgContainer:jke,MainStage_showBgSoftly:$ke,MainStage_bgContainer_Settled:Gke,MainStage_oldBgContainer:Vke,MainStage_oldBgFadeout:Hke,MainStage_oldBgContainer_Settled:zke,pixiContainer:Xke,chooseContainer:Wke};function Yke(){const t=ft(r=>r.userData.optionData.textboxFont);function e(){return _b(t).with(Kc.song,()=>'"", serif').with(Kc.lxgw,()=>'"LXGW", serif').with(Kc.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function N8(t){switch(t){case 0:return 150;case 1:return 205;case 2:return 240;default:return 205}}const qke="_TextBox_EventHandler_3ooeu_1",Kke="_TextBox_Container_3ooeu_9",Zke="_showSoftly_3ooeu_1",Jke="_TextBox_main_3ooeu_24",Qke="_TextBox_textElement_start_3ooeu_50",e3e="_TextDelayShow_3ooeu_1",t3e="_outer_3ooeu_56",r3e="_inner_3ooeu_65",n3e="_zhanwei_3ooeu_74",i3e="_TextBox_textElement_Settled_3ooeu_79",a3e="_TextBox_showName_3ooeu_84",o3e="_outerName_3ooeu_94",s3e="_TextBox_showName_avatar_3ooeu_98",l3e="_TextBox_showName_player_3ooeu_104",u3e="_TextBox_ShowName_Background_3ooeu_110",c3e="_miniAvatarContainer_3ooeu_122",f3e="_miniAvatarImg_3ooeu_142",h3e="_nameContainer_3ooeu_147",d3e="_innerName_3ooeu_160",p3e="_line_3ooeu_167",v3e="_line_avatar_3ooeu_175",g3e="_line_hide_3ooeu_179",m3e="_text_3ooeu_183",qr={TextBox_EventHandler:qke,TextBox_Container:Kke,showSoftly:Zke,TextBox_main:Jke,TextBox_textElement_start:Qke,TextDelayShow:e3e,outer:t3e,inner:r3e,zhanwei:n3e,TextBox_textElement_Settled:i3e,TextBox_showName:a3e,outerName:o3e,TextBox_showName_avatar:s3e,TextBox_showName_player:l3e,TextBox_ShowName_Background:u3e,miniAvatarContainer:c3e,miniAvatarImg:f3e,nameContainer:h3e,innerName:d3e,line:p3e,line_avatar:v3e,line_hide:g3e,text:m3e};function _3e(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:c,miniAvatar:l,showName:u,font:f,textDuration:h,isUseStroke:p,textboxOpacity:d,dialogueMode:g,textAlign:m}=t,v=fz("Stage/TextBox/textbox.scss");he.useEffect(()=>{function b(){[...document.querySelectorAll(".Textelement_start")].forEach(C=>{C.className=v("TextBox_textElement_Settled",qr.TextBox_textElement_Settled)})}return $.events.textSettle.on(b),()=>{$.events.textSettle.off(b)}},[]);let _=0;const y=e.map((b,w)=>{const E=b.map((C,T)=>{let A=_*r;_++;let I=n.length;return n!==""&&T>=I&&(A=A-I*r),T<I?M.jsx("span",{id:`${A}`,className:v("TextBox_textElement_Settled",qr.TextBox_textElement_Settled),style:{animationDelay:`${A}ms`,animationDuration:`${h}ms`},children:M.jsxs("span",{className:qr.zhanwei,children:[C,M.jsx("span",{className:v("outer",qr.outer),children:C}),p&&M.jsx("span",{className:v("inner",qr.inner),children:C})]})},i+T):M.jsx("span",{"data-text":C,id:`${A}`,className:`${v("TextBox_textElement_start",qr.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${A}ms`,position:"relative"},children:M.jsxs("span",{className:qr.zhanwei,children:[C,M.jsx("span",{className:v("outer",qr.outer),children:C}),p&&M.jsx("span",{className:v("inner",qr.inner),children:C})]})},i+T)});return M.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:E},`text-line-${w}`)});return M.jsx(M.Fragment,{children:a&&M.jsxs("div",{className:qr.TextBox_Container,children:[M.jsx("div",{className:v("TextBox_main",qr.TextBox_main),style:{opacity:`${d/100}`}}),M.jsxs("div",{id:"textBoxMain",className:qr.TextBox_main,style:{fontFamily:f},children:[M.jsxs("div",{id:"miniAvatar",className:v("miniAvatarContainer",qr.miniAvatarContainer),children:[l!==""&&M.jsx("div",{}),l!==""&&M.jsx("img",{className:v("miniAvatarImg",qr.miniAvatarImg),alt:"miniAvatar",src:l})]}),u!==""&&g!=="narrator"&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:v("TextBox_showName",qr.TextBox_showName),style:{opacity:`${d/100}`,fontSize:"200%"},children:M.jsx("div",{style:{opacity:0},children:u.split("").map((b,w)=>M.jsx("span",{style:{position:"relative"},children:M.jsxs("span",{className:qr.zhanwei,children:[b,M.jsx("span",{className:v("outerName",qr.outerName),children:b}),p&&M.jsx("span",{className:v("innerName",qr.innerName),children:b})]})},b+w))})}),M.jsx("div",{className:`${qr.TextBox_showName} ${l?qr.TextBox_showName_avatar:""}`,children:u.split("").map((b,w)=>M.jsx("span",{style:{position:"relative"},children:M.jsxs("span",{className:qr.zhanwei,children:[b,M.jsx("span",{className:v("outerName",qr.outerName),children:b}),p&&M.jsx("span",{className:v("innerName",qr.innerName),children:b})]})},b+w))},u)]}),M.jsx("div",{className:`${qr.line} ${g==="narrator"?qr.line_hide:""} ${l?qr.line_avatar:""}`}),M.jsx("div",{className:v("text",qr.text),style:{flexFlow:"column",overflow:"hidden",textAlign:m||g==="narrator"?"center":"left"},children:y})]})]})})}const Az=navigator.userAgent,y3e=/firefox/i.test(Az),x3e=/^((?!chrome|android).)*safari/i.test(Az),b3e=()=>{const[t,e]=he.useState(!0);he.useEffect(()=>{const y=()=>{const b=Yp().height||ef.height,w=Yp().width||ef.width,E=window.innerHeight,C=window.innerWidth,T=E/b,A=C/w,I=C/b,O=E/w;[T,A,I,O].forEach(P=>{P<=.2?e(!1):e(!0)})};return window.addEventListener("resize",y),y(),()=>{window.removeEventListener("resize",y)}},[]);const r=ft(y=>y.stage),n=ft(y=>y.userData),i=HH(n.optionData.textSpeed),a=fAe(n.optionData.textSpeed);let o=N8(n.optionData.textSize)+"%";const s=Yke(),c=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;c&&r.showTextSize!==-1&&(o=N8(r.showTextSize)+"%",l=r.showTextSize);const u=_b(n.optionData.textSize).with(wu.small,()=>3).with(wu.medium,()=>2).with(wu.large,()=>2).default(()=>2),f=Iz(r.showText,u),h=r.showName,p=r.currentConcatDialogPrev,d=r.currentDialogKey,g=r.miniAvatar,m=n.optionData.textboxOpacity,v=r.dialogueMode,_=_3e;return M.jsx(_,{textArray:f,isText:c,textDelay:i,showName:h,currentConcatDialogPrev:p,fontSize:o,currentDialogKey:d,isSafari:x3e,isFirefox:y3e,miniAvatar:g,textDuration:a,font:s,textSizeState:l,lineLimit:u,isUseStroke:t,textboxOpacity:m,dialogueMode:v})};function M8(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function Iz(t,e,r){return t.split("|").map(o=>E3e(o)).map(o=>{const s=[];return o.forEach((c,l)=>{_b(c.type).with("SegmentType.String",()=>{const u=w3e(c.value);s.push(...u)}).endsWith("SegmentType.Link",()=>{const u=c.value,f=M.jsxs("ruby",{children:[u.text,M.jsx("rt",{children:u.link})]},l+u.text);s.push(f)})}),s}).slice(0,r?void 0:e)}function w3e(t){if(!t)return[];const e=[];let r="",n=M8(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(""),n=!1;else if(M8(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function E3e(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];r.push({type:"SegmentType.Link",value:{text:i,link:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r}const S3e=()=>{var y;const t=ft(b=>b.stage),e=ft(b=>b.GUI.titleBgm),r=ft(b=>b.GUI.showTitle),n=ft(b=>b.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,c=t.uiSe,l=i*.01*(((y=n.optionData)==null?void 0:y.seVolume)??100)*.01,u=i*.01*(n.optionData.uiSeVolume??50)*.01,f=ft(b=>b.GUI.isEnterGame),[h,p]=he.useState(""),[d,g]=he.useState(""),[m,v]=he.useState(setTimeout(()=>{},0)),_=(b,w,E)=>{E>=0?b.volume=0:b.volume=w;const C=10,T=w/E*C,A=()=>{const I=setTimeout(()=>{b.volume+T>=w?b.volume=w:b.volume+T<=0?(b.volume=0,ue.dispatch(Lt({key:"bgm",value:{src:"",enter:0,volume:100}}))):(b.volume+=T,A())},C);v(I)};A()};return he.useEffect(()=>{clearTimeout(m);const b=document.getElementById("currentBgm");b&&(s===0?b.volume=o:_(b,o,s))},[h,o,s]),he.useEffect(()=>{(async()=>{var E;const w=await Wp(r?e:t.bgm.src);p(w),(E=document.getElementById("currentBgm"))==null||E.load()})()},[r,e,t.bgm.src]),he.useEffect(()=>{ze.debug(`${o}`)},[o]),he.useEffect(()=>{ze.debug(`: ${s}`)},[s]),he.useEffect(()=>{ze.debug(`${a}`);const b=document.getElementById("currentVocal");b&&(b.volume=a.toString())},[a]),he.useEffect(()=>{var E;if(c==="")return;const b=ue.getState().GUI.currentPlayAudio;ue.getState().stage.hasCustomClickSe,b&&(b==null||b.pause(),b.volume=0,(E=b==null?void 0:b.remove)==null||E.call(b),ue.dispatch(KT(null))),(async()=>{var A;const C=await Wp(c),T=document.createElement("audio");T.src=C,ue.dispatch(KT(T)),T.load(),T.loop=!1,isNaN(u)?(ze.error("UI SE Vol is NaN"),T.volume=isNaN(l)?i/100:l/100):T.volume=u,(A=T==null?void 0:T.play)==null||A.call(T),T.addEventListener("ended",()=>{var I;(I=T==null?void 0:T.remove)==null||I.call(T)}),ue.dispatch(Lt({key:"uiSe",value:""}))})()},[c]),he.useEffect(()=>{ze.debug(`: ${l}`)},[l]),he.useEffect(()=>{ze.debug(`: ${u}`)},[u]),he.useEffect(()=>{ze.debug(`: ${t.playVocal}`),Wp(t.playVocal).then(b=>{g(b),document.getElementById("currentVocal").load()})},[t.playVocal]),M.jsxs("div",{children:[M.jsx("audio",{id:"currentBgm",src:h,loop:!0,autoPlay:f},r.toString()+h),M.jsx("audio",{id:"currentVocal",src:d})]})},C3e=()=>{const t=ft(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),M.jsx("div",{className:ql.FullScreenPerform_main,style:{width:e,height:r,top:n},children:M.jsx("div",{id:"videoContainer"})})},T3e="_TextBox_EventHandler_449dq_2",A3e="_TextBox_main_449dq_10",I3e="_showSoftly_449dq_1",R3e="_TextBox_textElement_449dq_38",P3e="_TextBox_textElement_start_449dq_43",O3e="_TextDelayShow_449dq_1",k3e="_TextBox_textElement_Settled_449dq_48",F3e="_TextBox_showName_449dq_52",N3e="_miniAvatarContainer_449dq_68",M3e="_miniAvatarImg_449dq_76",V2={TextBox_EventHandler:T3e,TextBox_main:A3e,showSoftly:I3e,TextBox_textElement:R3e,TextBox_textElement_start:P3e,TextDelayShow:O3e,TextBox_textElement_Settled:k3e,TextBox_showName:F3e,miniAvatarContainer:N3e,miniAvatarImg:M3e},L3e=()=>{const t=ft(o=>o.stage),e=ft(o=>o.userData);he.useEffect(()=>{});const r=Mve.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let c=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(c=c-l*r),s<l?M.jsx("span",{id:`${c}`,className:V2.TextBox_textElement_Settled,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s):M.jsx("span",{id:`${c}`,className:V2.TextBox_textElement_start,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s)});return M.jsx("div",{id:"textBoxMain",className:V2.TextBox_main,children:M.jsx("div",{style:{fontSize:n},children:a})})};function B3e(t){const e=t.bgName;he.useEffect(()=>{var n,i,a;const r="bg-main";if(e!==""){const{bgX:o,bgY:s}=t,c=(n=$.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);c&&c.sourceUrl!==e&&L8(c),(i=$.gameplay.pixiStage)==null||i.addBg(r,e,o,s),Cg(e),ze.debug(""),setTimeout(()=>{const{duration:l,animation:u}=La("bg-main","enter",!0);$.gameplay.pixiStage.registerPresetAnimation(u,"bg-main-softin",r,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),l)},32)}else{const o=(a=$.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(r);o&&L8(o)}},[e])}function L8(t){var i,a;(i=$.gameplay.pixiStage)==null||i.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off",(a=$.gameplay.pixiStage)==null||a.removeStageObjectByKey(e);const{duration:r,animation:n}=La("bg-main-off","exit",!0);$.gameplay.pixiStage.registerAnimation(n,"bg-main-softoff","bg-main-off"),setTimeout(()=>{var o,s;(o=$.gameplay.pixiStage)==null||o.removeAnimation("bg-main-softoff"),(s=$.gameplay.pixiStage)==null||s.removeStageObjectByKey("bg-main-off")},r)}async function Rz(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch file: ${e.status} ${e.statusText}`);const r=await e.arrayBuffer();return new Uint8Array(r)}function D3e(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t,s=he.useMemo(()=>i.map(c=>c.key).join(","),[i]);he.useEffect(()=>{var c;for(const l of a)(c=$.gameplay.pixiStage)==null||c.changeModelMotionByKey(l.target,l.motion)},[a]),he.useEffect(()=>{var c;for(const l of o)(c=$.gameplay.pixiStage)==null||c.changeModelExpressionByKey(l.target,l.expression)},[o]),he.useEffect(()=>{var u,f;const c="fig-center",l="fig-center-softin";if(r!==""){const h=(u=$.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(c);h&&h.sourceUrl!==r&&el(h,l,t.effects),ep(void 0,c,r,"center"),ze.debug(""),setTimeout(()=>{const{duration:p,animation:d}=La(c,"enter");$.gameplay.pixiStage.registerPresetAnimation(d,l,c,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects(l),p)},32)}else{ze.debug("");const h=(f=$.gameplay.pixiStage)==null?void 0:f.getStageObjByKey(c);h&&h.sourceUrl!==r&&el(h,l,t.effects)}},[r]),he.useEffect(()=>{var u,f;const c="fig-left",l="fig-left-softin";if(e!==""){const h=(u=$.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(c);h&&h.sourceUrl!==e&&el(h,l,t.effects),ep(void 0,c,e,"left"),ze.debug(""),setTimeout(()=>{const{duration:p,animation:d}=La(c,"enter");$.gameplay.pixiStage.registerPresetAnimation(d,l,c,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects(l),p)},32)}else{ze.debug("");const h=(f=$.gameplay.pixiStage)==null?void 0:f.getStageObjByKey(c);h&&h.sourceUrl!==e&&el(h,l,t.effects)}},[e]),he.useEffect(()=>{var u,f;const c="fig-right",l="fig-right-softin";if(n!==""){const h=(u=$.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(c);h&&h.sourceUrl!==n&&el(h,l,t.effects),ep(void 0,c,n,"right"),ze.debug(""),setTimeout(()=>{const{duration:p,animation:d}=La(c,"enter");$.gameplay.pixiStage.registerPresetAnimation(d,l,c,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects(l),p)},32)}else{const h=(f=$.gameplay.pixiStage)==null?void 0:f.getStageObjByKey(c);h&&h.sourceUrl!==n&&el(h,l,t.effects)}},[n]),he.useEffect(()=>{var l,u,f;for(const h of i){const p=`${h.key}`,d=`${h.key}-softin`;if(h.name!==""){const g=(l=$.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(p);g?g.sourceUrl!==h.name&&(el(g,d,t.effects),ep(void 0,p,h.name,h.basePosition),ze.debug(`${h.key}`),setTimeout(()=>{const{duration:m,animation:v}=La(p,"enter");$.gameplay.pixiStage.registerPresetAnimation(v,d,p,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects(d),m)},32)):(ep(void 0,p,h.name,h.basePosition),ze.debug(`${h.key}`),setTimeout(()=>{const{duration:m,animation:v}=La(p,"enter");$.gameplay.pixiStage.registerPresetAnimation(v,d,p,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects(d),m)},32))}else{const g=(u=$.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(p);g&&g.sourceUrl!==h.name&&el(g,d,t.effects)}}const c=(f=$.gameplay.pixiStage)==null?void 0:f.getFigureObjects();if(c){for(const h of c)if(!(h.key==="fig-left"||h.key==="fig-center"||h.key==="fig-right"||h.key.endsWith("-off"))){const p=h.key;if(i.findIndex(g=>g.key===p)<0){const g=`${h.key}-softin`;el(h,g,t.effects)}}}},[s])}function el(t,e,r){var c,l,u;if((c=$.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),$.gameplay.isFast){ze.info(""),(l=$.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=$.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=La(i,"exit");$.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=$.gameplay.pixiStage)==null||f.removeAnimation(a),(h=$.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function ep(t,...e){var n,i;const r=e[1];if(r.endsWith(".json"))return U3e(...e);if(r.endsWith(".skel"))return(n=$.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e);if(r.endsWith(".png"))Rz(r).then(a=>{var o;return(o=$.gameplay.pixiStage)==null?void 0:o.addFigure(...e,j3e(a))});else return(i=$.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function U3e(...t){}function j3e(t){const e=new Uint8Array([137,80,78,71,13,10,26,10]);if(!t.slice(0,8).every((i,a)=>i===e[a]))return!1;const r=new Uint8Array([97,99,84,76]),n=37;return!!t.slice(n,n+4).every((i,a)=>i===r[a])}function $3e(t){const{popUpImageName:e,popUpImageNameLeft:r,popUpImageNameRight:n,freePopUpImage:i,popImgLive2dMotion:a,popImgLive2dExpression:o}=t;he.useEffect(()=>{var s;for(const c of a)(s=$.gameplay.pixiStage)==null||s.changeModelMotionByKey(c.target,c.motion)},[a]),he.useEffect(()=>{var s;for(const c of o)(s=$.gameplay.pixiStage)==null||s.changeModelExpressionByKey(c.target,c.expression)},[o]),he.useEffect(()=>{var l,u;const s="popImg-center",c="popImg-center-softin";if(e!==""){const f=(l=$.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==e&&tl(f,c,t.effects),tp(void 0,s,e,"center"),ze.debug(""),setTimeout(()=>{const{duration:h,animation:p}=La(s,"enter");$.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{ze.debug("");const f=(u=$.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==e&&tl(f,c,t.effects)}},[e]),he.useEffect(()=>{var l,u;const s="popImg-left",c="popImg-left-softin";if(r!==""){const f=(l=$.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&tl(f,c,t.effects),tp(void 0,s,r,"left"),ze.debug(""),setTimeout(()=>{const{duration:h,animation:p}=La(s,"enter");$.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{ze.debug("");const f=(u=$.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==r&&tl(f,c,t.effects)}},[r]),he.useEffect(()=>{var l,u;const s="popImg-right",c="popImg-right-softin";if(n!==""){const f=(l=$.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&tl(f,c,t.effects),tp(void 0,s,n,"right"),ze.debug(""),setTimeout(()=>{const{duration:h,animation:p}=La(s,"enter");$.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{const f=(u=$.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==n&&tl(f,c,t.effects)}},[n]),he.useEffect(()=>{var c,l,u;for(const f of i){const h=`${f.key}`,p=`${f.key}-softin`;if(f.name!==""){const d=(c=$.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(h);d?d.sourceUrl!==f.name&&(tl(d,p,t.effects),tp(void 0,h,f.name,f.basePosition),ze.debug(`${f.key}`),setTimeout(()=>{const{duration:g,animation:m}=La(h,"enter");$.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects(p),g)},32)):(tp(void 0,h,f.name,f.basePosition),ze.debug(`${f.key}`),setTimeout(()=>{const{duration:g,animation:m}=La(h,"enter");$.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>$.gameplay.pixiStage.removeAnimationWithSetEffects(p),g)},32))}else{const d=(l=$.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);d&&d.sourceUrl!==f.name&&tl(d,p,t.effects)}}const s=(u=$.gameplay.pixiStage)==null?void 0:u.getPopupObjects();if(s){for(const f of s)if(!(f.key==="popImg-left"||f.key==="popImg-center"||f.key==="popImg-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(d=>d.key===h)<0){const d=`${f.key}-softin`;tl(f,d,t.effects)}}}},[i])}function tl(t,e,r){var c,l,u;if((c=$.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),$.gameplay.isFast){ze.info(""),(l=$.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=$.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=La(i,"exit");$.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=$.gameplay.pixiStage)==null||f.removeAnimation(a),(h=$.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function tp(t,...e){var n,i;const r=e[1];if(r.endsWith(".json"))return G3e(...e);if(r.endsWith(".skel"))return(n=$.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e);if(r.endsWith(".png")||r.endsWith(".webp"))Rz(r).then(a=>{var o;return(o=$.gameplay.pixiStage)==null?void 0:o.addPopupImg(...e,V3e(a))});else return(i=$.gameplay.pixiStage)==null?void 0:i.addPopupImg(...e)}function G3e(...t){}function V3e(t){const e=new Uint8Array([137,80,78,71,13,10,26,10]);if(!t.slice(0,8).every((i,a)=>i===e[a]))return!1;const r=new Uint8Array([97,99,84,76]),n=37;return!!t.slice(n,n+4).every((i,a)=>i===r[a])}function H3e(t){const e=t.effects;setTimeout(()=>{z3e(e)},10)}function z3e(t){var r,n,i,a;const e=((r=$.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,c=t.find(u=>u.target===s);if(!(((n=$.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(c){const u=(i=$.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,B8(c.transform))}}else{const u=(a=$.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,B8(J1))}}}}function B8(t){if(!t)return{};const{position:e,...r}=t;return{...r,x:e.x,y:e.y}}function X3e(){const t=ft(e=>e.stage);return B3e(t),D3e(t),$3e(t),H3e(t),M.jsx("div",{style:{display:"none"}})}const W3e="_introContainer_119k8_1",Y3e={introContainer:W3e};function q3e(){return M.jsx("div",{className:Y3e.introContainer,id:"introContainer"})}const K3e="_variableNameWrapper_1e7yn_1",Z3e="_progressBarBg_1e7yn_10",J3e="_progressBar_1e7yn_10",Q3e="_affinityWrapper_1e7yn_21",e4e="_bounceIn_1e7yn_57",t4e="_fadeOutUp_1e7yn_72",ru={variableNameWrapper:K3e,progressBarBg:Z3e,progressBar:J3e,affinityWrapper:Q3e,bounceIn:e4e,fadeOutUp:t4e},Pz=()=>{const t=ft(s=>s.stage),e=ft(s=>s.GUI),[r,n]=he.useState([]),[i,a]=he.useState([]),o=he.useMemo(()=>{const s=new Map,c=t.showValues;return c!=null&&c.length&&c.forEach(l=>{s.set(l.key,l.value)}),s},[t]);return he.useEffect(()=>{t.showValueList.forEach((s,c)=>{if(s.isShowValueSwitch&&i[c]){const l=o.get(s.showValueName);s.showProgress&&typeof l=="number"&&setTimeout(()=>{const u=document.getElementById(`myRect-${c}`),f=l/(s.maxValue??100)*i[c].width;u==null||u.setAttribute("width",f.toString())},16)}})},[t.showValueList,i]),M.jsxs(M.Fragment,{children:[t.showValueList.map((s,c)=>{if(s.isShowValueSwitch){const l=r[c]||{width:0,height:0},u=i[c]||{width:0,height:0};return M.jsxs("div",{className:ru.variableNameWrapper,style:{position:e.showProgressAndAchievement?"absolute":"fixed",left:Ut(s.showValueAxisX)+"px",top:Ut(s.showValueAxisY)+"px",backgroundColor:s.showProgress?"transparent":"#08c"},children:[!s.showProgress&&(String(o.get(s.showValueName))||""),s.showProgress&&s.progressBarBgStyle&&M.jsx("img",{src:Pt(s.progressBarBgStyle.image,Tt.ui),alt:"progress",className:ru.progressBarBg,style:l.width?{width:l.width,height:l.height,opacity:1}:void 0,onLoad:f=>{n([...r,{width:Ut(f.currentTarget.naturalWidth),height:Ut(f.currentTarget.naturalHeight)}])}}),s.showProgress&&s.progressBarStyle&&M.jsxs(M.Fragment,{children:[M.jsx("img",{src:Pt(s.progressBarStyle.image,Tt.ui),alt:"progress",className:ru.progressBar,style:u.width?{width:u.width,height:u.height,opacity:1,clipPath:`url(#myClip-${c})`}:void 0,onLoad:f=>{a([...i,{width:Ut(f.currentTarget.naturalWidth),height:Ut(f.currentTarget.naturalHeight)}])}}),M.jsx("svg",{width:"0",height:"0",children:M.jsx("defs",{children:M.jsx("clipPath",{id:`myClip-${c}`,children:M.jsx("rect",{id:`myRect-${c}`,width:"0",height:u.height,style:{fill:"#ffffff"}})})})})]})]},s.showValueName+c.toString())}return null}),t.showAffinityChangeList.map((s,c)=>M.jsx(r4e,{item:s},s.key))]})};function r4e({item:t}){const[e,r]=he.useState(!1),[n,i]=he.useState({width:0,height:0}),[a,o]=he.useState({width:0,height:0});return he.useEffect(()=>{n.width&&a.width&&(setTimeout(()=>{r(!0)},1e3),setTimeout(()=>{const c=ue.getState().stage.showAffinityChangeList.filter(l=>l.key!==t.key);ue.dispatch(Nde(c))},3032))},[n,a]),M.jsxs("div",{className:`${ru.affinityWrapper} ${n.width&&a.width?ru.bounceIn:""} ${e?ru.fadeOutUp:""}`,children:[M.jsx("img",{src:t.rolePicture,alt:"affinity",className:ru.affinityRole,style:n.width?n:void 0,onLoad:s=>{i({width:Ut(s.currentTarget.naturalWidth),height:Ut(s.currentTarget.naturalHeight)})}}),M.jsx("img",{src:t.numberPicture,alt:"affinity number",className:ru.affinityNumber,style:a.width?a:void 0,onLoad:s=>{o({width:Ut(s.currentTarget.naturalWidth),height:Ut(s.currentTarget.naturalHeight)})}})]})}function D8(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function n4e(t,e,r){!e.controlsVisibility&&D8(t)&&r(yt({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!D8(t)&&r(yt({component:"controlsVisibility",visibility:!1}))}function i4e(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let H2=null;function a4e(t,e,r,n){i4e(e,r)?(H2&&clearTimeout(H2),n(yt({component:"controlsVisibility",visibility:!0})),H2=setTimeout(()=>{n(yt({component:"controlsVisibility",visibility:!1}))},1e3)):n4e(t,r,n)}const o4e=()=>{const t=ft(n=>n.stage),e=ft(n=>n.GUI),r=Zr();return cPe({isDisableCtrl:!0}),M.jsxs("div",{className:G2.MainStage_main,children:[M.jsx(C3e,{}),M.jsx(X3e,{}),M.jsx("div",{id:"pixiContianer",className:G2.pixiContainer,style:{zIndex:Pk?"-5":void 0}}),M.jsx("div",{id:"chooseContainer",className:G2.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&M.jsx(b3e,{}),e.showTextBox&&t.enableFilm!==""&&M.jsx(L3e,{}),M.jsx(S3e,{}),M.jsx("div",{onClick:()=>{if(!e.showTextBox){r(yt({component:"showTextBox",visibility:!0}));return}tk(),ti()},onDoubleClick:()=>{$.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&a4e(n,t,e,r)}),M.jsx(q3e,{}),e.showProgressAndAchievement&&M.jsx(Pz,{})]})},s4e=()=>{const t=Gu("gaming."),{i18n:e}=Ab(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=On();e.language;const a=he.useRef(0),o=ft(f=>f.GUI),s=ft(f=>f.stage),c=Zr(),l=(f,h)=>{c(yt({component:f,visibility:h}))},u=ft(f=>f.saveData.saveData);if(t("noSaving"),u[0]){const f=u[0];Xr.slPreviewMain,Xr.imgContainer,f.previewImage,Xr.textContainer,f.nowStageState.showName,f.nowStageState.showText}return M.jsx(M.Fragment,{children:o.showTextBox&&s.enableFilm===""&&M.jsxs("div",{className:Xr.main,style:{visibility:o.controlsVisibility?"visible":"hidden"},children:[M.jsx("span",{id:"Button_ControlPanel_auto",className:`${Xr.singleButton} ${Xr.singleButton_auto} interactive`,title:"",onClick:()=>{oH(),n()},onMouseDown:f=>{const h=f.currentTarget;h.className=`${Xr.singleButton} ${Xr.singleButton_auto} interactive btn-clicked`,a.current=Date.now()},onMouseUp:f=>{const h=Date.now()-a.current;let p=f.currentTarget;setTimeout(()=>{p.className=`${Xr.singleButton} ${Xr.singleButton_auto} interactive`,p=null},h-350>0?0:350-h)},onMouseEnter:r,children:M.jsx("span",{className:Xr.autoIcon})}),M.jsx("span",{id:"Button_ControlPanel_fast",className:`${Xr.singleButton} ${Xr.singleButton_fast} interactive`,title:"",onClick:()=>{cH(),n()},onMouseDown:f=>{const h=f.currentTarget;h.className=`${Xr.singleButton} ${Xr.singleButton_fast} interactive btn-clicked`,a.current=Date.now()},onMouseUp:f=>{const h=Date.now()-a.current;let p=f.currentTarget;setTimeout(()=>{p.className=`${Xr.singleButton} ${Xr.singleButton_fast} interactive`,p=null},h-350>0?0:350-h)},onMouseEnter:r,children:M.jsx("span",{className:Xr.fastIcon})}),M.jsx("span",{className:`${Xr.singleButton} interactive`,title:"",onClick:()=>{$.gameplay.isAuto&&ab(),l("showBacklog",!0),l("showTextBox",!1),n()},onMouseDown:f=>{const h=f.currentTarget;h.className=`${Xr.singleButton} interactive btn-clicked`,a.current=Date.now()},onMouseUp:f=>{const h=Date.now()-a.current;let p=f.currentTarget;setTimeout(()=>{p.className=`${Xr.singleButton} interactive`,p=null},h-350>0?0:350-h)},onMouseEnter:r,children:M.jsx("span",{className:Xr.historyIcon})})]})})},l4e=()=>{var p,d;Gu("gaming.");const{playSeEnter:t,playSeClick:e}=On(),r=ft(g=>g.GUI),n=Zr(),[i,a]=he.useState(!1),[o,s]=he.useState(!1);let c=he.useRef();const[l,u]=he.useState(""),f=he.useRef(0),h=he.useMemo(()=>{let g=[];for(let m=0;m<$.backlogManager.getBacklog().length;m++){const v=$.backlogManager.getBacklog()[m],_=Iz(v.currentStageState.showText,3,!0),b=u4e(_).map((E,C)=>M.jsx("div",{children:E.map((T,A)=>T==="<br />"?M.jsx("br",{},`br${A}`):T)},`backlog-line-${C}`)),w=M.jsxs("div",{className:ai.backlog_item,style:{animationDelay:`${20*($.backlogManager.getBacklog().length-m)}ms`},children:[M.jsxs("div",{className:ai.backlog_content_container,onClick:E=>{e(),hIe(m),E.preventDefault(),E.stopPropagation()},children:[M.jsxs("div",{className:ai.backlog_func_area,children:[M.jsx("div",{className:ai.backlog_item_content_name,children:v.currentStageState.showName&&`${v.currentStageState.showName}`||""}),v.currentStageState.vocal?M.jsx("div",{onMouseDown:E=>{const C=E.currentTarget;C.className=`${ai.backlog_item_button_element} interactive btn-clicked`,f.current=Date.now()},onMouseUp:E=>{const C=Date.now()-f.current;let T=E.currentTarget;setTimeout(()=>{T.className=`${ai.backlog_item_button_element} interactive`,T=null},C-350>0?0:350-C)},onClick:E=>{e(),E.preventDefault(),E.stopPropagation();const C=document.getElementById("backlog_audio_play_element_"+m);if(C){C.currentTime=0;const T=ue.getState().userData,A=T.optionData.volumeMain;C.volume=A*.01*T.optionData.vocalVolume*.01,Wp(v.currentStageState.vocal).then(()=>{u(l),C.load(),C&&(C.onloadeddata=()=>{C.play()})})}},onMouseEnter:t,className:`${ai.backlog_item_button_element} interactive`,children:M.jsx("span",{className:ai.sound_icon})}):null]}),M.jsx("div",{className:ai.backlog_item_content,children:M.jsx("span",{className:ai.backlog_item_content_text,children:b})})]}),M.jsx("audio",{id:"backlog_audio_play_element_"+m,src:l})]},"backlogItem"+v.currentStageState.showText+v.saveScene.currentSentenceId);g.unshift(w)}return g},[((d=(p=$.backlogManager.getBacklog()[$.backlogManager.getBacklog().length-1])==null?void 0:p.saveScene)==null?void 0:d.currentSentenceId)??0]);return he.useEffect(()=>{r.showBacklog?(c.current&&clearTimeout(c.current),a(!1),s(!0),setTimeout(()=>{s(!1)},0)):c.current=setTimeout(()=>{a(!0),c.current=void 0},700+80)},[r.showBacklog]),M.jsx(M.Fragment,{children:M.jsxs("div",{className:`
          ${r.showBacklog?ai.Backlog_main:ai.Backlog_main_out}
          ${i?ai.Backlog_main_out_IndexHide:""}
          `,children:[M.jsx("div",{className:ai.backlog_title,onClick:()=>{ze.info("Rua! Testing")},children:M.jsx("div",{className:`${ai.backlog_top_icon} interactive`,onMouseDown:g=>{const m=g.currentTarget;m.className=`${ai.backlog_top_icon} interactive btn-clicked`,f.current=Date.now()},onMouseUp:g=>{const m=Date.now()-f.current;let v=g.currentTarget;setTimeout(()=>{v.className=`${ai.backlog_top_icon} interactive`,v=null,setTimeout(()=>{e(),n(yt({component:"showBacklog",visibility:!1})),n(yt({component:"showTextBox",visibility:!0}))},320)},m-350>0?0:350-m)},onMouseEnter:t})}),r.showBacklog&&M.jsx("div",{className:`${ai.backlog_content} ${o?ai.Backlog_main_DisableScroll:""}`,children:h})]})})};function u4e(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const c4e="_extra_zd09i_2",f4e="_extraTop_zd09i_12",h4e="_backIcon_zd09i_24",d4e="_mainContainer_zd09i_46",p4e="_mainTab_zd09i_53",v4e="_mainTab_bgm_zd09i_61",g4e="_mainTab_unselect_bgm_zd09i_71",m4e="_mainTab_cg_zd09i_81",_4e="_mainTab_unselect_cg_zd09i_91",y4e="_bgmContainer_zd09i_101",x4e="_bgmListContainer_zd09i_107",b4e="_bgmElement_zd09i_115",w4e="_bgmName_zd09i_126",E4e="_bgm_item_name_zd09i_136",S4e="_bgm_sound_wrapper_zd09i_144",C4e="_bgm_sound_unselect_zd09i_152",T4e="_bgm_sound_select_zd09i_157",A4e="_bgmLocked_zd09i_162",I4e="_bgmUnlocked_zd09i_166",R4e="_footer_zd09i_175",P4e="_footer_page_container_zd09i_185",O4e="_footer_page_indicator_zd09i_190",k4e="_footer_page_icon_checked_zd09i_199",F4e="_footer_page_icon_unchecked_zd09i_204",N4e="_cgMain_zd09i_217",M4e="_cgContainer_zd09i_222",L4e="_cgElement_zd09i_230",B4e="_cgUnLockElement_zd09i_237",D4e="_unlockedCGImg_zd09i_242",U4e="_cgShowDiv_zd09i_249",j4e="_cgShowDivWarpper_zd09i_258",$4e="_cgNav_zd09i_267",G4e="_cgNav_active_zd09i_286",V4e="_showFullContainer_zd09i_296",H4e="_showFullCgMain_zd09i_309",z4e="_fullCgIn_zd09i_1",X4e="_Btn_zd09i_330",W4e="_Btn_r_zd09i_344",Y4e="_videoContainer_zd09i_353",q4e="_playButtonIcon_zd09i_360",K4e="_extra_icon_softin_zd09i_1",Z4e="_bgmElement_In_zd09i_1",jt={extra:c4e,extraTop:f4e,backIcon:h4e,mainContainer:d4e,mainTab:p4e,mainTab_bgm:v4e,mainTab_unselect_bgm:g4e,mainTab_cg:m4e,mainTab_unselect_cg:_4e,bgmContainer:y4e,bgmListContainer:x4e,bgmElement:b4e,bgmName:w4e,bgm_item_name:E4e,bgm_sound_wrapper:S4e,bgm_sound_unselect:C4e,bgm_sound_select:T4e,bgmLocked:A4e,bgmUnlocked:I4e,footer:R4e,footer_page_container:P4e,footer_page_indicator:O4e,footer_page_icon_checked:k4e,footer_page_icon_unchecked:F4e,cgMain:N4e,cgContainer:M4e,cgElement:L4e,cgUnLockElement:B4e,unlockedCGImg:D4e,cgShowDiv:U4e,cgShowDivWarpper:j4e,cgNav:$4e,cgNav_active:G4e,showFullContainer:V4e,showFullCgMain:H4e,fullCgIn:z4e,Btn:X4e,Btn_r:W4e,videoContainer:Y4e,playButtonIcon:q4e,extra_icon_softin:K4e,bgmElement_In:Z4e},J4e=""+new URL("sound-icon.png",import.meta.url).href,Q4e=""+new URL("sound-choose.png",import.meta.url).href,eFe=""+new URL("bgm-locked-bg.png",import.meta.url).href,tFe=""+new URL("bgm-unlock-bg.png",import.meta.url).href,Oz=""+new URL("point-active.png",import.meta.url).href,kz=""+new URL("point-default.png",import.meta.url).href;function rFe(){const{playSeClick:t,playSeEnter:e}=On(),[r,n]=he.useState(1),[i,a]=he.useState([]),o=ft(d=>d.GUI.titleBgm),s=ft(d=>d.userData.appreciationData),c="Title_BGM";let l=c;const u=s.bgm.length;s.bgm.forEach((d,g)=>{d.url===o&&(l=d.name)});const f=Math.ceil(u/8)||1,h=$u("");l!==c&&l!==h.value&&h.set(l);const p=Zr();return he.useEffect(()=>{a(s.bgm.slice((r-1)*8,r*8)||[])},[s.bgm,r]),M.jsxs("div",{className:jt.bgmContainer,children:[M.jsxs("div",{className:jt.bgmListContainer,children:[i.map((d,g)=>M.jsxs("div",{onClick:()=>{t(),h.set(d.name),p(WT({asset:"titleBgm",value:d.url}))},className:`${jt.bgmElement} interactive`,onMouseEnter:e,children:[M.jsxs("div",{className:jt.bgmName,children:[M.jsx("div",{className:jt.bgm_item_name,children:d.name}),M.jsx("div",{className:jt.bgm_sound_wrapper,children:M.jsx("img",{src:d.name===h.value?Q4e:J4e,alt:"",className:d.name===h.value?jt.bgm_sound_select:jt.bgm_sound_unselect})})]}),M.jsx("img",{src:tFe,className:jt.bgmUnlocked,alt:""})]},d.name)),Array.from({length:8-i.length}).map((d,g)=>M.jsx("div",{className:`${jt.bgmElement}`,style:{cursor:"default"},children:M.jsx("img",{src:eFe,alt:"",className:jt.bgmLocked})},g))]}),M.jsxs("div",{className:jt.footer,children:[M.jsx("div",{className:`${jt.Btn} interactive`,onMouseEnter:e,onClick:()=>{t(),r>1&&n(r-1)}}),M.jsx("div",{className:jt.footer_page_container,children:Array.from({length:f}).map((d,g)=>M.jsx("div",{className:`${jt.footer_page_indicator} interactive`,onMouseEnter:e,onClick:()=>{t(),n(g+1)},children:M.jsx("img",{src:g+1===r?Oz:kz,alt:"",className:g+1===r?jt.footer_page_icon_checked:jt.footer_page_icon_unchecked})},g))}),M.jsx("div",{className:`${jt.Btn} ${jt.Btn_r} interactive`,onMouseEnter:e,onClick:()=>{t(),r!==f&&n(r+1)}})]})]})}const Av=({url:t,videoPlayerRef:e,...r})=>{const n=he.useRef(null);return he.useEffect(()=>{if(EA.isSupported()&&n.current){const i=t.endsWith(".flv")?"flv":"mp4";fetch(t).then(a=>a.status>200?null:a.arrayBuffer()).then(async a=>{var h;if(!a)return;const o="ENCRYPTED",s=o.length,c=new Uint8Array(a.slice(0,s));let l=!1;for(let p=0;p<s;p++){if(String.fromCharCode(c[p])!==o[p]){l=!1;break}l=!0}let u;if(l){const p=a.slice(s);if((h=window.crypto)!=null&&h.subtle){const d=new Uint8Array([64,230,173,66,154,19,2,10,7,190,41,12,94,241,215,220,126,69,229,196,191,52,213,74,86,100,40,38,39,148,110,77]),g=new Uint8Array([157,107,172,116,198,78,232,113,78,121,89,206,247,82,113,208]);u=await ez(p,d,g,i)}else u=await QH(p,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",i)}else u=new Blob([new Uint8Array(a)],{type:`video/${i==="mp4"?"mp4":"x-flv"}`});const f=EA.createPlayer({type:t.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(u)});e&&(e.current=f),f.attachMediaElement(n.current),f.load()})}return()=>{}},[t]),M.jsx("video",{ref:n,...r,style:{width:"100%",height:"auto"},onClick:i=>{i.stopPropagation(),r.onClick&&r.onClick(i)}})};function nFe(t){const e=$u(!1),{playSeEnter:r,playSeClick:n}=On(),i=t.url.endsWith(".mp4")||t.url.endsWith(".flv"),a=Ur.useRef(null),o=document.getElementById("currentBgm"),s=Pt(t.url,i?Tt.video:Tt.background);let c=0;return o&&(c=o.volume),M.jsxs(M.Fragment,{children:[e.value&&M.jsx("div",{onClick:()=>{e.set(!e.value),n(),o.volume=c},className:`${jt.showFullContainer} interactive`,onMouseEnter:r,children:M.jsx("div",{className:jt.showFullCgMain,children:i?M.jsx(Av,{videoPlayerRef:a,url:s,controls:!0,autoPlay:!1,muted:!0},s+t.name):M.jsx("div",{style:{backgroundImage:`url('${s}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),M.jsx("div",{onClick:()=>{e.set(!e.value),o.volume=0,n()},onMouseEnter:r,className:`${jt.cgElement} ${jt.cgUnLockElement} interactive`,children:i?M.jsxs("div",{className:`${jt.videoContainer} ${jt.unlockedCGImg}`,children:[M.jsx(Av,{videoPlayerRef:a,url:s,controls:!1,autoPlay:!1,muted:!0},s+t.name),M.jsx("span",{className:jt.playButtonIcon})]}):M.jsx("div",{className:jt.unlockedCGImg,style:{background:`url('${s}') no-repeat center center`,backgroundSize:"cover"}})},t.name)]})}const iFe=""+new URL("cg-lock.png",import.meta.url).href;function aFe(){const t=ft(l=>l.userData.appreciationData),{playSeEnter:e,playSeClick:r}=On(),[n,i]=he.useState(1),[a,o]=he.useState([]),s=t.cg.length,c=Math.ceil(s/6)||1;return he.useEffect(()=>{o(t.cg.slice((n-1)*6,n*6)||[])},[t.cg,n]),M.jsxs("div",{className:jt.cgMain,children:[M.jsxs("div",{className:jt.cgContainer,children:[a.map((l,u)=>M.jsx(nFe,{name:l.name,url:l.url},u.toString()+l.url)),Array.from({length:6-a.length}).map((l,u)=>M.jsx("div",{className:jt.cgElement,style:{cursor:"default"},children:M.jsx("img",{src:iFe,alt:"",style:{width:"100%"}})},u))]}),M.jsxs("div",{className:jt.footer,children:[M.jsx("div",{className:`${jt.Btn} interactive`,onMouseEnter:e,onClick:()=>{r(),n>1&&i(n-1)}}),M.jsx("div",{className:jt.footer_page_container,children:Array.from({length:c}).map((l,u)=>M.jsx("div",{className:`${jt.footer_page_indicator} interactive`,onMouseEnter:e,onClick:()=>{r(),i(u+1)},children:M.jsx("img",{src:u+1===n?Oz:kz,alt:"",className:u+1===n?jt.footer_page_icon_checked:jt.footer_page_icon_unchecked})},u))}),M.jsx("div",{className:`${jt.Btn} ${jt.Btn_r} interactive`,onMouseEnter:e,onClick:()=>{r(),n!==c&&i(n+1)}})]})]})}const oFe=""+new URL("gallery-bg.webp",import.meta.url).href;function sFe(){const{playSeClick:t,playSeEnter:e}=On(),r=ft(c=>c.GUI.showExtra),n=Zr(),[i,a]=he.useState("bgm"),o=ft(c=>c.GUI.gameUIConfigs[Mn.extra]);he.useEffect(()=>{document.getElementById("currentBgm").pause()},[]),he.useEffect(()=>{r&&n(lr.setLoadVideo(!0))},[r]);const s=()=>{n(yt({component:"showExtra",visibility:!1})),n(lr.setLoadVideo(!1))};return M.jsx(M.Fragment,{children:r&&M.jsxs("div",{className:jt.extra,style:{background:`url(${oFe}) no-repeat center center`,backgroundSize:"cover"},children:[M.jsx(Jn,{item:o.buttons.Extra_back_button,defaultClass:`${jt.backIcon} interactive`,onClick:s,onMouseEnter:e}),M.jsx(Jn,{item:o.other[u1.Extra_title],defaultClass:jt.extraTop}),M.jsxs("div",{className:jt.mainContainer,children:[M.jsxs("div",{className:jt.mainTab,children:[i==="bgm"?M.jsx("span",{className:`${jt.mainTab_bgm} interactive`}):M.jsx("span",{className:`${jt.mainTab_unselect_bgm} interactive`,onClick:()=>{a("bgm"),t()},onMouseEnter:e}),i==="cg"?M.jsx("span",{className:`${jt.mainTab_cg} interactive`}):M.jsx("span",{className:`${jt.mainTab_unselect_cg} interactive`,onClick:()=>{a("cg"),t()},onMouseEnter:e})]}),i==="bgm"?M.jsx(rFe,{}):M.jsx(aFe,{})]})]})})}const lFe="_tag_yghix_2",uFe="_container_yghix_17",cFe="_showContainer_yghix_1",fFe="_singleButton_yghix_33",hFe="_button_text_yghix_37",Ci={tag:lFe,container:uFe,showContainer:cFe,singleButton:fFe,button_text:hFe},dFe=()=>{const t=$u(!1),e=ft(a=>a.stage),r=Zr(),n=(a,o)=>{r(yt({component:a,visibility:o}))},i=a=>{r(qc(a))};return M.jsx(M.Fragment,{children:e.enableFilm!==""&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:Ci.tag,onClick:()=>{t.set(!t.value)},children:M.jsx(aOe,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&M.jsxs("div",{className:Ci.container,children:[M.jsx("span",{className:Ci.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:M.jsx("span",{className:Ci.button_text,children:" / BACKLOG"})}),M.jsx("span",{className:Ci.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:M.jsx("span",{className:Ci.button_text,children:" / REPLAY VOICE"})}),M.jsx("span",{id:"Button_ControlPanel_auto",className:Ci.singleButton,onClick:()=>{oH(),t.set(!t.value)},children:M.jsx("span",{className:Ci.button_text,children:" / AUTO"})}),M.jsx("span",{id:"Button_ControlPanel_fast",className:Ci.singleButton,onClick:()=>{cH(),t.set(!t.value)},children:M.jsx("span",{className:Ci.button_text,children:" / FAST"})}),M.jsx("span",{className:Ci.singleButton,onClick:()=>{t.set(!t.value),i(Gr.Save),n("showMenuPanel",!0)},children:M.jsx("span",{className:Ci.button_text,children:" / SAVE"})}),M.jsx("span",{className:Ci.singleButton,onClick:()=>{t.set(!t.value),i(Gr.Load),n("showMenuPanel",!0)},children:M.jsx("span",{className:Ci.button_text,children:" / LOAD"})}),M.jsx("span",{className:Ci.singleButton,onClick:()=>{t.set(!t.value),i(Gr.Option),n("showMenuPanel",!0)},children:M.jsx("span",{className:Ci.button_text,children:" / OPTIONS"})}),M.jsx("span",{className:Ci.singleButton,onClick:()=>{t.set(!t.value),If()},children:M.jsx("span",{className:Ci.button_text,children:" / TITLE"})})]})]})})},pFe="_devPanelMain_11x6i_1",vFe="_devPanelOpener_11x6i_13",U8={devPanelMain:pFe,devPanelOpener:vFe};function gFe(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function mFe(){function t(){return!!window.location.hash.match(/dev/)}const e=$u(!1),r=$u(window.location.hash),n=ft(c=>c.stage);he.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=Ab(),s=M.jsxs(M.Fragment,{children:[M.jsx("div",{onClick:()=>gFe(),children:"Save PIXI Screenshot"}),M.jsxs("div",{children:["Current Language:",o.language]}),M.jsx("div",{onClick:()=>{var c;return(c=$.gameplay.pixiStage)==null?void 0:c.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),M.jsx("div",{children:"Stage State"}),M.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return M.jsxs(M.Fragment,{children:[i&&e.value&&M.jsxs("div",{className:U8.devPanelMain,children:[M.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[M.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),M.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),M.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&M.jsx("div",{onClick:()=>e.set(!0),className:U8.devPanelOpener,children:"Open Dev Panel"})]})}function _Fe(t){return Vd[t]}function yFe(){const{i18n:t}=Ab(),e=i0(n=>n.userData),r=Zr();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??Vd.zhCn,o=_Fe(a);t.changeLanguage(o),r(Ho({key:"language",value:a})),ze.info(": "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&mi()}}const xFe="_trans_8uz61_2",bFe="_langWrapper_8uz61_10",wFe="_lang_8uz61_10",EFe="_langSelect_8uz61_29",SFe="_langSelectButton_8uz61_35",rp={trans:xFe,langWrapper:bFe,lang:wFe,langSelect:EFe,langSelectButton:SFe};function CFe(){const t=yFe(),[e,r]=he.useState(!1);he.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))||"0"?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return M.jsx(M.Fragment,{children:e&&M.jsx("div",{className:rp.trans,children:M.jsxs("div",{className:rp.langWrapper,children:[M.jsx("div",{className:rp.lang,children:"LANGUAGE SELECT"}),M.jsx("div",{className:rp.langSelect,children:Object.keys(GL).map(i=>M.jsx("div",{className:rp.langSelectButton,onClick:()=>n(Vd[i]),children:GL[i]},i))})]})})})}const TFe=()=>{const t=ft(n=>n.GUI),[e,r]=he.useState(!1);return he.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),null};function AFe(){const t=ft(i=>i.userData),e=ft(i=>i.GUI);Zr();const r=t.optionData.fullScreen,n=e.isEnterGame;he.useEffect(()=>{switch(r){case Is.on:{n&&(document.documentElement.requestFullscreen(),Oh&&Oh.lock(["Escape","F11"]));break}case Is.off:{document.fullscreenElement&&(document.exitFullscreen(),Oh&&Oh.unlock());break}}},[r])}const IFe="_gameMenuPanelWrapper_1bdvx_1",RFe="_gameMenuPanel_1bdvx_1",PFe="_menuButton_1bdvx_12",OFe="_gameMenuPanelContentWrapper_1bdvx_26",kFe="_mask_1bdvx_34",FFe="_gameMenuPanelContent_1bdvx_26",NFe="_buttonswrapper_1bdvx_54",MFe="_button_1bdvx_54",Sn={gameMenuPanelWrapper:IFe,gameMenuPanel:RFe,menuButton:PFe,gameMenuPanelContentWrapper:OFe,mask:kFe,gameMenuPanelContent:FFe,buttonswrapper:NFe,button:MFe},LFe=()=>{const t=Gu("gaming."),{playSeEnter:e,playSeClick:r,playSeDialogOpen:n}=On(),i=ft(v=>v.GUI),[a,o]=he.useState(!1),s=he.useRef(0);he.useEffect(()=>{o(i.isShowGameMenu)},[i.isShowGameMenu]);const c=Zr(),l=(v,_)=>{c(yt({component:v,visibility:_}))};he.useEffect(()=>{const v=_=>{_.keyCode===27&&ue.getState().GUI.isInGaming&&(r(),l("isShowGameMenu",!i.isShowGameMenu))};return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[]);const u=v=>{c(qc(v))},f=()=>{r(),l("isShowGameMenu",!0)},h=()=>{r(),l("isShowGameMenu",!1)},p=()=>{r(),u(Gr.Save),l("isShowGameMenu",!1),l("showMenuPanel",!0)},d=()=>{u(Gr.Load),l("isShowGameMenu",!1),l("showMenuPanel",!0),r()},g=()=>{u(Gr.Option),l("isShowGameMenu",!1),l("showMenuPanel",!0),r()},m=()=>{n(),$a({title:t("buttons.quitTips"),leftText:t("$common.cancel"),rightText:t("$common.confirm"),leftFunc:()=>{},rightFunc:()=>{l("isShowGameMenu",!1),l("isInGaming",!1),If(),VH()}})};return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:Sn.gameMenuPanel,children:M.jsx("div",{className:`${Sn.menuButton} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.menuButton} interactive btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.menuButton} interactive`,y=null,setTimeout(f,320)},_-350>0?0:350-_)}})}),a&&M.jsxs("div",{className:Sn.gameMenuPanelContentWrapper,children:[M.jsx("div",{className:Sn.mask}),M.jsx("div",{className:Sn.gameMenuPanelContent,children:M.jsxs("div",{className:Sn.buttonswrapper,children:[M.jsx("span",{className:`${Sn.button} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.button} interactive btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.button} interactive`,y=null,setTimeout(h,320)},_-350>0?0:350-_)},children:t("buttons.backToGame")}),M.jsx("span",{className:`${Sn.button} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.button} btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.button} interactive`,y=null,setTimeout(p,320)},_-350>0?0:350-_)},children:t("buttons.preserve")}),M.jsx("span",{className:`${Sn.button} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.button} btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.button} interactive`,y=null,setTimeout(d,320)},_-350>0?0:350-_)},children:t("buttons.read")}),M.jsx("span",{className:`${Sn.button} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.button} btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.button} interactive`,y=null,setTimeout(g,320)},_-350>0?0:350-_)},children:t("buttons.setting")}),M.jsx("span",{className:`${Sn.button} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.button} btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.button} interactive`,y=null,setTimeout(m,320)},_-350>0?0:350-_)},children:t("buttons.backToTitle")})]})})]})]})},BFe="_Loading_container_1k3ek_2",DFe="_spin_1k3ek_1",UFe={Loading_container:BFe,spin:DFe};function jFe(){const[t,e]=he.useState(!1);return he.useEffect(()=>window.pubsub.subscribe("loading",({loading:n})=>{e(n)}),[]),t?M.jsx("div",{className:UFe.Loading_container,dangerouslySetInnerHTML:{__html:JH}}):null}const $Fe="_storyLine_68ep4_2",GFe="_bg_animation_68ep4_1",VFe="_goBack_68ep4_16",HFe="_hideDefalutGobackBg_68ep4_33",zFe="_storyLine_content_68ep4_39",XFe="_storyLine_item_68ep4_48",WFe="_info_card_68ep4_54",YFe="_playButton_icon_68ep4_73",qFe="_name_68ep4_88",dc={storyLine:$Fe,bg_animation:GFe,goBack:VFe,hideDefalutGobackBg:HFe,storyLine_content:zFe,storyLine_item:XFe,info_card:WFe,playButton_icon:YFe,name:qFe},_d=t=>{const[e,r]=he.useState();return M.jsx("img",{...t,style:e?{...t.style,width:e.width,height:e.height}:t.style,onLoad:n=>{var i,a;(i=t.style)!=null&&i.width||(a=t.style)!=null&&a.height||r({width:Ut(n.currentTarget.naturalWidth),height:Ut(n.currentTarget.naturalHeight)})}})},KFe={storylineBg:"",storylineBgX:1280,storylineBgY:720},Fz=()=>{var m,v,_;const{playSeClick:t,playSeEnter:e}=On(),r=Zr(),n=ft(y=>y.GUI),i=ft(y=>y.stage);ft(y=>y.saveData);const a=ft(y=>y.saveData.allStorylineData),o=ft(y=>y.GUI.gameUIConfigs[Mn.storyline]),s=o.other.Storyline_item,[c,l]=he.useState(KFe);he.useEffect(()=>{const y=window.pubsub.subscribe("gameInfoReady",b=>{b&&HO()});return n.showStoryLine&&(r(lr.setShowStoryline(!1)),u()),y},[n.showStoryLine]);async function u(){var C,T,A,I;const y=Pt(ja.Storyline,Tt.scene),b=await Aa(y),E=ju(b,ja.Storyline,y).sentenceList;if((E==null?void 0:E.length)>0&&((C=E[0])==null?void 0:C.commandRaw)==="changeBg"){const O=((T=E[0])==null?void 0:T.content)??"";let P=1280,k=720;const F=window.localStorage.getItem("game-screen-size"),B=(F==null?void 0:F.split("x"))??[];(B==null?void 0:B.length)>0&&B[0]==="1920"&&(P=Number(B[0]),k=Number(B[1])),(I=(A=E[0])==null?void 0:A.args)==null||I.forEach(D=>{(D==null?void 0:D.key)==="x"?P=Number(D==null?void 0:D.value):(D==null?void 0:D.key)==="y"&&(k=Number(D==null?void 0:D.value))}),l({storylineBg:O,storylineBgX:P,storylineBgY:k})}}const f=()=>{If(),r(YT(!1))},h=(y,b)=>{y.stopPropagation(),r(YT(!1)),r(lr.setIsShowUnlock(!0)),r(yt({component:"showProgressAndAchievement",visibility:!1})),Ck(b.videoData).finally(()=>{var w;(w=window==null?void 0:window.pubsub)==null||w.publish("loading",{loading:!1})})};function p(y){return Pt(y,Tt.ui)}const d=!!i.storyLineBg,g=typeof c.storylineBgX=="number"&&typeof c.storylineBgY=="number"?{width:Ut(c.storylineBgX),height:Ut(c.storylineBgY),maxWidth:"none"}:{maxWidth:"none"};return M.jsx(M.Fragment,{children:n.showStoryLine&&M.jsxs("div",{className:dc.storyLine,id:"camera",style:d?{backgroundImage:"none"}:{},children:[!n.showProgressAndAchievement&&M.jsx(Jn,{item:o.buttons.Storyline_back_button,defaultClass:`
              ${dc.goBack} 
              ${(_=(v=(m=o.buttons.Storyline_back_button)==null?void 0:m.args)==null?void 0:v.style)!=null&&_.image?dc.hideDefalutGobackBg:""} 
              interactive`,onClick:f,onMouseEnter:e}),M.jsx(_d,{src:c.storylineBg,style:g}),(a==null?void 0:a.map((y,b)=>{const{name:w,thumbnailUrl:E,x:C,y:T,isUnlock:A,isHideName:I}=y.storyLine;if(!A)return null;let O=fi(s.args.style)||{},P={};O!=null&&O.fontSize&&(P.fontSize=O.fontSize),O!=null&&O.color&&(P.color=O.color),E&&(O={...O,position:"absolute",top:`${Ut(T)}px`,left:`${Ut(C)}px`});let k={};return O!=null&&O.width&&(k.width=O.width),O!=null&&O.height&&(k.height=O.height),M.jsxs("div",{className:`${dc.storyLine_item} interactive`,style:O,onClick:F=>{var B;(B=window==null?void 0:window.pubsub)==null||B.publish("loading",{loading:!0}),setTimeout(()=>{h(F,y)},200)},children:[M.jsx(_d,{src:p(E),style:k}),M.jsxs("div",{className:dc.info_card,children:[M.jsx("span",{className:dc.playButton_icon,style:{width:I?"100%":"50%"}}),I?null:M.jsx("span",{className:dc.name,style:P,children:w})]})]},`storyLine-${b}`)}))??null]})})},ZFe="_achievement_1gwon_1",JFe="_bg_animation_1gwon_1",QFe="_goback_1gwon_14",eNe="_hideDefalutGobackBg_1gwon_31",tNe="_achievement_content_1gwon_37",rNe="_achievement_current_1gwon_44",nNe="_text_1gwon_57",iNe="_number_1gwon_62",aNe="_pregessBar_1gwon_67",oNe="_pregressBar_inner_1gwon_76",sNe="_achievement_content_bg_1gwon_85",lNe="_achievement_list_1gwon_94",uNe="_achievement_item_1gwon_101",cNe="_unlockname_1gwon_114",fNe="_ripple_1gwon_131",hNe="_info_card_1gwon_134",dNe="_condition_1gwon_166",pNe="_condition_bg_active_1gwon_175",vNe="_time_1gwon_178",gNe="_description_1gwon_179",mNe="_info_card_position_right_1gwon_184",_Ne="_achievement_item_bg_active_1gwon_188",ii={achievement:ZFe,bg_animation:JFe,goback:QFe,hideDefalutGobackBg:eNe,achievement_content:tNe,achievement_current:rNe,text:nNe,number:iNe,pregessBar:aNe,pregressBar_inner:oNe,achievement_content_bg:sNe,achievement_list:lNe,achievement_item:uNe,unlockname:cNe,ripple:fNe,"ripple-effect":"_ripple-effect_1gwon_1",info_card:hNe,condition:dNe,condition_bg_active:pNe,time:vNe,description:gNe,info_card_position_right:mNe,achievement_item_bg_active:_Ne},yNe={achieveBg:"",achieveBgX:1280,achieveBgY:720},Nz=()=>{var I,O,P,k,F;const t=Zr(),{playSeClick:e,playSeEnter:r}=On(),n=ft(B=>B.GUI),i=ft(B=>B.saveData),a=ft(B=>B.GUI.gameUIConfigs[Mn.achievement]),[o,s]=he.useState(null),[c,l]=he.useState(null),[u,f]=he.useState(null),[h,p]=he.useState(null),[d,g]=he.useState(yNe),m=d==null?void 0:d.achieveBg,[v,_]=he.useState({unlocked:0,allTotal:0,currentProgress:"0%"});he.useEffect(()=>{n.showAchievement&&(n.achievementUI.Achievement_progress_text&&s(n.achievementUI.Achievement_progress_text),n.achievementUI.Achievement_progress_bg&&l(n.achievementUI.Achievement_progress_bg),n.achievementUI.Achievement_progress&&f(n.achievementUI.Achievement_progress),n.achievementUI.Achievement_notUnlock&&p(n.achievementUI.Achievement_notUnlock),ue.dispatch(lr.setIsShowUnlock(!1)),y())},[n.showAchievement]);async function y(){var te,Y,U,X;const B=Pt(ja.Achieve,Tt.scene),D=await Aa(B),ee=ju(D,ja.Achieve,B).sentenceList;if((ee==null?void 0:ee.length)>0&&((te=ee[0])==null?void 0:te.commandRaw)==="changeBg"){const j=((Y=ee[0])==null?void 0:Y.content)??"";let G=1280,ne=720;const ae=window.localStorage.getItem("game-screen-size"),pe=(ae==null?void 0:ae.split("x"))??[];(pe==null?void 0:pe.length)>0&&pe[0]==="1920"&&(G=Number(pe[0]),ne=Number(pe[1])),(X=(U=ee[0])==null?void 0:U.args)==null||X.forEach(se=>{(se==null?void 0:se.key)==="x"?G=Number(se==null?void 0:se.value):(se==null?void 0:se.key)==="y"&&(ne=Number(se==null?void 0:se.value))}),g({achieveBg:j,achieveBgX:G,achieveBgY:ne})}setTimeout(()=>{b()},100)}async function b(){var te;const B=ue.getState().saveData.allUnlockAchieveList,D=((te=ue.getState().saveData.unlockAchieveData)==null?void 0:te.length)??0,z=B.length||0,ee=(D/z*100).toFixed(2)+"%";_({unlocked:D,allTotal:z,currentProgress:ee})}const w=B=>Pt(B,Tt.ui),E=(B,D)=>B+500>=D,C=(B,D)=>B>=D?D-100:B,T=()=>{e(),If(),t(yt({component:"showAchievement",visibility:!1}))},A=()=>{var ae,pe,se,_e,Me,Pe,Ee,Se,Ge,Ye,Ve,Xe,Ke,wt,Rt,ht;const B=(ae=o==null?void 0:o.args)!=null&&ae.hide?"":(o==null?void 0:o.content)??"",D=c!=null&&c.content?Pt(c==null?void 0:c.content,Tt.background):"",z=(se=(pe=u==null?void 0:u.args)==null?void 0:pe.style)!=null&&se.image?Pt(u.args.style.image,Tt.ui):"",ee=(Me=(_e=u==null?void 0:u.args)==null?void 0:_e.hoverStyle)!=null&&Me.image?Pt(u==null?void 0:u.args.hoverStyle.image,Tt.ui):"";let te={};D&&(te={backgroundColor:"transparent",borderRadius:"initial"});let Y={};const U=fi((Pe=c==null?void 0:c.args)==null?void 0:Pe.style);(U==null?void 0:U.top)!==void 0&&(Y.top=U.top,Y.transform="inherit",delete U.top,delete U.position),(U==null?void 0:U.left)!==void 0&&(Y.left=U.left,Y.transform="inherit",delete U.left,delete U.position);const X=(Ee=c==null?void 0:c.args)!=null&&Ee.hide?{}:{...U,backgroundImage:`url(${D})`,...te},j=(Se=o==null?void 0:o.args)!=null&&Se.hide?{}:{...(Ge=o==null?void 0:o.args)==null?void 0:Ge.style,color:(Ve=(Ye=o==null?void 0:o.args)==null?void 0:Ye.style)==null?void 0:Ve.fontColor,transform:(Xe=o==null?void 0:o.args.style)!=null&&Xe.scale?`scale(${o.args.style.scale})`:""},G=(Ke=u==null?void 0:u.args)!=null&&Ke.hide?{}:{backgroundImage:`url(${z})`,...fi((wt=u==null?void 0:u.args)==null?void 0:wt.style)},ne=(Rt=u==null?void 0:u.args)!=null&&Rt.hide?{}:{backgroundImage:`url(${ee})`,...fi((ht=u==null?void 0:u.args)==null?void 0:ht.hoverStyle)};return M.jsx("div",{className:ii.achievement_content,style:Y,children:M.jsxs("div",{className:ii.achievement_current,style:X||{},children:[M.jsx("span",{className:ii.text,style:j||{},children:B}),M.jsx("span",{className:ii.number,style:j||{},children:`${v.unlocked}/${v.allTotal}`}),M.jsx("span",{className:ii.pregessBar,style:G||{},children:M.jsx("span",{className:ii.pregressBar_inner,style:{...ne,width:v.currentProgress}})})]})})};return M.jsx(M.Fragment,{children:n.showAchievement&&M.jsxs("div",{className:ii.achievement,id:"camera",style:m?{backgroundImage:"none"}:{},children:[!n.showProgressAndAchievement&&M.jsx(Jn,{item:a.buttons.Achievement_back_button,defaultClass:`
              ${ii.goback} 
              ${(P=(O=(I=a.buttons.Achievement_back_button)==null?void 0:I.args)==null?void 0:O.style)!=null&&P.image?ii.hideDefalutGobackBg:""} 
              interactive`,onClick:T,onMouseEnter:r}),A(),M.jsx(_d,{src:d.achieveBg,style:{width:typeof d.achieveBgX=="number"?Ut(d.achieveBgX):void 0,height:typeof d.achieveBgY=="number"?Ut(d.achieveBgY):void 0,maxWidth:"none"}}),((k=i.allUnlockAchieveList)==null?void 0:k.length)>0&&M.jsx("div",{className:ii.achievement_list,children:((F=i.allUnlockAchieveList)==null?void 0:F.map(({unlockname:B,x:D,y:z,url:ee,isShowUnlock:te,saveTime:Y,condition:U},X)=>{var G,ne,ae,pe,se,_e,Me,Pe,Ee,Se;const j=h!=null&&h.args.hide?{}:{width:(ne=(G=h==null?void 0:h.args)==null?void 0:G.style)!=null&&ne.width?`${Ut(h.args.style.width)}px`:void 0,height:(pe=(ae=h==null?void 0:h.args)==null?void 0:ae.style)!=null&&pe.height?`${Ut(h.args.style.height)}px`:void 0};return M.jsxs("div",{className:`${ii.achievement_item} ${te?ii.achievement_item_bg_active:""}`,style:{top:`${Ut(z)}px`,left:`${C(Ut(D),Ut((d==null?void 0:d.achieveBgX)??""))}px`,backgroundImage:`url("${w(te?ee:!(h!=null&&h.args.hide)&&((_e=(se=h==null?void 0:h.args)==null?void 0:se.style)!=null&&_e.image)?(Pe=(Me=h==null?void 0:h.args)==null?void 0:Me.style)==null?void 0:Pe.image:"")}")`,transform:` scale(${(Se=(Ee=h==null?void 0:h.args)==null?void 0:Ee.style)==null?void 0:Se.scale})`,...j},children:[te&&M.jsx("div",{className:ii.ripple}),te&&M.jsx("span",{className:ii.unlockname,children:B}),M.jsxs("div",{className:`${ii.info_card} ${E(Ut(D),Ut((d==null?void 0:d.achieveBgX)??0))?ii.info_card_position_right:""}`,children:[U&&M.jsx("span",{className:`${ii.condition} ${te?ii.condition_bg_active:""}`,children:U}),Y&&M.jsx("span",{className:ii.time,children:`${Y}`}),M.jsxs("span",{className:ii.description,children:[`${Math.floor(Math.random()*101)}%`,""]})]})]},`unlockAchieveItem-${X}`)}))??null})]})})};var nu=(t=>(t.Video="video",t.Image="image",t.Placeholder="placeholder",t))(nu||{});const xNe="_beautyGuideImageDialog_14de3_1",bNe="_mark_14de3_10",wNe="_content_14de3_21",ENe="_content_bg_14de3_35",SNe="_imgWrapper_14de3_46",CNe="_fade_14de3_1",TNe="_btnsWrapper_14de3_59",ANe="_btn_14de3_59",INe="_btn_prev_disabled_14de3_79",RNe="_btn_next_disabled_14de3_80",PNe="_btn_txt_14de3_83",ONe="_hideButtonBgc_14de3_90",_a={beautyGuideImageDialog:xNe,mark:bNe,content:wNe,content_bg:ENe,imgWrapper:SNe,fade:CNe,btnsWrapper:TNe,btn:ANe,btn_prev_disabled:INe,btn_next_disabled:RNe,btn_txt:PNe,hideButtonBgc:ONe},kNe=t=>{var d,g,m,v,_,y;const e=Zr(),{playSeClick:r,playSeEnter:n}=On(),[i,a]=he.useState((t==null?void 0:t.imgUrl)??""),[o,s]=he.useState(0),[c,l]=he.useState({}),u=ft(b=>b.GUI.gameUIConfigs[Mn.collection]);he.useEffect(()=>{var b,w,E;if(((b=t.contentList)==null?void 0:b.length)>0){const C=t.contentList.findIndex(T=>T.url===t.imgUrl);C>-1&&s(C)}if(t.show){const C=fi((E=(w=u==null?void 0:u.other[dn.Collection_detail_dialog_bg])==null?void 0:w.args)==null?void 0:E.style);l(C)}},[t.contentList,t.show]);const f=()=>{r(),e(yt({component:"showBeautyGuideImageDialog",visibility:!1}))},h=()=>{r();const b=o-1;b<0||(s(b),a(t.contentList[b].url))},p=()=>{r();const b=o+1;b>t.contentList.length-1||(s(b),a(t.contentList[b].url))};return M.jsxs("div",{className:_a.beautyGuideImageDialog,children:[M.jsx("div",{className:`${_a.mark} interactive`,onClick:f}),M.jsxs("div",{className:_a.content,style:fi((g=(d=u==null?void 0:u.other[dn.Collection_detail_dialog_bg])==null?void 0:d.args)==null?void 0:g.style),children:[M.jsx(dl,{item:u.other[dn.Collection_detail_dialog_bg],defaultClass:_a.content_bg}),M.jsx("div",{className:_a.imgWrapper,children:(m=t.contentList)==null?void 0:m.map((b,w)=>b.type===nu.Image&&w===o?M.jsx("img",{src:b.url,className:_a.transitionImage},`img-${w}`):b.type===nu.Video&&w===o?M.jsx(Av,{url:b.url,className:_a.transitionImage,muted:!0,autoPlay:!0,loop:!0},`img-${w}`):null)}),M.jsxs("div",{className:_a.btnsWrapper,children:[M.jsx(Jn,{defaultText:"",item:u.buttons.Collection_detail_dialog_prev_button,defaultClass:`
              ${_a.btn} 
              ${o<1?_a.btn_prev_disabled:""}
              ${u.buttons.Collection_detail_dialog_prev_button.args.style.image?_a.hideButtonBgc:""} interactive`,onClick:h,onMouseEnter:n}),M.jsxs("span",{className:_a.btn_txt,style:fi((_=(v=u==null?void 0:u.other[dn==null?void 0:dn.Collection_detail_dialog_text])==null?void 0:v.args)==null?void 0:_.style)??{},children:[o+1,"/",((y=t.contentList)==null?void 0:y.length)??0,""]}),M.jsx(Jn,{defaultText:"",item:u.buttons.Collection_detail_dialog_next_button,defaultClass:`
              ${_a.btn} 
              ${o+1>=t.contentList.length?_a.btn_next_disabled:""}
              ${u.buttons.Collection_detail_dialog_prev_button.args.style.image?_a.hideButtonBgc:""} interactive`,onClick:p,onMouseEnter:n})]})]})]})},FNe="_beautyGuideDetail_main_1ta6x_1",NNe="_beautyGuide_detail_bg_1ta6x_14",MNe="_goback_1ta6x_25",LNe="_hideDefalutGobackBg_1ta6x_42",BNe="_beautyGuideDetail_left_1ta6x_48",DNe="_left_box_1ta6x_56",UNe="_beautyGuide_detail_left_bg_1ta6x_64",jNe="_pictureUrl_1ta6x_88",$Ne="_personal_info_1ta6x_99",GNe="_name_1ta6x_103",VNe="_info_1ta6x_110",HNe="_beautyGuideDetail_right_1ta6x_130",zNe="_contentWrapper_1ta6x_138",XNe="_content_1ta6x_138",WNe="_content_bg_1ta6x_149",YNe="_content_img_1ta6x_166",qNe="_thumbnailWrapper_1ta6x_177",KNe="_thumbnail_box_1ta6x_188",ZNe="_video_mark_1ta6x_212",JNe="_desc_text_1ta6x_223",QNe="_desc_bg_1ta6x_240",eMe="_hideBgc_1ta6x_255",Kr={beautyGuideDetail_main:FNe,beautyGuide_detail_bg:NNe,goback:MNe,hideDefalutGobackBg:LNe,beautyGuideDetail_left:BNe,left_box:DNe,beautyGuide_detail_left_bg:UNe,pictureUrl:jNe,personal_info:$Ne,name:GNe,info:VNe,beautyGuideDetail_right:HNe,contentWrapper:zNe,content:XNe,content_bg:WNe,content_img:YNe,thumbnailWrapper:qNe,thumbnail_box:KNe,video_mark:ZNe,desc_text:JNe,desc_bg:QNe,hideBgc:eMe},tMe=t=>{var m,v,_,y,b,w,E,C,T,A,I,O,P,k,F,B,D,z,ee,te,Y,U,X,j,G;const e=Zr(),{playSeClick:r,playSeEnter:n}=On(),i=ft(ne=>ne.GUI),[a,o]=he.useState(null),[s,c]=he.useState(""),l=Ur.useRef(null),[u,f]=he.useState([]),h=ft(ne=>ne.GUI.gameUIConfigs[Mn.collection]);he.useEffect(()=>{var ae,pe,se;const ne=t.info;if(ne!=null&&ne.contentList&&((ae=ne==null?void 0:ne.contentList)==null?void 0:ae.length)>0)f(ne.contentList),o(ne.contentList[0]);else{const _e=((se=(pe=h.other[dn.Collection_detail_right_thumbnail_bg])==null?void 0:pe.args)==null?void 0:se.style)??{},Me=[],Pe=_e!=null&&_e.image?Pt(_e.image,Tt.background):"";for(let Ee=0;Ee<5;Ee++)Me.push({key:"placeholder",type:"placeholder",url:Pe});f(Me)}},[t]);const p=()=>{r(),e(yt({component:"showBeautyGuideDetail",visibility:!1}))},d=ne=>{r(),c(ne),l.current&&l.current.pause(),e(yt({component:"showBeautyGuideImageDialog",visibility:!0}))},g=(ne,ae)=>{if(typeof ae!="string"||ae==="")return null;const pe=document.getElementById(`${ne}`);if(pe)return pe.innerHTML=ae,ae};return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:Kr.beautyGuideDetail_main,children:[M.jsx(dl,{item:h.other[dn.Collection_detail_bg],defaultClass:Kr.beautyGuide_detail_bg}),M.jsx(Jn,{item:h.buttons.Collection_back_button,defaultClass:`
            ${Kr.goback} 
            ${(_=(v=(m=h.buttons.Collection_back_button)==null?void 0:m.args)==null?void 0:v.style)!=null&&_.image?Kr.hideDefalutGobackBg:""} 
            interactive`,onClick:p,onMouseEnter:n}),M.jsx("div",{className:Kr.beautyGuideDetail_left,children:M.jsxs("div",{className:Kr.left_box,style:fi((b=(y=h.other[dn.Collection_detail_left_bg])==null?void 0:y.args)==null?void 0:b.style),children:[M.jsx(dl,{item:h.other[dn.Collection_detail_left_bg],defaultClass:Kr.beautyGuide_detail_left_bg}),M.jsx("div",{className:Kr.pictureUrl,children:M.jsx("img",{src:(w=t.info)==null?void 0:w.image,alt:""})}),M.jsxs("div",{className:Kr.personal_info,children:[M.jsx("h3",{className:Kr.name,style:(t==null?void 0:t.infoItemStyle)??{},children:((E=t.info)==null?void 0:E.name)??""}),M.jsxs("div",{className:Kr.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((C=t.info)==null?void 0:C.height)??""})]}),M.jsxs("div",{className:Kr.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((T=t.info)==null?void 0:T.weight)??""})]}),M.jsxs("div",{className:Kr.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((A=t.info)==null?void 0:A.bustSize)??""})]}),M.jsxs("div",{className:Kr.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((I=t.info)==null?void 0:I.waistSize)??""})]}),M.jsxs("div",{className:Kr.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((O=t.info)==null?void 0:O.hipSize)??""})]})]})]})}),M.jsxs("div",{className:Kr.beautyGuideDetail_right,children:[M.jsxs("div",{className:`${Kr.desc_text} 
              ${(k=(P=h.other[dn.Collection_detail_right_desc_bg])==null?void 0:P.args)!=null&&k.style.image?Kr.hideBgc:""}`,style:{...fi((B=(F=h.other[dn.Collection_detail_right_desc_bg])==null?void 0:F.args)==null?void 0:B.style),display:(z=(D=h.other[dn.Collection_detail_right_desc_bg])==null?void 0:D.args)!=null&&z.hide?"none":"flex"},children:[M.jsx(dl,{item:h.other[dn.Collection_detail_right_desc_bg],defaultClass:Kr.desc_bg}),M.jsx("span",{id:"info_description",children:g("info_description",(ee=t.info)==null?void 0:ee.description)})]}),M.jsxs("div",{className:Kr.contentWrapper,style:{display:(Y=(te=h.other[dn.Collection_detail_right_content_bg])==null?void 0:te.args)!=null&&Y.hide?"none":"block"},children:[M.jsxs("div",{className:`${Kr.content} 
                ${(X=(U=h.other[dn.Collection_detail_right_content_bg])==null?void 0:U.args)!=null&&X.style.image?Kr.hideBgc:""}`,style:fi((G=(j=h.other[dn.Collection_detail_right_content_bg])==null?void 0:j.args)==null?void 0:G.style),children:[M.jsx(dl,{item:h.other[dn.Collection_detail_right_content_bg],defaultClass:Kr.content_bg}),a&&M.jsxs(M.Fragment,{children:[a.type==="video"&&M.jsx(Av,{videoPlayerRef:l,url:a.url,controls:!0,autoPlay:!i.showBeautyGuideImageDialog,loop:!0,muted:!0},a.url),a.type==="image"&&M.jsx("img",{className:`${Kr.content_img} interactive`,src:a.url,onClick:()=>{d(a.url)}})]})]}),M.jsx("div",{className:Kr.thumbnailWrapper,children:M.jsx("div",{children:(u==null?void 0:u.map((ne,ae)=>{var pe,se;return M.jsxs("div",{className:Kr.thumbnail_box,style:fi((se=(pe=h.other[dn.Collection_detail_right_thumbnail_bg])==null?void 0:pe.args)==null?void 0:se.style),onClick:()=>{ne.type!==nu.Placeholder&&o(ne)},children:[ne.type===nu.Placeholder&&M.jsx("img",{src:ne.url,alt:""}),ne.type===nu.Image&&M.jsx("img",{src:ne.url,alt:""}),ne.type===nu.Video&&M.jsx(Av,{url:ne.url,controls:!1,loop:!0,muted:!0}),ne.type===nu.Video&&M.jsx("div",{className:Kr.video_mark,children:M.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4276",width:"48",height:"48",children:M.jsx("path",{fill:"#e6e6e6",d:"M315.453793 986.509241Q405.963034 1024 512 1024t196.546207-37.490759q90.509241-37.490759 165.490759-112.463448 74.981517-74.990345 112.472275-165.499586Q1024 618.036966 1024 512t-37.490759-196.546207q-37.490759-90.509241-112.463448-165.490759-74.990345-74.981517-165.499586-112.472275Q618.036966 0 512 0T315.453793 37.490759q-90.509241 37.490759-165.490759 112.463448-74.981517 74.990345-112.472275 165.499586Q0 405.963034 0 512t37.490759 196.546207q37.490759 90.518069 112.463448 165.490759 74.981517 74.981517 165.490759 112.472275z m365.982897-65.447724Q603.409655 953.37931 512 953.37931q-91.409655 0-169.43669-32.317793-78.035862-32.317793-142.66262-96.962207-64.644414-64.635586-96.962207-142.653793Q70.62069 603.400828 70.62069 512t32.317793-169.43669q32.317793-78.027034 96.962207-142.66262 64.635586-64.635586 142.653793-96.962207Q420.599172 70.62069 512 70.62069t169.43669 32.308965v0.008828q78.027034 32.317793 142.66262 96.962207 64.635586 64.635586 96.962207 142.653793Q953.37931 420.599172 953.37931 512t-32.317793 169.43669q-32.317793 78.027034-96.962207 142.66262-64.635586 64.644414-142.653793 96.962207h-0.008827z m-249.979587-650.504827l282.394483 221.007448a25.864828 25.864828 0 0 1 0 40.871724l-282.394483 221.016276c-17.390345 13.594483-43.04331 1.412414-43.04331-20.44469V290.992552c0-21.865931 25.661793-34.048 43.04331-20.44469z"})})})]},`thumbnail-${ae}`)}))??null})})]})]})]}),i.showBeautyGuideImageDialog&&M.jsx(kNe,{imgUrl:s,contentList:u||[],show:i.showBeautyGuideImageDialog})]})},rMe="_beautyGuide_main_1kdxb_1",nMe="_bg_animation_1kdxb_1",iMe="_beautyGuide_bg_1kdxb_16",aMe="_beautyGuide_header_1kdxb_27",oMe="_goback_1kdxb_33",sMe="_hideDefalutGobackBg_1kdxb_50",lMe="_title_1kdxb_56",uMe="_beautyGuide_content_1kdxb_62",cMe="_item_1kdxb_68",Xl={beautyGuide_main:rMe,bg_animation:nMe,beautyGuide_bg:iMe,beautyGuide_header:aMe,goback:oMe,hideDefalutGobackBg:sMe,title:lMe,beautyGuide_content:uMe,item:cMe},fMe=()=>{var w,E,C;const t=Zr(),e=ft(T=>T.GUI),{playSeClick:r,playSeEnter:n}=On(),[i,a]=he.useState(null),[o,s]=he.useState([]),[c,l]=he.useState({}),[u,f]=he.useState(null),[h,p]=he.useState({}),[d,g]=he.useState({}),[m,v]=he.useState({}),_=ft(T=>T.GUI.gameUIConfigs[Mn.collection]);he.useEffect(()=>{if(e.showBeautyGuide){const T=[],A=(_==null?void 0:_.other)??{},I={},O={};let P=1;Object.entries(A).forEach(([k,F])=>{var B,D,z,ee,te,Y,U,X;if(k!=null&&k.includes("Collection_img")){const j=(B=F==null?void 0:F.args)==null?void 0:B.info;let G=((D=F==null?void 0:F.args)==null?void 0:D.style)??{};const ne=(z=F==null?void 0:F.args)==null?void 0:z.images,ae=(ee=F==null?void 0:F.args)==null?void 0:ee.videos;O[`Collection_img_info${P}`]={color:G==null?void 0:G.customColor,fontSize:G!=null&&G.customFontSize?`${Ut(G.customFontSize)}px`:""},G=fi(G);const pe=D2e(ne),se=j2e(ae),_e=(j==null?void 0:j.image)&&Pt(j==null?void 0:j.image,Tt.ui)||"",Me=((Y=(te=F==null?void 0:F.args)==null?void 0:te.style)==null?void 0:Y.image)&&Pt((X=(U=F==null?void 0:F.args)==null?void 0:U.style)==null?void 0:X.image,Tt.ui)||"";T.push({avatar:Me,name:j==null?void 0:j.name,image:_e,height:j==null?void 0:j.height,weight:j==null?void 0:j.weight,bustSize:j==null?void 0:j.bustSize,waistSize:j==null?void 0:j.waistSize,hipSize:j==null?void 0:j.hipSize,description:(j==null?void 0:j.description)??"",contentList:se.concat(pe)}),I[`Collection_img${P}`]=G,P++}}),p(O),l(I),g(I),s(T)}},[e.showBeautyGuide]);const y=()=>{r(),a(null),v({}),t(yt({component:"showBeautyGuide",visibility:!1}))},b=(T,A)=>{r(),a(T),f(c[`Collection_img${A+1}`]),v(h[`Collection_img_info${A+1}`]),t(yt({component:"showBeautyGuideDetail",visibility:!0}))};return M.jsxs(M.Fragment,{children:[e.showBeautyGuide&&M.jsxs("div",{className:Xl.beautyGuide_main,children:[M.jsx(dl,{item:_.other[dn.Collection_bg],defaultClass:Xl.beautyGuide_bg}),M.jsxs("div",{className:Xl.beautyGuide_header,children:[M.jsx(Jn,{item:_.buttons.Collection_back_button,defaultClass:`
                ${Xl.goback} 
                ${(C=(E=(w=_.buttons.Collection_back_button)==null?void 0:w.args)==null?void 0:E.style)!=null&&C.image?Xl.hideDefalutGobackBg:""} 
                interactive`,onClick:y,onMouseEnter:n}),M.jsx(Jn,{item:_.other.Collection_title,defaultClass:Xl.title})]}),M.jsx("div",{className:Xl.beautyGuide_content,children:o.map((T,A)=>T!=null&&T.avatar?M.jsx("div",{className:`${Xl.item} interactive`,onClick:()=>b(T,A),onMouseEnter:n,children:M.jsx("img",{src:T.avatar,style:d[`Collection_img${A+1}`]})},`${T==null?void 0:T.name}$-${A}`):null)})]}),e.showBeautyGuideDetail&&M.jsx(tMe,{info:i,infoItemStyle:u,infoTextStyle:m,detailRightDescBgStyle:_.other[dn.Collection_detail_right_desc_bg]})]})},hMe="_modalR18_main_167bk_1",dMe="_footer_167bk_16",j8={modalR18_main:hMe,"fade-in":"_fade-in_167bk_1",footer:dMe},pMe=""+new URL("r18-exit-btn-default.png",import.meta.url).href,vMe=""+new URL("r18-exit-btn-active.png",import.meta.url).href,gMe=""+new URL("r18-confirm-btn-default.png",import.meta.url).href,mMe=""+new URL("r18-confirm-btn-active.png",import.meta.url).href,_Me=()=>{Gu("r18.");const t=Zr(),e=ft(g=>g.GUI),{playSeClick:r,playSeEnter:n}=On(),[i,a]=he.useState(!1),[o,s]=he.useState(!1),[c,l]=he.useState({width:void 0,height:void 0,opacity:0}),[u,f]=he.useState({width:void 0,height:void 0,opacity:0}),h=he.useRef(0),p=()=>{r(),t(PG(!1))},d=()=>{r(),window.location.href="/"};return M.jsx(M.Fragment,{children:e.isShowR18Modal&&e.openR18Modal&&M.jsx("div",{className:`${j8.modalR18_main} ${e.isShowR18Modal&&e.openR18Modal?"animated fadeIn":""}`,children:M.jsxs("div",{className:j8.footer,children:[M.jsx("div",{id:"exitButton",className:"interactive",children:M.jsx("img",{src:i?vMe:pMe,onClick:d,className:"interactive",onMouseEnter:()=>{a(!0),n()},onMouseLeave:()=>{a(!1)},onLoad:g=>{l({width:g.target.naturalWidth/.5,height:g.target.naturalHeight/.5,opacity:1})},onMouseDown:g=>{const m=g.currentTarget;m.className="interactive btn-clicked",h.current=Date.now()},onMouseUp:g=>{const m=Date.now()-h.current;let v=g.currentTarget;setTimeout(()=>{v.className="interactive",v=null,setTimeout(p,320)},m-350>0?0:350-m)},style:c})}),M.jsx("div",{id:"confirmButton",className:"interactive",children:M.jsx("img",{className:"interactive",src:o?mMe:gMe,onMouseEnter:()=>{s(!0),n()},onMouseLeave:()=>{s(!1)},onLoad:g=>{f({width:g.target.naturalWidth/.5,height:g.target.naturalHeight/.5,opacity:1})},onMouseDown:g=>{const m=g.currentTarget;m.className="interactive btn-clicked",h.current=Date.now()},onMouseUp:g=>{const m=Date.now()-h.current;let v=g.currentTarget;setTimeout(()=>{v.className="interactive",v=null,setTimeout(p,320)},m-350>0?0:350-m)},style:u})})]})})})};function yMe(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function xMe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(c,l){if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(f){o(c,f)},function(f){i[c]={status:"rejected",reason:f},--a===0&&r(i)});return}}i[c]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function Mz(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}Mz.prototype=Error.prototype;function bMe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new Mz(a,"All promises were rejected"))})}catch(s){n(s)}})}var wMe=setTimeout;function Lz(t){return!!(t&&typeof t.length<"u")}function EMe(){}function SMe(t,e){return function(){t.apply(e,arguments)}}function Pn(t){if(!(this instanceof Pn))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Dz(t,this)}function Bz(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,Pn._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?IA:Iv)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){Iv(e.promise,i);return}IA(e.promise,n)})}function IA(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof Pn){t._state=3,t._value=e,RA(t);return}else if(typeof r=="function"){Dz(SMe(r,e),t);return}}t._state=1,t._value=e,RA(t)}catch(n){Iv(t,n)}}function Iv(t,e){t._state=2,t._value=e,RA(t)}function RA(t){t._state===2&&t._deferreds.length===0&&Pn._immediateFn(function(){t._handled||Pn._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)Bz(t,t._deferreds[e]);t._deferreds=null}function CMe(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function Dz(t,e){var r=!1;try{t(function(n){r||(r=!0,IA(e,n))},function(n){r||(r=!0,Iv(e,n))})}catch(n){if(r)return;r=!0,Iv(e,n)}}Pn.prototype.catch=function(t){return this.then(null,t)};Pn.prototype.then=function(t,e){var r=new this.constructor(EMe);return Bz(this,new CMe(t,e,r)),r};Pn.prototype.finally=yMe;Pn.all=function(t){return new Pn(function(e,r){if(!Lz(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){l.call(c,function(u){a(s,u)},r);return}}n[s]=c,--i===0&&e(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])})};Pn.any=bMe;Pn.allSettled=xMe;Pn.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Pn?t:new Pn(function(e){e(t)})};Pn.reject=function(t){return new Pn(function(e,r){r(t)})};Pn.race=function(t){return new Pn(function(e,r){if(!Lz(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Pn.resolve(t[n]).then(e,r)})};Pn._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){wMe(t,0)};Pn._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Pn);Object.assign||(Object.assign=hre);var TMe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var AMe=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-AMe}}var z2=Date.now(),$8=["ms","moz","webkit","o"];for(var X2=0;X2<$8.length&&!globalThis.requestAnimationFrame;++X2){var W2=$8[X2];globalThis.requestAnimationFrame=globalThis[W2+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[W2+"CancelAnimationFrame"]||globalThis[W2+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=TMe+z2-e;return r<0&&(r=0),z2=e,globalThis.self.setTimeout(function(){z2=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var Y2=/iPhone/i,G8=/iPod/i,V8=/iPad/i,H8=/\biOS-universal(?:.+)Mac\b/i,q2=/\bAndroid(?:.+)Mobile\b/i,z8=/Android/i,rh=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,r_=/Silk/i,rl=/Windows Phone/i,X8=/\bWindows(?:.+)ARM\b/i,W8=/BlackBerry/i,Y8=/BB10/i,q8=/Opera Mini/i,K8=/\b(CriOS|Chrome)(?:.+)Mobile/i,Z8=/Mobile(?:.+)Firefox\b/i,J8=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function IMe(t){return function(e){return e.test(t)}}function RMe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=IMe(r),a={apple:{phone:i(Y2)&&!i(rl),ipod:i(G8),tablet:!i(Y2)&&(i(V8)||J8(e))&&!i(rl),universal:i(H8),device:(i(Y2)||i(G8)||i(V8)||i(H8)||J8(e))&&!i(rl)},amazon:{phone:i(rh),tablet:!i(rh)&&i(r_),device:i(rh)||i(r_)},android:{phone:!i(rl)&&i(rh)||!i(rl)&&i(q2),tablet:!i(rl)&&!i(rh)&&!i(q2)&&(i(r_)||i(z8)),device:!i(rl)&&(i(rh)||i(r_)||i(q2)||i(z8))||i(/\bokhttp\b/i)},windows:{phone:i(rl),tablet:i(X8),device:i(rl)||i(X8)},other:{blackberry:i(W8),blackberry10:i(Y8),opera:i(q8),firefox:i(Z8),chrome:i(K8),device:i(W8)||i(Y8)||i(q8)||i(Z8)||i(K8)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Co=RMe(globalThis.navigator);function PMe(t){var e=!0;if(Co.tablet||Co.phone){if(Co.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Co.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function OMe(){return!Co.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Q8;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Q8||(Q8={}));var eU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(eU||(eU={}));var tU;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(tU||(tU={}));var rU;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(rU||(rU={}));var nU;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(nU||(nU={}));var iU;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(iU||(iU={}));var aU;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(aU||(aU={}));var oU;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(oU||(oU={}));var sU;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(sU||(sU={}));var PA;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(PA||(PA={}));var OA;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(OA||(OA={}));var kA;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(kA||(kA={}));var lU;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(lU||(lU={}));var uU;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(uU||(uU={}));var FA;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(FA||(FA={}));var qp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(qp||(qp={}));var cU;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(cU||(cU={}));var NA;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(NA||(NA={}));var fU;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(fU||(fU={}));var xt={MIPMAP_TEXTURES:kA.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:NA.NONE,SPRITE_MAX_TEXTURES:PMe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:FA.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:OA.CLAMP,SCALE_MODE:PA.LINEAR,PRECISION_VERTEX:qp.HIGH,PRECISION_FRAGMENT:Co.apple.device?qp.HIGH:qp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:OMe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Uz={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||c,h),d=r?r+l:l;return c._events[d]?c._events[d].fn?c._events[d]=[c._events[d],p]:c._events[d].push(p):(c._events[d]=p,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,d=new Array(p);h<p;h++)d[h]=f[h].fn;return d},s.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,u,f,h,p,d){var g=r?r+l:l;if(!this._events[g])return!1;var m=this._events[g],v=arguments.length,_,y;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,f),!0;case 4:return m.fn.call(m.context,u,f,h),!0;case 5:return m.fn.call(m.context,u,f,h,p),!0;case 6:return m.fn.call(m.context,u,f,h,p,d),!0}for(y=1,_=new Array(v-1);y<v;y++)_[y-1]=arguments[y];m.fn.apply(m.context,_)}else{var b=m.length,w;for(y=0;y<b;y++)switch(m[y].once&&this.removeListener(l,m[y].fn,void 0,!0),v){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,u);break;case 3:m[y].fn.call(m[y].context,u,f);break;case 4:m[y].fn.call(m[y].context,u,f,h);break;default:if(!_)for(w=1,_=new Array(v-1);w<v;w++)_[w-1]=arguments[w];m[y].fn.apply(m[y].context,_)}}return!0},s.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},s.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},s.prototype.removeListener=function(l,u,f,h){var p=r?r+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var d=this._events[p];if(d.fn)d.fn===u&&(!h||d.once)&&(!f||d.context===f)&&o(this,p);else{for(var g=0,m=[],v=d.length;g<v;g++)(d[g].fn!==u||h&&!d[g].once||f&&d[g].context!==f)&&m.push(d[g]);m.length?this._events[p]=m.length===1?m[0]:m:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(Uz);var kMe=Uz.exports;const Rf=Ki(kMe);var Fk={exports:{}};Fk.exports=Ib;Fk.exports.default=Ib;function Ib(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=jz(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,c,l,u,f,h,p;if(n&&(a=BMe(t,e,a,r)),t.length>80*r){s=l=t[0],c=u=t[1];for(var d=r;d<i;d+=r)f=t[d],h=t[d+1],f<s&&(s=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);p=Math.max(l-s,u-c),p=p!==0?32767/p:0}return Rv(a,o,r,s,c,p,0),o}function jz(t,e,r,n,i){var a,o;if(i===BA(t,e,r,n)>0)for(a=e;a<r;a+=n)o=hU(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=hU(a,t[a],t[a+1],o);return o&&Rb(o,o.next)&&(Ov(o),o=o.next),o}function vf(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Rb(r,r.next)||In(r.prev,r,r.next)===0)){if(Ov(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Rv(t,e,r,n,i,a,o){if(t){!o&&a&&GMe(t,n,i,a);for(var s=t,c,l;t.prev!==t.next;){if(c=t.prev,l=t.next,a?NMe(t,n,i,a):FMe(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),Ov(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=MMe(vf(t),e,r),Rv(t,e,r,n,i,a,2)):o===2&&LMe(t,e,r,n,i,a):Rv(vf(t),e,r,n,i,a,1);break}}}}function FMe(t){var e=t.prev,r=t,n=t.next;if(In(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,c=r.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,f=s<c?s<l?s:l:c<l?c:l,h=i>a?i>o?i:o:a>o?a:o,p=s>c?s>l?s:l:c>l?c:l,d=n.next;d!==e;){if(d.x>=u&&d.x<=h&&d.y>=f&&d.y<=p&&Nh(i,s,a,c,o,l,d.x,d.y)&&In(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function NMe(t,e,r,n){var i=t.prev,a=t,o=t.next;if(In(i,a,o)>=0)return!1;for(var s=i.x,c=a.x,l=o.x,u=i.y,f=a.y,h=o.y,p=s<c?s<l?s:l:c<l?c:l,d=u<f?u<h?u:h:f<h?f:h,g=s>c?s>l?s:l:c>l?c:l,m=u>f?u>h?u:h:f>h?f:h,v=MA(p,d,e,r,n),_=MA(g,m,e,r,n),y=t.prevZ,b=t.nextZ;y&&y.z>=v&&b&&b.z<=_;){if(y.x>=p&&y.x<=g&&y.y>=d&&y.y<=m&&y!==i&&y!==o&&Nh(s,u,c,f,l,h,y.x,y.y)&&In(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=p&&b.x<=g&&b.y>=d&&b.y<=m&&b!==i&&b!==o&&Nh(s,u,c,f,l,h,b.x,b.y)&&In(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=v;){if(y.x>=p&&y.x<=g&&y.y>=d&&y.y<=m&&y!==i&&y!==o&&Nh(s,u,c,f,l,h,y.x,y.y)&&In(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=_;){if(b.x>=p&&b.x<=g&&b.y>=d&&b.y<=m&&b!==i&&b!==o&&Nh(s,u,c,f,l,h,b.x,b.y)&&In(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function MMe(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!Rb(i,a)&&$z(i,n,n.next,a)&&Pv(i,a)&&Pv(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),Ov(n),Ov(n.next),n=t=a),n=n.next}while(n!==t);return vf(n)}function LMe(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&zMe(o,s)){var c=Gz(o,s);o=vf(o,o.next),c=vf(c,c.next),Rv(o,e,r,n,i,a,0),Rv(c,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function BMe(t,e,r,n){var i=[],a,o,s,c,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,c=a<o-1?e[a+1]*n:t.length,l=jz(t,s,c,n,!1),l===l.next&&(l.steiner=!0),i.push(HMe(l));for(i.sort(DMe),a=0;a<i.length;a++)r=UMe(i[a],r);return r}function DMe(t,e){return t.x-e.x}function UMe(t,e){var r=jMe(t,e);if(!r)return e;var n=Gz(r,t);return vf(n,n.next),vf(r,r.next)}function jMe(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,l=o.x,u=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&Nh(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Pv(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&$Me(o,r)))&&(o=r,f=h)),r=r.next;while(r!==c);return o}function $Me(t,e){return In(t.prev,t,e.prev)<0&&In(e.next,t,t.next)<0}function GMe(t,e,r,n){var i=t;do i.z===0&&(i.z=MA(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,VMe(i)}function VMe(t){var e,r,n,i,a,o,s,c,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(c=l;s>0||c>0&&n;)s!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function MA(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function HMe(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Nh(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function zMe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!XMe(t,e)&&(Pv(t,e)&&Pv(e,t)&&WMe(t,e)&&(In(t.prev,t,e.prev)||In(t,e.prev,e))||Rb(t,e)&&In(t.prev,t,t.next)>0&&In(e.prev,e,e.next)>0)}function In(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Rb(t,e){return t.x===e.x&&t.y===e.y}function $z(t,e,r,n){var i=i_(In(t,e,r)),a=i_(In(t,e,n)),o=i_(In(r,n,t)),s=i_(In(r,n,e));return!!(i!==a&&o!==s||i===0&&n_(t,r,e)||a===0&&n_(t,n,e)||o===0&&n_(r,t,n)||s===0&&n_(r,e,n))}function n_(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function i_(t){return t>0?1:t<0?-1:0}function XMe(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&$z(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Pv(t,e){return In(t.prev,t,t.next)<0?In(t,e,t.next)>=0&&In(t,t.prev,e)>=0:In(t,e,t.prev)<0||In(t,t.next,e)<0}function WMe(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Gz(t,e){var r=new LA(t.i,t.x,t.y),n=new LA(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function hU(t,e,r,n){var i=new LA(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ov(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function LA(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ib.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(BA(t,0,a,r));if(i)for(var s=0,c=e.length;s<c;s++){var l=e[s]*r,u=s<c-1?e[s+1]*r:t.length;o-=Math.abs(BA(t,l,u,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function BA(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}Ib.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var YMe=Fk.exports;const Nk=Ki(YMe);var _x={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */_x.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof Ct=="object"&&Ct;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,c=36,l=1,u=26,f=38,h=700,p=72,d=128,g="-",m=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=c-l,w=Math.floor,E=String.fromCharCode,C;function T(Y){throw new RangeError(y[Y])}function A(Y,U){for(var X=Y.length,j=[];X--;)j[X]=U(Y[X]);return j}function I(Y,U){var X=Y.split("@"),j="";X.length>1&&(j=X[0]+"@",Y=X[1]),Y=Y.replace(_,".");var G=Y.split("."),ne=A(G,U).join(".");return j+ne}function O(Y){for(var U=[],X=0,j=Y.length,G,ne;X<j;)G=Y.charCodeAt(X++),G>=55296&&G<=56319&&X<j?(ne=Y.charCodeAt(X++),(ne&64512)==56320?U.push(((G&1023)<<10)+(ne&1023)+65536):(U.push(G),X--)):U.push(G);return U}function P(Y){return A(Y,function(U){var X="";return U>65535&&(U-=65536,X+=E(U>>>10&1023|55296),U=56320|U&1023),X+=E(U),X}).join("")}function k(Y){return Y-48<10?Y-22:Y-65<26?Y-65:Y-97<26?Y-97:c}function F(Y,U){return Y+22+75*(Y<26)-((U!=0)<<5)}function B(Y,U,X){var j=0;for(Y=X?w(Y/h):Y>>1,Y+=w(Y/U);Y>b*u>>1;j+=c)Y=w(Y/b);return w(j+(b+1)*Y/(Y+f))}function D(Y){var U=[],X=Y.length,j,G=0,ne=d,ae=p,pe,se,_e,Me,Pe,Ee,Se,Ge,Ye;for(pe=Y.lastIndexOf(g),pe<0&&(pe=0),se=0;se<pe;++se)Y.charCodeAt(se)>=128&&T("not-basic"),U.push(Y.charCodeAt(se));for(_e=pe>0?pe+1:0;_e<X;){for(Me=G,Pe=1,Ee=c;_e>=X&&T("invalid-input"),Se=k(Y.charCodeAt(_e++)),(Se>=c||Se>w((s-G)/Pe))&&T("overflow"),G+=Se*Pe,Ge=Ee<=ae?l:Ee>=ae+u?u:Ee-ae,!(Se<Ge);Ee+=c)Ye=c-Ge,Pe>w(s/Ye)&&T("overflow"),Pe*=Ye;j=U.length+1,ae=B(G-Me,j,Me==0),w(G/j)>s-ne&&T("overflow"),ne+=w(G/j),G%=j,U.splice(G++,0,ne)}return P(U)}function z(Y){var U,X,j,G,ne,ae,pe,se,_e,Me,Pe,Ee=[],Se,Ge,Ye,Ve;for(Y=O(Y),Se=Y.length,U=d,X=0,ne=p,ae=0;ae<Se;++ae)Pe=Y[ae],Pe<128&&Ee.push(E(Pe));for(j=G=Ee.length,G&&Ee.push(g);j<Se;){for(pe=s,ae=0;ae<Se;++ae)Pe=Y[ae],Pe>=U&&Pe<pe&&(pe=Pe);for(Ge=j+1,pe-U>w((s-X)/Ge)&&T("overflow"),X+=(pe-U)*Ge,U=pe,ae=0;ae<Se;++ae)if(Pe=Y[ae],Pe<U&&++X>s&&T("overflow"),Pe==U){for(se=X,_e=c;Me=_e<=ne?l:_e>=ne+u?u:_e-ne,!(se<Me);_e+=c)Ve=se-Me,Ye=c-Me,Ee.push(E(F(Me+Ve%Ye,0))),se=w(Ve/Ye);Ee.push(E(F(se,0))),ne=B(X,Ge,j==G),X=0,++j}++X,++U}return Ee.join("")}function ee(Y){return I(Y,function(U){return m.test(U)?D(U.slice(4).toLowerCase()):U})}function te(Y){return I(Y,function(U){return v.test(U)?"xn--"+z(U):U})}if(o={version:"1.4.1",ucs2:{decode:O,encode:P},decode:D,encode:z,toASCII:te,toUnicode:ee},n&&i)if(t.exports==n)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(n[C]=o[C]);else r.punycode=o})(Ct)})(_x,_x.exports);var qMe=_x.exports,KMe=Error,ZMe=EvalError,JMe=RangeError,QMe=ReferenceError,Vz=SyntaxError,Ag=TypeError,eLe=URIError,tLe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},dU=typeof Symbol<"u"&&Symbol,rLe=tLe,nLe=function(){return typeof dU!="function"||typeof Symbol!="function"||typeof dU("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:rLe()},K2={__proto__:null,foo:{}},iLe=Object,aLe=function(){return{__proto__:K2}.foo===K2.foo&&!(K2 instanceof iLe)},oLe="Function.prototype.bind called on incompatible ",sLe=Object.prototype.toString,lLe=Math.max,uLe="[object Function]",pU=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},cLe=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},fLe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},hLe=function(e){var r=this;if(typeof r!="function"||sLe.apply(r)!==uLe)throw new TypeError(oLe+r);for(var n=cLe(arguments,1),i,a=function(){if(this instanceof i){var u=r.apply(this,pU(n,arguments));return Object(u)===u?u:this}return r.apply(e,pU(n,arguments))},o=lLe(0,r.length-n.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(i=Function("binder","return function ("+fLe(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},dLe=hLe,Mk=Function.prototype.bind||dLe,pLe=Function.prototype.call,vLe=Object.prototype.hasOwnProperty,gLe=Mk,mLe=gLe.call(pLe,vLe),br,_Le=KMe,yLe=ZMe,xLe=JMe,bLe=QMe,yd=Vz,rd=Ag,wLe=eLe,Hz=Function,Z2=function(t){try{return Hz('"use strict"; return ('+t+").constructor;")()}catch{}},tf=Object.getOwnPropertyDescriptor;if(tf)try{tf({},"")}catch{tf=null}var J2=function(){throw new rd},ELe=tf?function(){try{return arguments.callee,J2}catch{try{return tf(arguments,"callee").get}catch{return J2}}}():J2,nh=nLe(),SLe=aLe(),Ai=Object.getPrototypeOf||(SLe?function(t){return t.__proto__}:null),mh={},CLe=typeof Uint8Array>"u"||!Ai?br:Ai(Uint8Array),rf={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?br:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?br:ArrayBuffer,"%ArrayIteratorPrototype%":nh&&Ai?Ai([][Symbol.iterator]()):br,"%AsyncFromSyncIteratorPrototype%":br,"%AsyncFunction%":mh,"%AsyncGenerator%":mh,"%AsyncGeneratorFunction%":mh,"%AsyncIteratorPrototype%":mh,"%Atomics%":typeof Atomics>"u"?br:Atomics,"%BigInt%":typeof BigInt>"u"?br:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?br:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?br:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?br:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":_Le,"%eval%":eval,"%EvalError%":yLe,"%Float32Array%":typeof Float32Array>"u"?br:Float32Array,"%Float64Array%":typeof Float64Array>"u"?br:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?br:FinalizationRegistry,"%Function%":Hz,"%GeneratorFunction%":mh,"%Int8Array%":typeof Int8Array>"u"?br:Int8Array,"%Int16Array%":typeof Int16Array>"u"?br:Int16Array,"%Int32Array%":typeof Int32Array>"u"?br:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":nh&&Ai?Ai(Ai([][Symbol.iterator]())):br,"%JSON%":typeof JSON=="object"?JSON:br,"%Map%":typeof Map>"u"?br:Map,"%MapIteratorPrototype%":typeof Map>"u"||!nh||!Ai?br:Ai(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?br:Promise,"%Proxy%":typeof Proxy>"u"?br:Proxy,"%RangeError%":xLe,"%ReferenceError%":bLe,"%Reflect%":typeof Reflect>"u"?br:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?br:Set,"%SetIteratorPrototype%":typeof Set>"u"||!nh||!Ai?br:Ai(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?br:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":nh&&Ai?Ai(""[Symbol.iterator]()):br,"%Symbol%":nh?Symbol:br,"%SyntaxError%":yd,"%ThrowTypeError%":ELe,"%TypedArray%":CLe,"%TypeError%":rd,"%Uint8Array%":typeof Uint8Array>"u"?br:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?br:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?br:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?br:Uint32Array,"%URIError%":wLe,"%WeakMap%":typeof WeakMap>"u"?br:WeakMap,"%WeakRef%":typeof WeakRef>"u"?br:WeakRef,"%WeakSet%":typeof WeakSet>"u"?br:WeakSet};if(Ai)try{null.error}catch(t){var TLe=Ai(Ai(t));rf["%Error.prototype%"]=TLe}var ALe=function t(e){var r;if(e==="%AsyncFunction%")r=Z2("async function () {}");else if(e==="%GeneratorFunction%")r=Z2("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Z2("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ai&&(r=Ai(i.prototype))}return rf[e]=r,r},vU={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ig=Mk,yx=mLe,ILe=Ig.call(Function.call,Array.prototype.concat),RLe=Ig.call(Function.apply,Array.prototype.splice),gU=Ig.call(Function.call,String.prototype.replace),xx=Ig.call(Function.call,String.prototype.slice),PLe=Ig.call(Function.call,RegExp.prototype.exec),OLe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,kLe=/\\(\\)?/g,FLe=function(e){var r=xx(e,0,1),n=xx(e,-1);if(r==="%"&&n!=="%")throw new yd("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new yd("invalid intrinsic syntax, expected opening `%`");var i=[];return gU(e,OLe,function(a,o,s,c){i[i.length]=s?gU(c,kLe,"$1"):o||a}),i},NLe=function(e,r){var n=e,i;if(yx(vU,n)&&(i=vU[n],n="%"+i[0]+"%"),yx(rf,n)){var a=rf[n];if(a===mh&&(a=ALe(n)),typeof a>"u"&&!r)throw new rd("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new yd("intrinsic "+e+" does not exist!")},l0=function(e,r){if(typeof e!="string"||e.length===0)throw new rd("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new rd('"allowMissing" argument must be a boolean');if(PLe(/^%?[^%]*%?$/,e)===null)throw new yd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=FLe(e),i=n.length>0?n[0]:"",a=NLe("%"+i+"%",r),o=a.name,s=a.value,c=!1,l=a.alias;l&&(i=l[0],RLe(n,ILe([0,1],l)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=xx(h,0,1),d=xx(h,-1);if((p==='"'||p==="'"||p==="`"||d==='"'||d==="'"||d==="`")&&p!==d)throw new yd("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",yx(rf,o))s=rf[o];else if(s!=null){if(!(h in s)){if(!r)throw new rd("base intrinsic for "+e+" exists, but the property is not available.");return}if(tf&&u+1>=n.length){var g=tf(s,h);f=!!g,f&&"get"in g&&!("originalValue"in g.get)?s=g.get:s=s[h]}else f=yx(s,h),s=s[h];f&&!c&&(rf[o]=s)}}return s},zz={exports:{}},Q2,mU;function Lk(){if(mU)return Q2;mU=1;var t=l0,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Q2=e,Q2}var MLe=l0,gy=MLe("%Object.getOwnPropertyDescriptor%",!0);if(gy)try{gy([],"length")}catch{gy=null}var Xz=gy,_U=Lk(),LLe=Vz,ih=Ag,yU=Xz,BLe=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new ih("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ih("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ih("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ih("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ih("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ih("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!yU&&yU(e,r);if(_U)_U(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:a===null&&c?c.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new LLe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},DA=Lk(),Wz=function(){return!!DA};Wz.hasArrayLengthDefineBug=function(){if(!DA)return null;try{return DA([],"length",{value:1}).length!==1}catch{return!0}};var DLe=Wz,ULe=l0,xU=BLe,jLe=DLe(),bU=Xz,wU=Ag,$Le=ULe("%Math.floor%"),GLe=function(e,r){if(typeof e!="function")throw new wU("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||$Le(r)!==r)throw new wU("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&bU){var o=bU(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(jLe?xU(e,"length",r,!0,!0):xU(e,"length",r)),e};(function(t){var e=Mk,r=l0,n=GLe,i=Ag,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),c=Lk(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return s(e,a,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u})(zz);var VLe=zz.exports,Yz=l0,qz=VLe,HLe=qz(Yz("String.prototype.indexOf")),zLe=function(e,r){var n=Yz(e,!!r);return typeof n=="function"&&HLe(e,".prototype.")>-1?qz(n):n},Bk=typeof Map=="function"&&Map.prototype,eC=Object.getOwnPropertyDescriptor&&Bk?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,bx=Bk&&eC&&typeof eC.get=="function"?eC.get:null,EU=Bk&&Map.prototype.forEach,Dk=typeof Set=="function"&&Set.prototype,tC=Object.getOwnPropertyDescriptor&&Dk?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,wx=Dk&&tC&&typeof tC.get=="function"?tC.get:null,SU=Dk&&Set.prototype.forEach,XLe=typeof WeakMap=="function"&&WeakMap.prototype,Kp=XLe?WeakMap.prototype.has:null,WLe=typeof WeakSet=="function"&&WeakSet.prototype,Zp=WLe?WeakSet.prototype.has:null,YLe=typeof WeakRef=="function"&&WeakRef.prototype,CU=YLe?WeakRef.prototype.deref:null,qLe=Boolean.prototype.valueOf,KLe=Object.prototype.toString,ZLe=Function.prototype.toString,JLe=String.prototype.match,Uk=String.prototype.slice,uu=String.prototype.replace,QLe=String.prototype.toUpperCase,TU=String.prototype.toLowerCase,Kz=RegExp.prototype.test,AU=Array.prototype.concat,xs=Array.prototype.join,eBe=Array.prototype.slice,IU=Math.floor,UA=typeof BigInt=="function"?BigInt.prototype.valueOf:null,rC=Object.getOwnPropertySymbols,jA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,xd=typeof Symbol=="function"&&typeof Symbol.iterator=="object",fa=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===xd||"symbol")?Symbol.toStringTag:null,Zz=Object.prototype.propertyIsEnumerable,RU=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function PU(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Kz.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-IU(-t):IU(t);if(n!==t){var i=String(n),a=Uk.call(e,i.length+1);return uu.call(i,r,"$&_")+"."+uu.call(uu.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return uu.call(e,r,"$&_")}var $A=qH,OU=$A.custom,kU=Qz(OU)?OU:null,tBe=function t(e,r,n,i){var a=r||{};if(Zl(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Zl(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Zl(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Zl(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Zl(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return tX(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return s?PU(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return s?PU(e,l):l}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return GA(e)?"[Array]":"[Object]";var f=yBe(a,n);if(typeof i>"u")i=[];else if(eX(i,e)>=0)return"[Circular]";function h(k,F,B){if(F&&(i=eBe.call(i),i.push(F)),B){var D={depth:a.depth};return Zl(a,"quoteStyle")&&(D.quoteStyle=a.quoteStyle),t(k,D,n+1,i)}return t(k,a,n+1,i)}if(typeof e=="function"&&!FU(e)){var p=cBe(e),d=a_(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(d.length>0?" { "+xs.call(d,", ")+" }":"")}if(Qz(e)){var g=xd?uu.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):jA.call(e);return typeof e=="object"&&!xd?np(g):g}if(gBe(e)){for(var m="<"+TU.call(String(e.nodeName)),v=e.attributes||[],_=0;_<v.length;_++)m+=" "+v[_].name+"="+Jz(rBe(v[_].value),"double",a);return m+=">",e.childNodes&&e.childNodes.length&&(m+="..."),m+="</"+TU.call(String(e.nodeName))+">",m}if(GA(e)){if(e.length===0)return"[]";var y=a_(e,h);return f&&!_Be(y)?"["+VA(y,f)+"]":"[ "+xs.call(y,", ")+" ]"}if(iBe(e)){var b=a_(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Zz.call(e,"cause")?"{ ["+String(e)+"] "+xs.call(AU.call("[cause]: "+h(e.cause),b),", ")+" }":b.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+xs.call(b,", ")+" }"}if(typeof e=="object"&&o){if(kU&&typeof e[kU]=="function"&&$A)return $A(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(fBe(e)){var w=[];return EU&&EU.call(e,function(k,F){w.push(h(F,e,!0)+" => "+h(k,e))}),NU("Map",bx.call(e),w,f)}if(pBe(e)){var E=[];return SU&&SU.call(e,function(k){E.push(h(k,e))}),NU("Set",wx.call(e),E,f)}if(hBe(e))return nC("WeakMap");if(vBe(e))return nC("WeakSet");if(dBe(e))return nC("WeakRef");if(oBe(e))return np(h(Number(e)));if(lBe(e))return np(h(UA.call(e)));if(sBe(e))return np(qLe.call(e));if(aBe(e))return np(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Ct)return"{ [object globalThis] }";if(!nBe(e)&&!FU(e)){var C=a_(e,h),T=RU?RU(e)===Object.prototype:e instanceof Object||e.constructor===Object,A=e instanceof Object?"":"null prototype",I=!T&&fa&&Object(e)===e&&fa in e?Uk.call(Ku(e),8,-1):A?"Object":"",O=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",P=O+(I||A?"["+xs.call(AU.call([],I||[],A||[]),": ")+"] ":"");return C.length===0?P+"{}":f?P+"{"+VA(C,f)+"}":P+"{ "+xs.call(C,", ")+" }"}return String(e)};function Jz(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function rBe(t){return uu.call(String(t),/"/g,"&quot;")}function GA(t){return Ku(t)==="[object Array]"&&(!fa||!(typeof t=="object"&&fa in t))}function nBe(t){return Ku(t)==="[object Date]"&&(!fa||!(typeof t=="object"&&fa in t))}function FU(t){return Ku(t)==="[object RegExp]"&&(!fa||!(typeof t=="object"&&fa in t))}function iBe(t){return Ku(t)==="[object Error]"&&(!fa||!(typeof t=="object"&&fa in t))}function aBe(t){return Ku(t)==="[object String]"&&(!fa||!(typeof t=="object"&&fa in t))}function oBe(t){return Ku(t)==="[object Number]"&&(!fa||!(typeof t=="object"&&fa in t))}function sBe(t){return Ku(t)==="[object Boolean]"&&(!fa||!(typeof t=="object"&&fa in t))}function Qz(t){if(xd)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!jA)return!1;try{return jA.call(t),!0}catch{}return!1}function lBe(t){if(!t||typeof t!="object"||!UA)return!1;try{return UA.call(t),!0}catch{}return!1}var uBe=Object.prototype.hasOwnProperty||function(t){return t in this};function Zl(t,e){return uBe.call(t,e)}function Ku(t){return KLe.call(t)}function cBe(t){if(t.name)return t.name;var e=JLe.call(ZLe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function eX(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function fBe(t){if(!bx||!t||typeof t!="object")return!1;try{bx.call(t);try{wx.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function hBe(t){if(!Kp||!t||typeof t!="object")return!1;try{Kp.call(t,Kp);try{Zp.call(t,Zp)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function dBe(t){if(!CU||!t||typeof t!="object")return!1;try{return CU.call(t),!0}catch{}return!1}function pBe(t){if(!wx||!t||typeof t!="object")return!1;try{wx.call(t);try{bx.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function vBe(t){if(!Zp||!t||typeof t!="object")return!1;try{Zp.call(t,Zp);try{Kp.call(t,Kp)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function gBe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function tX(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return tX(Uk.call(t,0,e.maxStringLength),e)+n}var i=uu.call(uu.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,mBe);return Jz(i,"single",e)}function mBe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+QLe.call(e.toString(16))}function np(t){return"Object("+t+")"}function nC(t){return t+" { ? }"}function NU(t,e,r,n){var i=n?VA(r,n):xs.call(r,", ");return t+" ("+e+") {"+i+"}"}function _Be(t){for(var e=0;e<t.length;e++)if(eX(t[e],`
`)>=0)return!1;return!0}function yBe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=xs.call(Array(t.indent+1)," ");else return null;return{base:r,prev:xs.call(Array(e+1),r)}}function VA(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+xs.call(t,","+r)+`
`+e.prev}function a_(t,e){var r=GA(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Zl(t,i)?e(t[i],t):""}var a=typeof rC=="function"?rC(t):[],o;if(xd){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in t)Zl(t,c)&&(r&&String(Number(c))===c&&c<t.length||xd&&o["$"+c]instanceof Symbol||(Kz.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof rC=="function")for(var l=0;l<a.length;l++)Zz.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var rX=l0,u0=zLe,xBe=tBe,bBe=Ag,o_=rX("%WeakMap%",!0),s_=rX("%Map%",!0),wBe=u0("WeakMap.prototype.get",!0),EBe=u0("WeakMap.prototype.set",!0),SBe=u0("WeakMap.prototype.has",!0),CBe=u0("Map.prototype.get",!0),TBe=u0("Map.prototype.set",!0),ABe=u0("Map.prototype.has",!0),jk=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},IBe=function(t,e){var r=jk(t,e);return r&&r.value},RBe=function(t,e,r){var n=jk(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},PBe=function(t,e){return!!jk(t,e)},OBe=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new bBe("Side channel does not contain "+xBe(a))},get:function(a){if(o_&&a&&(typeof a=="object"||typeof a=="function")){if(e)return wBe(e,a)}else if(s_){if(r)return CBe(r,a)}else if(n)return IBe(n,a)},has:function(a){if(o_&&a&&(typeof a=="object"||typeof a=="function")){if(e)return SBe(e,a)}else if(s_){if(r)return ABe(r,a)}else if(n)return PBe(n,a);return!1},set:function(a,o){o_&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new o_),EBe(e,a,o)):s_?(r||(r=new s_),TBe(r,a,o)):(n||(n={key:{},next:null}),RBe(n,a,o))}};return i},kBe=String.prototype.replace,FBe=/%20/g,iC={RFC1738:"RFC1738",RFC3986:"RFC3986"},$k={default:iC.RFC3986,formatters:{RFC1738:function(t){return kBe.call(t,FBe,"+")},RFC3986:function(t){return String(t)}},RFC1738:iC.RFC1738,RFC3986:iC.RFC3986},NBe=$k,aC=Object.prototype.hasOwnProperty,Oc=Array.isArray,ds=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),MBe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Oc(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},nX=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},LBe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Oc(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!aC.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Oc(e)&&!Oc(r)&&(i=nX(e,n)),Oc(e)&&Oc(r)?(r.forEach(function(a,o){if(aC.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return aC.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},BBe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},DBe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},UBe=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===NBe.RFC1738&&(l===40||l===41)){s+=o.charAt(c);continue}if(l<128){s=s+ds[l];continue}if(l<2048){s=s+(ds[192|l>>6]+ds[128|l&63]);continue}if(l<55296||l>=57344){s=s+(ds[224|l>>12]+ds[128|l>>6&63]+ds[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),s+=ds[240|l>>18]+ds[128|l>>12&63]+ds[128|l>>6&63]+ds[128|l&63]}return s},jBe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return MBe(r),e},$Be=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},GBe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},VBe=function(e,r){return[].concat(e,r)},HBe=function(e,r){if(Oc(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},iX={arrayToObject:nX,assign:BBe,combine:VBe,compact:jBe,decode:DBe,encode:UBe,isBuffer:GBe,isRegExp:$Be,maybeMap:HBe,merge:LBe},aX=OBe,my=iX,Jp=$k,zBe=Object.prototype.hasOwnProperty,oX={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ms=Array.isArray,XBe=Array.prototype.push,sX=function(t,e){XBe.apply(t,ms(e)?e:[e])},WBe=Date.prototype.toISOString,MU=Jp.default,vi={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:my.encode,encodeValuesOnly:!1,format:MU,formatter:Jp.formatters[MU],indices:!1,serializeDate:function(e){return WBe.call(e)},skipNulls:!1,strictNullHandling:!1},YBe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},oC={},qBe=function t(e,r,n,i,a,o,s,c,l,u,f,h,p,d,g,m,v,_){for(var y=e,b=_,w=0,E=!1;(b=b.get(oC))!==void 0&&!E;){var C=b.get(e);if(w+=1,typeof C<"u"){if(C===w)throw new RangeError("Cyclic object value");E=!0}typeof b.get(oC)>"u"&&(w=0)}if(typeof u=="function"?y=u(r,y):y instanceof Date?y=p(y):n==="comma"&&ms(y)&&(y=my.maybeMap(y,function(Y){return Y instanceof Date?p(Y):Y})),y===null){if(o)return l&&!m?l(r,vi.encoder,v,"key",d):r;y=""}if(YBe(y)||my.isBuffer(y)){if(l){var T=m?r:l(r,vi.encoder,v,"key",d);return[g(T)+"="+g(l(y,vi.encoder,v,"value",d))]}return[g(r)+"="+g(String(y))]}var A=[];if(typeof y>"u")return A;var I;if(n==="comma"&&ms(y))m&&l&&(y=my.maybeMap(y,l)),I=[{value:y.length>0?y.join(",")||null:void 0}];else if(ms(u))I=u;else{var O=Object.keys(y);I=f?O.sort(f):O}var P=c?r.replace(/\./g,"%2E"):r,k=i&&ms(y)&&y.length===1?P+"[]":P;if(a&&ms(y)&&y.length===0)return k+"[]";for(var F=0;F<I.length;++F){var B=I[F],D=typeof B=="object"&&typeof B.value<"u"?B.value:y[B];if(!(s&&D===null)){var z=h&&c?B.replace(/\./g,"%2E"):B,ee=ms(y)?typeof n=="function"?n(k,z):k:k+(h?"."+z:"["+z+"]");_.set(e,w);var te=aX();te.set(oC,_),sX(A,t(D,ee,n,i,a,o,s,c,n==="comma"&&m&&ms(y)?null:l,u,f,h,p,d,g,m,v,te))}}return A},KBe=function(e){if(!e)return vi;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||vi.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Jp.default;if(typeof e.format<"u"){if(!zBe.call(Jp.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Jp.formatters[n],a=vi.filter;(typeof e.filter=="function"||ms(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in oX?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=vi.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:vi.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:vi.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:vi.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:vi.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?vi.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:vi.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:vi.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:vi.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:vi.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:vi.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:vi.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:vi.strictNullHandling}},ZBe=function(t,e){var r=t,n=KBe(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):ms(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=oX[n.arrayFormat],c=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=aX(),u=0;u<i.length;++u){var f=i[u];n.skipNulls&&r[f]===null||sX(o,qBe(r[f],f,s,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},bd=iX,HA=Object.prototype.hasOwnProperty,JBe=Array.isArray,zn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:bd.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},QBe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},lX=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},eDe="utf8=%26%2310003%3B",tDe="utf8=%E2%9C%93",rDe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===tDe?l="utf-8":o[c]===eDe&&(l="iso-8859-1"),s=c,c=o.length);for(c=0;c<o.length;++c)if(c!==s){var u=o[c],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,p,d;h===-1?(p=r.decoder(u,zn.decoder,l,"key"),d=r.strictNullHandling?null:""):(p=r.decoder(u.slice(0,h),zn.decoder,l,"key"),d=bd.maybeMap(lX(u.slice(h+1),r),function(m){return r.decoder(m,zn.decoder,l,"value")})),d&&r.interpretNumericEntities&&l==="iso-8859-1"&&(d=QBe(d)),u.indexOf("[]=")>-1&&(d=JBe(d)?[d]:d);var g=HA.call(n,p);g&&r.duplicates==="combine"?n[p]=bd.combine(n[p],d):(!g||r.duplicates==="last")&&(n[p]=d)}return n},nDe=function(t,e,r,n){for(var i=n?e:lX(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},iDe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),l=c?a.slice(0,c.index):a,u=[];if(l){if(!n.plainObjects&&HA.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var f=0;n.depth>0&&(c=s.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&HA.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+a.slice(c.index)+"]"),nDe(u,r,n,i)}},aDe=function(e){if(!e)return zn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?zn.charset:e.charset,n=typeof e.duplicates>"u"?zn.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:zn.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:zn.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:zn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:zn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:zn.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:zn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:zn.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:zn.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:zn.decoder,delimiter:typeof e.delimiter=="string"||bd.isRegExp(e.delimiter)?e.delimiter:zn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:zn.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:zn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:zn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:zn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:zn.strictNullHandling}},oDe=function(t,e){var r=aDe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?rDe(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],c=iDe(s,n[s],r,typeof t=="string");i=bd.merge(i,c,r)}return r.allowSparse===!0?i:bd.compact(i)},sDe=ZBe,lDe=oDe,uDe=$k,cDe={formats:uDe,parse:lDe,stringify:sDe},fDe=qMe;function Qo(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var hDe=/^([a-z0-9.+-]+:)/i,dDe=/:[0-9]*$/,pDe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,vDe=["<",">",'"',"`"," ","\r",`
`,"	"],gDe=["{","}","|","\\","^","`"].concat(vDe),zA=["'"].concat(gDe),LU=["%","/","?",";","#"].concat(zA),BU=["/","?","#"],mDe=255,DU=/^[+a-z0-9A-Z_-]{0,63}$/,_De=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yDe={javascript:!0,"javascript:":!0},XA={javascript:!0,"javascript:":!0},nd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},WA=cDe;function Pb(t,e,r){if(t&&typeof t=="object"&&t instanceof Qo)return t;var n=new Qo;return n.parse(t,e,r),n}Qo.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var c=pDe.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=WA.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=hDe.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(l&&XA[l])&&(s=s.substr(2),this.slashes=!0)}if(!XA[l]&&(f||l&&!nd[l])){for(var h=-1,p=0;p<BU.length;p++){var d=s.indexOf(BU[p]);d!==-1&&(h===-1||d<h)&&(h=d)}var g,m;h===-1?m=s.lastIndexOf("@"):m=s.lastIndexOf("@",h),m!==-1&&(g=s.slice(0,m),s=s.slice(m+1),this.auth=decodeURIComponent(g)),h=-1;for(var p=0;p<LU.length;p++){var d=s.indexOf(LU[p]);d!==-1&&(h===-1||d<h)&&(h=d)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var _=this.hostname.split(/\./),p=0,y=_.length;p<y;p++){var b=_[p];if(b&&!b.match(DU)){for(var w="",E=0,C=b.length;E<C;E++)b.charCodeAt(E)>127?w+="x":w+=b[E];if(!w.match(DU)){var T=_.slice(0,p),A=_.slice(p+1),I=b.match(_De);I&&(T.push(I[1]),A.unshift(I[2])),A.length&&(s="/"+A.join(".")+s),this.hostname=T.join(".");break}}}this.hostname.length>mDe?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=fDe.toASCII(this.hostname));var O=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+O,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!yDe[u])for(var p=0,y=zA.length;p<y;p++){var k=zA[p];if(s.indexOf(k)!==-1){var F=encodeURIComponent(k);F===k&&(F=escape(k)),s=s.split(k).join(F)}}var B=s.indexOf("#");B!==-1&&(this.hash=s.substr(B),s=s.slice(0,B));var D=s.indexOf("?");if(D!==-1?(this.search=s.substr(D),this.query=s.substr(D+1),e&&(this.query=WA.parse(this.query)),s=s.slice(0,D)):e&&(this.search="",this.query={}),s&&(this.pathname=s),nd[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",z=this.search||"";this.path=O+z}return this.href=this.format(),this};function xDe(t){return typeof t=="string"&&(t=Pb(t)),t instanceof Qo?t.format():Qo.prototype.format.call(t)}Qo.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=WA.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||nd[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function bDe(t,e){return Pb(t,!1,!0).resolve(e)}Qo.prototype.resolve=function(t){return this.resolveObject(Pb(t,!1,!0)).format()};Qo.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Qo;e.parse(t,!1,!0),t=e}for(var r=new Qo,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];c!=="protocol"&&(r[c]=t[c])}return nd[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!nd[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!XA[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",p=r.search||"";r.path=h+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var d=r.pathname&&r.pathname.charAt(0)==="/",g=t.host||t.pathname&&t.pathname.charAt(0)==="/",m=g||d||r.host&&t.pathname,v=m,_=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],b=r.protocol&&!nd[r.protocol];if(b&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),m=m&&(y[0]===""||_[0]==="")),g)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=y;else if(y.length)_||(_=[]),_.pop(),_=_.concat(y),r.search=t.search,r.query=t.query;else if(t.search!=null){if(b){r.host=_.shift(),r.hostname=r.host;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=_.slice(-1)[0],C=(r.host||t.host||_.length>1)&&(E==="."||E==="..")||E==="",T=0,A=_.length;A>=0;A--)E=_[A],E==="."?_.splice(A,1):E===".."?(_.splice(A,1),T++):T&&(_.splice(A,1),T--);if(!m&&!v)for(;T--;T)_.unshift("..");m&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),C&&_.join("/").substr(-1)!=="/"&&_.push("");var I=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(b){r.hostname=I?"":_.length?_.shift():"",r.host=r.hostname;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return m=m||r.host&&_.length,m&&!I&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Qo.prototype.parseHost=function(){var t=this.host,e=dDe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var wDe=Pb,EDe=bDe,SDe=xDe;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Fs;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Fs||(Fs={}));var wd;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(wd||(wd={}));var kv;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(kv||(kv={}));var ct;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(ct||(ct={}));var eo;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(eo||(eo={}));var nt;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(nt||(nt={}));var Cu;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Cu||(Cu={}));var At;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(At||(At={}));var Fv;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Fv||(Fv={}));var Oi;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Oi||(Oi={}));var Ps;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ps||(Ps={}));var Va;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Va||(Va={}));var Ca;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Ca||(Ca={}));var ll;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(ll||(ll={}));var Ex;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Ex||(Ex={}));var Ko;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Ko||(Ko={}));var $i;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})($i||($i={}));var Kn;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Kn||(Kn={}));var es;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(es||(es={}));/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Hc={parse:wDe,format:SDe,resolve:EDe};xt.RETINA_PREFIX=/@([0-9\.]+)x/;xt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var YA=!1,UU="6.4.2";function CDe(){YA=!0}function uX(t){var e;if(!YA){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+UU+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+UU+" - "+t+" - http://www.pixijs.com/");YA=!0}}var sC;function cX(){return typeof sC>"u"&&(sC=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:xt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),sC}var TDe="#f0f8ff",ADe="#faebd7",IDe="#00ffff",RDe="#7fffd4",PDe="#f0ffff",ODe="#f5f5dc",kDe="#ffe4c4",FDe="#000000",NDe="#ffebcd",MDe="#0000ff",LDe="#8a2be2",BDe="#a52a2a",DDe="#deb887",UDe="#5f9ea0",jDe="#7fff00",$De="#d2691e",GDe="#ff7f50",VDe="#6495ed",HDe="#fff8dc",zDe="#dc143c",XDe="#00ffff",WDe="#00008b",YDe="#008b8b",qDe="#b8860b",KDe="#a9a9a9",ZDe="#006400",JDe="#a9a9a9",QDe="#bdb76b",e8e="#8b008b",t8e="#556b2f",r8e="#ff8c00",n8e="#9932cc",i8e="#8b0000",a8e="#e9967a",o8e="#8fbc8f",s8e="#483d8b",l8e="#2f4f4f",u8e="#2f4f4f",c8e="#00ced1",f8e="#9400d3",h8e="#ff1493",d8e="#00bfff",p8e="#696969",v8e="#696969",g8e="#1e90ff",m8e="#b22222",_8e="#fffaf0",y8e="#228b22",x8e="#ff00ff",b8e="#dcdcdc",w8e="#f8f8ff",E8e="#daa520",S8e="#ffd700",C8e="#808080",T8e="#008000",A8e="#adff2f",I8e="#808080",R8e="#f0fff0",P8e="#ff69b4",O8e="#cd5c5c",k8e="#4b0082",F8e="#fffff0",N8e="#f0e68c",M8e="#fff0f5",L8e="#e6e6fa",B8e="#7cfc00",D8e="#fffacd",U8e="#add8e6",j8e="#f08080",$8e="#e0ffff",G8e="#fafad2",V8e="#d3d3d3",H8e="#90ee90",z8e="#d3d3d3",X8e="#ffb6c1",W8e="#ffa07a",Y8e="#20b2aa",q8e="#87cefa",K8e="#778899",Z8e="#778899",J8e="#b0c4de",Q8e="#ffffe0",eUe="#00ff00",tUe="#32cd32",rUe="#faf0e6",nUe="#ff00ff",iUe="#800000",aUe="#66cdaa",oUe="#0000cd",sUe="#ba55d3",lUe="#9370db",uUe="#3cb371",cUe="#7b68ee",fUe="#00fa9a",hUe="#48d1cc",dUe="#c71585",pUe="#191970",vUe="#f5fffa",gUe="#ffe4e1",mUe="#ffe4b5",_Ue="#ffdead",yUe="#000080",xUe="#fdf5e6",bUe="#808000",wUe="#6b8e23",EUe="#ffa500",SUe="#ff4500",CUe="#da70d6",TUe="#eee8aa",AUe="#98fb98",IUe="#afeeee",RUe="#db7093",PUe="#ffefd5",OUe="#ffdab9",kUe="#cd853f",FUe="#ffc0cb",NUe="#dda0dd",MUe="#b0e0e6",LUe="#800080",BUe="#663399",DUe="#ff0000",UUe="#bc8f8f",jUe="#4169e1",$Ue="#8b4513",GUe="#fa8072",VUe="#f4a460",HUe="#2e8b57",zUe="#fff5ee",XUe="#a0522d",WUe="#c0c0c0",YUe="#87ceeb",qUe="#6a5acd",KUe="#708090",ZUe="#708090",JUe="#fffafa",QUe="#00ff7f",e6e="#4682b4",t6e="#d2b48c",r6e="#008080",n6e="#d8bfd8",i6e="#ff6347",a6e="#40e0d0",o6e="#ee82ee",s6e="#f5deb3",l6e="#ffffff",u6e="#f5f5f5",c6e="#ffff00",f6e="#9acd32",h6e={aliceblue:TDe,antiquewhite:ADe,aqua:IDe,aquamarine:RDe,azure:PDe,beige:ODe,bisque:kDe,black:FDe,blanchedalmond:NDe,blue:MDe,blueviolet:LDe,brown:BDe,burlywood:DDe,cadetblue:UDe,chartreuse:jDe,chocolate:$De,coral:GDe,cornflowerblue:VDe,cornsilk:HDe,crimson:zDe,cyan:XDe,darkblue:WDe,darkcyan:YDe,darkgoldenrod:qDe,darkgray:KDe,darkgreen:ZDe,darkgrey:JDe,darkkhaki:QDe,darkmagenta:e8e,darkolivegreen:t8e,darkorange:r8e,darkorchid:n8e,darkred:i8e,darksalmon:a8e,darkseagreen:o8e,darkslateblue:s8e,darkslategray:l8e,darkslategrey:u8e,darkturquoise:c8e,darkviolet:f8e,deeppink:h8e,deepskyblue:d8e,dimgray:p8e,dimgrey:v8e,dodgerblue:g8e,firebrick:m8e,floralwhite:_8e,forestgreen:y8e,fuchsia:x8e,gainsboro:b8e,ghostwhite:w8e,goldenrod:E8e,gold:S8e,gray:C8e,green:T8e,greenyellow:A8e,grey:I8e,honeydew:R8e,hotpink:P8e,indianred:O8e,indigo:k8e,ivory:F8e,khaki:N8e,lavenderblush:M8e,lavender:L8e,lawngreen:B8e,lemonchiffon:D8e,lightblue:U8e,lightcoral:j8e,lightcyan:$8e,lightgoldenrodyellow:G8e,lightgray:V8e,lightgreen:H8e,lightgrey:z8e,lightpink:X8e,lightsalmon:W8e,lightseagreen:Y8e,lightskyblue:q8e,lightslategray:K8e,lightslategrey:Z8e,lightsteelblue:J8e,lightyellow:Q8e,lime:eUe,limegreen:tUe,linen:rUe,magenta:nUe,maroon:iUe,mediumaquamarine:aUe,mediumblue:oUe,mediumorchid:sUe,mediumpurple:lUe,mediumseagreen:uUe,mediumslateblue:cUe,mediumspringgreen:fUe,mediumturquoise:hUe,mediumvioletred:dUe,midnightblue:pUe,mintcream:vUe,mistyrose:gUe,moccasin:mUe,navajowhite:_Ue,navy:yUe,oldlace:xUe,olive:bUe,olivedrab:wUe,orange:EUe,orangered:SUe,orchid:CUe,palegoldenrod:TUe,palegreen:AUe,paleturquoise:IUe,palevioletred:RUe,papayawhip:PUe,peachpuff:OUe,peru:kUe,pink:FUe,plum:NUe,powderblue:MUe,purple:LUe,rebeccapurple:BUe,red:DUe,rosybrown:UUe,royalblue:jUe,saddlebrown:$Ue,salmon:GUe,sandybrown:VUe,seagreen:HUe,seashell:zUe,sienna:XUe,silver:WUe,skyblue:YUe,slateblue:qUe,slategray:KUe,slategrey:ZUe,snow:JUe,springgreen:QUe,steelblue:e6e,tan:t6e,teal:r6e,thistle:n6e,tomato:i6e,turquoise:a6e,violet:o6e,wheat:s6e,white:l6e,whitesmoke:u6e,yellow:c6e,yellowgreen:f6e};function bi(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function Gk(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function Vk(t){return typeof t=="string"&&(t=h6e[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function Sa(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function d6e(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[ct.NORMAL_NPM]=ct.NORMAL,t[ct.ADD_NPM]=ct.ADD,t[ct.SCREEN_NPM]=ct.SCREEN,e[ct.NORMAL]=ct.NORMAL_NPM,e[ct.ADD]=ct.ADD_NPM,e[ct.SCREEN]=ct.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var Hk=d6e();function zk(t,e){return Hk[e?1:0][t]}function fX(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function Ob(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function Xk(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function hX(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function kb(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var p6e={Float32Array,Uint32Array,Int32Array,Uint8Array};function v6e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=kb(u);i[f]||(i[f]=new p6e[f](o)),s=i[f];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+c,d=h%l;s[p+d]=u[h]}c+=l}return new Float32Array(o)}function Nv(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function qA(t){return!(t&t-1)&&!!t}function KA(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Os(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function zc(t){return t===0?0:t<0?-1:1}var g6e=0;function Vu(){return++g6e}var jU={};function El(t,e,r){if(r===void 0&&(r=3),!jU[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),jU[e]=!0}}var ZA={},Na=Object.create(null),xo=Object.create(null);function m6e(){var t;for(t in Na)Na[t].destroy();for(t in xo)xo[t].destroy()}function dX(){var t;for(t in Na)delete Na[t];for(t in xo)delete xo[t]}var JA=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||xt.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function pX(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},c=null,l,u,f;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%e,f=~~(l/4/e),s.top===null&&(s.top=f),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,c=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:c}}var vX=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function _6e(t){var e=vX.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var l_;function gX(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,l_||(l_=document.createElement("a")),l_.href=t;var r=Hc.parse(l_.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Mv(t,e){var r=xt.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const y6e=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:xo,CanvasRenderTarget:JA,DATA_URI:vX,EventEmitter:Rf,ProgramCache:ZA,TextureCache:Na,clearTextureCache:dX,correctBlendMode:zk,createIndicesForQuads:hX,decomposeDataUri:_6e,deprecation:El,destroyTextureCache:m6e,determineCrossOrigin:gX,earcut:Nk,getBufferType:kb,getResolutionOfUrl:Mv,hex2rgb:bi,hex2string:Gk,interleaveTypedArrays:v6e,isMobile:Co,isPow2:qA,isWebGLSupported:cX,log2:KA,nextPow2:Nv,premultiplyBlendMode:Hk,premultiplyRgba:fX,premultiplyTint:Ob,premultiplyTintToRgba:Xk,removeItems:Os,rgb2hex:Sa,sayHello:uX,sign:zc,skipHello:CDe,string2hex:Vk,trimCanvas:pX,uid:Vu,url:Hc},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Lv=Math.PI*2,Wk=180/Math.PI,Sl=Math.PI/180,mn;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(mn||(mn={}));var pr=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),u_=[new pr,new pr,new pr,new pr],er=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=mn.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,c=this.right,l=this.top,u=this.bottom;if(c<=s||u<=l)return!1;var f=u_[0].set(e.left,e.top),h=u_[1].set(e.left,e.bottom),p=u_[2].set(e.right,e.top),d=u_[3].set(e.right,e.bottom);if(p.x<=f.x||h.y<=f.y)return!1;var g=Math.sign(r.a*r.d-r.b*r.c);if(g===0||(r.apply(f,f),r.apply(h,h),r.apply(p,p),r.apply(d,d),Math.max(f.x,h.x,p.x,d.x)<=s||Math.min(f.x,h.x,p.x,d.x)>=c||Math.max(f.y,h.y,p.y,d.y)<=l||Math.min(f.y,h.y,p.y,d.y)>=u))return!1;var m=g*(h.y-f.y),v=g*(f.x-h.x),_=m*s+v*l,y=m*c+v*l,b=m*s+v*u,w=m*c+v*u;if(Math.max(_,y,b,w)<=m*f.x+v*f.y||Math.min(_,y,b,w)>=m*d.x+v*d.y)return!1;var E=g*(f.y-p.y),C=g*(p.x-f.x),T=E*s+C*l,A=E*c+C*l,I=E*s+C*u,O=E*c+C*u;return!(Math.max(T,A,I,O)<=E*f.x+C*f.y||Math.min(T,A,I,O)>=E*d.x+C*d.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),mX=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=mn.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new er(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),_X=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=mn.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new er(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),id=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=mn.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],c=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],f=c>r!=u>r&&e<(l-s)*((r-c)/(u-c))+s;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),yX=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=mn.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),cu=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),ln=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new pr;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new pr;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,c,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-c)*o,this.d=Math.cos(s-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),c=Math.atan2(n,r),l=Math.abs(s+c);return l<1e-5||Math.abs(Lv-l)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Ac=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ic=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Rc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Pc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],QA=[],xX=[],c_=Math.sign;function x6e(){for(var t=0;t<16;t++){var e=[];QA.push(e);for(var r=0;r<16;r++)for(var n=c_(Ac[t]*Ac[r]+Rc[t]*Ic[r]),i=c_(Ic[t]*Ac[r]+Pc[t]*Ic[r]),a=c_(Ac[t]*Rc[r]+Rc[t]*Pc[r]),o=c_(Ic[t]*Rc[r]+Pc[t]*Pc[r]),s=0;s<16;s++)if(Ac[s]===n&&Ic[s]===i&&Rc[s]===a&&Pc[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var c=new ln;c.set(Ac[t],Ic[t],Rc[t],Pc[t],0,0),xX.push(c)}}x6e();var pn={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Ac[t]},uY:function(t){return Ic[t]},vX:function(t){return Rc[t]},vY:function(t){return Pc[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return QA[t][e]},sub:function(t,e){return QA[t][pn.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?pn.S:pn.N:Math.abs(e)*2<=Math.abs(t)?t>0?pn.E:pn.W:e>0?t>0?pn.SE:pn.SW:t>0?pn.NE:pn.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=xX[pn.inv(e)];i.tx=r,i.ty=n,t.append(i)}},Rg=function(){function t(){this.worldTransform=new ln,this.localTransform=new ln,this.position=new cu(this.onChange,this,0,0),this.scale=new cu(this.onChange,this,1,1),this.pivot=new cu(this.onChange,this,0,0),this.skew=new cu(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xt.SORTABLE_CHILDREN=!1;var Ed=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?er.EMPTY:(e=e||new er(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,p=this.minY,d=this.maxX,g=this.maxY,m=o*r+c*n+u,v=s*r+l*n+f;h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*i+c*n+u,v=s*i+l*n+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*r+c*a+u,v=s*r+l*a+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*i+c*a+u,v=s*i+l*a+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,this.minX=h,this.minY=p,this.maxX=d,this.maxY=g},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,p=this.minX,d=this.minY,g=this.maxX,m=this.maxY,v=n;v<i;v+=2){var _=r[v],y=r[v+1],b=s*_+l*y+f,w=u*y+c*_+h;p=Math.min(p,b-a),g=Math.max(g,b+a),d=Math.min(d,w-o),m=Math.max(m,w+o)}this.minX=p,this.minY=d,this.maxX=g,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var eI=function(t,e){return eI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},eI(t,e)};function Yk(t,e){eI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Un=function(t){Yk(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new Rg,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new Ed,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new er),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new er),r=this._localBoundsRect),this._localBounds||(this._localBounds=new Ed);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new qk),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*Wk},set:function(r){this.transform.rotation=r*Sl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(Rf),qk=function(t){Yk(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Un);Un.prototype.displayObjectUpdateTransform=Un.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $U;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})($U||($U={}));var GU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(GU||(GU={}));var VU;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(VU||(VU={}));var HU;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(HU||(HU={}));var zU;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(zU||(zU={}));var XU;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(XU||(XU={}));var WU;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(WU||(WU={}));var YU;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(YU||(YU={}));var qU;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(qU||(qU={}));var KU;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(KU||(KU={}));var ZU;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ZU||(ZU={}));var JU;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(JU||(JU={}));var QU;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(QU||(QU={}));var e6;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(e6||(e6={}));var t6;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(t6||(t6={}));var r6;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(r6||(r6={}));var tI;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(tI||(tI={}));var n6;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(n6||(n6={}));var i6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(i6||(i6={}));function b6e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var xi=function(t){Yk(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=xt.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Os(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,Os(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Os(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(b6e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==tI.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Un);xi.prototype.containerUpdateTransform=xi.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var bX={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Un.mixin(bX);var w6e=9,f_=100,E6e=0,S6e=0,a6=2,o6=1,C6e=-1e3,T6e=-1e3,A6e=2,wX=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Co.tablet||Co.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=f_+"px",r.style.height=f_+"px",r.style.position="absolute",r.style.top=E6e+"px",r.style.left=S6e+"px",r.style.zIndex=a6.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=o6+"px",r.style.height=o6+"px",r.style.position="absolute",r.style.top=C6e+"px",r.style.left=T6e+"px",r.style.zIndex=A6e.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(Co.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,c=s.width,l=s.height,u=s.resolution,f=a/c*u,h=o/l*u,p=this.div;p.style.left=n+"px",p.style.top=i+"px",p.style.width=c+"px",p.style.height=l+"px";for(var d=0;d<this.children.length;d++){var g=this.children[d];if(g.renderId!==this.renderId)g._accessibleActive=!1,Os(this.children,d,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,d--;else{p=g._accessibleDiv;var m=g.hitArea,v=g.worldTransform;g.hitArea?(p.style.left=(v.tx+m.x*v.a)*f+"px",p.style.top=(v.ty+m.y*v.d)*h+"px",p.style.width=m.width*v.a*f+"px",p.style.height=m.height*v.d*h+"px"):(m=g.getBounds(),this.capHitArea(m),p.style.left=m.x*f+"px",p.style.top=m.y*h+"px",p.style.width=m.width*f+"px",p.style.height=m.height*h+"px",p.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(p.title=g.accessibleTitle),p.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&p.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==p.title||g.tabIndex!==p.tabIndex)&&(p.title=g.accessibleTitle,p.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=f_+"px",r.style.height=f_+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=a6.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===w6e&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xt.TARGET_FPMS=.06;var ts;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(ts||(ts={}));var lC=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),An=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new lC(null,null,1/0),this.deltaMS=1/xt.TARGET_FPMS,this.elapsedMS=1/xt.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=ts.NORMAL),this._addListener(new lC(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=ts.NORMAL),this._addListener(new lC(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*xt.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,xt.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),EX=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ts.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?An.shared:new An,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rI=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new pr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var nI=function(t,e){return nI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},nI(t,e)};function I6e(t,e){nI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var SX=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),_y=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),R6e=function(){function t(){this._tempPoint=new pr}return t.prototype.recursiveFindHit=function(e,r,n,i,a){if(!r||!r.visible)return!1;var o=e.data.global;a=r.interactive||a;var s=!1,c=a,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(o,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),c=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(o)||(i=!1)),l&&r.interactiveChildren&&r.children)for(var u=r.children,f=u.length-1;f>=0;f--){var h=u[f],p=this.recursiveFindHit(e,h,n,i,c);if(p){if(!h.parent)continue;c=!1,p&&(e.target&&(i=!1),s=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(o)&&(s=!0),r.interactive&&(s&&!e.target&&(e.target=r),n&&n(e,r,!!s))),s},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),CX={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Un.mixin(CX);var h_=1,d_={target:null,data:{global:null}},TX=function(t){I6e(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new rI,i.mouse.identifier=h_,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[h_]=i.mouse,i.interactionDataPool=[],i.eventData=new SX,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new R6e,i._tempDisplayObject=new qk,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return d_.target=null,d_.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(d_,n,null,!0),d_.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(An.system.add(this.tickerUpdate,this,ts.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(An.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var c=s.length;this.delayedEvents=[];for(var l=0;l<c;l++){var u=s[l],f=u.displayObject,h=u.eventString,p=u.eventData;p.stopsPropagatingAt===f&&(p.stopPropagationHint=!0),this.dispatchEvent(f,h,p)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],c=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,c);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new _y(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var a=this.normalizeToPointerData(r),o=a.length,s=r.target!==this.interactionDOMElement?"outside":"",c=0;c<o;c++){var l=a[c],u=this.getInteractionDataForPointerId(l),f=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,f),l.pointerType==="mouse"||l.pointerType==="pen"){var h=l.button===2;this.emit(h?"rightup"+s:"mouseup"+s,f)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,f),this.releaseInteractionDataForPointerId(l.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],c=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var f=a.button===2,h=_y.FLAGS,p=f?h.RIGHT_DOWN:h.LEFT_DOWN,d=s!==void 0&&s.flags&p;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),d&&(this.dispatchEvent(n,f?"rightclick":"click",r),u=!0)):d&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),s&&(f?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),c&&this.dispatchEvent(n,"touchend",r),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",r),c&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),c&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),c=this.configureInteractionEventForDOMEvent(this.eventData,o,s);c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",c),o.pointerType==="touch"&&this.emit("touchmove",c),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",c)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",c=n.trackedPointers[o];i&&!c&&(c=n.trackedPointers[o]=new _y(o)),c!==void 0&&(i&&this.mouseOverRenderer?(c.over||(c.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):c.over&&(c.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),c.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===h_||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new rI,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=h_),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Rf);/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Hi=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,c){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,f=l.items;this._aliasCount++;for(var h=0,p=f.length;h<p;h++)f[h][u](e,r,n,i,a,o,s,c);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Hi.prototype,{dispatch:{value:Hi.prototype.emit},run:{value:Hi.prototype.emit}});/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xt.PREFER_ENV=Co.any?Fs.WEBGL:Fs.WEBGL2;xt.STRICT_TEXTURE_CACHE=!1;var Bv=[];function Fb(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Bv.length-1;i>=0;--i){var a=Bv[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var iI=function(t,e){return iI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},iI(t,e)};function tn(t,e){iI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var aI=function(){return aI=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},aI.apply(this,arguments)};function P6e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]]);return r}var gf=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Hi("setRealSize"),this.onUpdate=new Hi("update"),this.onError=new Hi("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Zu=function(t){tn(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ca.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(gf),O6e={scaleMode:Oi.NEAREST,format:nt.RGBA,alphaMode:Ca.NPM},fr=function(t){tn(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,c=n.scaleMode,l=n.width,u=n.height,f=n.wrapMode,h=n.format,p=n.type,d=n.target,g=n.resolution,m=n.resourceOptions;return r&&!(r instanceof gf)&&(r=Fb(r,m),r.internal=!0),i.resolution=g||xt.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:xt.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:xt.ANISOTROPIC_LEVEL,i._wrapMode=f||xt.WRAP_MODE,i._scaleMode=c!==void 0?c:xt.SCALE_MODE,i.format=h||nt.RGBA,i.type=p||At.UNSIGNED_BYTE,i.target=d||Cu.TEXTURE_2D,i.alphaMode=a!==void 0?a:Ca.UNPACK,i.uid=Vu(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=qA(this.realWidth)&&qA(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete xo[this.cacheId],delete Na[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=xt.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Vu()}o=r._pixiId}var c=xo[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return c||(c=new e(r,n),c.cacheId=o,e.addToCache(c,o)),c},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new Zu(r,{width:n,height:i}),s=r instanceof Float32Array?At.FLOAT:At.UNSIGNED_BYTE;return new e(o,Object.assign(O6e,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),xo[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),xo[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=xo[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete xo[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete xo[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(Rf),Nb=function(t){tn(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var c=0;c<r;c++){var l=new fr;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof gf?this.addResourceAt(r[i],i):this.addResourceAt(Fb(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(gf),Kk=function(t){tn(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c,l;return Array.isArray(r)?(c=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,c&&i.initFromArray(c,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=Cu.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,c=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var u=0;u<o;u++){var f=c[u];s[u]<f.dirtyId&&(s[u]=f.dirtyId,f.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(Nb),Ns=function(t){tn(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=gX(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,c=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ca.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=c,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(gf),Mb=function(t){tn(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(Ns),Zk=function(t){tn(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=Cu.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),c!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=Cu.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=Cu.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(Nb),Lb=function(t){tn(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;Ns.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:xt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(c){a(c),n.onError.emit(c)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===Ca.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var c=o[s];if(c!==i&&c.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(Ns),Jk=function(t){tn(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;Ns.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var c=r.source;c.width=o,c.height=s,c._pixiId="canvas_"+Vu(),c.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Ns),Qk=function(t){tn(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];Ns.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var c=document.createElement("source"),l=r[s],u=l.src,f=l.mime;u=u||r[s];var h=u.split("?").shift().toLowerCase(),p=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[p]||"video/"+p,c.src=u,c.type=f,a.appendChild(c)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=An.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(An.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(An.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(An.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(An.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(An.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Ns),e3=function(t){tn(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},e}(Ns);Bv.push(Lb,e3,Mb,Qk,Jk,Zu,Zk,Kk);var AX={__proto__:null,Resource:gf,BaseImageResource:Ns,INSTALLED:Bv,autoDetectResource:Fb,AbstractMultiResource:Nb,ArrayResource:Kk,BufferResource:Zu,CanvasResource:Mb,CubeResource:Zk,ImageResource:Lb,SVGResource:Jk,VideoResource:Qk,ImageBitmapResource:e3},k6e=function(t){tn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ca.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(Zu),Sx=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Hi("disposeFramebuffer"),this.multisample=Kn.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new fr(null,{scaleMode:Oi.NEAREST,resolution:1,mipmap:Va.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new fr(new k6e(null,{width:this.width,height:this.height}),{scaleMode:Oi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Va.OFF,format:nt.DEPTH_COMPONENT,type:At.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),t3=function(t){tn(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Kn.NONE,n=t.call(this,null,r)||this,n.mipmap=Va.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Sx(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(fr),r3=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,c=e.x/i+o,l=e.y/a+s;n=pn.add(n,pn.NW),this.x0=c+o*pn.uX(n),this.y0=l+s*pn.uY(n),n=pn.add(n,2),this.x1=c+o*pn.uX(n),this.y1=l+s*pn.uY(n),n=pn.add(n,2),this.x2=c+o*pn.uX(n),this.y2=l+s*pn.uY(n),n=pn.add(n,2),this.x3=c+o*pn.uX(n),this.y3=l+s*pn.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),s6=new r3;function p_(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var kt=function(t){tn(e,t);function e(r,n,i,a,o,s){var c=t.call(this)||this;if(c.noFrame=!1,n||(c.noFrame=!0,n=new er(0,0,1,1)),r instanceof e&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=a,c.valid=!1,c._uvs=s6,c.uvMatrix=null,c.orig=i||n,c._rotate=Number(o||0),o===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=s?new pr(s.x,s.y):new pr(0,0),c._updateID=0,c.textureCacheIds=[],r.valid?c.noFrame?r.valid&&c.onBaseTextureUpdated(r):c.frame=n:r.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&r.on("update",c.onBaseTextureUpdated,c),c}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Na[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===s6&&(this._uvs=new r3),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=xt.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof fr){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+Vu(),fr.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Vu()}o=r._pixiId}var c=Na[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!c&&!(r instanceof fr)?(n.resolution||(n.resolution=Mv(r)),c=new e(new fr(r,n)),c.baseTexture.cacheId=o,fr.addToCache(c.baseTexture,o),e.addToCache(c,o)):!c&&r instanceof fr&&(c=new e(r),e.addToCache(c,o)),c},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(fr.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new fr(r,Object.assign({scaleMode:xt.SCALE_MODE,resolution:Mv(n)},a)),s=o.resource;s instanceof Lb&&(s.url=n);var c=new e(o);return i||(i=n),fr.addToCache(c.baseTexture,i),e.addToCache(c,i),i!==n&&(fr.addToCache(c.baseTexture,n),e.addToCache(c,n)),c.baseTexture.valid?Promise.resolve(c):new Promise(function(l){c.baseTexture.once("loaded",function(){return l(c)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Na[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Na[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Na[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Na[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)Na[r.textureCacheIds[a]]===r&&delete Na[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,c=i+o>this.baseTexture.height;if(s||c){var l=s&&c?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+f))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new fr),p_(e._EMPTY),p_(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=document.createElement("canvas"),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(new fr(new Mb(r))),p_(e._WHITE),p_(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(Rf),Hu=function(t){tn(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(El("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new t3(r))},e}(kt),IX=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=Kn.NONE);var i=new t3(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Hu(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=Kn.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Nv(e),r=Nv(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Kn.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),oI=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=At.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),F6e=0,si=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=F6e++,this.disposeRunner=new Hi("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===es.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?es.ELEMENT_ARRAY_BUFFER:es.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),N6e={Float32Array,Uint32Array,Int32Array,Uint8Array};function M6e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=kb(u);i[f]||(i[f]=new N6e[f](o)),s=i[f];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+c,d=h%l;s[p+d]=u[h]}c+=l}return new Float32Array(o)}var l6={5126:4,5123:2,5121:1},L6e=0,B6e={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},c0=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=L6e++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Hi("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,c){if(n===void 0&&(n=0),i===void 0&&(i=!1),c===void 0&&(c=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof si||(r instanceof Array&&(r=new Float32Array(r)),r=new si(r));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],r,n,i,a);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new oI(f,n,i,a,o,s,c),this.instanced=this.instanced||c,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof si||(e instanceof Array&&(e=new Uint16Array(e)),e=new si(e)),e.type=es.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new si,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*l6[a.type]/4),a.buffer=0}for(n.data=M6e(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new si(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new oI(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=es.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,a[c]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new B6e[kb(o.buffers[s].data)](i[s]),r.buffers[s]=new si(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,a[c]),a[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=es.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,f=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var p=o.attributes[s];(p.buffer|0)===h&&(u+=p.size*l6[p.type]/4)}for(var s=0;s<e.length;s++){for(var d=e[s].indexBuffer.data,c=0;c<d.length;c++)r.indexBuffer.data[c+f]+=l;l+=e[s].buffers[h].data.length/u,f+=d.length}}return r},t}(),RX=function(t){tn(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(c0),n3=function(t){tn(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new si(r.vertices),r.uvBuffer=new si(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(c0),D6e=0,Tu=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=D6e++,this.static=!!r,this.ubo=!!n,e instanceof si?(this.buffer=e,this.buffer.type=es.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new si(new Float32Array(1)),this.buffer.type=es.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),PX=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Kn.NONE,this.sourceFrame=new er,this.destinationFrame=new er,this.bindingSourceFrame=new er,this.bindingDestinationFrame=new er,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),v_=[new pr,new pr,new pr,new pr],uC=new ln,i3=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new IX,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new RX,this.quadUv=new n3,this.tempRect=new er,this.activeState={},this.globalUniforms=new Tu({outputFrame:new er,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new PX,c=this.renderer.renderTexture,l=r[0].resolution,u=r[0].multisample,f=r[0].padding,h=r[0].autoFit,p=(n=r[0].legacy)!==null&&n!==void 0?n:!0,d=1;d<r.length;d++){var g=r[d];l=Math.min(l,g.resolution),u=Math.min(u,g.multisample),f=this.useMaxPadding?Math.max(f,g.padding):f+g.padding,h=h&&g.autoFit,p=p||((i=g.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),o.push(s),s.resolution=l,s.multisample=u,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);var m=this.tempRect.copyFrom(c.sourceFrame);a.projection.transform&&this.transformAABB(uC.copyFrom(a.projection.transform).invert(),m),h?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,c.current?c.current.resolution:a.resolution,c.sourceFrame,c.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(c.sourceFrame),s.bindingDestinationFrame.copyFrom(c.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,c.bind(s.renderTexture,s.sourceFrame,v),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,ll.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,f=this.getOptimalFilterTexture(u.width,u.height,r.resolution);f.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(u.width,u.height,r.resolution),f.filterFrame=u.filterFrame),n[h].apply(this,u,f,ll.CLEAR,r);var p=u;u=f,f=p}n[h].apply(this,u,l.renderTexture,ll.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=ll.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===ll.CLEAR||r===ll.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(eo.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(eo.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),c=r.worldTransform.copyTo(ln.TEMP_MATRIX);return c.invert(),s.prepend(c),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=Kn.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Kn.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=v_[0],i=v_[1],a=v_[2],o=v_[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),c=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),u=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=c,r.width=l-s,r.height=u-c},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,c=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?uC.copyFrom(a):uC.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),Pg=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),a3=function(){function t(e){this.renderer=e,this.emptyRenderer=new Pg(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,c=0,l=0;l<s;l++){var u=a[l],f=u._batchLocation;if(f>=0&&f<i&&r[f]===u){o[l]=f;continue}for(;c<i;){var h=r[c];if(h&&h._batchEnabled===n&&h._batchLocation===c){c++;continue}o[l]=c,u._batchLocation=c,r[c]=u;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),u6=0,o3=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=u6++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=u6++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(xt.PREFER_ENV>=Fs.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),OX=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Kn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),U6e=new er,s3=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Sx(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new er,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;xt.PREFER_ENV===Fs.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var c=r.width>>n,l=r.height>>n,u=c/r.width;this.setViewport(r.x*u,r.y*u,c,l)}else{var c=e.width>>n,l=e.height>>n;this.setViewport(0,0,c,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=kv.COLOR|kv.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new OX(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],c=s.parentTextureArray||s;this.renderer.texture.bind(c,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],c=0;c<o;c++){var l=a[c],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),!(c===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,l.target,u._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+c))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=Kn.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Kn.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,c=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[c];if(l){if(!e){if(!l.msaaBuffer)return;var u=a.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new Sx(a.width,a.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=U6e,r.width=a.width,r.height=a.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,f?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new er},t.prototype.destroy=function(){this.renderer=null},t}(),cC={5126:4,5123:2,5121:1},l3=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;xt.PREFER_ENV===Fs.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,c,l){return i.drawElementsInstancedANGLE(a,o,s,c,l)},e.drawArraysInstanced=function(a,o,s,c){return i.drawArraysInstancedANGLE(a,o,s,c)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var c=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[c];if(u)return l[s.id]=u,u;var f=e.buffers,h=e.attributes,p={},d={};for(var g in f)p[g]=0,d[g]=0;for(var g in h)!h[g].size&&s.attributeData[g]?h[g].size=s.attributeData[g].size:h[g].size||console.warn("PIXI Geometry attribute '"+g+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[h[g].buffer]+=h[g].size*cC[h[g].type];for(var g in h){var m=h[g],v=m.size;m.stride===void 0&&(p[m.buffer]===v*cC[m.type]?m.stride=0:m.stride=p[m.buffer]),m.start===void 0&&(m.start=d[m.buffer],d[m.buffer]+=v*cC[m.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var _=0;_<f.length;_++){var y=f[_];o.bind(y),n&&y._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=u,l[s.id]=u,l[c]=u,u},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var c=0;c<o.length;c++){var l=o[c]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[c],r))}if(!r){for(var u in i)if(u[0]==="g"){var f=i[u];this._activeVao===f&&this.unbind(),a.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var c=null;for(var l in s){var u=s[l],f=o[u.buffer],h=f._glBuffers[i];if(r.attributeData[l]){c!==h&&(a.bind(f),c=h);var p=r.attributeData[l].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(p,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,c=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),kX=function(){function t(e){e===void 0&&(e=null),this.type=$i.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=xt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=$i.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function c6(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function f6(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,u){return u+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var c=r.join(`
`);s[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function j6e(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||f6(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||f6(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function fC(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function FX(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return fC(2*e);case"bvec3":return fC(3*e);case"bvec4":return fC(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var NX={},ip=NX;function MX(){if(ip===NX||ip&&ip.isContextLost()){var t=document.createElement("canvas"),e=void 0;xt.PREFER_ENV>=Fs.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ip=e}return ip}var g_;function $6e(){if(!g_){g_=Ko.MEDIUM;var t=MX();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);g_=e.precision?Ko.HIGH:Ko.MEDIUM}}return g_}function h6(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Ko.HIGH&&r!==Ko.HIGH&&(n=Ko.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Ko.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var G6e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function LX(t){return G6e[t]}var m_=null,d6={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function BX(t,e){if(!m_){var r=Object.keys(d6);m_={};for(var n=0;n<r.length;++n){var i=r[n];m_[t[i]]=d6[i]}}return m_[e]}var nf=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],V6e={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},H6e={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function z6e(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,c=0;c<nf.length;c++)if(nf[c].test(a,o)){n.push(nf[c].code(i,o)),s=!0;break}if(!s){var l=a.size===1?V6e:H6e,u=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var X6e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function W6e(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function DX(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=X6e.replace(/%forloop%/gi,W6e(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var ap;function Y6e(){if(typeof ap=="boolean")return ap;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");ap=t({a:"b"},"a","b")===!0}catch{ap=!1}return ap}var q6e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,K6e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Z6e=0,__={},f0=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=Z6e++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),__[n]?(__[n]++,n+="-"+__[n]):__[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=h6(this.vertexSrc,xt.PRECISION_VERTEX,Ko.HIGH),this.fragmentSrc=h6(this.fragmentSrc,xt.PRECISION_FRAGMENT,$6e())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return K6e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return q6e},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=ZA[i];return a||(ZA[i]=a=new t(e,r,n)),a},t}(),yl=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Tu?this.uniformGroup=r:this.uniformGroup=new Tu(r):this.uniformGroup=new Tu({})}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=f0.from(e,r);return new t(i,n)},t}(),hC=0,dC=1,pC=2,vC=3,gC=4,mC=5,Ju=function(){function t(){this.data=0,this.blendMode=ct.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<hC)},set:function(e){!!(this.data&1<<hC)!==e&&(this.data^=1<<hC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<dC)},set:function(e){!!(this.data&1<<dC)!==e&&(this.data^=1<<dC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<pC)},set:function(e){!!(this.data&1<<pC)!==e&&(this.data^=1<<pC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<vC)},set:function(e){!!(this.data&1<<vC)!==e&&(this.data^=1<<vC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<mC)},set:function(e){!!(this.data&1<<mC)!==e&&(this.data^=1<<mC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<gC)},set:function(e){!!(this.data&1<<gC)!==e&&(this.data^=1<<gC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==ct.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),J6e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Q6e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Vt=function(t){tn(e,t);function e(r,n,i){var a=this,o=f0.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=xt.FILTER_RESOLUTION,a.multisample=xt.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new Ju,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return J6e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return Q6e},enumerable:!1,configurable:!0}),e}(yl),e5e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,t5e=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,p6=new ln,Bb=function(){function t(e,r){this._texture=e,this.mapCoord=new ln,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&(p6.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(p6));var o=r.baseTexture,s=this.uClampFrame,c=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+c+l)/o.width,s[1]=(r._frame.y+c+l)/o.height,s[2]=(r._frame.x+r._frame.width-c+l)/o.width,s[3]=(r._frame.y+r._frame.height-c+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),UX=function(t){tn(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||e5e,n||t5e,i)||this,a.maskSprite=o,a.maskMatrix=new ln,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new Bb(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}(Vt),u3=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new kX;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n.autoDetect&&this.detect(n),n._target=e,n.type!==$i.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case $i.SCISSOR:this.renderer.scissor.push(n);break;case $i.STENCIL:this.renderer.stencil.push(n);break;case $i.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===$i.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case $i.SCISSOR:this.renderer.scissor.pop();break;case $i.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case $i.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===$i.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r.isSprite?e.type=$i.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=$i.SCISSOR:e.type=$i.STENCIL},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new UX]));var s=this.renderer,c=s.renderTexture,l,u;if(c.current){var f=c.current;l=e.resolution||f.resolution,u=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else l=e.resolution||s.resolution,u=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=u,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),jX=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),v6=new ln,c3=function(t){tn(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,a=this.renderer,o=a.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?v6.copyFrom(o):v6.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(jX),f3=function(t){tn(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(jX),h3=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ln,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),pc=new er,op=new er,d3=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new er,this.destinationFrame=new er,this.viewportFrame=new er}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(pc.width=e.frame.width,pc.height=e.frame.height,r=pc),n||(op.x=e.frame.x,op.y=e.frame.y,op.width=r.width,op.height=r.height,n=op),o=a.framebuffer):(s=i.resolution,r||(pc.width=i.screen.width,pc.height=i.screen.height,r=pc),n||(n=pc,n.width=r.width,n.height=r.height));var c=this.viewportFrame;c.x=n.x*s,c.y=n.y*s,c.width=n.width*s,c.height=n.height*s,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,c=o.y,l=o.width,u=o.height;s=Math.round(s),c=Math.round(c),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,c,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function r5e(t,e,r,n,i){r.buffer.update(i)}var n5e={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},$X={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function GX(t){for(var e=t.map(function(c){return{data:c,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=$X[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function VX(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function HX(t,e){if(!t.autoManage)return{size:0,syncFunc:r5e};for(var r=VX(t.uniforms,e),n=GX(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var c=i[s],l=t.uniforms[c.data.name],u=c.data.name,f=!1,h=0;h<nf.length;h++){var p=nf[h];if(p.codeUbo&&p.test(c.data,l)){o.push("offset = "+c.offset/4+";",nf[h].codeUbo(c.data.name,l)),f=!0;break}}if(!f)if(c.data.size>1){var d=LX(c.data.type),g=Math.max($X[c.data.type]/16,1),m=d/g,v=(4-m%4)%4;o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;

                t = 0;

                for(var i=0; i < `+c.data.size*g+`; i++)
                {
                    for(var j = 0; j < `+m+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+v+`;
                }

                `)}else{var _=n5e[c.data.type];o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;
                `+_+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var i5e=function(){function t(){}return t}(),zX=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function a5e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=BX(e,a.type),s={type:o,name:a.name,size:LX(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function o5e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),c=BX(e,a.type);r[o]={name:o,index:i,type:c,size:a.size,isArray:s,value:FX(c,a.size)}}return r}function XX(t,e){var r=c6(t,t.VERTEX_SHADER,e.vertexSrc),n=c6(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||j6e(t,i,r,n),e.attributeData=a5e(i,t),e.uniformData=o5e(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(u,f){return u>f?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var c=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:FX(c.type,c.size)}}var l=new zX(i,s);return l}var s5e=0,y_={textureCount:0,uboCount:0},p3=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=s5e++}return t.prototype.systemCheck=function(){if(!Y6e())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(y_.textureCount=0,y_.uboCount=0,this.syncUniformGroup(e.uniformGroup,y_)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=z6e(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,y_,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=HX(e,this.shader.program.uniformData)),e.autoManage){var c=new Float32Array(s.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=XX(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function l5e(t,e){return e===void 0&&(e=[]),e[ct.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.ADD]=[t.ONE,t.ONE],e[ct.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.NONE]=[0,0],e[ct.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ct.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ct.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ct.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ct.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ct.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ct.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ct.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ct.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ct.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var u5e=0,c5e=1,f5e=2,h5e=3,d5e=4,p5e=5,v3=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ct.NONE,this._blendEq=!1,this.map=[],this.map[u5e]=this.setBlend,this.map[c5e]=this.setOffset,this.map[f5e]=this.setCullFace,this.map[h5e]=this.setDepthTest,this.map[d5e]=this.setFrontFace,this.map[p5e]=this.setDepthMask,this.checks=[],this.defaultState=new Ju,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=l5e(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),g3=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=xt.GC_MAX_IDLE,this.checkCountMax=xt.GC_MAX_CHECK_COUNT,this.mode=xt.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Ex.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function v5e(t){var e,r,n,i,a,o,s,c,l,u,f,h,p,d,g,m,v,_,y,b,w,E,C;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?C=(e={},e[At.UNSIGNED_BYTE]=(r={},r[nt.RGBA]=t.RGBA8,r[nt.RGB]=t.RGB8,r[nt.RG]=t.RG8,r[nt.RED]=t.R8,r[nt.RGBA_INTEGER]=t.RGBA8UI,r[nt.RGB_INTEGER]=t.RGB8UI,r[nt.RG_INTEGER]=t.RG8UI,r[nt.RED_INTEGER]=t.R8UI,r[nt.ALPHA]=t.ALPHA,r[nt.LUMINANCE]=t.LUMINANCE,r[nt.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[At.BYTE]=(n={},n[nt.RGBA]=t.RGBA8_SNORM,n[nt.RGB]=t.RGB8_SNORM,n[nt.RG]=t.RG8_SNORM,n[nt.RED]=t.R8_SNORM,n[nt.RGBA_INTEGER]=t.RGBA8I,n[nt.RGB_INTEGER]=t.RGB8I,n[nt.RG_INTEGER]=t.RG8I,n[nt.RED_INTEGER]=t.R8I,n),e[At.UNSIGNED_SHORT]=(i={},i[nt.RGBA_INTEGER]=t.RGBA16UI,i[nt.RGB_INTEGER]=t.RGB16UI,i[nt.RG_INTEGER]=t.RG16UI,i[nt.RED_INTEGER]=t.R16UI,i[nt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[At.SHORT]=(a={},a[nt.RGBA_INTEGER]=t.RGBA16I,a[nt.RGB_INTEGER]=t.RGB16I,a[nt.RG_INTEGER]=t.RG16I,a[nt.RED_INTEGER]=t.R16I,a),e[At.UNSIGNED_INT]=(o={},o[nt.RGBA_INTEGER]=t.RGBA32UI,o[nt.RGB_INTEGER]=t.RGB32UI,o[nt.RG_INTEGER]=t.RG32UI,o[nt.RED_INTEGER]=t.R32UI,o[nt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[At.INT]=(s={},s[nt.RGBA_INTEGER]=t.RGBA32I,s[nt.RGB_INTEGER]=t.RGB32I,s[nt.RG_INTEGER]=t.RG32I,s[nt.RED_INTEGER]=t.R32I,s),e[At.FLOAT]=(c={},c[nt.RGBA]=t.RGBA32F,c[nt.RGB]=t.RGB32F,c[nt.RG]=t.RG32F,c[nt.RED]=t.R32F,c[nt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,c),e[At.HALF_FLOAT]=(l={},l[nt.RGBA]=t.RGBA16F,l[nt.RGB]=t.RGB16F,l[nt.RG]=t.RG16F,l[nt.RED]=t.R16F,l),e[At.UNSIGNED_SHORT_5_6_5]=(u={},u[nt.RGB]=t.RGB565,u),e[At.UNSIGNED_SHORT_4_4_4_4]=(f={},f[nt.RGBA]=t.RGBA4,f),e[At.UNSIGNED_SHORT_5_5_5_1]=(h={},h[nt.RGBA]=t.RGB5_A1,h),e[At.UNSIGNED_INT_2_10_10_10_REV]=(p={},p[nt.RGBA]=t.RGB10_A2,p[nt.RGBA_INTEGER]=t.RGB10_A2UI,p),e[At.UNSIGNED_INT_10F_11F_11F_REV]=(d={},d[nt.RGB]=t.R11F_G11F_B10F,d),e[At.UNSIGNED_INT_5_9_9_9_REV]=(g={},g[nt.RGB]=t.RGB9_E5,g),e[At.UNSIGNED_INT_24_8]=(m={},m[nt.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,m),e[At.FLOAT_32_UNSIGNED_INT_24_8_REV]=(v={},v[nt.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,v),e):C=(_={},_[At.UNSIGNED_BYTE]=(y={},y[nt.RGBA]=t.RGBA,y[nt.RGB]=t.RGB,y[nt.ALPHA]=t.ALPHA,y[nt.LUMINANCE]=t.LUMINANCE,y[nt.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,y),_[At.UNSIGNED_SHORT_5_6_5]=(b={},b[nt.RGB]=t.RGB,b),_[At.UNSIGNED_SHORT_4_4_4_4]=(w={},w[nt.RGBA]=t.RGBA,w),_[At.UNSIGNED_SHORT_5_5_5_1]=(E={},E[nt.RGBA]=t.RGBA,E),_),C}var yy=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=At.UNSIGNED_BYTE,this.internalFormat=nt.RGBA,this.samplerType=0}return t}(),m3=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new fr,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=v5e(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new yy(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new yy(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var c=s._glTextures[a];c.samplerType!==Fv.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new yy(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===At.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==Fv.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&Os(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Va.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Ps.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==Va.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Oi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Oi.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Oi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Oi.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),WX={__proto__:null,FilterSystem:i3,BatchSystem:a3,ContextSystem:o3,FramebufferSystem:s3,GeometrySystem:l3,MaskSystem:u3,ScissorSystem:c3,StencilSystem:f3,ProjectionSystem:h3,RenderTextureSystem:d3,ShaderSystem:p3,StateSystem:v3,TextureGCSystem:g3,TextureSystem:m3},_C=new ln,YX=function(t){tn(e,t);function e(r,n){r===void 0&&(r=wd.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},xt.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new er(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||xt.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(El("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(El("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=P6e(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var c=Hu.create(aI({width:a.width,height:a.height},s));return _C.tx=-a.x,_C.ty=-a.y,this.render(r,{renderTexture:c,clear:!1,transform:_C,skipUpdateTransform:!!r.parent}),c},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=wd.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=Gk(r),bi(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(Rf),g5e=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),m5e=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new g5e(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),Il=function(t){tn(e,t);function e(r){var n=t.call(this,wd.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Hi("destroy"),contextChange:new Hi("contextChange"),reset:new Hi("reset"),update:new Hi("update"),postrender:new Hi("postrender"),prerender:new Hi("prerender"),resize:new Hi("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Tu({projectionMatrix:new ln},!0),n.addSystem(u3,"mask").addSystem(o3,"context").addSystem(v3,"state").addSystem(p3,"shader").addSystem(m3,"texture").addSystem(m5e,"buffer").addSystem(l3,"geometry").addSystem(s3,"framebuffer").addSystem(c3,"scissor").addSystem(f3,"stencil").addSystem(h3,"projection").addSystem(g3,"textureGC").addSystem(i3,"filter").addSystem(d3,"renderTexture").addSystem(a3,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,uX(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(cX())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=Kn.HIGH?this.multisample=Kn.HIGH:n>=Kn.MEDIUM?this.multisample=Kn.MEDIUM:n>=Kn.LOW?this.multisample=Kn.LOW:this.multisample=Kn.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof Hu?(El("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var c=r.enableTempParent();r.updateTransform(),r.disableTempParent(c)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return El("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(YX);function qX(t){return Il.create(t)}var _5e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,y5e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,KX=_5e,_3=y5e,x5e=function(){function t(e){El("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),Cx=function(){function t(){this.texArray=null,this.blend=0,this.type=eo.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),Tx=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),Dv=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),ZX=function(t){tn(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Ju.for2d(),n.size=xt.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;xt.PREFER_ENV===Fs.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),xt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=DX(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new Cx);for(;n.length<a;)n.push(new Tx);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,c=this.renderer.textureGC.count,l=++fr._globalBatch,u=0,f=a[0],h=0;o.copyBoundTextures(s,i);for(var p=0;p<this._bufferSize;++p){var d=n[p];n[p]=null,d._batchEnabled!==l&&(f.count>=i&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,p),h=p,f=a[++u],++l),d._batchEnabled=l,d.touched=c,f.elements[f.count++]=d)}f.count>0&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,this._bufferSize),++u,++l);for(var p=0;p<s.length;p++)s[p]=null;fr._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,c=a._indexBuffer,l=a.vertexSize,u=e._drawCallPool,f=this._dcIndex,h=this._aIndex,p=this._iIndex,d=u[f];d.start=this._iIndex,d.texArray=r;for(var g=n;g<i;++g){var m=o[g],v=m._texture.baseTexture,_=Hk[v.alphaMode?1:0][m.blendMode];o[g]=null,n<g&&d.blend!==_&&(d.size=p-d.start,n=g,d=u[++f],d.texArray=r,d.start=p),this.packInterleavedGeometry(m,s,c,h,p),h+=m.vertexData.length/2*l,p+=m.indices.length,d.blend=_}n<i&&(d.size=p-d.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=p},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;xt.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,c=0;c<r;c++){var l=o[c],u=l.texArray,f=l.type,h=l.size,p=l.start,d=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,a.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,p*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),xt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=Nv(Math.ceil(r/8)),i=KA(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new Dv(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=Nv(Math.ceil(r/12)),i=KA(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,c=n.float32View,l=a/this.vertexSize,u=r.uvs,f=r.indices,h=r.vertexData,p=r._texture.baseTexture._batchLocation,d=Math.min(r.worldAlpha,1),g=d<1&&r._texture.baseTexture.alphaMode?Ob(r._tintRGB,d):r._tintRGB+(d*255<<24),m=0;m<h.length;m+=2)c[a++]=h[m],c[a++]=h[m+1],c[a++]=u[m],c[a++]=u[m+1],s[a++]=g,c[a++]=p;for(var m=0;m<f.length;m++)i[o++]=l+f[m]},e._drawCallPool=[],e._textureArrayPool=[],e}(Pg),JX=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=Tu.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new f0(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ln,default:this.defaultGroupCache[e]};return new yl(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),y3=function(t){tn(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new si(null,r,!1),n._indexBuffer=new si(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,At.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,At.FLOAT).addAttribute("aColor",n._buffer,4,!0,At.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,At.FLOAT).addIndex(n._indexBuffer),n}return e}(c0),g6=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,m6=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,QX=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:g6,fragment:m6,geometryClass:y3,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){tn(c,s);function c(l){var u=s.call(this,l)||this;return u.shaderGenerator=new JX(n,i),u.geometryClass=o,u.vertexSize=a,u}return c}(ZX)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return g6},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return m6},enumerable:!1,configurable:!0}),t}(),eW=QX.create(),tW={},b5e=function(t){Object.defineProperty(tW,t,{get:function(){return El("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),AX[t]}})};for(var x3 in AX)b5e(x3);var rW={},w5e=function(t){Object.defineProperty(rW,t,{get:function(){return El("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),WX[t]}})};for(var x3 in WX)w5e(x3);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Og=function(){function t(e){var r=this;this.stage=new xi,e=Object.assign({forceCanvas:!1},e),this.renderer=qX(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),E5e=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Og.registerPlugin(E5e);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var yC=/iPhone/i,_6=/iPod/i,y6=/iPad/i,x6=/\biOS-universal(?:.+)Mac\b/i,xC=/\bAndroid(?:.+)Mobile\b/i,b6=/Android/i,ah=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,x_=/Silk/i,nl=/Windows Phone/i,w6=/\bWindows(?:.+)ARM\b/i,E6=/BlackBerry/i,S6=/BB10/i,C6=/Opera Mini/i,T6=/\b(CriOS|Chrome)(?:.+)Mobile/i,A6=/Mobile(?:.+)Firefox\b/i,I6=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function S5e(t){return function(e){return e.test(t)}}function C5e(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=S5e(r),a={apple:{phone:i(yC)&&!i(nl),ipod:i(_6),tablet:!i(yC)&&(i(y6)||I6(e))&&!i(nl),universal:i(x6),device:(i(yC)||i(_6)||i(y6)||i(x6)||I6(e))&&!i(nl)},amazon:{phone:i(ah),tablet:!i(ah)&&i(x_),device:i(ah)||i(x_)},android:{phone:!i(nl)&&i(ah)||!i(nl)&&i(xC),tablet:!i(nl)&&!i(ah)&&!i(xC)&&(i(x_)||i(b6)),device:!i(nl)&&(i(ah)||i(x_)||i(xC)||i(b6))||i(/\bokhttp\b/i)},windows:{phone:i(nl),tablet:i(w6),device:i(nl)||i(w6)},other:{blackberry:i(E6),blackberry10:i(S6),opera:i(C6),firefox:i(A6),chrome:i(T6),device:i(E6)||i(S6)||i(C6)||i(A6)||i(T6)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Mh=C5e(globalThis.navigator);function T5e(t){var e=!0;if(Mh.tablet||Mh.phone){if(Mh.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Mh.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function A5e(){return!Mh.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var R6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(R6||(R6={}));var P6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(P6||(P6={}));var O6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(O6||(O6={}));var k6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(k6||(k6={}));var F6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(F6||(F6={}));var N6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(N6||(N6={}));var M6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(M6||(M6={}));var L6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(L6||(L6={}));var B6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(B6||(B6={}));var sI;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(sI||(sI={}));var lI;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(lI||(lI={}));var uI;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(uI||(uI={}));var D6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(D6||(D6={}));var U6;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(U6||(U6={}));var cI;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(cI||(cI={}));var Qp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Qp||(Qp={}));var j6;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(j6||(j6={}));var fI;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(fI||(fI={}));var $6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})($6||($6={}));var nW={MIPMAP_TEXTURES:uI.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:fI.NONE,SPRITE_MAX_TEXTURES:T5e(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:cI.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:lI.CLAMP,SCALE_MODE:sI.LINEAR,PRECISION_VERTEX:Qp.HIGH,PRECISION_FRAGMENT:Mh.apple.device?Qp.HIGH:Qp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:A5e(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */nW.SORTABLE_CHILDREN=!1;var G6=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?er.EMPTY:(e=e||new er(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,p=this.minY,d=this.maxX,g=this.maxY,m=o*r+c*n+u,v=s*r+l*n+f;h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*i+c*n+u,v=s*i+l*n+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*r+c*a+u,v=s*r+l*a+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*i+c*a+u,v=s*i+l*a+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,this.minX=h,this.minY=p,this.maxX=d,this.maxY=g},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,p=this.minX,d=this.minY,g=this.maxX,m=this.maxY,v=n;v<i;v+=2){var _=r[v],y=r[v+1],b=s*_+l*y+f,w=u*y+c*_+h;p=Math.min(p,b-a),g=Math.max(g,b+a),d=Math.min(d,w-o),m=Math.max(m,w+o)}this.minX=p,this.minY=d,this.maxX=g,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var hI=function(t,e){return hI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},hI(t,e)};function b3(t,e){hI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Uv=function(t){b3(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new Rg,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new G6,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new er),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new er),r=this._localBoundsRect),this._localBounds||(this._localBounds=new G6);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new I5e),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*Wk},set:function(r){this.transform.rotation=r*Sl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(Rf),I5e=function(t){b3(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Uv);Uv.prototype.displayObjectUpdateTransform=Uv.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var V6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(V6||(V6={}));var H6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(H6||(H6={}));var z6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(z6||(z6={}));var X6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(X6||(X6={}));var W6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(W6||(W6={}));var Y6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Y6||(Y6={}));var q6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(q6||(q6={}));var K6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(K6||(K6={}));var Z6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Z6||(Z6={}));var J6;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(J6||(J6={}));var Q6;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Q6||(Q6={}));var e5;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(e5||(e5={}));var t5;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(t5||(t5={}));var r5;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(r5||(r5={}));var n5;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(n5||(n5={}));var i5;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(i5||(i5={}));var dI;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(dI||(dI={}));var a5;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(a5||(a5={}));var o5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(o5||(o5={}));function R5e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var s5=function(t){b3(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=nW.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Os(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,Os(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Os(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(R5e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==dI.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Uv);s5.prototype.containerUpdateTransform=s5.prototype.updateTransform;var bC=new er,l5=4,iW=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,a=!1,o,s=!1;e&&(e instanceof Hu?o=e:(o=this.renderer.generateTexture(e),s=!0)),o?(n=o.baseTexture.resolution,i=o.frame,a=!1,r.renderTexture.bind(o)):(n=this.renderer.resolution,a=!0,i=bC,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var c=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),u=new JA(c,l,1),f=new Uint8Array(l5*c*l),h=r.gl;h.readPixels(i.x*n,i.y*n,c,l,h.RGBA,h.UNSIGNED_BYTE,f);var p=u.context.getImageData(0,0,c,l);if(t.arrayPostDivide(f,p.data),u.context.putImageData(p,0,0),a){var d=new JA(u.width,u.height,1);d.context.scale(1,-1),d.context.drawImage(u.canvas,0,-l),u.destroy(),u=d}return s&&o.destroy(!0),u.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,a,o,s=!1;e&&(e instanceof Hu?o=e:e instanceof Uv&&(o=this.renderer.generateTexture(e),s=!0)),o?r?(i=r.resolution,a=o.frame,n.renderTexture.bind(o)):(i=o.baseTexture.resolution,a=o.frame,n.renderTexture.bind(o)):r?(i=r.resolution,a=bC,a.width=r.width,a.height=r.height,n.renderTexture.bind(null)):(i=n.resolution,a=bC,a.width=n.width,a.height=n.height,n.renderTexture.bind(null));var c=a.width*i,l=a.height*i,u=new Uint8Array(l5*c*l),f=n.gl;return f.readPixels(a.x*i,a.y*i,c,l,f.RGBA,f.UNSIGNED_BYTE,u),s&&o.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var b_=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function u5(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var cl=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof b_))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return u5(this,new b_(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return u5(this,new b_(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof b_))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function aW(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,c){s&&(i[r.q.name][s]=c)}),i}var wC,w_=null,P5e=0,c5=200,O5e=204,k5e=1223,F5e=2;function f5(){}function h5(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function EC(t){return t.toString().replace("object ","")}var jr=function(){function t(e,r,n){if(this._dequeue=f5,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=f5,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new cl,this.onProgress=new cl,this.onComplete=new cl,this.onAfterMiddleware=new cl}return t.setExtensionLoadType=function(e,r){h5(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){h5(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof wC>"u"&&(wC=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),wC&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(EC(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(EC(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(EC(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?c5:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===P5e&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=c5:n===k5e&&(n=O5e);var i=n/100|0;if(i===F5e)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,w_||(w_=document.createElement("a")),w_.href=e;var n=aW(w_.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(jr||(jr={}));function vc(){}function N5e(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var M5e=function(){function t(e,r){this.data=e,this.callback=r}return t}(),SC=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=vc,this.unsaturated=vc,this.empty=vc,this.drain=vc,this.error=vc,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new M5e(i,typeof o=="function"?o:vc);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,N5e(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=vc,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(c){if(c||a===o){n&&n(c);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),CC=100,L5e=/(#[\w-]+)?$/,Ha=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this._queue=SC.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new cl,this.onError=new cl,this.onLoad=new cl,this.onStart=new cl,this.onComplete=new cl;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new jr(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var c=a.progressChunk*(o.length+1),l=c/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=CC/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=aW(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=L5e.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,SC.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=CC,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),SC.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(CC,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();Ha.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var oW=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Ha.shared:new Ha},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),sW=function(){function t(){}return t.add=function(){jr.setExtensionLoadType("svg",jr.LOAD_TYPE.XHR),jr.setExtensionXhrType("svg",jr.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===jr.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;kt.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t}(),B5e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function D5e(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=B5e.charAt(i[a])}return e}function U5e(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===jr.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+D5e(t.xhr.responseText),t.type=jr.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=jr.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}Ha.registerPlugin({use:U5e});Ha.registerPlugin(sW);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zr,Jt;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(Jt||(Jt={}));var jv=(zr={},zr[Jt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,zr[Jt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,zr[Jt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,zr[Jt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,zr[Jt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,zr[Jt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,zr[Jt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,zr[Jt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,zr[Jt.COMPRESSED_R11_EAC]=.5,zr[Jt.COMPRESSED_SIGNED_R11_EAC]=.5,zr[Jt.COMPRESSED_RG11_EAC]=1,zr[Jt.COMPRESSED_SIGNED_RG11_EAC]=1,zr[Jt.COMPRESSED_RGB8_ETC2]=.5,zr[Jt.COMPRESSED_RGBA8_ETC2_EAC]=1,zr[Jt.COMPRESSED_SRGB8_ETC2]=.5,zr[Jt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,zr[Jt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,zr[Jt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,zr[Jt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,zr[Jt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,zr[Jt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,zr[Jt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,zr[Jt.COMPRESSED_RGB_ETC1_WEBGL]=.5,zr[Jt.COMPRESSED_RGB_ATC_WEBGL]=.5,zr[Jt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,zr[Jt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,zr);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pI=function(t,e){return pI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pI(t,e)};function lW(t,e){pI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function j5e(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(u){a(u)}}function s(l){try{c(n.throw(l))}catch(u){a(u)}}function c(l){l.done?i(l.value):new r(function(u){u(l.value)}).then(o,s)}c((n=n.apply(t,e||[])).next())})}function $5e(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var uW=function(t){lW(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new Dv(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return j5e(this,void 0,Promise,function(){var r,n,i;return $5e(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new Dv(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Zu),Ax=function(t){lW(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,c=this.levels;s<c;s++){var l=this._levelBuffers[s],u=l.levelID,f=l.levelWidth,h=l.levelHeight,p=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,u,this.format,f,h,0,p)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,c){for(var l=new Array(i),u=r.byteOffset,f=s,h=c,p=f+a-1&~(a-1),d=h+o-1&~(o-1),g=p*d*jv[n],m=0;m<i;m++)l[m]={levelID:m,levelWidth:i>1?f:p,levelHeight:i>1?h:d,levelBuffer:new Uint8Array(r.buffer,u,g)},u+=g,f=f>>1||1,h=h>>1||1,p=f+a-1&~(a-1),d=h+o-1&~(o-1),g=p*d*jv[n];return l},e}(uW),cW=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===jr.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,c=0,l=a.length;c<l;c++){var u=a[c],f=u.src,h=u.format;if(h||(s=f),t.textureFormats[h]){o=f;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=Hc.resolve(e.url.replace(i.baseUrl,""),o),g=n.cacheID;i.add(g,d,p,function(m){if(m.error){r(m.error);return}var v=m.texture,_=v===void 0?null:v,y=m.textures,b=y===void 0?{}:y;Object.assign(e,{texture:_,textures:b}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=document.createElement("canvas"),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function fW(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new kt(new fr(a,Object.assign({mipmap:Va.OFF,alphaMode:Ca.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);fr.addToCache(s,c),kt.addToCache(a,c),o===0&&(fr.addToCache(s,t),kt.addToCache(a,t),n.texture=a),n.textures[c]=a}),n}var sp,Lo;jr.setExtensionXhrType("dds",jr.XHR_RESPONSE_TYPE.BUFFER);var TC=4,E_=124,G5e=32,d5=20,V5e=542327876,S_={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},H5e={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},C_={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},jo;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(jo||(jo={}));var vI;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(vI||(vI={}));var z5e=1,X5e=2,W5e=4,Y5e=64,q5e=512,K5e=131072,Z5e=827611204,J5e=861165636,Q5e=894720068,eje=808540228,tje=4,rje=(sp={},sp[Z5e]=Jt.COMPRESSED_RGBA_S3TC_DXT1_EXT,sp[J5e]=Jt.COMPRESSED_RGBA_S3TC_DXT3_EXT,sp[Q5e]=Jt.COMPRESSED_RGBA_S3TC_DXT5_EXT,sp),nje=(Lo={},Lo[jo.DXGI_FORMAT_BC1_TYPELESS]=Jt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Lo[jo.DXGI_FORMAT_BC1_UNORM]=Jt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Lo[jo.DXGI_FORMAT_BC2_TYPELESS]=Jt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Lo[jo.DXGI_FORMAT_BC2_UNORM]=Jt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Lo[jo.DXGI_FORMAT_BC3_TYPELESS]=Jt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Lo[jo.DXGI_FORMAT_BC3_UNORM]=Jt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Lo[jo.DXGI_FORMAT_BC1_UNORM_SRGB]=Jt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Lo[jo.DXGI_FORMAT_BC2_UNORM_SRGB]=Jt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Lo[jo.DXGI_FORMAT_BC3_UNORM_SRGB]=Jt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Lo),hW=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,fW(e.name||e.url,t.parse(e.data),e.metadata))}catch(n){r(n);return}r()},t.parse=function(e){var r=new Uint32Array(e),n=r[0];if(n!==V5e)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,E_/Uint32Array.BYTES_PER_ELEMENT),a=i[S_.HEIGHT],o=i[S_.WIDTH],s=i[S_.MIPMAP_COUNT],c=new Uint32Array(e,S_.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,G5e/Uint32Array.BYTES_PER_ELEMENT),l=c[z5e];if(l&W5e){var u=c[H5e.FOURCC];if(u!==eje){var f=rje[u],h=TC+E_,p=new Uint8Array(e,h),d=new Ax(p,{format:f,width:o,height:a,levels:s});return[d]}var g=TC+E_,m=new Uint32Array(r.buffer,g,d5/Uint32Array.BYTES_PER_ELEMENT),v=m[C_.DXGI_FORMAT],_=m[C_.RESOURCE_DIMENSION],y=m[C_.MISC_FLAG],b=m[C_.ARRAY_SIZE],w=nje[v];if(w===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+v);if(y===tje)throw new Error("DDSLoader does not support cubemap textures");if(_===vI.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var E=new Array,C=TC+E_+d5;if(b===1)E.push(new Uint8Array(e,C));else{for(var T=jv[w],A=0,I=o,O=a,P=0;P<s;P++){var k=Math.max(1,I+3&-4),F=Math.max(1,O+3&-4),B=k*F*T;A+=B,I=I>>>1,O=O>>>1}for(var D=C,P=0;P<b;P++)E.push(new Uint8Array(e,D,A)),D+=A}return E.map(function(z){return new Ax(z,{format:w,width:o,height:a,levels:s})})}throw l&Y5e?new Error("DDSLoader does not support uncompressed texture data."):l&q5e?new Error("DDSLoader does not supported YUV uncompressed texture data."):l&K5e?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):l&X5e?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),Wl,il,lp;jr.setExtensionXhrType("ktx",jr.XHR_RESPONSE_TYPE.BUFFER);var p5=[171,75,84,88,32,49,49,187,13,10,26,10],ije=67305985,Bo={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},AC=64,gI=(Wl={},Wl[At.UNSIGNED_BYTE]=1,Wl[At.UNSIGNED_SHORT]=2,Wl[At.INT]=4,Wl[At.UNSIGNED_INT]=4,Wl[At.FLOAT]=4,Wl[At.HALF_FLOAT]=8,Wl),dW=(il={},il[nt.RGBA]=4,il[nt.RGB]=3,il[nt.RG]=2,il[nt.RED]=1,il[nt.LUMINANCE]=1,il[nt.LUMINANCE_ALPHA]=2,il[nt.ALPHA]=1,il),pW=(lp={},lp[At.UNSIGNED_SHORT_4_4_4_4]=2,lp[At.UNSIGNED_SHORT_5_5_5_1]=2,lp[At.UNSIGNED_SHORT_5_6_5]=2,lp),vW=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=t.parse(n,e.data),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var c=fW(n,a,e.metadata);if(s&&c.textures)for(var l in c.textures)c.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,c)}else if(o){var u={};o.forEach(function(f,h){var p=new kt(new fr(f.resource,{mipmap:Va.OFF,alphaMode:Ca.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),d=n+"-"+(h+1);s&&(p.baseTexture.ktxKeyValueData=s),fr.addToCache(p.baseTexture,d),kt.addToCache(p,d),h===0&&(u[n]=p,fr.addToCache(p.baseTexture,n),kt.addToCache(p,n)),u[d]=p}),Object.assign(e,{textures:u})}}catch(f){r(f);return}r()},t.parse=function(e,r){var n=new DataView(r);if(!t.validate(e,n))return null;var i=n.getUint32(Bo.ENDIANNESS,!0)===ije,a=n.getUint32(Bo.GL_TYPE,i),o=n.getUint32(Bo.GL_FORMAT,i),s=n.getUint32(Bo.GL_INTERNAL_FORMAT,i),c=n.getUint32(Bo.PIXEL_WIDTH,i),l=n.getUint32(Bo.PIXEL_HEIGHT,i)||1,u=n.getUint32(Bo.PIXEL_DEPTH,i)||1,f=n.getUint32(Bo.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(Bo.NUMBER_OF_FACES,i),p=n.getUint32(Bo.NUMBER_OF_MIPMAP_LEVELS,i),d=n.getUint32(Bo.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var g=4,m=4,v=c+3&-4,_=l+3&-4,y=new Array(f),b=c*l;a===0&&(b=v*_);var w;if(a!==0?gI[a]?w=gI[a]*dW[o]:w=pW[a]:w=jv[s],w===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var E=t.loadKeyValueData?t.parseKvData(n,d,i):null,C=b*w,T=C,A=c,I=l,O=v,P=_,k=AC+d,F=0;F<p;F++){for(var B=n.getUint32(k,i),D=k+4,z=0;z<f;z++){var ee=y[z];ee||(ee=y[z]=new Array(p)),ee[F]={levelID:F,levelWidth:p>1||a!==0?A:O,levelHeight:p>1||a!==0?I:P,levelBuffer:new Uint8Array(r,D,T)},D+=T}k+=B+4,k=k%4!==0?k+4-k%4:k,A=A>>1||1,I=I>>1||1,O=A+g-1&~(g-1),P=I+m-1&~(m-1),T=O*P*w}return a!==0?{uncompressed:y.map(function(te){var Y=te[0].levelBuffer,U=!1;return a===At.FLOAT?Y=new Float32Array(te[0].levelBuffer.buffer,te[0].levelBuffer.byteOffset,te[0].levelBuffer.byteLength/4):a===At.UNSIGNED_INT?(U=!0,Y=new Uint32Array(te[0].levelBuffer.buffer,te[0].levelBuffer.byteOffset,te[0].levelBuffer.byteLength/4)):a===At.INT&&(U=!0,Y=new Int32Array(te[0].levelBuffer.buffer,te[0].levelBuffer.byteOffset,te[0].levelBuffer.byteLength/4)),{resource:new Zu(Y,{width:te[0].levelWidth,height:te[0].levelHeight}),type:a,format:U?t.convertFormatToInteger(o):o}}),kvData:E}:{compressed:y.map(function(te){return new Ax(null,{format:s,width:c,height:l,levels:p,levelBuffers:te})}),kvData:E}},t.validate=function(e,r){for(var n=0;n<p5.length;n++)if(r.getUint8(n)!==p5[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(e){switch(e){case nt.RGBA:return nt.RGBA_INTEGER;case nt.RGB:return nt.RGB_INTEGER;case nt.RG:return nt.RG_INTEGER;case nt.RED:return nt.RED_INTEGER;default:return e}},t.parseKvData=function(e,r,n){for(var i=new Map,a=0;a<r;){var o=e.getUint32(AC+a,n),s=AC+a+4,c=3-(o+3)%4;if(o===0||o>r-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&e.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(e.buffer,s,l)),f=new DataView(e.buffer,s+l+1,o-l-1);i.set(u,f),a+=4+o+c}return i},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var mI=function(t,e){return mI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mI(t,e)};function gW(t,e){mI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var aje=function(t){gW(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=ct.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,bi(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(xi),v5=function(){function t(e,r,n){this.geometry=new c0,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||At.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new si(hX(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new si(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new si(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===At.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===At.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===At.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===At.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),oje=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,sje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,mW=function(t){gW(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new ln,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:At.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=yl.from(sje,oje,{}),n.state=Ju.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var c=r._buffers;c||(c=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture;this.state.blendMode=zk(r.blendMode,l.alphaMode),o.state.set(this.state);var u=o.gl,f=r.worldTransform.copyTo(this.tempMatrix);f.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=fX(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var h=!1,p=0,d=0;p<s;p+=a,d+=1){var g=s-p;g>a&&(g=a),d>=c.length&&c.push(this._generateOneMoreBuffer(r));var m=c[d];m.uploadDynamic(n,p,g);var v=r._bufferUpdateIDs[d]||0;h=h||m._updateID<v,h&&(m._updateID=r._updateID,m.uploadStatic(n,p,g)),o.geometry.bind(m.geometry),u.drawElements(u.TRIANGLES,g*6,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new v5(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new v5(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var c=0,l=0,u=0,f=0,h=0;h<i;++h){var p=r[n+h],d=p._texture,g=p.scale.x,m=p.scale.y,v=d.trim,_=d.orig;v?(l=v.x-p.anchor.x*_.width,c=l+v.width,f=v.y-p.anchor.y*_.height,u=f+v.height):(c=_.width*(1-p.anchor.x),l=_.width*-p.anchor.x,u=_.height*(1-p.anchor.y),f=_.height*-p.anchor.y),a[s]=l*g,a[s+1]=f*m,a[s+o]=c*g,a[s+o+1]=f*m,a[s+o*2]=c*g,a[s+o*2+1]=u*m,a[s+o*3]=l*g,a[s+o*3+1]=u*m,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c],u=l._texture.baseTexture.alphaMode>0,f=l.alpha,h=f<1&&u?Ob(l._tintRGB,f):l._tintRGB+(f*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Pg);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pl;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(pl||(pl={}));var vl;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(vl||(vl={}));var Sd={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},w3=function(){function t(){this.color=16777215,this.alpha=1,this.texture=kt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=kt.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _I=function(t,e){return _I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_I(t,e)};function E3(t,e){_I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function g5(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],c=t[i-1];o<i;o+=2){var l=t[o],u=t[o+1];a+=(l-s)*(u+c),s=l,c=u}if(!e&&a>0||e&&a<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,p=i-o-1,d=o,g=o+1;r=[t[d],t[h]],t[h]=r[0],t[d]=r[1],n=[t[g],t[p]],t[p]=n[0],t[g]=n[1]}}}var S3={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){g5(r,!1);for(var o=[],s=0;s<n.length;s++){var c=n[s];g5(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}var l=Nk(r,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<r.length;s++)i.push(r[s])}}},$v={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===mn.CIRC){var c=t.shape;r=c.x,n=c.y,o=s=c.radius,i=a=0}else if(t.type===mn.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var u=t.shape,f=u.width/2,h=u.height/2;r=u.x+f,n=u.y+h,o=s=Math.max(0,Math.min(u.radius,Math.min(f,h))),i=f-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var p=Math.ceil(2.3*Math.sqrt(o+s)),d=p*8+(i?4:0)+(a?4:0);if(e.length=d,d!==0){if(p===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var g=0,m=p*4+(i?2:0)+2,v=m,_=d;{var y=i+o,b=a,w=r+y,E=r-y,C=n+b;if(e[g++]=w,e[g++]=C,e[--m]=C,e[--m]=E,a){var T=n-b;e[v++]=E,e[v++]=T,e[--_]=T,e[--_]=w}}for(var A=1;A<p;A++){var I=Math.PI/2*(A/p),y=i+Math.cos(I)*o,b=a+Math.sin(I)*s,w=r+y,E=r-y,C=n+b,T=n-b;e[g++]=w,e[g++]=C,e[--m]=C,e[--m]=E,e[v++]=E,e[v++]=T,e[--_]=T,e[--_]=w}{var y=i,b=a+s,w=r+y,E=r-y,C=n+b,T=n-b;e[g++]=w,e[g++]=C,e[--_]=T,e[--_]=w,i&&(e[g++]=E,e[g++]=C,e[--_]=T,e[--_]=E)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=a,s,c;if(t.type!==mn.RREC){var l=t.shape;s=l.x,c=l.y}else{var u=t.shape;s=u.x+u.width/2,c=u.y+u.height/2}var f=t.matrix;n.push(t.matrix?f.a*s+f.c*c+f.tx:s,t.matrix?f.b*s+f.d*c+f.ty:c),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}},_W={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function oh(t,e,r){var n=e-t;return t+n*r}function T_(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,c=o,l=0,u=0,f=0,h=0,p=0,d=0,g=0,m=0;g<=s;++g)m=g/s,l=oh(t,r,m),u=oh(e,n,m),f=oh(r,i,m),h=oh(n,a,m),p=oh(l,f,m),d=oh(u,h,m),!(g===0&&c[c.length-2]===p&&c[c.length-1]===d)&&c.push(p,d);return c}var yW={build:function(t){if(Cd.nextRoundedRectBehavior){$v.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(T_(n,i+s,n,i,n+s,i,r),T_(n+a-s,i,n+a,i,n+a,i+s,r),T_(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),T_(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(Cd.nextRoundedRectBehavior){$v.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=Nk(r,null,2),s=0,c=o.length;s<c;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,c=r.length;s<c;s++)n.push(r[s],r[++s])}};function m5(t,e,r,n,i,a,o,s){var c=t-r*i,l=e-n*i,u=t+r*a,f=e+n*a,h,p;o?(h=n,p=-r):(h=-n,p=r);var d=c+h,g=l+p,m=u+h,v=f+p;return s.push(d,g),s.push(m,v),2}function sh(t,e,r,n,i,a,o,s){var c=r-t,l=n-e,u=Math.atan2(c,l),f=Math.atan2(i-t,a-e);s&&u<f?u+=Math.PI*2:!s&&u>f&&(f+=Math.PI*2);var h=u,p=f-u,d=Math.abs(p),g=Math.sqrt(c*c+l*l),m=(15*d*Math.sqrt(g)/Math.PI>>0)+1,v=p/m;if(h+=v,s){o.push(t,e),o.push(r,n);for(var _=1,y=h;_<m;_++,y+=v)o.push(t,e),o.push(t+Math.sin(y)*g,e+Math.cos(y)*g);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var _=1,y=h;_<m;_++,y+=v)o.push(t+Math.sin(y)*g,e+Math.cos(y)*g),o.push(t,e);o.push(i,a),o.push(t,e)}return m*2}function lje(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new pr(n[0],n[1]),s=new pr(n[n.length-2],n[n.length-1]),c=r.type!==mn.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(c){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,f=(s.y+o.y)*.5;n.unshift(u,f),n.push(u,f)}var h=e.points,p=n.length/2,d=n.length,g=h.length/2,m=a.width/2,v=m*m,_=a.miterLimit*a.miterLimit,y=n[0],b=n[1],w=n[2],E=n[3],C=0,T=0,A=-(b-E),I=y-w,O=0,P=0,k=Math.sqrt(A*A+I*I);A/=k,I/=k,A*=m,I*=m;var F=a.alignment,B=(1-F)*2,D=F*2;c||(a.cap===vl.ROUND?d+=sh(y-A*(B-D)*.5,b-I*(B-D)*.5,y-A*B,b-I*B,y+A*D,b+I*D,h,!0)+2:a.cap===vl.SQUARE&&(d+=m5(y,b,A,I,B,D,!0,h))),h.push(y-A*B,b-I*B),h.push(y+A*D,b+I*D);for(var z=1;z<p-1;++z){y=n[(z-1)*2],b=n[(z-1)*2+1],w=n[z*2],E=n[z*2+1],C=n[(z+1)*2],T=n[(z+1)*2+1],A=-(b-E),I=y-w,k=Math.sqrt(A*A+I*I),A/=k,I/=k,A*=m,I*=m,O=-(E-T),P=w-C,k=Math.sqrt(O*O+P*P),O/=k,P/=k,O*=m,P*=m;var ee=w-y,te=b-E,Y=w-C,U=T-E,X=te*Y-U*ee,j=X<0;if(Math.abs(X)<.1){h.push(w-A*B,E-I*B),h.push(w+A*D,E+I*D);continue}var G=(-A+y)*(-I+E)-(-A+w)*(-I+b),ne=(-O+C)*(-P+E)-(-O+w)*(-P+T),ae=(ee*ne-Y*G)/X,pe=(U*G-te*ne)/X,se=(ae-w)*(ae-w)+(pe-E)*(pe-E),_e=w+(ae-w)*B,Me=E+(pe-E)*B,Pe=w-(ae-w)*D,Ee=E-(pe-E)*D,Se=Math.min(ee*ee+te*te,Y*Y+U*U),Ge=j?B:D,Ye=Se+Ge*Ge*v,Ve=se<=Ye;Ve?a.join===pl.BEVEL||se/v>_?(j?(h.push(_e,Me),h.push(w+A*D,E+I*D),h.push(_e,Me),h.push(w+O*D,E+P*D)):(h.push(w-A*B,E-I*B),h.push(Pe,Ee),h.push(w-O*B,E-P*B),h.push(Pe,Ee)),d+=2):a.join===pl.ROUND?j?(h.push(_e,Me),h.push(w+A*D,E+I*D),d+=sh(w,E,w+A*D,E+I*D,w+O*D,E+P*D,h,!0)+4,h.push(_e,Me),h.push(w+O*D,E+P*D)):(h.push(w-A*B,E-I*B),h.push(Pe,Ee),d+=sh(w,E,w-A*B,E-I*B,w-O*B,E-P*B,h,!1)+4,h.push(w-O*B,E-P*B),h.push(Pe,Ee)):(h.push(_e,Me),h.push(Pe,Ee)):(h.push(w-A*B,E-I*B),h.push(w+A*D,E+I*D),a.join===pl.ROUND?j?d+=sh(w,E,w+A*D,E+I*D,w+O*D,E+P*D,h,!0)+2:d+=sh(w,E,w-A*B,E-I*B,w-O*B,E-P*B,h,!1)+2:a.join===pl.MITER&&se/v<=_&&(j?(h.push(Pe,Ee),h.push(Pe,Ee)):(h.push(_e,Me),h.push(_e,Me)),d+=2),h.push(w-O*B,E-P*B),h.push(w+O*D,E+P*D),d+=2)}y=n[(p-2)*2],b=n[(p-2)*2+1],w=n[(p-1)*2],E=n[(p-1)*2+1],A=-(b-E),I=y-w,k=Math.sqrt(A*A+I*I),A/=k,I/=k,A*=m,I*=m,h.push(w-A*B,E-I*B),h.push(w+A*D,E+I*D),c||(a.cap===vl.ROUND?d+=sh(w-A*(B-D)*.5,E-I*(B-D)*.5,w-A*B,E-I*B,w+A*D,E+I*D,h,!1)+2:a.cap===vl.SQUARE&&(d+=m5(w,E,A,I,B,D,!1,h)));for(var Xe=e.indices,Ke=Sd.epsilon*Sd.epsilon,z=g;z<d+g-2;++z)y=h[z*2],b=h[z*2+1],w=h[(z+1)*2],E=h[(z+1)*2+1],C=h[(z+2)*2],T=h[(z+2)*2+1],!(Math.abs(y*(E-T)+w*(T-b)+C*(b-E))<Ke)&&Xe.push(z,z+1,z+2)}}function uje(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==mn.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,c=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function yI(t,e){t.lineStyle.native?uje(t,e):lje(t,e)}var xI=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],c=o[o.length-1],l=c-r,u=s-e,f=i-r,h=n-e,p=Math.abs(l*h-u*f);if(p<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var d=l*l+u*u,g=f*f+h*h,m=l*f+u*h,v=a*Math.sqrt(d)/p,_=a*Math.sqrt(g)/p,y=v*m/d,b=_*m/g,w=v*h+_*u,E=v*f+_*l,C=u*(_+y),T=l*(_+y),A=h*(v+b),I=f*(v+b),O=Math.atan2(T-E,C-w),P=Math.atan2(I-E,A-w);return{cx:w+e,cy:E+r,radius:a,startAngle:O,endAngle:P,anticlockwise:u*f>h*l}},t.arc=function(e,r,n,i,a,o,s,c,l){for(var u=s-o,f=Sd._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/Lv)*40),h=u/(f*2),p=h*2,d=Math.cos(h),g=Math.sin(h),m=f-1,v=m%1/m,_=0;_<=m;++_){var y=_+v*_,b=h+o+p*y,w=Math.cos(b),E=-Math.sin(b);l.push((d*w+g*E)*a+n,(d*-E+g*w)*a+i)}},t}(),xW=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,c){for(var l=10,u=0,f=0,h=0,p=0,d=0,g=0,m=0,v=0,_=0,y=0,b=0,w=e,E=r,C=1;C<=l;++C)f=C/l,h=f*f,p=h*f,d=1-f,g=d*d,m=g*d,v=m*e+3*g*f*n+3*d*h*a+p*s,_=m*r+3*g*f*i+3*d*h*o+p*c,y=w-v,b=E-_,w=v,E=_,u+=Math.sqrt(y*y+b*b);return u},t.curveTo=function(e,r,n,i,a,o,s){var c=s[s.length-2],l=s[s.length-1];s.length-=2;var u=Sd._segmentsCount(t.curveLength(c,l,e,r,n,i,a,o)),f=0,h=0,p=0,d=0,g=0;s.push(c,l);for(var m=1,v=0;m<=u;++m)v=m/u,f=1-v,h=f*f,p=h*f,d=v*v,g=d*v,s.push(p*c+3*h*v*e+3*f*d*n+g*a,p*l+3*h*v*r+3*f*d*i+g*o)},t}(),bW=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,c=r-2*i+o,l=2*n-2*e,u=2*i-2*r,f=4*(s*s+c*c),h=4*(s*l+c*u),p=l*l+u*u,d=2*Math.sqrt(f+h+p),g=Math.sqrt(f),m=2*f*g,v=2*Math.sqrt(p),_=h/g;return(m*d+g*h*(d-v)+(4*p*f-h*h)*Math.log((2*g+_+d)/(_+v)))/(4*m)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],c=Sd._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,u=0,f=1;f<=c;++f){var h=f/c;l=o+(e-o)*h,u=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,u+(r+(i-r)*h-u)*h)}},t}(),wW=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),gc,xy=(gc={},gc[mn.POLY]=S3,gc[mn.CIRC]=$v,gc[mn.ELIP]=$v,gc[mn.RECT]=_W,gc[mn.RREC]=yW,gc),bI=[],Sp=[],wI=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),lh=new pr,cje=new Ed,EW=function(t){E3(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new Ed,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),Sp.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),bI.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new wI(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new wI(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,lh):lh.copyFrom(r),a.shape.contains(lh.x,lh.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var c=a.holes[s];if(c.shape.contains(lh.x,lh.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var c=i[s],l=c.fillStyle,u=c.lineStyle,f=xy[c.type];f.build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(l.visible||u.visible)&&this.processHoles(c.holes);for(var h=0;h<2;h++){var p=h===0?l:u;if(p.visible){var d=p.texture.baseTexture,g=this.indices.length,m=this.points.length/2;d.wrapMode=Ps.REPEAT,h===0?this.processFill(c):this.processLine(c);var v=this.points.length/2-m;v!==0&&(a&&!this._compareStyles(o,p)&&(a.end(g,m),a=null),a||(a=bI.pop()||new wW,a.begin(p,g,m),this.batches.push(a),o=p),this.addUvs(this.points,n,p.texture,m,v,p.matrix))}}}var _=this.indices.length,y=this.points.length/2;if(a&&a.end(_,y),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var b=y>65535&&r;this.indicesUint16=b?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++fr._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),Sp.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=Sp.pop();o||(o=new Cx,o.texArray=new Tx),o.texArray.count=0,o.start=0,o.size=0,o.type=eo.TRIANGLES;var s=0,c=null,l=0,u=!1,f=eo.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var p=this.batches[n],d=8,g=p.style,m=g.texture.baseTexture;u!==!!g.native&&(u=!!g.native,f=u?eo.LINES:eo.TRIANGLES,c=null,s=d,r++),c!==m&&(c=m,m._batchEnabled!==r&&(s===d&&(r++,s=0,o.size>0&&(o=Sp.pop(),o||(o=new Cx,o.texArray=new Tx),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),m.touched=1,m._batchEnabled=r,m._batchLocation=s,m.wrapMode=Ps.REPEAT,o.texArray.elements[o.texArray.count++]=m,s++)),o.size+=p.size,h+=p.size,l=m._batchLocation,this.addColors(i,g.color,g.alpha,p.attribSize,p.attribStart),this.addTextureIds(a,l,p.attribSize,p.attribStart)}fr._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),c=new Uint32Array(o),l=0,u=0;u<r.length/2;u++)s[l++]=r[u*2],s[l++]=r[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],c[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)S3.triangulate(r,this);else{var n=xy[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){yI(r,this);for(var n=0;n<r.holes.length;n++)yI(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=xy[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=cje,i=ln.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,c=o.type,l=o.lineStyle,u=o.matrix||ln.IDENTITY,f=0;if(l&&l.visible&&(f=l.width,c!==mn.POLY||o.fillStyle.visible?f*=Math.max(0,l.alignment):f*=Math.max(l.alignment,1-l.alignment)),i!==u&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=u),c===mn.RECT||c===mn.RREC){var h=s;n.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,f,f)}else if(c===mn.CIRC){var p=s;n.addFramePad(p.x,p.y,p.x,p.y,p.radius+f,p.radius+f)}else if(c===mn.ELIP){var d=s;n.addFramePad(d.x,d.y,d.x,d.y,d.width+f,d.height+f)}else{var g=s;r.addVerticesMatrix(i,g.points,0,g.points.length,f,f)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),c=Ob(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=c},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var c=0,l=n.length,u=i.frame;c<o;){var f=r[(a+c)*2],h=r[(a+c)*2+1];if(s){var p=s.a*f+s.c*h+s.tx;h=s.b*f+s.d*h+s.ty,f=p}c++,n.push(f/u.width,h/u.height)}var d=i.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,c=i+a*2,l=n.frame,u=l.width/o.width,f=l.height/o.height,h=l.x/l.width,p=l.y/l.height,d=Math.floor(r[i]+s),g=Math.floor(r[i+1]+s),m=i+2;m<c;m+=2)d=Math.min(d,Math.floor(r[m]+s)),g=Math.min(g,Math.floor(r[m+1]+s));h-=d,p-=g;for(var m=i;m<c;m+=2)r[m]=(r[m]+h)*u,r[m+1]=(r[m+1]+p)*f},e.BATCHABLE_SIZE=100,e}(y3),SW=function(t){E3(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=vl.BUTT,r.join=pl.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(w3),fje=new Float32Array(3),IC={},Cd=function(t){E3(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new w3,n._lineStyle=new SW,n._matrix=null,n._holeMode=!1,n.state=Ju.for2d(),n._geometry=r||new EW,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=ct.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:kt.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:vl.BUTT,join:pl.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new id,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new id,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),bW.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),xW.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,c=xI.curveTo(r,n,i,a,o,s);if(c){var l=c.cx,u=c.cy,f=c.radius,h=c.startAngle,p=c.endAngle,d=c.anticlockwise;this.arc(l,u,f,h,p,d)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=Lv:s&&a<=o&&(a+=Lv);var c=o-a;if(c===0)return this;var l=r+Math.cos(a)*i,u=n+Math.sin(a)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var p=Math.abs(h[h.length-2]-l),d=Math.abs(h[h.length-1]-u);p<f&&d<f||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.points;return xI.arc(l,u,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:kt.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:kt.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new er(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new yX(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new mX(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new _X(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var c=new id(a);return c.closeStroke=o,this.drawShape(c),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===mn.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:c,blendMode:n,indices:u,uvs:l,_batchRGB:bi(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,c=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,u=c.length;l<u;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,c=i.count,l=0;l<c;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!IC[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new ln,default:Tu.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;IC[i]=new yl(l,c)}n=IC[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=bi(this.tint,fje),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,c=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(c|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this._geometry.points,f=this.vertexData,h=0,p=0;p<u.length;p+=2){var d=u[p],g=u[p+1];f[h++]=i*d+o*g+c,f[h++]=s*g+a*d+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new pr,e}(xi),hje={buildPoly:S3,buildCircle:$v,buildRectangle:_W,buildRoundedRectangle:yW,buildLine:yI,ArcUtils:xI,BezierUtils:xW,QuadraticUtils:bW,BatchPart:wW,FILL_COMMANDS:xy,BATCH_POOL:bI,DRAW_CALL_POOL:Sp};/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var EI=function(t,e){return EI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},EI(t,e)};function dje(t,e){EI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var up=new pr,pje=new Uint16Array([0,1,2,0,2,3]),Ma=function(t){dje(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new cu(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=ct.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||kt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=pje,n.pluginName="batch",n.isSprite=!0,n._roundPixels=xt.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=zc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=zc(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this.vertexData,f=r.trim,h=r.orig,p=this._anchor,d=0,g=0,m=0,v=0;if(f?(g=f.x-p._x*h.width,d=g+f.width,v=f.y-p._y*h.height,m=v+f.height):(g=-p._x*h.width,d=g+h.width,v=-p._y*h.height,m=v+h.height),u[0]=i*g+o*v+c,u[1]=s*v+a*g+l,u[2]=i*d+o*v+c,u[3]=s*v+a*d+l,u[4]=i*d+o*m+c,u[5]=s*m+a*d+l,u[6]=i*g+o*m+c,u[7]=s*m+a*g+l,this._roundPixels)for(var _=xt.RESOLUTION,y=0;y<u.length;++y)u[y]=Math.round((u[y]*_|0)/_)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,p=-a._x*i.width,d=p+i.width,g=-a._y*i.height,m=g+i.height;n[0]=s*p+l*g+f,n[1]=u*g+c*p+h,n[2]=s*d+l*g+f,n[3]=u*g+c*d+h,n[4]=s*d+l*m+f,n[5]=u*m+c*d+h,n[6]=s*p+l*m+f,n[7]=u*m+c*p+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new Ed),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new er),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,up);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return up.x>=a&&up.x<a+n&&(o=-i*this.anchor.y,up.y>=o&&up.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof kt?r:kt.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=zc(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=zc(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||kt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(xi);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var SI=function(t,e){return SI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},SI(t,e)};function vje(t,e){SI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Td;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Td||(Td={}));var RC={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Td.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},gje=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],mf=function(){function t(e){this.styleID=0,this.reset(),OC(this,e,e)}return t.prototype.clone=function(){var e={};return OC(e,this,RC),new t(e)},t.prototype.reset=function(){OC(this,RC,RC)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=PC(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=PC(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){mje(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=PC(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&gje.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function _5(t){return typeof t=="number"?Gk(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function PC(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=_5(t[e]);return t}else return _5(t)}function mje(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function OC(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var os=function(){function t(e,r,n,i,a,o,s,c,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=c,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d");s.font=a;for(var c=n?t.wordWrap(e,r,i):e,l=c.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),f=0,h=0;h<l.length;h++){var p=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;u[h]=p,f=Math.max(f,p)}var d=f+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var g=r.lineHeight||o.fontSize+r.strokeThickness,m=Math.max(g,o.fontSize+r.strokeThickness)+(l.length-1)*(g+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new t(e,r,d,m,l,u,g+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",c=Object.create(null),l=r.letterSpacing,u=r.whiteSpace,f=t.collapseSpaces(u),h=t.collapseNewlines(u),p=!f,d=r.wordWrapWidth+l,g=t.tokenize(e),m=0;m<g.length;m++){var v=g[m];if(t.isNewline(v)){if(!h){s+=t.addLine(o),p=!f,o="",a=0;continue}v=" "}if(f){var _=t.isBreakingSpace(v),y=t.isBreakingSpace(o[o.length-1]);if(_&&y)continue}var b=t.getFromCache(v,l,c,i);if(b>d)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(v,r.breakWords))for(var w=t.wordWrapSplit(v),E=0;E<w.length;E++){for(var C=w[E],T=1;w[E+T];){var A=w[E+T],I=C[C.length-1];if(!t.canBreakChars(I,A,v,E,r.breakWords))C+=A;else break;T++}E+=C.length-1;var O=t.getFromCache(C,l,c,i);O+a>d&&(s+=t.addLine(o),p=!1,o="",a=0),o+=C,a+=O}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var P=m===g.length-1;s+=t.addLine(v,!P),p=!1,o="",a=0}else b+a>d&&(p=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(v)||p)&&(o+=v,a+=b)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),c=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,c).data,u=l.length,f=o*4,h=0,p=0,d=!1;for(h=0;h<s;++h){for(var g=0;g<f;g+=4)if(l[p+g]!==255){d=!0;break}if(!d)p+=f;else break}for(r.ascent=s-h,p=u-f,d=!1,h=c;h>s;--h){for(var g=0;g<f;g+=4)if(l[p+g]!==255){d=!0;break}if(!d)p-=f;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d");if(n&&n.measureText)return t.__canvas=r,r;e=document.createElement("canvas")}catch{e=document.createElement("canvas")}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();os._fonts={};os.METRICS_STRING="|q";os.BASELINE_SYMBOL="M";os.BASELINE_MULTIPLIER=1.4;os.HEIGHT_MULTIPLIER=2;os._newlines=[10,13];os._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var _je={texture:!0,children:!1,baseTexture:!0},C3=function(t){vje(e,t);function e(r,n,i){var a=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=kt.from(i);return s.orig=new er,s.trim=new er,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=xt.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=os.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,c=a.lines,l=a.lineHeight,u=a.lineWidths,f=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var p,d,g=n.dropShadow?2:1,m=0;m<g;++m){var v=n.dropShadow&&m===0,_=v?Math.ceil(Math.max(1,s)+n.padding*2):0,y=_*this._resolution;if(v){i.fillStyle="black",i.strokeStyle="black";var b=n.dropShadowColor,w=bi(typeof b=="number"?b:Vk(b)),E=n.dropShadowBlur*this._resolution,C=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+w[0]*255+","+w[1]*255+","+w[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=E,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*C,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*C+y}else i.fillStyle=this._generateFillStyle(n,c,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var T=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(T=0);for(var A=0;A<c.length;A++)p=n.strokeThickness/2,d=n.strokeThickness/2+A*l+h.ascent+T,n.align==="right"?p+=f-u[A]:n.align==="center"&&(p+=(f-u[A])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[A],p+n.padding,d+n.padding-_,!0),n.fill&&this.drawLetterSpacing(c[A],p+n.padding,d+n.padding-_)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,c=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||c){c&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,u=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,p=0;p<u.length;++p){var d=u[p];a?this.context.strokeText(d,l,i):this.context.fillText(d,l,i);for(var g="",m=p+1;m<u.length;++m)g+=u[m];h=this.context.measureText(g).width,l+=f-h+s,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=pX(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,l=this.canvas.width/this._resolution-s-c*2,u=this.canvas.height/this._resolution-s-c*2,f=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var p=f.length+1,d=1;d<p;++d)h.push(d/p);if(f.unshift(a[0]),h.unshift(0),f.push(a[a.length-1]),h.push(1),r.fillGradientType===Td.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,c,l/2,u+c);for(var g=i.fontProperties.fontSize+r.strokeThickness,d=0;d<n.length;d++){var m=i.lineHeight*(d-1)+g,v=i.lineHeight*d,_=v;d>0&&m>v&&(_=(v+m)/2);var y=v+g,b=i.lineHeight*(d+1),w=y;d+1<n.length&&b<y&&(w=(y+b)/2);for(var E=(w-_)/u,C=0;C<f.length;C++){var T=0;typeof h[C]=="number"?T=h[C]:T=C/f.length;var A=Math.min(1,Math.max(0,_/u+T*E));A=Number(A.toFixed(5)),o.addColorStop(A,f[C])}}}else{o=this.context.createLinearGradient(c,u/2,l+c,u/2);for(var I=f.length+1,O=1,d=0;d<f.length;d++){var P=void 0;typeof h[d]=="number"?P=h[d]:P=O/I,o.addColorStop(P,f[d]),O++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},_je,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=zc(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=zc(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof mf?this._style=r:this._style=new mf(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(Ma);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xt.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var CI=function(t,e){return CI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},CI(t,e)};function yje(t,e){CI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var CW=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function xje(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof kt){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function bje(t,e){if(t.baseTexture instanceof fr){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function wje(t,e){if(t._texture&&t._texture instanceof kt){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Eje(t,e){return e instanceof C3?(e.updateText(!0),!0):!1}function Sje(t,e){if(e instanceof mf){var r=e.toFontString();return os.measureFont(r),!0}return!1}function Cje(t,e){if(t instanceof C3){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Tje(t,e){return t instanceof mf?(e.indexOf(t)===-1&&e.push(t),!0):!1}var TW=function(){function t(e){var r=this;this.limiter=new CW(xt.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(Cje),this.registerFindHook(Tje),this.registerFindHook(xje),this.registerFindHook(bje),this.registerFindHook(wje),this.registerUploadHook(Eje),this.registerUploadHook(Sje)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,An.system.addOnce(this.tick,this,ts.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)An.system.addOnce(this.tick,this,ts.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof xi)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&An.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function AW(t,e){return e instanceof fr?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Aje(t,e){if(!(e instanceof Cd))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&AW(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Ije(t,e){return t instanceof Cd?(e.push(t),!0):!1}var IW=function(t){yje(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(Ije),n.registerUploadHook(AW),n.registerUploadHook(Aje),n}return e}(TW),Rje=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var RW=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof kt?e:null,this.baseTexture=e instanceof fr?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Mv(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,c=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new er(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new er(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new er(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new er(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new kt(this.baseTexture,s,u,c,a.rotated?2:0,a.anchor),kt.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),PW=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==jr.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var c=function(d){if(typeof d!="string")return"continue";var g=d.replace(".json",""),m=Hc.resolve(e.url.replace(a.baseUrl,""),d);if(a.resources[g]||Object.values(a.resources).some(function(_){return Hc.format(Hc.parse(_.url))===m}))return"continue";var v={crossOrigin:e.crossOrigin,loadType:jr.LOAD_TYPE.XHR,xhrType:jr.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(g,m,v)},l=0,u=s;l<u.length;l++){var f=u[l];c(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,a.baseUrl);a.add(o,p,h,function(g){if(g.error){r(g.error);return}var m=new RW(g.texture,e.data,e.url);m.parse(function(){e.spritesheet=m,e.textures=m.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:Hc.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var TI=function(t,e){return TI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},TI(t,e)};function OW(t,e){TI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cp=new pr,Pje=function(t){OW(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new Rg,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new Bb(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new er),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,cp);var n=this._width,i=this._height,a=-n*this.anchor._x;if(cp.x>=a&&cp.x<a+n){var o=-i*this.anchor._y;if(cp.y>=o&&cp.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof kt?r:kt.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(Ma),Oje=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,y5=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,kje=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Fje=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Nje=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,A_=new ln,kW=function(t){OW(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new n3,n.state=Ju.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=yl.from(y5,Oje,n),this.shader=r.context.webGLVersion>1?yl.from(Fje,Nje,n):yl.from(y5,kje,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var c=r._texture,l=c.baseTexture,u=r.tileTransform.localTransform,f=r.uvMatrix,h=l.isPowerOfTwo&&c.frame.width===l.width&&c.frame.height===l.height;h&&(l._glTextures[n.CONTEXT_UID]?h=l.wrapMode!==Ps.CLAMP:l.wrapMode===Ps.CLAMP&&(l.wrapMode=Ps.REPEAT));var p=h?this.simpleShader:this.shader,d=c.width,g=c.height,m=r._width,v=r._height;A_.set(u.a*d/m,u.b*d/v,u.c*g/m,u.d*g/v,u.tx/m,u.ty/v),A_.invert(),h?A_.prepend(f.mapCoord):(p.uniforms.uMapCoord=f.mapCoord.toArray(!0),p.uniforms.uClampFrame=f.uClampFrame,p.uniforms.uClampOffset=f.uClampOffset),p.uniforms.uTransform=A_.toArray(!0),p.uniforms.uColor=Xk(r.tint,r.worldAlpha,p.uniforms.uColor,l.alphaMode),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=c,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=zk(r.blendMode,l.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Pg);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var AI=function(t,e){return AI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},AI(t,e)};function T3(t,e){AI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var FW=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),kC=new pr,x5=new id,Ad=function(t){T3(e,t);function e(r,n,i,a){a===void 0&&(a=eo.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||Ju.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=xt.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===eo.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,p=this.vertexData,d=0;d<p.length/2;d++){var g=i[d*2],m=i[d*2+1];p[d*2]=s*g+l*m+f,p[d*2+1]=c*g+u*m+h}if(this._roundPixels)for(var v=xt.RESOLUTION,d=0;d<p.length;++d)p[d]=Math.round((p[d]*v|0)/v);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new FW(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,kC);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=x5.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,c=0;c+2<o;c+=s){var l=a[c]*2,u=a[c+1]*2,f=a[c+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[f],i[5]=n[f+1],x5.contains(kC.x,kC.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(xi),Mje=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Lje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Id=function(t){T3(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:ln.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||f0.from(Lje,Mje),a)||this,i._colorDirty=!1,i.uvMatrix=new Bb(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;Xk(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(yl),kg=function(t){T3(e,t);function e(r,n,i){var a=t.call(this)||this,o=new si(r),s=new si(n,!0),c=new si(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,At.FLOAT).addAttribute("aTextureCoord",s,2,!1,At.FLOAT).addIndex(c),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(c0);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var II=function(t,e){return II=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},II(t,e)};function Bje(t,e){II(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gv=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),Dje=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var c in o){var l=o[c].split("="),u=l[0],f=l[1].replace(/"/gm,""),h=parseFloat(f),p=isNaN(h)?f:h;s[u]=p}n[a].push(s)}var d=new Gv;return n.info.forEach(function(g){return d.info.push({face:g.face,size:parseInt(g.size,10)})}),n.common.forEach(function(g){return d.common.push({lineHeight:parseInt(g.lineHeight,10)})}),n.page.forEach(function(g){return d.page.push({id:parseInt(g.id,10),file:g.file})}),n.char.forEach(function(g){return d.char.push({id:parseInt(g.id,10),page:parseInt(g.page,10),x:parseInt(g.x,10),y:parseInt(g.y,10),width:parseInt(g.width,10),height:parseInt(g.height,10),xoffset:parseInt(g.xoffset,10),yoffset:parseInt(g.yoffset,10),xadvance:parseInt(g.xadvance,10)})}),n.kerning.forEach(function(g){return d.kerning.push({first:parseInt(g.first,10),second:parseInt(g.second,10),amount:parseInt(g.amount,10)})}),n.distanceField.forEach(function(g){return d.distanceField.push({distanceRange:parseInt(g.distanceRange,10),fieldType:g.fieldType})}),d},t}(),RI=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Gv,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var u=o[l];r.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<c.length;l++)r.distanceField.push({fieldType:c[l].getAttribute("fieldType"),distanceRange:parseInt(c[l].getAttribute("distanceRange"),10)});return r},t}(),Uje=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return RI.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return RI.parse(r)},t}(),FC=[Dje,RI,Uje];function NW(t){for(var e=0;e<FC.length;e++)if(FC[e].test(t))return FC[e];return null}function jje(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,c=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=t.width/n-c-l*2,f=t.height/n-c-l*2,h=o.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=h.length+1,g=1;g<d;++g)p.push(g/d);if(h.unshift(o[0]),p.unshift(0),h.push(o[o.length-1]),p.push(1),r.fillGradientType===Td.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,f+l);for(var m=0,v=a.fontProperties.fontSize+r.strokeThickness,_=v/f,g=0;g<i.length;g++)for(var y=a.lineHeight*g,b=0;b<h.length;b++){var w=0;typeof p[b]=="number"?w=p[b]:w=b/h.length;var E=y/f+w*_,C=Math.max(m,E);C=Math.min(C,1),s.addColorStop(C,h[b]),m=C}}else{s=e.createLinearGradient(l,f/2,u+l,f/2);for(var T=h.length+1,A=1,g=0;g<h.length;g++){var I=void 0;typeof p[g]=="number"?I=p[g]:I=A/T,s.addColorStop(I,h[g]),A++}}return s}function $je(t,e,r,n,i,a,o){var s=r.text,c=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=jje(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=bi(typeof f=="number"?f:Vk(f)),p=o.dropShadowBlur*a,d=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,u+r.lineHeight-c.descent),o.fill&&e.fillText(s,l,u+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function MW(t){return Array.from?Array.from(t):t.split("")}function Gje(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,c=o;s<=c;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,MW(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function by(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var kc=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],c=e.page[0],l=e.distanceField[0],u=Mv(c.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var p=e.page[h],d=p.id,g=p.file;f[d]=r instanceof Array?r[h]:r[g],l!=null&&l.fieldType&&l.fieldType!=="none"&&(f[d].baseTexture.alphaMode=Ca.NO_PREMULTIPLIED_ALPHA)}for(var h=0;h<e.char.length;h++){var m=e.char[h],d=m.id,v=m.page,_=e.char[h],y=_.x,b=_.y,w=_.width,E=_.height,C=_.xoffset,T=_.yoffset,A=_.xadvance;y/=u,b/=u,w/=u,E/=u,C/=u,T/=u,A/=u;var I=new er(y+f[v].frame.x/u,b+f[v].frame.y/u,w,E);this.chars[d]={xOffset:C,yOffset:T,xAdvance:A,kerning:{},texture:new kt(f[v].baseTexture,I),page:v}}for(var h=0;h<e.kerning.length;h++){var O=e.kerning[h],P=O.first,k=O.second,F=O.amount;P/=u,k/=u,F/=u,this.chars[k]&&(this.chars[k].kerning[P]=F)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Gv)i=e;else{var a=NW(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof kt&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,c=i.textureWidth,l=i.textureHeight,u=Gje(a),f=r instanceof mf?r:new mf(r),h=c,p=new Gv;p.info[0]={face:f.fontFamily,size:f.fontSize},p.common[0]={lineHeight:f.fontSize};for(var d=0,g=0,m,v,_,y=0,b=[],w=0;w<u.length;w++){m||(m=document.createElement("canvas"),m.width=c,m.height=l,v=m.getContext("2d"),_=new fr(m,{resolution:s}),b.push(new kt(_)),p.page.push({id:b.length-1,file:""}));var E=os.measureText(u[w],f,!1,m),C=E.width,T=Math.ceil(E.height),A=Math.ceil((f.fontStyle==="italic"?2:1)*C);if(g>=l-T*s){if(g===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+f.fontSize+"px fonts"));--w,m=null,v=null,_=null,g=0,d=0,y=0;continue}if(y=Math.max(T+E.fontProperties.descent,y),A*s+d>=h){--w,g+=y*s,g=Math.ceil(g),d=0,y=0;continue}$je(m,v,E,d,g,s,f);var I=by(E.text);p.char.push({id:I,page:b.length-1,x:d/s,y:g/s,width:A,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(C-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),d+=(A+2*o)*s,d=Math.ceil(d)}for(var w=0,O=u.length;w<O;w++)for(var P=u[w],k=0;k<O;k++){var F=u[k],B=v.measureText(P).width,D=v.measureText(F).width,z=v.measureText(P+F).width,ee=z-(B+D);ee&&p.kerning.push({first:by(P),second:by(F),amount:ee})}var te=new t(p,b,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=te,te},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),Vje=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Hje=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,zje=[],Xje=[],b5=[],Wje=function(t){Bje(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,c=a.maxWidth,l=a.letterSpacing,u=a.fontName,f=a.fontSize;if(!kc.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=u,i._fontSize=f||kc.available[u].size,i.text=r,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new cu(function(){i.dirty=!0},i,0,0),i._roundPixels=xt.ROUND_PIXELS,i.dirty=!0,i._resolution=xt.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=kc.available[this._fontName],i=this._fontSize/n.size,a=new pr,o=[],s=[],c=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=MW(l),f=this._maxWidth*n.size/this._fontSize,h=n.distanceFieldType==="none"?zje:Xje,p=null,d=0,g=0,m=0,v=-1,_=0,y=0,b=0,w=0,E=0;E<u.length;E++){var C=u[E],T=by(C);if(/(?:\s)/.test(C)&&(v=E,_=d,w++),C==="\r"||C===`
`){s.push(d),c.push(-1),g=Math.max(g,d),++m,++y,a.x=0,a.y+=n.lineHeight,p=null,w=0;continue}var A=n.chars[T];if(A){p&&A.kerning[p]&&(a.x+=A.kerning[p]);var I=b5.pop()||{texture:kt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new pr};I.texture=A.texture,I.line=m,I.charCode=T,I.position.x=a.x+A.xOffset+this._letterSpacing/2,I.position.y=a.y+A.yOffset,I.prevSpaces=w,o.push(I),d=I.position.x+Math.max(A.xAdvance,A.texture.orig.width),a.x+=A.xAdvance+this._letterSpacing,b=Math.max(b,A.yOffset+A.texture.height),p=T,v!==-1&&f>0&&a.x>f&&(++y,Os(o,1+v-y,1+E-v),E=v,v=-1,s.push(_),c.push(o.length>0?o[o.length-1].prevSpaces:0),g=Math.max(g,_),m++,a.x=0,a.y+=n.lineHeight,p=null,w=0)}}var O=u[u.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(d=_),s.push(d),g=Math.max(g,d),c.push(-1));for(var P=[],E=0;E<=m;E++){var k=0;this._align==="right"?k=g-s[E]:this._align==="center"?k=(g-s[E])/2:this._align==="justify"&&(k=c[E]<0?0:(g-s[E])/c[E]),P.push(k)}for(var F=o.length,B={},D=[],z=this._activePagesMeshData,E=0;E<z.length;E++)h.push(z[E]);for(var E=0;E<F;E++){var ee=o[E].texture,te=ee.baseTexture.uid;if(!B[te]){var Y=h.pop();if(!Y){var U=new kg,X=void 0,j=void 0;n.distanceFieldType==="none"?(X=new Id(kt.EMPTY),j=ct.NORMAL):(X=new Id(kt.EMPTY,{program:f0.from(Hje,Vje),uniforms:{uFWidth:0}}),j=ct.NORMAL_NPM);var G=new Ad(U,X);G.blendMode=j,Y={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:G,vertices:null,uvs:null,indices:null}}Y.index=0,Y.indexCount=0,Y.vertexCount=0,Y.uvsCount=0,Y.total=0;var ne=this._textureCache;ne[te]=ne[te]||new kt(ee.baseTexture),Y.mesh.texture=ne[te],Y.mesh.tint=this._tint,D.push(Y),B[te]=Y}B[te].total++}for(var E=0;E<z.length;E++)D.indexOf(z[E])===-1&&this.removeChild(z[E].mesh);for(var E=0;E<D.length;E++)D[E].mesh.parent!==this&&this.addChild(D[E].mesh);this._activePagesMeshData=D;for(var E in B){var Y=B[E],ae=Y.total;if(!(((r=Y.indices)===null||r===void 0?void 0:r.length)>6*ae)||Y.vertices.length<Ad.BATCHABLE_SIZE*2)Y.vertices=new Float32Array(4*2*ae),Y.uvs=new Float32Array(4*2*ae),Y.indices=new Uint16Array(6*ae);else for(var pe=Y.total,se=Y.vertices,_e=pe*4*2;_e<se.length;_e++)se[_e]=0;Y.mesh.size=6*ae}for(var E=0;E<F;E++){var C=o[E],Me=C.position.x+P[C.line]*(this._align==="justify"?C.prevSpaces:1);this._roundPixels&&(Me=Math.round(Me));var Pe=Me*i,Ee=C.position.y*i,ee=C.texture,Se=B[ee.baseTexture.uid],Ge=ee.frame,Ye=ee._uvs,Ve=Se.index++;Se.indices[Ve*6+0]=0+Ve*4,Se.indices[Ve*6+1]=1+Ve*4,Se.indices[Ve*6+2]=2+Ve*4,Se.indices[Ve*6+3]=0+Ve*4,Se.indices[Ve*6+4]=2+Ve*4,Se.indices[Ve*6+5]=3+Ve*4,Se.vertices[Ve*8+0]=Pe,Se.vertices[Ve*8+1]=Ee,Se.vertices[Ve*8+2]=Pe+Ge.width*i,Se.vertices[Ve*8+3]=Ee,Se.vertices[Ve*8+4]=Pe+Ge.width*i,Se.vertices[Ve*8+5]=Ee+Ge.height*i,Se.vertices[Ve*8+6]=Pe,Se.vertices[Ve*8+7]=Ee+Ge.height*i,Se.uvs[Ve*8+0]=Ye.x0,Se.uvs[Ve*8+1]=Ye.y0,Se.uvs[Ve*8+2]=Ye.x1,Se.uvs[Ve*8+3]=Ye.y1,Se.uvs[Ve*8+4]=Ye.x2,Se.uvs[Ve*8+5]=Ye.y2,Se.uvs[Ve*8+6]=Ye.x3,Se.uvs[Ve*8+7]=Ye.y3}this._textWidth=g*i,this._textHeight=(a.y+n.lineHeight)*i;for(var E in B){var Y=B[E];if(this.anchor.x!==0||this.anchor.y!==0)for(var Xe=0,Ke=this._textWidth*this.anchor.x,wt=this._textHeight*this.anchor.y,Rt=0;Rt<Y.total;Rt++)Y.vertices[Xe++]-=Ke,Y.vertices[Xe++]-=wt,Y.vertices[Xe++]-=Ke,Y.vertices[Xe++]-=wt,Y.vertices[Xe++]-=Ke,Y.vertices[Xe++]-=wt,Y.vertices[Xe++]-=Ke,Y.vertices[Xe++]-=wt;this._maxLineHeight=b*i;var ht=Y.mesh.geometry.getBuffer("aVertexPosition"),gt=Y.mesh.geometry.getBuffer("aTextureCoord"),It=Y.mesh.geometry.getIndex();ht.data=Y.vertices,gt.data=Y.uvs,It.data=Y.indices,ht.update(),gt.update(),It.update()}for(var E=0;E<o.length;E++)b5.push(o[E])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=kc.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,c=s.a,l=s.b,u=s.c,f=s.d,h=Math.sqrt(c*c+l*l),p=Math.sqrt(u*u+f*f),d=(Math.abs(h)+Math.abs(p))/2,g=this._fontSize/o,m=0,v=this._activePagesMeshData;m<v.length;m++){var _=v[m];_.mesh.shader.uniforms.uFWidth=d*i*g*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!kc.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(xi),LW=function(){function t(){}return t.add=function(){jr.setExtensionXhrType("fnt",jr.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=NW(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(g){o[g.metadata.pageFile]=g.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=kc.install(a,o,!0),r())},c=0;c<a.page.length;++c){var l=a.page[c].file,u=i+l,f=!1;for(var h in this.resources){var p=this.resources[h];if(p.url===u){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),f=!0;break}}if(!f){var d={crossOrigin:e.crossOrigin,loadType:jr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,d,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var PI=function(t,e){return PI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},PI(t,e)};function Yje(t,e){PI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qje=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,BW=function(t){Yje(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,KX,qje,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(Vt);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var OI=function(t,e){return OI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},OI(t,e)};function DW(t,e){OI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kje=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Zje(t,e){var r=Math.ceil(t/2),n=Kje,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var Jje={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Qje=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function e9e(t){for(var e=Jje[t],r=e.length,n=Qje,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var c=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var w5;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(w5||(w5={}));var E5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(E5||(E5={}));var S5;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(S5||(S5={}));var C5;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(C5||(C5={}));var T5;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(T5||(T5={}));var A5;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(A5||(A5={}));var I5;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(I5||(I5={}));var R5;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(R5||(R5={}));var P5;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(P5||(P5={}));var O5;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(O5||(O5={}));var k5;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(k5||(k5={}));var F5;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(F5||(F5={}));var N5;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(N5||(N5={}));var Vv;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Vv||(Vv={}));var M5;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(M5||(M5={}));var L5;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(L5||(L5={}));var B5;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(B5||(B5={}));var D5;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(D5||(D5={}));var U5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(U5||(U5={}));var Hv=function(t){DW(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=xt.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,c=Zje(o,r),l=e9e(o);return s=t.call(this,c,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,c=n,l=o;this.state.blend=!1,r.applyFilter(this,c,l,Vv.CLEAR);for(var u=1;u<this.passes-1;u++){r.bindAndClear(c,Vv.BLIT),this.uniforms.uSampler=l;var f=l;l=c,c=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(Vt),t9e=function(t){DW(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=xt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new Hv(!0,r,n,i,a),o.blurYFilter=new Hv(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var c=r.getFilterTexture();this.blurXFilter.apply(r,n,c,Vv.CLEAR),this.blurYFilter.apply(r,c,i,a),r.returnFilterTexture(c)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(Vt);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var kI=function(t,e){return kI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},kI(t,e)};function r9e(t,e){kI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var n9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,FI=function(t){r9e(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,_3,n9e,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,c=o(s),l=i+(1-i)*s,u=s*(1-i)-c*a,f=s*(1-i)+c*a,h=s*(1-i)+c*a,p=i+s*(1-i),d=s*(1-i)-c*a,g=s*(1-i)-c*a,m=s*(1-i)+c*a,v=i+s*(1-i),_=[l,u,f,0,0,h,p,d,0,0,g,m,v,0,0,0,0,0,1,0];this._loadMatrix(_,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,c=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,f=(a>>8&255)/255,h=(a&255)/255,p=[.3,.59,.11,0,0,s,c,l,r,0,u,f,h,n,0,s-u,c-f,l-h,0,0];this._loadMatrix(p,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(Vt);FI.prototype.grayscale=FI.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var NI=function(t,e){return NI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},NI(t,e)};function i9e(t,e){NI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var a9e=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,o9e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,s9e=function(t){i9e(e,t);function e(r,n){var i=this,a=new ln;return r.renderable=!1,i=t.call(this,o9e,a9e,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new pr(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(Vt);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var MI=function(t,e){return MI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},MI(t,e)};function l9e(t,e){MI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var u9e=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,c9e=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,f9e=function(t){l9e(e,t);function e(){return t.call(this,u9e,c9e)||this}return e}(Vt);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var LI=function(t,e){return LI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},LI(t,e)};function h9e(t,e){LI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var d9e=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,p9e=function(t){h9e(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,_3,d9e,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(Vt);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var j5;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(j5||(j5={}));var $5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})($5||($5={}));var G5;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(G5||(G5={}));var V5;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(V5||(V5={}));var H5;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(H5||(H5={}));var z5;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(z5||(z5={}));var X5;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(X5||(X5={}));var W5;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(W5||(W5={}));var Y5;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Y5||(Y5={}));var q5;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(q5||(q5={}));var K5;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(K5||(K5={}));var Z5;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Z5||(Z5={}));var J5;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(J5||(J5={}));var Q5;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Q5||(Q5={}));var ej;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(ej||(ej={}));var tj;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(tj||(tj={}));var rj;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(rj||(rj={}));var BI;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(BI||(BI={}));var nj;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(nj||(nj={}));var UW=new ln;Un.prototype._cacheAsBitmap=!1;Un.prototype._cacheData=null;Un.prototype._cacheAsBitmapResolution=null;Un.prototype._cacheAsBitmapMultisample=BI.NONE;var v9e=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Un.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new v9e),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Un.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Un.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(xt.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),c=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=Hu.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+Vu();this._cacheData.textureCacheId=f,fr.addToCache(u.baseTexture,f),kt.addToCache(u,f);var h=this.transform.localTransform.copyTo(UW).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var p=new Ma(u);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(i.x/i.width),p.anchor.y=-(i.y/i.height),p.alpha=n,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}};Un.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Un.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(xt.RESOLUTION);var o=Hu.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+Vu();this._cacheData.textureCacheId=s,fr.addToCache(o.baseTexture,s),kt.addToCache(o,s);var c=UW;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new Ma(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};Un.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Un.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Un.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,fr.removeFromCache(this._cacheData.textureCacheId),kt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Un.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Un.prototype.name=null;xi.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=this.children[n].getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Un.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new pr),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var DI=function(t,e){return DI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},DI(t,e)};function h0(t,e){DI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jW=function(t){h0(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,c=this.width/o,l=this.height/s,u=0;u<r;u++){var f=u%this.segWidth,h=u/this.segWidth|0;n.push(f*c,h*l),i.push(f/o,h/s)}for(var p=o*s,u=0;u<p;u++){var d=u%o,g=u/o|0,m=g*this.segWidth+d,v=g*this.segWidth+d+1,_=(g+1)*this.segWidth+d,y=(g+1)*this.segWidth+d+1;a.push(m,v,_,v,y,_)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(kg),$W=function(t){h0(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var c=0,l=r[0],u=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var p=h*4;if(this.textureScale>0){var d=l.x-r[h].x,g=l.y-r[h].y,m=Math.sqrt(d*d+g*g);l=r[h],c+=m/u}else c=h/(f-1);o[p]=c,o[p+1]=0,o[p+2]=c,o[p+3]=1}for(var v=0,h=0;h<f-1;h++){var p=h*2;s[v++]=p,s[v++]=p+1,s[v++]=p+2,s[v++]=p+2,s[v++]=p+1,s[v++]=p+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,c=r.length,l=0;l<c;l++){var u=r[l],f=l*4;l<r.length-1?i=r[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=p,o*=p,s[f]=u.x+a,s[f+1]=u.y+o,s[f+2]=u.x-a,s[f+3]=u.y-o,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(kg),g9e=function(t){h0(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new $W(r.height,n,i),s=new Id(r);return i>0&&(r.baseTexture.wrapMode=Ps.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(Ad),GW=function(t){h0(e,t);function e(r,n,i){var a=this,o=new jW(r.width,r.height,n,i),s=new Id(kt.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(Ad),VW=function(t){h0(e,t);function e(r,n,i,a,o){r===void 0&&(r=kt.EMPTY);var s=this,c=new kg(n,i,a);c.getBuffer("aVertexPosition").static=!1;var l=new Id(r);return s=t.call(this,c,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(Ad),I_=10,m9e=function(t){h0(e,t);function e(r,n,i,a,o){n===void 0&&(n=I_),i===void 0&&(i=I_),a===void 0&&(a=I_),o===void 0&&(o=I_);var s=t.call(this,kt.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(GW);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var UI=function(t,e){return UI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},UI(t,e)};function _9e(t,e){UI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jI=function(t){_9e(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof kt?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(An.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(An.shared.add(this.update,this,ts.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(kt.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(kt.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof kt)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(An.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(An.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Ma);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Il.registerPlugin("accessibility",wX);Il.registerPlugin("extract",iW);Il.registerPlugin("interaction",TX);Il.registerPlugin("particle",mW);Il.registerPlugin("prepare",IW);Il.registerPlugin("batch",eW);Il.registerPlugin("tilingSprite",kW);Ha.registerPlugin(LW);Ha.registerPlugin(cW);Ha.registerPlugin(hW);Ha.registerPlugin(vW);Ha.registerPlugin(PW);Og.registerPlugin(EX);Og.registerPlugin(oW);var y9e="6.4.2",HW={AlphaFilter:BW,BlurFilter:t9e,BlurFilterPass:Hv,ColorMatrixFilter:FI,DisplacementFilter:s9e,FXAAFilter:f9e,NoiseFilter:p9e};const x9e=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Ca},AbstractBatchRenderer:ZX,AbstractMultiResource:Nb,AbstractRenderer:YX,AccessibilityManager:wX,AnimatedSprite:jI,AppLoaderPlugin:oW,Application:Og,ArrayResource:Kk,Attribute:oI,get BLEND_MODES(){return ct},get BUFFER_BITS(){return kv},get BUFFER_TYPE(){return es},BaseImageResource:Ns,BasePrepare:TW,BaseRenderTexture:t3,BaseTexture:fr,BatchDrawCall:Cx,BatchGeometry:y3,BatchPluginFactory:QX,BatchRenderer:eW,BatchShaderGenerator:JX,BatchSystem:a3,BatchTextureArray:Tx,BitmapFont:kc,BitmapFontData:Gv,BitmapFontLoader:LW,BitmapText:Wje,BlobResource:uW,Bounds:Ed,Buffer:si,BufferResource:Zu,get CLEAR_MODES(){return ll},CanvasResource:Mb,Circle:mX,CompressedTextureLoader:cW,CompressedTextureResource:Ax,Container:xi,ContextSystem:o3,CountLimiter:CW,CubeResource:Zk,DDSLoader:hW,DEG_TO_RAD:Sl,get DRAW_MODES(){return eo},DisplayObject:Un,get ENV(){return Fs},Ellipse:_X,Extract:iW,get FORMATS(){return nt},FORMATS_TO_COMPONENTS:dW,FillStyle:w3,Filter:Vt,FilterState:PX,FilterSystem:i3,Framebuffer:Sx,FramebufferSystem:s3,get GC_MODES(){return Ex},GLFramebuffer:OX,GLProgram:zX,GLTexture:yy,GRAPHICS_CURVES:Sd,Geometry:c0,GeometrySystem:l3,Graphics:Cd,GraphicsData:wI,GraphicsGeometry:EW,IGLUniformData:i5e,INSTALLED:Bv,get INTERNAL_FORMATS(){return Jt},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:jv,ImageBitmapResource:e3,ImageResource:Lb,InteractionData:rI,InteractionEvent:SX,InteractionManager:TX,InteractionTrackingData:_y,KTXLoader:vW,get LINE_CAP(){return vl},get LINE_JOIN(){return pl},LineStyle:SW,Loader:Ha,get LoaderResource(){return jr},get MASK_TYPES(){return $i},get MIPMAP_MODES(){return Va},get MSAA_QUALITY(){return Kn},MaskData:kX,MaskSystem:u3,Matrix:ln,Mesh:Ad,MeshBatchUvs:FW,MeshGeometry:kg,MeshMaterial:Id,NineSlicePlane:m9e,ObjectRenderer:Pg,ObservablePoint:cu,PI_2:Lv,get PRECISION(){return Ko},ParticleContainer:aje,ParticleRenderer:mW,PlaneGeometry:jW,Point:pr,Polygon:id,Prepare:IW,Program:f0,ProjectionSystem:h3,Quad:RX,QuadUv:n3,RAD_TO_DEG:Wk,get RENDERER_TYPE(){return wd},Rectangle:er,RenderTexture:Hu,RenderTexturePool:IX,RenderTextureSystem:d3,Renderer:Il,Resource:gf,RopeGeometry:$W,RoundedRectangle:yX,Runner:Hi,get SAMPLER_TYPES(){return Fv},get SCALE_MODES(){return Oi},get SHAPES(){return mn},SVGResource:Jk,ScissorSystem:c3,Shader:yl,ShaderSystem:p3,SimpleMesh:VW,SimplePlane:GW,SimpleRope:g9e,Sprite:Ma,SpriteMaskFilter:UX,Spritesheet:RW,SpritesheetLoader:PW,State:Ju,StateSystem:v3,StencilSystem:f3,System:x5e,get TARGETS(){return Cu},get TEXT_GRADIENT(){return Td},get TYPES(){return At},TYPES_TO_BYTES_PER_COMPONENT:gI,TYPES_TO_BYTES_PER_PIXEL:pW,TemporaryDisplayObject:qk,Text:C3,TextMetrics:os,TextStyle:mf,Texture:kt,TextureGCSystem:g3,TextureLoader:sW,TextureMatrix:Bb,TextureSystem:m3,TextureUvs:r3,Ticker:An,TickerPlugin:EX,TilingSprite:Pje,TilingSpriteRenderer:kW,TimeLimiter:Rje,Transform:Rg,get UPDATE_PRIORITY(){return ts},UniformGroup:Tu,VERSION:y9e,VideoResource:Qk,ViewableBuffer:Dv,get WRAP_MODES(){return Ps},accessibleTarget:bX,autoDetectRenderer:qX,autoDetectResource:Fb,checkMaxIfStatementsInShader:DX,createUBOElements:GX,defaultFilterVertex:_3,defaultVertex:KX,filters:HW,generateProgram:XX,generateUniformBufferSync:HX,getTestContext:MX,getUBOData:VX,graphicsUtils:hje,groupD8:pn,interactiveTarget:CX,isMobile:Co,resources:tW,settings:xt,systems:rW,uniformParsers:nf,utils:y6e},Symbol.toStringTag,{value:"Module"}));let R_;const b9e=new Uint8Array(16);function w9e(){if(!R_&&(R_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!R_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R_(b9e)}const ji=[];for(let t=0;t<256;++t)ji.push((t+256).toString(16).slice(1));function E9e(t,e=0){return ji[t[e+0]]+ji[t[e+1]]+ji[t[e+2]]+ji[t[e+3]]+"-"+ji[t[e+4]]+ji[t[e+5]]+"-"+ji[t[e+6]]+ji[t[e+7]]+"-"+ji[t[e+8]]+ji[t[e+9]]+"-"+ji[t[e+10]]+ji[t[e+11]]+ji[t[e+12]]+ji[t[e+13]]+ji[t[e+14]]+ji[t[e+15]]}const S9e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ij={randomUUID:S9e};function uh(t,e,r){if(ij.randomUUID&&!e&&!t)return ij.randomUUID();t=t||{};const n=t.random||(t.rng||w9e)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return E9e(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $I=function(t,e){return $I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$I(t,e)};function C9e(t,e){$I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var T9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,A9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,I9e=function(t){C9e(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,T9e,A9e)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}(Vt);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GI=function(t,e){return GI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},GI(t,e)};function R9e(t,e){GI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var P9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,O9e=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,k9e=function(t){R9e(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,P9e,O9e)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}(Vt);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VI=function(t,e){return VI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},VI(t,e)};function F9e(t,e){VI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var N9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,M9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,L9e=function(t){F9e(e,t);function e(r){var n=t.call(this,N9e,M9e)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}(Vt);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var HI=function(t,e){return HI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},HI(t,e)};function B9e(t,e){HI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var D9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,U9e=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,j9e=function(t){B9e(e,t);function e(r){var n=t.call(this,D9e,U9e)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=kt.from(n._canvas,{scaleMode:Oi.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,c=0;c<n;c++){var l=s/(o-c),u=Math.max(l*(1-Math.random()*.6),a);r[c]=u,s-=u}r[n]=s}else{for(var s=1,f=Math.sqrt(1/this._slices),c=0;c<n;c++){var u=Math.max(f*s*Math.random(),a);r[c]=u,s-=u}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var c=this._sizes[s]*r,l=a>0?a:0,u=a<0?-a:0;i.fillStyle="rgba("+l+", "+u+", 0, 1)",i.fillRect(0,o>>0,r,c+1>>0),o+=c}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*Sl;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}(Vt);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zI=function(t,e){return zI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zI(t,e)};function $9e(t,e){zI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var G9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,V9e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,H9e=function(t){$9e(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,G9e,V9e)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}(Vt);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XI=function(t,e){return XI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},XI(t,e)};function z9e(t,e){XI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var X9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,W9e=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,Y9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,q9e=function(t){z9e(e,t);function e(r){var n=t.call(this,X9e,Y9e.replace("${perlin}",W9e))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new pr,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*Sl;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}(Vt);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WI=function(t,e){return WI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},WI(t,e)};function K9e(t,e){WI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Z9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,J9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){K9e(e,t);function e(r){var n=t.call(this,Z9e,J9e)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})(Vt);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var YI=function(t,e){return YI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},YI(t,e)};function Q9e(t,e){YI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var e$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,t$e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,r$e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,Ix=function(t){Q9e(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,e$e,i?r$e:t$e)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new pr,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,c;if(this._quality===1||this._blur===0)c=this._kernels[0]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),u=n,f=l,h=void 0,p=this._quality-1,d=0;d<p;d++)c=this._kernels[d]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,f,1),h=u,u=f,f=h;c=this._kernels[p]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof pr?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}(Vt);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qI=function(t,e){return qI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},qI(t,e)};function zW(t,e){qI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var XW=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,n$e=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,i$e=function(t){zW(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,XW,n$e)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}(Vt),a$e=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){zW(e,t);function e(r){var n=t.call(this,XW,a$e)||this;n.bloomScale=1,n.brightness=1,n._resolution=xt.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;return n._extractFilter=new i$e(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new Ix(a):new Ix(o,s),n.pixelSize=c,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var c=r.getFilterTexture();this._blurFilter.apply(r,s,c,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=c,r.applyFilter(this,n,i,a),r.returnFilterTexture(c),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:xt.FILTER_RESOLUTION},e})(Vt);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var KI=function(t,e){return KI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},KI(t,e)};function o$e(t,e){KI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var s$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,l$e=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){o$e(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,s$e,l$e)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZI=function(t,e){return ZI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ZI(t,e)};function u$e(t,e){ZI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var c$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,f$e=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){u$e(e,t);function e(r){var n=t.call(this,c$e,f$e)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/Sl},set:function(r){this._angle=r*Sl,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return Sa(this.uniforms.lightColor)},set:function(r){bi(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return Sa(this.uniforms.shadowColor)},set:function(r){bi(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JI=function(t,e){return JI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},JI(t,e)};function h$e(t,e){JI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){h$e(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=xt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,c;return typeof r=="number"?(s=r,c=r):r instanceof pr?(s=r.x,c=r.y):Array.isArray(r)&&(s=r[0],c=r[1]),o.blurXFilter=new Hv(!0,s,n,i,a),o.blurYFilter=new Hv(!1,c,n,i,a),o.blurYFilter.blendMode=ct.SCREEN,o.defaultFilter=new BW,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QI=function(t,e){return QI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},QI(t,e)};function d$e(t,e){QI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var p$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,v$e=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){d$e(e,t);function e(r){var n=t.call(this,p$e,v$e)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})(Vt);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eR=function(t,e){return eR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eR(t,e)};function g$e(t,e){eR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var m$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,_$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){g$e(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,m$e,_$e)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof kt||(r=kt.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=Va.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?Oi.NEAREST:Oi.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=Va.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})(Vt);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tR=function(t,e){return tR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},tR(t,e)};function y$e(t,e){tR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var x$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,b$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){y$e(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,x$e,b$e)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(bi(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=Sa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rR=function(t,e){return rR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},rR(t,e)};function w$e(t,e){rR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var E$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,S$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){w$e(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,E$e,S$e)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(bi(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=Sa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(bi(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=Sa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nR=function(t,e){return nR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nR(t,e)};function C$e(t,e){nR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var T$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,A$e=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){C$e(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,T$e,A$e)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iR=function(t,e){return iR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iR(t,e)};function I$e(t,e){iR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var R$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,P$e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){I$e(e,t);function e(){return t.call(this,R$e,P$e)||this}return e})(Vt);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aR=function(t,e){return aR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},aR(t,e)};function O$e(t,e){aR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var k$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,F$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){O$e(e,t);function e(r){var n=t.call(this,k$e,F$e)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})(Vt);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oR=function(t,e){return oR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},oR(t,e)};function N$e(t,e){oR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Rx=function(){return Rx=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Rx.apply(this,arguments)},M$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,L$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){N$e(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=xt.FILTER_RESOLUTION;var i=r?Rx(Rx({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;n._tintFilter=new Vt(M$e,L$e),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new pr,n._tintFilter.resolution=l,n._blurFilter=a?new Ix(a):new Ix(o,s),n.pixelSize=c,n.resolution=l;var u=i.shadowOnly,f=i.rotation,h=i.distance,p=i.alpha,d=i.color;return n.shadowOnly=u,n.rotation=f,n.distance=h,n.alpha=p,n.color=d,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/Sl},set:function(r){this.angle=r*Sl,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return Sa(this._tintFilter.uniforms.color)},set:function(r){bi(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:xt.FILTER_RESOLUTION},e})(Vt);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sR=function(t,e){return sR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},sR(t,e)};function B$e(t,e){sR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var D$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,U$e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){B$e(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,D$e,U$e)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lR=function(t,e){return lR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lR(t,e)};function j$e(t,e){lR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,G$e=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){j$e(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,c=i.knockout,l=i.quality,u=Math.round(i.distance);return n=t.call(this,$$e,G$e.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/u).toFixed(7)).replace(/__DIST__/gi,u.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:u,knockout:c}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return Sa(this.uniforms.glowColor)},set:function(r){bi(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})(Vt);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uR=function(t,e){return uR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},uR(t,e)};function V$e(t,e){uR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var H$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,z$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){V$e(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,H$e,z$e)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new cu(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,c=o.y;this.uniforms.uKernelSize=s!==0||c!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cR=function(t,e){return cR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},cR(t,e)};function X$e(t,e){cR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var W$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Y$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){X$e(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,W$e,Y$e.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],c=s[0];typeof c=="number"?c=bi(c):s[0]=Sa(c),n[o*3]=c[0],n[o*3+1]=c[1],n[o*3+2]=c[2];var l=s[1];typeof l=="number"?l=bi(l):s[1]=Sa(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fR=function(t,e){return fR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},fR(t,e)};function q$e(t,e){fR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var K$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Z$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){q$e(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,K$e,Z$e.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return Sa(this.uniforms.outlineColor)},set:function(r){bi(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})(Vt);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hR=function(t,e){return hR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},hR(t,e)};function J$e(t,e){hR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Q$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,eGe=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){J$e(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,Q$e,eGe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dR=function(t,e){return dR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},dR(t,e)};function tGe(t,e){dR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rGe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,nGe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){tGe(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,rGe,nGe)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pR=function(t,e){return pR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pR(t,e)};function iGe(t,e){pR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var aGe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,oGe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,sGe=function(t){iGe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,aGe,oGe)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}(Vt);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vR=function(t,e){return vR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},vR(t,e)};function lGe(t,e){vR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uGe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,cGe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){lGe(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,uGe,cGe)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(bi(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=Sa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gR=function(t,e){return gR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},gR(t,e)};function Db(t,e){gR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fGe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,hGe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,WW=function(t){Db(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,fGe,hGe)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new pr(0,window.innerHeight/2),o.uniforms.end=a||new pr(600,window.innerHeight/2),o.uniforms.delta=new pr(30,30),o.uniforms.texSize=new pr(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}(Vt),dGe=function(t){Db(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(WW),pGe=function(t){Db(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(WW);(function(t){Db(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new dGe(r,n,i,a),o.tiltShiftYFilter=new pGe(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})(Vt);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mR=function(t,e){return mR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},mR(t,e)};function vGe(t,e){mR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gGe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mGe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){vGe(e,t);function e(r){var n=t.call(this,gGe,mGe)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new pr},e})(Vt);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _R=function(t,e){return _R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_R(t,e)};function _Ge(t,e){_R(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function yGe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var xGe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,bGe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){_Ge(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=yGe(i,["maxKernelSize"]);return n=t.call(this,xGe,bGe.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})(Vt);const yR="shockwaveFilter";function wGe(t,e){const r=t.containerFilters.get(yR);if(r)return r;if(e){const n=new sGe([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(yR,n),n}}function EGe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function SGe(t,e){if(e===0)t.removeFilter(yR);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const xR=0,bR="radiusAlphaFilter";class CGe extends Vt{constructor(e,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new pr(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function TGe(t,e){const r=t.containerFilters.get(bR);if(r)return r;if(e){const n=new CGe(new pr(.5,.5),xR);return n.radius=xR,t.addFilter(n),t.containerFilters.set(bR,n),n}}function AGe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:xR}function IGe(t,e){if(e===0)t.removeFilter(bR);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class P_ extends xi{constructor(){super();at(this,"containerFilters",new Map);at(this,"baseX",0);at(this,"baseY",0)}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new HW.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new I9e;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new k9e;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new L9e;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new j9e;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new H9e;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new q9e;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return wGe(this,r)}get shockwaveFilter(){return EGe(this)}set shockwaveFilter(r){SGe(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return TGe(this,r)}get radiusAlphaFilter(){return AGe(this)}set radiusAlphaFilter(r){IGe(this,r)}}var Qt;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})(Qt||(Qt={}));var Px=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),Z;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(Z||(Z={}));var qt;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(qt||(qt={}));var _n;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(_n||(_n={}));var Dn;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(Dn||(Dn={}));var $t;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})($t||($t={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wR=function(t,e){return wR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wR(t,e)};function d0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function aj(t){switch(t.toLowerCase()){case"nearest":return wa.Nearest;case"linear":return wa.Linear;case"mipmap":return wa.MipMap;case"mipmapnearestnearest":return wa.MipMapNearestNearest;case"mipmaplinearnearest":return wa.MipMapLinearNearest;case"mipmapnearestlinear":return wa.MipMapNearestLinear;case"mipmaplinearlinear":return wa.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var wa;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(wa||(wa={}));var fu;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(fu||(fu={}));var ER=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),RGe=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),PGe=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new oj,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=wa.Nearest,i.uWrap=fu.ClampToEdge,i.vWrap=fu.ClampToEdge,n.push(i)}var s=new sj;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new OGe(e),o=new Array(4),s=null,c={},l=null;c.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},c.format=function(){},c.filter=function(){s.minFilter=aj(o[1]),s.magFilter=aj(o[2])},c.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=fu.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=fu.Repeat)},c.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var p=o[1],d=0;p.toLocaleLowerCase()=="true"?d=6:p.toLocaleLowerCase()=="false"?d=0:d=(720-parseFloat(p))%360/45,l.rotate=d},u.index=function(){l.index=parseInt(o[1])};for(var f=a.readLine();f!=null&&f.trim().length==0;)f=a.readLine();for(;!(f==null||f.trim().length==0||a.readEntry(o,f)==0);)f=a.readLine();var h=function(){for(;;){if(f==null)return n&&n(i);if(f.trim().length==0)s=null,f=a.readLine();else if(s===null){for(s=new oj,s.name=f.trim();a.readEntry(o,f=a.readLine())!=0;){var p=c[o[0]];p&&p()}i.pages.push(s),r(s.name,function(A){if(A===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=A,s.pma&&(A.alphaMode=Ca.PMA),A.valid||A.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=A.realWidth,s.height=A.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new RGe;var d=new sj;d.name=f,d.page=s;for(var g=null,m=null;;){var v=a.readEntry(o,f=a.readLine());if(v==0)break;var p=u[o[0]];if(p)p();else{g==null&&(g=[],m=[]),g.push(o[0]);for(var _=[],y=0;y<v;y++)_.push(parseInt(o[y+1]));m.push(_)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var b=s.baseTexture.resolution;l.x/=b,l.y/=b,l.width/=b,l.height/=b,l.originalWidth/=b,l.originalHeight/=b,l.offsetX/=b,l.offsetY/=b;var w=l.rotate%4!==0,E=new er(l.x,l.y,w?l.height:l.width,w?l.width:l.height),C=new er(0,0,l.originalWidth,l.originalHeight),T=new er(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);d.texture=new kt(d.page.baseTexture,E,C,T,l.rotate),d.index=l.index,d.texture.updateUvs(),i.regions.push(d)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),OGe=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),oj=function(){function t(){this.minFilter=wa.Nearest,this.magFilter=wa.Nearest,this.uWrap=fu.ClampToEdge,this.vWrap=fu.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==wa.Linear?e.scaleMode=Oi.LINEAR:this.minFilter==wa.Nearest?e.scaleMode=Oi.NEAREST:(e.mipmap=Va.POW2,r==wa.MipMapNearestNearest?e.scaleMode=Oi.NEAREST:e.scaleMode=Oi.LINEAR)},t}(),sj=function(t){d0(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ER),kGe=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),FGe=Math.fround||kGe,YW=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),qW=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),rt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),re=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),NGe=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),MGe=function(t){d0(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(NGe),KW=function(t){d0(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(MGe),xe=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?FGe(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),Ub=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),zv=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),A3=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new Ub(function(){return xe.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var c=0;c<s;c++){var l=o[c];if(l.bone.active){var u=l.getAttachment();if(u!=null&&u.type===Qt.BoundingBox){var f=u;n.push(f);var h=a.obtain();h.length!=f.worldVerticesLength&&(h=xe.newFloatArray(f.worldVerticesLength)),i.push(h),f.computeWorldVertices(l,0,f.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var c=a[o],l=c,u=0,f=c.length;u<f;u+=2){var h=l[u],p=l[u+1];e=Math.min(e,h),r=Math.min(r,p),n=Math.max(n,h),i=Math.max(i,p)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,c=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=c&&i>=c)return!1;var l=(i-r)/(n-e),u=l*(a-e)+r;if(u>o&&u<c||(u=l*(s-e)+r,u>o&&u<c))return!0;var f=(o-r)/l+e;return f>a&&f<s||(f=(c-r)/l+e,f>a&&f<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,c=0;c<a;c+=2){var l=i[c+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var f=i[c];f+(n-l)/(u-l)*(i[o]-f)<r&&(s=!s)}o=c}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,c=r-i,l=n-a,u=r*a-n*i,f=o[s-2],h=o[s-1],p=0;p<s;p+=2){var d=o[p],g=o[p+1],m=f*g-h*d,v=f-d,_=h-g,y=c*_-l*v,b=(u*v-c*m)/y;if((b>=f&&b<=d||b>=d&&b<=f)&&(b>=r&&b<=i||b>=i&&b<=r)){var w=(u*_-l*m)/y;if((w>=h&&w<=g||w>=g&&w<=h)&&(w>=n&&w<=a||w>=a&&w<=n))return!0}f=d,h=g}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),LGe={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},Yl=[0,0,0],BGe=function(t){d0(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}(Ma),DGe=function(t){d0(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(VW),Fg=function(t){d0(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),c=n.newContainer();if(n.slotContainers.push(c),n.addChild(c),n.tempClipContainers.push(null),!!s)if(s.type===Qt.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,c.addChild(u)}else if(s.type===Qt.Mesh){var f=n.createMesh(o,s);o.currentMesh=f,o.currentMeshId=s.id,o.currentMeshName=s.name,c.addChild(f)}else s.type===Qt.Clipping&&(n.createGraphics(o,s),c.addChild(o.clippingContainer),c.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:xi.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return Sa(this.tintRgb)},set:function(r){this.tintRgb=bi(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:LGe.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,c=null;o?(s=o.light,c=o.dark):s=this.tintRgb;for(var l=0,u=a.length;l<u;l++){var f=a[l],h=f.getAttachment(),p=this.slotContainers[l];if(!h){p.visible=!1;continue}var d=null;h.sequence&&h.sequence.apply(f,h);var g=h.region,m=h.color;switch(h!=null&&h.type){case Qt.Region:var v=p.transform;if(v.setFromMatrix(f.bone.matrix),g=h.region,f.currentMesh&&(f.currentMesh.visible=!1,f.currentMesh=null,f.currentMeshId=void 0,f.currentMeshName=void 0),!g){f.currentSprite&&(f.currentSprite.renderable=!1);break}if(!f.currentSpriteName||f.currentSpriteName!==h.name){var _=h.name;if(f.currentSprite&&(f.currentSprite.visible=!1),f.sprites=f.sprites||{},f.sprites[_]!==void 0)f.sprites[_].visible=!0;else{var y=this.createSprite(f,h,_);p.addChild(y)}f.currentSprite=f.sprites[_],f.currentSpriteName=_}f.currentSprite.renderable=!0,f.hackRegion||this.setSpriteRegion(h,f.currentSprite,g),f.currentSprite.color?d=f.currentSprite.color:(Yl[0]=s[0]*f.color.r*m.r,Yl[1]=s[1]*f.color.g*m.g,Yl[2]=s[2]*f.color.b*m.b,f.currentSprite.tint=Sa(Yl)),f.currentSprite.blendMode=f.blendMode;break;case Qt.Mesh:if(f.currentSprite){f.currentSprite.visible=!1,f.currentSprite=null,f.currentSpriteName=void 0;var b=new Rg;b._parentID=-1,b._worldID=p.transform._worldID,p.transform=b}if(!g){f.currentMesh&&(f.currentMesh.renderable=!1);break}var w=h.id;if(f.currentMeshId===void 0||f.currentMeshId!==w){var E=w;if(f.currentMesh&&(f.currentMesh.visible=!1),f.meshes=f.meshes||{},f.meshes[E]!==void 0)f.meshes[E].visible=!0;else{var C=this.createMesh(f,h);p.addChild(C)}f.currentMesh=f.meshes[E],f.currentMeshName=h.name,f.currentMeshId=E}f.currentMesh.renderable=!0,h.computeWorldVerticesOld(f,f.currentMesh.vertices),f.currentMesh.color?d=f.currentMesh.color:(Yl[0]=s[0]*f.color.r*m.r,Yl[1]=s[1]*f.color.g*m.g,Yl[2]=s[2]*f.color.b*m.b,f.currentMesh.tint=Sa(Yl)),f.currentMesh.blendMode=f.blendMode,f.hackRegion||this.setMeshRegion(h,f.currentMesh,g);break;case Qt.Clipping:f.currentGraphics||(this.createGraphics(f,h),p.addChild(f.clippingContainer),p.addChild(f.currentGraphics)),this.updateGraphics(f,h),p.alpha=1,p.visible=!0;continue;default:p.visible=!1;continue}if(p.visible=!0,d){var T=f.color.r*m.r,A=f.color.g*m.g,I=f.color.b*m.b;d.setLight(s[0]*T+c[0]*(1-T),s[1]*A+c[1]*(1-A),s[2]*I+c[2]*(1-I)),f.darkColor?(T=f.darkColor.r,A=f.darkColor.g,I=f.darkColor.b):(T=0,A=0,I=0),d.setDark(s[0]*T+c[0]*(1-T),s[1]*A+c[1]*(1-A),s[2]*I+c[2]*(1-I))}p.alpha=f.color.a}for(var O=this.skeleton.drawOrder,P=null,k=null,l=0,u=O.length;l<u;l++){var f=a[O[l].data.index],p=this.slotContainers[O[l].data.index];if(k||p.parent!==null&&p.parent!==this&&(p.parent.removeChild(p),p.parent=this),f.currentGraphics&&f.getAttachment())k=f.clippingContainer,P=f.getAttachment(),k.children.length=0,this.children[l]=p,P.endSlot===f.data&&(P.endSlot=null);else if(k){var F=this.tempClipContainers[l];F||(F=this.tempClipContainers[l]=this.newContainer(),F.visible=!1),this.children[l]=F,p.parent=null,k.addChild(p),P.endSlot==f.data&&(k.renderable=!0,k=null,P=null)}else this.children[l]=p}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*re.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}xi.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),eo.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new id([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new ER,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var c=this.skeleton.slots[o];if(!c)return!1;var l=c.getAttachment();if(n===l.name){var u=s.region;return i?(u=new ER,u.texture=i,u.size=a,c.hackRegion=u,c.hackAttachment=l):(c.hackRegion=null,c.hackAttachment=null),c.currentSprite&&c.currentSprite.region!=u?(this.setSpriteRegion(l,c.currentSprite,u),c.currentSprite.region=u):c.currentMesh&&c.currentMesh.region!=u&&this.setMeshRegion(l,c.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new xi},e.prototype.newSprite=function(r){return new BGe(r)},e.prototype.newGraphics=function(){return new Cd},e.prototype.newMesh=function(r,n,i,a,o){return new DGe(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,c=this.skeleton.slots.length;s<c;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",f=l.currentSprite||l.currentMesh;u.endsWith(r)?(f.parentGroup=n,o.push(f)):i&&f&&(f.parentGroup=i,a.push(f))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(xi);Object.defineProperty(Fg.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function UGe(t){return t.type===jr.TYPE.JSON}function jGe(t){return t.xhrType===jr.XHR_RESPONSE_TYPE.BUFFER}jr.setExtensionXhrType("skel",jr.XHR_RESPONSE_TYPE.BUFFER);var $Ge=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=UGe(r)&&r.data.bones,a=jGe(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var c=r.metadata||{},l=c?c.spineSkeletonScale:null;l&&(o.scale=l);var u=c.spineAtlas;if(u===!1)return n();if(u&&u.pages)return e.parseData(r,o,u,s),n();var f=c.spineAtlasSuffix||".atlas",h=r.url,p=h.indexOf("?");p>0&&(h=h.substr(0,p)),h=h.substr(0,h.lastIndexOf("."))+f,c.spineAtlasFile&&(h=c.spineAtlasFile),h=h.replace(this.baseUrl,"");var d={crossOrigin:r.crossOrigin,xhrType:jr.XHR_RESPONSE_TYPE.TEXT,metadata:c.spineMetadata||null,parentResource:r},g={crossOrigin:r.crossOrigin,metadata:c.imageMetadata||null,parentResource:r},m=r.url.substr(0,r.url.lastIndexOf("/")+1);m=m.replace(this.baseUrl,"");var v=c.imageNamePrefix||r.name+"_atlas_page_",_=c.images?lj(c.images):c.image?lj({default:c.image}):c.imageLoader?c.imageLoader(this,v,m,g):GGe(this,v,m,g);function y(b){new PGe(b,_,function(w){w&&e.parseData(r,o,w,s),n()})}c.atlasRawData?y(c.atlasRawData):this.add(r.name+"_atlas",h,d,function(b){b.error?n():y(b.data)})}}},t}();function GGe(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,c=t.resources[o];if(c){var l=function(){a(c.texture.baseTexture)};c.texture?l():c.onAfterMiddleware.add(l)}else t.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=Ca.PMA),a(u.texture.baseTexture))})}}function lj(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SR=function(t,e){return SR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},SR(t,e)};function wn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");SR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var I3=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Pf=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,g=h.a,m=h.c,v=h.b,_=h.d,y=n,b=o;b<i;y+=2,b+=s){var w=u[y],E=u[y+1];a[b]=w*g+E*m+p,a[b+1]=w*v+E*_+d}return}for(var C=0,T=0,A=0;A<n;A+=2){var I=f[C];C+=I+1,T+=I}var O=c.bones;if(l.length==0)for(var b=o,m=T*3;b<i;b+=s){var P=0,k=0,I=f[C++];for(I+=C;C<I;C++,m+=3){var h=O[f[C]].matrix,w=u[m],E=u[m+1],F=u[m+2];P+=(w*h.a+E*h.c+h.tx)*F,k+=(w*h.b+E*h.d+h.ty)*F}a[b]=P,a[b+1]=k}else for(var B=l,b=o,m=T*3,D=T<<1;b<i;b+=s){var P=0,k=0,I=f[C++];for(I+=C;C<I;C++,m+=3,D+=2){var h=O[f[C]].matrix,w=u[m]+B[D],E=u[m+1]+B[D+1],F=u[m+2];P+=(w*h.a+E*h.c+h.tx)*F,k+=(w*h.b+E*h.d+h.ty)*F}a[b]=P,a[b+1]=k}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),xe.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=xe.newFloatArray(this.vertices.length),xe.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}(I3),ZW=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.BoundingBox,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Pf),JW=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Clipping,n.color=new rt(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Pf),jb=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Mesh,n.color=new rt(1,1,1,1),n.tempColor=new rt(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),xe.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),xe.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),xe.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(Pf),Xv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),xe.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Pf),QW=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Point,n.color=new rt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=re.cosDeg(this.rotation),a=re.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*re.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Pf),R3=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new rt,this.darkColor=e.darkColor==null?null:new rt,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),P3=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new rt(1,1,1,1),n.offset=xe.newFloatArray(8),n.uvs=xe.newFloatArray(8),n.tempColor=new rt(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,g=o*l+this.x,m=o*u,v=s*l+this.y,_=s*u,y=this.offset;y[e.OX1]=f-d,y[e.OY1]=p+h,y[e.OX2]=f-_,y[e.OY2]=v+h,y[e.OX3]=g-_,y[e.OY3]=v+m,y[e.OX4]=g-d,y[e.OY4]=p+m},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof R3?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,p=s.d,d=0,g=0;d=o[e.OX1],g=o[e.OY1],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX2],g=o[e.OY2],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX3],g=o[e.OY3],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX4],g=o[e.OY4],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,xe.arrayCopy(this.uvs,0,r.uvs,0,8),xe.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(I3),VGe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=re.randomTriangular(-this.jitterX,this.jitterY),e.y+=re.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),HGe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*re.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new KW(2),t}(),ei=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Fi;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Fi||(Fi={}));var $s=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=xe.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,g=this.curves;g[d++]=t.BEZIER;for(var m=h,v=p,_=d+t.BEZIER_SIZE-1;d<_;d+=2)g[d]=m,g[d+1]=v,h+=u,p+=f,u+=c,f+=l,m+=h,v+=p},t.prototype.getCurvePercent=function(e,r){r=re.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Qa=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Fi.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.rotation=u.data.rotation;return;case Z.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case Z.setup:u.rotation=u.data.rotation+h*o;break;case Z.first:case Z.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case Z.add:u.rotation+=h*o}return}var p=ei.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],g=l[p],m=this.getCurvePercent((p>>1)-1,1-(i-g)/(l[p+e.PREV_TIME]-g)),v=l[p+e.ROTATION]-d;switch(v=d+(v-(16384-(16384.499999999996-v/360|0))*360)*m,s){case Z.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case Z.first:case Z.replace:v+=u.data.rotation-u.rotation;case Z.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}($s),_f=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fi.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.x=u.data.x,u.y=u.data.y;return;case Z.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=ei.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.X]-f)*g,h+=(l[p+e.Y]-h)*g}switch(s){case Z.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case Z.first:case Z.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case Z.add:u.x+=f*o,u.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}($s),O3=function(t){wn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Fi.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case Z.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=ei.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=(f+(l[p+e.X]-f)*g)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*g)*u.data.scaleY}if(o==1)s==Z.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var m=0,v=0;if(c==qt.mixOut)switch(s){case Z.setup:m=u.data.scaleX,v=u.data.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-m)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-v)*o;break;case Z.first:case Z.replace:m=u.scaleX,v=u.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-m)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-v)*o;break;case Z.add:m=u.scaleX,v=u.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-u.data.scaleY)*o}else switch(s){case Z.setup:m=Math.abs(u.data.scaleX)*re.signum(f),v=Math.abs(u.data.scaleY)*re.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=v+(h-v)*o;break;case Z.first:case Z.replace:m=Math.abs(u.scaleX)*re.signum(f),v=Math.abs(u.scaleY)*re.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=v+(h-v)*o;break;case Z.add:m=re.signum(f),v=re.signum(h),u.scaleX=Math.abs(u.scaleX)*m+(f-Math.abs(u.data.scaleX)*m)*o,u.scaleY=Math.abs(u.scaleY)*v+(h-Math.abs(u.data.scaleY)*v)*o}}}},e}(_f),k3=function(t){wn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Fi.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case Z.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=ei.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=f+(l[p+e.X]-f)*g,h=h+(l[p+e.Y]-h)*g}switch(s){case Z.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case Z.first:case Z.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case Z.add:u.shearX+=f*o,u.shearY+=h*o}}},e}(_f),Wv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fi.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color);return;case Z.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,g=0,m=0;if(i>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],g=u[v+e.PREV_B],m=u[v+e.PREV_A]}else{var _=ei.binarySearch(u,i,e.ENTRIES);p=u[_+e.PREV_R],d=u[_+e.PREV_G],g=u[_+e.PREV_B],m=u[_+e.PREV_A];var y=u[_],b=this.getCurvePercent(_/e.ENTRIES-1,1-(i-y)/(u[_+e.PREV_TIME]-y));p+=(u[_+e.R]-p)*b,d+=(u[_+e.G]-d)*b,g+=(u[_+e.B]-g)*b,m+=(u[_+e.A]-m)*b}if(o==1)l.color.set(p,d,g,m);else{var f=l.color;s==Z.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(g-f.b)*o,(m-f.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}($s),Yv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fi.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case Z.first:var f=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var g=0,m=0,v=0,_=0,y=0,b=0,w=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;g=u[E+e.PREV_R],m=u[E+e.PREV_G],v=u[E+e.PREV_B],_=u[E+e.PREV_A],y=u[E+e.PREV_R2],b=u[E+e.PREV_G2],w=u[E+e.PREV_B2]}else{var C=ei.binarySearch(u,i,e.ENTRIES);g=u[C+e.PREV_R],m=u[C+e.PREV_G],v=u[C+e.PREV_B],_=u[C+e.PREV_A],y=u[C+e.PREV_R2],b=u[C+e.PREV_G2],w=u[C+e.PREV_B2];var T=u[C],A=this.getCurvePercent(C/e.ENTRIES-1,1-(i-T)/(u[C+e.PREV_TIME]-T));g+=(u[C+e.R]-g)*A,m+=(u[C+e.G]-m)*A,v+=(u[C+e.B]-v)*A,_+=(u[C+e.A]-_)*A,y+=(u[C+e.R2]-y)*A,b+=(u[C+e.G2]-b)*A,w+=(u[C+e.B2]-w)*A}if(o==1)l.color.set(g,m,v,_),l.darkColor.set(y,b,w,1);else{var f=l.color,h=l.darkColor;s==Z.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((g-f.r)*o,(m-f.g)*o,(v-f.b)*o,(_-f.a)*o),h.add((y-h.r)*o,(b-h.g)*o,(w-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}($s),Xc=function(){function t(e){this.frames=xe.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Fi.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(c.bone.active){if(s==qt.mixOut){o==Z.setup&&this.setAttachment(e,c,c.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==Z.setup||o==Z.first)&&this.setAttachment(e,c,c.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=ei.binarySearch(l,n,1)-1;var f=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),uj=null,F3=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r),n.frameVertices=new Array(r),uj==null&&(uj=xe.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Fi.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof Pf)||u.deformAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=Z.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var g=u;switch(s){case Z.setup:f.length=0;return;case Z.first:if(o==1){f.length=0;break}var m=xe.setArraySize(f,p);if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++)m[_]+=(v[_]-m[_])*o;else{o=1-o;for(var _=0;_<p;_++)m[_]*=o}}return}var y=xe.setArraySize(f,p);if(i>=d[d.length-1]){var b=h[d.length-1];if(o==1)if(s==Z.add){var g=u;if(g.bones==null)for(var v=g.vertices,w=0;w<p;w++)y[w]+=b[w]-v[w];else for(var E=0;E<p;E++)y[E]+=b[E]}else xe.arrayCopy(b,0,y,0,p);else switch(s){case Z.setup:{var C=u;if(C.bones==null)for(var v=C.vertices,T=0;T<p;T++){var A=v[T];y[T]=A+(b[T]-A)*o}else for(var I=0;I<p;I++)y[I]=b[I]*o;break}case Z.first:case Z.replace:for(var O=0;O<p;O++)y[O]+=(b[O]-y[O])*o;break;case Z.add:var g=u;if(g.bones==null)for(var v=g.vertices,P=0;P<p;P++)y[P]+=(b[P]-v[P])*o;else for(var k=0;k<p;k++)y[k]+=b[k]*o}return}var F=ei.binarySearch(d,i),B=h[F-1],D=h[F],z=d[F],ee=this.getCurvePercent(F-1,1-(i-z)/(d[F-1]-z));if(o==1)if(s==Z.add){var g=u;if(g.bones==null)for(var v=g.vertices,te=0;te<p;te++){var Y=B[te];y[te]+=Y+(D[te]-Y)*ee-v[te]}else for(var U=0;U<p;U++){var Y=B[U];y[U]+=Y+(D[U]-Y)*ee}}else for(var X=0;X<p;X++){var Y=B[X];y[X]=Y+(D[X]-Y)*ee}else switch(s){case Z.setup:{var j=u;if(j.bones==null)for(var v=j.vertices,G=0;G<p;G++){var Y=B[G],A=v[G];y[G]=A+(Y+(D[G]-Y)*ee-A)*o}else for(var ne=0;ne<p;ne++){var Y=B[ne];y[ne]=(Y+(D[ne]-Y)*ee)*o}break}case Z.first:case Z.replace:for(var ae=0;ae<p;ae++){var Y=B[ae];y[ae]+=(Y+(D[ae]-Y)*ee-y[ae])*o}break;case Z.add:var g=u;if(g.bones==null)for(var v=g.vertices,pe=0;pe<p;pe++){var Y=B[pe];y[pe]+=(Y+(D[pe]-Y)*ee-v[pe])*o}else for(var se=0;se<p;se++){var Y=B[se];y[se]+=(Y+(D[se]-Y)*ee)*o}}}}},e}($s),$b=function(){function t(e){this.frames=xe.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Fi.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=ei.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),ad=function(){function t(e){this.frames=xe.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Fi.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==qt.mixOut&&o==Z.setup){xe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==Z.setup||o==Z.first)&&xe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=ei.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)xe.arrayCopy(l,0,c,0,l.length);else for(var p=0,d=h.length;p<d;p++)c[p]=l[h[p]]},t}(),qv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fi.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case Z.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==Z.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+e.PREV_SOFTNESS]-u.data.softness)*o,c==qt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+e.PREV_SOFTNESS]-u.softness)*o,c==qt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=ei.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],p=l[f+e.PREV_SOFTNESS],d=l[f],g=this.getCurvePercent(f/e.ENTRIES-1,1-(i-d)/(l[f+e.PREV_TIME]-d));s==Z.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*g-u.data.mix)*o,u.softness=u.data.softness+(p+(l[f+e.SOFTNESS]-p)*g-u.data.softness)*o,c==qt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*g-u.mix)*o,u.softness+=(p+(l[f+e.SOFTNESS]-p)*g-u.softness)*o,c==qt.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}($s),Kv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fi.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var f=u.data;switch(s){case Z.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case Z.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,g=0;if(i>=l[l.length-e.ENTRIES]){var m=l.length;h=l[m+e.PREV_ROTATE],p=l[m+e.PREV_TRANSLATE],d=l[m+e.PREV_SCALE],g=l[m+e.PREV_SHEAR]}else{var v=ei.binarySearch(l,i,e.ENTRIES);h=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],g=l[v+e.PREV_SHEAR];var _=l[v],y=this.getCurvePercent(v/e.ENTRIES-1,1-(i-_)/(l[v+e.PREV_TIME]-_));h+=(l[v+e.ROTATE]-h)*y,p+=(l[v+e.TRANSLATE]-p)*y,d+=(l[v+e.SCALE]-d)*y,g+=(l[v+e.SHEAR]-g)*y}if(s==Z.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(p-f.translateMix)*o,u.scaleMix=f.scaleMix+(d-f.scaleMix)*o,u.shearMix=f.shearMix+(g-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(g-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}($s),Rd=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fi.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.position=u.data.position;return;case Z.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=ei.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}($s),N3=function(t){wn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Fi.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.spacing=u.data.spacing;return;case Z.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=ei.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o}},e}(Rd),Zv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fi.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case Z.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=ei.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.ROTATE]-f)*g,h+=(l[p+e.TRANSLATE]-h)*g}s==Z.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}($s),eY=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new rY(this),this.propertyIDs=new YW,this.animationsChanged=!1,this.trackEntryPool=new Ub(function(){return new tY}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?Z.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||c==Z.add)for(var d=0;d<h;d++){xe.webkit602BugfixHelper(l,c);var g=p[d];g instanceof Xc?this.applyAttachmentTimeline(g,e,f,c,!0):g.apply(e,u,f,r,l,c,qt.mixIn)}else{var m=s.timelineMode,v=s.timelinesRotation.length==0;v&&xe.setArraySize(s.timelinesRotation,h<<1,null);for(var _=s.timelinesRotation,d=0;d<h;d++){var y=p[d],b=m[d]==t.SUBSEQUENT?c:Z.setup;y instanceof Qa?this.applyRotateTimeline(y,e,f,l,b,_,d<<1,v):y instanceof Xc?this.applyAttachmentTimeline(y,e,f,c,!0):(xe.webkit602BugfixHelper(l,c),y.apply(e,u,f,r,l,b,qt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var w=this.unkeyedState+t.SETUP,E=e.slots,C=0,T=e.slots.length;C<T;C++){var A=E[C];if(A.attachmentState==w){var I=A.data.attachmentName;A.setAttachment(I==null?null:e.getAttachment(A.data.index,I))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==Z.first&&(n=Z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=Z.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==Z.add)for(var g=0;g<f;g++)h[g].apply(r,l,u,o,d,n,qt.mixOut);else{var m=i.timelineMode,v=i.timelineHoldMix,_=i.timelinesRotation.length==0;_&&xe.setArraySize(i.timelinesRotation,f<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var g=0;g<f;g++){var b=h[g],w=qt.mixOut,E=void 0,C=0;switch(m[g]){case t.SUBSEQUENT:if(!c&&b instanceof ad)continue;E=n,C=d;break;case t.FIRST:E=Z.setup,C=d;break;case t.HOLD_SUBSEQUENT:E=n,C=p;break;case t.HOLD_FIRST:E=Z.setup,C=p;break;default:E=Z.setup;var T=v[g];C=p*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=C,b instanceof Qa?this.applyRotateTimeline(b,r,u,C,E,y,g<<1,_):b instanceof Xc?this.applyAttachmentTimeline(b,r,u,E,s):(xe.webkit602BugfixHelper(C,n),c&&b instanceof ad&&E==Z.setup&&(w=qt.mixIn),b.apply(r,l,u,o,C,E,w))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==Z.setup||i==Z.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var c;n>=s[s.length-1]?c=s.length-1:c=ei.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[c],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,qt.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex];if(f.active){var h=0,p=0;if(n<u[0])switch(a){case Z.setup:f.rotation=f.data.rotation;default:return;case Z.first:h=f.rotation,p=f.data.rotation}else if(h=a==Z.setup?f.data.rotation:f.rotation,n>=u[u.length-Qa.ENTRIES])p=f.data.rotation+u[u.length+Qa.PREV_ROTATION];else{var d=ei.binarySearch(u,n,Qa.ENTRIES),g=u[d+Qa.PREV_ROTATION],m=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-m)/(u[d+Qa.PREV_TIME]-m));p=u[d+Qa.ROTATION]-g,p-=(16384-(16384.499999999996-p/360|0))*360,p=g+p*v+f.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var _=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)_=o[s];else{var b=0,w=0;c?(b=0,w=y):(b=o[s],w=o[s+1]);var E=y>0,C=b>=0;re.signum(w)!=re.signum(y)&&Math.abs(w)<=90&&(Math.abs(b)>180&&(b+=360*re.signum(b)),C=E),_=y+b-b%360,C!=E&&(_+=360*re.signum(b)),o[s]=_}o[s+1]=y,h+=_*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(xe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=Z.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=Z.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=xe.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=xe.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.add(n[c].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyId();if(!s.add(u))a[c]=t.SUBSEQUENT;else if(r==null||l instanceof Xc||l instanceof ad||l instanceof $b||!r.animation.hasTimeline(u))a[c]=t.FIRST;else{for(var f=r.mixingTo;f!=null;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=f;continue e}break}a[c]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new ei("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),tY=function(){function t(){this.mixBlend=Z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),rY=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ya.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ya.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ya.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ya.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ya.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ya.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ya.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case ya.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case ya.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case ya.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case ya.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=re.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case ya.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),ya;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ya||(ya={}));var zGe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),nY=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),M3=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new P3(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new jb(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new ZW(r)},t.prototype.newPathAttachment=function(e,r){return new Xv(r)},t.prototype.newPointAttachment=function(e,r){return new QW(r)},t.prototype.newClippingAttachment=function(e,r){return new JW(r)},t}(),CR=function(){function t(e,r,n){if(this.matrix=new ln,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,p=n+90+s;l.a=re.cosDeg(n+o)*i*u,l.c=re.cosDeg(p)*a*u,l.b=re.sinDeg(n+o)*i*f,l.d=re.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,g=c.matrix.c,m=c.matrix.b,v=c.matrix.d;switch(l.tx=d*e+g*r+c.matrix.tx,l.ty=m*e+v*r+c.matrix.ty,this.data.transformMode){case $t.Normal:{var p=n+90+s,_=re.cosDeg(n+o)*i,y=re.cosDeg(p)*a,b=re.sinDeg(n+o)*i,w=re.sinDeg(p)*a;l.a=d*_+g*b,l.c=d*y+g*w,l.b=m*_+v*b,l.d=m*y+v*w;return}case $t.OnlyTranslation:{var p=n+90+s;l.a=re.cosDeg(n+o)*i,l.c=re.cosDeg(p)*a,l.b=re.sinDeg(n+o)*i,l.d=re.sinDeg(p)*a;break}case $t.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*v-g*m)/E,d/=this.skeleton.scaleX,m/=this.skeleton.scaleY,g=m*E,v=d*E,C=Math.atan2(m,d)*re.radDeg):(d=0,m=0,C=90-Math.atan2(v,g)*re.radDeg);var T=n+o-C,A=n+s-C+90,_=re.cosDeg(T)*i,y=re.cosDeg(A)*a,b=re.sinDeg(T)*i,w=re.sinDeg(A)*a;l.a=d*_-g*b,l.c=d*y-g*w,l.b=m*_+v*b,l.d=m*y+v*w;break}case $t.NoScale:case $t.NoScaleOrReflection:{var I=re.cosDeg(n),O=re.sinDeg(n),P=(d*I+g*O)/u,k=(m*I+v*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==$t.NoScale&&d*v-g*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var F=Math.PI/2+Math.atan2(k,P),B=Math.cos(F)*E,D=Math.sin(F)*E,_=re.cosDeg(o)*i,y=re.cosDeg(90+s)*a,b=re.sinDeg(o)*i,w=re.sinDeg(90+s)*a;l.a=P*_+B*b,l.c=P*y+B*w,l.b=k*_+D*b,l.d=k*y+D*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*re.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*re.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*re.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*re.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var g=f*d-h*p;this.ascaleY=g/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,g)*re.radDeg,this.arotation=Math.atan2(p,f)*re.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*re.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*re.radDeg},t.prototype.localToWorldRotation=function(e){var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*re.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=re.cosDeg(e),c=re.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),L3=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=$t.Normal,this.skinRequired=!1,this.color=new rt,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),Gb=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),B3=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),D3=function(){function t(e){this.name=e}return t}(),iY=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=c.a,u=c.c,f=c.b,h=c.d,p=-e.ashearX-e.arotation,d=0,g=0;switch(e.data.transformMode){case $t.OnlyTranslation:d=r-e.worldX,g=n-e.worldY;break;case $t.NoRotationOrReflection:var m=Math.abs(l*h-u*f)/(l*l+f*f),v=l/e.skeleton.scaleX,_=f/e.skeleton.scaleY;u=-_*m*e.skeleton.scaleX,h=v*m*e.skeleton.scaleY,p+=Math.atan2(_,v)*re.radDeg;default:var y=r-c.tx,b=n-c.ty,w=l*h-u*f;d=(y*h-b*u)/w-e.ax,g=(b*l-y*f)/w-e.ay}p+=Math.atan2(g,d)*re.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var E=e.ascaleX,C=e.ascaleY;if(i||a){switch(e.data.transformMode){case $t.NoScale:case $t.NoScaleOrReflection:d=r-e.worldX,g=n-e.worldY}var T=e.data.length*E,A=Math.sqrt(d*d+g*g);if(i&&A<T||a&&A>T&&T>1e-4){var m=(A/T-1)*s+1;E*=m,o&&(C*=m)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,E,C,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c){if(c==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,u=e.ay,f=e.ascaleX,h=f,p=e.ascaleY,d=r.ascaleX,g=e.matrix,m=0,v=0,_=0;f<0?(f=-f,m=180,_=-1):(m=0,_=1),p<0&&(p=-p,_=-_),d<0?(d=-d,v=180):v=0;var y=r.ax,b=0,w=0,E=0,C=g.a,T=g.c,A=g.b,I=g.d,O=Math.abs(f-p)<=1e-4;O?(b=r.ay,w=C*y+T*b+g.tx,E=A*y+I*b+g.ty):(b=0,w=C*y+g.tx,E=A*y+g.ty);var P=e.parent.matrix;C=P.a,T=P.c,A=P.b,I=P.d;var k=1/(C*I-T*A),F=w-P.tx,B=E-P.ty,D=(F*I-B*T)*k-l,z=(B*C-F*A)*k-u,ee=Math.sqrt(D*D+z*z),te=r.data.length*d,Y,U;if(ee<1e-4){this.apply1(e,n,i,!1,o,!1,c),r.updateWorldTransformWith(y,b,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}F=n-P.tx,B=i-P.ty;var X=(F*I-B*T)*k-l,j=(B*C-F*A)*k-u,G=X*X+j*j;if(s!=0){s*=f*(d+1)/2;var ne=Math.sqrt(G),ae=ne-ee-te*f+s;if(ae>0){var pe=Math.min(1,ae/(s*2))-1;pe=(ae-s*(1-pe*pe))/ne,X-=pe*X,j-=pe*j,G=X*X+j*j}}e:if(O){te*=f;var se=(G-ee*ee-te*te)/(2*ee*te);se<-1?se=-1:se>1&&(se=1,o&&(h*=(Math.sqrt(G)/(ee+te)-1)*c+1)),U=Math.acos(se)*a,C=ee+te*se,T=te*Math.sin(U),Y=Math.atan2(j*C-X*T,X*C+j*T)}else{C=f*te,T=p*te;var _e=C*C,Me=T*T,Pe=Math.atan2(j,X);A=Me*ee*ee+_e*G-_e*Me;var Ee=-2*Me*ee,Se=Me-_e;if(I=Ee*Ee-4*Se*A,I>=0){var Ge=Math.sqrt(I);Ee<0&&(Ge=-Ge),Ge=-(Ee+Ge)/2;var Ye=Ge/Se,Ve=A/Ge,Xe=Math.abs(Ye)<Math.abs(Ve)?Ye:Ve;if(Xe*Xe<=G){B=Math.sqrt(G-Xe*Xe)*a,Y=Pe-Math.atan2(B,Xe),U=Math.atan2(B/p,(Xe-ee)/f);break e}}var Ke=re.PI,wt=ee-C,Rt=wt*wt,ht=0,gt=0,It=ee+C,vr=It*It,tr=0;A=-C*ee/(_e-Me),A>=-1&&A<=1&&(A=Math.acos(A),F=C*Math.cos(A)+ee,B=T*Math.sin(A),I=F*F+B*B,I<Rt&&(Ke=A,Rt=I,wt=F,ht=B),I>vr&&(gt=A,vr=I,It=F,tr=B)),G<=(Rt+vr)/2?(Y=Pe-Math.atan2(ht*a,wt),U=Ke*a):(Y=Pe-Math.atan2(tr*a,It),U=gt*a)}var gr=Math.atan2(b,y)*_,Kt=e.arotation;Y=(Y-gr)*re.radDeg+m-Kt,Y>180?Y-=360:Y<-180&&(Y+=360),e.updateWorldTransformWith(l,u,Kt+Y*c,h,e.ascaleY,0,0),Kt=r.arotation,U=((U+gr)*re.radDeg-r.ashearX)*_+v-Kt,U>180?U-=360:U<-180&&(U+=360),r.updateWorldTransformWith(y,b,Kt+U*c,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),U3=function(t){wn(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(Gb),j3=function(t){wn(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(Gb),_i;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(_i||(_i={}));var aY=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Xv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==_i.Length,l=o.rotateMode,u=l==Dn.Tangent,f=l==Dn.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,g=xe.setArraySize(this.spaces,p),m=null,v=this.spacing;if(f||c){f&&(m=xe.setArraySize(this.lengths,h));for(var _=0,y=p-1;_<y;){var b=d[_],w=b.data.length;if(w<t.epsilon)f&&(m[_]=0),g[++_]=0;else{var E=w*b.matrix.a,C=w*b.matrix.b,T=Math.sqrt(E*E+C*C);f&&(m[_]=T),g[++_]=(c?w+v:v)*T/w}}}else for(var _=1;_<p;_++)g[_]=v;var A=this.computeWorldPositions(e,p,u,o.positionMode==_n.Percent,s==_i.Percent),I=A[0],O=A[1],P=o.offsetRotation,k=!1;if(P==0)k=l==Dn.Chain;else{k=!1;var F=this.target.bone.matrix;P*=F.a*F.d-F.b*F.c>0?re.degRad:-re.degRad}for(var _=0,F=3;_<h;_++,F+=3){var b=d[_],B=b.matrix;B.tx+=(I-B.tx)*n,B.ty+=(O-B.ty)*n;var E=A[F],C=A[F+1],D=E-I,z=C-O;if(f){var ee=m[_];if(ee!=0){var te=(Math.sqrt(D*D+z*z)/ee-1)*r+1;B.a*=te,B.b*=te}}if(I=E,O=C,a){var Y=B.a,U=B.c,X=B.b,j=B.d,G=0,ne=0,ae=0;if(u?G=A[F-1]:g[_+1]==0?G=A[F+2]:G=Math.atan2(z,D),G-=Math.atan2(X,Y),k){ne=Math.cos(G),ae=Math.sin(G);var pe=b.data.length;I+=(pe*(ne*Y-ae*X)-D)*r,O+=(pe*(ae*Y+ne*X)-z)*r}else G+=P;G>re.PI?G-=re.PI2:G<-re.PI&&(G+=re.PI2),G*=r,ne=Math.cos(G),ae=Math.sin(G),B.a=ne*Y-ae*X,B.c=ne*U-ae*j,B.b=ae*Y+ne*X,B.d=ae*U+ne*j}b.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=xe.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var g=e.lengths;p-=f?1:2;var m=g[p];if(i&&(s*=m),a)for(var v=0;v<r;v++)c[v]*=m;u=xe.setArraySize(this.world,8);for(var v=0,_=0,y=0;v<r;v++,_+=3){var b=c[v];s+=b;var w=s;if(f)w%=m,w<0&&(w+=m),y=0;else if(w<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(w,u,0,l,_);continue}else if(w>m){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(w-m,u,0,l,_);continue}for(;;y++){var E=g[y];if(!(w>E)){if(y==0)w/=E;else{var C=g[y-1];w=(w-C)/(E-C)}break}}y!=d&&(d=y,f&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(w,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,_,n||v>0&&b==0)}return l}f?(h+=2,u=xe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=xe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var T=xe.setArraySize(this.curves,p),A=0,I=u[0],O=u[1],P=0,k=0,F=0,B=0,D=0,z=0,ee=0,te=0,Y=0,U=0,X=0,j=0,G=0,ne=0,v=0,ae=2;v<p;v++,ae+=6)P=u[ae],k=u[ae+1],F=u[ae+2],B=u[ae+3],D=u[ae+4],z=u[ae+5],ee=(I-P*2+F)*.1875,te=(O-k*2+B)*.1875,Y=((P-F)*3-I+D)*.09375,U=((k-B)*3-O+z)*.09375,X=ee*2+Y,j=te*2+U,G=(P-I)*.75+ee+Y*.16666667,ne=(k-O)*.75+te+U*.16666667,A+=Math.sqrt(G*G+ne*ne),G+=X,ne+=j,X+=Y,j+=U,A+=Math.sqrt(G*G+ne*ne),G+=X,ne+=j,A+=Math.sqrt(G*G+ne*ne),G+=X+Y,ne+=j+U,A+=Math.sqrt(G*G+ne*ne),T[v]=A,I=D,O=z;if(i&&(s*=A),a)for(var v=0;v<r;v++)c[v]*=A;for(var pe=this.segments,se=0,v=0,_=0,y=0,_e=0;v<r;v++,_+=3){var b=c[v];s+=b;var w=s;if(f)w%=A,w<0&&(w+=A),y=0;else if(w<0){this.addBeforePosition(w,u,0,l,_);continue}else if(w>A){this.addAfterPosition(w-A,u,h-4,l,_);continue}for(;;y++){var Me=T[y];if(!(w>Me)){if(y==0)w/=Me;else{var C=T[y-1];w=(w-C)/(Me-C)}break}}if(y!=d){d=y;var Pe=y*6;for(I=u[Pe],O=u[Pe+1],P=u[Pe+2],k=u[Pe+3],F=u[Pe+4],B=u[Pe+5],D=u[Pe+6],z=u[Pe+7],ee=(I-P*2+F)*.03,te=(O-k*2+B)*.03,Y=((P-F)*3-I+D)*.006,U=((k-B)*3-O+z)*.006,X=ee*2+Y,j=te*2+U,G=(P-I)*.3+ee+Y*.16666667,ne=(k-O)*.3+te+U*.16666667,se=Math.sqrt(G*G+ne*ne),pe[0]=se,Pe=1;Pe<8;Pe++)G+=X,ne+=j,X+=Y,j+=U,se+=Math.sqrt(G*G+ne*ne),pe[Pe]=se;G+=X,ne+=j,se+=Math.sqrt(G*G+ne*ne),pe[8]=se,G+=X+Y,ne+=j+U,se+=Math.sqrt(G*G+ne*ne),pe[9]=se,_e=0}for(w*=se;;_e++){var Ee=pe[_e];if(!(w>Ee)){if(_e==0)w/=Ee;else{var C=pe[_e-1];w=_e+(w-C)/(Ee-C)}break}}this.addCurvePosition(w*.1,I,O,P,k,F,B,D,z,l,_,n||v>0&&b==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,g=1-e,m=g*g,v=m*g,_=g*e,y=_*3,b=g*y,w=y*e,E=r*v+i*b+o*w+c*d,C=n*v+a*b+s*w+l*d;u[f]=E,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),oY=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new zv,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?re.degRad:-re.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,g=0,m=d.length;g<m;g++){var v=d[g],_=!1,y=v.matrix;if(e!=0){var b=y.a,w=y.c,E=y.b,C=y.d,T=Math.atan2(l,s)-Math.atan2(E,b)+h;T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T*=e;var A=Math.cos(T),I=Math.sin(T);y.a=A*b-I*E,y.c=A*w-I*C,y.b=I*b+A*E,y.d=I*w+A*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=(O.x-y.tx)*r,y.ty+=(O.y-y.ty)*r,_=!0}if(n>0){var P=Math.sqrt(y.a*y.a+y.b*y.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),y.a*=P,y.b*=P,P=Math.sqrt(y.c*y.c+y.d*y.d),k=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),y.c*=P,y.d*=P,_=!0}if(i>0){var w=y.c,C=y.d,F=Math.atan2(C,w),T=Math.atan2(u,c)-Math.atan2(l,s)-(F-Math.atan2(y.b,y.a));T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T=F+(T+p)*i;var P=Math.sqrt(w*w+C*C);y.c=Math.cos(T)*P,y.d=Math.sin(T)*P,_=!0}_&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?re.degRad:-re.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,g=0,m=d.length;g<m;g++){var v=d[g],_=!1,y=v.matrix;if(e!=0){var b=y.a,w=y.c,E=y.b,C=y.d,T=Math.atan2(l,s)+h;T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T*=e;var A=Math.cos(T),I=Math.sin(T);y.a=A*b-I*E,y.c=A*w-I*C,y.b=I*b+A*E,y.d=I*w+A*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=O.x*r,y.ty+=O.y*r,_=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=P,y.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=P,y.d*=P,_=!0}if(i>0){var T=Math.atan2(u,c)-Math.atan2(l,s);T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2);var w=y.c,C=y.d;T=Math.atan2(C,w)+(T-re.PI/2+p)*i;var P=Math.sqrt(w*w+C*C);y.c=Math.cos(T)*P,y.d=Math.sin(T)*P,_=!0}_&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,g=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),g>1e-5&&(g=(g+(a.ascaleY-g+this.data.offsetScaleY)*n)/g));var m=l.ashearY;if(i>0){var f=a.ashearY-m+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,p,u,d,g,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var g=l.ashearY;i>0&&(g+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,p,d,l.ashearX,g)}},t}(),sY=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new CR(n,this,null);else{var a=this.bones[n.parent.index];i=new CR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new R3(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new iY(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new oY(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new aY(u,this))}this.color=new rt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,p=u+f+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var g=s[d];if(g.data.order==n){this.sortIkConstraint(g);continue e}}for(var d=0;d<f;d++){var g=c[d];if(g.data.order==n){this.sortTransformConstraint(g);continue e}}for(var d=0;d<h;d++){var g=l[d];if(g.data.order==n){this.sortPathConstraint(g);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Xv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Xv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;xe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof P3)h=8,p=xe.setArraySize(n,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof jb){var g=d;h=g.worldVerticesLength,p=xe.setArraySize(n,h,0),g.computeWorldVertices(f,0,h,p,0,2)}if(p!=null)for(var m=0,v=p.length;m<v;m+=2){var _=p[m],y=p[m+1];a=Math.min(a,_),o=Math.min(o,y),s=Math.max(s,_),c=Math.max(c,y)}}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),$3=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),G3=function(){function t(e,r,n){if(this.color=new rt(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),V3=function(t){wn(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(Gb),TR=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Ox=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment!=null&&(c.attachment instanceof jb?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new TR(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new TR(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),lY=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new $3;n.name="";var i=new Px(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var c=0;c<s;c++)i.strings.push(i.readString());s=i.readInt(!0);for(var c=0;c<s;c++){var l=i.readString(),u=c==0?null:n.bones[i.readInt(!0)],f=new L3(c,l,u);f.rotation=i.readFloat(),f.x=i.readFloat()*r,f.y=i.readFloat()*r,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*r,f.transformMode=t.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&rt.rgba8888ToColor(f.color,i.readInt32()),n.bones.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++){var h=i.readString(),p=n.bones[i.readInt(!0)],f=new G3(c,h,p);rt.rgba8888ToColor(f.color,i.readInt32());var d=i.readInt32();d!=-1&&rt.rgb888ToColor(f.darkColor=new rt,d),f.attachmentName=i.readStringRef(),f.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(f)}s=i.readInt(!0);for(var c=0,g=void 0;c<s;c++){var f=new U3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),g=i.readInt(!0);for(var m=0;m<g;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*r,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),n.ikConstraints.push(f)}s=i.readInt(!0);for(var c=0,g=void 0;c<s;c++){var f=new V3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),g=i.readInt(!0);for(var m=0;m<g;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*r,f.offsetY=i.readFloat()*r,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),n.transformConstraints.push(f)}s=i.readInt(!0);for(var c=0,g=void 0;c<s;c++){var f=new j3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),g=i.readInt(!0);for(var m=0;m<g;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.slots[i.readInt(!0)],f.positionMode=t.PositionModeValues[i.readInt(!0)],f.spacingMode=t.SpacingModeValues[i.readInt(!0)],f.rotateMode=t.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==_n.Fixed&&(f.position*=r),f.spacing=i.readFloat(),(f.spacingMode==_i.Length||f.spacingMode==_i.Fixed)&&(f.spacing*=r),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),n.pathConstraints.push(f)}var v=this.readSkin(i,n,!0,o);v!=null&&(n.defaultSkin=v,n.skins.push(v));{var c=n.skins.length;for(xe.setArraySize(n.skins,s=c+i.readInt(!0));c<s;c++)n.skins[c]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var c=0;c<s;c++){var _=this.linkedMeshes[c],y=_.skin==null?n.defaultSkin:n.findSkin(_.skin);if(y==null)throw new Error("Skin not found: "+_.skin);var b=y.getAttachment(_.slotIndex,_.parent);if(b==null)throw new Error("Parent mesh not found: "+_.parent);_.mesh.deformAttachment=_.inheritDeform?b:_.mesh,_.mesh.setParentMesh(b)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var c=0;c<s;c++){var f=new D3(i.readStringRef());f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath!=null&&(f.volume=i.readFloat(),f.balance=i.readFloat()),n.events.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Ox("default")}else{a=new Ox(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,c=a.bones.length;s<c;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),u=0,f=e.readInt(!0);u<f;u++){var h=e.readStringRef(),p=this.readAttachment(e,r,a,l,h,i);p!=null&&a.setAttachment(l,h,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();c==null&&(c=a);var l=e.readByte(),u=t.AttachmentTypeValues[l];switch(u){case Qt.Region:{var f=e.readStringRef(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),g=e.readFloat(),m=e.readFloat(),v=e.readFloat(),_=e.readFloat(),y=e.readInt32();f==null&&(f=c);var b=this.attachmentLoader.newRegionAttachment(n,c,f);return b==null?null:(b.path=f,b.x=p*s,b.y=d*s,b.scaleX=g,b.scaleY=m,b.rotation=h,b.width=v*s,b.height=_*s,rt.rgba8888ToColor(b.color,y),b)}case Qt.BoundingBox:{var w=e.readInt(!0),E=this.readVertices(e,w),y=o?e.readInt32():0,C=this.attachmentLoader.newBoundingBoxAttachment(n,c);return C==null?null:(C.worldVerticesLength=w<<1,C.vertices=E.vertices,C.bones=E.bones,o&&rt.rgba8888ToColor(C.color,y),C)}case Qt.Mesh:{var f=e.readStringRef(),y=e.readInt32(),w=e.readInt(!0),T=this.readFloatArray(e,w<<1,1),A=this.readShortArray(e),E=this.readVertices(e,w),I=e.readInt(!0),O=null,v=0,_=0;o&&(O=this.readShortArray(e),v=e.readFloat(),_=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,rt.rgba8888ToColor(P.color,y),P.bones=E.bones,P.vertices=E.vertices,P.worldVerticesLength=w<<1,P.triangles=A,P.regionUVs=new Float32Array(T),P.hullLength=I<<1,o&&(P.edges=O,P.width=v*s,P.height=_*s),P)}case Qt.LinkedMesh:{var f=e.readStringRef(),y=e.readInt32(),k=e.readStringRef(),F=e.readStringRef(),B=e.readBoolean(),v=0,_=0;o&&(v=e.readFloat(),_=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,rt.rgba8888ToColor(P.color,y),o&&(P.width=v*s,P.height=_*s),this.linkedMeshes.push(new XGe(P,k,i,F,B)),P)}case Qt.Path:{for(var D=e.readBoolean(),z=e.readBoolean(),w=e.readInt(!0),E=this.readVertices(e,w),ee=xe.newArray(w/3,0),te=0,Y=ee.length;te<Y;te++)ee[te]=e.readFloat()*s;var y=o?e.readInt32():0,f=this.attachmentLoader.newPathAttachment(n,c);return f==null?null:(f.closed=D,f.constantSpeed=z,f.worldVerticesLength=w<<1,f.vertices=E.vertices,f.bones=E.bones,f.lengths=ee,o&&rt.rgba8888ToColor(f.color,y),f)}case Qt.Point:{var h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),y=o?e.readInt32():0,U=this.attachmentLoader.newPointAttachment(n,c);return U==null?null:(U.x=p*s,U.y=d*s,U.rotation=h,o&&rt.rgba8888ToColor(U.color,y),U)}case Qt.Clipping:{var X=e.readInt(!0),w=e.readInt(!0),E=this.readVertices(e,w),y=o?e.readInt32():0,j=this.attachmentLoader.newClippingAttachment(n,c);return j==null?null:(j.endSlot=r.slots[X],j.worldVerticesLength=w<<1,j.vertices=E.vertices,j.bones=E.bones,o&&rt.rgba8888ToColor(j.color,y),j)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new WGe,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=xe.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new rt,c=new rt,l=0,u=e.readInt(!0);l<u;l++)for(var f=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),g=e.readInt(!0);switch(d){case t.SLOT_ATTACHMENT:{var m=new Xc(g);m.slotIndex=f;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readStringRef());i.push(m),o=Math.max(o,m.frames[g-1]);break}case t.SLOT_COLOR:{var m=new Wv(g);m.slotIndex=f;for(var v=0;v<g;v++){var _=e.readFloat();rt.rgba8888ToColor(s,e.readInt32()),m.setFrame(v,_,s.r,s.g,s.b,s.a),v<g-1&&this.readCurve(e,v,m)}i.push(m),o=Math.max(o,m.frames[(g-1)*Wv.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var m=new Yv(g);m.slotIndex=f;for(var v=0;v<g;v++){var _=e.readFloat();rt.rgba8888ToColor(s,e.readInt32()),rt.rgb888ToColor(c,e.readInt32()),m.setFrame(v,_,s.r,s.g,s.b,s.a,c.r,c.g,c.b),v<g-1&&this.readCurve(e,v,m)}i.push(m),o=Math.max(o,m.frames[(g-1)*Yv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var y=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),g=e.readInt(!0);switch(d){case t.BONE_ROTATE:{var m=new Qa(g);m.boneIndex=y;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat()),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*Qa.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var m=void 0,b=1;d==t.BONE_SCALE?m=new O3(g):d==t.BONE_SHEAR?m=new k3(g):(m=new _f(g),b=a),m.boneIndex=y;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat()*b,e.readFloat()*b),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*_f.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++){var w=e.readInt(!0),g=e.readInt(!0),m=new qv(g);m.ikConstraintIndex=w;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*qv.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++){var w=e.readInt(!0),g=e.readInt(!0),m=new Kv(g);m.transformConstraintIndex=w;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*Kv.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++)for(var w=e.readInt(!0),E=n.pathConstraints[w],h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),g=e.readInt(!0);switch(d){case t.PATH_POSITION:case t.PATH_SPACING:{var m=void 0,b=1;d==t.PATH_SPACING?(m=new N3(g),(E.spacingMode==_i.Length||E.spacingMode==_i.Fixed)&&(b=a)):(m=new Rd(g),E.positionMode==_n.Fixed&&(b=a)),m.pathConstraintIndex=w;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat()*b),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*Rd.ENTRIES]);break}case t.PATH_MIX:{var m=new Zv(g);m.pathConstraintIndex=w;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat()),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*Zv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var C=n.skins[e.readInt(!0)],h=0,p=e.readInt(!0);h<p;h++)for(var f=e.readInt(!0),T=0,A=e.readInt(!0);T<A;T++){var I=C.getAttachment(f,e.readStringRef()),O=I.bones!=null,P=I.vertices,k=O?P.length/3*2:P.length,g=e.readInt(!0),m=new F3(g);m.slotIndex=f,m.attachment=I;for(var v=0;v<g;v++){var _=e.readFloat(),F=void 0,B=e.readInt(!0);if(B==0)F=O?xe.newFloatArray(k):P;else{F=xe.newFloatArray(k);var D=e.readInt(!0);if(B+=D,a==1)for(var z=D;z<B;z++)F[z]=e.readFloat();else for(var z=D;z<B;z++)F[z]=e.readFloat()*a;if(!O)for(var z=0,ee=F.length;z<ee;z++)F[z]+=P[z]}m.setFrame(v,_,F),v<g-1&&this.readCurve(e,v,m)}i.push(m),o=Math.max(o,m.frames[g-1])}var te=e.readInt(!0);if(te>0){for(var m=new ad(te),Y=n.slots.length,l=0;l<te;l++){for(var _=e.readFloat(),U=e.readInt(!0),X=xe.newArray(Y,0),h=Y-1;h>=0;h--)X[h]=-1;for(var j=xe.newArray(Y-U,0),G=0,ne=0,h=0;h<U;h++){for(var f=e.readInt(!0);G!=f;)j[ne++]=G++;X[G+e.readInt(!0)]=G++}for(;G<Y;)j[ne++]=G++;for(var h=Y-1;h>=0;h--)X[h]==-1&&(X[h]=j[--ne]);m.setFrame(l,_,X)}i.push(m),o=Math.max(o,m.frames[te-1])}var ae=e.readInt(!0);if(ae>0){for(var m=new $b(ae),l=0;l<ae;l++){var _=e.readFloat(),pe=n.events[e.readInt(!0)],se=new B3(_,pe);se.intValue=e.readInt(!1),se.floatValue=e.readFloat(),se.stringValue=e.readBoolean()?e.readString():pe.stringValue,se.data.audioPath!=null&&(se.volume=e.readFloat(),se.balance=e.readFloat()),m.setFrame(l,se)}i.push(m),o=Math.max(o,m.frames[ae-1])}return new ei(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[$t.Normal,$t.OnlyTranslation,$t.NoRotationOrReflection,$t.NoScale,$t.NoScaleOrReflection],t.PositionModeValues=[_n.Fixed,_n.Percent],t.SpacingModeValues=[_i.Length,_i.Fixed,_i.Percent],t.RotateModeValues=[Dn.Tangent,Dn.Chain,Dn.ChainScale],t.BlendModeValues=[ct.NORMAL,ct.ADD,ct.MULTIPLY,ct.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),XGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),WGe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),YGe=function(t){wn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(A3),uY=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new $3,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var c=i.bones[s],l=null,u=this.getValue(c,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var f=new L3(n.bones.length,c.name,l);f.length=this.getValue(c,"length",0)*r,f.x=this.getValue(c,"x",0)*r,f.y=this.getValue(c,"y",0)*r,f.rotation=this.getValue(c,"rotation",0),f.scaleX=this.getValue(c,"scaleX",1),f.scaleY=this.getValue(c,"scaleY",1),f.shearX=this.getValue(c,"shearX",0),f.shearY=this.getValue(c,"shearY",0),f.transformMode=t.transformModeFromString(this.getValue(c,"transform","normal")),f.skinRequired=this.getValue(c,"skin",!1),n.bones.push(f)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],p=h.name,d=h.bone,g=n.findBone(d);if(g==null)throw new Error("Slot bone not found: "+d);var f=new G3(n.slots.length,p,g),m=this.getValue(h,"color",null);m!=null&&f.color.setFromString(m);var v=this.getValue(h,"dark",null);v!=null&&(f.darkColor=new rt(1,1,1,1),f.darkColor.setFromString(v)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(f)}if(i.ik)for(var s=0;s<i.ik.length;s++){var _=i.ik[s],f=new U3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var y=0;y<_.bones.length;y++){var d=_.bones[y],b=n.findBone(d);if(b==null)throw new Error("IK bone not found: "+d);f.bones.push(b)}var w=_.target;if(f.target=n.findBone(w),f.target==null)throw new Error("IK target bone not found: "+w);f.mix=this.getValue(_,"mix",1),f.softness=this.getValue(_,"softness",0)*r,f.bendDirection=this.getValue(_,"bendPositive",!0)?1:-1,f.compress=this.getValue(_,"compress",!1),f.stretch=this.getValue(_,"stretch",!1),f.uniform=this.getValue(_,"uniform",!1),n.ikConstraints.push(f)}if(i.transform)for(var s=0;s<i.transform.length;s++){var _=i.transform[s],f=new V3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var y=0;y<_.bones.length;y++){var d=_.bones[y],b=n.findBone(d);if(b==null)throw new Error("Transform constraint bone not found: "+d);f.bones.push(b)}var w=_.target;if(f.target=n.findBone(w),f.target==null)throw new Error("Transform constraint target bone not found: "+w);f.local=this.getValue(_,"local",!1),f.relative=this.getValue(_,"relative",!1),f.offsetRotation=this.getValue(_,"rotation",0),f.offsetX=this.getValue(_,"x",0)*r,f.offsetY=this.getValue(_,"y",0)*r,f.offsetScaleX=this.getValue(_,"scaleX",0),f.offsetScaleY=this.getValue(_,"scaleY",0),f.offsetShearY=this.getValue(_,"shearY",0),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),f.scaleMix=this.getValue(_,"scaleMix",1),f.shearMix=this.getValue(_,"shearMix",1),n.transformConstraints.push(f)}if(i.path)for(var s=0;s<i.path.length;s++){var _=i.path[s],f=new j3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var y=0;y<_.bones.length;y++){var d=_.bones[y],b=n.findBone(d);if(b==null)throw new Error("Transform constraint bone not found: "+d);f.bones.push(b)}var w=_.target;if(f.target=n.findSlot(w),f.target==null)throw new Error("Path target slot not found: "+w);f.positionMode=t.positionModeFromString(this.getValue(_,"positionMode","percent")),f.spacingMode=t.spacingModeFromString(this.getValue(_,"spacingMode","length")),f.rotateMode=t.rotateModeFromString(this.getValue(_,"rotateMode","tangent")),f.offsetRotation=this.getValue(_,"rotation",0),f.position=this.getValue(_,"position",0),f.positionMode==_n.Fixed&&(f.position*=r),f.spacing=this.getValue(_,"spacing",0),(f.spacingMode==_i.Length||f.spacingMode==_i.Fixed)&&(f.spacing*=r),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),n.pathConstraints.push(f)}if(i.skins)for(var s=0;s<i.skins.length;s++){var E=i.skins[s],C=new Ox(E.name);if(E.bones)for(var T=0;T<E.bones.length;T++){var b=n.findBone(E.bones[T]);if(b==null)throw new Error("Skin bone not found: "+E.bones[s]);C.bones.push(b)}if(E.ik)for(var T=0;T<E.ik.length;T++){var A=n.findIkConstraint(E.ik[T]);if(A==null)throw new Error("Skin IK constraint not found: "+E.ik[s]);C.constraints.push(A)}if(E.transform)for(var T=0;T<E.transform.length;T++){var A=n.findTransformConstraint(E.transform[T]);if(A==null)throw new Error("Skin transform constraint not found: "+E.transform[s]);C.constraints.push(A)}if(E.path)for(var T=0;T<E.path.length;T++){var A=n.findPathConstraint(E.path[T]);if(A==null)throw new Error("Skin path constraint not found: "+E.path[s]);C.constraints.push(A)}for(var p in E.attachments){var I=n.findSlot(p);if(I==null)throw new Error("Slot not found: "+p);var h=E.attachments[p];for(var O in h){var P=this.readAttachment(h[O],C,I.index,O,n);P!=null&&C.setAttachment(I.index,O,P)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var s=0,k=this.linkedMeshes.length;s<k;s++){var F=this.linkedMeshes[s],C=F.skin==null?n.defaultSkin:n.findSkin(F.skin);if(C==null)throw new Error("Skin not found: "+F.skin);var B=C.getAttachment(F.slotIndex,F.parent);if(B==null)throw new Error("Parent mesh not found: "+F.parent);F.mesh.deformAttachment=F.inheritDeform?B:F.mesh,F.mesh.setParentMesh(B)}if(this.linkedMeshes.length=0,i.events)for(var D in i.events){var z=i.events[D],f=new D3(D);f.intValue=this.getValue(z,"int",0),f.floatValue=this.getValue(z,"float",0),f.stringValue=this.getValue(z,"string",""),f.audioPath=this.getValue(z,"audio",null),f.audioPath!=null&&(f.volume=this.getValue(z,"volume",1),f.balance=this.getValue(z,"balance",0)),n.events.push(f)}if(i.animations)for(var ee in i.animations){var te=i.animations[ee];this.readAnimation(te,ee,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var p=this.getValue(e,"parent",null);if(p!=null)return this.linkedMeshes.push(new qGe(h,this.getValue(e,"skin",null),n,p,this.getValue(e,"deform",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var g=e.vertexCount;this.readVertices(e,c,g<<1);for(var m=xe.newArray(g/3,0),v=0;v<e.lengths.length;v++)m[v]=e.lengths[v]*o;c.lengths=m;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(_==null)return null;_.x=this.getValue(e,"x",0)*o,_.y=this.getValue(e,"y",0)*o,_.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&_.color.setFromString(u),_}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var b=this.getValue(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);y.endSlot=w}var g=e.vertexCount;this.readVertices(e,y,g<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=xe.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=xe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new Xc(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p++,this.getValue(g,"time",0),g.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new Wv(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d],m=new rt;m.setFromString(g.color||"ffffffff"),h.setFrame(p,this.getValue(g,"time",0),m.r,m.g,m.b,m.a),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Wv.ENTRIES])}else if(u=="twoColor"){var h=new Yv(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d],v=new rt,_=new rt;v.setFromString(g.light),_.setFromString(g.dark),h.setFrame(p,this.getValue(g,"time",0),v.r,v.g,v.b,v.a,_.r,_.g,_.b),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Yv.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var b=e.bones[y],w=n.findBoneIndex(y);if(w==-1)throw new Error("Bone not found: "+y);for(var u in b){var f=b[u];if(u==="rotate"){var h=new Qa(f.length);h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,this.getValue(g,"time",0),this.getValue(g,"angle",0)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Qa.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1,C=0;u==="scale"?(h=new O3(f.length),C=1):u==="shear"?h=new k3(f.length):(h=new _f(f.length),E=i),h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var g=f[d],T=this.getValue(g,"x",C),A=this.getValue(g,"y",C);h.setFrame(p,this.getValue(g,"time",0),T*E,A*E),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*_f.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var I in e.ik){var O=e.ik[I],P=n.findIkConstraint(I),h=new qv(O.length);h.ikConstraintIndex=n.ikConstraints.indexOf(P);for(var p=0,d=0;d<O.length;d++){var g=O[d];h.setFrame(p,this.getValue(g,"time",0),this.getValue(g,"mix",1),this.getValue(g,"softness",0)*i,this.getValue(g,"bendPositive",!0)?1:-1,this.getValue(g,"compress",!1),this.getValue(g,"stretch",!1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*qv.ENTRIES])}if(e.transform)for(var I in e.transform){var O=e.transform[I],P=n.findTransformConstraint(I),h=new Kv(O.length);h.transformConstraintIndex=n.transformConstraints.indexOf(P);for(var p=0,d=0;d<O.length;d++){var g=O[d];h.setFrame(p,this.getValue(g,"time",0),this.getValue(g,"rotateMix",1),this.getValue(g,"translateMix",1),this.getValue(g,"scaleMix",1),this.getValue(g,"shearMix",1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Kv.ENTRIES])}if(e.path)for(var I in e.path){var O=e.path[I],k=n.findPathConstraintIndex(I);if(k==-1)throw new Error("Path constraint not found: "+I);var F=n.pathConstraints[k];for(var u in O){var f=O[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new N3(f.length),(F.spacingMode==_i.Length||F.spacingMode==_i.Fixed)&&(E=i)):(h=new Rd(f.length),F.positionMode==_n.Fixed&&(E=i)),h.pathConstraintIndex=k;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,this.getValue(g,"time",0),this.getValue(g,u,0)*E),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Rd.ENTRIES])}else if(u==="mix"){var h=new Zv(f.length);h.pathConstraintIndex=k;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,this.getValue(g,"time",0),this.getValue(g,"rotateMix",1),this.getValue(g,"translateMix",1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Zv.ENTRIES])}}}if(e.deform)for(var B in e.deform){var D=e.deform[B],z=n.findSkin(B);if(z!=null)for(var s in D){var c=D[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],ee=z.getAttachment(l,u);if(ee==null)throw new Error("Deform attachment not found: "+f.name);var te=ee.bones!=null,Y=ee.vertices,U=te?Y.length/3*2:Y.length,h=new F3(f.length);h.slotIndex=l,h.attachment=ee;for(var p=0,X=0;X<f.length;X++){var g=f[X],j=void 0,G=this.getValue(g,"vertices",null);if(G==null)j=te?xe.newFloatArray(U):Y;else{j=xe.newFloatArray(U);var ne=this.getValue(g,"offset",0);if(xe.arrayCopy(G,0,j,ne,G.length),i!=1)for(var d=ne,ae=d+G.length;d<ae;d++)j[d]*=i;if(!te)for(var d=0;d<U;d++)j[d]+=Y[d]}h.setFrame(p,this.getValue(g,"time",0),j),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var pe=e.drawOrder;if(pe==null&&(pe=e.draworder),pe!=null){for(var h=new ad(pe.length),se=n.slots.length,p=0,X=0;X<pe.length;X++){var _e=pe[X],Me=null,Pe=this.getValue(_e,"offsets",null);if(Pe!=null){Me=xe.newArray(se,-1);for(var Ee=xe.newArray(se-Pe.length,0),Se=0,Ge=0,d=0;d<Pe.length;d++){var Ye=Pe[d],l=n.findSlotIndex(Ye.slot);if(l==-1)throw new Error("Slot not found: "+Ye.slot);for(;Se!=l;)Ee[Ge++]=Se++;Me[Se+Ye.offset]=Se++}for(;Se<se;)Ee[Ge++]=Se++;for(var d=se-1;d>=0;d--)Me[d]==-1&&(Me[d]=Ee[--Ge])}h.setFrame(p++,this.getValue(_e,"time",0),Me)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new $b(e.events.length),p=0,d=0;d<e.events.length;d++){var Ve=e.events[d],Xe=n.findEvent(Ve.name);if(Xe==null)throw new Error("Event not found: "+Ve.name);var Ke=new B3(xe.toSinglePrecision(this.getValue(Ve,"time",0)),Xe);Ke.intValue=this.getValue(Ve,"int",Xe.intValue),Ke.floatValue=this.getValue(Ve,"float",Xe.floatValue),Ke.stringValue=this.getValue(Ve,"string",Xe.stringValue),Ke.data.audioPath!=null&&(Ke.volume=this.getValue(Ve,"volume",1),Ke.balance=this.getValue(Ve,"balance",0)),h.setFrame(p++,Ke)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new ei(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ct.NORMAL;if(e=="additive")return ct.ADD;if(e=="multiply")return ct.MULTIPLY;if(e=="screen")return ct.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return _n.Fixed;if(e=="percent")return _n.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return _i.Length;if(e=="fixed")return _i.Fixed;if(e=="percent")return _i.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return Dn.Tangent;if(e=="chain")return Dn.Chain;if(e=="chainscale")return Dn.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return $t.Normal;if(e=="onlytranslation")return $t.OnlyTranslation;if(e=="norotationorreflection")return $t.NoRotationOrReflection;if(e=="noscale")return $t.NoScale;if(e=="noscaleorreflection")return $t.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),qGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),KGe=function(t){wn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new sY(r),this.skeleton.updateWorldTransform(),this.stateData=new nY(r),this.state=new eY(this.stateData)},e}(Fg);const ZGe=Object.freeze(Object.defineProperty({__proto__:null,Animation:ei,AnimationState:eY,AnimationStateAdapter:zGe,AnimationStateData:nY,AtlasAttachmentLoader:M3,Attachment:I3,AttachmentTimeline:Xc,Bone:CR,BoneData:L3,BoundingBoxAttachment:ZW,ClippingAttachment:JW,ColorTimeline:Wv,ConstraintData:Gb,CurveTimeline:$s,DeformTimeline:F3,DrawOrderTimeline:ad,Event:B3,EventData:D3,EventQueue:rY,EventTimeline:$b,get EventType(){return ya},IkConstraint:iY,IkConstraintData:U3,IkConstraintTimeline:qv,JitterEffect:VGe,MeshAttachment:jb,PathAttachment:Xv,PathConstraint:aY,PathConstraintData:j3,PathConstraintMixTimeline:Zv,PathConstraintPositionTimeline:Rd,PathConstraintSpacingTimeline:N3,PointAttachment:QW,RegionAttachment:P3,RotateTimeline:Qa,ScaleTimeline:O3,ShearTimeline:k3,Skeleton:sY,SkeletonBinary:lY,SkeletonBounds:YGe,SkeletonData:$3,SkeletonJson:uY,Skin:Ox,SkinEntry:TR,Slot:R3,SlotData:G3,get SpacingMode(){return _i},Spine:KGe,SwirlEffect:HGe,get TimelineType(){return Fi},TrackEntry:tY,TransformConstraint:oY,TransformConstraintData:V3,TransformConstraintTimeline:Kv,TranslateTimeline:_f,TwoColorTimeline:Yv,VertexAttachment:Pf},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AR=function(t,e){return AR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},AR(t,e)};function ri(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");AR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var H3=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Of=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.attachmentVertices,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,g=h.a,m=h.c,v=h.b,_=h.d,y=n,b=o;b<i;y+=2,b+=s){var w=u[y],E=u[y+1];a[b]=w*g+E*m+p,a[b+1]=w*v+E*_+d}return}for(var C=0,T=0,A=0;A<n;A+=2){var I=f[C];C+=I+1,T+=I}var O=c.bones;if(l.length==0)for(var b=o,m=T*3;b<i;b+=s){var P=0,k=0,I=f[C++];for(I+=C;C<I;C++,m+=3){var h=O[f[C]].matrix,w=u[m],E=u[m+1],F=u[m+2];P+=(w*h.a+E*h.c+h.tx)*F,k+=(w*h.b+E*h.d+h.ty)*F}a[b]=P,a[b+1]=k}else for(var B=l,b=o,m=T*3,D=T<<1;b<i;b+=s){var P=0,k=0,I=f[C++];for(I+=C;C<I;C++,m+=3,D+=2){var h=O[f[C]].matrix,w=u[m]+B[D],E=u[m+1]+B[D+1],F=u[m+2];P+=(w*h.a+E*h.c+h.tx)*F,k+=(w*h.b+E*h.d+h.ty)*F}a[b]=P,a[b+1]=k}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(H3),cY=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.BoundingBox,n.color=new rt(1,1,1,1),n}return e}(Of),fY=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Clipping,n.color=new rt(.2275,.2275,.8078,1),n}return e}(Of),z3=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Mesh,n.color=new rt(1,1,1,1),n.inheritDeform=!1,n.tempColor=new rt(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(Of),Jv=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new rt(1,1,1,1),n}return e}(Of),hY=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Point,n.color=new rt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=re.cosDeg(this.rotation),a=re.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*re.radDeg},e}(Of),X3=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new rt,this.darkColor=e.darkColor==null?null:new rt,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),W3=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new rt(1,1,1,1),n.offset=xe.newFloatArray(8),n.uvs=xe.newFloatArray(8),n.tempColor=new rt(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,g=o*l+this.x,m=o*u,v=s*l+this.y,_=s*u,y=this.offset;y[e.OX1]=f-d,y[e.OY1]=p+h,y[e.OX2]=f-_,y[e.OY2]=v+h,y[e.OX3]=g-_,y[e.OY3]=v+m,y[e.OX4]=g-d,y[e.OY4]=p+m},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof X3?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,p=s.d,d=0,g=0;d=o[e.OX1],g=o[e.OY1],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX2],g=o[e.OY2],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX3],g=o[e.OY3],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX4],g=o[e.OY4],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(H3),JGe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=re.randomTriangular(-this.jitterX,this.jitterY),e.y+=re.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),QGe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*re.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new KW(2),t}(),wi=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Ni;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Ni||(Ni={}));var Gs=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=xe.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,g=this.curves;g[d++]=t.BEZIER;for(var m=h,v=p,_=d+t.BEZIER_SIZE-1;d<_;d+=2)g[d]=m,g[d+1]=v,h+=u,p+=f,u+=c,f+=l,m+=h,v+=p},t.prototype.getCurvePercent=function(e,r){r=re.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),zo=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Ni.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.rotation=u.data.rotation;return;case Z.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case Z.setup:u.rotation=u.data.rotation+h*o;break;case Z.first:case Z.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case Z.add:u.rotation+=h*o}return}var p=wi.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],g=l[p],m=this.getCurvePercent((p>>1)-1,1-(i-g)/(l[p+e.PREV_TIME]-g)),v=l[p+e.ROTATION]-d;switch(v=d+(v-(16384-(16384.499999999996-v/360|0))*360)*m,s){case Z.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case Z.first:case Z.replace:v+=u.data.rotation-u.rotation;case Z.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Gs),Qv=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ni.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.x=u.data.x,u.y=u.data.y;return;case Z.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=wi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.X]-f)*g,h+=(l[p+e.Y]-h)*g}switch(s){case Z.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case Z.first:case Z.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case Z.add:u.x+=f*o,u.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Gs),dY=function(t){ri(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ni.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case Z.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=wi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=(f+(l[p+e.X]-f)*g)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*g)*u.data.scaleY}if(o==1)s==Z.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var m=0,v=0;if(c==qt.mixOut)switch(s){case Z.setup:m=u.data.scaleX,v=u.data.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-m)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-v)*o;break;case Z.first:case Z.replace:m=u.scaleX,v=u.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-m)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-v)*o;break;case Z.add:m=u.scaleX,v=u.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-u.data.scaleY)*o}else switch(s){case Z.setup:m=Math.abs(u.data.scaleX)*re.signum(f),v=Math.abs(u.data.scaleY)*re.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=v+(h-v)*o;break;case Z.first:case Z.replace:m=Math.abs(u.scaleX)*re.signum(f),v=Math.abs(u.scaleY)*re.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=v+(h-v)*o;break;case Z.add:m=re.signum(f),v=re.signum(h),u.scaleX=Math.abs(u.scaleX)*m+(f-Math.abs(u.data.scaleX)*m)*o,u.scaleY=Math.abs(u.scaleY)*v+(h-Math.abs(u.data.scaleY)*v)*o}}},e}(Qv),pY=function(t){ri(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ni.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case Z.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=wi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=f+(l[p+e.X]-f)*g,h=h+(l[p+e.Y]-h)*g}switch(s){case Z.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case Z.first:case Z.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case Z.add:u.shearX+=f*o,u.shearY+=h*o}},e}(Qv),IR=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ni.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color);return;case Z.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,g=0,m=0;if(i>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],g=u[v+e.PREV_B],m=u[v+e.PREV_A]}else{var _=wi.binarySearch(u,i,e.ENTRIES);p=u[_+e.PREV_R],d=u[_+e.PREV_G],g=u[_+e.PREV_B],m=u[_+e.PREV_A];var y=u[_],b=this.getCurvePercent(_/e.ENTRIES-1,1-(i-y)/(u[_+e.PREV_TIME]-y));p+=(u[_+e.R]-p)*b,d+=(u[_+e.G]-d)*b,g+=(u[_+e.B]-g)*b,m+=(u[_+e.A]-m)*b}if(o==1)l.color.set(p,d,g,m);else{var f=l.color;s==Z.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(g-f.b)*o,(m-f.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Gs),RR=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ni.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case Z.first:var f=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var g=0,m=0,v=0,_=0,y=0,b=0,w=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;g=u[E+e.PREV_R],m=u[E+e.PREV_G],v=u[E+e.PREV_B],_=u[E+e.PREV_A],y=u[E+e.PREV_R2],b=u[E+e.PREV_G2],w=u[E+e.PREV_B2]}else{var C=wi.binarySearch(u,i,e.ENTRIES);g=u[C+e.PREV_R],m=u[C+e.PREV_G],v=u[C+e.PREV_B],_=u[C+e.PREV_A],y=u[C+e.PREV_R2],b=u[C+e.PREV_G2],w=u[C+e.PREV_B2];var T=u[C],A=this.getCurvePercent(C/e.ENTRIES-1,1-(i-T)/(u[C+e.PREV_TIME]-T));g+=(u[C+e.R]-g)*A,m+=(u[C+e.G]-m)*A,v+=(u[C+e.B]-v)*A,_+=(u[C+e.A]-_)*A,y+=(u[C+e.R2]-y)*A,b+=(u[C+e.G2]-b)*A,w+=(u[C+e.B2]-w)*A}if(o==1)l.color.set(g,m,v,_),l.darkColor.set(y,b,w,1);else{var f=l.color,h=l.darkColor;s==Z.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((g-f.r)*o,(m-f.g)*o,(v-f.b)*o,(_-f.a)*o),h.add((y-h.r)*o,(b-h.g)*o,(w-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Gs),kx=function(){function t(e){this.frames=xe.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Ni.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(s==qt.mixOut&&o==Z.setup){var l=c.data.attachmentName;c.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==Z.setup||o==Z.first){var f=c.data.attachmentName;c.setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}return}var h=0;n>=u[u.length-1]?h=u.length-1:h=wi.binarySearch(u,n,1)-1;var p=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(p==null?null:e.getAttachment(this.slotIndex,p))},t}(),cj=null,vY=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r),n.frameVertices=new Array(r),cj==null&&(cj=xe.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Ni.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof Of)||!u.applyDeform(this.attachment))){var f=l.attachmentVertices;f.length==0&&(s=Z.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var g=u;switch(s){case Z.setup:f.length=0;return;case Z.first:if(o==1){f.length=0;break}var m=xe.setArraySize(f,p);if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++)m[_]+=(v[_]-m[_])*o;else{o=1-o;for(var _=0;_<p;_++)m[_]*=o}}return}var y=xe.setArraySize(f,p);if(i>=d[d.length-1]){var b=h[d.length-1];if(o==1)if(s==Z.add){var g=u;if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++)y[_]+=b[_]-v[_];else for(var _=0;_<p;_++)y[_]+=b[_]}else xe.arrayCopy(b,0,y,0,p);else switch(s){case Z.setup:{var w=u;if(w.bones==null)for(var v=w.vertices,_=0;_<p;_++){var E=v[_];y[_]=E+(b[_]-E)*o}else for(var _=0;_<p;_++)y[_]=b[_]*o;break}case Z.first:case Z.replace:for(var _=0;_<p;_++)y[_]+=(b[_]-y[_])*o;case Z.add:var g=u;if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++)y[_]+=(b[_]-v[_])*o;else for(var _=0;_<p;_++)y[_]+=b[_]*o}return}var C=wi.binarySearch(d,i),T=h[C-1],A=h[C],I=d[C],O=this.getCurvePercent(C-1,1-(i-I)/(d[C-1]-I));if(o==1)if(s==Z.add){var g=u;if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++){var P=T[_];y[_]+=P+(A[_]-P)*O-v[_]}else for(var _=0;_<p;_++){var P=T[_];y[_]+=P+(A[_]-P)*O}}else for(var _=0;_<p;_++){var P=T[_];y[_]=P+(A[_]-P)*O}else switch(s){case Z.setup:{var k=u;if(k.bones==null)for(var v=k.vertices,_=0;_<p;_++){var P=T[_],E=v[_];y[_]=E+(P+(A[_]-P)*O-E)*o}else for(var _=0;_<p;_++){var P=T[_];y[_]=(P+(A[_]-P)*O)*o}break}case Z.first:case Z.replace:for(var _=0;_<p;_++){var P=T[_];y[_]+=(P+(A[_]-P)*O-y[_])*o}break;case Z.add:var g=u;if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++){var P=T[_];y[_]+=(P+(A[_]-P)*O-v[_])*o}else for(var _=0;_<p;_++){var P=T[_];y[_]+=(P+(A[_]-P)*O)*o}}}},e}(Gs),gY=function(){function t(e){this.frames=xe.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Ni.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=wi.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),Fx=function(){function t(e){this.frames=xe.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Ni.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==qt.mixOut&&o==Z.setup){xe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==Z.setup||o==Z.first)&&xe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=wi.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)xe.arrayCopy(l,0,c,0,l.length);else for(var p=0,d=h.length;p<d;p++)c[p]=l[h[p]]},t}(),PR=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ni.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case Z.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==Z.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,c==qt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,c==qt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=wi.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],p=l[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(i-p)/(l[f+e.PREV_TIME]-p));s==Z.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*d-u.data.mix)*o,c==qt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*d-u.mix)*o,c==qt.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(Gs),OR=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ni.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var f=u.data;switch(s){case Z.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case Z.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,g=0;if(i>=l[l.length-e.ENTRIES]){var m=l.length;h=l[m+e.PREV_ROTATE],p=l[m+e.PREV_TRANSLATE],d=l[m+e.PREV_SCALE],g=l[m+e.PREV_SHEAR]}else{var v=wi.binarySearch(l,i,e.ENTRIES);h=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],g=l[v+e.PREV_SHEAR];var _=l[v],y=this.getCurvePercent(v/e.ENTRIES-1,1-(i-_)/(l[v+e.PREV_TIME]-_));h+=(l[v+e.ROTATE]-h)*y,p+=(l[v+e.TRANSLATE]-p)*y,d+=(l[v+e.SCALE]-d)*y,g+=(l[v+e.SHEAR]-g)*y}if(s==Z.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(p-f.translateMix)*o,u.scaleMix=f.scaleMix+(d-f.scaleMix)*o,u.shearMix=f.shearMix+(g-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(g-u.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Gs),Nx=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ni.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.position=u.data.position;return;case Z.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=wi.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Gs),mY=function(t){ri(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Ni.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.spacing=u.data.spacing;return;case Z.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=wi.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o},e}(Nx),kR=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Ni.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case Z.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=wi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.ROTATE]-f)*g,h+=(l[p+e.TRANSLATE]-h)*g}s==Z.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Gs),_Y=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new xY(this),this.propertyIDs=new YW,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new Ub(function(){return new yY}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?Z.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||c==Z.add)for(var d=0;d<h;d++)xe.webkit602BugfixHelper(l,c),p[d].apply(e,u,f,r,l,c,qt.mixIn);else{var g=s.timelineMode,m=s.timelinesRotation.length==0;m&&xe.setArraySize(s.timelinesRotation,h<<1,null);for(var v=s.timelinesRotation,d=0;d<h;d++){var _=p[d],y=g[d]==t.SUBSEQUENT?c:Z.setup;_ instanceof zo?this.applyRotateTimeline(_,e,f,l,y,v,d<<1,m):(xe.webkit602BugfixHelper(l,c),_.apply(e,u,f,r,l,y,qt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==Z.first&&(n=Z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=Z.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==Z.add)for(var g=0;g<f;g++)h[g].apply(r,l,u,o,d,n,qt.mixOut);else{var m=i.timelineMode,v=i.timelineHoldMix,_=i.timelinesRotation.length==0;_&&xe.setArraySize(i.timelinesRotation,f<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var g=0;g<f;g++){var b=h[g],w=qt.mixOut,E=void 0,C=0;switch(m[g]){case t.SUBSEQUENT:if(!s&&b instanceof kx||!c&&b instanceof Fx)continue;E=n,C=d;break;case t.FIRST:E=Z.setup,C=d;break;case t.HOLD:E=Z.setup,C=p;break;default:E=Z.setup;var T=v[g];C=p*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=C,b instanceof zo?this.applyRotateTimeline(b,r,u,C,E,y,g<<1,_):(xe.webkit602BugfixHelper(C,n),E==Z.setup&&(b instanceof kx?s&&(w=qt.mixOut):b instanceof Fx&&c&&(w=qt.mixOut)),b.apply(r,l,u,o,C,E,w))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,qt.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex],h=0,p=0;if(n<u[0])switch(a){case Z.setup:f.rotation=f.data.rotation;default:return;case Z.first:h=f.rotation,p=f.data.rotation}else if(h=a==Z.setup?f.data.rotation:f.rotation,n>=u[u.length-zo.ENTRIES])p=f.data.rotation+u[u.length+zo.PREV_ROTATION];else{var d=wi.binarySearch(u,n,zo.ENTRIES),g=u[d+zo.PREV_ROTATION],m=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-m)/(u[d+zo.PREV_TIME]-m));p=u[d+zo.ROTATION]-g,p-=(16384-(16384.499999999996-p/360|0))*360,p=g+p*v+f.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var _=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)_=o[s];else{var b=0,w=0;c?(b=0,w=y):(b=o[s],w=o[s+1]);var E=y>0,C=b>=0;re.signum(w)!=re.signum(y)&&Math.abs(w)<=90&&(Math.abs(b)>180&&(b+=360*re.signum(b)),C=E),_=y+b-b%360,C!=E&&(_+=360*re.signum(b)),o[s]=_}o[s+1]=y,h+=_*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(xe.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=Z.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=xe.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=xe.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)s.add(n[c].getPropertyId()),a[c]=t.HOLD;return}e:for(var c=0;c<i;c++){var l=n[c].getPropertyId();if(!s.add(l))a[c]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[c]=t.FIRST;else{for(var u=r.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=u;continue e}break}a[c]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new wi("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),yY=function(){function t(){this.mixBlend=Z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),xY=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(xa.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(xa.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(xa.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(xa.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(xa.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(xa.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case xa.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case xa.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case xa.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case xa.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case xa.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=re.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case xa.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),xa;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(xa||(xa={}));var e7e=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),bY=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),wY=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new W3(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new z3(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new cY(r)},t.prototype.newPathAttachment=function(e,r){return new Jv(r)},t.prototype.newPointAttachment=function(e,r){return new hY(r)},t.prototype.newClippingAttachment=function(e,r){return new fY(r)},t}(),FR=function(){function t(e,r,n){if(this.matrix=new ln,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,p=n+90+s;l.a=re.cosDeg(n+o)*i*u,l.c=re.cosDeg(p)*a*u,l.b=re.sinDeg(n+o)*i*f,l.d=re.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,g=c.matrix.c,m=c.matrix.b,v=c.matrix.d;switch(l.tx=d*e+g*r+c.matrix.tx,l.ty=m*e+v*r+c.matrix.ty,this.data.transformMode){case $t.Normal:{var p=n+90+s,_=re.cosDeg(n+o)*i,y=re.cosDeg(p)*a,b=re.sinDeg(n+o)*i,w=re.sinDeg(p)*a;l.a=d*_+g*b,l.c=d*y+g*w,l.b=m*_+v*b,l.d=m*y+v*w;return}case $t.OnlyTranslation:{var p=n+90+s;l.a=re.cosDeg(n+o)*i,l.c=re.cosDeg(p)*a,l.b=re.sinDeg(n+o)*i,l.d=re.sinDeg(p)*a;break}case $t.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*v-g*m)/E,g=m*E,v=d*E,C=Math.atan2(m,d)*re.radDeg):(d=0,m=0,C=90-Math.atan2(v,g)*re.radDeg);var T=n+o-C,A=n+s-C+90,_=re.cosDeg(T)*i,y=re.cosDeg(A)*a,b=re.sinDeg(T)*i,w=re.sinDeg(A)*a;l.a=d*_-g*b,l.c=d*y-g*w,l.b=m*_+v*b,l.d=m*y+v*w;break}case $t.NoScale:case $t.NoScaleOrReflection:{var I=re.cosDeg(n),O=re.sinDeg(n),P=(d*I+g*O)/u,k=(m*I+v*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==$t.NoScale&&d*v-g*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var F=Math.PI/2+Math.atan2(k,P),B=Math.cos(F)*E,D=Math.sin(F)*E,_=re.cosDeg(o)*i,y=re.cosDeg(90+s)*a,b=re.sinDeg(o)*i,w=re.sinDeg(90+s)*a;l.a=P*_+B*b,l.c=P*y+B*w,l.b=k*_+D*b,l.d=k*y+D*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*re.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*re.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*re.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*re.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var g=f*d-h*p;this.ascaleY=g/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,g)*re.radDeg,this.arotation=Math.atan2(p,f)*re.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*re.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*re.radDeg},t.prototype.localToWorldRotation=function(e){var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*re.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=re.cosDeg(e),c=re.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),EY=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=$t.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),SY=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),CY=function(){function t(e){this.name=e}return t}(),TY=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=1/(c.a*c.d-c.b*c.c),u=r-c.tx,f=n-c.ty,h=(u*c.d-f*c.c)*l-e.ax,p=(f*c.a-u*c.b)*l-e.ay,d=Math.atan2(p,h)*re.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var g=e.ascaleX,m=e.ascaleY;if(i||a){var v=e.data.length*g,_=Math.sqrt(h*h+p*p);if(i&&_<v||a&&_>v&&v>1e-4){var y=(_/v-1)*s+1;g*=y,o&&(m*=y)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,g,m,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var c=e.ax,l=e.ay,u=e.ascaleX,f=u,h=e.ascaleY,p=r.ascaleX,d=e.matrix,g=0,m=0,v=0;u<0?(u=-u,g=180,v=-1):(g=0,v=1),h<0&&(h=-h,v=-v),p<0?(p=-p,m=180):m=0;var _=r.ax,y=0,b=0,w=0,E=d.a,C=d.c,T=d.b,A=d.d,I=Math.abs(u-h)<=1e-4;I?(y=r.ay,b=E*_+C*y+d.tx,w=T*_+A*y+d.ty):(y=0,b=E*_+d.tx,w=T*_+d.ty);var O=e.parent.matrix;E=O.a,C=O.c,T=O.b,A=O.d;var P=1/(E*A-C*T),k=n-O.tx,F=i-O.ty,B=(k*A-F*C)*P-c,D=(F*E-k*T)*P-l,z=B*B+D*D;k=b-O.tx,F=w-O.ty;var ee=(k*A-F*C)*P-c,te=(F*E-k*T)*P-l,Y=Math.sqrt(ee*ee+te*te),U=r.data.length*p,X=0,j=0;e:if(I){U*=u;var G=(z-Y*Y-U*U)/(2*Y*U);G<-1?G=-1:G>1&&(G=1,o&&Y+U>1e-4&&(f*=(Math.sqrt(z)/(Y+U)-1)*s+1)),j=Math.acos(G)*a,E=Y+U*G,C=U*Math.sin(j),X=Math.atan2(D*E-B*C,B*E+D*C)}else{E=u*U,C=h*U;var ne=E*E,ae=C*C,pe=Math.atan2(D,B);T=ae*Y*Y+ne*z-ne*ae;var se=-2*ae*Y,_e=ae-ne;if(A=se*se-4*_e*T,A>=0){var Me=Math.sqrt(A);se<0&&(Me=-Me),Me=-(se+Me)/2;var Pe=Me/_e,Ee=T/Me,Se=Math.abs(Pe)<Math.abs(Ee)?Pe:Ee;if(Se*Se<=z){F=Math.sqrt(z-Se*Se)*a,X=pe-Math.atan2(F,Se),j=Math.atan2(F/h,(Se-Y)/u);break e}}var Ge=re.PI,Ye=Y-E,Ve=Ye*Ye,Xe=0,Ke=0,wt=Y+E,Rt=wt*wt,ht=0;T=-E*Y/(ne-ae),T>=-1&&T<=1&&(T=Math.acos(T),k=E*Math.cos(T)+Y,F=C*Math.sin(T),A=k*k+F*F,A<Ve&&(Ge=T,Ve=A,Ye=k,Xe=F),A>Rt&&(Ke=T,Rt=A,wt=k,ht=F)),z<=(Ve+Rt)/2?(X=pe-Math.atan2(Xe*a,Ye),j=Ge*a):(X=pe-Math.atan2(ht*a,wt),j=Ke*a)}var gt=Math.atan2(y,_)*v,It=e.arotation;X=(X-gt)*re.radDeg+g-It,X>180?X-=360:X<-180&&(X+=360),e.updateWorldTransformWith(c,l,It+X*s,f,e.ascaleY,0,0),It=r.arotation,j=((j+gt)*re.radDeg-r.ashearX)*v+m-It,j>180?j-=360:j<-180&&(j+=360),r.updateWorldTransformWith(_,y,It+j*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),AY=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),IY=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),bo;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(bo||(bo={}));var RY=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Jv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==bo.Length,l=o.rotateMode,u=l==Dn.Tangent,f=l==Dn.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,g=xe.setArraySize(this.spaces,p),m=null,v=this.spacing;if(f||c){f&&(m=xe.setArraySize(this.lengths,h));for(var _=0,y=p-1;_<y;){var b=d[_],w=b.data.length;if(w<t.epsilon)f&&(m[_]=0),g[++_]=0;else{var E=w*b.matrix.a,C=w*b.matrix.b,T=Math.sqrt(E*E+C*C);f&&(m[_]=T),g[++_]=(c?w+v:v)*T/w}}}else for(var _=1;_<p;_++)g[_]=v;var A=this.computeWorldPositions(e,p,u,o.positionMode==_n.Percent,s==bo.Percent),I=A[0],O=A[1],P=o.offsetRotation,k=!1;if(P==0)k=l==Dn.Chain;else{k=!1;var F=this.target.bone.matrix;P*=F.a*F.d-F.b*F.c>0?re.degRad:-re.degRad}for(var _=0,F=3;_<h;_++,F+=3){var b=d[_],B=b.matrix;B.tx+=(I-B.tx)*n,B.ty+=(O-B.ty)*n;var E=A[F],C=A[F+1],D=E-I,z=C-O;if(f){var ee=m[_];if(ee!=0){var te=(Math.sqrt(D*D+z*z)/ee-1)*r+1;B.a*=te,B.b*=te}}if(I=E,O=C,a){var Y=B.a,U=B.c,X=B.b,j=B.d,G=0,ne=0,ae=0;if(u?G=A[F-1]:g[_+1]==0?G=A[F+2]:G=Math.atan2(z,D),G-=Math.atan2(X,Y),k){ne=Math.cos(G),ae=Math.sin(G);var pe=b.data.length;I+=(pe*(ne*Y-ae*X)-D)*r,O+=(pe*(ae*Y+ne*X)-z)*r}else G+=P;G>re.PI?G-=re.PI2:G<-re.PI&&(G+=re.PI2),G*=r,ne=Math.cos(G),ae=Math.sin(G),B.a=ne*Y-ae*X,B.c=ne*U-ae*j,B.b=ae*Y+ne*X,B.d=ae*U+ne*j}b.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=xe.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var g=e.lengths;p-=f?1:2;var m=g[p];if(i&&(s*=m),a)for(var v=0;v<r;v++)c[v]*=m;u=xe.setArraySize(this.world,8);for(var v=0,_=0,y=0;v<r;v++,_+=3){var b=c[v];s+=b;var w=s;if(f)w%=m,w<0&&(w+=m),y=0;else if(w<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(w,u,0,l,_);continue}else if(w>m){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(w-m,u,0,l,_);continue}for(;;y++){var E=g[y];if(!(w>E)){if(y==0)w/=E;else{var C=g[y-1];w=(w-C)/(E-C)}break}}y!=d&&(d=y,f&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(w,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,_,n||v>0&&b==0)}return l}f?(h+=2,u=xe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=xe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var T=xe.setArraySize(this.curves,p),A=0,I=u[0],O=u[1],P=0,k=0,F=0,B=0,D=0,z=0,ee=0,te=0,Y=0,U=0,X=0,j=0,G=0,ne=0,v=0,ae=2;v<p;v++,ae+=6)P=u[ae],k=u[ae+1],F=u[ae+2],B=u[ae+3],D=u[ae+4],z=u[ae+5],ee=(I-P*2+F)*.1875,te=(O-k*2+B)*.1875,Y=((P-F)*3-I+D)*.09375,U=((k-B)*3-O+z)*.09375,X=ee*2+Y,j=te*2+U,G=(P-I)*.75+ee+Y*.16666667,ne=(k-O)*.75+te+U*.16666667,A+=Math.sqrt(G*G+ne*ne),G+=X,ne+=j,X+=Y,j+=U,A+=Math.sqrt(G*G+ne*ne),G+=X,ne+=j,A+=Math.sqrt(G*G+ne*ne),G+=X+Y,ne+=j+U,A+=Math.sqrt(G*G+ne*ne),T[v]=A,I=D,O=z;if(i&&(s*=A),a)for(var v=0;v<r;v++)c[v]*=A;for(var pe=this.segments,se=0,v=0,_=0,y=0,_e=0;v<r;v++,_+=3){var b=c[v];s+=b;var w=s;if(f)w%=A,w<0&&(w+=A),y=0;else if(w<0){this.addBeforePosition(w,u,0,l,_);continue}else if(w>A){this.addAfterPosition(w-A,u,h-4,l,_);continue}for(;;y++){var Me=T[y];if(!(w>Me)){if(y==0)w/=Me;else{var C=T[y-1];w=(w-C)/(Me-C)}break}}if(y!=d){d=y;var Pe=y*6;for(I=u[Pe],O=u[Pe+1],P=u[Pe+2],k=u[Pe+3],F=u[Pe+4],B=u[Pe+5],D=u[Pe+6],z=u[Pe+7],ee=(I-P*2+F)*.03,te=(O-k*2+B)*.03,Y=((P-F)*3-I+D)*.006,U=((k-B)*3-O+z)*.006,X=ee*2+Y,j=te*2+U,G=(P-I)*.3+ee+Y*.16666667,ne=(k-O)*.3+te+U*.16666667,se=Math.sqrt(G*G+ne*ne),pe[0]=se,Pe=1;Pe<8;Pe++)G+=X,ne+=j,X+=Y,j+=U,se+=Math.sqrt(G*G+ne*ne),pe[Pe]=se;G+=X,ne+=j,se+=Math.sqrt(G*G+ne*ne),pe[8]=se,G+=X+Y,ne+=j+U,se+=Math.sqrt(G*G+ne*ne),pe[9]=se,_e=0}for(w*=se;;_e++){var Ee=pe[_e];if(!(w>Ee)){if(_e==0)w/=Ee;else{var C=pe[_e-1];w=_e+(w-C)/(Ee-C)}break}}this.addCurvePosition(w*.1,I,O,P,k,F,B,D,z,l,_,n||v>0&&b==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,g=1-e,m=g*g,v=m*g,_=g*e,y=_*3,b=g*y,w=y*e,E=r*v+i*b+o*w+c*d,C=n*v+a*b+s*w+l*d;u[f]=E,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),PY=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new zv,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?re.degRad:-re.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,g=0,m=d.length;g<m;g++){var v=d[g],_=!1,y=v.matrix;if(e!=0){var b=y.a,w=y.c,E=y.b,C=y.d,T=Math.atan2(l,s)-Math.atan2(E,b)+h;T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T*=e;var A=Math.cos(T),I=Math.sin(T);y.a=A*b-I*E,y.c=A*w-I*C,y.b=I*b+A*E,y.d=I*w+A*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=(O.x-y.tx)*r,y.ty+=(O.y-y.ty)*r,_=!0}if(n>0){var P=Math.sqrt(y.a*y.a+y.b*y.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),y.a*=P,y.b*=P,P=Math.sqrt(y.c*y.c+y.d*y.d),k=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),y.c*=P,y.d*=P,_=!0}if(i>0){var w=y.c,C=y.d,F=Math.atan2(C,w),T=Math.atan2(u,c)-Math.atan2(l,s)-(F-Math.atan2(y.b,y.a));T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T=F+(T+p)*i;var P=Math.sqrt(w*w+C*C);y.c=Math.cos(T)*P,y.d=Math.sin(T)*P,_=!0}_&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?re.degRad:-re.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,g=0,m=d.length;g<m;g++){var v=d[g],_=!1,y=v.matrix;if(e!=0){var b=y.a,w=y.c,E=y.b,C=y.d,T=Math.atan2(l,s)+h;T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T*=e;var A=Math.cos(T),I=Math.sin(T);y.a=A*b-I*E,y.c=A*w-I*C,y.b=I*b+A*E,y.d=I*w+A*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=O.x*r,y.ty+=O.y*r,_=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=P,y.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=P,y.d*=P,_=!0}if(i>0){var T=Math.atan2(u,c)-Math.atan2(l,s);T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2);var w=y.c,C=y.d;T=Math.atan2(C,w)+(T-re.PI/2+p)*i;var P=Math.sqrt(w*w+C*C);y.c=Math.cos(T)*P,y.d=Math.sin(T)*P,_=!0}_&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,g=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),g>1e-5&&(g=(g+(a.ascaleY-g+this.data.offsetScaleY)*n)/g));var m=l.ashearY;if(i>0){var f=a.ashearY-m+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,p,u,d,g,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var g=l.ashearY;i>0&&(g+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,p,d,l.ashearX,g)}},t.prototype.getOrder=function(){return this.data.order},t}(),OY=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new FR(n,this,null);else{var a=this.bones[n.parent.index];i=new FR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new X3(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new TY(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new PY(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new RY(u,this))}this.color=new rt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,c=a.length,l=o.length,u=s.length,f=c+l+u;e:for(var n=0;n<f;n++){for(var h=0;h<c;h++){var p=a[h];if(p.data.order==n){this.sortIkConstraint(p);continue e}}for(var h=0;h<l;h++){var p=o[h];if(p.data.order==n){this.sortTransformConstraint(p);continue e}}for(var h=0;h<u;h++){var p=s[h];if(p.data.order==n){this.sortPathConstraint(p);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Jv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Jv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;xe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l],h=0,p=null,d=f.getAttachment();if(d instanceof W3)h=8,p=xe.setArraySize(n,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof z3){var g=d;h=g.worldVerticesLength,p=xe.setArraySize(n,h,0),g.computeWorldVertices(f,0,h,p,0,2)}if(p!=null)for(var m=0,v=p.length;m<v;m+=2){var _=p[m],y=p[m+1];a=Math.min(a,_),o=Math.min(o,y),s=Math.max(s,_),c=Math.max(c,y)}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),t7e=function(t){ri(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(A3),kY=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),FY=function(){function t(e,r,n){if(this.color=new rt(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),NY=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),MY=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),LY=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new kY,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],c=null,l=this.getValue(s,"parent",null);if(l!=null&&(c=n.findBone(l),c==null))throw new Error("Parent bone not found: "+l);var u=new EY(n.bones.length,s.name,c);u.length=this.getValue(s,"length",0)*r,u.x=this.getValue(s,"x",0)*r,u.y=this.getValue(s,"y",0)*r,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var f=i.slots[o],h=f.name,p=f.bone,d=n.findBone(p);if(d==null)throw new Error("Slot bone not found: "+p);var u=new FY(n.slots.length,h,d),g=this.getValue(f,"color",null);g!=null&&u.color.setFromString(g);var m=this.getValue(f,"dark",null);m!=null&&(u.darkColor=new rt(1,1,1,1),u.darkColor.setFromString(m)),u.attachmentName=this.getValue(f,"attachment",null),u.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var v=i.ik[o],u=new AY(v.name);u.order=this.getValue(v,"order",0);for(var _=0;_<v.bones.length;_++){var p=v.bones[_],y=n.findBone(p);if(y==null)throw new Error("IK bone not found: "+p);u.bones.push(y)}var b=v.target;if(u.target=n.findBone(b),u.target==null)throw new Error("IK target bone not found: "+b);u.bendDirection=this.getValue(v,"bendPositive",!0)?1:-1,u.mix=this.getValue(v,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var v=i.transform[o],u=new NY(v.name);u.order=this.getValue(v,"order",0);for(var _=0;_<v.bones.length;_++){var p=v.bones[_],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var b=v.target;if(u.target=n.findBone(b),u.target==null)throw new Error("Transform constraint target bone not found: "+b);u.local=this.getValue(v,"local",!1),u.relative=this.getValue(v,"relative",!1),u.offsetRotation=this.getValue(v,"rotation",0),u.offsetX=this.getValue(v,"x",0)*r,u.offsetY=this.getValue(v,"y",0)*r,u.offsetScaleX=this.getValue(v,"scaleX",0),u.offsetScaleY=this.getValue(v,"scaleY",0),u.offsetShearY=this.getValue(v,"shearY",0),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),u.scaleMix=this.getValue(v,"scaleMix",1),u.shearMix=this.getValue(v,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var v=i.path[o],u=new IY(v.name);u.order=this.getValue(v,"order",0);for(var _=0;_<v.bones.length;_++){var p=v.bones[_],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var b=v.target;if(u.target=n.findSlot(b),u.target==null)throw new Error("Path target slot not found: "+b);u.positionMode=t.positionModeFromString(this.getValue(v,"positionMode","percent")),u.spacingMode=t.spacingModeFromString(this.getValue(v,"spacingMode","length")),u.rotateMode=t.rotateModeFromString(this.getValue(v,"rotateMode","tangent")),u.offsetRotation=this.getValue(v,"rotation",0),u.position=this.getValue(v,"position",0),u.positionMode==_n.Fixed&&(u.position*=r),u.spacing=this.getValue(v,"spacing",0),(u.spacingMode==bo.Length||u.spacingMode==bo.Fixed)&&(u.spacing*=r),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var w in i.skins){var E=i.skins[w],C=new MY(w);for(var h in E){var T=n.findSlotIndex(h);if(T==-1)throw new Error("Slot not found: "+h);var f=E[h];for(var A in f){var I=this.readAttachment(f[A],C,T,A,n);I!=null&&C.addAttachment(T,A,I)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var o=0,O=this.linkedMeshes.length;o<O;o++){var P=this.linkedMeshes[o],C=P.skin==null?n.defaultSkin:n.findSkin(P.skin);if(C==null)throw new Error("Skin not found: "+P.skin);var k=C.getAttachment(P.slotIndex,P.parent);if(k==null)throw new Error("Parent mesh not found: "+P.parent);P.mesh.setParentMesh(k)}if(this.linkedMeshes.length=0,i.events)for(var F in i.events){var B=i.events[F],u=new CY(F);u.intValue=this.getValue(B,"int",0),u.floatValue=this.getValue(B,"float",0),u.stringValue=this.getValue(B,"string",""),u.audioPath=this.getValue(B,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(B,"volume",1),u.balance=this.getValue(B,"balance",0)),n.events.push(u)}if(i.animations)for(var D in i.animations){var z=i.animations[D];this.readAnimation(z,D,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u);var p=this.getValue(e,"parent",null);if(p!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new r7e(h,this.getValue(e,"skin",null),n,p)),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var g=e.vertexCount;this.readVertices(e,c,g<<1);for(var m=xe.newArray(g/3,0),v=0;v<e.lengths.length;v++)m[v]=e.lengths[v]*o;c.lengths=m;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(_==null)return null;_.x=this.getValue(e,"x",0)*o,_.y=this.getValue(e,"y",0)*o,_.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&_.color.setFromString(u),_}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var b=this.getValue(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);y.endSlot=w}var g=e.vertexCount;this.readVertices(e,y,g<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=xe.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=xe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new kx(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p++,g.time,g.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new IR(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d],m=new rt;m.setFromString(g.color||"ffffffff"),h.setFrame(p,g.time,m.r,m.g,m.b,m.a),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*IR.ENTRIES])}else if(u=="twoColor"){var h=new RR(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d],v=new rt,_=new rt;v.setFromString(g.light),_.setFromString(g.dark),h.setFrame(p,g.time,v.r,v.g,v.b,v.a,_.r,_.g,_.b),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*RR.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var b=e.bones[y],w=n.findBoneIndex(y);if(w==-1)throw new Error("Bone not found: "+y);for(var u in b){var f=b[u];if(u==="rotate"){var h=new zo(f.length);h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,g.time,g.angle),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*zo.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1;u==="scale"?h=new dY(f.length):u==="shear"?h=new pY(f.length):(h=new Qv(f.length),E=i),h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var g=f[d],C=this.getValue(g,"x",0),T=this.getValue(g,"y",0);h.setFrame(p,g.time,C*E,T*E),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Qv.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var A in e.ik){var I=e.ik[A],O=n.findIkConstraint(A),h=new PR(I.length);h.ikConstraintIndex=n.ikConstraints.indexOf(O);for(var p=0,d=0;d<I.length;d++){var g=I[d];h.setFrame(p,g.time,this.getValue(g,"mix",1),this.getValue(g,"bendPositive",!0)?1:-1,this.getValue(g,"compress",!1),this.getValue(g,"stretch",!1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*PR.ENTRIES])}if(e.transform)for(var A in e.transform){var I=e.transform[A],O=n.findTransformConstraint(A),h=new OR(I.length);h.transformConstraintIndex=n.transformConstraints.indexOf(O);for(var p=0,d=0;d<I.length;d++){var g=I[d];h.setFrame(p,g.time,this.getValue(g,"rotateMix",1),this.getValue(g,"translateMix",1),this.getValue(g,"scaleMix",1),this.getValue(g,"shearMix",1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*OR.ENTRIES])}if(e.paths)for(var A in e.paths){var I=e.paths[A],P=n.findPathConstraintIndex(A);if(P==-1)throw new Error("Path constraint not found: "+A);var k=n.pathConstraints[P];for(var u in I){var f=I[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new mY(f.length),(k.spacingMode==bo.Length||k.spacingMode==bo.Fixed)&&(E=i)):(h=new Nx(f.length),k.positionMode==_n.Fixed&&(E=i)),h.pathConstraintIndex=P;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,g.time,this.getValue(g,u,0)*E),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Nx.ENTRIES])}else if(u==="mix"){var h=new kR(f.length);h.pathConstraintIndex=P;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,g.time,this.getValue(g,"rotateMix",1),this.getValue(g,"translateMix",1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*kR.ENTRIES])}}}if(e.deform)for(var F in e.deform){var B=e.deform[F],D=n.findSkin(F);if(D!=null)for(var s in B){var c=B[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],z=D.getAttachment(l,u);if(z==null)throw new Error("Deform attachment not found: "+f.name);var ee=z.bones!=null,te=z.vertices,Y=ee?te.length/3*2:te.length,h=new vY(f.length);h.slotIndex=l,h.attachment=z;for(var p=0,U=0;U<f.length;U++){var g=f[U],X=void 0,j=this.getValue(g,"vertices",null);if(j==null)X=ee?xe.newFloatArray(Y):te;else{X=xe.newFloatArray(Y);var G=this.getValue(g,"offset",0);if(xe.arrayCopy(j,0,X,G,j.length),i!=1)for(var d=G,ne=d+j.length;d<ne;d++)X[d]*=i;if(!ee)for(var d=0;d<Y;d++)X[d]+=te[d]}h.setFrame(p,g.time,X),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var ae=e.drawOrder;if(ae==null&&(ae=e.draworder),ae!=null){for(var h=new Fx(ae.length),pe=n.slots.length,p=0,U=0;U<ae.length;U++){var se=ae[U],_e=null,Me=this.getValue(se,"offsets",null);if(Me!=null){_e=xe.newArray(pe,-1);for(var Pe=xe.newArray(pe-Me.length,0),Ee=0,Se=0,d=0;d<Me.length;d++){var Ge=Me[d],l=n.findSlotIndex(Ge.slot);if(l==-1)throw new Error("Slot not found: "+Ge.slot);for(;Ee!=l;)Pe[Se++]=Ee++;_e[Ee+Ge.offset]=Ee++}for(;Ee<pe;)Pe[Se++]=Ee++;for(var d=pe-1;d>=0;d--)_e[d]==-1&&(_e[d]=Pe[--Se])}h.setFrame(p++,se.time,_e)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new gY(e.events.length),p=0,d=0;d<e.events.length;d++){var Ye=e.events[d],Ve=n.findEvent(Ye.name);if(Ve==null)throw new Error("Event not found: "+Ye.name);var Xe=new SY(xe.toSinglePrecision(Ye.time),Ve);Xe.intValue=this.getValue(Ye,"int",Ve.intValue),Xe.floatValue=this.getValue(Ye,"float",Ve.floatValue),Xe.stringValue=this.getValue(Ye,"string",Ve.stringValue),Xe.data.audioPath!=null&&(Xe.volume=this.getValue(Ye,"volume",1),Xe.balance=this.getValue(Ye,"balance",0)),h.setFrame(p++,Xe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new wi(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ct.NORMAL;if(e=="additive")return ct.ADD;if(e=="multiply")return ct.MULTIPLY;if(e=="screen")return ct.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return _n.Fixed;if(e=="percent")return _n.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return bo.Length;if(e=="fixed")return bo.Fixed;if(e=="percent")return bo.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return Dn.Tangent;if(e=="chain")return Dn.Chain;if(e=="chainscale")return Dn.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return $t.Normal;if(e=="onlytranslation")return $t.OnlyTranslation;if(e=="norotationorreflection")return $t.NoRotationOrReflection;if(e=="noscale")return $t.NoScale;if(e=="noscaleorreflection")return $t.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),r7e=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),n7e=function(t){ri(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new OY(r),this.skeleton.updateWorldTransform(),this.stateData=new bY(r),this.state=new _Y(this.stateData)},e}(Fg);const i7e=Object.freeze(Object.defineProperty({__proto__:null,Animation:wi,AnimationState:_Y,AnimationStateAdapter2:e7e,AnimationStateData:bY,AtlasAttachmentLoader:wY,Attachment:H3,AttachmentTimeline:kx,Bone:FR,BoneData:EY,BoundingBoxAttachment:cY,ClippingAttachment:fY,ColorTimeline:IR,CurveTimeline:Gs,DeformTimeline:vY,DrawOrderTimeline:Fx,Event:SY,EventData:CY,EventQueue:xY,EventTimeline:gY,get EventType(){return xa},IkConstraint:TY,IkConstraintData:AY,IkConstraintTimeline:PR,JitterEffect:JGe,MeshAttachment:z3,PathAttachment:Jv,PathConstraint:RY,PathConstraintData:IY,PathConstraintMixTimeline:kR,PathConstraintPositionTimeline:Nx,PathConstraintSpacingTimeline:mY,PointAttachment:hY,RegionAttachment:W3,RotateTimeline:zo,ScaleTimeline:dY,ShearTimeline:pY,Skeleton:OY,SkeletonBounds:t7e,SkeletonData:kY,SkeletonJson:LY,Skin:MY,Slot:X3,SlotData:FY,get SpacingMode(){return bo},Spine:n7e,SwirlEffect:QGe,get TimelineType(){return Ni},TrackEntry:yY,TransformConstraint:PY,TransformConstraintData:NY,TransformConstraintTimeline:OR,TranslateTimeline:Qv,TwoColorTimeline:RR,VertexAttachment:Of},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NR=function(t,e){return NR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},NR(t,e)};function ir(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");NR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Y3=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),Ms=function(t){ir(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(!f){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,g=h.a,m=h.c,v=h.b,_=h.d,y=n,b=o;b<i;y+=2,b+=s){var w=u[y],E=u[y+1];a[b]=w*g+E*m+p,a[b+1]=w*v+E*_+d}return}for(var C=0,T=0,A=0;A<n;A+=2){var I=f[C];C+=I+1,T+=I}var O=c.bones;if(l.length==0)for(var b=o,m=T*3;b<i;b+=s){var P=0,k=0,I=f[C++];for(I+=C;C<I;C++,m+=3){var h=O[f[C]].matrix,w=u[m],E=u[m+1],F=u[m+2];P+=(w*h.a+E*h.c+h.tx)*F,k+=(w*h.b+E*h.d+h.ty)*F}a[b]=P,a[b+1]=k}else for(var B=l,b=o,m=T*3,D=T<<1;b<i;b+=s){var P=0,k=0,I=f[C++];for(I+=C;C<I;C++,m+=3,D+=2){var h=O[f[C]].matrix,w=u[m]+B[D],E=u[m+1]+B[D+1],F=u[m+2];P+=(w*h.a+E*h.c+h.tx)*F,k+=(w*h.b+E*h.d+h.ty)*F}a[b]=P,a[b+1]=k}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),xe.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=xe.newFloatArray(this.vertices.length),xe.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(Y3),BY=function(t){ir(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.BoundingBox,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Ms),DY=function(t){ir(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Clipping,n.endSlot=null,n.color=new rt(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Ms),Vb=function(t){ir(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=Qt.Mesh,i.region=null,i.triangles=[],i.color=new rt(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new rt(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),xe.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),xe.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),xe.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(Ms),eg=function(t){ir(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),xe.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Ms),UY=function(t){ir(e,t);function e(r){var n=t.call(this,r)||this;return n.type=Qt.Point,n.x=0,n.y=0,n.rotation=0,n.color=new rt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=re.cosDeg(this.rotation),a=re.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*re.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Ms),q3=function(t){ir(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=Qt.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new rt(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=xe.newFloatArray(8),i.uvs=xe.newFloatArray(8),i.tempColor=new rt(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,c=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),f=Math.sin(l),h=this.x,p=this.y,d=a*u+h,g=a*f,m=o*u+p,v=o*f,_=s*u+h,y=s*f,b=c*u+p,w=c*f,E=this.offset;E[0]=d-v,E[1]=m+g,E[2]=d-w,E[3]=b+g,E[4]=_-w,E[5]=b+y,E[6]=_-v,E[7]=m+y;var C=this.uvs;r.degrees==90?(C[2]=r.u,C[3]=r.v2,C[4]=r.u,C[5]=r.v,C[6]=r.u2,C[7]=r.v,C[0]=r.u2,C[1]=r.v2):(C[0]=r.u,C[1]=r.v2,C[2]=r.u,C[3]=r.v,C[4]=r.u2,C[5]=r.v,C[6]=r.u2,C[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,c=o.matrix,l=c.tx,u=c.ty,f=c.a,h=c.c,p=c.b,d=c.d,g=0,m=0;g=s[0],m=s[1],n[i]=g*f+m*h+l,n[i+1]=g*p+m*d+u,i+=a,g=s[2],m=s[3],n[i]=g*f+m*h+l,n[i+1]=g*p+m*d+u,i+=a,g=s[4],m=s[5],n[i]=g*f+m*h+l,n[i+1]=g*p+m*d+u,i+=a,g=s[6],m=s[7],n[i]=g*f+m*h+l,n[i+1]=g*p+m*d+u},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,xe.arrayCopy(this.uvs,0,r.uvs,0,8),xe.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(Y3),K3=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return xe.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),Ii;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(Ii||(Ii={}));var Z3=[Ii.hold,Ii.once,Ii.loop,Ii.pingpong,Ii.onceReverse,Ii.loopReverse,Ii.pingpongReverse],Hb=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new qW,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t}(),kr={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},jn=function(){function t(e,r){this.propertyIds=r,this.frames=xe.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),ss=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=xe.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=xe.newFloatArray(n);xe.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var g=(a-s*2+l)*.03,m=(o-c*2+u)*.03,v=((s-l)*3-a+f)*.006,_=((c-u)*3-o+h)*.006,y=g*2+v,b=m*2+_,w=(s-a)*.3+g+v*.16666667,E=(c-o)*.3+m+_*.16666667,C=a+w,T=o+E,A=d+18;d<A;d+=2)p[d]=C,p[d+1]=T,w+=y,E+=b,y+=v,b+=_,C+=w,T+=E},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],c=this.frames[n+i];return c+(r-s)/(o[a]-s)*(o[a+1]-c)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var u=o[a-2],f=o[a-1];return f+(r-u)/(o[a]-u)*(o[a+1]-f)}n+=this.getFrameEntries();var h=o[l-2],p=o[l-1];return p+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-p)},e}(jn),ls=function(t){ir(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],c=n[i+1];return c+(r-s)/(n[i+2]-s)*(n[i+2+1]-c);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(ss),zb=function(t){ir(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(ss),tg=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.rotation=l.data.rotation;return;case Z.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.rotation=l.data.rotation+f*o;break;case Z.first:case Z.replace:f+=l.data.rotation-l.rotation;case Z.add:l.rotation+=f*o}}},e}(ls),J3=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.x+"|"+i,kr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.x=l.data.x,l.y=l.data.y;return;case Z.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var f=0,h=0,p=jn.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var g=u[p];f=u[p+1],h=u[p+2];var m=(i-g)/(u[p+3]-g);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case Z.setup:l.x=l.data.x+f*o,l.y=l.data.y+h*o;break;case Z.first:case Z.replace:l.x+=(l.data.x+f-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case Z.add:l.x+=f*o,l.y+=h*o}}},e}(zb),Q3=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.x=l.data.x;return;case Z.first:l.x+=(l.data.x-l.x)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.x=l.data.x+f*o;break;case Z.first:case Z.replace:l.x+=(l.data.x+f-l.x)*o;break;case Z.add:l.x+=f*o}}},e}(ls),e4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.y=l.data.y;return;case Z.first:l.y+=(l.data.y-l.y)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.y=l.data.y+f*o;break;case Z.first:case Z.replace:l.y+=(l.data.y+f-l.y)*o;break;case Z.add:l.y+=f*o}}},e}(ls),t4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.scaleX+"|"+i,kr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case Z.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f,h,p=jn.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var g=u[p];f=u[p+1],h=u[p+2];var m=(i-g)/(u[p+3]-g);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}if(f*=l.data.scaleX,h*=l.data.scaleY,o==1)s==Z.add?(l.scaleX+=f-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=f,l.scaleY=h);else{var v=0,_=0;if(c==qt.mixOut)switch(s){case Z.setup:v=l.data.scaleX,_=l.data.scaleY,l.scaleX=v+(Math.abs(f)*re.signum(v)-v)*o,l.scaleY=_+(Math.abs(h)*re.signum(_)-_)*o;break;case Z.first:case Z.replace:v=l.scaleX,_=l.scaleY,l.scaleX=v+(Math.abs(f)*re.signum(v)-v)*o,l.scaleY=_+(Math.abs(h)*re.signum(_)-_)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case Z.setup:v=Math.abs(l.data.scaleX)*re.signum(f),_=Math.abs(l.data.scaleY)*re.signum(h),l.scaleX=v+(f-v)*o,l.scaleY=_+(h-_)*o;break;case Z.first:case Z.replace:v=Math.abs(l.scaleX)*re.signum(f),_=Math.abs(l.scaleY)*re.signum(h),l.scaleX=v+(f-v)*o,l.scaleY=_+(h-_)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(zb),r4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.scaleX=l.data.scaleX;return;case Z.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var f=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==Z.add?l.scaleX+=f-l.data.scaleX:l.scaleX=f;else{var h=0;if(c==qt.mixOut)switch(s){case Z.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(f)*re.signum(h)-h)*o;break;case Z.first:case Z.replace:h=l.scaleX,l.scaleX=h+(Math.abs(f)*re.signum(h)-h)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o}else switch(s){case Z.setup:h=Math.abs(l.data.scaleX)*re.signum(f),l.scaleX=h+(f-h)*o;break;case Z.first:case Z.replace:h=Math.abs(l.scaleX)*re.signum(f),l.scaleX=h+(f-h)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o}}}},e}(ls),n4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.scaleY=l.data.scaleY;return;case Z.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==Z.add?l.scaleY+=f-l.data.scaleY:l.scaleY=f;else{var h=0;if(c==qt.mixOut)switch(s){case Z.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(f)*re.signum(h)-h)*o;break;case Z.first:case Z.replace:h=l.scaleY,l.scaleY=h+(Math.abs(f)*re.signum(h)-h)*o;break;case Z.add:l.scaleY+=(f-l.data.scaleY)*o}else switch(s){case Z.setup:h=Math.abs(l.data.scaleY)*re.signum(f),l.scaleY=h+(f-h)*o;break;case Z.first:case Z.replace:h=Math.abs(l.scaleY)*re.signum(f),l.scaleY=h+(f-h)*o;break;case Z.add:l.scaleY+=(f-l.data.scaleY)*o}}}},e}(ls),i4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.shearX+"|"+i,kr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case Z.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=0,h=0,p=jn.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var g=u[p];f=u[p+1],h=u[p+2];var m=(i-g)/(u[p+3]-g);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case Z.setup:l.shearX=l.data.shearX+f*o,l.shearY=l.data.shearY+h*o;break;case Z.first:case Z.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case Z.add:l.shearX+=f*o,l.shearY+=h*o}}},e}(zb),a4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.shearX=l.data.shearX;return;case Z.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.shearX=l.data.shearX+f*o;break;case Z.first:case Z.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o;break;case Z.add:l.shearX+=f*o}}},e}(ls),o4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.shearY=l.data.shearY;return;case Z.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.shearY=l.data.shearY+f*o;break;case Z.first:case Z.replace:l.shearY+=(l.data.shearY+f-l.shearY)*o;break;case Z.add:l.shearY+=f*o}}},e}(ls),s4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.rgb+"|"+i,kr.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case Z.setup:f.setFromColor(h);return;case Z.first:f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,g=0,m=0,v=jn.search(u,i,5),_=this.curves[v/5];switch(_){case 0:var y=u[v];p=u[v+1],d=u[v+2],g=u[v+3],m=u[v+4];var b=(i-y)/(u[v+5]-y);p+=(u[v+5+1]-p)*b,d+=(u[v+5+2]-d)*b,g+=(u[v+5+3]-g)*b,m+=(u[v+5+4]-m)*b;break;case 1:p=u[v+1],d=u[v+2],g=u[v+3],m=u[v+4];break;default:p=this.getBezierValue(i,v,1,_-2),d=this.getBezierValue(i,v,2,_+18-2),g=this.getBezierValue(i,v,3,_+18*2-2),m=this.getBezierValue(i,v,4,_+18*3-2)}o==1?f.set(p,d,g,m):(s==Z.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(g-f.b)*o,(m-f.a)*o))}},e}(ss),l4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case Z.setup:f.r=h.r,f.g=h.g,f.b=h.b;return;case Z.first:f.r+=(h.r-f.r)*o,f.g+=(h.g-f.g)*o,f.b+=(h.b-f.b)*o}return}var p=0,d=0,g=0,m=jn.search(u,i,4),v=this.curves[m>>2];switch(v){case 0:var _=u[m];p=u[m+1],d=u[m+2],g=u[m+3];var y=(i-_)/(u[m+4]-_);p+=(u[m+4+1]-p)*y,d+=(u[m+4+2]-d)*y,g+=(u[m+4+3]-g)*y;break;case 1:p=u[m+1],d=u[m+2],g=u[m+3];break;default:p=this.getBezierValue(i,m,1,v-2),d=this.getBezierValue(i,m,2,v+18-2),g=this.getBezierValue(i,m,3,v+18*2-2)}if(o==1)f.r=p,f.g=d,f.b=g;else{if(s==Z.setup){var h=l.data.color;f.r=h.r,f.g=h.g,f.b=h.b}f.r+=(p-f.r)*o,f.g+=(d-f.g)*o,f.b+=(g-f.b)*o}}},e}(ss),u4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var f=l.data.color;switch(s){case Z.setup:u.a=f.a;return;case Z.first:u.a+=(f.a-u.a)*o}return}var h=this.getCurveValue(i);o==1?u.a=h:(s==Z.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*o)}},e}(ls),c4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.rgb+"|"+i,kr.alpha+"|"+i,kr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l,this.frames[r+7]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case Z.setup:f.setFromColor(p),h.r=d.r,h.g=d.g,h.b=d.b;return;case Z.first:f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var g=0,m=0,v=0,_=0,y=0,b=0,w=0,E=jn.search(u,i,8),C=this.curves[E>>3];switch(C){case 0:var T=u[E];g=u[E+1],m=u[E+2],v=u[E+3],_=u[E+4],y=u[E+5],b=u[E+6],w=u[E+7];var A=(i-T)/(u[E+8]-T);g+=(u[E+8+1]-g)*A,m+=(u[E+8+2]-m)*A,v+=(u[E+8+3]-v)*A,_+=(u[E+8+4]-_)*A,y+=(u[E+8+5]-y)*A,b+=(u[E+8+6]-b)*A,w+=(u[E+8+7]-w)*A;break;case 1:g=u[E+1],m=u[E+2],v=u[E+3],_=u[E+4],y=u[E+5],b=u[E+6],w=u[E+7];break;default:g=this.getBezierValue(i,E,1,C-2),m=this.getBezierValue(i,E,2,C+18-2),v=this.getBezierValue(i,E,3,C+18*2-2),_=this.getBezierValue(i,E,4,C+18*3-2),y=this.getBezierValue(i,E,5,C+18*4-2),b=this.getBezierValue(i,E,6,C+18*5-2),w=this.getBezierValue(i,E,7,C+18*6-2)}if(o==1)f.set(g,m,v,_),h.r=y,h.g=b,h.b=w;else{if(s==Z.setup){f.setFromColor(l.data.color);var d=l.data.darkColor;h.r=d.r,h.g=d.g,h.b=d.b}f.add((g-f.r)*o,(m-f.g)*o,(v-f.b)*o,(_-f.a)*o),h.r+=(y-h.r)*o,h.g+=(b-h.g)*o,h.b+=(w-h.b)*o}}},e}(ss),f4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.rgb+"|"+i,kr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case Z.setup:f.r=p.r,f.g=p.g,f.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b;return;case Z.first:f.r+=(p.r-f.r)*o,f.g+=(p.g-f.g)*o,f.b+=(p.b-f.b)*o,h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var g=0,m=0,v=0,_=0,y=0,b=0,w=jn.search(u,i,7),E=this.curves[w/7];switch(E){case 0:var C=u[w];g=u[w+1],m=u[w+2],v=u[w+3],_=u[w+4],y=u[w+5],b=u[w+6];var T=(i-C)/(u[w+7]-C);g+=(u[w+7+1]-g)*T,m+=(u[w+7+2]-m)*T,v+=(u[w+7+3]-v)*T,_+=(u[w+7+4]-_)*T,y+=(u[w+7+5]-y)*T,b+=(u[w+7+6]-b)*T;break;case 1:g=u[w+1],m=u[w+2],v=u[w+3],_=u[w+4],y=u[w+5],b=u[w+6];break;default:g=this.getBezierValue(i,w,1,E-2),m=this.getBezierValue(i,w,2,E+18-2),v=this.getBezierValue(i,w,3,E+18*2-2),_=this.getBezierValue(i,w,4,E+18*3-2),y=this.getBezierValue(i,w,5,E+18*4-2),b=this.getBezierValue(i,w,6,E+18*5-2)}if(o==1)f.r=g,f.g=m,f.b=v,h.r=_,h.g=y,h.b=b;else{if(s==Z.setup){var p=l.data.color,d=l.data.darkColor;f.r=p.r,f.g=p.g,f.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b}f.r+=(g-f.r)*o,f.g+=(m-f.g)*o,f.b+=(v-f.b)*o,h.r+=(_-h.r)*o,h.g+=(y-h.g)*o,h.b+=(b-h.b)*o}}},e}(ss),Wc=function(t){ir(e,t);function e(r,n){var i=t.call(this,r,[kr.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){if(c==qt.mixOut){s==Z.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==Z.setup||s==Z.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[jn.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}(jn),h4=function(t){ir(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[kr.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var g=(a-s*2+l)*.03,m=u*.03-c*.06,v=((s-l)*3-a+f)*.006,_=(c-u+.33333333)*.018,y=g*2+v,b=m*2+_,w=(s-a)*.3+g+v*.16666667,E=c*.3+m+_*.16666667,C=a+w,T=E,A=d+18;d<A;d+=2)p[d]=C,p[d+1]=T,w+=y,E+=b,y+=v,b+=_,C+=w,T+=E},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var c=a+18;for(a+=2;a<c;a+=2)if(i[a]>=r){var l=i[a-2],u=i[a-1];return u+(r-l)/(i[a]-l)*(i[a+1]-u)}var f=i[c-2],h=i[c-1];return h+(1-h)*(r-f)/(this.frames[n+this.getFrameEntries()]-f)},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof Ms)||u.timelineAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=Z.setup);var h=this.vertices,p=h[0].length,d=this.frames;if(i<d[0]){switch(s){case Z.setup:f.length=0;return;case Z.first:if(o==1){f.length=0;return}f.length=p;var g=u;if(g.bones){o=1-o;for(var v=0;v<p;v++)f[v]*=o}else for(var m=g.vertices,v=0;v<p;v++)f[v]+=(m[v]-f[v])*o}return}if(f.length=p,i>=d[d.length-1]){var _=h[d.length-1];if(o==1)if(s==Z.add){var g=u;if(g.bones)for(var b=0;b<p;b++)f[b]+=_[b];else for(var m=g.vertices,y=0;y<p;y++)f[y]+=_[y]-m[y]}else xe.arrayCopy(_,0,f,0,p);else switch(s){case Z.setup:{var w=u;if(w.bones)for(var T=0;T<p;T++)f[T]=_[T]*o;else for(var m=w.vertices,E=0;E<p;E++){var C=m[E];f[E]=C+(_[E]-C)*o}break}case Z.first:case Z.replace:for(var A=0;A<p;A++)f[A]+=(_[A]-f[A])*o;break;case Z.add:var g=u;if(g.bones)for(var O=0;O<p;O++)f[O]+=_[O]*o;else for(var m=g.vertices,I=0;I<p;I++)f[I]+=(_[I]-m[I])*o}return}var P=jn.search1(d,i),k=this.getCurvePercent(i,P),F=h[P],B=h[P+1];if(o==1)if(s==Z.add){var g=u;if(g.bones)for(var ee=0;ee<p;ee++){var z=F[ee];f[ee]+=z+(B[ee]-z)*k}else for(var m=g.vertices,D=0;D<p;D++){var z=F[D];f[D]+=z+(B[D]-z)*k-m[D]}}else for(var te=0;te<p;te++){var z=F[te];f[te]=z+(B[te]-z)*k}else switch(s){case Z.setup:{var Y=u;if(Y.bones)for(var X=0;X<p;X++){var z=F[X];f[X]=(z+(B[X]-z)*k)*o}else for(var m=Y.vertices,U=0;U<p;U++){var z=F[U],C=m[U];f[U]=C+(z+(B[U]-z)*k-C)*o}break}case Z.first:case Z.replace:for(var j=0;j<p;j++){var z=F[j];f[j]+=(z+(B[j]-z)*k-f[j])*o}break;case Z.add:var g=u;if(g.bones)for(var ne=0;ne<p;ne++){var z=F[ne];f[ne]+=(z+(B[ne]-z)*k)*o}else for(var m=g.vertices,G=0;G<p;G++){var z=F[G];f[G]+=(z+(B[G]-z)*k-m[G])*o}}}}},e}(ss),Xb=function(t){ir(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,c){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,c),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var f=0;if(n<l[0])f=0;else{f=jn.search1(l,n)+1;for(var h=l[f];f>0&&l[f-1]==h;)f--}for(;f<u&&i>=l[f];f++)a.push(this.events[f])}}},e.propertyIds=[""+kr.event],e}(jn),od=function(t){ir(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){if(c==qt.mixOut){s==Z.setup&&xe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==Z.setup||s==Z.first)&&xe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=jn.search1(this.frames,i),u=this.drawOrders[l];if(!u)xe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var f=r.drawOrder,h=r.slots,p=0,d=u.length;p<d;p++)f[p]=h[u[p]]},e.propertyIds=[""+kr.drawOrder],e}(jn),d4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case Z.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var f=0,h=0,p=jn.search(u,i,6),d=this.curves[p/6];switch(d){case 0:var g=u[p];f=u[p+1],h=u[p+2];var m=(i-g)/(u[p+6]-g);f+=(u[p+6+1]-f)*m,h+=(u[p+6+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}s==Z.setup?(l.mix=l.data.mix+(f-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,c==qt.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0)):(l.mix+=(f-l.mix)*o,l.softness+=(h-l.softness)*o,c==qt.mixIn&&(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0))}},e}(ss),p4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){var u=this.frames;r*=7,u[r]=n,u[r+1]=i,u[r+2]=a,u[r+3]=o,u[r+4]=s,u[r+5]=c,u[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var f=l.data;switch(s){case Z.setup:l.mixRotate=f.mixRotate,l.mixX=f.mixX,l.mixY=f.mixY,l.mixScaleX=f.mixScaleX,l.mixScaleY=f.mixScaleY,l.mixShearY=f.mixShearY;return;case Z.first:l.mixRotate+=(f.mixRotate-l.mixRotate)*o,l.mixX+=(f.mixX-l.mixX)*o,l.mixY+=(f.mixY-l.mixY)*o,l.mixScaleX+=(f.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(f.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(f.mixShearY-l.mixShearY)*o}return}var h,p,d,g,m,v,_=jn.search(u,i,7),y=this.curves[_/7];switch(y){case 0:var b=u[_];h=u[_+1],p=u[_+2],d=u[_+3],g=u[_+4],m=u[_+5],v=u[_+6];var w=(i-b)/(u[_+7]-b);h+=(u[_+7+1]-h)*w,p+=(u[_+7+2]-p)*w,d+=(u[_+7+3]-d)*w,g+=(u[_+7+4]-g)*w,m+=(u[_+7+5]-m)*w,v+=(u[_+7+6]-v)*w;break;case 1:h=u[_+1],p=u[_+2],d=u[_+3],g=u[_+4],m=u[_+5],v=u[_+6];break;default:h=this.getBezierValue(i,_,1,y-2),p=this.getBezierValue(i,_,2,y+18-2),d=this.getBezierValue(i,_,3,y+18*2-2),g=this.getBezierValue(i,_,4,y+18*3-2),m=this.getBezierValue(i,_,5,y+18*4-2),v=this.getBezierValue(i,_,6,y+18*5-2)}if(s==Z.setup){var f=l.data;l.mixRotate=f.mixRotate+(h-f.mixRotate)*o,l.mixX=f.mixX+(p-f.mixX)*o,l.mixY=f.mixY+(d-f.mixY)*o,l.mixScaleX=f.mixScaleX+(g-f.mixScaleX)*o,l.mixScaleY=f.mixScaleY+(m-f.mixScaleY)*o,l.mixShearY=f.mixShearY+(v-f.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(p-l.mixX)*o,l.mixY+=(d-l.mixY)*o,l.mixScaleX+=(g-l.mixScaleX)*o,l.mixScaleY+=(m-l.mixScaleY)*o,l.mixShearY+=(v-l.mixShearY)*o}},e}(ss),v4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.position=l.data.position;return;case Z.first:l.position+=(l.data.position-l.position)*o}return}var f=this.getCurveValue(i);s==Z.setup?l.position=l.data.position+(f-l.data.position)*o:l.position+=(f-l.position)*o}},e}(ls),g4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.spacing=l.data.spacing;return;case Z.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var f=this.getCurveValue(i);s==Z.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*o:l.spacing+=(f-l.spacing)*o}},e}(ls),m4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case Z.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var f,h,p,d=jn.search(u,i,4),g=this.curves[d>>2];switch(g){case 0:var m=u[d];f=u[d+1],h=u[d+2],p=u[d+3];var v=(i-m)/(u[d+4]-m);f+=(u[d+4+1]-f)*v,h+=(u[d+4+2]-h)*v,p+=(u[d+4+3]-p)*v;break;case 1:f=u[d+1],h=u[d+2],p=u[d+3];break;default:f=this.getBezierValue(i,d,1,g-2),h=this.getBezierValue(i,d,2,g+18-2),p=this.getBezierValue(i,d,3,g+18*2-2)}if(s==Z.setup){var _=l.data;l.mixRotate=_.mixRotate+(f-_.mixRotate)*o,l.mixX=_.mixX+(h-_.mixX)*o,l.mixY=_.mixY+(p-_.mixY)*o}else l.mixRotate+=(f-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(p-l.mixY)*o}},e}(ss),_4=function(t){ir(e,t);function e(r,n,i){var a=t.call(this,r,[kr.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,f=this.attachment;if(!(u!=f&&(!(u instanceof Ms)||u.timelineAttachment!=f))){var h=this.frames;if(i<h[0]){(s==Z.setup||s==Z.first)&&(l.sequenceIndex=-1);return}var p=jn.search(h,i,e.ENTRIES),d=h[p],g=h[p+e.MODE],m=h[p+e.DELAY];if(this.attachment.sequence){var v=g>>4,_=this.attachment.sequence.regions.length,y=Z3[g&15];if(y!=Ii.hold)switch(v+=(i-d)/m+1e-5|0,y){case Ii.once:v=Math.min(_-1,v);break;case Ii.loop:v%=_;break;case Ii.pingpong:{var b=(_<<1)-2;v=b==0?0:v%b,v>=_&&(v=b-v);break}case Ii.onceReverse:v=Math.max(_-1-v,0);break;case Ii.loopReverse:v=_-1-v%_;break;case Ii.pingpongReverse:{var b=(_<<1)-2;v=b==0?0:(v+_-1)%b,v>=_&&(v=b-v)}}l.sequenceIndex=v}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}(jn),jY=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new GY(this),this.propertyIDs=new qW,this.animationsChanged=!1,this.trackEntryPool=new Ub(function(){return new $Y}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var c=a==0?Z.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=f,p=r;s.reverse&&(h=s.animation.duration-h,p=null);var d=s.animation.timelines,g=d.length;if(a==0&&l==1||c==Z.add)for(var m=0;m<g;m++){xe.webkit602BugfixHelper(l,c);var v=d[m];v instanceof Wc?this.applyAttachmentTimeline(v,e,h,c,!0):v.apply(e,u,h,p,l,c,qt.mixIn)}else{var _=s.timelineMode,y=s.shortestRotation,b=!y&&s.timelinesRotation.length!=g<<1;b&&(s.timelinesRotation.length=g<<1);for(var m=0;m<g;m++){var w=d[m],E=_[m]==NC?c:Z.setup;!y&&w instanceof tg?this.applyRotateTimeline(w,e,h,l,E,s.timelinesRotation,m<<1,b):w instanceof Wc?this.applyAttachmentTimeline(w,e,h,c,!0):(xe.webkit602BugfixHelper(l,c),w.apply(e,u,h,p,l,E,qt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var C=this.unkeyedState+dj,T=e.slots,A=0,I=e.slots.length;A<I;A++){var O=T[A];if(O.attachmentState==C){var P=O.data.attachmentName;O.setAttachment(P?e.getAttachment(O.data.index,P):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==Z.first&&(n=Z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=Z.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,c=i.animation.timelines,l=c.length,u=i.alpha*e.interruptAlpha,f=u*(1-a),h=i.animationLast,p=i.getAnimationTime(),d=p,g=null;if(i.reverse?d=i.animation.duration-d:a<i.eventThreshold&&(g=this.events),n==Z.add)for(var m=0;m<l;m++)c[m].apply(r,h,d,g,f,n,qt.mixOut);else{var v=i.timelineMode,_=i.timelineHoldMix,y=i.shortestRotation,b=!y&&i.timelinesRotation.length!=l<<1;b&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var m=0;m<l;m++){var w=c[m],E=qt.mixOut,C=void 0,T=0;switch(v[m]){case NC:if(!s&&w instanceof od)continue;C=n,T=f;break;case fj:C=Z.setup,T=f;break;case hj:C=n,T=u;break;case MC:C=Z.setup,T=u;break;default:C=Z.setup;var A=_[m];T=u*Math.max(0,1-A.mixTime/A.mixDuration);break}i.totalAlpha+=T,!y&&w instanceof tg?this.applyRotateTimeline(w,r,d,T,C,i.timelinesRotation,m<<1,b):w instanceof Wc?this.applyAttachmentTimeline(w,r,d,C,o):(xe.webkit602BugfixHelper(T,n),s&&w instanceof od&&C==Z.setup&&(E=qt.mixIn),w.apply(r,h,d,g,T,C,E))}}return e.mixDuration>0&&this.queueEvents(i,p),this.events.length=0,i.nextAnimationLast=p,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==Z.setup||i==Z.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[jn.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+dj))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+s7e)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,qt.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var u=e.frames,f=0,h=0;if(n<u[0])switch(a){case Z.setup:l.rotation=l.data.rotation;default:return;case Z.first:f=l.rotation,h=l.data.rotation}else f=a==Z.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var p=0,d=h-f;if(d-=(16384-(16384.499999999996-d/360|0))*360,d==0)p=o[s];else{var g=0,m=0;c?(g=0,m=d):(g=o[s],m=o[s+1]);var v=d>0,_=g>=0;re.signum(m)!=re.signum(d)&&Math.abs(m)<=90&&(Math.abs(g)>180&&(g+=360*re.signum(g)),_=v),p=d+g-g%360,_!=v&&(p+=360*re.signum(g)),o[s]=p}o[s+1]=d,l.rotation=f+p*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(xe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=Z.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=Z.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.addAll(n[c].getPropertyIds())?MC:hj;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyIds();if(!s.addAll(u))a[c]=NC;else if(!r||l instanceof Wc||l instanceof od||l instanceof Xb||!r.animation.hasTimeline(u))a[c]=fj;else{for(var f=r.mixingTo;f;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=o7e,o[c]=f;continue e}break}a[c]=MC}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new Hb("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),$Y=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=Z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),GY=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ba.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ba.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ba.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ba.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ba.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ba.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ba.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case ba.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case ba.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case ba.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case ba.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case ba.event:var c=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,c)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),ba;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ba||(ba={}));var a7e=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),NC=0,fj=1,hj=2,MC=3,o7e=4,dj=1,s7e=2,VY=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),y4=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),c=this.atlas.findRegion(s);if(c==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=c,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new q3(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new Vb(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new BY(r)},t.prototype.newPathAttachment=function(e,r){return new eg(r)},t.prototype.newPointAttachment=function(e,r){return new UY(r)},t.prototype.newClippingAttachment=function(e,r){return new DY(r)},t}(),MR=function(){function t(e,r,n){if(this.matrix=new ln,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(!c){var h=this.skeleton,p=n+90+s;l.a=re.cosDeg(n+o)*i*u,l.c=re.cosDeg(p)*a*u,l.b=re.sinDeg(n+o)*i*f,l.d=re.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,g=c.matrix.c,m=c.matrix.b,v=c.matrix.d;switch(l.tx=d*e+g*r+c.matrix.tx,l.ty=m*e+v*r+c.matrix.ty,this.data.transformMode){case $t.Normal:{var p=n+90+s,_=re.cosDeg(n+o)*i,y=re.cosDeg(p)*a,b=re.sinDeg(n+o)*i,w=re.sinDeg(p)*a;l.a=d*_+g*b,l.c=d*y+g*w,l.b=m*_+v*b,l.d=m*y+v*w;return}case $t.OnlyTranslation:{var p=n+90+s;l.a=re.cosDeg(n+o)*i,l.c=re.cosDeg(p)*a,l.b=re.sinDeg(n+o)*i,l.d=re.sinDeg(p)*a;break}case $t.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*v-g*m)/E,d/=u,m/=f,g=m*E,v=d*E,C=Math.atan2(m,d)*re.radDeg):(d=0,m=0,C=90-Math.atan2(v,g)*re.radDeg);var T=n+o-C,A=n+s-C+90,_=re.cosDeg(T)*i,y=re.cosDeg(A)*a,b=re.sinDeg(T)*i,w=re.sinDeg(A)*a;l.a=d*_-g*b,l.c=d*y-g*w,l.b=m*_+v*b,l.d=m*y+v*w;break}case $t.NoScale:case $t.NoScaleOrReflection:{var I=re.cosDeg(n),O=re.sinDeg(n),P=(d*I+g*O)/u,k=(m*I+v*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==$t.NoScale&&d*v-g*m<0!=(u<0!=f<0)&&(E=-E);var F=Math.PI/2+Math.atan2(k,P),B=Math.cos(F)*E,D=Math.sin(F)*E,_=re.cosDeg(o)*i,y=re.cosDeg(90+s)*a,b=re.sinDeg(o)*i,w=re.sinDeg(90+s)*a;l.a=P*_+B*b,l.c=P*y+B*w,l.b=k*_+D*b,l.d=k*y+D*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*re.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*re.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*re.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*re.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var g=f*d-h*p;this.ascaleY=g/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,g)*re.radDeg,this.arotation=Math.atan2(p,f)*re.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*re.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*re.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*re.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=re.cosDeg(e),c=re.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o},t}(),x4=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=$t.Normal,this.skinRequired=!1,this.color=new rt,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),Wb=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),b4=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),w4=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),HY=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var c=e.parent.matrix;if(!c)throw new Error("IK bone must have parent.");var l=c.a,u=c.c,f=c.b,h=c.d,p=-e.ashearX-e.arotation,d=0,g=0,m=e.skeleton.scaleX,v=-e.skeleton.scaleY;switch(e.data.transformMode){case $t.OnlyTranslation:d=r-e.worldX,g=n-e.worldY,g=-g;break;case $t.NoRotationOrReflection:var _=Math.abs(l*h-u*f)/(l*l+f*f),y=l/m,b=f/v;u=-b*_*m,h=y*_*v,p+=Math.atan2(b,y)*re.radDeg;default:var w=r-c.tx,E=n-c.ty,C=l*h-u*f;d=(w*h-E*u)/C-e.ax,g=(E*l-w*f)/C-e.ay}p+=Math.atan2(g,d)*re.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var T=e.ascaleX,A=e.ascaleY;if(i||a){switch(e.data.transformMode){case $t.NoScale:case $t.NoScaleOrReflection:d=r-e.worldX,g=n-e.worldY}var I=e.data.length*T,O=Math.sqrt(d*d+g*g);if(i&&O<I||a&&O>I&&I>1e-4){var _=(O/I-1)*s+1;T*=_,o&&(A*=_)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,T,A,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c,l){var u=e.ax,f=e.ay,h=e.ascaleX,p=e.ascaleY,d=h,g=p,m=r.ascaleX,v=e.matrix,_=0,y=0,b=0;h<0?(h=-h,_=180,b=-1):(_=0,b=1),p<0&&(p=-p,b=-b),m<0?(m=-m,y=180):y=0;var w=r.ax,E=0,C=0,T=0,A=v.a,I=v.c,O=v.b,P=v.d,k=Math.abs(h-p)<=1e-4;!k||o?(E=0,C=A*w+v.tx,T=O*w+v.ty):(E=r.ay,C=A*w+I*E+v.tx,T=O*w+P*E+v.ty);var F=e.parent.matrix;if(!F)throw new Error("IK parent must itself have a parent.");A=F.a,I=F.c,O=F.b,P=F.d;var B=1/(A*P-I*O),D=C-F.tx,z=T-F.ty,ee=(D*P-z*I)*B-u,te=(z*A-D*O)*B-f,Y=Math.sqrt(ee*ee+te*te),U=r.data.length*m,X,j;if(Y<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(w,E,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}D=n-F.tx,z=i-F.ty;var G=(D*P-z*I)*B-u,ne=(z*A-D*O)*B-f,ae=G*G+ne*ne;if(c!=0){c*=h*(m+1)*.5;var pe=Math.sqrt(ae),se=pe-Y-U*h+c;if(se>0){var _e=Math.min(1,se/(c*2))-1;_e=(se-c*(1-_e*_e))/pe,G-=_e*G,ne-=_e*ne,ae=G*G+ne*ne}}e:if(k){U*=h;var Me=(ae-Y*Y-U*U)/(2*Y*U);Me<-1?(Me=-1,j=Math.PI*a):Me>1?(Me=1,j=0,o&&(A=(Math.sqrt(ae)/(Y+U)-1)*l+1,d*=A,s&&(g*=A))):j=Math.acos(Me)*a,A=Y+U*Me,I=U*Math.sin(j),X=Math.atan2(ne*A-G*I,G*A+ne*I)}else{A=h*U,I=p*U;var Pe=A*A,Ee=I*I,Se=Math.atan2(ne,G);O=Ee*Y*Y+Pe*ae-Pe*Ee;var Ge=-2*Ee*Y,Ye=Ee-Pe;if(P=Ge*Ge-4*Ye*O,P>=0){var Ve=Math.sqrt(P);Ge<0&&(Ve=-Ve),Ve=-(Ge+Ve)*.5;var Xe=Ve/Ye,Ke=O/Ve,wt=Math.abs(Xe)<Math.abs(Ke)?Xe:Ke;if(wt*wt<=ae){z=Math.sqrt(ae-wt*wt)*a,X=Se-Math.atan2(z,wt),j=Math.atan2(z/p,(wt-Y)/h);break e}}var Rt=re.PI,ht=Y-A,gt=ht*ht,It=0,vr=0,tr=Y+A,gr=tr*tr,Kt=0;O=-A*Y/(Pe-Ee),O>=-1&&O<=1&&(O=Math.acos(O),D=A*Math.cos(O)+Y,z=I*Math.sin(O),P=D*D+z*z,P<gt&&(Rt=O,gt=P,ht=D,It=z),P>gr&&(vr=O,gr=P,tr=D,Kt=z)),ae<=(gt+gr)*.5?(X=Se-Math.atan2(It*a,ht),j=Rt*a):(X=Se-Math.atan2(Kt*a,tr),j=vr*a)}var Et=Math.atan2(E,w)*b,ur=e.arotation;X=(X-Et)*re.radDeg+_-ur,X>180?X-=360:X<-180&&(X+=360),e.updateWorldTransformWith(u,f,ur+X*l,d,g,0,0),ur=r.arotation,j=((j+Et)*re.radDeg-r.ashearX)*b+y-ur,j>180?j-=360:j<-180&&(j+=360),r.updateWorldTransformWith(w,E,ur+j*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),E4=function(t){ir(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Wb),S4=function(t){ir(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=_n.Fixed,n.spacingMode=li.Fixed,n.rotateMode=Dn.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Wb),li;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(li||(li={}));var zY=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof eg){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==Dn.Tangent,s=a.rotateMode==Dn.ChainScale,c=this.bones,l=c.length,u=o?l:l+1,f=xe.setArraySize(this.spaces,u),h=s?this.lengths=xe.setArraySize(this.lengths,l):[],p=this.spacing;switch(a.spacingMode){case li.Percent:if(s)for(var d=0,g=u-1;d<g;d++){var m=c[d],v=m.data.length;if(v<t.epsilon)h[d]=0;else{var _=v*m.matrix.a,y=v*m.matrix.b;h[d]=Math.sqrt(_*_+y*y)}}xe.arrayFill(f,1,u,p);break;case li.Proportional:for(var b=0,d=0,g=u-1;d<g;){var m=c[d],v=m.data.length;if(v<t.epsilon)s&&(h[d]=0),f[++d]=p;else{var _=v*m.matrix.a,y=v*m.matrix.b,w=Math.sqrt(_*_+y*y);s&&(h[d]=w),f[++d]=w,b+=w}}if(b>0){b=u/b*p;for(var d=1;d<u;d++)f[d]*=b}break;default:for(var E=a.spacingMode==li.Length,d=0,g=u-1;d<g;){var m=c[d],v=m.data.length;if(v<t.epsilon)s&&(h[d]=0),f[++d]=p;else{var _=v*m.matrix.a,y=v*m.matrix.b,C=Math.sqrt(_*_+y*y);s&&(h[d]=C),f[++d]=(E?v+p:p)*C/v}}}var T=this.computeWorldPositions(e,u,o),A=T[0],I=T[1],O=a.offsetRotation,P=!1;if(O==0)P=a.rotateMode==Dn.Chain;else{P=!1;var k=this.target.bone.matrix;O*=k.a*k.d-k.b*k.c>0?re.degRad:-re.degRad}for(var d=0,k=3;d<l;d++,k+=3){var m=c[d],F=m.matrix;F.tx+=(A-F.tx)*n,F.ty+=(I-F.ty)*i;var _=T[k],y=T[k+1],B=_-A,D=y-I;if(s){var z=h[d];if(z!=0){var ee=(Math.sqrt(B*B+D*D)/z-1)*r+1;F.a*=ee,F.b*=ee}}if(A=_,I=y,r>0){var te=F.a,Y=F.c,U=F.b,X=F.d,j=0,G=0,ne=0;if(o?j=T[k-1]:f[d+1]==0?j=T[k+2]:j=Math.atan2(D,B),j-=Math.atan2(U,te),P){G=Math.cos(j),ne=Math.sin(j);var ae=m.data.length;A+=(ae*(G*te-ne*U)-B)*r,I+=(ae*(ne*te+G*U)-D)*r}else j+=O;j>re.PI?j-=re.PI2:j<-re.PI&&(j+=re.PI2),j*=r,G=Math.cos(j),ne=Math.sin(j),F.a=G*te-ne*U,F.c=G*Y-ne*X,F.b=ne*te+G*U,F.d=ne*Y+G*X}m.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=xe.setArraySize(this.positions,r*3+2),c=this.world,l=e.closed,u=e.worldVerticesLength,f=u/6,h=t.NONE;if(!e.constantSpeed){var p=e.lengths;f-=l?1:2;var d=p[f];this.data.positionMode==_n.Percent&&(a*=d);var g;switch(this.data.spacingMode){case li.Percent:g=d;break;case li.Proportional:g=d/r;break;default:g=1}c=xe.setArraySize(this.world,8);for(var m=0,v=0,_=0;m<r;m++,v+=3){var y=o[m]*g;a+=y;var b=a;if(l)b%=d,b<0&&(b+=d),_=0;else if(b<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,c,0,2)),this.addBeforePosition(b,c,0,s,v);continue}else if(b>d){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,u-6,4,c,0,2)),this.addAfterPosition(b-d,c,0,s,v);continue}for(;;_++){var w=p[_];if(!(b>w)){if(_==0)b/=w;else{var E=p[_-1];b=(b-E)/(w-E)}break}}_!=h&&(h=_,l&&_==f?(e.computeWorldVertices(i,u-4,4,c,0,2),e.computeWorldVertices(i,0,4,c,4,2)):e.computeWorldVertices(i,_*6+2,8,c,0,2)),this.addCurvePosition(b,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],s,v,n||m>0&&y==0)}return s}l?(u+=2,c=xe.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,c,0,2),e.computeWorldVertices(i,0,2,c,u-4,2),c[u-2]=c[0],c[u-1]=c[1]):(f--,u-=4,c=xe.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,c,0,2));for(var C=xe.setArraySize(this.curves,f),T=0,A=c[0],I=c[1],O=0,P=0,k=0,F=0,B=0,D=0,z=0,ee=0,te=0,Y=0,U=0,X=0,j=0,G=0,m=0,ne=2;m<f;m++,ne+=6)O=c[ne],P=c[ne+1],k=c[ne+2],F=c[ne+3],B=c[ne+4],D=c[ne+5],z=(A-O*2+k)*.1875,ee=(I-P*2+F)*.1875,te=((O-k)*3-A+B)*.09375,Y=((P-F)*3-I+D)*.09375,U=z*2+te,X=ee*2+Y,j=(O-A)*.75+z+te*.16666667,G=(P-I)*.75+ee+Y*.16666667,T+=Math.sqrt(j*j+G*G),j+=U,G+=X,U+=te,X+=Y,T+=Math.sqrt(j*j+G*G),j+=U,G+=X,T+=Math.sqrt(j*j+G*G),j+=U+te,G+=X+Y,T+=Math.sqrt(j*j+G*G),C[m]=T,A=B,I=D;this.data.positionMode==_n.Percent&&(a*=T);var ae;switch(this.data.spacingMode){case li.Percent:ae=T;break;case li.Proportional:ae=T/r;break;default:ae=1}for(var pe=this.segments,se=0,m=0,v=0,_=0,_e=0;m<r;m++,v+=3){var y=o[m]*ae;a+=y;var b=a;if(l)b%=T,b<0&&(b+=T),_=0;else if(b<0){this.addBeforePosition(b,c,0,s,v);continue}else if(b>T){this.addAfterPosition(b-T,c,u-4,s,v);continue}for(;;_++){var Me=C[_];if(!(b>Me)){if(_==0)b/=Me;else{var E=C[_-1];b=(b-E)/(Me-E)}break}}if(_!=h){h=_;var Pe=_*6;for(A=c[Pe],I=c[Pe+1],O=c[Pe+2],P=c[Pe+3],k=c[Pe+4],F=c[Pe+5],B=c[Pe+6],D=c[Pe+7],z=(A-O*2+k)*.03,ee=(I-P*2+F)*.03,te=((O-k)*3-A+B)*.006,Y=((P-F)*3-I+D)*.006,U=z*2+te,X=ee*2+Y,j=(O-A)*.3+z+te*.16666667,G=(P-I)*.3+ee+Y*.16666667,se=Math.sqrt(j*j+G*G),pe[0]=se,Pe=1;Pe<8;Pe++)j+=U,G+=X,U+=te,X+=Y,se+=Math.sqrt(j*j+G*G),pe[Pe]=se;j+=U,G+=X,se+=Math.sqrt(j*j+G*G),pe[8]=se,j+=U+te,G+=X+Y,se+=Math.sqrt(j*j+G*G),pe[9]=se,_e=0}for(b*=se;;_e++){var Ee=pe[_e];if(!(b>Ee)){if(_e==0)b/=Ee;else{var E=pe[_e-1];b=_e+(b-E)/(Ee-E)}break}}this.addCurvePosition(b*.1,A,I,O,P,k,F,B,D,s,v,n||m>0&&y==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){if(e==0||isNaN(e)){u[f]=r,u[f+1]=n,u[f+2]=Math.atan2(a-n,i-r);return}var p=e*e,d=p*e,g=1-e,m=g*g,v=m*g,_=g*e,y=_*3,b=g*y,w=y*e,E=r*v+i*b+o*w+c*d,C=n*v+a*b+s*w+l*d;u[f]=E,u[f+1]=C,h&&(e<.001?u[f+2]=Math.atan2(a-n,i-r):u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),XY=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new rt,this.darkColor=e.darkColor?new rt:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof Ms)||!(this.attachment instanceof Ms)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),WY=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new zv,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,p=l.d,d=u*p-f*h>0?re.degRad:-re.degRad,g=this.data.offsetRotation*d,m=this.data.offsetShearY*d,v=this.bones,_=0,y=v.length;_<y;_++){var b=v[_],w=b.matrix;if(e!=0){var E=w.a,C=w.c,T=w.b,A=w.d,I=Math.atan2(h,u)-Math.atan2(T,E)+g;I>re.PI?I-=re.PI2:I<-re.PI&&(I+=re.PI2),I*=e;var O=Math.cos(I),P=Math.sin(I);w.a=O*E-P*T,w.c=O*C-P*A,w.b=P*E+O*T,w.d=P*C+O*A}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),w.tx+=(k.x-w.tx)*r,w.ty+=(k.y-w.ty)*n}if(i!=0){var F=Math.sqrt(w.a*w.a+w.b*w.b);F!=0&&(F=(F+(Math.sqrt(u*u+h*h)-F+this.data.offsetScaleX)*i)/F),w.a*=F,w.b*=F}if(a!=0){var F=Math.sqrt(w.c*w.c+w.d*w.d);F!=0&&(F=(F+(Math.sqrt(f*f+p*p)-F+this.data.offsetScaleY)*a)/F),w.c*=F,w.d*=F}if(o>0){var C=w.c,A=w.d,B=Math.atan2(A,C),I=Math.atan2(p,f)-Math.atan2(h,u)-(B-Math.atan2(w.b,w.a));I>re.PI?I-=re.PI2:I<-re.PI&&(I+=re.PI2),I=B+(I+m)*o;var F=Math.sqrt(C*C+A*A);w.c=Math.cos(I)*F,w.d=Math.sin(I)*F}b.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,p=l.d,d=u*p-f*h>0?re.degRad:-re.degRad,g=this.data.offsetRotation*d,m=this.data.offsetShearY*d,v=this.bones,_=0,y=v.length;_<y;_++){var b=v[_],w=b.matrix;if(e!=0){var E=w.a,C=w.c,T=w.b,A=w.d,I=Math.atan2(h,u)+g;I>re.PI?I-=re.PI2:I<-re.PI&&(I+=re.PI2),I*=e;var O=Math.cos(I),P=Math.sin(I);w.a=O*E-P*T,w.c=O*C-P*A,w.b=P*E+O*T,w.d=P*C+O*A}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),w.tx+=k.x*r,w.ty+=k.y*n}if(i!=0){var F=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;w.a*=F,w.b*=F}if(a!=0){var F=(Math.sqrt(f*f+p*p)-1+this.data.offsetScaleY)*a+1;w.c*=F,w.d*=F}if(o>0){var I=Math.atan2(p,f)-Math.atan2(h,u);I>re.PI?I-=re.PI2:I<-re.PI&&(I+=re.PI2);var C=w.c,A=w.d;I=Math.atan2(A,C)+(I-re.PI/2+m)*o;var F=Math.sqrt(C*C+A*A);w.c=Math.cos(I)*F,w.d=Math.sin(I)*F}b.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation;if(e!=0){var p=s.arotation-h+this.data.offsetRotation;p-=(16384-(16384.499999999996-p/360|0))*360,h+=p*e}var d=f.ax,g=f.ay;d+=(s.ax-d+this.data.offsetX)*r,g+=(s.ay-g+this.data.offsetY)*n;var m=f.ascaleX,v=f.ascaleY;i!=0&&m!=0&&(m=(m+(s.ascaleX-m+this.data.offsetScaleX)*i)/m),a!=0&&v!=0&&(v=(v+(s.ascaleY-v+this.data.offsetScaleY)*a)/v);var _=f.ashearY;if(o!=0){var p=s.ashearY-_+this.data.offsetShearY;p-=(16384-(16384.499999999996-p/360|0))*360,_+=p*o}f.updateWorldTransformWith(d,g,h,m,v,f.ashearX,_)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation+(s.arotation+this.data.offsetRotation)*e,p=f.ax+(s.ax+this.data.offsetX)*r,d=f.ay+(s.ay+this.data.offsetY)*n,g=f.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),m=f.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),v=f.ashearY+(s.ashearY+this.data.offsetShearY)*o;f.updateWorldTransformWith(p,d,h,g,m,f.ashearX,v)}},t}(),YY=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new MR(n,this,null);else{var a=this.bones[n.parent.index];i=new MR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new XY(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new HY(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new WY(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new zY(u,this))}this.color=new rt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,p=u+f+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var g=s[d];if(g.data.order==n){this.sortIkConstraint(g);continue e}}for(var d=0;d<f;d++){var g=c[d];if(g.data.order==n){this.sortTransformConstraint(g);continue e}}for(var d=0;d<h;d++){var g=l[d];if(g.data.order==n){this.sortPathConstraint(g);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof eg&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof eg){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,c=re.cosDeg(r.rotation+r.shearX)*r.scaleX,l=re.cosDeg(s)*r.scaleY,u=re.sinDeg(r.rotation+r.shearX)*r.scaleX,f=re.sinDeg(s)*r.scaleY,h=this.scaleX,p=-this.scaleY;r.matrix.a=(n*c+i*u)*h,r.matrix.c=(n*l+i*f)*h,r.matrix.b=(a*c+o*u)*p,r.matrix.d=(a*l+o*f)*p;for(var d=this._updateCache,g=0,m=d.length;g<m;g++){var v=d[g];v!=r&&v.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;xe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new zv,r=new zv;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof q3)h=8,p=xe.setArraySize(n,h,0),d.computeWorldVertices(f,p,0,2);else if(d instanceof Vb){var g=d;h=g.worldVerticesLength,p=xe.setArraySize(n,h,0),g.computeWorldVertices(f,0,h,p,0,2)}if(p)for(var m=0,v=p.length;m<v;m+=2){var _=p[m],y=p[m+1];a=Math.min(a,_),o=Math.min(o,y),s=Math.max(s,_),c=Math.max(c,y)}}}e.set(a,o),r.set(s-a,c-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),C4=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),T4=function(){function t(e,r,n){if(this.index=0,this.color=new rt(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=ct.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),A4=function(t){ir(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Wb),LR=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Mx=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment&&(c.attachment instanceof Vb?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new LR(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new LR(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u&&a.setAttachment(u);break}}}n++}},t}(),qY=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new C4;n.name="";var i=new Px(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var c="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(c)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var f=0;f<u;f++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}u=i.readInt(!0);for(var f=0;f<u;f++){var p=i.readString();if(!p)throw new Error("Bone name must not be null.");var d=f==0?null:n.bones[i.readInt(!0)],g=new x4(f,p,d);g.rotation=i.readFloat(),g.x=i.readFloat()*r,g.y=i.readFloat()*r,g.scaleX=i.readFloat(),g.scaleY=i.readFloat(),g.shearX=i.readFloat(),g.shearY=i.readFloat(),g.length=i.readFloat()*r,g.transformMode=i.readInt(!0),g.skinRequired=i.readBoolean(),l&&rt.rgba8888ToColor(g.color,i.readInt32()),n.bones.push(g)}u=i.readInt(!0);for(var f=0;f<u;f++){var m=i.readString();if(!m)throw new Error("Slot name must not be null.");var v=n.bones[i.readInt(!0)],g=new T4(f,m,v);rt.rgba8888ToColor(g.color,i.readInt32());var _=i.readInt32();_!=-1&&rt.rgb888ToColor(g.darkColor=new rt,_),g.attachmentName=i.readStringRef(),g.blendMode=i.readInt(!0),n.slots.push(g)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var b=i.readString();if(!b)throw new Error("IK constraint data name must not be null.");var g=new E4(b);g.order=i.readInt(!0),g.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var w=0;w<y;w++)g.bones.push(n.bones[i.readInt(!0)]);g.target=n.bones[i.readInt(!0)],g.mix=i.readFloat(),g.softness=i.readFloat()*r,g.bendDirection=i.readByte(),g.compress=i.readBoolean(),g.stretch=i.readBoolean(),g.uniform=i.readBoolean(),n.ikConstraints.push(g)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var E=i.readString();if(!E)throw new Error("Transform constraint data name must not be null.");var g=new A4(E);g.order=i.readInt(!0),g.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var w=0;w<y;w++)g.bones.push(n.bones[i.readInt(!0)]);g.target=n.bones[i.readInt(!0)],g.local=i.readBoolean(),g.relative=i.readBoolean(),g.offsetRotation=i.readFloat(),g.offsetX=i.readFloat()*r,g.offsetY=i.readFloat()*r,g.offsetScaleX=i.readFloat(),g.offsetScaleY=i.readFloat(),g.offsetShearY=i.readFloat(),g.mixRotate=i.readFloat(),g.mixX=i.readFloat(),g.mixY=i.readFloat(),g.mixScaleX=i.readFloat(),g.mixScaleY=i.readFloat(),g.mixShearY=i.readFloat(),n.transformConstraints.push(g)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var C=i.readString();if(!C)throw new Error("Path constraint data name must not be null.");var g=new S4(C);g.order=i.readInt(!0),g.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var w=0;w<y;w++)g.bones.push(n.bones[i.readInt(!0)]);g.target=n.slots[i.readInt(!0)],g.positionMode=i.readInt(!0),g.spacingMode=i.readInt(!0),g.rotateMode=i.readInt(!0),g.offsetRotation=i.readFloat(),g.position=i.readFloat(),g.positionMode==_n.Fixed&&(g.position*=r),g.spacing=i.readFloat(),(g.spacingMode==li.Length||g.spacingMode==li.Fixed)&&(g.spacing*=r),g.mixRotate=i.readFloat(),g.mixX=i.readFloat(),g.mixY=i.readFloat(),n.pathConstraints.push(g)}var T=this.readSkin(i,n,!0,l);T&&(n.defaultSkin=T,n.skins.push(T));{var f=n.skins.length;for(xe.setArraySize(n.skins,u=f+i.readInt(!0));f<u;f++){var A=this.readSkin(i,n,!1,l);if(!A)throw new Error("readSkin() should not have returned null.");n.skins[f]=A}}u=this.linkedMeshes.length;for(var f=0;f<u;f++){var I=this.linkedMeshes[f],A=I.skin?n.findSkin(I.skin):n.defaultSkin;if(!A)throw new Error("Not skin found for linked mesh.");if(!I.parent)throw new Error("Linked mesh parent must not be null");var O=A.getAttachment(I.slotIndex,I.parent);if(!O)throw new Error("Parent mesh not found: "+I.parent);I.mesh.timelineAttachment=I.inheritTimeline?O:I.mesh,I.mesh.setParentMesh(O)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var f=0;f<u;f++){var P=i.readStringRef();if(!P)throw new Error;var g=new w4(P);g.intValue=i.readInt(!1),g.floatValue=i.readFloat(),g.stringValue=i.readString(),g.audioPath=i.readString(),g.audioPath&&(g.volume=i.readFloat(),g.balance=i.readFloat()),n.events.push(g)}u=i.readInt(!0);for(var f=0;f<u;f++){var k=i.readString();if(!k)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,k,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Mx("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new Mx(s),a.bones.length=e.readInt(!0);for(var c=0,l=a.bones.length;c<l;c++)a.bones[c]=r.bones[e.readInt(!0)];for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var c=0;c<o;c++)for(var u=e.readInt(!0),f=0,h=e.readInt(!0);f<h;f++){var p=e.readStringRef();if(!p)throw new Error("Attachment name must not be null");var d=this.readAttachment(e,r,a,u,p,i);d&&a.setAttachment(u,p,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();switch(c||(c=a),e.readByte()){case Qt.Region:{var l=e.readStringRef(),u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),g=e.readFloat(),m=e.readFloat(),v=e.readInt32(),_=this.readSequence(e);l||(l=c);var y=this.attachmentLoader.newRegionAttachment(n,c,l,_);return y?(y.path=l,y.x=f*s,y.y=h*s,y.scaleX=p,y.scaleY=d,y.rotation=u,y.width=g*s,y.height=m*s,rt.rgba8888ToColor(y.color,v),y.sequence=_,_==null&&y.updateRegion(),y):null}case Qt.BoundingBox:{var b=e.readInt(!0),w=this.readVertices(e,b),v=o?e.readInt32():0,E=this.attachmentLoader.newBoundingBoxAttachment(n,c);return E?(E.worldVerticesLength=b<<1,E.vertices=w.vertices,E.bones=w.bones,o&&rt.rgba8888ToColor(E.color,v),E):null}case Qt.Mesh:{var l=e.readStringRef(),v=e.readInt32(),b=e.readInt(!0),C=this.readFloatArray(e,b<<1,1),T=this.readShortArray(e),w=this.readVertices(e,b),A=e.readInt(!0),_=this.readSequence(e),I=[],g=0,m=0;o&&(I=this.readShortArray(e),g=e.readFloat(),m=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,_);return O?(O.path=l,rt.rgba8888ToColor(O.color,v),O.bones=w.bones,O.vertices=w.vertices,O.worldVerticesLength=b<<1,O.triangles=T,O.regionUVs=new Float32Array(C),O.hullLength=A<<1,O.sequence=_,o&&(O.edges=I,O.width=g*s,O.height=m*s),O):null}case Qt.LinkedMesh:{var l=e.readStringRef(),v=e.readInt32(),P=e.readStringRef(),k=e.readStringRef(),F=e.readBoolean(),_=this.readSequence(e),g=0,m=0;o&&(g=e.readFloat(),m=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,_);return O?(O.path=l,rt.rgba8888ToColor(O.color,v),O.sequence=_,o&&(O.width=g*s,O.height=m*s),this.linkedMeshes.push(new l7e(O,P,i,k,F)),O):null}case Qt.Path:{for(var B=e.readBoolean(),D=e.readBoolean(),b=e.readInt(!0),w=this.readVertices(e,b),z=xe.newArray(b/3,0),ee=0,te=z.length;ee<te;ee++)z[ee]=e.readFloat()*s;var v=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,c);return l?(l.closed=B,l.constantSpeed=D,l.worldVerticesLength=b<<1,l.vertices=w.vertices,l.bones=w.bones,l.lengths=z,o&&rt.rgba8888ToColor(l.color,v),l):null}case Qt.Point:{var u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),v=o?e.readInt32():0,Y=this.attachmentLoader.newPointAttachment(n,c);return Y?(Y.x=f*s,Y.y=h*s,Y.rotation=u,o&&rt.rgba8888ToColor(Y.color,v),Y):null}case Qt.Clipping:{var U=e.readInt(!0),b=e.readInt(!0),w=this.readVertices(e,b),v=o?e.readInt32():0,X=this.attachmentLoader.newClippingAttachment(n,c);return X?(X.endSlot=r.slots[U],X.worldVerticesLength=b<<1,X.vertices=w.vertices,X.bones=w.bones,o&&rt.rgba8888ToColor(X.color,v),X):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new K3(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?pj:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new u7e;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=xe.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var c=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var f=e.readByte(),h=e.readInt(!0),p=h-1;switch(f){case x7e:{for(var d=new Wc(h,c),g=0;g<h;g++)d.setFrame(g,e.readFloat(),e.readStringRef());i.push(d);break}case b7e:{for(var m=e.readInt(!0),d=new s4(h,m,c),v=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,g=0,E=0;d.setFrame(g,v,_,y,b,w),g!=p;g++){var C=e.readFloat(),T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;switch(e.readByte()){case $o:d.setStepped(g);break;case Go:wr(e,d,E++,g,0,v,C,_,T,1),wr(e,d,E++,g,1,v,C,y,A,1),wr(e,d,E++,g,2,v,C,b,I,1),wr(e,d,E++,g,3,v,C,w,O,1)}v=C,_=T,y=A,b=I,w=O}i.push(d);break}case w7e:{for(var m=e.readInt(!0),d=new l4(h,m,c),v=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,g=0,E=0;d.setFrame(g,v,_,y,b),g!=p;g++){var C=e.readFloat(),T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255;switch(e.readByte()){case $o:d.setStepped(g);break;case Go:wr(e,d,E++,g,0,v,C,_,T,1),wr(e,d,E++,g,1,v,C,y,A,1),wr(e,d,E++,g,2,v,C,b,I,1)}v=C,_=T,y=A,b=I}i.push(d);break}case E7e:{for(var m=e.readInt(!0),d=new c4(h,m,c),v=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,g=0,E=0;d.setFrame(g,v,_,y,b,w,T,A,I),g!=p;g++){var C=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255;switch(e.readByte()){case $o:d.setStepped(g);break;case Go:wr(e,d,E++,g,0,v,C,_,P,1),wr(e,d,E++,g,1,v,C,y,k,1),wr(e,d,E++,g,2,v,C,b,F,1),wr(e,d,E++,g,3,v,C,w,B,1),wr(e,d,E++,g,4,v,C,T,D,1),wr(e,d,E++,g,5,v,C,A,z,1),wr(e,d,E++,g,6,v,C,I,ee,1)}v=C,_=P,y=k,b=F,w=B,T=D,A=z,I=ee}i.push(d);break}case S7e:{for(var m=e.readInt(!0),d=new f4(h,m,c),v=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,g=0,E=0;d.setFrame(g,v,_,y,b,T,A,I),g!=p;g++){var C=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255;switch(e.readByte()){case $o:d.setStepped(g);break;case Go:wr(e,d,E++,g,0,v,C,_,P,1),wr(e,d,E++,g,1,v,C,y,k,1),wr(e,d,E++,g,2,v,C,b,F,1),wr(e,d,E++,g,3,v,C,T,D,1),wr(e,d,E++,g,4,v,C,A,z,1),wr(e,d,E++,g,5,v,C,I,ee,1)}v=C,_=P,y=k,b=F,T=D,A=z,I=ee}i.push(d);break}case C7e:{for(var d=new u4(h,e.readInt(!0),c),v=e.readFloat(),w=e.readUnsignedByte()/255,g=0,E=0;d.setFrame(g,v,w),g!=p;g++){var C=e.readFloat(),O=e.readUnsignedByte()/255;switch(e.readByte()){case $o:d.setStepped(g);break;case Go:wr(e,d,E++,g,0,v,C,w,O,1)}v=C,w=O}i.push(d)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var te=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var Y=e.readByte(),h=e.readInt(!0),m=e.readInt(!0);switch(Y){case c7e:i.push(al(e,new tg(h,m,te),1));break;case f7e:i.push(LC(e,new J3(h,m,te),a));break;case h7e:i.push(al(e,new Q3(h,m,te),a));break;case d7e:i.push(al(e,new e4(h,m,te),a));break;case p7e:i.push(LC(e,new t4(h,m,te),1));break;case v7e:i.push(al(e,new r4(h,m,te),1));break;case g7e:i.push(al(e,new n4(h,m,te),1));break;case m7e:i.push(LC(e,new i4(h,m,te),1));break;case _7e:i.push(al(e,new a4(h,m,te),1));break;case y7e:i.push(al(e,new o4(h,m,te),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var U=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new d4(h,e.readInt(!0),U),v=e.readFloat(),X=e.readFloat(),j=e.readFloat()*a,g=0,E=0;d.setFrame(g,v,X,j,e.readByte(),e.readBoolean(),e.readBoolean()),g!=p;g++){var C=e.readFloat(),G=e.readFloat(),ne=e.readFloat()*a;switch(e.readByte()){case $o:d.setStepped(g);break;case Go:wr(e,d,E++,g,0,v,C,X,G,1),wr(e,d,E++,g,1,v,C,j,ne,a)}v=C,X=G,j=ne}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var U=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new p4(h,e.readInt(!0),U),v=e.readFloat(),ae=e.readFloat(),pe=e.readFloat(),se=e.readFloat(),_e=e.readFloat(),Me=e.readFloat(),Pe=e.readFloat(),g=0,E=0;d.setFrame(g,v,ae,pe,se,_e,Me,Pe),g!=p;g++){var C=e.readFloat(),Ee=e.readFloat(),Se=e.readFloat(),Ge=e.readFloat(),Ye=e.readFloat(),Ve=e.readFloat(),Xe=e.readFloat();switch(e.readByte()){case $o:d.setStepped(g);break;case Go:wr(e,d,E++,g,0,v,C,ae,Ee,1),wr(e,d,E++,g,1,v,C,pe,Se,1),wr(e,d,E++,g,2,v,C,se,Ge,1),wr(e,d,E++,g,3,v,C,_e,Ye,1),wr(e,d,E++,g,4,v,C,Me,Ve,1),wr(e,d,E++,g,5,v,C,Pe,Xe,1)}v=C,ae=Ee,pe=Se,se=Ge,_e=Ye,Me=Ve,Pe=Xe}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var U=e.readInt(!0),Ke=n.pathConstraints[U],l=0,u=e.readInt(!0);l<u;l++)switch(e.readByte()){case A7e:i.push(al(e,new v4(e.readInt(!0),e.readInt(!0),U),Ke.positionMode==_n.Fixed?a:1));break;case I7e:i.push(al(e,new g4(e.readInt(!0),e.readInt(!0),U),Ke.spacingMode==li.Length||Ke.spacingMode==li.Fixed?a:1));break;case R7e:for(var d=new m4(e.readInt(!0),e.readInt(!0),U),v=e.readFloat(),ae=e.readFloat(),pe=e.readFloat(),se=e.readFloat(),g=0,E=0,p=d.getFrameCount()-1;d.setFrame(g,v,ae,pe,se),g!=p;g++){var C=e.readFloat(),Ee=e.readFloat(),Se=e.readFloat(),Ge=e.readFloat();switch(e.readByte()){case $o:d.setStepped(g);break;case Go:wr(e,d,E++,g,0,v,C,ae,Ee,1),wr(e,d,E++,g,1,v,C,pe,Se,1),wr(e,d,E++,g,2,v,C,se,Ge,1)}v=C,ae=Ee,pe=Se,se=Ge}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var wt=n.skins[e.readInt(!0)],l=0,u=e.readInt(!0);l<u;l++)for(var c=e.readInt(!0),Rt=0,ht=e.readInt(!0);Rt<ht;Rt++){var gt=e.readStringRef();if(!gt)throw new Error("attachmentName must not be null.");var It=wt.getAttachment(c,gt),f=this.readDeformTimelineType(e),h=e.readInt(!0),p=h-1;switch(f){case pj:{for(var vr=It,tr=vr.bones,gr=vr.vertices,Kt=tr?gr.length/3*2:gr.length,m=e.readInt(!0),d=new h4(h,m,c,vr),v=e.readFloat(),g=0,E=0;;g++){var Et=void 0,ur=e.readInt(!0);if(ur==0)Et=tr?xe.newFloatArray(Kt):gr;else{Et=xe.newFloatArray(Kt);var ke=e.readInt(!0);if(ur+=ke,a==1)for(var V=ke;V<ur;V++)Et[V]=e.readFloat();else for(var V=ke;V<ur;V++)Et[V]=e.readFloat()*a;if(!tr)for(var V=0,ve=Et.length;V<ve;V++)Et[V]+=gr[V]}if(d.setFrame(g,v,Et),g==p)break;var C=e.readFloat();switch(e.readByte()){case $o:d.setStepped(g);break;case Go:wr(e,d,E++,g,0,v,C,0,1,1)}v=C}i.push(d);break}case T7e:{for(var d=new _4(h,c,It),g=0;g<h;g++){var v=e.readFloat(),Te=e.readInt32();d.setFrame(g,v,Z3[Te&15],Te>>4,e.readFloat())}i.push(d);break}}}var Fe=e.readInt(!0);if(Fe>0){for(var d=new od(Fe),oe=n.slots.length,o=0;o<Fe;o++){for(var v=e.readFloat(),Ie=e.readInt(!0),W=xe.newArray(oe,0),l=oe-1;l>=0;l--)W[l]=-1;for(var Ue=xe.newArray(oe-Ie,0),pt=0,N=0,l=0;l<Ie;l++){for(var c=e.readInt(!0);pt!=c;)Ue[N++]=pt++;W[pt+e.readInt(!0)]=pt++}for(;pt<oe;)Ue[N++]=pt++;for(var l=oe-1;l>=0;l--)W[l]==-1&&(W[l]=Ue[--N]);d.setFrame(o,v,W)}i.push(d)}var Re=e.readInt(!0);if(Re>0){for(var d=new Xb(Re),o=0;o<Re;o++){var v=e.readFloat(),Oe=n.events[e.readInt(!0)],q=new b4(v,Oe);q.intValue=e.readInt(!1),q.floatValue=e.readFloat(),q.stringValue=e.readBoolean()?e.readString():Oe.stringValue,q.data.audioPath&&(q.volume=e.readFloat(),q.balance=e.readFloat()),d.setFrame(o,q)}i.push(d)}for(var ce=0,o=0,s=i.length;o<s;o++)ce=Math.max(ce,i[o].getDuration());return new Hb(r,i,ce)},t.BlendModeValues=[ct.NORMAL,ct.ADD,ct.MULTIPLY,ct.SCREEN],t}(),l7e=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),u7e=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function al(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var c=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case $o:e.setStepped(a);break;case Go:wr(t,e,o++,a,0,n,c,i,l,r)}n=c,i=l}return e}function LC(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,c=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=c;o++){var l=t.readFloat(),u=t.readFloat()*r,f=t.readFloat()*r;switch(t.readByte()){case $o:e.setStepped(o);break;case Go:wr(t,e,s++,o,0,n,l,i,u,r),wr(t,e,s++,o,1,n,l,a,f,r)}n=l,i=u,a=f}return e}function wr(t,e,r,n,i,a,o,s,c,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,c)}var c7e=0,f7e=1,h7e=2,d7e=3,p7e=4,v7e=5,g7e=6,m7e=7,_7e=8,y7e=9,x7e=0,b7e=1,w7e=2,E7e=3,S7e=4,C7e=5,pj=0,T7e=1,A7e=0,I7e=1,R7e=2,$o=1,Go=2,P7e=function(t){ir(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(A3),KY=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new C4,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var c=0;c<i.bones.length;c++){var l=i.bones[c],u=null,f=Ae(l,"parent",null);if(f!=null&&(u=n.findBone(f),u==null))throw new Error("Parent bone not found: "+f);var h=new x4(n.bones.length,l.name,u);h.length=Ae(l,"length",0)*r,h.x=Ae(l,"x",0)*r,h.y=Ae(l,"y",0)*r,h.rotation=Ae(l,"rotation",0),h.scaleX=Ae(l,"scaleX",1),h.scaleY=Ae(l,"scaleY",1),h.shearX=Ae(l,"shearX",0),h.shearY=Ae(l,"shearY",0),h.transformMode=xe.enumValue($t,Ae(l,"transform","Normal")),h.skinRequired=Ae(l,"skin",!1);var p=Ae(l,"color",null);p&&h.color.setFromString(p),n.bones.push(h)}if(i.slots)for(var c=0;c<i.slots.length;c++){var d=i.slots[c],g=n.findBone(d.bone);if(!g)throw new Error("Couldn't find bone "+d.bone+" for slot "+d.name);var h=new T4(n.slots.length,d.name,g),p=Ae(d,"color",null);p&&h.color.setFromString(p);var m=Ae(d,"dark",null);m&&(h.darkColor=rt.fromString(m)),h.attachmentName=Ae(d,"attachment",null),h.blendMode=t.blendModeFromString(Ae(d,"blend","normal")),n.slots.push(h)}if(i.ik)for(var c=0;c<i.ik.length;c++){var v=i.ik[c],h=new E4(v.name);h.order=Ae(v,"order",0),h.skinRequired=Ae(v,"skin",!1);for(var _=0;_<v.bones.length;_++){var y=v.bones[_],b=n.findBone(y);if(b==null)throw new Error("IK bone not found: "+y);h.bones.push(b)}h.target=n.findBone(v.target),h.mix=Ae(v,"mix",1),h.softness=Ae(v,"softness",0)*r,h.bendDirection=Ae(v,"bendPositive",!0)?1:-1,h.compress=Ae(v,"compress",!1),h.stretch=Ae(v,"stretch",!1),h.uniform=Ae(v,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var c=0;c<i.transform.length;c++){var v=i.transform[c],h=new A4(v.name);h.order=Ae(v,"order",0),h.skinRequired=Ae(v,"skin",!1);for(var _=0;_<v.bones.length;_++){var y=v.bones[_],b=n.findBone(y);if(!b)throw new Error("Couldn't find bone "+y+" for transform constraint "+v.name+".");h.bones.push(b)}var w=v.target,E=n.findBone(w);if(!E)throw new Error("Couldn't find target bone "+w+" for transform constraint "+v.name+".");h.target=E,h.local=Ae(v,"local",!1),h.relative=Ae(v,"relative",!1),h.offsetRotation=Ae(v,"rotation",0),h.offsetX=Ae(v,"x",0)*r,h.offsetY=Ae(v,"y",0)*r,h.offsetScaleX=Ae(v,"scaleX",0),h.offsetScaleY=Ae(v,"scaleY",0),h.offsetShearY=Ae(v,"shearY",0),h.mixRotate=Ae(v,"mixRotate",1),h.mixX=Ae(v,"mixX",1),h.mixY=Ae(v,"mixY",h.mixX),h.mixScaleX=Ae(v,"mixScaleX",1),h.mixScaleY=Ae(v,"mixScaleY",h.mixScaleX),h.mixShearY=Ae(v,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var c=0;c<i.path.length;c++){var v=i.path[c],h=new S4(v.name);h.order=Ae(v,"order",0),h.skinRequired=Ae(v,"skin",!1);for(var _=0;_<v.bones.length;_++){var y=v.bones[_],b=n.findBone(y);if(!b)throw new Error("Couldn't find bone "+y+" for path constraint "+v.name+".");h.bones.push(b)}var w=v.target,E=n.findSlot(w);if(!E)throw new Error("Couldn't find target slot "+w+" for path constraint "+v.name+".");h.target=E,h.positionMode=xe.enumValue(_n,Ae(v,"positionMode","Percent")),h.spacingMode=xe.enumValue(li,Ae(v,"spacingMode","Length")),h.rotateMode=xe.enumValue(Dn,Ae(v,"rotateMode","Tangent")),h.offsetRotation=Ae(v,"rotation",0),h.position=Ae(v,"position",0),h.positionMode==_n.Fixed&&(h.position*=r),h.spacing=Ae(v,"spacing",0),(h.spacingMode==li.Length||h.spacingMode==li.Fixed)&&(h.spacing*=r),h.mixRotate=Ae(v,"mixRotate",1),h.mixX=Ae(v,"mixX",1),h.mixY=Ae(v,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var c=0;c<i.skins.length;c++){var C=i.skins[c],T=new Mx(C.name);if(C.bones)for(var _=0;_<C.bones.length;_++){var y=C.bones[_],b=n.findBone(y);if(!b)throw new Error("Couldn't find bone "+y+" for skin "+C.name+".");T.bones.push(b)}if(C.ik)for(var _=0;_<C.ik.length;_++){var A=C.ik[_],I=n.findIkConstraint(A);if(!I)throw new Error("Couldn't find IK constraint "+A+" for skin "+C.name+".");T.constraints.push(I)}if(C.transform)for(var _=0;_<C.transform.length;_++){var A=C.transform[_],I=n.findTransformConstraint(A);if(!I)throw new Error("Couldn't find transform constraint "+A+" for skin "+C.name+".");T.constraints.push(I)}if(C.path)for(var _=0;_<C.path.length;_++){var A=C.path[_],I=n.findPathConstraint(A);if(!I)throw new Error("Couldn't find path constraint "+A+" for skin "+C.name+".");T.constraints.push(I)}for(var O in C.attachments){var P=n.findSlot(O);if(!P)throw new Error("Couldn't find slot "+O+" for skin "+C.name+".");var d=C.attachments[O];for(var k in d){var F=this.readAttachment(d[k],T,P.index,k,n);F&&T.setAttachment(P.index,k,F)}}n.skins.push(T),T.name=="default"&&(n.defaultSkin=T)}for(var c=0,B=this.linkedMeshes.length;c<B;c++){var D=this.linkedMeshes[c],T=D.skin?n.findSkin(D.skin):n.defaultSkin;if(!T)throw new Error("Skin not found: "+D.skin);var z=T.getAttachment(D.slotIndex,D.parent);if(!z)throw new Error("Parent mesh not found: "+D.parent);D.mesh.timelineAttachment=D.inheritTimeline?z:D.mesh,D.mesh.setParentMesh(z)}if(this.linkedMeshes.length=0,i.events)for(var ee in i.events){var te=i.events[ee],h=new w4(ee);h.intValue=Ae(te,"int",0),h.floatValue=Ae(te,"float",0),h.stringValue=Ae(te,"string",""),h.audioPath=Ae(te,"audio",null),h.audioPath&&(h.volume=Ae(te,"volume",1),h.balance=Ae(te,"balance",0)),n.events.push(h)}if(i.animations)for(var Y in i.animations){var U=i.animations[Y];this.readAnimation(U,Y,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=Ae(e,"name",i),Ae(e,"type","region")){case"region":{var s=Ae(e,"path",i),c=this.readSequence(Ae(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,c);if(!l)return null;l.path=s,l.x=Ae(e,"x",0)*o,l.y=Ae(e,"y",0)*o,l.scaleX=Ae(e,"scaleX",1),l.scaleY=Ae(e,"scaleY",1),l.rotation=Ae(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=c;var u=Ae(e,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!f)return null;this.readVertices(e,f,e.vertexCount<<1);var u=Ae(e,"color",null);return u&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var s=Ae(e,"path",i),c=this.readSequence(Ae(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,c);if(!h)return null;h.path=s;var u=Ae(e,"color",null);u&&h.color.setFromString(u),h.width=Ae(e,"width",0)*o,h.height=Ae(e,"height",0)*o,h.sequence=c;var p=Ae(e,"parent",null);if(p)return this.linkedMeshes.push(new O7e(h,Ae(e,"skin",null),n,p,Ae(e,"timelines",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=Ae(e,"edges",null),h.hullLength=Ae(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=Ae(e,"closed",!1),s.constantSpeed=Ae(e,"constantSpeed",!0);var g=e.vertexCount;this.readVertices(e,s,g<<1);for(var m=xe.newArray(g/3,0),v=0;v<e.lengths.length;v++)m[v]=e.lengths[v]*o;s.lengths=m;var u=Ae(e,"color",null);return u&&s.color.setFromString(u),s}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(!_)return null;_.x=Ae(e,"x",0)*o,_.y=Ae(e,"y",0)*o,_.rotation=Ae(e,"rotation",0);var u=Ae(e,"color",null);return u&&_.color.setFromString(u),_}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(!y)return null;var b=Ae(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);y.endSlot=w}var g=e.vertexCount;this.readVertices(e,y,g<<1);var u=Ae(e,"color",null);return u&&y.color.setFromString(u),y}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new K3(Ae(e,"count",0));return r.start=Ae(e,"start",1),r.digits=Ae(e,"digits",0),r.setupIndex=Ae(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=xe.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=xe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],c=n.findSlot(o);if(!c)throw new Error("Slot not found: "+o);var l=c.index;for(var u in s){var f=s[u];if(f){var h=f.length;if(u=="attachment"){for(var p=new Wc(h,l),d=0;d<h;d++){var g=f[d];p.setFrame(d,Ae(g,"time",0),Ae(g,"name",null))}a.push(p)}else if(u=="rgba"){for(var p=new s4(h,h<<2,l),g=f[0],m=Ae(g,"time",0),v=rt.fromString(g.color),d=0,_=0;;d++){p.setFrame(d,m,v.r,v.g,v.b,v.a);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ae(y,"time",0),w=rt.fromString(y.color),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,v.r,w.r,1),_=Cr(E,p,_,d,1,m,b,v.g,w.g,1),_=Cr(E,p,_,d,2,m,b,v.b,w.b,1),_=Cr(E,p,_,d,3,m,b,v.a,w.a,1)),m=b,v=w,g=y}a.push(p)}else if(u=="rgb"){for(var p=new l4(h,h*3,l),g=f[0],m=Ae(g,"time",0),v=rt.fromString(g.color),d=0,_=0;;d++){p.setFrame(d,m,v.r,v.g,v.b);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ae(y,"time",0),w=rt.fromString(y.color),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,v.r,w.r,1),_=Cr(E,p,_,d,1,m,b,v.g,w.g,1),_=Cr(E,p,_,d,2,m,b,v.b,w.b,1)),m=b,v=w,g=y}a.push(p)}else if(u=="alpha")a.push(ps(f,new u4(h,h,l),0,1));else if(u=="rgba2"){for(var p=new c4(h,h*7,l),g=f[0],m=Ae(g,"time",0),v=rt.fromString(g.light),C=rt.fromString(g.dark),d=0,_=0;;d++){p.setFrame(d,m,v.r,v.g,v.b,v.a,C.r,C.g,C.b);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ae(y,"time",0),w=rt.fromString(y.light),T=rt.fromString(y.dark),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,v.r,w.r,1),_=Cr(E,p,_,d,1,m,b,v.g,w.g,1),_=Cr(E,p,_,d,2,m,b,v.b,w.b,1),_=Cr(E,p,_,d,3,m,b,v.a,w.a,1),_=Cr(E,p,_,d,4,m,b,C.r,T.r,1),_=Cr(E,p,_,d,5,m,b,C.g,T.g,1),_=Cr(E,p,_,d,6,m,b,C.b,T.b,1)),m=b,v=w,C=T,g=y}a.push(p)}else if(u=="rgb2"){for(var p=new f4(h,h*6,l),g=f[0],m=Ae(g,"time",0),v=rt.fromString(g.light),C=rt.fromString(g.dark),d=0,_=0;;d++){p.setFrame(d,m,v.r,v.g,v.b,C.r,C.g,C.b);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ae(y,"time",0),w=rt.fromString(y.light),T=rt.fromString(y.dark),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,v.r,w.r,1),_=Cr(E,p,_,d,1,m,b,v.g,w.g,1),_=Cr(E,p,_,d,2,m,b,v.b,w.b,1),_=Cr(E,p,_,d,3,m,b,C.r,T.r,1),_=Cr(E,p,_,d,4,m,b,C.g,T.g,1),_=Cr(E,p,_,d,5,m,b,C.b,T.b,1)),m=b,v=w,C=T,g=y}a.push(p)}}}}if(e.bones)for(var A in e.bones){var I=e.bones[A],O=n.findBone(A);if(!O)throw new Error("Bone not found: "+A);var P=O.index;for(var u in I){var f=I[u],k=f.length;if(k!=0){if(u==="rotate")a.push(ps(f,new tg(k,k,P),0,1));else if(u==="translate"){var p=new J3(k,k<<1,P);a.push(BC(f,p,"x","y",0,i))}else if(u==="translatex"){var p=new Q3(k,k,P);a.push(ps(f,p,0,i))}else if(u==="translatey"){var p=new e4(k,k,P);a.push(ps(f,p,0,i))}else if(u==="scale"){var p=new t4(k,k<<1,P);a.push(BC(f,p,"x","y",1,1))}else if(u==="scalex"){var p=new r4(k,k,P);a.push(ps(f,p,1,1))}else if(u==="scaley"){var p=new n4(k,k,P);a.push(ps(f,p,1,1))}else if(u==="shear"){var p=new i4(k,k<<1,P);a.push(BC(f,p,"x","y",0,1))}else if(u==="shearx"){var p=new a4(k,k,P);a.push(ps(f,p,0,1))}else if(u==="sheary"){var p=new o4(k,k,P);a.push(ps(f,p,0,1))}}}}if(e.ik)for(var F in e.ik){var B=e.ik[F],g=B[0];if(g){var D=n.findIkConstraint(F);if(!D)throw new Error("IK Constraint not found: "+F);for(var z=n.ikConstraints.indexOf(D),p=new d4(B.length,B.length<<1,z),m=Ae(g,"time",0),ee=Ae(g,"mix",1),te=Ae(g,"softness",0)*i,d=0,_=0;;d++){p.setFrame(d,m,ee,te,Ae(g,"bendPositive",!0)?1:-1,Ae(g,"compress",!1),Ae(g,"stretch",!1));var y=B[d+1];if(!y){p.shrink(_);break}var b=Ae(y,"time",0),Y=Ae(y,"mix",1),U=Ae(y,"softness",0)*i,E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,ee,Y,1),_=Cr(E,p,_,d,1,m,b,te,U,i)),m=b,ee=Y,te=U,g=y}a.push(p)}}if(e.transform)for(var F in e.transform){var f=e.transform[F],g=f[0];if(g){var D=n.findTransformConstraint(F);if(!D)throw new Error("Transform constraint not found: "+F);for(var z=n.transformConstraints.indexOf(D),p=new p4(f.length,f.length*6,z),m=Ae(g,"time",0),X=Ae(g,"mixRotate",1),j=Ae(g,"mixX",1),G=Ae(g,"mixY",j),ne=Ae(g,"mixScaleX",1),ae=Ae(g,"mixScaleY",ne),pe=Ae(g,"mixShearY",1),d=0,_=0;;d++){p.setFrame(d,m,X,j,G,ne,ae,pe);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ae(y,"time",0),se=Ae(y,"mixRotate",1),_e=Ae(y,"mixX",1),Me=Ae(y,"mixY",_e),Pe=Ae(y,"mixScaleX",1),Ee=Ae(y,"mixScaleY",Pe),Se=Ae(y,"mixShearY",1),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,X,se,1),_=Cr(E,p,_,d,1,m,b,j,_e,1),_=Cr(E,p,_,d,2,m,b,G,Me,1),_=Cr(E,p,_,d,3,m,b,ne,Pe,1),_=Cr(E,p,_,d,4,m,b,ae,Ee,1),_=Cr(E,p,_,d,5,m,b,pe,Se,1)),m=b,X=se,j=_e,G=Me,ne=Pe,ae=Ee,ne=Pe,g=y}a.push(p)}}if(e.path)for(var F in e.path){var B=e.path[F],D=n.findPathConstraint(F);if(!D)throw new Error("Path constraint not found: "+F);var z=n.pathConstraints.indexOf(D);for(var u in B){var f=B[u],g=f[0];if(g){var Ge=f.length;if(u==="position"){var p=new v4(Ge,Ge,z);a.push(ps(f,p,0,D.positionMode==_n.Fixed?i:1))}else if(u==="spacing"){var p=new g4(Ge,Ge,z);a.push(ps(f,p,0,D.spacingMode==li.Length||D.spacingMode==li.Fixed?i:1))}else if(u==="mix"){for(var p=new m4(Ge,Ge*3,z),m=Ae(g,"time",0),X=Ae(g,"mixRotate",1),j=Ae(g,"mixX",1),G=Ae(g,"mixY",j),d=0,_=0;;d++){p.setFrame(d,m,X,j,G);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ae(y,"time",0),se=Ae(y,"mixRotate",1),_e=Ae(y,"mixX",1),Me=Ae(y,"mixY",_e),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,X,se,1),_=Cr(E,p,_,d,1,m,b,j,_e,1),_=Cr(E,p,_,d,2,m,b,G,Me,1)),m=b,X=se,j=_e,G=Me,g=y}a.push(p)}}}}if(e.deform){e.attachments={};for(var Ye in e.deform){var Ve=e.deform[Ye],Xe=e.attachments[Ye]={};for(var o in Ve){var s=Ve[o],Ke=Xe[o]={};for(var wt in s)Ke[wt]={deform:s[wt]}}}}if(e.attachments)for(var Rt in e.attachments){var ht=e.attachments[Rt],gt=n.findSkin(Rt);if(gt!=null)for(var It in ht){var s=ht[It],c=n.findSlot(It);if(!c)throw new Error("Slot not found: "+It);var l=c.index;for(var vr in s){var tr=s[vr],gr=gt.getAttachment(l,vr);for(var Kt in tr){var f=tr[Kt],g=f[0];if(g){if(Kt=="deform"){for(var Et=gr.bones,ur=gr.vertices,ke=Et?ur.length/3*2:ur.length,p=new h4(f.length,f.length,l,gr),m=Ae(g,"time",0),d=0,_=0;;d++){var V=void 0,ve=Ae(g,"vertices",null);if(!ve)V=Et?xe.newFloatArray(ke):ur;else{V=xe.newFloatArray(ke);var Te=Ae(g,"offset",0);if(xe.arrayCopy(ve,0,V,Te,ve.length),i!=1)for(var Fe=Te,oe=Fe+ve.length;Fe<oe;Fe++)V[Fe]*=i;if(!Et)for(var Fe=0;Fe<ke;Fe++)V[Fe]+=ur[Fe]}p.setFrame(d,m,V);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ae(y,"time",0),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,0,1,1)),m=b,g=y}a.push(p)}else if(Kt=="sequence"){for(var p=new _4(f.length,l,gr),Ie=0,d=0;d<f.length;d++){var W=Ae(g,"delay",Ie),m=Ae(g,"time",0),Ue=Ii[Ae(g,"mode","hold")],pt=Ae(g,"index",0);p.setFrame(d,m,Ue,pt,W),Ie=W,g=f[d+1]}a.push(p)}}}}}}if(e.drawOrder){for(var p=new od(e.drawOrder.length),N=n.slots.length,d=0,Fe=0;Fe<e.drawOrder.length;Fe++,d++){var Re=e.drawOrder[Fe],Oe=null,q=Ae(Re,"offsets",null);if(q){Oe=xe.newArray(N,-1);for(var ce=xe.newArray(N-q.length,0),Ce=0,dt=0,Qe=0;Qe<q.length;Qe++){var lt=q[Qe],c=n.findSlot(lt.slot);if(!c)throw new Error("Slot not found: "+c);for(var l=c.index;Ce!=l;)ce[dt++]=Ce++;Oe[Ce+lt.offset]=Ce++}for(;Ce<N;)ce[dt++]=Ce++;for(var Qe=N-1;Qe>=0;Qe--)Oe[Qe]==-1&&(Oe[Qe]=ce[--dt])}p.setFrame(d,Ae(Re,"time",0),Oe)}a.push(p)}if(e.events){for(var p=new Xb(e.events.length),d=0,Fe=0;Fe<e.events.length;Fe++,d++){var Ft=e.events[Fe],$n=n.findEvent(Ft.name);if(!$n)throw new Error("Event not found: "+Ft.name);var ar=new b4(xe.toSinglePrecision(Ae(Ft,"time",0)),$n);ar.intValue=Ae(Ft,"int",$n.intValue),ar.floatValue=Ae(Ft,"float",$n.floatValue),ar.stringValue=Ae(Ft,"string",$n.stringValue),ar.data.audioPath&&(ar.volume=Ae(Ft,"volume",1),ar.balance=Ae(Ft,"balance",0)),p.setFrame(d,ar)}a.push(p)}for(var St=0,Fe=0,oe=a.length;Fe<oe;Fe++)St=Math.max(St,a[Fe].getDuration());if(isNaN(St))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Hb(r,a,St))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ct.NORMAL;if(e=="additive")return ct.ADD;if(e=="multiply")return ct.MULTIPLY;if(e=="screen")return ct.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),O7e=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function ps(t,e,r,n){for(var i=t[0],a=Ae(i,"time",0),o=Ae(i,"value",r)*n,s=0,c=0;;c++){e.setFrame(c,a,o);var l=t[c+1];if(!l)return e.shrink(s),e;var u=Ae(l,"time",0),f=Ae(l,"value",r)*n;i.curve&&(s=Cr(i.curve,e,s,c,0,a,u,o,f,n)),a=u,o=f,i=l}}function BC(t,e,r,n,i,a){for(var o=t[0],s=Ae(o,"time",0),c=Ae(o,r,i)*a,l=Ae(o,n,i)*a,u=0,f=0;;f++){e.setFrame(f,s,c,l);var h=t[f+1];if(!h)return e.shrink(u),e;var p=Ae(h,"time",0),d=Ae(h,r,i)*a,g=Ae(h,n,i)*a,m=o.curve;m&&(u=Cr(m,e,u,f,0,s,p,c,d,a),u=Cr(m,e,u,f,1,s,p,l,g,a)),s=p,c=d,l=g,o=h}}function Cr(t,e,r,n,i,a,o,s,c,l){if(t=="stepped")return e.setStepped(n),r;var u=i<<2,f=t[u],h=t[u+1]*l,p=t[u+2],d=t[u+3]*l;return e.setBezier(r,n,i,a,s,f,h,p,d,o,c),r+1}function Ae(t,e,r){return t[e]!==void 0?t[e]:r}var k7e=function(t){ir(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new YY(r),this.skeleton.updateWorldTransform(),this.stateData=new VY(r),this.state=new jY(this.stateData)},e}(Fg);const F7e=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:u4,Animation:Hb,AnimationState:jY,AnimationStateAdapter:a7e,AnimationStateData:VY,AtlasAttachmentLoader:y4,Attachment:Y3,AttachmentTimeline:Wc,Bone:MR,BoneData:x4,BoundingBoxAttachment:BY,ClippingAttachment:DY,ConstraintData:Wb,CurveTimeline:ss,CurveTimeline1:ls,CurveTimeline2:zb,DeformTimeline:h4,DrawOrderTimeline:od,Event:b4,EventData:w4,EventQueue:GY,EventTimeline:Xb,get EventType(){return ba},IkConstraint:HY,IkConstraintData:E4,IkConstraintTimeline:d4,MeshAttachment:Vb,PathAttachment:eg,PathConstraint:zY,PathConstraintData:S4,PathConstraintMixTimeline:m4,PathConstraintPositionTimeline:v4,PathConstraintSpacingTimeline:g4,PointAttachment:UY,RGB2Timeline:f4,RGBA2Timeline:c4,RGBATimeline:s4,RGBTimeline:l4,RegionAttachment:q3,RotateTimeline:tg,ScaleTimeline:t4,ScaleXTimeline:r4,ScaleYTimeline:n4,Sequence:K3,get SequenceMode(){return Ii},SequenceModeValues:Z3,SequenceTimeline:_4,ShearTimeline:i4,ShearXTimeline:a4,ShearYTimeline:o4,Skeleton:YY,SkeletonBinary:qY,SkeletonBounds:P7e,SkeletonData:C4,SkeletonJson:KY,Skin:Mx,SkinEntry:LR,Slot:XY,SlotData:T4,get SpacingMode(){return li},Spine:k7e,Timeline:jn,TrackEntry:$Y,TransformConstraint:WY,TransformConstraintData:A4,TransformConstraintTimeline:p4,TranslateTimeline:J3,TranslateXTimeline:Q3,TranslateYTimeline:e4,VertexAttachment:Ms},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var BR=function(t,e){return BR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},BR(t,e)};function ZY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");BR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ui;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(ui||(ui={}));function Lx(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?ui.VER37:e==="3.8"?ui.VER38:e==="4.0"?ui.VER40:e==="4.1"?ui.VER41:r<ui.VER37?ui.VER37:ui.UNKNOWN}var N7e=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=Lx(i);if(a===ui.VER38&&(n=new lY(new M3(e))),i=this.readVersionNewFormat(r),a=Lx(i),(a===ui.VER40||a===ui.VER41)&&(n=new qY(new y4(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new Px(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new Px(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),M7e=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=Lx(n),a=null;if(i===ui.VER37&&(a=new LY(new wY(e))),i===ui.VER38&&(a=new uY(new M3(e))),(i===ui.VER40||i===ui.VER41)&&(a=new KY(new y4(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),L7e=function(t){ZY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new N7e},e.prototype.createJsonParser=function(){return new M7e},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){Ha.registerPlugin(e)},e.use=new e().genMiddleware().use,e}($Ge),B7e=function(t){ZY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=Lx(r.version),i=null;if(n===ui.VER37&&(i=i7e),n===ui.VER38&&(i=ZGe),(n===ui.VER40||n===ui.VER41)&&(i=F7e),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(Fg);L7e.registerLoaderPlugin();var JY={exports:{}},DC={},vj;function Qu(){return vj||(vj=1,function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(a,o){return Object.prototype.hasOwnProperty.call(a,o)}t.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var c in s)r(s,c)&&(a[c]=s[c])}}return a},t.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var n={arraySet:function(a,o,s,c,l){if(o.subarray&&a.subarray){a.set(o.subarray(s,s+c),l);return}for(var u=0;u<c;u++)a[l+u]=o[s+u]},flattenChunks:function(a){var o,s,c,l,u,f;for(c=0,o=0,s=a.length;o<s;o++)c+=a[o].length;for(f=new Uint8Array(c),l=0,o=0,s=a.length;o<s;o++)u=a[o],f.set(u,l),l+=u.length;return f}},i={arraySet:function(a,o,s,c,l){for(var u=0;u<c;u++)a[l+u]=o[s+u]},flattenChunks:function(a){return[].concat.apply([],a)}};t.setTyped=function(a){a?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)}(DC)),DC}var ch={},Do={},mc={},gj;function D7e(){if(gj)return mc;gj=1;var t=Qu(),e=4,r=0,n=1,i=2;function a(V){for(var ve=V.length;--ve>=0;)V[ve]=0}var o=0,s=1,c=2,l=3,u=258,f=29,h=256,p=h+1+f,d=30,g=19,m=2*p+1,v=15,_=16,y=7,b=256,w=16,E=17,C=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=512,k=new Array((p+2)*2);a(k);var F=new Array(d*2);a(F);var B=new Array(P);a(B);var D=new Array(u-l+1);a(D);var z=new Array(f);a(z);var ee=new Array(d);a(ee);function te(V,ve,Te,Fe,oe){this.static_tree=V,this.extra_bits=ve,this.extra_base=Te,this.elems=Fe,this.max_length=oe,this.has_stree=V&&V.length}var Y,U,X;function j(V,ve){this.dyn_tree=V,this.max_code=0,this.stat_desc=ve}function G(V){return V<256?B[V]:B[256+(V>>>7)]}function ne(V,ve){V.pending_buf[V.pending++]=ve&255,V.pending_buf[V.pending++]=ve>>>8&255}function ae(V,ve,Te){V.bi_valid>_-Te?(V.bi_buf|=ve<<V.bi_valid&65535,ne(V,V.bi_buf),V.bi_buf=ve>>_-V.bi_valid,V.bi_valid+=Te-_):(V.bi_buf|=ve<<V.bi_valid&65535,V.bi_valid+=Te)}function pe(V,ve,Te){ae(V,Te[ve*2],Te[ve*2+1])}function se(V,ve){var Te=0;do Te|=V&1,V>>>=1,Te<<=1;while(--ve>0);return Te>>>1}function _e(V){V.bi_valid===16?(ne(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):V.bi_valid>=8&&(V.pending_buf[V.pending++]=V.bi_buf&255,V.bi_buf>>=8,V.bi_valid-=8)}function Me(V,ve){var Te=ve.dyn_tree,Fe=ve.max_code,oe=ve.stat_desc.static_tree,Ie=ve.stat_desc.has_stree,W=ve.stat_desc.extra_bits,Ue=ve.stat_desc.extra_base,pt=ve.stat_desc.max_length,N,Re,Oe,q,ce,Ce,dt=0;for(q=0;q<=v;q++)V.bl_count[q]=0;for(Te[V.heap[V.heap_max]*2+1]=0,N=V.heap_max+1;N<m;N++)Re=V.heap[N],q=Te[Te[Re*2+1]*2+1]+1,q>pt&&(q=pt,dt++),Te[Re*2+1]=q,!(Re>Fe)&&(V.bl_count[q]++,ce=0,Re>=Ue&&(ce=W[Re-Ue]),Ce=Te[Re*2],V.opt_len+=Ce*(q+ce),Ie&&(V.static_len+=Ce*(oe[Re*2+1]+ce)));if(dt!==0){do{for(q=pt-1;V.bl_count[q]===0;)q--;V.bl_count[q]--,V.bl_count[q+1]+=2,V.bl_count[pt]--,dt-=2}while(dt>0);for(q=pt;q!==0;q--)for(Re=V.bl_count[q];Re!==0;)Oe=V.heap[--N],!(Oe>Fe)&&(Te[Oe*2+1]!==q&&(V.opt_len+=(q-Te[Oe*2+1])*Te[Oe*2],Te[Oe*2+1]=q),Re--)}}function Pe(V,ve,Te){var Fe=new Array(v+1),oe=0,Ie,W;for(Ie=1;Ie<=v;Ie++)Fe[Ie]=oe=oe+Te[Ie-1]<<1;for(W=0;W<=ve;W++){var Ue=V[W*2+1];Ue!==0&&(V[W*2]=se(Fe[Ue]++,Ue))}}function Ee(){var V,ve,Te,Fe,oe,Ie=new Array(v+1);for(Te=0,Fe=0;Fe<f-1;Fe++)for(z[Fe]=Te,V=0;V<1<<T[Fe];V++)D[Te++]=Fe;for(D[Te-1]=Fe,oe=0,Fe=0;Fe<16;Fe++)for(ee[Fe]=oe,V=0;V<1<<A[Fe];V++)B[oe++]=Fe;for(oe>>=7;Fe<d;Fe++)for(ee[Fe]=oe<<7,V=0;V<1<<A[Fe]-7;V++)B[256+oe++]=Fe;for(ve=0;ve<=v;ve++)Ie[ve]=0;for(V=0;V<=143;)k[V*2+1]=8,V++,Ie[8]++;for(;V<=255;)k[V*2+1]=9,V++,Ie[9]++;for(;V<=279;)k[V*2+1]=7,V++,Ie[7]++;for(;V<=287;)k[V*2+1]=8,V++,Ie[8]++;for(Pe(k,p+1,Ie),V=0;V<d;V++)F[V*2+1]=5,F[V*2]=se(V,5);Y=new te(k,T,h+1,p,v),U=new te(F,A,0,d,v),X=new te(new Array(0),I,0,g,y)}function Se(V){var ve;for(ve=0;ve<p;ve++)V.dyn_ltree[ve*2]=0;for(ve=0;ve<d;ve++)V.dyn_dtree[ve*2]=0;for(ve=0;ve<g;ve++)V.bl_tree[ve*2]=0;V.dyn_ltree[b*2]=1,V.opt_len=V.static_len=0,V.last_lit=V.matches=0}function Ge(V){V.bi_valid>8?ne(V,V.bi_buf):V.bi_valid>0&&(V.pending_buf[V.pending++]=V.bi_buf),V.bi_buf=0,V.bi_valid=0}function Ye(V,ve,Te,Fe){Ge(V),Fe&&(ne(V,Te),ne(V,~Te)),t.arraySet(V.pending_buf,V.window,ve,Te,V.pending),V.pending+=Te}function Ve(V,ve,Te,Fe){var oe=ve*2,Ie=Te*2;return V[oe]<V[Ie]||V[oe]===V[Ie]&&Fe[ve]<=Fe[Te]}function Xe(V,ve,Te){for(var Fe=V.heap[Te],oe=Te<<1;oe<=V.heap_len&&(oe<V.heap_len&&Ve(ve,V.heap[oe+1],V.heap[oe],V.depth)&&oe++,!Ve(ve,Fe,V.heap[oe],V.depth));)V.heap[Te]=V.heap[oe],Te=oe,oe<<=1;V.heap[Te]=Fe}function Ke(V,ve,Te){var Fe,oe,Ie=0,W,Ue;if(V.last_lit!==0)do Fe=V.pending_buf[V.d_buf+Ie*2]<<8|V.pending_buf[V.d_buf+Ie*2+1],oe=V.pending_buf[V.l_buf+Ie],Ie++,Fe===0?pe(V,oe,ve):(W=D[oe],pe(V,W+h+1,ve),Ue=T[W],Ue!==0&&(oe-=z[W],ae(V,oe,Ue)),Fe--,W=G(Fe),pe(V,W,Te),Ue=A[W],Ue!==0&&(Fe-=ee[W],ae(V,Fe,Ue)));while(Ie<V.last_lit);pe(V,b,ve)}function wt(V,ve){var Te=ve.dyn_tree,Fe=ve.stat_desc.static_tree,oe=ve.stat_desc.has_stree,Ie=ve.stat_desc.elems,W,Ue,pt=-1,N;for(V.heap_len=0,V.heap_max=m,W=0;W<Ie;W++)Te[W*2]!==0?(V.heap[++V.heap_len]=pt=W,V.depth[W]=0):Te[W*2+1]=0;for(;V.heap_len<2;)N=V.heap[++V.heap_len]=pt<2?++pt:0,Te[N*2]=1,V.depth[N]=0,V.opt_len--,oe&&(V.static_len-=Fe[N*2+1]);for(ve.max_code=pt,W=V.heap_len>>1;W>=1;W--)Xe(V,Te,W);N=Ie;do W=V.heap[1],V.heap[1]=V.heap[V.heap_len--],Xe(V,Te,1),Ue=V.heap[1],V.heap[--V.heap_max]=W,V.heap[--V.heap_max]=Ue,Te[N*2]=Te[W*2]+Te[Ue*2],V.depth[N]=(V.depth[W]>=V.depth[Ue]?V.depth[W]:V.depth[Ue])+1,Te[W*2+1]=Te[Ue*2+1]=N,V.heap[1]=N++,Xe(V,Te,1);while(V.heap_len>=2);V.heap[--V.heap_max]=V.heap[1],Me(V,ve),Pe(Te,pt,V.bl_count)}function Rt(V,ve,Te){var Fe,oe=-1,Ie,W=ve[0*2+1],Ue=0,pt=7,N=4;for(W===0&&(pt=138,N=3),ve[(Te+1)*2+1]=65535,Fe=0;Fe<=Te;Fe++)Ie=W,W=ve[(Fe+1)*2+1],!(++Ue<pt&&Ie===W)&&(Ue<N?V.bl_tree[Ie*2]+=Ue:Ie!==0?(Ie!==oe&&V.bl_tree[Ie*2]++,V.bl_tree[w*2]++):Ue<=10?V.bl_tree[E*2]++:V.bl_tree[C*2]++,Ue=0,oe=Ie,W===0?(pt=138,N=3):Ie===W?(pt=6,N=3):(pt=7,N=4))}function ht(V,ve,Te){var Fe,oe=-1,Ie,W=ve[0*2+1],Ue=0,pt=7,N=4;for(W===0&&(pt=138,N=3),Fe=0;Fe<=Te;Fe++)if(Ie=W,W=ve[(Fe+1)*2+1],!(++Ue<pt&&Ie===W)){if(Ue<N)do pe(V,Ie,V.bl_tree);while(--Ue!==0);else Ie!==0?(Ie!==oe&&(pe(V,Ie,V.bl_tree),Ue--),pe(V,w,V.bl_tree),ae(V,Ue-3,2)):Ue<=10?(pe(V,E,V.bl_tree),ae(V,Ue-3,3)):(pe(V,C,V.bl_tree),ae(V,Ue-11,7));Ue=0,oe=Ie,W===0?(pt=138,N=3):Ie===W?(pt=6,N=3):(pt=7,N=4)}}function gt(V){var ve;for(Rt(V,V.dyn_ltree,V.l_desc.max_code),Rt(V,V.dyn_dtree,V.d_desc.max_code),wt(V,V.bl_desc),ve=g-1;ve>=3&&V.bl_tree[O[ve]*2+1]===0;ve--);return V.opt_len+=3*(ve+1)+5+5+4,ve}function It(V,ve,Te,Fe){var oe;for(ae(V,ve-257,5),ae(V,Te-1,5),ae(V,Fe-4,4),oe=0;oe<Fe;oe++)ae(V,V.bl_tree[O[oe]*2+1],3);ht(V,V.dyn_ltree,ve-1),ht(V,V.dyn_dtree,Te-1)}function vr(V){var ve=4093624447,Te;for(Te=0;Te<=31;Te++,ve>>>=1)if(ve&1&&V.dyn_ltree[Te*2]!==0)return r;if(V.dyn_ltree[9*2]!==0||V.dyn_ltree[10*2]!==0||V.dyn_ltree[13*2]!==0)return n;for(Te=32;Te<h;Te++)if(V.dyn_ltree[Te*2]!==0)return n;return r}var tr=!1;function gr(V){tr||(Ee(),tr=!0),V.l_desc=new j(V.dyn_ltree,Y),V.d_desc=new j(V.dyn_dtree,U),V.bl_desc=new j(V.bl_tree,X),V.bi_buf=0,V.bi_valid=0,Se(V)}function Kt(V,ve,Te,Fe){ae(V,(o<<1)+(Fe?1:0),3),Ye(V,ve,Te,!0)}function Et(V){ae(V,s<<1,3),pe(V,b,k),_e(V)}function ur(V,ve,Te,Fe){var oe,Ie,W=0;V.level>0?(V.strm.data_type===i&&(V.strm.data_type=vr(V)),wt(V,V.l_desc),wt(V,V.d_desc),W=gt(V),oe=V.opt_len+3+7>>>3,Ie=V.static_len+3+7>>>3,Ie<=oe&&(oe=Ie)):oe=Ie=Te+5,Te+4<=oe&&ve!==-1?Kt(V,ve,Te,Fe):V.strategy===e||Ie===oe?(ae(V,(s<<1)+(Fe?1:0),3),Ke(V,k,F)):(ae(V,(c<<1)+(Fe?1:0),3),It(V,V.l_desc.max_code+1,V.d_desc.max_code+1,W+1),Ke(V,V.dyn_ltree,V.dyn_dtree)),Se(V),Fe&&Ge(V)}function ke(V,ve,Te){return V.pending_buf[V.d_buf+V.last_lit*2]=ve>>>8&255,V.pending_buf[V.d_buf+V.last_lit*2+1]=ve&255,V.pending_buf[V.l_buf+V.last_lit]=Te&255,V.last_lit++,ve===0?V.dyn_ltree[Te*2]++:(V.matches++,ve--,V.dyn_ltree[(D[Te]+h+1)*2]++,V.dyn_dtree[G(ve)*2]++),V.last_lit===V.lit_bufsize-1}return mc._tr_init=gr,mc._tr_stored_block=Kt,mc._tr_flush_block=ur,mc._tr_tally=ke,mc._tr_align=Et,mc}var UC,mj;function QY(){if(mj)return UC;mj=1;function t(e,r,n,i){for(var a=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+r[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}return UC=t,UC}var jC,_j;function eq(){if(_j)return jC;_j=1;function t(){for(var n,i=[],a=0;a<256;a++){n=a;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var e=t();function r(n,i,a,o){var s=e,c=o+a;n^=-1;for(var l=o;l<c;l++)n=n>>>8^s[(n^i[l])&255];return n^-1}return jC=r,jC}var $C,yj;function I4(){return yj||(yj=1,$C={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),$C}var xj;function U7e(){if(xj)return Do;xj=1;var t=Qu(),e=D7e(),r=QY(),n=eq(),i=I4(),a=0,o=1,s=3,c=4,l=5,u=0,f=1,h=-2,p=-3,d=-5,g=-1,m=1,v=2,_=3,y=4,b=0,w=2,E=8,C=9,T=15,A=8,I=29,O=256,P=O+1+I,k=30,F=19,B=2*P+1,D=15,z=3,ee=258,te=ee+z+1,Y=32,U=42,X=69,j=73,G=91,ne=103,ae=113,pe=666,se=1,_e=2,Me=3,Pe=4,Ee=3;function Se(N,Re){return N.msg=i[Re],Re}function Ge(N){return(N<<1)-(N>4?9:0)}function Ye(N){for(var Re=N.length;--Re>=0;)N[Re]=0}function Ve(N){var Re=N.state,Oe=Re.pending;Oe>N.avail_out&&(Oe=N.avail_out),Oe!==0&&(t.arraySet(N.output,Re.pending_buf,Re.pending_out,Oe,N.next_out),N.next_out+=Oe,Re.pending_out+=Oe,N.total_out+=Oe,N.avail_out-=Oe,Re.pending-=Oe,Re.pending===0&&(Re.pending_out=0))}function Xe(N,Re){e._tr_flush_block(N,N.block_start>=0?N.block_start:-1,N.strstart-N.block_start,Re),N.block_start=N.strstart,Ve(N.strm)}function Ke(N,Re){N.pending_buf[N.pending++]=Re}function wt(N,Re){N.pending_buf[N.pending++]=Re>>>8&255,N.pending_buf[N.pending++]=Re&255}function Rt(N,Re,Oe,q){var ce=N.avail_in;return ce>q&&(ce=q),ce===0?0:(N.avail_in-=ce,t.arraySet(Re,N.input,N.next_in,ce,Oe),N.state.wrap===1?N.adler=r(N.adler,Re,ce,Oe):N.state.wrap===2&&(N.adler=n(N.adler,Re,ce,Oe)),N.next_in+=ce,N.total_in+=ce,ce)}function ht(N,Re){var Oe=N.max_chain_length,q=N.strstart,ce,Ce,dt=N.prev_length,Qe=N.nice_match,lt=N.strstart>N.w_size-te?N.strstart-(N.w_size-te):0,Ft=N.window,$n=N.w_mask,ar=N.prev,St=N.strstart+ee,Ar=Ft[q+dt-1],un=Ft[q+dt];N.prev_length>=N.good_match&&(Oe>>=2),Qe>N.lookahead&&(Qe=N.lookahead);do if(ce=Re,!(Ft[ce+dt]!==un||Ft[ce+dt-1]!==Ar||Ft[ce]!==Ft[q]||Ft[++ce]!==Ft[q+1])){q+=2,ce++;do;while(Ft[++q]===Ft[++ce]&&Ft[++q]===Ft[++ce]&&Ft[++q]===Ft[++ce]&&Ft[++q]===Ft[++ce]&&Ft[++q]===Ft[++ce]&&Ft[++q]===Ft[++ce]&&Ft[++q]===Ft[++ce]&&Ft[++q]===Ft[++ce]&&q<St);if(Ce=ee-(St-q),q=St-ee,Ce>dt){if(N.match_start=Re,dt=Ce,Ce>=Qe)break;Ar=Ft[q+dt-1],un=Ft[q+dt]}}while((Re=ar[Re&$n])>lt&&--Oe!==0);return dt<=N.lookahead?dt:N.lookahead}function gt(N){var Re=N.w_size,Oe,q,ce,Ce,dt;do{if(Ce=N.window_size-N.lookahead-N.strstart,N.strstart>=Re+(Re-te)){t.arraySet(N.window,N.window,Re,Re,0),N.match_start-=Re,N.strstart-=Re,N.block_start-=Re,q=N.hash_size,Oe=q;do ce=N.head[--Oe],N.head[Oe]=ce>=Re?ce-Re:0;while(--q);q=Re,Oe=q;do ce=N.prev[--Oe],N.prev[Oe]=ce>=Re?ce-Re:0;while(--q);Ce+=Re}if(N.strm.avail_in===0)break;if(q=Rt(N.strm,N.window,N.strstart+N.lookahead,Ce),N.lookahead+=q,N.lookahead+N.insert>=z)for(dt=N.strstart-N.insert,N.ins_h=N.window[dt],N.ins_h=(N.ins_h<<N.hash_shift^N.window[dt+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[dt+z-1])&N.hash_mask,N.prev[dt&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=dt,dt++,N.insert--,!(N.lookahead+N.insert<z)););}while(N.lookahead<te&&N.strm.avail_in!==0)}function It(N,Re){var Oe=65535;for(Oe>N.pending_buf_size-5&&(Oe=N.pending_buf_size-5);;){if(N.lookahead<=1){if(gt(N),N.lookahead===0&&Re===a)return se;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var q=N.block_start+Oe;if((N.strstart===0||N.strstart>=q)&&(N.lookahead=N.strstart-q,N.strstart=q,Xe(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-te&&(Xe(N,!1),N.strm.avail_out===0))return se}return N.insert=0,Re===c?(Xe(N,!0),N.strm.avail_out===0?Me:Pe):(N.strstart>N.block_start&&(Xe(N,!1),N.strm.avail_out===0),se)}function vr(N,Re){for(var Oe,q;;){if(N.lookahead<te){if(gt(N),N.lookahead<te&&Re===a)return se;if(N.lookahead===0)break}if(Oe=0,N.lookahead>=z&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+z-1])&N.hash_mask,Oe=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),Oe!==0&&N.strstart-Oe<=N.w_size-te&&(N.match_length=ht(N,Oe)),N.match_length>=z)if(q=e._tr_tally(N,N.strstart-N.match_start,N.match_length-z),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=z){N.match_length--;do N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+z-1])&N.hash_mask,Oe=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart;while(--N.match_length!==0);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else q=e._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(q&&(Xe(N,!1),N.strm.avail_out===0))return se}return N.insert=N.strstart<z-1?N.strstart:z-1,Re===c?(Xe(N,!0),N.strm.avail_out===0?Me:Pe):N.last_lit&&(Xe(N,!1),N.strm.avail_out===0)?se:_e}function tr(N,Re){for(var Oe,q,ce;;){if(N.lookahead<te){if(gt(N),N.lookahead<te&&Re===a)return se;if(N.lookahead===0)break}if(Oe=0,N.lookahead>=z&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+z-1])&N.hash_mask,Oe=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=z-1,Oe!==0&&N.prev_length<N.max_lazy_match&&N.strstart-Oe<=N.w_size-te&&(N.match_length=ht(N,Oe),N.match_length<=5&&(N.strategy===m||N.match_length===z&&N.strstart-N.match_start>4096)&&(N.match_length=z-1)),N.prev_length>=z&&N.match_length<=N.prev_length){ce=N.strstart+N.lookahead-z,q=e._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-z),N.lookahead-=N.prev_length-1,N.prev_length-=2;do++N.strstart<=ce&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+z-1])&N.hash_mask,Oe=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart);while(--N.prev_length!==0);if(N.match_available=0,N.match_length=z-1,N.strstart++,q&&(Xe(N,!1),N.strm.avail_out===0))return se}else if(N.match_available){if(q=e._tr_tally(N,0,N.window[N.strstart-1]),q&&Xe(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return se}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(q=e._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<z-1?N.strstart:z-1,Re===c?(Xe(N,!0),N.strm.avail_out===0?Me:Pe):N.last_lit&&(Xe(N,!1),N.strm.avail_out===0)?se:_e}function gr(N,Re){for(var Oe,q,ce,Ce,dt=N.window;;){if(N.lookahead<=ee){if(gt(N),N.lookahead<=ee&&Re===a)return se;if(N.lookahead===0)break}if(N.match_length=0,N.lookahead>=z&&N.strstart>0&&(ce=N.strstart-1,q=dt[ce],q===dt[++ce]&&q===dt[++ce]&&q===dt[++ce])){Ce=N.strstart+ee;do;while(q===dt[++ce]&&q===dt[++ce]&&q===dt[++ce]&&q===dt[++ce]&&q===dt[++ce]&&q===dt[++ce]&&q===dt[++ce]&&q===dt[++ce]&&ce<Ce);N.match_length=ee-(Ce-ce),N.match_length>N.lookahead&&(N.match_length=N.lookahead)}if(N.match_length>=z?(Oe=e._tr_tally(N,1,N.match_length-z),N.lookahead-=N.match_length,N.strstart+=N.match_length,N.match_length=0):(Oe=e._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++),Oe&&(Xe(N,!1),N.strm.avail_out===0))return se}return N.insert=0,Re===c?(Xe(N,!0),N.strm.avail_out===0?Me:Pe):N.last_lit&&(Xe(N,!1),N.strm.avail_out===0)?se:_e}function Kt(N,Re){for(var Oe;;){if(N.lookahead===0&&(gt(N),N.lookahead===0)){if(Re===a)return se;break}if(N.match_length=0,Oe=e._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++,Oe&&(Xe(N,!1),N.strm.avail_out===0))return se}return N.insert=0,Re===c?(Xe(N,!0),N.strm.avail_out===0?Me:Pe):N.last_lit&&(Xe(N,!1),N.strm.avail_out===0)?se:_e}function Et(N,Re,Oe,q,ce){this.good_length=N,this.max_lazy=Re,this.nice_length=Oe,this.max_chain=q,this.func=ce}var ur;ur=[new Et(0,0,0,0,It),new Et(4,4,8,4,vr),new Et(4,5,16,8,vr),new Et(4,6,32,32,vr),new Et(4,4,16,16,tr),new Et(8,16,32,32,tr),new Et(8,16,128,128,tr),new Et(8,32,128,256,tr),new Et(32,128,258,1024,tr),new Et(32,258,258,4096,tr)];function ke(N){N.window_size=2*N.w_size,Ye(N.head),N.max_lazy_match=ur[N.level].max_lazy,N.good_match=ur[N.level].good_length,N.nice_match=ur[N.level].nice_length,N.max_chain_length=ur[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=z-1,N.match_available=0,N.ins_h=0}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(B*2),this.dyn_dtree=new t.Buf16((2*k+1)*2),this.bl_tree=new t.Buf16((2*F+1)*2),Ye(this.dyn_ltree),Ye(this.dyn_dtree),Ye(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(D+1),this.heap=new t.Buf16(2*P+1),Ye(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*P+1),Ye(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(N){var Re;return!N||!N.state?Se(N,h):(N.total_in=N.total_out=0,N.data_type=w,Re=N.state,Re.pending=0,Re.pending_out=0,Re.wrap<0&&(Re.wrap=-Re.wrap),Re.status=Re.wrap?U:ae,N.adler=Re.wrap===2?0:1,Re.last_flush=a,e._tr_init(Re),u)}function Te(N){var Re=ve(N);return Re===u&&ke(N.state),Re}function Fe(N,Re){return!N||!N.state||N.state.wrap!==2?h:(N.state.gzhead=Re,u)}function oe(N,Re,Oe,q,ce,Ce){if(!N)return h;var dt=1;if(Re===g&&(Re=6),q<0?(dt=0,q=-q):q>15&&(dt=2,q-=16),ce<1||ce>C||Oe!==E||q<8||q>15||Re<0||Re>9||Ce<0||Ce>y)return Se(N,h);q===8&&(q=9);var Qe=new V;return N.state=Qe,Qe.strm=N,Qe.wrap=dt,Qe.gzhead=null,Qe.w_bits=q,Qe.w_size=1<<Qe.w_bits,Qe.w_mask=Qe.w_size-1,Qe.hash_bits=ce+7,Qe.hash_size=1<<Qe.hash_bits,Qe.hash_mask=Qe.hash_size-1,Qe.hash_shift=~~((Qe.hash_bits+z-1)/z),Qe.window=new t.Buf8(Qe.w_size*2),Qe.head=new t.Buf16(Qe.hash_size),Qe.prev=new t.Buf16(Qe.w_size),Qe.lit_bufsize=1<<ce+6,Qe.pending_buf_size=Qe.lit_bufsize*4,Qe.pending_buf=new t.Buf8(Qe.pending_buf_size),Qe.d_buf=1*Qe.lit_bufsize,Qe.l_buf=(1+2)*Qe.lit_bufsize,Qe.level=Re,Qe.strategy=Ce,Qe.method=Oe,Te(N)}function Ie(N,Re){return oe(N,Re,E,T,A,b)}function W(N,Re){var Oe,q,ce,Ce;if(!N||!N.state||Re>l||Re<0)return N?Se(N,h):h;if(q=N.state,!N.output||!N.input&&N.avail_in!==0||q.status===pe&&Re!==c)return Se(N,N.avail_out===0?d:h);if(q.strm=N,Oe=q.last_flush,q.last_flush=Re,q.status===U)if(q.wrap===2)N.adler=0,Ke(q,31),Ke(q,139),Ke(q,8),q.gzhead?(Ke(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),Ke(q,q.gzhead.time&255),Ke(q,q.gzhead.time>>8&255),Ke(q,q.gzhead.time>>16&255),Ke(q,q.gzhead.time>>24&255),Ke(q,q.level===9?2:q.strategy>=v||q.level<2?4:0),Ke(q,q.gzhead.os&255),q.gzhead.extra&&q.gzhead.extra.length&&(Ke(q,q.gzhead.extra.length&255),Ke(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(N.adler=n(N.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=X):(Ke(q,0),Ke(q,0),Ke(q,0),Ke(q,0),Ke(q,0),Ke(q,q.level===9?2:q.strategy>=v||q.level<2?4:0),Ke(q,Ee),q.status=ae);else{var dt=E+(q.w_bits-8<<4)<<8,Qe=-1;q.strategy>=v||q.level<2?Qe=0:q.level<6?Qe=1:q.level===6?Qe=2:Qe=3,dt|=Qe<<6,q.strstart!==0&&(dt|=Y),dt+=31-dt%31,q.status=ae,wt(q,dt),q.strstart!==0&&(wt(q,N.adler>>>16),wt(q,N.adler&65535)),N.adler=1}if(q.status===X)if(q.gzhead.extra){for(ce=q.pending;q.gzindex<(q.gzhead.extra.length&65535)&&!(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>ce&&(N.adler=n(N.adler,q.pending_buf,q.pending-ce,ce)),Ve(N),ce=q.pending,q.pending===q.pending_buf_size));)Ke(q,q.gzhead.extra[q.gzindex]&255),q.gzindex++;q.gzhead.hcrc&&q.pending>ce&&(N.adler=n(N.adler,q.pending_buf,q.pending-ce,ce)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=j)}else q.status=j;if(q.status===j)if(q.gzhead.name){ce=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>ce&&(N.adler=n(N.adler,q.pending_buf,q.pending-ce,ce)),Ve(N),ce=q.pending,q.pending===q.pending_buf_size)){Ce=1;break}q.gzindex<q.gzhead.name.length?Ce=q.gzhead.name.charCodeAt(q.gzindex++)&255:Ce=0,Ke(q,Ce)}while(Ce!==0);q.gzhead.hcrc&&q.pending>ce&&(N.adler=n(N.adler,q.pending_buf,q.pending-ce,ce)),Ce===0&&(q.gzindex=0,q.status=G)}else q.status=G;if(q.status===G)if(q.gzhead.comment){ce=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>ce&&(N.adler=n(N.adler,q.pending_buf,q.pending-ce,ce)),Ve(N),ce=q.pending,q.pending===q.pending_buf_size)){Ce=1;break}q.gzindex<q.gzhead.comment.length?Ce=q.gzhead.comment.charCodeAt(q.gzindex++)&255:Ce=0,Ke(q,Ce)}while(Ce!==0);q.gzhead.hcrc&&q.pending>ce&&(N.adler=n(N.adler,q.pending_buf,q.pending-ce,ce)),Ce===0&&(q.status=ne)}else q.status=ne;if(q.status===ne&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&Ve(N),q.pending+2<=q.pending_buf_size&&(Ke(q,N.adler&255),Ke(q,N.adler>>8&255),N.adler=0,q.status=ae)):q.status=ae),q.pending!==0){if(Ve(N),N.avail_out===0)return q.last_flush=-1,u}else if(N.avail_in===0&&Ge(Re)<=Ge(Oe)&&Re!==c)return Se(N,d);if(q.status===pe&&N.avail_in!==0)return Se(N,d);if(N.avail_in!==0||q.lookahead!==0||Re!==a&&q.status!==pe){var lt=q.strategy===v?Kt(q,Re):q.strategy===_?gr(q,Re):ur[q.level].func(q,Re);if((lt===Me||lt===Pe)&&(q.status=pe),lt===se||lt===Me)return N.avail_out===0&&(q.last_flush=-1),u;if(lt===_e&&(Re===o?e._tr_align(q):Re!==l&&(e._tr_stored_block(q,0,0,!1),Re===s&&(Ye(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),Ve(N),N.avail_out===0))return q.last_flush=-1,u}return Re!==c?u:q.wrap<=0?f:(q.wrap===2?(Ke(q,N.adler&255),Ke(q,N.adler>>8&255),Ke(q,N.adler>>16&255),Ke(q,N.adler>>24&255),Ke(q,N.total_in&255),Ke(q,N.total_in>>8&255),Ke(q,N.total_in>>16&255),Ke(q,N.total_in>>24&255)):(wt(q,N.adler>>>16),wt(q,N.adler&65535)),Ve(N),q.wrap>0&&(q.wrap=-q.wrap),q.pending!==0?u:f)}function Ue(N){var Re;return!N||!N.state?h:(Re=N.state.status,Re!==U&&Re!==X&&Re!==j&&Re!==G&&Re!==ne&&Re!==ae&&Re!==pe?Se(N,h):(N.state=null,Re===ae?Se(N,p):u))}function pt(N,Re){var Oe=Re.length,q,ce,Ce,dt,Qe,lt,Ft,$n;if(!N||!N.state||(q=N.state,dt=q.wrap,dt===2||dt===1&&q.status!==U||q.lookahead))return h;for(dt===1&&(N.adler=r(N.adler,Re,Oe,0)),q.wrap=0,Oe>=q.w_size&&(dt===0&&(Ye(q.head),q.strstart=0,q.block_start=0,q.insert=0),$n=new t.Buf8(q.w_size),t.arraySet($n,Re,Oe-q.w_size,q.w_size,0),Re=$n,Oe=q.w_size),Qe=N.avail_in,lt=N.next_in,Ft=N.input,N.avail_in=Oe,N.next_in=0,N.input=Re,gt(q);q.lookahead>=z;){ce=q.strstart,Ce=q.lookahead-(z-1);do q.ins_h=(q.ins_h<<q.hash_shift^q.window[ce+z-1])&q.hash_mask,q.prev[ce&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=ce,ce++;while(--Ce);q.strstart=ce,q.lookahead=z-1,gt(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=z-1,q.match_available=0,N.next_in=lt,N.input=Ft,N.avail_in=Qe,q.wrap=dt,u}return Do.deflateInit=Ie,Do.deflateInit2=oe,Do.deflateReset=Te,Do.deflateResetKeep=ve,Do.deflateSetHeader=Fe,Do.deflate=W,Do.deflateEnd=Ue,Do.deflateSetDictionary=pt,Do.deflateInfo="pako deflate (from Nodeca project)",Do}var _c={},bj;function tq(){if(bj)return _c;bj=1;var t=Qu(),e=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var n=new t.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,_c.string2buf=function(o){var s,c,l,u,f,h=o.length,p=0;for(u=0;u<h;u++)c=o.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),p+=c<128?1:c<2048?2:c<65536?3:4;for(s=new t.Buf8(p),f=0,u=0;f<p;u++)c=o.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),c<128?s[f++]=c:c<2048?(s[f++]=192|c>>>6,s[f++]=128|c&63):c<65536?(s[f++]=224|c>>>12,s[f++]=128|c>>>6&63,s[f++]=128|c&63):(s[f++]=240|c>>>18,s[f++]=128|c>>>12&63,s[f++]=128|c>>>6&63,s[f++]=128|c&63);return s};function a(o,s){if(s<65534&&(o.subarray&&r||!o.subarray&&e))return String.fromCharCode.apply(null,t.shrinkBuf(o,s));for(var c="",l=0;l<s;l++)c+=String.fromCharCode(o[l]);return c}return _c.buf2binstring=function(o){return a(o,o.length)},_c.binstring2buf=function(o){for(var s=new t.Buf8(o.length),c=0,l=s.length;c<l;c++)s[c]=o.charCodeAt(c);return s},_c.buf2string=function(o,s){var c,l,u,f,h=s||o.length,p=new Array(h*2);for(l=0,c=0;c<h;){if(u=o[c++],u<128){p[l++]=u;continue}if(f=n[u],f>4){p[l++]=65533,c+=f-1;continue}for(u&=f===2?31:f===3?15:7;f>1&&c<h;)u=u<<6|o[c++]&63,f--;if(f>1){p[l++]=65533;continue}u<65536?p[l++]=u:(u-=65536,p[l++]=55296|u>>10&1023,p[l++]=56320|u&1023)}return a(p,l)},_c.utf8border=function(o,s){var c;for(s=s||o.length,s>o.length&&(s=o.length),c=s-1;c>=0&&(o[c]&192)===128;)c--;return c<0||c===0?s:c+n[o[c]]>s?c:s},_c}var GC,wj;function rq(){if(wj)return GC;wj=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return GC=t,GC}var Ej;function j7e(){if(Ej)return ch;Ej=1;var t=U7e(),e=Qu(),r=tq(),n=I4(),i=rq(),a=Object.prototype.toString,o=0,s=4,c=0,l=1,u=2,f=-1,h=0,p=8;function d(_){if(!(this instanceof d))return new d(_);this.options=e.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},_||{});var y=this.options;y.raw&&y.windowBits>0?y.windowBits=-y.windowBits:y.gzip&&y.windowBits>0&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var b=t.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(b!==c)throw new Error(n[b]);if(y.header&&t.deflateSetHeader(this.strm,y.header),y.dictionary){var w;if(typeof y.dictionary=="string"?w=r.string2buf(y.dictionary):a.call(y.dictionary)==="[object ArrayBuffer]"?w=new Uint8Array(y.dictionary):w=y.dictionary,b=t.deflateSetDictionary(this.strm,w),b!==c)throw new Error(n[b]);this._dict_set=!0}}d.prototype.push=function(_,y){var b=this.strm,w=this.options.chunkSize,E,C;if(this.ended)return!1;C=y===~~y?y:y===!0?s:o,typeof _=="string"?b.input=r.string2buf(_):a.call(_)==="[object ArrayBuffer]"?b.input=new Uint8Array(_):b.input=_,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new e.Buf8(w),b.next_out=0,b.avail_out=w),E=t.deflate(b,C),E!==l&&E!==c)return this.onEnd(E),this.ended=!0,!1;(b.avail_out===0||b.avail_in===0&&(C===s||C===u))&&(this.options.to==="string"?this.onData(r.buf2binstring(e.shrinkBuf(b.output,b.next_out))):this.onData(e.shrinkBuf(b.output,b.next_out)))}while((b.avail_in>0||b.avail_out===0)&&E!==l);return C===s?(E=t.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c):(C===u&&(this.onEnd(c),b.avail_out=0),!0)},d.prototype.onData=function(_){this.chunks.push(_)},d.prototype.onEnd=function(_){_===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function g(_,y){var b=new d(y);if(b.push(_,!0),b.err)throw b.msg||n[b.err];return b.result}function m(_,y){return y=y||{},y.raw=!0,g(_,y)}function v(_,y){return y=y||{},y.gzip=!0,g(_,y)}return ch.Deflate=d,ch.deflate=g,ch.deflateRaw=m,ch.gzip=v,ch}var fh={},yo={},VC,Sj;function $7e(){if(Sj)return VC;Sj=1;var t=30,e=12;return VC=function(n,i){var a,o,s,c,l,u,f,h,p,d,g,m,v,_,y,b,w,E,C,T,A,I,O,P,k;a=n.state,o=n.next_in,P=n.input,s=o+(n.avail_in-5),c=n.next_out,k=n.output,l=c-(i-n.avail_out),u=c+(n.avail_out-257),f=a.dmax,h=a.wsize,p=a.whave,d=a.wnext,g=a.window,m=a.hold,v=a.bits,_=a.lencode,y=a.distcode,b=(1<<a.lenbits)-1,w=(1<<a.distbits)-1;e:do{v<15&&(m+=P[o++]<<v,v+=8,m+=P[o++]<<v,v+=8),E=_[m&b];t:for(;;){if(C=E>>>24,m>>>=C,v-=C,C=E>>>16&255,C===0)k[c++]=E&65535;else if(C&16){T=E&65535,C&=15,C&&(v<C&&(m+=P[o++]<<v,v+=8),T+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=P[o++]<<v,v+=8,m+=P[o++]<<v,v+=8),E=y[m&w];r:for(;;){if(C=E>>>24,m>>>=C,v-=C,C=E>>>16&255,C&16){if(A=E&65535,C&=15,v<C&&(m+=P[o++]<<v,v+=8,v<C&&(m+=P[o++]<<v,v+=8)),A+=m&(1<<C)-1,A>f){n.msg="invalid distance too far back",a.mode=t;break e}if(m>>>=C,v-=C,C=c-l,A>C){if(C=A-C,C>p&&a.sane){n.msg="invalid distance too far back",a.mode=t;break e}if(I=0,O=g,d===0){if(I+=h-C,C<T){T-=C;do k[c++]=g[I++];while(--C);I=c-A,O=k}}else if(d<C){if(I+=h+d-C,C-=d,C<T){T-=C;do k[c++]=g[I++];while(--C);if(I=0,d<T){C=d,T-=C;do k[c++]=g[I++];while(--C);I=c-A,O=k}}}else if(I+=d-C,C<T){T-=C;do k[c++]=g[I++];while(--C);I=c-A,O=k}for(;T>2;)k[c++]=O[I++],k[c++]=O[I++],k[c++]=O[I++],T-=3;T&&(k[c++]=O[I++],T>1&&(k[c++]=O[I++]))}else{I=c-A;do k[c++]=k[I++],k[c++]=k[I++],k[c++]=k[I++],T-=3;while(T>2);T&&(k[c++]=k[I++],T>1&&(k[c++]=k[I++]))}}else if(C&64){n.msg="invalid distance code",a.mode=t;break e}else{E=y[(E&65535)+(m&(1<<C)-1)];continue r}break}}else if(C&64)if(C&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=t;break e}else{E=_[(E&65535)+(m&(1<<C)-1)];continue t}break}}while(o<s&&c<u);T=v>>3,o-=T,v-=T<<3,m&=(1<<v)-1,n.next_in=o,n.next_out=c,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=c<u?257+(u-c):257-(c-u),a.hold=m,a.bits=v},VC}var HC,Cj;function G7e(){if(Cj)return HC;Cj=1;var t=Qu(),e=15,r=852,n=592,i=0,a=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return HC=function(h,p,d,g,m,v,_,y){var b=y.bits,w=0,E=0,C=0,T=0,A=0,I=0,O=0,P=0,k=0,F=0,B,D,z,ee,te,Y=null,U=0,X,j=new t.Buf16(e+1),G=new t.Buf16(e+1),ne=null,ae=0,pe,se,_e;for(w=0;w<=e;w++)j[w]=0;for(E=0;E<g;E++)j[p[d+E]]++;for(A=b,T=e;T>=1&&j[T]===0;T--);if(A>T&&(A=T),T===0)return m[v++]=1<<24|64<<16|0,m[v++]=1<<24|64<<16|0,y.bits=1,0;for(C=1;C<T&&j[C]===0;C++);for(A<C&&(A=C),P=1,w=1;w<=e;w++)if(P<<=1,P-=j[w],P<0)return-1;if(P>0&&(h===i||T!==1))return-1;for(G[1]=0,w=1;w<e;w++)G[w+1]=G[w]+j[w];for(E=0;E<g;E++)p[d+E]!==0&&(_[G[p[d+E]]++]=E);if(h===i?(Y=ne=_,X=19):h===a?(Y=s,U-=257,ne=c,ae-=257,X=256):(Y=l,ne=u,X=-1),F=0,E=0,w=C,te=v,I=A,O=0,z=-1,k=1<<A,ee=k-1,h===a&&k>r||h===o&&k>n)return 1;for(;;){pe=w-O,_[E]<X?(se=0,_e=_[E]):_[E]>X?(se=ne[ae+_[E]],_e=Y[U+_[E]]):(se=32+64,_e=0),B=1<<w-O,D=1<<I,C=D;do D-=B,m[te+(F>>O)+D]=pe<<24|se<<16|_e|0;while(D!==0);for(B=1<<w-1;F&B;)B>>=1;if(B!==0?(F&=B-1,F+=B):F=0,E++,--j[w]===0){if(w===T)break;w=p[d+_[E]]}if(w>A&&(F&ee)!==z){for(O===0&&(O=A),te+=C,I=w-O,P=1<<I;I+O<T&&(P-=j[I+O],!(P<=0));)I++,P<<=1;if(k+=1<<I,h===a&&k>r||h===o&&k>n)return 1;z=F&ee,m[z]=A<<24|I<<16|te-v|0}}return F!==0&&(m[te+F]=w-O<<24|64<<16|0),y.bits=A,0},HC}var Tj;function V7e(){if(Tj)return yo;Tj=1;var t=Qu(),e=QY(),r=eq(),n=$7e(),i=G7e(),a=0,o=1,s=2,c=4,l=5,u=6,f=0,h=1,p=2,d=-2,g=-3,m=-4,v=-5,_=8,y=1,b=2,w=3,E=4,C=5,T=6,A=7,I=8,O=9,P=10,k=11,F=12,B=13,D=14,z=15,ee=16,te=17,Y=18,U=19,X=20,j=21,G=22,ne=23,ae=24,pe=25,se=26,_e=27,Me=28,Pe=29,Ee=30,Se=31,Ge=32,Ye=852,Ve=592,Xe=15,Ke=Xe;function wt(oe){return(oe>>>24&255)+(oe>>>8&65280)+((oe&65280)<<8)+((oe&255)<<24)}function Rt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ht(oe){var Ie;return!oe||!oe.state?d:(Ie=oe.state,oe.total_in=oe.total_out=Ie.total=0,oe.msg="",Ie.wrap&&(oe.adler=Ie.wrap&1),Ie.mode=y,Ie.last=0,Ie.havedict=0,Ie.dmax=32768,Ie.head=null,Ie.hold=0,Ie.bits=0,Ie.lencode=Ie.lendyn=new t.Buf32(Ye),Ie.distcode=Ie.distdyn=new t.Buf32(Ve),Ie.sane=1,Ie.back=-1,f)}function gt(oe){var Ie;return!oe||!oe.state?d:(Ie=oe.state,Ie.wsize=0,Ie.whave=0,Ie.wnext=0,ht(oe))}function It(oe,Ie){var W,Ue;return!oe||!oe.state||(Ue=oe.state,Ie<0?(W=0,Ie=-Ie):(W=(Ie>>4)+1,Ie<48&&(Ie&=15)),Ie&&(Ie<8||Ie>15))?d:(Ue.window!==null&&Ue.wbits!==Ie&&(Ue.window=null),Ue.wrap=W,Ue.wbits=Ie,gt(oe))}function vr(oe,Ie){var W,Ue;return oe?(Ue=new Rt,oe.state=Ue,Ue.window=null,W=It(oe,Ie),W!==f&&(oe.state=null),W):d}function tr(oe){return vr(oe,Ke)}var gr=!0,Kt,Et;function ur(oe){if(gr){var Ie;for(Kt=new t.Buf32(512),Et=new t.Buf32(32),Ie=0;Ie<144;)oe.lens[Ie++]=8;for(;Ie<256;)oe.lens[Ie++]=9;for(;Ie<280;)oe.lens[Ie++]=7;for(;Ie<288;)oe.lens[Ie++]=8;for(i(o,oe.lens,0,288,Kt,0,oe.work,{bits:9}),Ie=0;Ie<32;)oe.lens[Ie++]=5;i(s,oe.lens,0,32,Et,0,oe.work,{bits:5}),gr=!1}oe.lencode=Kt,oe.lenbits=9,oe.distcode=Et,oe.distbits=5}function ke(oe,Ie,W,Ue){var pt,N=oe.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new t.Buf8(N.wsize)),Ue>=N.wsize?(t.arraySet(N.window,Ie,W-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(pt=N.wsize-N.wnext,pt>Ue&&(pt=Ue),t.arraySet(N.window,Ie,W-Ue,pt,N.wnext),Ue-=pt,Ue?(t.arraySet(N.window,Ie,W-Ue,Ue,0),N.wnext=Ue,N.whave=N.wsize):(N.wnext+=pt,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=pt))),0}function V(oe,Ie){var W,Ue,pt,N,Re,Oe,q,ce,Ce,dt,Qe,lt,Ft,$n,ar=0,St,Ar,un,ni,Rl,Pl,cn,Zi,Gn=new t.Buf8(4),za,da,kf=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!oe||!oe.state||!oe.output||!oe.input&&oe.avail_in!==0)return d;W=oe.state,W.mode===F&&(W.mode=B),Re=oe.next_out,pt=oe.output,q=oe.avail_out,N=oe.next_in,Ue=oe.input,Oe=oe.avail_in,ce=W.hold,Ce=W.bits,dt=Oe,Qe=q,Zi=f;e:for(;;)switch(W.mode){case y:if(W.wrap===0){W.mode=B;break}for(;Ce<16;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}if(W.wrap&2&&ce===35615){W.check=0,Gn[0]=ce&255,Gn[1]=ce>>>8&255,W.check=r(W.check,Gn,2,0),ce=0,Ce=0,W.mode=b;break}if(W.flags=0,W.head&&(W.head.done=!1),!(W.wrap&1)||(((ce&255)<<8)+(ce>>8))%31){oe.msg="incorrect header check",W.mode=Ee;break}if((ce&15)!==_){oe.msg="unknown compression method",W.mode=Ee;break}if(ce>>>=4,Ce-=4,cn=(ce&15)+8,W.wbits===0)W.wbits=cn;else if(cn>W.wbits){oe.msg="invalid window size",W.mode=Ee;break}W.dmax=1<<cn,oe.adler=W.check=1,W.mode=ce&512?P:F,ce=0,Ce=0;break;case b:for(;Ce<16;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}if(W.flags=ce,(W.flags&255)!==_){oe.msg="unknown compression method",W.mode=Ee;break}if(W.flags&57344){oe.msg="unknown header flags set",W.mode=Ee;break}W.head&&(W.head.text=ce>>8&1),W.flags&512&&(Gn[0]=ce&255,Gn[1]=ce>>>8&255,W.check=r(W.check,Gn,2,0)),ce=0,Ce=0,W.mode=w;case w:for(;Ce<32;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}W.head&&(W.head.time=ce),W.flags&512&&(Gn[0]=ce&255,Gn[1]=ce>>>8&255,Gn[2]=ce>>>16&255,Gn[3]=ce>>>24&255,W.check=r(W.check,Gn,4,0)),ce=0,Ce=0,W.mode=E;case E:for(;Ce<16;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}W.head&&(W.head.xflags=ce&255,W.head.os=ce>>8),W.flags&512&&(Gn[0]=ce&255,Gn[1]=ce>>>8&255,W.check=r(W.check,Gn,2,0)),ce=0,Ce=0,W.mode=C;case C:if(W.flags&1024){for(;Ce<16;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}W.length=ce,W.head&&(W.head.extra_len=ce),W.flags&512&&(Gn[0]=ce&255,Gn[1]=ce>>>8&255,W.check=r(W.check,Gn,2,0)),ce=0,Ce=0}else W.head&&(W.head.extra=null);W.mode=T;case T:if(W.flags&1024&&(lt=W.length,lt>Oe&&(lt=Oe),lt&&(W.head&&(cn=W.head.extra_len-W.length,W.head.extra||(W.head.extra=new Array(W.head.extra_len)),t.arraySet(W.head.extra,Ue,N,lt,cn)),W.flags&512&&(W.check=r(W.check,Ue,lt,N)),Oe-=lt,N+=lt,W.length-=lt),W.length))break e;W.length=0,W.mode=A;case A:if(W.flags&2048){if(Oe===0)break e;lt=0;do cn=Ue[N+lt++],W.head&&cn&&W.length<65536&&(W.head.name+=String.fromCharCode(cn));while(cn&&lt<Oe);if(W.flags&512&&(W.check=r(W.check,Ue,lt,N)),Oe-=lt,N+=lt,cn)break e}else W.head&&(W.head.name=null);W.length=0,W.mode=I;case I:if(W.flags&4096){if(Oe===0)break e;lt=0;do cn=Ue[N+lt++],W.head&&cn&&W.length<65536&&(W.head.comment+=String.fromCharCode(cn));while(cn&&lt<Oe);if(W.flags&512&&(W.check=r(W.check,Ue,lt,N)),Oe-=lt,N+=lt,cn)break e}else W.head&&(W.head.comment=null);W.mode=O;case O:if(W.flags&512){for(;Ce<16;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}if(ce!==(W.check&65535)){oe.msg="header crc mismatch",W.mode=Ee;break}ce=0,Ce=0}W.head&&(W.head.hcrc=W.flags>>9&1,W.head.done=!0),oe.adler=W.check=0,W.mode=F;break;case P:for(;Ce<32;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}oe.adler=W.check=wt(ce),ce=0,Ce=0,W.mode=k;case k:if(W.havedict===0)return oe.next_out=Re,oe.avail_out=q,oe.next_in=N,oe.avail_in=Oe,W.hold=ce,W.bits=Ce,p;oe.adler=W.check=1,W.mode=F;case F:if(Ie===l||Ie===u)break e;case B:if(W.last){ce>>>=Ce&7,Ce-=Ce&7,W.mode=_e;break}for(;Ce<3;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}switch(W.last=ce&1,ce>>>=1,Ce-=1,ce&3){case 0:W.mode=D;break;case 1:if(ur(W),W.mode=X,Ie===u){ce>>>=2,Ce-=2;break e}break;case 2:W.mode=te;break;case 3:oe.msg="invalid block type",W.mode=Ee}ce>>>=2,Ce-=2;break;case D:for(ce>>>=Ce&7,Ce-=Ce&7;Ce<32;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}if((ce&65535)!==(ce>>>16^65535)){oe.msg="invalid stored block lengths",W.mode=Ee;break}if(W.length=ce&65535,ce=0,Ce=0,W.mode=z,Ie===u)break e;case z:W.mode=ee;case ee:if(lt=W.length,lt){if(lt>Oe&&(lt=Oe),lt>q&&(lt=q),lt===0)break e;t.arraySet(pt,Ue,N,lt,Re),Oe-=lt,N+=lt,q-=lt,Re+=lt,W.length-=lt;break}W.mode=F;break;case te:for(;Ce<14;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}if(W.nlen=(ce&31)+257,ce>>>=5,Ce-=5,W.ndist=(ce&31)+1,ce>>>=5,Ce-=5,W.ncode=(ce&15)+4,ce>>>=4,Ce-=4,W.nlen>286||W.ndist>30){oe.msg="too many length or distance symbols",W.mode=Ee;break}W.have=0,W.mode=Y;case Y:for(;W.have<W.ncode;){for(;Ce<3;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}W.lens[kf[W.have++]]=ce&7,ce>>>=3,Ce-=3}for(;W.have<19;)W.lens[kf[W.have++]]=0;if(W.lencode=W.lendyn,W.lenbits=7,za={bits:W.lenbits},Zi=i(a,W.lens,0,19,W.lencode,0,W.work,za),W.lenbits=za.bits,Zi){oe.msg="invalid code lengths set",W.mode=Ee;break}W.have=0,W.mode=U;case U:for(;W.have<W.nlen+W.ndist;){for(;ar=W.lencode[ce&(1<<W.lenbits)-1],St=ar>>>24,Ar=ar>>>16&255,un=ar&65535,!(St<=Ce);){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}if(un<16)ce>>>=St,Ce-=St,W.lens[W.have++]=un;else{if(un===16){for(da=St+2;Ce<da;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}if(ce>>>=St,Ce-=St,W.have===0){oe.msg="invalid bit length repeat",W.mode=Ee;break}cn=W.lens[W.have-1],lt=3+(ce&3),ce>>>=2,Ce-=2}else if(un===17){for(da=St+3;Ce<da;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}ce>>>=St,Ce-=St,cn=0,lt=3+(ce&7),ce>>>=3,Ce-=3}else{for(da=St+7;Ce<da;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}ce>>>=St,Ce-=St,cn=0,lt=11+(ce&127),ce>>>=7,Ce-=7}if(W.have+lt>W.nlen+W.ndist){oe.msg="invalid bit length repeat",W.mode=Ee;break}for(;lt--;)W.lens[W.have++]=cn}}if(W.mode===Ee)break;if(W.lens[256]===0){oe.msg="invalid code -- missing end-of-block",W.mode=Ee;break}if(W.lenbits=9,za={bits:W.lenbits},Zi=i(o,W.lens,0,W.nlen,W.lencode,0,W.work,za),W.lenbits=za.bits,Zi){oe.msg="invalid literal/lengths set",W.mode=Ee;break}if(W.distbits=6,W.distcode=W.distdyn,za={bits:W.distbits},Zi=i(s,W.lens,W.nlen,W.ndist,W.distcode,0,W.work,za),W.distbits=za.bits,Zi){oe.msg="invalid distances set",W.mode=Ee;break}if(W.mode=X,Ie===u)break e;case X:W.mode=j;case j:if(Oe>=6&&q>=258){oe.next_out=Re,oe.avail_out=q,oe.next_in=N,oe.avail_in=Oe,W.hold=ce,W.bits=Ce,n(oe,Qe),Re=oe.next_out,pt=oe.output,q=oe.avail_out,N=oe.next_in,Ue=oe.input,Oe=oe.avail_in,ce=W.hold,Ce=W.bits,W.mode===F&&(W.back=-1);break}for(W.back=0;ar=W.lencode[ce&(1<<W.lenbits)-1],St=ar>>>24,Ar=ar>>>16&255,un=ar&65535,!(St<=Ce);){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}if(Ar&&!(Ar&240)){for(ni=St,Rl=Ar,Pl=un;ar=W.lencode[Pl+((ce&(1<<ni+Rl)-1)>>ni)],St=ar>>>24,Ar=ar>>>16&255,un=ar&65535,!(ni+St<=Ce);){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}ce>>>=ni,Ce-=ni,W.back+=ni}if(ce>>>=St,Ce-=St,W.back+=St,W.length=un,Ar===0){W.mode=se;break}if(Ar&32){W.back=-1,W.mode=F;break}if(Ar&64){oe.msg="invalid literal/length code",W.mode=Ee;break}W.extra=Ar&15,W.mode=G;case G:if(W.extra){for(da=W.extra;Ce<da;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}W.length+=ce&(1<<W.extra)-1,ce>>>=W.extra,Ce-=W.extra,W.back+=W.extra}W.was=W.length,W.mode=ne;case ne:for(;ar=W.distcode[ce&(1<<W.distbits)-1],St=ar>>>24,Ar=ar>>>16&255,un=ar&65535,!(St<=Ce);){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}if(!(Ar&240)){for(ni=St,Rl=Ar,Pl=un;ar=W.distcode[Pl+((ce&(1<<ni+Rl)-1)>>ni)],St=ar>>>24,Ar=ar>>>16&255,un=ar&65535,!(ni+St<=Ce);){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}ce>>>=ni,Ce-=ni,W.back+=ni}if(ce>>>=St,Ce-=St,W.back+=St,Ar&64){oe.msg="invalid distance code",W.mode=Ee;break}W.offset=un,W.extra=Ar&15,W.mode=ae;case ae:if(W.extra){for(da=W.extra;Ce<da;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}W.offset+=ce&(1<<W.extra)-1,ce>>>=W.extra,Ce-=W.extra,W.back+=W.extra}if(W.offset>W.dmax){oe.msg="invalid distance too far back",W.mode=Ee;break}W.mode=pe;case pe:if(q===0)break e;if(lt=Qe-q,W.offset>lt){if(lt=W.offset-lt,lt>W.whave&&W.sane){oe.msg="invalid distance too far back",W.mode=Ee;break}lt>W.wnext?(lt-=W.wnext,Ft=W.wsize-lt):Ft=W.wnext-lt,lt>W.length&&(lt=W.length),$n=W.window}else $n=pt,Ft=Re-W.offset,lt=W.length;lt>q&&(lt=q),q-=lt,W.length-=lt;do pt[Re++]=$n[Ft++];while(--lt);W.length===0&&(W.mode=j);break;case se:if(q===0)break e;pt[Re++]=W.length,q--,W.mode=j;break;case _e:if(W.wrap){for(;Ce<32;){if(Oe===0)break e;Oe--,ce|=Ue[N++]<<Ce,Ce+=8}if(Qe-=q,oe.total_out+=Qe,W.total+=Qe,Qe&&(oe.adler=W.check=W.flags?r(W.check,pt,Qe,Re-Qe):e(W.check,pt,Qe,Re-Qe)),Qe=q,(W.flags?ce:wt(ce))!==W.check){oe.msg="incorrect data check",W.mode=Ee;break}ce=0,Ce=0}W.mode=Me;case Me:if(W.wrap&&W.flags){for(;Ce<32;){if(Oe===0)break e;Oe--,ce+=Ue[N++]<<Ce,Ce+=8}if(ce!==(W.total&4294967295)){oe.msg="incorrect length check",W.mode=Ee;break}ce=0,Ce=0}W.mode=Pe;case Pe:Zi=h;break e;case Ee:Zi=g;break e;case Se:return m;case Ge:default:return d}return oe.next_out=Re,oe.avail_out=q,oe.next_in=N,oe.avail_in=Oe,W.hold=ce,W.bits=Ce,(W.wsize||Qe!==oe.avail_out&&W.mode<Ee&&(W.mode<_e||Ie!==c))&&ke(oe,oe.output,oe.next_out,Qe-oe.avail_out),dt-=oe.avail_in,Qe-=oe.avail_out,oe.total_in+=dt,oe.total_out+=Qe,W.total+=Qe,W.wrap&&Qe&&(oe.adler=W.check=W.flags?r(W.check,pt,Qe,oe.next_out-Qe):e(W.check,pt,Qe,oe.next_out-Qe)),oe.data_type=W.bits+(W.last?64:0)+(W.mode===F?128:0)+(W.mode===X||W.mode===z?256:0),(dt===0&&Qe===0||Ie===c)&&Zi===f&&(Zi=v),Zi}function ve(oe){if(!oe||!oe.state)return d;var Ie=oe.state;return Ie.window&&(Ie.window=null),oe.state=null,f}function Te(oe,Ie){var W;return!oe||!oe.state||(W=oe.state,!(W.wrap&2))?d:(W.head=Ie,Ie.done=!1,f)}function Fe(oe,Ie){var W=Ie.length,Ue,pt,N;return!oe||!oe.state||(Ue=oe.state,Ue.wrap!==0&&Ue.mode!==k)?d:Ue.mode===k&&(pt=1,pt=e(pt,Ie,W,0),pt!==Ue.check)?g:(N=ke(oe,Ie,W,W),N?(Ue.mode=Se,m):(Ue.havedict=1,f))}return yo.inflateReset=gt,yo.inflateReset2=It,yo.inflateResetKeep=ht,yo.inflateInit=tr,yo.inflateInit2=vr,yo.inflate=V,yo.inflateEnd=ve,yo.inflateGetHeader=Te,yo.inflateSetDictionary=Fe,yo.inflateInfo="pako inflate (from Nodeca project)",yo}var zC,Aj;function nq(){return Aj||(Aj=1,zC={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),zC}var XC,Ij;function H7e(){if(Ij)return XC;Ij=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return XC=t,XC}var Rj;function z7e(){if(Rj)return fh;Rj=1;var t=V7e(),e=Qu(),r=tq(),n=nq(),i=I4(),a=rq(),o=H7e(),s=Object.prototype.toString;function c(f){if(!(this instanceof c))return new c(f);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},f||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(f&&f.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15||(h.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var p=t.inflateInit2(this.strm,h.windowBits);if(p!==n.Z_OK)throw new Error(i[p]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=r.string2buf(h.dictionary):s.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(p=t.inflateSetDictionary(this.strm,h.dictionary),p!==n.Z_OK)))throw new Error(i[p])}c.prototype.push=function(f,h){var p=this.strm,d=this.options.chunkSize,g=this.options.dictionary,m,v,_,y,b,w=!1;if(this.ended)return!1;v=h===~~h?h:h===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof f=="string"?p.input=r.binstring2buf(f):s.call(f)==="[object ArrayBuffer]"?p.input=new Uint8Array(f):p.input=f,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new e.Buf8(d),p.next_out=0,p.avail_out=d),m=t.inflate(p,n.Z_NO_FLUSH),m===n.Z_NEED_DICT&&g&&(m=t.inflateSetDictionary(this.strm,g)),m===n.Z_BUF_ERROR&&w===!0&&(m=n.Z_OK,w=!1),m!==n.Z_STREAM_END&&m!==n.Z_OK)return this.onEnd(m),this.ended=!0,!1;p.next_out&&(p.avail_out===0||m===n.Z_STREAM_END||p.avail_in===0&&(v===n.Z_FINISH||v===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(_=r.utf8border(p.output,p.next_out),y=p.next_out-_,b=r.buf2string(p.output,_),p.next_out=y,p.avail_out=d-y,y&&e.arraySet(p.output,p.output,_,y,0),this.onData(b)):this.onData(e.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(w=!0)}while((p.avail_in>0||p.avail_out===0)&&m!==n.Z_STREAM_END);return m===n.Z_STREAM_END&&(v=n.Z_FINISH),v===n.Z_FINISH?(m=t.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===n.Z_OK):(v===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),p.avail_out=0),!0)},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function l(f,h){var p=new c(h);if(p.push(f,!0),p.err)throw p.msg||i[p.err];return p.result}function u(f,h){return h=h||{},h.raw=!0,l(f,h)}return fh.Inflate=c,fh.inflate=l,fh.inflateRaw=u,fh.ungzip=l,fh}var WC,Pj;function X7e(){if(Pj)return WC;Pj=1;var t=Qu().assign,e=j7e(),r=z7e(),n=nq(),i={};return t(i,e,r,n),WC=i,WC}(function(t){(function(){var e={},r;t.exports=e,typeof Th=="function"?r=X7e():r=window.pako,function(n,i){n.toRGBA8=function(a){var o=a.width,s=a.height;if(a.tabs.acTL==null)return[n.toRGBA8.decodeImage(a.data,o,s,a).buffer];var c=[];a.frames[0].data==null&&(a.frames[0].data=a.data);for(var l,u=new Uint8Array(o*s*4),f=0;f<a.frames.length;f++){var h=a.frames[f],p=h.rect.x,d=h.rect.y,g=h.rect.width,m=h.rect.height,v=n.toRGBA8.decodeImage(h.data,g,m,a);if(f==0?l=v:h.blend==0?n._copyTile(v,g,m,l,o,s,p,d,0):h.blend==1&&n._copyTile(v,g,m,l,o,s,p,d,1),c.push(l.buffer),l=l.slice(0),h.dispose!=0){if(h.dispose==1)n._copyTile(u,g,m,l,o,s,p,d,0);else if(h.dispose==2){for(var _=f-1;a.frames[_].dispose==2;)_--;l=new Uint8Array(c[_]).slice(0)}}}return c},n.toRGBA8.decodeImage=function(a,o,s,c){var l=o*s,u=n.decode._getBPP(c),f=Math.ceil(o*u/8),h=new Uint8Array(l*4),p=new Uint32Array(h.buffer),d=c.ctype,g=c.depth,m=n._bin.readUshort;if(d==6){var v=l<<2;if(g==8)for(var _=0;_<v;_++)h[_]=a[_];if(g==16)for(var _=0;_<v;_++)h[_]=a[_<<1]}else if(d==2){var y=c.tabs.tRNS,b=-1,w=-1,E=-1;if(y&&(b=y[0],w=y[1],E=y[2]),g==8)for(var _=0;_<l;_++){var C=_<<2,T=_*3;h[C]=a[T],h[C+1]=a[T+1],h[C+2]=a[T+2],h[C+3]=255,b!=-1&&a[T]==b&&a[T+1]==w&&a[T+2]==E&&(h[C+3]=0)}if(g==16)for(var _=0;_<l;_++){var C=_<<2,T=_*6;h[C]=a[T],h[C+1]=a[T+2],h[C+2]=a[T+4],h[C+3]=255,b!=-1&&m(a,T)==b&&m(a,T+2)==w&&m(a,T+4)==E&&(h[C+3]=0)}}else if(d==3){var A=c.tabs.PLTE,I=c.tabs.tRNS,O=I?I.length:0;if(g==1)for(var P=0;P<s;P++)for(var k=P*f,F=P*o,_=0;_<o;_++){var C=F+_<<2,B=a[k+(_>>3)]>>7-((_&7)<<0)&1,D=3*B;h[C]=A[D],h[C+1]=A[D+1],h[C+2]=A[D+2],h[C+3]=B<O?I[B]:255}if(g==2)for(var P=0;P<s;P++)for(var k=P*f,F=P*o,_=0;_<o;_++){var C=F+_<<2,B=a[k+(_>>2)]>>6-((_&3)<<1)&3,D=3*B;h[C]=A[D],h[C+1]=A[D+1],h[C+2]=A[D+2],h[C+3]=B<O?I[B]:255}if(g==4)for(var P=0;P<s;P++)for(var k=P*f,F=P*o,_=0;_<o;_++){var C=F+_<<2,B=a[k+(_>>1)]>>4-((_&1)<<2)&15,D=3*B;h[C]=A[D],h[C+1]=A[D+1],h[C+2]=A[D+2],h[C+3]=B<O?I[B]:255}if(g==8)for(var _=0;_<l;_++){var C=_<<2,B=a[_],D=3*B;h[C]=A[D],h[C+1]=A[D+1],h[C+2]=A[D+2],h[C+3]=B<O?I[B]:255}}else if(d==4){if(g==8)for(var _=0;_<l;_++){var C=_<<2,z=_<<1,ee=a[z];h[C]=ee,h[C+1]=ee,h[C+2]=ee,h[C+3]=a[z+1]}if(g==16)for(var _=0;_<l;_++){var C=_<<2,z=_<<2,ee=a[z];h[C]=ee,h[C+1]=ee,h[C+2]=ee,h[C+3]=a[z+2]}}else if(d==0){var b=c.tabs.tRNS?c.tabs.tRNS:-1;if(g==1)for(var _=0;_<l;_++){var ee=255*(a[_>>3]>>7-(_&7)&1),te=ee==b*255?0:255;p[_]=te<<24|ee<<16|ee<<8|ee}if(g==2)for(var _=0;_<l;_++){var ee=85*(a[_>>2]>>6-((_&3)<<1)&3),te=ee==b*85?0:255;p[_]=te<<24|ee<<16|ee<<8|ee}if(g==4)for(var _=0;_<l;_++){var ee=17*(a[_>>1]>>4-((_&1)<<2)&15),te=ee==b*17?0:255;p[_]=te<<24|ee<<16|ee<<8|ee}if(g==8)for(var _=0;_<l;_++){var ee=a[_],te=ee==b?0:255;p[_]=te<<24|ee<<16|ee<<8|ee}if(g==16)for(var _=0;_<l;_++){var ee=a[_<<1],te=m(a,_<<1)==b?0:255;p[_]=te<<24|ee<<16|ee<<8|ee}}return h},n.decode=function(a){for(var o=new Uint8Array(a),s=8,c=n._bin,l=c.readUshort,u=c.readUint,f={tabs:{},frames:[]},h=new Uint8Array(o.length),p=0,d,g=0,m=[137,80,78,71,13,10,26,10],v=0;v<8;v++)if(o[v]!=m[v])throw"The input is not a PNG file!";for(;s<o.length;){var _=c.readUint(o,s);s+=4;var y=c.readASCII(o,s,4);if(s+=4,y=="IHDR")n.decode._IHDR(o,s,f);else if(y=="IDAT"){for(var v=0;v<_;v++)h[p+v]=o[s+v];p+=_}else if(y=="acTL")f.tabs[y]={num_frames:u(o,s),num_plays:u(o,s+4)},d=new Uint8Array(o.length);else if(y=="fcTL"){if(g!=0){var b=f.frames[f.frames.length-1];b.data=n.decode._decompress(f,d.slice(0,g),b.rect.width,b.rect.height),g=0}var w={x:u(o,s+12),y:u(o,s+16),width:u(o,s+4),height:u(o,s+8)},E=l(o,s+22);E=l(o,s+20)/(E==0?100:E);var C={rect:w,delay:Math.round(E*1e3),dispose:o[s+24],blend:o[s+25]};f.frames.push(C)}else if(y=="fdAT"){for(var v=0;v<_-4;v++)d[g+v]=o[s+v+4];g+=_-4}else if(y=="pHYs")f.tabs[y]=[c.readUint(o,s),c.readUint(o,s+4),o[s+8]];else if(y=="cHRM"){f.tabs[y]=[];for(var v=0;v<8;v++)f.tabs[y].push(c.readUint(o,s+v*4))}else if(y=="tEXt"){f.tabs[y]==null&&(f.tabs[y]={});var T=c.nextZero(o,s),A=c.readASCII(o,s,T-s),I=c.readASCII(o,T+1,s+_-T-1);f.tabs[y][A]=I}else if(y=="iTXt"){f.tabs[y]==null&&(f.tabs[y]={});var T=0,O=s;T=c.nextZero(o,O);var A=c.readASCII(o,O,T-O);O=T+1,o[O],o[O+1],O+=2,T=c.nextZero(o,O),c.readASCII(o,O,T-O),O=T+1,T=c.nextZero(o,O),c.readUTF8(o,O,T-O),O=T+1;var I=c.readUTF8(o,O,_-(O-s));f.tabs[y][A]=I}else if(y=="PLTE")f.tabs[y]=c.readBytes(o,s,_);else if(y=="hIST"){var P=f.tabs.PLTE.length/3;f.tabs[y]=[];for(var v=0;v<P;v++)f.tabs[y].push(l(o,s+v*2))}else if(y=="tRNS")f.ctype==3?f.tabs[y]=c.readBytes(o,s,_):f.ctype==0?f.tabs[y]=l(o,s):f.ctype==2&&(f.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]);else if(y=="gAMA")f.tabs[y]=c.readUint(o,s)/1e5;else if(y=="sRGB")f.tabs[y]=o[s];else if(y=="bKGD")f.ctype==0||f.ctype==4?f.tabs[y]=[l(o,s)]:f.ctype==2||f.ctype==6?f.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]:f.ctype==3&&(f.tabs[y]=o[s]);else if(y=="IEND"){if(g!=0){var b=f.frames[f.frames.length-1];b.data=n.decode._decompress(f,d.slice(0,g),b.rect.width,b.rect.height),g=0}f.data=n.decode._decompress(f,h,f.width,f.height);break}s+=_,c.readUint(o,s),s+=4}return delete f.compress,delete f.interlace,delete f.filter,f},n.decode._decompress=function(a,o,s,c){return a.compress==0&&(o=n.decode._inflate(o)),a.interlace==0?o=n.decode._filterZero(o,a,0,s,c):a.interlace==1&&(o=n.decode._readInterlace(o,a)),o},n.decode._inflate=function(a){return i.inflate(a)},n.decode._readInterlace=function(a,o){for(var s=o.width,c=o.height,l=n.decode._getBPP(o),u=l>>3,f=Math.ceil(s*l/8),h=new Uint8Array(c*f),p=0,d=[0,0,4,0,2,0,1],g=[0,4,0,2,0,1,0],m=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1],_=0;_<7;){for(var y=m[_],b=v[_],w=0,E=0,C=d[_];C<c;)C+=y,E++;for(var T=g[_];T<s;)T+=b,w++;var A=Math.ceil(w*l/8);n.decode._filterZero(a,o,p,w,E);for(var I=0,O=d[_];O<c;){for(var P=g[_],k=p+I*A<<3;P<s;){if(l==1){var F=a[k>>3];F=F>>7-(k&7)&1,h[O*f+(P>>3)]|=F<<7-((P&3)<<0)}if(l==2){var F=a[k>>3];F=F>>6-(k&7)&3,h[O*f+(P>>2)]|=F<<6-((P&3)<<1)}if(l==4){var F=a[k>>3];F=F>>4-(k&7)&15,h[O*f+(P>>1)]|=F<<4-((P&1)<<2)}if(l>=8)for(var B=O*f+P*u,D=0;D<u;D++)h[B+D]=a[(k>>3)+D];k+=l,P+=b}I++,O+=y}w*E!=0&&(p+=E*(1+A)),_=_+1}return h},n.decode._getBPP=function(a){var o=[1,null,3,1,2,null,4][a.ctype];return o*a.depth},n.decode._filterZero=function(a,o,s,c,l){var u=n.decode._getBPP(o),f=Math.ceil(c*u/8),h=n.decode._paeth;u=Math.ceil(u/8);for(var p=0;p<l;p++){var d=s+p*f,g=d+p+1,m=a[g-1];if(m==0)for(var v=0;v<f;v++)a[d+v]=a[g+v];else if(m==1){for(var v=0;v<u;v++)a[d+v]=a[g+v];for(var v=u;v<f;v++)a[d+v]=a[g+v]+a[d+v-u]&255}else if(p==0){for(var v=0;v<u;v++)a[d+v]=a[g+v];if(m==2)for(var v=u;v<f;v++)a[d+v]=a[g+v]&255;if(m==3)for(var v=u;v<f;v++)a[d+v]=a[g+v]+(a[d+v-u]>>1)&255;if(m==4)for(var v=u;v<f;v++)a[d+v]=a[g+v]+h(a[d+v-u],0,0)&255}else{if(m==2)for(var v=0;v<f;v++)a[d+v]=a[g+v]+a[d+v-f]&255;if(m==3){for(var v=0;v<u;v++)a[d+v]=a[g+v]+(a[d+v-f]>>1)&255;for(var v=u;v<f;v++)a[d+v]=a[g+v]+(a[d+v-f]+a[d+v-u]>>1)&255}if(m==4){for(var v=0;v<u;v++)a[d+v]=a[g+v]+h(0,a[d+v-f],0)&255;for(var v=u;v<f;v++)a[d+v]=a[g+v]+h(a[d+v-u],a[d+v-f],a[d+v-u-f])&255}}}return a},n.decode._paeth=function(a,o,s){var c=a+o-s,l=Math.abs(c-a),u=Math.abs(c-o),f=Math.abs(c-s);return l<=u&&l<=f?a:u<=f?o:s},n.decode._IHDR=function(a,o,s){var c=n._bin;s.width=c.readUint(a,o),o+=4,s.height=c.readUint(a,o),o+=4,s.depth=a[o],o++,s.ctype=a[o],o++,s.compress=a[o],o++,s.filter=a[o],o++,s.interlace=a[o],o++},n._bin={nextZero:function(a,o){for(;a[o]!=0;)o++;return o},readUshort:function(a,o){return a[o]<<8|a[o+1]},writeUshort:function(a,o,s){a[o]=s>>8&255,a[o+1]=s&255},readUint:function(a,o){return a[o]*(256*256*256)+(a[o+1]<<16|a[o+2]<<8|a[o+3])},writeUint:function(a,o,s){a[o]=s>>24&255,a[o+1]=s>>16&255,a[o+2]=s>>8&255,a[o+3]=s&255},readASCII:function(a,o,s){for(var c="",l=0;l<s;l++)c+=String.fromCharCode(a[o+l]);return c},writeASCII:function(a,o,s){for(var c=0;c<s.length;c++)a[o+c]=s.charCodeAt(c)},readBytes:function(a,o,s){for(var c=[],l=0;l<s;l++)c.push(a[o+l]);return c},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,o,s){for(var c="",l,u=0;u<s;u++)c+="%"+n._bin.pad(a[o+u].toString(16));try{l=decodeURIComponent(c)}catch{return n._bin.readASCII(a,o,s)}return l}},n._copyTile=function(a,o,s,c,l,u,f,h,p){for(var d=Math.min(o,l),g=Math.min(s,u),m=0,v=0,_=0;_<g;_++)for(var y=0;y<d;y++)if(f>=0&&h>=0?(m=_*o+y<<2,v=(h+_)*l+f+y<<2):(m=(-h+_)*o-f+y<<2,v=_*l+y<<2),p==0)c[v]=a[m],c[v+1]=a[m+1],c[v+2]=a[m+2],c[v+3]=a[m+3];else if(p==1){var b=a[m+3]*.00392156862745098,w=a[m]*b,E=a[m+1]*b,C=a[m+2]*b,T=c[v+3]*(1/255),A=c[v]*T,I=c[v+1]*T,O=c[v+2]*T,P=1-b,k=b+T*P,F=k==0?0:1/k;c[v+3]=255*k,c[v+0]=(w+A*P)*F,c[v+1]=(E+I*P)*F,c[v+2]=(C+O*P)*F}else if(p==2){var b=a[m+3],w=a[m],E=a[m+1],C=a[m+2],T=c[v+3],A=c[v],I=c[v+1],O=c[v+2];b==T&&w==A&&E==I&&C==O?(c[v]=0,c[v+1]=0,c[v+2]=0,c[v+3]=0):(c[v]=w,c[v+1]=E,c[v+2]=C,c[v+3]=b)}else if(p==3){var b=a[m+3],w=a[m],E=a[m+1],C=a[m+2],T=c[v+3],A=c[v],I=c[v+1],O=c[v+2];if(b==T&&w==A&&E==I&&C==O)continue;if(b<220&&T>20)return!1}return!0},n.encode=function(a,o,s,c,l,u){c==null&&(c=0),u==null&&(u=!1);for(var f=new Uint8Array(a[0].byteLength*a.length+100),h=[137,80,78,71,13,10,26,10],p=0;p<8;p++)f[p]=h[p];var d=8,g=n._bin,m=n.crc.crc,v=g.writeUint,_=g.writeUshort,y=g.writeASCII,b=n.encode.compressPNG(a,o,s,c,u);v(f,d,13),d+=4,y(f,d,"IHDR"),d+=4,v(f,d,o),d+=4,v(f,d,s),d+=4,f[d]=b.depth,d++,f[d]=b.ctype,d++,f[d]=0,d++,f[d]=0,d++,f[d]=0,d++,v(f,d,m(f,d-17,17)),d+=4,v(f,d,1),d+=4,y(f,d,"sRGB"),d+=4,f[d]=1,d++,v(f,d,m(f,d-5,5)),d+=4;var w=a.length>1;if(w&&(v(f,d,8),d+=4,y(f,d,"acTL"),d+=4,v(f,d,a.length),d+=4,v(f,d,0),d+=4,v(f,d,m(f,d-12,12)),d+=4),b.ctype==3){var E=b.plte.length;v(f,d,E*3),d+=4,y(f,d,"PLTE"),d+=4;for(var p=0;p<E;p++){var C=p*3,T=b.plte[p],A=T&255,I=T>>8&255,O=T>>16&255;f[d+C+0]=A,f[d+C+1]=I,f[d+C+2]=O}if(d+=E*3,v(f,d,m(f,d-E*3-4,E*3+4)),d+=4,b.gotAlpha){v(f,d,E),d+=4,y(f,d,"tRNS"),d+=4;for(var p=0;p<E;p++)f[d+p]=b.plte[p]>>24&255;d+=E,v(f,d,m(f,d-E-4,E+4)),d+=4}}for(var P=0,k=0;k<b.frames.length;k++){var F=b.frames[k];w&&(v(f,d,26),d+=4,y(f,d,"fcTL"),d+=4,v(f,d,P++),d+=4,v(f,d,F.rect.width),d+=4,v(f,d,F.rect.height),d+=4,v(f,d,F.rect.x),d+=4,v(f,d,F.rect.y),d+=4,_(f,d,l[k]),d+=2,_(f,d,1e3),d+=2,f[d]=F.dispose,d++,f[d]=F.blend,d++,v(f,d,m(f,d-30,30)),d+=4);var B=F.cimg,E=B.length;v(f,d,E+(k==0?0:4)),d+=4;var D=d;y(f,d,k==0?"IDAT":"fdAT"),d+=4,k!=0&&(v(f,d,P++),d+=4);for(var p=0;p<E;p++)f[d+p]=B[p];d+=E,v(f,d,m(f,D,d-D)),d+=4}return v(f,d,0),d+=4,y(f,d,"IEND"),d+=4,v(f,d,m(f,d-4,4)),d+=4,f.buffer.slice(0,d)},n.encode.compressPNG=function(a,o,s,c,l){for(var u=n.encode.compress(a,o,s,c,!1,l),f=0;f<a.length;f++){var h=u.frames[f];h.rect.width;var p=h.rect.height,d=h.bpl,g=h.bpp,m=new Uint8Array(p*d+p);h.cimg=n.encode._filterZero(h.img,p,g,d,m)}return u},n.encode.compress=function(a,o,s,c,l,u){u==null&&(u=!1);for(var f=6,h=8,p=4,d=255,g=0;g<a.length;g++)for(var m=new Uint8Array(a[g]),v=m.length,_=0;_<v;_+=4)d&=m[_+3];var y=d!=255,b={},w=[];if(a.length!=0&&(b[0]=0,w.push(0),c!=0&&c--),c!=0){var E=n.quantize(a,c,l);a=E.bufs;for(var _=0;_<E.plte.length;_++){var C=E.plte[_].est.rgba;b[C]==null&&(b[C]=w.length,w.push(C))}}else for(var g=0;g<a.length;g++)for(var T=new Uint32Array(a[g]),v=T.length,_=0;_<v;_++){var C=T[_];if((_<o||C!=T[_-1]&&C!=T[_-o])&&b[C]==null&&(b[C]=w.length,w.push(C),w.length>=300))break}var A=y?l:!1,I=w.length;I<=256&&u==!1&&(I<=2?h=1:I<=4?h=2:I<=16?h=4:h=8,l&&(h=8),y=!0);for(var O=[],g=0;g<a.length;g++){var P=new Uint8Array(a[g]),k=new Uint32Array(P.buffer),F=0,B=0,D=o,z=s,ee=0;if(g!=0&&!A){for(var te=l||g==1||O[O.length-2].dispose==2?1:2,Y=0,U=1e9,X=0;X<te;X++){for(var Pe=new Uint8Array(a[g-1-X]),j=new Uint32Array(a[g-1-X]),G=o,ne=s,ae=-1,pe=-1,se=0;se<s;se++)for(var _e=0;_e<o;_e++){var _=se*o+_e;k[_]!=j[_]&&(_e<G&&(G=_e),_e>ae&&(ae=_e),se<ne&&(ne=se),se>pe&&(pe=se))}var Me=ae==-1?1:(ae-G+1)*(pe-ne+1);Me<U&&(U=Me,Y=X,ae==-1?(F=B=0,D=z=1):(F=G,B=ne,D=ae-G+1,z=pe-ne+1))}var Pe=new Uint8Array(a[g-1-Y]);Y==1&&(O[O.length-1].dispose=2);var Ee=new Uint8Array(D*z*4);new Uint32Array(Ee.buffer),n._copyTile(Pe,o,s,Ee,D,z,-F,-B,0),n._copyTile(P,o,s,Ee,D,z,-F,-B,3)?(n._copyTile(P,o,s,Ee,D,z,-F,-B,2),ee=1):(n._copyTile(P,o,s,Ee,D,z,-F,-B,0),ee=0),P=Ee,k=new Uint32Array(P.buffer)}var Se=4*D;if(I<=256&&u==!1){Se=Math.ceil(h*D/8);for(var Ee=new Uint8Array(Se*z),se=0;se<z;se++){var _=se*Se,Ge=se*D;if(h==8)for(var _e=0;_e<D;_e++)Ee[_+_e]=b[k[Ge+_e]];else if(h==4)for(var _e=0;_e<D;_e++)Ee[_+(_e>>1)]|=b[k[Ge+_e]]<<4-(_e&1)*4;else if(h==2)for(var _e=0;_e<D;_e++)Ee[_+(_e>>2)]|=b[k[Ge+_e]]<<6-(_e&3)*2;else if(h==1)for(var _e=0;_e<D;_e++)Ee[_+(_e>>3)]|=b[k[Ge+_e]]<<7-(_e&7)*1}P=Ee,f=3,p=1}else if(y==!1&&a.length==1){for(var Ee=new Uint8Array(D*z*3),Ye=D*z,_=0;_<Ye;_++){var Ve=_*3,Xe=_*4;Ee[Ve]=P[Xe],Ee[Ve+1]=P[Xe+1],Ee[Ve+2]=P[Xe+2]}P=Ee,f=2,p=3,Se=3*D}O.push({rect:{x:F,y:B,width:D,height:z},img:P,bpl:Se,bpp:p,blend:ee,dispose:A?1:0})}return{ctype:f,depth:h,plte:w,gotAlpha:y,frames:O}},n.encode._filterZero=function(a,o,s,c,l){for(var u=[],f=0;f<5;f++)if(!(o*c>5e5&&(f==2||f==3||f==4))){for(var h=0;h<o;h++)n.encode._filterLine(l,a,h,c,s,f);if(u.push(i.deflate(l)),s==1)break}for(var p,d=1e9,g=0;g<u.length;g++)u[g].length<d&&(p=g,d=u[g].length);return u[p]},n.encode._filterLine=function(a,o,s,c,l,u){var f=s*c,h=f+s,p=n.decode._paeth;if(a[h]=u,h++,u==0)for(var d=0;d<c;d++)a[h+d]=o[f+d];else if(u==1){for(var d=0;d<l;d++)a[h+d]=o[f+d];for(var d=l;d<c;d++)a[h+d]=o[f+d]-o[f+d-l]+256&255}else if(s==0){for(var d=0;d<l;d++)a[h+d]=o[f+d];if(u==2)for(var d=l;d<c;d++)a[h+d]=o[f+d];if(u==3)for(var d=l;d<c;d++)a[h+d]=o[f+d]-(o[f+d-l]>>1)+256&255;if(u==4)for(var d=l;d<c;d++)a[h+d]=o[f+d]-p(o[f+d-l],0,0)+256&255}else{if(u==2)for(var d=0;d<c;d++)a[h+d]=o[f+d]+256-o[f+d-c]&255;if(u==3){for(var d=0;d<l;d++)a[h+d]=o[f+d]+256-(o[f+d-c]>>1)&255;for(var d=l;d<c;d++)a[h+d]=o[f+d]+256-(o[f+d-c]+o[f+d-l]>>1)&255}if(u==4){for(var d=0;d<l;d++)a[h+d]=o[f+d]+256-p(0,o[f+d-c],0)&255;for(var d=l;d<c;d++)a[h+d]=o[f+d]+256-p(o[f+d-l],o[f+d-c],o[f+d-l-c])&255}}},n.crc={table:function(){for(var a=new Uint32Array(256),o=0;o<256;o++){for(var s=o,c=0;c<8;c++)s&1?s=3988292384^s>>>1:s=s>>>1;a[o]=s}return a}(),update:function(a,o,s,c){for(var l=0;l<c;l++)a=n.crc.table[(a^o[s+l])&255]^a>>>8;return a},crc:function(a,o,s){return n.crc.update(4294967295,a,o,s)^4294967295}},n.quantize=function(a,o,s){for(var c=[],l=0,u=0;u<a.length;u++)c.push(n.encode.alphaMul(new Uint8Array(a[u]),s)),l+=a[u].byteLength;for(var f=new Uint8Array(l),h=new Uint32Array(f.buffer),p=0,u=0;u<c.length;u++){for(var d=c[u],g=d.length,m=0;m<g;m++)f[p+m]=d[m];p+=g}var v={i0:0,i1:f.length,bst:null,est:null,tdst:0,left:null,right:null};v.bst=n.quantize.stats(f,v.i0,v.i1),v.est=n.quantize.estats(v.bst);for(var _=[v];_.length<o;){for(var y=0,b=0,u=0;u<_.length;u++)_[u].est.L>y&&(y=_[u].est.L,b=u);if(y<.001)break;var w=_[b],E=n.quantize.splitPixels(f,h,w.i0,w.i1,w.est.e,w.est.eMq255),C={i0:w.i0,i1:E,bst:null,est:null,tdst:0,left:null,right:null};C.bst=n.quantize.stats(f,C.i0,C.i1),C.est=n.quantize.estats(C.bst);var T={i0:E,i1:w.i1,bst:null,est:null,tdst:0,left:null,right:null};T.bst={R:[],m:[],N:w.bst.N-C.bst.N};for(var u=0;u<16;u++)T.bst.R[u]=w.bst.R[u]-C.bst.R[u];for(var u=0;u<4;u++)T.bst.m[u]=w.bst.m[u]-C.bst.m[u];T.est=n.quantize.estats(T.bst),w.left=C,w.right=T,_[b]=C,_.push(T)}_.sort(function(te,Y){return Y.bst.N-te.bst.N});for(var A=0;A<c.length;A++){for(var I=n.quantize.planeDst,O=new Uint8Array(c[A].buffer),P=new Uint32Array(c[A].buffer),k=O.length,u=0;u<k;u+=4){for(var F=O[u]*.00392156862745098,B=O[u+1]*(1/255),D=O[u+2]*(1/255),z=O[u+3]*(1/255),ee=v;ee.left;)ee=I(ee.est,F,B,D,z)<=0?ee.left:ee.right;P[u>>2]=ee.est.rgba}c[A]=P.buffer}return{bufs:c,plte:_}},n.quantize.getNearest=function(a,o,s,c,l){if(a.left==null)return a.tdst=n.quantize.dist(a.est.q,o,s,c,l),a;var u=n.quantize.planeDst(a.est,o,s,c,l),f=a.left,h=a.right;u>0&&(f=a.right,h=a.left);var p=n.quantize.getNearest(f,o,s,c,l);if(p.tdst<=u*u)return p;var d=n.quantize.getNearest(h,o,s,c,l);return d.tdst<p.tdst?d:p},n.quantize.planeDst=function(a,o,s,c,l){var u=a.e;return u[0]*o+u[1]*s+u[2]*c+u[3]*l-a.eMq},n.quantize.dist=function(a,o,s,c,l){var u=o-a[0],f=s-a[1],h=c-a[2],p=l-a[3];return u*u+f*f+h*h+p*p},n.quantize.splitPixels=function(a,o,s,c,l,u){var f=n.quantize.vecDot;for(c-=4;s<c;){for(;f(a,s,l)<=u;)s+=4;for(;f(a,c,l)>u;)c-=4;if(s>=c)break;var h=o[s>>2];o[s>>2]=o[c>>2],o[c>>2]=h,s+=4,c-=4}for(;f(a,s,l)>u;)s-=4;return s+4},n.quantize.vecDot=function(a,o,s){return a[o]*s[0]+a[o+1]*s[1]+a[o+2]*s[2]+a[o+3]*s[3]},n.quantize.stats=function(a,o,s){for(var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0],u=s-o>>2,f=o;f<s;f+=4){var h=a[f]*.00392156862745098,p=a[f+1]*(1/255),d=a[f+2]*(1/255),g=a[f+3]*(1/255);l[0]+=h,l[1]+=p,l[2]+=d,l[3]+=g,c[0]+=h*h,c[1]+=h*p,c[2]+=h*d,c[3]+=h*g,c[5]+=p*p,c[6]+=p*d,c[7]+=p*g,c[10]+=d*d,c[11]+=d*g,c[15]+=g*g}return c[4]=c[1],c[8]=c[2],c[12]=c[3],c[9]=c[6],c[13]=c[7],c[14]=c[11],{R:c,m:l,N:u}},n.quantize.estats=function(a){var o=a.R,s=a.m,c=a.N,l=s[0],u=s[1],f=s[2],h=s[3],p=c==0?0:1/c,d=[o[0]-l*l*p,o[1]-l*u*p,o[2]-l*f*p,o[3]-l*h*p,o[4]-u*l*p,o[5]-u*u*p,o[6]-u*f*p,o[7]-u*h*p,o[8]-f*l*p,o[9]-f*u*p,o[10]-f*f*p,o[11]-f*h*p,o[12]-h*l*p,o[13]-h*u*p,o[14]-h*f*p,o[15]-h*h*p],g=d,m=n.M4,v=[.5,.5,.5,.5],_=0,y=0;if(c!=0)for(var b=0;b<10&&(v=m.multVec(g,v),y=Math.sqrt(m.dot(v,v)),v=m.sml(1/y,v),!(Math.abs(y-_)<1e-9));b++)_=y;var w=[l*p,u*p,f*p,h*p],E=m.dot(m.sml(255,w),v),C=w[3]<.001?0:1/w[3];return{Cov:d,q:w,e:v,L:_,eMq255:E,eMq:m.dot(v,w),rgba:(Math.round(255*w[3])<<24|Math.round(255*w[2]*C)<<16|Math.round(255*w[1]*C)<<8|Math.round(255*w[0]*C)<<0)>>>0}},n.M4={multVec:function(a,o){return[a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3],a[4]*o[0]+a[5]*o[1]+a[6]*o[2]+a[7]*o[3],a[8]*o[0]+a[9]*o[1]+a[10]*o[2]+a[11]*o[3],a[12]*o[0]+a[13]*o[1]+a[14]*o[2]+a[15]*o[3]]},dot:function(a,o){return a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3]},sml:function(a,o){return[a*o[0],a*o[1],a*o[2],a*o[3]]}},n.encode.alphaMul=function(a,o){for(var s=new Uint8Array(a.length),c=a.length>>2,l=0;l<c;l++){var u=l<<2,f=a[u+3];o&&(f=f<128?0:255);var h=f*(1/255);s[u+0]=a[u+0]*h,s[u+1]=a[u+1]*h,s[u+2]=a[u+2]*h,s[u+3]=f}return s}}(e,r)})()})(JY);var W7e=JY.exports;const Oj=Ki(W7e);/*!
 * @tbminiapp/pixi-apng-textures - v6.2.1-beta.9
 * Compiled Thu, 17 Mar 2022 08:24:35 UTC
 *
 * @tbminiapp/pixi-apng-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DR=function(t,e){return DR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},DR(t,e)};function Y7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");DR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var q7e=function(t){Y7e(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,delay:16});var i=this,a,o;typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.loaded=!0;var s=n.delay;return i._delay=s||0,i.origin=a,i.buffer=o.buffer?new Dv(o.buffer):null,i}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),e}(Zu);function K7e(t,e,r){var n={textures:{},texture:null,frameCount:0,frameTextureKeys:[],frameDelay:[]};if(!e)return n;var i=e.map(function(a){return new kt(new fr(a,Object.assign({mipmap:Va.OFF,alphaMode:Ca.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);fr.addToCache(s,c),kt.addToCache(a,c),o===0&&(fr.addToCache(s,t),kt.addToCache(a,t),n.texture=a),n.frameTextureKeys.push(c),n.frameDelay.push(s.resource.delay),n.textures[c]=a}),PIXI.utils.TextureCache.abcd="efg",n.frameCount=i.length,n}jr.setExtensionXhrType("apng",jr.XHR_RESPONSE_TYPE.BUFFER);var kj=[97,99,84,76],Z7e=function(){function t(){}return t.use=async function(e,r){if(e.extension==="png"&&e.data)try{var n=e.url,i=e.name||n;async function a(o){const s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch file: ${s.status} ${s.statusText}`);const c=await s.arrayBuffer(),l=new Uint8Array(c);if(t.validate(o,l))Object.assign(e,K7e(i,t.parse(i,l),e.metadata));else{r();return}}await a(n)}catch(a){r(a);return}r()},t.parse=function(e,r){var n=Oj.decode(r),i=n.width,a=n.height,o=n.frames,s=Oj.toRGBA8(n),c=[];s.forEach(function(u,f){var h=o[f],p=h.delay;c.push({data:new Uint8Array(u),delay:p})});var l=c.map(function(u){return new q7e(u.data,{width:i,height:a,framesCount:c.length,delay:u.delay})});return l},t.validate=function(e,r){const n=r.slice(37,41);for(var i=0;i<kj.length;i++)if(n[i]!==kj[i])return!1;return!0},t}();/*!
 * @pixi/gif - v1.1.3
 * https://github.com/pixijs/gif
 * Compiled Wed, 21 Sep 2022 20:13:39 UTC
 *
 * @pixi/gif is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var UR=function(t,e){return UR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},UR(t,e)},jR=function(){return jR=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},jR.apply(this,arguments)},af={},iq={},gl={};Object.defineProperty(gl,"__esModule",{value:!0}),gl.loop=gl.conditional=gl.parse=void 0;gl.parse=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(o){return t(e,o,n,i)});else if(typeof r=="function")r(e,n,i,t);else{var a=Object.keys(r)[0];Array.isArray(r[a])?(i[a]={},t(e,r[a],n,i[a])):i[a]=r[a](e,n,i,t)}return n};gl.conditional=function(t,e){return function(r,n,i,a){e(r,n,i)&&a(r,t,n,i)}};gl.loop=function(t,e){return function(r,n,i,a){for(var o=[],s=r.pos;e(r,n,i);){var c={};if(a(r,t,n,c),r.pos===s)break;s=r.pos,o.push(c)}return o}};var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.readBits=Wn.readArray=Wn.readUnsigned=Wn.readString=Wn.peekBytes=Wn.readBytes=Wn.peekByte=Wn.readByte=Wn.buildStream=void 0;Wn.buildStream=function(t){return{data:t,pos:0}};var J7e=function(){return function(t){return t.data[t.pos++]}};Wn.readByte=J7e;Wn.peekByte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(e){return e.data[e.pos+t]}};var Yb=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};Wn.readBytes=Yb;Wn.peekBytes=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}};Wn.readString=function(t){return function(e){return Array.from(Yb(t)(e)).map(function(r){return String.fromCharCode(r)}).join("")}};Wn.readUnsigned=function(t){return function(e){var r=Yb(2)(e);return t?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};Wn.readArray=function(t,e){return function(r,n,i){for(var a=typeof e=="function"?e(r,n,i):e,o=Yb(t),s=new Array(a),c=0;c<a;c++)s[c]=o(r);return s}};Wn.readBits=function(t){return function(e){for(var r=function(a){return a.data[a.pos++]}(e),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(t).reduce(function(a,o){var s=t[o];return s.length?a[o]=function(c,l,u){for(var f=0,h=0;h<u;h++)f+=c[l+h]&&Math.pow(2,u-h-1);return f}(n,s.index,s.length):a[o]=n[s.index],a},{})}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=gl,r=Wn,n={blocks:function(u){for(var f=[],h=u.data.length,p=0,d=(0,r.readByte)()(u);d!==0&&d;d=(0,r.readByte)()(u)){if(u.pos+d>=h){var g=h-u.pos;f.push((0,r.readBytes)(g)(u)),p+=g;break}f.push((0,r.readBytes)(d)(u)),p+=d}for(var m=new Uint8Array(p),v=0,_=0;_<f.length;_++)m.set(f[_],v),v+=f[_].length;return m}},i=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===249}),a=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(u,f,h){return Math.pow(2,h.descriptor.lct.size+1)})},function(u,f,h){return h.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(u){return(0,r.peekByte)()(u)===44}),o=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(u,f,h){return(0,r.readBytes)(h.text.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===1}),s=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(u,f,h){return(0,r.readString)(h.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===254}),l=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(u,f){return Math.pow(2,f.lsd.gct.size+1)})},function(u,f){return f.lsd.gct.exists}),{frames:(0,e.loop)([i,s,c,a,o],function(u){var f=(0,r.peekByte)()(u);return f===33||f===44})}];t.default=l}(iq);var Bx={};Object.defineProperty(Bx,"__esModule",{value:!0}),Bx.deinterlace=void 0;Bx.deinterlace=function(t,e){for(var r=new Array(t.length),n=t.length/e,i=function(u,f){var h=t.slice(f*e,(f+1)*e);r.splice.apply(r,[u*e,e].concat(h))},a=[0,4,2,1],o=[8,8,4,2],s=0,c=0;c<4;c++)for(var l=a[c];l<n;l+=o[c])i(l,s),s++;return r};var Dx={};Object.defineProperty(Dx,"__esModule",{value:!0}),Dx.lzw=void 0;Dx.lzw=function(t,e,r){var n,i,a,o,s,c,l,u,f,h,p,d,g,m,v,_,y=4096,b=r,w=new Array(r),E=new Array(y),C=new Array(y),T=new Array(4097);for(s=(i=1<<(h=t))+1,n=i+2,l=-1,a=(1<<(o=h+1))-1,u=0;u<i;u++)E[u]=0,C[u]=u;for(p=d=g=m=v=_=0,f=0;f<b;){if(m===0){if(d<o){p+=e[_]<<d,d+=8,_++;continue}if(u=p&a,p>>=o,d-=o,u>n||u==s)break;if(u==i){a=(1<<(o=h+1))-1,n=i+2,l=-1;continue}if(l==-1){T[m++]=C[u],l=u,g=u;continue}for(c=u,u==n&&(T[m++]=g,u=l);u>i;)T[m++]=C[u],u=E[u];g=255&C[u],T[m++]=g,n<y&&(E[n]=l,C[n]=g,!(++n&a)&&n<y&&(o++,a+=n)),l=c}m--,w[v++]=T[m],f++}for(f=v;f<b;f++)w[f]=0;return w},Object.defineProperty(af,"__esModule",{value:!0});var O_,aq=af.decompressFrames=af.decompressFrame=oq=af.parseGIF=void 0,Q7e=(O_=iq)&&O_.__esModule?O_:{default:O_},eVe=gl,tVe=Wn,rVe=Bx,nVe=Dx,oq=af.parseGIF=function(t){var e=new Uint8Array(t);return(0,eVe.parse)((0,tVe.buildStream)(e),Q7e.default)},sq=function(t,e,r){if(t.image){var n=t.image,i=n.descriptor.width*n.descriptor.height,a=(0,nVe.lzw)(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(a=(0,rVe.deinterlace)(a,n.descriptor.width));var o={pixels:a,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?o.colorTable=n.lct:o.colorTable=e,t.gce&&(o.delay=10*(t.gce.delay||10),o.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(o.transparentIndex=t.gce.transparentColorIndex)),r&&(o.patch=function(s){for(var c=s.pixels.length,l=new Uint8ClampedArray(4*c),u=0;u<c;u++){var f=4*u,h=s.pixels[u],p=s.colorTable[h]||[0,0,0];l[f]=p[0],l[f+1]=p[1],l[f+2]=p[2],l[f+3]=h!==s.transparentIndex?255:0}return l}(o)),o}};af.decompressFrame=sq;aq=af.decompressFrames=function(t,e){return t.frames.filter(function(r){return r.image}).map(function(r){return sq(r,t.gct,e)})};var iVe=function(t){function e(r,n){var i=this,a=Object.assign({},e.defaultOptions,n),o=a.scaleMode,s=a.width,c=a.height,l=function(h,p){var d={};for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&p.indexOf(g)<0&&(d[g]=h[g]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(g=Object.getOwnPropertySymbols(h);m<g.length;m++)p.indexOf(g[m])<0&&Object.prototype.propertyIsEnumerable.call(h,g[m])&&(d[g[m]]=h[g[m]])}return d}(a,["scaleMode","width","height"]),u=document.createElement("canvas"),f=u.getContext("2d");return u.width=s,u.height=c,(i=t.call(this,kt.from(u,{scaleMode:o}))||this).duration=r[r.length-1].end,i._frames=r,i._context=f,i._playing=!1,i._currentTime=0,i._isConnectedToTicker=!1,Object.assign(i,l),i.currentFrame=0,i.autoPlay&&i.play(),i}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=r}UR(r,n),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}(e,t),e.fromBuffer=function(r,n){if(!r||r.byteLength===0)throw new Error("Invalid buffer");var i=oq(r);(function(F){for(var B,D=null,z=0,ee=F.frames;z<ee.length;z++){var te=ee[z];D=(B=te.gce)!==null&&B!==void 0?B:D,"image"in te&&!("gce"in te)&&(te.gce=D)}})(i);var a=aq(i,!0),o=[],s=document.createElement("canvas"),c=s.getContext("2d"),l=document.createElement("canvas"),u=l.getContext("2d");s.width=i.lsd.width,s.height=i.lsd.height;for(var f=0,h=1e3/Object.assign({},e.defaultOptions,n).fps,p=0;p<a.length;p++){var d=a[p],g=d.disposalType,m=g===void 0?2:g,v=d.delay,_=v===void 0?h:v,y=d.patch,b=d.dims,w=b.width,E=b.height,C=b.left,T=b.top;l.width=w,l.height=E,u.clearRect(0,0,w,E);var A=u.createImageData(w,E);A.data.set(y),u.putImageData(A,0,0),c.drawImage(l,C,T);var I=c.getImageData(0,0,s.width,s.height);m!==2&&m!==3||c.clearRect(0,0,s.width,s.height),o.push({start:f,end:f+_,imageData:I}),f+=_}s.width=s.height=0,l.width=l.height=0;var O=i.lsd,P=O.width,k=O.height;return new e(o,jR({width:P,height:k},n))},e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(An.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(An.shared.add(this.update,this,ts.HIGH),this._isConnectedToTicker=!0),this.loop||this.currentFrame!==this._frames.length-1||(this._currentTime=0))},Object.defineProperty(e.prototype,"progress",{get:function(){return this._currentTime/this.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i;if(this._playing){var a=this.animationSpeed*r/xt.TARGET_FPMS,o=this._currentTime+a,s=o%this.duration,c=this._frames.findIndex(function(l){return l.start<=s&&l.end>s});o>=this.duration?this.loop?(this._currentTime=s,this.updateFrameIndex(c),(n=this.onLoop)===null||n===void 0||n.call(this)):(this._currentTime=this.duration,this.updateFrameIndex(this._frames.length-1),(i=this.onComplete)===null||i===void 0||i.call(this),this.stop()):(this._currentTime=s,this.updateFrameIndex(c))}},e.prototype.updateFrame=function(){if(this.dirty){var r=this._frames[this._currentFrame].imageData;this._context.putImageData(r,0,0),this._context.fillStyle="transparent",this._context.fillRect(0,0,0,1),this.texture.update(),this.dirty=!1}},e.prototype._render=function(r){this.updateFrame(),t.prototype._render.call(this,r)},e.prototype._renderCanvas=function(r){this.updateFrame(),t.prototype._renderCanvas.call(this,r)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(An.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(An.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(r){this.updateFrameIndex(r),this._currentTime=this._frames[r].start},enumerable:!1,configurable:!0}),e.prototype.updateFrameIndex=function(r){var n;if(r<0||r>=this._frames.length)throw new Error("Frame index out of range, expecting 0 to ".concat(this.totalFrames,", got ").concat(r));this._currentFrame!==r&&(this._currentFrame=r,this.dirty=!0,(n=this.onFrameChange)===null||n===void 0||n.call(this,r))},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._frames.length},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this,!0),this._context=null,this._frames=null,this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.prototype.clone=function(){return new e(function(r,n,i){if(i||arguments.length===2)for(var a,o=0,s=n.length;o<s;o++)!a&&o in n||(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return r.concat(a||Array.prototype.slice.call(n))}([],this._frames,!0),{autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.baseTexture.scaleMode,animationSpeed:this.animationSpeed,width:this._context.canvas.width,height:this._context.canvas.height,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop})},e.defaultOptions={scaleMode:Oi.LINEAR,fps:An.shared.FPS,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null},e}(Ma);window.PIXI=x9e;Ha.registerPlugin(Z7e);class aVe{constructor(){at(this,"currentApp",null);at(this,"effectsContainer");at(this,"frameDuration",16.67);at(this,"notUpdateBacklogEffects",!1);at(this,"figureContainer");at(this,"figureObjects",[]);at(this,"popupObjects",[]);at(this,"backgroundContainer");at(this,"backgroundObjects",[]);at(this,"apngTimer",{});at(this,"stageAnimations",[]);at(this,"assetLoader",new Ha);at(this,"loadQueue",[]);at(this,"live2dFigureRecorder",[]);at(this,"lockTransformTarget",[]);at(this,"stageWidth",Yp().width||ef.width);at(this,"stageHeight",Yp().height||ef.height);at(this,"MAX_TEX_COUNT",10);const e=new Og({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),Pk&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new xi,this.effectsContainer.zIndex=3,this.figureContainer=new xi,this.figureContainer.zIndex=2,this.backgroundContainer=new xi,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getPopupObjects(){return this.popupObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:uh(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const c=s.pixiContainer;Object.assign(c,a.transform)}return}this.stageAnimations.push({uuid:uh(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const c=this.getStageObjByKey(o.targetKey);if(c){const l={alpha:c.pixiContainer.alpha,scale:{x:c.pixiContainer.scale.x,y:c.pixiContainer.scale.y},position:{x:c.pixiContainer.x,y:c.pixiContainer.y},rotation:c.pixiContainer.rotation,blur:c.pixiContainer.blur,...s};let u={target:o.targetKey,transform:l};ue.dispatch(qn.updateEffect(u))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(f,h),d=new Ma(c);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const g=l*p,m=u*p;a.setBaseY(this.stageHeight/2),m<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-m/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(g/2),i==="right"&&a.setBaseX(this.stageWidth-g/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(f,h),d=new Ma(c);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const g=l*p,m=u*p;a.setBaseY(this.stageHeight/2),m<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-m/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(g/2),i==="right"&&a.setBaseX(this.stageWidth-g/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}addBg(e,r,n,i){var h,p;const a=this.assetLoader,o=new P_;this.backgroundObjects.findIndex(d=>d.key===e)>=0&&this.removeStageObjectByKey(e);const l=(d,g,m,v)=>{fetch(d).then(_=>_.arrayBuffer()).then(iVe.fromBuffer).then(_=>{g&&(_.transform=g.transform),m&&(_.width=Ut(m)),v&&(_.height=Ut(v)),o.addChild(_)})};this.backgroundContainer.addChild(o);const u=uh();this.backgroundObjects.push({uuid:u,key:e,pixiContainer:o,sourceUrl:r,sourceType:r.includes(".gif")?"gif":"img",sourceExt:this.getExtName(r)});const f=()=>{var g,m;const d=(m=(g=a.resources)==null?void 0:g[r])==null?void 0:m.texture;if(d&&this.getStageObjByUuid(u)){const v=d.width,_=d.height,y=this.stageWidth/v,b=this.stageHeight/_,w=Math.max(y,b),E=new Ma(d);if(E.scale.x=w,E.scale.y=w,E.anchor.set(.5),r.includes(".gif")){l(r,E,n,i);return}E.position.y=this.stageHeight/2,o.setBaseX(this.stageWidth/2),o.setBaseY(this.stageHeight/2),o.pivot.set(0,this.stageHeight/2),o.addChild(E)}};this.cacheGC(),(p=(h=a.resources)==null?void 0:h[r])!=null&&p.texture?f():this.loadAsset(r,f)}addFigure(e,r,n="center",i=!1){var f,h;const a=this.assetLoader,o=new P_;this.figureObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=uh();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const u=()=>{var g,m;const p=(m=(g=a.resources)==null?void 0:g[r])==null?void 0:m.texture;let d=[];if(p&&this.getStageObjByUuid(l)){const v=a.resources[r],_=[];if(i){const{frameDelay:b,textures:w,frameCount:E}=v;d=b,Object.values(w||[]).forEach(C=>{_.push(C)})}(b=>{const w=p.width,E=p.height,C=this.stageWidth/w,T=this.stageHeight/E,A=Math.min(C,T),I=i?new jI(b):new Ma(p);I.scale.x=A,I.scale.y=A,I.anchor.set(.5),I.position.y=this.stageHeight/2;const O=w*A,P=E*A;if(o.setBaseY(this.stageHeight/2),P<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-P/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(O/2),n==="right"&&o.setBaseX(this.stageWidth-O/2),i){const k=I;let F=0,B=1;const D=()=>{this.apngTimer[e]&&(clearTimeout(this.apngTimer[e]),this.apngTimer[e]=null),k.gotoAndStop(F),this.apngTimer[e]=setTimeout(()=>{F===b.length-1&&(B=-1),F===0&&(B=1),F+=B,D()},d[F])};D()}o.pivot.set(0,this.stageHeight/2),o.addChild(I)})(_)}};this.cacheGC(),(h=(f=a.resources)==null?void 0:f[r])!=null&&h.texture?u():this.loadAsset(r,u,"",i)}addPopupImg(e,r,n="center",i=!1){var f,h;const a=this.assetLoader,o=new P_;this.popupObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=uh();this.popupObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const u=()=>{var g,m;const p=(m=(g=a.resources)==null?void 0:g[r])==null?void 0:m.texture;let d=[];if(p&&this.getStageObjByUuid(l)){const v=a.resources[r],_=[];if(i){const{frameDelay:b,textures:w,frameCount:E}=v;d=b,Object.values(w||[]).forEach(C=>{_.push(C)})}(b=>{const w=p.width,E=p.height,C=this.stageWidth/w,T=this.stageHeight/E,A=Math.min(C,T),I=i?new jI(b):new Ma(p);I.scale.x=2,I.scale.y=2,I.anchor.set(.5),I.position.y=this.stageHeight/2;const O=E*A;o.setBaseY(this.stageHeight/2),O<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-O/2),I.x=680,I.y=420;const P=Yp().width===2560?2:3,k=90*P,F=n==="center"&&300*P||n==="left"&&20||n==="right"&&300*P*2-20||0;if(o.setBaseX(F),o.setBaseY(k),i){const B=I;let D=0,z=1;const ee=()=>{this.apngTimer[e]&&(clearTimeout(this.apngTimer[e]),this.apngTimer[e]=null),B.gotoAndStop(D),this.apngTimer[e]=setTimeout(()=>{D===b.length-1&&(z=-1),D===0&&(z=1),D+=z,ee()},d[D])};ee()}o.pivot.set(0,0),o.addChild(I)})(_)}};this.cacheGC(),(h=(f=a.resources)==null?void 0:f[r])!=null&&h.texture?u():this.loadAsset(r,u,"",i)}addSpineFigure(e,r,n="center"){var f;const i=`spine-${r}`,a=this.assetLoader,o=new P_;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=uh();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const u=()=>{var p,d;console.log(this.assetLoader.resources);const h=(p=this.assetLoader.resources)==null?void 0:p[i];if(h&&this.getStageObjByUuid(l)){const g=new B7e(h.spineData),m=((d=h==null?void 0:h.spineData)==null?void 0:d.y)??0;console.log(g);const v=g.width,_=g.height,y=this.stageWidth/v,b=this.stageHeight/_;g.y=-(b*m)/2,console.log(g.state),g.state.setAnimation(0,"07",!0);const w=Math.min(y,b),E=new Ma;E.addChild(g),E.scale.x=w,E.scale.y=w,E.anchor.set(.5),E.position.y=this.stageHeight/2;const C=v*w,T=_*w;o.setBaseY(this.stageHeight/2),T<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-T/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(C/2),n==="right"&&o.setBaseX(this.stageWidth-C/2),o.pivot.set(0,this.stageHeight/2),o.addChild(E)}};this.cacheGC(),(f=a.resources)!=null&&f[r]?u():this.loadAsset(r,u,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const c=n.pixiContainer.children;for(const l of c){let u=r,f=0,h=3;const p=(l==null?void 0:l.internalModel)??void 0;(o=(a=p==null?void 0:p.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(u,f,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,c,l,u,f,h,p,d;function n(g){return g<50?0:(g-50)/50}const i=n(r),a=this.figureObjects.find(g=>g.key===e);if(a){const m=a.pixiContainer.children;for(const v of m)v!=null&&v.internalModel&&((s=(o=v==null?void 0:v.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((u=(l=(c=v==null?void 0:v.internalModel)==null?void 0:c.coreModel)==null?void 0:l.setParamFloat)==null||u.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(f=v==null?void 0:v.internalModel)==null?void 0:f.coreModel)!=null&&h.setParameterValueById&&((d=(p=v==null?void 0:v.internalModel)==null?void 0:p.coreModel)==null||d.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects,...this.popupObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects,...this.popupObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects,...this.popupObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(a=>a.key===e),n=this.backgroundObjects.findIndex(a=>a.key===e),i=this.popupObjects.findIndex(a=>a.key===e);if(r>=0){const a=this.figureObjects[r];for(const o of a.pixiContainer.children)o.destroy();a.pixiContainer.destroy(),this.figureContainer.removeChild(a.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const a=this.backgroundObjects[n];for(const o of a.pixiContainer.children)o.destroy();a.pixiContainer.destroy(),this.backgroundContainer.removeChild(a.pixiContainer),this.backgroundObjects.splice(n,1)}if(i>=0){const a=this.popupObjects[i];for(const o of a.pixiContainer.children)o.destroy();a.pixiContainer.destroy(),this.figureContainer.removeChild(a.pixiContainer),this.popupObjects.splice(i,1)}}cacheGC(){dX()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n,i){this.loadQueue.unshift({url:e,callback:r,name:n,extraInfo:{isApng:i??!1}}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){ze.fatal("PIXI Loader ",r),e.callback(),this.callLoader()}}}updateFps(){YC==null||YC(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}}const YC=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),oVe="_Toaster_container_1phox_1",sVe="_Toaster_image_1phox_16",lVe="_Toaster_text_1phox_27",uVe="_Toaster_fadeIn_1phox_34",cVe="_K_Toaster_fadein_1phox_1",fVe="_Toaster_slideIn_1phox_38",hVe="_K_Toaster_slidein_1phox_1",dVe="_Toaster_out_1phox_45",pVe="_K_Toaster_fadeout_1phox_1",fp={Toaster_container:oVe,Toaster_image:sVe,Toaster_text:lVe,Toaster_fadeIn:uVe,K_Toaster_fadein:cVe,Toaster_slideIn:fVe,K_Toaster_slidein:hVe,Toaster_out:dVe,K_Toaster_fadeout:pVe};let vVe=510;function gVe(){const[t,e]=he.useState(!1),[r,n]=he.useState({}),[i,a]=he.useState(!1),o=he.useRef({showTimer:null,animationTimer:null});if(he.useEffect(()=>{const c=()=>{o.current.showTimer&&(clearTimeout(o.current.showTimer),o.current.showTimer=null),o.current.animationTimer&&(clearTimeout(o.current.animationTimer),o.current.animationTimer=null),a(!1)},l=window.pubsub.subscribe("toaster",u=>{u.show&&(n({text:u.text,image:u.image,animation:u.animation||"fadeIn"}),c(),e(!0),o.current.showTimer=setTimeout(()=>{a(!0),o.current.animationTimer=setTimeout(()=>{e(!1),a(!1)},vVe)},u.duration??3e3))});return()=>{l(),c()}},[]),!t)return null;const s=[fp.Toaster_container,r.image?fp.Toaster_image:"",r.animation?fp[`Toaster_${r.animation}`]:"",i?fp.Toaster_out:""].join(" ");return M.jsxs("div",{className:s,children:[r.image&&M.jsx(_d,{src:r.image}),r.text&&M.jsx("div",{className:fp.Toaster_text,children:r.text})]})}const mVe="_BuyGame_container_1jftv_2",_Ve="_BuyGame_inner_1jftv_15",yVe="_fadeIn_1jftv_1",xVe="_BuyGame_close_1jftv_20",bVe="_BuyGame_price_1jftv_26",wVe="_BuyGame_button_1jftv_36",EVe="_BuyGame_pay_container_1jftv_60",SVe="_BuyGame_pay_tip_1jftv_70",CVe="_BuyGame_pay_close_1jftv_83",TVe="_BuyGame_pay_title_1jftv_96",AVe="_BuyGame_select_text_1jftv_108",IVe="_BuyGame_info_block_1jftv_118",RVe="_BuyGame_info_row_1jftv_127",PVe="_BuyGame_game_cover_1jftv_132",OVe="_BuyGame_game_cover_inner_1jftv_141",kVe="_BuyGame_info_name_1jftv_154",FVe="_BuyGame_info_text_1jftv_163",NVe="_BuyGame_info_tag_1jftv_171",MVe="_BuyGame_info_price_1jftv_178",LVe="_BuyGame_info_price_stone_1jftv_196",BVe="_BuyGame_price_row_1jftv_203",DVe="_BuyGame_price_stone_1jftv_210",UVe="_BuyGame_price_text_1jftv_217",jVe="_BuyGame_price_button_1jftv_225",Nr={BuyGame_container:mVe,BuyGame_inner:_Ve,fadeIn:yVe,BuyGame_close:xVe,BuyGame_price:bVe,BuyGame_button:wVe,BuyGame_pay_container:EVe,BuyGame_pay_tip:SVe,BuyGame_pay_close:CVe,BuyGame_pay_title:TVe,BuyGame_select_text:AVe,BuyGame_info_block:IVe,BuyGame_info_row:RVe,BuyGame_game_cover:PVe,BuyGame_game_cover_inner:OVe,BuyGame_info_name:kVe,BuyGame_info_text:FVe,BuyGame_info_tag:NVe,BuyGame_info_price:MVe,BuyGame_info_price_stone:LVe,BuyGame_price_row:BVe,BuyGame_price_stone:DVe,BuyGame_price_text:UVe,BuyGame_price_button:jVe},$Ve=""+new URL("buy-game-success.png",import.meta.url).href;function GVe(){const[t,e]=he.useState(!1),{playSeEnter:r,playSeClick:n}=Kd(),{gameInfo:i}=ft(c=>c.storeData),a=he.useRef({buyGameCallback:()=>{},startGameCallback:()=>{}}),o=he.useRef(0),s=async()=>{n();const c=await nH();window.pubsub.publish("loading",{loading:!1}),await _g(2e3),c.code===0||c.code===10053?(c.code===0&&window.pubsub.publish("toaster",{show:!0,image:$Ve,animation:"slideIn"}),e(!1),a.current.startGameCallback()):c.code===10014?(window.pubsub.publish("toaster",{show:!0,text:", "}),window.pubsub.publish("rechargeModal",{})):window.pubsub.publish("toaster",{show:!0,text:c.message})};return he.useEffect(()=>window.pubsub.subscribe("showBuyGameModal",({buyGameCallback:l,startGameCallback:u})=>{e(!0),a.current={buyGameCallback:l,startGameCallback:u}}),[]),t?M.jsx("div",{className:Nr.BuyGame_container,children:M.jsxs("div",{className:Nr.BuyGame_pay_container,children:[M.jsx("div",{className:Nr.BuyGame_pay_tip}),M.jsx("div",{className:`${Nr.BuyGame_pay_close} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Nr.BuyGame_pay_close} interactive btn-clicked`,o.current=Date.now()},onMouseUp:c=>{const l=Date.now()-o.current;let u=c.currentTarget;setTimeout(()=>{u.className=`${Nr.BuyGame_pay_close} interactive`,u=null,setTimeout(()=>{n(),e(!1),a.current.buyGameCallback()},320)},l-350>0?0:350-l)}}),M.jsx("div",{className:Nr.BuyGame_pay_title,children:""}),M.jsx("div",{className:Nr.BuyGame_select_text,children:"1"}),M.jsxs("div",{className:Nr.BuyGame_info_block,children:[M.jsxs("div",{className:Nr.BuyGame_info_row,children:[M.jsx("div",{className:Nr.BuyGame_game_cover,children:M.jsx("div",{className:Nr.BuyGame_game_cover_inner,children:M.jsx("img",{src:(i==null?void 0:i.coverPic)||""})})}),M.jsxs("div",{children:[M.jsx("div",{className:Nr.BuyGame_info_name,children:(i==null?void 0:i.name)||""}),M.jsx("div",{className:Nr.BuyGame_info_tag,children:i==null?void 0:i.tagList.map(c=>M.jsx("div",{className:Nr.BuyGame_info_text,children:c.tagName},c.tagId))})]})]}),M.jsxs("div",{className:Nr.BuyGame_info_row,children:[M.jsx("span",{className:Nr.BuyGame_info_text,children:":"}),M.jsxs("div",{className:Nr.BuyGame_info_price,children:[(i==null?void 0:i.salesAmount)||0,M.jsx("span",{className:Nr.BuyGame_info_price_stone})]})]})]}),M.jsxs("div",{className:Nr.BuyGame_price_row,children:[M.jsxs("div",{className:Nr.BuyGame_info_row,children:[M.jsx("span",{className:Nr.BuyGame_price_text,style:{marginRight:Ut(4)},children:":"}),M.jsxs("div",{className:Nr.BuyGame_price_text,children:[(i==null?void 0:i.salesAmount)||0,M.jsx("span",{className:Nr.BuyGame_price_stone})]})]}),M.jsxs("div",{className:Nr.BuyGame_info_row,children:[M.jsx("span",{className:Nr.BuyGame_price_text,style:{marginRight:Ut(4)},children:":"}),M.jsxs("div",{className:Nr.BuyGame_price_text,children:[(i==null?void 0:i.salesAmount)||0,M.jsx("span",{className:Nr.BuyGame_price_stone})]}),M.jsx("div",{className:`${Nr.BuyGame_price_button} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Nr.BuyGame_price_button} interactive btn-clicked`,o.current=Date.now()},onMouseUp:c=>{const l=Date.now()-o.current;let u=c.currentTarget;setTimeout(()=>{u.className=`${Nr.BuyGame_price_button} interactive`,u=null,setTimeout(s,320)},l-350>0?0:350-l)}})]})]})]})}):null}const VVe=""+new URL("xingshiIcon.webp",import.meta.url).href,HVe=""+new URL("modal-close.png",import.meta.url).href,zVe="_Recharge_container_1c39r_1",XVe="_Recharge_inner_1c39r_14",WVe="_fadeIn_1c39r_1",YVe="_RechargeModal_modalTitle_1c39r_23",qVe="_RechargeModal_rechargeModalItem_1c39r_40",KVe="_RechargeModal_rechargeModalItemChecked_1c39r_57",ZVe="_RechargeModal_rechargeCardIcon_1c39r_61",JVe="_RechargeModal_rechargeModalCard_1c39r_71",QVe="_RechargeModal_rechargeModalList_1c39r_78",eHe="_RechargeModal_rechargeCardDiscount_1c39r_87",tHe="_RechargeModal_rechargeModalItemHead_1c39r_114",rHe="_RechargeModal_rechargeModalItemContent_1c39r_144",nHe="_RechargeModal_rechargeModalItemBtn_1c39r_166",iHe="_RechargeModal_rechargeModalItemImg_1c39r_170",aHe="_RechargeModal_rechargeModalListBottom_1c39r_198",oHe="_RechargeModal_modalFooter_1c39r_208",sHe="_RechargeModal_modalFooterLeft_1c39r_223",lHe="_RechargeModal_modalFooterRight_1c39r_227",uHe="_RechargeModal_modalFooterConfirm_1c39r_236",cHe="_Recharge_modal_close_1c39r_255",Cn={Recharge_container:zVe,Recharge_inner:XVe,fadeIn:WVe,RechargeModal_modalTitle:YVe,RechargeModal_rechargeModalItem:qVe,RechargeModal_rechargeModalItemChecked:KVe,RechargeModal_rechargeCardIcon:ZVe,RechargeModal_rechargeModalCard:JVe,RechargeModal_rechargeModalList:QVe,RechargeModal_rechargeCardDiscount:eHe,RechargeModal_rechargeModalItemHead:tHe,RechargeModal_rechargeModalItemContent:rHe,RechargeModal_rechargeModalItemBtn:nHe,RechargeModal_rechargeModalItemImg:iHe,RechargeModal_rechargeModalListBottom:aHe,RechargeModal_modalFooter:oHe,RechargeModal_modalFooterLeft:sHe,RechargeModal_modalFooterRight:lHe,RechargeModal_modalFooterConfirm:uHe,Recharge_modal_close:cHe};function fHe(){const[t,e]=he.useState(!1),{playSeEnter:r,playSeClick:n}=Kd();ft(d=>d.storeData);const i=he.useRef({successCallback:()=>{},closeCallback:()=>{}}),[a,o]=he.useState([]),[s,c]=he.useState(),l=he.useRef(0),u=async d=>{var m,v;const g=await L2e(d);g.code===0?((m=g.data)==null?void 0:m.pay_status)===2?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("loading",{loading:!1}),i.current.successCallback(),e(!1)):((v=g.data)==null?void 0:v.pay_status)===3?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("loading",{loading:!1}),e(!1)):setTimeout(()=>{u(d)},3e3):(window.pubsub.publish("toaster",{show:!0,text:g.message}),window.pubsub.publish("loading",{loading:!1}),e(!1))},f=async()=>{r(),window.pubsub.publish("loading",{loading:!0});const d=await M2e((s==null?void 0:s.id)||0);if(d.code===0){const g=d.data.order_no;u(g);const m={thirdUserId:sessionStorage.getItem("sdk-userId"),productId:$.gameId+"",amount:(s==null?void 0:s.price)??0,payTime:yg(),channel:sessionStorage.getItem("sdk-userId")?1:0};sCe(m)}else window.pubsub.publish("toaster",{show:!0,text:d.message}),window.pubsub.publish("loading",{loading:!1})},h=async()=>{n(),f()},p=async()=>{var g;window.pubsub.publish("loading",{loading:!0});const d=await N2e();d.code===0?(o(ek.chunk(d.data||[],3)),c((g=d.data)==null?void 0:g[0])):window.pubsub.publish("toaster",{show:!0,text:d.message}),window.pubsub.publish("loading",{loading:!1})};return he.useEffect(()=>window.pubsub.subscribe("rechargeModal",({successCallback:g,closeCallback:m})=>{e(!0),p(),g&&(i.current.successCallback=g),m&&(i.current.closeCallback=m)}),[]),!t||!a.length?null:M.jsx("div",{className:Cn.Recharge_container,children:M.jsxs("div",{className:Cn.Recharge_inner,children:[M.jsx("div",{className:Cn.RechargeModal_modalTitle,children:M.jsx("div",{children:""})}),M.jsx(_d,{src:HVe,className:Cn.Recharge_modal_close,onMouseEnter:r,onMouseDown:d=>{const g=d.currentTarget;g.className=`${Cn.Recharge_modal_close} btn-clicked`,l.current=Date.now()},onMouseUp:d=>{const g=Date.now()-l.current;let m=d.currentTarget;setTimeout(()=>{m.className=Cn.Recharge_modal_close,m=null,setTimeout(()=>{n(),e(!1),i.current.closeCallback()},320)},g-350>0?0:350-g)}}),M.jsx("div",{className:Cn.RechargeModal_rechargeModalCard,children:a.map((d,g)=>M.jsxs("div",{className:Cn.RechargeModal_rechargeModalList,children:[d.map((m,v)=>M.jsxs("div",{className:`${Cn.RechargeModal_rechargeModalItem} ${m===s?Cn.RechargeModal_rechargeModalItemChecked:""} interactive`,onMouseEnter:r,onClick:()=>{n(),c(m)},children:[M.jsx("div",{className:Cn.RechargeModal_rechargeCardIcon}),!!m.discount&&M.jsxs("div",{className:Cn.RechargeModal_rechargeCardDiscount,children:[M.jsx("span",{children:m.discount}),""]}),M.jsx("div",{className:Cn.RechargeModal_rechargeModalItemHead,children:M.jsxs("div",{children:[m.bonus_packs_title,M.jsx("img",{src:VVe,alt:""}),m.bonus_packs_num]})}),M.jsxs("div",{className:Cn.RechargeModal_rechargeModalItemContent,children:[M.jsx("img",{src:m.icon||"http://dummyimage.com/100x100",alt:"",className:Cn.RechargeModal_rechargeModalItemImg}),M.jsxs("div",{children:[M.jsx("span",{children:"X"})," ",m.beans]})]}),M.jsxs("div",{className:Cn.RechargeModal_rechargeModalItemBtn,children:[M.jsx("span",{children:"$"}),m.price]})]},v)),M.jsx("div",{className:Cn.RechargeModal_rechargeModalListBottom})]},g))}),M.jsxs("div",{className:Cn.RechargeModal_modalFooter,children:[M.jsx("div",{className:Cn.RechargeModal_modalFooterLeft,children:""}),M.jsxs("div",{className:Cn.RechargeModal_modalFooterRight,children:[M.jsxs("span",{children:["$",s==null?void 0:s.price]}),M.jsx("div",{className:Cn.RechargeModal_modalFooterConfirm,onMouseEnter:r,onMouseDown:d=>{const g=d.currentTarget;g.className=`${Cn.RechargeModal_modalFooterConfirm} btn-clicked`,l.current=Date.now()},onMouseUp:d=>{const g=Date.now()-l.current;let m=d.currentTarget;setTimeout(()=>{m.className=Cn.RechargeModal_modalFooterConfirm,m=null,setTimeout(h,320)},g-350>0?0:350-g)}})]})]})]})})}const hHe="_progressAchievement_1peaj_2",dHe="_bg_1peaj_11",pHe="_btn_1peaj_17",vHe="_contentContainer_1peaj_24",gHe="_chapterTag_1peaj_46",mHe="_affinityTag_1peaj_65",_He="_achievementTag_1peaj_84",yHe="_goBack_1peaj_103",yc={progressAchievement:hHe,bg:dHe,btn:pHe,contentContainer:vHe,chapterTag:gHe,affinityTag:mHe,achievementTag:_He,goBack:yHe},xHe="_affinity_d5bi0_1",bHe="_affinityList_d5bi0_13",qC={affinity:xHe,affinityList:bHe},lq=()=>{const{playSeClick:t,playSeEnter:e}=On(),r=Zr(),n=ft(s=>s.GUI),i=ft(s=>s.saveData.unlockAffinityData),a=ft(s=>s.GUI.gameUIConfigs[Mn.affinity]);he.useEffect(()=>{n.showAffinity?fV():r(yt({component:"showAffinity",visibility:!1}))},[n.showAffinity]);const o=()=>{If()};return M.jsx(M.Fragment,{children:n.showAffinity&&M.jsxs("div",{className:qC.affinity,children:[M.jsx(Jn,{item:a.buttons.Affinity_back_button,defaultClass:`${qC.goBack} inactive`,onClick:o,onMouseEnter:e}),M.jsx(Jn,{item:a.other[mv.Affinity_title]}),M.jsx(dl,{item:a.other[mv.Affinity_bg],defaultClass:qC.affinityBg}),i==null?void 0:i.map((s,c)=>{const{name:l,url:u,x:f,y:h,isUnlocked:p}=s;return p?M.jsx(_d,{src:Pt(u,Tt.ui),alt:l,style:{position:"absolute",left:Ut(f),top:Ut(h)}},c):null}),M.jsx(Pz,{})]})})},wHe=()=>{const{playSeClick:t,playSeEnter:e}=On(),r=Zr(),n=ft(c=>c.GUI),i=ft(c=>c.GUI.gameUIConfigs[Mn.progressAndAchievement]),[a,o]=he.useState("chapter"),s=()=>{If(),r(yt({component:"showAffinity",visibility:!1})),r(yt({component:"showProgressAndAchievement",visibility:!1})),r(yt({component:"showAchievement",visibility:!1})),r(yt({component:"showStoryLine",visibility:!1}))};return he.useEffect(()=>{n.showProgressAndAchievement?SA():o("chapter")},[n.showProgressAndAchievement]),M.jsx(M.Fragment,{children:n.showProgressAndAchievement&&M.jsxs("div",{className:yc.progressAchievement,children:[M.jsx(dl,{defaultClass:yc.bg,item:i.other[gv.Progress_bg]}),M.jsx(Jn,{item:i.buttons.Progress_back_button,defaultClass:`${yc.goBack} interactive`,onClick:s,onMouseEnter:e}),M.jsx(Jn,{item:i.buttons.Progress_chapter_button,defaultClass:`${yc.chapterTag} interactive`,type:"checkbox",checked:a==="chapter",onClick:()=>{SA(),o("chapter")},onMouseEnter:e}),M.jsx(Jn,{item:i.buttons.Progress_achievement_button,defaultClass:`${yc.achievementTag} interactive`,type:"checkbox",checked:a==="achievement",onClick:()=>{pz(),o("achievement")},onMouseEnter:e}),M.jsx(Jn,{item:i.buttons.Progress_affinity_button,defaultClass:`${yc.affinityTag} interactive`,type:"checkbox",checked:a==="affinity",onClick:()=>{bIe(),o("affinity")},onMouseEnter:e}),M.jsxs(gz,{defaultClass:yc.contentContainer,item:i.other[gv.Progress_content_container],children:[a==="chapter"&&M.jsx(Fz,{}),a==="achievement"&&M.jsx(Nz,{}),a==="affinity"&&M.jsx(lq,{})]})]})})},EHe=()=>Mi.get("/user/info").then(t=>(t.data.code===0&&ue.dispatch(BG(t.data.data)),t.data)).catch(t=>(console.error(t),{code:-999,data:null,message:""}));function SHe(){const[t,e]=he.useState(!1),r=Zr(),n=ft(i=>i.GUI);return he.useEffect(()=>{VPe(),jPe();const i=localStorage.getItem("editor-token"),a=new URLSearchParams(window.location.search),o=a.get("token"),s=a.get("channel")||"0";if($.channel=s,o||i){e(!0),r(Jde(o||""));let c={current:{gameReady:!1,previewMode:!1,previewModeValue:!1}};const l=()=>{c.current.gameReady&&!c.current.previewMode||($.gameplay.pixiStage=new aVe,c.current.previewModeValue?F2e().then(u=>{const f=localStorage.getItem("editorUserInfo")||"{}",h=JSON.parse(f);ue.dispatch(BG(h)),window.pubsub.publish("gameInfoReady",!0),u.code===0&&(u.data.authorId,h.userId)}):(Promise.all([QO(),EHe()]).then(([u,f])=>{u.code===0&&f.code===0?window.pubsub.publish("gameInfoReady",!0):(window.pubsub.publish("gameInfoReady",!1),$a({title:u.code!==0?`
`:`
`,rightText:"",rightFunc:()=>{window.location.reload()}}))}),k2e()))};window.pubsub.subscribe("gameReady",()=>{c.current.gameReady=!0,l()}),window.pubsub.subscribe("isPreviewMode",u=>{c.current.previewMode=!0,c.current.previewModeValue=u,r(i0e(u)),l()})}else alert("")},[]),AFe(),t?M.jsxs("div",{className:"App",children:[M.jsx(fHe,{}),M.jsx(GVe,{}),M.jsx(gVe,{}),M.jsx(jFe,{}),M.jsx(CFe,{}),M.jsx(o4e,{}),M.jsx(s4e,{}),M.jsx(dFe,{}),M.jsx(l4e,{}),M.jsx(CPe,{}),M.jsx(OPe,{}),M.jsx(sFe,{}),M.jsx(Bke,{}),M.jsx(a1e,{}),M.jsx(TFe,{}),M.jsx(mFe,{}),!n.showProgressAndAchievement&&M.jsx(Fz,{}),!n.showProgressAndAchievement&&M.jsx(Nz,{}),M.jsx(fMe,{}),M.jsx(_Me,{}),M.jsx(LFe,{}),M.jsx(wHe,{}),!n.showProgressAndAchievement&&M.jsx(lq,{})]}):null}function Au(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $R(t,e){return $R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$R(t,e)}function qb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$R(t,e)}function Ng(t,e){if(e&&(Ri(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Au(t)}function Ls(t){return Ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ls(t)}function CHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function THe(t){return Sz(t)||CHe(t)||Cz(t)||Tz()}function Fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var AHe={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},IHe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};is(this,t),this.init(e,r)}return as(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||AHe,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,Nj(Nj({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),Ss=new IHe,zu=function(){function t(){is(this,t),this.observers={}}return as(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(c){c.apply(c,[r].concat(i))})}}}]),t}();function hp(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function Mj(t){return t==null?"":""+t}function RHe(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function R4(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function Lj(t,e,r){var n=R4(t,e,Object),i=n.obj,a=n.k;i[a]=r}function PHe(t,e,r,n){var i=R4(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function Ux(t,e){var r=R4(t,e),n=r.obj,i=r.k;if(n)return n[i]}function OHe(t,e,r){var n=Ux(t,r);return n!==void 0?n:Ux(e,r)}function uq(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):uq(t[n],e[n],r):t[n]=e[n]);return t}function hh(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var kHe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function FHe(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return kHe[e]}):t}var Kb=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,NHe=[" ",",","?","!",";"];function MHe(t,e,r){e=e||"",r=r||"";var n=NHe.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function jx(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),c=i[s];c===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),c=i[s];if(c===void 0)return;if(c===null)return null;if(e.endsWith(s)){if(typeof c=="string")return c;if(s&&typeof c[s]=="string")return c[s]}var l=n.slice(a+o).join(r);return l?jx(c,l,r):void 0}i=i[n[a]]}return i}}function Bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LHe(t){var e=BHe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ng(this,i)}}function BHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var DHe=function(t){qb(r,t);var e=LHe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return is(this,r),i=e.call(this),Kb&&zu.call(Au(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return as(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(c?o.split(c):o)),i.indexOf(".")>-1&&(u=i.split("."));var f=Ux(this.data,u);return f||!l||typeof o!="string"?f:jx(this.data&&this.data[i]&&this.data[i][a],o,c)}},{key:"addResource",value:function(i,a,o,s){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,u=[i,a];o&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split("."),s=a,a=u[1]),this.addNamespaces(a),Lj(this.data,u,s),c.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in o)(typeof o[c]=="string"||Object.prototype.toString.apply(o[c])==="[object Array]")&&this.addResource(i,a,c,o[c],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var f=Ux(this.data,u)||{};s?uq(f,o,c):f=k_(k_({},f),o),Lj(this.data,u,f),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?k_(k_({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(zu),cq={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function Dj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UHe(t){var e=jHe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ng(this,i)}}function jHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Uj={},jj=function(t){qb(r,t);var e=UHe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return is(this,r),i=e.call(this),Kb&&zu.call(Au(i)),RHe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,Au(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Ss.create("translator"),i}return as(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!MHe(i,o,s);if(l&&!u){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:c};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(c=h.shift()),i=h.join(s)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,a,o){var s=this;if(Ri(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),Ri(a)==="object"&&(a=ta({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),f=u.key,h=u.namespaces,p=h[h.length-1],d=a.lng||this.language,g=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(g){var m=a.nsSeparator||this.options.nsSeparator;return c?{res:"".concat(p).concat(m).concat(f),usedKey:f,exactUsedKey:f,usedLng:d,usedNS:p}:"".concat(p).concat(m).concat(f)}return c?{res:f,usedKey:f,exactUsedKey:f,usedLng:d,usedNS:p}:f}var v=this.resolve(i,a),_=v&&v.res,y=v&&v.usedKey||f,b=v&&v.exactUsedKey||f,w=Object.prototype.toString.apply(_),E=["[object Number]","[object Function]","[object RegExp]"],C=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,A=typeof _!="string"&&typeof _!="boolean"&&typeof _!="number";if(T&&_&&A&&E.indexOf(w)<0&&!(typeof C=="string"&&w==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,_,ta(ta({},a),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return c?(v.res=I,v):I}if(l){var O=w==="[object Array]",P=O?[]:{},k=O?b:y;for(var F in _)if(Object.prototype.hasOwnProperty.call(_,F)){var B="".concat(k).concat(l).concat(F);P[F]=this.translate(B,ta(ta({},a),{joinArrays:!1,ns:h})),P[F]===B&&(P[F]=_[F])}_=P}}else if(T&&typeof C=="string"&&w==="[object Array]")_=_.join(C),_&&(_=this.extendTranslation(_,i,a,o));else{var D=!1,z=!1,ee=a.count!==void 0&&typeof a.count!="string",te=r.hasDefaultValue(a),Y=ee?this.pluralResolver.getSuffix(d,a.count,a):"",U=a["defaultValue".concat(Y)]||a.defaultValue;!this.isValidLookup(_)&&te&&(D=!0,_=U),this.isValidLookup(_)||(z=!0,_=f);var X=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,j=X&&z?void 0:_,G=te&&U!==_&&this.options.updateMissing;if(z||D||G){if(this.logger.log(G?"updateKey":"missingKey",d,p,f,G?U:_),l){var ne=this.resolve(f,ta(ta({},a),{},{keySeparator:!1}));ne&&ne.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var ae=[],pe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&pe&&pe[0])for(var se=0;se<pe.length;se++)ae.push(pe[se]);else this.options.saveMissingTo==="all"?ae=this.languageUtils.toResolveHierarchy(a.lng||this.language):ae.push(a.lng||this.language);var _e=function(Pe,Ee,Se){var Ge=te&&Se!==_?Se:j;s.options.missingKeyHandler?s.options.missingKeyHandler(Pe,p,Ee,Ge,G,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(Pe,p,Ee,Ge,G,a),s.emit("missingKey",Pe,p,Ee,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ee?ae.forEach(function(Me){s.pluralResolver.getSuffixes(Me,a).forEach(function(Pe){_e([Me],f+Pe,a["defaultValue".concat(Pe)]||U)})}):_e(ae,f,U))}_=this.extendTranslation(_,i,a,v,o),z&&_===f&&this.options.appendNamespaceToMissingKey&&(_="".concat(p,":").concat(f)),(z||D)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(p,":").concat(f):f,D?_:void 0):_=this.options.parseMissingKeyHandler(_))}return c?(v.res=_,v):_}},{key:"extendTranslation",value:function(i,a,o,s,c){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,ta(ta({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(ta(ta({},o),{interpolation:ta(ta({},this.options.interpolation),o.interpolation)}));var u=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(u){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var p=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(p=ta(ta({},this.options.interpolation.defaultVariables),p)),i=this.interpolator.interpolate(i,p,o.lng||this.language,o),u){var d=i.match(this.interpolator.nestingRegexp),g=d&&d.length;f<g&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var _=arguments.length,y=new Array(_),b=0;b<_;b++)y[b]=arguments[b];return c&&c[0]===y[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(y[0]," in key: ").concat(a[0])),null):l.translate.apply(l,y.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var m=o.postProcess||this.options.postProcess,v=typeof m=="string"?[m]:m;return i!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(i=cq.handle(v,i,a,this.options&&this.options.postProcessPassResolved?ta({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,c,l,u,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var p=a.extractFromKey(h,o),d=p.key;c=d;var g=p.namespaces;a.options.fallbackNS&&(g=g.concat(a.options.fallbackNS));var m=o.count!==void 0&&typeof o.count!="string",v=m&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),_=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",y=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);g.forEach(function(b){a.isValidLookup(s)||(f=b,!Uj["".concat(y[0],"-").concat(b)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&(Uj["".concat(y[0],"-").concat(b)]=!0,a.logger.warn('key "'.concat(c,'" for languages "').concat(y.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(function(w){if(!a.isValidLookup(s)){u=w;var E=[d];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(E,d,w,b,o);else{var C;m&&(C=a.pluralResolver.getSuffix(w,o.count,o));var T="".concat(a.options.pluralSeparator,"zero");if(m&&(E.push(d+C),v&&E.push(d+T)),_){var A="".concat(d).concat(a.options.contextSeparator).concat(o.context);E.push(A),m&&(E.push(A+C),v&&E.push(A+T))}}for(var I;I=E.pop();)a.isValidLookup(s)||(l=I,s=a.getResource(w,b,I,o))}}))})}}),{res:s,usedKey:c,exactUsedKey:l,usedLng:u,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(zu);function KC(t){return t.charAt(0).toUpperCase()+t.slice(1)}var $j=function(){function t(e){is(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ss.create("languageUtils")}return as(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=KC(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=KC(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=KC(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(c){o.indexOf(c)<0&&s(i.formatLanguageCode(c))}),o}}]),t}(),$He=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],GHe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},VHe=["v1","v2","v3"],Gj={zero:0,one:1,two:2,few:3,many:4,other:5};function HHe(){var t={};return $He.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:GHe[e.fc]}})}),t}var zHe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};is(this,t),this.languageUtils=e,this.options=r,this.logger=Ss.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=HHe()}return as(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return Gj[o]-Gj[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!VHe.includes(this.options.compatibilityJSON)}}]),t}();function Vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vj(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hj(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=OHe(t,e,r);return!a&&i&&typeof r=="string"&&(a=jx(t,r,n),a===void 0&&(a=jx(e,r,n))),a}var XHe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};is(this,t),this.logger=Ss.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return as(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:FHe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?hh(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?hh(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?hh(n.nestingPrefix):n.nestingPrefixEscaped||hh("$t("),this.nestingSuffix=n.nestingSuffix?hh(n.nestingSuffix):n.nestingSuffixEscaped||hh(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,c,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(m){return m.replace(/\$/g,"$$$$")}var h=function(v){if(v.indexOf(o.formatSeparator)<0){var _=Hj(n,u,v,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(_,void 0,i,Uo(Uo(Uo({},a),n),{},{interpolationkey:v})):_}var y=v.split(o.formatSeparator),b=y.shift().trim(),w=y.join(o.formatSeparator).trim();return o.format(Hj(n,u,b,o.options.keySeparator,o.options.ignoreJSONStructure),w,i,Uo(Uo(Uo({},a),n),{},{interpolationkey:b}))};this.resetRegExp();var p=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,d=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,g=[{regex:this.regexpUnescape,safeValue:function(v){return f(v)}},{regex:this.regexp,safeValue:function(v){return o.escapeValue?f(o.escape(v)):f(v)}}];return g.forEach(function(m){for(l=0;s=m.regex.exec(r);){var v=s[1].trim();if(c=h(v),c===void 0)if(typeof p=="function"){var _=p(r,s,a);c=typeof _=="string"?_:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))c="";else if(d){c=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(r)),c="";else typeof c!="string"&&!o.useRawValueToEscape&&(c=Mj(c));var y=m.safeValue(c);if(r=r.replace(s[0],y),d?(m.regex.lastIndex+=c.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,c;function l(p,d){var g=this.nestingOptionsSeparator;if(p.indexOf(g)<0)return p;var m=p.split(new RegExp("".concat(g,"[ ]*{"))),v="{".concat(m[1]);p=m[0],v=this.interpolate(v,c);var _=v.match(/'/g),y=v.match(/"/g);(_&&_.length%2===0&&!y||y.length%2!==0)&&(v=v.replace(/'/g,'"'));try{c=JSON.parse(v),d&&(c=Uo(Uo({},d),c))}catch(b){return this.logger.warn("failed parsing options string in nesting for key ".concat(p),b),"".concat(p).concat(g).concat(v)}return delete c.defaultValue,p}for(;o=this.nestingRegexp.exec(r);){var u=[];c=Uo({},a),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(p){return p.trim()});o[1]=h.shift(),u=h,f=!0}if(s=n(l.call(this,o[1].trim(),c),c),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=Mj(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),f&&(s=u.reduce(function(p,d){return i.format(p,d,a.lng,Uo(Uo({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ol(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WHe(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),c=THe(s),l=c[0],u=c.slice(1),f=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:r}}function dh(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var YHe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};is(this,t),this.logger=Ss.create("formatter"),this.options=e,this.formats={number:dh(function(r,n){var i=new Intl.NumberFormat(r,ol({},n));return function(a){return i.format(a)}}),currency:dh(function(r,n){var i=new Intl.NumberFormat(r,ol(ol({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:dh(function(r,n){var i=new Intl.DateTimeFormat(r,ol({},n));return function(a){return i.format(a)}}),relativetime:dh(function(r,n){var i=new Intl.RelativeTimeFormat(r,ol({},n));return function(a){return i.format(a,n.range||"day")}}),list:dh(function(r,n){var i=new Intl.ListFormat(r,ol({},n));return function(a){return i.format(a)}})},this.init(e)}return as(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=dh(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),c=s.reduce(function(l,u){var f=WHe(u),h=f.formatName,p=f.formatOptions;if(a.formats[h]){var d=l;try{var g=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},m=g.locale||g.lng||o.locale||o.lng||i;d=a.formats[h](l,m,ol(ol(ol({},p),o),g))}catch(v){a.logger.warn(v)}return d}else a.logger.warn("there was no format function for ".concat(h));return l},r);return c}}]),t}();function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qHe(t){var e=KHe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ng(this,i)}}function KHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ZHe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var JHe=function(t){qb(r,t);var e=qHe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return is(this,r),o=e.call(this),Kb&&zu.call(Au(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=Ss.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return as(r,[{key:"queueLoad",value:function(i,a,o,s){var c=this,l={},u={},f={},h={};return i.forEach(function(p){var d=!0;a.forEach(function(g){var m="".concat(p,"|").concat(g);!o.reload&&c.store.hasResourceBundle(p,g)?c.state[m]=2:c.state[m]<0||(c.state[m]===1?u[m]===void 0&&(u[m]=!0):(c.state[m]=1,d=!1,u[m]===void 0&&(u[m]=!0),l[m]===void 0&&(l[m]=!0),h[g]===void 0&&(h[g]=!0)))}),d||(f[p]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),c=s[0],l=s[1];a&&this.emit("failedLoading",c,l,a),o&&this.store.addResourceBundle(c,l,o),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(f){PHe(f.loaded,[c],l),ZHe(f,i),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){u[h]||(u[h]={});var p=f.loaded[h];p.length&&p.forEach(function(d){u[h][d]===void 0&&(u[h][d]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,a,o){var s=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:c,wait:l,callback:u});return}this.readingCalls++;var f=function(g,m){if(s.readingCalls--,s.waitingReads.length>0){var v=s.waitingReads.shift();s.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&m&&c<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,c+1,l*2,u)},l);return}u(g,m)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var p=h(i,a);p&&typeof p.then=="function"?p.then(function(d){return f(null,d)}).catch(f):f(null,p)}catch(d){f(d)}return}return h(i,a,f)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,c);if(!l.toLoad.length)return l.pending.length||c(),null;l.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),c=s[0],l=s[1];this.read(c,l,"read",void 0,void 0,function(u,f){u&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(c," failed"),u),!u&&f&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(c),f),a.loaded(i,u,f)})}},{key:"saveMissing",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=Wj(Wj({},l),{},{isUpdate:c}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var p;h.length===5?p=h(i,a,o,s,f):p=h(i,a,o,s),p&&typeof p.then=="function"?p.then(function(d){return u(null,d)}).catch(u):u(null,p)}catch(d){u(d)}else h(i,a,o,s,u,f)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(zu);function Yj(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(Ri(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),Ri(e[2])==="object"||Ri(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function qj(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QHe(t){var e=eze();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ng(this,i)}}function eze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F_(){}function tze(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var $x=function(t){qb(r,t);var e=QHe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(is(this,r),n=e.call(this),Kb&&zu.call(Au(n)),n.options=qj(i),n.services={},n.logger=Ss,n.modules={external:[]},tze(Au(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),Ng(n,Au(n));setTimeout(function(){n.init(i,a)},0)}return n}return as(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=Yj();this.options=vs(vs(vs({},s),this.options),qj(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=vs(vs({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function c(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?Ss.init(c(this.modules.logger),this.options):Ss.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=YHe);var u=new $j(this.options);this.store=new DHe(this.options.resources,this.options);var f=this.services;f.logger=Ss,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new zHe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=c(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new XHe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new JHe(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(v){for(var _=arguments.length,y=new Array(_>1?_-1:0),b=1;b<_;b++)y[b-1]=arguments[b];i.emit.apply(i,[v].concat(y))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=c(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new jj(this.services,this.options),this.translator.on("*",function(v){for(var _=arguments.length,y=new Array(_>1?_-1:0),b=1;b<_;b++)y[b-1]=arguments[b];i.emit.apply(i,[v].concat(y))}),this.modules.external.forEach(function(v){v.init&&v.init(i)})}if(this.format=this.options.interpolation.format,o||(o=F_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var p=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];p.forEach(function(v){i[v]=function(){var _;return(_=i.store)[v].apply(_,arguments)}});var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach(function(v){i[v]=function(){var _;return(_=i.store)[v].apply(_,arguments),i}});var g=hp(),m=function(){var _=function(b,w){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),g.resolve(w),o(b,w)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return _(null,i.t.bind(i));i.changeLanguage(i.options.lng,_)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),g}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F_,s=o,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return s();var l=[],u=function(p){if(p){var d=a.services.languageUtils.toResolveHierarchy(p);d.forEach(function(g){l.indexOf(g)<0&&l.push(g)})}};if(c)u(c);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return u(h)})}this.options.preload&&this.options.preload.forEach(function(h){return u(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=hp();return i||(i=this.languages),a||(a=this.options.ns),o||(o=F_),this.services.backendConnector.reload(i,a,function(c){s.resolve(),o(c)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&cq.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=hp();this.emit("languageChanging",i);var c=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,p){p?(c(p),o.translator.changeLanguage(p),o.isLanguageChangingTo=void 0,o.emit("languageChanged",p),o.logger.log("languageChanged",p)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},u=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var p=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);p&&(o.language||c(p),o.translator.language||o.translator.changeLanguage(p),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(p)),o.loadResources(p,function(d){l(d,p)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,c=function l(u,f){var h;if(Ri(f)!=="object"){for(var p=arguments.length,d=new Array(p>2?p-2:0),g=2;g<p;g++)d[g-2]=arguments[g];h=s.options.overloadTranslationOptionHandler([u,f].concat(d))}else h=vs({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var m=s.options.keySeparator||".",v;return h.keyPrefix&&Array.isArray(u)?v=u.map(function(_){return"".concat(h.keyPrefix).concat(m).concat(_)}):v=h.keyPrefix?"".concat(h.keyPrefix).concat(m).concat(u):u,s.t(v,h)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=a,c.keyPrefix=o,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(p,d){var g=a.services.backendConnector.state["".concat(p,"|").concat(d)];return g===-1||g===2};if(o.precheck){var f=o.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,i)&&(!c||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=hp();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){o.options.ns.indexOf(c)<0&&o.options.ns.push(c)}),this.loadResources(function(c){s.resolve(),a&&a(c)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=hp();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],c=i.filter(function(l){return s.indexOf(l)<0});return c.length?(this.options.preload=s.concat(c),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new $j(Yj());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F_,s=vs(vs(vs({},this.options),a),{isClone:!0}),c=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){c[u]=i[u]}),c.services=vs({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new jj(c.services,c.options),c.translator.on("*",function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];c.emit.apply(c,[u].concat(h))}),c.init(s,o),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(zu);oo($x,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new $x(t,e)});var ha=$x.createInstance();ha.createInstance=$x.createInstance;ha.createInstance;ha.dir;ha.init;ha.loadResources;ha.reloadResources;ha.use;ha.changeLanguage;ha.getFixedT;ha.t;ha.exists;ha.setDefaultNamespace;ha.hasLoadedNamespace;ha.loadNamespaces;ha.loadLanguages;ha.use(kOe).init({resources:qde||{},lng:Vd[Kde]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("IdolTime i18n Ready!"));Fu.render(M.jsx(Ur.StrictMode,{children:M.jsx(LOe,{children:M.jsx(Qxe,{store:ue,children:M.jsx(SHe,{})})})}),document.getElementById("root"));export{xi as C,ef as S,kt as T,$ as W,Ma as a,lze as r,Yp as u};
