var a7=Object.defineProperty;var o7=(t,e,r)=>e in t?a7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Xe=(t,e,r)=>(o7(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var iM={exports:{}},Dd={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var DI=Object.getOwnPropertySymbols,l7=Object.prototype.hasOwnProperty,u7=Object.prototype.propertyIsEnumerable;function c7(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function f7(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var JS=f7()?Object.assign:function(t,e){for(var r,n=c7(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)l7.call(r,o)&&(n[o]=r[o]);if(DI){i=DI(r);for(var s=0;s<i.length;s++)u7.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const h7=Pn(JS);var aM={exports:{}},Ht={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS=JS,Uc=60103,oM=60106;Ht.Fragment=60107;Ht.StrictMode=60108;Ht.Profiler=60114;var sM=60109,lM=60110,uM=60112;Ht.Suspense=60113;var cM=60115,fM=60116;if(typeof Symbol=="function"&&Symbol.for){var Qi=Symbol.for;Uc=Qi("react.element"),oM=Qi("react.portal"),Ht.Fragment=Qi("react.fragment"),Ht.StrictMode=Qi("react.strict_mode"),Ht.Profiler=Qi("react.profiler"),sM=Qi("react.provider"),lM=Qi("react.context"),uM=Qi("react.forward_ref"),Ht.Suspense=Qi("react.suspense"),cM=Qi("react.memo"),fM=Qi("react.lazy")}var UI=typeof Symbol=="function"&&Symbol.iterator;function d7(t){return t===null||typeof t!="object"?null:(t=UI&&t[UI]||t["@@iterator"],typeof t=="function"?t:null)}function Ud(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dM={};function jc(t,e,r){this.props=t,this.context=e,this.refs=dM,this.updater=r||hM}jc.prototype.isReactComponent={};jc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Ud(85));this.updater.enqueueSetState(this,t,e,"setState")};jc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pM(){}pM.prototype=jc.prototype;function e2(t,e,r){this.props=t,this.context=e,this.refs=dM,this.updater=r||hM}var t2=e2.prototype=new pM;t2.constructor=e2;QS(t2,jc.prototype);t2.isPureReactComponent=!0;var r2={current:null},vM=Object.prototype.hasOwnProperty,mM={key:!0,ref:!0,__self:!0,__source:!0};function gM(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)vM.call(e,n)&&!mM.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Uc,type:t,key:a,ref:o,props:i,_owner:r2.current}}function p7(t,e){return{$$typeof:Uc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function n2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uc}function v7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var jI=/\/+/g;function T_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?v7(""+t.key):e.toString(36)}function wp(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uc:case oM:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+T_(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(jI,"$&/")+"/"),wp(i,e,r,"",function(l){return l})):i!=null&&(n2(i)&&(i=p7(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var c=n+T_(a,s);o+=wp(a,e,r,c,i)}else if(c=d7(t),typeof c=="function")for(t=c.call(t),s=0;!(a=t.next()).done;)a=a.value,c=n+T_(a,s++),o+=wp(a,e,r,c,i);else if(a==="object")throw e=""+t,Error(Ud(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function g0(t,e,r){if(t==null)return t;var n=[],i=0;return wp(t,n,"","",function(a){return e.call(r,a,i++)}),n}function m7(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var _M={current:null};function To(){var t=_M.current;if(t===null)throw Error(Ud(321));return t}var g7={ReactCurrentDispatcher:_M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:r2,IsSomeRendererActing:{current:!1},assign:QS};Ht.Children={map:g0,forEach:function(t,e,r){g0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return g0(t,function(){e++}),e},toArray:function(t){return g0(t,function(e){return e})||[]},only:function(t){if(!n2(t))throw Error(Ud(143));return t}};Ht.Component=jc;Ht.PureComponent=e2;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g7;Ht.cloneElement=function(t,e,r){if(t==null)throw Error(Ud(267,t));var n=QS({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=r2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)vM.call(e,c)&&!mM.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:Uc,type:t.type,key:i,ref:a,props:n,_owner:o}};Ht.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:lM,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:sM,_context:t},t.Consumer=t};Ht.createElement=gM;Ht.createFactory=function(t){var e=gM.bind(null,t);return e.type=t,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(t){return{$$typeof:uM,render:t}};Ht.isValidElement=n2;Ht.lazy=function(t){return{$$typeof:fM,_payload:{_status:-1,_result:t},_init:m7}};Ht.memo=function(t,e){return{$$typeof:cM,type:t,compare:e===void 0?null:e}};Ht.useCallback=function(t,e){return To().useCallback(t,e)};Ht.useContext=function(t,e){return To().useContext(t,e)};Ht.useDebugValue=function(){};Ht.useEffect=function(t,e){return To().useEffect(t,e)};Ht.useImperativeHandle=function(t,e,r){return To().useImperativeHandle(t,e,r)};Ht.useLayoutEffect=function(t,e){return To().useLayoutEffect(t,e)};Ht.useMemo=function(t,e){return To().useMemo(t,e)};Ht.useReducer=function(t,e,r){return To().useReducer(t,e,r)};Ht.useRef=function(t){return To().useRef(t)};Ht.useState=function(t){return To().useState(t)};Ht.version="17.0.2";aM.exports=Ht;var ye=aM.exports;const rr=Pn(ye);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _7=ye,yM=60103;Dd.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var $I=Symbol.for;yM=$I("react.element"),Dd.Fragment=$I("react.fragment")}var y7=_7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x7=Object.prototype.hasOwnProperty,b7={key:!0,ref:!0,__self:!0,__source:!0};function xM(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)x7.call(e,n)&&!b7.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:yM,type:t,key:a,ref:o,props:i,_owner:y7.current}}Dd.jsx=xM;Dd.jsxs=xM;iM.exports=Dd;var k=iM.exports,bM={exports:{}},Ki={},wM={exports:{}},EM={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,l=null,u=function(){if(c!==null)try{var L=t.unstable_now();c(!0,L),c=null}catch(j){throw setTimeout(u,0),j}};e=function(L){c!==null?setTimeout(e,0,L):(c=L,setTimeout(u,0))},r=function(L,j){l=setTimeout(L,j)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var d=!1,m=null,_=-1,v=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<L?Math.floor(1e3/L):5};var y=new MessageChannel,x=y.port2;y.port1.onmessage=function(){if(m!==null){var L=t.unstable_now();g=L+v;try{m(!0,L)?x.postMessage(null):(d=!1,m=null)}catch(j){throw x.postMessage(null),j}}else d=!1},e=function(L){m=L,d||(d=!0,x.postMessage(null))},r=function(L,j){_=f(function(){L(t.unstable_now())},j)},n=function(){h(_),_=-1}}function b(L,j){var B=L.length;L.push(j);e:for(;;){var D=B-1>>>1,J=L[D];if(J!==void 0&&0<S(J,j))L[D]=j,L[B]=J,B=D;else break e}}function w(L){return L=L[0],L===void 0?null:L}function E(L){var j=L[0];if(j!==void 0){var B=L.pop();if(B!==j){L[0]=B;e:for(var D=0,J=L.length;D<J;){var Q=2*(D+1)-1,se=L[Q],re=Q+1,ce=L[re];if(se!==void 0&&0>S(se,B))ce!==void 0&&0>S(ce,se)?(L[D]=ce,L[re]=B,D=re):(L[D]=se,L[Q]=B,D=Q);else if(ce!==void 0&&0>S(ce,B))L[D]=ce,L[re]=B,D=re;else break e}}return j}return null}function S(L,j){var B=L.sortIndex-j.sortIndex;return B!==0?B:L.id-j.id}var C=[],T=[],I=1,A=null,R=3,O=!1,F=!1,N=!1;function $(L){for(var j=w(T);j!==null;){if(j.callback===null)E(T);else if(j.startTime<=L)E(T),j.sortIndex=j.expirationTime,b(C,j);else break;j=w(T)}}function q(L){if(N=!1,$(L),!F)if(w(C)!==null)F=!0,e(K);else{var j=w(T);j!==null&&r(q,j.startTime-L)}}function K(L,j){F=!1,N&&(N=!1,n()),O=!0;var B=R;try{for($(j),A=w(C);A!==null&&(!(A.expirationTime>j)||L&&!t.unstable_shouldYield());){var D=A.callback;if(typeof D=="function"){A.callback=null,R=A.priorityLevel;var J=D(A.expirationTime<=j);j=t.unstable_now(),typeof J=="function"?A.callback=J:A===w(C)&&E(C),$(j)}else E(C);A=w(C)}if(A!==null)var Q=!0;else{var se=w(T);se!==null&&r(q,se.startTime-j),Q=!1}return Q}finally{A=null,R=B,O=!1}}var G=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){F||O||(F=!0,e(K))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return w(C)},t.unstable_next=function(L){switch(R){case 1:case 2:case 3:var j=3;break;default:j=R}var B=R;R=j;try{return L()}finally{R=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=R;R=L;try{return j()}finally{R=B}},t.unstable_scheduleCallback=function(L,j,B){var D=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?D+B:D):B=D,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=B+J,L={id:I++,callback:j,priorityLevel:L,startTime:B,expirationTime:J,sortIndex:-1},B>D?(L.sortIndex=B,b(T,L),w(C)===null&&L===w(T)&&(N?n():N=!0,r(q,B-D))):(L.sortIndex=J,b(C,L),F||O||(F=!0,e(K))),L},t.unstable_wrapCallback=function(L){var j=R;return function(){var B=R;R=j;try{return L.apply(this,arguments)}finally{R=B}}}})(EM);wM.exports=EM;var w7=wM.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=ye,br=JS,An=w7;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!wm)throw Error(Le(227));var SM=new Set,Uh={};function jl(t,e){gc(t,e),gc(t+"Capture",e)}function gc(t,e){for(Uh[t]=e,t=0;t<e.length;t++)SM.add(e[t])}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VI=Object.prototype.hasOwnProperty,GI={},HI={};function S7(t){return VI.call(HI,t)?!0:VI.call(GI,t)?!1:E7.test(t)?HI[t]=!0:(GI[t]=!0,!1)}function C7(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T7(t,e,r,n){if(e===null||typeof e>"u"||C7(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hi(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new hi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new hi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new hi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new hi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new hi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new hi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new hi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new hi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new hi(t,5,!1,t.toLowerCase(),null,!1,!1)});var i2=/[\-:]([a-z])/g;function a2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i2,a2);Hn[e]=new hi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i2,a2);Hn[e]=new hi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i2,a2);Hn[e]=new hi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new hi(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new hi(t,1,!1,t.toLowerCase(),null,!0,!0)});function o2(t,e,r,n){var i=Hn.hasOwnProperty(e)?Hn[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(T7(e,r,i,n)&&(r=null),n||i===null?S7(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $l=wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qf=60103,il=60106,Uo=60107,s2=60108,fh=60114,l2=60109,u2=60110,Em=60112,hh=60113,lv=60120,Sm=60115,c2=60116,f2=60121,h2=60128,CM=60129,d2=60130,mb=60131;if(typeof Symbol=="function"&&Symbol.for){var yn=Symbol.for;Qf=yn("react.element"),il=yn("react.portal"),Uo=yn("react.fragment"),s2=yn("react.strict_mode"),fh=yn("react.profiler"),l2=yn("react.provider"),u2=yn("react.context"),Em=yn("react.forward_ref"),hh=yn("react.suspense"),lv=yn("react.suspense_list"),Sm=yn("react.memo"),c2=yn("react.lazy"),f2=yn("react.block"),yn("react.scope"),h2=yn("react.opaque.id"),CM=yn("react.debug_trace_mode"),d2=yn("react.offscreen"),mb=yn("react.legacy_hidden")}var XI=typeof Symbol=="function"&&Symbol.iterator;function bf(t){return t===null||typeof t!="object"?null:(t=XI&&t[XI]||t["@@iterator"],typeof t=="function"?t:null)}var A_;function eh(t){if(A_===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);A_=e&&e[1]||""}return`
`+A_+t}var I_=!1;function _0(t,e){if(!t||I_)return"";I_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{I_=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?eh(t):""}function A7(t){switch(t.tag){case 5:return eh(t.type);case 16:return eh("Lazy");case 13:return eh("Suspense");case 19:return eh("SuspenseList");case 0:case 2:case 15:return t=_0(t.type,!1),t;case 11:return t=_0(t.type.render,!1),t;case 22:return t=_0(t.type._render,!1),t;case 1:return t=_0(t.type,!0),t;default:return""}}function Xu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uo:return"Fragment";case il:return"Portal";case fh:return"Profiler";case s2:return"StrictMode";case hh:return"Suspense";case lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u2:return(t.displayName||"Context")+".Consumer";case l2:return(t._context.displayName||"Context")+".Provider";case Em:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Sm:return Xu(t.type);case f2:return Xu(t._render);case c2:e=t._payload,t=t._init;try{return Xu(t(e))}catch{}}return null}function vs(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function TM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I7(t){var e=TM(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function y0(t){t._valueTracker||(t._valueTracker=I7(t))}function AM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=TM(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function uv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gb(t,e){var r=e.checked;return br({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function zI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=vs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IM(t,e){e=e.checked,e!=null&&o2(t,"checked",e,!1)}function _b(t,e){IM(t,e);var r=vs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yb(t,e.type,r):e.hasOwnProperty("defaultValue")&&yb(t,e.type,vs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function yb(t,e,r){(e!=="number"||uv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function R7(t){var e="";return wm.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function xb(t,e){return t=br({children:void 0},e),(e=R7(e.children))&&(t.children=e),t}function zu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+vs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return br({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function YI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:vs(r)}}function RM(t,e){var r=vs(e.value),n=vs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function qI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var wb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function PM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var x0,OM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==wb.svg||"innerHTML"in t)t.innerHTML=e;else{for(x0=x0||document.createElement("div"),x0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=x0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var dh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P7=["Webkit","ms","Moz","O"];Object.keys(dh).forEach(function(t){P7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dh[e]=dh[t]})});function kM(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||dh.hasOwnProperty(t)&&dh[t]?(""+e).trim():e+"px"}function FM(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=kM(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var O7=br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sb(t,e){if(e){if(O7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function Cb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function p2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tb=null,Wu=null,Yu=null;function KI(t){if(t=$d(t)){if(typeof Tb!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=Pm(e),Tb(t.stateNode,t.type,e))}}function NM(t){Wu?Yu?Yu.push(t):Yu=[t]:Wu=t}function LM(){if(Wu){var t=Wu,e=Yu;if(Yu=Wu=null,KI(t),e)for(t=0;t<e.length;t++)KI(e[t])}}function v2(t,e){return t(e)}function MM(t,e,r,n,i){return t(e,r,n,i)}function m2(){}var BM=v2,al=!1,R_=!1;function g2(){(Wu!==null||Yu!==null)&&(m2(),LM())}function k7(t,e,r){if(R_)return t(e,r);R_=!0;try{return BM(t,e,r)}finally{R_=!1,g2()}}function $h(t,e){var r=t.stateNode;if(r===null)return null;var n=Pm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var Ab=!1;if(xo)try{var wf={};Object.defineProperty(wf,"passive",{get:function(){Ab=!0}}),window.addEventListener("test",wf,wf),window.removeEventListener("test",wf,wf)}catch{Ab=!1}function F7(t,e,r,n,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var ph=!1,cv=null,fv=!1,Ib=null,N7={onError:function(t){ph=!0,cv=t}};function L7(t,e,r,n,i,a,o,s,c){ph=!1,cv=null,F7.apply(N7,arguments)}function M7(t,e,r,n,i,a,o,s,c){if(L7.apply(this,arguments),ph){if(ph){var l=cv;ph=!1,cv=null}else throw Error(Le(198));fv||(fv=!0,Ib=l)}}function Vl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function DM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZI(t){if(Vl(t)!==t)throw Error(Le(188))}function B7(t){var e=t.alternate;if(!e){if(e=Vl(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return ZI(i),t;if(a===n)return ZI(i),e;a=a.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function UM(t){if(t=B7(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function JI(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var jM,_2,$M,VM,Rb=!1,Fa=[],Jo=null,Qo=null,es=null,Vh=new Map,Gh=new Map,Ef=[],QI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pb(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function eR(t,e){switch(t){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Vh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(e.pointerId)}}function Sf(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=Pb(e,r,n,i,a),e!==null&&(e=$d(e),e!==null&&_2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function D7(t,e,r,n,i){switch(e){case"focusin":return Jo=Sf(Jo,t,e,r,n,i),!0;case"dragenter":return Qo=Sf(Qo,t,e,r,n,i),!0;case"mouseover":return es=Sf(es,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Vh.set(a,Sf(Vh.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Gh.set(a,Sf(Gh.get(a)||null,t,e,r,n,i)),!0}return!1}function U7(t){var e=ol(t.target);if(e!==null){var r=Vl(e);if(r!==null){if(e=r.tag,e===13){if(e=DM(r),e!==null){t.blockedOn=e,VM(t.lanePriority,function(){An.unstable_runWithPriority(t.priority,function(){$M(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ep(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=w2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=$d(r),e!==null&&_2(e),t.blockedOn=r,!1;e.shift()}return!0}function tR(t,e,r){Ep(t)&&r.delete(e)}function j7(){for(Rb=!1;0<Fa.length;){var t=Fa[0];if(t.blockedOn!==null){t=$d(t.blockedOn),t!==null&&jM(t);break}for(var e=t.targetContainers;0<e.length;){var r=w2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&Fa.shift()}Jo!==null&&Ep(Jo)&&(Jo=null),Qo!==null&&Ep(Qo)&&(Qo=null),es!==null&&Ep(es)&&(es=null),Vh.forEach(tR),Gh.forEach(tR)}function Cf(t,e){t.blockedOn===e&&(t.blockedOn=null,Rb||(Rb=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,j7)))}function GM(t){function e(i){return Cf(i,t)}if(0<Fa.length){Cf(Fa[0],t);for(var r=1;r<Fa.length;r++){var n=Fa[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Jo!==null&&Cf(Jo,t),Qo!==null&&Cf(Qo,t),es!==null&&Cf(es,t),Vh.forEach(e),Gh.forEach(e),r=0;r<Ef.length;r++)n=Ef[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ef.length&&(r=Ef[0],r.blockedOn===null);)U7(r),r.blockedOn===null&&Ef.shift()}function b0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Au={animationend:b0("Animation","AnimationEnd"),animationiteration:b0("Animation","AnimationIteration"),animationstart:b0("Animation","AnimationStart"),transitionend:b0("Transition","TransitionEnd")},P_={},HM={};xo&&(HM=document.createElement("div").style,"AnimationEvent"in window||(delete Au.animationend.animation,delete Au.animationiteration.animation,delete Au.animationstart.animation),"TransitionEvent"in window||delete Au.transitionend.transition);function Cm(t){if(P_[t])return P_[t];if(!Au[t])return t;var e=Au[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in HM)return P_[t]=e[r];return t}var XM=Cm("animationend"),zM=Cm("animationiteration"),WM=Cm("animationstart"),YM=Cm("transitionend"),qM=new Map,y2=new Map,$7=["abort","abort",XM,"animationEnd",zM,"animationIteration",WM,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",YM,"transitionEnd","waiting","waiting"];function x2(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),y2.set(n,e),qM.set(n,i),jl(i,[n])}}var V7=An.unstable_now;V7();var lr=8;function Eu(t){if(1&t)return lr=15,1;if(2&t)return lr=14,2;if(4&t)return lr=13,4;var e=24&t;return e!==0?(lr=12,e):t&32?(lr=11,32):(e=192&t,e!==0?(lr=10,e):t&256?(lr=9,256):(e=3584&t,e!==0?(lr=8,e):t&4096?(lr=7,4096):(e=4186112&t,e!==0?(lr=6,e):(e=62914560&t,e!==0?(lr=5,e):t&67108864?(lr=4,67108864):t&134217728?(lr=3,134217728):(e=805306368&t,e!==0?(lr=2,e):1073741824&t?(lr=1,1073741824):(lr=8,t))))))}function G7(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function H7(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Le(358,t))}}function Hh(t,e){var r=t.pendingLanes;if(r===0)return lr=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=lr=15;else if(a=r&134217727,a!==0){var c=a&~o;c!==0?(n=Eu(c),i=lr):(s&=a,s!==0&&(n=Eu(s),i=lr))}else a=r&~o,a!==0?(n=Eu(a),i=lr):s!==0&&(n=Eu(s),i=lr);if(n===0)return 0;if(n=31-ms(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(Eu(e),i<=lr)return e;lr=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ms(e),i=1<<r,n|=t[r],e&=~i;return n}function KM(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hv(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Su(24&~e),t===0?hv(10,e):t;case 10:return t=Su(192&~e),t===0?hv(8,e):t;case 8:return t=Su(3584&~e),t===0&&(t=Su(4186112&~e),t===0&&(t=512)),t;case 2:return e=Su(805306368&~e),e===0&&(e=268435456),e}throw Error(Le(358,t))}function Su(t){return t&-t}function O_(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Tm(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-ms(e),t[e]=r}var ms=Math.clz32?Math.clz32:W7,X7=Math.log,z7=Math.LN2;function W7(t){return t===0?32:31-(X7(t)/z7|0)|0}var Y7=An.unstable_UserBlockingPriority,q7=An.unstable_runWithPriority,Sp=!0;function K7(t,e,r,n){al||m2();var i=b2,a=al;al=!0;try{MM(i,t,e,r,n)}finally{(al=a)||g2()}}function Z7(t,e,r,n){q7(Y7,b2.bind(null,t,e,r,n))}function b2(t,e,r,n){if(Sp){var i;if((i=(e&4)===0)&&0<Fa.length&&-1<QI.indexOf(t))t=Pb(null,t,e,r,n),Fa.push(t);else{var a=w2(t,e,r,n);if(a===null)i&&eR(t,n);else{if(i){if(-1<QI.indexOf(t)){t=Pb(a,t,e,r,n),Fa.push(t);return}if(D7(a,t,e,r,n))return;eR(t,n)}uB(t,e,n,null,r)}}}}function w2(t,e,r,n){var i=p2(n);if(i=ol(i),i!==null){var a=Vl(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=DM(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return uB(t,e,n,i,r),null}var Ho=null,E2=null,Cp=null;function ZM(){if(Cp)return Cp;var t,e=E2,r=e.length,n,i="value"in Ho?Ho.value:Ho.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Cp=i.slice(t,1<n?1-n:void 0)}function Tp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function w0(){return!0}function rR(){return!1}function Oi(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?w0:rR,this.isPropagationStopped=rR,this}return br(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=w0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=w0)},persist:function(){},isPersistent:w0}),e}var $c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S2=Oi($c),jd=br({},$c,{view:0,detail:0}),J7=Oi(jd),k_,F_,Tf,Am=br({},jd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tf&&(Tf&&t.type==="mousemove"?(k_=t.screenX-Tf.screenX,F_=t.screenY-Tf.screenY):F_=k_=0,Tf=t),k_)},movementY:function(t){return"movementY"in t?t.movementY:F_}}),nR=Oi(Am),Q7=br({},Am,{dataTransfer:0}),eV=Oi(Q7),tV=br({},jd,{relatedTarget:0}),N_=Oi(tV),rV=br({},$c,{animationName:0,elapsedTime:0,pseudoElement:0}),nV=Oi(rV),iV=br({},$c,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aV=Oi(iV),oV=br({},$c,{data:0}),iR=Oi(oV),sV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uV[t])?!!e[t]:!1}function C2(){return cV}var fV=br({},jd,{key:function(t){if(t.key){var e=sV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C2,charCode:function(t){return t.type==="keypress"?Tp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hV=Oi(fV),dV=br({},Am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aR=Oi(dV),pV=br({},jd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C2}),vV=Oi(pV),mV=br({},$c,{propertyName:0,elapsedTime:0,pseudoElement:0}),gV=Oi(mV),_V=br({},Am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yV=Oi(_V),xV=[9,13,27,32],T2=xo&&"CompositionEvent"in window,vh=null;xo&&"documentMode"in document&&(vh=document.documentMode);var bV=xo&&"TextEvent"in window&&!vh,JM=xo&&(!T2||vh&&8<vh&&11>=vh),oR=String.fromCharCode(32),sR=!1;function QM(t,e){switch(t){case"keyup":return xV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eB(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Iu=!1;function wV(t,e){switch(t){case"compositionend":return eB(e);case"keypress":return e.which!==32?null:(sR=!0,oR);case"textInput":return t=e.data,t===oR&&sR?null:t;default:return null}}function EV(t,e){if(Iu)return t==="compositionend"||!T2&&QM(t,e)?(t=ZM(),Cp=E2=Ho=null,Iu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JM&&e.locale!=="ko"?null:e.data;default:return null}}var SV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SV[t.type]:e==="textarea"}function tB(t,e,r,n){NM(n),e=dv(e,"onChange"),0<e.length&&(r=new S2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var mh=null,Xh=null;function CV(t){oB(t,0)}function Im(t){var e=Pu(t);if(AM(e))return t}function TV(t,e){if(t==="change")return e}var rB=!1;if(xo){var L_;if(xo){var M_="oninput"in document;if(!M_){var uR=document.createElement("div");uR.setAttribute("oninput","return;"),M_=typeof uR.oninput=="function"}L_=M_}else L_=!1;rB=L_&&(!document.documentMode||9<document.documentMode)}function cR(){mh&&(mh.detachEvent("onpropertychange",nB),Xh=mh=null)}function nB(t){if(t.propertyName==="value"&&Im(Xh)){var e=[];if(tB(e,Xh,t,p2(t)),t=CV,al)t(e);else{al=!0;try{v2(t,e)}finally{al=!1,g2()}}}}function AV(t,e,r){t==="focusin"?(cR(),mh=e,Xh=r,mh.attachEvent("onpropertychange",nB)):t==="focusout"&&cR()}function IV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Im(Xh)}function RV(t,e){if(t==="click")return Im(e)}function PV(t,e){if(t==="input"||t==="change")return Im(e)}function OV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vi=typeof Object.is=="function"?Object.is:OV,kV=Object.prototype.hasOwnProperty;function zh(t,e){if(Vi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!kV.call(e,r[n])||!Vi(t[r[n]],e[r[n]]))return!1;return!0}function fR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hR(t,e){var r=fR(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fR(r)}}function iB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dR(){for(var t=window,e=uv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=uv(t.document)}return e}function Ob(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var FV=xo&&"documentMode"in document&&11>=document.documentMode,Ru=null,kb=null,gh=null,Fb=!1;function pR(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fb||Ru==null||Ru!==uv(n)||(n=Ru,"selectionStart"in n&&Ob(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gh&&zh(gh,n)||(gh=n,n=dv(kb,"onSelect"),0<n.length&&(e=new S2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ru)))}x2("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);x2("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);x2($7,2);for(var vR="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),B_=0;B_<vR.length;B_++)y2.set(vR[B_],0);gc("onMouseEnter",["mouseout","mouseover"]);gc("onMouseLeave",["mouseout","mouseover"]);gc("onPointerEnter",["pointerout","pointerover"]);gc("onPointerLeave",["pointerout","pointerover"]);jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jl("onBeforeInput",["compositionend","keypress","textInput","paste"]);jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aB=new Set("cancel close invalid load scroll toggle".split(" ").concat(th));function mR(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,M7(n,e,void 0,t),t.currentTarget=null}function oB(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;mR(i,s,l),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;mR(i,s,l),a=c}}}if(fv)throw t=Ib,fv=!1,Ib=null,t}function fr(t,e){var r=fB(e),n=t+"__bubble";r.has(n)||(lB(e,t,2,!1),r.add(n))}var gR="_reactListening"+Math.random().toString(36).slice(2);function sB(t){t[gR]||(t[gR]=!0,SM.forEach(function(e){aB.has(e)||_R(e,!1,t,null),_R(e,!0,t,null)}))}function _R(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&aB.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=fB(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),lB(a,t,i,e),o.add(s))}function lB(t,e,r,n){var i=y2.get(e);switch(i===void 0?2:i){case 0:i=K7;break;case 1:i=Z7;break;default:i=b2}r=i.bind(null,e,r,t),i=void 0,!Ab||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function uB(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ol(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}k7(function(){var l=a,u=p2(r),f=[];e:{var h=qM.get(t);if(h!==void 0){var p=S2,d=t;switch(t){case"keypress":if(Tp(r)===0)break e;case"keydown":case"keyup":p=hV;break;case"focusin":d="focus",p=N_;break;case"focusout":d="blur",p=N_;break;case"beforeblur":case"afterblur":p=N_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vV;break;case XM:case zM:case WM:p=nV;break;case YM:p=gV;break;case"scroll":p=J7;break;case"wheel":p=yV;break;case"copy":case"cut":case"paste":p=aV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=aR}var m=(e&4)!==0,_=!m&&t==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var g=l,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=$h(g,v),x!=null&&m.push(Wh(g,x,y)))),_)break;g=g.return}0<m.length&&(h=new p(h,d,null,r,u),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(d=r.relatedTarget||r.fromElement)&&(ol(d)||d[Vc]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(d=r.relatedTarget||r.toElement,p=l,d=d?ol(d):null,d!==null&&(_=Vl(d),d!==_||d.tag!==5&&d.tag!==6)&&(d=null)):(p=null,d=l),p!==d)){if(m=nR,x="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=aR,x="onPointerLeave",v="onPointerEnter",g="pointer"),_=p==null?h:Pu(p),y=d==null?h:Pu(d),h=new m(x,g+"leave",p,r,u),h.target=_,h.relatedTarget=y,x=null,ol(u)===l&&(m=new m(v,g+"enter",d,r,u),m.target=y,m.relatedTarget=_,x=m),_=x,p&&d)t:{for(m=p,v=d,g=0,y=m;y;y=ru(y))g++;for(y=0,x=v;x;x=ru(x))y++;for(;0<g-y;)m=ru(m),g--;for(;0<y-g;)v=ru(v),y--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=ru(m),v=ru(v)}m=null}else m=null;p!==null&&yR(f,h,p,m,!1),d!==null&&_!==null&&yR(f,_,d,m,!0)}}e:{if(h=l?Pu(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=TV;else if(lR(h))if(rB)b=PV;else{b=IV;var w=AV}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=RV);if(b&&(b=b(t,l))){tB(f,b,r,u);break e}w&&w(t,h,l),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&yb(h,"number",h.value)}switch(w=l?Pu(l):window,t){case"focusin":(lR(w)||w.contentEditable==="true")&&(Ru=w,kb=l,gh=null);break;case"focusout":gh=kb=Ru=null;break;case"mousedown":Fb=!0;break;case"contextmenu":case"mouseup":case"dragend":Fb=!1,pR(f,r,u);break;case"selectionchange":if(FV)break;case"keydown":case"keyup":pR(f,r,u)}var E;if(T2)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Iu?QM(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(JM&&r.locale!=="ko"&&(Iu||S!=="onCompositionStart"?S==="onCompositionEnd"&&Iu&&(E=ZM()):(Ho=u,E2="value"in Ho?Ho.value:Ho.textContent,Iu=!0)),w=dv(l,S),0<w.length&&(S=new iR(S,t,null,r,u),f.push({event:S,listeners:w}),E?S.data=E:(E=eB(r),E!==null&&(S.data=E)))),(E=bV?wV(t,r):EV(t,r))&&(l=dv(l,"onBeforeInput"),0<l.length&&(u=new iR("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=E))}oB(f,e)})}function Wh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function dv(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$h(t,r),a!=null&&n.unshift(Wh(t,a,i)),a=$h(t,e),a!=null&&n.push(Wh(t,a,i))),t=t.return}return n}function ru(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yR(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&l!==null&&(s=l,i?(c=$h(r,a),c!=null&&o.unshift(Wh(r,c,s))):i||(c=$h(r,a),c!=null&&o.push(Wh(r,c,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function pv(){}var D_=null,U_=null;function cB(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Nb(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xR=typeof setTimeout=="function"?setTimeout:void 0,NV=typeof clearTimeout=="function"?clearTimeout:void 0;function A2(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function qu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function bR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var j_=0;function LV(t){return{$$typeof:h2,toString:t,valueOf:t}}var Rm=Math.random().toString(36).slice(2),Xo="__reactFiber$"+Rm,vv="__reactProps$"+Rm,Vc="__reactContainer$"+Rm,wR="__reactEvents$"+Rm;function ol(t){var e=t[Xo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Vc]||r[Xo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=bR(t);t!==null;){if(r=t[Xo])return r;t=bR(t)}return e}t=r,r=t.parentNode}return null}function $d(t){return t=t[Xo]||t[Vc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function Pm(t){return t[vv]||null}function fB(t){var e=t[wR];return e===void 0&&(e=t[wR]=new Set),e}var Lb=[],Ou=-1;function Ps(t){return{current:t}}function pr(t){0>Ou||(t.current=Lb[Ou],Lb[Ou]=null,Ou--)}function Lr(t,e){Ou++,Lb[Ou]=t.current,t.current=e}var gs={},ei=Ps(gs),xi=Ps(!1),Al=gs;function _c(t,e){var r=t.type.contextTypes;if(!r)return gs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bi(t){return t=t.childContextTypes,t!=null}function mv(){pr(xi),pr(ei)}function ER(t,e,r){if(ei.current!==gs)throw Error(Le(168));Lr(ei,e),Lr(xi,r)}function hB(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Le(108,Xu(e)||"Unknown",i));return br({},r,n)}function Ap(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gs,Al=ei.current,Lr(ei,t),Lr(xi,xi.current),!0}function SR(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=hB(t,e,Al),n.__reactInternalMemoizedMergedChildContext=t,pr(xi),pr(ei),Lr(ei,t)):pr(xi),Lr(xi,r)}var I2=null,_l=null,MV=An.unstable_runWithPriority,R2=An.unstable_scheduleCallback,Mb=An.unstable_cancelCallback,BV=An.unstable_shouldYield,CR=An.unstable_requestPaint,Bb=An.unstable_now,DV=An.unstable_getCurrentPriorityLevel,Om=An.unstable_ImmediatePriority,dB=An.unstable_UserBlockingPriority,pB=An.unstable_NormalPriority,vB=An.unstable_LowPriority,mB=An.unstable_IdlePriority,$_={},UV=CR!==void 0?CR:function(){},uo=null,Ip=null,V_=!1,TR=Bb(),Zn=1e4>TR?Bb:function(){return Bb()-TR};function yc(){switch(DV()){case Om:return 99;case dB:return 98;case pB:return 97;case vB:return 96;case mB:return 95;default:throw Error(Le(332))}}function gB(t){switch(t){case 99:return Om;case 98:return dB;case 97:return pB;case 96:return vB;case 95:return mB;default:throw Error(Le(332))}}function Il(t,e){return t=gB(t),MV(t,e)}function Yh(t,e,r){return t=gB(t),R2(t,e,r)}function Ka(){if(Ip!==null){var t=Ip;Ip=null,Mb(t)}_B()}function _B(){if(!V_&&uo!==null){V_=!0;var t=0;try{var e=uo;Il(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),uo=null}catch(r){throw uo!==null&&(uo=uo.slice(t+1)),R2(Om,Ka),r}finally{V_=!1}}}var jV=$l.ReactCurrentBatchConfig;function ua(t,e){if(t&&t.defaultProps){e=br({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var gv=Ps(null),_v=null,ku=null,yv=null;function P2(){yv=ku=_v=null}function O2(t){var e=gv.current;pr(gv),t.type._context._currentValue=e}function yB(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Ku(t,e){_v=t,yv=ku=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pa=!0),t.firstContext=null)}function Yi(t,e){if(yv!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(yv=t,e=1073741823),e={context:t,observedBits:e,next:null},ku===null){if(_v===null)throw Error(Le(308));ku=e,_v.dependencies={lanes:0,firstContext:e,responders:null}}else ku=ku.next=e;return t._currentValue}var Mo=!1;function k2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function xB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function AR(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function qh(t,e,r,n){var i=t.updateQueue;Mo=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=t.alternate;if(u!==null){u=u.updateQueue;var f=u.lastBaseUpdate;f!==o&&(f===null?u.firstBaseUpdate=l:f.next=l,u.lastBaseUpdate=c)}}if(a!==null){f=i.baseState,o=0,u=l=c=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,d=a;switch(s=e,h=r,d.tag){case 1:if(p=d.payload,typeof p=="function"){f=p.call(h,f,s);break e}f=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=d.payload,s=typeof p=="function"?p.call(h,f,s):p,s==null)break e;f=br({},f,s);break e;case 2:Mo=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,Gd|=o,t.lanes=o,t.memoizedState=f}}function IR(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var bB=new wm.Component().refs;function xv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:br({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var km={isMounted:function(t){return(t=t._reactInternals)?Vl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ii(),i=ns(t),a=ts(n,i);a.payload=e,r!=null&&(a.callback=r),rs(t,a),is(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ii(),i=ns(t),a=ts(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),rs(t,a),is(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ii(),n=ns(t),i=ts(r,n);i.tag=2,e!=null&&(i.callback=e),rs(t,i),is(t,n,r)}};function RR(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!zh(r,n)||!zh(i,a):!0}function wB(t,e,r){var n=!1,i=gs,a=e.contextType;return typeof a=="object"&&a!==null?a=Yi(a):(i=bi(e)?Al:ei.current,n=e.contextTypes,a=(n=n!=null)?_c(t,i):gs),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=km,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function PR(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&km.enqueueReplaceState(e,e.state,null)}function Db(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=bB,k2(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Yi(a):(a=bi(e)?Al:ei.current,i.context=_c(t,a)),qh(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(xv(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&km.enqueueReplaceState(i,i.state,null),qh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var E0=Array.isArray;function Af(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===bB&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function S0(t,e){if(t.type!=="textarea")throw Error(Le(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function EB(t){function e(_,v){if(t){var g=_.lastEffect;g!==null?(g.nextEffect=v,_.lastEffect=v):_.firstEffect=_.lastEffect=v,v.nextEffect=null,v.flags=8}}function r(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function n(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=ys(_,v),_.index=0,_.sibling=null,_}function a(_,v,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<v?(_.flags=2,v):g):(_.flags=2,v)):v}function o(_){return t&&_.alternate===null&&(_.flags=2),_}function s(_,v,g,y){return v===null||v.tag!==6?(v=W_(g,_.mode,y),v.return=_,v):(v=i(v,g),v.return=_,v)}function c(_,v,g,y){return v!==null&&v.elementType===g.type?(y=i(v,g.props),y.ref=Af(_,v,g),y.return=_,y):(y=kp(g.type,g.key,g.props,null,_.mode,y),y.ref=Af(_,v,g),y.return=_,y)}function l(_,v,g,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=Y_(g,_.mode,y),v.return=_,v):(v=i(v,g.children||[]),v.return=_,v)}function u(_,v,g,y,x){return v===null||v.tag!==7?(v=ec(g,_.mode,y,x),v.return=_,v):(v=i(v,g),v.return=_,v)}function f(_,v,g){if(typeof v=="string"||typeof v=="number")return v=W_(""+v,_.mode,g),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qf:return g=kp(v.type,v.key,v.props,null,_.mode,g),g.ref=Af(_,null,v),g.return=_,g;case il:return v=Y_(v,_.mode,g),v.return=_,v}if(E0(v)||bf(v))return v=ec(v,_.mode,g,null),v.return=_,v;S0(_,v)}return null}function h(_,v,g,y){var x=v!==null?v.key:null;if(typeof g=="string"||typeof g=="number")return x!==null?null:s(_,v,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qf:return g.key===x?g.type===Uo?u(_,v,g.props.children,y,x):c(_,v,g,y):null;case il:return g.key===x?l(_,v,g,y):null}if(E0(g)||bf(g))return x!==null?null:u(_,v,g,y,null);S0(_,g)}return null}function p(_,v,g,y,x){if(typeof y=="string"||typeof y=="number")return _=_.get(g)||null,s(v,_,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qf:return _=_.get(y.key===null?g:y.key)||null,y.type===Uo?u(v,_,y.props.children,x,y.key):c(v,_,y,x);case il:return _=_.get(y.key===null?g:y.key)||null,l(v,_,y,x)}if(E0(y)||bf(y))return _=_.get(g)||null,u(v,_,y,x,null);S0(v,y)}return null}function d(_,v,g,y){for(var x=null,b=null,w=v,E=v=0,S=null;w!==null&&E<g.length;E++){w.index>E?(S=w,w=null):S=w.sibling;var C=h(_,w,g[E],y);if(C===null){w===null&&(w=S);break}t&&w&&C.alternate===null&&e(_,w),v=a(C,v,E),b===null?x=C:b.sibling=C,b=C,w=S}if(E===g.length)return r(_,w),x;if(w===null){for(;E<g.length;E++)w=f(_,g[E],y),w!==null&&(v=a(w,v,E),b===null?x=w:b.sibling=w,b=w);return x}for(w=n(_,w);E<g.length;E++)S=p(w,_,E,g[E],y),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?E:S.key),v=a(S,v,E),b===null?x=S:b.sibling=S,b=S);return t&&w.forEach(function(T){return e(_,T)}),x}function m(_,v,g,y){var x=bf(g);if(typeof x!="function")throw Error(Le(150));if(g=x.call(g),g==null)throw Error(Le(151));for(var b=x=null,w=v,E=v=0,S=null,C=g.next();w!==null&&!C.done;E++,C=g.next()){w.index>E?(S=w,w=null):S=w.sibling;var T=h(_,w,C.value,y);if(T===null){w===null&&(w=S);break}t&&w&&T.alternate===null&&e(_,w),v=a(T,v,E),b===null?x=T:b.sibling=T,b=T,w=S}if(C.done)return r(_,w),x;if(w===null){for(;!C.done;E++,C=g.next())C=f(_,C.value,y),C!==null&&(v=a(C,v,E),b===null?x=C:b.sibling=C,b=C);return x}for(w=n(_,w);!C.done;E++,C=g.next())C=p(w,_,E,C.value,y),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?E:C.key),v=a(C,v,E),b===null?x=C:b.sibling=C,b=C);return t&&w.forEach(function(I){return e(_,I)}),x}return function(_,v,g,y){var x=typeof g=="object"&&g!==null&&g.type===Uo&&g.key===null;x&&(g=g.props.children);var b=typeof g=="object"&&g!==null;if(b)switch(g.$$typeof){case Qf:e:{for(b=g.key,x=v;x!==null;){if(x.key===b){switch(x.tag){case 7:if(g.type===Uo){r(_,x.sibling),v=i(x,g.props.children),v.return=_,_=v;break e}break;default:if(x.elementType===g.type){r(_,x.sibling),v=i(x,g.props),v.ref=Af(_,x,g),v.return=_,_=v;break e}}r(_,x);break}else e(_,x);x=x.sibling}g.type===Uo?(v=ec(g.props.children,_.mode,y,g.key),v.return=_,_=v):(y=kp(g.type,g.key,g.props,null,_.mode,y),y.ref=Af(_,v,g),y.return=_,_=y)}return o(_);case il:e:{for(x=g.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){r(_,v.sibling),v=i(v,g.children||[]),v.return=_,_=v;break e}else{r(_,v);break}else e(_,v);v=v.sibling}v=Y_(g,_.mode,y),v.return=_,_=v}return o(_)}if(typeof g=="string"||typeof g=="number")return g=""+g,v!==null&&v.tag===6?(r(_,v.sibling),v=i(v,g),v.return=_,_=v):(r(_,v),v=W_(g,_.mode,y),v.return=_,_=v),o(_);if(E0(g))return d(_,v,g,y);if(bf(g))return m(_,v,g,y);if(b&&S0(_,g),typeof g>"u"&&!x)switch(_.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Le(152,Xu(_.type)||"Component"))}return r(_,v)}}var bv=EB(!0),SB=EB(!1),Vd={},Ba=Ps(Vd),Kh=Ps(Vd),Zh=Ps(Vd);function sl(t){if(t===Vd)throw Error(Le(174));return t}function Ub(t,e){switch(Lr(Zh,e),Lr(Kh,t),Lr(Ba,Vd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Eb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Eb(e,t)}pr(Ba),Lr(Ba,e)}function xc(){pr(Ba),pr(Kh),pr(Zh)}function OR(t){sl(Zh.current);var e=sl(Ba.current),r=Eb(e,t.type);e!==r&&(Lr(Kh,t),Lr(Ba,r))}function F2(t){Kh.current===t&&(pr(Ba),pr(Kh))}var Nr=Ps(0);function wv(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var po=null,zo=null,Da=!1;function CB(t,e){var r=Gi(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function kR(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function jb(t){if(Da){var e=zo;if(e){var r=e;if(!kR(t,e)){if(e=qu(r.nextSibling),!e||!kR(t,e)){t.flags=t.flags&-1025|2,Da=!1,po=t;return}CB(po,r)}po=t,zo=qu(e.firstChild)}else t.flags=t.flags&-1025|2,Da=!1,po=t}}function FR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;po=t}function C0(t){if(t!==po)return!1;if(!Da)return FR(t),Da=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Nb(e,t.memoizedProps))for(e=zo;e;)CB(t,e),e=qu(e.nextSibling);if(FR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){zo=qu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}zo=null}}else zo=po?qu(t.stateNode.nextSibling):null;return!0}function G_(){zo=po=null,Da=!1}var Zu=[];function N2(){for(var t=0;t<Zu.length;t++)Zu[t]._workInProgressVersionPrimary=null;Zu.length=0}var _h=$l.ReactCurrentDispatcher,Wi=$l.ReactCurrentBatchConfig,Jh=0,Yr=null,Kn=null,Ln=null,Ev=!1,yh=!1;function pi(){throw Error(Le(321))}function L2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Vi(t[r],e[r]))return!1;return!0}function M2(t,e,r,n,i,a){if(Jh=a,Yr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_h.current=t===null||t.memoizedState===null?VV:GV,t=r(n,i),yh){a=0;do{if(yh=!1,!(25>a))throw Error(Le(301));a+=1,Ln=Kn=null,e.updateQueue=null,_h.current=HV,t=r(n,i)}while(yh)}if(_h.current=Av,e=Kn!==null&&Kn.next!==null,Jh=0,Ln=Kn=Yr=null,Ev=!1,e)throw Error(Le(300));return t}function ll(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Yr.memoizedState=Ln=t:Ln=Ln.next=t,Ln}function Gl(){if(Kn===null){var t=Yr.alternate;t=t!==null?t.memoizedState:null}else t=Kn.next;var e=Ln===null?Yr.memoizedState:Ln.next;if(e!==null)Ln=e,Kn=t;else{if(t===null)throw Error(Le(310));Kn=t,t={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},Ln===null?Yr.memoizedState=Ln=t:Ln=Ln.next=t}return Ln}function Na(t,e){return typeof e=="function"?e(t):e}function If(t){var e=Gl(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=Kn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,c=i;do{var l=c.lane;if((Jh&l)===l)s!==null&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var u={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};s===null?(o=s=u,a=n):s=s.next=u,Yr.lanes|=l,Gd|=l}c=c.next}while(c!==null&&c!==i);s===null?a=n:s.next=o,Vi(n,e.memoizedState)||(pa=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Rf(t){var e=Gl(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Vi(a,e.memoizedState)||(pa=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function NR(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Jh&t)===t)&&(e._workInProgressVersionPrimary=n,Zu.push(e))),t)return r(e._source);throw Zu.push(e),Error(Le(350))}function TB(t,e,r,n){var i=li;if(i===null)throw Error(Le(349));var a=e._getVersion,o=a(e._source),s=_h.current,c=s.useState(function(){return NR(i,e,r)}),l=c[1],u=c[0];c=Ln;var f=t.memoizedState,h=f.refs,p=h.getSnapshot,d=f.source;f=f.subscribe;var m=Yr;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var _=a(e._source);if(!Vi(o,_)){_=r(e._source),Vi(u,_)||(l(_),_=ns(m),i.mutableReadLanes|=_&i.pendingLanes),_=i.mutableReadLanes,i.entangledLanes|=_;for(var v=i.entanglements,g=_;0<g;){var y=31-ms(g),x=1<<y;v[y]|=_,g&=~x}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var _=h.getSnapshot,v=h.setSnapshot;try{v(_(e._source));var g=ns(m);i.mutableReadLanes|=g&i.pendingLanes}catch(y){v(function(){throw y})}})},[e,n]),Vi(p,r)&&Vi(d,e)&&Vi(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:Na,lastRenderedState:u},t.dispatch=l=U2.bind(null,Yr,t),c.queue=t,c.baseQueue=null,u=NR(i,e,r),c.memoizedState=c.baseState=u),u}function AB(t,e,r){var n=Gl();return TB(n,t,e,r)}function Pf(t){var e=ll();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Na,lastRenderedState:t},t=t.dispatch=U2.bind(null,Yr,t),[e.memoizedState,t]}function Sv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Yr.updateQueue,e===null?(e={lastEffect:null},Yr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function LR(t){var e=ll();return t={current:t},e.memoizedState=t}function Cv(){return Gl().memoizedState}function $b(t,e,r,n){var i=ll();Yr.flags|=t,i.memoizedState=Sv(1|e,r,void 0,n===void 0?null:n)}function B2(t,e,r,n){var i=Gl();n=n===void 0?null:n;var a=void 0;if(Kn!==null){var o=Kn.memoizedState;if(a=o.destroy,n!==null&&L2(n,o.deps)){Sv(e,r,a,n);return}}Yr.flags|=t,i.memoizedState=Sv(1|e,r,a,n)}function MR(t,e){return $b(516,4,t,e)}function Tv(t,e){return B2(516,4,t,e)}function IB(t,e){return B2(4,2,t,e)}function RB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PB(t,e,r){return r=r!=null?r.concat([t]):null,B2(4,2,RB.bind(null,e,t),r)}function D2(){}function OB(t,e){var r=Gl();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&L2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function kB(t,e){var r=Gl();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&L2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function $V(t,e){var r=yc();Il(98>r?98:r,function(){t(!0)}),Il(97<r?97:r,function(){var n=Wi.transition;Wi.transition=1;try{t(!1),e()}finally{Wi.transition=n}})}function U2(t,e,r){var n=Ii(),i=ns(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===Yr||o!==null&&o===Yr)yh=Ev=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,c=o(s,r);if(a.eagerReducer=o,a.eagerState=c,Vi(c,s))return}catch{}finally{}is(t,i,n)}}var Av={readContext:Yi,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useOpaqueIdentifier:pi,unstable_isNewReconciler:!1},VV={readContext:Yi,useCallback:function(t,e){return ll().memoizedState=[t,e===void 0?null:e],t},useContext:Yi,useEffect:MR,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$b(4,2,RB.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $b(4,2,t,e)},useMemo:function(t,e){var r=ll();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ll();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=U2.bind(null,Yr,t),[n.memoizedState,t]},useRef:LR,useState:Pf,useDebugValue:D2,useDeferredValue:function(t){var e=Pf(t),r=e[0],n=e[1];return MR(function(){var i=Wi.transition;Wi.transition=1;try{n(t)}finally{Wi.transition=i}},[t]),r},useTransition:function(){var t=Pf(!1),e=t[0];return t=$V.bind(null,t[1]),LR(t),[t,e]},useMutableSource:function(t,e,r){var n=ll();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},TB(n,t,e,r)},useOpaqueIdentifier:function(){if(Da){var t=!1,e=LV(function(){throw t||(t=!0,r("r:"+(j_++).toString(36))),Error(Le(355))}),r=Pf(e)[1];return!(Yr.mode&2)&&(Yr.flags|=516,Sv(5,function(){r("r:"+(j_++).toString(36))},void 0,null)),e}return e="r:"+(j_++).toString(36),Pf(e),e},unstable_isNewReconciler:!1},GV={readContext:Yi,useCallback:OB,useContext:Yi,useEffect:Tv,useImperativeHandle:PB,useLayoutEffect:IB,useMemo:kB,useReducer:If,useRef:Cv,useState:function(){return If(Na)},useDebugValue:D2,useDeferredValue:function(t){var e=If(Na),r=e[0],n=e[1];return Tv(function(){var i=Wi.transition;Wi.transition=1;try{n(t)}finally{Wi.transition=i}},[t]),r},useTransition:function(){var t=If(Na)[0];return[Cv().current,t]},useMutableSource:AB,useOpaqueIdentifier:function(){return If(Na)[0]},unstable_isNewReconciler:!1},HV={readContext:Yi,useCallback:OB,useContext:Yi,useEffect:Tv,useImperativeHandle:PB,useLayoutEffect:IB,useMemo:kB,useReducer:Rf,useRef:Cv,useState:function(){return Rf(Na)},useDebugValue:D2,useDeferredValue:function(t){var e=Rf(Na),r=e[0],n=e[1];return Tv(function(){var i=Wi.transition;Wi.transition=1;try{n(t)}finally{Wi.transition=i}},[t]),r},useTransition:function(){var t=Rf(Na)[0];return[Cv().current,t]},useMutableSource:AB,useOpaqueIdentifier:function(){return Rf(Na)[0]},unstable_isNewReconciler:!1},XV=$l.ReactCurrentOwner,pa=!1;function vi(t,e,r,n){e.child=t===null?SB(e,null,r,n):bv(e,t.child,r,n)}function BR(t,e,r,n,i){r=r.render;var a=e.ref;return Ku(e,i),n=M2(t,e,r,n,a,i),t!==null&&!pa?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,vo(t,e,i)):(e.flags|=1,vi(t,e,n,i),e.child)}function DR(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!X2(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,FB(t,e,o,n,i,a)):(t=kp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:zh,r(i,n)&&t.ref===e.ref)?vo(t,e,a):(e.flags|=1,t=ys(o,n),t.ref=e.ref,t.return=e,e.child=t)}function FB(t,e,r,n,i,a){if(t!==null&&zh(t.memoizedProps,n)&&t.ref===e.ref)if(pa=!1,(a&i)!==0)t.flags&16384&&(pa=!0);else return e.lanes=t.lanes,vo(t,e,a);return Vb(t,e,r,n,a)}function H_(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},A0(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},A0(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},A0(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,A0(e,n);return vi(t,e,i,r),e.child}function NB(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function Vb(t,e,r,n,i){var a=bi(r)?Al:ei.current;return a=_c(e,a),Ku(e,i),r=M2(t,e,r,n,a,i),t!==null&&!pa?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,vo(t,e,i)):(e.flags|=1,vi(t,e,r,i),e.child)}function UR(t,e,r,n,i){if(bi(r)){var a=!0;Ap(e)}else a=!1;if(Ku(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),wB(e,r,n),Db(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Yi(l):(l=bi(r)?Al:ei.current,l=_c(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==l)&&PR(e,o,n,l),Mo=!1;var h=e.memoizedState;o.state=h,qh(e,n,o,i),c=e.memoizedState,s!==n||h!==c||xi.current||Mo?(typeof u=="function"&&(xv(e,r,u,n),c=e.memoizedState),(s=Mo||RR(e,r,s,n,h,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,xB(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:ua(e.type,s),o.props=l,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Yi(c):(c=bi(r)?Al:ei.current,c=_c(e,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&PR(e,o,n,c),Mo=!1,h=e.memoizedState,o.state=h,qh(e,n,o,i);var d=e.memoizedState;s!==f||h!==d||xi.current||Mo?(typeof p=="function"&&(xv(e,r,p,n),d=e.memoizedState),(l=Mo||RR(e,r,l,n,h,d,c))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,d,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,d,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return Gb(t,e,r,n,a,i)}function Gb(t,e,r,n,i,a){NB(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&SR(e,r,!1),vo(t,e,a);n=e.stateNode,XV.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=bv(e,t.child,null,a),e.child=bv(e,null,s,a)):vi(t,e,s,a),e.memoizedState=n.state,i&&SR(e,r,!0),e.child}function jR(t){var e=t.stateNode;e.pendingContext?ER(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ER(t,e.context,!1),Ub(t,e.containerInfo)}var T0={dehydrated:null,retryLane:0};function $R(t,e,r){var n=e.pendingProps,i=Nr.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Lr(Nr,i&1),t===null?(n.fallback!==void 0&&jb(e),t=n.children,i=n.fallback,a?(t=VR(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=T0,t):typeof n.unstable_expectedLoadTime=="number"?(t=VR(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=T0,e.lanes=33554432,t):(r=z2({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=HR(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=T0,n):(r=GR(t,e,n.children,r),e.memoizedState=null,r):a?(n=HR(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=T0,n):(r=GR(t,e,n.children,r),e.memoizedState=null,r)}function VR(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=z2(e,i,0,null),r=ec(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function GR(t,e,r,n){var i=t.child;return t=i.sibling,r=ys(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function HR(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=ys(o,s),t!==null?n=ys(t,n):(n=ec(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function XR(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yB(t.return,e)}function X_(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function zR(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(vi(t,e,n.children,r),n=Nr.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XR(t,r);else if(t.tag===19)XR(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Lr(Nr,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&wv(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),X_(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wv(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}X_(e,!0,r,null,a,e.lastEffect);break;case"together":X_(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function vo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Gd|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=ys(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ys(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var LB,Hb,MB,BB;LB=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hb=function(){};MB=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,sl(Ba.current);var a=null;switch(r){case"input":i=gb(t,i),n=gb(t,n),a=[];break;case"option":i=xb(t,i),n=xb(t,n),a=[];break;case"select":i=br({},i,{value:void 0}),n=br({},n,{value:void 0}),a=[];break;case"textarea":i=bb(t,i),n=bb(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=pv)}Sb(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Uh.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(c!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Uh.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&fr("scroll",t),a||s===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===h2?c.toString():(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};BB=function(t,e,r,n){r!==n&&(e.flags|=4)};function Of(t,e){if(!Da)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zV(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return bi(e.type)&&mv(),null;case 3:return xc(),pr(xi),pr(ei),N2(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(C0(e)?e.flags|=4:n.hydrate||(e.flags|=256)),Hb(e),null;case 5:F2(e);var i=sl(Zh.current);if(r=e.type,t!==null&&e.stateNode!=null)MB(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return null}if(t=sl(Ba.current),C0(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Xo]=e,n[vv]=a,r){case"dialog":fr("cancel",n),fr("close",n);break;case"iframe":case"object":case"embed":fr("load",n);break;case"video":case"audio":for(t=0;t<th.length;t++)fr(th[t],n);break;case"source":fr("error",n);break;case"img":case"image":case"link":fr("error",n),fr("load",n);break;case"details":fr("toggle",n);break;case"input":zI(n,a),fr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},fr("invalid",n);break;case"textarea":YI(n,a),fr("invalid",n)}Sb(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Uh.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&fr("scroll",n));switch(r){case"input":y0(n),WI(n,a,!0);break;case"textarea":y0(n),qI(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=pv)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===wb.html&&(t=PM(r)),t===wb.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Xo]=e,t[vv]=n,LB(t,e,!1,!1),e.stateNode=t,o=Cb(r,n),r){case"dialog":fr("cancel",t),fr("close",t),i=n;break;case"iframe":case"object":case"embed":fr("load",t),i=n;break;case"video":case"audio":for(i=0;i<th.length;i++)fr(th[i],t);i=n;break;case"source":fr("error",t),i=n;break;case"img":case"image":case"link":fr("error",t),fr("load",t),i=n;break;case"details":fr("toggle",t),i=n;break;case"input":zI(t,n),i=gb(t,n),fr("invalid",t);break;case"option":i=xb(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=br({},n,{value:void 0}),fr("invalid",t);break;case"textarea":YI(t,n),i=bb(t,n),fr("invalid",t);break;default:i=n}Sb(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?FM(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OM(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jh(t,c):typeof c=="number"&&jh(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Uh.hasOwnProperty(a)?c!=null&&a==="onScroll"&&fr("scroll",t):c!=null&&o2(t,a,c,o))}switch(r){case"input":y0(t),WI(t,n,!1);break;case"textarea":y0(t),qI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+vs(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?zu(t,!!n.multiple,a,!1):n.defaultValue!=null&&zu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pv)}cB(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)BB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));r=sl(Zh.current),sl(Ba.current),C0(e)?(n=e.stateNode,r=e.memoizedProps,n[Xo]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xo]=e,e.stateNode=n)}return null;case 13:return pr(Nr),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&C0(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Nr.current&1?Un===0&&(Un=3):((Un===0||Un===3)&&(Un=4),li===null||!(Gd&134217727)&&!(Hc&134217727)||Ju(li,Jn))),(n||r)&&(e.flags|=4),null);case 4:return xc(),Hb(e),t===null&&sB(e.stateNode.containerInfo),null;case 10:return O2(e),null;case 17:return bi(e.type)&&mv(),null;case 19:if(pr(Nr),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)Of(n,!1);else{if(Un!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=wv(t),o!==null){for(e.flags|=64,Of(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Lr(Nr,Nr.current&1|2),e.child}t=t.sibling}n.tail!==null&&Zn()>Kb&&(e.flags|=64,a=!0,Of(n,!1),e.lanes=33554432)}else{if(!a)if(t=wv(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Of(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!Da)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Zn()-n.renderingStartTime>Kb&&r!==1073741824&&(e.flags|=64,a=!0,Of(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Zn(),r.sibling=null,e=Nr.current,Lr(Nr,a?e&1|2:e&1),r):null;case 23:case 24:return H2(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Le(156,e.tag))}function WV(t){switch(t.tag){case 1:bi(t.type)&&mv();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(xc(),pr(xi),pr(ei),N2(),e=t.flags,e&64)throw Error(Le(285));return t.flags=e&-4097|64,t;case 5:return F2(t),null;case 13:return pr(Nr),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return pr(Nr),null;case 4:return xc(),null;case 10:return O2(t),null;case 23:case 24:return H2(),null;default:return null}}function j2(t,e){try{var r="",n=e;do r+=A7(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function Xb(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var YV=typeof WeakMap=="function"?WeakMap:Map;function DB(t,e,r){r=ts(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Rv||(Rv=!0,Zb=n),Xb(t,e)},r}function UB(t,e,r){r=ts(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return Xb(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(La===null?La=new Set([this]):La.add(this),Xb(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var qV=typeof WeakSet=="function"?WeakSet:Set;function WR(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){as(t,r)}else e.current=null}function KV(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:ua(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&A2(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Le(163))}function ZV(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(YB(r,t),aG(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:ua(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&IR(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}IR(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&cB(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&GM(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Le(163))}function YR(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=kM("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function qR(t,e){if(_l&&typeof _l.onCommitFiberUnmount=="function")try{_l.onCommitFiberUnmount(I2,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)YB(e,r);else{n=e;try{i()}catch(a){as(n,a)}}r=r.next}while(r!==t)}break;case 1:if(WR(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){as(e,a)}break;case 5:WR(e);break;case 4:jB(t,e)}}function KR(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ZR(t){return t.tag===5||t.tag===3||t.tag===4}function JR(t){e:{for(var e=t.return;e!==null;){if(ZR(e))break e;e=e.return}throw Error(Le(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Le(161))}r.flags&16&&(jh(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||ZR(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?zb(t,r,e):Wb(t,r,e)}function zb(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=pv));else if(n!==4&&(t=t.child,t!==null))for(zb(t,e,r),t=t.sibling;t!==null;)zb(t,e,r),t=t.sibling}function Wb(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Wb(t,e,r),t=t.sibling;t!==null;)Wb(t,e,r),t=t.sibling}function jB(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Le(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,c=s;;)if(qR(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(qR(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function z_(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[vv]=n,t==="input"&&n.type==="radio"&&n.name!=null&&IM(r,n),Cb(t,i),e=Cb(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?FM(r,s):o==="dangerouslySetInnerHTML"?OM(r,s):o==="children"?jh(r,s):o2(r,o,s,e)}switch(t){case"input":_b(r,n);break;case"textarea":RM(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?zu(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?zu(r,!!n.multiple,n.defaultValue,!0):zu(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Le(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,GM(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(G2=Zn(),YR(e.child,!0)),QR(e);return;case 19:QR(e);return;case 17:return;case 23:case 24:YR(e,e.memoizedState!==null);return}throw Error(Le(163))}function QR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new qV),e.forEach(function(n){var i=lG.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function JV(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var QV=Math.ceil,Iv=$l.ReactCurrentDispatcher,$2=$l.ReactCurrentOwner,ht=0,li=null,dn=null,Jn=0,Rl=0,Yb=Ps(0),Un=0,Fm=null,Gc=0,Gd=0,Hc=0,V2=0,qb=null,G2=0,Kb=1/0;function Xc(){Kb=Zn()+500}var Ye=null,Rv=!1,Zb=null,La=null,_s=!1,xh=null,rh=90,Jb=[],Qb=[],_o=null,bh=0,ew=null,Rp=-1,fo=0,Pp=0,wh=null,Op=!1;function Ii(){return ht&48?Zn():Rp!==-1?Rp:Rp=Zn()}function ns(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return yc()===99?1:2;if(fo===0&&(fo=Gc),jV.transition!==0){Pp!==0&&(Pp=qb!==null?qb.pendingLanes:0),t=fo;var e=4186112&~Pp;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=yc(),ht&4&&t===98?t=hv(12,fo):(t=G7(t),t=hv(t,fo)),t}function is(t,e,r){if(50<bh)throw bh=0,ew=null,Error(Le(185));if(t=Nm(t,e),t===null)return null;Tm(t,e,r),t===li&&(Hc|=e,Un===4&&Ju(t,Jn));var n=yc();e===1?ht&8&&!(ht&48)?tw(t):(qi(t,r),ht===0&&(Xc(),Ka())):(!(ht&4)||n!==98&&n!==99||(_o===null?_o=new Set([t]):_o.add(t)),qi(t,r)),qb=t}function Nm(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function qi(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ms(o),c=1<<s,l=a[s];if(l===-1){if(!(c&n)||c&i){l=e,Eu(c);var u=lr;a[s]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);o&=~c}if(n=Hh(t,t===li?Jn:0),e=lr,n===0)r!==null&&(r!==$_&&Mb(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==$_&&Mb(r)}e===15?(r=tw.bind(null,t),uo===null?(uo=[r],Ip=R2(Om,_B)):uo.push(r),r=$_):e===14?r=Yh(99,tw.bind(null,t)):(r=H7(e),r=Yh(r,$B.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function $B(t){if(Rp=-1,Pp=fo=0,ht&48)throw Error(Le(327));var e=t.callbackNode;if(Os()&&t.callbackNode!==e)return null;var r=Hh(t,t===li?Jn:0);if(r===0)return null;var n=r,i=ht;ht|=16;var a=XB();(li!==t||Jn!==n)&&(Xc(),Qu(t,n));do try{rG();break}catch(s){HB(t,s)}while(1);if(P2(),Iv.current=a,ht=i,dn!==null?n=0:(li=null,Jn=0,n=Un),Gc&Hc)Qu(t,0);else if(n!==0){if(n===2&&(ht|=64,t.hydrate&&(t.hydrate=!1,A2(t.containerInfo)),r=KM(t),r!==0&&(n=nh(t,r))),n===1)throw e=Fm,Qu(t,0),Ju(t,r),qi(t,Zn()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(Le(345));case 2:Ys(t);break;case 3:if(Ju(t,r),(r&62914560)===r&&(n=G2+500-Zn(),10<n)){if(Hh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ii(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xR(Ys.bind(null,t),n);break}Ys(t);break;case 4:if(Ju(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-ms(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=Zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QV(r/1960))-r,10<r){t.timeoutHandle=xR(Ys.bind(null,t),r);break}Ys(t);break;case 5:Ys(t);break;default:throw Error(Le(329))}}return qi(t,Zn()),t.callbackNode===e?$B.bind(null,t):null}function Ju(t,e){for(e&=~V2,e&=~Hc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ms(e),n=1<<r;t[r]=-1,e&=~n}}function tw(t){if(ht&48)throw Error(Le(327));if(Os(),t===li&&t.expiredLanes&Jn){var e=Jn,r=nh(t,e);Gc&Hc&&(e=Hh(t,e),r=nh(t,e))}else e=Hh(t,0),r=nh(t,e);if(t.tag!==0&&r===2&&(ht|=64,t.hydrate&&(t.hydrate=!1,A2(t.containerInfo)),e=KM(t),e!==0&&(r=nh(t,e))),r===1)throw r=Fm,Qu(t,0),Ju(t,e),qi(t,Zn()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ys(t),qi(t,Zn()),null}function eG(){if(_o!==null){var t=_o;_o=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,qi(e,Zn())})}Ka()}function VB(t,e){var r=ht;ht|=1;try{return t(e)}finally{ht=r,ht===0&&(Xc(),Ka())}}function GB(t,e){var r=ht;ht&=-2,ht|=8;try{return t(e)}finally{ht=r,ht===0&&(Xc(),Ka())}}function A0(t,e){Lr(Yb,Rl),Rl|=e,Gc|=e}function H2(){Rl=Yb.current,pr(Yb)}function Qu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,NV(r)),dn!==null)for(r=dn.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&mv();break;case 3:xc(),pr(xi),pr(ei),N2();break;case 5:F2(n);break;case 4:xc();break;case 13:pr(Nr);break;case 19:pr(Nr);break;case 10:O2(n);break;case 23:case 24:H2()}r=r.return}li=t,dn=ys(t.current,null),Jn=Rl=Gc=e,Un=0,Fm=null,V2=Hc=Gd=0}function HB(t,e){do{var r=dn;try{if(P2(),_h.current=Av,Ev){for(var n=Yr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ev=!1}if(Jh=0,Ln=Kn=Yr=null,yh=!1,$2.current=null,r===null||r.return===null){Un=1,Fm=e,dn=null;break}e:{var a=t,o=r.return,s=r,c=e;if(e=Jn,s.flags|=2048,s.firstEffect=s.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(Nr.current&1)!==0,h=o;do{var p;if(p=h.tag===13){var d=h.memoizedState;if(d!==null)p=d.dehydrated!==null;else{var m=h.memoizedProps;p=m.fallback===void 0?!1:m.unstable_avoidThisFallback!==!0?!0:!f}}if(p){var _=h.updateQueue;if(_===null){var v=new Set;v.add(l),h.updateQueue=v}else _.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var g=ts(-1,1);g.tag=2,rs(s,g)}s.lanes|=1;break e}c=void 0,s=e;var y=a.pingCache;if(y===null?(y=a.pingCache=new YV,c=new Set,y.set(l,c)):(c=y.get(l),c===void 0&&(c=new Set,y.set(l,c))),!c.has(s)){c.add(s);var x=sG.bind(null,a,l,s);l.then(x,x)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);c=Error((Xu(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Un!==5&&(Un=2),c=j2(c,s),h=o;do{switch(h.tag){case 3:a=c,h.flags|=4096,e&=-e,h.lanes|=e;var b=DB(h,a,e);AR(h,b);break e;case 1:a=c;var w=h.type,E=h.stateNode;if(!(h.flags&64)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(La===null||!La.has(E)))){h.flags|=4096,e&=-e,h.lanes|=e;var S=UB(h,a,e);AR(h,S);break e}}h=h.return}while(h!==null)}WB(r)}catch(C){e=C,dn===r&&r!==null&&(dn=r=r.return);continue}break}while(1)}function XB(){var t=Iv.current;return Iv.current=Av,t===null?Av:t}function nh(t,e){var r=ht;ht|=16;var n=XB();li===t&&Jn===e||Qu(t,e);do try{tG();break}catch(i){HB(t,i)}while(1);if(P2(),ht=r,Iv.current=n,dn!==null)throw Error(Le(261));return li=null,Jn=0,Un}function tG(){for(;dn!==null;)zB(dn)}function rG(){for(;dn!==null&&!BV();)zB(dn)}function zB(t){var e=qB(t.alternate,t,Rl);t.memoizedProps=t.pendingProps,e===null?WB(t):dn=e,$2.current=null}function WB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=WV(e),r!==null){r.flags&=2047,dn=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=zV(r,e,Rl),r!==null){dn=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||Rl&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);Un===0&&(Un=5)}function Ys(t){var e=yc();return Il(99,nG.bind(null,t,e)),null}function nG(t,e){do Os();while(xh!==null);if(ht&48)throw Error(Le(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var c=31-ms(a),l=1<<c;i[c]=0,o[c]=-1,s[c]=-1,a&=~l}if(_o!==null&&!(n&24)&&_o.has(t)&&_o.delete(t),t===li&&(dn=li=null,Jn=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=ht,ht|=32,$2.current=null,D_=Sp,o=dR(),Ob(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var u=0,f=-1,h=-1,p=0,d=0,m=o,_=null;t:for(;;){for(var v;m!==s||a!==0&&m.nodeType!==3||(f=u+a),m!==c||l!==0&&m.nodeType!==3||(h=u+l),m.nodeType===3&&(u+=m.nodeValue.length),(v=m.firstChild)!==null;)_=m,m=v;for(;;){if(m===o)break t;if(_===s&&++p===a&&(f=u),_===c&&++d===l&&(h=u),(v=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=v}s=f===-1||h===-1?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;U_={focusedElem:o,selectionRange:s},Sp=!1,wh=null,Op=!1,Ye=n;do try{iG()}catch(C){if(Ye===null)throw Error(Le(330));as(Ye,C),Ye=Ye.nextEffect}while(Ye!==null);wh=null,Ye=n;do try{for(o=t;Ye!==null;){var g=Ye.flags;if(g&16&&jh(Ye.stateNode,""),g&128){var y=Ye.alternate;if(y!==null){var x=y.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(g&1038){case 2:JR(Ye),Ye.flags&=-3;break;case 6:JR(Ye),Ye.flags&=-3,z_(Ye.alternate,Ye);break;case 1024:Ye.flags&=-1025;break;case 1028:Ye.flags&=-1025,z_(Ye.alternate,Ye);break;case 4:z_(Ye.alternate,Ye);break;case 8:s=Ye,jB(o,s);var b=s.alternate;KR(s),b!==null&&KR(b)}Ye=Ye.nextEffect}}catch(C){if(Ye===null)throw Error(Le(330));as(Ye,C),Ye=Ye.nextEffect}while(Ye!==null);if(x=U_,y=dR(),g=x.focusedElem,o=x.selectionRange,y!==g&&g&&g.ownerDocument&&iB(g.ownerDocument.documentElement,g)){for(o!==null&&Ob(g)&&(y=o.start,x=o.end,x===void 0&&(x=y),"selectionStart"in g?(g.selectionStart=y,g.selectionEnd=Math.min(x,g.value.length)):(x=(y=g.ownerDocument||document)&&y.defaultView||window,x.getSelection&&(x=x.getSelection(),s=g.textContent.length,b=Math.min(o.start,s),o=o.end===void 0?b:Math.min(o.end,s),!x.extend&&b>o&&(s=o,o=b,b=s),s=hR(g,b),a=hR(g,o),s&&a&&(x.rangeCount!==1||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==a.node||x.focusOffset!==a.offset)&&(y=y.createRange(),y.setStart(s.node,s.offset),x.removeAllRanges(),b>o?(x.addRange(y),x.extend(a.node,a.offset)):(y.setEnd(a.node,a.offset),x.addRange(y)))))),y=[],x=g;x=x.parentNode;)x.nodeType===1&&y.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<y.length;g++)x=y[g],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}Sp=!!D_,U_=D_=null,t.current=r,Ye=n;do try{for(g=t;Ye!==null;){var w=Ye.flags;if(w&36&&ZV(g,Ye.alternate,Ye),w&128){y=void 0;var E=Ye.ref;if(E!==null){var S=Ye.stateNode;switch(Ye.tag){case 5:y=S;break;default:y=S}typeof E=="function"?E(y):E.current=y}}Ye=Ye.nextEffect}}catch(C){if(Ye===null)throw Error(Le(330));as(Ye,C),Ye=Ye.nextEffect}while(Ye!==null);Ye=null,UV(),ht=i}else t.current=r;if(_s)_s=!1,xh=t,rh=e;else for(Ye=n;Ye!==null;)e=Ye.nextEffect,Ye.nextEffect=null,Ye.flags&8&&(w=Ye,w.sibling=null,w.stateNode=null),Ye=e;if(n=t.pendingLanes,n===0&&(La=null),n===1?t===ew?bh++:(bh=0,ew=t):bh=0,r=r.stateNode,_l&&typeof _l.onCommitFiberRoot=="function")try{_l.onCommitFiberRoot(I2,r,void 0,(r.current.flags&64)===64)}catch{}if(qi(t,Zn()),Rv)throw Rv=!1,t=Zb,Zb=null,t;return ht&8||Ka(),null}function iG(){for(;Ye!==null;){var t=Ye.alternate;Op||wh===null||(Ye.flags&8?JI(Ye,wh)&&(Op=!0):Ye.tag===13&&JV(t,Ye)&&JI(Ye,wh)&&(Op=!0));var e=Ye.flags;e&256&&KV(t,Ye),!(e&512)||_s||(_s=!0,Yh(97,function(){return Os(),null})),Ye=Ye.nextEffect}}function Os(){if(rh!==90){var t=97<rh?97:rh;return rh=90,Il(t,oG)}return!1}function aG(t,e){Jb.push(e,t),_s||(_s=!0,Yh(97,function(){return Os(),null}))}function YB(t,e){Qb.push(e,t),_s||(_s=!0,Yh(97,function(){return Os(),null}))}function oG(){if(xh===null)return!1;var t=xh;if(xh=null,ht&48)throw Error(Le(331));var e=ht;ht|=32;var r=Qb;Qb=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(a===null)throw Error(Le(330));as(a,c)}}for(r=Jb,Jb=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(c){if(a===null)throw Error(Le(330));as(a,c)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return ht=e,Ka(),!0}function eP(t,e,r){e=j2(r,e),e=DB(t,e,1),rs(t,e),e=Ii(),t=Nm(t,1),t!==null&&(Tm(t,1,e),qi(t,e))}function as(t,e){if(t.tag===3)eP(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){eP(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(La===null||!La.has(n))){t=j2(e,t);var i=UB(r,t,1);if(rs(r,i),i=Ii(),r=Nm(r,1),r!==null)Tm(r,1,i),qi(r,i);else if(typeof n.componentDidCatch=="function"&&(La===null||!La.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function sG(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ii(),t.pingedLanes|=t.suspendedLanes&r,li===t&&(Jn&r)===r&&(Un===4||Un===3&&(Jn&62914560)===Jn&&500>Zn()-G2?Qu(t,0):V2|=r),qi(t,e)}function lG(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(fo===0&&(fo=Gc),e=Su(62914560&~fo),e===0&&(e=4194304)):e=yc()===99?1:2:e=1),r=Ii(),t=Nm(t,e),t!==null&&(Tm(t,e,r),qi(t,r))}var qB;qB=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||xi.current)pa=!0;else if(r&n)pa=!!(t.flags&16384);else{switch(pa=!1,e.tag){case 3:jR(e),G_();break;case 5:OR(e);break;case 1:bi(e.type)&&Ap(e);break;case 4:Ub(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;Lr(gv,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?$R(t,e,r):(Lr(Nr,Nr.current&1),e=vo(t,e,r),e!==null?e.sibling:null);Lr(Nr,Nr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return zR(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lr(Nr,Nr.current),n)break;return null;case 23:case 24:return e.lanes=0,H_(t,e,r)}return vo(t,e,r)}else pa=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=_c(e,ei.current),Ku(e,r),i=M2(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,bi(n)){var a=!0;Ap(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k2(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&xv(e,n,o,t),i.updater=km,e.stateNode=i,i._reactInternals=e,Db(e,n,t,r),e=Gb(null,e,n,!0,a,r)}else e.tag=0,vi(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=cG(i),t=ua(i,t),a){case 0:e=Vb(null,e,i,t,r);break e;case 1:e=UR(null,e,i,t,r);break e;case 11:e=BR(null,e,i,t,r);break e;case 14:e=DR(null,e,i,ua(i.type,t),n,r);break e}throw Error(Le(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),Vb(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),UR(t,e,n,i,r);case 3:if(jR(e),n=e.updateQueue,t===null||n===null)throw Error(Le(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,xB(t,e),qh(e,n,null,r),n=e.memoizedState.element,n===i)G_(),e=vo(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(zo=qu(e.stateNode.containerInfo.firstChild),po=e,a=Da=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],Zu.push(a);for(r=SB(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else vi(t,e,n,r),G_();e=e.child}return e;case 5:return OR(e),t===null&&jb(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Nb(n,i)?o=null:a!==null&&Nb(n,a)&&(e.flags|=16),NB(t,e),vi(t,e,o,r),e.child;case 6:return t===null&&jb(e),null;case 13:return $R(t,e,r);case 4:return Ub(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=bv(e,null,n,r):vi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),BR(t,e,n,i,r);case 7:return vi(t,e,e.pendingProps,r),e.child;case 8:return vi(t,e,e.pendingProps.children,r),e.child;case 12:return vi(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(Lr(gv,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=Vi(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!xi.current){e=vo(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=ts(-1,r&-r),l.tag=2,rs(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),yB(s.return,r),c.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,Ku(e,r),i=Yi(i,a.unstable_observedBits),n=n(i),e.flags|=1,vi(t,e,n,r),e.child;case 14:return i=e.type,a=ua(i,e.pendingProps),a=ua(i.type,a),DR(t,e,i,a,n,r);case 15:return FB(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,bi(n)?(t=!0,Ap(e)):t=!1,Ku(e,r),wB(e,n,i),Db(e,n,i,r),Gb(null,e,n,!0,t,r);case 19:return zR(t,e,r);case 23:return H_(t,e,r);case 24:return H_(t,e,r)}throw Error(Le(156,e.tag))};function uG(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(t,e,r,n){return new uG(t,e,r,n)}function X2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cG(t){if(typeof t=="function")return X2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Em)return 11;if(t===Sm)return 14}return 2}function ys(t,e){var r=t.alternate;return r===null?(r=Gi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function kp(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")X2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Uo:return ec(r.children,i,a,e);case CM:o=8,i|=16;break;case s2:o=8,i|=1;break;case fh:return t=Gi(12,r,e,i|8),t.elementType=fh,t.type=fh,t.lanes=a,t;case hh:return t=Gi(13,r,e,i),t.type=hh,t.elementType=hh,t.lanes=a,t;case lv:return t=Gi(19,r,e,i),t.elementType=lv,t.lanes=a,t;case d2:return z2(r,i,a,e);case mb:return t=Gi(24,r,e,i),t.elementType=mb,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l2:o=10;break e;case u2:o=9;break e;case Em:o=11;break e;case Sm:o=14;break e;case c2:o=16,n=null;break e;case f2:o=22;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=Gi(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function ec(t,e,r,n){return t=Gi(7,t,n,e),t.lanes=r,t}function z2(t,e,r,n){return t=Gi(23,t,n,e),t.elementType=d2,t.lanes=r,t}function W_(t,e,r){return t=Gi(6,t,null,e),t.lanes=r,t}function Y_(t,e,r){return e=Gi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fG(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=O_(0),this.expirationTimes=O_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O_(0),this.mutableSourceEagerHydrationData=null}function hG(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Pv(t,e,r,n){var i=e.current,a=Ii(),o=ns(i);e:if(r){r=r._reactInternals;t:{if(Vl(r)!==r||r.tag!==1)throw Error(Le(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(bi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Le(171))}if(r.tag===1){var c=r.type;if(bi(c)){r=hB(r,c,s);break e}}r=s}else r=gs;return e.context===null?e.context=r:e.pendingContext=r,e=ts(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),rs(i,e),is(i,o,a),o}function q_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function W2(t,e){tP(t,e),(t=t.alternate)&&tP(t,e)}function dG(){return null}function Y2(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new fG(t,e,r!=null&&r.hydrate===!0),e=Gi(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,k2(e),t[Vc]=r.current,sB(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}Y2.prototype.render=function(t){Pv(t,this._internalRoot,null,null)};Y2.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Pv(null,t,null,function(){e[Vc]=null})};function Hd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pG(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new Y2(t,0,e?{hydrate:!0}:void 0)}function Lm(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=q_(o);s.call(l)}}Pv(e,o,t,i)}else{if(a=r._reactRootContainer=pG(r,n),o=a._internalRoot,typeof i=="function"){var c=i;i=function(){var l=q_(o);c.call(l)}}GB(function(){Pv(e,o,t,i)})}return q_(o)}jM=function(t){if(t.tag===13){var e=Ii();is(t,4,e),W2(t,4)}};_2=function(t){if(t.tag===13){var e=Ii();is(t,67108864,e),W2(t,67108864)}};$M=function(t){if(t.tag===13){var e=Ii(),r=ns(t);is(t,r,e),W2(t,r)}};VM=function(t,e){return e()};Tb=function(t,e,r){switch(e){case"input":if(_b(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Pm(n);if(!i)throw Error(Le(90));AM(n),_b(n,i)}}}break;case"textarea":RM(t,r);break;case"select":e=r.value,e!=null&&zu(t,!!r.multiple,e,!1)}};v2=VB;MM=function(t,e,r,n,i){var a=ht;ht|=4;try{return Il(98,t.bind(null,e,r,n,i))}finally{ht=a,ht===0&&(Xc(),Ka())}};m2=function(){!(ht&49)&&(eG(),Os())};BM=function(t,e){var r=ht;ht|=2;try{return t(e)}finally{ht=r,ht===0&&(Xc(),Ka())}};function KB(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(e))throw Error(Le(200));return hG(t,e,null,r)}var vG={Events:[$d,Pu,Pm,NM,LM,Os,{current:!1}]},kf={findFiberByHostInstance:ol,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},mG={bundleType:kf.bundleType,version:kf.version,rendererPackageName:kf.rendererPackageName,rendererConfig:kf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$l.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UM(t),t===null?null:t.stateNode},findFiberByHostInstance:kf.findFiberByHostInstance||dG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I0.isDisabled&&I0.supportsFiber)try{I2=I0.inject(mG),_l=I0}catch{}}Ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vG;Ki.createPortal=KB;Ki.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):Error(Le(268,Object.keys(t)));return t=UM(e),t=t===null?null:t.stateNode,t};Ki.flushSync=function(t,e){var r=ht;if(r&48)return t(e);ht|=1;try{if(t)return Il(99,t.bind(null,e))}finally{ht=r,Ka()}};Ki.hydrate=function(t,e,r){if(!Hd(e))throw Error(Le(200));return Lm(null,t,e,!0,r)};Ki.render=function(t,e,r){if(!Hd(e))throw Error(Le(200));return Lm(null,t,e,!1,r)};Ki.unmountComponentAtNode=function(t){if(!Hd(t))throw Error(Le(40));return t._reactRootContainer?(GB(function(){Lm(null,null,t,!1,function(){t._reactRootContainer=null,t[Vc]=null})}),!0):!1};Ki.unstable_batchedUpdates=VB;Ki.unstable_createPortal=function(t,e){return KB(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ki.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Hd(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return Lm(t,e,r,!1,n)};Ki.version="17.0.2";function ZB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZB)}catch(t){console.error(t)}}ZB(),bM.exports=Ki;var JB=bM.exports;const Pl=Pn(JB);const gG="_Title_main_170by_1",_G="_Title_buttonList_170by_8",yG="_Title_button_170by_8",xG="_Title_button_text_170by_39",bG="_Title_button_custom_170by_46",wG="_Title_backup_background_170by_65",nu={Title_main:gG,Title_buttonList:_G,Title_button:yG,Title_button_text:xG,Title_button_custom:bG,Title_backup_background:wG};function ha(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function xs(t){return!!t&&!!t[gr]}function bo(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===OG}(t)||Array.isArray(t)||!!t[lP]||!!(!((e=t.constructor)===null||e===void 0)&&e[lP])||q2(t)||K2(t))}function Ol(t,e,r){r===void 0&&(r=!1),zc(t)===0?(r?Object.keys:rc)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function zc(t){var e=t[gr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:q2(t)?2:K2(t)?3:0}function tc(t,e){return zc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function EG(t,e){return zc(t)===2?t.get(e):t[e]}function QB(t,e,r){var n=zc(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function eD(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function q2(t){return RG&&t instanceof Map}function K2(t){return PG&&t instanceof Set}function qs(t){return t.o||t.t}function Z2(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=rD(t);delete e[gr];for(var r=rc(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function J2(t,e){return e===void 0&&(e=!1),Q2(t)||xs(t)||!bo(t)||(zc(t)>1&&(t.set=t.add=t.clear=t.delete=SG),Object.freeze(t),e&&Ol(t,function(r,n){return J2(n,!0)},!0)),t}function SG(){ha(2)}function Q2(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Ua(t){var e=aw[t];return e||ha(18,t),e}function CG(t,e){aw[t]||(aw[t]=e)}function rw(){return Qh}function K_(t,e){e&&(Ua("Patches"),t.u=[],t.s=[],t.v=e)}function Ov(t){nw(t),t.p.forEach(TG),t.p=null}function nw(t){t===Qh&&(Qh=t.l)}function rP(t){return Qh={p:[],l:Qh,h:t,m:!0,_:0}}function TG(t){var e=t[gr];e.i===0||e.i===1?e.j():e.g=!0}function Z_(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||Ua("ES5").S(e,t,n),n?(r[gr].P&&(Ov(e),ha(4)),bo(t)&&(t=kv(e,t),e.l||Fv(e,t)),e.u&&Ua("Patches").M(r[gr].t,t,e.u,e.s)):t=kv(e,r,[]),Ov(e),e.u&&e.v(e.u,e.s),t!==tD?t:void 0}function kv(t,e,r){if(Q2(e))return e;var n=e[gr];if(!n)return Ol(e,function(s,c){return nP(t,n,e,s,c,r)},!0),e;if(n.A!==t)return e;if(!n.P)return Fv(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=Z2(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),Ol(a,function(s,c){return nP(t,n,i,s,c,r,o)}),Fv(t,i,!1),r&&t.u&&Ua("Patches").N(n,r,t.u,t.s)}return n.o}function nP(t,e,r,n,i,a,o){if(xs(i)){var s=kv(t,i,a&&e&&e.i!==3&&!tc(e.R,n)?a.concat(n):void 0);if(QB(r,n,s),!xs(s))return;t.m=!1}else o&&r.add(i);if(bo(i)&&!Q2(i)){if(!t.h.D&&t._<1)return;kv(t,i),e&&e.A.l||Fv(t,i)}}function Fv(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&J2(e,r)}function J_(t,e){var r=t[gr];return(r?qs(r):t)[e]}function iP(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function jo(t){t.P||(t.P=!0,t.l&&jo(t.l))}function Q_(t){t.o||(t.o=Z2(t.t))}function iw(t,e,r){var n=q2(e)?Ua("MapSet").F(e,r):K2(e)?Ua("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:rw(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},c=s,l=ed;o&&(c=[s],l=ih);var u=Proxy.revocable(c,l),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,r):Ua("ES5").J(e,r);return(r?r.A:rw()).p.push(n),n}function AG(t){return xs(t)||ha(22,t),function e(r){if(!bo(r))return r;var n,i=r[gr],a=zc(r);if(i){if(!i.P&&(i.i<4||!Ua("ES5").K(i)))return i.t;i.I=!0,n=aP(r,a),i.I=!1}else n=aP(r,a);return Ol(n,function(o,s){i&&EG(i.t,o)===s||QB(n,o,e(s))}),a===3?new Set(n):n}(t)}function aP(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Z2(t)}function IG(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var c=this[gr];return ed.get(c,a)},set:function(c){var l=this[gr];ed.set(l,a,c)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][gr];if(!s.P)switch(s.i){case 5:n(s)&&jo(s);break;case 4:r(s)&&jo(s)}}}function r(a){for(var o=a.t,s=a.k,c=rc(s),l=c.length-1;l>=0;l--){var u=c[l];if(u!==gr){var f=o[u];if(f===void 0&&!tc(o,u))return!0;var h=s[u],p=h&&h[gr];if(p?p.t!==f:!eD(h,f))return!0}}var d=!!o[gr];return c.length!==rc(o).length+(d?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};CG("ES5",{J:function(a,o){var s=Array.isArray(a),c=function(u,f){if(u){for(var h=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var d=rD(f);delete d[gr];for(var m=rc(d),_=0;_<m.length;_++){var v=m[_];d[v]=t(v,u||!!d[v].enumerable)}return Object.create(Object.getPrototypeOf(f),d)}(s,a),l={i:s?5:4,A:o?o.A:rw(),P:!1,I:!1,R:{},l:o,t:a,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,gr,{value:l,writable:!0}),c},S:function(a,o,s){s?xs(o)&&o[gr].A===a&&e(a.p):(a.u&&function c(l){if(l&&typeof l=="object"){var u=l[gr];if(u){var f=u.t,h=u.k,p=u.R,d=u.i;if(d===4)Ol(h,function(y){y!==gr&&(f[y]!==void 0||tc(f,y)?p[y]||c(h[y]):(p[y]=!0,jo(u)))}),Ol(f,function(y){h[y]!==void 0||tc(h,y)||(p[y]=!1,jo(u))});else if(d===5){if(n(u)&&(jo(u),p.length=!0),h.length<f.length)for(var m=h.length;m<f.length;m++)p[m]=!1;else for(var _=f.length;_<h.length;_++)p[_]=!0;for(var v=Math.min(h.length,f.length),g=0;g<v;g++)h.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&c(h[g])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var oP,Qh,eC=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",RG=typeof Map<"u",PG=typeof Set<"u",sP=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",tD=eC?Symbol.for("immer-nothing"):((oP={})["immer-nothing"]=!0,oP),lP=eC?Symbol.for("immer-draftable"):"__$immer_draftable",gr=eC?Symbol.for("immer-state"):"__$immer_state",OG=""+Object.prototype.constructor,rc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,rD=Object.getOwnPropertyDescriptors||function(t){var e={};return rc(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},aw={},ed={get:function(t,e){if(e===gr)return t;var r=qs(t);if(!tc(r,e))return function(i,a,o){var s,c=iP(a,o);return c?"value"in c?c.value:(s=c.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!bo(n)?n:n===J_(t.t,e)?(Q_(t),t.o[e]=iw(t.A.h,n,t)):n},has:function(t,e){return e in qs(t)},ownKeys:function(t){return Reflect.ownKeys(qs(t))},set:function(t,e,r){var n=iP(qs(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=J_(qs(t),e),a=i==null?void 0:i[gr];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(eD(r,i)&&(r!==void 0||tc(t.t,e)))return!0;Q_(t),jo(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return J_(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Q_(t),jo(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=qs(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){ha(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ha(12)}},ih={};Ol(ed,function(t,e){ih[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ih.deleteProperty=function(t,e){return ih.set.call(this,t,e,void 0)},ih.set=function(t,e,r){return ed.set.call(this,t[0],e,r,t[0])};var kG=function(){function t(r){var n=this;this.O=sP,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var c=n;return function(m){var _=this;m===void 0&&(m=s);for(var v=arguments.length,g=Array(v>1?v-1:0),y=1;y<v;y++)g[y-1]=arguments[y];return c.produce(m,function(x){var b;return(b=a).call.apply(b,[_,x].concat(g))})}}var l;if(typeof a!="function"&&ha(6),o!==void 0&&typeof o!="function"&&ha(7),bo(i)){var u=rP(n),f=iw(n,i,void 0),h=!0;try{l=a(f),h=!1}finally{h?Ov(u):nw(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return K_(u,o),Z_(m,u)},function(m){throw Ov(u),m}):(K_(u,o),Z_(l,u))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===tD&&(l=void 0),n.D&&J2(l,!0),o){var p=[],d=[];Ua("Patches").M(i,l,p,d),o(p,d)}return l}ha(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(f))})};var o,s,c=n.produce(i,a,function(l,u){o=l,s=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,s]}):[c,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){bo(r)||ha(8),xs(r)&&(r=AG(r));var n=rP(this),i=iw(this,r,void 0);return i[gr].C=!0,nw(n),i},e.finishDraft=function(r,n){var i=r&&r[gr],a=i.A;return K_(a,n),Z_(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!sP&&ha(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=Ua("Patches").$;return xs(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),Pi=new kG,nD=Pi.produce;Pi.produceWithPatches.bind(Pi);Pi.setAutoFreeze.bind(Pi);Pi.setUseProxies.bind(Pi);Pi.applyPatches.bind(Pi);Pi.createDraft.bind(Pi);Pi.finishDraft.bind(Pi);function Tn(t){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(t)}function FG(t,e){if(Tn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iD(t){var e=FG(t,"string");return Tn(e)=="symbol"?e:e+""}function ki(t,e,r){return e=iD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var fP=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ey=function(){return Math.random().toString(36).substring(7).split("").join(".")},Nv={INIT:"@@redux/INIT"+ey(),REPLACE:"@@redux/REPLACE"+ey(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ey()}};function NG(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function aD(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qn(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(qn(1));return r(aD)(t,e)}if(typeof t!="function")throw new Error(qn(2));var i=t,a=e,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(qn(3));return a}function f(m){if(typeof m!="function")throw new Error(qn(4));if(c)throw new Error(qn(5));var _=!0;return l(),s.push(m),function(){if(_){if(c)throw new Error(qn(6));_=!1,l();var g=s.indexOf(m);s.splice(g,1),o=null}}}function h(m){if(!NG(m))throw new Error(qn(7));if(typeof m.type>"u")throw new Error(qn(8));if(c)throw new Error(qn(9));try{c=!0,a=i(a,m)}finally{c=!1}for(var _=o=s,v=0;v<_.length;v++){var g=_[v];g()}return m}function p(m){if(typeof m!="function")throw new Error(qn(10));i=m,h({type:Nv.REPLACE})}function d(){var m,_=f;return m={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(qn(11));function y(){g.next&&g.next(u())}y();var x=_(y);return{unsubscribe:x}}},m[fP]=function(){return this},m}return h({type:Nv.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:p},n[fP]=d,n}function LG(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:Nv.INIT});if(typeof n>"u")throw new Error(qn(12));if(typeof r(void 0,{type:Nv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qn(13))})}function MG(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{LG(r)}catch(s){o=s}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,f={},h=0;h<a.length;h++){var p=a[h],d=r[p],m=c[p],_=d(m,l);if(typeof _>"u")throw l&&l.type,new Error(qn(14));f[p]=_,u=u||_!==m}return u=u||a.length!==Object.keys(c).length,u?f:c}}function Lv(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function BG(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(qn(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(c){return c(o)});return a=Lv.apply(void 0,s)(i.dispatch),cP(cP({},i),{},{dispatch:a})}}}function oD(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var sD=oD();sD.withExtraArgument=oD;const hP=sD;var lD=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DG=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},bc=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},UG=Object.defineProperty,jG=Object.defineProperties,$G=Object.getOwnPropertyDescriptors,dP=Object.getOwnPropertySymbols,VG=Object.prototype.hasOwnProperty,GG=Object.prototype.propertyIsEnumerable,pP=function(t,e,r){return e in t?UG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},os=function(t,e){for(var r in e||(e={}))VG.call(e,r)&&pP(t,r,e[r]);if(dP)for(var n=0,i=dP(e);n<i.length;n++){var r=i[n];GG.call(e,r)&&pP(t,r,e[r])}return t},ty=function(t,e){return jG(t,$G(e))},HG=function(t,e,r){return new Promise(function(n,i){var a=function(c){try{s(r.next(c))}catch(l){i(l)}},o=function(c){try{s(r.throw(c))}catch(l){i(l)}},s=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(a,o)};s((r=r.apply(t,e)).next())})},XG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lv:Lv.apply(null,arguments)};function zG(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function ss(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return os(os({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var WG=function(t){lD(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,bc([void 0],r[0].concat(this)))):new(e.bind.apply(e,bc([void 0],r.concat(this))))},e}(Array),YG=function(t){lD(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,bc([void 0],r[0].concat(this)))):new(e.bind.apply(e,bc([void 0],r.concat(this))))},e}(Array);function ow(t){return bo(t)?nD(t,function(){}):t}function qG(t){return typeof t=="boolean"}function KG(){return function(e){return uD(e)}}function uD(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new WG;return r&&(qG(r)?n.push(hP):n.push(hP.withExtraArgument(r.extraArgument))),n}var ZG=!0;function JG(t){var e=KG(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,c=s===void 0?!0:s,l=r.preloadedState,u=l===void 0?void 0:l,f=r.enhancers,h=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(zG(i))p=MG(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var d=o;typeof d=="function"&&(d=d(e));var m=BG.apply(void 0,d),_=Lv;c&&(_=XG(os({trace:!ZG},typeof c=="object"&&c)));var v=new YG(m),g=v;Array.isArray(h)?g=bc([m],h):typeof h=="function"&&(g=h(v));var y=_.apply(void 0,g);return aD(p,u,y)}function cD(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function QG(t){return typeof t=="function"}function eH(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?cD(e):[e,r,n],a=i[0],o=i[1],s=i[2],c;if(QG(t))c=function(){return ow(t())};else{var l=ow(t);c=function(){return l}}function u(f,h){f===void 0&&(f=c());var p=bc([a[h.type]],o.filter(function(d){var m=d.matcher;return m(h)}).map(function(d){var m=d.reducer;return m}));return p.filter(function(d){return!!d}).length===0&&(p=[s]),p.reduce(function(d,m){if(m)if(xs(d)){var _=d,v=m(_,h);return v===void 0?d:v}else{if(bo(d))return nD(d,function(g){return m(g,h)});var v=m(d,h);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return d},f)}return u.getInitialState=c,u}function tH(t,e){return t+"/"+e}function Mm(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:ow(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(u){var f=n[u],h=tH(e,u),p,d;"reducer"in f?(p=f.reducer,d=f.prepare):p=f,a[u]=p,o[h]=p,s[u]=d?ss(h,d):ss(h)});function c(){var u=typeof t.extraReducers=="function"?cD(t.extraReducers):[t.extraReducers],f=u[0],h=f===void 0?{}:f,p=u[1],d=p===void 0?[]:p,m=u[2],_=m===void 0?void 0:m,v=os(os({},h),o);return eH(r,function(g){for(var y in v)g.addCase(y,v[y]);for(var x=0,b=d;x<b.length;x++){var w=b[x];g.addMatcher(w.matcher,w.reducer)}_&&g.addDefaultCase(_)})}var l;return{name:e,reducer:function(u,f){return l||(l=c()),l(u,f)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var rH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nH=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=rH[Math.random()*64|0];return e},iH=["name","message","stack","code"],ry=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),vP=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),aH=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=iH;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=ss(e+"/fulfilled",function(l,u,f,h){return{payload:l,meta:ty(os({},h||{}),{arg:f,requestId:u,requestStatus:"fulfilled"})}}),a=ss(e+"/pending",function(l,u,f){return{payload:void 0,meta:ty(os({},f||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=ss(e+"/rejected",function(l,u,f,h,p){return{payload:h,error:(n&&n.serializeError||aH)(l||"Rejected"),meta:ty(os({},p||{}),{arg:f,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,f,h){var p=n!=null&&n.idGenerator?n.idGenerator(l):nH(),d=new s,m;function _(g){m=g,d.abort()}var v=function(){return HG(this,null,function(){var g,y,x,b,w,E,S;return DG(this,function(C){switch(C.label){case 0:return C.trys.push([0,4,,5]),b=(g=n==null?void 0:n.condition)==null?void 0:g.call(n,l,{getState:f,extra:h}),sH(b)?[4,b]:[3,2];case 1:b=C.sent(),C.label=2;case 2:if(b===!1||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(T,I){return d.signal.addEventListener("abort",function(){return I({name:"AbortError",message:m||"Aborted"})})}),u(a(p,l,(y=n==null?void 0:n.getPendingMeta)==null?void 0:y.call(n,{requestId:p,arg:l},{getState:f,extra:h}))),[4,Promise.race([w,Promise.resolve(r(l,{dispatch:u,getState:f,extra:h,requestId:p,signal:d.signal,abort:_,rejectWithValue:function(T,I){return new ry(T,I)},fulfillWithValue:function(T,I){return new vP(T,I)}})).then(function(T){if(T instanceof ry)throw T;return T instanceof vP?i(T.payload,p,l,T.meta):i(T,p,l)})])];case 3:return x=C.sent(),[3,5];case 4:return E=C.sent(),x=E instanceof ry?o(null,p,l,E.payload,E.meta):o(E,p,l),[3,5];case 5:return S=n&&!n.dispatchConditionRejection&&o.match(x)&&x.meta.condition,S||u(x),[2,x]}})})}();return Object.assign(v,{abort:_,requestId:p,arg:l,unwrap:function(){return v.then(oH)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function oH(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function sH(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var tC="listenerMiddleware";ss(tC+"/add");ss(tC+"/removeAll");ss(tC+"/remove");var mP;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);IG();function lH(){this.__data__=[],this.size=0}var uH=lH;function cH(t,e){return t===e||t!==t&&e!==e}var rC=cH,fH=rC;function hH(t,e){for(var r=t.length;r--;)if(fH(t[r][0],e))return r;return-1}var Bm=hH,dH=Bm,pH=Array.prototype,vH=pH.splice;function mH(t){var e=this.__data__,r=dH(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():vH.call(e,r,1),--this.size,!0}var gH=mH,_H=Bm;function yH(t){var e=this.__data__,r=_H(e,t);return r<0?void 0:e[r][1]}var xH=yH,bH=Bm;function wH(t){return bH(this.__data__,t)>-1}var EH=wH,SH=Bm;function CH(t,e){var r=this.__data__,n=SH(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var TH=CH,AH=uH,IH=gH,RH=xH,PH=EH,OH=TH;function Wc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Wc.prototype.clear=AH;Wc.prototype.delete=IH;Wc.prototype.get=RH;Wc.prototype.has=PH;Wc.prototype.set=OH;var Dm=Wc,kH=Dm;function FH(){this.__data__=new kH,this.size=0}var NH=FH;function LH(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var MH=LH;function BH(t){return this.__data__.get(t)}var DH=BH;function UH(t){return this.__data__.has(t)}var jH=UH,$H=typeof it=="object"&&it&&it.Object===Object&&it,fD=$H,VH=fD,GH=typeof self=="object"&&self&&self.Object===Object&&self,HH=VH||GH||Function("return this")(),ya=HH,XH=ya,zH=XH.Symbol,Xd=zH,gP=Xd,hD=Object.prototype,WH=hD.hasOwnProperty,YH=hD.toString,Ff=gP?gP.toStringTag:void 0;function qH(t){var e=WH.call(t,Ff),r=t[Ff];try{t[Ff]=void 0;var n=!0}catch{}var i=YH.call(t);return n&&(e?t[Ff]=r:delete t[Ff]),i}var KH=qH,ZH=Object.prototype,JH=ZH.toString;function QH(t){return JH.call(t)}var eX=QH,_P=Xd,tX=KH,rX=eX,nX="[object Null]",iX="[object Undefined]",yP=_P?_P.toStringTag:void 0;function aX(t){return t==null?t===void 0?iX:nX:yP&&yP in Object(t)?tX(t):rX(t)}var zd=aX;function oX(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Za=oX,sX=zd,lX=Za,uX="[object AsyncFunction]",cX="[object Function]",fX="[object GeneratorFunction]",hX="[object Proxy]";function dX(t){if(!lX(t))return!1;var e=sX(t);return e==cX||e==fX||e==uX||e==hX}var dD=dX,pX=ya,vX=pX["__core-js_shared__"],mX=vX,ny=mX,xP=function(){var t=/[^.]+$/.exec(ny&&ny.keys&&ny.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function gX(t){return!!xP&&xP in t}var _X=gX,yX=Function.prototype,xX=yX.toString;function bX(t){if(t!=null){try{return xX.call(t)}catch{}try{return t+""}catch{}}return""}var pD=bX,wX=dD,EX=_X,SX=Za,CX=pD,TX=/[\\^$.*+?()[\]{}|]/g,AX=/^\[object .+?Constructor\]$/,IX=Function.prototype,RX=Object.prototype,PX=IX.toString,OX=RX.hasOwnProperty,kX=RegExp("^"+PX.call(OX).replace(TX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FX(t){if(!SX(t)||EX(t))return!1;var e=wX(t)?kX:AX;return e.test(CX(t))}var NX=FX;function LX(t,e){return t==null?void 0:t[e]}var MX=LX,BX=NX,DX=MX;function UX(t,e){var r=DX(t,e);return BX(r)?r:void 0}var Hl=UX,jX=Hl,$X=ya,VX=jX($X,"Map"),nC=VX,GX=Hl,HX=GX(Object,"create"),Um=HX,bP=Um;function XX(){this.__data__=bP?bP(null):{},this.size=0}var zX=XX;function WX(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var YX=WX,qX=Um,KX="__lodash_hash_undefined__",ZX=Object.prototype,JX=ZX.hasOwnProperty;function QX(t){var e=this.__data__;if(qX){var r=e[t];return r===KX?void 0:r}return JX.call(e,t)?e[t]:void 0}var ez=QX,tz=Um,rz=Object.prototype,nz=rz.hasOwnProperty;function iz(t){var e=this.__data__;return tz?e[t]!==void 0:nz.call(e,t)}var az=iz,oz=Um,sz="__lodash_hash_undefined__";function lz(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=oz&&e===void 0?sz:e,this}var uz=lz,cz=zX,fz=YX,hz=ez,dz=az,pz=uz;function Yc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yc.prototype.clear=cz;Yc.prototype.delete=fz;Yc.prototype.get=hz;Yc.prototype.has=dz;Yc.prototype.set=pz;var vz=Yc,wP=vz,mz=Dm,gz=nC;function _z(){this.size=0,this.__data__={hash:new wP,map:new(gz||mz),string:new wP}}var yz=_z;function xz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var bz=xz,wz=bz;function Ez(t,e){var r=t.__data__;return wz(e)?r[typeof e=="string"?"string":"hash"]:r.map}var jm=Ez,Sz=jm;function Cz(t){var e=Sz(this,t).delete(t);return this.size-=e?1:0,e}var Tz=Cz,Az=jm;function Iz(t){return Az(this,t).get(t)}var Rz=Iz,Pz=jm;function Oz(t){return Pz(this,t).has(t)}var kz=Oz,Fz=jm;function Nz(t,e){var r=Fz(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Lz=Nz,Mz=yz,Bz=Tz,Dz=Rz,Uz=kz,jz=Lz;function qc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}qc.prototype.clear=Mz;qc.prototype.delete=Bz;qc.prototype.get=Dz;qc.prototype.has=Uz;qc.prototype.set=jz;var iC=qc,$z=Dm,Vz=nC,Gz=iC,Hz=200;function Xz(t,e){var r=this.__data__;if(r instanceof $z){var n=r.__data__;if(!Vz||n.length<Hz-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Gz(n)}return r.set(t,e),this.size=r.size,this}var zz=Xz,Wz=Dm,Yz=NH,qz=MH,Kz=DH,Zz=jH,Jz=zz;function Kc(t){var e=this.__data__=new Wz(t);this.size=e.size}Kc.prototype.clear=Yz;Kc.prototype.delete=qz;Kc.prototype.get=Kz;Kc.prototype.has=Zz;Kc.prototype.set=Jz;var aC=Kc;function Qz(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var eW=Qz,tW=Hl,rW=function(){try{var t=tW(Object,"defineProperty");return t({},"",{}),t}catch{}}(),nW=rW,EP=nW;function iW(t,e,r){e=="__proto__"&&EP?EP(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var vD=iW,aW=vD,oW=rC,sW=Object.prototype,lW=sW.hasOwnProperty;function uW(t,e,r){var n=t[e];(!(lW.call(t,e)&&oW(n,r))||r===void 0&&!(e in t))&&aW(t,e,r)}var oC=uW,cW=oC,fW=vD;function hW(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],c=n?n(r[s],t[s],s,r,t):void 0;c===void 0&&(c=t[s]),i?fW(r,s,c):cW(r,s,c)}return r}var $m=hW;function dW(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var pW=dW;function vW(t){return t!=null&&typeof t=="object"}var Xl=vW,mW=zd,gW=Xl,_W="[object Arguments]";function yW(t){return gW(t)&&mW(t)==_W}var xW=yW,SP=xW,bW=Xl,mD=Object.prototype,wW=mD.hasOwnProperty,EW=mD.propertyIsEnumerable,SW=SP(function(){return arguments}())?SP:function(t){return bW(t)&&wW.call(t,"callee")&&!EW.call(t,"callee")},gD=SW,CW=Array.isArray,Ao=CW,Mv={exports:{}};function TW(){return!1}var AW=TW;Mv.exports;(function(t,e){var r=ya,n=AW,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;t.exports=l})(Mv,Mv.exports);var sC=Mv.exports,IW=9007199254740991,RW=/^(?:0|[1-9]\d*)$/;function PW(t,e){var r=typeof t;return e=e??IW,!!e&&(r=="number"||r!="symbol"&&RW.test(t))&&t>-1&&t%1==0&&t<e}var lC=PW,OW=9007199254740991;function kW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OW}var uC=kW,FW=zd,NW=uC,LW=Xl,MW="[object Arguments]",BW="[object Array]",DW="[object Boolean]",UW="[object Date]",jW="[object Error]",$W="[object Function]",VW="[object Map]",GW="[object Number]",HW="[object Object]",XW="[object RegExp]",zW="[object Set]",WW="[object String]",YW="[object WeakMap]",qW="[object ArrayBuffer]",KW="[object DataView]",ZW="[object Float32Array]",JW="[object Float64Array]",QW="[object Int8Array]",eY="[object Int16Array]",tY="[object Int32Array]",rY="[object Uint8Array]",nY="[object Uint8ClampedArray]",iY="[object Uint16Array]",aY="[object Uint32Array]",hr={};hr[ZW]=hr[JW]=hr[QW]=hr[eY]=hr[tY]=hr[rY]=hr[nY]=hr[iY]=hr[aY]=!0;hr[MW]=hr[BW]=hr[qW]=hr[DW]=hr[KW]=hr[UW]=hr[jW]=hr[$W]=hr[VW]=hr[GW]=hr[HW]=hr[XW]=hr[zW]=hr[WW]=hr[YW]=!1;function oY(t){return LW(t)&&NW(t.length)&&!!hr[FW(t)]}var sY=oY;function lY(t){return function(e){return t(e)}}var cC=lY,Bv={exports:{}};Bv.exports;(function(t,e){var r=fD,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Bv,Bv.exports);var fC=Bv.exports,uY=sY,cY=cC,CP=fC,TP=CP&&CP.isTypedArray,fY=TP?cY(TP):uY,_D=fY,hY=pW,dY=gD,pY=Ao,vY=sC,mY=lC,gY=_D,_Y=Object.prototype,yY=_Y.hasOwnProperty;function xY(t,e){var r=pY(t),n=!r&&dY(t),i=!r&&!n&&vY(t),a=!r&&!n&&!i&&gY(t),o=r||n||i||a,s=o?hY(t.length,String):[],c=s.length;for(var l in t)(e||yY.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||mY(l,c)))&&s.push(l);return s}var yD=xY,bY=Object.prototype;function wY(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||bY;return t===r}var hC=wY;function EY(t,e){return function(r){return t(e(r))}}var xD=EY,SY=xD,CY=SY(Object.keys,Object),TY=CY,AY=hC,IY=TY,RY=Object.prototype,PY=RY.hasOwnProperty;function OY(t){if(!AY(t))return IY(t);var e=[];for(var r in Object(t))PY.call(t,r)&&r!="constructor"&&e.push(r);return e}var kY=OY,FY=dD,NY=uC;function LY(t){return t!=null&&NY(t.length)&&!FY(t)}var bD=LY,MY=yD,BY=kY,DY=bD;function UY(t){return DY(t)?MY(t):BY(t)}var Vm=UY,jY=$m,$Y=Vm;function VY(t,e){return t&&jY(e,$Y(e),t)}var GY=VY;function HY(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var XY=HY,zY=Za,WY=hC,YY=XY,qY=Object.prototype,KY=qY.hasOwnProperty;function ZY(t){if(!zY(t))return YY(t);var e=WY(t),r=[];for(var n in t)n=="constructor"&&(e||!KY.call(t,n))||r.push(n);return r}var JY=ZY,QY=yD,eq=JY,tq=bD;function rq(t){return tq(t)?QY(t,!0):eq(t)}var dC=rq,nq=$m,iq=dC;function aq(t,e){return t&&nq(e,iq(e),t)}var oq=aq,Dv={exports:{}};Dv.exports;(function(t,e){var r=ya,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}t.exports=c})(Dv,Dv.exports);var sq=Dv.exports;function lq(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var uq=lq;function cq(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var fq=cq;function hq(){return[]}var wD=hq,dq=fq,pq=wD,vq=Object.prototype,mq=vq.propertyIsEnumerable,AP=Object.getOwnPropertySymbols,gq=AP?function(t){return t==null?[]:(t=Object(t),dq(AP(t),function(e){return mq.call(t,e)}))}:pq,pC=gq,_q=$m,yq=pC;function xq(t,e){return _q(t,yq(t),e)}var bq=xq;function wq(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var ED=wq,Eq=xD,Sq=Eq(Object.getPrototypeOf,Object),SD=Sq,Cq=ED,Tq=SD,Aq=pC,Iq=wD,Rq=Object.getOwnPropertySymbols,Pq=Rq?function(t){for(var e=[];t;)Cq(e,Aq(t)),t=Tq(t);return e}:Iq,CD=Pq,Oq=$m,kq=CD;function Fq(t,e){return Oq(t,kq(t),e)}var Nq=Fq,Lq=ED,Mq=Ao;function Bq(t,e,r){var n=e(t);return Mq(t)?n:Lq(n,r(t))}var TD=Bq,Dq=TD,Uq=pC,jq=Vm;function $q(t){return Dq(t,jq,Uq)}var AD=$q,Vq=TD,Gq=CD,Hq=dC;function Xq(t){return Vq(t,Hq,Gq)}var ID=Xq,zq=Hl,Wq=ya,Yq=zq(Wq,"DataView"),qq=Yq,Kq=Hl,Zq=ya,Jq=Kq(Zq,"Promise"),Qq=Jq,eK=Hl,tK=ya,rK=eK(tK,"Set"),RD=rK,nK=Hl,iK=ya,aK=nK(iK,"WeakMap"),oK=aK,sw=qq,lw=nC,uw=Qq,cw=RD,fw=oK,PD=zd,Zc=pD,IP="[object Map]",sK="[object Object]",RP="[object Promise]",PP="[object Set]",OP="[object WeakMap]",kP="[object DataView]",lK=Zc(sw),uK=Zc(lw),cK=Zc(uw),fK=Zc(cw),hK=Zc(fw),Ks=PD;(sw&&Ks(new sw(new ArrayBuffer(1)))!=kP||lw&&Ks(new lw)!=IP||uw&&Ks(uw.resolve())!=RP||cw&&Ks(new cw)!=PP||fw&&Ks(new fw)!=OP)&&(Ks=function(t){var e=PD(t),r=e==sK?t.constructor:void 0,n=r?Zc(r):"";if(n)switch(n){case lK:return kP;case uK:return IP;case cK:return RP;case fK:return PP;case hK:return OP}return e});var Gm=Ks,dK=Object.prototype,pK=dK.hasOwnProperty;function vK(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&pK.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var mK=vK,gK=ya,_K=gK.Uint8Array,OD=_K,FP=OD;function yK(t){var e=new t.constructor(t.byteLength);return new FP(e).set(new FP(t)),e}var vC=yK,xK=vC;function bK(t,e){var r=e?xK(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var wK=bK,EK=/\w*$/;function SK(t){var e=new t.constructor(t.source,EK.exec(t));return e.lastIndex=t.lastIndex,e}var CK=SK,NP=Xd,LP=NP?NP.prototype:void 0,MP=LP?LP.valueOf:void 0;function TK(t){return MP?Object(MP.call(t)):{}}var AK=TK,IK=vC;function RK(t,e){var r=e?IK(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var PK=RK,OK=vC,kK=wK,FK=CK,NK=AK,LK=PK,MK="[object Boolean]",BK="[object Date]",DK="[object Map]",UK="[object Number]",jK="[object RegExp]",$K="[object Set]",VK="[object String]",GK="[object Symbol]",HK="[object ArrayBuffer]",XK="[object DataView]",zK="[object Float32Array]",WK="[object Float64Array]",YK="[object Int8Array]",qK="[object Int16Array]",KK="[object Int32Array]",ZK="[object Uint8Array]",JK="[object Uint8ClampedArray]",QK="[object Uint16Array]",eZ="[object Uint32Array]";function tZ(t,e,r){var n=t.constructor;switch(e){case HK:return OK(t);case MK:case BK:return new n(+t);case XK:return kK(t,r);case zK:case WK:case YK:case qK:case KK:case ZK:case JK:case QK:case eZ:return LK(t,r);case DK:return new n;case UK:case VK:return new n(t);case jK:return FK(t);case $K:return new n;case GK:return NK(t)}}var rZ=tZ,nZ=Za,BP=Object.create,iZ=function(){function t(){}return function(e){if(!nZ(e))return{};if(BP)return BP(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),aZ=iZ,oZ=aZ,sZ=SD,lZ=hC;function uZ(t){return typeof t.constructor=="function"&&!lZ(t)?oZ(sZ(t)):{}}var cZ=uZ,fZ=Gm,hZ=Xl,dZ="[object Map]";function pZ(t){return hZ(t)&&fZ(t)==dZ}var vZ=pZ,mZ=vZ,gZ=cC,DP=fC,UP=DP&&DP.isMap,_Z=UP?gZ(UP):mZ,yZ=_Z,xZ=Gm,bZ=Xl,wZ="[object Set]";function EZ(t){return bZ(t)&&xZ(t)==wZ}var SZ=EZ,CZ=SZ,TZ=cC,jP=fC,$P=jP&&jP.isSet,AZ=$P?TZ($P):CZ,IZ=AZ,RZ=aC,PZ=eW,OZ=oC,kZ=GY,FZ=oq,NZ=sq,LZ=uq,MZ=bq,BZ=Nq,DZ=AD,UZ=ID,jZ=Gm,$Z=mK,VZ=rZ,GZ=cZ,HZ=Ao,XZ=sC,zZ=yZ,WZ=Za,YZ=IZ,qZ=Vm,KZ=dC,ZZ=1,JZ=2,QZ=4,kD="[object Arguments]",eJ="[object Array]",tJ="[object Boolean]",rJ="[object Date]",nJ="[object Error]",FD="[object Function]",iJ="[object GeneratorFunction]",aJ="[object Map]",oJ="[object Number]",ND="[object Object]",sJ="[object RegExp]",lJ="[object Set]",uJ="[object String]",cJ="[object Symbol]",fJ="[object WeakMap]",hJ="[object ArrayBuffer]",dJ="[object DataView]",pJ="[object Float32Array]",vJ="[object Float64Array]",mJ="[object Int8Array]",gJ="[object Int16Array]",_J="[object Int32Array]",yJ="[object Uint8Array]",xJ="[object Uint8ClampedArray]",bJ="[object Uint16Array]",wJ="[object Uint32Array]",or={};or[kD]=or[eJ]=or[hJ]=or[dJ]=or[tJ]=or[rJ]=or[pJ]=or[vJ]=or[mJ]=or[gJ]=or[_J]=or[aJ]=or[oJ]=or[ND]=or[sJ]=or[lJ]=or[uJ]=or[cJ]=or[yJ]=or[xJ]=or[bJ]=or[wJ]=!0;or[nJ]=or[FD]=or[fJ]=!1;function Fp(t,e,r,n,i,a){var o,s=e&ZZ,c=e&JZ,l=e&QZ;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!WZ(t))return t;var u=HZ(t);if(u){if(o=$Z(t),!s)return LZ(t,o)}else{var f=jZ(t),h=f==FD||f==iJ;if(XZ(t))return NZ(t,s);if(f==ND||f==kD||h&&!i){if(o=c||h?{}:GZ(t),!s)return c?BZ(t,FZ(o,t)):MZ(t,kZ(o,t))}else{if(!or[f])return i?t:{};o=VZ(t,f,s)}}a||(a=new RZ);var p=a.get(t);if(p)return p;a.set(t,o),YZ(t)?t.forEach(function(_){o.add(Fp(_,e,r,_,t,a))}):zZ(t)&&t.forEach(function(_,v){o.set(v,Fp(_,e,r,v,t,a))});var d=l?c?UZ:DZ:c?KZ:qZ,m=u?void 0:d(t);return PZ(m||t,function(_,v){m&&(v=_,_=t[v]),OZ(o,v,Fp(_,e,r,v,t,a))}),o}var EJ=Fp,SJ=EJ,CJ=1,TJ=4;function AJ(t){return SJ(t,CJ|TJ)}var IJ=AJ;const Ir=Pn(IJ);var gt=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t))(gt||{});const LD={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},uiSe:"",miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",dialogueMode:"role",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},storyLineBg:"",storyLineBgX:"",storyLineBgY:"",achieveBg:"",unlockAchieve:{unlockname:"",saveTime:"",url:"",x:0,y:0},achieveBgX:"",achieveBgY:"",unlockAchieves:[],totalAchievements:0,unlockedAchievements:0,isShowValueSWitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showValues:[],showValueList:[]},mC=Mm({name:"stage",initialState:Ir(LD),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload,i=t.effects.findIndex(a=>a.target===r);i>=0?t.effects[i].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===gt.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.live2dMotion.findIndex(a=>a.target===r);i<0?t.live2dMotion.push({target:r,motion:n}):t.live2dMotion[i].motion=n},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]},setStoryLineBg:(t,e)=>{t.storyLineBg=e.payload},setAchieveBg:(t,e)=>{t.achieveBg=e.payload},setUnlockAchieve:(t,e)=>{t.unlockAchieves.push(e.payload)},addShowValues:(t,e)=>{t.showValues.push(e.payload)},addShowValueList:(t,e)=>{t.showValueList.push(e.payload)},updateShowValueList:(t,e)=>{t.showValueList=e.payload}}}),{resetStageState:Hm,setStage:lt,setStageVar:MD,setAchieveBg:RJ,setUnlockAchieve:Ske,setStoryLineBg:Cke,addShowValues:iu,addShowValueList:PJ,updateShowValueList:OJ}=mC.actions,gi=mC.actions,kJ=mC.reducer;function Fu(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var BD={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,u){if(!i[l]){if(!n[l]){var f=typeof Fu=="function"&&Fu;if(!u&&f)return f(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(d){var m=n[l][1][d];return o(m||d)},p,p.exports,r,n,i,a)}return i[l].exports}for(var s=typeof Fu=="function"&&Fu,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var c=0,l=new o(d),u=a.document.createTextNode("");l.observe(u,{characterData:!0}),s=function(){u.data=c=++c%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=d,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var _=a.document.createElement("script");_.onreadystatechange=function(){d(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},a.document.documentElement.appendChild(_)}:s=function(){setTimeout(d,0)};var h,p=[];function d(){h=!0;for(var _,v,g=p.length;g;){for(v=p,p=[],_=-1;++_<g;)v[_]();g=p.length}h=!1}n.exports=m;function m(_){p.push(_)===1&&!h&&s()}}).call(this,typeof it<"u"?it:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];n.exports=f;function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==o&&m(this,b)}f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,w){if(typeof b!="function"&&this.state===l||typeof w!="function"&&this.state===c)return this;var E=new this.constructor(o);if(this.state!==u){var S=this.state===l?b:w;p(E,S,this.outcome)}else this.queue.push(new h(E,b,w));return E};function h(b,w,E){this.promise=b,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(b){s.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){s.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)};function p(b,w,E){a(function(){var S;try{S=w(E)}catch(C){return s.reject(b,C)}S===b?s.reject(b,new TypeError("Cannot resolve promise with itself")):s.resolve(b,S)})}s.resolve=function(b,w){var E=_(d,w);if(E.status==="error")return s.reject(b,E.value);var S=E.value;if(S)m(b,S);else{b.state=l,b.outcome=w;for(var C=-1,T=b.queue.length;++C<T;)b.queue[C].callFulfilled(w)}return b},s.reject=function(b,w){b.state=c,b.outcome=w;for(var E=-1,S=b.queue.length;++E<S;)b.queue[E].callRejected(w);return b};function d(b){var w=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof w=="function")return function(){w.apply(b,arguments)}}function m(b,w){var E=!1;function S(A){E||(E=!0,s.reject(b,A))}function C(A){E||(E=!0,s.resolve(b,A))}function T(){w(C,S)}var I=_(T);I.status==="error"&&S(I.value)}function _(b,w){var E={};try{E.value=b(w),E.status="success"}catch(S){E.status="error",E.value=S}return E}f.resolve=v;function v(b){return b instanceof this?b:s.resolve(new this(o),b)}f.reject=g;function g(b){var w=new this(o);return s.reject(w,b)}f.all=y;function y(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,S=!1;if(!E)return this.resolve([]);for(var C=new Array(E),T=0,I=-1,A=new this(o);++I<E;)R(b[I],I);return A;function R(O,F){w.resolve(O).then(N,function($){S||(S=!0,s.reject(A,$))});function N($){C[F]=$,++T===E&&!S&&(S=!0,s.resolve(A,C))}}}f.race=x;function x(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,S=!1;if(!E)return this.resolve([]);for(var C=-1,T=new this(o);++C<E;)I(b[C]);return T;function I(A){w.resolve(A).then(function(R){S||(S=!0,s.resolve(T,R))},function(R){S||(S=!0,s.reject(T,R))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof it<"u"?it:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X};function o(X,te){if(!(X instanceof te))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=s();function l(){try{if(!c||!c.open)return!1;var X=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),te=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!X||te)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(X,te){X=X||[],te=te||{};try{return new Blob(X,te)}catch(ie){if(ie.name!=="TypeError")throw ie;for(var Y=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ae=new Y,ue=0;ue<X.length;ue+=1)ae.append(X[ue]);return ae.getBlob(te.type)}}typeof Promise>"u"&&r(3);var f=Promise;function h(X,te){te&&X.then(function(Y){te(null,Y)},function(Y){te(Y)})}function p(X,te,Y){typeof te=="function"&&X.then(te),typeof Y=="function"&&X.catch(Y)}function d(X){return typeof X!="string"&&(console.warn(X+" used as a key, but it is not a string."),X=String(X)),X}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",v=void 0,g={},y=Object.prototype.toString,x="readonly",b="readwrite";function w(X){for(var te=X.length,Y=new ArrayBuffer(te),ae=new Uint8Array(Y),ue=0;ue<te;ue++)ae[ue]=X.charCodeAt(ue);return Y}function E(X){return new f(function(te){var Y=X.transaction(_,b),ae=u([""]);Y.objectStore(_).put(ae,"key"),Y.onabort=function(ue){ue.preventDefault(),ue.stopPropagation(),te(!1)},Y.oncomplete=function(){var ue=navigator.userAgent.match(/Chrome\/(\d+)/),ie=navigator.userAgent.match(/Edge\//);te(ie||!ue||parseInt(ue[1],10)>=43)}}).catch(function(){return!1})}function S(X){return typeof v=="boolean"?f.resolve(v):E(X).then(function(te){return v=te,v})}function C(X){var te=g[X.name],Y={};Y.promise=new f(function(ae,ue){Y.resolve=ae,Y.reject=ue}),te.deferredOperations.push(Y),te.dbReady?te.dbReady=te.dbReady.then(function(){return Y.promise}):te.dbReady=Y.promise}function T(X){var te=g[X.name],Y=te.deferredOperations.pop();if(Y)return Y.resolve(),Y.promise}function I(X,te){var Y=g[X.name],ae=Y.deferredOperations.pop();if(ae)return ae.reject(te),ae.promise}function A(X,te){return new f(function(Y,ae){if(g[X.name]=g[X.name]||j(),X.db)if(te)C(X),X.db.close();else return Y(X.db);var ue=[X.name];te&&ue.push(X.version);var ie=c.open.apply(c,ue);te&&(ie.onupgradeneeded=function(Ce){var Ie=ie.result;try{Ie.createObjectStore(X.storeName),Ce.oldVersion<=1&&Ie.createObjectStore(_)}catch(Pe){if(Pe.name==="ConstraintError")console.warn('The database "'+X.name+'" has been upgraded from version '+Ce.oldVersion+" to version "+Ce.newVersion+', but the storage "'+X.storeName+'" already exists.');else throw Pe}}),ie.onerror=function(Ce){Ce.preventDefault(),ae(ie.error)},ie.onsuccess=function(){var Ce=ie.result;Ce.onversionchange=function(Ie){Ie.target.close()},Y(Ce),T(X)}})}function R(X){return A(X,!1)}function O(X){return A(X,!0)}function F(X,te){if(!X.db)return!0;var Y=!X.db.objectStoreNames.contains(X.storeName),ae=X.version<X.db.version,ue=X.version>X.db.version;if(ae&&(X.version!==te&&console.warn('The database "'+X.name+`" can't be downgraded from version `+X.db.version+" to version "+X.version+"."),X.version=X.db.version),ue||Y){if(Y){var ie=X.db.version+1;ie>X.version&&(X.version=ie)}return!0}return!1}function N(X){return new f(function(te,Y){var ae=new FileReader;ae.onerror=Y,ae.onloadend=function(ue){var ie=btoa(ue.target.result||"");te({__local_forage_encoded_blob:!0,data:ie,type:X.type})},ae.readAsBinaryString(X)})}function $(X){var te=w(atob(X.data));return u([te],{type:X.type})}function q(X){return X&&X.__local_forage_encoded_blob}function K(X){var te=this,Y=te._initReady().then(function(){var ae=g[te._dbInfo.name];if(ae&&ae.dbReady)return ae.dbReady});return p(Y,X,X),Y}function G(X){C(X);for(var te=g[X.name],Y=te.forages,ae=0;ae<Y.length;ae++){var ue=Y[ae];ue._dbInfo.db&&(ue._dbInfo.db.close(),ue._dbInfo.db=null)}return X.db=null,R(X).then(function(ie){return X.db=ie,F(X)?O(X):ie}).then(function(ie){X.db=te.db=ie;for(var Ce=0;Ce<Y.length;Ce++)Y[Ce]._dbInfo.db=ie}).catch(function(ie){throw I(X,ie),ie})}function L(X,te,Y,ae){ae===void 0&&(ae=1);try{var ue=X.db.transaction(X.storeName,te);Y(null,ue)}catch(ie){if(ae>0&&(!X.db||ie.name==="InvalidStateError"||ie.name==="NotFoundError"))return f.resolve().then(function(){if(!X.db||ie.name==="NotFoundError"&&!X.db.objectStoreNames.contains(X.storeName)&&X.version<=X.db.version)return X.db&&(X.version=X.db.version+1),O(X)}).then(function(){return G(X).then(function(){L(X,te,Y,ae-1)})}).catch(Y);Y(ie)}}function j(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function B(X){var te=this,Y={db:null};if(X)for(var ae in X)Y[ae]=X[ae];var ue=g[Y.name];ue||(ue=j(),g[Y.name]=ue),ue.forages.push(te),te._initReady||(te._initReady=te.ready,te.ready=K);var ie=[];function Ce(){return f.resolve()}for(var Ie=0;Ie<ue.forages.length;Ie++){var Pe=ue.forages[Ie];Pe!==te&&ie.push(Pe._initReady().catch(Ce))}var Oe=ue.forages.slice(0);return f.all(ie).then(function(){return Y.db=ue.db,R(Y)}).then(function(Ue){return Y.db=Ue,F(Y,te._defaultConfig.version)?O(Y):Ue}).then(function(Ue){Y.db=ue.db=Ue,te._dbInfo=Y;for(var Ze=0;Ze<Oe.length;Ze++){var Et=Oe[Ze];Et!==te&&(Et._dbInfo.db=Y.db,Et._dbInfo.version=Y.version)}})}function D(X,te){var Y=this;X=d(X);var ae=new f(function(ue,ie){Y.ready().then(function(){L(Y._dbInfo,x,function(Ce,Ie){if(Ce)return ie(Ce);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=Pe.get(X);Oe.onsuccess=function(){var Ue=Oe.result;Ue===void 0&&(Ue=null),q(Ue)&&(Ue=$(Ue)),ue(Ue)},Oe.onerror=function(){ie(Oe.error)}}catch(Ue){ie(Ue)}})}).catch(ie)});return h(ae,te),ae}function J(X,te){var Y=this,ae=new f(function(ue,ie){Y.ready().then(function(){L(Y._dbInfo,x,function(Ce,Ie){if(Ce)return ie(Ce);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=Pe.openCursor(),Ue=1;Oe.onsuccess=function(){var Ze=Oe.result;if(Ze){var Et=Ze.value;q(Et)&&(Et=$(Et));var qt=X(Et,Ze.key,Ue++);qt!==void 0?ue(qt):Ze.continue()}else ue()},Oe.onerror=function(){ie(Oe.error)}}catch(Ze){ie(Ze)}})}).catch(ie)});return h(ae,te),ae}function Q(X,te,Y){var ae=this;X=d(X);var ue=new f(function(ie,Ce){var Ie;ae.ready().then(function(){return Ie=ae._dbInfo,y.call(te)==="[object Blob]"?S(Ie.db).then(function(Pe){return Pe?te:N(te)}):te}).then(function(Pe){L(ae._dbInfo,b,function(Oe,Ue){if(Oe)return Ce(Oe);try{var Ze=Ue.objectStore(ae._dbInfo.storeName);Pe===null&&(Pe=void 0);var Et=Ze.put(Pe,X);Ue.oncomplete=function(){Pe===void 0&&(Pe=null),ie(Pe)},Ue.onabort=Ue.onerror=function(){var qt=Et.error?Et.error:Et.transaction.error;Ce(qt)}}catch(qt){Ce(qt)}})}).catch(Ce)});return h(ue,Y),ue}function se(X,te){var Y=this;X=d(X);var ae=new f(function(ue,ie){Y.ready().then(function(){L(Y._dbInfo,b,function(Ce,Ie){if(Ce)return ie(Ce);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=Pe.delete(X);Ie.oncomplete=function(){ue()},Ie.onerror=function(){ie(Oe.error)},Ie.onabort=function(){var Ue=Oe.error?Oe.error:Oe.transaction.error;ie(Ue)}}catch(Ue){ie(Ue)}})}).catch(ie)});return h(ae,te),ae}function re(X){var te=this,Y=new f(function(ae,ue){te.ready().then(function(){L(te._dbInfo,b,function(ie,Ce){if(ie)return ue(ie);try{var Ie=Ce.objectStore(te._dbInfo.storeName),Pe=Ie.clear();Ce.oncomplete=function(){ae()},Ce.onabort=Ce.onerror=function(){var Oe=Pe.error?Pe.error:Pe.transaction.error;ue(Oe)}}catch(Oe){ue(Oe)}})}).catch(ue)});return h(Y,X),Y}function ce(X){var te=this,Y=new f(function(ae,ue){te.ready().then(function(){L(te._dbInfo,x,function(ie,Ce){if(ie)return ue(ie);try{var Ie=Ce.objectStore(te._dbInfo.storeName),Pe=Ie.count();Pe.onsuccess=function(){ae(Pe.result)},Pe.onerror=function(){ue(Pe.error)}}catch(Oe){ue(Oe)}})}).catch(ue)});return h(Y,X),Y}function Ee(X,te){var Y=this,ae=new f(function(ue,ie){if(X<0){ue(null);return}Y.ready().then(function(){L(Y._dbInfo,x,function(Ce,Ie){if(Ce)return ie(Ce);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=!1,Ue=Pe.openKeyCursor();Ue.onsuccess=function(){var Ze=Ue.result;if(!Ze){ue(null);return}X===0||Oe?ue(Ze.key):(Oe=!0,Ze.advance(X))},Ue.onerror=function(){ie(Ue.error)}}catch(Ze){ie(Ze)}})}).catch(ie)});return h(ae,te),ae}function we(X){var te=this,Y=new f(function(ae,ue){te.ready().then(function(){L(te._dbInfo,x,function(ie,Ce){if(ie)return ue(ie);try{var Ie=Ce.objectStore(te._dbInfo.storeName),Pe=Ie.openKeyCursor(),Oe=[];Pe.onsuccess=function(){var Ue=Pe.result;if(!Ue){ae(Oe);return}Oe.push(Ue.key),Ue.continue()},Pe.onerror=function(){ue(Pe.error)}}catch(Ue){ue(Ue)}})}).catch(ue)});return h(Y,X),Y}function pe(X,te){te=m.apply(this,arguments);var Y=this.config();X=typeof X!="function"&&X||{},X.name||(X.name=X.name||Y.name,X.storeName=X.storeName||Y.storeName);var ae=this,ue;if(!X.name)ue=f.reject("Invalid arguments");else{var ie=X.name===Y.name&&ae._dbInfo.db,Ce=ie?f.resolve(ae._dbInfo.db):R(X).then(function(Ie){var Pe=g[X.name],Oe=Pe.forages;Pe.db=Ie;for(var Ue=0;Ue<Oe.length;Ue++)Oe[Ue]._dbInfo.db=Ie;return Ie});X.storeName?ue=Ce.then(function(Ie){if(Ie.objectStoreNames.contains(X.storeName)){var Pe=Ie.version+1;C(X);var Oe=g[X.name],Ue=Oe.forages;Ie.close();for(var Ze=0;Ze<Ue.length;Ze++){var Et=Ue[Ze];Et._dbInfo.db=null,Et._dbInfo.version=Pe}var qt=new f(function(Jt,Zr){var Ur=c.open(X.name,Pe);Ur.onerror=function(Bi){var xf=Ur.result;xf.close(),Zr(Bi)},Ur.onupgradeneeded=function(){var Bi=Ur.result;Bi.deleteObjectStore(X.storeName)},Ur.onsuccess=function(){var Bi=Ur.result;Bi.close(),Jt(Bi)}});return qt.then(function(Jt){Oe.db=Jt;for(var Zr=0;Zr<Ue.length;Zr++){var Ur=Ue[Zr];Ur._dbInfo.db=Jt,T(Ur._dbInfo)}}).catch(function(Jt){throw(I(X,Jt)||f.resolve()).catch(function(){}),Jt})}}):ue=Ce.then(function(Ie){C(X);var Pe=g[X.name],Oe=Pe.forages;Ie.close();for(var Ue=0;Ue<Oe.length;Ue++){var Ze=Oe[Ue];Ze._dbInfo.db=null}var Et=new f(function(qt,Jt){var Zr=c.deleteDatabase(X.name);Zr.onerror=function(){var Ur=Zr.result;Ur&&Ur.close(),Jt(Zr.error)},Zr.onblocked=function(){console.warn('dropInstance blocked for database "'+X.name+'" until all open connections are closed')},Zr.onsuccess=function(){var Ur=Zr.result;Ur&&Ur.close(),qt(Ur)}});return Et.then(function(qt){Pe.db=qt;for(var Jt=0;Jt<Oe.length;Jt++){var Zr=Oe[Jt];T(Zr._dbInfo)}}).catch(function(qt){throw(I(X,qt)||f.resolve()).catch(function(){}),qt})})}return h(ue,te),ue}var ve={_driver:"asyncStorage",_initStorage:B,_support:l(),iterate:J,getItem:D,setItem:Q,removeItem:se,clear:re,length:ce,key:Ee,keys:we,dropInstance:pe};function Ae(){return typeof openDatabase=="function"}var ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te="~~local_forage_type~",Fe=/^~~local_forage_type~([^~]+)~/,Ne="__lfsc__:",Je=Ne.length,vt="arbf",Qe="blob",Ke="si08",ut="ui08",Lt="uic8",$t="si16",Mt="si32",Bt="ur16",nt="ui32",Vt="fl32",xe="fl64",M=Je+vt.length,ne=Object.prototype.toString;function de(X){var te=X.length*.75,Y=X.length,ae,ue=0,ie,Ce,Ie,Pe;X[X.length-1]==="="&&(te--,X[X.length-2]==="="&&te--);var Oe=new ArrayBuffer(te),Ue=new Uint8Array(Oe);for(ae=0;ae<Y;ae+=4)ie=ke.indexOf(X[ae]),Ce=ke.indexOf(X[ae+1]),Ie=ke.indexOf(X[ae+2]),Pe=ke.indexOf(X[ae+3]),Ue[ue++]=ie<<2|Ce>>4,Ue[ue++]=(Ce&15)<<4|Ie>>2,Ue[ue++]=(Ie&3)<<6|Pe&63;return Oe}function be(X){var te=new Uint8Array(X),Y="",ae;for(ae=0;ae<te.length;ae+=3)Y+=ke[te[ae]>>2],Y+=ke[(te[ae]&3)<<4|te[ae+1]>>4],Y+=ke[(te[ae+1]&15)<<2|te[ae+2]>>6],Y+=ke[te[ae+2]&63];return te.length%3===2?Y=Y.substring(0,Y.length-1)+"=":te.length%3===1&&(Y=Y.substring(0,Y.length-2)+"=="),Y}function Z(X,te){var Y="";if(X&&(Y=ne.call(X)),X&&(Y==="[object ArrayBuffer]"||X.buffer&&ne.call(X.buffer)==="[object ArrayBuffer]")){var ae,ue=Ne;X instanceof ArrayBuffer?(ae=X,ue+=vt):(ae=X.buffer,Y==="[object Int8Array]"?ue+=Ke:Y==="[object Uint8Array]"?ue+=ut:Y==="[object Uint8ClampedArray]"?ue+=Lt:Y==="[object Int16Array]"?ue+=$t:Y==="[object Uint16Array]"?ue+=Bt:Y==="[object Int32Array]"?ue+=Mt:Y==="[object Uint32Array]"?ue+=nt:Y==="[object Float32Array]"?ue+=Vt:Y==="[object Float64Array]"?ue+=xe:te(new Error("Failed to get type for BinaryArray"))),te(ue+be(ae))}else if(Y==="[object Blob]"){var ie=new FileReader;ie.onload=function(){var Ce=Te+X.type+"~"+be(this.result);te(Ne+Qe+Ce)},ie.readAsArrayBuffer(X)}else try{te(JSON.stringify(X))}catch(Ce){console.error("Couldn't convert value into a JSON string: ",X),te(null,Ce)}}function me(X){if(X.substring(0,Je)!==Ne)return JSON.parse(X);var te=X.substring(M),Y=X.substring(Je,M),ae;if(Y===Qe&&Fe.test(te)){var ue=te.match(Fe);ae=ue[1],te=te.substring(ue[0].length)}var ie=de(te);switch(Y){case vt:return ie;case Qe:return u([ie],{type:ae});case Ke:return new Int8Array(ie);case ut:return new Uint8Array(ie);case Lt:return new Uint8ClampedArray(ie);case $t:return new Int16Array(ie);case Bt:return new Uint16Array(ie);case Mt:return new Int32Array(ie);case nt:return new Uint32Array(ie);case Vt:return new Float32Array(ie);case xe:return new Float64Array(ie);default:throw new Error("Unkown type: "+Y)}}var U={serialize:Z,deserialize:me,stringToBuffer:de,bufferToString:be};function Se(X,te,Y,ae){X.executeSql("CREATE TABLE IF NOT EXISTS "+te.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Y,ae)}function We(X){var te=this,Y={db:null};if(X)for(var ae in X)Y[ae]=typeof X[ae]!="string"?X[ae].toString():X[ae];var ue=new f(function(ie,Ce){try{Y.db=openDatabase(Y.name,String(Y.version),Y.description,Y.size)}catch(Ie){return Ce(Ie)}Y.db.transaction(function(Ie){Se(Ie,Y,function(){te._dbInfo=Y,ie()},function(Pe,Oe){Ce(Oe)})},Ce)});return Y.serializer=U,ue}function P(X,te,Y,ae,ue,ie){X.executeSql(Y,ae,ue,function(Ce,Ie){Ie.code===Ie.SYNTAX_ERR?Ce.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[te.storeName],function(Pe,Oe){Oe.rows.length?ie(Pe,Ie):Se(Pe,te,function(){Pe.executeSql(Y,ae,ue,ie)},ie)},ie):ie(Ce,Ie)},ie)}function ge(X,te){var Y=this;X=d(X);var ae=new f(function(ue,ie){Y.ready().then(function(){var Ce=Y._dbInfo;Ce.db.transaction(function(Ie){P(Ie,Ce,"SELECT * FROM "+Ce.storeName+" WHERE key = ? LIMIT 1",[X],function(Pe,Oe){var Ue=Oe.rows.length?Oe.rows.item(0).value:null;Ue&&(Ue=Ce.serializer.deserialize(Ue)),ue(Ue)},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function _e(X,te){var Y=this,ae=new f(function(ue,ie){Y.ready().then(function(){var Ce=Y._dbInfo;Ce.db.transaction(function(Ie){P(Ie,Ce,"SELECT * FROM "+Ce.storeName,[],function(Pe,Oe){for(var Ue=Oe.rows,Ze=Ue.length,Et=0;Et<Ze;Et++){var qt=Ue.item(Et),Jt=qt.value;if(Jt&&(Jt=Ce.serializer.deserialize(Jt)),Jt=X(Jt,qt.key,Et+1),Jt!==void 0){ue(Jt);return}}ue()},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function V(X,te,Y,ae){var ue=this;X=d(X);var ie=new f(function(Ce,Ie){ue.ready().then(function(){te===void 0&&(te=null);var Pe=te,Oe=ue._dbInfo;Oe.serializer.serialize(te,function(Ue,Ze){Ze?Ie(Ze):Oe.db.transaction(function(Et){P(Et,Oe,"INSERT OR REPLACE INTO "+Oe.storeName+" (key, value) VALUES (?, ?)",[X,Ue],function(){Ce(Pe)},function(qt,Jt){Ie(Jt)})},function(Et){if(Et.code===Et.QUOTA_ERR){if(ae>0){Ce(V.apply(ue,[X,Pe,Y,ae-1]));return}Ie(Et)}})})}).catch(Ie)});return h(ie,Y),ie}function ee(X,te,Y){return V.apply(this,[X,te,Y,1])}function fe(X,te){var Y=this;X=d(X);var ae=new f(function(ue,ie){Y.ready().then(function(){var Ce=Y._dbInfo;Ce.db.transaction(function(Ie){P(Ie,Ce,"DELETE FROM "+Ce.storeName+" WHERE key = ?",[X],function(){ue()},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function ze(X){var te=this,Y=new f(function(ae,ue){te.ready().then(function(){var ie=te._dbInfo;ie.db.transaction(function(Ce){P(Ce,ie,"DELETE FROM "+ie.storeName,[],function(){ae()},function(Ie,Pe){ue(Pe)})})}).catch(ue)});return h(Y,X),Y}function De(X){var te=this,Y=new f(function(ae,ue){te.ready().then(function(){var ie=te._dbInfo;ie.db.transaction(function(Ce){P(Ce,ie,"SELECT COUNT(key) as c FROM "+ie.storeName,[],function(Ie,Pe){var Oe=Pe.rows.item(0).c;ae(Oe)},function(Ie,Pe){ue(Pe)})})}).catch(ue)});return h(Y,X),Y}function Ge(X,te){var Y=this,ae=new f(function(ue,ie){Y.ready().then(function(){var Ce=Y._dbInfo;Ce.db.transaction(function(Ie){P(Ie,Ce,"SELECT key FROM "+Ce.storeName+" WHERE id = ? LIMIT 1",[X+1],function(Pe,Oe){var Ue=Oe.rows.length?Oe.rows.item(0).key:null;ue(Ue)},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function ct(X){var te=this,Y=new f(function(ae,ue){te.ready().then(function(){var ie=te._dbInfo;ie.db.transaction(function(Ce){P(Ce,ie,"SELECT key FROM "+ie.storeName,[],function(Ie,Pe){for(var Oe=[],Ue=0;Ue<Pe.rows.length;Ue++)Oe.push(Pe.rows.item(Ue).key);ae(Oe)},function(Ie,Pe){ue(Pe)})})}).catch(ue)});return h(Y,X),Y}function sn(X){return new f(function(te,Y){X.transaction(function(ae){ae.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ue,ie){for(var Ce=[],Ie=0;Ie<ie.rows.length;Ie++)Ce.push(ie.rows.item(Ie).name);te({db:X,storeNames:Ce})},function(ue,ie){Y(ie)})},function(ae){Y(ae)})})}function Dt(X,te){te=m.apply(this,arguments);var Y=this.config();X=typeof X!="function"&&X||{},X.name||(X.name=X.name||Y.name,X.storeName=X.storeName||Y.storeName);var ae=this,ue;return X.name?ue=new f(function(ie){var Ce;X.name===Y.name?Ce=ae._dbInfo.db:Ce=openDatabase(X.name,"","",0),X.storeName?ie({db:Ce,storeNames:[X.storeName]}):ie(sn(Ce))}).then(function(ie){return new f(function(Ce,Ie){ie.db.transaction(function(Pe){function Oe(qt){return new f(function(Jt,Zr){Pe.executeSql("DROP TABLE IF EXISTS "+qt,[],function(){Jt()},function(Ur,Bi){Zr(Bi)})})}for(var Ue=[],Ze=0,Et=ie.storeNames.length;Ze<Et;Ze++)Ue.push(Oe(ie.storeNames[Ze]));f.all(Ue).then(function(){Ce()}).catch(function(qt){Ie(qt)})},function(Pe){Ie(Pe)})})}):ue=f.reject("Invalid arguments"),h(ue,te),ue}var et={_driver:"webSQLStorage",_initStorage:We,_support:Ae(),iterate:_e,getItem:ge,setItem:ee,removeItem:fe,clear:ze,length:De,key:Ge,keys:ct,dropInstance:Dt};function Yt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Pr(X,te){var Y=X.name+"/";return X.storeName!==te.storeName&&(Y+=X.storeName+"/"),Y}function _n(){var X="_localforage_support_test";try{return localStorage.setItem(X,!0),localStorage.removeItem(X),!1}catch{return!0}}function Ql(){return!_n()||localStorage.length>0}function eu(X){var te=this,Y={};if(X)for(var ae in X)Y[ae]=X[ae];return Y.keyPrefix=Pr(X,te._defaultConfig),Ql()?(te._dbInfo=Y,Y.serializer=U,f.resolve()):f.reject()}function Or(X){var te=this,Y=te.ready().then(function(){for(var ae=te._dbInfo.keyPrefix,ue=localStorage.length-1;ue>=0;ue--){var ie=localStorage.key(ue);ie.indexOf(ae)===0&&localStorage.removeItem(ie)}});return h(Y,X),Y}function di(X,te){var Y=this;X=d(X);var ae=Y.ready().then(function(){var ue=Y._dbInfo,ie=localStorage.getItem(ue.keyPrefix+X);return ie&&(ie=ue.serializer.deserialize(ie)),ie});return h(ae,te),ae}function ln(X,te){var Y=this,ae=Y.ready().then(function(){for(var ue=Y._dbInfo,ie=ue.keyPrefix,Ce=ie.length,Ie=localStorage.length,Pe=1,Oe=0;Oe<Ie;Oe++){var Ue=localStorage.key(Oe);if(Ue.indexOf(ie)===0){var Ze=localStorage.getItem(Ue);if(Ze&&(Ze=ue.serializer.deserialize(Ze)),Ze=X(Ze,Ue.substring(Ce),Pe++),Ze!==void 0)return Ze}}});return h(ae,te),ae}function Ji(X,te){var Y=this,ae=Y.ready().then(function(){var ue=Y._dbInfo,ie;try{ie=localStorage.key(X)}catch{ie=null}return ie&&(ie=ie.substring(ue.keyPrefix.length)),ie});return h(ae,te),ae}function Mi(X){var te=this,Y=te.ready().then(function(){for(var ae=te._dbInfo,ue=localStorage.length,ie=[],Ce=0;Ce<ue;Ce++){var Ie=localStorage.key(Ce);Ie.indexOf(ae.keyPrefix)===0&&ie.push(Ie.substring(ae.keyPrefix.length))}return ie});return h(Y,X),Y}function v0(X){var te=this,Y=te.keys().then(function(ae){return ae.length});return h(Y,X),Y}function X$(X,te){var Y=this;X=d(X);var ae=Y.ready().then(function(){var ue=Y._dbInfo;localStorage.removeItem(ue.keyPrefix+X)});return h(ae,te),ae}function z$(X,te,Y){var ae=this;X=d(X);var ue=ae.ready().then(function(){te===void 0&&(te=null);var ie=te;return new f(function(Ce,Ie){var Pe=ae._dbInfo;Pe.serializer.serialize(te,function(Oe,Ue){if(Ue)Ie(Ue);else try{localStorage.setItem(Pe.keyPrefix+X,Oe),Ce(ie)}catch(Ze){(Ze.name==="QuotaExceededError"||Ze.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(Ze),Ie(Ze)}})})});return h(ue,Y),ue}function W$(X,te){if(te=m.apply(this,arguments),X=typeof X!="function"&&X||{},!X.name){var Y=this.config();X.name=X.name||Y.name,X.storeName=X.storeName||Y.storeName}var ae=this,ue;return X.name?ue=new f(function(ie){X.storeName?ie(Pr(X,ae._defaultConfig)):ie(X.name+"/")}).then(function(ie){for(var Ce=localStorage.length-1;Ce>=0;Ce--){var Ie=localStorage.key(Ce);Ie.indexOf(ie)===0&&localStorage.removeItem(Ie)}}):ue=f.reject("Invalid arguments"),h(ue,te),ue}var Y$={_driver:"localStorageWrapper",_initStorage:eu,_support:Yt(),iterate:ln,getItem:di,setItem:z$,removeItem:X$,clear:Or,length:v0,key:Ji,keys:Mi,dropInstance:W$},q$=function(te,Y){return te===Y||typeof te=="number"&&typeof Y=="number"&&isNaN(te)&&isNaN(Y)},K$=function(te,Y){for(var ae=te.length,ue=0;ue<ae;){if(q$(te[ue],Y))return!0;ue++}return!1},LI=Array.isArray||function(X){return Object.prototype.toString.call(X)==="[object Array]"},yf={},MI={},tu={INDEXEDDB:ve,WEBSQL:et,LOCALSTORAGE:Y$},Z$=[tu.INDEXEDDB._driver,tu.WEBSQL._driver,tu.LOCALSTORAGE._driver],m0=["dropInstance"],w_=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(m0),J$={description:"",driver:Z$.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Q$(X,te){X[te]=function(){var Y=arguments;return X.ready().then(function(){return X[te].apply(X,Y)})}}function E_(){for(var X=1;X<arguments.length;X++){var te=arguments[X];if(te)for(var Y in te)te.hasOwnProperty(Y)&&(LI(te[Y])?arguments[0][Y]=te[Y].slice():arguments[0][Y]=te[Y])}return arguments[0]}var e7=function(){function X(te){o(this,X);for(var Y in tu)if(tu.hasOwnProperty(Y)){var ae=tu[Y],ue=ae._driver;this[Y]=ue,yf[ue]||this.defineDriver(ae)}this._defaultConfig=E_({},J$),this._config=E_({},this._defaultConfig,te),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return X.prototype.config=function(Y){if((typeof Y>"u"?"undefined":a(Y))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ae in Y){if(ae==="storeName"&&(Y[ae]=Y[ae].replace(/\W/g,"_")),ae==="version"&&typeof Y[ae]!="number")return new Error("Database version must be a number.");this._config[ae]=Y[ae]}return"driver"in Y&&Y.driver?this.setDriver(this._config.driver):!0}else return typeof Y=="string"?this._config[Y]:this._config},X.prototype.defineDriver=function(Y,ae,ue){var ie=new f(function(Ce,Ie){try{var Pe=Y._driver,Oe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Y._driver){Ie(Oe);return}for(var Ue=w_.concat("_initStorage"),Ze=0,Et=Ue.length;Ze<Et;Ze++){var qt=Ue[Ze],Jt=!K$(m0,qt);if((Jt||Y[qt])&&typeof Y[qt]!="function"){Ie(Oe);return}}var Zr=function(){for(var xf=function(n7){return function(){var i7=new Error("Method "+n7+" is not implemented by the current driver"),BI=f.reject(i7);return h(BI,arguments[arguments.length-1]),BI}},S_=0,r7=m0.length;S_<r7;S_++){var C_=m0[S_];Y[C_]||(Y[C_]=xf(C_))}};Zr();var Ur=function(xf){yf[Pe]&&console.info("Redefining LocalForage driver: "+Pe),yf[Pe]=Y,MI[Pe]=xf,Ce()};"_support"in Y?Y._support&&typeof Y._support=="function"?Y._support().then(Ur,Ie):Ur(!!Y._support):Ur(!0)}catch(Bi){Ie(Bi)}});return p(ie,ae,ue),ie},X.prototype.driver=function(){return this._driver||null},X.prototype.getDriver=function(Y,ae,ue){var ie=yf[Y]?f.resolve(yf[Y]):f.reject(new Error("Driver not found."));return p(ie,ae,ue),ie},X.prototype.getSerializer=function(Y){var ae=f.resolve(U);return p(ae,Y),ae},X.prototype.ready=function(Y){var ae=this,ue=ae._driverSet.then(function(){return ae._ready===null&&(ae._ready=ae._initDriver()),ae._ready});return p(ue,Y,Y),ue},X.prototype.setDriver=function(Y,ae,ue){var ie=this;LI(Y)||(Y=[Y]);var Ce=this._getSupportedDrivers(Y);function Ie(){ie._config.driver=ie.driver()}function Pe(Ze){return ie._extend(Ze),Ie(),ie._ready=ie._initStorage(ie._config),ie._ready}function Oe(Ze){return function(){var Et=0;function qt(){for(;Et<Ze.length;){var Jt=Ze[Et];return Et++,ie._dbInfo=null,ie._ready=null,ie.getDriver(Jt).then(Pe).catch(qt)}Ie();var Zr=new Error("No available storage method found.");return ie._driverSet=f.reject(Zr),ie._driverSet}return qt()}}var Ue=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Ue.then(function(){var Ze=Ce[0];return ie._dbInfo=null,ie._ready=null,ie.getDriver(Ze).then(function(Et){ie._driver=Et._driver,Ie(),ie._wrapLibraryMethodsWithReady(),ie._initDriver=Oe(Ce)})}).catch(function(){Ie();var Ze=new Error("No available storage method found.");return ie._driverSet=f.reject(Ze),ie._driverSet}),p(this._driverSet,ae,ue),this._driverSet},X.prototype.supports=function(Y){return!!MI[Y]},X.prototype._extend=function(Y){E_(this,Y)},X.prototype._getSupportedDrivers=function(Y){for(var ae=[],ue=0,ie=Y.length;ue<ie;ue++){var Ce=Y[ue];this.supports(Ce)&&ae.push(Ce)}return ae},X.prototype._wrapLibraryMethodsWithReady=function(){for(var Y=0,ae=w_.length;Y<ae;Y++)Q$(this,w_[Y])},X.prototype.createInstance=function(Y){return new X(Y)},X}(),t7=new e7;n.exports=t7},{3:3}]},{},[4])(4)})})(BD);var kl=BD.exports;const Ja=Pn(kl);var gC={exports:{}},DD=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},FJ=DD,zl=Object.prototype.toString;function _C(t){return zl.call(t)==="[object Array]"}function hw(t){return typeof t>"u"}function NJ(t){return t!==null&&!hw(t)&&t.constructor!==null&&!hw(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function LJ(t){return zl.call(t)==="[object ArrayBuffer]"}function MJ(t){return typeof FormData<"u"&&t instanceof FormData}function BJ(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function DJ(t){return typeof t=="string"}function UJ(t){return typeof t=="number"}function UD(t){return t!==null&&typeof t=="object"}function Np(t){if(zl.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function jJ(t){return zl.call(t)==="[object Date]"}function $J(t){return zl.call(t)==="[object File]"}function VJ(t){return zl.call(t)==="[object Blob]"}function jD(t){return zl.call(t)==="[object Function]"}function GJ(t){return UD(t)&&jD(t.pipe)}function HJ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function XJ(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function zJ(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function yC(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),_C(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function dw(){var t={};function e(i,a){Np(t[a])&&Np(i)?t[a]=dw(t[a],i):Np(i)?t[a]=dw({},i):_C(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)yC(arguments[r],e);return t}function WJ(t,e,r){return yC(e,function(i,a){r&&typeof i=="function"?t[a]=FJ(i,r):t[a]=i}),t}function YJ(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Fi={isArray:_C,isArrayBuffer:LJ,isBuffer:NJ,isFormData:MJ,isArrayBufferView:BJ,isString:DJ,isNumber:UJ,isObject:UD,isPlainObject:Np,isUndefined:hw,isDate:jJ,isFile:$J,isBlob:VJ,isFunction:jD,isStream:GJ,isURLSearchParams:HJ,isStandardBrowserEnv:zJ,forEach:yC,merge:dw,extend:WJ,trim:XJ,stripBOM:YJ},au=Fi;function VP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var $D=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(au.isURLSearchParams(r))i=r.toString();else{var a=[];au.forEach(r,function(c,l){c===null||typeof c>"u"||(au.isArray(c)?l=l+"[]":c=[c],au.forEach(c,function(f){au.isDate(f)?f=f.toISOString():au.isObject(f)&&(f=JSON.stringify(f)),a.push(VP(l)+"="+VP(f))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},qJ=Fi;function Xm(){this.handlers=[]}Xm.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Xm.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Xm.prototype.forEach=function(e){qJ.forEach(this.handlers,function(n){n!==null&&e(n)})};var KJ=Xm,ZJ=Fi,JJ=function(e,r){ZJ.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},VD=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},iy,GP;function GD(){if(GP)return iy;GP=1;var t=VD;return iy=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},iy}var ay,HP;function QJ(){if(HP)return ay;HP=1;var t=GD();return ay=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},ay}var oy,XP;function eQ(){if(XP)return oy;XP=1;var t=Fi;return oy=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),oy}var sy,zP;function tQ(){return zP||(zP=1,sy=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),sy}var ly,WP;function rQ(){return WP||(WP=1,ly=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),ly}var uy,YP;function nQ(){if(YP)return uy;YP=1;var t=tQ(),e=rQ();return uy=function(n,i){return n&&!t(i)?e(n,i):i},uy}var cy,qP;function iQ(){if(qP)return cy;qP=1;var t=Fi,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return cy=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},cy}var fy,KP;function aQ(){if(KP)return fy;KP=1;var t=Fi;return fy=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),fy}var hy,ZP;function zm(){if(ZP)return hy;ZP=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,hy=t,hy}var dy,JP;function QP(){if(JP)return dy;JP=1;var t=Fi,e=QJ(),r=eQ(),n=$D,i=nQ(),a=iQ(),o=aQ(),s=GD(),c=Wm(),l=zm();return dy=function(f){return new Promise(function(p,d){var m=f.data,_=f.headers,v=f.responseType,g;function y(){f.cancelToken&&f.cancelToken.unsubscribe(g),f.signal&&f.signal.removeEventListener("abort",g)}t.isFormData(m)&&delete _["Content-Type"];var x=new XMLHttpRequest;if(f.auth){var b=f.auth.username||"",w=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";_.Authorization="Basic "+btoa(b+":"+w)}var E=i(f.baseURL,f.url);x.open(f.method.toUpperCase(),n(E,f.params,f.paramsSerializer),!0),x.timeout=f.timeout;function S(){if(x){var T="getAllResponseHeaders"in x?a(x.getAllResponseHeaders()):null,I=!v||v==="text"||v==="json"?x.responseText:x.response,A={data:I,status:x.status,statusText:x.statusText,headers:T,config:f,request:x};e(function(O){p(O),y()},function(O){d(O),y()},A),x=null}}if("onloadend"in x?x.onloadend=S:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(S)},x.onabort=function(){x&&(d(s("Request aborted",f,"ECONNABORTED",x)),x=null)},x.onerror=function(){d(s("Network Error",f,null,x)),x=null},x.ontimeout=function(){var I=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",A=f.transitional||c.transitional;f.timeoutErrorMessage&&(I=f.timeoutErrorMessage),d(s(I,f,A.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},t.isStandardBrowserEnv()){var C=(f.withCredentials||o(E))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;C&&(_[f.xsrfHeaderName]=C)}"setRequestHeader"in x&&t.forEach(_,function(I,A){typeof m>"u"&&A.toLowerCase()==="content-type"?delete _[A]:x.setRequestHeader(A,I)}),t.isUndefined(f.withCredentials)||(x.withCredentials=!!f.withCredentials),v&&v!=="json"&&(x.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&x.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(g=function(T){x&&(d(!T||T&&T.type?new l("canceled"):T),x.abort(),x=null)},f.cancelToken&&f.cancelToken.subscribe(g),f.signal&&(f.signal.aborted?g():f.signal.addEventListener("abort",g))),m||(m=null),x.send(m)})},dy}var py,eO;function Wm(){if(eO)return py;eO=1;var t=Fi,e=JJ,r=VD,n={"Content-Type":"application/x-www-form-urlencoded"};function i(c,l){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=l)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=QP()),c}function o(c,l,u){if(t.isString(c))try{return(l||JSON.parse)(c),t.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(u||JSON.stringify)(c)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),o(l)):l}],transformResponse:[function(l){var u=this.transitional||s.transitional,f=u&&u.silentJSONParsing,h=u&&u.forcedJSONParsing,p=!f&&this.responseType==="json";if(p||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(d){if(p)throw d.name==="SyntaxError"?r(d,this,"E_JSON_PARSE"):d}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),py=s,py}var oQ=Fi,sQ=Wm(),lQ=function(e,r,n){var i=this||sQ;return oQ.forEach(n,function(o){e=o.call(i,e,r)}),e},vy,tO;function HD(){return tO||(tO=1,vy=function(e){return!!(e&&e.__CANCEL__)}),vy}var rO=Fi,my=lQ,uQ=HD(),cQ=Wm(),fQ=zm();function gy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fQ("canceled")}var hQ=function(e){gy(e),e.headers=e.headers||{},e.data=my.call(e,e.data,e.headers,e.transformRequest),e.headers=rO.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),rO.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||cQ.adapter;return r(e).then(function(i){return gy(e),i.data=my.call(e,i.data,i.headers,e.transformResponse),i},function(i){return uQ(i)||(gy(e),i&&i.response&&(i.response.data=my.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Ci=Fi,XD=function(e,r){r=r||{};var n={};function i(u,f){return Ci.isPlainObject(u)&&Ci.isPlainObject(f)?Ci.merge(u,f):Ci.isPlainObject(f)?Ci.merge({},f):Ci.isArray(f)?f.slice():f}function a(u){if(Ci.isUndefined(r[u])){if(!Ci.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Ci.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Ci.isUndefined(r[u])){if(!Ci.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Ci.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,p=h(f);Ci.isUndefined(p)&&h!==c||(n[f]=p)}),n},_y,nO;function zD(){return nO||(nO=1,_y={version:"0.24.0"}),_y}var dQ=zD().version,xC={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){xC[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var iO={};xC.transitional=function(e,r,n){function i(a,o){return"[Axios v"+dQ+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!iO[o]&&(iO[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function pQ(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new TypeError("option "+a+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+a)}}var vQ={assertOptions:pQ,validators:xC},WD=Fi,mQ=$D,aO=KJ,oO=hQ,Ym=XD,YD=vQ,ou=YD.validators;function Wd(t){this.defaults=t,this.interceptors={request:new aO,response:new aO}}Wd.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Ym(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&YD.assertOptions(r,{silentJSONParsing:ou.transitional(ou.boolean),forcedJSONParsing:ou.transitional(ou.boolean),clarifyTimeoutError:ou.transitional(ou.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[oO,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=e;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{o=oO(c)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};Wd.prototype.getUri=function(e){return e=Ym(this.defaults,e),mQ(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};WD.forEach(["delete","get","head","options"],function(e){Wd.prototype[e]=function(r,n){return this.request(Ym(n||{},{method:e,url:r,data:(n||{}).data}))}});WD.forEach(["post","put","patch"],function(e){Wd.prototype[e]=function(r,n,i){return this.request(Ym(i||{},{method:e,url:r,data:n}))}});var gQ=Wd,yy,sO;function _Q(){if(sO)return yy;sO=1;var t=zm();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},yy=e,yy}var xy,lO;function yQ(){return lO||(lO=1,xy=function(e){return function(n){return e.apply(null,n)}}),xy}var by,uO;function xQ(){return uO||(uO=1,by=function(e){return typeof e=="object"&&e.isAxiosError===!0}),by}var cO=Fi,bQ=DD,Lp=gQ,wQ=XD,EQ=Wm();function qD(t){var e=new Lp(t),r=bQ(Lp.prototype.request,e);return cO.extend(r,Lp.prototype,e),cO.extend(r,e),r.create=function(i){return qD(wQ(t,i))},r}var Qa=qD(EQ);Qa.Axios=Lp;Qa.Cancel=zm();Qa.CancelToken=_Q();Qa.isCancel=HD();Qa.VERSION=zD().version;Qa.all=function(e){return Promise.all(e)};Qa.spread=yQ();Qa.isAxiosError=xQ();gC.exports=Qa;gC.exports.default=Qa;var SQ=gC.exports,CQ=SQ;const TQ=CQ;class AQ{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&TQ.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var IQ=AQ;const RQ=Pn(IQ),$e=new RQ,PQ={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"},r18:{title:"Welcome!",desction:"Please verify that you are 18 years of age or older to enter this site.",agree:"Agree",disagree:"Disagree"}},OQ={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:"MAIN "},vocalVolume:{title:"VOICE "},bgmVolume:{title:"BGM "},seVolume:{title:"SE "},uiSeVolume:{title:"UI "}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},kQ={common:{yes:"",no:"",confirm:"",cancel:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},extra:{title:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},quit:{title:"",subtitle:"QUIT"},storyLine:{title:"",subtitle:"STORYLINE"},achievement:{title:"",subtitle:"ACHIEVEMENT"},beautyGuide:{title:"",subtitle:"BEAUTYGUIDE"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:"",quitTips:`
`,backToGame:"",preserve:"",read:"",setting:"",backToTitle:"",collection:"",collected:""}},extra:{title:""},r18:{title:"",desction:" 18 ",agree:"",disagree:""}},FQ={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre"}},extra:{title:"EXTRA"}},NQ={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},LQ={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var Jc=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(Jc||{});const fO={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},MQ={en:{translation:PQ},zhCn:{translation:kQ},jp:{translation:OQ},fr:{translation:FQ},de:{translation:NQ},zhTw:{translation:LQ}},BQ=0;var KD=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(KD||{}),ls=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(ls||{}),yl=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(yl||{}),bC=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(bC||{}),ja=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(ja||{});const ZD={slPage:1,volumeMain:100,textSpeed:50,autoSpeed:KD.normal,textSize:ls.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:yl.song,textboxOpacity:75,language:Jc.zhCn,voiceInterruption:bC.yes,fullScreen:ja.off},pw={optionData:ZD,globalGameVar:{},appreciationData:{bgm:[],cg:[]}},JD=Mm({name:"userData",initialState:Ir(pw),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.globalGameVar[e.payload.key]=e.payload.value},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,ZD)},resetAllData(t){Object.assign(t,Ir(pw))}}}),{setUserData:Tke,resetUserData:wC,setOptionData:ca,setGlobalVar:DQ,setSlPage:Uv,unlockCgInUserData:QD,unlockBgmInUserData:e8,resetOptionSet:Ake,resetAllData:Ike}=JD.actions,UQ=JD.reducer,t8={backlog_size:200,fast_timeout:50},jQ={textInitialDelay:80};class $Q{constructor(e){Xe(this,"isSaveBacklogNext",!1);Xe(this,"backlog",[]);Xe(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=le.getState().stage,r=Ir(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:Ir(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>t8.backlog_size;)this.getBacklog().shift()}}var Xr=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t))(Xr||{});const zr=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;case 7:r=`./game/ui/${t}`;break;default:r="";break}return r}},VQ=(t,e)=>{(!z.sceneManager.sceneAssetsList[e]||!Object.values(z.sceneManager.sceneAssetsList[e]).length)&&(z.sceneManager.sceneAssetsList[e]=t.reduce((r,n)=>(r[n.url]="",r),{}));for(const r of t){const n=z.sceneManager.sceneAssetsList[e];n[r.url]==="success"||n[r.url]==="loading"?(Nf(e),$e.warn("")):(console.log("",r.url),r.url.endsWith(".mp4")||r.url.endsWith(".flv")?(n[r.url]="success",Nf(e),z.videoManager.preloadVideo(r.url)):(n[r.url]="loading",GQ(r.url,3,1e3,()=>{n[r.url]="success",Nf(e)},()=>{n[r.url]="error",Nf(e);const i=z.sceneManager.settledAssets.findIndex(a=>a===r.url);i>-1&&z.sceneManager.settledAssets.splice(i,1)}),z.sceneManager.settledAssets.push(r.url)))}t.length===0&&Nf(e)},Nf=t=>{const e=z.sceneManager.sceneAssetsList[t],r=Object.values(e).every(n=>n==="error"||n==="success");z.sceneManager.sceneAssetsLoadedList[t]=Object.values(e).every(n=>n==="success"),r&&window.pubsub.publish("sceneAssetsLoaded",{sceneName:t})},GQ=(t,e,r,n,i)=>{const a=(o,s)=>{const c=()=>{n()},l=()=>{o>0?(console.log(`${t}${o}${s}ms`),setTimeout(()=>{a(o-1,s*2)},s)):i()};if(window.isSafari)fetch(t).then(u=>{if(u.status>=400)throw new Error("Error!");c()}).catch(l);else{const u=document.createElement("link");u.setAttribute("rel","prefetch"),u.setAttribute("href",t);const f=document.getElementsByTagName("head");f.length&&f[0].appendChild(u),u.onload=c,u.onerror=l}};a(e,r)};var He;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue"})(He||(He={}));He.intro,He.changeBg,He.changeFigure,He.miniAvatar,He.changeScene,He.choose,He.end,He.bgm,He.video,He.setComplexAnimation,He.setFilter,He.pixiInit,He.pixi,He.label,He.jumpLabel,He.setVar,He.callScene,He.showVars,He.unlockCg,He.unlockBgm,He.say,He.filmMode,He.callScene,He.setTextbox,He.setAnimation,He.playEffect,He.applyStyle,He.unlockAchieve,He.unlockStoryline,He.showValue;He.bgm,He.pixi,He.pixiInit,He.label,He.if,He.miniAvatar,He.setVar,He.unlockBgm,He.unlockCg,He.filmMode,He.playEffect,He.showValue;var Jr;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video"})(Jr||(Jr={}));function r8(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),c=a.slice(o+1);o<0&&(s=a,c=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,Jr.vocal)}):c===void 0?r.push({key:s,value:!0}):c==="true"||c==="false"?r.push({key:s,value:c==="true"}):isNaN(Number(c))?r.push({key:s,value:c}):r.push({key:s,value:Number(c)})}),r}function HQ(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/:/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of r8(o,(c,l)=>c))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function XQ(t){return t.replaceAll("\r","").split(`
`).map(r=>HQ(r)).filter(r=>r.command!=="")}const hO=(t,e,r)=>{let n={type:He.say,additionalArgs:[]};const i=zQ(t,e,r);return n.type=i,i===He.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=WQ(n,i,e),n};function zQ(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??He.say}function WQ(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const YQ=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case He.playEffect:return r(t,Jr.vocal);case He.changeBg:return r(t,Jr.background);case He.changeFigure:return r(t,Jr.figure);case He.bgm:return r(t,Jr.bgm);case He.callScene:return r(t,Jr.scene);case He.changeScene:return r(t,Jr.scene);case He.miniAvatar:return r(t,Jr.figure);case He.video:return r(t,Jr.video);case He.choose:return qQ(t,r);case He.unlockBgm:return r(t,Jr.bgm);case He.unlockCg:return r(t,Jr.background);default:return t}};function qQ(t,e){const r=t.split("|"),n=[],i=[];for(const s of r)n.push(s.split(":")[0]??""),i.push(s.split(":")[1]??"");const a=i.map(s=>s.match(/\./)?e(s,Jr.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const KQ=(t,e,r)=>{const n=[];return t===He.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Jr.vocal})}),e==="none"||e===""||(t===He.changeBg&&n.push({name:e,url:e,lineNumber:0,type:Jr.background}),t===He.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:Jr.figure}),t===He.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:Jr.figure}),t===He.video&&n.push({name:e,url:e,lineNumber:0,type:Jr.video}),t===He.bgm&&n.push({name:e,url:e,lineNumber:0,type:Jr.bgm})),n},ZQ=(t,e)=>{const r=[];return(t===He.changeScene||t===He.callScene)&&r.push(e),(t===He.choose||t===He.video)&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},JQ=(t,e,r,n)=>{let i,a,o;const s=[];let c,l,u,f=t.split(";")[0];if(f==="")return{command:He.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(f);if(h===null){u=f,l=hO(u,r,n),i=l.type;for(const d of l.additionalArgs)i===He.say&&d.key==="speaker"||s.push(d)}else{u=f.substring(0,h.index),f=f.substring(h.index+1,f.length),l=hO(u,r,n),i=l.type;for(const d of l.additionalArgs)s.push(d)}const p=/ -/.exec(f);if(p){const d=f.substring(p.index,t.length);f=f.substring(0,p.index);for(const m of r8(d,e))s.push(m)}return a=YQ(f,i,e),c=KQ(i,a,s),o=ZQ(i,a),{command:i,commandRaw:u,content:a,args:s,sentenceAssets:c,subScene:o}};var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},QQ=typeof R0=="object"&&R0&&R0.Object===Object&&R0,eee=QQ,tee=eee,ree=typeof self=="object"&&self&&self.Object===Object&&self,nee=tee||ree||Function("return this")(),qm=nee,iee=qm,aee=iee.Symbol,n8=aee,dO=n8,i8=Object.prototype,oee=i8.hasOwnProperty,see=i8.toString,Lf=dO?dO.toStringTag:void 0;function lee(t){var e=oee.call(t,Lf),r=t[Lf];try{t[Lf]=void 0;var n=!0}catch{}var i=see.call(t);return n&&(e?t[Lf]=r:delete t[Lf]),i}var uee=lee,cee=Object.prototype,fee=cee.toString;function hee(t){return fee.call(t)}var dee=hee,pO=n8,pee=uee,vee=dee,mee="[object Null]",gee="[object Undefined]",vO=pO?pO.toStringTag:void 0;function _ee(t){return t==null?t===void 0?gee:mee:vO&&vO in Object(t)?pee(t):vee(t)}var yee=_ee;function xee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var a8=xee,bee=yee,wee=a8,Eee="[object AsyncFunction]",See="[object Function]",Cee="[object GeneratorFunction]",Tee="[object Proxy]";function Aee(t){if(!wee(t))return!1;var e=bee(t);return e==See||e==Cee||e==Eee||e==Tee}var Iee=Aee,Ree=qm,Pee=Ree["__core-js_shared__"],Oee=Pee,wy=Oee,mO=function(){var t=/[^.]+$/.exec(wy&&wy.keys&&wy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kee(t){return!!mO&&mO in t}var Fee=kee,Nee=Function.prototype,Lee=Nee.toString;function Mee(t){if(t!=null){try{return Lee.call(t)}catch{}try{return t+""}catch{}}return""}var Bee=Mee,Dee=Iee,Uee=Fee,jee=a8,$ee=Bee,Vee=/[\\^$.*+?()[\]{}|]/g,Gee=/^\[object .+?Constructor\]$/,Hee=Function.prototype,Xee=Object.prototype,zee=Hee.toString,Wee=Xee.hasOwnProperty,Yee=RegExp("^"+zee.call(Wee).replace(Vee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qee(t){if(!jee(t)||Uee(t))return!1;var e=Dee(t)?Yee:Gee;return e.test($ee(t))}var Kee=qee;function Zee(t,e){return t==null?void 0:t[e]}var Jee=Zee,Qee=Kee,ete=Jee;function tte(t,e){var r=ete(t,e);return Qee(r)?r:void 0}var EC=tte,rte=EC,nte=rte(Object,"create"),Km=nte,gO=Km;function ite(){this.__data__=gO?gO(null):{},this.size=0}var ate=ite;function ote(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ste=ote,lte=Km,ute="__lodash_hash_undefined__",cte=Object.prototype,fte=cte.hasOwnProperty;function hte(t){var e=this.__data__;if(lte){var r=e[t];return r===ute?void 0:r}return fte.call(e,t)?e[t]:void 0}var dte=hte,pte=Km,vte=Object.prototype,mte=vte.hasOwnProperty;function gte(t){var e=this.__data__;return pte?e[t]!==void 0:mte.call(e,t)}var _te=gte,yte=Km,xte="__lodash_hash_undefined__";function bte(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=yte&&e===void 0?xte:e,this}var wte=bte,Ete=ate,Ste=ste,Cte=dte,Tte=_te,Ate=wte;function Qc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qc.prototype.clear=Ete;Qc.prototype.delete=Ste;Qc.prototype.get=Cte;Qc.prototype.has=Tte;Qc.prototype.set=Ate;var Ite=Qc;function Rte(){this.__data__=[],this.size=0}var Pte=Rte;function Ote(t,e){return t===e||t!==t&&e!==e}var kte=Ote,Fte=kte;function Nte(t,e){for(var r=t.length;r--;)if(Fte(t[r][0],e))return r;return-1}var Zm=Nte,Lte=Zm,Mte=Array.prototype,Bte=Mte.splice;function Dte(t){var e=this.__data__,r=Lte(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Bte.call(e,r,1),--this.size,!0}var Ute=Dte,jte=Zm;function $te(t){var e=this.__data__,r=jte(e,t);return r<0?void 0:e[r][1]}var Vte=$te,Gte=Zm;function Hte(t){return Gte(this.__data__,t)>-1}var Xte=Hte,zte=Zm;function Wte(t,e){var r=this.__data__,n=zte(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Yte=Wte,qte=Pte,Kte=Ute,Zte=Vte,Jte=Xte,Qte=Yte;function ef(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ef.prototype.clear=qte;ef.prototype.delete=Kte;ef.prototype.get=Zte;ef.prototype.has=Jte;ef.prototype.set=Qte;var ere=ef,tre=EC,rre=qm,nre=tre(rre,"Map"),ire=nre,_O=Ite,are=ere,ore=ire;function sre(){this.size=0,this.__data__={hash:new _O,map:new(ore||are),string:new _O}}var lre=sre;function ure(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cre=ure,fre=cre;function hre(t,e){var r=t.__data__;return fre(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Jm=hre,dre=Jm;function pre(t){var e=dre(this,t).delete(t);return this.size-=e?1:0,e}var vre=pre,mre=Jm;function gre(t){return mre(this,t).get(t)}var _re=gre,yre=Jm;function xre(t){return yre(this,t).has(t)}var bre=xre,wre=Jm;function Ere(t,e){var r=wre(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Sre=Ere,Cre=lre,Tre=vre,Are=_re,Ire=bre,Rre=Sre;function tf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tf.prototype.clear=Cre;tf.prototype.delete=Tre;tf.prototype.get=Are;tf.prototype.has=Ire;tf.prototype.set=Rre;var Pre=tf,Ore="__lodash_hash_undefined__";function kre(t){return this.__data__.set(t,Ore),this}var Fre=kre;function Nre(t){return this.__data__.has(t)}var Lre=Nre,Mre=Pre,Bre=Fre,Dre=Lre;function jv(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Mre;++e<r;)this.add(t[e])}jv.prototype.add=jv.prototype.push=Bre;jv.prototype.has=Dre;var Ure=jv;function jre(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var $re=jre;function Vre(t){return t!==t}var Gre=Vre;function Hre(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Xre=Hre,zre=$re,Wre=Gre,Yre=Xre;function qre(t,e,r){return e===e?Yre(t,e,r):zre(t,Wre,r)}var Kre=qre,Zre=Kre;function Jre(t,e){var r=t==null?0:t.length;return!!r&&Zre(t,e,0)>-1}var Qre=Jre;function ene(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var tne=ene;function rne(t,e){return t.has(e)}var nne=rne,ine=EC,ane=qm,one=ine(ane,"Set"),sne=one;function lne(){}var une=lne;function cne(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var o8=cne,Ey=sne,fne=une,hne=o8,dne=1/0,pne=Ey&&1/hne(new Ey([,-0]))[1]==dne?function(t){return new Ey(t)}:fne,vne=pne,mne=Ure,gne=Qre,_ne=tne,yne=nne,xne=vne,bne=o8,wne=200;function Ene(t,e,r){var n=-1,i=gne,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=_ne;else if(a>=wne){var l=e?null:xne(t);if(l)return bne(l);o=!1,i=yne,c=new mne}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var Sne=Ene,Cne=Sne;function Tne(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Cne(t,void 0,e):[]}var Ane=Tne;const Ine=(t,e,r,n,i,a,o)=>{const c=t.split(`
`);let l=[],u=[];const f=c.map(h=>{const p=JQ(h,i,a,o);return l=[...l,...p.sentenceAssets],u=[...u,...p.subScene],p});return l=Ane(l),n(l,e),{sceneName:e,sceneUrl:r,sentenceList:f,assetsList:l,subSceneList:u}};function Rne(t){const[e,r]=Pne(t);return{classNameStyles:e,others:r}}function Pne(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class One{constructor(e,r,n,i){Xe(this,"assetsPrefetcher");Xe(this,"assetSetter");Xe(this,"ADD_NEXT_ARG_LIST");Xe(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return Ine(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return XQ(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return Rne(e)}}function At(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const kne=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=At(t,"enter"),a=At(t,"volume");return r!==""&&le.dispatch(e8({name:r,url:e,series:n})),CT(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var SC={exports:{}},s8=function(e,r){return function(){return e.apply(r,arguments)}},Fne=s8,CC=Object.prototype.toString,TC=function(t){return function(e){var r=CC.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function ks(t){return t=t.toLowerCase(),function(r){return TC(r)===t}}function Qm(t){return Array.isArray(t)}function vw(t){return typeof t>"u"}function Nne(t){return t!==null&&!vw(t)&&t.constructor!==null&&!vw(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var l8=ks("ArrayBuffer");function Lne(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&l8(t.buffer),e}function Mne(t){return typeof t=="string"}function u8(t){return typeof t=="number"}function c8(t){return t!==null&&typeof t=="object"}function Mp(t){if(TC(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Bne(t){return t&&Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}var Dne=ks("Date"),Une=ks("File"),jne=ks("Blob"),$ne=ks("FileList");function AC(t){return CC.call(t)==="[object Function]"}function Vne(t){return c8(t)&&AC(t.pipe)}function Gne(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||CC.call(t)===e||AC(t.toString)&&t.toString()===e)}var Hne=ks("URLSearchParams");function Xne(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function zne(){var t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"}function IC(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Qm(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function mw(){var t={};function e(i,a){Mp(t[a])&&Mp(i)?t[a]=mw(t[a],i):Mp(i)?t[a]=mw({},i):Qm(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)IC(arguments[r],e);return t}function Wne(t,e,r){return IC(e,function(i,a){r&&typeof i=="function"?t[a]=Fne(i,r):t[a]=i}),t}function Yne(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function qne(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function Kne(t,e,r,n){var i,a,o,s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function Zne(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function Jne(t){if(!t)return null;if(Qm(t))return t;var e=t.length;if(!u8(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var Qne=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function eie(t,e){for(var r=t&&t[Symbol.iterator],n=r.call(t),i;(i=n.next())&&!i.done;){var a=i.value;e.call(t,a[0],a[1])}}function tie(t,e){for(var r,n=[];(r=t.exec(e))!==null;)n.push(r);return n}var rie=ks("HTMLFormElement"),nie=function(e){return function(r,n){return e.call(r,n)}}(Object.prototype.hasOwnProperty),gn={isArray:Qm,isArrayBuffer:l8,isBuffer:Nne,isFormData:Gne,isArrayBufferView:Lne,isString:Mne,isNumber:u8,isObject:c8,isPlainObject:Mp,isEmptyObject:Bne,isUndefined:vw,isDate:Dne,isFile:Une,isBlob:jne,isFunction:AC,isStream:Vne,isURLSearchParams:Hne,isStandardBrowserEnv:zne,forEach:IC,merge:mw,extend:Wne,trim:Xne,stripBOM:Yne,inherits:qne,toFlatObject:Kne,kindOf:TC,kindOfTest:ks,endsWith:Zne,toArray:Jne,isTypedArray:Qne,isFileList:$ne,forEachEntry:eie,matchAll:tie,isHTMLForm:rie,hasOwnProperty:nie},f8=gn;function wc(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}f8.inherits(wc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var h8=wc.prototype,d8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(t){d8[t]={value:t}});Object.defineProperties(wc,d8);Object.defineProperty(h8,"isAxiosError",{value:!0});wc.from=function(t,e,r,n,i,a){var o=Object.create(h8);return f8.toFlatObject(t,o,function(c){return c!==Error.prototype}),wc.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};var Wl=wc,iie=typeof self=="object"?self.FormData:window.FormData,aie=iie,sr=gn,oie=Wl,sie=aie;function gw(t){return sr.isPlainObject(t)||sr.isArray(t)}function p8(t){return sr.endsWith(t,"[]")?t.slice(0,-2):t}function yO(t,e,r){return t?t.concat(e).map(function(i,a){return i=p8(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function lie(t){return sr.isArray(t)&&!t.some(gw)}var uie=sr.toFlatObject(sr,{},null,function(e){return/^is[A-Z]/.test(e)});function cie(t){return t&&sr.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function fie(t,e,r){if(!sr.isObject(t))throw new TypeError("target must be an object");e=e||new(sie||FormData),r=sr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!sr.isUndefined(_[m])});var n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,s=r.Blob||typeof Blob<"u"&&Blob,c=s&&cie(e);if(!sr.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(sr.isDate(d))return d.toISOString();if(!c&&sr.isBlob(d))throw new oie("Blob is not supported. Use a Buffer instead.");return sr.isArrayBuffer(d)||sr.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,m,_){var v=d;if(d&&!_&&typeof d=="object"){if(sr.endsWith(m,"{}"))m=n?m:m.slice(0,-2),d=JSON.stringify(d);else if(sr.isArray(d)&&lie(d)||sr.isFileList(d)||sr.endsWith(m,"[]")&&(v=sr.toArray(d)))return m=p8(m),v.forEach(function(y,x){!sr.isUndefined(y)&&e.append(o===!0?yO([m],x,a):o===null?m:m+"[]",l(y))}),!1}return gw(d)?!0:(e.append(yO(_,m,a),l(d)),!1)}var f=[],h=Object.assign(uie,{defaultVisitor:u,convertValue:l,isVisitable:gw});function p(d,m){if(!sr.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(d),sr.forEach(d,function(v,g){var y=!sr.isUndefined(v)&&i.call(e,v,sr.isString(g)?g.trim():g,m,h);y===!0&&p(v,m?m.concat(g):[g])}),f.pop()}}if(!sr.isObject(t))throw new TypeError("data must be an object");return p(t),e}var eg=fie,hie=eg;function xO(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'\(\)~]|%20|%00/g,function(n){return e[n]})}function v8(t,e){this._pairs=[],t&&hie(t,this,e)}var m8=v8.prototype;m8.append=function(e,r){this._pairs.push([e,r])};m8.toString=function(e){var r=e?function(n){return e.call(this,n,xO)}:xO;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var g8=v8,die=gn,pie=g8;function vie(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var _8=function(e,r,n){if(!r)return e;var i=e.indexOf("#");i!==-1&&(e=e.slice(0,i));var a=n&&n.encode||vie,o=die.isURLSearchParams(r)?r.toString():new pie(r,n).toString(a);return o&&(e+=(e.indexOf("?")===-1?"?":"&")+o),e},mie=gn;function Yd(){this.handlers=[]}Yd.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Yd.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Yd.prototype.clear=function(){this.handlers&&(this.handlers=[])};Yd.prototype.forEach=function(e){mie.forEach(this.handlers,function(n){n!==null&&e(n)})};var gie=Yd,_ie=gn,y8=function(e,r){_ie.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},x8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yie=g8,xie=typeof URLSearchParams<"u"?URLSearchParams:yie,bie=FormData,wie={isBrowser:!0,classes:{URLSearchParams:xie,FormData:bie,Blob},protocols:["http","https","file","blob","url","data"]},RC=wie,Eie=gn,Sie=eg,bO=RC,Cie=function(e,r){return Sie(e,new bO.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,o){return bO.isNode&&Eie.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},r))},No=gn;function Tie(t){return No.matchAll(/\w+|\[(\w*)]/g,t).map(function(e){return e[0]==="[]"?"":e[1]||e[0]})}function Aie(t){var e={},r=Object.keys(t),n,i=r.length,a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function Iie(t){function e(n,i,a,o){var s=n[o++],c=Number.isFinite(+s),l=o>=n.length;if(s=!s&&No.isArray(a)?a.length:s,l)return No.hasOwnProperty(a,s)?a[s]=[a[s],i]:a[s]=i,!c;(!a[s]||!No.isObject(a[s]))&&(a[s]=[]);var u=e(n,i,a[s],o);return u&&No.isArray(a[s])&&(a[s]=Aie(a[s])),!c}if(No.isFormData(t)&&No.isFunction(t.entries)){var r={};return No.forEachEntry(t,function(n,i){e(Tie(n),i,r,0)}),r}return null}var b8=Iie,Sy,wO;function Rie(){if(wO)return Sy;wO=1;var t=Wl;return Sy=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Sy}var Cy,EO;function Pie(){if(EO)return Cy;EO=1;var t=gn;return Cy=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Cy}var Oie=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},kie=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},Fie=Oie,Nie=kie,w8=function(e,r){return e&&!Fie(r)?Nie(e,r):r},Ty,SO;function Lie(){if(SO)return Ty;SO=1;var t=gn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Ty=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.slice(0,s)).toLowerCase(),o=t.trim(l.slice(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},Ty}var Ay,CO;function Mie(){if(CO)return Ay;CO=1;var t=gn;return Ay=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),Ay}var Iy,TO;function tg(){if(TO)return Iy;TO=1;var t=Wl,e=gn;function r(n,i,a){t.call(this,n??"canceled",t.ERR_CANCELED,i,a),this.name="CanceledError"}return e.inherits(r,t,{__CANCEL__:!0}),Iy=r,Iy}var Ry,AO;function Bie(){return AO||(AO=1,Ry=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}),Ry}var Py,IO;function RO(){if(IO)return Py;IO=1;var t=gn,e=Rie(),r=Pie(),n=_8,i=w8,a=Lie(),o=Mie(),s=x8,c=Wl,l=tg(),u=Bie(),f=RC;return Py=function(p){return new Promise(function(m,_){var v=p.data,g=p.headers,y=p.responseType,x=p.withXSRFToken,b;function w(){p.cancelToken&&p.cancelToken.unsubscribe(b),p.signal&&p.signal.removeEventListener("abort",b)}t.isFormData(v)&&t.isStandardBrowserEnv()&&delete g["Content-Type"];var E=new XMLHttpRequest;if(p.auth){var S=p.auth.username||"",C=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";g.Authorization="Basic "+btoa(S+":"+C)}var T=i(p.baseURL,p.url);E.open(p.method.toUpperCase(),n(T,p.params,p.paramsSerializer),!0),E.timeout=p.timeout;function I(){if(E){var O="getAllResponseHeaders"in E?a(E.getAllResponseHeaders()):null,F=!y||y==="text"||y==="json"?E.responseText:E.response,N={data:F,status:E.status,statusText:E.statusText,headers:O,config:p,request:E};e(function(q){m(q),w()},function(q){_(q),w()},N),E=null}}if("onloadend"in E?E.onloadend=I:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(I)},E.onabort=function(){E&&(_(new c("Request aborted",c.ECONNABORTED,p,E)),E=null)},E.onerror=function(){_(new c("Network Error",c.ERR_NETWORK,p,E)),E=null},E.ontimeout=function(){var F=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",N=p.transitional||s;p.timeoutErrorMessage&&(F=p.timeoutErrorMessage),_(new c(F,N.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,p,E)),E=null},t.isStandardBrowserEnv()&&(x&&t.isFunction(x)&&(x=x(p)),x||x!==!1&&o(T))){var A=p.xsrfHeaderName&&p.xsrfCookieName&&r.read(p.xsrfCookieName);A&&(g[p.xsrfHeaderName]=A)}"setRequestHeader"in E&&t.forEach(g,function(F,N){typeof v>"u"&&N.toLowerCase()==="content-type"?delete g[N]:E.setRequestHeader(N,F)}),t.isUndefined(p.withCredentials)||(E.withCredentials=!!p.withCredentials),y&&y!=="json"&&(E.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&E.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&E.upload&&E.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(b=function(O){E&&(_(!O||O.type?new l(null,p,req):O),E.abort(),E=null)},p.cancelToken&&p.cancelToken.subscribe(b),p.signal&&(p.signal.aborted?b():p.signal.addEventListener("abort",b))),!v&&v!==!1&&v!==0&&v!==""&&(v=null);var R=u(T);if(R&&f.protocols.indexOf(R)===-1){_(new c("Unsupported protocol "+R+":",c.ERR_BAD_REQUEST,p));return}E.send(v)})},Py}var cn=gn,PO=y8,OO=Wl,Die=x8,Uie=eg,jie=Cie,kO=RC,$ie=b8,Vie={"Content-Type":"application/x-www-form-urlencoded"};function FO(t,e){!cn.isUndefined(t)&&cn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function Gie(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=RO()),t}function Hie(t,e,r){if(cn.isString(t))try{return(e||JSON.parse)(t),cn.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var rg={transitional:Die,adapter:Gie(),transformRequest:[function(e,r){PO(r,"Accept"),PO(r,"Content-Type");var n=r&&r["Content-Type"]||"",i=n.indexOf("application/json")>-1,a=cn.isObject(e);a&&cn.isHTMLForm(e)&&(e=new FormData(e));var o=cn.isFormData(e);if(o)return i?JSON.stringify($ie(e)):e;if(cn.isArrayBuffer(e)||cn.isBuffer(e)||cn.isStream(e)||cn.isFile(e)||cn.isBlob(e))return e;if(cn.isArrayBufferView(e))return e.buffer;if(cn.isURLSearchParams(e))return FO(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var s;if(a){if(n.indexOf("application/x-www-form-urlencoded")!==-1)return jie(e,this.formSerializer).toString();if((s=cn.isFileList(e))||n.indexOf("multipart/form-data")>-1){var c=this.env&&this.env.FormData;return Uie(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(FO(r,"application/json"),Hie(e)):e}],transformResponse:[function(e){var r=this.transitional||rg.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&cn.isString(e)&&(n&&!this.responseType||i)){var a=r&&r.silentJSONParsing,o=!a&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?OO.from(s,OO.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kO.classes.FormData,Blob:kO.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};cn.forEach(["delete","get","head"],function(e){rg.headers[e]={}});cn.forEach(["post","put","patch"],function(e){rg.headers[e]=cn.merge(Vie)});var PC=rg,Xie=gn,zie=PC,Wie=function(e,r,n,i){var a=this||zie;return Xie.forEach(i,function(s){e=s.call(a,e,r,n)}),e},Oy,NO;function E8(){return NO||(NO=1,Oy=function(e){return!!(e&&e.__CANCEL__)}),Oy}var LO=gn,ky=Wie,Yie=E8(),qie=PC,Kie=tg(),MO=y8;function Fy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Kie}var Zie=function(e){Fy(e),e.headers=e.headers||{},e.data=ky.call(e,e.data,e.headers,null,e.transformRequest),MO(e.headers,"Accept"),MO(e.headers,"Content-Type"),e.headers=LO.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),LO.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||qie.adapter;return r(e).then(function(i){return Fy(e),i.data=ky.call(e,i.data,i.headers,i.status,e.transformResponse),i},function(i){return Yie(i)||(Fy(e),i&&i.response&&(i.response.data=ky.call(e,i.response.data,i.response.headers,i.response.status,e.transformResponse))),Promise.reject(i)})},ni=gn,S8=function(e,r){r=r||{};var n={};function i(u,f){return ni.isPlainObject(u)&&ni.isPlainObject(f)?ni.merge(u,f):ni.isEmptyObject(f)?ni.merge({},u):ni.isPlainObject(f)?ni.merge({},f):ni.isArray(f)?f.slice():f}function a(u){if(ni.isUndefined(r[u])){if(!ni.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!ni.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(ni.isUndefined(r[u])){if(!ni.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return ni.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,p=h(f);ni.isUndefined(p)&&h!==c||(n[f]=p)}),n},Ny,BO;function C8(){return BO||(BO=1,Ny={version:"0.28.0"}),Ny}var Jie=C8().version,Bo=Wl,OC={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){OC[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var DO={};OC.transitional=function(e,r,n){function i(a,o){return"[Axios v"+Jie+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Bo(i(o," has been removed"+(r?" in "+r:"")),Bo.ERR_DEPRECATED);return r&&!DO[o]&&(DO[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Qie(t,e,r){if(typeof t!="object")throw new Bo("options must be an object",Bo.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new Bo("option "+a+" must be "+c,Bo.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Bo("Unknown option "+a,Bo.ERR_BAD_OPTION)}}var eae={assertOptions:Qie,validators:OC},kC=gn,tae=_8,UO=gie,jO=Zie,ng=S8,rae=w8,T8=eae,su=T8.validators;function Ec(t){this.defaults=t,this.interceptors={request:new UO,response:new UO}}Ec.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ng(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&T8.assertOptions(n,{silentJSONParsing:su.transitional(su.boolean),forcedJSONParsing:su.transitional(su.boolean),clarifyTimeoutError:su.transitional(su.boolean)},!1);var i=r.paramsSerializer;kC.isFunction(i)&&(r.paramsSerializer={serialize:i});var a=[],o=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(r)===!1||(o=o&&d.synchronous,a.unshift(d.fulfilled,d.rejected))});var s=[];this.interceptors.response.forEach(function(d){s.push(d.fulfilled,d.rejected)});var c;if(!o){var l=[jO,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(s),c=Promise.resolve(r);l.length;)c=c.then(l.shift(),l.shift());return c}for(var u=r;a.length;){var f=a.shift(),h=a.shift();try{u=f(u)}catch(p){h(p);break}}try{c=jO(u)}catch(p){return Promise.reject(p)}for(;s.length;)c=c.then(s.shift(),s.shift());return c};Ec.prototype.getUri=function(e){e=ng(this.defaults,e);var r=rae(e.baseURL,e.url);return tae(r,e.params,e.paramsSerializer)};kC.forEach(["delete","get","head","options"],function(e){Ec.prototype[e]=function(r,n){return this.request(ng(n||{},{method:e,url:r,data:(n||{}).data}))}});kC.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(ng(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ec.prototype[e]=r(),Ec.prototype[e+"Form"]=r(!0)});var nae=Ec,Ly,$O;function iae(){if($O)return Ly;$O=1;var t=tg();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){for(var o=i._listeners.length;o-- >0;)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o,s,c){i.reason||(i.reason=new t(o,s,c),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},Ly=e,Ly}var My,VO;function aae(){return VO||(VO=1,My=function(e){return function(n){return e.apply(null,n)}}),My}var By,GO;function oae(){if(GO)return By;GO=1;var t=gn;return By=function(r){return t.isObject(r)&&r.isAxiosError===!0},By}var _w=gn,sae=s8,Bp=nae,lae=S8,uae=PC,cae=b8;function A8(t){var e=new Bp(t),r=sae(Bp.prototype.request,e);return _w.extend(r,Bp.prototype,e),_w.extend(r,e),r.create=function(i){return A8(lae(t,i))},r}var ci=A8(uae);ci.Axios=Bp;ci.CanceledError=tg();ci.CancelToken=iae();ci.isCancel=E8();ci.VERSION=C8().version;ci.toFormData=eg;ci.AxiosError=Wl;ci.Cancel=ci.CanceledError;ci.all=function(e){return Promise.all(e)};ci.spread=aae();ci.isAxiosError=oae();ci.formToJSON=function(t){return cae(_w.isHTMLForm(t)?new FormData(t):t)};SC.exports=ci;SC.exports.default=ci;var fae=SC.exports,hae=fae;const td=Pn(hae),Ni=t=>new Promise(e=>{td.get(t).then(r=>{const n=r.data.toString();e(n)})}),dae={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},ig=t=>{var n;let e=dae;e=(((n=T5[t.command])==null?void 0:n.scriptFunction)??A5.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>z.gameplay.performController.arrangeNewPerform(i,t)):z.gameplay.performController.arrangeNewPerform(e,t)},pae=t=>{Ni(t.sceneUrl).then(async e=>{await z.sceneManager.setCurrentScene(e,t.sceneName,t.sceneUrl,!0)&&(z.sceneManager.sceneData.currentSentenceId=t.continueLine+1,$e.debug("",z.sceneManager.sceneData.currentScene),an())})};var FC={},rd={document:{}},I8=Object.prototype.hasOwnProperty,R8=function(t){return ag(t)?t.toLowerCase():t},Eh=Array.isArray,vae=function(t){return ag(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(R8=vae);var mae,NC=Object.prototype.toString,P8=Object.getPrototypeOf,Dy=L8("ng");rd.angular||(rd.angular={});rd.document.documentMode;function gae(t){if(t==null||BC(t))return!1;if(Eh(t)||ag(t)||mae)return!0;var e="length"in Object(t)&&t.length;return MC(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function Cr(t,e,r){var n,i;if(t)if(F8(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(Eh(t)||gae(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==Cr)t.forEach(e,r,t);else if(k8(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)I8.call(t,n)&&e.call(r,t[n],n,t);return t}function _ae(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function LC(){}LC.$inject=[];function yae(t){return typeof t>"u"}function Nu(t){return typeof t<"u"}function O8(t){return t!==null&&typeof t=="object"}function k8(t){return t!==null&&typeof t=="object"&&!P8(t)}function ag(t){return typeof t=="string"}function MC(t){return typeof t=="number"}function F8(t){return typeof t=="function"}function BC(t){return t&&t.window===t}function N8(t){return t&&t.$evalAsync&&t.$watch}var xae=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function bae(t){return t&&MC(t.length)&&xae.test(NC.call(t))}function wae(t){return NC.call(t)==="[object ArrayBuffer]"}function Eae(t,e){var r=[],n=[];if(e){if(bae(e)||wae(e))throw Dy("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Dy("cpi","Can't copy! Source and destination are identical.");return Eh(e)?e.length=0:Cr(e,function(s,c){c!=="$$hashKey"&&delete e[c]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,c){var l=c.$$hashKey,u;if(Eh(s))for(var f=0,h=s.length;f<h;f++)c.push(a(s[f]));else if(k8(s))for(u in s)c[u]=a(s[u]);else if(s&&typeof s.hasOwnProperty=="function")for(u in s)s.hasOwnProperty(u)&&(c[u]=a(s[u]));else for(u in s)I8.call(s,u)&&(c[u]=a(s[u]));return _ae(c,l),c}function a(s){if(!O8(s))return s;var c=r.indexOf(s);if(c!==-1)return n[c];if(BC(s)||N8(s))throw Dy("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,u=o(s);return u===void 0&&(u=Eh(s)?[]:Object.create(P8(s)),l=!0),r.push(s),n.push(u),l?i(s,u):u}function o(s){switch(NC.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var c=new ArrayBuffer(s.byteLength);return new Uint8Array(c).set(new Uint8Array(s)),c}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(F8(s.cloneNode))return s.cloneNode(!0)}}function Sae(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:BC(e)?r="$WINDOW":e&&rd.document===e?r="$DOCUMENT":N8(e)&&(r="$SCOPE"),r}function Cae(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}Cae(rd.document);function Tae(){return Object.create(null)}function Aae(t){var e=[];return JSON.stringify(t,function(r,n){if(n=Sae(r,n),O8(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function HO(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):yae(t)?"undefined":typeof t!="string"?Aae(t):t}function L8(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,c;for(a+=o.replace(/\{\d+\}/g,function(l){var u=+l.slice(1,-1),f=u+r;return f<n.length?HO(n[f]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,c=r,s="?";c<n.length;c++,s="&")a+=s+"p"+(c-r)+"="+encodeURIComponent(HO(n[c]));return new e(a)}}var Lu=L8("$parse");({}).constructor.prototype.valueOf;function M8(t){return t+""}var Dp=Tae();Cr("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Dp[t]=!0});var Iae={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},yw=function(e){this.options=e};yw.prototype={constructor:yw,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=Dp[e],a=Dp[r],o=Dp[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===""},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=Nu(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw Lu("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=R8(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=Iae[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var Re=function(e,r){this.lexer=e,this.options=r};Re.Program="Program";Re.ExpressionStatement="ExpressionStatement";Re.AssignmentExpression="AssignmentExpression";Re.ConditionalExpression="ConditionalExpression";Re.LogicalExpression="LogicalExpression";Re.BinaryExpression="BinaryExpression";Re.UnaryExpression="UnaryExpression";Re.CallExpression="CallExpression";Re.MemberExpression="MemberExpression";Re.Identifier="Identifier";Re.Literal="Literal";Re.ArrayExpression="ArrayExpression";Re.Property="Property";Re.ObjectExpression="ObjectExpression";Re.ThisExpression="ThisExpression";Re.LocalsExpression="LocalsExpression";Re.NGValueParameter="NGValueParameter";Re.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Re.Program,body:t}},expressionStatement:function(){return{type:Re.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!U8(t))throw Lu("lval","Trying to assign a value to a non l-value");t={type:Re.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:Re.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Re.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Re.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Re.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=Eae(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Re.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:Re.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:Re.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:Re.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:Re.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Re.Identifier,name:t.text}},constant:function(){return{type:Re.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Re.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:Re.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Re.ObjectExpression,properties:t}},throwError:function(t,e){throw Lu("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw Lu("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw Lu("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:Re.ThisExpression},$locals:{type:Re.LocalsExpression}}};function Rae(t,e){return typeof t<"u"?t:e}function B8(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function Pae(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function bn(t,e){var r,n,i;switch(t.type){case Re.Program:r=!0,Cr(t.body,function(a){bn(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case Re.Literal:t.constant=!0,t.toWatch=[];break;case Re.UnaryExpression:bn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Re.BinaryExpression:bn(t.left,e),bn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Re.LogicalExpression:bn(t.left,e),bn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Re.ConditionalExpression:bn(t.test,e),bn(t.alternate,e),bn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Re.Identifier:t.constant=!1,t.toWatch=[t];break;case Re.MemberExpression:bn(t.object,e),t.computed&&bn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Re.CallExpression:i=t.filter?Pae(e,t.callee.name):!1,r=i,n=[],Cr(t.arguments,function(a){bn(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case Re.AssignmentExpression:bn(t.left,e),bn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Re.ArrayExpression:r=!0,n=[],Cr(t.elements,function(a){bn(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case Re.ObjectExpression:r=!0,n=[],Cr(t.properties,function(a){bn(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case Re.ThisExpression:t.constant=!1,t.toWatch=[];break;case Re.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function D8(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function U8(t){return t.type===Re.Identifier||t.type===Re.MemberExpression}function j8(t){if(t.body.length===1&&U8(t.body[0].expression))return{type:Re.AssignmentExpression,left:t.body[0].expression,right:{type:Re.NGValueParameter},operator:"="}}function $8(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===Re.Literal||t.body[0].expression.type===Re.ArrayExpression||t.body[0].expression.type===Re.ObjectExpression)}function V8(t){return t.constant}function G8(t,e){this.astBuilder=t,this.$filter=e}G8.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},bn(r,e.$filter);var n="",i;if(this.stage="assign",i=j8(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=D8(r.body);e.stage="inputs",Cr(o,function(l,u){var f="fn"+u;e.state[f]={vars:[],body:[],own:{}},e.state.computing=f;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(f),l.watchId=u}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,M8,Rae,B8);return this.state=this.stage=void 0,c.ast=r,c.literal=$8(r),c.constant=V8(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return Cr(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return Cr(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,c=this,l,u,f;if(n=n||LC,!a&&Nu(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case Re.Program:Cr(t.body,function(p,d){c.recurse(p.expression,void 0,void 0,function(m){s=m}),d!==t.body.length-1?c.current().body.push(s,";"):c.return_(s)});break;case Re.Literal:u=this.escape(t.value),this.assign(e,u),n(e||u);break;case Re.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(p){s=p}),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),n(u);break;case Re.BinaryExpression:this.recurse(t.left,void 0,void 0,function(p){o=p}),this.recurse(t.right,void 0,void 0,function(p){s=p}),t.operator==="+"?u=this.plus(o,s):t.operator==="-"?u=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):u="("+o+")"+t.operator+"("+s+")",this.assign(e,u),n(u);break;case Re.LogicalExpression:e=e||this.nextId(),c.recurse(t.left,e),c.if_(t.operator==="&&"?e:c.not(e),c.lazyRecurse(t.right,e)),n(e);break;case Re.ConditionalExpression:e=e||this.nextId(),c.recurse(t.test,e),c.if_(e,c.lazyRecurse(t.alternate,e),c.lazyRecurse(t.consequent,e)),n(e);break;case Re.Identifier:e=e||this.nextId();var h=c.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=c.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),c.if_(c.stage==="inputs"||c.not(c.getHasOwnProperty("l",t.name)),function(){c.if_(c.stage==="inputs"||c.and_("s",c.or_(c.isNull(c.nonComputedMember("s",t.name)),c.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&c.if_(c.isNull(c.nonComputedMember("s",t.name)),c.lazyAssign(c.nonComputedMember("s",t.name),"{}")),c.assign(e,c.nonComputedMember("s",t.name))})},e&&c.lazyAssign(e,c.nonComputedMember("l",t.name))),n(e);break;case Re.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),c.recurse(t.object,o,void 0,function(){var p=null,d=c.current().inAssignment;t.computed?(s=c.nextId(),d||c.state.computing==="assign"?p=c.unsafeComputedMember(o,s):p=c.computedMember(o,s)):(d||c.state.computing==="assign"?p=c.unsafeNonComputedMember(o,t.property.name):p=c.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===Re.Literal&&c.recurse(t.property,s),c.if_(c.and_(c.notNull(o),c.or_(c.isNull(p),c.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==Re.Literal&&c.recurse(t.property,s),i&&i!==1&&c.if_(c.not(p),c.lazyAssign(p,"{}")),c.assign(e,p),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&c.if_(c.isNull(p),c.lazyAssign(p,"{}")),c.assign(e,p),r&&(r.computed=!1,r.name=t.property.name))},function(){c.assign(e,"undefined")}),n(e)},!!i);break;case Re.CallExpression:e=e||this.nextId(),t.filter?(s=c.filter(t.callee.name),l=[],Cr(t.arguments,function(p){var d=c.nextId();c.recurse(p,d),l.push(d)}),u=s+".call("+s+","+l.join(",")+")",c.assign(e,u),n(e)):(s=c.nextId(),o={},l=[],c.recurse(t.callee,s,o,function(){c.if_(c.notNull(s),function(){if(Cr(t.arguments,function(d){c.recurse(d,t.constant?void 0:c.nextId(),void 0,function(m){l.push(m)})}),o.name){var p=c.member(o.context,o.name,o.computed);u="("+p+" === null ? null : "+c.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else u=s+"("+l.join(",")+")";c.assign(e,u)},function(){c.assign(e,"undefined")}),n(e)}));break;case Re.AssignmentExpression:s=this.nextId(),o={},c.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){c.if_(c.and_(c.notNull(o.context),c.or_(c.hasOwnProperty_(o.context,o.name),c.isNull(c.member(o.context,o.name,o.computed)))),function(){c.recurse(t.right,s),u=c.member(o.context,o.name,o.computed)+t.operator+s,c.assign(e,u),n(e||u)}),c.current().inAssignment=!1,c.recurse(t.right,s),c.current().inAssignment=!0},1),c.current().inAssignment=!1;break;case Re.ArrayExpression:l=[],Cr(t.elements,function(p){c.recurse(p,t.constant?void 0:c.nextId(),void 0,function(d){l.push(d)})}),u="["+l.join(",")+"]",this.assign(e,u),n(e||u);break;case Re.ObjectExpression:l=[],f=!1,Cr(t.properties,function(p){p.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),Cr(t.properties,function(p){p.computed?(o=c.nextId(),c.recurse(p.key,o)):o=p.key.type===Re.Identifier?p.key.name:""+p.key.value,s=c.nextId(),c.recurse(p.value,s),c.assign(c.unsafeMember(e,o,p.computed),s)})):(Cr(t.properties,function(p){c.recurse(p.value,t.constant?void 0:c.nextId(),void 0,function(d){l.push(c.escape(p.key.type===Re.Identifier?p.key.name:""+p.key.value)+":"+d)})}),u="{"+l.join(",")+"}",this.assign(e,u)),n(e||u);break;case Re.ThisExpression:this.assign(e,"s"),n(e||"s");break;case Re.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case Re.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(ag(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(MC(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw Lu("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function H8(t,e){this.astBuilder=t,this.$filter=e}H8.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);bn(r,e.$filter);var n,i;(n=j8(r))&&(i=this.recurse(n));var a=D8(r.body),o;a&&(o=[],Cr(a,function(l,u){var f=e.recurse(l);l.input=f,o.push(f),l.watchId=u}));var s=[];Cr(r.body,function(l){s.push(e.recurse(l.expression))});var c=r.body.length===0?LC:r.body.length===1?s[0]:function(l,u){var f;return Cr(s,function(h){f=h(l,u)}),f};return i&&(c.assign=function(l,u,f){return i(l,f,u)}),o&&(c.inputs=o),c.ast=r,c.literal=$8(r),c.constant=V8(r),c},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Re.Literal:return this.value(t.value,e);case Re.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Re.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Re.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Re.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Re.Identifier:return a.identifier(t.name,e,r);case Re.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case Re.CallExpression:return o=[],Cr(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));var p=i.apply(void 0,f,u);return e?{context:void 0,name:void 0,value:p}:p}:function(s,c,l,u){var f=i(s,c,l,u),h;if(f.value!=null){for(var p=[],d=0;d<o.length;++d)p.push(o[d](s,c,l,u));h=f.value.apply(f.context,p)}return e?{value:h}:h};case Re.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,c,l,u){var f=n(s,!1,l,u),h=i(s,c,l,u);return f.context[f.name]=h,e?{value:h}:h};case Re.ArrayExpression:return o=[],Cr(t.elements,function(s){o.push(a.recurse(s))}),function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));return e?{value:f}:f};case Re.ObjectExpression:return o=[],Cr(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===Re.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,c,l,u){for(var f={},h=0;h<o.length;++h)o[h].computed?f[o[h].key(s,c,l,u)]=o[h].value(s,c,l,u):f[o[h].key]=o[h].value(s,c,l,u);return e?{value:f}:f};case Re.ThisExpression:return function(s){return e?{value:s}:s};case Re.LocalsExpression:return function(s,c){return e?{value:c}:c};case Re.NGValueParameter:return function(s,c,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Nu(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Nu(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=B8(s,c);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=(Nu(s)?s:0)-(Nu(c)?c:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s),l,u;return c!=null&&(l=e(i,a,o,s),l=M8(l),n&&n!==1&&c&&!c[l]&&(c[l]={}),Object.prototype.hasOwnProperty.call(c,l)&&(u=c[l])),r?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s);n&&n!==1&&c&&c[e]==null&&(c[e]={});var l=void 0;return c!=null&&Object.prototype.hasOwnProperty.call(c,e)&&(l=c[e]),r?{context:c,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var xw=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new Re(e,n),this.astCompiler=n.csp?new H8(this.ast,r):new G8(this.ast,r)};xw.prototype={constructor:xw,parse:function(t){return this.astCompiler.compile(t)}};FC.Lexer=yw;FC.Parser=xw;var X8=FC,Oae={},kae=X8.Lexer,Fae=X8.Parser;function DC(t,e){e=e||{};var r=e.filters||Oae,n=e.filters?e.cache||{}:DC.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new kae(i),c=new Fae(s,function(u){return r[u]},o);return n?(a=n[t],a||(a=n[t]=c.parse(t)),a):c.parse(t)}DC.cache=Object.create(null);var z8=DC;const Nae=t=>{let e=!1,r=null,n=null;t.args.forEach(a=>{a.key==="global"?e=!0:a.key==="minValue"?r=a.value:a.key==="maxValue"&&(n=a.value)});let i;if(e?i=DQ:i=MD,t.content.match(/=/)){const a=t.content.split(/=/)[0],o=t.content.split(/=/)[1];if(o==="random()"){const s=Math.random();le.dispatch(i({key:a,value:s})),le.dispatch(iu({key:a,value:s}))}else if(o.match(/[+\-*\/()]/)){const c=o.split(/([+\-*\/()])/g).map(f=>f.match(/[a-zA-Z]/)?UC(f).toString():f).reduce((f,h)=>f+h,"");let u=z8(c)();typeof u=="number"&&(typeof r=="number"&&u<r&&(u=r),typeof n=="number"&&u>n&&(u=n)),le.dispatch(i({key:a,value:u})),le.dispatch(iu({key:a,value:u}))}else o.match(/true|false/)?(o.match(/true/)&&(le.dispatch(i({key:a,value:!0})),le.dispatch(iu({key:a,value:!0}))),o.match(/false/)&&(le.dispatch(i({key:a,value:!1})),le.dispatch(iu({key:a,value:!1})))):isNaN(Number(o))?(le.dispatch(i({key:a,value:o})),le.dispatch(iu({key:a,value:o}))):(le.dispatch(i({key:a,value:Number(o)})),le.dispatch(iu({key:a,value:Number(o)})));e?($e.debug("",{key:a,value:le.getState().userData.globalGameVar[a]}),L5()):$e.debug("",{key:a,value:le.getState().stage.GameVar[a]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function UC(t){let e=0;return le.getState().stage.GameVar.hasOwnProperty(t)?e=le.getState().stage.GameVar[t]:le.getState().userData.globalGameVar.hasOwnProperty(t)&&(e=le.getState().userData.globalGameVar[t]),e}function Lae(t){return z8(t)()}const bw=t=>{if(t===void 0)return!0;const e=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g);if(e.every(n=>n.length)){const n=e.map(i=>i.match(/[a-zA-Z]/)?i.match(/true/)||i.match(/false/)?i:UC(i).toString():i).reduce((i,a)=>i+a,"");return!!Lae(n)}return!0},W8=()=>{const t=z.sceneManager.sceneData.currentScene.sceneName;if(z.sceneManager.sceneData.currentSentenceId>z.sceneManager.sceneData.currentScene.sentenceList.length-1&&t!=="storyline.txt"&&t!=="achieve.txt"){if(z.sceneManager.sceneData.sceneStack.length!==0){const u=z.sceneManager.sceneData.sceneStack.pop();u!==void 0&&pae(u)}return}const e=z.sceneManager.sceneData.currentScene.sentenceList[z.sceneManager.sceneData.currentSentenceId],r=u=>{let f=u,h;if(window.isSafari){const p=f.match(/\{.*?\}/g);p?h=p.filter((d,m)=>{const _=f.indexOf(d,m?f.indexOf(p[m-1])+p[m-1].length:0);return _===0||f[_-1]!=="\\"}):h=null}else h=f.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return h!==null&&h.forEach(p=>{const d=UC(window.isSafari?p.slice(1,-1):p.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));f=f.replace(p,d?d.toString():p)}),f=f.replace(/\\{/g,"{").replace(/\\}/g,"}"),f};(()=>{e.content=r((e==null?void 0:e.content)??""),e.args.forEach(u=>{u.value&&typeof u.value=="string"&&(u.value=r(u.value))})})();let i=!0,a=!1,o="";if(e.args.forEach(u=>{u.key==="when"&&(a=!0,o=u.value.toString())}),a&&(i=bw(o)),!i){$e.warn(""),z.sceneManager.sceneData.currentSentenceId++,an();return}ig(e);let s=!1;e.args.forEach(u=>{u.key==="next"&&u.value&&(s=!0)});let c=e.command===gt.say;e.args.forEach(u=>{u.key==="notend"&&u.value===!0&&(c=!1)});let l;if(s){z.sceneManager.sceneData.currentSentenceId++,W8();return}setTimeout(()=>{l=le.getState().stage;const u={currentStageState:l,globalGameVar:le.getState().userData.globalGameVar};$e.debug("",u),c&&z.backlogManager.saveCurrentStateToBacklog()},0),z.sceneManager.sceneData.currentSentenceId++},an=()=>{if(z.events.userInteractNext.emit(),le.getState().GUI.showTitle)return;let e=!1;if(z.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&(e=!0)}),e){$e.warn("next ");return}let r=!0;if(z.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=le.getState().stage,a=Ir(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);le.dispatch(Hm(a)),W8();return}$e.warn("");let n=!1;for(let i=0;i<z.gameplay.performController.performList.length;i++){const a=z.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),z.gameplay.performController.performList.splice(i,1),i--))}n&&an()};var Mae="__lodash_hash_undefined__";function Bae(t){return this.__data__.set(t,Mae),this}var Dae=Bae;function Uae(t){return this.__data__.has(t)}var jae=Uae,$ae=iC,Vae=Dae,Gae=jae;function $v(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new $ae;++e<r;)this.add(t[e])}$v.prototype.add=$v.prototype.push=Vae;$v.prototype.has=Gae;var Y8=$v;function Hae(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Xae=Hae;function zae(t){return t!==t}var Wae=zae;function Yae(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var qae=Yae,Kae=Xae,Zae=Wae,Jae=qae;function Qae(t,e,r){return e===e?Jae(t,e,r):Kae(t,Zae,r)}var eoe=Qae,toe=eoe;function roe(t,e){var r=t==null?0:t.length;return!!r&&toe(t,e,0)>-1}var noe=roe;function ioe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var aoe=ioe;function ooe(t,e){return t.has(e)}var q8=ooe;function soe(){}var loe=soe;function uoe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var jC=uoe,Uy=RD,coe=loe,foe=jC,hoe=1/0,doe=Uy&&1/foe(new Uy([,-0]))[1]==hoe?function(t){return new Uy(t)}:coe,poe=doe,voe=Y8,moe=noe,goe=aoe,_oe=q8,yoe=poe,xoe=jC,boe=200;function woe(t,e,r){var n=-1,i=moe,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=goe;else if(a>=boe){var l=e?null:yoe(t);if(l)return xoe(l);o=!1,i=_oe,c=new voe}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var Eoe=woe,Soe=Eoe;function Coe(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Soe(t,void 0,e):[]}var Toe=Coe;const qd=Pn(Toe),rf=t=>{for(const e of t)z.sceneManager.settledScenes.includes(e)?$e.warn(`${e}`):($e.info(`${e}`),Ni(e).then(r=>{const n=e.split("./game/scene/")[1];Yv(r,n||"",e)}))},Aoe=(t,e)=>{z.sceneManager.sceneData.sceneStack.push({sceneName:z.sceneManager.sceneData.currentScene.sceneName,sceneUrl:z.sceneManager.sceneData.currentScene.sceneUrl,continueLine:z.sceneManager.sceneData.currentSentenceId}),Ni(t).then(async r=>{if(await z.sceneManager.setCurrentScene(r,e,t,!0)){z.sceneManager.sceneData.currentSentenceId=0;const i=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(t);const a=qd(i);rf(a),$e.debug("",z.sceneManager.sceneData),an()}})},Ioe=t=>{const e=t.content.split("/"),r=e[e.length-1];return Aoe(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function nd(t,e,r){let n;const a=le.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...e,alpha:0,duration:0};n.unshift(o)}return n}function K8(t,e){const r=z.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function a(o){if(r){const s=r.pixiContainer,c=z.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha<1&&(s.alpha+=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function Z8(t,e){const r=z.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function a(o){if(r){const s=r.pixiContainer,c=z.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha>0&&(s.alpha-=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const $C={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};function J8(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var Roe=function(){},XO=function(){};const ww=(t,e,r)=>Math.min(Math.max(r,t),e),jy=.001,Poe=.01,zO=10,Ooe=.05,koe=1;function Foe({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;Roe(t<=zO*1e3);let o=1-e;o=ww(Ooe,koe,o),t=ww(Poe,zO,t/1e3),o<1?(i=l=>{const u=l*o,f=u*t,h=u-r,p=Ew(l,o),d=Math.exp(-f);return jy-h/p*d},a=l=>{const f=l*o*t,h=f*r+r,p=Math.pow(o,2)*Math.pow(l,2)*t,d=Math.exp(-f),m=Ew(Math.pow(l,2),o);return(-i(l)+jy>0?-1:1)*((h-p)*d)/m}):(i=l=>{const u=Math.exp(-l*t),f=(l-r)*t+1;return-jy+u*f},a=l=>{const u=Math.exp(-l*t),f=(r-l)*(t*t);return u*f});const s=5/t,c=Loe(i,a,s);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const Noe=12;function Loe(t,e,r){let n=r;for(let i=1;i<Noe;i++)n=n-t(n)/e(n);return n}function Ew(t,e){return t*Math.sqrt(1-e*e)}const Moe=["duration","bounce"],Boe=["stiffness","damping","mass"];function WO(t,e){return e.some(r=>t[r]!==void 0)}function Doe(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!WO(t,Boe)&&WO(t,Moe)){const r=Foe(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function VC(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=J8(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:h}=Doe(a),p=YO,d=YO;function m(){const _=u?-(u/1e3):0,v=r-e,g=c/(2*Math.sqrt(s*l)),y=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),g<1){const x=Ew(y,g);p=b=>{const w=Math.exp(-g*y*b);return r-w*((_+g*y*v)/x*Math.sin(x*b)+v*Math.cos(x*b))},d=b=>{const w=Math.exp(-g*y*b);return g*y*w*(Math.sin(x*b)*(_+g*y*v)/x+v*Math.cos(x*b))-w*(Math.cos(x*b)*(_+g*y*v)-x*v*Math.sin(x*b))}}else if(g===1)p=x=>r-Math.exp(-y*x)*(v+(_+y*v)*x);else{const x=y*Math.sqrt(g*g-1);p=b=>{const w=Math.exp(-g*y*b),E=Math.min(x*b,300);return r-w*((_+g*y*v)*Math.sinh(E)+x*v*Math.cosh(E))/x}}}return m(),{next:_=>{const v=p(_);if(h)o.done=_>=f;else{const g=d(_)*1e3,y=Math.abs(g)<=n,x=Math.abs(r-v)<=i;o.done=y&&x}return o.value=o.done?r:v,o},flipTarget:()=>{u=-u,[e,r]=[r,e],m()}}}VC.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const YO=t=>0,Q8=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},GC=(t,e,r)=>-r*t+r*e+t,e6=(t,e)=>r=>Math.max(Math.min(r,e),t),Sh=t=>t%1?Number(t.toFixed(5)):t,Vv=/(-)?([\d]*\.?[\d])+/g,Sw=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Uoe=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Kd(t){return typeof t=="string"}const og={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},t6=Object.assign(Object.assign({},og),{transform:e6(0,1)});Object.assign(Object.assign({},og),{default:1});const joe=t=>({test:e=>Kd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ch=joe("%");Object.assign(Object.assign({},Ch),{parse:t=>Ch.parse(t)/100,transform:t=>Ch.transform(t*100)});const HC=(t,e)=>r=>!!(Kd(r)&&Uoe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),r6=(t,e,r)=>n=>{if(!Kd(n))return n;const[i,a,o,s]=n.match(Vv);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},ul={test:HC("hsl","hue"),parse:r6("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ch.transform(Sh(e))+", "+Ch.transform(Sh(r))+", "+Sh(t6.transform(n))+")"},$oe=e6(0,255),$y=Object.assign(Object.assign({},og),{transform:t=>Math.round($oe(t))}),Wo={test:HC("rgb","red"),parse:r6("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+$y.transform(t)+", "+$y.transform(e)+", "+$y.transform(r)+", "+Sh(t6.transform(n))+")"};function Voe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Cw={test:HC("#"),parse:Voe,transform:Wo.transform},sg={test:t=>Wo.test(t)||Cw.test(t)||ul.test(t),parse:t=>Wo.test(t)?Wo.parse(t):ul.test(t)?ul.parse(t):Cw.parse(t),transform:t=>Kd(t)?t:t.hasOwnProperty("red")?Wo.transform(t):ul.transform(t)},n6="${c}",i6="${n}";function Goe(t){var e,r,n,i;return isNaN(t)&&Kd(t)&&((r=(e=t.match(Vv))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(Sw))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function a6(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(Sw);n&&(r=n.length,t=t.replace(Sw,n6),e.push(...n.map(sg.parse)));const i=t.match(Vv);return i&&(t=t.replace(Vv,i6),e.push(...i.map(og.parse))),{values:e,numColors:r,tokenised:t}}function o6(t){return a6(t).values}function s6(t){const{values:e,numColors:r,tokenised:n}=a6(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?n6:i6,s<r?sg.transform(a[s]):Sh(a[s]));return o}}const Hoe=t=>typeof t=="number"?0:t;function Xoe(t){const e=o6(t);return s6(t)(e.map(Hoe))}const l6={test:Goe,parse:o6,createTransformer:s6,getAnimatableNone:Xoe};function Vy(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function qO({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;i=Vy(c,s,t+1/3),a=Vy(c,s,t),o=Vy(c,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const zoe=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},Woe=[Cw,Wo,ul],KO=t=>Woe.find(e=>e.test(t)),u6=(t,e)=>{let r=KO(t),n=KO(e),i=r.parse(t),a=n.parse(e);r===ul&&(i=qO(i),r=Wo),n===ul&&(a=qO(a),n=Wo);const o=Object.assign({},i);return s=>{for(const c in o)c!=="alpha"&&(o[c]=zoe(i[c],a[c],s));return o.alpha=GC(i.alpha,a.alpha,s),r.transform(o)}},Yoe=t=>typeof t=="number",qoe=(t,e)=>r=>e(t(r)),c6=(...t)=>t.reduce(qoe);function f6(t,e){return Yoe(t)?r=>GC(t,e,r):sg.test(t)?u6(t,e):d6(t,e)}const h6=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>f6(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},Koe=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=f6(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function ZO(t){const e=l6.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const d6=(t,e)=>{const r=l6.createTransformer(e),n=ZO(t),i=ZO(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?c6(h6(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},Zoe=(t,e)=>r=>GC(t,e,r);function Joe(t){if(typeof t=="number")return Zoe;if(typeof t=="string")return sg.test(t)?u6:d6;if(Array.isArray(t))return h6;if(typeof t=="object")return Koe}function Qoe(t,e,r){const n=[],i=r||Joe(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;s=c6(c,s)}n.push(s)}return n}function ese([t,e],[r]){return n=>r(Q8(t,e,n))}function tse(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let c=1;for(;c<r&&!(t[c]>i||c===n);c++);a=c-1}const s=Q8(t[a],t[a+1],i);return e[a](s)}}function p6(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;XO(a===e.length),XO(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=Qoe(e,n,i),s=a===2?ese(t,o):tse(t,o);return r?c=>s(ww(t[0],t[a-1],c)):s}const rse=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nse=t=>e=>Math.pow(e,t),ise=t=>e=>e*e*((t+1)*e-t),ase=t=>{const e=ise(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},ose=1.525,sse=nse(2),lse=rse(sse);ase(ose);function use(t,e){return t.map(()=>e||lse).splice(0,t.length-1)}function cse(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function fse(t,e){return t.map(r=>r*e)}function Up({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=fse(n&&n.length===o.length?n:cse(o),i);function c(){return p6(s,o,{ease:Array.isArray(r)?r:use(o,r)})}let l=c();return{next:u=>(a.value=l(u),a.done=u>=i,a),flipTarget:()=>{o.reverse(),l=c()}}}function hse({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const c=e+s,l=a===void 0?c:a(c);return l!==c&&(s=l-e),{next:u=>{const f=-s*Math.exp(-u/n);return o.done=!(f>i||f<-i),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}const JO={keyframes:Up,spring:VC,decay:hse};function dse(t){if(Array.isArray(t.to))return Up;if(JO[t.type])return JO[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Up:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?VC:Up}const v6=1/60*1e3,pse=typeof performance<"u"?()=>performance.now():()=>Date.now(),m6=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(pse()),v6);function vse(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(c,l=!1,u=!1)=>{const f=u&&i,h=f?e:r;return l&&o.add(c),h.indexOf(c)===-1&&(h.push(c),f&&i&&(n=e.length)),c},cancel:c=>{const l=r.indexOf(c);l!==-1&&r.splice(l,1),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const u=e[l];u(c),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(c))}};return s}const mse=40;let Tw=!0,id=!1,Aw=!1;const Th={delta:0,timestamp:0},Zd=["read","update","preRender","render","postRender"],lg=Zd.reduce((t,e)=>(t[e]=vse(()=>id=!0),t),{}),gse=Zd.reduce((t,e)=>{const r=lg[e];return t[e]=(n,i=!1,a=!1)=>(id||xse(),r.schedule(n,i,a)),t},{}),_se=Zd.reduce((t,e)=>(t[e]=lg[e].cancel,t),{});Zd.reduce((t,e)=>(t[e]=()=>lg[e].process(Th),t),{});const yse=t=>lg[t].process(Th),g6=t=>{id=!1,Th.delta=Tw?v6:Math.max(Math.min(t-Th.timestamp,mse),1),Th.timestamp=t,Aw=!0,Zd.forEach(yse),Aw=!1,id&&(Tw=!1,m6(g6))},xse=()=>{id=!0,Tw=!0,Aw||m6(g6)},bse=gse;function _6(t,e,r=0){return t-e-r}function wse(t,e,r=0,n=!0){return n?_6(e+-t,e,r):e-(t-e)+r}function Ese(t,e,r,n){return n?t>=e+r:t<=-r}const Sse=t=>{const e=({delta:r})=>t(r);return{start:()=>bse.update(e,!0),stop:()=>_se.update(e)}};function Cse(t){var e,r,{from:n,autoplay:i=!0,driver:a=Sse,elapsed:o=0,repeat:s=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:f,onComplete:h,onRepeat:p,onUpdate:d}=t,m=J8(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:_}=m,v,g=0,y=m.duration,x,b=!1,w=!0,E;const S=dse(m);!((r=(e=S).needsInterpolation)===null||r===void 0)&&r.call(e,n,_)&&(E=p6([0,100],[n,_],{clamp:!1}),n=0,_=100);const C=S(Object.assign(Object.assign({},m),{from:n,to:_}));function T(){g++,c==="reverse"?(w=g%2===0,o=wse(o,y,l,w)):(o=_6(o,y,l),c==="mirror"&&C.flipTarget()),b=!1,p&&p()}function I(){v.stop(),h&&h()}function A(O){if(w||(O=-O),o+=O,!b){const F=C.next(Math.max(0,o));x=F.value,E&&(x=E(x)),b=w?F.done:o<=0}d==null||d(x),b&&(g===0&&(y??(y=o)),g<s?Ese(o,y,l,w)&&T():I())}function R(){u==null||u(),v=a(A),v.start()}return i&&R(),{stop:()=>{f==null||f(),v.stop()}}}function Tse(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Ase=Tse,Ise=Y8,Rse=Ase,Pse=q8,Ose=1,kse=2;function Fse(t,e,r,n,i,a){var o=r&Ose,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var f=-1,h=!0,p=r&kse?new Ise:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var d=t[f],m=e[f];if(n)var _=o?n(m,d,f,e,t,a):n(d,m,f,t,e,a);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!Rse(e,function(v,g){if(!Pse(p,g)&&(d===v||i(d,v,r,n,a)))return p.push(g)})){h=!1;break}}else if(!(d===m||i(d,m,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var y6=Fse;function Nse(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Lse=Nse,QO=Xd,e3=OD,Mse=rC,Bse=y6,Dse=Lse,Use=jC,jse=1,$se=2,Vse="[object Boolean]",Gse="[object Date]",Hse="[object Error]",Xse="[object Map]",zse="[object Number]",Wse="[object RegExp]",Yse="[object Set]",qse="[object String]",Kse="[object Symbol]",Zse="[object ArrayBuffer]",Jse="[object DataView]",t3=QO?QO.prototype:void 0,Gy=t3?t3.valueOf:void 0;function Qse(t,e,r,n,i,a,o){switch(r){case Jse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Zse:return!(t.byteLength!=e.byteLength||!a(new e3(t),new e3(e)));case Vse:case Gse:case zse:return Mse(+t,+e);case Hse:return t.name==e.name&&t.message==e.message;case Wse:case qse:return t==e+"";case Xse:var s=Dse;case Yse:var c=n&jse;if(s||(s=Use),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=$se,o.set(t,e);var u=Bse(s(t),s(e),n,i,a,o);return o.delete(t),u;case Kse:if(Gy)return Gy.call(t)==Gy.call(e)}return!1}var ele=Qse,r3=AD,tle=1,rle=Object.prototype,nle=rle.hasOwnProperty;function ile(t,e,r,n,i,a){var o=r&tle,s=r3(t),c=s.length,l=r3(e),u=l.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in e:nle.call(e,h)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var m=!0;a.set(t,e),a.set(e,t);for(var _=o;++f<c;){h=s[f];var v=t[h],g=e[h];if(n)var y=o?n(g,v,h,e,t,a):n(v,g,h,t,e,a);if(!(y===void 0?v===g||i(v,g,r,n,a):y)){m=!1;break}_||(_=h=="constructor")}if(m&&!_){var x=t.constructor,b=e.constructor;x!=b&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof b=="function"&&b instanceof b)&&(m=!1)}return a.delete(t),a.delete(e),m}var ale=ile,Hy=aC,ole=y6,sle=ele,lle=ale,n3=Gm,i3=Ao,a3=sC,ule=_D,cle=1,o3="[object Arguments]",s3="[object Array]",P0="[object Object]",fle=Object.prototype,l3=fle.hasOwnProperty;function hle(t,e,r,n,i,a){var o=i3(t),s=i3(e),c=o?s3:n3(t),l=s?s3:n3(e);c=c==o3?P0:c,l=l==o3?P0:l;var u=c==P0,f=l==P0,h=c==l;if(h&&a3(t)){if(!a3(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new Hy),o||ule(t)?ole(t,e,r,n,i,a):sle(t,e,c,r,n,i,a);if(!(r&cle)){var p=u&&l3.call(t,"__wrapped__"),d=f&&l3.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,_=d?e.value():e;return a||(a=new Hy),i(m,_,r,n,a)}}return h?(a||(a=new Hy),lle(t,e,r,n,i,a)):!1}var dle=hle,ple=dle,u3=Xl;function x6(t,e,r,n,i){return t===e?!0:t==null||e==null||!u3(t)&&!u3(e)?t!==t&&e!==e:ple(t,e,r,n,x6,i)}var b6=x6,vle=aC,mle=b6,gle=1,_le=2;function yle(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var f=new vle;if(n)var h=n(l,u,c,t,e,f);if(!(h===void 0?mle(u,l,gle|_le,n,f):h))return!1}}return!0}var xle=yle,ble=Za;function wle(t){return t===t&&!ble(t)}var w6=wle,Ele=w6,Sle=Vm;function Cle(t){for(var e=Sle(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Ele(i)]}return e}var Tle=Cle;function Ale(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var E6=Ale,Ile=xle,Rle=Tle,Ple=E6;function Ole(t){var e=Rle(t);return e.length==1&&e[0][2]?Ple(e[0][0],e[0][1]):function(r){return r===t||Ile(r,t,e)}}var kle=Ole,Fle=zd,Nle=Xl,Lle="[object Symbol]";function Mle(t){return typeof t=="symbol"||Nle(t)&&Fle(t)==Lle}var ug=Mle,Ble=Ao,Dle=ug,Ule=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jle=/^\w*$/;function $le(t,e){if(Ble(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Dle(t)?!0:jle.test(t)||!Ule.test(t)||e!=null&&t in Object(e)}var XC=$le,S6=iC,Vle="Expected a function";function zC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Vle);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(zC.Cache||S6),r}zC.Cache=S6;var Gle=zC,Hle=Gle,Xle=500;function zle(t){var e=Hle(t,function(n){return r.size===Xle&&r.clear(),n}),r=e.cache;return e}var Wle=zle,Yle=Wle,qle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kle=/\\(\\)?/g,Zle=Yle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(qle,function(r,n,i,a){e.push(i?a.replace(Kle,"$1"):n||r)}),e}),Jle=Zle;function Qle(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var C6=Qle,c3=Xd,eue=C6,tue=Ao,rue=ug,nue=1/0,f3=c3?c3.prototype:void 0,h3=f3?f3.toString:void 0;function T6(t){if(typeof t=="string")return t;if(tue(t))return eue(t,T6)+"";if(rue(t))return h3?h3.call(t):"";var e=t+"";return e=="0"&&1/t==-nue?"-0":e}var iue=T6,aue=iue;function oue(t){return t==null?"":aue(t)}var sue=oue,lue=Ao,uue=XC,cue=Jle,fue=sue;function hue(t,e){return lue(t)?t:uue(t,e)?[t]:cue(fue(t))}var cg=hue,due=ug,pue=1/0;function vue(t){if(typeof t=="string"||due(t))return t;var e=t+"";return e=="0"&&1/t==-pue?"-0":e}var Jd=vue,mue=cg,gue=Jd;function _ue(t,e){e=mue(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[gue(e[r++])];return r&&r==n?t:void 0}var WC=_ue,yue=WC;function xue(t,e,r){var n=t==null?void 0:yue(t,e);return n===void 0?r:n}var bue=xue;function wue(t,e){return t!=null&&e in Object(t)}var Eue=wue,Sue=cg,Cue=gD,Tue=Ao,Aue=lC,Iue=uC,Rue=Jd;function Pue(t,e,r){e=Sue(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Rue(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&Iue(i)&&Aue(o,i)&&(Tue(t)||Cue(t)))}var Oue=Pue,kue=Eue,Fue=Oue;function Nue(t,e){return t!=null&&Fue(t,e,kue)}var Lue=Nue,Mue=b6,Bue=bue,Due=Lue,Uue=XC,jue=w6,$ue=E6,Vue=Jd,Gue=1,Hue=2;function Xue(t,e){return Uue(t)&&jue(e)?$ue(Vue(t),e):function(r){var n=Bue(r,t);return n===void 0&&n===e?Due(r,t):Mue(e,n,Gue|Hue)}}var zue=Xue;function Wue(t){return t}var Yue=Wue;function que(t){return function(e){return e==null?void 0:e[t]}}var Kue=que,Zue=WC;function Jue(t){return function(e){return Zue(e,t)}}var Que=Jue,ece=Kue,tce=Que,rce=XC,nce=Jd;function ice(t){return rce(t)?ece(nce(t)):tce(t)}var ace=ice,oce=kle,sce=zue,lce=Yue,uce=Ao,cce=ace;function fce(t){return typeof t=="function"?t:t==null?lce:typeof t=="object"?uce(t)?sce(t[0],t[1]):oce(t):cce(t)}var A6=fce,hce="Expected a function";function dce(t){if(typeof t!="function")throw new TypeError(hce);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var pce=dce,vce=oC,mce=cg,gce=lC,d3=Za,_ce=Jd;function yce(t,e,r,n){if(!d3(t))return t;e=mce(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var c=_ce(e[i]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=o){var u=s[c];l=n?n(u,c,s):void 0,l===void 0&&(l=d3(u)?u:gce(e[i+1])?[]:{})}vce(s,c,l),s=s[c]}return t}var xce=yce,bce=WC,wce=xce,Ece=cg;function Sce(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=bce(t,o);r(s,o)&&wce(a,Ece(o,t),s)}return a}var Cce=Sce,Tce=C6,Ace=A6,Ice=Cce,Rce=ID;function Pce(t,e){if(t==null)return{};var r=Tce(Rce(t),function(n){return[n]});return e=Ace(e),Ice(t,r,function(n,i){return e(n,i[0])})}var Oce=Pce,kce=A6,Fce=pce,Nce=Oce;function Lce(t,e){return Nce(t,Fce(kce(e)))}var Mce=Lce;const Xy=Pn(Mce);function Bce(t){return t===void 0}var Dce=Bce;const ro=Pn(Dce);function I6(t,e,r){const n=z.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const v of t){const g=v.duration;i+=g;const{position:y,scale:x,...b}=v;a.push({x:y.x,y:y.y,scaleX:x.x,scaleY:x.y,...b}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let c=null;r>0&&(c=Cse({to:a,offset:o,duration:r,onUpdate:v=>{if(s){const{scaleX:g,scaleY:y,...x}=v;Object.assign(s,Xy(x,ro)),ro(g)||(s.scale.x=g),ro(y)||(s.scale.y=y)}}}));const{duration:l,...u}=m();le.dispatch(gi.updateEffect({target:e,transform:u}));function f(){if(n!=null&&n.pixiContainer){const{position:v,scale:g,...y}=d(),x=Xy({x:v.x,y:v.y,...y},ro);Object.assign(n==null?void 0:n.pixiContainer,x),n!=null&&n.pixiContainer&&(ro(g.x)||(n.pixiContainer.scale.x=g.x),ro(g==null?void 0:g.y)||(n.pixiContainer.scale.y=g.y))}}function h(){if(c&&c.stop(),c=null,n!=null&&n.pixiContainer){const{position:v,scale:g,...y}=m(),x=Xy({x:v.x,y:v.y,...y},ro);Object.assign(n==null?void 0:n.pixiContainer,x),n!=null&&n.pixiContainer&&(ro(g.x)||(n.pixiContainer.scale.x=g.x),ro(g==null?void 0:g.y)||(n.pixiContainer.scale.y=g.y))}}function p(v){}function d(){return t[0]}function m(){return t[t.length-1]}function _(){const v=t[t.length-1],{alpha:g,rotation:y,blur:x,duration:b,scale:w,position:E,...S}=v;return S}return{setStartState:f,setEndState:h,tickerFunc:p,getEndFilterEffect:_}}function Gv(t,e,r){const n=z.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=le.getState().stage.effects.find(c=>c.target===e),s=Ir({...(o==null?void 0:o.transform)??$C,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return $e.debug("",i),I6(i,e,r)}return null}function yi(t){const e=z.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function $o(t,e,r=!1){if(e==="enter"){let n=500;r&&(n=1500);let i=K8(t,n);const a=z.animationManager.nextEnterAnimationName.get(t);return a&&($e.debug("",t),i=Gv(a,t,yi(a)),n=yi(a),z.animationManager.nextEnterAnimationName.delete(t)),{duration:n,animation:i}}else{let n=750;r&&(n=1500);let i=Z8(t,n);const a=z.animationManager.nextExitAnimationName.get(t);return a&&($e.debug("",t),i=Gv(a,t,yi(a)),n=yi(a),z.animationManager.nextExitAnimationName.delete(t)),{duration:n,animation:i}}}const Uce=t=>{const e=t.content,r=le.dispatch;if(le.getState().GUI.showStoryLine)return r(lt({key:"storyLineBg",value:e})),t.args.forEach(l=>{l.key==="x"&&l.value!==""&&r(lt({key:"storyLineBgX",value:`${l.value}`})),l.key==="y"&&l.value!==""&&r(lt({key:"storyLineBgY",value:`${l.value}`}))}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};if(le.getState().GUI.showAchievement)return r(RJ(e)),t.args.forEach(l=>{l.key==="x"&&l.value!==""&&r(lt({key:"achieveBgX",value:`${l.value}px`})),l.key==="y"&&l.value!==""&&r(lt({key:"achieveBgY",value:`${l.value}px`}))}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};let n="",i="default";t.args.forEach(l=>{l.key==="unlockname"&&(n=l.value.toString()),l.key==="series"&&(i=l.value.toString())}),n!==""&&r(QD({name:n,url:e,series:i})),r(gi.removeEffectByTargetId("bg-main"));const a=At(t,"transform");let o=At(t,"duration");(!o||typeof o!="number")&&(o=1e3);let s;if(a)try{const l=JSON.parse(a.toString());s=nd("bg-main",l,o),s[0].alpha=0;const u=(Math.random()*10).toString(16),f={name:u,effects:s};z.animationManager.addAnimation(f),o=yi(u),z.animationManager.nextEnterAnimationName.set("bg-main",u)}catch{c()}else c();function c(){s=nd("bg-main",{},o),s[0].alpha=0;const u=(Math.random()*10).toString(16),f={name:u,effects:s};z.animationManager.addAnimation(f),o=yi(u),z.animationManager.nextEnterAnimationName.set("bg-main",u)}return At(t,"enter")&&(z.animationManager.nextEnterAnimationName.set("bg-main",At(t,"enter").toString()),o=yi(At(t,"enter").toString())),At(t,"exit")&&(z.animationManager.nextExitAnimationName.set("bg-main-off",At(t,"exit").toString()),o=yi(At(t,"exit").toString())),r(lt({key:"bgName",value:t.content})),{performName:"none",duration:o,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function jce(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",p="";const d=le.dispatch;for(const b of t.args)switch(b.key){case"left":b.value===!0&&(e="left");break;case"right":b.value===!0&&(e="right");break;case"clear":b.value===!0&&(r="");break;case"id":n=!0,o=b.value.toString();break;case"motion":i=b.value.toString();break;case"expression":a=b.value.toString();break;case"mouthOpen":c=b.value.toString(),c=zr(c,Xr.figure);break;case"mouthClose":l=b.value.toString(),l=zr(l,Xr.figure);break;case"mouthHalfOpen":u=b.value.toString(),u=zr(u,Xr.figure);break;case"eyesOpen":f=b.value.toString(),f=zr(f,Xr.figure);break;case"eyesClose":h=b.value.toString(),h=zr(h,Xr.figure);break;case"animationFlag":p=b.value.toString();break;case"none":r="";break}const m=o||`fig-${e}`,v=le.getState().stage.figureAssociatedAnimation.filter(b=>b.targetId!==m),g={targetId:m,animationFlag:p,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};v.push(g),d(lt({key:"figureAssociatedAnimation",value:v}));let y=!0;if(o!==""){const b=le.getState().stage.freeFigure.find(w=>w.key===o);b&&b.name===t.content&&(y=!1)}else e==="center"&&le.getState().stage.figName===t.content&&(y=!1),e==="left"&&le.getState().stage.figNameLeft===t.content&&(y=!1),e==="right"&&le.getState().stage.figNameRight===t.content&&(y=!1);if(y){const b=`fig-${e}`,w=`${o}`;le.dispatch(gi.removeEffectByTargetId(b)),le.dispatch(gi.removeEffectByTargetId(w))}const x=(b,w)=>{const E=At(w,"transform"),S=At(w,"duration");S&&typeof S=="number"&&(s=S);let C;if(E){console.log(E);try{const R=JSON.parse(E.toString());C=nd(b,R,s),C[0].alpha=0;const O=(Math.random()*10).toString(16),F={name:O,effects:C};z.animationManager.addAnimation(F),s=yi(O),z.animationManager.nextEnterAnimationName.set(b,O)}catch{T()}}else T();function T(){C=nd(b,{},s),C[0].alpha=0;const O=(Math.random()*10).toString(16),F={name:O,effects:C};z.animationManager.addAnimation(F),s=yi(O),z.animationManager.nextEnterAnimationName.set(b,O)}const I=At(w,"enter"),A=At(w,"exit");I&&(z.animationManager.nextEnterAnimationName.set(b,I.toString()),s=yi(I.toString())),A&&(z.animationManager.nextExitAnimationName.set(b+"-off",A.toString()),s=yi(A.toString()))};if(n){le.getState().stage.freeFigure;const b={key:o,name:r,basePosition:e};x(o,t),i&&d(gi.setLive2dMotion({target:o,motion:i})),a&&d(gi.setLive2dExpression({target:o,expression:a})),d(gi.setFreeFigureByKey(b))}else{const b={center:"fig-center",left:"fig-left",right:"fig-right"},w={center:"figName",left:"figNameLeft",right:"figNameRight"};o=b[e],x(o,t),i&&d(gi.setLive2dMotion({target:o,motion:i})),a&&d(gi.setLive2dExpression({target:o,expression:a})),d(lt({key:w[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const R6=(t,e)=>{Ni(t).then(async r=>{if(await z.sceneManager.setCurrentScene(r,e,t,!0)){z.sceneManager.sceneData.currentSentenceId=0;const i=[];z.sceneManager.sceneData.currentScene.assetsList.forEach(s=>{(s.url.endsWith(".mp4")||s.url.endsWith(".flv"))&&i.push(s.url)}),z.videoManager.destroyExcept(i);const a=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(t);const o=qd(a);rf(o),$e.debug("",z.sceneManager.sceneData),an()}})},$ce=t=>{const e=t.content.split("/"),r=e[e.length-1];return R6(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},P6=t=>{const e=z.sceneManager.sceneData.currentSentenceId;let r=e;z.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===gt.label&&n.content===t&&i!==e&&(r=i)}),z.sceneManager.sceneData.currentSentenceId=r,setTimeout(an,1)},Vce="_Choose_Main_hnqsf_1",Gce="_Choose_item_hnqsf_15",Hce="_Choose_item_image_hnqsf_37",Xce="_Choose_item_countdown_hnqsf_52",zce="_Choose_item_countdown_disabled_hnqsf_59",Wce="_Choose_item_progress_bar_hnqsf_66",Yce="_Choose_item_disabled_hnqsf_75",Us={Choose_Main:Vce,Choose_item:Gce,Choose_item_image:Hce,Choose_item_countdown:Xce,Choose_item_countdown_disabled:zce,Choose_item_progress_bar:Wce,Choose_item_disabled:Yce},qce=""+new URL("page-flip-1.mp3",import.meta.url).href,Kce=""+new URL("switch-1.mp3",import.meta.url).href,O6=""+new URL("mouse-enter.mp3",import.meta.url).href,Zce=""+new URL("dialog.mp3",import.meta.url).href,k6=""+new URL("click.mp3",import.meta.url).href;var F6={exports:{}},N6={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sc=ye;function Jce(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qce=typeof Object.is=="function"?Object.is:Jce,efe=Sc.useState,tfe=Sc.useEffect,rfe=Sc.useLayoutEffect,nfe=Sc.useDebugValue;function ife(t,e){var r=e(),n=efe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return rfe(function(){i.value=r,i.getSnapshot=e,zy(i)&&a({inst:i})},[t,r,e]),tfe(function(){return zy(i)&&a({inst:i}),t(function(){zy(i)&&a({inst:i})})},[t]),nfe(r),r}function zy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qce(t,r)}catch{return!0}}function afe(t,e){return e()}var ofe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?afe:ife;N6.useSyncExternalStore=Sc.useSyncExternalStore!==void 0?Sc.useSyncExternalStore:ofe;F6.exports=N6;var sfe=F6.exports,L6={exports:{}},M6={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=ye,lfe=sfe;function ufe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cfe=typeof Object.is=="function"?Object.is:ufe,ffe=lfe.useSyncExternalStore,hfe=fg.useRef,dfe=fg.useEffect,pfe=fg.useMemo,vfe=fg.useDebugValue;M6.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=hfe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=pfe(function(){function c(p){if(!l){if(l=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var d=o.value;if(i(d,p))return f=d}return f=p}if(d=f,cfe(u,p))return d;var m=n(p);return i!==void 0&&i(d,m)?d:(u=p,f=m)}var l=!1,u,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var s=ffe(t,a[0],a[1]);return dfe(function(){o.hasValue=!0,o.value=s},[s]),vfe(s),s};L6.exports=M6;var mfe=L6.exports;function gfe(t){t()}let B6=gfe;const _fe=t=>B6=t,yfe=()=>B6,p3=Symbol.for("react-redux-context"),v3=typeof globalThis<"u"?globalThis:{};function xfe(){var t;if(!ye.createContext)return{};const e=(t=v3[p3])!=null?t:v3[p3]=new Map;let r=e.get(ye.createContext);return r||(r=ye.createContext(null),e.set(ye.createContext,r)),r}const bs=xfe();function YC(t=bs){return function(){return ye.useContext(t)}}const D6=YC(),bfe=()=>{throw new Error("uSES not initialized!")};let U6=bfe;const wfe=t=>{U6=t},Efe=(t,e)=>t===e;function Sfe(t=bs){const e=t===bs?D6:YC(t);return function(n,i={}){const{equalityFn:a=Efe,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:f,noopCheck:h}=e();ye.useRef(!0);const p=ye.useCallback({[n.name](m){return n(m)}}[n.name],[n,f,o]),d=U6(l.addNestedSub,c.getState,u||c.getState,p,a);return ye.useDebugValue(d),d}}const rt=Sfe();function Cfe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var j6={exports:{}},er={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=typeof Symbol=="function"&&Symbol.for,qC=On?Symbol.for("react.element"):60103,KC=On?Symbol.for("react.portal"):60106,hg=On?Symbol.for("react.fragment"):60107,dg=On?Symbol.for("react.strict_mode"):60108,pg=On?Symbol.for("react.profiler"):60114,vg=On?Symbol.for("react.provider"):60109,mg=On?Symbol.for("react.context"):60110,ZC=On?Symbol.for("react.async_mode"):60111,gg=On?Symbol.for("react.concurrent_mode"):60111,_g=On?Symbol.for("react.forward_ref"):60112,yg=On?Symbol.for("react.suspense"):60113,Tfe=On?Symbol.for("react.suspense_list"):60120,xg=On?Symbol.for("react.memo"):60115,bg=On?Symbol.for("react.lazy"):60116,Afe=On?Symbol.for("react.block"):60121,Ife=On?Symbol.for("react.fundamental"):60117,Rfe=On?Symbol.for("react.responder"):60118,Pfe=On?Symbol.for("react.scope"):60119;function Li(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qC:switch(t=t.type,t){case ZC:case gg:case hg:case pg:case dg:case yg:return t;default:switch(t=t&&t.$$typeof,t){case mg:case _g:case bg:case xg:case vg:return t;default:return e}}case KC:return e}}}function $6(t){return Li(t)===gg}er.AsyncMode=ZC;er.ConcurrentMode=gg;er.ContextConsumer=mg;er.ContextProvider=vg;er.Element=qC;er.ForwardRef=_g;er.Fragment=hg;er.Lazy=bg;er.Memo=xg;er.Portal=KC;er.Profiler=pg;er.StrictMode=dg;er.Suspense=yg;er.isAsyncMode=function(t){return $6(t)||Li(t)===ZC};er.isConcurrentMode=$6;er.isContextConsumer=function(t){return Li(t)===mg};er.isContextProvider=function(t){return Li(t)===vg};er.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qC};er.isForwardRef=function(t){return Li(t)===_g};er.isFragment=function(t){return Li(t)===hg};er.isLazy=function(t){return Li(t)===bg};er.isMemo=function(t){return Li(t)===xg};er.isPortal=function(t){return Li(t)===KC};er.isProfiler=function(t){return Li(t)===pg};er.isStrictMode=function(t){return Li(t)===dg};er.isSuspense=function(t){return Li(t)===yg};er.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hg||t===gg||t===pg||t===dg||t===yg||t===Tfe||typeof t=="object"&&t!==null&&(t.$$typeof===bg||t.$$typeof===xg||t.$$typeof===vg||t.$$typeof===mg||t.$$typeof===_g||t.$$typeof===Ife||t.$$typeof===Rfe||t.$$typeof===Pfe||t.$$typeof===Afe)};er.typeOf=Li;j6.exports=er;var Ofe=j6.exports,V6=Ofe,kfe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ffe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},G6={};G6[V6.ForwardRef]=kfe;G6[V6.Memo]=Ffe;var ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=Symbol.for("react.element"),QC=Symbol.for("react.portal"),wg=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),Cg=Symbol.for("react.provider"),Tg=Symbol.for("react.context"),Nfe=Symbol.for("react.server_context"),Ag=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Rg=Symbol.for("react.suspense_list"),Pg=Symbol.for("react.memo"),Og=Symbol.for("react.lazy"),Lfe=Symbol.for("react.offscreen"),H6;H6=Symbol.for("react.module.reference");function Zi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JC:switch(t=t.type,t){case wg:case Sg:case Eg:case Ig:case Rg:return t;default:switch(t=t&&t.$$typeof,t){case Nfe:case Tg:case Ag:case Og:case Pg:case Cg:return t;default:return e}}case QC:return e}}}ir.ContextConsumer=Tg;ir.ContextProvider=Cg;ir.Element=JC;ir.ForwardRef=Ag;ir.Fragment=wg;ir.Lazy=Og;ir.Memo=Pg;ir.Portal=QC;ir.Profiler=Sg;ir.StrictMode=Eg;ir.Suspense=Ig;ir.SuspenseList=Rg;ir.isAsyncMode=function(){return!1};ir.isConcurrentMode=function(){return!1};ir.isContextConsumer=function(t){return Zi(t)===Tg};ir.isContextProvider=function(t){return Zi(t)===Cg};ir.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JC};ir.isForwardRef=function(t){return Zi(t)===Ag};ir.isFragment=function(t){return Zi(t)===wg};ir.isLazy=function(t){return Zi(t)===Og};ir.isMemo=function(t){return Zi(t)===Pg};ir.isPortal=function(t){return Zi(t)===QC};ir.isProfiler=function(t){return Zi(t)===Sg};ir.isStrictMode=function(t){return Zi(t)===Eg};ir.isSuspense=function(t){return Zi(t)===Ig};ir.isSuspenseList=function(t){return Zi(t)===Rg};ir.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===wg||t===Sg||t===Eg||t===Ig||t===Rg||t===Lfe||typeof t=="object"&&t!==null&&(t.$$typeof===Og||t.$$typeof===Pg||t.$$typeof===Cg||t.$$typeof===Tg||t.$$typeof===Ag||t.$$typeof===H6||t.getModuleId!==void 0)};ir.typeOf=Zi;function Mfe(){const t=yfe();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const m3={notify(){},get:()=>[]};function Bfe(t,e){let r,n=m3,i=0,a=!1;function o(m){u();const _=n.subscribe(m);let v=!1;return()=>{v||(v=!0,_(),f())}}function s(){n.notify()}function c(){d.onStateChange&&d.onStateChange()}function l(){return a}function u(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=Mfe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=m3)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,f())}const d={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return d}const Dfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ufe=Dfe?ye.useLayoutEffect:ye.useEffect;function jfe({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=ye.useMemo(()=>{const l=Bfe(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=ye.useMemo(()=>t.getState(),[t]);Ufe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const c=e||bs;return ye.createElement(c.Provider,{value:o},r)}function X6(t=bs){const e=t===bs?D6:YC(t);return function(){const{store:n}=e();return n}}const $fe=X6();function Vfe(t=bs){const e=t===bs?$fe:X6(t);return function(){return e().dispatch}}const wr=Vfe();wfe(mfe.useSyncExternalStoreWithSelector);_fe(JB.unstable_batchedUpdates);const on=()=>{const t=wr();return{playSeEnter:()=>{t(lt({key:"uiSe",value:O6}))},playSeClick:()=>{t(lt({key:"uiSe",value:k6}))},playSePageChange:()=>{t(lt({key:"uiSe",value:qce}))},playSeDialogOpen:()=>{t(lt({key:"uiSe",value:Zce}))},playSeSwitch:()=>{t(lt({key:"uiSe",value:Kce}))}}},eT=()=>({playSeEnter:()=>{le.dispatch(lt({key:"uiSe",value:O6}))},playSeClick:()=>{le.dispatch(lt({key:"uiSe",value:k6}))}}),Gfe=""+new URL("progress-bar-bg.png",import.meta.url).href,Hfe=""+new URL("progress-bar.png",import.meta.url).href;class tT{constructor(e,r){Xe(this,"text");Xe(this,"jump");Xe(this,"jumpToScene");Xe(this,"showCondition");Xe(this,"enableCondition");Xe(this,"style");this.text=e,this.jump=r,this.jumpToScene=r.match(/\./)!==null}static parse(e){const r=e.split("->"),n=r.length>1?r[0]:null,i=r.length>1?r[1]:r[0],a=i.split(":"),o=a[0].replace(/\${[^{}]*}/,""),s=new tT(o,a[1]),c=/\$\{(.*?)\}/,l=i.match(c);if(l){const f=l[1].split(","),h={};f.forEach(p=>{const[d,m]=p.split("=");d&&m&&(h[d.trim()]=isNaN(Number(m.trim()))?m.trim():Number(m.trim()))}),s.style=h}if(n!==null){const u=n.match(/\((.*)\)/);u&&(s.showCondition=u[1]);const f=n.match(/\[(.*)\]/);f&&(s.enableCondition=f[1])}return s}}const Iw=(t,e)=>{const n=t.content.split("|").map(u=>tT.parse(u)),a=le.getState().userData.optionData.textboxFont===yl.song?'"", serif':'"WebgalUI", serif',{playSeEnter:o,playSeClick:s}=eT();let c={current:null};const l=u=>u.filter((f,h)=>bw(f.showCondition)).map((f,h)=>{var v,g;const p=bw(f.enableCondition);let d=p?Us.Choose_item:Us.Choose_item_disabled;const m=()=>{if(!(!p||c.current)){if(s(),e==null||e(),c.current&&(clearTimeout(c.current),c.current=null),f.jumpToScene){const y=f.jump.split("./game/scene/")[1];R6(f.jump,y)}else P6(f.jump);z.gameplay.performController.unmountPerform("choose")}},_={fontFamily:a};if(f.style&&(typeof f.style.x=="number"&&(_.position="absolute",_.left=f.style.x*1.33333+"px",_.transform="translateX(-50%)"),typeof f.style.y=="number"&&(_.position="absolute",_.top=f.style.y*1.33333+"px",_.transform?_.transform+=" translateY(-50%)":_.transform="translateY(-50%)"),typeof f.style.scale=="number"&&(_.transform?_.transform+=" scale("+f.style.scale+")":_.transform="scale("+f.style.scale+")"),typeof f.style.fontSize=="number"&&(_.fontSize=f.style.fontSize+"px"),typeof f.style.fontColor=="string"&&f.style.fontColor[0]==="#"&&(_.color=f.style.fontColor)),typeof((v=f.style)==null?void 0:v.countdown)=="number"){d=p?Us.Choose_item_countdown:Us.Choose_item_countdown_disabled;let y=f.style.countdown,x=1082,b=1082/(y*1e3/16);const w=()=>{y<=0&&c.current?(clearTimeout(c),c.current=null,m()):c.current=setTimeout(()=>{y-=.016,x-=b;let E=document.getElementById("rect");E==null||E.setAttribute("width",Math.max(0,x).toString()),w()},16)};return w(),k.jsxs(rr.Fragment,{children:[k.jsxs("div",{className:d,style:_,children:[k.jsx("img",{src:Gfe,alt:f.text,style:{width:"1082px",height:"106px"}}),k.jsx("img",{src:Hfe,className:Us.Choose_item_progress_bar})]}),k.jsx("svg",{width:"0",height:"0",children:k.jsx("defs",{children:k.jsx("clipPath",{id:"myClip",children:k.jsx("rect",{id:"rect",width:"1082",height:"106",rx:"53",ry:"53",style:{fill:"#ffffff"}})})})})]},f.jump+h)}if((g=f.style)!=null&&g.image){d=Us.Choose_item_image;const y=zr(f.style.image,Xr.ui),x=`img-option-${h}`,b=new Image;return b.src=y,b.onload=function(){let w=document.getElementById(x);b.style.width=b.naturalWidth+"px",b.style.height=b.naturalHeight+"px",b.alt=f.text,w&&(w.style.width=b.naturalWidth+"px",w.style.height=b.naturalHeight+"px",setTimeout(()=>{w==null||w.prepend(b),w=null},32))},k.jsx("div",{id:x,className:d,style:_,onClick:m,onMouseEnter:p?o:void 0,children:k.jsx("span",{children:f.text})},f.jump+h)}return k.jsx("div",{className:d,style:_,onClick:m,onMouseEnter:p?o:void 0,children:f.text},f.jump+h)});return Pl.render(k.jsx("div",{className:Us.Choose_Main,children:l(n)}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Pl.render(k.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},Xfe=t=>($e.debug(`${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),zfe=t=>(t.content!==""&&t.content!=="none"?le.dispatch(lt({key:"enableFilm",value:t.content})):le.dispatch(lt({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Wfe="_Choose_Main_4xkm5_1",Yfe="_Choose_item_4xkm5_13",qfe="_glabalDialog_container_inner_4xkm5_28",Kfe="_glabalDialog_container_4xkm5_28",Zfe="_title_4xkm5_47",Jfe="_button_4xkm5_59",lu={Choose_Main:Wfe,Choose_item:Yfe,glabalDialog_container_inner:qfe,glabalDialog_container:Kfe,title:Zfe,button:Jfe},Qfe=t=>{const e=t.content.toString().trim(),r=At(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=At(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=le.getState().userData.optionData.textboxFont===yl.song?'"", serif':'"WebgalUI", serif',{playSeEnter:c,playSeClick:l}=eT(),u=k.jsx("div",{style:{fontFamily:s},className:lu.glabalDialog_container,children:k.jsxs("div",{className:lu.glabalDialog_container_inner,children:[k.jsx("div",{className:lu.title,children:n}),k.jsx("input",{id:"user-input",className:lu.Choose_item}),k.jsx("div",{onMouseEnter:c,onClick:()=>{const f=document.getElementById("user-input");f&&le.dispatch(MD({key:e,value:((f==null?void 0:f.value)??"")===""?" ":(f==null?void 0:f.value)??""})),l(),z.gameplay.performController.unmountPerform("userInput"),an()},className:lu.button,children:a})]})});return Pl.render(k.jsx("div",{className:lu.Choose_Main,children:u}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Pl.render(k.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},ehe="_FullScreenPerform_main_7er8a_2",the="_FullScreenPerform_element_7er8a_9",rhe="_fullScreen_video_7er8a_17",nhe="_fadeIn_7er8a_74",ihe="_intro_showSoftly_7er8a_1",ahe="_slideIn_7er8a_80",ohe="_typingEffect_7er8a_86",she="_typing_7er8a_86",lhe="_blinkCursor_7er8a_1",uhe="_pixelateEffect_7er8a_95",che="_pixelateAnimation_7er8a_1",fhe="_revealAnimation_7er8a_101",hhe="_videoContainer_7er8a_115",Lo={FullScreenPerform_main:ehe,FullScreenPerform_element:the,fullScreen_video:rhe,fadeIn:nhe,intro_showSoftly:ihe,slideIn:ahe,typingEffect:ohe,typing:she,blinkCursor:lhe,pixelateEffect:uhe,pixelateAnimation:che,revealAnimation:fhe,videoContainer:hhe},dhe=t=>{const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(b,w=0)=>{switch(b){case"fadeIn":return Lo.fadeIn;case"slideIn":return Lo.slideIn;case"typingEffect":return`${Lo.typingEffect} ${w}`;case"pixelateEffect":return Lo.pixelateEffect;case"revealAnimation":return Lo.revealAnimation;default:return Lo.fadeIn}};let o=Lo.fadeIn,s=1500,c=!1;for(const b of t.args){if(b.key==="backgroundColor"&&(n=b.value||"rgba(0, 0, 0, 1)"),b.key==="fontColor"&&(i=b.value||"rgba(255, 255, 255, 1)"),b.key==="fontSize")switch(b.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(b.key==="animation"&&(o=a(b.value)),b.key==="delayTime"){const w=parseInt(b.value.toString(),10);s=isNaN(w)?s:w}b.key==="hold"&&b.value===!0&&(c=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},u=t.content.split(/\|/);let h=1e3+s*u.length;const p=c?1e3*60*60*24:1e3+s*u.length;let d=!0,m=setTimeout(()=>{d=!1},h),_=setTimeout(()=>{});const v=()=>{const b=document.getElementById("introContainer");if(h-=s,clearTimeout(m),m=setTimeout(()=>{d=!1},h),b){const w=b.childNodes[0].childNodes[0].childNodes,E=w.length;w.forEach((S,C)=>{const T=Number(S.style.animationDelay.split("ms")[0]);T>0&&(S.style.animationDelay=`${T-s}ms`),C===E-1&&(T===0?(clearTimeout(_),z.gameplay.performController.unmountPerform(e)):(clearTimeout(_),c||(_=setTimeout(()=>{z.gameplay.performController.unmountPerform(e),setTimeout(an,0)},h))))})}};z.events.userInteractNext.on(v);const g=u.map((b,w)=>k.jsxs("div",{style:{animationDelay:`${s*w}ms`},className:o,children:[b,b===""?"":""]},"introtext"+w+Math.random().toString())),y=k.jsx("div",{style:l,children:k.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:g})});Pl.render(y,document.getElementById("introContainer"));const x=document.getElementById("introContainer");return x&&(x.style.display="block"),{performName:e,duration:p,isHoldOn:!1,stopFunction:()=>{const b=document.getElementById("introContainer");b&&(b.style.display="none"),z.events.userInteractNext.off(v)},blockingNext:()=>d,blockingAuto:()=>d,stopTimeout:void 0,goNextWhenOver:!0}},phe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),vhe=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),le.dispatch(lt({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},mhe="modulepreload",ghe=function(t,e){return new URL(t,e).href},g3={},_he=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=ghe(a,n),a in g3)return;g3[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":mhe,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},z6=new Map;function yhe(t){return t?typeof t=="string"?t:t():null}function W6(t){const e=yhe(t);return e||($e.error("Get name of perform failed. There no name of the perform."),"")}function Rke(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);z6.set(W6(t),e)}function xhe(t,e=[]){const r=z6.get(W6(t));if(!r||!(r instanceof Function))throw $e.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}_he(()=>import("./initRegister-0f3b7b4c.js"),[],import.meta.url);const bhe=t=>{const e="PixiPerform"+t.content;z.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=xhe(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;$e.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(a=z.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=z.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},whe=(t,e=4294967295,r=79764919)=>{const n=new Int32Array(256);let i,a,o,s=e;for(i=0;i<256;i++){for(o=i<<24,a=8;a>0;--a)o=2147483648&o?o<<1^r:o<<1;n[i]=o}for(i=0;i<t.length;i++)s=s<<8^n[255&(s>>24^t[i])];return s},_3=(t,e=whe)=>{const r=_=>new Uint8Array(_.length/2).map((v,g)=>parseInt(_.substring(2*g,2*(g+1)),16)),n=_=>r(_)[0],i=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach((_,v)=>i.set(_,v));const a=new Uint8Array(t.length);let o,s,c,l=!1,u=0,f=42,h=t.length>13&&t.substring(0,9)==="dynEncode",p=0;h&&(p=11,s=n(t.substring(9,p)),s<=1&&(p+=2,f=n(t.substring(11,p))),s===1&&(p+=8,c=(_=>new DataView(r(_).buffer).getInt32(0,!0))(t.substring(13,p))));const d=256-f;for(let _=p;_<t.length;_++)if(o=t.charCodeAt(_),o!==61||l){if(o===92&&_<t.length-5&&h){const v=t.charCodeAt(_+1);v!==117&&v!==85||(o=parseInt(t.substring(_+2,_+6),16),_+=5)}if(o>255){const v=i.get(o);v&&(o=v+127)}l&&(l=!1,o-=64),a[u++]=o<f&&o>0?o+d:o-f}else l=!0;const m=a.subarray(0,u);if(h&&s===1){const _=e(m);if(_!==c){const v="Decode failed crc32 validation";throw console.error("`simple-yenc`\n",v+`
`,"Expected: "+c+"; Got: "+_+`
`,"Visit https://github.com/eshaz/simple-yenc for more information"),Error(v)}}return m};function dr(){const t=Uint8Array,e=Float32Array;dr.modules||Object.defineProperties(dr,{modules:{value:new WeakMap},setModule:{value(r,n){dr.modules.set(r,Promise.resolve(n))}},getModule:{value(r,n){let i=dr.modules.get(r);return i||(n?i=WebAssembly.compile(_3(n)):(n=r.wasm,i=dr.inflateDynEncodeString(n).then(a=>WebAssembly.compile(a))),dr.modules.set(r,i)),i}},concatFloat32:{value(r,n){let i=new e(n),a=0,o=0;for(;a<r.length;)i.set(r[a],o),o+=r[a++].length;return i}},getDecodedAudio:{value:(r,n,i,a,o)=>({errors:r,channelData:n,samplesDecoded:i,sampleRate:a,bitDepth:o})},getDecodedAudioMultiChannel:{value(r,n,i,a,o,s){let c=[],l,u;for(l=0;l<i;l++){const f=[];for(u=0;u<n.length;)f.push(n[u++][l]||[]);c.push(dr.concatFloat32(f,a))}return dr.getDecodedAudio(r,c,a,o,s)}},inflateDynEncodeString:{value(r){return r=_3(r),new Promise(n=>{const i=String.raw`dynEncode0114db91da9bu*ttt$#UU3yzzss|yusvuy&4<054<,5T44^T44<(6U~J(44< ~A544U~6J0444545 444J0444J,4U4U7U454U4Z4U4U^/6545T4T44BU~64CU~O4U54U~5 U5T4B4Z!4U~5U5U5T4U~6U4ZTU5U5T44~4O4U2ZTU5T44Z!4B6T44U~64B6U~O44U~4O4U~54U~5 44~C4~54U~5 44~5454U4B6Ub!444~UO4U~5 U54U4ZTU#44U$464<4~B6^4<444~U~B4U~54U544~544~U5 U#UJU#5TT4U0ZTTUX5U5T4T4U#~4OU4U$~C4~54U~5 T44$6U\!TTT4UaT4<6T4<64<Z!44~4N4<U~5 4UZ!4U_TU#44UU6U~B$544$6U\!4U6U#~B44U#~B$~64<6_TU#444U~B~6~54<Y!44<_!T4Y!4<64~444~AN44<U~6J4U5 44J4U[!U#44UO4U~54U~5 U54 7U6844J44J 4UJ4UJ04VK(44<J44<J$4U~54U~5 4U~5!TTT4U$5"U5TTTTTTT4U$"4VK,U54<(6U~64<$6_!4< 64~6A54A544U~6#J(U54A4U[!44J(44#~A4U6UUU[!4464~64_!4<64~54<6T4<4]TU5 T4Y!44~44~AN4U~54U~54U5 44J(44J UA!U5U#UJU"UJU#U"JU#U"JT4UZTU5T4UZTU5T4UDZTU5T4U$[T44~UO4U~5 UU4U~U$.U5T4UP[T4U~4~UO4U~5 U#<U#<4U~U2$.UUN 44 ~UO4U~5 44!~UO4U~5 4U~4~UO4U~5 44J44J(U5 44U~J@44U~J<44UD~J844U~J44U$54U$5U54U$54U1^4U1^!4U~54U~5U54U~6U4U^/65T4T4U$54U~4BU~4O4U54U~5 UU'464U'_/54UU~5T4T4U~4BU~UO4U54U~5 U54U~4U~4U~U'$!44~5U5T44\T44U<~$6U\!4U#aT4U~4U~4O4U~5 U5U5U5TTT4U$"4YTU5 4U4~C5U5 U5U5444$4~64~\TU5 4U~4U~5T4Y!44O4U~54U~54U5 4CYTU5 4U~4U~4U~4$6TU54U\!44B4B~[!4U~4UD~4U~4U~4$6TU54U\!44B4B~[!44U<~4U4~$5 4U"U#$544"Y!454U^!44<J44<(J454U~84UN!#%'+/37?GOWgwU;U9$%& !"#`;dr.getModule(dr,i).then(a=>WebAssembly.instantiate(a,{})).then(({exports:a})=>{const o=new Map(Object.entries(a)),s=o.get("puff"),c=o.get("memory").buffer,l=new t(c),u=new DataView(c);let f=o.get("__heap_base");const h=r.length,p=f;f+=4,u.setInt32(p,h,!0);const d=f;f+=h,l.set(r,d);const m=f;f+=4,u.setInt32(m,l.byteLength-f,!0),s(f,m,d,p),n(l.slice(f,f+u.getInt32(m,!0)))})})}}}),Object.defineProperty(this,"wasm",{enumerable:!0,get:()=>this._wasm}),this.getOutputChannels=(r,n,i)=>{let a=[],o=0;for(;o<n;)a.push(r.slice(o*i,o++*i+i));return a},this.allocateTypedArray=(r,n,i=!0)=>{const a=this._wasm.malloc(n.BYTES_PER_ELEMENT*r);return i&&this._pointers.add(a),{ptr:a,len:r,buf:new n(this._wasm.HEAP,a,r)}},this.free=()=>{this._pointers.forEach(r=>{this._wasm.free(r)}),this._pointers.clear()},this.codeToString=r=>{const n=[],i=new Uint8Array(this._wasm.HEAP);for(let a=i[r];a!==0;a=i[++r])n.push(a);return String.fromCharCode.apply(null,n)},this.addError=(r,n,i,a,o,s)=>{r.push({message:n,frameLength:i,frameNumber:a,inputBytes:o,outputSamples:s})},this.instantiate=(r,n)=>(n&&dr.setModule(r,n),this._wasm=new r(dr).instantiate(),this._pointers=new Set,this._wasm.ready.then(()=>this))}var Ehe=Worker;const She=Pn(Ehe),Che=()=>globalThis.Worker||She;class Y6 extends Che(){constructor(e,r,n,i){dr.modules||new dr;let a=dr.modules.get(n);if(!a){let o="text/javascript",s,c=`'use strict';(${((l,u,f)=>{let h,p,d=new Promise(m=>{p=m});self.onmessage=({data:{id:m,command:_,data:v}})=>{let g=d,y={id:m},x;_==="init"?(Object.defineProperties(l,{WASMAudioDecoderCommon:{value:u},EmscriptenWASM:{value:f},module:{value:v.module},isWebWorker:{value:!0}}),h=new l(v.options),p()):_==="free"?h.free():_==="ready"?g=g.then(()=>h.ready):_==="reset"?g=g.then(()=>h.reset()):(Object.assign(y,h[_](Array.isArray(v)?v.map(b=>new Uint8Array(b)):new Uint8Array(v))),x=y.channelData?y.channelData.map(b=>b.buffer):[]),g.then(()=>self.postMessage(y,x))}}).toString()})(${n}, ${dr}, ${i})`;try{s=typeof process.versions.node<"u"}catch{}a=s?`data:${o};base64,${Buffer.from(c).toString("base64")}`:URL.createObjectURL(new Blob([c],{type:o})),dr.modules.set(n,a)}super(a,{name:r}),this._id=Number.MIN_SAFE_INTEGER,this._enqueuedOperations=new Map,this.onmessage=({data:o})=>{const{id:s,...c}=o;this._enqueuedOperations.get(s)(c),this._enqueuedOperations.delete(s)},new i(dr).getModule().then(o=>{this.postToDecoder("init",{module:o,options:e})})}async postToDecoder(e,r){return new Promise(n=>{this.postMessage({command:e,id:this._id,data:r}),this._enqueuedOperations.set(this._id++,n)})}get ready(){return this.postToDecoder("ready")}async free(){await this.postToDecoder("free").finally(()=>{this.terminate()})}async reset(){await this.postToDecoder("reset")}}const nf=(t,e)=>{Object.defineProperty(t,"name",{value:e})},Er=Symbol,q6=", ",wt=(()=>{const t="front",e="side",r="rear",n="left",i="center",a="right";return["",t+" ",e+" ",r+" "].map(o=>[[n,a],[n,a,i],[n,i,a],[i,n,a],[i]].flatMap(s=>s.map(c=>o+c).join(q6)))})(),us="LFE",Qd="monophonic (mono)",nc="stereo",Mf="surround",Qr=(t,...e)=>`${[Qd,nc,`linear ${Mf}`,"quadraphonic",`5.0 ${Mf}`,`5.1 ${Mf}`,`6.1 ${Mf}`,`7.1 ${Mf}`][t-1]} (${e.join(q6)})`,Rw=[Qd,Qr(2,wt[0][0]),Qr(3,wt[0][2]),Qr(4,wt[1][0],wt[3][0]),Qr(5,wt[1][2],wt[3][0]),Qr(6,wt[1][2],wt[3][0],us),Qr(7,wt[1][2],wt[2][0],wt[3][4],us),Qr(8,wt[1][2],wt[2][0],wt[3][0],us)],The=192e3,Ahe=176400,K6=96e3,Z6=88200,Ihe=64e3,kg=48e3,rT=44100,nT=32e3,iT=24e3,aT=22050,oT=16e3,J6=12e3,Q6=11025,sT=8e3,Rhe=7350,ic="absoluteGranulePosition",Nt="bandwidth",ws="bitDepth",da="bitrate",Wy=da+"Maximum",Yy=da+"Minimum",qy=da+"Nominal",e0="buffer",Ky=e0+"Fullness",jn="codec",Es=jn+"Frames",jp="coupledStreamCount",Hv="crc",e5=Hv+"16",t5=Hv+"32",$n="data",Ct="description",Mu="duration",O0="emphasis",Zy="hasOpusPadding",xl="header",Ah="isContinuedPacket",Jy="isCopyrighted",Ih="isFirstPage",Qy="isHome",bl="isLastPage",ac="isOriginal",oc="isPrivate",ex="isVbr",va="layer",je="length",Rt="mode",cl=Rt+"Extension",r5="mpeg",sc=r5+"Version",tx="numberAACFrames",rx="outputGain",$p="preSkip",nx="profile",ix=Er(),lc="protection",Phe="rawData",fl="segments",Ar="subarray",Rh="version",Fg="vorbis",Vp=Fg+"Comments",Gp=Fg+"Setup",Ng="block",ax=Ng+"ingStrategy",ox=Er(),js=Ng+"Size",ah=Ng+"size0",oh=Ng+"size1",k0=Er(),Lg="channel",$s=Lg+"MappingFamily",Hp=Lg+"MappingTable",Ss=Lg+"Mode",F0=Er(),Tt=Lg+"s",n5="copyright",sx=n5+"Id",lx=n5+"IdStart",Fl="frame",Cu=Fl+"Count",Cs=Fl+"Length",Mg="Number",Ph=Fl+Mg,Vo=Fl+"Padding",Pt=Fl+"Size",i5="Rate",ux="inputSample"+i5,lT="page",Xp=lT+"Checksum",Xv=Er(),sh=lT+"SegmentTable",_i=lT+"Sequence"+Mg,uT="sample",cx=uT+Mg,Wr=uT+i5,Go=Er(),Vn=uT+"s",Bg="stream",zp=Bg+"Count",a5=Bg+"Info",uc=Bg+"Serial"+Mg,Ohe=Bg+"StructureVersion",cT="total",Wp=cT+"BytesOut",Yp=cT+"Duration",Pw=cT+"Samples",Gr=Er(),cs=Er(),fx=Er(),Dg=Er(),Cc=Er(),o5=Er(),y3=Er(),Ug=Er(),Qn=Er(),af=Er(),Nl=Er(),t0=Er(),jg=Er(),s5=Er(),wl=Er(),Tc=Er(),of=Er(),l5=Er(),wo=Uint8Array,$g=DataView,_r="reserved",Hi="bad",Bf="free",fT="none",u5="16bit CRC",hT=(t,e,r)=>{for(let n=0;n<t[je];n++){let i=e(n);for(let a=8;a>0;a--)i=r(i);t[n]=i}return t},khe=hT(new wo(256),t=>t,t=>t&128?7^t<<1:t<<1),kr=[hT(new Uint16Array(256),t=>t<<8,t=>t<<1^(t&32768?32773:0))],Fr=[hT(new Uint32Array(256),t=>t,t=>t>>>1^(t&1)*3988292384)];for(let t=0;t<15;t++){kr.push(new Uint16Array(256)),Fr.push(new Uint32Array(256));for(let e=0;e<=255;e++)kr[t+1][e]=kr[0][kr[t][e]>>>8]^kr[t][e]<<8,Fr[t+1][e]=Fr[t][e]>>>8^Fr[0][Fr[t][e]&255]}const Fhe=t=>{let e=0;const r=t[je];for(let n=0;n!==r;n++)e=khe[e^t[n]];return e},Nhe=t=>{const e=t[je],r=e-16;let n=0,i=0;for(;i<=r;)n^=t[i++]<<8|t[i++],n=kr[15][n>>8]^kr[14][n&255]^kr[13][t[i++]]^kr[12][t[i++]]^kr[11][t[i++]]^kr[10][t[i++]]^kr[9][t[i++]]^kr[8][t[i++]]^kr[7][t[i++]]^kr[6][t[i++]]^kr[5][t[i++]]^kr[4][t[i++]]^kr[3][t[i++]]^kr[2][t[i++]]^kr[1][t[i++]]^kr[0][t[i++]];for(;i!==e;)n=(n&255)<<8^kr[0][n>>8^t[i++]];return n},Lhe=t=>{const e=t[je],r=e-16;let n=0,i=0;for(;i<=r;)n=Fr[15][(t[i++]^n)&255]^Fr[14][(t[i++]^n>>>8)&255]^Fr[13][(t[i++]^n>>>16)&255]^Fr[12][t[i++]^n>>>24]^Fr[11][t[i++]]^Fr[10][t[i++]]^Fr[9][t[i++]]^Fr[8][t[i++]]^Fr[7][t[i++]]^Fr[6][t[i++]]^Fr[5][t[i++]]^Fr[4][t[i++]]^Fr[3][t[i++]]^Fr[2][t[i++]]^Fr[1][t[i++]]^Fr[0][t[i++]];for(;i!==e;)n=Fr[0][(n^t[i++])&255]^n>>>8;return n^-1},Ow=(...t)=>{const e=new wo(t.reduce((r,n)=>r+n[je],0));return t.reduce((r,n)=>(e.set(n,r),r+n[je]),0),e},Ll=t=>String.fromCharCode(...t),x3=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],zv=t=>x3[t&15]<<4|x3[t>>4];class Mhe{constructor(e){this._data=e,this._pos=e[je]*8}set position(e){this._pos=e}get position(){return this._pos}read(e){const r=Math.floor(this._pos/8),n=this._pos%8;return this._pos-=e,(zv(this._data[r-1])<<8)+zv(this._data[r])>>7-n&255}}class Bhe{constructor(e,r){this._onCodecHeader=e,this._onCodecUpdate=r,this[wl]()}[Tc](){this._isEnabled=!0}[wl](){this._headerCache=new Map,this._codecUpdateData=new WeakMap,this._codecHeaderSent=!1,this._codecShouldUpdate=!1,this._bitrate=null,this._isEnabled=!1}[s5](e,r){if(this._onCodecUpdate){this._bitrate!==e&&(this._bitrate=e,this._codecShouldUpdate=!0);const n=this._codecUpdateData.get(this._headerCache.get(this._currentHeader));this._codecShouldUpdate&&n&&this._onCodecUpdate({bitrate:e,...n},r),this._codecShouldUpdate=!1}}[Qn](e){const r=this._headerCache.get(e);return r&&this._updateCurrentHeader(e),r}[af](e,r,n){this._isEnabled&&(this._codecHeaderSent||(this._onCodecHeader({...r}),this._codecHeaderSent=!0),this._updateCurrentHeader(e),this._headerCache.set(e,r),this._codecUpdateData.set(r,n))}_updateCurrentHeader(e){this._onCodecUpdate&&e!==this._currentHeader&&(this._codecShouldUpdate=!0,this._currentHeader=e)}}const Ha=new WeakMap,Fs=new WeakMap;class sf{constructor(e,r){this._codecParser=e,this._headerCache=r}*[y3](){let e;do{if(e=yield*this.Frame[Nl](this._codecParser,this._headerCache,0),e)return e;this._codecParser[cs](1)}while(!0)}*[Ug](e){let r=yield*this[y3]();const n=Fs.get(r)[je];if(e||this._codecParser._flushing||(yield*this.Header[Qn](this._codecParser,this._headerCache,n)))return this._headerCache[Tc](),this._codecParser[cs](n),this._codecParser[Dg](r),r;this._codecParser[Cc](`Missing ${Fl} at ${n} bytes from current position.`,`Dropping current ${Fl} and trying again.`),this._headerCache[wl](),this._codecParser[cs](1)}}class c5{constructor(e,r){Fs.set(this,{[xl]:e}),this[$n]=r}}class r0 extends c5{static*[Nl](e,r,n,i,a){const o=yield*e[Qn](n,i,a);if(o){const s=Ha.get(o)[Cs],c=Ha.get(o)[Vn],l=(yield*n[Gr](s,a))[Ar](0,s);return new r(o,l,c)}else return null}constructor(e,r,n){super(e,r),this[xl]=e,this[Vn]=n,this[Mu]=n/e[Wr]*1e3,this[Ph]=null,this[Wp]=null,this[Pw]=null,this[Yp]=null,Fs.get(this)[je]=r[je]}}const hx="unsynchronizationFlag",dx="extendedHeaderFlag",px="experimentalFlag",vx="footerPresent";class dT{static*getID3v2Header(e,r,n){const a={};let o=yield*e[Gr](3,n);if(o[0]!==73||o[1]!==68||o[2]!==51||(o=yield*e[Gr](10,n),a[Rh]=`id3v2.${o[3]}.${o[4]}`,o[5]&15)||(a[hx]=!!(o[5]&128),a[dx]=!!(o[5]&64),a[px]=!!(o[5]&32),a[vx]=!!(o[5]&16),o[6]&128||o[7]&128||o[8]&128||o[9]&128))return null;const s=o[6]<<21|o[7]<<14|o[8]<<7|o[9];return a[je]=10+s,new dT(a)}constructor(e){this[Rh]=e[Rh],this[hx]=e[hx],this[dx]=e[dx],this[px]=e[px],this[vx]=e[vx],this[je]=e[je]}}class n0{constructor(e){Ha.set(this,e),this[ws]=e[ws],this[da]=null,this[Tt]=e[Tt],this[Ss]=e[Ss],this[Wr]=e[Wr]}}const f5={0:[Bf,Bf,Bf,Bf,Bf],16:[32,32,32,32,8],240:[Hi,Hi,Hi,Hi,Hi]},N0=(t,e,r)=>8*((t+r)%e+e)*(1<<(t+r)/e)-8*e*(e/8|0);for(let t=2;t<15;t++)f5[t<<4]=[t*32,N0(t,4,0),N0(t,4,-1),N0(t,8,4),N0(t,8,0)];const Dhe=0,Uhe=1,jhe=2,$he=3,b3=4,L0="bands ",M0=" to 31",w3={0:L0+4+M0,16:L0+8+M0,32:L0+12+M0,48:L0+16+M0},Zs="bitrateIndex",Oh="v2",qp="v1",B0="Intensity stereo ",D0=", MS stereo ",U0="on",j0="off",Vhe={0:B0+j0+D0+j0,16:B0+U0+D0+j0,32:B0+j0+D0+U0,48:B0+U0+D0+U0},mx={0:{[Ct]:_r},2:{[Ct]:"Layer III",[Vo]:1,[cl]:Vhe,[qp]:{[Zs]:jhe,[Vn]:1152},[Oh]:{[Zs]:b3,[Vn]:576}},4:{[Ct]:"Layer II",[Vo]:1,[cl]:w3,[Vn]:1152,[qp]:{[Zs]:Uhe},[Oh]:{[Zs]:b3}},6:{[Ct]:"Layer I",[Vo]:4,[cl]:w3,[Vn]:384,[qp]:{[Zs]:Dhe},[Oh]:{[Zs]:$he}}},gx="MPEG Version ",E3="ISO/IEC ",Ghe={0:{[Ct]:`${gx}2.5 (later extension of MPEG 2)`,[va]:Oh,[Wr]:{0:Q6,4:J6,8:sT,12:_r}},8:{[Ct]:_r},16:{[Ct]:`${gx}2 (${E3}13818-3)`,[va]:Oh,[Wr]:{0:aT,4:iT,8:oT,12:_r}},24:{[Ct]:`${gx}1 (${E3}11172-3)`,[va]:qp,[Wr]:{0:rT,4:kg,8:nT,12:_r}},length:je},Hhe={0:u5,1:fT},Xhe={0:fT,1:"50/15 ms",2:_r,3:"CCIT J.17"},S3={0:{[Tt]:2,[Ct]:nc},64:{[Tt]:2,[Ct]:"joint "+nc},128:{[Tt]:2,[Ct]:"dual channel"},192:{[Tt]:1,[Ct]:Qd}};class ad extends n0{static*[Qn](e,r,n){const i={},a=yield*dT.getID3v2Header(e,r,n);a&&(yield*e[Gr](a[je],n),e[cs](a[je]));const o=yield*e[Gr](4,n),s=Ll(o[Ar](0,4)),c=r[Qn](s);if(c)return new ad(c);if(o[0]!==255||o[1]<224)return null;const l=Ghe[o[1]&24];if(l[Ct]===_r)return null;const u=o[1]&6;if(mx[u][Ct]===_r)return null;const f={...mx[u],...mx[u][l[va]]};if(i[sc]=l[Ct],i[va]=f[Ct],i[Vn]=f[Vn],i[lc]=Hhe[o[1]&1],i[je]=4,i[da]=f5[o[2]&240][f[Zs]],i[da]===Hi||(i[Wr]=l[Wr][o[2]&12],i[Wr]===_r)||(i[Vo]=o[2]&2&&f[Vo],i[oc]=!!(o[2]&1),i[Cs]=Math.floor(125*i[da]*i[Vn]/i[Wr]+i[Vo]),!i[Cs]))return null;const h=o[3]&192;if(i[Ss]=S3[h][Ct],i[Tt]=S3[h][Tt],i[cl]=f[cl][o[3]&48],i[Jy]=!!(o[3]&8),i[ac]=!!(o[3]&4),i[O0]=Xhe[o[3]&3],i[O0]===_r)return null;i[ws]=16;{const{length:p,frameLength:d,samples:m,..._}=i;r[af](s,i,_)}return new ad(i)}constructor(e){super(e),this[da]=e[da],this[O0]=e[O0],this[Vo]=e[Vo],this[Jy]=e[Jy],this[ac]=e[ac],this[oc]=e[oc],this[va]=e[va],this[cl]=e[cl],this[sc]=e[sc],this[lc]=e[lc]}}class pT extends r0{static*[Nl](e,r,n){return yield*super[Nl](ad,pT,e,r,n)}constructor(e,r,n){super(e,r,n)}}class zhe extends sf{constructor(e,r,n){super(e,r),this.Frame=pT,this.Header=ad,n(this[jn])}get[jn](){return r5}*[t0](){return yield*this[Ug]()}}const Whe={0:"MPEG-4",8:"MPEG-2"},Yhe={0:"valid",2:Hi,4:Hi,6:Hi},qhe={0:u5,1:fT},Khe={0:"AAC Main",64:"AAC LC (Low Complexity)",128:"AAC SSR (Scalable Sample Rate)",192:"AAC LTP (Long Term Prediction)"},Zhe={0:K6,4:Z6,8:Ihe,12:kg,16:rT,20:nT,24:iT,28:aT,32:oT,36:J6,40:Q6,44:sT,48:Rhe,52:_r,56:_r,60:"frequency is written explicitly"},C3={0:{[Tt]:0,[Ct]:"Defined in AOT Specific Config"},64:{[Tt]:1,[Ct]:Qd},128:{[Tt]:2,[Ct]:Qr(2,wt[0][0])},192:{[Tt]:3,[Ct]:Qr(3,wt[1][3])},256:{[Tt]:4,[Ct]:Qr(4,wt[1][3],wt[3][4])},320:{[Tt]:5,[Ct]:Qr(5,wt[1][3],wt[3][0])},384:{[Tt]:6,[Ct]:Qr(6,wt[1][3],wt[3][0],us)},448:{[Tt]:8,[Ct]:Qr(8,wt[1][3],wt[2][0],wt[3][0],us)}};class Vg extends n0{static*[Qn](e,r,n){const i={},a=yield*e[Gr](7,n),o=Ll([a[0],a[1],a[2],a[3]&252|a[6]&3]),s=r[Qn](o);if(s)Object.assign(i,s);else{if(a[0]!==255||a[1]<240||(i[sc]=Whe[a[1]&8],i[va]=Yhe[a[1]&6],i[va]===Hi))return null;const l=a[1]&1;i[lc]=qhe[l],i[je]=l?7:9,i[ix]=a[2]&192,i[Go]=a[2]&60;const u=a[2]&2;if(i[nx]=Khe[i[ix]],i[Wr]=Zhe[i[Go]],i[Wr]===_r)return null;i[oc]=!!u,i[F0]=(a[2]<<8|a[3])&448,i[Ss]=C3[i[F0]][Ct],i[Tt]=C3[i[F0]][Tt],i[ac]=!!(a[3]&32),i[Qy]=!!(a[3]&8),i[sx]=!!(a[3]&8),i[lx]=!!(a[3]&4),i[ws]=16,i[Vn]=1024,i[tx]=a[6]&3;{const{length:f,channelModeBits:h,profileBits:p,sampleRateBits:d,frameLength:m,samples:_,numberAACFrames:v,...g}=i;r[af](o,i,g)}}if(i[Cs]=(a[3]<<11|a[4]<<3|a[5]>>5)&8191,!i[Cs])return null;const c=(a[5]<<6|a[6]>>2)&2047;return i[Ky]=c===2047?"VBR":c,new Vg(i)}constructor(e){super(e),this[sx]=e[sx],this[lx]=e[lx],this[Ky]=e[Ky],this[Qy]=e[Qy],this[ac]=e[ac],this[oc]=e[oc],this[va]=e[va],this[je]=e[je],this[sc]=e[sc],this[tx]=e[tx],this[nx]=e[nx],this[lc]=e[lc]}get audioSpecificConfig(){const e=Ha.get(this),r=e[ix]+64<<5|e[Go]<<5|e[F0]>>3,n=new wo(2);return new $g(n[e0]).setUint16(0,r,!1),n}}class vT extends r0{static*[Nl](e,r,n){return yield*super[Nl](Vg,vT,e,r,n)}constructor(e,r,n){super(e,r,n)}}class Jhe extends sf{constructor(e,r,n){super(e,r),this.Frame=vT,this.Header=Vg,n(this[jn])}get[jn](){return"aac"}*[t0](){return yield*this[Ug]()}}class hl extends r0{static _getFrameFooterCrc16(e){return(e[e[je]-2]<<8)+e[e[je]-1]}static[l5](e){const r=hl._getFrameFooterCrc16(e),n=Nhe(e[Ar](0,-2));return r===n}constructor(e,r,n){r[a5]=n,r[e5]=hl._getFrameFooterCrc16(e),super(r,e,Ha.get(r)[Vn])}}const h5="get from STREAMINFO metadata block",Qhe={0:"Fixed",1:"Variable"},d5={0:_r,16:192};for(let t=2;t<16;t++)d5[t<<4]=t<6?576*2**(t-2):2**t;const ede={0:h5,1:Z6,2:Ahe,3:The,4:sT,5:oT,6:aT,7:iT,8:nT,9:rT,10:kg,11:K6,15:Hi},tde={0:{[Tt]:1,[Ct]:Qd},16:{[Tt]:2,[Ct]:Qr(2,wt[0][0])},32:{[Tt]:3,[Ct]:Qr(3,wt[0][1])},48:{[Tt]:4,[Ct]:Qr(4,wt[1][0],wt[3][0])},64:{[Tt]:5,[Ct]:Qr(5,wt[1][1],wt[3][0])},80:{[Tt]:6,[Ct]:Qr(6,wt[1][1],us,wt[3][0])},96:{[Tt]:7,[Ct]:Qr(7,wt[1][1],us,wt[3][4],wt[2][0])},112:{[Tt]:8,[Ct]:Qr(8,wt[1][1],us,wt[3][0],wt[2][0])},128:{[Tt]:2,[Ct]:`${nc} (left, diff)`},144:{[Tt]:2,[Ct]:`${nc} (diff, right)`},160:{[Tt]:2,[Ct]:`${nc} (avg, diff)`},176:_r,192:_r,208:_r,224:_r,240:_r},rde={0:h5,2:8,4:12,6:_r,8:16,10:20,12:24,14:_r};class Yo extends n0{static _decodeUTF8Int(e){if(e[0]>254)return null;if(e[0]<128)return{value:e[0],length:1};let r=1;for(let o=64;o&e[0];o>>=1)r++;let n=r-1,i=0,a=0;for(;n>0;a+=6,n--){if((e[n]&192)!==128)return null;i|=(e[n]&63)<<a}return i|=(e[n]&127>>r)<<a,{value:i,length:r}}static[of](e,r){const n={[Gr]:function*(){return e}};return Yo[Qn](n,r,0).next().value}static*[Qn](e,r,n){let i=yield*e[Gr](6,n);if(i[0]!==255||!(i[1]===248||i[1]===249))return null;const a={},o=Ll(i[Ar](0,4)),s=r[Qn](o);if(s)Object.assign(a,s);else{if(a[ox]=i[1]&1,a[ax]=Qhe[a[ox]],a[k0]=i[2]&240,a[Go]=i[2]&15,a[js]=d5[a[k0]],a[js]===_r||(a[Wr]=ede[a[Go]],a[Wr]===Hi)||i[3]&1)return null;const l=tde[i[3]&240];if(l===_r||(a[Tt]=l[Tt],a[Ss]=l[Ct],a[ws]=rde[i[3]&14],a[ws]===_r))return null}a[je]=5,i=yield*e[Gr](a[je]+8,n);const c=Yo._decodeUTF8Int(i[Ar](4));if(!c||(a[ox]?a[cx]=c.value:a[Ph]=c.value,a[je]+=c[je],a[k0]===96?(i[je]<a[je]&&(i=yield*e[Gr](a[je],n)),a[js]=i[a[je]-1]+1,a[je]+=1):a[k0]===112&&(i[je]<a[je]&&(i=yield*e[Gr](a[je],n)),a[js]=(i[a[je]-1]<<8)+i[a[je]]+1,a[je]+=2),a[Vn]=a[js],a[Go]===12?(i[je]<a[je]&&(i=yield*e[Gr](a[je],n)),a[Wr]=i[a[je]-1]*1e3,a[je]+=1):a[Go]===13?(i[je]<a[je]&&(i=yield*e[Gr](a[je],n)),a[Wr]=(i[a[je]-1]<<8)+i[a[je]],a[je]+=2):a[Go]===14&&(i[je]<a[je]&&(i=yield*e[Gr](a[je],n)),a[Wr]=((i[a[je]-1]<<8)+i[a[je]])*10,a[je]+=2),i[je]<a[je]&&(i=yield*e[Gr](a[je],n)),a[Hv]=i[a[je]-1],a[Hv]!==Fhe(i[Ar](0,a[je]-1))))return null;if(!s){const{blockingStrategyBits:l,frameNumber:u,sampleNumber:f,samples:h,sampleRateBits:p,blockSizeBits:d,crc:m,length:_,...v}=a;r[af](o,a,v)}return new Yo(a)}constructor(e){super(e),this[e5]=null,this[ax]=e[ax],this[js]=e[js],this[Ph]=e[Ph],this[cx]=e[cx],this[a5]=null}}const nde=2,ide=512*1024;class p5 extends sf{constructor(e,r,n){super(e,r),this.Frame=hl,this.Header=Yo,n(this[jn])}get[jn](){return"flac"}*_getNextFrameSyncOffset(e){const r=yield*this._codecParser[Gr](2,0),n=r[je]-2;for(;e<n;){if(r[e]===255){const a=r[e+1];if(a===248||a===249)break;a!==255&&e++}e++}return e}*[t0](){do{const e=yield*Yo[Qn](this._codecParser,this._headerCache,0);if(e){let r=Ha.get(e)[je]+nde;for(;r<=ide;){if(this._codecParser._flushing||(yield*Yo[Qn](this._codecParser,this._headerCache,r))){let n=yield*this._codecParser[Gr](r);if(this._codecParser._flushing||(n=n[Ar](0,r)),hl[l5](n)){const i=new hl(n,e);return this._headerCache[Tc](),this._codecParser[cs](r),this._codecParser[Dg](i),i}}r=yield*this._getNextFrameSyncOffset(r+1)}this._codecParser[Cc](`Unable to sync FLAC frame after searching ${r} bytes.`),this._codecParser[cs](r)}else this._codecParser[cs](yield*this._getNextFrameSyncOffset(1))}while(!0)}[jg](e){return e[_i]===0?(this._headerCache[Tc](),this._streamInfo=e[$n][Ar](13)):e[_i]===1||(e[Es]=Fs.get(e)[fl].map(r=>{const n=Yo[of](r,this._headerCache);if(n)return new hl(r,n,this._streamInfo);this._codecParser[Cc]("Failed to parse Ogg FLAC frame","Skipping invalid FLAC frame")}).filter(r=>!!r)),e}}class Gg{static*[Qn](e,r,n){const i={};let a=yield*e[Gr](28,n);if(a[0]!==79||a[1]!==103||a[2]!==103||a[3]!==83||(i[Ohe]=a[4],a[5]&248))return null;i[bl]=!!(a[5]&4),i[Ih]=!!(a[5]&2),i[Ah]=!!(a[5]&1);const s=new $g(wo.from(a[Ar](0,28))[e0]);try{i[ic]=s.getBigInt64(6,!0)}catch{}i[uc]=s.getInt32(14,!0),i[_i]=s.getInt32(18,!0),i[Xp]=s.getInt32(22,!0);const c=a[26];i[je]=c+27,a=yield*e[Gr](i[je],n),i[Cs]=0,i[sh]=[],i[Xv]=wo.from(a[Ar](27,i[je]));for(let l=0,u=0;l<c;l++){const f=i[Xv][l];i[Cs]+=f,u+=f,(f!==255||l===c-1)&&(i[sh].push(u),u=0)}return new Gg(i)}constructor(e){Ha.set(this,e),this[ic]=e[ic],this[Ah]=e[Ah],this[Ih]=e[Ih],this[bl]=e[bl],this[sh]=e[sh],this[_i]=e[_i],this[Xp]=e[Xp],this[uc]=e[uc]}}class mT extends c5{static*[Nl](e,r,n){const i=yield*Gg[Qn](e,r,n);if(i){const a=Ha.get(i)[Cs],o=Ha.get(i)[je],s=o+a,c=(yield*e[Gr](s,0))[Ar](0,s),l=c[Ar](o,s);return new mT(i,l,c)}else return null}constructor(e,r,n){super(e,r),Fs.get(this)[je]=n[je],this[Es]=[],this[Phe]=n,this[ic]=e[ic],this[t5]=e[Xp],this[Mu]=0,this[Ah]=e[Ah],this[Ih]=e[Ih],this[bl]=e[bl],this[_i]=e[_i],this[Vn]=0,this[uc]=e[uc]}}class T3 extends r0{constructor(e,r){super(r,e,r[Pt]*r[Cu]/1e3*r[Wr])}}const A3={0:Rw.slice(0,2),1:Rw},Di="SILK-only",Xn="CELT-only",$0="Hybrid",Ro="narrowband",V0="medium-band",Po="wideband",uu="super-wideband",cu="fullband",ade={0:{[Rt]:Di,[Nt]:Ro,[Pt]:10},8:{[Rt]:Di,[Nt]:Ro,[Pt]:20},16:{[Rt]:Di,[Nt]:Ro,[Pt]:40},24:{[Rt]:Di,[Nt]:Ro,[Pt]:60},32:{[Rt]:Di,[Nt]:V0,[Pt]:10},40:{[Rt]:Di,[Nt]:V0,[Pt]:20},48:{[Rt]:Di,[Nt]:V0,[Pt]:40},56:{[Rt]:Di,[Nt]:V0,[Pt]:60},64:{[Rt]:Di,[Nt]:Po,[Pt]:10},72:{[Rt]:Di,[Nt]:Po,[Pt]:20},80:{[Rt]:Di,[Nt]:Po,[Pt]:40},88:{[Rt]:Di,[Nt]:Po,[Pt]:60},96:{[Rt]:$0,[Nt]:uu,[Pt]:10},104:{[Rt]:$0,[Nt]:uu,[Pt]:20},112:{[Rt]:$0,[Nt]:cu,[Pt]:10},120:{[Rt]:$0,[Nt]:cu,[Pt]:20},128:{[Rt]:Xn,[Nt]:Ro,[Pt]:2.5},136:{[Rt]:Xn,[Nt]:Ro,[Pt]:5},144:{[Rt]:Xn,[Nt]:Ro,[Pt]:10},152:{[Rt]:Xn,[Nt]:Ro,[Pt]:20},160:{[Rt]:Xn,[Nt]:Po,[Pt]:2.5},168:{[Rt]:Xn,[Nt]:Po,[Pt]:5},176:{[Rt]:Xn,[Nt]:Po,[Pt]:10},184:{[Rt]:Xn,[Nt]:Po,[Pt]:20},192:{[Rt]:Xn,[Nt]:uu,[Pt]:2.5},200:{[Rt]:Xn,[Nt]:uu,[Pt]:5},208:{[Rt]:Xn,[Nt]:uu,[Pt]:10},216:{[Rt]:Xn,[Nt]:uu,[Pt]:20},224:{[Rt]:Xn,[Nt]:cu,[Pt]:2.5},232:{[Rt]:Xn,[Nt]:cu,[Pt]:5},240:{[Rt]:Xn,[Nt]:cu,[Pt]:10},248:{[Rt]:Xn,[Nt]:cu,[Pt]:20}};class od extends n0{static[of](e,r,n){const i={};if(i[Tt]=e[9],i[$s]=e[18],i[je]=i[$s]!==0?21+i[Tt]:19,e[je]<i[je])throw new Error("Out of data while inside an Ogg Page");const a=r[0]&3,o=a===3?2:1,s=Ll(e[Ar](0,i[je]))+Ll(r[Ar](0,o)),c=n[Qn](s);if(c)return new od(c);if(s.substr(0,8)!=="OpusHead"||e[8]!==1)return null;i[$n]=wo.from(e[Ar](0,i[je]));const l=new $g(i[$n][e0]);if(i[ws]=16,i[$p]=l.getUint16(10,!0),i[ux]=l.getUint32(12,!0),i[Wr]=kg,i[rx]=l.getInt16(16,!0),i[$s]in A3&&(i[Ss]=A3[i[$s]][i[Tt]-1],!i[Ss]))return null;i[$s]!==0&&(i[zp]=e[19],i[jp]=e[20],i[Hp]=[...e[Ar](21,i[Tt]+21)]);const u=ade[248&r[0]];switch(i[Rt]=u[Rt],i[Nt]=u[Nt],i[Pt]=u[Pt],a){case 0:i[Cu]=1;break;case 1:case 2:i[Cu]=2;break;case 3:i[ex]=!!(128&r[1]),i[Zy]=!!(64&r[1]),i[Cu]=63&r[1];break;default:return null}{const{length:f,data:h,channelMappingFamily:p,...d}=i;n[af](s,i,d)}return new od(i)}constructor(e){super(e),this[$n]=e[$n],this[Nt]=e[Nt],this[$s]=e[$s],this[Hp]=e[Hp],this[jp]=e[jp],this[Cu]=e[Cu],this[Pt]=e[Pt],this[Zy]=e[Zy],this[ux]=e[ux],this[ex]=e[ex],this[Rt]=e[Rt],this[rx]=e[rx],this[$p]=e[$p],this[zp]=e[zp]}}class ode extends sf{constructor(e,r,n){super(e,r),this.Frame=T3,this.Header=od,n(this[jn]),this._identificationHeader=null}get[jn](){return"opus"}[jg](e){return e[_i]===0?(this._headerCache[Tc](),this._identificationHeader=e[$n]):e[_i]===1||(e[Es]=Fs.get(e)[fl].map(r=>{const n=od[of](this._identificationHeader,r,this._headerCache);if(n)return new T3(r,n);this._codecParser[o5]("Failed to parse Ogg Opus Header","Not a valid Ogg Opus file")})),e}}class I3 extends r0{constructor(e,r,n){super(r,e,n)}}const kw={};for(let t=0;t<8;t++)kw[t+6]=2**(6+t);class Wv extends n0{static[of](e,r,n,i){if(e[je]<30)throw new Error("Out of data while inside an Ogg Page");const a=Ll(e[Ar](0,30)),o=r[Qn](a);if(o)return new Wv(o);const s={[je]:30};if(a.substr(0,7)!=="vorbis")return null;s[$n]=wo.from(e[Ar](0,30));const c=new $g(s[$n][e0]);if(s[Rh]=c.getUint32(7,!0),s[Rh]!==0||(s[Tt]=e[11],s[Ss]=Rw[s[Tt]-1]||"application defined",s[Wr]=c.getUint32(12,!0),s[Wy]=c.getInt32(16,!0),s[qy]=c.getInt32(20,!0),s[Yy]=c.getInt32(24,!0),s[oh]=kw[(e[28]&240)>>4],s[ah]=kw[e[28]&15],s[ah]>s[oh])||e[29]!==1)return null;s[ws]=32,s[Gp]=i,s[Vp]=n;{const{length:l,data:u,version:f,vorbisSetup:h,vorbisComments:p,...d}=s;r[af](a,s,d)}return new Wv(s)}constructor(e){super(e),this[Wy]=e[Wy],this[Yy]=e[Yy],this[qy]=e[qy],this[ah]=e[ah],this[oh]=e[oh],this[$n]=e[$n],this[Vp]=e[Vp],this[Gp]=e[Gp]}}class sde extends sf{constructor(e,r,n){super(e,r),this.Frame=I3,n(this[jn]),this._identificationHeader=null,this._setupComplete=!1,this._prevBlockSize=null}get[jn](){return Fg}[jg](e){e[Es]=[];for(const r of Fs.get(e)[fl])if(r[0]===1)this._headerCache[Tc](),this._identificationHeader=e[$n],this._setupComplete=!1;else if(r[0]===3)this._vorbisComments=r;else if(r[0]===5)this._vorbisSetup=r,this._mode=this._parseSetupHeader(r),this._setupComplete=!0;else if(this._setupComplete){const n=Wv[of](this._identificationHeader,this._headerCache,this._vorbisComments,this._vorbisSetup);n?e[Es].push(new I3(r,n,this._getSamples(r,n))):this._codecParser[logError]("Failed to parse Ogg Vorbis Header","Not a valid Ogg Vorbis file")}return e}_getSamples(e,r){const i=this._mode.blockFlags[e[0]>>1&this._mode.mask]?r[oh]:r[ah],a=this._prevBlockSize===null?0:(this._prevBlockSize+i)/4;return this._prevBlockSize=i,a}_parseSetupHeader(e){const r=new Mhe(e),n={count:0,blockFlags:[]};for(;(r.read(1)&1)!==1;);let i;for(;n.count<64&&r.position>0;){zv(r.read(8));let a=0;for(;r.read(8)===0&&a++<3;);if(a===4)i=r.read(7),n.blockFlags.unshift(i&1),r.position+=6,n.count++;else{((zv(i)&126)>>1)+1!==n.count&&this._codecParser[Cc]("vorbis derived mode count did not match actual mode count");break}}return n.mask=(1<<Math.log2(n.count))-1,n}}class lde{constructor(e,r,n){this._codecParser=e,this._headerCache=r,this._onCodec=n,this._continuedPacket=new wo,this._codec=null,this._isSupported=null}get[jn](){return this._codec||""}_updateCodec(e,r){this._codec!==e&&(this._headerCache[wl](),this._parser=new r(this._codecParser,this._headerCache,this._onCodec),this._codec=e)}_checkCodecSupport({data:e}){const r=Ll(e[Ar](0,8));switch(r){case"fishead\0":return!1;case"OpusHead":return this._updateCodec("opus",ode),!0;case(/^\x7fFLAC/.test(r)&&r):return this._updateCodec("flac",p5),!0;case(/^\x01vorbis/.test(r)&&r):return this._updateCodec(Fg,sde),!0;default:return!1}}_checkPageSequenceNumber(e){e[_i]!==this._pageSequenceNumber+1&&this._pageSequenceNumber>1&&e[_i]>1&&this._codecParser[Cc]("Unexpected gap in Ogg Page Sequence Number.",`Expected: ${this._pageSequenceNumber+1}, Got: ${e[_i]}`),this._pageSequenceNumber=e[_i]}_parsePage(e){this._isSupported===null&&(this._pageSequenceNumber=e[_i],this._isSupported=this._checkCodecSupport(e)),this._checkPageSequenceNumber(e);const r=Fs.get(e),n=Ha.get(r[xl]);let i=0;if(r[fl]=n[sh].map(a=>e[$n][Ar](i,i+=a)),this._continuedPacket[je]&&(r[fl][0]=Ow(this._continuedPacket,r[fl][0]),this._continuedPacket=new wo),n[Xv][n[Xv][je]-1]===255&&(this._continuedPacket=Ow(this._continuedPacket,r[fl].pop())),this._isSupported){const a=this._parser[jg](e);return this._codecParser[Dg](a),a}else return e}}class ude extends sf{constructor(e,r,n){super(e,r),this._onCodec=n,this.Frame=mT,this.Header=Gg,this._streams=new Map,this._currentSerialNumber=null}get[jn](){const e=this._streams.get(this._currentSerialNumber);return e?e.codec:""}*[t0](){const e=yield*this[Ug](!0);this._currentSerialNumber=e[uc];let r=this._streams.get(this._currentSerialNumber);return r||(r=new lde(this._codecParser,this._headerCache,this._onCodec),this._streams.set(this._currentSerialNumber,r)),e[bl]&&this._streams.delete(this._currentSerialNumber),r._parsePage(e)}}const _x=()=>{};class v5{constructor(e,{onCodec:r,onCodecHeader:n,onCodecUpdate:i,enableLogging:a=!1,enableFrameCRC32:o=!0}={}){this._inputMimeType=e,this._onCodec=r||_x,this._onCodecHeader=n||_x,this._onCodecUpdate=i,this._enableLogging=a,this._crc32=o?Lhe:_x,this[wl]()}get[jn](){return this._parser?this._parser[jn]:""}[wl](){this._headerCache=new Bhe(this._onCodecHeader,this._onCodecUpdate),this._generator=this._getGenerator(),this._generator.next()}*flush(){this._flushing=!0;for(let e=this._generator.next();e.value;e=this._generator.next())yield e.value;this._flushing=!1,this[wl]()}*parseChunk(e){for(let r=this._generator.next(e);r.value;r=this._generator.next())yield r.value}parseAll(e){return[...this.parseChunk(e),...this.flush()]}*_getGenerator(){if(this._inputMimeType.match(/aac/))this._parser=new Jhe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/mpeg/))this._parser=new zhe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/flac/))this._parser=new p5(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/ogg/))this._parser=new ude(this,this._headerCache,this._onCodec);else throw new Error(`Unsupported Codec ${mimeType}`);for(this._frameNumber=0,this._currentReadPosition=0,this._totalBytesIn=0,this._totalBytesOut=0,this._totalSamples=0,this._sampleRate=void 0,this._rawData=new Uint8Array(0);;){const e=yield*this._parser[t0]();e&&(yield e)}}*[Gr](e=0,r=0){let n;for(;this._rawData[je]<=e+r;){if(n=yield,this._flushing)return this._rawData[Ar](r);n&&(this._totalBytesIn+=n[je],this._rawData=Ow(this._rawData,n))}return this._rawData[Ar](r)}[cs](e){this._currentReadPosition+=e,this._rawData=this._rawData[Ar](e)}[fx](e){this._sampleRate=e[xl][Wr],e[xl][da]=e[Mu]>0?Math.round(e[$n][je]/e[Mu])*8:0,e[Ph]=this._frameNumber++,e[Wp]=this._totalBytesOut,e[Pw]=this._totalSamples,e[Yp]=this._totalSamples/this._sampleRate*1e3,e[t5]=this._crc32(e[$n]),this._headerCache[s5](e[xl][da],e[Yp]),this._totalBytesOut+=e[$n][je],this._totalSamples+=e[Vn]}[Dg](e){e[Es]?(e[Es].forEach(r=>{e[Mu]+=r[Mu],e[Vn]+=r[Vn],this[fx](r)}),e[Pw]=this._totalSamples,e[Yp]=this._totalSamples/this._sampleRate*1e3||0,e[Wp]=this._totalBytesOut):this[fx](e)}_log(e,r){if(this._enableLogging){const n=[`${jn}:         ${this[jn]}`,`inputMimeType: ${this._inputMimeType}`,`readPosition:  ${this._currentReadPosition}`,`totalBytesIn:  ${this._totalBytesIn}`,`${Wp}: ${this._totalBytesOut}`],i=Math.max(...n.map(a=>a[je]));r.push(`--stats--${"-".repeat(i-9)}`,...n,"-".repeat(i)),e("codec-parser",r.reduce((a,o)=>a+`
  `+o,""))}}[Cc](...e){this._log(console.warn,e)}[o5](...e){this._log(console.error,e)}}const dl=ic,kh=Es,cde=jp,Kp=$n,m5=xl,g5=bl,fde=$p,hde=Vp,dde=Gp,pde=Hp,R3=Tt,_5=Vn,vde=zp;function Bu(t){function e(){}function r(I){throw I}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,Bu.wasm||Object.defineProperty(Bu,"wasm",{get:()=>String.raw`dynEncode01a33fc84f8dos?Q>_M'	zmea,=9z=$.JTK'(u H3KQt;=}X=})SVy{oEqUHh87[iA2(+*7}@B;?=}A?>~{x#5X.]J
=Mi=MUH 
5Omrn2Lj{	j			b)j{l8Jr/^UO6j5a1HH=M26I[T) W|HeF,l	'0b8K!eJ
vz&WrnV"5 kwP4pRAx[p;7>VU?Rq9~QwI=}	frgx7QE5-Ml?E	{@z5f}.;%Mi_ZU@.mt.,BB;Z_V)AUBf &$kz(_z^r>b>/DTQlIQ}:8_!@v!O
\\ebVp~\N'eBb#NY	#W0a]!\nTSx76I-pfh,ceieic#upab07>F3Tfkbxf6H6 yV?@?{Q+=}9%!>&@Uq?qtIU+gy+5s
GS1K;B\fhXd)Uw X151L-;j=piN:}BwXt3yoJLjnn-sTes	{Os9SekFTVK-WEO
R*vVJCsr^v3/ Po|$RKu# [{V>>ws~~9=Mz-hi>1d!>>	/~ywrb0!	~j#88Al3S8oK:x'dAk<;)3b{5?
NR/+>6}mzQ|pMj;2&#gg|/[k*Z8ZvXFa*+V,\r':G-W8rp ]k=M|]$"VD_d%~m>aj%U6^8"b]}lflIq;[T>{o3*iDg@s =Mkuw	F~{_95,}50>_6l*{)GjE7(arbj	Tgk;_RZ=MX*g[X^uN~u~
:_NWP\^Wptt22wT22v6y6;VI?^&>&F]VBfTe|$]	wyV.b. tnZ$:K? l
SZ'7
s%4cL+{
^KCUn9~g/rV$
[c6&(qx	6 YSO{-L;Uhk(y71CYD40,$Em9S"kUUg{>%[2\siU.~q
$&*hM#8#U@Ia[Hccm#g;/9?	g~B9'S.),gizf,^k|=Uv"&|[lyDIQCWz2_(pi}kU-PV$M)}Dq{a.|+/II^b?/uCHg|M#L'A-B7<9&f1E/ cE%5O.uK~;u7uR=~30pIx)Xyeyo	I%8K!9C'	Y0}ze"[MqA?;QWetbW)aWet+*jh8

~q|*=DW
q'$is4|USK|c(46?#M0rYNAPr{pge|H=MmOn@+(MI3z*^,Jz* [x|fpBf4s*s* [bGnj%Z\K-VyT1bJZJ=}<nul/6|@{b| wTAu.NvSUL-hrH7V
V-pL.PqEkl(tpOYHpcy592'6_9^;a&rbf_Z%#h?;zVj2lG^h
TGxim1O&ec/9/NMM
<rB8Vd$89okj)&>]FkjJCK'OGib6fh=faGHO*hs-#t*DS6(t,F0(n,dY@nh9{~@JT\VOdrr
&
JBV%trQOV SBi6OLi.p(xD
DL9nBbt;[KA0'|rqaz8m/V:&Z&Ukr9>Rrz"Bw&!Ad&?lSwkl29bzk(-gua5A3*GV@b1r#of:&z:ryG~qbf V\Q%c60n"a:{	$N~=}6Ym,A640kiL#=MMk%9[|[< 0 v\y-zO1@ j=}Gr55Z&RX*Q:B.k){B>MLZRf," p"!o4z0m0'$g,kbqUL?R@c4U	(ZEOD XzC=}D$)]SzELkMVa%FJ
4=MfA|jo3V5-:5rK[u\]3Q=}*TL87>':LCdheM73FrmM|"6d@OcsZg%nBUMK08ugN0R)h=P{nQI3314T=yyl=iUCgWQ($^]) 2>ms&bQ'YFyIr1ma0'#}^W_W}2QjA*Or
D_\Z=)#	]x165_x}']+\cO9g_dai"[9C^\:Rrtq'Y[7l4tS-W~xdG@fOs@Og.,H?_wXi~ZS(ERJ=M_=ML^lZc/z/whW:<OH _y}CKG]=M|c6kKO--QT676H	^	FcfCdDvB& 8M^17)h9=MESShIk/.XXppoG_wO+>F#GWM+nr#DoL}.p}	YW]jNkFL)}	+ 9~%uthw 3ZyVf/fOP==M4a3$FY\[)RfO71wZl
? .)fsnWI?UA17+_]ssS9WLs_Iu=M6bCg {FKMv)F eI*$&eXSX4G+g	VT[^~?|#KlLi;V'j0k=MAxyvJb0VHAM;O/(S3kUJf)g1Wl1Td%=MaPu(pD\ 00;7e( o6@L$cLJ,]&5&tvPxX 8HK0]f 8-r( 3OIj#	=bF%4X!@$@BlU@OED/}T3$%nJ[g;=M5:_qB1-eD6*_
Qs0w]6Y>3CxF4!y'wY0ww*X3gg5^/SZ.K9m"}b}V|Pt]pb=MtJ=^-=}W"ix=}W.}d=}w}S!/Kys}Ww0&)
}=M~PA9Z*SMNcHB]h_q^&Z=}* !v>B2!4 p_!dit7.;1bF"in/YN(<(C9~-"7LQ<1AHDP=c{?W:;]cnJ)Gl!d:PNg^Jj^6f(A?anD(Hsn
$Rrkxwo]<ipP}r-op44PV;? "zqClrt3jSm3-se
0!<=VBRV|po+Z#r%?#3 G=}xjIPN_0[xREN-<|EZ_1h'8U?q"!@/D)F=MYbd([5A=}PLN9.Q#VCpn@H:yGuIGllZu	fUr<<UZJ\fn/ ^W8G/kkkkCI
'&5N=M:)'GeIr=}7(z.o5	v^/LxFMgOb&-&KpipiG$H'cWr.NptcIOgnPr{[d	d|p[=}U	2li2k=}zD%-Pk3v	{Z<s@bW%j	+2tH%QszGd
\m&hK"I$-c0LMMC{5Rf*o}$h
MLH9V}}iH:q
fV-!q2$^lm=}Zk]j^=d{sIWq&k3</:gB]w (qdDv(^H '))MBD}a,%/e@s7R||R=/viH	HjkAwa59a_7V_^3@g?#<:f|jt&[[o\mR49Lh;h*Y77RPxG[RdPRJ<i|PS}	M15qF_aRwb2a)Z7 F6JX{>?!$"A"" lqL;;^=M,(& M"Kb(6tev&hD}e<}Tnz 7}.$1V	=}5M!m6jDe	"G %Ya[Je#/;}:
G<3mNXK2d|9c.J3+|*O 1/'~|JOi<>;HV=&X150l=}~k41q?O,K,NEPv4k+*5r#1D<|{1IjeYka	3$ A<y{rT))U"N_l @;PnSpJSq<^I9$)k+E!E'=t	IwC&"(* 1vbUIVfcUvz]%,m}=YBq]Hhir)ynCR2
 2I#4fN>zH6Ul	q5!EGm*6WJWN$p	}/},+:
'_6U|*c\U,g*l1ud	8-yIx.e=M=Mk?<Nd2o:SXtjVZT;XQ691=M1p((PIp[y)$$K{!n Pv6VCr>qv2tDd@=Mci5A,f/X*2o
{.yCt EaGtdnQ566/1=}wk*l$J_!Jm,vpre/7P$.6TAE%87R]VpPGOGO2GO2HO2GO2=MeHI@Kgg,p^OS5y&.+&Adg=MO[ma%V8=MPNf0u'|!jaeW4M;0 '4~F>Do6.r]gO:]Xhg(@DFy@=LM[yB3wK)wFY=MsGBG'@Ki=MdCk3v=MNf;8MG>(p	f	$2.8do.oSpXzw%UM5fg
BdB,cPqw=BO%DQq5
Rg7I" e;qg&:'skLoH':'Edf5*x=lF$wmUTHF]&*$)<{\?V"pAn{bua9z_<A4.	_6+<e^.gG=}T/bG*m-Brt%rB4:_rF#2]QRH7rK9?Q+VJt]*l+8~RZ-u5GDS"YC~5:=)$XbX&C.@"q
~K{Ychm8;*7vYGi=&v6V=MzUB}YvNck}K[kbmA3E.9ucHZe/z1,zct2XB*	a96IAd2*aH|#R^=Mnk=MDy0Q(-qoQ/	-G9FfA:9j	%v=M!)?6;HGxydVbt$-\@KFDS>KWS%	Bt&d7N'z0UtK=MdTrzU8vM[I[wIynQU{}IC"^vZ\y}BE6JQ$-9~>tmw(|np.T^6:<JX~		rL=Vk>=}	j!I.y_5ku"P/q>Ff=Mg4_q|=lrRCDz]KN4_v}p[.iC}2&[mr=}2x>{N!|d[?9H^;Z\yIp>PO?@\z}53)6O# cc2yVB_cpFc=Mg(f!yO#m#:n#/yWC	'X%)	pCQ}~$OLHJc:7dXJ90kK,H3:?77nK*w=Moll8#N5Q]V1(=}dNih.FUbgn	y(5;_				&tB| P=4oQ&@=;i*[/<{O
(&;88oCQ;)fqF1>'&9(Tj%&(F"0c2S	s
 {O>Y'=Mcs;}1{VH!t;O?qepHXzx P\M'9}#'}ztA.C\}!ijA;O(p;XCyJ51J.Nv.=M@og1f+1
k;7ExT/1x{ysz>;{ej'SMq>zpP5=MX=:[1u1kv+Fo0s2Etv8/3.\i8{#)e^Hteg^g4x3;-Ks%>=/as8,}F9Rrsh1j ]O+EM94%kH4v|LN 0jj0i[s+weD?k1ZprV=}OHV+?r7T\~Y^\9<	a$;3uJ?"o3eKJ}T^f[Q|RY8}r5IP8/0xvSP|I(.H#2[_Hy-1cQH(DvR "/uD$uDT%H>f!0L3m!_4{r-(jUT#i(997Hv%!OW~<A i/%1P	/Uei$Ow9C0o>Pu=}C0o g"}3x{F"S^b^vwsc=}Pi,x'SaDHO>.,LDL.6mS~'3>,:FA4{vH~A$pq%=}AVrf9y0\=H(6^O /}KZX]wb/U}n$q23dzbPP06LKoE=tZk+=qA''['2[6''v{Uj^,<Jm=M5,r.=}txH2': >A63a=M%m$U48S\>q}xOx;g;D.o:q|m}'@n
c[)phI+(w9Gk,%tgXCC	}g3F lFOkTblSO"4qb,*i\;SF$AFlUKI$uO]T>[ d O=}fW,u&G>N=}F.]McvT02M1M=Mr	/*R
	
\.0#mQk;bUJrr <y[V/23_6!+zXK}e?W=}NyT	bA=}JSL(^_OEYlT(e\+^	h06L;pQ%]a]2A?p!QzzB9au=}![r=	U~>Mo,BN$*{$n]/!!OoIz4e[&v{H\4WNs{BN +Z,ToI5yh}naO,dDqU 0qR4L2{]<
}Q^pY.vU\)		I	qv"8w
IHwi%a0B*;5|KI!URDJ7FEz\.*zlAV)zp!V[DBx%:W6{y2~=!'c12G[m3M0j)M]	+1WAERG;K=}pk@oDEFUvb^*YK=}<MH. Jp)*,)k0-<qd7W'B.2WKz_
!J^fimu(B","]!1=MCf/WrF,O(CC1*U$J\V]A'H2Z>, HVCJAuKG;5*B{ rJK+zx'L+0cG:=

VK C0S40= -~mRU8cs\En]60/$}}#^;KBe! lB9Z O>op!=)T]">(>? !zTa\8 LIM%Iz^b{@@j[r%dmFv},/3rk:>Dxt7_fJ=}|AE*"O&}H0W!
sz4r Pgl@~YY~aS,|6l\P_Vy JrTG[BnWieNi@SaP?dN:"[p dP02w
A,(<8o
+4DC9Kp*BDfEt8Y0<n_o+6IO4z/38m
~Q$om	 |qn~BL{Na
Q&G Jnw]oJ
t:LH92X.J%<M=}'S,Mz
b D;$MdwK)JYCDO3KT8iioHRsK2wNDDmQ5d5|/(Q|4I05ynDSF=}MS6;0
a_HV/@
Y\df>EW?>#?bq~;Px~v/!e54_7uPmN{~:!%Fc3HF)wf8('Dc=}H'"m/7p|	=}T}6jyhz12+$ 0
jP \GBO$%EX,=}(GA=}8%m=@2=MzrZ+uG;&#H]Xdr*x&*X7NO kCaOBzrSEs8{:4G=#Eu]SsG 6!g"Li Q
,D'G{>(2DI+gk7i83(snHAu-/X'm=MnKkfM<
EfV\!Qq^4Sy-=}<3ym6MI<Vr2F}jAwF+i?_}A(~wzW|]A l<@gGNvsx)<A|d4h\k
'6bEa-dc)<7*kck	q?2m	>L =Mxo?L=MV0<xG5,i\rx\.)c{YK$Gma)sJCw1yw/"+L*.xkw%6e.|s!-07#s*IY'UZ@LS&k@>8g{Oq E&#CIHL)Cdb bQO	|c>/H7.\Zi1syjdA;pW7[~ y=}30Xq@>{=}CHBB=Mo=}'C
'=}=}M0Ts*hetVXSB+f}=}9g&ucm6 ~
	H:QB)#'DDI,pDIU=Mw'A4K+&{:|U"~S+YZ|,NoGIJ-I8'_,
ZLORVphRIoyd@TNfnY} 	]_n*	=M/^NEZs
1W.:UM'*TMv]zt'I5=}^c^Qv;-r";1[&@R=M]-*7@=}'\Ne-^8pH&dt#w5k_^R%c}:D6N-+NucY\kp]"K[=M0)D{m7l<d*Y@	+G;A5*L?/3UUkhQ1~,ixsPoD6=DM34C^hKz/StwePB071fp[^p82It0>.46b/Y=}nQc$dJd*+ytVY1eo?s;|i}kHZFN(/C B,\gE=zG\ZN{:wWQ%z:XNl2-	*6_E.>lboT=M5Dsz7,?]vv[)h?/Xi7%&\/6@x7=}<OR'rJ!3ueh#H+[!_yw&C&Abe?jfE(w %(?{k/yx;745j>#gkMJOHIuT(tZr_U_wGNEm e(|,=MYzI*f/k]ij&rpP;~]4vHCa,Jy1Y+LT((CVS18n<'&TBar92q;5r\?xvBAGE)APejI4pUv=};/4dz&urnUmh+lEm!gKQtjR2dbmrY_o-o;
DSf,L&W'KI_BzQh^9FW:=}-rc/DEiQP4%]aEg$ bUbcl3)ynnnnBM])Dc[^28
vl822)v?xwx"x--^g,rx"2pY}Q&g
o[K( 8Z&\ @9.8Vm8pO{T1Opj=M9=	*7}<?+BwA]1..Y%!O	1P.Y=B!mU. <o]Q9wy})5515<OVH?_/{?(~C@0E50 1u=}nJ=MtFU"YXyPe* 5:j	Qfq."_{k*K$m]?4SQ%,>	-VSlTu";My
jn1=M&OfT09*D9qq /at6xu=M$r&f{[Q|*q'<|{06Me0,j}*Ks  T Hi}x-];+l1gRg*Yih+hm{OJ^:SU4e~oD]x}49=\+zR
YVv=l}a i>t(=iWJFfM Ct;u<QHw]=}uZ  (2D[].ti9Dt=}"tnPw{<b=>d&%Y;fP]^,a+	)de'e+ 0~I	.	6	P"j5V#0T.p3MDxZZ%-@ffwHm3~*w:-jW'M0;w\j=M7Gh~94[Bkj4FR7[KddN'1mxj/9n/OkXA,.-7-	efzeT%,$dHT!Ko0!_V_s3{o_X1@[:bSf*
tiYn2R	zN<ZWG&Z	TjZUHvO3rhTc9=HXII-v.qJo+dw
}?QCHIzs8;9t']\']J#xnYsY&"4PvM=})Lt;<w}a .=tu=Mtm$O("q}-NG=MwHU5^o C=}*=MzKm^eX
f,=O#I\&w=}2T14AsL09OY$x/([?+.RSs;T"Ir%@rmTj6+=}.Ql1qL@ 3h~vQpjcz-dQTwssRsciO%R (*TFftLZ;Y.^hG.(, QhM?+j48#BS'ffcj=Mzy7CHSH9{x.=Xs~LhH._1?1nwP>ot(FjnZ{9<1"Nyx'wz{*f3RT$OU	G"@M} 9I/K= |
$U<O;T(Z7>'<e^>sNPpaa1oVA1F',1p[\;XPQZ5Y7!Oyr"N-aq<y,p|la>xAeaWoYYSOI=.(@px|yvR
,=;Y?XU5:R To
OkUv{-pb1 o	2VjRTaZ<&pyx~zo/Vx}o@pK4a^2v^ssB}a_=}mU4F8f(tFKm-  IRJup|WbfAq'V_u91+G^N[=}50m:TJ3vM-}bzJEn~9v*KP \0vEgF6L9& ;U_2uSjlc8K%Y|JV A=} CvV=}|BH>QBXu]^B0==MlU( @G=}RGV=Y6A33.uMkytd?\*ffRp=q$(_-E*#h)'9i{fZaXePT_zu>%+@6q$=Msl]+IP~=}4EA*\@dj$b ;#R/3mp1o{tF4n)N4aS-Z4Cq')J'2N	72ASo_a}:i0Rh@'.O5JE^hZF=}$	EFV
!#Q;=}Y8Xy*i
/<hU pCx}k~FbI?cHe	5qm)F=_ f cyR2;#0Q+"*Wre./d%Zh'xDKh;Lf=jl?0cT&P5QFYt{}hk.,Tq+h@U* S*s(FWDH2N4=}uA#6
gyKe>D6@+3,K=MQi!=M{MRii=M)=MI$ry&n6"]s.HixS8@WSz#Vj OXR(&11[<&j11xq1nwwv	Bk;"&|1&AKd1au"-mKQha5FO-fK)F6jq1b_W4[,fY55(G7P\4xj~\(TC	:DtU<$o|t8z2y1Oh
2m/Rvm.8zo8q= R_HW}'X=}2p%W"SI^lv
A]m]qo2;P	GZa[!{f##pY~>X~Y~Y~Y8C^ZtVf.J%rt4N%BvS]58]:H"M;>u'qQ*,6,k3Z>u9XFF@@B}mz5~i@kDP&(GF=MXF>Cl"6\.l^#=MPt[j|,!Ca f_>$i
3)$Qa,>l{[MAC1b!h'd# *UF2(p'9{RgnM JoRPy&+fV*X(X<Etwr0K]+[CMd4REc6A-~3Ar<V	8CZeQEc|=p{{v%y6g:r90%|0N2%CucYzY""yY~Y	~Y~YVMB ;,Sn9Zv\$=}-yVn(Px\F<zr^\mUL]P-dmugd#408nr@	B9=M	Cn9)@h3'|:\A5.[!$?W=MV5&=McPHFhzx~U1\$P9NPoqc_{~h0\[[Z4xkej;N%a_=}q1bS~9=eigN^^pwF[FKm 	zu[gj DQ-
[mnR=}[]9h)o#2g-_L/}*Hy)t.obl{*h"4?2gm~ej=}oSo%<9WDp Y%}I5u,*?V~nQzwD,=Mv)Z_mF<#&<HadeXm8fPqo:1]67+HbhhFCP4Au5GS7->T=}hrelG:lCOGT+mhO#p=|L(3=MiN+1MfT46>X<Srm?Yoi%ag=Mq1+-R.*/h('d?GS3A:7!6'F9%Dl9l&89
~:~QZ	~Y~Y~w$8[{4Ws,Bn<H@,U%fWm% Tsx<=M.IEJfR,owwz Yw
S)z!CH&(Eu]i+\0yg<7Ad7 TF	>=M<v|y%SG!ZZr5"TphyNUgU@W'Y~rM_rWGL2JTq,^Z@>.Fq\^y(9QI[UH@~\tPp,a/Zud6ud.a=_mV{e:jB!/j@(#KgR&gp-q[m> f>ibWKt7Ad0e=M5$1EzZ=}ay&z.ih ;0t(=Alr)95i<itvF5nlJ]GuR8*tZG7q*$g&ojU&V0JmI[m	(<\3gH|T8tVKBPwX^#Xa#AjRg_>oi4R7MHH2:4ERy2hdn/d^[]5gZ8KNYT&E=}fND=};=MSfh:;wuHI9\=M"J9)wa1:+ ]z[TAQR<cE=MCpLC\VpW=}wF,=}{C,?<=kQ-[RT+:	/2;>q	:_e~17nHM7apl;fX2H9B8N/	GTY,OA:?oNpd=}^rb%	?Jlr}Ig)5.8[>KtE2a9oRF^M0S=}D=M9-=Mr0@2#X;wYM~YN}YPCY~Y^f79)m@=MkT\gb).lj&jn59
WNj17=}nEGJr0Aj{vMJBApTv[	CNc;$&ce$*Br!)s<.RCDlzDoxDg~gJM9ziXqY/l	LyYl1/U9D(=>B#F?~i7U~YqY~Y~Y 
MzAK+*]DV=p-%<F45Q5MFs9w]{+E 6WmP*JEs]|WY1-Pbyj'LYFt8q# 2CjRKt7/BqF-nzzjR"=(xj-'MPAC2
KfwH(bJeZ)kQ+L/8/qRK(TaFMf?K_YwOTVA$Un},PZ {~^TZq!ha|"a"=CD]HN)mda?ccD=/QHxjK)8Yj&7boH[8n[d#S}Y|OP~Y~Y~Y8GO	BZ(ftA(^o>gQU=}o;WY #.,ayF+TYb@A/b,>QrR*^^7L/a9ADIl02p0BB ?7t<R42I?qQsI[ iR#>z\K+-e^=M4IX.a6QNbgvM  !'Or(W,s2{\Y>x_X~*D)j~@:
:; *~c2:B4b 04x/Q^[m06qK5h	7%VKxCK$E:ta]o'sM&'4f2p1{>/qkXCI sgGq'7hj"	vB|k2nh"ZCH_Ke	Azf_^n7ye	SFD&V:DtZ+%SCY~nY||Y~Y~Y^kyP _Nu%u*Ia/iKL6(dA$~<B>H+2 d	x.z
F|ESNRS!^uy	o+Yu\5snjui/o/8*^FArh<=gj02!Yh589FLEi:p+B-33c2opom(
'n-bR4&b/RAd H< bcZR/t+oE"TSK]P_dg#|bZ;Et>1PnIhyYSe9N8o#y?acY0DTh6]vDF|c8^Si,Ga5 &a=}r5,Wz.JS
&&:US;SG^|kI?	Kq:uO[%e8'NysU1	ycE9VPK
vNvD>?~_~Q~V~q~Y*o#$@C[;@6*'))21gfA82ep^/Mq?k}' /{_U^7^1;A:9>cP:o5</y7<%5}FcAVR?l5=}<oE		q!ripX'4S+=}.tU4H-VqQBqKk$*P?x/p: SXjo:~c\|iF2hH YG2,%;)E-Z_&T$	>ijuT#Gf/ii2P 1}}_/6+^?uvfr=u_3P9S> K>(y..a'(xIb_DN?&RLU] 'm(IdZ<*u"gV'm.jo'8<
,q*4*oG6aEqSr9 4,krB'6
Wr!DtOa1[s*E/L~FgA4hO8J18i[~EX^Vx{_KV_@k>qx;*e\_Vn>S]]/Ow1HXB@*p,o+m>	d'Jm[	/|;]cWUn5O4{ YT~-RPOX]F[5Z{	7[#->YXmo
F_mVfQ0Nq}&LK/^=>b=^d un4(!|Ty!; [{"7""!D_BvfOVauBl3\($]g.!?	U
l5\g%*?d[4/1-vE{[=}t/)|a*&+5/a,-q,HlI=}UH3ll0I",JVq/kr	UkaM$|*LuX83	o| )aZ+k];f;dU[~'w29L?j3LelGvM[ ppO=MBN =M=MrNh LJTKAUo#0:	8[M]<U^Qi&YW>}u1Azyt.]tIb	SYb*S28B[B2D+&cnYz]:!oY8~Y>pYvt) W,AUW,=Ms	y3FFdjwQ,f:''DE$X|Or1Cc17}o/!W/kVkdi<< ez>Sw7(IW'}7	F=}p[aoFo2XClcPS<9kWP<GhhOMPk
X	nw^O\p=}^f8fiXHf|u1=yr:TJ
ZJT]cn(+Stff"qm'r(8-
?6%Q { s(Q^Uy0+)^M&q
%*^BdY<2iE,D U_+NI!d>F _p4T@2!n*qa6UEtg2!P"BZ=<ViB7J#V^6.Ti}x%[+yr&};da/N+b*s70T*Dg[*4=}e\(S?edR%.G v|\p>TR
ttp1I].t/p#GjSZqg.d&}.vQi.Fb}AFT_QKLC 3+b,@?0@	,Q5{,l[ <BF<eF3eG(YN9,IX}L-:ph}>c(])#Ov3>mI?uJK@{p/"?qoPl2SqN~;l<<TfDRpEj@OVLnmIU9
F">IHs*'/>f@!jsL\nqr+]omV  ;rz7^
	 >X(gA2Y	=}we!m0Q2-YdF'
J<]'mHW8Q/Pn+i wfkQ??1ho519Q?yR%dX|('A+#+	4_gV"+;<@:+Tj%{97G;mAl5FUX/5 i m<14X?h:QYk^H, K5N?RlUh7ot[(Ojr[;?#~Y^XP pP~Y~Y~0{3/Q~de)zu5_6>@7_qB^ dO.Q =U^Lnpb>Ef	[\=}qf4-	s\2*{/tD'yJ,:U:r_xa	M52@Wu^ zj4"9Fw6n
jkr:!is#QcI#%pGPF9U3%Z&7=M$Zx+p?>~6)=f_;";f]{}ep1+'MnS]/cD$^m$nL,|r4>?	,,89{,^4e6<xUY:Cm6DT 8n"6$eLSO3!#%(~+NOOwx$I5[YMN,8t[0-id
/C;^E6:q2=}@7I1y[jZ
@~;n&0\A<}&V=M gc&j76,xZv6"fG;JT@r 
. LW?LhgaPhfu{S|ycI=M>%EPi{>V@p>{oF Um2Z7FH-b7tfE?B#%.|YL~6}Y~Y~YXBj7Dj)7^?^92aXjU@nwT{nh9<x]~x9"nr	t4FaHI1@\0?;aeef1)Ajv2p6\rAW4AV9"pfra:_C~R$5MGorhd$MKxQ#c
FjJ)$WNZ =[1[!2W44u-<_!9=}X-|^nSk8
-O_!Tk4@_)D:el(m"6uVJ:G]sPa'p((=M((*iJpiT{5Is$nm$ZDUqr7-H1HkPOKDOJGMM/KP8MIFG}Jb5K5	WNm8 .77u7Z2;.Z~ylY~nY~Y~Y r]v0#b~$i2u=}B,.-EbNF-@TgTHBWoq--Hg\E0zKL[xIuP-hDx~ 5gBEpbr:-h/XE|4{I't[+@(}Nb>Eaka-mgsroIpo;"!l"5M\-ij;7,pG	X@9dw	Uv2bs;KH>U	a-pNXM]I )=Tw=}&Pp$YdV	WVx7B*;r*>rqVOAB J=}rJ*o<I}CjGA
rR;.ohp6
<_?Oyr!@,Wd} ><e>\T~@Z3\f#fz u~9	i|V~Y~~
~y6pR]""(WhapF=Mt?[v;bOQjqs6nV.=M(ivG:q.
7@dU=J PH5EA 36MvpK3Q%WxX Dqyi@Fgv:t=5MN[x9(%(ycy(7lyA2iU@_'%PpIT'r7RKs06;h9T1Pj2jo!2e,)8k>lBj*st.1+:kdZ?<c/QTIx5l9[l&7qHJ[#;n!h%rVbo0|"*3D;dc~Y AX~Y0~Y~Y/Al?dx/3
F}rbo+!5C8K(X]v
Bu*UPI")uBDm,~3yA5U6=,VB5Kp%qTjuJ5t0y-VpJ[J5g(
i=0JE=}nX" R(uiKcb}gx,&klY=M-&hR@Tg,3"";b$dp*:bcc![!*aeRG(nwxYW*_O@) Qm:NC'Lbp409a4#j{IZTxAF#X8UGOHf+^@a#f;hYKv<iQPNlES0l 
i%c%|Y>B~Y	~Y~Y~)}d%Xq-5at+"nwMk=} q?oj B)7q*9\ko
m(+"9_Kd_)\^Lao't2m~,x,=}j^gm(XTJT.&=ewR|o=/R1\1vL>/?>X2*U
{!!pZ3rRr4]d\Z.9=MmzI
.g,Yy,\75=}h\zd+/VG1LQpA%Q+No%wTso6otC**Crr@ih0
CrpaP3p{y1#osG|(aQg[=}zd  *	"_	%e&D!Fh=}(up5?nE_3c(t(+NL+IT@< 8_]3?M{SO+B-eY=4 &MH=}wTAFI0r}wd i^*t Y~zU~Y>~Y	~'@fm \aPL?#!m9)v**)V=q0CM0Q<2iI2H9A#t;#_o2l1>/V/2KX=}rqp7<
qSoqi Yxq6jOaoBUD2qE>W'U|9X?k3leN<V=}XN,4 jeN{^<P6YEvYUY6]12|d15&}:v!i'/+xb2/@*bAXt\z$P1t=g:T_(n%N0FRV[9|s-[*f5].k|_2vuO>3 D+*2.e2J<Zq$aLz/_Zdzy tu5(usR"}cgE/Y&zG+4ilxJ<3lth1u<A
9r:(\mcAhYqa5S,Q}Kod$8L4MOivmNMC,8Z^}K&6?xtH	1ROaB+c}#J?k+Ke@Zk;_9ITNe+g;O\TOx5A0T	_$fbjn=Mwb{w$}Uvv4?g*^q%[-[GlOew.=_pC.4,/6RYB,;&St.u'E=}y(/3lAh6Lt^{9zk/dqg)65+45S8x/JPXL/7fh")y'}~0
DB1
sZ"\:46hE|[l(Z9ar:VBE*yBELQ+xi<S'QHqfK/O~Gj,<N4nL+:wDz?rCc?'p=}]PWTLE0Ml@[^.kR=&cQY~=M~Y~Y~Y~	c'la+clO'3JHld 7V0p-?pg<?4od$+H5Z5vE=>G~];fmu~nZU/6&nANSHM-BF+TH7KoQm_dH(j3b!zMi|t=MIio*(J#_K#4}=kxxzT}w_w	Gi.;O.aYU2"JB&VL/#/S,|+E1r/[!l+Qi+/iP&au'a<K9	f4yD'J g%VE41 grTe 0$OWkXDs9B<T-=Mr=$_2'kj=Mn,?k"'->?tsdIn(wc8
LsXY_
Unn62AS.=0@zrrp*aLDFs:, *e=MmY&+DvwBO[Ez3O +C8OiN;&'H'Es-Ofi\*6 ?w15n4=l;C0I~F!=}kS9R/d98Tg+j4s,
rc{41,3!|<gllM|L0,_]@zzHvC>$Cqbq!	&
u:hClm}:UkUwBn'
\gID=2Ry_;;rCK3sl#^;*.,dHY:EbBZ:TpEXKGY%lN]bIO=}(N&M5=MGFXQfL
}-mWu#J,zZ<'p}/JXs}-)ZOQ
PibV&~I.]]3!yh%o1x*#WYPX Y0rnY M|Y~Y~ibap jza/ao
}m+FJ~C%A
5:55R6d 4A(y5	.;v G4IPz:)mlU5Q[^ u.lBlFB_mwW.bhVQw-;X>k4!T:F2P+b5%@EoEc=}K0C!W@i{6zD,]ij87+A m+HQaSY|ND5Ux{0}=MM[r
o-wj$3t_t|N,e=vyH(hs	Xs	O*B!xH&]Q.Q0E]g]W+v-^2Bg /[f#.{=McRiDTE
08'yev/3/{=Me%=z;AI?a<H	i|=}+Vo36t%XwA	lzQ-T)NP;>hG|y/
pIV_>|m)WdJh<nL"	jA~ae+~r|' *IA@1m5k'6'&@eJVn<
]b(QGhne679]f0rovb1%))[7.ji6w2ww"h)!g6t>pvR3f%ULYaP8*<.[r"iT#z;Rm3$JT+l6&IdTd1d=}U)CD)-=%"'i;dja)}fY%p_-c!j5r4ho0C-|"t-iBj)MQP2,N0}hh1UP1R*hVTA8^BcnX4A^,;a4tn6^6gV95/;V\<dHgn(*=}mLwJ?-(v?iLYJ@LiHv]&M3 755	7	U^4&/q	py
qUR?&e\wo-8 ZlFK2liu-;J#	83SO3+|n.R+[SE;F.tTIIU;@N\M  f}7m=}kY/HPJnR
)GBsdXiEU8oQW-:LEKH-]=}=xY"_P8	Lh _=MtMYyTcJ&A'w\A!{x]NrRC$F^kxCm)EOT3x/	9yoY4/(dG<-l{fj~kq&kXqB6,>uqLu4,gWIAeX.X p	5x^\AtOV*o?~.?vn '+l {d!sr6hR0=@J;g&f7=}hfq7P3 4{|$b#/JYN~Y~Y4@}X=Mnq-['^[;B.oX,o>g7I:3],'X]e?=4ohpGB4E7H-99tS\/f/<h*UV1V/?%I@
}Y:E(%nd^W1%C=}Da=M]587p&5-%--mZv7k&-CCi4D~pw>IpNbI9t=bvs=})/W)Y|Z7yU[\9*nZXUWNbjv!;nz j8wD,A;GYr@=uvlKd#&$p
"cK+4D/ykX'utkg%]7,N;1>k)oT	}wKJ<F	1		KV	y.{~eRF]UDF8mbr-
Z8Q\U]Y]}d)SvN/@o7fwB
m	:r~=Yvt:"?&bzB,dG=M<ynlq@!{A6
vTa.^ =;kp|#>.[lJ^8npZyos_*dwf&cd$*YHw.aE:=/N
4Uzyw+2}juJvb9
|!(|\(~#c/ua3Q3%kk8&_>'E)[+{+N=M7 .)o~x_jf'dlM;ve=}B?OmL1-U7Et2uF=ME*\jiB<ha,z
4 hlqoJ$uyW4!n)[dsWJo52liM|tbr55O-	/-Iqf"WC-!~VlY~Y~Y~Y^$vPkCf$-?lZ}=}\],Bu&kSVv,0T7{
,=p3\,3LRl9#o0m\VUz(Ms(qUD 8g1m=}uKEuDm, 0 0Ws0	u^@m=MD+qv@ x\<wa3N76	FO<
:dFb+6{H5T[yi|
A5^n<+
Yk.=%U"y.u	X\5j	> 1Z<W})z|n*\4&t*k\>f7G"[n: b|~BN=}]?=M2jK*2wB| 9X{
Bx <
_#Xw'#=NiKZ(m7VkM$8'~b_E=My+\=}.|E|++e{#~Y^<wY~Y~Y~Y#Obo[/sO+uU(-Dua(A&pGh Mt04'h3j%Q%UyK+F'?9(\62v;e_hj=}'x_}yi9 =-JYv*>*c6.,hl4Y<GfR}2.O3kvq,TNm9,o,Y94&Nlw[X
kmO6)J]0e_E3TZ<l8Yb
=M0$(=}l 0 a1t]0m_t
@E HVE1U@}=q:{G=MsN2dXl(I52648
>V$X>Clw>/Vhwf.0=MWS^. _YS{_Kh" >@]1U\s	xq|?Y\;dqUMfy?S@5FQQX\/\p:. -AB];b 4_k|21;\mF$2RYBy
B%~q\VqJ|Bz =Nxt5&t~Y|	~Y~Y~YnvCm$lVkcb&c\"u-F]+R.+k7<y,)k3ZFLm:PTZ8gJg RzB?tToVnkVx:v 	~<%4I <W;&vK3QM%Pod>E(%[D(T	8hYwMoC+nzKCUmf!NwG>iY5Ww0Es!0bsU?Q6Z9q@&]x|\@%a-@d~%M5Xv~&!o&45=}lE7l-$5M&lTJ=}U:Vz>[BAZptK_h|.@Xf.@ZK%"Y{f!>U8ZcIDU*{@	QS4|A5E*&m*
]f*k9KX|l*Az_;v:l t:an=}q)]v9ZfHs:yZ a\z2<mM'%*sFz+t!]SeF2Ju}o2=}lkB0=}Urh@ZM
aW(u=M=MY;uyk#VF/z"7, +7TG3=u0iM3^ALN36f9[#V~YrYy^||Y~Y~B-(d.L	CLn;d~L&*{|&Bl6cG6:jG6HalB<;5Hx1>w=Ja'4&hRS~.}AE:/@!<h7]M '
Y{gvb-p>0}v,}pT,U}Ii>jX{n>}*L{*f0d2{s*V?8ZGEfq~: ,s:-X X:*\>uAn~xP]5-n*\D"l2FEKcF=M=M}h2-raF2	A~2'z
@JBs6f\yxJBo[l	c~<B2 o70SgoOJHif}!kCG#O{VuD#gBL
d_%a0MU{2O;_
=l%.:=EA6p75PGlF5Pflhq5G4<_5	>G^5z_8TQhwo-SbGE-ZhHs )O<P^
F~.-CT-IpY7=}?9w;8uzKwwO=}rQx=}=	@w=O\pNf)d|YpnY^~Y~Y~Qi DD4+3?]DX.:3+SO]$s8VsRUuQ40UNbuE'U=%P9bTU[0KN5878=v78;8O>7~8	78:7Z8%!NIR,=M70
lo/	w
NRw
?BW}	!rC)tDH6T:%v)V$LvPAqV_]UqoMqT]qJIEt2	9qyyQI)@)h}EX~Y~~YaX~Y~Y/*-:aF{Bm*,aFjj1| i4Y-8i1~PPWk"7<1(ygW{iUFj1 uwyV-rFABGplw6H/MAZ|V_?|9QTnvCr9Ab	>je:en[VeH/e/re(5)b=MeiN9embQ_g?<w  o{~g& {D~Dq =MHH!(m.-m{Y]m|>mBYm[qAmy4m5m'<mbm(8QmGm^@momn6Amd>kt-_ya ((YjqhIIee%a87Qw9zWmW5/,	Ag<??Sq+Z|{YKajcw+m;q|kjw;u+qlp~O	/>9'V~YrY~_@~Y~YYqV6=}1k5{t\=M1ufgZ'j)1=MwKswtWHFj11 v	o8b229ZB+VkLjIX14Z|!c+F}/1n_ rDj}1MB""AFfF,V5<&.T^ZtBVC4N+a[G74J?UEAP<=}.^'dQ
734K'Wt?E-T]T9TQT"$Tn/0/p0>/|0t/^0	/U0/j00
/80:/0w/Z/02__E""0/b/"0hF4OW0E.?Tg,EDA)Iu+'/V4[tR[9-,$gvETE_Q4-	Xhy]H4;=MuY.XhtW.;x%|o,+cKzm/P.h	UI.Vgq4$XG(^GP],>h~PqJ{_oL2-3j'{@+:gnht]'[,R?)(A,rhM:EP{W".yGv:r,C_
KvBk$}Y~Y~Y~Y~Y~ b=M!uy=}xj	(sf	>*ye
(v
>wnt.9J9X9 GAY	^2|?6;JRpNR@6n=};iWJZ&k~c<!@ "JuT>RBQbUCS3 _(C8zD"LzvFNN z~ QxxrfIYQX1
ONOJw=MZU!rt{=}>>^=}Zw$YU>r>^0vG@9z_pM6j@^*^=M^n9Z*\JHw	
QFZ&X<)*B_Z47i9Rq/ wGalA-q4v4f:;vWfT
>V<rCZxHpVfh:!;\o9S_l_1<_iy] zia0QYQ>pHA9PYfZlNlPR}?uR!=!ka!2!|2&NeA2+j >[rKL>j.i\K_0R_C/4\-M;&gylWt \MQhG115	]1?=!]JFQqA4( DLo $,Ui]6[P/oBAlWz<q%g\-AO[]S7N )	o1Jd
av$<4cy,=MdS=}UYxq&tkAX?$l)tk}/\261i
|o9!530wG=fyU:k&HK/o
e?I5%DK}s8!
cS&z[n,Ba<2Gk!-5Iu91H k)<fT7O|gYV6*e5v?[gQ"6[r+jRB62"va&RiZ4r"bb'C!k$	4_=#F_=\/@^}YO~2LYvR rov	Cs*{~\@dswZ9;:^s[(VAvYA9Snk)}'bc'?zFQ)(dn>c=M^>n7i/9Z3_P]yiF@0eS7a=A$weZr4WT$-RnpvjX+=:_qn#:0j*
AgRN=P{S>9'A$
"e?Q|m- nj?NkZp@]=A5ks7=MrqF5^&A6a4Z}OV49IqsrqQ]t\aWfUlwAMre0 @T
3=(QJH5iwp!6"a=OKB4V><Vy9VH2/=PrqUT8{@|,3&hUATaUA!HK4)K=?!_x~1_=M"ai
1__	@|a7q	aB{L+6+n+!Z.:-.?[p/2GxqtB[uh,\grgvikjnUbMAUd^/F"vJ;?Vi|x[!=meuKrmrxOUW6YPz=}Bay@QXK!wYT};?O.3\[VXB4"@Q:\D_6W	h!3d=MUxhP)c"~doX~_aSB
D
=OCo  H.\QC   8Dwymi=H0(`});var a,o;function s(){var I=o.buffer;a=new Uint8Array(I)}function c(I){return Math.cos(I)}function l(I){return Math.sin(I)}function u(I){return Math.atan(I)}function f(I){return Math.exp(I)}function h(I){return Math.log(I)}function p(I,A){return Math.pow(I,A)}var d=(I,A,R)=>a.copyWithin(I,A,A+R),m=I=>{r("OOM")},_=I=>{a.length,m()},v={b:u,a:c,d:f,e:h,f:p,c:l,g:d,h:_};function g(I){I.j()}var y={a:v},x,b,w,E,S,C,T;this.setModule=I=>{t.setModule(Bu,I)},this.getModule=()=>t.getModule(Bu),this.instantiate=()=>(this.getModule().then(I=>WebAssembly.instantiate(I,y)).then(I=>{const A=I.exports;x=A.k,b=A.l,w=A.m,E=A.n,S=A.o,C=A.p,T=A.q,o=A.i,s(),g(A),e()}),this.ready=new Promise(I=>{e=I}).then(()=>{this.HEAP=o.buffer,this.malloc=b,this.free=T,this.create_decoder=x,this.send_setup=w,this.init_dsp=E,this.decode_packets=S,this.destroy_decoder=C}),this)}function Du(){return this._init=()=>new this._WASMAudioDecoderCommon().instantiate(this._EmscriptenWASM,this._module).then(t=>{this._common=t,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._firstPage=!0,this._inputLen=this._common.allocateTypedArray(1,Uint32Array),this._outputBufferPtr=this._common.allocateTypedArray(1,Uint32Array),this._channels=this._common.allocateTypedArray(1,Uint32Array),this._sampleRate=this._common.allocateTypedArray(1,Uint32Array),this._samplesDecoded=this._common.allocateTypedArray(1,Uint32Array);const e=128*2;this._errors=this._common.allocateTypedArray(e,Uint32Array),this._errorsLength=this._common.allocateTypedArray(1,Int32Array),this._frameNumber=0,this._inputBytes=0,this._outputSamples=0,this._decoder=this._common.wasm.create_decoder(this._input.ptr,this._inputLen.ptr,this._outputBufferPtr.ptr,this._channels.ptr,this._sampleRate.ptr,this._samplesDecoded.ptr,this._errors.ptr,this._errorsLength.ptr,e)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.wasm.destroy_decoder(this._decoder),this._common.free()},this.sendSetupHeader=t=>{this._input.buf.set(t),this._inputLen.buf[0]=t.length,this._common.wasm.send_setup(this._decoder,this._firstPage),this._firstPage=!1},this.initDsp=()=>{this._common.wasm.init_dsp(this._decoder)},this.decodePackets=t=>{let e=[],r=0,n=[];for(let i=0;i<t.length;i++){const a=t[i];this._input.buf.set(a),this._inputLen.buf[0]=a.length,this._common.wasm.decode_packets(this._decoder);const o=this._samplesDecoded.buf[0],s=[],c=new Uint32Array(this._common.wasm.HEAP,this._outputBufferPtr.buf[0],this._channels.buf[0]);for(let l=0;l<this._channels.buf[0];l++){const u=new Float32Array(o);o&&u.set(new Float32Array(this._common.wasm.HEAP,c[l],o)),s.push(u)}e.push(s),r+=o,this._frameNumber++,this._inputBytes+=a.length,this._outputSamples+=o;for(let l=0;l<this._errorsLength.buf;l+=2)n.push({message:this._common.codeToString(this._errors.buf[l])+" "+this._common.codeToString(this._errors.buf[l+1]),frameLength:a.length,frameNumber:this._frameNumber,inputBytes:this._inputBytes,outputSamples:this._outputSamples});this._errorsLength.buf[0]=0}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(n,e,this._channels.buf[0],r,this._sampleRate.buf[0],16)},this._isWebWorker=Du.isWebWorker,this._WASMAudioDecoderCommon=Du.WASMAudioDecoderCommon||dr,this._EmscriptenWASM=Du.EmscriptenWASM||Bu,this._module=Du.module,this._inputSize=128*1024,this._ready=this._init(),this}const Fw=Symbol();class gT{constructor(){this._onCodec=e=>{if(e!=="vorbis")throw new Error("@wasm-audio-decoders/ogg-vorbis does not support this codec "+e)},new dr,this._init(),this[Fw](Du)}_init(){this._vorbisSetupInProgress=!0,this._beginningSampleOffset=void 0,this._codecParser=new v5("audio/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}[Fw](e){if(this._decoder){const r=this._decoder;r.ready.then(()=>r.free())}this._decoder=new e,this._ready=this._decoder.ready}get ready(){return this._ready}async reset(){return this._init(),this._decoder.reset()}free(){this._decoder.free()}async decodeOggPages(e){const r=[];for(let a=0;a<e.length;a++){const o=e[a];if(this._vorbisSetupInProgress&&(o[Kp][0]===1&&this._decoder.sendSetupHeader(o[Kp]),o[kh].length)){const s=o[kh][0][m5];this._decoder.sendSetupHeader(s[hde]),this._decoder.sendSetupHeader(s[dde]),this._decoder.initDsp(),this._vorbisSetupInProgress=!1}r.push(...o[kh].map(s=>s[Kp]))}const n=await this._decoder.decodePackets(r),i=e[e.length-1];if(e.length&&Number(i[dl])>-1&&(this._beginningSampleOffset===void 0&&(this._beginningSampleOffset=i[dl]-BigInt(i[_5])),i[g5])){const a=n.samplesDecoded-Number(i[dl]);if(a>0){for(let o=0;o<n.channelData.length;o++)n.channelData[o]=n.channelData[o].subarray(0,n.samplesDecoded-a);n.samplesDecoded-=a}}return n}async decode(e){return this.decodeOggPages([...this._codecParser.parseChunk(e)])}async flush(){const e=this.decodeOggPages([...this._codecParser.flush()]);return await this.reset(),e}async decodeFile(e){const r=this.decodeOggPages([...this._codecParser.parseAll(e)]);return await this.reset(),r}}class mde extends Y6{constructor(e){super(e,"ogg-vorbis-decoder",Du,Bu)}async sendSetupHeader(e){return this.postToDecoder("sendSetupHeader",e)}async initDsp(){return this.postToDecoder("initDsp")}async decodePackets(e){return this.postToDecoder("decodePackets",e)}}class gde extends gT{constructor(){super(),super[Fw](mde)}async free(){super.free()}terminate(){this._decoder.terminate()}}nf(gT,"OggVorbisDecoder");nf(gde,"OggVorbisDecoderWebWorker");function Uu(t){function e(){}function r(b){throw b}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,Uu.wasm||Object.defineProperty(Uu,"wasm",{get:()=>String.raw`dynEncode01a36c6f98c83%y#6Ih-^*:8J#(3s/.*[v\z(oBMvm1I(&b?0=MPxA%T=} c0PN:QM_qA1k@6uk9F(Ac  )T=M]+aBc{!_#'.(hB\0E?s*i9)~Q6+=MlU<igW,$(mzq6"o1GwY$)(!j I,X_=M6JX>$F	M/=}WsF$9PsH03PWqC~}:ta/sdv[<x[0bRjzhqJ"'*034rv[B/9!rn5MEk5?7k,*drk4Vjooooal^=}MQ]Ql[g=M9	~3 9gGze	ulf	|Sot=z<h]9:#D3Le	[)hf?p9
Vn $%1rn:f+|;o:*W(J+vOb7<	[)oU89~3VN&vlGk&M6 6!^ vBL,Y+jLRekX\yF=1X1hQ^d@!G
 )+wyIOi;gR#'%fP S[Ec&0v\G-pSX-UQ<J#i"<o;6i|#mY	=$}
q_.}XixKQQK=MK8RM[@4(=M2 
'e3<&lw"j5i,{~OcWJXnrg/	lzdI~ j=Mv0A~DUn+mFiFU''^%np d)"~VYg}Q7"]eFZ0 v dc^i\	qd-|7{~UrV/wYF',nVcyi7e$ ~)&$d1G5S=M@=^=}QU:74t3?vs
A4e\WX2l<U{>f#pH5_r,=}7==T	qMa)_;T$k"b"l}"D:o5{6Nn?=M)~9* @kc$ne&^3/V"13H}oT{Z=j6_DKMw.tRcI!fuWwYYT I D=M5h=MtYn~e
ef1u)tpK*;;{Ot;pSo9<{	SS!<qVl>,(sU5-^SC%(%^}3I4}|
^h*{rzcTd<xOZ5?Lsk|L; -)rSXYWf{JA.pD LIoHI{/='+y3Mj:mP@,0	:>!\0%wAGi/XkK:PH_rrO8u=}8QR5y)P/!5Z#l;40R{W!U1{gTu&iF7zHTsCuPY$?*=Mq?N\d+iyzp(LvP~n:=kO~?Uh,a[SP,uNI<}:3; =@kj;@#G:W![>YyXvF?d!_o3)f(L~OM{^=Mu]6c$T@{I=M{d	=}8>LlUm(kx;Z+@XF@	h<FB+Q BG=hcWI
21R]r}^o'<<qNun%vu0lS% *5HV9O tn#heMKg=ML&67w+qEW+/M=}]z?H+'S [9j6%n38-1t)	,WGQ^P54wxv70FI,47-+Xdo6H=M.pU$7B)(=MO/k4,NHEzq,j[Ii[luBCsX{w+\;K@
M(Llvi?QP>fv;RMj\z-K{|xJt<a/}F|h_ Q%<g2(e3/m6Y/=s72r7 xIuhzY_1nf>Uc|zg}OU!%@mv9+Qc?'4c%%A'.Q0dSC%$p:(hLd<#h1X3.KqeH7u=q/<\iL$wGzEHY7RNBA8&.i? vch=DWmcl<|p7<#lsV3*5H]5Gqw,uhuJvJ?HL*,wB56T=}BWyM
[m)iM
e(78m}=w^kF#].'6"7*	U71\gkunH[[13.'5uCLBgaV3_vOqaUZ<-KsZ~\!^2^?*\RG+l)Df|]\x$4w9G AvpZX@@p	4z&j3=M=vgURWd/x+,ae*1vl
^m"@s# ;r[B- [a|>]6JHX@:{=}q!K "A=M=z*1z^5b*mZU ){
8ApG FE19bnX&>~1$5@a,'<i?2U;pw u f@2>y2LV^sY8,FQ<uDR.O lh%icU4Js|"VhejSqc5T^'l S#";R"sYY k 5wBYz
V9-[,\l
yh8@i1&q-b:|3d"YI_;UpCs]@D T\,"jif	hg> )[9),3=k@H79ywWB)*/#:%Ku3f@Z(M=M/}PCOCE?G(Mcp0YE$$IHXrpk%>n @-\?L}]Nqli3v3?r+4 )H}Q*8x(=M=}wf4FR!"\VT)jm8McFrH8[c@Jv
Tb!r~{%u3pC0wnP/{s5!f^"Qk5-Dh6 VGH#hdi\-3TE.[fLJ,KBF.Z*EV^
f#uY)PfZ	I2Ux4"BUR:eAAlD,[O0b){un\a?laP+ ?yw.3;+@>=}1vQ%n<_F!Z}"S');?LIH0#B#J=}"\?rp2q(=MYh x4_2gXP/_F|f*2 qcS
rQb.68W
gz**YbY,Z$ohdr #0^k\ umnxA5kmW,iL4aavw=M309WTn:-*bi%b	na
wz ~	/<4fP{}I1b=gM$7G=}sdP2UBeM&%T
5igee'"Ie$WK*E=M T	 oC7f*LBGWsnvw]0LQiK/	4tbU,2tppkJD7D8MLb?;$1\iJfAMCu)Ux}j4x%^q&]9F3+c60\7=My-)FF2g=}2H?.=MORl;U/ws:7p:ZL*wE#vShdJNqBJVAve7,@0PRC5a\}xr6poG_7dqwJ3|FKc+/N4J Vn=A,*=}o@b=MAf_JtSLI>Ix'=MCV^>V9-|CCt[
Fg7Wls,d%zjGI&)AeQ.:V$Po{]v,NXP8_#12u",4b"&Gz\g6&{cif5[=}#\e}~i~aN@v4Ll=}YEQ8_d*8Ma=M5nm'q\/+!4g,TN P0}[zZr)E;N$=ad;X\tI}TgrGu<rB}PB=}i5)Y.qSNaT,Bd'~h%tz{DW =M .ve6eRfhzLLRY"&z{4L.H41~dP lr*piz.a^/u?aelzZ>\=Hs1/=FeB{fU8gr4	 +@Y+1'{	1~F{M\5hL+;f4Rs++p\(KR{0;&e9l-Ez{D@Ct Hv#=1H/10X!L&[(h|g4Y~#'JdF4TbMSOr0pG]LUH<O"N+/#/]0DIH=Mk+v|.UK
F1c+$P7J>CKXN8G2g>}r.&Wq
6%!MU=}"Zj=}Y<upp6qf;	))%			^e	I!=MYNR@/mO(uWu!Vg5h8,Ar4Afge"Zz
i,kS%>6u
{rJ0qvHS8hmh<j
\r'mgB;9i{Rx+Tz
v[JZm[4}qR4f~ |195lK/=M0JNuMY4 #x|=>Z:nR{$* 2>%m QdP-
oJcNK)63W+nAWqs#F
6]c&:=}|<fe^	4#s^MY=M:uygmqErHY>?AXjb& 6yxH'+5pP*Gz7A)-	0BDmH +0GuRMGm/Y<go4H=}6-	s9u+,.0k5.&pz|Zdh<=!gaIC;|o~){P<F{De9?hB-
1WDPzjZ
aDM}O702?A,dOYTKm:hdUo}mwM!UxCGHFGfnk:e)ToHpcI#|&4qYwAE0x''=}D6j^p~Paw
N7~j:G H smm7-=}mi'p*K2V^%gg~l
o)k*cJ_ =MIj,KC}}Ps._ZN#G?UJejz(}g<68eK>$3s+]#[:J6@!U i{==}iU,m0cS$VN^7#v#I/Gu;0xNqJd-c;n	"QRsB|I }'C@/w+aAI2+1TOOz VTIn=}ga;v8\GTwaxh{dq_jJdGjyS{#*ST4~nvZmo	t]PJDwSTj%99{56#ySDvaw1j[28x8 EKv|Uhe(UYDSL_(4Ot=}w|8Hsfmc[DotPW]=}sKLV6kfx(&Azq1Q+j'A\BZd ;W*[$|ue&G{oaF=}C"|pzJ8D,eO2f:8O5\TFsP+#5[k0E{!W=M=Mx+G,?	htgw%uun/%=}PJKqCG=}S 7{8<<k e&f0&=}NhaT%5ldU|p &4^v2{h 7+xHdj@mh,f9P^"ewkWxW6?iCTN&pH5=M:dR,N:z4BZ@ 2it/FXOs0(R:zuw?d8\Q/9/p_2WGy3f8IV9I.\G =M9U+}J~@oq_>d1I=}=}I^p+k#ct(C=u+D=txtt>n*TPJz+9"2?]&KiNr/SLj{{OTd#{	c%ck{]j%61*fazd)O2%Px%ySc]uDG:$3&m=}J***1My61o*x~dScZj.=MeML\c>@f7~{
YQd0u&qaWg
1.{]1nne;DYRYjv-aR\=MVMANdYam+gHhI.@bLb%PPolIs,w/*%~@n4nN"-35<itQmJq'-:]R2yOIGY|1~n9\dQ~5fK\baozfnaZB:vn"glor1M%m_KJAkb)3L=q d]:}x--(=*fQ ]sFdmZ,^dH!7d=}6E
-/o=-P=MQDY\=}.s[rGJDob!S_pG	HT3ddvK[YMrcuOwPYM_n,%r\,rz%m:haMUNy=}vSbaPSNciFn;?]	si=}KS=}ahG|,f"'dN
3"A}U/.mIb5
mO [wm 3IL#W)_k4EKd%#4w: :;7wY|q7-
\o+V~QwD}KhD)djc0,};)jw3x|=I$xiKSL<m<o7q]o2
h=I)Mv*;v/oKE
FVV=}%ErYSHyG9*y9)!,5d/fV>6t
FtC5=xK	p=M(+~=M\:(5XV=MuS%$ik<d-o55o!Lt	+4LJfI:=}h\$8%?}^(;LG;1j#y:pQRE1WMG9uwG"}NfI%uzzoj)9C>ojy-Mw8,1B&!'!}u17HMm+	]oQp/<bC2|~dr<.:a4TCEmi3T7p#1_\mguiz$|LPzu][d=}+AqSc'u	81=}Y,2k#C.ea7G7D3l@xnN)]D!UgsMp9'B\#5Lkjy4[/R#In^PZm70]D\YRBA1F6."ff7J7!P=\Qzw%uUtI>_k!ORiX]GF	hbo	"_	'9M,Z*IOI&+1av]8u91Fc=M\#PCj&Y7TE:v&5I})S/ctvy.iu8I	>4vy%KiV@1 X3w,E
~FjWCGPcA,"s(\[1I8@nBK	tj5et~;d=M,?JuJ('>i7k:8g4HUHIh)H<OAJJ!}mW=M
zx=M/
N+v-I.'_Hhrr&% "uI%T%O vGmF7%2c=M;x/#g/}TIWtB(# I#Z3l*:P\J2M\jG=/qYT~FqnDRnd n,E?9+g){P :Omc|cSP{vD0aABA=3V,-sB/6W L\IhWB0z*/8Vu[flIG0=MFhmfB5lEPrsA"1n8x3'7-g&5F9	N[&WL{=}n=}fWI$1^1zF%Cd1
(JB~ok+]7<<2;,|Ry=}Cy<SgkAj,R]7YA7h?3(svpZWeWRG*
!N)SMk8AoUD
U^?AfF,N{+ILk=}|~T;V6iu=}UGa=Mh3	~c.}U7Z0@4f/<u/pk;8~0<XUnEgO#lO3:53j.6(To./s@LKt%#o3$'|.	iH/^*\;sySy]l~9wMnW}C,/&wP4nm62	jYhi)ljo/q9("{3-HDjIy2iVUS8O;QOPzYd?{(Z\f0'fm9^!62[UB+EP_v9pdp0],aVVT$#6@La:[T%xqADr#~=,BZ1@w;BH>,\gu+z#W:xHtLwNeG&w0A	Nhg[JK(M/o=}H>{N-pLG~%S|&48~3'tG90xDj0-6'"JbSBn%wf#i&=wC2t'!@m'qa$UjKkD2 Y$nNl bB2:Pbb!4!0Pi[O4*K1)Ek=Mgh,~p_ynTr_	0Zo&a%{g"+ jjvw]rdGqnxp<^L* O1LjK=">g':S>BqAsDs~KZ\I{$S6Ke am+Tfco~n_?zyGYNK]gvHb)'5Idj>W:ie=}kJ=}(+%9g?d(xo7s&Kl"zYkv#mO*sGR@3'M3.BB]=a~SQ9,x!@u50*! y!pVWvL4rIP26j!o-<ou@;|Y1H\t38n~;:qB@uJ>lQ5 
*j$^r\ \\Ml@1k+2(g+Y:X5%ji^u| QbO^[)t+J
%jfM@V2Mx9V8Na)4f#Tps!KPSMWq5#AJ'gdkza)IK6'Mj=M<TnVi=M&6hO]M6o
&C^X,nI]^zdIQHm5b 96i0}A+
Rli3^]R6iv)^\^UlPc"ZnGQm*L\@a	w@@Zr&b}5lr,uTfG?"
>]]|C*h&aX_[jz|#(BN \}Ba&WnG$GEC=}G9$p1A.\j=MV'Ns5Dh{+2-'U,sK-*uY(XXXn yF/EOmE@vqR(QLW;\bnl=M<aMUVU?{2^>Se[cqP*_kaUpv|fN^:7.6x7\<$s=M;t@d<Rz[l%m/HpyS;;g"s;=d 2STicQ.b/3i3o8uCj]$xOh.s~xUw3ZIFBs;!e-dej L"Rejj{ejjWyzbuiW202U6=}Ge3>_MR^ljs-g"lb]D_Ma dZa ?%JSy'tUDdM /W/<UL-t$tM-	"*RX_hJ2R"X LWofE4a	K)@e-n@;r\c$YNxHL)pI"T"H	7Io#'+5|ic@;MV7mxytF[8Y@(KlXSl+7 :=}r=}2/	"ur;r;zj1Boi4x	?P6,>9|,9QHf9UGoA)\|ZWB4i)VUJn{CQp{\3
WJ1"\K"5liI bD\F)_jk)"~p3]5(n5kY%zaTd=]V,XAG?
/$dX-Iq.i9hx;saetlWs+}]g.m-(-dJkI%i-j<3=sKDB*xgI&ATf+k6s^^H!x@mR0Yk4Q96}vO(G~qWrdS1]('+K<;-!5Fo@e+'.d.+lPrn7k*E(f*sIHLy}J4Di.}P{B0]&[6<xxrEa=MbKN|v+<Wugb:as@r< "kDlBX/n<7s-l|'d#[O">~\'K>^	0KDVQJ,Q'^x,YhuU=M"Ri@=Y8uL DEynV	(uMDphKS~Ge4pr#V.bI}C)K6VO*i@d7QHAgL-b4IH@Zo=}yK?GE:uD&&[hw:z|>Gmz ^4]XF	yWL Y 63t@-(\*vIHy%B=}kG=M[N9r.=62- N(Yd?%B=M(#>O]9=}Ji1z6.~C=}3C)!jSnS\ux<=]Qf*x &LJc2YfE7#?:h^..=M\/@ Yb\ua7vfopb_&rzlj$YNaf.p,&1IY=}x{]%zT6C1lPZ[1 +WzzNp!n!bK Y=e+wv\J>0?cc6A_dvrN2k<67z,	YHxDxZW>>(8),/>2:Gj*&"fDT50iV%:s88^V_|P~)Z
hKB9c/Zg&=J"hLeLK0nm~%Y D6[sno|de<a3I=}n0lp	'&qD,@q}bV&53_FzOm>qW%antx+~@'x0^w)WSoiFq<DNO%9Sro!U6^w^=}57=ifd:Awp khf/axr]sFWCc}h~1jly	iO1SZPoV# qo;j3w}4wLjgfO0n-? gi@HP-iU7 K_<UnHL5)[gR.^sI7\}~J1paQ,wJS.t/$bg9*[Aujr$cwoU{-Zn<77nyZr>Mj&aj3h<U"p)%;e;^0!8&Ve'=MS_Zv=2=k)U>'(]u?JMlkh]hmVzg[]U/Py045;:-6ce0CH=MTa*;6;mm7d,Wr!'CfEU6$?y^	+=M<7>9eXe"i|~i
=(zuRh|L
fcar@PNl@0lTV.P;e3OT]w<Q06lN5f|}IlNKLP60g5&tLK9D@VG~%cv
GDKfs /CXI @=0!K<>W-4	G{)L8?BPlrnya8_jGy./A;@F~R\g=V0:hF=M]{3 p<t? J(2X}}qXew}56vvn	v_ntO-t~d(6!Zhr/'u=}mRU+9r NtD\Gb0]utZk?<>L{Rhrdg_'gfUS 1jSJQ$=M_T_D+'J86A~)Bev>0Oj%NVhd4Q+BU"X Ba.'}_A17HDJvwS2%M3qC2	9=}] gs sl{ _K[e$xScBz,C6!r]?;f&	^a?]0B_b1oXh&"GsR
H Q}i7at e o=8	g(N Z\"7lKorvG7a*&<G44kDF.?64/{rzL0sZJN-6-_pr/[F](LJ|5(0k=/h]0h?=M
SHn];9XTpq=}gsK9X+n@5)'q@ /#(aVUo:r<ZrH}:_%&orI^smj7=M^M!d~~&h/ y3#'nEhs
)(q;LbaH	|d8D3MoXaF%E	#^[)O_#c	[Sl,@|r6@V[;r7$S#G S92eD?Mf.Y&S3s>tm+it DO'GJ9lR.33=.:oE>K<?m1q=MUU80Kx XQ3:II38<J%0q9P$_IF?-ud.hv$_GT43]Ttso^svtI\ZIn]x tR)xI(z?*'l5}Uyf%=_dR2^br$0$=:Jc@z>gNV1hQ=Qf4-8X,wm5*T8*$cmChSMrpp] U31l;s),YW~>Ghchk)dQGb%MlKj=}k:#H3\N>= 	U:.c9FS=}r\N1k."TW|;ZV]:0| C;\Y B~ #1bB|jj#_5 nZse$D_xxiST 4AkT=MfRG3\NQFN }?vX>bogV l2N9o/gK~Xh#|~+Ct~Ikbi3gK(5DVtWoX]m|F+.\OswR]6	 3_@bXT;xUq=Mq&O &l(e&J/
=}ZRTOjY4@U{\h'
h!LyOgyM0m|tkL2U~QoyT$]K\i)(Qe8Ov\GK)I-6qE]S5t91^ M@~ds=M_3uun\-=}X:i}}Ct:YU70jl#nO%6Nz1A(ARO ;5	a:N!0x*ljZIj59X)<o			9yW1j+)*p+&98MxDMHB6|T/FR-Hi=}VtIqXawB?loS)K&K.qT=M:4Bp=NstVM"a%*WqhoO3n;fFK-lg&JE+v=Q(6O+XTj8p_C;7/,|p8&QZ*.XY(.7M8|Z}CZvC;TK#Cw/erB4o3^!x?.K@MtF2/T=MY1-aF=_o% A_	uxO48%@z$0k-Hbt)tV2m/x_ ;<Asvkx7N5aFHz6^](l	_M/#y4<BN"Qu)K>Z~|8zLEjmr=Bus~ Fdcz]C)qy[Vox6W-40$Dot;V=$3dC2eiW[)a_w/Z,@_L<,[P-w=M
f'.i3>IT,=M__4#'D T}gF1t5WogD+39c,^Q=M:D
0ZxR1w1..=~5e)RivKBal!%%|~?uDx{N!ihCSxKVvQM"3-Lg#5-b,M{SJIo^z7R	EwHHN44D 4Mqp&j		=^=HON](: &h/7<I-)!P[6~gGhfI Rq-)N&Gx!5NG(W',&U$=}5{w#dJRw=}m}^
=eBtKbzur-"MFm6vt0sMUc4fT*f6MW3Y=M)hIW;gtk i	kkm/#1%dF XtC	|VA4'9%	m&9}UVqli:wS\aYfF\aUU-S'-
Z:rgK2<.}3hC7."v?PU2K,F9\K 	0.DEq-:m74F*^^o#O	3_|!vg'Sh-Py 5YIQxK#P4Kyw s*C@d*#SGK~\HMzL50S-L#UBN3tETpVt!CfFJ!"7$TO~Sw&|=M_	L\&=MD|>wkJ
zJ(ZAFJl-'gljAEN<-tJ=M[3*zn#8	]qP?Cnn=M0us x2avP^c=M|1W9
-?eG-)dnRP{!J[zM8zy(^mbp%7j[~R;&x^^+tk9w?#o"bjs\xf X'~S qiX[PTagSUNKeZXh3wX[*m	!(M+Zled}!"xB9BopJ":dUH*K{HhSAU@7<t/g*ywj
Wb:b[=}w:EhQ9W6zvuX/RDS-r!ZKCb=W!RUsf(V@z<H@('>([Z# )0z|F G{+7e	=}!.kg>X<}Wj%G@G|1Ee,*$x0g,t$4s;GL.@};F*=}o/jl=My[@'n?HQ9O(nk%9OU)k%O,H(D389}rbSOgdU{S<0\oc0dr3WXz=i_9mwvG{(Hn~*4^|*+K+	5
.wh/n';
YncK4u}rt:-/snKEi	405I*?EV*p+pNxH]VnoTM8x<n|llI- { D:]5\I3(0"i4U/ZcE:KXUVEQ4^z&*E|=MA:S(LiKoj%/YFu{2Xl2$R/	PXof?dyS3n8(Q5{
 mW~k'>Cq_H|Pz}ZS9yA?4OIOioB&Wl:x<ayaP3Dr:o&p=c!KQCKe9f	!1;fje<hqNYCp#'c(yCG?l{F8q)&!^QZYPA*f'C~Yv3'twyNxyQ%p\wG]mHQo:9EX|1qM@a4+[7drXuXm0}\5E3_70[cfQ	VJxn!\ulN-JmVg37D#\FxH=MnT~FVL*E-n#tzQl(E2K7&.+%MRyj-:(X#=M@l%j% 3G{9+z,{eZe+$[YT+[1f
2@5gi7;Ki_t8M%ek U08y7NmE7FoFH.Ui3K9VTr!!WIMvHD8](I	_CYG $$
JE~9-#dpR_jE].]bsPbY"y5HmdoKx*1tuS<RTewh|P;3e}6lhh6O=Mj,AWx^yyt5.;MGd8EiYBR$ 4+U~rAo{2TA3g6$1	mBg}<Qc;|"k nMwG\Pm7m12 s#s=}#'SaNh>_rvupC)]'[,	?=b\Ff,y%wS_+1VVx[EA6F5R
{d-R;&2,N32)QT {:~Vjdj1mAs&j=}bi_zL/](Fu(4&| >j*9* &&1mcaFCU"i *?		'+:<k#PZ +5xd/)+?~Lwzc;9Xro3
$Qh
;=}c Oe?kFPotT1LN{[Tc :RmkV /R>h=MNK'54w+w2v({),ETesuf;)=M>[8%HKWU9Rc/EvJYN%{9:~2o6]Dw4IR_.WsBTFn]@Q=BR#L"LT*NiB$,{9?%n)J%:
0,?jVNIMJJx%9Koc	3*4^O."cplh(SZ+ovhdejvy=	}=}<w]bU1Lw-02C@D=}M.qJP!TF*x8|kISBV~^;)83=M-y&a_;;A{D\z0,m4qRVYBFFdbVR*G$=M	qLejbG_>%+@cK%%+bO=}JZqN81|2?AQXl%'E>jc1 \ 9H]7 >>Gf0I873D]mr'[h7dQ.hT5 "	AhN=}2
sh5.hHgNhPs4Kp%'X\XsYAE^G))=}<T+D..jSb,HAJc~t|r#HaVjhHz>?^+*=MFRTT[Ff9Cs~w?AJMTR4
1j<1h&g,RM2Vlz  p(}J>tkJ"~3*"P_#7<4OT2r[UjfC:T14
*DgBMfo|ie;^]	 /\mm^I9l0O[D-N<+}yL*?$=}G"x&pBT?a?,S	^p'y(h\5Q),7N)J%KJ%WiD=>=M
2jr60;ibC&iREuYL_>"8[L#2:+"Ax[vkwN,-% /j<
=}^C|,p[?g=Miz]>YdsB$G-Ti0pIjY9c+2Dw'7Zd?+D\@z]E=ML$!4z=}nJl38i&b \gxxsU^;-m}r09_>N~7)3rc<Qwhb\?Aih#e,9 e(y;bDz*=M)C]&+nO n/Bmd%aK/ wZK8n!%m6'lHM8D3Z~{'Rt=t={tEjpa52<"a?3AuIL5IxIWn=}Z=MtcRt}GKaGH*4b5p22wC5[k02GQXD0:P=M
'9O_n8K[Sg='j282H2\-Q]{)=M tJQy=}Yj\=M 2<v0ha*}[Fr%{ziMs @^|_[yvuo4wocujT{t4wlsOZw)H{k>FoOu&;f) [2J(Zg' 8dFUo(AnR_u3b._rm:kU
UEhrj>3jW?VtGD3_\]bl2
![m<L]!;A{EyY:cwB0E""Zm*;q	krJ!C}he
V^2"s4 ,!/^m '#:GP C~^vz^i7IQ#UKo'8);-JD;CsY %-xo&vYKawd_g{=.nBxyFf-b=Ml-VV(A/\Wt'SM.2ShFkU_?[JIt?W{34A b8)D)<L,o{6cK={mR;
rc>zl93I1	=C=MXJx:i2JIt_k=}Lg/ ZIq9Ktl+B0O=Mb<]=}hG2=}dj9dSi ij/}Xd7] #W=Gfayjn=}:.26)8NEv>E6zG4p$/[|w;=erdQ4CA\=I!$~
48-JOG{}D5{NEJZC=}*SC3qa3/U|K<(4v8ptmf%E-(9o)H-mSNw^QFq 1]wJ<\-Wu6]R-%I3	nw,w!Ma A	t*=Wx-"SXZJUz]s>HNU 1igv[8GCUnL<TI2Fz/Aq_N=M/2@=}AwsGbacp7+RY(5#>;Kn'(YM(PDw15y4,<^YL\_'Tqk!p3)y)1jRinvZ-,zm,kHW 9CD4YL*\vKlHMWxY8PTECr>g-feGS_~zSzS}Y\MO3p3"BG!+o=MPyQ<9=MT) [ lE^dj\.[Ym |zpmJ5M-8-SRl%MEa5\Gws%~Hl&k<n=MLHxF0E~\[tNp'{g-%,#y]6[QRB:@&VOS<S
.W{5%*&P{r+o
{=}%G+0&P{2-{_=}d=}kb&4%DpN {^zqg.F-!$j4-89o<49Ky	GU&-)	=}#Ih#apkcqMW#LxW_>#Jrl#a	Q2;#@N8!@MD/!!Ay"bvP~V,N>"	RY"xpa]|?<dY"{E#YY=}n7m)]
JgZoL)pb	 E=}	7DIb8s3	Y=M9J~P$B="JU[~5.FN\"YM\yFt+
m'b<:h\@X TPq;y
"bR\>.lap6cnrq=}{[Ol!1("l&N{h7faz4-a qcU]g_Q.	]r:zca. '-3/yBw0j'9K|6 v2w4PFayDy;=}>EE Pz#<,@y! ]   2ct qAHM&Pe1!XOu^J82K8Ke]Fw}.Z]?S>ys[>UhnBpR*@h@7c)-I8w|&MM7NF$72&a.1n3B6K=k4ND[Ag^\MD_8MfT>b'[Lu^[3N]v(7UHe3(sQf+sR\RirpuC&ctJ+=}.H)XTGwcMK;F+YHQQRJNX;sqK^ >cy -(Dsbx:($E3Vz0QYwj:^vf9:5\K\[!P~_~wKGs6enn(Q+ {6j1.[mtp@=}'D2LeG_wcwKCThB8#u_UnIjZI3K4t7:<R\Z'FoEqWX:PaGPZ[B3fCd=}8\-IW-aJh	=M[gf1X3D!;-DOx}{7cH;|Lzi 84%,L}.9'=	#d	kDpmU>N	c/7aT>i8sp	k;JAf-o=}K2$ed*>yIeT.E^,~q$Gdb@QI
)"rAZm??(IK^	JK): ,'LHh8RkX?W<NYPX<:=MsQiw(N,>%x|wEa)"Px@Ynz=\LuM"* x) P]&Fu
ykw_%+'O?{*X+@k7l74
)"x}W~~EuVQB*L=}_V/32eg<&i&iivkhFMFW~SRZ$qt>0)k|$Nsc_*f>+5$u+).f+[/uk<A~\gC(/XOk9'wMjcK@7iI;i Z<)aC2]8d8ax.i4;mM_&}hMswI1?eNo*("/fTX?Z&=m1iRz<k*O\1?A{ES{wg\[b=}yb5UpcQJh=^YsZ
(t=:8)6{:PSatt;>8mocA{v)4c^?gC&7=}Rh;YTo^r6=}3Vbs,3J[ht5UX$.?\Sl~WpPd]*O8Sr<)C7BjD^CHJ*?{>E{FWZ?\K+0Hdzr#*YD)eE'uM|~_%;dJw4Z(z,|=M&| Rc hMb.)|.+J|j+oDKF8>pUIWH%wR$H=MYv[f5Rj{Obt 
&%MvMU@m1YA;B2diDD4x:NW.s-OBaKB>\su=}C:'?>zrz%Cs:$m }es&y;fbcf.E.r52}i"3ccm%	#hj::g"9Be[!62nAIO-n#U/Ei!w~Y~Y~YMuz}|fgdBNg%s oMbYt%Ofh	f5Oo(h=M-2w+4e$P@HGf(N3LKCos=M*	xYw?K+])DKgr*]BFI'F%%Zm*Ob&D
*@n+O^s!|>s(=}AQgKar^f)?!u_Ri=iif L!V jvw=Mux<nMM=TY!9098h2t$2:b2jq qoi||OLwU3+]T0	7bn&a=}G	]]Qq@1] <HX ,=[t%po?~qc}Y}98ibp^p p	}{W~xwx7v(s|KVg6
1~TG8+*qY/f~WX7[&T)u~lVJ E#-5;@H'BOr,($KC/ @b?%=}z]ZF0rW7!n&me:GO 3?zhAGQoOjs	L;y~llq{Wwi-erHrR=}.
+[13L8-58zmlP77AC6I+H~"6vm6J$s4guL- gdc=|xT*g6E7p)_rqo"	zX4.$3Whwqb0
*l(r>9Y]}^	zLNrP=9.b|o}r,mQ0
Yt?2 : azp}8?N1T0kaV
Q| >6_9 
{,@_:9K^	,_2}iErC=MT=M+Duy1[hr=})6udq7:pNI_y ZP@\xW|YHN r{paGn}r/]\F4OC{m"i] lT=VT 9'Wb> hF*j-]5$6Q}v?n{B[& *Gs=M* xg}.iA	A0:J5A'stn,5\k6,=M+N'ksmQ-v1.H*:5c(e<mEce{c:JU(+scz-_
*$R+ 3j;Zl5-+oF+mF<gu<%/cJ@g=k?z6KgH-l]+[zcCwAm:9JMAw'o#;C3Sj2w\N<p H'MqY0&xv)],>a$=Mv|z',z"qO?@}}1l	ZY=}-*("6S">|BL6OW=MvU\P%Yq=}?ao=G*%rX*^NbIq@o=}_4	!O"!4'?G]<4}P6,h,\JJ{JEDS	Dg}]DdKXMIK'AZmE-}0udxlk}'U[
ZO?aj|>? %mhG +0w$L	+}h'Y$c'10+qtd}2An^q&V}Q>G1
xIqKsw5s=
lA<NZB Dmq q}P5u7_LH1QV'BaPKo'9n^Ua&i5^r	:J"L:*o T& <2yv=}@	|!=M}{^q]N*yl
&m2$sy| o|uXWIT&r_8dqsddq=}4v-nMQ,0n8>^]TvEn?D(}Y}<}]n)vwmsY3" *IQ(|7A6/<.IZOj>I)qftMp,
!xJIdKQ:e1Qt $
Lb<Wu<nza'edClE!.y2GYf2^4J&58eCR#:hv&l0w 	 <uGb ?)7eRr95pE\w
M*7SLFM6GXr}']W6f#wUCPDR<d<X&,V-kN<1a-*_
M+g=>%yeiaT=;X+21}Gi	],7d;i}%0Z8rF;=aYC(]wF#*#wb8MQu[3l[Ml=M!QVK?fI|sn+53aCECJJl&{PpEgkoiW_i@W#d{KQa!#MAws=MwpF/QduAB	6){ZH4m
o6<<o#_QAi V~T%$sq,t8d/zbS;#s$7m 7o(lWlnA0avip?UXTu|2rn la??Wu|q7]=}AabPZ I93t!~5,:p
)A:QVMHv&
5%iF\
*kDw=G~o!3zrC BX8 &^p=}&"8Z8Q29e=\\o^A*]f%YhQr<
a=}_Kg!xiH(D*Jh,+3+MK+(vmZvD0VMl"]V^^+N]QRzg$bFV)=M=}Z_D$aq2 fVOHT=}NED+{bm64+<Gh%2F'Mc}UhO.OjD15BL2~N~4.4Ii/Kl=}' |9bi^}b;g1F,2<="h
2R.W'#D,J9#<TxKLg=MSnzMdaYZq}WcgT	~MA74:hL~0r}ZI-l.u6ezZc[Zw0AOZt4Tv/Tz=xI.b%{1wtw	{O{{~c7
0P@y**:I1sEk/w+"L,aCae q@C)~BsFaqBoZLDay-?+hC&BTMv+HqIW=^ =MFBXs0CZa=voWq
	gL4|6bP,.GGHsZ8\NEazzs\O_sTY\.y=d/iXCzZy$QFQg:]DaR@{jq'J"sCr4~mGr&U
4{ 6\l&g#wv=60{#|(@F   coKBBNP/QgsD
67OO0L$BtR)XH"zr:y|TX/4C?ORcz:7n)t.$Q)UX| .hX0O
2*EV)B"h]79aLsmQ1<H@*i~fa~p _%).hV|"
gIY !q=}T8=v!NmHL7YWu1qm\/Li<BXi}DNq\PME',b8vSXs(6Lx9Dr)et/hF~jG(\y_?
BWW&qYO~Y=T~Y~Y~Y6]/rLx!]@ dwz=MJiA,	v<lB(	nl=MyTg6LG6\H7XwvPWv=kFOnkimlynkqmlnkdmltn?kl?m?l|?nkhmlxnkpmlnkfmlvn_kn_m_l~_nkjmlznkrm=}<kI@<o	k9U?8O	4,6<6(80v@v&Tulypkqq2Tqrw1aJ?\"_;8p/u	LA	 o7@
m9	p,>|^J(RT~:{LH<@{|8O=M}[uA0$i
_tqMuw5QIXLP\=Mqa'4A-Mj=\xK4@vFXkO7:~!mF	S1O
;p	W,=M	>>9	+@~=}	^Fy^}vA "zrdw*}^1q=
?Ov?)Vrf\=MMIyw8}Rxf\ZLz^B3dfUkN58UIm "\bU$*Y&HZ{AtZ~@]]\qEAr\]h"]!9fB[  b^D&Z&h(dB:tbWSUH'J[=MYLHA]!^o%2DU2;D'e
!SFf3:;&#?f=ofDK#M#O'QR08P	(m9pxXR$\&2z%WZ$I&}$X*T}_'1=}}c xd_x^C}"Q3v0d91/ 8DHoiEsUKO0z,=}c.*)q3P]2c\FTT'#9Z*1x{af=}<A|<aI	9f[W\HX=}^$=tHMkcDC!$s
q I(S^C:y3qs*Kcc~c}e  '}"S&:*$ba7~_kYm53 'fvfwE cQLC $^0%&19;e'"'B2zMA7
d)Nl'=}d;yQ[?mSL+q4-LEX.aM>=}{M+%6AJN'MT7 B75	n[qD\?>Iz
Ej@E v]$^$P8@Nl9=MO z
Xqh)mWH ZH~~i{v6HjkRU)8=1z4w
 BPYrU~\Lmfzs84cR>
$yF#ec;%Ay 4~GgT|t'&rd{S=}E"vU/!pj}2i)4,M5O5Jj~}29:]-^Tak~S'75bzS a"M[Q@MD)LNsJj}|[|Q^
M^;Uq[~NR4b4"6W]4 sS=#S]3L4,;C}['V)l@>t=MvT0]VcE"98/ U<Z"fc]0hccC	x2CN&John5d!Ik	GfYdy^~V7r0=M|7Wr !~Bj!=}'Iw m9]<@]1HU)C]ZHU_5#I3vD,tnKr7-qO055P<nix1x F!B*4px=MuaW (_+/S[a~EI;3/9xg9xN?W8>
o:5zwYx iPM=vk:0(Lgi@GRBH?:VMY O;*N@=#fWjs9hH7YdH=M!~F1E%xGtMIKp=}+Pg#*#y|rCf{T+b,csp|2.aCsVJ. 9_lgG3OC%%_#3%Y'{}HZVkn.YVO?W1[g;SXi=}B<uQ(oJXcGM&]:	=1[pnwI%
ekDRPnG[+U?<N38yKbUwF*xHE1eY0yR *Q7!&\BTnP<_p	_'Pe]_yfZ.z5667[5(%*B6nUHta[boR-|z-7b1iS:"*2;9~AI{RZ^bkZEs|7^,a>@ #
VlY/b~Y~/V0{q)rwH4
s)h>%i=}rG}9ei]Yw.)=M1%rBEk0?UE8Z~S:{BjOR.ik
7FUC5umO}IFj"=;=}id@J%P8jbQ!	"6WW[PgUtT/W)F.W?8eAIG_X5N
L1R]r^7e:J*GOsSbSA	%d dbf."JpJKPB(-Fl=O(Y-b~LK75G?!5:JC5iQdnR)%W |>ktP71=}<?=7UV'(XiF!%0.jx.w'v.kE=+02VIeZ(@wB,C90{OoRoT @j>Sknfg2U\;n6tpcuI@jN|zvi>6tJ4)}y^A("^
]6<
h@dWj=MxvusB)tH!6J8'6:HS6/*99'vM(
:<cr:ygt
V9AhS[R'.7E[2y-OH42V00aHO
f;7dD7'@%%dos7!~+\ Jc}~W
Ng	k f* sfhIai.tXq6
=TPCMsh@V;|qDq\(r?s,>W\k"1O#aLy}V'"~E*jJ|Ey))i#s}p,y-O{ZEx%]jc?o{x=}vf'0=M(uo3"O]{=v;R:<6t,w64@x1vd{\j3) u-TOT
m2f\?N*|t[Fs
3vW<JLV2K4+s"g!jW"uwu*	vopQ=Kt.UA~~&Kp]NNr	@
M1o~$S=}A
}C%C#|Y~~Y~QV~Y~YXA_EJ~t~i#e_z}k{Oja9sPeT'%h\[T#GqH:5>V8c)[H
5k=}ku
jtKf~t6.e+=M6.<#T!K:N._va^bt<m>CJ>fM]UDuYn'(x mbCf>:=MU@w{pzAk_fQ7^"w}W!6|I%_))Ra%(B93u!Ag2hq9h 
Y6S	NW7bTLvp	v8Bmb,u/t01ez?JOa{4hEt@;9QV!USdsV~~Y0~Y~|V~<;E6rhH=MzL~~u#G5(>7,=MD\eQ3ZlUyG=U:6#zVn9/V}=}e$;Tcu7.Q4r=hEX:44LIq{}idI o\wp=MM\&QOZw|X)GkCi}ME[5u0sdL*|=
@yt2N>9BE/P;&~o)ZT4 fF@K^vc(~B? )%_Nb$Qt2!6S2,P@"/'(dA*YK2>M':XA%b8yK
y3B)AZg+Vdq2j@'3|-,aK]&*=M$
9'{HC(@&@TS R@>/3)87,amd-V Vn-/H)pna1=Mgy|QcTqavYY:yXeKA^F	9Ud+]_% F;iY~Y~Y<}Yz}q~YP<GrZUg) 6yil1_4-_AF59B7&><QiVM%%H,1}~G0F]En@Bsg]j	DoiGy72=MiaW>T9WZnfO\YH/|}+u!xG6N-??uN8]YeqDMpJS1uav23rA^0r3$t+ga*s^'fDm@6?k"d!B.?0"-	iT9w-A=.
Chz,<v6H6%o<=85iz<=
%Xk
'@(gVmqUm
)qlfB3rYa/XI=V(Or~?&-4F;np.H7*%8tq0nK $=}[%wMhRLIx*y 8=M\{,AxDUE1T7yy1J$GU!Sn>Mo>l	,	Bue}*Y)vq(7_&	3!X&BG"@XV.THRe z0FsyfJWZ:rafU.
!#w'3#U&ktT Er});vbek;<f@QB%CZ|[j/-L;m.F[-Aa#OcS#N_gO+% Q+6&:,;_XVo28hO	+LN='!7SV%jW%7L'H5E-,*	 &\-.aW74W63|ZfLR{@0{7P6zJ?AfV; qQM
T.8)a	4kURaqL9V'ho)::	_
$\lSC>q32(#o!ki+$O% >C%7[|w@c*{/v;=m*pL53nef1>VdUq'^<:3rJ|7UGer{!LI=MKd08V?d2#W.'i}9+$.m,zV4S\_H)$3^&%j-#f"V60J=}(FS\a%?A~]f<(y{ji$+*[}e>0;Jd(c}!sUQ*h>o/=}$-.]r#b%Se<B;kKRv(/l^z$t'?r#zv$]J.g;>Jx^KXm<Dy-C[CT4&F$~6G~1%j=MRM^!4zbRd-oC{]6r=MA}U\6_5,dL<wX3XXgdl)$jvu!>5@
q4+Q\7N1@^lV+<^,5yW8GQ\E/|GL]/TE_\4g5<4\ky V"6:\>RX4&Ib_>,=uopVolfoY/OX(g7q<qApP 4?77_xr}Rze V\*yy[mC"1>3p7,4 (q	4uC
2i'>:uxyCF^a-QG2Gt\b rueA8wp/XIW	=a*!VE=MZ;	BG
Kq=}RuL <(~OC4=MZK19G|]d0Nu"mxs2as=]c oEN~0U*2d "7j0f,xG%
My2\hiKs	pR<N$=}Q(}}V<1aK.bm({B+;*x8Ta"'87 )5{nOs*9;pyK:Jm{ /P	[,1oYk&_S~@X_.sP4*lD+E%3qW%jjr.gJ4k9L7@&aw\.WjSg4yj/r
 v(x?1p<;<(VS	<&\z\spfn[ 9p=3#6.2x?#}[cMToCT'42/9_;i*gM/h;4 8&ob+hpT[H$h!kf!pn%e	Dc;F[Wi#$H9hjFHpUdwpIlHfDL&5e2{x ,Tf)3fdS=McVk'$(2@Pu'dVh.::9%%?mZe=MbC/r){gz&F	ff[ qp#I~y?=MS=-^CI	9y/?:W^n+h8M'MJ5\55eJlYm9{z6u(K' nAo5X+T&4LtB<^IfS!y&,@(|ImeCLh@HiY28^7\q[<H/=}(
2&AAVUCn?K~PrH^MV-MZxF?-6n
k=M6LdX|IIiWd=}=P86"zswB:dK"*a|el{Jpc7H0Y O{+~xSxwbvx#~=M%sXB,;V{B\3*^8[T<*<BC-&StF'EyW1g~cT*,jS!D|?Vvcr
i	^|[-:QKnjKE-[#-x*T&-3W.su/v-h/'hRB.B_c"he$ w=MV]:'Sps=}Wm=7"fyx,+)8~c%$+^?Dl9pS)bS?-$SO=}3/Jp)'6yu~9SB4w6X,r-)Z37 , vR8sc}1ow._UIZ_eLl=}h=Mt(LM=M] {;Yrut%[E,y JAs-*yK&}v/v<+H(vr@4z&e|<dd(#E[RqodF] qf\4Kg2d^qi[8	xH?qf}{g2/| T.
#@~SY~Y~Y~Y~Y]
AV3O?OBq#c!cdK:"sgB5c'_p:n"rAb,*2rkgoemiq1
B#3K[GW/?%5M]IY1A$4L\HX0@bS[W?E-=}IYaT<H0@FV^Z	R{\)iJ	7yWoQB"bE$P

jbu.GZ0pP ZWIL& jcdbgY =.rL_"bA|#7UYT8f~Z/bBT_y>yt^3_LSX!zdxRv _i8bV |KmmmEE}C"""M9:F<S8MVVVIIc:~\/;Kxyy $zU|mY~yU~~|YR1)Yb[!o|Mc @%V=}AHOnn!C(jdueJ	
LNU11Pf~eo[n, _=M)355aD,*eg*		LU-~-o1H\< _5~i\
#;~}vI$])H=
/Zn49ZjlB<&,_F=}PiGF-@n-jo]~]L =)+Y.9IY*<(T_E5NPg=M!HPJnUywVX{ob5 \J
@%qW+q|nI.V3R#ahm^eOe?FF@r~,5tFZ.:rKT*Yi^gu=}g	Pfi=}mQT0AT
k>:g&|e"U[J&qUV;}Wce9v{&$<p[uO
uy?6F &0
{<UJ.2rLV:1qm[w=}w@f i)QX@AX
l;2{m-\J>'_Js=}/{~YXZpY><~Yaw5(Vl[o$Mn%7:s1s=2 >8pf!pWFxn*	ji)8.v,_LpR4uL*wA	Zf?x{"kB>8%ZE8A}Ya2IwlMkhG=MB--x{ /]=}e~Kj=M1eyGfb(Mb]^=M'O;?<ojluqmh=Mp xN4J^-as)hrh,&9a&=E|u-4qNXzDxYjRwn@Xdpq(b [rjJXVVtPxRWluAte'wV;C#$)$oE9p@nOl}|6=FPt/g5~yl?v I]j@qe;'pNfvS/f
;$'Rxi.5vPI}fW?I0v=}J+(i/DTioh/h>j1vTi oj3,_28H2XhpNrV -&S'#0&=MYf{^A
z|!PjQ|X^
z{@: 
z {: 
z{p. z|p> 
m* TlQ|8^
{x( B{x0 |x8 B|x@ 
:::::: ~ARX)XO{nA


	

VVVVVVVV:$l	U6DnUz ss tt uu vv ww xx yy z
#{'	{+I{/{3|7	)BY)$WI_r?pro:"l!|*'(
)jgh
iJ*4u#q0yURnR\ArU2lAURnVrpAV2g2,hR .*ir0jj u*u:2uJruZvjvzY~2vrv9C%J"W#+*a+2,:a,B-:Ja-ZR.zZa.b/ja/r0za01:a1Z2za2k*bk2!<bo
@r!=}pJPz!>bp=!?q:prtvxz|~^$cY~Y~Y~Y~Y'mP^uMO=mNP\qD-}D/=}C2D.x8 K7=MJ:=MI6!LJ8-O/VrWrl>56@3M	>
U	=}aI>Q6FPomHUmRbRabbgVjUfOVh9fphZNWnPX|PW^SddsdE-Y.I.]-wese0i{0};/m0g1c~Y~YflQE6/rW}l ytj2[":l]Kt$Y>$MlSP
 lT[hJD /<8932=}e7U)_v)stInXIBjHBMJwPD",PmJ1LFzTg(K:BL9UP6m|lm!00O/~{=}j}.wVA6rA0E <E&j
~Y\bV~YK~	~^0MYBT*^\? Z9eSkU<.24<k:k
"z0"as x>n7
mu0q&&W:Y0Y0/)z-hLEEWuJxLr6/.u(E8= 66p"}IPC.]y#U;l2HhlT<yz<rLQKKx@w>JTDqqXf>wZ)j.6;-?LNO=}An ?=}OOO*JqyzHP?<&P=a'k$p! !p!$1OI;@O;g#ETO$@:(>z0RHN=M	

R>Xz t\+| XPQVJ+Y9Z}@=cA'pCA^5)t[zHQ!+pqE'Z2{rnwY\7Ta"yRSIbmiZ=M2]qG}`});var a,o;function s(){var b=o.buffer;a=new Uint8Array(b)}function c(b){return Math.cos(b)}function l(b){return Math.exp(b)}var u=(b,w,E)=>a.copyWithin(b,w,w+E),f=b=>{r("OOM")},h=b=>{a.length,f()},p={b:c,a:l,c:u,d:h};function d(b){b.f()}var m={a:p},_,v,g,y,x;this.setModule=b=>{t.setModule(Uu,b)},this.getModule=()=>t.getModule(Uu),this.instantiate=()=>(this.getModule().then(b=>WebAssembly.instantiate(b,m)).then(b=>{const w=b.exports;_=w.g,v=w.h,g=w.i,y=w.j,x=w.k,o=w.e,s(),d(w),e()}),this.ready=new Promise(b=>{e=b}).then(()=>{this.HEAP=o.buffer,this.malloc=v,this.free=x,this.opus_frame_decoder_create=_,this.opus_frame_decode_float_deinterleaved=g,this.opus_frame_decoder_destroy=y}),this)}function Ia(t={}){Ia.errors||Object.defineProperties(Ia,{errors:{value:new Map([[-1,"OPUS_BAD_ARG: One or more invalid/out of range arguments"],[-2,"OPUS_BUFFER_TOO_SMALL: Not enough bytes allocated in the buffer"],[-3,"OPUS_INTERNAL_ERROR: An internal error was detected"],[-4,"OPUS_INVALID_PACKET: The compressed data passed is corrupted"],[-5,"OPUS_UNIMPLEMENTED: Invalid/unsupported request number"],[-6,"OPUS_INVALID_STATE: An encoder or decoder structure is invalid or already freed"],[-7,"OPUS_ALLOC_FAIL: Memory allocation has failed"]])}}),this._init=()=>new this._WASMAudioDecoderCommon(this).instantiate(this._EmscriptenWASM,this._module).then(u=>{this._common=u,this._inputBytes=0,this._outputSamples=0,this._frameNumber=0,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._output=this._common.allocateTypedArray(this._outputChannels*this._outputChannelSize,Float32Array);const f=this._common.allocateTypedArray(this._channels,Uint8Array);f.buf.set(this._channelMappingTable),this._decoder=this._common.wasm.opus_frame_decoder_create(this._sampleRate,this._channels,this._streamCount,this._coupledStreamCount,f.ptr,this._preSkip,this._forceStereo)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.free(),this._common.wasm.opus_frame_decoder_destroy(this._decoder),this._common.wasm.free(this._decoder)},this._decode=u=>{if(!(u instanceof Uint8Array))throw Error("Data to decode must be Uint8Array. Instead got "+typeof u);this._input.buf.set(u);let f=this._common.wasm.opus_frame_decode_float_deinterleaved(this._decoder,this._input.ptr,u.length,this._output.ptr),h;return f<0&&(h="libopus "+f+" "+(Ia.errors.get(f)||"Unknown Error"),console.error(h),f=0),{outputBuffer:this._common.getOutputChannels(this._output.buf,this._outputChannels,f),samplesDecoded:f,error:h}},this.decodeFrame=u=>{let f=[];const h=this._decode(u);return h.error&&this._common.addError(f,h.error,u.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=u.length,this._outputSamples+=h.samplesDecoded,this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(f,[h.outputBuffer],this._outputChannels,h.samplesDecoded,this._sampleRate)},this.decodeFrames=u=>{let f=[],h=[],p=0,d=0;for(;d<u.length;){const m=u[d++],_=this._decode(m);f.push(_.outputBuffer),p+=_.samplesDecoded,_.error&&this._common.addError(h,_.error,m.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=m.length,this._outputSamples+=_.samplesDecoded}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(h,f,this._outputChannels,p,this._sampleRate)},this._isWebWorker=Ia.isWebWorker,this._WASMAudioDecoderCommon=Ia.WASMAudioDecoderCommon||dr,this._EmscriptenWASM=Ia.EmscriptenWASM||Uu,this._module=Ia.module;const e=8,r=u=>typeof u=="number",n=t.sampleRate,i=t.channels,a=t.streamCount,o=t.coupledStreamCount,s=t.channelMappingTable,c=t.preSkip,l=t.forceStereo?1:0;if(i>2&&(!r(a)||!r(o)||!Array.isArray(s)))throw new Error("Invalid Opus Decoder Options for multichannel decoding.");return this._sampleRate=[8e3,12e3,16e3,24e3,48e3].includes(n)?n:48e3,this._channels=r(i)?i:2,this._streamCount=r(a)?a:1,this._coupledStreamCount=r(o)?o:this._channels-1,this._channelMappingTable=s||(this._channels===2?[0,1]:[0]),this._preSkip=c||0,this._forceStereo=i<=e&&i!=2?l:0,this._inputSize=32e3*.12*this._channels,this._outputChannelSize=120*48,this._outputChannels=this._forceStereo?2:this._channels,this._ready=this._init(),this}class y5 extends Y6{constructor(e){super(e,"opus-decoder",Ia,Uu)}async decodeFrame(e){return this.postToDecoder("decodeFrame",e)}async decodeFrames(e){return this.postToDecoder("decodeFrames",e)}}nf(Ia,"OpusDecoder");nf(y5,"OpusDecoderWebWorker");class _T{constructor(e={}){this._sampleRate=e.sampleRate||48e3,this._forceStereo=e.forceStereo!==void 0?e.forceStereo:!1,this._onCodec=r=>{if(r!=="opus")throw new Error("ogg-opus-decoder does not support this codec "+r)},new dr,this._decoderClass=Ia,this._init()}_init(){this._decoder&&this._decoder.free(),this._decoder=null,this._ready=Promise.resolve(),this._codecParser=new v5("application/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}async _instantiateDecoder(e){this._totalSamplesDecoded=0,this._preSkip=e[fde],this._channels=this._forceStereo?2:e[R3],this._beginningSampleOffset=null,this._decoder=new this._decoderClass({channels:e[R3],streamCount:e[vde],coupledStreamCount:e[cde],channelMappingTable:e[pde],preSkip:Math.round(this._preSkip/48e3*this._sampleRate),sampleRate:this._sampleRate,forceStereo:this._forceStereo}),await this._decoder.ready}get ready(){return this._ready}async reset(){this._init()}free(){this._init()}async _decode(e){let r=[],n=[],i=0;for await(const a of e){const o=a[kh].map(s=>s[Kp]);if(o.length){this._decoder||await this._instantiateDecoder(a[kh][0][m5]);const{channelData:s,samplesDecoded:c,errors:l}=await this._decoder.decodeFrames(o);if(this._totalSamplesDecoded+=c,this._beginningSampleOffset===null&&Number(a[dl])>-1&&(this._beginningSampleOffset=a[dl]-BigInt(a[_5])+BigInt(this._preSkip)),a[g5]){if(a[dl]!==void 0){const u=this._totalSamplesDecoded/this._sampleRate*48e3,f=Number(a[dl]-this._beginningSampleOffset),h=Math.round((u-f)/48e3*this._sampleRate);for(let p=0;p<s.length;p++)s[p]=s[p].subarray(0,c-h);i-=h}this._init()}r.push(...l),n.push(s),i+=c}}return[r,n,this._channels,i,this._sampleRate,16]}_parse(e){return[...this._codecParser.parseChunk(e)]}_flush(){return[...this._codecParser.flush()]}async decode(e){const r=await this._decode(this._parse(e));return dr.getDecodedAudioMultiChannel(...r)}async decodeFile(e){const r=await this._decode([...this._parse(e),...this._flush()]);return this._init(),dr.getDecodedAudioMultiChannel(...r)}async flush(){const e=await this._decode(this._flush());return this._init(),dr.getDecodedAudioMultiChannel(...e)}}class _de extends _T{constructor(e){super(e),this._decoderClass=y5}async free(){super.free()}}nf(_T,"OggOpusDecoder");nf(_de,"OggOpusDecoderWebWorker");async function Fh(t){if(!window.isSafari||!t.toLowerCase().endsWith(".ogg"))return t;const r=await(await fetch(t)).arrayBuffer(),n=new Uint8Array(r);try{return console.log(" Opus "),await xde(n)}catch(i){console.log("Opus  Vorbis ",i);try{return await yde(n)}catch(a){return console.error("Vorbis ",a),""}}}async function yde(t){const e=new gT;await e.ready;const r=await e.decode(t);return x5(r)}async function xde(t){const e=new _T;await e.ready;const r=await e.decode(t);return x5(r)}function x5(t){const r=new(window.AudioContext||window.webkitAudioContext)().createBuffer(t.channelData.length,t.samplesDecoded,t.sampleRate);for(let a=0;a<t.channelData.length;a++)r.copyToChannel(t.channelData[a],a);const n=new OfflineAudioContext(r.numberOfChannels,r.length,r.sampleRate),i=n.createBufferSource();return i.buffer=r,i.connect(n.destination),i.start(),n.startRendering().then(a=>{const o=bde(a),s=new Blob([o],{type:"audio/wav"});return URL.createObjectURL(s)})}function bde(t){const e=t.numberOfChannels,r=t.length*e*2+44,n=new ArrayBuffer(r),i=new DataView(n),a=[];let o,s=0,c=0;u(1179011410),u(r-8),u(1163280727),u(544501094),u(16),l(1),l(e),u(t.sampleRate),u(t.sampleRate*2*e),l(e*2),l(16),u(1635017060),u(r-c-4);for(let f=0;f<t.numberOfChannels;f++)a.push(t.getChannelData(f));for(;c<r;){for(let f=0;f<e;f++)o=Math.max(-1,Math.min(1,a[f][s])),o=(.5+o<0?o*32768:o*32767)|0,i.setInt16(c,o,!0),c+=2;s++}function l(f){i.setUint16(c,f,!0),c+=2}function u(f){i.setUint32(c,f,!0),c+=4}return n}const wde=t=>{var a;$e.debug("play SE");let e="effect-sound";z.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;At(t,"id")&&(e=`effect-sound-${((a=At(t,"id"))==null?void 0:a.toString())??""}`,z.gameplay.performController.unmountPerform(e,!0),n=!0);let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(async()=>{var d;const s=At(t,"volume");let c=document.createElement("audio");c.src=await Fh(r),n&&(c.loop=!0);const l=le.getState().userData,u=l.optionData.volumeMain,f=typeof s=="number"&&s>=0&&s<=100?s:100,h=u*.01*(((d=l.optionData)==null?void 0:d.seVolume)??100)*.01*f*.01;c.volume=h,c.currentTime=0;const p={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{c.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(p),c==null||c.play(),c.onended=()=>{for(const m of z.gameplay.performController.performList)m.performName===e&&(i=!0,m.stopFunction(),z.gameplay.performController.unmountPerform(m.performName))}},1)})}},yT=()=>Math.random().toString().substring(0,10);class Ede{constructor(){Xe(this,"performList",[]);Xe(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};le.dispatch(gi.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--)}}erasePerformFromState(e){le.dispatch(gi.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){let e=!1;this.performList.forEach(r=>{r.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):an()}}const Sde=t=>{const e=le.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01,a="videoPlay."+yT();let o="",s=!1,c=!1;const l=Date.now();le.dispatch(Bw(!1));const u={current:()=>{console.log("")}};t.args.forEach(d=>{d.key==="choose"&&(o="choose:"+d.value),d.key==="continueBgm"&&(c=d.value===!0),d.key==="loop"&&(s=d.value===!0)});const f=()=>{let d=At(t,"skipOff"),m=!0;return z.gameplay.isFast?(d&&(m=!0),s&&(m=!1),o!==""&&(m=!0,u.current())):(d||s||o!=="")&&(m=!0),m};z.videoManager.showVideo(t.content);let h=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:f,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(d=>{const m=_=>{h=!0,_.stopFunction(),z.gameplay.performController.unmountPerform(_.performName)};setTimeout(()=>{const _=t.content,v=le.getState().saveData.isLoadVideo;z.videoManager.seek(_,.03),z.videoManager.setVolume(_,i),z.videoManager.setLoop(_,s);const g=o?o.slice(7).split("|").map(S=>"game/scene/"+S.split(":")[1]):[];g.length&&rf(g);const y=()=>{if(!v){for(const S of z.gameplay.performController.performList)if(S.performName===a)if(o!==""&&!s){const C=Yv(o,`${l}.txt`,""),T=z.videoManager.getDuration(_);z.videoManager.seek(_,(T||0)-.03),z.videoManager.pauseVideo(_);const I=C.sentenceList[0],A=Iw(I,()=>{m(S)});z.gameplay.performController.arrangeNewPerform(A,I)}else m(S),an()}};u.current=y;const x={performName:a,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:(S=!1)=>{if(!c){const T=document.getElementById("currentBgm");T&&(T.volume=i.toString())}const C=document.getElementById("currentVocal");C&&(C.volume=n.toString()),z.videoManager.destroy(_,S)},blockingNext:f,blockingAuto:()=>!h,stopTimeout:void 0,goNextWhenOver:!0};if(d(x),!c){const C=document.getElementById("currentBgm");C&&(C.volume=0 .toString())}const b=0,w=document.getElementById("currentVocal");w&&(w.volume=b.toString()),z.videoManager.playVideo(_);const E=le.getState().saveData.saveData||[];if(E!=null&&E.length&&E.forEach(S=>{var C,T;(T=(C=S==null?void 0:S.nowStageState)==null?void 0:C.PerformList)==null||T.forEach(I=>{var A;((A=I==null?void 0:I.script)==null?void 0:A.content)===_&&setTimeout(()=>{le.dispatch(Bw(!0))})})}),o&&s){const C=Yv(o,`${l}.txt`,"").sentenceList[0],T=Iw(C,y);z.gameplay.performController.arrangeNewPerform(T,C)}z.videoManager.onEnded(_,()=>{if(s)z.videoManager.seek(_,.03),z.videoManager.playVideo(_);else{const S=le.getState().stage.showValueList;if(S!=null&&S.length){const C=le.getState().stage.showValueName,T=S.filter(I=>I.showValueName!==C);le.dispatch(OJ(T))}y()}})},100)})}},Cde=t=>{var o;le.getState().stage.currentDialogKey;const e=t.content,r=yi(e),n=(((o=At(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var c,l;(c=z.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n);const s=Gv(e,n,r);s&&($e.debug(`${e}${n}`,r),(l=z.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},0),a=()=>{setTimeout(()=>{var s;le.getState().stage.currentDialogKey,(s=z.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},0)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Tde(t,e){const r=z.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,c=z.gameplay.pixiStage.frameDuration,l=e/c*o,u=1/l,f=5/l;s.alpha<1&&(s.alpha+=u),s.blur<5&&(s.blur+=f)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const Ade=[{name:"universalSoftIn",animationGenerateFunc:K8},{name:"universalSoftOff",animationGenerateFunc:Z8},{name:"testblur",animationGenerateFunc:Tde}],Ide=t=>{var s,c,l;le.getState().stage.currentDialogKey;const e=t.content,r=At(t,"duration")??0,n=((s=At(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=Rde(e);let o=()=>{};if(a){$e.debug(`${e}${n}`,r);const u=a(n,r);(c=z.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n),(l=z.gameplay.pixiStage)==null||l.registerAnimation(u,i,n),o=()=>{var f;le.getState().stage.currentDialogKey,(f=z.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Rde(t){const e=Ade.find(r=>r.name===t);return $e.debug("",e),e?e.animationGenerateFunc:null}const Pde=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Ode=t=>{var l;le.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};z.animationManager.addAnimation(i);const a=yi(e),o=((l=At(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let c=()=>{};return setTimeout(()=>{var f,h;(f=z.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(o);const u=Gv(e,o,a);u&&($e.debug(`${e}${o}`,a),(h=z.gameplay.pixiStage)==null||h.registerAnimation(u,s,o))},0),c=()=>{setTimeout(()=>{var u;le.getState().stage.currentDialogKey,(u=z.gameplay.pixiStage)==null||u.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:c,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function kde(t){return t.content==="hide"?le.dispatch(lt({key:"isDisableTextbox",value:!0})):le.dispatch(lt({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const Fde=t=>{var u;le.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=At(t,"duration"),a=((u=At(t,"target"))==null?void 0:u.toString())??"0";try{const f=JSON.parse(r);n=nd(a,f,i)}catch{n=[]}const o={name:e,effects:n};z.animationManager.addAnimation(o);const s=Lde(e),c=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,p;(h=z.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const f=Nde(e,a,s);f&&($e.debug(`${e}${a}`,s),(p=z.gameplay.pixiStage)==null||p.registerAnimation(f,c,a))},0),l=()=>{setTimeout(()=>{var f;le.getState().stage.currentDialogKey,(f=z.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(c)},0)},{performName:c,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Nde(t,e,r){const n=z.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=Ir({...$C,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return $e.debug("",i),I6(i,e,r)}return null}function Lde(t){const e=z.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const Mde=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return At(t,"enter")&&z.animationManager.nextEnterAnimationName.set(e,At(t,"enter").toString()),At(t,"exit")&&z.animationManager.nextExitAnimationName.set(e+"-off",At(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},Bde=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"bgm-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),$e.info(`BGM${r}${e}${n}`),le.dispatch(e8({name:r,url:e,series:n}));const i=le.getState().userData;return Ja.setItem(z.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Dde=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"cg-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),$e.info(`CG${r}${e}${n}`),le.dispatch(QD({name:r,url:e,series:n}));const i=le.getState().userData;return Ja.setItem(z.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Ude={saveData:[],quickSaveData:null,unlockStorylineList:[],saveVideoData:null,unlockAchieveData:[],isShowUnlock:!1,unlockAchieveAllTotal:0,unlockAchieveListAll:[],isLoadVideo:!1,isUnlockStoryline:!1,allUnlockAchieveList:[],allStorylineData:[]},b5=Mm({name:"saveData",initialState:Ir(Ude),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload},setStorylineListFromStorage:(t,e)=>{t.unlockStorylineList=e.payload},addStorylineList:(t,e)=>{t.unlockStorylineList.push(e.payload)},replaceStorylineList:(t,e)=>{t.unlockStorylineList[e.payload.index]={...t.unlockStorylineList[e.payload.index],storyLine:e.payload.data.storyLine}},setSaveVideoData:(t,e)=>{t.saveVideoData=e.payload},setUnlockAchieveData:(t,e)=>{t.unlockAchieveData=[...e.payload]},resetStorylineList:t=>{t.unlockStorylineList=[]},resetUnlockAchieveData:t=>{t.unlockAchieveData=[]},addUnlockAchieveData:(t,e)=>{const r=[...t.unlockAchieveData,e.payload];t.unlockAchieveData=r},replaceUnlockAchieveData:(t,e)=>{t.unlockAchieveData[e.payload.index]=e.payload.data},setIsShowUnlock:(t,e)=>{t.isShowUnlock=e.payload},setShowStoryline:(t,e)=>{t.isUnlockStoryline=e.payload},setUnlockAchieveAllTotal:(t,e)=>{t.unlockAchieveAllTotal=e.payload},setUnlockAchieveAll:(t,e)=>{t.unlockAchieveListAll=e.payload},setLoadVideo:(t,e)=>{t.isLoadVideo=e.payload},saveAllUnlockAchieveList:(t,e)=>{t.allUnlockAchieveList=e.payload},saveAllStorylineData:(t,e)=>{t.allStorylineData=e.payload}}}),nr=b5.actions,jde=b5.reducer,xT=(t,e=!0,r=!0)=>{t&&z.backlogManager.makeBacklogEmpty(),r&&z.videoManager.destroyAll(!0),e&&z.sceneManager.resetScene(),z.gameplay.performController.removeAllPerform(),z.gameplay.resetGamePlay();const n=Ir(LD),i=le.getState().stage.GameVar;le.dispatch(Hm(n)),e||le.dispatch(lt({key:"GameVar",value:i})),le.dispatch(nr.setLoadVideo(!1))},$de=t=>{xT(!0);const e=le.dispatch,r=zr("start.txt",Xr.scene);return setTimeout(()=>{z.sceneManager.resetScene()},5),e(nr.resetFastSave()),L5(),Ni(r).then(n=>{z.sceneManager.setCurrentScene(n,"start.txt",r)}),e(at({component:"showTitle",visibility:!0})),CT(le.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Vde=t=>(P6(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Gde=t=>(z.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){$e.warn("pixi ",e.performName);for(let r=0;r<z.gameplay.performController.performList.length;r++){const n=z.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),z.gameplay.performController.performList.splice(r,1),r--)}le.dispatch(gi.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Kt={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},Hde=t=>(Kt.maxAudioLevel=Math.max(t,Kt.maxAudioLevel),{OPEN_THRESHOLD:Kt.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:Kt.maxAudioLevel*.5}),Xde=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=z.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),Kt.blinkTimerID=setTimeout(()=>{var a;(a=z.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;Kt.blinkTimerID=setTimeout(r,i)},200))}r()},zde=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},P3=t=>{var h,p;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:c}=t;let l;e>r?l=1:e>n?l=.5:l=0;const u=i+(l-i)*a;(h=z.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let f;u>.75?f="open":u>.25?f="half_open":f="closed",s!==void 0&&((p=z.gameplay.pixiStage)==null||p.performMouthSyncAnimation(o,s,f,c))};class Wde{constructor(e){Xe(this,"subject");Xe(this,"result");Xe(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function Hg(t){return new Wde(t)}const Yde=t=>{$e.debug("play vocal");const e="vocal-play",r=At(t,"vocal"),n=At(t,"volume");let i;i=le.getState().stage;let a="",o="";const s=i.freeFigure,c=i.figureAssociatedAnimation;let l=0,u=0;const f=1;let h=document.getElementById("currentVocal");z.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const d of t.args)d.value===!0&&Hg(d.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),d.key==="figureId"&&(o=`${d.value.toString()}`);le.dispatch(lt({key:"playVocal",value:r})),le.dispatch(lt({key:"vocal",value:r}));let p=!1;return{arrangePerformPromise:new Promise(d=>{setTimeout(()=>{let m=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?le.dispatch(lt({key:"vocalVolume",value:n})):le.dispatch(lt({key:"vocalVolume",value:100})),m!==null){m.currentTime=0;const _={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(Kt.audioLevelInterval),m.pause(),o=o||`fig-${a}`;const g=c.find(y=>y.targetId===o);P3({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:g,pos:a}),clearTimeout(Kt.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!p,skipNextCollect:!0,stopTimeout:void 0};z.gameplay.performController.arrangeNewPerform(_,t,!1),o=o||`fig-${a}`;const v=c.find(g=>g.targetId===o);if(v){const g=s.find(b=>b.key===o);if(g&&(a=g.basePosition),!Kt.audioContext){let b;b=new AudioContext,Kt.analyser=b.createAnalyser(),Kt.analyser.fftSize=256,Kt.dataArray=new Uint8Array(Kt.analyser.frequencyBinCount)}Kt.analyser||(Kt.analyser=Kt.audioContext.createAnalyser(),Kt.analyser.fftSize=256),l=Kt.analyser.frequencyBinCount,Kt.dataArray=new Uint8Array(l);let y=document.getElementById("currentVocal");Kt.source||(Kt.source=Kt.audioContext.createMediaElementSource(y),Kt.source.connect(Kt.analyser)),Kt.analyser.connect(Kt.audioContext.destination),Kt.audioLevelInterval=setInterval(()=>{const b=zde(Kt.analyser,Kt.dataArray,l),{OPEN_THRESHOLD:w,HALF_OPEN_THRESHOLD:E}=Hde(b);P3({audioLevel:b,OPEN_THRESHOLD:w,HALF_OPEN_THRESHOLD:E,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:v,pos:a})},50);let x;x=Date.now()+1e4,Xde({key:o,animationItem:v,pos:a,animationEndTime:x}),setTimeout(()=>{clearTimeout(Kt.blinkTimerID)},1e4)}m.onloadeddata=()=>{m==null||m.play()},m.onended=()=>{for(const g of z.gameplay.performController.performList)g.performName===e&&(p=!0,g.stopFunction(),z.gameplay.performController.unmountPerform(g.performName))}}},1)})}};function w5(t){return t===0?3:t===100?80:77*Number(t)/100}function qde(t){return t===0?800:t===100?200:800-600*Number(t)/100}function Kde(t,e){for(let r=t;r<=e;r++){const n=le.getState().saveData.saveData[r];n&&Ja.setItem(`${z.gameKey}-saves${r}`,n).then(()=>{$e.info(`${r}`)})}}async function bT(t,e){for(let r=t;r<=e;r++){const n=await Ja.getItem(`${z.gameKey}-saves${r}`);le.dispatch(nr.saveGame({index:r,saveData:n})),$e.info(`${r}`)}}async function Zde(){const t=le.getState().saveData.quickSaveData;await Ja.setItem(`${z.gameKey}-saves-fast`,t),$e.info("")}async function E5(){const t=await Ja.getItem(`${z.gameKey}-saves-fast`);le.dispatch(nr.setFastSave(t)),$e.info("")}async function S5(){const t=le.getState().saveData.unlockStorylineList;await Ja.setItem(`${z.gameKey}-storyline`,{data:t}),$e.info(" >> ")}async function wT(){const t=await Ja.getItem(`${z.gameKey}-storyline`);le.dispatch(nr.setStorylineListFromStorage((t==null?void 0:t.data)??[])),$e.info(" >> ")}async function Nw(){const t=le.getState().saveData.unlockAchieveData;await Ja.setItem(`${z.gameKey}-unlock-achieve`,{data:t}),$e.info(" >>> ")}async function Jde(){const t=await Ja.getItem(`${z.gameKey}-unlock-achieve`);le.dispatch(nr.setUnlockAchieveData((t==null?void 0:t.data)||[])),$e.info(" >>> ")}const O3=async(t,e)=>{const r=await C5(t,!0,e);le.dispatch(nr.saveGame({index:t,saveData:r})),Kde(t,t)};async function C5(t,e=!0,r){const n=le.getState().stage,i=Ir(z.backlogManager.getBacklog());let a="";if(e){const c=document.getElementById("pixiCanvas"),l=document.createElement("canvas"),u=l.getContext("2d");l.width=480,l.height=270,u.drawImage(c,0,0,480,270),a=l.toDataURL("image/webp",.5),l.remove()}if(e&&!r){const c=z.videoManager.videosByKey[z.videoManager.currentPlayingVideo];c!=null&&c.player&&(a=c.poster)}const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1});return{nowStageState:Ir(n),backlog:i,index:t,saveName:r||o,saveTime:o,sceneData:{currentSentenceId:z.sceneManager.sceneData.currentSentenceId,sceneStack:Ir(z.sceneManager.sceneData.sceneStack),sceneName:z.sceneManager.sceneData.currentScene.sceneName,sceneUrl:z.sceneManager.sceneData.currentScene.sceneUrl},previewImage:a}}function Qde(){const t=le.getState().stage,e=Ir(z.backlogManager.getBacklog()),r=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),n={nowStageState:Ir(t),backlog:e,saveTime:r,saveName:"",index:-1,previewImage:"",sceneData:{currentSentenceId:z.sceneManager.sceneData.currentSentenceId,sceneStack:Ir(z.sceneManager.sceneData.sceneStack),sceneName:z.sceneManager.sceneData.currentScene.sceneName,sceneUrl:z.sceneManager.sceneData.currentScene.sceneUrl}};return le.dispatch(nr.setSaveVideoData(n)),n}const e0e=t=>{const e=le.getState().stage,r=le.getState().userData,n=le.dispatch;let i=Math.random().toString(),a=t.content;const o=At(t,"concat"),s=At(t,"notend"),c=At(t,"speaker"),l=At(t,"clear"),u=At(t,"vocal"),f=At(t,"mode");o?(i=e.currentDialogKey,a=e.showText+a,n(lt({key:"currentConcatDialogPrev",value:e.showText}))):n(lt({key:"currentConcatDialogPrev",value:""})),n(lt({key:"showText",value:a})),n(lt({key:"vocal",value:""})),n(lt({key:"dialogueMode",value:f})),r.optionData.voiceInterruption===bC.no&&u===null||(n(lt({key:"playVocal",value:""})),z.gameplay.performController.unmountPerform("vocal-play",!0)),n(lt({key:"currentDialogKey",value:i}));const p=w5(r.optionData.textSpeed)*t.content.length;for(const v of t.args)if(v.key==="fontSize")switch(v.value){case"default":n(lt({key:"showTextSize",value:-1}));break;case"small":n(lt({key:"showTextSize",value:ls.small}));break;case"medium":n(lt({key:"showTextSize",value:ls.medium}));break;case"large":n(lt({key:"showTextSize",value:ls.large}));break}let d=e.showName;c!==null&&(d=c),f==="player"&&(d=""),f==="narrator"&&(d=""),l&&(d=""),n(lt({key:"showName",value:d})),u&&Yde(t);const m=yT();let _=750-r.optionData.textSpeed/100*2*250;return s&&(_=0),Qde(),{performName:m,duration:p+_,isHoldOn:!1,stopFunction:()=>{z.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}},t0e=t=>{const e=le.getState().stage,r=le.getState().userData,n=le.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(lt({key:"showText",value:JSON.stringify(i)})),n(lt({key:"showName",value:""})),$e.debug("",i),setTimeout(()=>{z.events.textSettle.emit()},0);const a=yT(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{z.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Gt(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const T5={};function r0e(t){const e={};for(const[r,n]of Object.entries(t))e[r]=T5[n.scriptType]={scriptString:r,...n};return e}const ju=t=>(typeof t=="string"?Number(t):t)/.5,n0e=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];le.dispatch(gi.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},i0e=t=>(console.log(" >>>>>>>> start : ",{sentence:t}),(async()=>{var s,c;await wT(),t!=null&&t.content;const r={};if(t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break;case"hideName":r.isHideName=l.value.toString()==="true";break}}),!r.name)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=le.getState().saveData,i=(s=n.unlockStorylineList)==null?void 0:s.findIndex(l=>l.storyLine.name===r.name);let a;i!==-1&&(a=n.unlockStorylineList[i]);const o={name:r.name||"",thumbnailUrl:r.thumbnailUrl||"",x:r.x||0,y:r.y||0,isHideName:r.isHideName||!1,isUnlock:((c=a==null?void 0:a.storyLine)==null?void 0:c.isUnlock)||n.isUnlockStoryline||!1};i===-1?le.dispatch(nr.addStorylineList({storyLine:o,videoData:le.getState().saveData.saveVideoData})):le.dispatch(nr.replaceStorylineList({index:i,data:{storyLine:o,videoData:le.getState().saveData.saveVideoData}})),S5()})(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),a0e=t=>{var l;console.log(" >>>>>>>> start : ",{sentence:t});let e=(t==null?void 0:t.content)||"";const r={};if(r.url=e,t.args.forEach(u=>{var f,h;switch(u.key){case"unlockname":r.unlockname=((f=u.value)==null?void 0:f.toString())??"";break;case"x":r.x=u.value&&Number(u.value)||0;break;case"y":r.y=u.value&&Number(u.value)||0;break;case"condition":r.condition=((h=u.value)==null?void 0:h.toString())??"";break}}),!r.unlockname||!r.url)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=le.getState().saveData;if(!n.isShowUnlock)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const i=(l=n.unlockAchieveData)==null?void 0:l.findIndex(u=>u.unlockname===r.unlockname&&u.url===r.url);let a;i!==-1&&(a=n.unlockAchieveData[i]);const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),s={unlockname:r.unlockname||"",url:r.url||"",x:r.x||0,y:r.y||0,condition:r.condition||"",saveTime:o,isShowUnlock:(a==null?void 0:a.isShowUnlock)||n.isShowUnlock||!1},c=n.allUnlockAchieveList.map(u=>(u.unlockname===r.unlockname&&r.url&&r.url.includes(u.url)&&(u=s),u));return le.dispatch(nr.saveAllUnlockAchieveList(c)),i===-1?le.dispatch(nr.addUnlockAchieveData(s)):le.dispatch(nr.replaceUnlockAchieveData({index:i,data:s})),Nw(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function o0e(t){const e={isShowValueSWitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0};return t!=null&&t.content&&(le.dispatch(lt({key:"showValueName",value:t.content})),e.showValueName=t.content),t.args.forEach(r=>{r.key==="switchValue"?(le.dispatch(lt({key:"isShowValueSWitch",value:r.value})),e.isShowValueSWitch=!!r.value):r.key==="x"?(le.dispatch(lt({key:"showValueAxisX",value:Number(r.value)})),e.showValueAxisX=Number(r.value)):r.key==="y"&&(le.dispatch(lt({key:"showValueAxisY",value:Number(r.value)})),e.showValueAxisY=Number(r.value))}),le.dispatch(PJ(e)),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const A5=r0e({intro:Gt(gt.intro,dhe),changeBg:Gt(gt.changeBg,Uce),changeFigure:Gt(gt.changeFigure,jce),miniAvatar:Gt(gt.miniAvatar,vhe,{next:!0}),changeScene:Gt(gt.changeScene,$ce),choose:Gt(gt.choose,Iw),end:Gt(gt.end,$de),bgm:Gt(gt.bgm,kne,{next:!0}),playVideo:Gt(gt.video,Sde),setComplexAnimation:Gt(gt.setComplexAnimation,Ide),setFilter:Gt(gt.setFilter,Pde),pixiInit:Gt(gt.pixiInit,Gde,{next:!0}),pixiPerform:Gt(gt.pixi,bhe,{next:!0}),label:Gt(gt.label,phe,{next:!0}),jumpLabel:Gt(gt.jumpLabel,Vde),setVar:Gt(gt.setVar,Nae,{next:!0}),showVars:Gt(gt.showVars,t0e),unlockCg:Gt(gt.unlockCg,Dde,{next:!0}),unlockBgm:Gt(gt.unlockBgm,Bde,{next:!0}),say:Gt(gt.say,e0e),filmMode:Gt(gt.filmMode,zfe,{next:!0}),callScene:Gt(gt.callScene,Ioe),setTextbox:Gt(gt.setTextbox,kde),setAnimation:Gt(gt.setAnimation,Cde),playEffect:Gt(gt.playEffect,wde,{next:!0}),setTempAnimation:Gt(gt.setTempAnimation,Ode),__commment:Gt(gt.comment,Xfe,{next:!0}),setTransform:Gt(gt.setTransform,Fde),setTransition:Gt(gt.setTransition,Mde,{next:!0}),getUserInput:Gt(gt.getUserInput,Qfe),applyStyle:Gt(gt.applyStyle,n0e,{next:!0}),unlockAchieve:Gt(gt.unlockAchieve,a0e,{next:!0}),unlockStoryline:Gt(gt.unlockStoryline,i0e,{next:!0}),showValue:Gt(gt.showValue,o0e,{next:!0})}),I5=Object.values(A5),s0e=I5.filter(t=>t.next).map(t=>t.scriptType),Xg=new One(VQ,zr,s0e,I5),Yv=(t,e,r)=>{const n=Xg.parse(t,e,r);return $e.info(`${e}`,n),n};var fs=(t=>(t.Start="start.txt",t.Achieve="achieve.txt",t.Storyline="storyline.txt",t))(fs||{});const k3={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class l0e{constructor(){Xe(this,"settledScenes",[]);Xe(this,"settledAssets",[]);Xe(this,"sceneData",Ir(k3));Xe(this,"sceneAssetsList",{});Xe(this,"sceneAssetsLoadedList",{})}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=Ir(k3.currentScene)}setCurrentScene(e,r,n,i=!1){return new Promise(a=>{var u;let o={current:null},s=null;i&&!this.sceneAssetsLoadedList[r]&&(s=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},1e3));const c=window.pubsub.subscribe("sceneAssetsLoaded",({sceneName:f})=>{setTimeout(()=>{var h,p;if(r===f){o.current&&(this.sceneData.currentScene=o.current);const d=((p=(h=this.sceneData)==null?void 0:h.currentScene)==null?void 0:p.sentenceList)??[];r==="storyline.txt"&&this.getAllStorylineList(d),r==="achieve.txt"&&this.getAllUnlockAchieveList(d),i&&window.pubsub.publish("loading",{loading:!1}),s&&clearTimeout(s),a(o),o.current=null,c()}},16)}),l=((u=o.current)==null?void 0:u.sentenceList)||[];if(l.length&&r==="start.txt"){const f=l.findIndex(p=>p.command===gt.unlockAchieve),h=this.compareFilenames(r,n);f===-1&&h&&(le.dispatch(nr.resetUnlockAchieveData()),Nw())}o.current=Yv(e,r,n)})}async getAllStorylineList(e){await wT();const r=new Map,n=new Map;le.getState().saveData.unlockStorylineList.forEach(o=>{const{name:s,isUnlock:c=!1}=o.storyLine||{};r.set(s,s),n.set(s,o.videoData)});const i=e.filter(o=>o.command===gt.unlockStoryline).map(o=>{const s={thumbnailUrl:(o==null?void 0:o.content)??"",name:"",x:0,y:0,isUnlock:!1,isHideName:!1},c={storyLine:{},videoData:null};return o.args.forEach(l=>{l.key==="name"?s.name=l.value.toString():l.key==="x"?s.x=Number(l.value):l.key==="y"?s.y=Number(l.value):l.key==="hideName"&&(s.isHideName=l.value.toString()==="true")}),r.get(s.name)&&n.get(s.name)?(s.isUnlock=!0,c.videoData=n.get(s.name)):s.isUnlock=!1,c.storyLine=s,c});le.dispatch(nr.saveAllStorylineData(i));const a=i.filter(o=>o.storyLine.isUnlock);le.dispatch(nr.setStorylineListFromStorage(a)),await S5()}async getAllUnlockAchieveList(e){await Jde();const r=new Map,n=new Map;le.getState().saveData.unlockAchieveData.forEach(o=>{o.isShowUnlock&&(r.set(o.unlockname,o.isShowUnlock),n.set(o.unlockname,(o==null?void 0:o.saveTime)??""))});const i=e.filter(o=>o.command===gt.unlockAchieve).map(o=>{const s={url:(o==null?void 0:o.content)??"",unlockname:"",condition:"",saveTime:"",x:0,y:0,isShowUnlock:!1};return o.args.forEach(c=>{c.key==="unlockname"?s.unlockname=c.value.toString():c.key==="x"?s.x=Number(c.value):c.key==="y"?s.y=Number(c.value):c.key==="condition"&&(s.condition=c.value.toString())}),r!=null&&r.get(s==null?void 0:s.unlockname)&&(s.isShowUnlock=!0,s.saveTime=n==null?void 0:n.get(s==null?void 0:s.unlockname)),s});le.dispatch(nr.saveAllUnlockAchieveList(i));const a=i.filter(o=>o==null?void 0:o.isShowUnlock);le.dispatch(nr.setUnlockAchieveData(a)),await Nw()}compareFilenames(e,r){const n=e.match(/\/?([^/]+)\.\w+$/),i=r.match(/\/?([^/]+)\.\w+$/);return n&&i?n[1]===i[1]:!1}}class u0e{constructor(){Xe(this,"nextEnterAnimationName",new Map);Xe(this,"nextExitAnimationName",new Map);Xe(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}class c0e{constructor(){Xe(this,"isAuto",!1);Xe(this,"isFast",!1);Xe(this,"isSyncingWithOrigine",!1);Xe(this,"autoInterval",null);Xe(this,"fastInterval",null);Xe(this,"autoTimeout",null);Xe(this,"pixiStage",null);Xe(this,"performController",new Ede)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function f0e(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class h0e{constructor(){Xe(this,"textSettle",G0("text-settle"));Xe(this,"userInteractNext",G0("__NEXT"));Xe(this,"fullscreenDbClick",G0("fullscreen-dbclick"));Xe(this,"styleUpdate",G0("style-update"))}}const yx=f0e();function G0(t){return{on:(e,r)=>{yx.on(`${t}-${r??""}`,e)},emit:(e,r)=>{yx.emit(`${t}-${r??""}`,e)},off:(e,r)=>{yx.off(`${t}-${r??""}`,e)}}}var R5={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(o,s,c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,u){o.exports=u()})(this,function(){function l(xe){var M=typeof xe;return xe!==null&&(M==="object"||M==="function")}function u(xe){return typeof xe=="function"}var f=void 0;Array.isArray?f=Array.isArray:f=function(xe){return Object.prototype.toString.call(xe)==="[object Array]"};var h=f,p=0,d=void 0,m=void 0,_=function(M,ne){R[p]=M,R[p+1]=ne,p+=2,p===2&&(m?m(O):N())};function v(xe){m=xe}function g(xe){_=xe}var y=typeof window<"u"?window:void 0,x=y||{},b=x.MutationObserver||x.WebKitMutationObserver,w=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",E=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){return function(){return process.nextTick(O)}}function C(){return typeof d<"u"?function(){d(O)}:A()}function T(){var xe=0,M=new b(O),ne=document.createTextNode("");return M.observe(ne,{characterData:!0}),function(){ne.data=xe=++xe%2}}function I(){var xe=new MessageChannel;return xe.port1.onmessage=O,function(){return xe.port2.postMessage(0)}}function A(){var xe=setTimeout;return function(){return xe(O,1)}}var R=new Array(1e3);function O(){for(var xe=0;xe<p;xe+=2){var M=R[xe],ne=R[xe+1];M(ne),R[xe]=void 0,R[xe+1]=void 0}p=0}function F(){try{var xe=Function("return this")().require("vertx");return d=xe.runOnLoop||xe.runOnContext,C()}catch{return A()}}var N=void 0;w?N=S():b?N=T():E?N=I():y===void 0?N=F():N=A();function $(xe,M){var ne=this,de=new this.constructor(G);de[K]===void 0&&vt(de);var be=ne._state;if(be){var Z=arguments[be-1];_(function(){return Te(be,de,Z,ne._result)})}else Ae(ne,de,xe,M);return de}function q(xe){var M=this;if(xe&&typeof xe=="object"&&xe.constructor===M)return xe;var ne=new M(G);return Ee(ne,xe),ne}var K=Math.random().toString(36).substring(2);function G(){}var L=void 0,j=1,B=2;function D(){return new TypeError("You cannot resolve a promise with itself")}function J(){return new TypeError("A promises callback cannot return that same promise.")}function Q(xe,M,ne,de){try{xe.call(M,ne,de)}catch(be){return be}}function se(xe,M,ne){_(function(de){var be=!1,Z=Q(ne,M,function(me){be||(be=!0,M!==me?Ee(de,me):pe(de,me))},function(me){be||(be=!0,ve(de,me))},"Settle: "+(de._label||" unknown promise"));!be&&Z&&(be=!0,ve(de,Z))},xe)}function re(xe,M){M._state===j?pe(xe,M._result):M._state===B?ve(xe,M._result):Ae(M,void 0,function(ne){return Ee(xe,ne)},function(ne){return ve(xe,ne)})}function ce(xe,M,ne){M.constructor===xe.constructor&&ne===$&&M.constructor.resolve===q?re(xe,M):ne===void 0?pe(xe,M):u(ne)?se(xe,M,ne):pe(xe,M)}function Ee(xe,M){if(xe===M)ve(xe,D());else if(l(M)){var ne=void 0;try{ne=M.then}catch(de){ve(xe,de);return}ce(xe,M,ne)}else pe(xe,M)}function we(xe){xe._onerror&&xe._onerror(xe._result),ke(xe)}function pe(xe,M){xe._state===L&&(xe._result=M,xe._state=j,xe._subscribers.length!==0&&_(ke,xe))}function ve(xe,M){xe._state===L&&(xe._state=B,xe._result=M,_(we,xe))}function Ae(xe,M,ne,de){var be=xe._subscribers,Z=be.length;xe._onerror=null,be[Z]=M,be[Z+j]=ne,be[Z+B]=de,Z===0&&xe._state&&_(ke,xe)}function ke(xe){var M=xe._subscribers,ne=xe._state;if(M.length!==0){for(var de=void 0,be=void 0,Z=xe._result,me=0;me<M.length;me+=3)de=M[me],be=M[me+ne],de?Te(ne,de,be,Z):be(Z);xe._subscribers.length=0}}function Te(xe,M,ne,de){var be=u(ne),Z=void 0,me=void 0,U=!0;if(be){try{Z=ne(de)}catch(Se){U=!1,me=Se}if(M===Z){ve(M,J());return}}else Z=de;M._state!==L||(be&&U?Ee(M,Z):U===!1?ve(M,me):xe===j?pe(M,Z):xe===B&&ve(M,Z))}function Fe(xe,M){try{M(function(de){Ee(xe,de)},function(de){ve(xe,de)})}catch(ne){ve(xe,ne)}}var Ne=0;function Je(){return Ne++}function vt(xe){xe[K]=Ne++,xe._state=void 0,xe._result=void 0,xe._subscribers=[]}function Qe(){return new Error("Array Methods must be provided an Array")}var Ke=function(){function xe(M,ne){this._instanceConstructor=M,this.promise=new M(G),this.promise[K]||vt(this.promise),h(ne)?(this.length=ne.length,this._remaining=ne.length,this._result=new Array(this.length),this.length===0?pe(this.promise,this._result):(this.length=this.length||0,this._enumerate(ne),this._remaining===0&&pe(this.promise,this._result))):ve(this.promise,Qe())}return xe.prototype._enumerate=function(ne){for(var de=0;this._state===L&&de<ne.length;de++)this._eachEntry(ne[de],de)},xe.prototype._eachEntry=function(ne,de){var be=this._instanceConstructor,Z=be.resolve;if(Z===q){var me=void 0,U=void 0,Se=!1;try{me=ne.then}catch(P){Se=!0,U=P}if(me===$&&ne._state!==L)this._settledAt(ne._state,de,ne._result);else if(typeof me!="function")this._remaining--,this._result[de]=ne;else if(be===nt){var We=new be(G);Se?ve(We,U):ce(We,ne,me),this._willSettleAt(We,de)}else this._willSettleAt(new be(function(P){return P(ne)}),de)}else this._willSettleAt(Z(ne),de)},xe.prototype._settledAt=function(ne,de,be){var Z=this.promise;Z._state===L&&(this._remaining--,ne===B?ve(Z,be):this._result[de]=be),this._remaining===0&&pe(Z,this._result)},xe.prototype._willSettleAt=function(ne,de){var be=this;Ae(ne,void 0,function(Z){return be._settledAt(j,de,Z)},function(Z){return be._settledAt(B,de,Z)})},xe}();function ut(xe){return new Ke(this,xe).promise}function Lt(xe){var M=this;return h(xe)?new M(function(ne,de){for(var be=xe.length,Z=0;Z<be;Z++)M.resolve(xe[Z]).then(ne,de)}):new M(function(ne,de){return de(new TypeError("You must pass an array to race."))})}function $t(xe){var M=this,ne=new M(G);return ve(ne,xe),ne}function Mt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Bt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var nt=function(){function xe(M){this[K]=Je(),this._result=this._state=void 0,this._subscribers=[],G!==M&&(typeof M!="function"&&Mt(),this instanceof xe?Fe(this,M):Bt())}return xe.prototype.catch=function(ne){return this.then(null,ne)},xe.prototype.finally=function(ne){var de=this,be=de.constructor;return u(ne)?de.then(function(Z){return be.resolve(ne()).then(function(){return Z})},function(Z){return be.resolve(ne()).then(function(){throw Z})}):de.then(ne,ne)},xe}();nt.prototype.then=$,nt.all=ut,nt.race=Lt,nt.resolve=q,nt.reject=$t,nt._setScheduler=v,nt._setAsap=g,nt._asap=_;function Vt(){var xe=void 0;if(typeof c.g<"u")xe=c.g;else if(typeof self<"u")xe=self;else try{xe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var M=xe.Promise;if(M){var ne=null;try{ne=Object.prototype.toString.call(M.resolve())}catch{}if(ne==="[object Promise]"&&!M.cast)return}xe.Promise=nt}return nt.polyfill=Vt,nt.Promise=nt,nt})},"./node_modules/events/events.js":function(o){var s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(A,R,O){return Function.prototype.apply.call(A,R,O)},l;s&&typeof s.ownKeys=="function"?l=s.ownKeys:Object.getOwnPropertySymbols?l=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:l=function(A){return Object.getOwnPropertyNames(A)};function u(I){console&&console.warn&&console.warn(I)}var f=Number.isNaN||function(A){return A!==A};function h(){h.init.call(this)}o.exports=h,o.exports.once=S,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var p=10;function d(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(I){if(typeof I!="number"||I<0||f(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");p=I}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||f(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function m(I){return I._maxListeners===void 0?h.defaultMaxListeners:I._maxListeners}h.prototype.getMaxListeners=function(){return m(this)},h.prototype.emit=function(A){for(var R=[],O=1;O<arguments.length;O++)R.push(arguments[O]);var F=A==="error",N=this._events;if(N!==void 0)F=F&&N.error===void 0;else if(!F)return!1;if(F){var $;if(R.length>0&&($=R[0]),$ instanceof Error)throw $;var q=new Error("Unhandled error."+($?" ("+$.message+")":""));throw q.context=$,q}var K=N[A];if(K===void 0)return!1;if(typeof K=="function")c(K,this,R);else for(var G=K.length,L=b(K,G),O=0;O<G;++O)c(L[O],this,R);return!0};function _(I,A,R,O){var F,N,$;if(d(R),N=I._events,N===void 0?(N=I._events=Object.create(null),I._eventsCount=0):(N.newListener!==void 0&&(I.emit("newListener",A,R.listener?R.listener:R),N=I._events),$=N[A]),$===void 0)$=N[A]=R,++I._eventsCount;else if(typeof $=="function"?$=N[A]=O?[R,$]:[$,R]:O?$.unshift(R):$.push(R),F=m(I),F>0&&$.length>F&&!$.warned){$.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=I,q.type=A,q.count=$.length,u(q)}return I}h.prototype.addListener=function(A,R){return _(this,A,R,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(A,R){return _(this,A,R,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(I,A,R){var O={fired:!1,wrapFn:void 0,target:I,type:A,listener:R},F=v.bind(O);return F.listener=R,O.wrapFn=F,F}h.prototype.once=function(A,R){return d(R),this.on(A,g(this,A,R)),this},h.prototype.prependOnceListener=function(A,R){return d(R),this.prependListener(A,g(this,A,R)),this},h.prototype.removeListener=function(A,R){var O,F,N,$,q;if(d(R),F=this._events,F===void 0)return this;if(O=F[A],O===void 0)return this;if(O===R||O.listener===R)--this._eventsCount===0?this._events=Object.create(null):(delete F[A],F.removeListener&&this.emit("removeListener",A,O.listener||R));else if(typeof O!="function"){for(N=-1,$=O.length-1;$>=0;$--)if(O[$]===R||O[$].listener===R){q=O[$].listener,N=$;break}if(N<0)return this;N===0?O.shift():w(O,N),O.length===1&&(F[A]=O[0]),F.removeListener!==void 0&&this.emit("removeListener",A,q||R)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(A){var R,O,F;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[A]),this;if(arguments.length===0){var N=Object.keys(O),$;for(F=0;F<N.length;++F)$=N[F],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(R=O[A],typeof R=="function")this.removeListener(A,R);else if(R!==void 0)for(F=R.length-1;F>=0;F--)this.removeListener(A,R[F]);return this};function y(I,A,R){var O=I._events;if(O===void 0)return[];var F=O[A];return F===void 0?[]:typeof F=="function"?R?[F.listener||F]:[F]:R?E(F):b(F,F.length)}h.prototype.listeners=function(A){return y(this,A,!0)},h.prototype.rawListeners=function(A){return y(this,A,!1)},h.listenerCount=function(I,A){return typeof I.listenerCount=="function"?I.listenerCount(A):x.call(I,A)},h.prototype.listenerCount=x;function x(I){var A=this._events;if(A!==void 0){var R=A[I];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function b(I,A){for(var R=new Array(A),O=0;O<A;++O)R[O]=I[O];return R}function w(I,A){for(;A+1<I.length;A++)I[A]=I[A+1];I.pop()}function E(I){for(var A=new Array(I.length),R=0;R<A.length;++R)A[R]=I[R].listener||I[R];return A}function S(I,A){return new Promise(function(R,O){function F($){I.removeListener(A,N),O($)}function N(){typeof I.removeListener=="function"&&I.removeListener("error",F),R([].slice.call(arguments))}T(I,A,N,{once:!0}),A!=="error"&&C(I,F,{once:!0})})}function C(I,A,R){typeof I.on=="function"&&T(I,"error",A,R)}function T(I,A,R,O){if(typeof I.on=="function")O.once?I.once(A,R):I.on(A,R);else if(typeof I.addEventListener=="function")I.addEventListener(A,function F(N){O.once&&I.removeEventListener(A,F),R(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}},"./node_modules/webworkify-webpack/index.js":function(o,s,c){function l(v){var g={};function y(b){if(g[b])return g[b].exports;var w=g[b]={i:b,l:!1,exports:{}};return v[b].call(w.exports,w,w.exports,y),w.l=!0,w.exports}y.m=v,y.c=g,y.i=function(b){return b},y.d=function(b,w,E){y.o(b,w)||Object.defineProperty(b,w,{configurable:!1,enumerable:!0,get:E})},y.r=function(b){Object.defineProperty(b,"__esModule",{value:!0})},y.n=function(b){var w=b&&b.__esModule?function(){return b.default}:function(){return b};return y.d(w,"a",w),w},y.o=function(b,w){return Object.prototype.hasOwnProperty.call(b,w)},y.p="/",y.oe=function(b){throw console.error(b),b};var x=y(y.s=ENTRY_MODULE);return x.default||x}var u="[\\.|\\-|\\+|\\w|/|@]+",f="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function h(v){return(v+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(v){return!isNaN(1*v)}function d(v,g,y){var x={};x[y]=[];var b=g.toString(),w=b.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!w)return x;for(var E=w[1],S=new RegExp("(\\\\n|\\W)"+h(E)+f,"g"),C;C=S.exec(b);)C[3]!=="dll-reference"&&x[y].push(C[3]);for(S=new RegExp("\\("+h(E)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+f,"g");C=S.exec(b);)v[C[2]]||(x[y].push(C[1]),v[C[2]]=c(C[1]).m),x[C[2]]=x[C[2]]||[],x[C[2]].push(C[4]);for(var T=Object.keys(x),I=0;I<T.length;I++)for(var A=0;A<x[T[I]].length;A++)p(x[T[I]][A])&&(x[T[I]][A]=1*x[T[I]][A]);return x}function m(v){var g=Object.keys(v);return g.reduce(function(y,x){return y||v[x].length>0},!1)}function _(v,g){for(var y={main:[g]},x={main:[]},b={main:{}};m(y);)for(var w=Object.keys(y),E=0;E<w.length;E++){var S=w[E],C=y[S],T=C.pop();if(b[S]=b[S]||{},!(b[S][T]||!v[S][T])){b[S][T]=!0,x[S]=x[S]||[],x[S].push(T);for(var I=d(v,v[S][T],S),A=Object.keys(I),R=0;R<A.length;R++)y[A[R]]=y[A[R]]||[],y[A[R]]=y[A[R]].concat(I[A[R]])}}return x}o.exports=function(v,g){g=g||{};var y={main:c.m},x=g.all?{main:Object.keys(y.main)}:_(y,v),b="";Object.keys(x).filter(function(T){return T!=="main"}).forEach(function(T){for(var I=0;x[T][I];)I++;x[T].push(I),y[T][I]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",b=b+"var "+T+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(I))+")({"+x[T].map(function(A){return""+JSON.stringify(A)+": "+y[T][A].toString()}).join(",")+`});
`}),b=b+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(v))+")({"+x.main.map(function(T){return""+JSON.stringify(T)+": "+y.main[T].toString()}).join(",")+"}))(self);";var w=new window.Blob([b],{type:"text/javascript"});if(g.bare)return w;var E=window.URL||window.webkitURL||window.mozURL||window.msURL,S=E.createObjectURL(w),C=new window.Worker(S);return C.objectURL=S,C}},"./src/config.js":function(o,s,c){c.r(s),c.d(s,{defaultConfig:function(){return l},createDefaultConfig:function(){return u}});var l={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},l)}},"./src/core/features.js":function(o,s,c){c.r(s);var l=c("./src/io/io-controller.js"),u=c("./src/config.js"),f=function(){function h(){}return h.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},h.supportNetworkStreamIO=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d=="fetch-stream-loader"||d=="xhr-moz-chunked-loader"},h.getNetworkLoaderTypeName=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d},h.supportNativeMediaPlayback=function(p){h.videoElement==null&&(h.videoElement=window.document.createElement("video"));var d=h.videoElement.canPlayType(p);return d==="probably"||d=="maybe"},h.getFeatureList=function(){var p={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return p.mseFlvPlayback=h.supportMSEH264Playback(),p.networkStreamIO=h.supportNetworkStreamIO(),p.networkLoaderName=h.getNetworkLoaderTypeName(),p.mseLiveFlvPlayback=p.mseFlvPlayback&&p.networkStreamIO,p.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),p.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),p.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),p},h}();s.default=f},"./src/core/media-info.js":function(o,s,c){c.r(s);var l=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var f=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,h=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&f&&h},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(f){if(this.keyframesIndex==null)return null;var h=this.keyframesIndex,p=this._search(h.times,f);return{index:p,milliseconds:h.times[p],fileposition:h.filepositions[p]}},u.prototype._search=function(f,h){var p=0,d=f.length-1,m=0,_=0,v=d;for(h<f[0]&&(p=0,_=v+1);_<=v;)if(m=_+Math.floor((v-_)/2),m===d||h>=f[m]&&h<f[m+1]){p=m;break}else f[m]<h?_=m+1:v=m-1;return p},u}();s.default=l},"./src/core/media-segment-info.js":function(o,s,c){c.r(s),c.d(s,{SampleInfo:function(){return l},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return f},MediaSegmentInfoList:function(){return h}});var l=function(){function p(d,m,_,v,g){this.dts=d,this.pts=m,this.duration=_,this.originalDts=v,this.isSyncPoint=g,this.fileposition=null}return p}(),u=function(){function p(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return p.prototype.appendSyncPoint=function(d){d.isSyncPoint=!0,this.syncPoints.push(d)},p}(),f=function(){function p(){this._list=[]}return p.prototype.clear=function(){this._list=[]},p.prototype.appendArray=function(d){var m=this._list;d.length!==0&&(m.length>0&&d[0].originalDts<m[m.length-1].originalDts&&this.clear(),Array.prototype.push.apply(m,d))},p.prototype.getLastSyncPointBeforeDts=function(d){if(this._list.length==0)return null;var m=this._list,_=0,v=m.length-1,g=0,y=0,x=v;for(d<m[0].dts&&(_=0,y=x+1);y<=x;)if(g=y+Math.floor((x-y)/2),g===v||d>=m[g].dts&&d<m[g+1].dts){_=g;break}else m[g].dts<d?y=g+1:x=g-1;return this._list[_]},p}(),h=function(){function p(d){this._type=d,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return this._list.length===0},p.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},p.prototype._searchNearestSegmentBefore=function(d){var m=this._list;if(m.length===0)return-2;var _=m.length-1,v=0,g=0,y=_,x=0;if(d<m[0].originalBeginDts)return x=-1,x;for(;g<=y;)if(v=g+Math.floor((y-g)/2),v===_||d>m[v].lastSample.originalDts&&d<m[v+1].originalBeginDts){x=v;break}else m[v].originalBeginDts<d?g=v+1:y=v-1;return x},p.prototype._searchNearestSegmentAfter=function(d){return this._searchNearestSegmentBefore(d)+1},p.prototype.append=function(d){var m=this._list,_=d,v=this._lastAppendLocation,g=0;v!==-1&&v<m.length&&_.originalBeginDts>=m[v].lastSample.originalDts&&(v===m.length-1||v<m.length-1&&_.originalBeginDts<m[v+1].originalBeginDts)?g=v+1:m.length>0&&(g=this._searchNearestSegmentBefore(_.originalBeginDts)+1),this._lastAppendLocation=g,this._list.splice(g,0,_)},p.prototype.getLastSegmentBefore=function(d){var m=this._searchNearestSegmentBefore(d);return m>=0?this._list[m]:null},p.prototype.getLastSampleBefore=function(d){var m=this.getLastSegmentBefore(d);return m!=null?m.lastSample:null},p.prototype.getLastSyncPointBefore=function(d){for(var m=this._searchNearestSegmentBefore(d),_=this._list[m].syncPoints;_.length===0&&m>0;)m--,_=this._list[m].syncPoints;return _.length>0?_[_.length-1]:null},p}()},"./src/core/mse-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/core/mse-events.js"),d=c("./src/core/media-segment-info.js"),m=c("./src/utils/exception.js"),_=function(){function v(g){this.TAG="MSEController",this._config=g,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new d.IDRSampleList}return v.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(g,y){this._emitter.addListener(g,y)},v.prototype.off=function(g,y){this._emitter.removeListener(g,y)},v.prototype.attachMediaElement=function(g){if(this._mediaSource)throw new m.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var y=this._mediaSource=new window.MediaSource;y.addEventListener("sourceopen",this.e.onSourceOpen),y.addEventListener("sourceended",this.e.onSourceEnded),y.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=g,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),g.src=this._mediaSourceObjectURL},v.prototype.detachMediaElement=function(){if(this._mediaSource){var g=this._mediaSource;for(var y in this._sourceBuffers){var x=this._pendingSegments[y];x.splice(0,x.length),this._pendingSegments[y]=null,this._pendingRemoveRanges[y]=null,this._lastInitSegments[y]=null;var b=this._sourceBuffers[y];if(b){if(g.readyState!=="closed"){try{g.removeSourceBuffer(b)}catch(w){f.default.e(this.TAG,w.message)}b.removeEventListener("error",this.e.onSourceBufferError),b.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[y]=null,this._sourceBuffers[y]=null}}if(g.readyState==="open")try{g.endOfStream()}catch(w){f.default.e(this.TAG,w.message)}g.removeEventListener("sourceopen",this.e.onSourceOpen),g.removeEventListener("sourceended",this.e.onSourceEnded),g.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},v.prototype.appendInitSegment=function(g,y){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(g),this._pendingSegments[g.type].push(g);return}var x=g,b=""+x.container;x.codec&&x.codec.length>0&&(b+=";codecs="+x.codec);var w=!1;if(f.default.v(this.TAG,"Received Initialization Segment, mimeType: "+b),this._lastInitSegments[x.type]=x,b!==this._mimeTypes[x.type]){if(this._mimeTypes[x.type])f.default.v(this.TAG,"Notice: "+x.type+" mimeType changed, origin: "+this._mimeTypes[x.type]+", target: "+b);else{w=!0;try{var E=this._sourceBuffers[x.type]=this._mediaSource.addSourceBuffer(b);E.addEventListener("error",this.e.onSourceBufferError),E.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(S){f.default.e(this.TAG,S.message),this._emitter.emit(p.default.ERROR,{code:S.code,msg:S.message});return}}this._mimeTypes[x.type]=b}y||this._pendingSegments[x.type].push(x),w||this._sourceBuffers[x.type]&&!this._sourceBuffers[x.type].updating&&this._doAppendSegments(),h.default.safari&&x.container==="audio/mpeg"&&x.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=x.mediaDuration/1e3,this._updateMediaSourceDuration())},v.prototype.appendMediaSegment=function(g){var y=g;this._pendingSegments[y.type].push(y),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var x=this._sourceBuffers[y.type];x&&!x.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},v.prototype.seek=function(g){for(var y in this._sourceBuffers)if(this._sourceBuffers[y]){var x=this._sourceBuffers[y];if(this._mediaSource.readyState==="open")try{x.abort()}catch(T){f.default.e(this.TAG,T.message)}this._idrList.clear();var b=this._pendingSegments[y];if(b.splice(0,b.length),this._mediaSource.readyState!=="closed"){for(var w=0;w<x.buffered.length;w++){var E=x.buffered.start(w),S=x.buffered.end(w);this._pendingRemoveRanges[y].push({start:E,end:S})}if(x.updating||this._doRemoveRanges(),h.default.safari){var C=this._lastInitSegments[y];C&&(this._pendingSegments[y].push(C),x.updating||this._doAppendSegments())}}}},v.prototype.endOfStream=function(){var g=this._mediaSource,y=this._sourceBuffers;if(!g||g.readyState!=="open"){g&&g.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}y.video&&y.video.updating||y.audio&&y.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,g.endOfStream())},v.prototype.getNearestKeyframe=function(g){return this._idrList.getLastSyncPointBeforeDts(g)},v.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var g=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var x=this._sourceBuffers[y];if(x){var b=x.buffered;if(b.length>=1&&g-b.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},v.prototype._doCleanupSourceBuffer=function(){var g=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var x=this._sourceBuffers[y];if(x){for(var b=x.buffered,w=!1,E=0;E<b.length;E++){var S=b.start(E),C=b.end(E);if(S<=g&&g<C+3){if(g-S>=this._config.autoCleanupMaxBackwardDuration){w=!0;var T=g-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[y].push({start:S,end:T})}}else C<g&&(w=!0,this._pendingRemoveRanges[y].push({start:S,end:C}))}w&&!x.updating&&this._doRemoveRanges()}}},v.prototype._updateMediaSourceDuration=function(){var g=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(g.video&&g.video.updating||g.audio&&g.audio.updating)){var y=this._mediaSource.duration,x=this._pendingMediaDuration;x>0&&(isNaN(y)||x>y)&&(f.default.v(this.TAG,"Update MediaSource duration from "+y+" to "+x),this._mediaSource.duration=x),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},v.prototype._doRemoveRanges=function(){for(var g in this._pendingRemoveRanges)if(!(!this._sourceBuffers[g]||this._sourceBuffers[g].updating))for(var y=this._sourceBuffers[g],x=this._pendingRemoveRanges[g];x.length&&!y.updating;){var b=x.shift();y.remove(b.start,b.end)}},v.prototype._doAppendSegments=function(){var g=this._pendingSegments;for(var y in g)if(!(!this._sourceBuffers[y]||this._sourceBuffers[y].updating)&&g[y].length>0){var x=g[y].shift();if(x.timestampOffset){var b=this._sourceBuffers[y].timestampOffset,w=x.timestampOffset/1e3,E=Math.abs(b-w);E>.1&&(f.default.v(this.TAG,"Update MPEG audio timestampOffset from "+b+" to "+w),this._sourceBuffers[y].timestampOffset=w),delete x.timestampOffset}if(!x.data||x.data.byteLength===0)continue;try{this._sourceBuffers[y].appendBuffer(x.data),this._isBufferFull=!1,y==="video"&&x.hasOwnProperty("info")&&this._idrList.appendArray(x.info.syncPoints)}catch(S){this._pendingSegments[y].unshift(x),S.code===22?(this._isBufferFull||this._emitter.emit(p.default.BUFFER_FULL),this._isBufferFull=!0):(f.default.e(this.TAG,S.message),this._emitter.emit(p.default.ERROR,{code:S.code,msg:S.message}))}}},v.prototype._onSourceOpen=function(){if(f.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var g=this._pendingSourceBufferInit;g.length;){var y=g.shift();this.appendInitSegment(y,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(p.default.SOURCE_OPEN)},v.prototype._onSourceEnded=function(){f.default.v(this.TAG,"MediaSource onSourceEnded")},v.prototype._onSourceClose=function(){f.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},v.prototype._hasPendingSegments=function(){var g=this._pendingSegments;return g.video.length>0||g.audio.length>0},v.prototype._hasPendingRemoveRanges=function(){var g=this._pendingRemoveRanges;return g.video.length>0||g.audio.length>0},v.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(p.default.UPDATE_END)},v.prototype._onSourceBufferError=function(g){f.default.e(this.TAG,"SourceBuffer Error: "+g)},v}();s.default=_},"./src/core/mse-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};s.default=l},"./src/core/transmuxer.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./node_modules/webworkify-webpack/index.js"),h=c.n(f),p=c("./src/utils/logger.js"),d=c("./src/utils/logging-control.js"),m=c("./src/core/transmuxing-controller.js"),_=c("./src/core/transmuxing-events.js"),v=c("./src/core/media-info.js"),g=function(){function y(x,b){if(this.TAG="Transmuxer",this._emitter=new(u()),b.enableWorker&&typeof Worker<"u")try{this._worker=h()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[x,b]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},d.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:d.default.getConfig()})}catch{p.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new m.default(x,b)}else this._controller=new m.default(x,b);if(this._controller){var w=this._controller;w.on(_.default.IO_ERROR,this._onIOError.bind(this)),w.on(_.default.DEMUX_ERROR,this._onDemuxError.bind(this)),w.on(_.default.INIT_SEGMENT,this._onInitSegment.bind(this)),w.on(_.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),w.on(_.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),w.on(_.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),w.on(_.default.MEDIA_INFO,this._onMediaInfo.bind(this)),w.on(_.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),w.on(_.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),w.on(_.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),w.on(_.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return y.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),d.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},y.prototype.on=function(x,b){this._emitter.addListener(x,b)},y.prototype.off=function(x,b){this._emitter.removeListener(x,b)},y.prototype.hasWorker=function(){return this._worker!=null},y.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},y.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},y.prototype.seek=function(x){this._worker?this._worker.postMessage({cmd:"seek",param:x}):this._controller.seek(x)},y.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},y.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},y.prototype._onInitSegment=function(x,b){var w=this;Promise.resolve().then(function(){w._emitter.emit(_.default.INIT_SEGMENT,x,b)})},y.prototype._onMediaSegment=function(x,b){var w=this;Promise.resolve().then(function(){w._emitter.emit(_.default.MEDIA_SEGMENT,x,b)})},y.prototype._onLoadingComplete=function(){var x=this;Promise.resolve().then(function(){x._emitter.emit(_.default.LOADING_COMPLETE)})},y.prototype._onRecoveredEarlyEof=function(){var x=this;Promise.resolve().then(function(){x._emitter.emit(_.default.RECOVERED_EARLY_EOF)})},y.prototype._onMediaInfo=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.MEDIA_INFO,x)})},y.prototype._onMetaDataArrived=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.METADATA_ARRIVED,x)})},y.prototype._onScriptDataArrived=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.SCRIPTDATA_ARRIVED,x)})},y.prototype._onStatisticsInfo=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.STATISTICS_INFO,x)})},y.prototype._onIOError=function(x,b){var w=this;Promise.resolve().then(function(){w._emitter.emit(_.default.IO_ERROR,x,b)})},y.prototype._onDemuxError=function(x,b){var w=this;Promise.resolve().then(function(){w._emitter.emit(_.default.DEMUX_ERROR,x,b)})},y.prototype._onRecommendSeekpoint=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.RECOMMEND_SEEKPOINT,x)})},y.prototype._onLoggingConfigChanged=function(x){this._worker&&this._worker.postMessage({cmd:"logging_config",param:x})},y.prototype._onWorkerMessage=function(x){var b=x.data,w=b.data;if(b.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(b.msg){case _.default.INIT_SEGMENT:case _.default.MEDIA_SEGMENT:this._emitter.emit(b.msg,w.type,w.data);break;case _.default.LOADING_COMPLETE:case _.default.RECOVERED_EARLY_EOF:this._emitter.emit(b.msg);break;case _.default.MEDIA_INFO:Object.setPrototypeOf(w,v.default.prototype),this._emitter.emit(b.msg,w);break;case _.default.METADATA_ARRIVED:case _.default.SCRIPTDATA_ARRIVED:case _.default.STATISTICS_INFO:this._emitter.emit(b.msg,w);break;case _.default.IO_ERROR:case _.default.DEMUX_ERROR:this._emitter.emit(b.msg,w.type,w.info);break;case _.default.RECOMMEND_SEEKPOINT:this._emitter.emit(b.msg,w);break;case"logcat_callback":p.default.emitter.emit("log",w.type,w.logcat);break}},y}();s.default=g},"./src/core/transmuxing-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/core/media-info.js"),d=c("./src/demux/flv-demuxer.js"),m=c("./src/remux/mp4-remuxer.js"),_=c("./src/demux/demux-errors.js"),v=c("./src/io/io-controller.js"),g=c("./src/core/transmuxing-events.js"),y=function(){function x(b,w){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=w,b.segments||(b.segments=[{duration:b.duration,filesize:b.filesize,url:b.url}]),typeof b.cors!="boolean"&&(b.cors=!0),typeof b.withCredentials!="boolean"&&(b.withCredentials=!1),this._mediaDataSource=b,this._currentSegmentIndex=0;var E=0;this._mediaDataSource.segments.forEach(function(S){S.timestampBase=E,E+=S.duration,S.cors=b.cors,S.withCredentials=b.withCredentials,w.referrerPolicy&&(S.referrerPolicy=w.referrerPolicy)}),!isNaN(E)&&this._mediaDataSource.duration!==E&&(this._mediaDataSource.duration=E),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return x.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(b,w){this._emitter.addListener(b,w)},x.prototype.off=function(b,w){this._emitter.removeListener(b,w)},x.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},x.prototype._loadSegment=function(b,w){this._currentSegmentIndex=b;var E=this._mediaDataSource.segments[b],S=this._ioctl=new v.default(E,this._config,b);S.onError=this._onIOException.bind(this),S.onSeeked=this._onIOSeeked.bind(this),S.onComplete=this._onIOComplete.bind(this),S.onRedirect=this._onIORedirect.bind(this),S.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),w?this._demuxer.bindDataSource(this._ioctl):S.onDataArrival=this._onInitChunkArrival.bind(this),S.open(w)},x.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},x.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},x.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},x.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},x.prototype.seek=function(b){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var w=this._searchSegmentIndexContains(b);if(w===this._currentSegmentIndex){var E=this._mediaInfo.segments[w];if(E==null)this._pendingSeekTime=b;else{var S=E.getNearestKeyframe(b);this._remuxer.seek(S.milliseconds),this._ioctl.seek(S.fileposition),this._pendingResolveSeekPoint=S.milliseconds}}else{var C=this._mediaInfo.segments[w];if(C==null)this._pendingSeekTime=b,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(w);else{var S=C.getNearestKeyframe(b);this._internalAbort(),this._remuxer.seek(b),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[w].timestampBase,this._loadSegment(w,S.fileposition),this._pendingResolveSeekPoint=S.milliseconds,this._reportSegmentMediaInfo(w)}}this._enableStatisticsReporter()}},x.prototype._searchSegmentIndexContains=function(b){for(var w=this._mediaDataSource.segments,E=w.length-1,S=0;S<w.length;S++)if(b<w[S].timestampBase){E=S-1;break}return E},x.prototype._onInitChunkArrival=function(b,w){var E=this,S=null,C=0;if(w>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,C=this._demuxer.parseChunks(b,w);else if((S=d.default.probe(b)).match){this._demuxer=new d.default(S,this._config),this._remuxer||(this._remuxer=new m.default(this._config));var T=this._mediaDataSource;T.duration!=null&&!isNaN(T.duration)&&(this._demuxer.overridedDuration=T.duration),typeof T.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=T.hasAudio),typeof T.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=T.hasVideo),this._demuxer.timestampBase=T.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),C=this._demuxer.parseChunks(b,w)}else S=null,f.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){E._internalAbort()}),this._emitter.emit(g.default.DEMUX_ERROR,_.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),C=0;return C},x.prototype._onMediaInfo=function(b){var w=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},b),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,p.default.prototype));var E=Object.assign({},b);Object.setPrototypeOf(E,p.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=E,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var S=w._pendingSeekTime;w._pendingSeekTime=null,w.seek(S)})},x.prototype._onMetaDataArrived=function(b){this._emitter.emit(g.default.METADATA_ARRIVED,b)},x.prototype._onScriptDataArrived=function(b){this._emitter.emit(g.default.SCRIPTDATA_ARRIVED,b)},x.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},x.prototype._onIOComplete=function(b){var w=b,E=w+1;E<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(E)):(this._remuxer.flushStashedSamples(),this._emitter.emit(g.default.LOADING_COMPLETE),this._disableStatisticsReporter())},x.prototype._onIORedirect=function(b){var w=this._ioctl.extraData;this._mediaDataSource.segments[w].redirectedURL=b},x.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(g.default.RECOVERED_EARLY_EOF)},x.prototype._onIOException=function(b,w){f.default.e(this.TAG,"IOException: type = "+b+", code = "+w.code+", msg = "+w.msg),this._emitter.emit(g.default.IO_ERROR,b,w),this._disableStatisticsReporter()},x.prototype._onDemuxException=function(b,w){f.default.e(this.TAG,"DemuxException: type = "+b+", info = "+w),this._emitter.emit(g.default.DEMUX_ERROR,b,w)},x.prototype._onRemuxerInitSegmentArrival=function(b,w){this._emitter.emit(g.default.INIT_SEGMENT,b,w)},x.prototype._onRemuxerMediaSegmentArrival=function(b,w){if(this._pendingSeekTime==null&&(this._emitter.emit(g.default.MEDIA_SEGMENT,b,w),this._pendingResolveSeekPoint!=null&&b==="video")){var E=w.info.syncPoints,S=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,h.default.safari&&E.length>0&&E[0].originalDts===S&&(S=E[0].pts),this._emitter.emit(g.default.RECOMMEND_SEEKPOINT,S)}},x.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},x.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},x.prototype._reportSegmentMediaInfo=function(b){var w=this._mediaInfo.segments[b],E=Object.assign({},w);E.duration=this._mediaInfo.duration,E.segmentCount=this._mediaInfo.segmentCount,delete E.segments,delete E.keyframesIndex,this._emitter.emit(g.default.MEDIA_INFO,E)},x.prototype._reportStatisticsInfo=function(){var b={};b.url=this._ioctl.currentURL,b.hasRedirect=this._ioctl.hasRedirect,b.hasRedirect&&(b.redirectedURL=this._ioctl.currentRedirectedURL),b.speed=this._ioctl.currentSpeed,b.loaderType=this._ioctl.loaderType,b.currentSegmentIndex=this._currentSegmentIndex,b.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(g.default.STATISTICS_INFO,b)},x}();s.default=y},"./src/core/transmuxing-events.js":function(o,s,c){c.r(s);var l={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};s.default=l},"./src/core/transmuxing-worker.js":function(o,s,c){c.r(s);var l=c("./src/utils/logging-control.js"),u=c("./src/utils/polyfill.js"),f=c("./src/core/transmuxing-controller.js"),h=c("./src/core/transmuxing-events.js"),p=function(d){var m=null,_=A.bind(this);u.default.install(),d.addEventListener("message",function(R){switch(R.data.cmd){case"init":m=new f.default(R.data.param[0],R.data.param[1]),m.on(h.default.IO_ERROR,C.bind(this)),m.on(h.default.DEMUX_ERROR,T.bind(this)),m.on(h.default.INIT_SEGMENT,v.bind(this)),m.on(h.default.MEDIA_SEGMENT,g.bind(this)),m.on(h.default.LOADING_COMPLETE,y.bind(this)),m.on(h.default.RECOVERED_EARLY_EOF,x.bind(this)),m.on(h.default.MEDIA_INFO,b.bind(this)),m.on(h.default.METADATA_ARRIVED,w.bind(this)),m.on(h.default.SCRIPTDATA_ARRIVED,E.bind(this)),m.on(h.default.STATISTICS_INFO,S.bind(this)),m.on(h.default.RECOMMEND_SEEKPOINT,I.bind(this));break;case"destroy":m&&(m.destroy(),m=null),d.postMessage({msg:"destroyed"});break;case"start":m.start();break;case"stop":m.stop();break;case"seek":m.seek(R.data.param);break;case"pause":m.pause();break;case"resume":m.resume();break;case"logging_config":{var O=R.data.param;l.default.applyConfig(O),O.enableCallback===!0?l.default.addLogListener(_):l.default.removeLogListener(_);break}}});function v(R,O){var F={msg:h.default.INIT_SEGMENT,data:{type:R,data:O}};d.postMessage(F,[O.data])}function g(R,O){var F={msg:h.default.MEDIA_SEGMENT,data:{type:R,data:O}};d.postMessage(F,[O.data])}function y(){var R={msg:h.default.LOADING_COMPLETE};d.postMessage(R)}function x(){var R={msg:h.default.RECOVERED_EARLY_EOF};d.postMessage(R)}function b(R){var O={msg:h.default.MEDIA_INFO,data:R};d.postMessage(O)}function w(R){var O={msg:h.default.METADATA_ARRIVED,data:R};d.postMessage(O)}function E(R){var O={msg:h.default.SCRIPTDATA_ARRIVED,data:R};d.postMessage(O)}function S(R){var O={msg:h.default.STATISTICS_INFO,data:R};d.postMessage(O)}function C(R,O){d.postMessage({msg:h.default.IO_ERROR,data:{type:R,info:O}})}function T(R,O){d.postMessage({msg:h.default.DEMUX_ERROR,data:{type:R,info:O}})}function I(R){d.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:R})}function A(R,O){d.postMessage({msg:"logcat_callback",data:{type:R,logcat:O}})}};s.default=p},"./src/demux/amf-parser.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/utils/utf8-conv.js"),f=c("./src/utils/exception.js"),h=function(){var d=new ArrayBuffer(2);return new DataView(d).setInt16(0,256,!0),new Int16Array(d)[0]===256}(),p=function(){function d(){}return d.parseScriptData=function(m,_,v){var g={};try{var y=d.parseValue(m,_,v),x=d.parseValue(m,_+y.size,v-y.size);g[y.data]=x.data}catch(b){l.default.e("AMF",b.toString())}return g},d.parseObject=function(m,_,v){if(v<3)throw new f.IllegalStateException("Data not enough when parse ScriptDataObject");var g=d.parseString(m,_,v),y=d.parseValue(m,_+g.size,v-g.size),x=y.objectEnd;return{data:{name:g.data,value:y.data},size:g.size+y.size,objectEnd:x}},d.parseVariable=function(m,_,v){return d.parseObject(m,_,v)},d.parseString=function(m,_,v){if(v<2)throw new f.IllegalStateException("Data not enough when parse String");var g=new DataView(m,_,v),y=g.getUint16(0,!h),x;return y>0?x=(0,u.default)(new Uint8Array(m,_+2,y)):x="",{data:x,size:2+y}},d.parseLongString=function(m,_,v){if(v<4)throw new f.IllegalStateException("Data not enough when parse LongString");var g=new DataView(m,_,v),y=g.getUint32(0,!h),x;return y>0?x=(0,u.default)(new Uint8Array(m,_+4,y)):x="",{data:x,size:4+y}},d.parseDate=function(m,_,v){if(v<10)throw new f.IllegalStateException("Data size invalid when parse Date");var g=new DataView(m,_,v),y=g.getFloat64(0,!h),x=g.getInt16(8,!h);return y+=x*60*1e3,{data:new Date(y),size:8+2}},d.parseValue=function(m,_,v){if(v<1)throw new f.IllegalStateException("Data not enough when parse Value");var g=new DataView(m,_,v),y=1,x=g.getUint8(0),b,w=!1;try{switch(x){case 0:b=g.getFloat64(1,!h),y+=8;break;case 1:{var E=g.getUint8(1);b=!!E,y+=1;break}case 2:{var S=d.parseString(m,_+1,v-1);b=S.data,y+=S.size;break}case 3:{b={};var C=0;for((g.getUint32(v-4,!h)&16777215)===9&&(C=3);y<v-4;){var T=d.parseObject(m,_+y,v-y-C);if(T.objectEnd)break;b[T.data.name]=T.data.value,y+=T.size}if(y<=v-3){var I=g.getUint32(y-1,!h)&16777215;I===9&&(y+=3)}break}case 8:{b={},y+=4;var C=0;for((g.getUint32(v-4,!h)&16777215)===9&&(C=3);y<v-8;){var A=d.parseVariable(m,_+y,v-y-C);if(A.objectEnd)break;b[A.data.name]=A.data.value,y+=A.size}if(y<=v-3){var I=g.getUint32(y-1,!h)&16777215;I===9&&(y+=3)}break}case 9:b=void 0,y=1,w=!0;break;case 10:{b=[];var R=g.getUint32(1,!h);y+=4;for(var O=0;O<R;O++){var F=d.parseValue(m,_+y,v-y);b.push(F.data),y+=F.size}break}case 11:{var N=d.parseDate(m,_+1,v-1);b=N.data,y+=N.size;break}case 12:{var $=d.parseString(m,_+1,v-1);b=$.data,y+=$.size;break}default:y=v,l.default.w("AMF","Unsupported AMF value type "+x)}}catch(q){l.default.e("AMF",q.toString())}return{data:b,size:y,objectEnd:w}},d}();s.default=p},"./src/demux/demux-errors.js":function(o,s,c){c.r(s);var l={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};s.default=l},"./src/demux/exp-golomb.js":function(o,s,c){c.r(s);var l=c("./src/utils/exception.js"),u=function(){function f(h){this.TAG="ExpGolomb",this._buffer=h,this._buffer_index=0,this._total_bytes=h.byteLength,this._total_bits=h.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return f.prototype.destroy=function(){this._buffer=null},f.prototype._fillCurrentWord=function(){var h=this._total_bytes-this._buffer_index;if(h<=0)throw new l.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var p=Math.min(4,h),d=new Uint8Array(4);d.set(this._buffer.subarray(this._buffer_index,this._buffer_index+p)),this._current_word=new DataView(d.buffer).getUint32(0,!1),this._buffer_index+=p,this._current_word_bits_left=p*8},f.prototype.readBits=function(h){if(h>32)throw new l.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(h<=this._current_word_bits_left){var p=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,p}var d=this._current_word_bits_left?this._current_word:0;d=d>>>32-this._current_word_bits_left;var m=h-this._current_word_bits_left;this._fillCurrentWord();var _=Math.min(m,this._current_word_bits_left),v=this._current_word>>>32-_;return this._current_word<<=_,this._current_word_bits_left-=_,d=d<<_|v,d},f.prototype.readBool=function(){return this.readBits(1)===1},f.prototype.readByte=function(){return this.readBits(8)},f.prototype._skipLeadingZero=function(){var h;for(h=0;h<this._current_word_bits_left;h++)if(this._current_word&2147483648>>>h)return this._current_word<<=h,this._current_word_bits_left-=h,h;return this._fillCurrentWord(),h+this._skipLeadingZero()},f.prototype.readUEG=function(){var h=this._skipLeadingZero();return this.readBits(h+1)-1},f.prototype.readSEG=function(){var h=this.readUEG();return h&1?h+1>>>1:-1*(h>>>1)},f}();s.default=u},"./src/demux/flv-demuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/demux/amf-parser.js"),f=c("./src/demux/sps-parser.js"),h=c("./src/demux/demux-errors.js"),p=c("./src/core/media-info.js"),d=c("./src/utils/exception.js");function m(v,g){return v[g]<<24|v[g+1]<<16|v[g+2]<<8|v[g+3]}var _=function(){function v(g,y){this.TAG="FLVDemuxer",this._config=y,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=g.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=g.hasAudioTrack,this._hasVideo=g.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new p.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var x=new ArrayBuffer(2);return new DataView(x).setInt16(0,256,!0),new Int16Array(x)[0]===256}()}return v.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},v.probe=function(g){var y=new Uint8Array(g),x={match:!1};if(y[0]!==70||y[1]!==76||y[2]!==86||y[3]!==1)return x;var b=(y[4]&4)>>>2!==0,w=(y[4]&1)!==0,E=m(y,5);return E<9?x:{match:!0,consumed:E,dataOffset:E,hasAudioTrack:b,hasVideoTrack:w}},v.prototype.bindDataSource=function(g){return g.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(v.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(g){this._onTrackMetadata=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(g){this._onMediaInfo=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(g){this._onMetaDataArrived=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(g){this._onScriptDataArrived=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onError",{get:function(){return this._onError},set:function(g){this._onError=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(g){this._onDataAvailable=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(g){this._timestampBase=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedDuration",{get:function(){return this._duration},set:function(g){this._durationOverrided=!0,this._duration=g,this._mediaInfo.duration=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedHasAudio",{set:function(g){this._hasAudioFlagOverrided=!0,this._hasAudio=g,this._mediaInfo.hasAudio=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedHasVideo",{set:function(g){this._hasVideoFlagOverrided=!0,this._hasVideo=g,this._mediaInfo.hasVideo=g},enumerable:!1,configurable:!0}),v.prototype.resetMediaInfo=function(){this._mediaInfo=new p.default},v.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},v.prototype.parseChunks=function(g,y){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new d.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var x=0,b=this._littleEndian;if(y===0)if(g.byteLength>13){var w=v.probe(g);x=w.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,y+x!==this._dataOffset&&l.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var E=new DataView(g,x),S=E.getUint32(0,!b);S!==0&&l.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),x+=4}for(;x<g.byteLength;){this._dispatch=!0;var E=new DataView(g,x);if(x+11+4>g.byteLength)break;var C=E.getUint8(0),T=E.getUint32(0,!b)&16777215;if(x+11+T+4>g.byteLength)break;if(C!==8&&C!==9&&C!==18){l.default.w(this.TAG,"Unsupported tag type "+C+", skipped"),x+=11+T+4;continue}var I=E.getUint8(4),A=E.getUint8(5),R=E.getUint8(6),O=E.getUint8(7),F=R|A<<8|I<<16|O<<24,N=E.getUint32(7,!b)&16777215;N!==0&&l.default.w(this.TAG,"Meet tag which has StreamID != 0!");var $=x+11;switch(C){case 8:this._parseAudioData(g,$,T,F);break;case 9:this._parseVideoData(g,$,T,F,y+x);break;case 18:this._parseScriptData(g,$,T);break}var q=E.getUint32(11+T,!b);q!==11+T&&l.default.w(this.TAG,"Invalid PrevTagSize "+q),x+=11+T+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),x},v.prototype._parseScriptData=function(g,y,x){var b=u.default.parseScriptData(g,y,x);if(b.hasOwnProperty("onMetaData")){if(b.onMetaData==null||typeof b.onMetaData!="object"){l.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&l.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=b;var w=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},w)),typeof w.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=w.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof w.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=w.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof w.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=w.audiodatarate),typeof w.videodatarate=="number"&&(this._mediaInfo.videoDataRate=w.videodatarate),typeof w.width=="number"&&(this._mediaInfo.width=w.width),typeof w.height=="number"&&(this._mediaInfo.height=w.height),typeof w.duration=="number"){if(!this._durationOverrided){var E=Math.floor(w.duration*this._timescale);this._duration=E,this._mediaInfo.duration=E}}else this._mediaInfo.duration=0;if(typeof w.framerate=="number"){var S=Math.floor(w.framerate*1e3);if(S>0){var C=S/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=C,this._referenceFrameRate.fps_num=S,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=C}}if(typeof w.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var T=w.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(T),w.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=w,l.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(b).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},b))},v.prototype._parseKeyframesIndex=function(g){for(var y=[],x=[],b=1;b<g.times.length;b++){var w=this._timestampBase+Math.floor(g.times[b]*1e3);y.push(w),x.push(g.filepositions[b])}return{times:y,filepositions:x}},v.prototype._parseAudioData=function(g,y,x,b){if(x<=1){l.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var w=new DataView(g,y,x),E=w.getUint8(0),S=E>>>4;if(S!==2&&S!==10){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+S);return}var C=0,T=(E&12)>>>2;if(T>=0&&T<=4)C=this._flvSoundRateTable[T];else{this._onError(h.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+T);return}var I=E&1,A=this._audioMetadata,R=this._audioTrack;if(A||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),A=this._audioMetadata={},A.type="audio",A.id=R.id,A.timescale=this._timescale,A.duration=this._duration,A.audioSampleRate=C,A.channelCount=I===0?1:2),S===10){var O=this._parseAACAudioData(g,y+1,x-1);if(O==null)return;if(O.packetType===0){A.config&&l.default.w(this.TAG,"Found another AudioSpecificConfig!");var F=O.data;A.audioSampleRate=F.samplingRate,A.channelCount=F.channelCount,A.codec=F.codec,A.originalCodec=F.originalCodec,A.config=F.config,A.refSampleDuration=1024/A.audioSampleRate*A.timescale,l.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",A);var N=this._mediaInfo;N.audioCodec=A.originalCodec,N.audioSampleRate=A.audioSampleRate,N.audioChannelCount=A.channelCount,N.hasVideo?N.videoCodec!=null&&(N.mimeType='video/x-flv; codecs="'+N.videoCodec+","+N.audioCodec+'"'):N.mimeType='video/x-flv; codecs="'+N.audioCodec+'"',N.isComplete()&&this._onMediaInfo(N)}else if(O.packetType===1){var $=this._timestampBase+b,q={unit:O.data,length:O.data.byteLength,dts:$,pts:$};R.samples.push(q),R.length+=O.data.length}else l.default.e(this.TAG,"Flv: Unsupported AAC data type "+O.packetType)}else if(S===2){if(!A.codec){var F=this._parseMP3AudioData(g,y+1,x-1,!0);if(F==null)return;A.audioSampleRate=F.samplingRate,A.channelCount=F.channelCount,A.codec=F.codec,A.originalCodec=F.originalCodec,A.refSampleDuration=1152/A.audioSampleRate*A.timescale,l.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",A);var N=this._mediaInfo;N.audioCodec=A.codec,N.audioSampleRate=A.audioSampleRate,N.audioChannelCount=A.channelCount,N.audioDataRate=F.bitRate,N.hasVideo?N.videoCodec!=null&&(N.mimeType='video/x-flv; codecs="'+N.videoCodec+","+N.audioCodec+'"'):N.mimeType='video/x-flv; codecs="'+N.audioCodec+'"',N.isComplete()&&this._onMediaInfo(N)}var K=this._parseMP3AudioData(g,y+1,x-1,!1);if(K==null)return;var $=this._timestampBase+b,G={unit:K,length:K.byteLength,dts:$,pts:$};R.samples.push(G),R.length+=K.length}}},v.prototype._parseAACAudioData=function(g,y,x){if(x<=1){l.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var b={},w=new Uint8Array(g,y,x);return b.packetType=w[0],w[0]===0?b.data=this._parseAACAudioSpecificConfig(g,y+1,x-1):b.data=w.subarray(1),b},v.prototype._parseAACAudioSpecificConfig=function(g,y,x){var b=new Uint8Array(g,y,x),w=null,E=0,S=0,C=0,T=null;if(E=S=b[0]>>>3,C=(b[0]&7)<<1|b[1]>>>7,C<0||C>=this._mpegSamplingRates.length){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var I=this._mpegSamplingRates[C],A=(b[1]&120)>>>3;if(A<0||A>=8){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}E===5&&(T=(b[1]&7)<<1|b[2]>>>7,(b[2]&124)>>>2);var R=self.navigator.userAgent.toLowerCase();return R.indexOf("firefox")!==-1?C>=6?(E=5,w=new Array(4),T=C-3):(E=2,w=new Array(2),T=C):R.indexOf("android")!==-1?(E=2,w=new Array(2),T=C):(E=5,T=C,w=new Array(4),C>=6?T=C-3:A===1&&(E=2,w=new Array(2),T=C)),w[0]=E<<3,w[0]|=(C&15)>>>1,w[1]=(C&15)<<7,w[1]|=(A&15)<<3,E===5&&(w[1]|=(T&15)>>>1,w[2]=(T&1)<<7,w[2]|=8,w[3]=0),{config:w,samplingRate:I,channelCount:A,codec:"mp4a.40."+E,originalCodec:"mp4a.40."+S}},v.prototype._parseMP3AudioData=function(g,y,x,b){if(x<4){l.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var w=new Uint8Array(g,y,x),E=null;if(b){if(w[0]!==255)return;var S=w[1]>>>3&3,C=(w[1]&6)>>1,T=(w[2]&240)>>>4,I=(w[2]&12)>>>2,A=w[3]>>>6&3,R=A!==3?2:1,O=0,F=0,N="mp3";switch(S){case 0:O=this._mpegAudioV25SampleRateTable[I];break;case 2:O=this._mpegAudioV20SampleRateTable[I];break;case 3:O=this._mpegAudioV10SampleRateTable[I];break}switch(C){case 1:T<this._mpegAudioL3BitRateTable.length&&(F=this._mpegAudioL3BitRateTable[T]);break;case 2:T<this._mpegAudioL2BitRateTable.length&&(F=this._mpegAudioL2BitRateTable[T]);break;case 3:T<this._mpegAudioL1BitRateTable.length&&(F=this._mpegAudioL1BitRateTable[T]);break}E={bitRate:F,samplingRate:O,channelCount:R,codec:N,originalCodec:N}}else E=w;return E},v.prototype._parseVideoData=function(g,y,x,b,w){if(x<=1){l.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var E=new Uint8Array(g,y,x)[0],S=(E&240)>>>4,C=E&15;if(C!==7){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+C);return}this._parseAVCVideoPacket(g,y+1,x-1,b,w,S)}},v.prototype._parseAVCVideoPacket=function(g,y,x,b,w,E){if(x<4){l.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var S=this._littleEndian,C=new DataView(g,y,x),T=C.getUint8(0),I=C.getUint32(0,!S)&16777215,A=I<<8>>8;if(T===0)this._parseAVCDecoderConfigurationRecord(g,y+4,x-4);else if(T===1)this._parseAVCVideoData(g,y+4,x-4,b,w,E,A);else if(T!==2){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid video packet type "+T);return}},v.prototype._parseAVCDecoderConfigurationRecord=function(g,y,x){if(x<7){l.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var b=this._videoMetadata,w=this._videoTrack,E=this._littleEndian,S=new DataView(g,y,x);b?typeof b.avcc<"u"&&l.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),b=this._videoMetadata={},b.type="video",b.id=w.id,b.timescale=this._timescale,b.duration=this._duration);var C=S.getUint8(0),T=S.getUint8(1);if(S.getUint8(2),S.getUint8(3),C!==1||T===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(S.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(h.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var I=S.getUint8(5)&31;if(I===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else I>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+I);for(var A=6,R=0;R<I;R++){var O=S.getUint16(A,!E);if(A+=2,O!==0){var F=new Uint8Array(g,y+A,O);A+=O;var N=f.default.parseSPS(F);if(R===0){b.codecWidth=N.codec_size.width,b.codecHeight=N.codec_size.height,b.presentWidth=N.present_size.width,b.presentHeight=N.present_size.height,b.profile=N.profile_string,b.level=N.level_string,b.bitDepth=N.bit_depth,b.chromaFormat=N.chroma_format,b.sarRatio=N.sar_ratio,b.frameRate=N.frame_rate,(N.frame_rate.fixed===!1||N.frame_rate.fps_num===0||N.frame_rate.fps_den===0)&&(b.frameRate=this._referenceFrameRate);var $=b.frameRate.fps_den,q=b.frameRate.fps_num;b.refSampleDuration=b.timescale*($/q);for(var K=F.subarray(1,4),G="avc1.",L=0;L<3;L++){var j=K[L].toString(16);j.length<2&&(j="0"+j),G+=j}b.codec=G;var B=this._mediaInfo;B.width=b.codecWidth,B.height=b.codecHeight,B.fps=b.frameRate.fps,B.profile=b.profile,B.level=b.level,B.refFrames=N.ref_frames,B.chromaFormat=N.chroma_format_string,B.sarNum=b.sarRatio.width,B.sarDen=b.sarRatio.height,B.videoCodec=G,B.hasAudio?B.audioCodec!=null&&(B.mimeType='video/x-flv; codecs="'+B.videoCodec+","+B.audioCodec+'"'):B.mimeType='video/x-flv; codecs="'+B.videoCodec+'"',B.isComplete()&&this._onMediaInfo(B)}}}var D=S.getUint8(A);if(D===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else D>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+D);A++;for(var R=0;R<D;R++){var O=S.getUint16(A,!E);A+=2,O!==0&&(A+=O)}b.avcc=new Uint8Array(x),b.avcc.set(new Uint8Array(g,y,x),0),l.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",b)},v.prototype._parseAVCVideoData=function(g,y,x,b,w,E,S){for(var C=this._littleEndian,T=new DataView(g,y,x),I=[],A=0,R=0,O=this._naluLengthSize,F=this._timestampBase+b,N=E===1;R<x;){if(R+4>=x){l.default.w(this.TAG,"Malformed Nalu near timestamp "+F+", offset = "+R+", dataSize = "+x);break}var $=T.getUint32(R,!C);if(O===3&&($>>>=8),$>x-O){l.default.w(this.TAG,"Malformed Nalus near timestamp "+F+", NaluSize > DataSize!");return}var q=T.getUint8(R+O)&31;q===5&&(N=!0);var K=new Uint8Array(g,y+R,O+$),G={type:q,data:K};I.push(G),A+=K.byteLength,R+=O+$}if(I.length){var L=this._videoTrack,j={units:I,length:A,isKeyframe:N,dts:F,cts:S,pts:F+S};N&&(j.fileposition=w),L.samples.push(j),L.length+=A}},v}();s.default=_},"./src/demux/sps-parser.js":function(o,s,c){c.r(s);var l=c("./src/demux/exp-golomb.js"),u=function(){function f(){}return f._ebsp2rbsp=function(h){for(var p=h,d=p.byteLength,m=new Uint8Array(d),_=0,v=0;v<d;v++)v>=2&&p[v]===3&&p[v-1]===0&&p[v-2]===0||(m[_]=p[v],_++);return new Uint8Array(m.buffer,0,_)},f.parseSPS=function(h){var p=f._ebsp2rbsp(h),d=new l.default(p);d.readByte();var m=d.readByte();d.readByte();var _=d.readByte();d.readUEG();var v=f.getProfileString(m),g=f.getLevelString(_),y=1,x=420,b=[0,420,422,444],w=8;if((m===100||m===110||m===122||m===244||m===44||m===83||m===86||m===118||m===128||m===138||m===144)&&(y=d.readUEG(),y===3&&d.readBits(1),y<=3&&(x=b[y]),w=d.readUEG()+8,d.readUEG(),d.readBits(1),d.readBool()))for(var E=y!==3?8:12,S=0;S<E;S++)d.readBool()&&(S<6?f._skipScalingList(d,16):f._skipScalingList(d,64));d.readUEG();var C=d.readUEG();if(C===0)d.readUEG();else if(C===1){d.readBits(1),d.readSEG(),d.readSEG();for(var T=d.readUEG(),S=0;S<T;S++)d.readSEG()}var I=d.readUEG();d.readBits(1);var A=d.readUEG(),R=d.readUEG(),O=d.readBits(1);O===0&&d.readBits(1),d.readBits(1);var F=0,N=0,$=0,q=0,K=d.readBool();K&&(F=d.readUEG(),N=d.readUEG(),$=d.readUEG(),q=d.readUEG());var G=1,L=1,j=0,B=!0,D=0,J=0,Q=d.readBool();if(Q){if(d.readBool()){var se=d.readByte(),re=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],ce=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];se>0&&se<16?(G=re[se-1],L=ce[se-1]):se===255&&(G=d.readByte()<<8|d.readByte(),L=d.readByte()<<8|d.readByte())}if(d.readBool()&&d.readBool(),d.readBool()&&(d.readBits(4),d.readBool()&&d.readBits(24)),d.readBool()&&(d.readUEG(),d.readUEG()),d.readBool()){var Ee=d.readBits(32),we=d.readBits(32);B=d.readBool(),D=we,J=Ee*2,j=D/J}}var pe=1;(G!==1||L!==1)&&(pe=G/L);var ve=0,Ae=0;if(y===0)ve=1,Ae=2-O;else{var ke=y===3?1:2,Te=y===1?2:1;ve=ke,Ae=Te*(2-O)}var Fe=(A+1)*16,Ne=(2-O)*((R+1)*16);Fe-=(F+N)*ve,Ne-=($+q)*Ae;var Je=Math.ceil(Fe*pe);return d.destroy(),d=null,{profile_string:v,level_string:g,bit_depth:w,ref_frames:I,chroma_format:x,chroma_format_string:f.getChromaFormatString(x),frame_rate:{fixed:B,fps:j,fps_den:J,fps_num:D},sar_ratio:{width:G,height:L},codec_size:{width:Fe,height:Ne},present_size:{width:Je,height:Ne}}},f._skipScalingList=function(h,p){for(var d=8,m=8,_=0,v=0;v<p;v++)m!==0&&(_=h.readSEG(),m=(d+_+256)%256),d=m===0?d:m},f.getProfileString=function(h){switch(h){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},f.getLevelString=function(h){return(h/10).toFixed(1)},f.getChromaFormatString=function(h){switch(h){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},f}();s.default=u},"./src/flv.js":function(o,s,c){c.r(s);var l=c("./src/utils/polyfill.js"),u=c("./src/core/features.js"),f=c("./src/io/loader.js"),h=c("./src/player/flv-player.js"),p=c("./src/player/native-player.js"),d=c("./src/player/player-events.js"),m=c("./src/player/player-errors.js"),_=c("./src/utils/logging-control.js"),v=c("./src/utils/exception.js");l.default.install();function g(w,E){var S=w;if(S==null||typeof S!="object")throw new v.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!S.hasOwnProperty("type"))throw new v.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(S.type){case"flv":return new h.default(S,E);default:return new p.default(S,E)}}function y(){return u.default.supportMSEH264Playback()}function x(){return u.default.getFeatureList()}var b={};b.createPlayer=g,b.isSupported=y,b.getFeatureList=x,b.BaseLoader=f.BaseLoader,b.LoaderStatus=f.LoaderStatus,b.LoaderErrors=f.LoaderErrors,b.Events=d.default,b.ErrorTypes=m.ErrorTypes,b.ErrorDetails=m.ErrorDetails,b.FlvPlayer=h.default,b.NativePlayer=p.default,b.LoggingControl=_.default,Object.defineProperty(b,"version",{enumerable:!0,get:function(){return"1.6.2"}}),s.default=b},"./src/index.js":function(o,s,c){o.exports=c("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/browser.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var d=function(m,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},d(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");d(m,_);function v(){this.constructor=m}m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}}(),p=function(d){h(m,d);function m(_,v){var g=d.call(this,"fetch-stream-loader")||this;return g.TAG="FetchStreamLoader",g._seekHandler=_,g._config=v,g._needStash=!0,g._requestAbort=!1,g._contentLength=null,g._receivedLength=0,g}return m.isSupported=function(){try{var _=l.default.msedge&&l.default.version.minor>=15048,v=l.default.msedge?_:!0;return self.fetch&&self.ReadableStream&&v}catch{return!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),d.prototype.destroy.call(this)},m.prototype.open=function(_,v){var g=this;this._dataSource=_,this._range=v;var y=_.url;this._config.reuseRedirectedURL&&_.redirectedURL!=null&&(y=_.redirectedURL);var x=this._seekHandler.getConfig(y,v),b=new self.Headers;if(typeof x.headers=="object"){var w=x.headers;for(var E in w)w.hasOwnProperty(E)&&b.append(E,w[E])}var S={method:"GET",headers:b,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var E in this._config.headers)b.append(E,this._config.headers[E]);_.cors===!1&&(S.mode="same-origin"),_.withCredentials&&(S.credentials="include"),_.referrerPolicy&&(S.referrerPolicy=_.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,S.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(x.url,S).then(function(C){if(g._requestAbort){g._status=u.LoaderStatus.kIdle,C.body.cancel();return}if(C.ok&&C.status>=200&&C.status<=299){if(C.url!==x.url&&g._onURLRedirect){var T=g._seekHandler.removeURLParameters(C.url);g._onURLRedirect(T)}var I=C.headers.get("Content-Length");return I!=null&&(g._contentLength=parseInt(I),g._contentLength!==0&&g._onContentLengthKnown&&g._onContentLengthKnown(g._contentLength)),g._pump.call(g,C.body.getReader())}else if(g._status=u.LoaderStatus.kError,g._onError)g._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:C.status,msg:C.statusText});else throw new f.RuntimeException("FetchStreamLoader: Http code invalid, "+C.status+" "+C.statusText)}).catch(function(C){if(!(g._abortController&&g._abortController.signal.aborted))if(g._status=u.LoaderStatus.kError,g._onError)g._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:C.message});else throw C})},m.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!l.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},m.prototype._pump=function(_){var v=this;return _.read().then(function(g){if(g.done)if(v._contentLength!==null&&v._receivedLength<v._contentLength){v._status=u.LoaderStatus.kError;var y=u.LoaderErrors.EARLY_EOF,x={code:-1,msg:"Fetch stream meet Early-EOF"};if(v._onError)v._onError(y,x);else throw new f.RuntimeException(x.msg)}else v._status=u.LoaderStatus.kComplete,v._onComplete&&v._onComplete(v._range.from,v._range.from+v._receivedLength-1);else{if(v._abortController&&v._abortController.signal.aborted){v._status=u.LoaderStatus.kComplete;return}else if(v._requestAbort===!0)return v._status=u.LoaderStatus.kComplete,_.cancel();v._status=u.LoaderStatus.kBuffering;var b=g.value.buffer,w=v._range.from+v._receivedLength;v._receivedLength+=b.byteLength,v._onDataArrival&&v._onDataArrival(b,w,v._receivedLength),v._pump(_)}}).catch(function(g){if(v._abortController&&v._abortController.signal.aborted){v._status=u.LoaderStatus.kComplete;return}if(!(g.code===11&&l.default.msedge)){v._status=u.LoaderStatus.kError;var y=0,x=null;if((g.code===19||g.message==="network error")&&(v._contentLength===null||v._contentLength!==null&&v._receivedLength<v._contentLength)?(y=u.LoaderErrors.EARLY_EOF,x={code:g.code,msg:"Fetch stream meet Early-EOF"}):(y=u.LoaderErrors.EXCEPTION,x={code:g.code,msg:g.message}),v._onError)v._onError(y,x);else throw new f.RuntimeException(x.msg)}})},m}(u.BaseLoader);s.default=p},"./src/io/io-controller.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/io/fetch-stream-loader.js"),p=c("./src/io/xhr-moz-chunked-loader.js"),d=c("./src/io/xhr-range-loader.js"),m=c("./src/io/websocket-loader.js"),_=c("./src/io/range-seek-handler.js"),v=c("./src/io/param-seek-handler.js"),g=c("./src/utils/exception.js"),y=function(){function x(b,w,E){this.TAG="IOController",this._config=w,this._extraData=E,this._stashInitialSize=1024*384,w.stashInitialSize!=null&&w.stashInitialSize>0&&(this._stashInitialSize=w.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,w.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=b,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(b.url),this._refTotalLength=b.filesize?b.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return x.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},x.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},x.prototype.isPaused=function(){return this._paused},Object.defineProperty(x.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"extraData",{get:function(){return this._extraData},set:function(b){this._extraData=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(b){this._onDataArrival=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(b){this._onSeeked=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onError",{get:function(){return this._onError},set:function(b){this._onError=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onComplete",{get:function(){return this._onComplete},set:function(b){this._onComplete=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(b){this._onRedirect=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(b){this._onRecoveredEarlyEof=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentSpeed",{get:function(){return this._loaderClass===d.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),x.prototype._selectSeekHandler=function(){var b=this._config;if(b.seekType==="range")this._seekHandler=new _.default(this._config.rangeLoadZeroStart);else if(b.seekType==="param"){var w=b.seekParamStart||"bstart",E=b.seekParamEnd||"bend";this._seekHandler=new v.default(w,E)}else if(b.seekType==="custom"){if(typeof b.customSeekHandler!="function")throw new g.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new b.customSeekHandler}else throw new g.InvalidArgumentException("Invalid seekType in config: "+b.seekType)},x.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=m.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(p.default.isSupported())this._loaderClass=p.default;else if(d.default.isSupported())this._loaderClass=d.default;else throw new g.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},x.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},x.prototype.open=function(b){this._currentRange={from:0,to:-1},b&&(this._currentRange.from=b),this._speedSampler.reset(),b||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},x.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},x.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},x.prototype.resume=function(){if(this._paused){this._paused=!1;var b=this._resumeFrom;this._resumeFrom=0,this._internalSeek(b,!0)}},x.prototype.seek=function(b){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(b,!0)},x.prototype._internalSeek=function(b,w){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(w),this._loader.destroy(),this._loader=null;var E={from:b,to:-1};this._currentRange={from:E.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,E),this._onSeeked&&this._onSeeked()},x.prototype.updateUrl=function(b){if(!b||typeof b!="string"||b.length===0)throw new g.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=b},x.prototype._expandBuffer=function(b){for(var w=this._stashSize;w+1024*1024*1<b;)w*=2;if(w+=1024*1024*1,w!==this._bufferSize){var E=new ArrayBuffer(w);if(this._stashUsed>0){var S=new Uint8Array(this._stashBuffer,0,this._stashUsed),C=new Uint8Array(E,0,w);C.set(S,0)}this._stashBuffer=E,this._bufferSize=w}},x.prototype._normalizeSpeed=function(b){var w=this._speedNormalizeList,E=w.length-1,S=0,C=0,T=E;if(b<w[0])return w[0];for(;C<=T;){if(S=C+Math.floor((T-C)/2),S===E||b>=w[S]&&b<w[S+1])return w[S];w[S]<b?C=S+1:T=S-1}},x.prototype._adjustStashSize=function(b){var w=0;this._config.isLive||b<512?w=b:b>=512&&b<=1024?w=Math.floor(b*1.5):w=b*2,w>8192&&(w=8192);var E=w*1024+1024*1024*1;this._bufferSize<E&&this._expandBuffer(E),this._stashSize=w*1024},x.prototype._dispatchChunks=function(b,w){return this._currentRange.to=w+b.byteLength-1,this._onDataArrival(b,w)},x.prototype._onURLRedirect=function(b){this._redirectedURL=b,this._onRedirect&&this._onRedirect(b)},x.prototype._onContentLengthKnown=function(b){b&&this._fullRequestFlag&&(this._totalLength=b,this._fullRequestFlag=!1)},x.prototype._onLoaderChunkArrival=function(b,w,E){if(!this._onDataArrival)throw new g.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(b.byteLength);var S=this._speedSampler.lastSecondKBps;if(S!==0){var C=this._normalizeSpeed(S);this._speedNormalized!==C&&(this._speedNormalized=C,this._adjustStashSize(C))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=w),this._stashUsed+b.byteLength<=this._stashSize){var A=new Uint8Array(this._stashBuffer,0,this._stashSize);A.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var A=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var O=this._stashBuffer.slice(0,this._stashUsed),T=this._dispatchChunks(O,this._stashByteStart);if(T<O.byteLength){if(T>0){var R=new Uint8Array(O,T);A.set(R,0),this._stashUsed=R.byteLength,this._stashByteStart+=T}}else this._stashUsed=0,this._stashByteStart+=T;this._stashUsed+b.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+b.byteLength),A=new Uint8Array(this._stashBuffer,0,this._bufferSize)),A.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var T=this._dispatchChunks(b,w);if(T<b.byteLength){var I=b.byteLength-T;I>this._bufferSize&&(this._expandBuffer(I),A=new Uint8Array(this._stashBuffer,0,this._bufferSize)),A.set(new Uint8Array(b,T),0),this._stashUsed+=I,this._stashByteStart=w+T}}}else if(this._stashUsed===0){var T=this._dispatchChunks(b,w);if(T<b.byteLength){var I=b.byteLength-T;I>this._bufferSize&&this._expandBuffer(I);var A=new Uint8Array(this._stashBuffer,0,this._bufferSize);A.set(new Uint8Array(b,T),0),this._stashUsed+=I,this._stashByteStart=w+T}}else{this._stashUsed+b.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+b.byteLength);var A=new Uint8Array(this._stashBuffer,0,this._bufferSize);A.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength;var T=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(T<this._stashUsed&&T>0){var R=new Uint8Array(this._stashBuffer,T);A.set(R,0)}this._stashUsed-=T,this._stashByteStart+=T}}},x.prototype._flushStashBuffer=function(b){if(this._stashUsed>0){var w=this._stashBuffer.slice(0,this._stashUsed),E=this._dispatchChunks(w,this._stashByteStart),S=w.byteLength-E;if(E<w.byteLength)if(b)l.default.w(this.TAG,S+" bytes unconsumed data remain when flush buffer, dropped");else{if(E>0){var C=new Uint8Array(this._stashBuffer,0,this._bufferSize),T=new Uint8Array(w,E);C.set(T,0),this._stashUsed=T.byteLength,this._stashByteStart+=E}return 0}return this._stashUsed=0,this._stashByteStart=0,S}return 0},x.prototype._onLoaderComplete=function(b,w){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},x.prototype._onLoaderError=function(b,w){switch(l.default.e(this.TAG,"Loader error, code = "+w.code+", msg = "+w.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,b=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF),b){case f.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var E=this._currentRange.to+1;E<this._totalLength&&(l.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(E,!1));return}b=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case f.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case f.LoaderErrors.CONNECTING_TIMEOUT:case f.LoaderErrors.HTTP_STATUS_CODE_INVALID:case f.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(b,w);else throw new g.RuntimeException("IOException: "+w.msg)},x}();s.default=y},"./src/io/loader.js":function(o,s,c){c.r(s),c.d(s,{LoaderStatus:function(){return u},LoaderErrors:function(){return f},BaseLoader:function(){return h}});var l=c("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},f={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},h=function(){function p(d){this._type=d||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return p.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},p.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(d){this._onContentLengthKnown=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(d){this._onURLRedirect=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(d){this._onDataArrival=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(d){this._onError=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onComplete",{get:function(){return this._onComplete},set:function(d){this._onComplete=d},enumerable:!1,configurable:!0}),p.prototype.open=function(d,m){throw new l.NotImplementedException("Unimplemented abstract function!")},p.prototype.abort=function(){throw new l.NotImplementedException("Unimplemented abstract function!")},p}()},"./src/io/param-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f,h){this._startName=f,this._endName=h}return u.prototype.getConfig=function(f,h){var p=f;if(h.from!==0||h.to!==-1){var d=!0;p.indexOf("?")===-1&&(p+="?",d=!1),d&&(p+="&"),p+=this._startName+"="+h.from.toString(),h.to!==-1&&(p+="&"+this._endName+"="+h.to.toString())}return{url:p,headers:{}}},u.prototype.removeURLParameters=function(f){var h=f.split("?")[0],p=void 0,d=f.indexOf("?");d!==-1&&(p=f.substring(d+1));var m="";if(p!=null&&p.length>0)for(var _=p.split("&"),v=0;v<_.length;v++){var g=_[v].split("="),y=v>0;g[0]!==this._startName&&g[0]!==this._endName&&(y&&(m+="&"),m+=_[v])}return m.length===0?h:h+"?"+m},u}();s.default=l},"./src/io/range-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f){this._zeroStart=f||!1}return u.prototype.getConfig=function(f,h){var p={};if(h.from!==0||h.to!==-1){var d=void 0;h.to!==-1?d="bytes="+h.from.toString()+"-"+h.to.toString():d="bytes="+h.from.toString()+"-",p.Range=d}else this._zeroStart&&(p.Range="bytes=0-");return{url:f,headers:p}},u.prototype.removeURLParameters=function(f){return f},u}();s.default=l},"./src/io/speed-sampler.js":function(o,s,c){c.r(s);var l=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(f){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=f,this._totalBytes+=f):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=f,this._totalBytes+=f):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=f,this._totalBytes+=f,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var f=(this._now()-this._lastCheckpoint)/1e3;return f==0&&(f=1),this._intervalBytes/f/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var f=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/f/1024},enumerable:!1,configurable:!0}),u}();s.default=l},"./src/io/websocket-loader.js":function(o,s,c){c.r(s);var l=c("./src/io/loader.js"),u=c("./src/utils/exception.js"),f=function(){var p=function(d,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,v){_.__proto__=v}||function(_,v){for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(_[g]=v[g])},p(d,m)};return function(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(d,m);function _(){this.constructor=d}d.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),h=function(p){f(d,p);function d(){var m=p.call(this,"websocket-loader")||this;return m.TAG="WebSocketLoader",m._needStash=!0,m._ws=null,m._requestAbort=!1,m._receivedLength=0,m}return d.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},d.prototype.destroy=function(){this._ws&&this.abort(),p.prototype.destroy.call(this)},d.prototype.open=function(m){try{var _=this._ws=new self.WebSocket(m.url);_.binaryType="arraybuffer",_.onopen=this._onWebSocketOpen.bind(this),_.onclose=this._onWebSocketClose.bind(this),_.onmessage=this._onWebSocketMessage.bind(this),_.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(g){this._status=l.LoaderStatus.kError;var v={code:g.code,msg:g.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,v);else throw new u.RuntimeException(v.msg)}},d.prototype.abort=function(){var m=this._ws;m&&(m.readyState===0||m.readyState===1)&&(this._requestAbort=!0,m.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},d.prototype._onWebSocketOpen=function(m){this._status=l.LoaderStatus.kBuffering},d.prototype._onWebSocketClose=function(m){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},d.prototype._onWebSocketMessage=function(m){var _=this;if(m.data instanceof ArrayBuffer)this._dispatchArrayBuffer(m.data);else if(m.data instanceof Blob){var v=new FileReader;v.onload=function(){_._dispatchArrayBuffer(v.result)},v.readAsArrayBuffer(m.data)}else{this._status=l.LoaderStatus.kError;var g={code:-1,msg:"Unsupported WebSocket message type: "+m.data.constructor.name};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,g);else throw new u.RuntimeException(g.msg)}},d.prototype._dispatchArrayBuffer=function(m){var _=m,v=this._receivedLength;this._receivedLength+=_.byteLength,this._onDataArrival&&this._onDataArrival(_,v,this._receivedLength)},d.prototype._onWebSocketError=function(m){this._status=l.LoaderStatus.kError;var _={code:m.code,msg:m.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)},d}(l.BaseLoader);s.default=h},"./src/io/xhr-moz-chunked-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var d=function(m,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},d(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");d(m,_);function v(){this.constructor=m}m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}}(),p=function(d){h(m,d);function m(_,v){var g=d.call(this,"xhr-moz-chunked-loader")||this;return g.TAG="MozChunkedLoader",g._seekHandler=_,g._config=v,g._needStash=!0,g._xhr=null,g._requestAbort=!1,g._contentLength=null,g._receivedLength=0,g}return m.isSupported=function(){try{var _=new XMLHttpRequest;return _.open("GET","https://example.com",!0),_.responseType="moz-chunked-arraybuffer",_.responseType==="moz-chunked-arraybuffer"}catch(v){return l.default.w("MozChunkedLoader",v.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),d.prototype.destroy.call(this)},m.prototype.open=function(_,v){this._dataSource=_,this._range=v;var g=_.url;this._config.reuseRedirectedURL&&_.redirectedURL!=null&&(g=_.redirectedURL);var y=this._seekHandler.getConfig(g,v);this._requestURL=y.url;var x=this._xhr=new XMLHttpRequest;if(x.open("GET",y.url,!0),x.responseType="moz-chunked-arraybuffer",x.onreadystatechange=this._onReadyStateChange.bind(this),x.onprogress=this._onProgress.bind(this),x.onloadend=this._onLoadEnd.bind(this),x.onerror=this._onXhrError.bind(this),_.withCredentials&&(x.withCredentials=!0),typeof y.headers=="object"){var b=y.headers;for(var w in b)b.hasOwnProperty(w)&&x.setRequestHeader(w,b[w])}if(typeof this._config.headers=="object"){var b=this._config.headers;for(var w in b)b.hasOwnProperty(w)&&x.setRequestHeader(w,b[w])}this._status=u.LoaderStatus.kConnecting,x.send()},m.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},m.prototype._onReadyStateChange=function(_){var v=_.target;if(v.readyState===2){if(v.responseURL!=null&&v.responseURL!==this._requestURL&&this._onURLRedirect){var g=this._seekHandler.removeURLParameters(v.responseURL);this._onURLRedirect(g)}if(v.status!==0&&(v.status<200||v.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:v.status,msg:v.statusText});else throw new f.RuntimeException("MozChunkedLoader: Http code invalid, "+v.status+" "+v.statusText);else this._status=u.LoaderStatus.kBuffering}},m.prototype._onProgress=function(_){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&_.total!==null&&_.total!==0&&(this._contentLength=_.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var v=_.target.response,g=this._range.from+this._receivedLength;this._receivedLength+=v.byteLength,this._onDataArrival&&this._onDataArrival(v,g,this._receivedLength)}},m.prototype._onLoadEnd=function(_){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},m.prototype._onXhrError=function(_){this._status=u.LoaderStatus.kError;var v=0,g=null;if(this._contentLength&&_.loaded<this._contentLength?(v=u.LoaderErrors.EARLY_EOF,g={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(v=u.LoaderErrors.EXCEPTION,g={code:-1,msg:_.constructor.name+" "+_.type}),this._onError)this._onError(v,g);else throw new f.RuntimeException(g.msg)},m}(u.BaseLoader);s.default=p},"./src/io/xhr-range-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/utils/exception.js"),p=function(){var m=function(_,v){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(g[x]=y[x])},m(_,v)};return function(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");m(_,v);function g(){this.constructor=_}_.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}(),d=function(m){p(_,m);function _(v,g){var y=m.call(this,"xhr-range-loader")||this;return y.TAG="RangeLoader",y._seekHandler=v,y._config=g,y._needStash=!1,y._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],y._currentChunkSizeKB=384,y._currentSpeedNormalized=0,y._zeroSpeedChunkCount=0,y._xhr=null,y._speedSampler=new u.default,y._requestAbort=!1,y._waitForTotalLength=!1,y._totalLengthReceived=!1,y._currentRequestURL=null,y._currentRedirectedURL=null,y._currentRequestRange=null,y._totalLength=null,y._contentLength=null,y._receivedLength=0,y._lastTimeLoaded=0,y}return _.isSupported=function(){try{var v=new XMLHttpRequest;return v.open("GET","https://example.com",!0),v.responseType="arraybuffer",v.responseType==="arraybuffer"}catch(g){return l.default.w("RangeLoader",g.message),!1}},_.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),m.prototype.destroy.call(this)},Object.defineProperty(_.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),_.prototype.open=function(v,g){this._dataSource=v,this._range=g,this._status=f.LoaderStatus.kConnecting;var y=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(y=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!y?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},_.prototype._openSubRange=function(){var v=this._currentChunkSizeKB*1024,g=this._range.from+this._receivedLength,y=g+v;this._contentLength!=null&&y-this._range.from>=this._contentLength&&(y=this._range.from+this._contentLength-1),this._currentRequestRange={from:g,to:y},this._internalOpen(this._dataSource,this._currentRequestRange)},_.prototype._internalOpen=function(v,g){this._lastTimeLoaded=0;var y=v.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?y=this._currentRedirectedURL:v.redirectedURL!=null&&(y=v.redirectedURL));var x=this._seekHandler.getConfig(y,g);this._currentRequestURL=x.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",x.url,!0),b.responseType="arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onload=this._onLoad.bind(this),b.onerror=this._onXhrError.bind(this),v.withCredentials&&(b.withCredentials=!0),typeof x.headers=="object"){var w=x.headers;for(var E in w)w.hasOwnProperty(E)&&b.setRequestHeader(E,w[E])}if(typeof this._config.headers=="object"){var w=this._config.headers;for(var E in w)w.hasOwnProperty(E)&&b.setRequestHeader(E,w[E])}b.send()},_.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=f.LoaderStatus.kComplete},_.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},_.prototype._onReadyStateChange=function(v){var g=v.target;if(g.readyState===2){if(g.responseURL!=null){var y=this._seekHandler.removeURLParameters(g.responseURL);g.responseURL!==this._currentRequestURL&&y!==this._currentRedirectedURL&&(this._currentRedirectedURL=y,this._onURLRedirect&&this._onURLRedirect(y))}if(g.status>=200&&g.status<=299){if(this._waitForTotalLength)return;this._status=f.LoaderStatus.kBuffering}else if(this._status=f.LoaderStatus.kError,this._onError)this._onError(f.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:g.status,msg:g.statusText});else throw new h.RuntimeException("RangeLoader: Http code invalid, "+g.status+" "+g.statusText)}},_.prototype._onProgress=function(v){if(this._status!==f.LoaderStatus.kError){if(this._contentLength===null){var g=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,g=!0;var y=v.total;this._internalAbort(),y!=null&y!==0&&(this._totalLength=y)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,g){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var x=v.loaded-this._lastTimeLoaded;this._lastTimeLoaded=v.loaded,this._speedSampler.addBytes(x)}},_.prototype._normalizeSpeed=function(v){var g=this._chunkSizeKBList,y=g.length-1,x=0,b=0,w=y;if(v<g[0])return g[0];for(;b<=w;){if(x=b+Math.floor((w-b)/2),x===y||v>=g[x]&&v<g[x+1])return g[x];g[x]<v?b=x+1:w=x-1}},_.prototype._onLoad=function(v){if(this._status!==f.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var g=this._speedSampler.lastSecondKBps;if(g===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(g=this._speedSampler.currentKBps)),g!==0){var y=this._normalizeSpeed(g);this._currentSpeedNormalized!==y&&(this._currentSpeedNormalized=y,this._currentChunkSizeKB=y)}var x=v.target.response,b=this._range.from+this._receivedLength;this._receivedLength+=x.byteLength;var w=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():w=!0,this._onDataArrival&&this._onDataArrival(x,b,this._receivedLength),w&&(this._status=f.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},_.prototype._onXhrError=function(v){this._status=f.LoaderStatus.kError;var g=0,y=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(g=f.LoaderErrors.EARLY_EOF,y={code:-1,msg:"RangeLoader meet Early-Eof"}):(g=f.LoaderErrors.EXCEPTION,y={code:-1,msg:v.constructor.name+" "+v.type}),this._onError)this._onError(g,y);else throw new h.RuntimeException(y.msg)},_}(f.BaseLoader);s.default=d},"./src/player/flv-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/player/player-events.js"),d=c("./src/core/transmuxer.js"),m=c("./src/core/transmuxing-events.js"),_=c("./src/core/mse-controller.js"),v=c("./src/core/mse-events.js"),g=c("./src/player/player-errors.js"),y=c("./src/config.js"),x=c("./src/utils/exception.js"),b=function(){function w(E,S){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,y.createDefaultConfig)(),typeof S=="object"&&Object.assign(this._config,S),E.type.toLowerCase()!=="flv")throw new x.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");E.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=E,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var C=h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(C||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return w.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},w.prototype.on=function(E,S){var C=this;E===p.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){C._emitter.emit(p.default.MEDIA_INFO,C.mediaInfo)}):E===p.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){C._emitter.emit(p.default.STATISTICS_INFO,C.statisticsInfo)}),this._emitter.addListener(E,S)},w.prototype.off=function(E,S){this._emitter.removeListener(E,S)},w.prototype.attachMediaElement=function(E){var S=this;if(this._mediaElement=E,E.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),E.addEventListener("seeking",this.e.onvSeeking),E.addEventListener("canplay",this.e.onvCanPlay),E.addEventListener("stalled",this.e.onvStalled),E.addEventListener("progress",this.e.onvProgress),this._msectl=new _.default(this._config),this._msectl.on(v.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(v.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(v.default.SOURCE_OPEN,function(){S._mseSourceOpened=!0,S._hasPendingLoad&&(S._hasPendingLoad=!1,S.load())}),this._msectl.on(v.default.ERROR,function(C){S._emitter.emit(p.default.ERROR,g.ErrorTypes.MEDIA_ERROR,g.ErrorDetails.MEDIA_MSE_ERROR,C)}),this._msectl.attachMediaElement(E),this._pendingSeekTime!=null)try{E.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},w.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},w.prototype.load=function(){var E=this;if(!this._mediaElement)throw new x.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new x.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new d.default(this._mediaDataSource,this._config),this._transmuxer.on(m.default.INIT_SEGMENT,function(S,C){E._msectl.appendInitSegment(C)}),this._transmuxer.on(m.default.MEDIA_SEGMENT,function(S,C){if(E._msectl.appendMediaSegment(C),E._config.lazyLoad&&!E._config.isLive){var T=E._mediaElement.currentTime;C.info.endDts>=(T+E._config.lazyLoadMaxDuration)*1e3&&E._progressChecker==null&&(f.default.v(E.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),E._suspendTransmuxer())}}),this._transmuxer.on(m.default.LOADING_COMPLETE,function(){E._msectl.endOfStream(),E._emitter.emit(p.default.LOADING_COMPLETE)}),this._transmuxer.on(m.default.RECOVERED_EARLY_EOF,function(){E._emitter.emit(p.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(m.default.IO_ERROR,function(S,C){E._emitter.emit(p.default.ERROR,g.ErrorTypes.NETWORK_ERROR,S,C)}),this._transmuxer.on(m.default.DEMUX_ERROR,function(S,C){E._emitter.emit(p.default.ERROR,g.ErrorTypes.MEDIA_ERROR,S,{code:-1,msg:C})}),this._transmuxer.on(m.default.MEDIA_INFO,function(S){E._mediaInfo=S,E._emitter.emit(p.default.MEDIA_INFO,Object.assign({},S))}),this._transmuxer.on(m.default.METADATA_ARRIVED,function(S){E._emitter.emit(p.default.METADATA_ARRIVED,S)}),this._transmuxer.on(m.default.SCRIPTDATA_ARRIVED,function(S){E._emitter.emit(p.default.SCRIPTDATA_ARRIVED,S)}),this._transmuxer.on(m.default.STATISTICS_INFO,function(S){E._statisticsInfo=E._fillStatisticsInfo(S),E._emitter.emit(p.default.STATISTICS_INFO,Object.assign({},E._statisticsInfo))}),this._transmuxer.on(m.default.RECOMMEND_SEEKPOINT,function(S){E._mediaElement&&!E._config.accurateSeek&&(E._requestSetTime=!0,E._mediaElement.currentTime=S/1e3)}),this._transmuxer.open()}},w.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},w.prototype.play=function(){return this._mediaElement.play()},w.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(w.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(E){this._mediaElement.volume=E},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(E){this._mediaElement.muted=E},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(E){this._mediaElement?this._internalSeek(E):this._pendingSeekTime=E},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),w.prototype._fillStatisticsInfo=function(E){if(E.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return E;var S=!0,C=0,T=0;if(this._mediaElement.getVideoPlaybackQuality){var I=this._mediaElement.getVideoPlaybackQuality();C=I.totalVideoFrames,T=I.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(C=this._mediaElement.webkitDecodedFrameCount,T=this._mediaElement.webkitDroppedFrameCount):S=!1;return S&&(E.decodedFrames=C,E.droppedFrames=T),E},w.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var E=this._mediaElement.buffered,S=this._mediaElement.currentTime,C=0,T=0;T<E.length;T++){var I=E.start(T),A=E.end(T);if(I<=S&&S<A){C=A;break}}C>=S+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(f.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},w.prototype._onmseBufferFull=function(){f.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},w.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},w.prototype._checkProgressAndResume=function(){for(var E=this._mediaElement.currentTime,S=this._mediaElement.buffered,C=!1,T=0;T<S.length;T++){var I=S.start(T),A=S.end(T);if(E>=I&&E<A){E>=A-this._config.lazyLoadRecoverDuration&&(C=!0);break}}C&&(window.clearInterval(this._progressChecker),this._progressChecker=null,C&&(f.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},w.prototype._isTimepointBuffered=function(E){for(var S=this._mediaElement.buffered,C=0;C<S.length;C++){var T=S.start(C),I=S.end(C);if(E>=T&&E<I)return!0}return!1},w.prototype._internalSeek=function(E){var S=this._isTimepointBuffered(E),C=!1,T=0;if(E<1&&this._mediaElement.buffered.length>0){var I=this._mediaElement.buffered.start(0);(I<1&&E<I||h.default.safari)&&(C=!0,T=h.default.safari?.1:I)}if(C)this._requestSetTime=!0,this._mediaElement.currentTime=T;else if(S){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=E;else{var A=this._msectl.getNearestKeyframe(Math.floor(E*1e3));this._requestSetTime=!0,A!=null?this._mediaElement.currentTime=A.dts/1e3:this._mediaElement.currentTime=E}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(E),this._transmuxer.seek(Math.floor(E*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=E)},w.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var E=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(E)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(E),this._transmuxer.seek(Math.floor(E*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=E))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},w.prototype._checkAndResumeStuckPlayback=function(E){var S=this._mediaElement;if(E||!this._receivedCanPlay||S.readyState<2){var C=S.buffered;C.length>0&&S.currentTime<C.start(0)&&(f.default.w(this.TAG,"Playback seems stuck at "+S.currentTime+", seek to "+C.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=C.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},w.prototype._onvLoadedMetadata=function(E){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},w.prototype._onvSeeking=function(E){var S=this._mediaElement.currentTime,C=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(S<1&&C.length>0){var T=C.start(0);if(T<1&&S<T||h.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=h.default.safari?.1:T;return}}if(this._isTimepointBuffered(S)){if(this._alwaysSeekKeyframe){var I=this._msectl.getNearestKeyframe(Math.floor(S*1e3));I!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=I.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:S,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},w.prototype._onvCanPlay=function(E){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},w.prototype._onvStalled=function(E){this._checkAndResumeStuckPlayback(!0)},w.prototype._onvProgress=function(E){this._checkAndResumeStuckPlayback()},w}();s.default=b},"./src/player/native-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/player/player-events.js"),h=c("./src/config.js"),p=c("./src/utils/exception.js"),d=function(){function m(_,v){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,h.createDefaultConfig)(),typeof v=="object"&&Object.assign(this._config,v),_.type.toLowerCase()==="flv")throw new p.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(_.hasOwnProperty("segments"))throw new p.InvalidArgumentException("NativePlayer("+_.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=_,this._mediaElement=null}return m.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},m.prototype.on=function(_,v){var g=this;_===f.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){g._emitter.emit(f.default.MEDIA_INFO,g.mediaInfo)}):_===f.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){g._emitter.emit(f.default.STATISTICS_INFO,g.statisticsInfo)}),this._emitter.addListener(_,v)},m.prototype.off=function(_,v){this._emitter.removeListener(_,v)},m.prototype.attachMediaElement=function(_){if(this._mediaElement=_,_.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{_.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},m.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},m.prototype.load=function(){if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},m.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},m.prototype.play=function(){return this._mediaElement.play()},m.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(m.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(_){this._mediaElement.volume=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(_){this._mediaElement.muted=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(_){this._mediaElement?this._mediaElement.currentTime=_:this._pendingSeekTime=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"mediaInfo",{get:function(){var _=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",v={mimeType:_+this._mediaDataSource.type};return this._mediaElement&&(v.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(v.width=this._mediaElement.videoWidth,v.height=this._mediaElement.videoHeight)),v},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"statisticsInfo",{get:function(){var _={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return _;var v=!0,g=0,y=0;if(this._mediaElement.getVideoPlaybackQuality){var x=this._mediaElement.getVideoPlaybackQuality();g=x.totalVideoFrames,y=x.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(g=this._mediaElement.webkitDecodedFrameCount,y=this._mediaElement.webkitDroppedFrameCount):v=!1;return v&&(_.decodedFrames=g,_.droppedFrames=y),_},enumerable:!1,configurable:!0}),m.prototype._onvLoadedMetadata=function(_){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(f.default.MEDIA_INFO,this.mediaInfo)},m.prototype._reportStatisticsInfo=function(){this._emitter.emit(f.default.STATISTICS_INFO,this.statisticsInfo)},m}();s.default=d},"./src/player/player-errors.js":function(o,s,c){c.r(s),c.d(s,{ErrorTypes:function(){return f},ErrorDetails:function(){return h}});var l=c("./src/io/loader.js"),u=c("./src/demux/demux-errors.js"),f={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},h={NETWORK_EXCEPTION:l.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};s.default=l},"./src/remux/aac-silent.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.getSilentFrame=function(f,h){if(f==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();s.default=l},"./src/remux/mp4-generator.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var f in u.types)u.types.hasOwnProperty(f)&&(u.types[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);var h=u.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(f){for(var h=8,p=null,d=Array.prototype.slice.call(arguments,1),m=d.length,_=0;_<m;_++)h+=d[_].byteLength;p=new Uint8Array(h),p[0]=h>>>24&255,p[1]=h>>>16&255,p[2]=h>>>8&255,p[3]=h&255,p.set(f,4);for(var v=8,_=0;_<m;_++)p.set(d[_],v),v+=d[_].byteLength;return p},u.generateInitSegment=function(f){var h=u.box(u.types.ftyp,u.constants.FTYP),p=u.moov(f),d=new Uint8Array(h.byteLength+p.byteLength);return d.set(h,0),d.set(p,h.byteLength),d},u.moov=function(f){var h=u.mvhd(f.timescale,f.duration),p=u.trak(f),d=u.mvex(f);return u.box(u.types.moov,h,p,d)},u.mvhd=function(f,h){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(f){return u.box(u.types.trak,u.tkhd(f),u.mdia(f))},u.tkhd=function(f){var h=f.id,p=f.duration,d=f.presentWidth,m=f.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>>8&255,d&255,0,0,m>>>8&255,m&255,0,0]))},u.mdia=function(f){return u.box(u.types.mdia,u.mdhd(f),u.hdlr(f),u.minf(f))},u.mdhd=function(f){var h=f.timescale,p=f.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255,85,196,0,0]))},u.hdlr=function(f){var h=null;return f.type==="audio"?h=u.constants.HDLR_AUDIO:h=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,h)},u.minf=function(f){var h=null;return f.type==="audio"?h=u.box(u.types.smhd,u.constants.SMHD):h=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,h,u.dinf(),u.stbl(f))},u.dinf=function(){var f=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return f},u.stbl=function(f){var h=u.box(u.types.stbl,u.stsd(f),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return h},u.stsd=function(f){return f.type==="audio"?f.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(f))},u.mp3=function(f){var h=f.channelCount,p=f.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types[".mp3"],d)},u.mp4a=function(f){var h=f.channelCount,p=f.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types.mp4a,d,u.esds(f))},u.esds=function(f){var h=f.config||[],p=h.length,d=new Uint8Array([0,0,0,0,3,23+p,0,1,0,4,15+p,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([p]).concat(h).concat([6,1,2]));return u.box(u.types.esds,d)},u.avc1=function(f){var h=f.avcc,p=f.codecWidth,d=f.codecHeight,m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,p>>>8&255,p&255,d>>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,m,u.box(u.types.avcC,h))},u.mvex=function(f){return u.box(u.types.mvex,u.trex(f))},u.trex=function(f){var h=f.id,p=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,p)},u.moof=function(f,h){return u.box(u.types.moof,u.mfhd(f.sequenceNumber),u.traf(f,h))},u.mfhd=function(f){var h=new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255]);return u.box(u.types.mfhd,h)},u.traf=function(f,h){var p=f.id,d=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255])),m=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),_=u.sdtp(f),v=u.trun(f,_.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,d,m,v,_)},u.sdtp=function(f){for(var h=f.samples||[],p=h.length,d=new Uint8Array(4+p),m=0;m<p;m++){var _=h[m].flags;d[m+4]=_.isLeading<<6|_.dependsOn<<4|_.isDependedOn<<2|_.hasRedundancy}return u.box(u.types.sdtp,d)},u.trun=function(f,h){var p=f.samples||[],d=p.length,m=12+16*d,_=new Uint8Array(m);h+=8+m,_.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,d&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255],0);for(var v=0;v<d;v++){var g=p[v].duration,y=p[v].size,x=p[v].flags,b=p[v].cts;_.set([g>>>24&255,g>>>16&255,g>>>8&255,g&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,x.isLeading<<2|x.dependsOn,x.isDependedOn<<6|x.hasRedundancy<<4|x.isNonSync,0,0,b>>>24&255,b>>>16&255,b>>>8&255,b&255],12+16*v)}return u.box(u.types.trun,_)},u.mdat=function(f){return u.box(u.types.mdat,f)},u}();l.init(),s.default=l},"./src/remux/mp4-remuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/remux/mp4-generator.js"),f=c("./src/remux/aac-silent.js"),h=c("./src/utils/browser.js"),p=c("./src/core/media-segment-info.js"),d=c("./src/utils/exception.js"),m=function(){function _(v){this.TAG="MP4Remuxer",this._config=v,this._isLive=v.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new p.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new p.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661)),this._fillSilentAfterSeek=h.default.msedge||h.default.msie,this._mp3UseMpegAudio=!h.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return _.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},_.prototype.bindDataSource=function(v){return v.onDataAvailable=this.remux.bind(this),v.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(_.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(v){this._onInitSegment=v},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(v){this._onMediaSegment=v},enumerable:!1,configurable:!0}),_.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},_.prototype.seek=function(v){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},_.prototype.remux=function(v,g){if(!this._onMediaSegment)throw new d.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(v,g),this._remuxVideo(g),this._remuxAudio(v)},_.prototype._onTrackMetadataReceived=function(v,g){var y=null,x="mp4",b=g.codec;if(v==="audio")this._audioMeta=g,g.codec==="mp3"&&this._mp3UseMpegAudio?(x="mpeg",b="",y=new Uint8Array):y=u.default.generateInitSegment(g);else if(v==="video")this._videoMeta=g,y=u.default.generateInitSegment(g);else return;if(!this._onInitSegment)throw new d.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(v,{type:v,data:y.buffer,codec:b,container:v+"/"+x,mediaDuration:g.duration})},_.prototype._calculateDtsBase=function(v,g){this._dtsBaseInited||(v.samples&&v.samples.length&&(this._audioDtsBase=v.samples[0].dts),g.samples&&g.samples.length&&(this._videoDtsBase=g.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},_.prototype.flushStashedSamples=function(){var v=this._videoStashedLastSample,g=this._audioStashedLastSample,y={type:"video",id:1,sequenceNumber:0,samples:[],length:0};v!=null&&(y.samples.push(v),y.length=v.length);var x={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};g!=null&&(x.samples.push(g),x.length=g.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(y,!0),this._remuxAudio(x,!0)},_.prototype._remuxAudio=function(v,g){if(this._audioMeta!=null){var y=v,x=y.samples,b=void 0,w=-1,E=-1,S=this._audioMeta.refSampleDuration,C=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,T=this._dtsBaseInited&&this._audioNextDts===void 0,I=!1;if(!(!x||x.length===0)&&!(x.length===1&&!g)){var A=0,R=null,O=0;C?(A=0,O=y.length):(A=8,O=8+y.length);var F=null;if(x.length>1&&(F=x.pop(),O-=F.length),this._audioStashedLastSample!=null){var N=this._audioStashedLastSample;this._audioStashedLastSample=null,x.unshift(N),O+=N.length}F!=null&&(this._audioStashedLastSample=F);var $=x[0].dts-this._dtsBase;if(this._audioNextDts)b=$-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())b=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(I=!0);else{var q=this._audioSegmentInfoList.getLastSampleBefore($);if(q!=null){var K=$-(q.originalDts+q.duration);K<=3&&(K=0);var G=q.dts+q.duration+K;b=$-G}else b=0}if(I){var L=$-b,j=this._videoSegmentInfoList.getLastSegmentBefore($);if(j!=null&&j.beginDts<L){var B=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(B){var D=j.beginDts,J=L-j.beginDts;l.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+D+", duration: "+J),x.unshift({unit:B,dts:D,pts:D}),O+=B.byteLength}}else I=!1}for(var Q=[],se=0;se<x.length;se++){var N=x[se],re=N.unit,ce=N.dts-this._dtsBase,D=ce,Ee=!1,we=null,pe=0;if(!(ce<-.001)){if(this._audioMeta.codec!=="mp3"){var ve=ce,Ae=3;if(this._audioNextDts&&(ve=this._audioNextDts),b=ce-ve,b<=-Ae*S){l.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+ce+" ms ,curRefDts: "+ve+" ms)  due to dtsCorrection: "+b+" ms overlap.");continue}else if(b>=Ae*S&&this._fillAudioTimestampGap&&!h.default.safari){Ee=!0;var ke=Math.floor(b/S);l.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+ce+" ms, curRefDts: "+ve+" ms, ")+("dtsCorrection: "+Math.round(b)+" ms, generate: "+ke+" frames")),D=Math.floor(ve),pe=Math.floor(ve+S)-D;var B=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);B==null&&(l.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),B=re),we=[];for(var Te=0;Te<ke;Te++){ve=ve+S;var Fe=Math.floor(ve),Ne=Math.floor(ve+S)-Fe,Je={dts:Fe,pts:Fe,cts:0,unit:B,size:B.byteLength,duration:Ne,originalDts:ce,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};we.push(Je),O+=Je.size}this._audioNextDts=ve+S}else D=Math.floor(ve),pe=Math.floor(ve+S)-D,this._audioNextDts=ve+S}else{if(D=ce-b,se!==x.length-1){var vt=x[se+1].dts-this._dtsBase-b;pe=vt-D}else if(F!=null){var vt=F.dts-this._dtsBase-b;pe=vt-D}else Q.length>=1?pe=Q[Q.length-1].duration:pe=Math.floor(S);this._audioNextDts=D+pe}w===-1&&(w=D),Q.push({dts:D,pts:D,cts:0,unit:N.unit,size:N.unit.byteLength,duration:pe,originalDts:ce,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Ee&&Q.push.apply(Q,we)}}if(Q.length===0){y.samples=[],y.length=0;return}C?R=new Uint8Array(O):(R=new Uint8Array(O),R[0]=O>>>24&255,R[1]=O>>>16&255,R[2]=O>>>8&255,R[3]=O&255,R.set(u.default.types.mdat,4));for(var se=0;se<Q.length;se++){var re=Q[se].unit;R.set(re,A),A+=re.byteLength}var Qe=Q[Q.length-1];E=Qe.dts+Qe.duration;var Ke=new p.MediaSegmentInfo;Ke.beginDts=w,Ke.endDts=E,Ke.beginPts=w,Ke.endPts=E,Ke.originalBeginDts=Q[0].originalDts,Ke.originalEndDts=Qe.originalDts+Qe.duration,Ke.firstSample=new p.SampleInfo(Q[0].dts,Q[0].pts,Q[0].duration,Q[0].originalDts,!1),Ke.lastSample=new p.SampleInfo(Qe.dts,Qe.pts,Qe.duration,Qe.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(Ke),y.samples=Q,y.sequenceNumber++;var ut=null;C?ut=new Uint8Array:ut=u.default.moof(y,w),y.samples=[],y.length=0;var Lt={type:"audio",data:this._mergeBoxes(ut,R).buffer,sampleCount:Q.length,info:Ke};C&&T&&(Lt.timestampOffset=w),this._onMediaSegment("audio",Lt)}}},_.prototype._remuxVideo=function(v,g){if(this._videoMeta!=null){var y=v,x=y.samples,b=void 0,w=-1,E=-1,S=-1,C=-1;if(!(!x||x.length===0)&&!(x.length===1&&!g)){var T=8,I=null,A=8+v.length,R=null;if(x.length>1&&(R=x.pop(),A-=R.length),this._videoStashedLastSample!=null){var O=this._videoStashedLastSample;this._videoStashedLastSample=null,x.unshift(O),A+=O.length}R!=null&&(this._videoStashedLastSample=R);var F=x[0].dts-this._dtsBase;if(this._videoNextDts)b=F-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())b=0;else{var N=this._videoSegmentInfoList.getLastSampleBefore(F);if(N!=null){var $=F-(N.originalDts+N.duration);$<=3&&($=0);var q=N.dts+N.duration+$;b=F-q}else b=0}for(var K=new p.MediaSegmentInfo,G=[],L=0;L<x.length;L++){var O=x[L],j=O.dts-this._dtsBase,B=O.isKeyframe,D=j-b,J=O.cts,Q=D+J;w===-1&&(w=D,S=Q);var se=0;if(L!==x.length-1){var re=x[L+1].dts-this._dtsBase-b;se=re-D}else if(R!=null){var re=R.dts-this._dtsBase-b;se=re-D}else G.length>=1?se=G[G.length-1].duration:se=Math.floor(this._videoMeta.refSampleDuration);if(B){var ce=new p.SampleInfo(D,Q,se,O.dts,!0);ce.fileposition=O.fileposition,K.appendSyncPoint(ce)}G.push({dts:D,pts:Q,cts:J,units:O.units,size:O.length,isKeyframe:B,duration:se,originalDts:j,flags:{isLeading:0,dependsOn:B?2:1,isDependedOn:B?1:0,hasRedundancy:0,isNonSync:B?0:1}})}I=new Uint8Array(A),I[0]=A>>>24&255,I[1]=A>>>16&255,I[2]=A>>>8&255,I[3]=A&255,I.set(u.default.types.mdat,4);for(var L=0;L<G.length;L++)for(var Ee=G[L].units;Ee.length;){var we=Ee.shift(),pe=we.data;I.set(pe,T),T+=pe.byteLength}var ve=G[G.length-1];if(E=ve.dts+ve.duration,C=ve.pts+ve.duration,this._videoNextDts=E,K.beginDts=w,K.endDts=E,K.beginPts=S,K.endPts=C,K.originalBeginDts=G[0].originalDts,K.originalEndDts=ve.originalDts+ve.duration,K.firstSample=new p.SampleInfo(G[0].dts,G[0].pts,G[0].duration,G[0].originalDts,G[0].isKeyframe),K.lastSample=new p.SampleInfo(ve.dts,ve.pts,ve.duration,ve.originalDts,ve.isKeyframe),this._isLive||this._videoSegmentInfoList.append(K),y.samples=G,y.sequenceNumber++,this._forceFirstIDR){var Ae=G[0].flags;Ae.dependsOn=2,Ae.isNonSync=0}var ke=u.default.moof(y,w);y.samples=[],y.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(ke,I).buffer,sampleCount:G.length,info:K})}}},_.prototype._mergeBoxes=function(v,g){var y=new Uint8Array(v.byteLength+g.byteLength);return y.set(v,0),y.set(g,v.byteLength),y},_}();s.default=m},"./src/utils/browser.js":function(o,s,c){c.r(s);var l={};function u(){var f=self.navigator.userAgent.toLowerCase(),h=/(edge)\/([\w.]+)/.exec(f)||/(opr)[\/]([\w.]+)/.exec(f)||/(chrome)[ \/]([\w.]+)/.exec(f)||/(iemobile)[\/]([\w.]+)/.exec(f)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(f)||[],p=/(ipad)/.exec(f)||/(ipod)/.exec(f)||/(windows phone)/.exec(f)||/(iphone)/.exec(f)||/(kindle)/.exec(f)||/(android)/.exec(f)||/(windows)/.exec(f)||/(mac)/.exec(f)||/(linux)/.exec(f)||/(cros)/.exec(f)||[],d={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",majorVersion:h[4]||h[2]||"0",platform:p[0]||""},m={};if(d.browser){m[d.browser]=!0;var _=d.majorVersion.split(".");m.version={major:parseInt(d.majorVersion,10),string:d.version},_.length>1&&(m.version.minor=parseInt(_[1],10)),_.length>2&&(m.version.build=parseInt(_[2],10))}if(d.platform&&(m[d.platform]=!0),(m.chrome||m.opr||m.safari)&&(m.webkit=!0),m.rv||m.iemobile){m.rv&&delete m.rv;var v="msie";d.browser=v,m[v]=!0}if(m.edge){delete m.edge;var g="msedge";d.browser=g,m[g]=!0}if(m.opr){var y="opera";d.browser=y,m[y]=!0}if(m.safari&&m.android){var x="android";d.browser=x,m[x]=!0}m.name=d.browser,m.platform=d.platform;for(var b in l)l.hasOwnProperty(b)&&delete l[b];Object.assign(l,m)}u(),s.default=l},"./src/utils/exception.js":function(o,s,c){c.r(s),c.d(s,{RuntimeException:function(){return u},IllegalStateException:function(){return f},InvalidArgumentException:function(){return h},NotImplementedException:function(){return p}});var l=function(){var d=function(m,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},d(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");d(m,_);function v(){this.constructor=m}m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}}(),u=function(){function d(m){this._message=m}return Object.defineProperty(d.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),d.prototype.toString=function(){return this.name+": "+this.message},d}(),f=function(d){l(m,d);function m(_){return d.call(this,_)||this}return Object.defineProperty(m.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),m}(u),h=function(d){l(m,d);function m(_){return d.call(this,_)||this}return Object.defineProperty(m.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),m}(u),p=function(d){l(m,d);function m(_){return d.call(this,_)||this}return Object.defineProperty(m.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),m}(u)},"./src/utils/logger.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=function(){function h(){}return h.e=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","error",m),h.ENABLE_ERROR&&(console.error?console.error(m):console.warn?console.warn(m):console.log(m))},h.i=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","info",m),h.ENABLE_INFO&&(console.info?console.info(m):console.log(m))},h.w=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","warn",m),h.ENABLE_WARN&&(console.warn?console.warn(m):console.log(m))},h.d=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","debug",m),h.ENABLE_DEBUG&&(console.debug?console.debug(m):console.log(m))},h.v=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","verbose",m),h.ENABLE_VERBOSE&&console.log(m)},h}();f.GLOBAL_TAG="flv.js",f.FORCE_GLOBAL_TAG=!1,f.ENABLE_ERROR=!0,f.ENABLE_INFO=!0,f.ENABLE_WARN=!0,f.ENABLE_DEBUG=!0,f.ENABLE_VERBOSE=!0,f.ENABLE_CALLBACK=!1,f.emitter=new(u()),s.default=f},"./src/utils/logging-control.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=function(){function p(){}return Object.defineProperty(p,"forceGlobalTag",{get:function(){return f.default.FORCE_GLOBAL_TAG},set:function(d){f.default.FORCE_GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"globalTag",{get:function(){return f.default.GLOBAL_TAG},set:function(d){f.default.GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableAll",{get:function(){return f.default.ENABLE_VERBOSE&&f.default.ENABLE_DEBUG&&f.default.ENABLE_INFO&&f.default.ENABLE_WARN&&f.default.ENABLE_ERROR},set:function(d){f.default.ENABLE_VERBOSE=d,f.default.ENABLE_DEBUG=d,f.default.ENABLE_INFO=d,f.default.ENABLE_WARN=d,f.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableDebug",{get:function(){return f.default.ENABLE_DEBUG},set:function(d){f.default.ENABLE_DEBUG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableVerbose",{get:function(){return f.default.ENABLE_VERBOSE},set:function(d){f.default.ENABLE_VERBOSE=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableInfo",{get:function(){return f.default.ENABLE_INFO},set:function(d){f.default.ENABLE_INFO=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableWarn",{get:function(){return f.default.ENABLE_WARN},set:function(d){f.default.ENABLE_WARN=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableError",{get:function(){return f.default.ENABLE_ERROR},set:function(d){f.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),p.getConfig=function(){return{globalTag:f.default.GLOBAL_TAG,forceGlobalTag:f.default.FORCE_GLOBAL_TAG,enableVerbose:f.default.ENABLE_VERBOSE,enableDebug:f.default.ENABLE_DEBUG,enableInfo:f.default.ENABLE_INFO,enableWarn:f.default.ENABLE_WARN,enableError:f.default.ENABLE_ERROR,enableCallback:f.default.ENABLE_CALLBACK}},p.applyConfig=function(d){f.default.GLOBAL_TAG=d.globalTag,f.default.FORCE_GLOBAL_TAG=d.forceGlobalTag,f.default.ENABLE_VERBOSE=d.enableVerbose,f.default.ENABLE_DEBUG=d.enableDebug,f.default.ENABLE_INFO=d.enableInfo,f.default.ENABLE_WARN=d.enableWarn,f.default.ENABLE_ERROR=d.enableError,f.default.ENABLE_CALLBACK=d.enableCallback},p._notifyChange=function(){var d=p.emitter;if(d.listenerCount("change")>0){var m=p.getConfig();d.emit("change",m)}},p.registerListener=function(d){p.emitter.addListener("change",d)},p.removeListener=function(d){p.emitter.removeListener("change",d)},p.addLogListener=function(d){f.default.emitter.addListener("log",d),f.default.emitter.listenerCount("log")>0&&(f.default.ENABLE_CALLBACK=!0,p._notifyChange())},p.removeLogListener=function(d){f.default.emitter.removeListener("log",d),f.default.emitter.listenerCount("log")===0&&(f.default.ENABLE_CALLBACK=!1,p._notifyChange())},p}();h.emitter=new(u()),s.default=h},"./src/utils/polyfill.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(f,h){return f.__proto__=h,f},Object.assign=Object.assign||function(f){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(f),p=1;p<arguments.length;p++){var d=arguments[p];if(d!=null)for(var m in d)d.hasOwnProperty(m)&&(h[m]=d[m])}return h},typeof self.Promise!="function"&&c("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();l.install(),s.default=l},"./src/utils/utf8-conv.js":function(o,s,c){c.r(s);function l(f,h,p){var d=f;if(h+p<d.length){for(;p--;)if((d[++h]&192)!==128)return!1;return!0}else return!1}function u(f){for(var h=[],p=f,d=0,m=f.length;d<m;){if(p[d]<128){h.push(String.fromCharCode(p[d])),++d;continue}else if(!(p[d]<192)){if(p[d]<224){if(l(p,d,1)){var _=(p[d]&31)<<6|p[d+1]&63;if(_>=128){h.push(String.fromCharCode(_&65535)),d+=2;continue}}}else if(p[d]<240){if(l(p,d,2)){var _=(p[d]&15)<<12|(p[d+1]&63)<<6|p[d+2]&63;if(_>=2048&&(_&63488)!==55296){h.push(String.fromCharCode(_&65535)),d+=3;continue}}}else if(p[d]<248&&l(p,d,3)){var _=(p[d]&7)<<18|(p[d+1]&63)<<12|(p[d+2]&63)<<6|p[d+3]&63;if(_>65536&&_<1114112){_-=65536,h.push(String.fromCharCode(_>>>10|55296)),h.push(String.fromCharCode(_&1023|56320)),d+=4;continue}}}h.push(String.fromCharCode(65533)),++d}return h.join("")}s.default=u}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var c=n[o]={exports:{}};return r[o].call(c.exports,c,c.exports,i),c.exports}i.m=r,function(){i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,{a:s}),s}}(),function(){i.d=function(o,s){for(var c in s)i.o(s,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:s[c]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var a=i("./src/index.js");return a}()})})(R5);var d0e=R5.exports;const p0e=Pn(d0e);var P5={exports:{}},xx={exports:{}};const v0e={},m0e=Object.freeze(Object.defineProperty({__proto__:null,default:v0e},Symbol.toStringTag,{value:"Module"})),O5=s7(m0e);var F3;function jt(){return F3||(F3=1,function(t,e){(function(r,n){t.exports=n()})(it,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof it<"u"&&it.crypto&&(a=it.crypto),!a&&typeof Fu=="function")try{a=O5}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function g(){}return function(y){var x;return g.prototype=y,x=new g,g.prototype=null,x}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(g){var y=s(this);return g&&y.mixIn(g),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var y in g)g.hasOwnProperty(y)&&(this[y]=g[y]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(g,y){g=this.words=g||[],y!=i?this.sigBytes=y:this.sigBytes=g.length*4},toString:function(g){return(g||p).stringify(this)},concat:function(g){var y=this.words,x=g.words,b=this.sigBytes,w=g.sigBytes;if(this.clamp(),b%4)for(var E=0;E<w;E++){var S=x[E>>>2]>>>24-E%4*8&255;y[b+E>>>2]|=S<<24-(b+E)%4*8}else for(var C=0;C<w;C+=4)y[b+C>>>2]=x[C>>>2];return this.sigBytes+=w,this},clamp:function(){var g=this.words,y=this.sigBytes;g[y>>>2]&=4294967295<<32-y%4*8,g.length=n.ceil(y/4)},clone:function(){var g=u.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var y=[],x=0;x<g;x+=4)y.push(o());return new f.init(y,g)}}),h=c.enc={},p=h.Hex={stringify:function(g){for(var y=g.words,x=g.sigBytes,b=[],w=0;w<x;w++){var E=y[w>>>2]>>>24-w%4*8&255;b.push((E>>>4).toString(16)),b.push((E&15).toString(16))}return b.join("")},parse:function(g){for(var y=g.length,x=[],b=0;b<y;b+=2)x[b>>>3]|=parseInt(g.substr(b,2),16)<<24-b%8*4;return new f.init(x,y/2)}},d=h.Latin1={stringify:function(g){for(var y=g.words,x=g.sigBytes,b=[],w=0;w<x;w++){var E=y[w>>>2]>>>24-w%4*8&255;b.push(String.fromCharCode(E))}return b.join("")},parse:function(g){for(var y=g.length,x=[],b=0;b<y;b++)x[b>>>2]|=(g.charCodeAt(b)&255)<<24-b%4*8;return new f.init(x,y)}},m=h.Utf8={stringify:function(g){try{return decodeURIComponent(escape(d.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return d.parse(unescape(encodeURIComponent(g)))}},_=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=m.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var y,x=this._data,b=x.words,w=x.sigBytes,E=this.blockSize,S=E*4,C=w/S;g?C=n.ceil(C):C=n.max((C|0)-this._minBufferSize,0);var T=C*E,I=n.min(T*4,w);if(T){for(var A=0;A<T;A+=E)this._doProcessBlock(b,A);y=b.splice(0,T),x.sigBytes-=I}return new f.init(y,I)},clone:function(){var g=u.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});l.Hasher=_.extend({cfg:u.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(g){return function(y,x){return new g.init(x).finalize(y)}},_createHmacHelper:function(g){return function(y,x){return new v.HMAC.init(g,x).finalize(y)}}});var v=c.algo={};return c}(Math);return r})}(xx)),xx.exports}var bx={exports:{}},N3;function zg(){return N3||(N3=1,function(t,e){(function(r,n){t.exports=n(jt())})(it,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=i.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var p=l[h];f.push(p.high),f.push(p.low)}return s.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),r})}(bx)),bx.exports}var wx={exports:{}},L3;function g0e(){return L3||(L3=1,function(t,e){(function(r,n){t.exports=n(jt())})(it,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(wx)),wx.exports}var Ex={exports:{}},M3;function _0e(){return M3||(M3=1,function(t,e){(function(r,n){t.exports=n(jt())})(it,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var p=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var p=s(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=s(c.charCodeAt(f)<<16-f%2*16);return a.create(u,l*2)}};function s(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(Ex)),Ex.exports}var Sx={exports:{}},B3;function Yl(){return B3||(B3=1,function(t,e){(function(r,n){t.exports=n(jt())})(it,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],p=0;p<u;p+=3)for(var d=l[p>>>2]>>>24-p%4*8&255,m=l[p+1>>>2]>>>24-(p+1)%4*8&255,_=l[p+2>>>2]>>>24-(p+2)%4*8&255,v=d<<16|m<<8|_,g=0;g<4&&p+g*.75<u;g++)h.push(f.charAt(v>>>6*(3-g)&63));var y=f.charAt(64);if(y)for(;h.length%4;)h.push(y);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var d=c.indexOf(p);d!==-1&&(l=d)}return s(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,l,u){for(var f=[],h=0,p=0;p<l;p++)if(p%4){var d=u[c.charCodeAt(p-1)]<<p%4*2,m=u[c.charCodeAt(p)]>>>6-p%4*2,_=d|m;f[h>>>2]|=_<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64})}(Sx)),Sx.exports}var Cx={exports:{}},D3;function y0e(){return D3||(D3=1,function(t,e){(function(r,n){t.exports=n(jt())})(it,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var p=[],d=0;d<f;d+=3)for(var m=u[d>>>2]>>>24-d%4*8&255,_=u[d+1>>>2]>>>24-(d+1)%4*8&255,v=u[d+2>>>2]>>>24-(d+2)%4*8&255,g=m<<16|_<<8|v,y=0;y<4&&d+y*.75<f;y++)p.push(h.charAt(g>>>6*(3-y)&63));var x=h.charAt(64);if(x)for(;p.length%4;)p.push(x);return p.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<f.length;p++)h[f.charCodeAt(p)]=p}var d=f.charAt(64);if(d){var m=c.indexOf(d);m!==-1&&(u=m)}return s(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(c,l,u){for(var f=[],h=0,p=0;p<l;p++)if(p%4){var d=u[c.charCodeAt(p-1)]<<p%4*2,m=u[c.charCodeAt(p)]>>>6-p%4*2,_=d|m;f[h>>>2]|=_<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64url})}(Cx)),Cx.exports}var Tx={exports:{}},U3;function ql(){return U3||(U3=1,function(t,e){(function(r,n){t.exports=n(jt())})(it,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[];(function(){for(var m=0;m<64;m++)l[m]=n.abs(n.sin(m+1))*4294967296|0})();var u=c.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,_){for(var v=0;v<16;v++){var g=_+v,y=m[g];m[g]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var x=this._hash.words,b=m[_+0],w=m[_+1],E=m[_+2],S=m[_+3],C=m[_+4],T=m[_+5],I=m[_+6],A=m[_+7],R=m[_+8],O=m[_+9],F=m[_+10],N=m[_+11],$=m[_+12],q=m[_+13],K=m[_+14],G=m[_+15],L=x[0],j=x[1],B=x[2],D=x[3];L=f(L,j,B,D,b,7,l[0]),D=f(D,L,j,B,w,12,l[1]),B=f(B,D,L,j,E,17,l[2]),j=f(j,B,D,L,S,22,l[3]),L=f(L,j,B,D,C,7,l[4]),D=f(D,L,j,B,T,12,l[5]),B=f(B,D,L,j,I,17,l[6]),j=f(j,B,D,L,A,22,l[7]),L=f(L,j,B,D,R,7,l[8]),D=f(D,L,j,B,O,12,l[9]),B=f(B,D,L,j,F,17,l[10]),j=f(j,B,D,L,N,22,l[11]),L=f(L,j,B,D,$,7,l[12]),D=f(D,L,j,B,q,12,l[13]),B=f(B,D,L,j,K,17,l[14]),j=f(j,B,D,L,G,22,l[15]),L=h(L,j,B,D,w,5,l[16]),D=h(D,L,j,B,I,9,l[17]),B=h(B,D,L,j,N,14,l[18]),j=h(j,B,D,L,b,20,l[19]),L=h(L,j,B,D,T,5,l[20]),D=h(D,L,j,B,F,9,l[21]),B=h(B,D,L,j,G,14,l[22]),j=h(j,B,D,L,C,20,l[23]),L=h(L,j,B,D,O,5,l[24]),D=h(D,L,j,B,K,9,l[25]),B=h(B,D,L,j,S,14,l[26]),j=h(j,B,D,L,R,20,l[27]),L=h(L,j,B,D,q,5,l[28]),D=h(D,L,j,B,E,9,l[29]),B=h(B,D,L,j,A,14,l[30]),j=h(j,B,D,L,$,20,l[31]),L=p(L,j,B,D,T,4,l[32]),D=p(D,L,j,B,R,11,l[33]),B=p(B,D,L,j,N,16,l[34]),j=p(j,B,D,L,K,23,l[35]),L=p(L,j,B,D,w,4,l[36]),D=p(D,L,j,B,C,11,l[37]),B=p(B,D,L,j,A,16,l[38]),j=p(j,B,D,L,F,23,l[39]),L=p(L,j,B,D,q,4,l[40]),D=p(D,L,j,B,b,11,l[41]),B=p(B,D,L,j,S,16,l[42]),j=p(j,B,D,L,I,23,l[43]),L=p(L,j,B,D,O,4,l[44]),D=p(D,L,j,B,$,11,l[45]),B=p(B,D,L,j,G,16,l[46]),j=p(j,B,D,L,E,23,l[47]),L=d(L,j,B,D,b,6,l[48]),D=d(D,L,j,B,A,10,l[49]),B=d(B,D,L,j,K,15,l[50]),j=d(j,B,D,L,T,21,l[51]),L=d(L,j,B,D,$,6,l[52]),D=d(D,L,j,B,S,10,l[53]),B=d(B,D,L,j,F,15,l[54]),j=d(j,B,D,L,w,21,l[55]),L=d(L,j,B,D,R,6,l[56]),D=d(D,L,j,B,G,10,l[57]),B=d(B,D,L,j,I,15,l[58]),j=d(j,B,D,L,q,21,l[59]),L=d(L,j,B,D,C,6,l[60]),D=d(D,L,j,B,N,10,l[61]),B=d(B,D,L,j,E,15,l[62]),j=d(j,B,D,L,O,21,l[63]),x[0]=x[0]+L|0,x[1]=x[1]+j|0,x[2]=x[2]+B|0,x[3]=x[3]+D|0},_doFinalize:function(){var m=this._data,_=m.words,v=this._nDataBytes*8,g=m.sigBytes*8;_[g>>>5]|=128<<24-g%32;var y=n.floor(v/4294967296),x=v;_[(g+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,_[(g+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,m.sigBytes=(_.length+1)*4,this._process();for(var b=this._hash,w=b.words,E=0;E<4;E++){var S=w[E];w[E]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return b},clone:function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m}});function f(m,_,v,g,y,x,b){var w=m+(_&v|~_&g)+y+b;return(w<<x|w>>>32-x)+_}function h(m,_,v,g,y,x,b){var w=m+(_&g|v&~g)+y+b;return(w<<x|w>>>32-x)+_}function p(m,_,v,g,y,x,b){var w=m+(_^v^g)+y+b;return(w<<x|w>>>32-x)+_}function d(m,_,v,g,y,x,b){var w=m+(v^(_|~g))+y+b;return(w<<x|w>>>32-x)+_}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5})}(Tx)),Tx.exports}var Ax={exports:{}},j3;function k5(){return j3||(j3=1,function(t,e){(function(r,n){t.exports=n(jt())})(it,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,p=h[0],d=h[1],m=h[2],_=h[3],v=h[4],g=0;g<80;g++){if(g<16)c[g]=u[f+g]|0;else{var y=c[g-3]^c[g-8]^c[g-14]^c[g-16];c[g]=y<<1|y>>>31}var x=(p<<5|p>>>27)+v+c[g];g<20?x+=(d&m|~d&_)+1518500249:g<40?x+=(d^m^_)+1859775393:g<60?x+=(d&m|d&_|m&_)-1894007588:x+=(d^m^_)-899497514,v=_,_=m,m=d<<30|d>>>2,d=p,p=x}h[0]=h[0]+p|0,h[1]=h[1]+d|0,h[2]=h[2]+m|0,h[3]=h[3]+_|0,h[4]=h[4]+v|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,p=u.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(p+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(Ax)),Ax.exports}var Ix={exports:{}},$3;function ET(){return $3||($3=1,function(t,e){(function(r,n){t.exports=n(jt())})(it,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[],u=[];(function(){function p(v){for(var g=n.sqrt(v),y=2;y<=g;y++)if(!(v%y))return!1;return!0}function d(v){return(v-(v|0))*4294967296|0}for(var m=2,_=0;_<64;)p(m)&&(_<8&&(l[_]=d(n.pow(m,1/2))),u[_]=d(n.pow(m,1/3)),_++),m++})();var f=[],h=c.SHA256=s.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(p,d){for(var m=this._hash.words,_=m[0],v=m[1],g=m[2],y=m[3],x=m[4],b=m[5],w=m[6],E=m[7],S=0;S<64;S++){if(S<16)f[S]=p[d+S]|0;else{var C=f[S-15],T=(C<<25|C>>>7)^(C<<14|C>>>18)^C>>>3,I=f[S-2],A=(I<<15|I>>>17)^(I<<13|I>>>19)^I>>>10;f[S]=T+f[S-7]+A+f[S-16]}var R=x&b^~x&w,O=_&v^_&g^v&g,F=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),N=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),$=E+N+R+u[S]+f[S],q=F+O;E=w,w=b,b=x,x=y+$|0,y=g,g=v,v=_,_=$+q|0}m[0]=m[0]+_|0,m[1]=m[1]+v|0,m[2]=m[2]+g|0,m[3]=m[3]+y|0,m[4]=m[4]+x|0,m[5]=m[5]+b|0,m[6]=m[6]+w|0,m[7]=m[7]+E|0},_doFinalize:function(){var p=this._data,d=p.words,m=this._nDataBytes*8,_=p.sigBytes*8;return d[_>>>5]|=128<<24-_%32,d[(_+64>>>9<<4)+14]=n.floor(m/4294967296),d[(_+64>>>9<<4)+15]=m,p.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=s._createHelper(h),i.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256})}(Ix)),Ix.exports}var Rx={exports:{}},V3;function x0e(){return V3||(V3=1,function(t,e){(function(r,n,i){t.exports=n(jt(),ET())})(it,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,c=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=s._createHelper(c),n.HmacSHA224=s._createHmacHelper(c)}(),r.SHA224})}(Rx)),Rx.exports}var Px={exports:{}},G3;function F5(){return G3||(G3=1,function(t,e){(function(r,n,i){t.exports=n(jt(),zg())})(it,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,c=o.WordArray,l=n.algo;function u(){return s.create.apply(s,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var d=0;d<80;d++)h[d]=u()})();var p=l.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(d,m){for(var _=this._hash.words,v=_[0],g=_[1],y=_[2],x=_[3],b=_[4],w=_[5],E=_[6],S=_[7],C=v.high,T=v.low,I=g.high,A=g.low,R=y.high,O=y.low,F=x.high,N=x.low,$=b.high,q=b.low,K=w.high,G=w.low,L=E.high,j=E.low,B=S.high,D=S.low,J=C,Q=T,se=I,re=A,ce=R,Ee=O,we=F,pe=N,ve=$,Ae=q,ke=K,Te=G,Fe=L,Ne=j,Je=B,vt=D,Qe=0;Qe<80;Qe++){var Ke,ut,Lt=h[Qe];if(Qe<16)ut=Lt.high=d[m+Qe*2]|0,Ke=Lt.low=d[m+Qe*2+1]|0;else{var $t=h[Qe-15],Mt=$t.high,Bt=$t.low,nt=(Mt>>>1|Bt<<31)^(Mt>>>8|Bt<<24)^Mt>>>7,Vt=(Bt>>>1|Mt<<31)^(Bt>>>8|Mt<<24)^(Bt>>>7|Mt<<25),xe=h[Qe-2],M=xe.high,ne=xe.low,de=(M>>>19|ne<<13)^(M<<3|ne>>>29)^M>>>6,be=(ne>>>19|M<<13)^(ne<<3|M>>>29)^(ne>>>6|M<<26),Z=h[Qe-7],me=Z.high,U=Z.low,Se=h[Qe-16],We=Se.high,P=Se.low;Ke=Vt+U,ut=nt+me+(Ke>>>0<Vt>>>0?1:0),Ke=Ke+be,ut=ut+de+(Ke>>>0<be>>>0?1:0),Ke=Ke+P,ut=ut+We+(Ke>>>0<P>>>0?1:0),Lt.high=ut,Lt.low=Ke}var ge=ve&ke^~ve&Fe,_e=Ae&Te^~Ae&Ne,V=J&se^J&ce^se&ce,ee=Q&re^Q&Ee^re&Ee,fe=(J>>>28|Q<<4)^(J<<30|Q>>>2)^(J<<25|Q>>>7),ze=(Q>>>28|J<<4)^(Q<<30|J>>>2)^(Q<<25|J>>>7),De=(ve>>>14|Ae<<18)^(ve>>>18|Ae<<14)^(ve<<23|Ae>>>9),Ge=(Ae>>>14|ve<<18)^(Ae>>>18|ve<<14)^(Ae<<23|ve>>>9),ct=f[Qe],sn=ct.high,Dt=ct.low,et=vt+Ge,Yt=Je+De+(et>>>0<vt>>>0?1:0),et=et+_e,Yt=Yt+ge+(et>>>0<_e>>>0?1:0),et=et+Dt,Yt=Yt+sn+(et>>>0<Dt>>>0?1:0),et=et+Ke,Yt=Yt+ut+(et>>>0<Ke>>>0?1:0),Pr=ze+ee,_n=fe+V+(Pr>>>0<ze>>>0?1:0);Je=Fe,vt=Ne,Fe=ke,Ne=Te,ke=ve,Te=Ae,Ae=pe+et|0,ve=we+Yt+(Ae>>>0<pe>>>0?1:0)|0,we=ce,pe=Ee,ce=se,Ee=re,se=J,re=Q,Q=et+Pr|0,J=Yt+_n+(Q>>>0<et>>>0?1:0)|0}T=v.low=T+Q,v.high=C+J+(T>>>0<Q>>>0?1:0),A=g.low=A+re,g.high=I+se+(A>>>0<re>>>0?1:0),O=y.low=O+Ee,y.high=R+ce+(O>>>0<Ee>>>0?1:0),N=x.low=N+pe,x.high=F+we+(N>>>0<pe>>>0?1:0),q=b.low=q+Ae,b.high=$+ve+(q>>>0<Ae>>>0?1:0),G=w.low=G+Te,w.high=K+ke+(G>>>0<Te>>>0?1:0),j=E.low=j+Ne,E.high=L+Fe+(j>>>0<Ne>>>0?1:0),D=S.low=D+vt,S.high=B+Je+(D>>>0<vt>>>0?1:0)},_doFinalize:function(){var d=this._data,m=d.words,_=this._nDataBytes*8,v=d.sigBytes*8;m[v>>>5]|=128<<24-v%32,m[(v+128>>>10<<5)+30]=Math.floor(_/4294967296),m[(v+128>>>10<<5)+31]=_,d.sigBytes=m.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d},blockSize:1024/32});n.SHA512=a._createHelper(p),n.HmacSHA512=a._createHmacHelper(p)}(),r.SHA512})}(Px)),Px.exports}var Ox={exports:{}},H3;function b0e(){return H3||(H3=1,function(t,e){(function(r,n,i){t.exports=n(jt(),zg(),F5())})(it,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l)}(),r.SHA384})}(Ox)),Ox.exports}var kx={exports:{}},X3;function w0e(){return X3||(X3=1,function(t,e){(function(r,n,i){t.exports=n(jt(),zg())})(it,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.x64,l=c.Word,u=i.algo,f=[],h=[],p=[];(function(){for(var _=1,v=0,g=0;g<24;g++){f[_+5*v]=(g+1)*(g+2)/2%64;var y=v%5,x=(2*_+3*v)%5;_=y,v=x}for(var _=0;_<5;_++)for(var v=0;v<5;v++)h[_+5*v]=v+(2*_+3*v)%5*5;for(var b=1,w=0;w<24;w++){for(var E=0,S=0,C=0;C<7;C++){if(b&1){var T=(1<<C)-1;T<32?S^=1<<T:E^=1<<T-32}b&128?b=b<<1^113:b<<=1}p[w]=l.create(E,S)}})();var d=[];(function(){for(var _=0;_<25;_++)d[_]=l.create()})();var m=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var _=this._state=[],v=0;v<25;v++)_[v]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(_,v){for(var g=this._state,y=this.blockSize/2,x=0;x<y;x++){var b=_[v+2*x],w=_[v+2*x+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360;var E=g[x];E.high^=w,E.low^=b}for(var S=0;S<24;S++){for(var C=0;C<5;C++){for(var T=0,I=0,A=0;A<5;A++){var E=g[C+5*A];T^=E.high,I^=E.low}var R=d[C];R.high=T,R.low=I}for(var C=0;C<5;C++)for(var O=d[(C+4)%5],F=d[(C+1)%5],N=F.high,$=F.low,T=O.high^(N<<1|$>>>31),I=O.low^($<<1|N>>>31),A=0;A<5;A++){var E=g[C+5*A];E.high^=T,E.low^=I}for(var q=1;q<25;q++){var T,I,E=g[q],K=E.high,G=E.low,L=f[q];L<32?(T=K<<L|G>>>32-L,I=G<<L|K>>>32-L):(T=G<<L-32|K>>>64-L,I=K<<L-32|G>>>64-L);var j=d[h[q]];j.high=T,j.low=I}var B=d[0],D=g[0];B.high=D.high,B.low=D.low;for(var C=0;C<5;C++)for(var A=0;A<5;A++){var q=C+5*A,E=g[q],J=d[q],Q=d[(C+1)%5+5*A],se=d[(C+2)%5+5*A];E.high=J.high^~Q.high&se.high,E.low=J.low^~Q.low&se.low}var E=g[0],re=p[S];E.high^=re.high,E.low^=re.low}},_doFinalize:function(){var _=this._data,v=_.words;this._nDataBytes*8;var g=_.sigBytes*8,y=this.blockSize*32;v[g>>>5]|=1<<24-g%32,v[(n.ceil((g+1)/y)*y>>>5)-1]|=128,_.sigBytes=v.length*4,this._process();for(var x=this._state,b=this.cfg.outputLength/8,w=b/8,E=[],S=0;S<w;S++){var C=x[S],T=C.high,I=C.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,E.push(I),E.push(T)}return new o.init(E,b)},clone:function(){for(var _=s.clone.call(this),v=_._state=this._state.slice(0),g=0;g<25;g++)v[g]=v[g].clone();return _}});i.SHA3=s._createHelper(m),i.HmacSHA3=s._createHmacHelper(m)}(Math),r.SHA3})}(kx)),kx.exports}var Fx={exports:{}},z3;function E0e(){return z3||(z3=1,function(t,e){(function(r,n){t.exports=n(jt())})(it,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),d=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=c.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,E){for(var S=0;S<16;S++){var C=E+S,T=w[C];w[C]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var I=this._hash.words,A=p.words,R=d.words,O=l.words,F=u.words,N=f.words,$=h.words,q,K,G,L,j,B,D,J,Q,se;B=q=I[0],D=K=I[1],J=G=I[2],Q=L=I[3],se=j=I[4];for(var re,S=0;S<80;S+=1)re=q+w[E+O[S]]|0,S<16?re+=_(K,G,L)+A[0]:S<32?re+=v(K,G,L)+A[1]:S<48?re+=g(K,G,L)+A[2]:S<64?re+=y(K,G,L)+A[3]:re+=x(K,G,L)+A[4],re=re|0,re=b(re,N[S]),re=re+j|0,q=j,j=L,L=b(G,10),G=K,K=re,re=B+w[E+F[S]]|0,S<16?re+=x(D,J,Q)+R[0]:S<32?re+=y(D,J,Q)+R[1]:S<48?re+=g(D,J,Q)+R[2]:S<64?re+=v(D,J,Q)+R[3]:re+=_(D,J,Q)+R[4],re=re|0,re=b(re,$[S]),re=re+se|0,B=se,se=Q,Q=b(J,10),J=D,D=re;re=I[1]+G+Q|0,I[1]=I[2]+L+se|0,I[2]=I[3]+j+B|0,I[3]=I[4]+q+D|0,I[4]=I[0]+K+J|0,I[0]=re},_doFinalize:function(){var w=this._data,E=w.words,S=this._nDataBytes*8,C=w.sigBytes*8;E[C>>>5]|=128<<24-C%32,E[(C+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,w.sigBytes=(E.length+1)*4,this._process();for(var T=this._hash,I=T.words,A=0;A<5;A++){var R=I[A];I[A]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return T},clone:function(){var w=s.clone.call(this);return w._hash=this._hash.clone(),w}});function _(w,E,S){return w^E^S}function v(w,E,S){return w&E|~w&S}function g(w,E,S){return(w|~E)^S}function y(w,E,S){return w&S|E&~S}function x(w,E,S){return w^(E|~S)}function b(w,E){return w<<E|w>>>32-E}i.RIPEMD160=s._createHelper(m),i.HmacRIPEMD160=s._createHmacHelper(m)}(),r.RIPEMD160})}(Fx)),Fx.exports}var Nx={exports:{}},W3;function ST(){return W3||(W3=1,function(t,e){(function(r,n){t.exports=n(jt())})(it,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,c=n.algo;c.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=s.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),d=this._iKey=u.clone(),m=p.words,_=d.words,v=0;v<f;v++)m[v]^=1549556828,_[v]^=909522486;p.sigBytes=d.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(Nx)),Nx.exports}var Lx={exports:{}},Y3;function S0e(){return Y3||(Y3=1,function(t,e){(function(r,n,i){t.exports=n(jt(),ET(),ST())})(it,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.SHA256,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var p=this.cfg,d=l.create(p.hasher,f),m=o.create(),_=o.create([1]),v=m.words,g=_.words,y=p.keySize,x=p.iterations;v.length<y;){var b=d.update(h).finalize(_);d.reset();for(var w=b.words,E=w.length,S=b,C=1;C<x;C++){S=d.finalize(S),d.reset();for(var T=S.words,I=0;I<E;I++)w[I]^=T[I]}m.concat(b),g[0]++}return m.sigBytes=y*4,m}});n.PBKDF2=function(f,h,p){return u.create(p).compute(f,h)}}(),r.PBKDF2})}(Lx)),Lx.exports}var Mx={exports:{}},q3;function Ns(){return q3||(q3=1,function(t,e){(function(r,n,i){t.exports=n(jt(),k5(),ST())})(it,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,p=this.cfg,d=p.hasher.create(),m=o.create(),_=m.words,v=p.keySize,g=p.iterations;_.length<v;){h&&d.update(h),h=d.update(u).finalize(f),d.reset();for(var y=1;y<g;y++)h=d.finalize(h),d.reset();m.concat(h)}return m.sigBytes=v*4,m}});n.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),r.EvpKDF})}(Mx)),Mx.exports}var Bx={exports:{}},K3;function kn(){return K3||(K3=1,function(t,e){(function(r,n,i){t.exports=n(jt(),Ns())})(it,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,f=i.algo,h=f.EvpKDF,p=a.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(T,I){return this.create(this._ENC_XFORM_MODE,T,I)},createDecryptor:function(T,I){return this.create(this._DEC_XFORM_MODE,T,I)},init:function(T,I,A){this.cfg=this.cfg.extend(A),this._xformMode=T,this._key=I,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){T&&this._append(T);var I=this._doFinalize();return I},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function T(I){return typeof I=="string"?C:w}return function(I){return{encrypt:function(A,R,O){return T(R).encrypt(I,A,R,O)},decrypt:function(A,R,O){return T(R).decrypt(I,A,R,O)}}}}()});a.StreamCipher=p.extend({_doFinalize:function(){var T=this._process(!0);return T},blockSize:1});var d=i.mode={},m=a.BlockCipherMode=o.extend({createEncryptor:function(T,I){return this.Encryptor.create(T,I)},createDecryptor:function(T,I){return this.Decryptor.create(T,I)},init:function(T,I){this._cipher=T,this._iv=I}}),_=d.CBC=function(){var T=m.extend();T.Encryptor=T.extend({processBlock:function(A,R){var O=this._cipher,F=O.blockSize;I.call(this,A,R,F),O.encryptBlock(A,R),this._prevBlock=A.slice(R,R+F)}}),T.Decryptor=T.extend({processBlock:function(A,R){var O=this._cipher,F=O.blockSize,N=A.slice(R,R+F);O.decryptBlock(A,R),I.call(this,A,R,F),this._prevBlock=N}});function I(A,R,O){var F,N=this._iv;N?(F=N,this._iv=n):F=this._prevBlock;for(var $=0;$<O;$++)A[R+$]^=F[$]}return T}(),v=i.pad={},g=v.Pkcs7={pad:function(T,I){for(var A=I*4,R=A-T.sigBytes%A,O=R<<24|R<<16|R<<8|R,F=[],N=0;N<R;N+=4)F.push(O);var $=s.create(F,R);T.concat($)},unpad:function(T){var I=T.words[T.sigBytes-1>>>2]&255;T.sigBytes-=I}};a.BlockCipher=p.extend({cfg:p.cfg.extend({mode:_,padding:g}),reset:function(){var T;p.reset.call(this);var I=this.cfg,A=I.iv,R=I.mode;this._xformMode==this._ENC_XFORM_MODE?T=R.createEncryptor:(T=R.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==T?this._mode.init(this,A&&A.words):(this._mode=T.call(R,this,A&&A.words),this._mode.__creator=T)},_doProcessBlock:function(T,I){this._mode.processBlock(T,I)},_doFinalize:function(){var T,I=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(I.pad(this._data,this.blockSize),T=this._process(!0)):(T=this._process(!0),I.unpad(T)),T},blockSize:128/32});var y=a.CipherParams=o.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),x=i.format={},b=x.OpenSSL={stringify:function(T){var I,A=T.ciphertext,R=T.salt;return R?I=s.create([1398893684,1701076831]).concat(R).concat(A):I=A,I.toString(u)},parse:function(T){var I,A=u.parse(T),R=A.words;return R[0]==1398893684&&R[1]==1701076831&&(I=s.create(R.slice(2,4)),R.splice(0,4),A.sigBytes-=16),y.create({ciphertext:A,salt:I})}},w=a.SerializableCipher=o.extend({cfg:o.extend({format:b}),encrypt:function(T,I,A,R){R=this.cfg.extend(R);var O=T.createEncryptor(A,R),F=O.finalize(I),N=O.cfg;return y.create({ciphertext:F,key:A,iv:N.iv,algorithm:T,mode:N.mode,padding:N.padding,blockSize:T.blockSize,formatter:R.format})},decrypt:function(T,I,A,R){R=this.cfg.extend(R),I=this._parse(I,R.format);var O=T.createDecryptor(A,R).finalize(I.ciphertext);return O},_parse:function(T,I){return typeof T=="string"?I.parse(T,this):T}}),E=i.kdf={},S=E.OpenSSL={execute:function(T,I,A,R,O){if(R||(R=s.random(64/8)),O)var F=h.create({keySize:I+A,hasher:O}).compute(T,R);else var F=h.create({keySize:I+A}).compute(T,R);var N=s.create(F.words.slice(I),A*4);return F.sigBytes=I*4,y.create({key:F,iv:N,salt:R})}},C=a.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:S}),encrypt:function(T,I,A,R){R=this.cfg.extend(R);var O=R.kdf.execute(A,T.keySize,T.ivSize,R.salt,R.hasher);R.iv=O.iv;var F=w.encrypt.call(this,T,I,O.key,R);return F.mixIn(O),F},decrypt:function(T,I,A,R){R=this.cfg.extend(R),I=this._parse(I,R.format);var O=R.kdf.execute(A,T.keySize,T.ivSize,I.salt,R.hasher);R.iv=O.iv;var F=w.decrypt.call(this,T,I,O.key,R);return F}})}()})}(Bx)),Bx.exports}var Dx={exports:{}},Z3;function C0e(){return Z3||(Z3=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize;i.call(this,a,o,c,s),this._prevBlock=a.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=a.slice(o,o+c);i.call(this,a,o,c,s),this._prevBlock=l}});function i(a,o,s,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<s;f++)a[o+f]^=l[f]}return n}(),r.mode.CFB})}(Dx)),Dx.exports}var Ux={exports:{}},J3;function T0e(){return J3||(J3=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);s.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)a[o+h]^=f[h]}});return n.Decryptor=i,n}(),r.mode.CTR})}(Ux)),Ux.exports}var jx={exports:{}},Q3;function A0e(){return Q3||(Q3=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var c=s>>16&255,l=s>>8&255,u=s&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,s=0,s+=c<<16,s+=l<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),a(h);var p=h.slice(0);l.encryptBlock(p,0);for(var d=0;d<u;d++)s[c+d]^=p[d]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(jx)),jx.exports}var $x={exports:{}},e4;function I0e(){return e4||(e4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var f=0;f<c;f++)a[o+f]^=u[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}($x)),$x.exports}var Vx={exports:{}},t4;function R0e(){return t4||(t4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(Vx)),Vx.exports}var Gx={exports:{}},r4;function P0e(){return r4||(r4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,c=a+s-1;n.clamp(),n.words[c>>>2]|=s<<24-c%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(Gx)),Gx.exports}var Hx={exports:{}},n4;function O0e(){return n4||(n4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Hx)),Hx.exports}var Xx={exports:{}},i4;function k0e(){return i4||(i4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Xx)),Xx.exports}var zx={exports:{}},a4;function F0e(){return a4||(a4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(zx)),zx.exports}var Wx={exports:{}},o4;function N0e(){return o4||(o4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Wx)),Wx.exports}var Yx={exports:{}},s4;function L0e(){return s4||(s4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),kn())})(it,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,c=s.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),r.format.Hex})}(Yx)),Yx.exports}var qx={exports:{}},l4;function M0e(){return l4||(l4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),Yl(),ql(),Ns(),kn())})(it,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],c=[],l=[],u=[],f=[],h=[],p=[],d=[],m=[],_=[];(function(){for(var y=[],x=0;x<256;x++)x<128?y[x]=x<<1:y[x]=x<<1^283;for(var b=0,w=0,x=0;x<256;x++){var E=w^w<<1^w<<2^w<<3^w<<4;E=E>>>8^E&255^99,s[b]=E,c[E]=b;var S=y[b],C=y[S],T=y[C],I=y[E]*257^E*16843008;l[b]=I<<24|I>>>8,u[b]=I<<16|I>>>16,f[b]=I<<8|I>>>24,h[b]=I;var I=T*16843009^C*65537^S*257^b*16843008;p[E]=I<<24|I>>>8,d[E]=I<<16|I>>>16,m[E]=I<<8|I>>>24,_[E]=I,b?(b=S^y[y[y[T^S]]],w^=y[y[w]]):b=w=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],g=o.AES=a.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,b=x.words,w=x.sigBytes/4,E=this._nRounds=w+6,S=(E+1)*4,C=this._keySchedule=[],T=0;T<S;T++)T<w?C[T]=b[T]:(y=C[T-1],T%w?w>6&&T%w==4&&(y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255]):(y=y<<8|y>>>24,y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255],y^=v[T/w|0]<<24),C[T]=C[T-w]^y);for(var I=this._invKeySchedule=[],A=0;A<S;A++){var T=S-A;if(A%4)var y=C[T];else var y=C[T-4];A<4||T<=4?I[A]=y:I[A]=p[s[y>>>24]]^d[s[y>>>16&255]]^m[s[y>>>8&255]]^_[s[y&255]]}}},encryptBlock:function(y,x){this._doCryptBlock(y,x,this._keySchedule,l,u,f,h,s)},decryptBlock:function(y,x){var b=y[x+1];y[x+1]=y[x+3],y[x+3]=b,this._doCryptBlock(y,x,this._invKeySchedule,p,d,m,_,c);var b=y[x+1];y[x+1]=y[x+3],y[x+3]=b},_doCryptBlock:function(y,x,b,w,E,S,C,T){for(var I=this._nRounds,A=y[x]^b[0],R=y[x+1]^b[1],O=y[x+2]^b[2],F=y[x+3]^b[3],N=4,$=1;$<I;$++){var q=w[A>>>24]^E[R>>>16&255]^S[O>>>8&255]^C[F&255]^b[N++],K=w[R>>>24]^E[O>>>16&255]^S[F>>>8&255]^C[A&255]^b[N++],G=w[O>>>24]^E[F>>>16&255]^S[A>>>8&255]^C[R&255]^b[N++],L=w[F>>>24]^E[A>>>16&255]^S[R>>>8&255]^C[O&255]^b[N++];A=q,R=K,O=G,F=L}var q=(T[A>>>24]<<24|T[R>>>16&255]<<16|T[O>>>8&255]<<8|T[F&255])^b[N++],K=(T[R>>>24]<<24|T[O>>>16&255]<<16|T[F>>>8&255]<<8|T[A&255])^b[N++],G=(T[O>>>24]<<24|T[F>>>16&255]<<16|T[A>>>8&255]<<8|T[R&255])^b[N++],L=(T[F>>>24]<<24|T[A>>>16&255]<<16|T[R>>>8&255]<<8|T[O&255])^b[N++];y[x]=q,y[x+1]=K,y[x+2]=G,y[x+3]=L},keySize:256/32});n.AES=a._createHelper(g)}(),r.AES})}(qx)),qx.exports}var Kx={exports:{}},u4;function B0e(){return u4||(u4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),Yl(),ql(),Ns(),kn())})(it,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=s.DES=o.extend({_doReset:function(){for(var v=this._key,g=v.words,y=[],x=0;x<56;x++){var b=c[x]-1;y[x]=g[b>>>5]>>>31-b%32&1}for(var w=this._subKeys=[],E=0;E<16;E++){for(var S=w[E]=[],C=u[E],x=0;x<24;x++)S[x/6|0]|=y[(l[x]-1+C)%28]<<31-x%6,S[4+(x/6|0)]|=y[28+(l[x+24]-1+C)%28]<<31-x%6;S[0]=S[0]<<1|S[0]>>>31;for(var x=1;x<7;x++)S[x]=S[x]>>>(x-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var T=this._invSubKeys=[],x=0;x<16;x++)T[x]=w[15-x]},encryptBlock:function(v,g){this._doCryptBlock(v,g,this._subKeys)},decryptBlock:function(v,g){this._doCryptBlock(v,g,this._invSubKeys)},_doCryptBlock:function(v,g,y){this._lBlock=v[g],this._rBlock=v[g+1],d.call(this,4,252645135),d.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),d.call(this,1,1431655765);for(var x=0;x<16;x++){for(var b=y[x],w=this._lBlock,E=this._rBlock,S=0,C=0;C<8;C++)S|=f[C][((E^b[C])&h[C])>>>0];this._lBlock=E,this._rBlock=w^S}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,d.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),v[g]=this._lBlock,v[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function d(v,g){var y=(this._lBlock>>>v^this._rBlock)&g;this._rBlock^=y,this._lBlock^=y<<v}function m(v,g){var y=(this._rBlock>>>v^this._lBlock)&g;this._lBlock^=y,this._rBlock^=y<<v}n.DES=o._createHelper(p);var _=s.TripleDES=o.extend({_doReset:function(){var v=this._key,g=v.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=g.slice(0,2),x=g.length<4?g.slice(0,2):g.slice(2,4),b=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=p.createEncryptor(a.create(y)),this._des2=p.createEncryptor(a.create(x)),this._des3=p.createEncryptor(a.create(b))},encryptBlock:function(v,g){this._des1.encryptBlock(v,g),this._des2.decryptBlock(v,g),this._des3.encryptBlock(v,g)},decryptBlock:function(v,g){this._des3.decryptBlock(v,g),this._des2.encryptBlock(v,g),this._des1.decryptBlock(v,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(_)}(),r.TripleDES})}(Kx)),Kx.exports}var Zx={exports:{}},c4;function D0e(){return c4||(c4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),Yl(),ql(),Ns(),kn())})(it,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,p=this._S=[],d=0;d<256;d++)p[d]=d;for(var d=0,m=0;d<256;d++){var _=d%h,v=f[_>>>2]>>>24-_%4*8&255;m=(m+p[d]+v)%256;var g=p[d];p[d]=p[m],p[m]=g}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,p=0,d=0;d<4;d++){f=(f+1)%256,h=(h+u[f])%256;var m=u[f];u[f]=u[h],u[h]=m,p|=u[(u[f]+u[h])%256]<<24-d*8}return this._i=f,this._j=h,p}n.RC4=a._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(Zx)),Zx.exports}var Jx={exports:{}},f4;function U0e(){return f4||(f4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),Yl(),ql(),Ns(),kn())})(it,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,p=this.cfg.iv,d=0;d<4;d++)h[d]=(h[d]<<8|h[d]>>>24)&16711935|(h[d]<<24|h[d]>>>8)&4278255360;var m=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],_=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var d=0;d<4;d++)f.call(this);for(var d=0;d<8;d++)_[d]^=m[d+4&7];if(p){var v=p.words,g=v[0],y=v[1],x=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,w=x>>>16|b&4294901760,E=b<<16|x&65535;_[0]^=x,_[1]^=w,_[2]^=b,_[3]^=E,_[4]^=x,_[5]^=w,_[6]^=b,_[7]^=E;for(var d=0;d<4;d++)f.call(this)}},_doProcessBlock:function(h,p){var d=this._X;f.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,h[p+m]^=s[m]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,d=0;d<8;d++)c[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var d=0;d<8;d++){var m=h[d]+p[d],_=m&65535,v=m>>>16,g=((_*_>>>17)+_*v>>>15)+v*v,y=((m&4294901760)*m|0)+((m&65535)*m|0);l[d]=g^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(Jx)),Jx.exports}var Qx={exports:{}},h4;function j0e(){return h4||(h4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),Yl(),ql(),Ns(),kn())})(it,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,p=this.cfg.iv,d=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var _=0;_<4;_++)f.call(this);for(var _=0;_<8;_++)m[_]^=d[_+4&7];if(p){var v=p.words,g=v[0],y=v[1],x=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,w=x>>>16|b&4294901760,E=b<<16|x&65535;m[0]^=x,m[1]^=w,m[2]^=b,m[3]^=E,m[4]^=x,m[5]^=w,m[6]^=b,m[7]^=E;for(var _=0;_<4;_++)f.call(this)}},_doProcessBlock:function(h,p){var d=this._X;f.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,h[p+m]^=s[m]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,d=0;d<8;d++)c[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var d=0;d<8;d++){var m=h[d]+p[d],_=m&65535,v=m>>>16,g=((_*_>>>17)+_*v>>>15)+v*v,y=((m&4294901760)*m|0)+((m&65535)*m|0);l[d]=g^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(Qx)),Qx.exports}var e1={exports:{}},d4;function $0e(){return d4||(d4=1,function(t,e){(function(r,n,i){t.exports=n(jt(),Yl(),ql(),Ns(),kn())})(it,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(_,v){let g=v>>24&255,y=v>>16&255,x=v>>8&255,b=v&255,w=_.sbox[0][g]+_.sbox[1][y];return w=w^_.sbox[2][x],w=w+_.sbox[3][b],w}function h(_,v,g){let y=v,x=g,b;for(let w=0;w<s;++w)y=y^_.pbox[w],x=f(_,y)^x,b=y,y=x,x=b;return b=y,y=x,x=b,x=x^_.pbox[s],y=y^_.pbox[s+1],{left:y,right:x}}function p(_,v,g){let y=v,x=g,b;for(let w=s+1;w>1;--w)y=y^_.pbox[w],x=f(_,y)^x,b=y,y=x,x=b;return b=y,y=x,x=b,x=x^_.pbox[1],y=y^_.pbox[0],{left:y,right:x}}function d(_,v,g){for(let E=0;E<4;E++){_.sbox[E]=[];for(let S=0;S<256;S++)_.sbox[E][S]=l[E][S]}let y=0;for(let E=0;E<s+2;E++)_.pbox[E]=c[E]^v[y],y++,y>=g&&(y=0);let x=0,b=0,w=0;for(let E=0;E<s+2;E+=2)w=h(_,x,b),x=w.left,b=w.right,_.pbox[E]=x,_.pbox[E+1]=b;for(let E=0;E<4;E++)for(let S=0;S<256;S+=2)w=h(_,x,b),x=w.left,b=w.right,_.sbox[E][S]=x,_.sbox[E][S+1]=b;return!0}var m=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var _=this._keyPriorReset=this._key,v=_.words,g=_.sigBytes/4;d(u,v,g)}},encryptBlock:function(_,v){var g=h(u,_[v],_[v+1]);_[v]=g.left,_[v+1]=g.right},decryptBlock:function(_,v){var g=p(u,_[v],_[v+1]);_[v]=g.left,_[v+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(m)}(),r.Blowfish})}(e1)),e1.exports}(function(t,e){(function(r,n,i){t.exports=n(jt(),zg(),g0e(),_0e(),Yl(),y0e(),ql(),k5(),ET(),x0e(),F5(),b0e(),w0e(),E0e(),ST(),S0e(),Ns(),kn(),C0e(),T0e(),A0e(),I0e(),R0e(),P0e(),O0e(),k0e(),F0e(),N0e(),L0e(),M0e(),B0e(),D0e(),U0e(),j0e(),$0e())})(it,function(r){return r})})(P5);var V0e=P5.exports;const Zp=Pn(V0e);function G0e(t){const e=new Uint8Array(t),r=[];for(let n=0;n<e.length;n+=4)r.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return Zp.lib.WordArray.create(r,e.length)}async function H0e(t,e,r,n){const i=Zp.enc.Hex.parse(e),a=Zp.enc.Hex.parse(r),o=G0e(t),s=Zp.AES.decrypt({ciphertext:o},i,{iv:a}),c=new Uint8Array(s.sigBytes);for(let l=0;l<s.sigBytes;l++)c[l]=s.words[l>>>2]>>>24-l%4*8&255;return new Blob([c],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}class X0e{constructor(){Xe(this,"videosByKey");Xe(this,"currentPlayingVideo","");Xe(this,"videoIndex",0);this.videosByKey={},this.currentPlayingVideo=""}preloadVideo(e,r=!1){var c;if(this.videosByKey[e])return;console.info("",e);const n="video-"+this.videoIndex++,i=document.createElement("div"),a=document.createElement("video"),o=e.endsWith(".flv")?"flv":"mp4";i.setAttribute("id",n),i.style.width="100%",i.style.height="100%",i.style.zIndex="-99",i.style.display="block",i.style.opacity="0",i.style.background="#000",i.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.zIndex="11",a.style.position="absolute",a.style.display="block",a.playsInline=!0,a.controls=!1,a.addEventListener("play",function(){a.controls=!1}),a.addEventListener("pause",function(){a.controls=!1}),a.volume=0;const s=()=>{this.videosByKey[e].events.ended.callbacks.forEach(u=>u())};i.appendChild(a),(c=document.getElementById("videoContainer"))==null||c.appendChild(i),this.videosByKey[e]={player:null,id:n,progressTimer:null,waitCommands:{},events:{ended:{callbacks:[],handler:s}}},r&&(this.videosByKey[e].waitCommands={playVideo:!0,showVideo:!0}),fetch(e).then(l=>l.status>200?null:l.arrayBuffer()).then(async l=>{if(!l)return;const u="ENCRYPTED",f=u.length,h=new Uint8Array(l.slice(0,f));let p=!1;for(let v=0;v<f;v++){if(String.fromCharCode(h[v])!==u[v]){p=!1;break}p=!0}let d;if(p){const v=l.slice(f);d=await H0e(v,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",o)}else d=new Blob([new Uint8Array(l)],{type:`video/${o==="mp4"?"mp4":"x-flv"}`});const m=p0e.createPlayer({type:e.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(d)});m.attachMediaElement(a),m.load();const _={...this.videosByKey[e],player:m};this.videosByKey[e]=_,a.onloadeddata=()=>{const v=Object.keys(_.waitCommands);if(_){const g=document.createElement("canvas"),y=g.getContext("2d");g.width=480,g.height=270,y.drawImage(a,0,0,480,270);const x=g.toDataURL("image/webp",.5);g.remove(),_.poster=x}v.length&&v.forEach(g=>{if(!_){console.log("",e);return}this[g](e,_.waitCommands[g])})}})}pauseVideo(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.pause()}showVideo(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=document.getElementById(r.id);n&&(n.style.opacity="1",n.style.zIndex="11")}else r?r.waitCommands.showVideo=!0:this.preloadVideo(e,!0)}playVideo(e){const r=this.videosByKey[e];this.currentPlayingVideo=e,r!=null&&r.player?(r.player.play(),this.checkProgress(e)):r?r.waitCommands.playVideo=!0:this.preloadVideo(e,!0)}setLoop(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.loop=r)}else n.waitCommands.setLoop=r}seek(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.currentTime=r:n.waitCommands.seek=r}backward(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.currentTime>0&&(r.player.currentTime-=1)}forward(e){const r=this.videosByKey[e];r!=null&&r.player&&(r.player.currentTime+=1)}setVolume(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.volume=r:n.waitCommands.setVolume=r}destroy(e,r=!1,n=!1){const i=this.videosByKey[e];if(i!=null&&i.player){i.player.pause(),i.player.volume=0;const a=document.getElementById(i.id);a&&(a.style.opacity="0",a.style.zIndex="-99"),i.progressTimer&&clearTimeout(i.progressTimer),setTimeout(()=>{try{const o=a==null?void 0:a.getElementsByTagName("video");o!=null&&o.length&&i.player.destroy()}catch(o){console.warn(o)}setTimeout(()=>{a==null||a.remove()},r?0:500),delete this.videosByKey[e]},r?0:2e3)}}destroyAll(e=!1){Object.keys(this.videosByKey).forEach(r=>{this.destroy(r,e)})}onEnded(e,r){this.videosByKey[e].events.ended.callbacks.push(r)}getDuration(e){const r=this.videosByKey[e];if(r!=null&&r.player)return r.player.duration}destroyExcept(e){Object.keys(this.videosByKey).forEach(r=>{e.includes(r)||this.destroy(r)})}checkProgress(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=r.player,i=n.currentTime;if(n.duration-i<=.03){clearTimeout(r.progressTimer),r.progressTimer=null,r.events.ended.handler();return}r.progressTimer=setTimeout(()=>{this.checkProgress(e)},100)}}}class z0e{constructor(){Xe(this,"sceneManager",new l0e);Xe(this,"backlogManager",new $Q(this.sceneManager));Xe(this,"animationManager",new u0e);Xe(this,"gameplay",new c0e);Xe(this,"gameName","");Xe(this,"gameKey","");Xe(this,"events",new h0e);Xe(this,"videoManager",new X0e)}}const z=new z0e,Mn=N5(()=>{const t=le.getState().userData;kl.setItem(z.gameKey,t).then(()=>{$e.info("")})},100),qv=N5(()=>{kl.getItem(z.gameKey).then(t=>{if(!t||!M5(t)){$e.warn(""),Mn();return}le.dispatch(wC(t))})},100);function N5(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const L5=()=>{const t=le.getState().userData;kl.setItem(z.gameKey,t).then(()=>{kl.getItem(z.gameKey).then(e=>{if(!e){Mn();return}le.dispatch(wC(e))}),$e.info("")})};function M5(t){let e=!0;for(const r in pw)t.hasOwnProperty(r)||(e=!1);return e}async function W0e(){const t=await kl.getItem(z.gameKey);if(!t||!M5(t)){const e=le.getState().userData;return $e.warn(""),await kl.setItem(z.gameKey,e)}else le.dispatch(wC(t))}var Qt=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))(Qt||{}),ur=(t=>(t.Game_start_button="Game_start_button",t.Game_achievement_button="Game_achievement_button",t.Game_storyline_button="Game_storyline_button",t.Game_extra_button="Game_extra_button",t.Game_collection_button="Game_collection_button",t.Game_option_button="Game_option_button",t.Game_load_button="Game_load_button",t.Game_continue_button="Game_continue_button",t))(ur||{});const B5={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:Qt.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,isShowGameMenu:!1,showStoryLine:!1,showAchievement:!1,showFavorited:!1,gameMenus:{Game_start_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:"",countdown:0}}},Game_achievement_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_extra_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_storyline_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_collection_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_continue_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_load_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}},Game_option_button:{content:"",args:{hide:!0,style:{x:0,y:0,scale:1,image:"",fontSize:0,fontColor:""}}}},showBeautyGuide:!1,showBeautyGuideDetail:!1,showBeautyGuideImageDialog:!1,isShowR18Modal:!1,openR18Modal:!1},D5=Mm({name:"gui",initialState:B5,reducers:{setVisibility:(t,e)=>{qv();const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{qv(),t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]},setShowStoryLine:(t,e)=>{t.showStoryLine=e.payload},setshowFavorited:(t,e)=>{t.showFavorited=e.payload},setGameMenus:(t,e)=>{t.gameMenus=e.payload},setGameR18:(t,e)=>{t.isShowR18Modal=e.payload}}}),{setVisibility:at,setMenuPanelTag:El,setGuiAsset:Lw,setLogoImage:Y0e,setShowStoryLine:Mw,setshowFavorited:Bw,setGameMenus:q0e,setGameR18:U5}=D5.actions,K0e=D5.reducer,le=JG({reducer:{stage:kJ,GUI:K0e,userData:UQ,saveData:jde},middleware:uD({serializableCheck:!1})});let p4;function CT(t,e=0,r=100){if($e.info("playing bgm"+t),t===""){p4=setTimeout(()=>{le.dispatch(lt({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const i=le.getState().stage.bgm.src;le.dispatch(lt({key:"bgm",value:{src:i,enter:-e,volume:r}}))}else clearTimeout(p4),le.dispatch(lt({key:"bgm",value:{src:t,enter:e,volume:r}}));const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())}function i0(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const TT=()=>{$e.warn("");for(let t=0;t<z.gameplay.performController.performList.length;t++){const e=z.gameplay.performController.performList[t];e.performName.startsWith("videoPlay")?e.stopFunction(!0):e.stopFunction(),clearTimeout(e.stopTimeout),z.gameplay.performController.performList.splice(t,1),t--}},AT=()=>{le.getState().stage.PerformList.forEach(e=>{ig(e.script)})},Z0e=t=>{const e=le.dispatch,r=z.backlogManager.getBacklog()[t];$e.debug("backlog",r),Ni(r.saveScene.sceneUrl).then(async i=>{if(await z.sceneManager.setCurrentScene(i,r.saveScene.sceneName,r.saveScene.sceneUrl)){const o=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(z.sceneManager.sceneData.currentScene.sceneUrl);const s=qd(o);rf(s)}}),z.sceneManager.sceneData.currentSentenceId=r.saveScene.currentSentenceId,z.sceneManager.sceneData.sceneStack=Ir(r.saveScene.sceneStack),TT();for(let i=z.backlogManager.getBacklog().length-1;i>t;i--)z.backlogManager.getBacklog().pop();z.backlogManager.isSaveBacklogNext=!0;const n=Ir(r.currentStageState);e(Hm(n)),setTimeout(AT,0),e(at({component:"showBacklog",visibility:!1})),e(at({component:"showTextBox",visibility:!0}))},J0e=(t,e=!1)=>{const n=le.getState().saveData.saveData[t];$e.debug("",n),IT(n,e)};async function IT(t,e=!1){if(!t){$e.info("");return}const r=t;try{const o=await Ni(r.sceneData.sceneUrl);if(!await z.sceneManager.setCurrentScene(o,r.sceneData.sceneName,r.sceneData.sceneUrl,!0))return;const c=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(z.sceneManager.sceneData.currentScene.sceneUrl);const l=qd(c);rf(l)}catch(o){$e.error("",o);return}z.sceneManager.sceneData.currentSentenceId=r.sceneData.currentSentenceId,z.sceneManager.sceneData.sceneStack=Ir(r.sceneData.sceneStack),TT();const n=r.backlog;z.backlogManager.getBacklog().splice(0,z.backlogManager.getBacklog().length);for(const o of n)z.backlogManager.getBacklog().push(o);const i=Ir(r.nowStageState),a=le.dispatch;a(Hm(i)),e?(a(nr.setLoadVideo(!0)),console.log(33333,r),r.nowStageState.PerformList.forEach(o=>{ig(o.script)})):setTimeout(AT,0),a(at({component:"showTitle",visibility:!1})),a(at({component:"showMenuPanel",visibility:!1})),a(at({component:"showExtra",visibility:!1})),i0(le.getState().stage.bgName)}function Q0e(){`${z.gameName}${z.gameKey}`,`${z.gameName}${z.gameKey}`}async function epe(){const t=await C5(-1,!1),e=Ir(t);le.dispatch(nr.setFastSave(e)),await Zde()}async function tpe(){return await W0e(),le.getState().saveData.quickSaveData!==null}async function rpe(){await E5();const t=le.getState().saveData.quickSaveData;t&&IT(t)}const npe=()=>{xT(!0,!0,!1);const t=zr("start.txt",Xr.scene);Ni(t).then(e=>{z.sceneManager.setCurrentScene(e,"start.txt",t,!0).then(r=>{r&&an()})}),le.dispatch(nr.setIsShowUnlock(!0)),le.dispatch(nr.setShowStoryline(!0)),le.dispatch(at({component:"showTitle",visibility:!1}))};async function ipe(){if(i0(le.getState().stage.bgName),await tpe()&&z.sceneManager.sceneData.currentSentenceId===0){await rpe();return}z.sceneManager.sceneData.currentSentenceId===0&&z.sceneManager.sceneData.currentScene.sceneName==="start.txt"?an():AT()}const ape=()=>{const t=zr(fs.Storyline,Xr.scene);z.sceneManager.resetScene(),Ni(t).then(e=>{z.sceneManager.setCurrentScene(e,fs.Storyline,t).then(r=>{r&&an()})}),le.dispatch(at({component:"showTitle",visibility:!1})),le.dispatch(at({component:"showMenuPanel",visibility:!1})),le.dispatch(at({component:"showTextBox",visibility:!1})),le.dispatch(Mw(!0))},ope=()=>{le.dispatch(at({component:"showBeautyGuide",visibility:!0}))};function RT(t,e){if(t==null)return{};var r=Cfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var spe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const lpe=Pn(spe);var upe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function v4(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(lpe[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(upe),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var cpe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,fpe=/^\s*$/,hpe=Object.create(null);function j5(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(j5,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var dpe={parse:function(t,e){e||(e={}),e.components||(e.components=hpe);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(cpe,function(c,l){if(o){if(c!=="</"+r.name+">")return;o=!1}var u,f=c.charAt(1)!=="/",h=c.startsWith("<!--"),p=l+c.length,d=t.charAt(p);if(h){var m=v4(c);return a<0?(n.push(m),n):((u=i[a]).children.push(m),n)}if(f&&(a++,(r=v4(c)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!d||d==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&d!=="<"&&d)){u=a===-1?n:i[a].children;var _=t.indexOf("<",p),v=t.slice(p,_===-1?void 0:_);fpe.test(v)&&(v=" "),(_>-1&&a+u.length>=0||v!==" ")&&u.push({type:"text",content:v})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+j5("",r)},"")}};function Jp(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var m4={};function Kv(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&m4[e[0]]||(typeof e[0]=="string"&&(m4[e[0]]=new Date),Jp.apply(void 0,e))}var $5=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function g4(t,e,r){t.loadNamespaces(e,$5(t,r))}function _4(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,$5(t,n))}function ppe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(c,l){var u=e.services.backendConnector.state["".concat(c,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function vpe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return Kv("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):ppe(t,e,r)}var mpe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gpe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},_pe=function(e){return gpe[e]},ype=function(e){return e.replace(mpe,_pe)};function y4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Dw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ype};function xpe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Dw=x4(x4({},Dw),t)}function V5(){return Dw}var G5;function bpe(t){G5=t}function PT(){return G5}var wpe=["format"],Epe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function b4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t1(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function r1(t){return t?t.props?t.props.children:t.children:[]}function Spe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return ye.isValidElement(e)})}function lh(t){return Array.isArray(t)?t:[t]}function Cpe(t,e){var r=fn({},e);return r.props=Object.assign(t.props,e.props),r}function H5(t,e){if(!t)return"";var r="",n=lh(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(ye.isValidElement(a)){var s=Object.keys(a.props).length,c=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&c&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!c||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(c&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=H5(l,e);r+="<".concat(o,">").concat(u,"</").concat(o,">")}}else if(a===null)Jp("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Tn(a)==="object"){var f=a.format,h=RT(a,wpe),p=Object.keys(h);if(p.length===1){var d=f?"".concat(p[0],", ").concat(f):p[0];r+="{{".concat(d,"}}")}else Jp("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else Jp("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function Tpe(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var c={};function l(_){var v=lh(_);v.forEach(function(g){typeof g!="string"&&(t1(g)?l(r1(g)):Tn(g)==="object"&&!ye.isValidElement(g)&&Object.assign(c,g))})}l(t);var u=dpe.parse("<0>".concat(e,"</0>")),f=fn(fn({},c),i);function h(_,v,g){var y=r1(_),x=d(y,v.children,g);return Spe(y)&&x.length===0?y:x}function p(_,v,g,y,x){_.dummy&&(_.children=v),g.push(ye.cloneElement(_,fn(fn({},_.props),{},{key:y}),x?void 0:v))}function d(_,v,g){var y=lh(_),x=lh(v);return x.reduce(function(b,w,E){var S=w.children&&w.children[0]&&w.children[0].content&&r.services.interpolator.interpolate(w.children[0].content,f,r.language);if(w.type==="tag"){var C=y[parseInt(w.name,10)];!C&&g.length===1&&g[0][w.name]&&(C=g[0][w.name]),C||(C={});var T=Object.keys(w.attrs).length!==0?Cpe({props:w.attrs},C):C,I=ye.isValidElement(T),A=I&&t1(w,!0)&&!w.voidElement,R=s&&Tn(T)==="object"&&T.dummy&&!I,O=Tn(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,w.name);if(typeof T=="string"){var F=r.services.interpolator.interpolate(T,f,r.language);b.push(F)}else if(t1(T)||A){var N=h(T,w,g);p(T,N,b,E)}else if(R){var $=d(y,w.children,g);b.push(ye.cloneElement(T,fn(fn({},T.props),{},{key:E}),$))}else if(Number.isNaN(parseFloat(w.name)))if(O){var q=h(T,w,g);p(T,q,b,E,w.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(w.name)>-1)if(w.voidElement)b.push(ye.createElement(w.name,{key:"".concat(w.name,"-").concat(E)}));else{var K=d(y,w.children,g);b.push(ye.createElement(w.name,{key:"".concat(w.name,"-").concat(E)},K))}else if(w.voidElement)b.push("<".concat(w.name," />"));else{var G=d(y,w.children,g);b.push("<".concat(w.name,">").concat(G,"</").concat(w.name,">"))}else if(Tn(T)==="object"&&!I){var L=w.children[0]?S:null;L&&b.push(L)}else w.children.length===1&&S?b.push(ye.cloneElement(T,fn(fn({},T.props),{},{key:E}),S)):b.push(ye.cloneElement(T,fn(fn({},T.props),{},{key:E})))}else if(w.type==="text"){var j=n.transWrapTextNodes,B=a?n.unescape(r.services.interpolator.interpolate(w.content,f,r.language)):r.services.interpolator.interpolate(w.content,f,r.language);j?b.push(ye.createElement(j,{key:"".concat(w.name,"-").concat(E)},B)):b.push(B)}return b},[])}var m=d([{dummy:!0,children:t||[]}],u,lh(t||[]));return r1(m[0])}function Ape(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,m=RT(t,Epe),_=h||PT();if(!_)return Kv("You will need to pass in an i18next instance by using i18nextReactModule"),e;var v=p||_.t.bind(_)||function(A){return A};a&&(s.context=a);var g=fn(fn({},V5()),_.options&&_.options.react),y=f||v.ns||_.options&&_.options.defaultNS;y=typeof y=="string"?[y]:y||["translation"];var x=l||H5(e,g)||g.transEmptyNodeValue||i,b=g.hashTransKey,w=i||(b?b(x):x),E=c?s.interpolation:{interpolation:fn(fn({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},S=fn(fn(fn(fn({},s),{},{count:r},c),E),{},{defaultValue:x,ns:y}),C=w?v(w,S):x,T=Tpe(u||e,C,_,g,S,d),I=n!==void 0?n:g.defaultTransParent;return I?ye.createElement(I,m,T):T}function xa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iD(n.key),n)}}function ba(t,e,r){return e&&w4(t.prototype,e),r&&w4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var Ipe={type:"3rdParty",init:function(e){xpe(e.options.react),bpe(e)}},X5=ye.createContext(),Rpe=function(){function t(){xa(this,t),this.usedNamespaces={}}return ba(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),Ppe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function E4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ope(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kpe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,m=RT(t,Ppe),_=ye.useContext(X5)||{},v=_.i18n,g=_.defaultNS,y=h||v||PT(),x=p||y&&y.t.bind(y);return Ape(Ope({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:c,defaults:l,components:u,ns:f||x&&x.ns||g||y&&y.options&&y.options.defaultNS,i18n:y,t:p,shouldUnescape:d},m))}function z5(t){if(Array.isArray(t))return t}function Fpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function S4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W5(t,e){if(t){if(typeof t=="string")return S4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S4(t,e)}}function Y5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Npe(t,e){return z5(t)||Fpe(t,e)||W5(t,e)||Y5()}function C4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Lpe=function(e,r){var n=ye.useRef();return ye.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function Wg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=ye.useContext(X5)||{},i=n.i18n,a=n.defaultNS,o=r||i||PT();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Rpe),!o){Kv("You will need to pass in an i18next instance by using initReactI18next");var s=function(C,T){return typeof T=="string"?T:T&&Tn(T)==="object"&&typeof T.defaultValue=="string"?T.defaultValue:Array.isArray(C)?C[C.length-1]:C},c=[s,{},!1];return c.t=s,c.i18n={},c.ready=!1,c}o.options.react&&o.options.react.wait!==void 0&&Kv("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=n1(n1(n1({},V5()),o.options.react),e),u=l.useSuspense,f=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var p=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(S){return vpe(S,o,l)});function d(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],f)}var m=ye.useState(d),_=Npe(m,2),v=_[0],g=_[1],y=h.join();e.lng&&(y="".concat(e.lng).concat(y));var x=Lpe(y),b=ye.useRef(!0);ye.useEffect(function(){var S=l.bindI18n,C=l.bindI18nStore;b.current=!0,!p&&!u&&(e.lng?_4(o,e.lng,h,function(){b.current&&g(d)}):g4(o,h,function(){b.current&&g(d)})),p&&x&&x!==y&&b.current&&g(d);function T(){b.current&&g(d)}return S&&o&&o.on(S,T),C&&o&&o.store.on(C,T),function(){b.current=!1,S&&o&&S.split(" ").forEach(function(I){return o.off(I,T)}),C&&o&&C.split(" ").forEach(function(I){return o.store.off(I,T)})}},[o,y]);var w=ye.useRef(!0);ye.useEffect(function(){b.current&&!w.current&&g(d),w.current=!1},[o,f]);var E=[v,o,p];if(E.t=v,E.i18n=o,E.ready=p,p||!p&&!u)return E;throw new Promise(function(S){e.lng?_4(o,e.lng,h,function(){return S()}):g4(o,h,function(){return S()})})}function Eo(t){const{t:e}=Wg(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}function Mpe(t){return Xg.parseScssToWebgalStyleObj(t)}function Ts(t){const[e,r]=ye.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function Bpe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Dpe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Upe=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Dpe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Bpe(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Wn="-ms-",Zv="-moz-",zt="-webkit-",q5="comm",OT="rule",kT="decl",jpe="@import",K5="@keyframes",$pe="@layer",Vpe=Math.abs,Yg=String.fromCharCode,Gpe=Object.assign;function Hpe(t,e){return Bn(t,0)^45?(((e<<2^Bn(t,0))<<2^Bn(t,1))<<2^Bn(t,2))<<2^Bn(t,3):0}function Z5(t){return t.trim()}function Xpe(t,e){return(t=e.exec(t))?t[0]:t}function Wt(t,e,r){return t.replace(e,r)}function Uw(t,e){return t.indexOf(e)}function Bn(t,e){return t.charCodeAt(e)|0}function sd(t,e,r){return t.slice(e,r)}function Pa(t){return t.length}function FT(t){return t.length}function H0(t,e){return e.push(t),t}function zpe(t,e){return t.map(e).join("")}var qg=1,Ac=1,J5=0,wi=0,nn=0,lf="";function Kg(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:qg,column:Ac,length:o,return:""}}function Df(t,e){return Gpe(Kg("",null,null,"",null,null,0),t,{length:-t.length},e)}function Wpe(){return nn}function Ype(){return nn=wi>0?Bn(lf,--wi):0,Ac--,nn===10&&(Ac=1,qg--),nn}function Ri(){return nn=wi<J5?Bn(lf,wi++):0,Ac++,nn===10&&(Ac=1,qg++),nn}function $a(){return Bn(lf,wi)}function Qp(){return wi}function a0(t,e){return sd(lf,t,e)}function ld(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Q5(t){return qg=Ac=1,J5=Pa(lf=t),wi=0,[]}function eU(t){return lf="",t}function ev(t){return Z5(a0(wi-1,jw(t===91?t+2:t===40?t+1:t)))}function qpe(t){for(;(nn=$a())&&nn<33;)Ri();return ld(t)>2||ld(nn)>3?"":" "}function Kpe(t,e){for(;--e&&Ri()&&!(nn<48||nn>102||nn>57&&nn<65||nn>70&&nn<97););return a0(t,Qp()+(e<6&&$a()==32&&Ri()==32))}function jw(t){for(;Ri();)switch(nn){case t:return wi;case 34:case 39:t!==34&&t!==39&&jw(nn);break;case 40:t===41&&jw(t);break;case 92:Ri();break}return wi}function Zpe(t,e){for(;Ri()&&t+nn!==47+10;)if(t+nn===42+42&&$a()===47)break;return"/*"+a0(e,wi-1)+"*"+Yg(t===47?t:Ri())}function Jpe(t){for(;!ld($a());)Ri();return a0(t,wi)}function Qpe(t){return eU(tv("",null,null,null,[""],t=Q5(t),0,[0],t))}function tv(t,e,r,n,i,a,o,s,c){for(var l=0,u=0,f=o,h=0,p=0,d=0,m=1,_=1,v=1,g=0,y="",x=i,b=a,w=n,E=y;_;)switch(d=g,g=Ri()){case 40:if(d!=108&&Bn(E,f-1)==58){Uw(E+=Wt(ev(g),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=ev(g);break;case 9:case 10:case 13:case 32:E+=qpe(d);break;case 92:E+=Kpe(Qp()-1,7);continue;case 47:switch($a()){case 42:case 47:H0(eve(Zpe(Ri(),Qp()),e,r),c);break;default:E+="/"}break;case 123*m:s[l++]=Pa(E)*v;case 125*m:case 59:case 0:switch(g){case 0:case 125:_=0;case 59+u:v==-1&&(E=Wt(E,/\f/g,"")),p>0&&Pa(E)-f&&H0(p>32?A4(E+";",n,r,f-1):A4(Wt(E," ","")+";",n,r,f-2),c);break;case 59:E+=";";default:if(H0(w=T4(E,e,r,l,u,i,s,y,x=[],b=[],f),a),g===123)if(u===0)tv(E,e,w,w,x,a,f,s,b);else switch(h===99&&Bn(E,3)===110?100:h){case 100:case 108:case 109:case 115:tv(t,w,w,n&&H0(T4(t,w,w,0,0,i,s,y,i,x=[],f),b),i,b,f,s,n?x:b);break;default:tv(E,w,w,w,[""],b,0,s,b)}}l=u=p=0,m=v=1,y=E="",f=o;break;case 58:f=1+Pa(E),p=d;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&Ype()==125)continue}switch(E+=Yg(g),g*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:s[l++]=(Pa(E)-1)*v,v=1;break;case 64:$a()===45&&(E+=ev(Ri())),h=$a(),u=f=Pa(y=E+=Jpe(Qp())),g++;break;case 45:d===45&&Pa(E)==2&&(m=0)}}return a}function T4(t,e,r,n,i,a,o,s,c,l,u){for(var f=i-1,h=i===0?a:[""],p=FT(h),d=0,m=0,_=0;d<n;++d)for(var v=0,g=sd(t,f+1,f=Vpe(m=o[d])),y=t;v<p;++v)(y=Z5(m>0?h[v]+" "+g:Wt(g,/&\f/g,h[v])))&&(c[_++]=y);return Kg(t,e,r,i===0?OT:s,c,l,u)}function eve(t,e,r){return Kg(t,e,r,q5,Yg(Wpe()),sd(t,2,-2),0)}function A4(t,e,r,n){return Kg(t,e,r,kT,sd(t,0,n),sd(t,n+1,-1),n)}function cc(t,e){for(var r="",n=FT(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function tve(t,e,r,n){switch(t.type){case $pe:if(t.children.length)break;case jpe:case kT:return t.return=t.return||t.value;case q5:return"";case K5:return t.return=t.value+"{"+cc(t.children,n)+"}";case OT:t.value=t.props.join(",")}return Pa(r=cc(t.children,n))?t.return=t.value+"{"+r+"}":""}function rve(t){var e=FT(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function nve(t){return function(e){e.root||(e=e.return)&&t(e)}}function ive(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var ave=function(e,r,n){for(var i=0,a=0;i=a,a=$a(),i===38&&a===12&&(r[n]=1),!ld(a);)Ri();return a0(e,wi)},ove=function(e,r){var n=-1,i=44;do switch(ld(i)){case 0:i===38&&$a()===12&&(r[n]=1),e[n]+=ave(wi-1,r,n);break;case 2:e[n]+=ev(i);break;case 4:if(i===44){e[++n]=$a()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Yg(i)}while(i=Ri());return e},sve=function(e,r){return eU(ove(Q5(e),r))},I4=new WeakMap,lve=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!I4.get(n))&&!i){I4.set(e,!0);for(var a=[],o=sve(r,a),s=n.props,c=0,l=0;c<o.length;c++)for(var u=0;u<s.length;u++,l++)e.props[l]=a[c]?o[c].replace(/&\f/g,s[u]):s[u]+" "+o[c]}}},uve=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function tU(t,e){switch(Hpe(t,e)){case 5103:return zt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return zt+t+Zv+t+Wn+t+t;case 6828:case 4268:return zt+t+Wn+t+t;case 6165:return zt+t+Wn+"flex-"+t+t;case 5187:return zt+t+Wt(t,/(\w+).+(:[^]+)/,zt+"box-$1$2"+Wn+"flex-$1$2")+t;case 5443:return zt+t+Wn+"flex-item-"+Wt(t,/flex-|-self/,"")+t;case 4675:return zt+t+Wn+"flex-line-pack"+Wt(t,/align-content|flex-|-self/,"")+t;case 5548:return zt+t+Wn+Wt(t,"shrink","negative")+t;case 5292:return zt+t+Wn+Wt(t,"basis","preferred-size")+t;case 6060:return zt+"box-"+Wt(t,"-grow","")+zt+t+Wn+Wt(t,"grow","positive")+t;case 4554:return zt+Wt(t,/([^-])(transform)/g,"$1"+zt+"$2")+t;case 6187:return Wt(Wt(Wt(t,/(zoom-|grab)/,zt+"$1"),/(image-set)/,zt+"$1"),t,"")+t;case 5495:case 3959:return Wt(t,/(image-set\([^]*)/,zt+"$1$`$1");case 4968:return Wt(Wt(t,/(.+:)(flex-)?(.*)/,zt+"box-pack:$3"+Wn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zt+t+t;case 4095:case 3583:case 4068:case 2532:return Wt(t,/(.+)-inline(.+)/,zt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pa(t)-1-e>6)switch(Bn(t,e+1)){case 109:if(Bn(t,e+4)!==45)break;case 102:return Wt(t,/(.+:)(.+)-([^]+)/,"$1"+zt+"$2-$3$1"+Zv+(Bn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Uw(t,"stretch")?tU(Wt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Bn(t,e+1)!==115)break;case 6444:switch(Bn(t,Pa(t)-3-(~Uw(t,"!important")&&10))){case 107:return Wt(t,":",":"+zt)+t;case 101:return Wt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zt+(Bn(t,14)===45?"inline-":"")+"box$3$1"+zt+"$2$3$1"+Wn+"$2box$3")+t}break;case 5936:switch(Bn(t,e+11)){case 114:return zt+t+Wn+Wt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return zt+t+Wn+Wt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return zt+t+Wn+Wt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return zt+t+Wn+t+t}return t}var cve=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case kT:e.return=tU(e.value,e.length);break;case K5:return cc([Df(e,{value:Wt(e.value,"@","@"+zt)})],i);case OT:if(e.length)return zpe(e.props,function(a){switch(Xpe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cc([Df(e,{props:[Wt(a,/:(read-\w+)/,":"+Zv+"$1")]})],i);case"::placeholder":return cc([Df(e,{props:[Wt(a,/:(plac\w+)/,":"+zt+"input-$1")]}),Df(e,{props:[Wt(a,/:(plac\w+)/,":"+Zv+"$1")]}),Df(e,{props:[Wt(a,/:(plac\w+)/,Wn+"input-$1")]})],i)}return""})}},fve=[cve],hve=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var _=m.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||fve,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var _=m.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)a[_[v]]=!0;s.push(m)});var c,l=[lve,uve];{var u,f=[tve,nve(function(m){u.insert(m)})],h=rve(l.concat(i,f)),p=function(_){return cc(Qpe(_),h)};c=function(_,v,g,y){u=g,p(_?_+"{"+v.styles+"}":v.styles),y&&(d.inserted[v.name]=!0)}}var d={key:r,sheet:new Upe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return d.sheet.hydrate(s),d};function dve(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var pve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vve=/[A-Z]|^ms/g,mve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rU=function(e){return e.charCodeAt(1)===45},R4=function(e){return e!=null&&typeof e!="boolean"},i1=ive(function(t){return rU(t)?t:t.replace(vve,"-$&").toLowerCase()}),P4=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(mve,function(n,i,a){return Oa={name:i,styles:a,next:Oa},i})}return pve[e]!==1&&!rU(e)&&typeof r=="number"&&r!==0?r+"px":r};function ud(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Oa={name:r.name,styles:r.styles,next:Oa},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Oa={name:n.name,styles:n.styles,next:Oa},n=n.next;var i=r.styles+";";return i}return gve(t,e,r)}case"function":{if(t!==void 0){var a=Oa,o=r(t);return Oa=a,ud(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function gve(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=ud(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":R4(o)&&(n+=i1(a)+":"+P4(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)R4(o[s])&&(n+=i1(a)+":"+P4(a,o[s])+";");else{var c=ud(t,e,o);switch(a){case"animation":case"animationName":{n+=i1(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var O4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Oa,a1=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";Oa=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=ud(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=ud(n,r,e[s]),i&&(a+=o[s]);O4.lastIndex=0;for(var c="",l;(l=O4.exec(a))!==null;)c+="-"+l[1];var u=dve(a)+c;return{name:u,styles:a,next:Oa}},_ve=!0;function nU(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var yve=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||_ve===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},xve=function(e,r,n){yve(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function k4(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function F4(t,e,r){var n=[],i=nU(t,n,r);return n.length<2?r:i+e(n)}var bve=function(e){var r=hve(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=a1(l,r.registered,void 0);return xve(r,f,!1),r.key+"-"+f.name},i=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=a1(l,r.registered),h="animation-"+f.name;return k4(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},a=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=a1(l,r.registered);k4(r,f)},o=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return F4(r.registered,n,wve(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(c){c.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:nU.bind(null,r.registered),merge:F4.bind(null,r.registered,n)}},wve=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},iU=bve({key:"css"}),Eve=iU.injectGlobal,Sve=iU.css;function aU(t){const e=Ts({classNameStyles:{},others:""}),r=rt(a=>a.stage.replacedUIlable),n=(a,o)=>{var c;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=Sve(((c=e.value.classNameStyles)==null?void 0:c[s])??"");return`${o} ${l}`}return o},i=async()=>{$e.debug(" Scss ",t);const o=(await td.get(`game/template/${t}`)).data;e.set(Mpe(o))};return ye.useEffect(()=>{i()},[]),ye.useEffect(()=>{Eve(e.value.others)},[e.value.others]),Cve(i),n}function Cve(t){const e=()=>{t()};ye.useEffect(()=>(z.events.styleUpdate.on(e),()=>z.events.styleUpdate.off(e)),[])}function uf(t){const e=rt(t),r=ye.useRef(e);return ye.useEffect(()=>{r.current=e},[e]),r}function cf(t){ye.useEffect(()=>{t()},[])}function ff(t){ye.useEffect(()=>function(){t()},[])}function Tve(t){ye.useEffect(()=>{t()})}const Ave="_main_1qr2u_1",Ive="_singleButton_1qr2u_12",Rve="_singleButton_fast_1qr2u_19",Pve="_singleButton_auto_1qr2u_23",Ove="_singleButton_auto_active_1qr2u_27",kve="_singleButton_fast_active_1qr2u_31",Fve="_autoIcon_1qr2u_35",Nve="_fastIcon_1qr2u_48",Lve="_historyIcon_1qr2u_61",Mve="_fastSlPreview_1qr2u_74",Bve="_fastSlEnter_1qr2u_1",Dve="_fastsave_1qr2u_88",Uve="_fastSPreview_1qr2u_88",jve="_fastload_1qr2u_92",$ve="_fastLPreview_1qr2u_92",Vve="_slPreviewMain_1qr2u_104",Gve="_imgContainer_1qr2u_112",Hve="_textContainer_1qr2u_120",wn={main:Ave,singleButton:Ive,singleButton_fast:Rve,singleButton_auto:Pve,singleButton_auto_active:Ove,singleButton_fast_active:kve,autoIcon:Fve,fastIcon:Nve,historyIcon:Lve,fastSlPreview:Mve,fastSlEnter:Bve,fastsave:Dve,fastSPreview:Uve,fastload:jve,fastLPreview:$ve,slPreviewMain:Vve,imgContainer:Gve,textContainer:Hve},oU=t=>{const e=document.getElementById("Button_ControlPanel_auto");if(e){let r=wn.singleButton+" "+wn.singleButton_auto;t?e.className=r+" "+wn.singleButton_auto_active:e.className=r}},Zg=()=>{z.gameplay.isAuto=!1,oU(!1),z.gameplay.autoInterval!==null&&(clearInterval(z.gameplay.autoInterval),z.gameplay.autoInterval=null),z.gameplay.autoTimeout!==null&&(clearTimeout(z.gameplay.autoTimeout),z.gameplay.autoTimeout=null)},sU=()=>{z.gameplay.isAuto?Zg():(z.gameplay.isAuto=!0,oU(!0),z.gameplay.autoInterval=setInterval(zve,100))},Xve=()=>{an(),z.gameplay.autoTimeout=null},zve=()=>{const e=750-250*le.getState().userData.optionData.autoSpeed;let r=!1;z.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&z.gameplay.autoTimeout===null&&(z.gameplay.autoTimeout=setTimeout(Xve,e))},lU=t=>{const e=document.getElementById("Button_ControlPanel_fast"),r=wn.singleButton+" "+wn.singleButton_fast;e&&(t?e.className=r+" "+wn.singleButton_fast_active:e.className=r)},fc=()=>{cU()&&(z.gameplay.isFast=!1,lU(!1),z.gameplay.fastInterval!==null&&(clearInterval(z.gameplay.fastInterval),z.gameplay.fastInterval=null))},uU=()=>{cU()||(z.gameplay.isFast=!0,lU(!0),z.gameplay.fastInterval=setInterval(()=>{console.log(""),an()},t8.fast_timeout))},cU=function(){return z.gameplay.isFast},NT=()=>{fc(),Zg()},fU=()=>{z.gameplay.isFast?fc():uU()},Wve="_Backlog_main_1bt22_2",Yve="_backlog_soft_in_1bt22_1",qve="_Backlog_main_out_1bt22_17",Kve="_backlog_soft_out_1bt22_1",Zve="_Backlog_main_out_IndexHide_1bt22_30",Jve="_Backlog_main_DisableScroll_1bt22_34",Qve="_backlog_top_icon_1bt22_38",eme="_backlog_title_1bt22_62",tme="_backlog_content_1bt22_74",rme="_backlog_item_1bt22_100",nme="_backlog_item_in_1bt22_1",ime="_backlog_item_button_element_1bt22_112",ame="_backlog_item_out_1bt22_142",ome="_backlog_func_area_1bt22_151",sme="_backlog_item_content_name_1bt22_157",lme="_backlog_item_content_1bt22_157",ume="_backlog_content_container_1bt22_177",cme="_sound_icon_1bt22_194",fme="_backlog_item_content_text_1bt22_207",hme="_backlog_icon_softin_1bt22_1",Yn={Backlog_main:Wve,backlog_soft_in:Yve,Backlog_main_out:qve,backlog_soft_out:Kve,Backlog_main_out_IndexHide:Zve,Backlog_main_DisableScroll:Jve,backlog_top_icon:Qve,backlog_title:eme,backlog_content:tme,backlog_item:rme,backlog_item_in:nme,backlog_item_button_element:ime,backlog_item_out:ame,backlog_func_area:ome,backlog_item_content_name:sme,backlog_item_content:lme,backlog_content_container:ume,sound_icon:cme,backlog_item_content_text:fme,backlog_icon_softin:hme};var dme=ya,pme=function(){return dme.Date.now()},vme=pme,mme=/\s/;function gme(t){for(var e=t.length;e--&&mme.test(t.charAt(e)););return e}var _me=gme,yme=_me,xme=/^\s+/;function bme(t){return t&&t.slice(0,yme(t)+1).replace(xme,"")}var wme=bme,Eme=wme,N4=Za,Sme=ug,L4=0/0,Cme=/^[-+]0x[0-9a-f]+$/i,Tme=/^0b[01]+$/i,Ame=/^0o[0-7]+$/i,Ime=parseInt;function Rme(t){if(typeof t=="number")return t;if(Sme(t))return L4;if(N4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=N4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Eme(t);var r=Tme.test(t);return r||Ame.test(t)?Ime(t.slice(2),r?2:8):Cme.test(t)?L4:+t}var Pme=Rme,Ome=Za,o1=vme,M4=Pme,kme="Expected a function",Fme=Math.max,Nme=Math.min;function Lme(t,e,r){var n,i,a,o,s,c,l=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(kme);e=M4(e)||0,Ome(r)&&(u=!!r.leading,f="maxWait"in r,a=f?Fme(M4(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(w){var E=n,S=i;return n=i=void 0,l=w,o=t.apply(S,E),o}function d(w){return l=w,s=setTimeout(v,e),u?p(w):o}function m(w){var E=w-c,S=w-l,C=e-E;return f?Nme(C,a-S):C}function _(w){var E=w-c,S=w-l;return c===void 0||E>=e||E<0||f&&S>=a}function v(){var w=o1();if(_(w))return g(w);s=setTimeout(v,m(w))}function g(w){return s=void 0,h&&n?p(w):(n=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,n=c=i=s=void 0}function x(){return s===void 0?o:g(o1())}function b(){var w=o1(),E=_(w);if(n=arguments,i=this,c=w,E){if(s===void 0)return d(c);if(f)return clearTimeout(s),s=setTimeout(v,e),p(c)}return s===void 0&&(s=setTimeout(v,e)),o}return b.cancel=y,b.flush=x,b}var Mme=Lme,Bme=Mme,Dme=Za,Ume="Expected a function";function jme(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Ume);return Dme(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Bme(t,e,{leading:n,maxWait:e,trailing:i})}var $me=jme;const Vme=Pn($me),$u="keyboard"in navigator&&navigator.keyboard;function Gme(t){Hme(),zme(),Yme(),Wme(),qme(),ege(),rge()}function Hme(){const t=uf(c=>c.GUI),e=Qg(),r=Jg(t),n=hU(t),i=Kme(t),a=Jme(t),o=Zme(t),s=ye.useCallback(c=>i()?(e("showGlobalDialog",!1),c.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),c.preventDefault(),!1),[]);cf(()=>{document.addEventListener("contextmenu",s)}),ff(()=>{document.removeEventListener("contextmenu",s)})}let Xme=setTimeout(()=>{},0);function zme(){const t=uf(s=>s.GUI),e=Qg(),r=Jg(t),n=hU(t),i=dU(t),a=ye.useCallback(Vme(()=>{an()},100),[]),o=ye.useRef(0);ye.useCallback(s=>{if(i())return;const c=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",l=s.ctrlKey,u=document.querySelector(`.${Yn.backlog_content}`);if(r()&&c==="up"&&!l)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&c==="down"&&!l){if(u){let f=tge(u),h=new Date().getTime();f&&h-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=h}}else r()&&c==="down"&&!l&&(clearTimeout(Xme),z.gameplay.isFast=!0,setTimeout(()=>{z.gameplay.isFast=!1},150),a())},[]),cf(()=>{}),ff(()=>{})}function Wme(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=uf(s=>s.GUI),n=ye.useCallback(()=>r.current.showTitle,[r]),i=dU(r),a=Qg(),o=ye.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),NT()))},[]);cf(()=>{document.addEventListener("keyup",o)}),ff(()=>{document.removeEventListener("keyup",o)})}function Yme(){const t=uf(o=>o.GUI),e=Jg(t),r=ye.useCallback(o=>o.keyCode===17,[]),n=ye.useCallback(o=>{r(o)&&e()&&uU()},[]),i=ye.useCallback(o=>{r(o)&&e()&&fc()},[]),a=ye.useCallback(o=>{fc()},[]);cf(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",a)}),ff(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",a)}),Tve(()=>{e()||fc()})}function qme(){const t=Qme(),e=ye.useCallback(async r=>{t()&&await epe()},[]);cf(()=>{window.addEventListener("beforeunload",e)}),ff(()=>{window.removeEventListener("beforeunload",e)})}function Jg(t){return ye.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function hU(t){return ye.useCallback(()=>t.current.showBacklog,[t])}function Kme(t){return ye.useCallback(()=>t.current.showGlobalDialog,[t])}function Zme(t){return ye.useCallback(()=>t.current.showExtra,[t])}function dU(t){return ye.useCallback(()=>t.current.showPanicOverlay,[t])}function Jme(t){return ye.useCallback(()=>[Qt.Save,Qt.Load,Qt.Option].includes(t.current.currentMenuTag),[t])}function Qme(){return ye.useCallback(()=>z.sceneManager.sceneData.currentSentenceId!==0,[z.sceneManager.sceneData])}function Qg(){const t=wr();return(e,r)=>{t(at({component:e,visibility:r}))}}function ege(){const t=uf(c=>c.GUI),e=Jg(t),r=Qg(),n=ye.useRef(!1),i=ye.useCallback(c=>c.keyCode===32||c.keyCode===13,[]),a=ye.useCallback(c=>{if(i(c)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}NT(),an(),n.current=!0}},[]),o=ye.useCallback(c=>{i(c)&&e()&&(n.current=!1)},[]),s=ye.useCallback(c=>{n.current=!1},[]);cf(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),ff(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function tge(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function rge(){const t=rt(n=>n.userData),e=wr(),r=t.optionData.fullScreen;ye.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==ja.on?(e(ca({key:"fullScreen",value:ja.on})),Mn()):(e(ca({key:"fullScreen",value:ja.off})),Mn()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const nge=()=>{le.dispatch(nr.setIsShowUnlock(!1));const t=zr(fs.Achieve,Xr.scene);z.sceneManager.resetScene(),Ni(t).then(e=>{z.sceneManager.setCurrentScene(e,fs.Achieve,t).then(r=>{r&&(an(),z.sceneManager.setCurrentScene(e,fs.Achieve,t))})}),le.dispatch(at({component:"showTitle",visibility:!1})),le.dispatch(at({component:"showMenuPanel",visibility:!1})),le.dispatch(at({component:"showTextBox",visibility:!1})),le.dispatch(at({component:"showAchievement",visibility:!0}))},ige=()=>{const t=rt(f=>f.userData),e=rt(f=>f.GUI),r=wr(),n=t.optionData.fullScreen,i=e.titleBg,a=i===""?"rgba(0,0,0,1)":`url("${i}")`;Eo("title.");const{playSeEnter:o,playSeClick:s}=on(),c=aU("UI/Title/title.scss"),l={[ur.Game_start_button]:()=>{npe(),s(),r(Bw(!1))},[ur.Game_achievement_button]:()=>{nge(),s()},[ur.Game_storyline_button]:()=>{ape(),s()},[ur.Game_extra_button]:()=>{r(at({component:"showExtra",visibility:!0})),s()},[ur.Game_collection_button]:()=>{ope(),s()},[ur.Game_continue_button]:()=>{s(),r(at({component:"showTitle",visibility:!1})),ipe()},[ur.Game_option_button]:()=>{s(),r(at({component:"showMenuPanel",visibility:!0})),r(El(Qt.Option))},[ur.Game_load_button]:()=>{s(),r(at({component:"showMenuPanel",visibility:!0})),r(El(Qt.Load))}},u=f=>{var _;const h=e.gameMenus[f];if(!h||h.args.hide)return null;const p={};let d=nu.Title_button;const m=`title-${f}`;if(h.args.style){const v=h.args.style;typeof v.x=="number"&&(p.position="absolute",p.left=v.x+"px",p.transform="translateX(-50%)"),typeof v.y=="number"&&(p.position="absolute",p.top=v.y+"px",p.transform?p.transform+=" translateY(-50%)":p.transform="translateY(-50%)"),typeof v.scale=="number"&&(p.transform?p.transform+=" scale("+v.scale+")":p.transform="scale("+v.scale+")"),typeof v.fontSize=="number"&&(p.fontSize=v.fontSize+"px"),typeof v.fontColor=="string"&&v.fontColor[0]==="#"&&(p.color=v.fontColor)}if((_=h.args.style)!=null&&_.image){let v=document.getElementById(m);if(d=nu.Title_button_custom,!v){const g=zr(h.args.style.image,Xr.ui),y=new Image;y.src=g,y.onload=function(){let x=document.getElementById(m);y.style.width=y.naturalWidth+"px",y.style.height=y.naturalHeight+"px",y.alt=h.content,x&&(x.style.width=y.naturalWidth+"px",x.style.height=y.naturalHeight+"px",setTimeout(()=>{x==null||x.prepend(y),x=null},32))}}}return k.jsx("div",{id:m,className:c("Title_button",d),onClick:l[f],onMouseEnter:o,style:p,children:k.jsx("span",{className:nu.Title_button_text,children:h.content})},f)};return k.jsxs(k.Fragment,{children:[e.showTitle&&k.jsx("div",{className:c("Title_backup_background",nu.Title_backup_background)}),k.jsx("div",{id:"enter_game_target",onClick:()=>{CT(e.titleBgm),r(at({component:"isEnterGame",visibility:!0})),n===ja.on&&(document.documentElement.requestFullscreen(),$u&&$u.lock(["Escape","F11"]))},onMouseEnter:o}),e.showTitle&&k.jsx("div",{className:c("Title_main",nu.Title_main),style:{backgroundImage:a,backgroundSize:"cover"},children:k.jsxs("div",{className:c("Title_buttonList",nu.Title_buttonList),children:[u(ur.Game_start_button),u(ur.Game_continue_button),u(ur.Game_load_button),u(ur.Game_option_button),u(ur.Game_achievement_button),u(ur.Game_storyline_button),u(ur.Game_extra_button),u(ur.Game_collection_button)]})})]})},age="_Logo_main_19jxx_1",oge="_overlay_19jxx_14",sge="_Logo_Back_19jxx_61",lge="_animationActive_19jxx_75",uge="_fadeout_19jxx_1",X0={Logo_main:age,"change-img-anim":"_change-img-anim_19jxx_1",overlay:oge,"fade-in":"_fade-in_19jxx_1",Logo_Back:sge,animationActive:lge,fadeout:uge,"fade-in-out":"_fade-in-out_19jxx_1"},cge=()=>{const t=wr(),e=rt(l=>l.GUI),r=e.logoImage,n=e.isEnterGame,i=Ts(-1),a=Ts(-1),o=5e3,s=()=>{clearTimeout(a.value),i.value<r.length-1?(i.set(i.value+1),a.set(setTimeout(s,o))):(i.set(-1),e!=null&&e.isShowR18Modal&&t(at({component:"openR18Modal",visibility:!0})))};ye.useEffect(()=>{n&&r.length>0&&(i.set(0),a.set(setTimeout(s,o)))},[n,r]);const c=i.value===-1?"":r[i.value];return k.jsxs(k.Fragment,{children:[i.value!==-1&&k.jsx("div",{className:X0.Logo_Back+" "+(i.value===r.length-1?X0.animationActive:""),style:{animationDuration:`${o}ms`}},i.value+"wh"),c!==""&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:X0.Logo_main,onClick:s,style:{backgroundImage:`url("${c}")`,animationDuration:`${o}ms`}},i.value+"bg"),k.jsx("div",{className:X0.overlay})]})]})},fge=new Map([["true",!0],["false",!1],[!0,!0],[!1,!1]]),hge=t=>{const e=le.getState().GUI,r=le.dispatch;td.get(t).then(n=>{var o;let i=n.data;const a=Xg.parseConfig(i);if($e.info("",a),e){const s={};a.forEach(c=>{var h,p;const{command:l,args:u,options:f}=c;switch(l){case"Title_img":{const d=zr(u.join(""),Xr.background);r(Lw({asset:"titleBg",value:d})),i0(d);break}case"Game_Logo":{const d=u.map(m=>zr(m,Xr.background));r(Y0e(d));break}case"Game_cursor":{const d=u.map(m=>zr(m,Xr.background));if(d!=null&&d.length){const m=d.map(v=>`url('${v}'), auto`).join(", "),_=document.createElement("style");_.innerHTML=`
                html, body, div, span { cursor: ${m} !important; }
                html:hover, body:hover, div:hover, span:hover { cursor: ${m} !important; }
              `,document.head.appendChild(_)}break}case ur.Game_start_button:case ur.Game_achievement_button:case ur.Game_storyline_button:case ur.Game_extra_button:case ur.Game_collection_button:case ur.Game_continue_button:case ur.Game_load_button:case ur.Game_option_button:{const d=((h=f.find(y=>y.key==="hide"))==null?void 0:h.value)||!1,m=((p=f.find(y=>y.key==="style"))==null?void 0:p.value)||"";let _={...B5.gameMenus.Game_achievement_button.args.style};const v=/\{(.*?)\}/,g=m.match(v);if(g){const x=g[1].split(","),b={};x.forEach(w=>{const[E,S]=w.split("=");E&&S&&(b[E.trim()]=isNaN(Number(S.trim()))?S.trim():Number(S.trim()))}),_=b}s[ur[l]]={content:u[0],args:{hide:d,style:_}};break}case"Title_bgm":{const d=zr(u[0],Xr.bgm);r(Lw({asset:"titleBgm",value:d}));break}case"Game_name":{z.gameName=u[0],document.title=u[0];break}case"Game_key":{z.gameKey=u[0],qv(),E5(),bT(0,0);break}case"Game_r18":{(u==null?void 0:u.length)>0&&r(U5(!!fge.get(u[0])));break}}}),r(q0e(s))}(o=window==null?void 0:window.renderPromise)==null||o.call(window),delete window.renderPromise,Q0e()})},dge=(t,e)=>{$e.warn(""+t+":"+e);const r=le.dispatch;r(at({component:"showTitle",visibility:!1})),r(at({component:"showMenuPanel",visibility:!1})),r(at({component:"isShowLogo",visibility:!1}));const n=document.getElementById("Title_enter_page");n&&(n.style.display="none"),xT(!0);const i=zr(t,Xr.scene);setTimeout(()=>{Ni(i).then(async a=>{if(!await z.sceneManager.setCurrentScene(a,"start.txt",i))return;const s=z.sceneManager.sceneData.currentScene.sceneName;z.gameplay.isFast=!0,z.gameplay.isSyncingWithOrigine=!0,LT(e,s)})},16)};function LT(t,e){z.sceneManager.sceneData.currentSentenceId<t&&z.sceneManager.sceneData.currentScene.sceneName===e?(an(),setTimeout(()=>LT(t,e),100)):(z.gameplay.isSyncingWithOrigine=!1,z.gameplay.isFast=!1)}const pge=()=>{window.JMP=LT};var uh=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(uh||{});const vge=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}:9999`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),$e.info("socket"+i);const a=new WebSocket(i);a.onopen=()=>{$e.info("socket"),window.pubsub.publish("isPreviewMode",!0);function o(){const s={event:"message",data:{command:uh.SYNCFC,sceneMsg:{scene:z.sceneManager.sceneData.currentScene.sceneName,sentence:z.sceneManager.sceneData.currentSentenceId},stageSyncMsg:le.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===uh.JUMP&&dge(l.sceneMsg.scene,l.sceneMsg.sentence),l.command===uh.EXE_COMMAND){const u=l.message,h=Xg.parse(u,"temp.txt","temp.txt").sentenceList[0];ig(h)}if(l.command===uh.REFETCH_TEMPLATE_FILES){const u=document.getElementById("Title_enter_page");u&&(u.style.display="none"),z.events.styleUpdate.emit()}},a.onerror=o=>{window.pubsub.publish("isPreviewMode",!0),$e.info(" Terre ")}};function mge(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function gge(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(c,l){if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(f){o(c,f)},function(f){i[c]={status:"rejected",reason:f},--a===0&&r(i)});return}}i[c]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function pU(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}pU.prototype=Error.prototype;function _ge(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new pU(a,"All promises were rejected"))})}catch(s){n(s)}})}var yge=setTimeout;function vU(t){return!!(t&&typeof t.length<"u")}function xge(){}function bge(t,e){return function(){t.apply(e,arguments)}}function Rr(t){if(!(this instanceof Rr))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],gU(t,this)}function mU(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,Rr._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?$w:cd)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){cd(e.promise,i);return}$w(e.promise,n)})}function $w(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof Rr){t._state=3,t._value=e,Vw(t);return}else if(typeof r=="function"){gU(bge(r,e),t);return}}t._state=1,t._value=e,Vw(t)}catch(n){cd(t,n)}}function cd(t,e){t._state=2,t._value=e,Vw(t)}function Vw(t){t._state===2&&t._deferreds.length===0&&Rr._immediateFn(function(){t._handled||Rr._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)mU(t,t._deferreds[e]);t._deferreds=null}function wge(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function gU(t,e){var r=!1;try{t(function(n){r||(r=!0,$w(e,n))},function(n){r||(r=!0,cd(e,n))})}catch(n){if(r)return;r=!0,cd(e,n)}}Rr.prototype.catch=function(t){return this.then(null,t)};Rr.prototype.then=function(t,e){var r=new this.constructor(xge);return mU(this,new wge(t,e,r)),r};Rr.prototype.finally=mge;Rr.all=function(t){return new Rr(function(e,r){if(!vU(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){l.call(c,function(u){a(s,u)},r);return}}n[s]=c,--i===0&&e(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])})};Rr.any=_ge;Rr.allSettled=gge;Rr.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Rr?t:new Rr(function(e){e(t)})};Rr.reject=function(t){return new Rr(function(e,r){r(t)})};Rr.race=function(t){return new Rr(function(e,r){if(!vU(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Rr.resolve(t[n]).then(e,r)})};Rr._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){yge(t,0)};Rr._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Rr);Object.assign||(Object.assign=h7);var Ege=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var Sge=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-Sge}}var s1=Date.now(),B4=["ms","moz","webkit","o"];for(var l1=0;l1<B4.length&&!globalThis.requestAnimationFrame;++l1){var u1=B4[l1];globalThis.requestAnimationFrame=globalThis[u1+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[u1+"CancelAnimationFrame"]||globalThis[u1+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=Ege+s1-e;return r<0&&(r=0),s1=e,globalThis.self.setTimeout(function(){s1=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var c1=/iPhone/i,D4=/iPod/i,U4=/iPad/i,j4=/\biOS-universal(?:.+)Mac\b/i,f1=/\bAndroid(?:.+)Mobile\b/i,$4=/Android/i,fu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,z0=/Silk/i,no=/Windows Phone/i,V4=/\bWindows(?:.+)ARM\b/i,G4=/BlackBerry/i,H4=/BB10/i,X4=/Opera Mini/i,z4=/\b(CriOS|Chrome)(?:.+)Mobile/i,W4=/Mobile(?:.+)Firefox\b/i,Y4=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function Cge(t){return function(e){return e.test(t)}}function Tge(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=Cge(r),a={apple:{phone:i(c1)&&!i(no),ipod:i(D4),tablet:!i(c1)&&(i(U4)||Y4(e))&&!i(no),universal:i(j4),device:(i(c1)||i(D4)||i(U4)||i(j4)||Y4(e))&&!i(no)},amazon:{phone:i(fu),tablet:!i(fu)&&i(z0),device:i(fu)||i(z0)},android:{phone:!i(no)&&i(fu)||!i(no)&&i(f1),tablet:!i(no)&&!i(fu)&&!i(f1)&&(i(z0)||i($4)),device:!i(no)&&(i(fu)||i(z0)||i(f1)||i($4))||i(/\bokhttp\b/i)},windows:{phone:i(no),tablet:i(V4),device:i(no)||i(V4)},other:{blackberry:i(G4),blackberry10:i(H4),opera:i(X4),firefox:i(W4),chrome:i(z4),device:i(G4)||i(H4)||i(X4)||i(W4)||i(z4)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zi=Tge(globalThis.navigator);function Age(t){var e=!0;if(zi.tablet||zi.phone){if(zi.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(zi.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function Ige(){return!zi.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var q4;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(q4||(q4={}));var K4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(K4||(K4={}));var Z4;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Z4||(Z4={}));var J4;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(J4||(J4={}));var Q4;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Q4||(Q4={}));var ek;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ek||(ek={}));var tk;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(tk||(tk={}));var rk;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(rk||(rk={}));var nk;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(nk||(nk={}));var Gw;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Gw||(Gw={}));var Hw;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Hw||(Hw={}));var Xw;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Xw||(Xw={}));var ik;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ik||(ik={}));var ak;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(ak||(ak={}));var zw;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(zw||(zw={}));var Nh;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Nh||(Nh={}));var ok;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(ok||(ok={}));var Ww;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Ww||(Ww={}));var sk;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(sk||(sk={}));var qe={MIPMAP_TEXTURES:Xw.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Ww.NONE,SPRITE_MAX_TEXTURES:Age(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:zw.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Hw.CLAMP,SCALE_MODE:Gw.LINEAR,PRECISION_VERTEX:Nh.HIGH,PRECISION_FRAGMENT:zi.apple.device?Nh.HIGH:Nh.MEDIUM,CAN_UPLOAD_SAME_BUFFER:Ige(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},_U={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||c,h),d=r?r+l:l;return c._events[d]?c._events[d].fn?c._events[d]=[c._events[d],p]:c._events[d].push(p):(c._events[d]=p,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,d=new Array(p);h<p;h++)d[h]=f[h].fn;return d},s.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,u,f,h,p,d){var m=r?r+l:l;if(!this._events[m])return!1;var _=this._events[m],v=arguments.length,g,y;if(_.fn){switch(_.once&&this.removeListener(l,_.fn,void 0,!0),v){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,u),!0;case 3:return _.fn.call(_.context,u,f),!0;case 4:return _.fn.call(_.context,u,f,h),!0;case 5:return _.fn.call(_.context,u,f,h,p),!0;case 6:return _.fn.call(_.context,u,f,h,p,d),!0}for(y=1,g=new Array(v-1);y<v;y++)g[y-1]=arguments[y];_.fn.apply(_.context,g)}else{var x=_.length,b;for(y=0;y<x;y++)switch(_[y].once&&this.removeListener(l,_[y].fn,void 0,!0),v){case 1:_[y].fn.call(_[y].context);break;case 2:_[y].fn.call(_[y].context,u);break;case 3:_[y].fn.call(_[y].context,u,f);break;case 4:_[y].fn.call(_[y].context,u,f,h);break;default:if(!g)for(b=1,g=new Array(v-1);b<v;b++)g[b-1]=arguments[b];_[y].fn.apply(_[y].context,g)}}return!0},s.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},s.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},s.prototype.removeListener=function(l,u,f,h){var p=r?r+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var d=this._events[p];if(d.fn)d.fn===u&&(!h||d.once)&&(!f||d.context===f)&&o(this,p);else{for(var m=0,_=[],v=d.length;m<v;m++)(d[m].fn!==u||h&&!d[m].once||f&&d[m].context!==f)&&_.push(d[m]);_.length?this._events[p]=_.length===1?_[0]:_:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(_U);var Rge=_U.exports;const Kl=Pn(Rge);var MT={exports:{}};MT.exports=e_;MT.exports.default=e_;function e_(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=yU(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,c,l,u,f,h,p;if(n&&(a=Nge(t,e,a,r)),t.length>80*r){s=l=t[0],c=u=t[1];for(var d=r;d<i;d+=r)f=t[d],h=t[d+1],f<s&&(s=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);p=Math.max(l-s,u-c),p=p!==0?32767/p:0}return fd(a,o,r,s,c,p,0),o}function yU(t,e,r,n,i){var a,o;if(i===Kw(t,e,r,n)>0)for(a=e;a<r;a+=n)o=lk(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=lk(a,t[a],t[a+1],o);return o&&t_(o,o.next)&&(dd(o),o=o.next),o}function Ml(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(t_(r,r.next)||Tr(r.prev,r,r.next)===0)){if(dd(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function fd(t,e,r,n,i,a,o){if(t){!o&&a&&Uge(t,n,i,a);for(var s=t,c,l;t.prev!==t.next;){if(c=t.prev,l=t.next,a?Oge(t,n,i,a):Pge(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),dd(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=kge(Ml(t),e,r),fd(t,e,r,n,i,a,2)):o===2&&Fge(t,e,r,n,i,a):fd(Ml(t),e,r,n,i,a,1);break}}}}function Pge(t){var e=t.prev,r=t,n=t.next;if(Tr(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,c=r.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,f=s<c?s<l?s:l:c<l?c:l,h=i>a?i>o?i:o:a>o?a:o,p=s>c?s>l?s:l:c>l?c:l,d=n.next;d!==e;){if(d.x>=u&&d.x<=h&&d.y>=f&&d.y<=p&&Vu(i,s,a,c,o,l,d.x,d.y)&&Tr(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function Oge(t,e,r,n){var i=t.prev,a=t,o=t.next;if(Tr(i,a,o)>=0)return!1;for(var s=i.x,c=a.x,l=o.x,u=i.y,f=a.y,h=o.y,p=s<c?s<l?s:l:c<l?c:l,d=u<f?u<h?u:h:f<h?f:h,m=s>c?s>l?s:l:c>l?c:l,_=u>f?u>h?u:h:f>h?f:h,v=Yw(p,d,e,r,n),g=Yw(m,_,e,r,n),y=t.prevZ,x=t.nextZ;y&&y.z>=v&&x&&x.z<=g;){if(y.x>=p&&y.x<=m&&y.y>=d&&y.y<=_&&y!==i&&y!==o&&Vu(s,u,c,f,l,h,y.x,y.y)&&Tr(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=p&&x.x<=m&&x.y>=d&&x.y<=_&&x!==i&&x!==o&&Vu(s,u,c,f,l,h,x.x,x.y)&&Tr(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=v;){if(y.x>=p&&y.x<=m&&y.y>=d&&y.y<=_&&y!==i&&y!==o&&Vu(s,u,c,f,l,h,y.x,y.y)&&Tr(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=g;){if(x.x>=p&&x.x<=m&&x.y>=d&&x.y<=_&&x!==i&&x!==o&&Vu(s,u,c,f,l,h,x.x,x.y)&&Tr(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function kge(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!t_(i,a)&&xU(i,n,n.next,a)&&hd(i,a)&&hd(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),dd(n),dd(n.next),n=t=a),n=n.next}while(n!==t);return Ml(n)}function Fge(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Vge(o,s)){var c=bU(o,s);o=Ml(o,o.next),c=Ml(c,c.next),fd(o,e,r,n,i,a,0),fd(c,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function Nge(t,e,r,n){var i=[],a,o,s,c,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,c=a<o-1?e[a+1]*n:t.length,l=yU(t,s,c,n,!1),l===l.next&&(l.steiner=!0),i.push($ge(l));for(i.sort(Lge),a=0;a<i.length;a++)r=Mge(i[a],r);return r}function Lge(t,e){return t.x-e.x}function Mge(t,e){var r=Bge(t,e);if(!r)return e;var n=bU(r,t);return Ml(n,n.next),Ml(r,r.next)}function Bge(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,l=o.x,u=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&Vu(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),hd(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&Dge(o,r)))&&(o=r,f=h)),r=r.next;while(r!==c);return o}function Dge(t,e){return Tr(t.prev,t,e.prev)<0&&Tr(e.next,t,t.next)<0}function Uge(t,e,r,n){var i=t;do i.z===0&&(i.z=Yw(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,jge(i)}function jge(t){var e,r,n,i,a,o,s,c,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(c=l;s>0||c>0&&n;)s!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function Yw(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function $ge(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Vu(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function Vge(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Gge(t,e)&&(hd(t,e)&&hd(e,t)&&Hge(t,e)&&(Tr(t.prev,t,e.prev)||Tr(t,e.prev,e))||t_(t,e)&&Tr(t.prev,t,t.next)>0&&Tr(e.prev,e,e.next)>0)}function Tr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function t_(t,e){return t.x===e.x&&t.y===e.y}function xU(t,e,r,n){var i=Y0(Tr(t,e,r)),a=Y0(Tr(t,e,n)),o=Y0(Tr(r,n,t)),s=Y0(Tr(r,n,e));return!!(i!==a&&o!==s||i===0&&W0(t,r,e)||a===0&&W0(t,n,e)||o===0&&W0(r,t,n)||s===0&&W0(r,e,n))}function W0(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Y0(t){return t>0?1:t<0?-1:0}function Gge(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&xU(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function hd(t,e){return Tr(t.prev,t,t.next)<0?Tr(t,e,t.next)>=0&&Tr(t,t.prev,e)>=0:Tr(t,e,t.prev)<0||Tr(t,t.next,e)<0}function Hge(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function bU(t,e){var r=new qw(t.i,t.x,t.y),n=new qw(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function lk(t,e,r,n){var i=new qw(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function dd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function qw(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}e_.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(Kw(t,0,a,r));if(i)for(var s=0,c=e.length;s<c;s++){var l=e[s]*r,u=s<c-1?e[s+1]*r:t.length;o-=Math.abs(Kw(t,l,u,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Kw(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}e_.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Xge=MT.exports;const BT=Pn(Xge);var Jv={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Jv.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof it=="object"&&it;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,c=36,l=1,u=26,f=38,h=700,p=72,d=128,m="-",_=/^xn--/,v=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-l,b=Math.floor,w=String.fromCharCode,E;function S(G){throw new RangeError(y[G])}function C(G,L){for(var j=G.length,B=[];j--;)B[j]=L(G[j]);return B}function T(G,L){var j=G.split("@"),B="";j.length>1&&(B=j[0]+"@",G=j[1]),G=G.replace(g,".");var D=G.split("."),J=C(D,L).join(".");return B+J}function I(G){for(var L=[],j=0,B=G.length,D,J;j<B;)D=G.charCodeAt(j++),D>=55296&&D<=56319&&j<B?(J=G.charCodeAt(j++),(J&64512)==56320?L.push(((D&1023)<<10)+(J&1023)+65536):(L.push(D),j--)):L.push(D);return L}function A(G){return C(G,function(L){var j="";return L>65535&&(L-=65536,j+=w(L>>>10&1023|55296),L=56320|L&1023),j+=w(L),j}).join("")}function R(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:c}function O(G,L){return G+22+75*(G<26)-((L!=0)<<5)}function F(G,L,j){var B=0;for(G=j?b(G/h):G>>1,G+=b(G/L);G>x*u>>1;B+=c)G=b(G/x);return b(B+(x+1)*G/(G+f))}function N(G){var L=[],j=G.length,B,D=0,J=d,Q=p,se,re,ce,Ee,we,pe,ve,Ae,ke;for(se=G.lastIndexOf(m),se<0&&(se=0),re=0;re<se;++re)G.charCodeAt(re)>=128&&S("not-basic"),L.push(G.charCodeAt(re));for(ce=se>0?se+1:0;ce<j;){for(Ee=D,we=1,pe=c;ce>=j&&S("invalid-input"),ve=R(G.charCodeAt(ce++)),(ve>=c||ve>b((s-D)/we))&&S("overflow"),D+=ve*we,Ae=pe<=Q?l:pe>=Q+u?u:pe-Q,!(ve<Ae);pe+=c)ke=c-Ae,we>b(s/ke)&&S("overflow"),we*=ke;B=L.length+1,Q=F(D-Ee,B,Ee==0),b(D/B)>s-J&&S("overflow"),J+=b(D/B),D%=B,L.splice(D++,0,J)}return A(L)}function $(G){var L,j,B,D,J,Q,se,re,ce,Ee,we,pe=[],ve,Ae,ke,Te;for(G=I(G),ve=G.length,L=d,j=0,J=p,Q=0;Q<ve;++Q)we=G[Q],we<128&&pe.push(w(we));for(B=D=pe.length,D&&pe.push(m);B<ve;){for(se=s,Q=0;Q<ve;++Q)we=G[Q],we>=L&&we<se&&(se=we);for(Ae=B+1,se-L>b((s-j)/Ae)&&S("overflow"),j+=(se-L)*Ae,L=se,Q=0;Q<ve;++Q)if(we=G[Q],we<L&&++j>s&&S("overflow"),we==L){for(re=j,ce=c;Ee=ce<=J?l:ce>=J+u?u:ce-J,!(re<Ee);ce+=c)Te=re-Ee,ke=c-Ee,pe.push(w(O(Ee+Te%ke,0))),re=b(Te/ke);pe.push(w(O(re,0))),J=F(j,Ae,B==D),j=0,++B}++j,++L}return pe.join("")}function q(G){return T(G,function(L){return _.test(L)?N(L.slice(4).toLowerCase()):L})}function K(G){return T(G,function(L){return v.test(L)?"xn--"+$(L):L})}if(o={version:"1.4.1",ucs2:{decode:I,encode:A},decode:N,encode:$,toASCII:K,toUnicode:q},n&&i)if(t.exports==n)i.exports=o;else for(E in o)o.hasOwnProperty(E)&&(n[E]=o[E]);else r.punycode=o})(it)})(Jv,Jv.exports);var zge=Jv.exports,Wge=Error,Yge=EvalError,qge=RangeError,Kge=ReferenceError,wU=SyntaxError,o0=TypeError,Zge=URIError,Jge=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},uk=typeof Symbol<"u"&&Symbol,Qge=Jge,e_e=function(){return typeof uk!="function"||typeof Symbol!="function"||typeof uk("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Qge()},h1={__proto__:null,foo:{}},t_e=Object,r_e=function(){return{__proto__:h1}.foo===h1.foo&&!(h1 instanceof t_e)},n_e="Function.prototype.bind called on incompatible ",i_e=Object.prototype.toString,a_e=Math.max,o_e="[object Function]",ck=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},s_e=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},l_e=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},u_e=function(e){var r=this;if(typeof r!="function"||i_e.apply(r)!==o_e)throw new TypeError(n_e+r);for(var n=s_e(arguments,1),i,a=function(){if(this instanceof i){var u=r.apply(this,ck(n,arguments));return Object(u)===u?u:this}return r.apply(e,ck(n,arguments))},o=a_e(0,r.length-n.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(i=Function("binder","return function ("+l_e(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},c_e=u_e,DT=Function.prototype.bind||c_e,f_e=Function.prototype.call,h_e=Object.prototype.hasOwnProperty,d_e=DT,p_e=d_e.call(f_e,h_e),kt,v_e=Wge,m_e=Yge,g_e=qge,__e=Kge,Ic=wU,hc=o0,y_e=Zge,EU=Function,d1=function(t){try{return EU('"use strict"; return ('+t+").constructor;")()}catch{}},Sl=Object.getOwnPropertyDescriptor;if(Sl)try{Sl({},"")}catch{Sl=null}var p1=function(){throw new hc},x_e=Sl?function(){try{return arguments.callee,p1}catch{try{return Sl(arguments,"callee").get}catch{return p1}}}():p1,hu=e_e(),b_e=r_e(),En=Object.getPrototypeOf||(b_e?function(t){return t.__proto__}:null),Tu={},w_e=typeof Uint8Array>"u"||!En?kt:En(Uint8Array),Cl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?kt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?kt:ArrayBuffer,"%ArrayIteratorPrototype%":hu&&En?En([][Symbol.iterator]()):kt,"%AsyncFromSyncIteratorPrototype%":kt,"%AsyncFunction%":Tu,"%AsyncGenerator%":Tu,"%AsyncGeneratorFunction%":Tu,"%AsyncIteratorPrototype%":Tu,"%Atomics%":typeof Atomics>"u"?kt:Atomics,"%BigInt%":typeof BigInt>"u"?kt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?kt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?kt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?kt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":v_e,"%eval%":eval,"%EvalError%":m_e,"%Float32Array%":typeof Float32Array>"u"?kt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?kt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?kt:FinalizationRegistry,"%Function%":EU,"%GeneratorFunction%":Tu,"%Int8Array%":typeof Int8Array>"u"?kt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?kt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?kt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hu&&En?En(En([][Symbol.iterator]())):kt,"%JSON%":typeof JSON=="object"?JSON:kt,"%Map%":typeof Map>"u"?kt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hu||!En?kt:En(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?kt:Promise,"%Proxy%":typeof Proxy>"u"?kt:Proxy,"%RangeError%":g_e,"%ReferenceError%":__e,"%Reflect%":typeof Reflect>"u"?kt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?kt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hu||!En?kt:En(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?kt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hu&&En?En(""[Symbol.iterator]()):kt,"%Symbol%":hu?Symbol:kt,"%SyntaxError%":Ic,"%ThrowTypeError%":x_e,"%TypedArray%":w_e,"%TypeError%":hc,"%Uint8Array%":typeof Uint8Array>"u"?kt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?kt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?kt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?kt:Uint32Array,"%URIError%":y_e,"%WeakMap%":typeof WeakMap>"u"?kt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?kt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?kt:WeakSet};if(En)try{null.error}catch(t){var E_e=En(En(t));Cl["%Error.prototype%"]=E_e}var S_e=function t(e){var r;if(e==="%AsyncFunction%")r=d1("async function () {}");else if(e==="%GeneratorFunction%")r=d1("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=d1("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&En&&(r=En(i.prototype))}return Cl[e]=r,r},fk={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},s0=DT,Qv=p_e,C_e=s0.call(Function.call,Array.prototype.concat),T_e=s0.call(Function.apply,Array.prototype.splice),hk=s0.call(Function.call,String.prototype.replace),em=s0.call(Function.call,String.prototype.slice),A_e=s0.call(Function.call,RegExp.prototype.exec),I_e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R_e=/\\(\\)?/g,P_e=function(e){var r=em(e,0,1),n=em(e,-1);if(r==="%"&&n!=="%")throw new Ic("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ic("invalid intrinsic syntax, expected opening `%`");var i=[];return hk(e,I_e,function(a,o,s,c){i[i.length]=s?hk(c,R_e,"$1"):o||a}),i},O_e=function(e,r){var n=e,i;if(Qv(fk,n)&&(i=fk[n],n="%"+i[0]+"%"),Qv(Cl,n)){var a=Cl[n];if(a===Tu&&(a=S_e(n)),typeof a>"u"&&!r)throw new hc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new Ic("intrinsic "+e+" does not exist!")},hf=function(e,r){if(typeof e!="string"||e.length===0)throw new hc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new hc('"allowMissing" argument must be a boolean');if(A_e(/^%?[^%]*%?$/,e)===null)throw new Ic("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=P_e(e),i=n.length>0?n[0]:"",a=O_e("%"+i+"%",r),o=a.name,s=a.value,c=!1,l=a.alias;l&&(i=l[0],T_e(n,C_e([0,1],l)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=em(h,0,1),d=em(h,-1);if((p==='"'||p==="'"||p==="`"||d==='"'||d==="'"||d==="`")&&p!==d)throw new Ic("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",Qv(Cl,o))s=Cl[o];else if(s!=null){if(!(h in s)){if(!r)throw new hc("base intrinsic for "+e+" exists, but the property is not available.");return}if(Sl&&u+1>=n.length){var m=Sl(s,h);f=!!m,f&&"get"in m&&!("originalValue"in m.get)?s=m.get:s=s[h]}else f=Qv(s,h),s=s[h];f&&!c&&(Cl[o]=s)}}return s},SU={exports:{}},v1,dk;function UT(){if(dk)return v1;dk=1;var t=hf,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return v1=e,v1}var k_e=hf,rv=k_e("%Object.getOwnPropertyDescriptor%",!0);if(rv)try{rv([],"length")}catch{rv=null}var CU=rv,pk=UT(),F_e=wU,du=o0,vk=CU,N_e=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new du("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new du("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new du("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new du("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new du("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new du("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!vk&&vk(e,r);if(pk)pk(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:a===null&&c?c.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new F_e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Zw=UT(),TU=function(){return!!Zw};TU.hasArrayLengthDefineBug=function(){if(!Zw)return null;try{return Zw([],"length",{value:1}).length!==1}catch{return!0}};var L_e=TU,M_e=hf,mk=N_e,B_e=L_e(),gk=CU,_k=o0,D_e=M_e("%Math.floor%"),U_e=function(e,r){if(typeof e!="function")throw new _k("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||D_e(r)!==r)throw new _k("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&gk){var o=gk(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(B_e?mk(e,"length",r,!0,!0):mk(e,"length",r)),e};(function(t){var e=DT,r=hf,n=U_e,i=o0,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),c=UT(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return s(e,a,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u})(SU);var j_e=SU.exports,AU=hf,IU=j_e,$_e=IU(AU("String.prototype.indexOf")),V_e=function(e,r){var n=AU(e,!!r);return typeof n=="function"&&$_e(e,".prototype.")>-1?IU(n):n},jT=typeof Map=="function"&&Map.prototype,m1=Object.getOwnPropertyDescriptor&&jT?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,tm=jT&&m1&&typeof m1.get=="function"?m1.get:null,yk=jT&&Map.prototype.forEach,$T=typeof Set=="function"&&Set.prototype,g1=Object.getOwnPropertyDescriptor&&$T?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,rm=$T&&g1&&typeof g1.get=="function"?g1.get:null,xk=$T&&Set.prototype.forEach,G_e=typeof WeakMap=="function"&&WeakMap.prototype,Lh=G_e?WeakMap.prototype.has:null,H_e=typeof WeakSet=="function"&&WeakSet.prototype,Mh=H_e?WeakSet.prototype.has:null,X_e=typeof WeakRef=="function"&&WeakRef.prototype,bk=X_e?WeakRef.prototype.deref:null,z_e=Boolean.prototype.valueOf,W_e=Object.prototype.toString,Y_e=Function.prototype.toString,q_e=String.prototype.match,VT=String.prototype.slice,qo=String.prototype.replace,K_e=String.prototype.toUpperCase,wk=String.prototype.toLowerCase,RU=RegExp.prototype.test,Ek=Array.prototype.concat,ka=Array.prototype.join,Z_e=Array.prototype.slice,Sk=Math.floor,Jw=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_1=Object.getOwnPropertySymbols,Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ti=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Rc||"symbol")?Symbol.toStringTag:null,PU=Object.prototype.propertyIsEnumerable,Ck=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Tk(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||RU.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Sk(-t):Sk(t);if(n!==t){var i=String(n),a=VT.call(e,i.length+1);return qo.call(i,r,"$&_")+"."+qo.call(qo.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return qo.call(e,r,"$&_")}var eE=O5,Ak=eE.custom,Ik=kU(Ak)?Ak:null,J_e=function t(e,r,n,i){var a=r||{};if(Do(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Do(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Do(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Do(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Do(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return NU(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return s?Tk(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return s?Tk(e,l):l}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return tE(e)?"[Array]":"[Object]";var f=mye(a,n);if(typeof i>"u")i=[];else if(FU(i,e)>=0)return"[Circular]";function h(R,O,F){if(O&&(i=Z_e.call(i),i.push(O)),F){var N={depth:a.depth};return Do(a,"quoteStyle")&&(N.quoteStyle=a.quoteStyle),t(R,N,n+1,i)}return t(R,a,n+1,i)}if(typeof e=="function"&&!Rk(e)){var p=sye(e),d=q0(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(d.length>0?" { "+ka.call(d,", ")+" }":"")}if(kU(e)){var m=Rc?qo.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Qw.call(e);return typeof e=="object"&&!Rc?Uf(m):m}if(dye(e)){for(var _="<"+wk.call(String(e.nodeName)),v=e.attributes||[],g=0;g<v.length;g++)_+=" "+v[g].name+"="+OU(Q_e(v[g].value),"double",a);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+wk.call(String(e.nodeName))+">",_}if(tE(e)){if(e.length===0)return"[]";var y=q0(e,h);return f&&!vye(y)?"["+rE(y,f)+"]":"[ "+ka.call(y,", ")+" ]"}if(tye(e)){var x=q0(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!PU.call(e,"cause")?"{ ["+String(e)+"] "+ka.call(Ek.call("[cause]: "+h(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ka.call(x,", ")+" }"}if(typeof e=="object"&&o){if(Ik&&typeof e[Ik]=="function"&&eE)return eE(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(lye(e)){var b=[];return yk&&yk.call(e,function(R,O){b.push(h(O,e,!0)+" => "+h(R,e))}),Pk("Map",tm.call(e),b,f)}if(fye(e)){var w=[];return xk&&xk.call(e,function(R){w.push(h(R,e))}),Pk("Set",rm.call(e),w,f)}if(uye(e))return y1("WeakMap");if(hye(e))return y1("WeakSet");if(cye(e))return y1("WeakRef");if(nye(e))return Uf(h(Number(e)));if(aye(e))return Uf(h(Jw.call(e)));if(iye(e))return Uf(z_e.call(e));if(rye(e))return Uf(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===it)return"{ [object globalThis] }";if(!eye(e)&&!Rk(e)){var E=q0(e,h),S=Ck?Ck(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",T=!S&&ti&&Object(e)===e&&ti in e?VT.call(Ls(e),8,-1):C?"Object":"",I=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",A=I+(T||C?"["+ka.call(Ek.call([],T||[],C||[]),": ")+"] ":"");return E.length===0?A+"{}":f?A+"{"+rE(E,f)+"}":A+"{ "+ka.call(E,", ")+" }"}return String(e)};function OU(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Q_e(t){return qo.call(String(t),/"/g,"&quot;")}function tE(t){return Ls(t)==="[object Array]"&&(!ti||!(typeof t=="object"&&ti in t))}function eye(t){return Ls(t)==="[object Date]"&&(!ti||!(typeof t=="object"&&ti in t))}function Rk(t){return Ls(t)==="[object RegExp]"&&(!ti||!(typeof t=="object"&&ti in t))}function tye(t){return Ls(t)==="[object Error]"&&(!ti||!(typeof t=="object"&&ti in t))}function rye(t){return Ls(t)==="[object String]"&&(!ti||!(typeof t=="object"&&ti in t))}function nye(t){return Ls(t)==="[object Number]"&&(!ti||!(typeof t=="object"&&ti in t))}function iye(t){return Ls(t)==="[object Boolean]"&&(!ti||!(typeof t=="object"&&ti in t))}function kU(t){if(Rc)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Qw)return!1;try{return Qw.call(t),!0}catch{}return!1}function aye(t){if(!t||typeof t!="object"||!Jw)return!1;try{return Jw.call(t),!0}catch{}return!1}var oye=Object.prototype.hasOwnProperty||function(t){return t in this};function Do(t,e){return oye.call(t,e)}function Ls(t){return W_e.call(t)}function sye(t){if(t.name)return t.name;var e=q_e.call(Y_e.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function FU(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function lye(t){if(!tm||!t||typeof t!="object")return!1;try{tm.call(t);try{rm.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function uye(t){if(!Lh||!t||typeof t!="object")return!1;try{Lh.call(t,Lh);try{Mh.call(t,Mh)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function cye(t){if(!bk||!t||typeof t!="object")return!1;try{return bk.call(t),!0}catch{}return!1}function fye(t){if(!rm||!t||typeof t!="object")return!1;try{rm.call(t);try{tm.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function hye(t){if(!Mh||!t||typeof t!="object")return!1;try{Mh.call(t,Mh);try{Lh.call(t,Lh)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function dye(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function NU(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return NU(VT.call(t,0,e.maxStringLength),e)+n}var i=qo.call(qo.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,pye);return OU(i,"single",e)}function pye(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+K_e.call(e.toString(16))}function Uf(t){return"Object("+t+")"}function y1(t){return t+" { ? }"}function Pk(t,e,r,n){var i=n?rE(r,n):ka.call(r,", ");return t+" ("+e+") {"+i+"}"}function vye(t){for(var e=0;e<t.length;e++)if(FU(t[e],`
`)>=0)return!1;return!0}function mye(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ka.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ka.call(Array(e+1),r)}}function rE(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ka.call(t,","+r)+`
`+e.prev}function q0(t,e){var r=tE(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Do(t,i)?e(t[i],t):""}var a=typeof _1=="function"?_1(t):[],o;if(Rc){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in t)Do(t,c)&&(r&&String(Number(c))===c&&c<t.length||Rc&&o["$"+c]instanceof Symbol||(RU.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof _1=="function")for(var l=0;l<a.length;l++)PU.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var LU=hf,df=V_e,gye=J_e,_ye=o0,K0=LU("%WeakMap%",!0),Z0=LU("%Map%",!0),yye=df("WeakMap.prototype.get",!0),xye=df("WeakMap.prototype.set",!0),bye=df("WeakMap.prototype.has",!0),wye=df("Map.prototype.get",!0),Eye=df("Map.prototype.set",!0),Sye=df("Map.prototype.has",!0),GT=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Cye=function(t,e){var r=GT(t,e);return r&&r.value},Tye=function(t,e,r){var n=GT(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Aye=function(t,e){return!!GT(t,e)},Iye=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new _ye("Side channel does not contain "+gye(a))},get:function(a){if(K0&&a&&(typeof a=="object"||typeof a=="function")){if(e)return yye(e,a)}else if(Z0){if(r)return wye(r,a)}else if(n)return Cye(n,a)},has:function(a){if(K0&&a&&(typeof a=="object"||typeof a=="function")){if(e)return bye(e,a)}else if(Z0){if(r)return Sye(r,a)}else if(n)return Aye(n,a);return!1},set:function(a,o){K0&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new K0),xye(e,a,o)):Z0?(r||(r=new Z0),Eye(r,a,o)):(n||(n={key:{},next:null}),Tye(n,a,o))}};return i},Rye=String.prototype.replace,Pye=/%20/g,x1={RFC1738:"RFC1738",RFC3986:"RFC3986"},HT={default:x1.RFC3986,formatters:{RFC1738:function(t){return Rye.call(t,Pye,"+")},RFC3986:function(t){return String(t)}},RFC1738:x1.RFC1738,RFC3986:x1.RFC3986},Oye=HT,b1=Object.prototype.hasOwnProperty,rl=Array.isArray,Ca=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),kye=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(rl(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},MU=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Fye=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(rl(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!b1.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return rl(e)&&!rl(r)&&(i=MU(e,n)),rl(e)&&rl(r)?(r.forEach(function(a,o){if(b1.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return b1.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},Nye=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Lye=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Mye=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===Oye.RFC1738&&(l===40||l===41)){s+=o.charAt(c);continue}if(l<128){s=s+Ca[l];continue}if(l<2048){s=s+(Ca[192|l>>6]+Ca[128|l&63]);continue}if(l<55296||l>=57344){s=s+(Ca[224|l>>12]+Ca[128|l>>6&63]+Ca[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),s+=Ca[240|l>>18]+Ca[128|l>>12&63]+Ca[128|l>>6&63]+Ca[128|l&63]}return s},Bye=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return kye(r),e},Dye=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Uye=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},jye=function(e,r){return[].concat(e,r)},$ye=function(e,r){if(rl(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},BU={arrayToObject:MU,assign:Nye,combine:jye,compact:Bye,decode:Lye,encode:Mye,isBuffer:Uye,isRegExp:Dye,maybeMap:$ye,merge:Fye},DU=Iye,nv=BU,Bh=HT,Vye=Object.prototype.hasOwnProperty,UU={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ra=Array.isArray,Gye=Array.prototype.push,jU=function(t,e){Gye.apply(t,Ra(e)?e:[e])},Hye=Date.prototype.toISOString,Ok=Bh.default,un={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:nv.encode,encodeValuesOnly:!1,format:Ok,formatter:Bh.formatters[Ok],indices:!1,serializeDate:function(e){return Hye.call(e)},skipNulls:!1,strictNullHandling:!1},Xye=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},w1={},zye=function t(e,r,n,i,a,o,s,c,l,u,f,h,p,d,m,_,v,g){for(var y=e,x=g,b=0,w=!1;(x=x.get(w1))!==void 0&&!w;){var E=x.get(e);if(b+=1,typeof E<"u"){if(E===b)throw new RangeError("Cyclic object value");w=!0}typeof x.get(w1)>"u"&&(b=0)}if(typeof u=="function"?y=u(r,y):y instanceof Date?y=p(y):n==="comma"&&Ra(y)&&(y=nv.maybeMap(y,function(G){return G instanceof Date?p(G):G})),y===null){if(o)return l&&!_?l(r,un.encoder,v,"key",d):r;y=""}if(Xye(y)||nv.isBuffer(y)){if(l){var S=_?r:l(r,un.encoder,v,"key",d);return[m(S)+"="+m(l(y,un.encoder,v,"value",d))]}return[m(r)+"="+m(String(y))]}var C=[];if(typeof y>"u")return C;var T;if(n==="comma"&&Ra(y))_&&l&&(y=nv.maybeMap(y,l)),T=[{value:y.length>0?y.join(",")||null:void 0}];else if(Ra(u))T=u;else{var I=Object.keys(y);T=f?I.sort(f):I}var A=c?r.replace(/\./g,"%2E"):r,R=i&&Ra(y)&&y.length===1?A+"[]":A;if(a&&Ra(y)&&y.length===0)return R+"[]";for(var O=0;O<T.length;++O){var F=T[O],N=typeof F=="object"&&typeof F.value<"u"?F.value:y[F];if(!(s&&N===null)){var $=h&&c?F.replace(/\./g,"%2E"):F,q=Ra(y)?typeof n=="function"?n(R,$):R:R+(h?"."+$:"["+$+"]");g.set(e,b);var K=DU();K.set(w1,g),jU(C,t(N,q,n,i,a,o,s,c,n==="comma"&&_&&Ra(y)?null:l,u,f,h,p,d,m,_,v,K))}}return C},Wye=function(e){if(!e)return un;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||un.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Bh.default;if(typeof e.format<"u"){if(!Vye.call(Bh.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Bh.formatters[n],a=un.filter;(typeof e.filter=="function"||Ra(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in UU?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=un.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:un.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:un.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:un.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:un.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?un.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:un.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:un.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:un.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:un.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:un.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:un.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:un.strictNullHandling}},Yye=function(t,e){var r=t,n=Wye(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Ra(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=UU[n.arrayFormat],c=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=DU(),u=0;u<i.length;++u){var f=i[u];n.skipNulls&&r[f]===null||jU(o,zye(r[f],f,s,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},Pc=BU,nE=Object.prototype.hasOwnProperty,qye=Array.isArray,Vr={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:Pc.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Kye=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},$U=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Zye="utf8=%26%2310003%3B",Jye="utf8=%E2%9C%93",Qye=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Jye?l="utf-8":o[c]===Zye&&(l="iso-8859-1"),s=c,c=o.length);for(c=0;c<o.length;++c)if(c!==s){var u=o[c],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,p,d;h===-1?(p=r.decoder(u,Vr.decoder,l,"key"),d=r.strictNullHandling?null:""):(p=r.decoder(u.slice(0,h),Vr.decoder,l,"key"),d=Pc.maybeMap($U(u.slice(h+1),r),function(_){return r.decoder(_,Vr.decoder,l,"value")})),d&&r.interpretNumericEntities&&l==="iso-8859-1"&&(d=Kye(d)),u.indexOf("[]=")>-1&&(d=qye(d)?[d]:d);var m=nE.call(n,p);m&&r.duplicates==="combine"?n[p]=Pc.combine(n[p],d):(!m||r.duplicates==="last")&&(n[p]=d)}return n},exe=function(t,e,r,n){for(var i=n?e:$U(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},txe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),l=c?a.slice(0,c.index):a,u=[];if(l){if(!n.plainObjects&&nE.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var f=0;n.depth>0&&(c=s.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&nE.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+a.slice(c.index)+"]"),exe(u,r,n,i)}},rxe=function(e){if(!e)return Vr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Vr.charset:e.charset,n=typeof e.duplicates>"u"?Vr.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Vr.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Vr.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Vr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Vr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Vr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Vr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Vr.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Vr.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Vr.decoder,delimiter:typeof e.delimiter=="string"||Pc.isRegExp(e.delimiter)?e.delimiter:Vr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Vr.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Vr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Vr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Vr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Vr.strictNullHandling}},nxe=function(t,e){var r=rxe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Qye(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],c=txe(s,n[s],r,typeof t=="string");i=Pc.merge(i,c,r)}return r.allowSparse===!0?i:Pc.compact(i)},ixe=Yye,axe=nxe,oxe=HT,sxe={formats:oxe,parse:axe,stringify:ixe},lxe=zge;function ga(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var uxe=/^([a-z0-9.+-]+:)/i,cxe=/:[0-9]*$/,fxe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,hxe=["<",">",'"',"`"," ","\r",`
`,"	"],dxe=["{","}","|","\\","^","`"].concat(hxe),iE=["'"].concat(dxe),kk=["%","/","?",";","#"].concat(iE),Fk=["/","?","#"],pxe=255,Nk=/^[+a-z0-9A-Z_-]{0,63}$/,vxe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,mxe={javascript:!0,"javascript:":!0},aE={javascript:!0,"javascript:":!0},dc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},oE=sxe;function r_(t,e,r){if(t&&typeof t=="object"&&t instanceof ga)return t;var n=new ga;return n.parse(t,e,r),n}ga.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var c=fxe.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=oE.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=uxe.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(l&&aE[l])&&(s=s.substr(2),this.slashes=!0)}if(!aE[l]&&(f||l&&!dc[l])){for(var h=-1,p=0;p<Fk.length;p++){var d=s.indexOf(Fk[p]);d!==-1&&(h===-1||d<h)&&(h=d)}var m,_;h===-1?_=s.lastIndexOf("@"):_=s.lastIndexOf("@",h),_!==-1&&(m=s.slice(0,_),s=s.slice(_+1),this.auth=decodeURIComponent(m)),h=-1;for(var p=0;p<kk.length;p++){var d=s.indexOf(kk[p]);d!==-1&&(h===-1||d<h)&&(h=d)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var g=this.hostname.split(/\./),p=0,y=g.length;p<y;p++){var x=g[p];if(x&&!x.match(Nk)){for(var b="",w=0,E=x.length;w<E;w++)x.charCodeAt(w)>127?b+="x":b+=x[w];if(!b.match(Nk)){var S=g.slice(0,p),C=g.slice(p+1),T=x.match(vxe);T&&(S.push(T[1]),C.unshift(T[2])),C.length&&(s="/"+C.join(".")+s),this.hostname=S.join(".");break}}}this.hostname.length>pxe?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=lxe.toASCII(this.hostname));var I=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+I,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!mxe[u])for(var p=0,y=iE.length;p<y;p++){var R=iE[p];if(s.indexOf(R)!==-1){var O=encodeURIComponent(R);O===R&&(O=escape(R)),s=s.split(R).join(O)}}var F=s.indexOf("#");F!==-1&&(this.hash=s.substr(F),s=s.slice(0,F));var N=s.indexOf("?");if(N!==-1?(this.search=s.substr(N),this.query=s.substr(N+1),e&&(this.query=oE.parse(this.query)),s=s.slice(0,N)):e&&(this.search="",this.query={}),s&&(this.pathname=s),dc[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var I=this.pathname||"",$=this.search||"";this.path=I+$}return this.href=this.format(),this};function gxe(t){return typeof t=="string"&&(t=r_(t)),t instanceof ga?t.format():ga.prototype.format.call(t)}ga.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=oE.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||dc[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function _xe(t,e){return r_(t,!1,!0).resolve(e)}ga.prototype.resolve=function(t){return this.resolveObject(r_(t,!1,!0)).format()};ga.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new ga;e.parse(t,!1,!0),t=e}for(var r=new ga,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];c!=="protocol"&&(r[c]=t[c])}return dc[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!dc[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!aE[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",p=r.search||"";r.path=h+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var d=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",_=m||d||r.host&&t.pathname,v=_,g=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!dc[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(g[0]===""?g[0]=r.host:g.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),_=_&&(y[0]===""||g[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,g=y;else if(y.length)g||(g=[]),g.pop(),g=g.concat(y),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=g.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!g.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var w=g.slice(-1)[0],E=(r.host||t.host||g.length>1)&&(w==="."||w==="..")||w==="",S=0,C=g.length;C>=0;C--)w=g[C],w==="."?g.splice(C,1):w===".."?(g.splice(C,1),S++):S&&(g.splice(C,1),S--);if(!_&&!v)for(;S--;S)g.unshift("..");_&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),E&&g.join("/").substr(-1)!=="/"&&g.push("");var T=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(x){r.hostname=T?"":g.length?g.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return _=_||r.host&&g.length,_&&!T&&g.unshift(""),g.length>0?r.pathname=g.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};ga.prototype.parseHost=function(){var t=this.host,e=cxe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var yxe=r_,xxe=_xe,bxe=gxe;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Xa;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Xa||(Xa={}));var Oc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Oc||(Oc={}));var pd;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(pd||(pd={}));var Ve;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Ve||(Ve={}));var Ai;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ai||(Ai={}));var Be;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Be||(Be={}));var hs;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(hs||(hs={}));var tt;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(tt||(tt={}));var vd;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(vd||(vd={}));var Gn;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Gn||(Gn={}));var Va;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Va||(Va={}));var Ei;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Ei||(Ei={}));var fi;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(fi||(fi={}));var co;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(co||(co={}));var nm;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(nm||(nm={}));var ma;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(ma||(ma={}));var Nn;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Nn||(Nn={}));var Hr;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Hr||(Hr={}));var _a;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(_a||(_a={}));/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pl={parse:yxe,format:bxe,resolve:xxe};qe.RETINA_PREFIX=/@([0-9\.]+)x/;qe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var sE=!1,Lk="6.4.2";function wxe(){sE=!0}function VU(t){var e;if(!sE){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+Lk+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+Lk+" - "+t+" - http://www.pixijs.com/");sE=!0}}var E1;function GU(){return typeof E1>"u"&&(E1=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:qe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),E1}var Exe="#f0f8ff",Sxe="#faebd7",Cxe="#00ffff",Txe="#7fffd4",Axe="#f0ffff",Ixe="#f5f5dc",Rxe="#ffe4c4",Pxe="#000000",Oxe="#ffebcd",kxe="#0000ff",Fxe="#8a2be2",Nxe="#a52a2a",Lxe="#deb887",Mxe="#5f9ea0",Bxe="#7fff00",Dxe="#d2691e",Uxe="#ff7f50",jxe="#6495ed",$xe="#fff8dc",Vxe="#dc143c",Gxe="#00ffff",Hxe="#00008b",Xxe="#008b8b",zxe="#b8860b",Wxe="#a9a9a9",Yxe="#006400",qxe="#a9a9a9",Kxe="#bdb76b",Zxe="#8b008b",Jxe="#556b2f",Qxe="#ff8c00",e1e="#9932cc",t1e="#8b0000",r1e="#e9967a",n1e="#8fbc8f",i1e="#483d8b",a1e="#2f4f4f",o1e="#2f4f4f",s1e="#00ced1",l1e="#9400d3",u1e="#ff1493",c1e="#00bfff",f1e="#696969",h1e="#696969",d1e="#1e90ff",p1e="#b22222",v1e="#fffaf0",m1e="#228b22",g1e="#ff00ff",_1e="#dcdcdc",y1e="#f8f8ff",x1e="#daa520",b1e="#ffd700",w1e="#808080",E1e="#008000",S1e="#adff2f",C1e="#808080",T1e="#f0fff0",A1e="#ff69b4",I1e="#cd5c5c",R1e="#4b0082",P1e="#fffff0",O1e="#f0e68c",k1e="#fff0f5",F1e="#e6e6fa",N1e="#7cfc00",L1e="#fffacd",M1e="#add8e6",B1e="#f08080",D1e="#e0ffff",U1e="#fafad2",j1e="#d3d3d3",$1e="#90ee90",V1e="#d3d3d3",G1e="#ffb6c1",H1e="#ffa07a",X1e="#20b2aa",z1e="#87cefa",W1e="#778899",Y1e="#778899",q1e="#b0c4de",K1e="#ffffe0",Z1e="#00ff00",J1e="#32cd32",Q1e="#faf0e6",ebe="#ff00ff",tbe="#800000",rbe="#66cdaa",nbe="#0000cd",ibe="#ba55d3",abe="#9370db",obe="#3cb371",sbe="#7b68ee",lbe="#00fa9a",ube="#48d1cc",cbe="#c71585",fbe="#191970",hbe="#f5fffa",dbe="#ffe4e1",pbe="#ffe4b5",vbe="#ffdead",mbe="#000080",gbe="#fdf5e6",_be="#808000",ybe="#6b8e23",xbe="#ffa500",bbe="#ff4500",wbe="#da70d6",Ebe="#eee8aa",Sbe="#98fb98",Cbe="#afeeee",Tbe="#db7093",Abe="#ffefd5",Ibe="#ffdab9",Rbe="#cd853f",Pbe="#ffc0cb",Obe="#dda0dd",kbe="#b0e0e6",Fbe="#800080",Nbe="#663399",Lbe="#ff0000",Mbe="#bc8f8f",Bbe="#4169e1",Dbe="#8b4513",Ube="#fa8072",jbe="#f4a460",$be="#2e8b57",Vbe="#fff5ee",Gbe="#a0522d",Hbe="#c0c0c0",Xbe="#87ceeb",zbe="#6a5acd",Wbe="#708090",Ybe="#708090",qbe="#fffafa",Kbe="#00ff7f",Zbe="#4682b4",Jbe="#d2b48c",Qbe="#008080",ewe="#d8bfd8",twe="#ff6347",rwe="#40e0d0",nwe="#ee82ee",iwe="#f5deb3",awe="#ffffff",owe="#f5f5f5",swe="#ffff00",lwe="#9acd32",uwe={aliceblue:Exe,antiquewhite:Sxe,aqua:Cxe,aquamarine:Txe,azure:Axe,beige:Ixe,bisque:Rxe,black:Pxe,blanchedalmond:Oxe,blue:kxe,blueviolet:Fxe,brown:Nxe,burlywood:Lxe,cadetblue:Mxe,chartreuse:Bxe,chocolate:Dxe,coral:Uxe,cornflowerblue:jxe,cornsilk:$xe,crimson:Vxe,cyan:Gxe,darkblue:Hxe,darkcyan:Xxe,darkgoldenrod:zxe,darkgray:Wxe,darkgreen:Yxe,darkgrey:qxe,darkkhaki:Kxe,darkmagenta:Zxe,darkolivegreen:Jxe,darkorange:Qxe,darkorchid:e1e,darkred:t1e,darksalmon:r1e,darkseagreen:n1e,darkslateblue:i1e,darkslategray:a1e,darkslategrey:o1e,darkturquoise:s1e,darkviolet:l1e,deeppink:u1e,deepskyblue:c1e,dimgray:f1e,dimgrey:h1e,dodgerblue:d1e,firebrick:p1e,floralwhite:v1e,forestgreen:m1e,fuchsia:g1e,gainsboro:_1e,ghostwhite:y1e,goldenrod:x1e,gold:b1e,gray:w1e,green:E1e,greenyellow:S1e,grey:C1e,honeydew:T1e,hotpink:A1e,indianred:I1e,indigo:R1e,ivory:P1e,khaki:O1e,lavenderblush:k1e,lavender:F1e,lawngreen:N1e,lemonchiffon:L1e,lightblue:M1e,lightcoral:B1e,lightcyan:D1e,lightgoldenrodyellow:U1e,lightgray:j1e,lightgreen:$1e,lightgrey:V1e,lightpink:G1e,lightsalmon:H1e,lightseagreen:X1e,lightskyblue:z1e,lightslategray:W1e,lightslategrey:Y1e,lightsteelblue:q1e,lightyellow:K1e,lime:Z1e,limegreen:J1e,linen:Q1e,magenta:ebe,maroon:tbe,mediumaquamarine:rbe,mediumblue:nbe,mediumorchid:ibe,mediumpurple:abe,mediumseagreen:obe,mediumslateblue:sbe,mediumspringgreen:lbe,mediumturquoise:ube,mediumvioletred:cbe,midnightblue:fbe,mintcream:hbe,mistyrose:dbe,moccasin:pbe,navajowhite:vbe,navy:mbe,oldlace:gbe,olive:_be,olivedrab:ybe,orange:xbe,orangered:bbe,orchid:wbe,palegoldenrod:Ebe,palegreen:Sbe,paleturquoise:Cbe,palevioletred:Tbe,papayawhip:Abe,peachpuff:Ibe,peru:Rbe,pink:Pbe,plum:Obe,powderblue:kbe,purple:Fbe,rebeccapurple:Nbe,red:Lbe,rosybrown:Mbe,royalblue:Bbe,saddlebrown:Dbe,salmon:Ube,sandybrown:jbe,seagreen:$be,seashell:Vbe,sienna:Gbe,silver:Hbe,skyblue:Xbe,slateblue:zbe,slategray:Wbe,slategrey:Ybe,snow:qbe,springgreen:Kbe,steelblue:Zbe,tan:Jbe,teal:Qbe,thistle:ewe,tomato:twe,turquoise:rwe,violet:nwe,wheat:iwe,white:awe,whitesmoke:owe,yellow:swe,yellowgreen:lwe};function vn(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function XT(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function zT(t){return typeof t=="string"&&(t=uwe[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function ui(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function cwe(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[Ve.NORMAL_NPM]=Ve.NORMAL,t[Ve.ADD_NPM]=Ve.ADD,t[Ve.SCREEN_NPM]=Ve.SCREEN,e[Ve.NORMAL]=Ve.NORMAL_NPM,e[Ve.ADD]=Ve.ADD_NPM,e[Ve.SCREEN]=Ve.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var WT=cwe();function YT(t,e){return WT[e?1:0][t]}function HU(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function n_(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function qT(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function XU(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function i_(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var fwe={Float32Array,Uint32Array,Int32Array,Uint8Array};function hwe(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=i_(u);i[f]||(i[f]=new fwe[f](o)),s=i[f];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+c,d=h%l;s[p+d]=u[h]}c+=l}return new Float32Array(o)}function md(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function lE(t){return!(t&t-1)&&!!t}function uE(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ga(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function vl(t){return t===0?0:t<0?-1:1}var dwe=0;function As(){return++dwe}var Mk={};function So(t,e,r){if(r===void 0&&(r=3),!Mk[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),Mk[e]=!0}}var cE={},mi=Object.create(null),ji=Object.create(null);function pwe(){var t;for(t in mi)mi[t].destroy();for(t in ji)ji[t].destroy()}function zU(){var t;for(t in mi)delete mi[t];for(t in ji)delete ji[t]}var fE=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||qe.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function WU(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},c=null,l,u,f;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%e,f=~~(l/4/e),s.top===null&&(s.top=f),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,c=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:c}}var YU=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function vwe(t){var e=YU.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var J0;function qU(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,J0||(J0=document.createElement("a")),J0.href=t;var r=pl.parse(J0.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function gd(t,e){var r=qe.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const mwe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:ji,CanvasRenderTarget:fE,DATA_URI:YU,EventEmitter:Kl,ProgramCache:cE,TextureCache:mi,clearTextureCache:zU,correctBlendMode:YT,createIndicesForQuads:XU,decomposeDataUri:vwe,deprecation:So,destroyTextureCache:pwe,determineCrossOrigin:qU,earcut:BT,getBufferType:i_,getResolutionOfUrl:gd,hex2rgb:vn,hex2string:XT,interleaveTypedArrays:hwe,isMobile:zi,isPow2:lE,isWebGLSupported:GU,log2:uE,nextPow2:md,premultiplyBlendMode:WT,premultiplyRgba:HU,premultiplyTint:n_,premultiplyTintToRgba:qT,removeItems:Ga,rgb2hex:ui,sayHello:VU,sign:vl,skipHello:wxe,string2hex:zT,trimCanvas:WU,uid:As,url:pl},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _d=Math.PI*2,KT=180/Math.PI,Co=Math.PI/180,yr;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(yr||(yr={}));var It=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Q0=[new It,new It,new It,new It],xt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=yr.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,c=this.right,l=this.top,u=this.bottom;if(c<=s||u<=l)return!1;var f=Q0[0].set(e.left,e.top),h=Q0[1].set(e.left,e.bottom),p=Q0[2].set(e.right,e.top),d=Q0[3].set(e.right,e.bottom);if(p.x<=f.x||h.y<=f.y)return!1;var m=Math.sign(r.a*r.d-r.b*r.c);if(m===0||(r.apply(f,f),r.apply(h,h),r.apply(p,p),r.apply(d,d),Math.max(f.x,h.x,p.x,d.x)<=s||Math.min(f.x,h.x,p.x,d.x)>=c||Math.max(f.y,h.y,p.y,d.y)<=l||Math.min(f.y,h.y,p.y,d.y)>=u))return!1;var _=m*(h.y-f.y),v=m*(f.x-h.x),g=_*s+v*l,y=_*c+v*l,x=_*s+v*u,b=_*c+v*u;if(Math.max(g,y,x,b)<=_*f.x+v*f.y||Math.min(g,y,x,b)>=_*d.x+v*d.y)return!1;var w=m*(f.y-p.y),E=m*(p.x-f.x),S=w*s+E*l,C=w*c+E*l,T=w*s+E*u,I=w*c+E*u;return!(Math.max(S,C,T,I)<=w*f.x+E*f.y||Math.min(S,C,T,I)>=w*d.x+E*d.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),KU=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=yr.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new xt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),ZU=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=yr.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new xt(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),pc=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=yr.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],c=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],f=c>r!=u>r&&e<(l-s)*((r-c)/(u-c))+s;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),JU=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=yr.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),Ko=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),vr=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new It;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new It;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,c,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-c)*o,this.d=Math.cos(s-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),c=Math.atan2(n,r),l=Math.abs(s+c);return l<1e-5||Math.abs(_d-l)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Js=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Qs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],el=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],tl=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],hE=[],QU=[],ep=Math.sign;function gwe(){for(var t=0;t<16;t++){var e=[];hE.push(e);for(var r=0;r<16;r++)for(var n=ep(Js[t]*Js[r]+el[t]*Qs[r]),i=ep(Qs[t]*Js[r]+tl[t]*Qs[r]),a=ep(Js[t]*el[r]+el[t]*tl[r]),o=ep(Qs[t]*el[r]+tl[t]*tl[r]),s=0;s<16;s++)if(Js[s]===n&&Qs[s]===i&&el[s]===a&&tl[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var c=new vr;c.set(Js[t],Qs[t],el[t],tl[t],0,0),QU.push(c)}}gwe();var mr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Js[t]},uY:function(t){return Qs[t]},vX:function(t){return el[t]},vY:function(t){return tl[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return hE[t][e]},sub:function(t,e){return hE[t][mr.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?mr.S:mr.N:Math.abs(e)*2<=Math.abs(t)?t>0?mr.E:mr.W:e>0?t>0?mr.SE:mr.SW:t>0?mr.NE:mr.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=QU[mr.inv(e)];i.tx=r,i.ty=n,t.append(i)}},l0=function(){function t(){this.worldTransform=new vr,this.localTransform=new vr,this.position=new Ko(this.onChange,this,0,0),this.scale=new Ko(this.onChange,this,1,1),this.pivot=new Ko(this.onChange,this,0,0),this.skew=new Ko(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */qe.SORTABLE_CHILDREN=!1;var kc=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?xt.EMPTY:(e=e||new xt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,p=this.minY,d=this.maxX,m=this.maxY,_=o*r+c*n+u,v=s*r+l*n+f;h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+c*n+u,v=s*i+l*n+f,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*r+c*a+u,v=s*r+l*a+f,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+c*a+u,v=s*i+l*a+f,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,this.minX=h,this.minY=p,this.maxX=d,this.maxY=m},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,p=this.minX,d=this.minY,m=this.maxX,_=this.maxY,v=n;v<i;v+=2){var g=r[v],y=r[v+1],x=s*g+l*y+f,b=u*y+c*g+h;p=Math.min(p,x-a),m=Math.max(m,x+a),d=Math.min(d,b-o),_=Math.max(_,b+o)}this.minX=p,this.minY=d,this.maxX=m,this.maxY=_},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dE=function(t,e){return dE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dE(t,e)};function ZT(t,e){dE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Br=function(t){ZT(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new l0,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new kc,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new xt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new xt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new kc);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new JT),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*KT},set:function(r){this.transform.rotation=r*Co},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(Kl),JT=function(t){ZT(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Br);Br.prototype.displayObjectUpdateTransform=Br.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bk;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Bk||(Bk={}));var Dk;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Dk||(Dk={}));var Uk;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Uk||(Uk={}));var jk;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(jk||(jk={}));var $k;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})($k||($k={}));var Vk;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Vk||(Vk={}));var Gk;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Gk||(Gk={}));var Hk;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Hk||(Hk={}));var Xk;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Xk||(Xk={}));var zk;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(zk||(zk={}));var Wk;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Wk||(Wk={}));var Yk;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Yk||(Yk={}));var qk;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(qk||(qk={}));var Kk;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Kk||(Kk={}));var Zk;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Zk||(Zk={}));var Jk;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Jk||(Jk={}));var pE;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(pE||(pE={}));var Qk;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Qk||(Qk={}));var eF;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(eF||(eF={}));function _we(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var pn=function(t){ZT(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=qe.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Ga(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,Ga(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Ga(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(_we),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==pE.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Br);pn.prototype.containerUpdateTransform=pn.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ej={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Br.mixin(ej);var ywe=9,tp=100,xwe=0,bwe=0,tF=2,rF=1,wwe=-1e3,Ewe=-1e3,Swe=2,tj=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(zi.tablet||zi.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=tp+"px",r.style.height=tp+"px",r.style.position="absolute",r.style.top=xwe+"px",r.style.left=bwe+"px",r.style.zIndex=tF.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=rF+"px",r.style.height=rF+"px",r.style.position="absolute",r.style.top=wwe+"px",r.style.left=Ewe+"px",r.style.zIndex=Swe.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(zi.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,c=s.width,l=s.height,u=s.resolution,f=a/c*u,h=o/l*u,p=this.div;p.style.left=n+"px",p.style.top=i+"px",p.style.width=c+"px",p.style.height=l+"px";for(var d=0;d<this.children.length;d++){var m=this.children[d];if(m.renderId!==this.renderId)m._accessibleActive=!1,Ga(this.children,d,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,d--;else{p=m._accessibleDiv;var _=m.hitArea,v=m.worldTransform;m.hitArea?(p.style.left=(v.tx+_.x*v.a)*f+"px",p.style.top=(v.ty+_.y*v.d)*h+"px",p.style.width=_.width*v.a*f+"px",p.style.height=_.height*v.d*h+"px"):(_=m.getBounds(),this.capHitArea(_),p.style.left=_.x*f+"px",p.style.top=_.y*h+"px",p.style.width=_.width*f+"px",p.style.height=_.height*h+"px",p.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(p.title=m.accessibleTitle),p.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&p.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==p.title||m.tabIndex!==p.tabIndex)&&(p.title=m.accessibleTitle,p.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=tp+"px",r.style.height=tp+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=tF.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===ywe&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */qe.TARGET_FPMS=.06;var za;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(za||(za={}));var S1=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),Cn=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new S1(null,null,1/0),this.deltaMS=1/qe.TARGET_FPMS,this.elapsedMS=1/qe.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=za.NORMAL),this._addListener(new S1(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=za.NORMAL),this._addListener(new S1(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*qe.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,qe.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),rj=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,za.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Cn.shared:new Cn,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vE=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new It,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var mE=function(t,e){return mE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mE(t,e)};function Cwe(t,e){mE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nj=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),iv=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),Twe=function(){function t(){this._tempPoint=new It}return t.prototype.recursiveFindHit=function(e,r,n,i,a){if(!r||!r.visible)return!1;var o=e.data.global;a=r.interactive||a;var s=!1,c=a,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(o,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),c=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(o)||(i=!1)),l&&r.interactiveChildren&&r.children)for(var u=r.children,f=u.length-1;f>=0;f--){var h=u[f],p=this.recursiveFindHit(e,h,n,i,c);if(p){if(!h.parent)continue;c=!1,p&&(e.target&&(i=!1),s=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(o)&&(s=!0),r.interactive&&(s&&!e.target&&(e.target=r),n&&n(e,r,!!s))),s},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),ij={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Br.mixin(ij);var rp=1,np={target:null,data:{global:null}},aj=function(t){Cwe(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new vE,i.mouse.identifier=rp,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[rp]=i.mouse,i.interactionDataPool=[],i.eventData=new nj,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new Twe,i._tempDisplayObject=new JT,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return np.target=null,np.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(np,n,null,!0),np.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Cn.system.add(this.tickerUpdate,this,za.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Cn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var c=s.length;this.delayedEvents=[];for(var l=0;l<c;l++){var u=s[l],f=u.displayObject,h=u.eventString,p=u.eventData;p.stopsPropagatingAt===f&&(p.stopPropagationHint=!0),this.dispatchEvent(f,h,p)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],c=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,c);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new iv(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var a=this.normalizeToPointerData(r),o=a.length,s=r.target!==this.interactionDOMElement?"outside":"",c=0;c<o;c++){var l=a[c],u=this.getInteractionDataForPointerId(l),f=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,f),l.pointerType==="mouse"||l.pointerType==="pen"){var h=l.button===2;this.emit(h?"rightup"+s:"mouseup"+s,f)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,f),this.releaseInteractionDataForPointerId(l.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],c=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var f=a.button===2,h=iv.FLAGS,p=f?h.RIGHT_DOWN:h.LEFT_DOWN,d=s!==void 0&&s.flags&p;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),d&&(this.dispatchEvent(n,f?"rightclick":"click",r),u=!0)):d&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),s&&(f?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),c&&this.dispatchEvent(n,"touchend",r),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",r),c&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),c&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),c=this.configureInteractionEventForDOMEvent(this.eventData,o,s);c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",c),o.pointerType==="touch"&&this.emit("touchmove",c),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",c)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",c=n.trackedPointers[o];i&&!c&&(c=n.trackedPointers[o]=new iv(o)),c!==void 0&&(i&&this.mouseOverRenderer?(c.over||(c.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):c.over&&(c.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),c.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===rp||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new vE,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=rp),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Kl);/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Dn=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,c){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,f=l.items;this._aliasCount++;for(var h=0,p=f.length;h<p;h++)f[h][u](e,r,n,i,a,o,s,c);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Dn.prototype,{dispatch:{value:Dn.prototype.emit},run:{value:Dn.prototype.emit}});/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */qe.PREFER_ENV=zi.any?Xa.WEBGL:Xa.WEBGL2;qe.STRICT_TEXTURE_CACHE=!1;var yd=[];function a_(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=yd.length-1;i>=0;--i){var a=yd[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gE=function(t,e){return gE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},gE(t,e)};function cr(t,e){gE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _E=function(){return _E=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_E.apply(this,arguments)};function Awe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]]);return r}var Bl=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Dn("setRealSize"),this.onUpdate=new Dn("update"),this.onError=new Dn("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Ms=function(t){cr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===fi.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(Bl),Iwe={scaleMode:Gn.NEAREST,format:Be.RGBA,alphaMode:fi.NPM},St=function(t){cr(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,c=n.scaleMode,l=n.width,u=n.height,f=n.wrapMode,h=n.format,p=n.type,d=n.target,m=n.resolution,_=n.resourceOptions;return r&&!(r instanceof Bl)&&(r=a_(r,_),r.internal=!0),i.resolution=m||qe.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:qe.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:qe.ANISOTROPIC_LEVEL,i._wrapMode=f||qe.WRAP_MODE,i._scaleMode=c!==void 0?c:qe.SCALE_MODE,i.format=h||Be.RGBA,i.type=p||tt.UNSIGNED_BYTE,i.target=d||hs.TEXTURE_2D,i.alphaMode=a!==void 0?a:fi.UNPACK,i.uid=As(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=lE(this.realWidth)&&lE(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ji[this.cacheId],delete mi[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=qe.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+As()}o=r._pixiId}var c=ji[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return c||(c=new e(r,n),c.cacheId=o,e.addToCache(c,o)),c},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new Ms(r,{width:n,height:i}),s=r instanceof Float32Array?tt.FLOAT:tt.UNSIGNED_BYTE;return new e(o,Object.assign(Iwe,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),ji[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),ji[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=ji[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete ji[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete ji[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(Kl),o_=function(t){cr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var c=0;c<r;c++){var l=new St;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof Bl?this.addResourceAt(r[i],i):this.addResourceAt(a_(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(Bl),QT=function(t){cr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c,l;return Array.isArray(r)?(c=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,c&&i.initFromArray(c,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=hs.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,c=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var u=0;u<o;u++){var f=c[u];s[u]<f.dirtyId&&(s[u]=f.dirtyId,f.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(o_),Wa=function(t){cr(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=qU(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,c=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===fi.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=c,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Bl),s_=function(t){cr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(Wa),eA=function(t){cr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=hs.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),c!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=hs.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=hs.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(o_),l_=function(t){cr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;Wa.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:qe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(c){a(c),n.onError.emit(c)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===fi.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var c=o[s];if(c!==i&&c.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(Wa),tA=function(t){cr(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;Wa.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var c=r.source;c.width=o,c.height=s,c._pixiId="canvas_"+As(),c.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Wa),rA=function(t){cr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];Wa.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var c=document.createElement("source"),l=r[s],u=l.src,f=l.mime;u=u||r[s];var h=u.split("?").shift().toLowerCase(),p=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[p]||"video/"+p,c.src=u,c.type=f,a.appendChild(c)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=Cn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Cn.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Cn.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Cn.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Cn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Cn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Wa),nA=function(t){cr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},e}(Wa);yd.push(l_,nA,s_,rA,tA,Ms,eA,QT);var oj={__proto__:null,Resource:Bl,BaseImageResource:Wa,INSTALLED:yd,autoDetectResource:a_,AbstractMultiResource:o_,ArrayResource:QT,BufferResource:Ms,CanvasResource:s_,CubeResource:eA,ImageResource:l_,SVGResource:tA,VideoResource:rA,ImageBitmapResource:nA},Rwe=function(t){cr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===fi.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(Ms),im=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Dn("disposeFramebuffer"),this.multisample=Hr.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new St(null,{scaleMode:Gn.NEAREST,resolution:1,mipmap:Ei.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new St(new Rwe(null,{width:this.width,height:this.height}),{scaleMode:Gn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ei.OFF,format:Be.DEPTH_COMPONENT,type:tt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),iA=function(t){cr(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Hr.NONE,n=t.call(this,null,r)||this,n.mipmap=Ei.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new im(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(St),aA=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,c=e.x/i+o,l=e.y/a+s;n=mr.add(n,mr.NW),this.x0=c+o*mr.uX(n),this.y0=l+s*mr.uY(n),n=mr.add(n,2),this.x1=c+o*mr.uX(n),this.y1=l+s*mr.uY(n),n=mr.add(n,2),this.x2=c+o*mr.uX(n),this.y2=l+s*mr.uY(n),n=mr.add(n,2),this.x3=c+o*mr.uX(n),this.y3=l+s*mr.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),nF=new aA;function ip(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var ot=function(t){cr(e,t);function e(r,n,i,a,o,s){var c=t.call(this)||this;if(c.noFrame=!1,n||(c.noFrame=!0,n=new xt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=a,c.valid=!1,c._uvs=nF,c.uvMatrix=null,c.orig=i||n,c._rotate=Number(o||0),o===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=s?new It(s.x,s.y):new It(0,0),c._updateID=0,c.textureCacheIds=[],r.valid?c.noFrame?r.valid&&c.onBaseTextureUpdated(r):c.frame=n:r.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&r.on("update",c.onBaseTextureUpdated,c),c}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&mi[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===nF&&(this._uvs=new aA),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=qe.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof St){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+As(),St.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+As()}o=r._pixiId}var c=mi[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!c&&!(r instanceof St)?(n.resolution||(n.resolution=gd(r)),c=new e(new St(r,n)),c.baseTexture.cacheId=o,St.addToCache(c.baseTexture,o),e.addToCache(c,o)):!c&&r instanceof St&&(c=new e(r),e.addToCache(c,o)),c},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(St.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new St(r,Object.assign({scaleMode:qe.SCALE_MODE,resolution:gd(n)},a)),s=o.resource;s instanceof l_&&(s.url=n);var c=new e(o);return i||(i=n),St.addToCache(c.baseTexture,i),e.addToCache(c,i),i!==n&&(St.addToCache(c.baseTexture,n),e.addToCache(c,n)),c.baseTexture.valid?Promise.resolve(c):new Promise(function(l){c.baseTexture.once("loaded",function(){return l(c)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),mi[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),mi[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=mi[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete mi[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)mi[r.textureCacheIds[a]]===r&&delete mi[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,c=i+o>this.baseTexture.height;if(s||c){var l=s&&c?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+f))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new St),ip(e._EMPTY),ip(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=document.createElement("canvas"),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(new St(new s_(r))),ip(e._WHITE),ip(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(Kl),Is=function(t){cr(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(So("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new iA(r))},e}(ot),sj=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=Hr.NONE);var i=new iA(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Is(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=Hr.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=md(e),r=md(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Hr.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),yE=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=tt.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),Pwe=0,en=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Pwe++,this.disposeRunner=new Dn("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===_a.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?_a.ELEMENT_ARRAY_BUFFER:_a.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),Owe={Float32Array,Uint32Array,Int32Array,Uint8Array};function kwe(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=i_(u);i[f]||(i[f]=new Owe[f](o)),s=i[f];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+c,d=h%l;s[p+d]=u[h]}c+=l}return new Float32Array(o)}var iF={5126:4,5123:2,5121:1},Fwe=0,Nwe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},pf=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Fwe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Dn("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,c){if(n===void 0&&(n=0),i===void 0&&(i=!1),c===void 0&&(c=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof en||(r instanceof Array&&(r=new Float32Array(r)),r=new en(r));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],r,n,i,a);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new yE(f,n,i,a,o,s,c),this.instanced=this.instanced||c,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof en||(e instanceof Array&&(e=new Uint16Array(e)),e=new en(e)),e.type=_a.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new en,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*iF[a.type]/4),a.buffer=0}for(n.data=kwe(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new en(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new yE(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=_a.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,a[c]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new Nwe[i_(o.buffers[s].data)](i[s]),r.buffers[s]=new en(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,a[c]),a[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=_a.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,f=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var p=o.attributes[s];(p.buffer|0)===h&&(u+=p.size*iF[p.type]/4)}for(var s=0;s<e.length;s++){for(var d=e[s].indexBuffer.data,c=0;c<d.length;c++)r.indexBuffer.data[c+f]+=l;l+=e[s].buffers[h].data.length/u,f+=d.length}}return r},t}(),lj=function(t){cr(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(pf),oA=function(t){cr(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new en(r.vertices),r.uvBuffer=new en(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(pf),Lwe=0,ds=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Lwe++,this.static=!!r,this.ubo=!!n,e instanceof en?(this.buffer=e,this.buffer.type=_a.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new en(new Float32Array(1)),this.buffer.type=_a.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),uj=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Hr.NONE,this.sourceFrame=new xt,this.destinationFrame=new xt,this.bindingSourceFrame=new xt,this.bindingDestinationFrame=new xt,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),ap=[new It,new It,new It,new It],C1=new vr,sA=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new sj,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new lj,this.quadUv=new oA,this.tempRect=new xt,this.activeState={},this.globalUniforms=new ds({outputFrame:new xt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new uj,c=this.renderer.renderTexture,l=r[0].resolution,u=r[0].multisample,f=r[0].padding,h=r[0].autoFit,p=(n=r[0].legacy)!==null&&n!==void 0?n:!0,d=1;d<r.length;d++){var m=r[d];l=Math.min(l,m.resolution),u=Math.min(u,m.multisample),f=this.useMaxPadding?Math.max(f,m.padding):f+m.padding,h=h&&m.autoFit,p=p||((i=m.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),o.push(s),s.resolution=l,s.multisample=u,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);var _=this.tempRect.copyFrom(c.sourceFrame);a.projection.transform&&this.transformAABB(C1.copyFrom(a.projection.transform).invert(),_),h?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,c.current?c.current.resolution:a.resolution,c.sourceFrame,c.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(c.sourceFrame),s.bindingDestinationFrame.copyFrom(c.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,c.bind(s.renderTexture,s.sourceFrame,v),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,co.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,f=this.getOptimalFilterTexture(u.width,u.height,r.resolution);f.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(u.width,u.height,r.resolution),f.filterFrame=u.filterFrame),n[h].apply(this,u,f,co.CLEAR,r);var p=u;u=f,f=p}n[h].apply(this,u,l.renderTexture,co.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=co.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===co.CLEAR||r===co.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Ai.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Ai.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),c=r.worldTransform.copyTo(vr.TEMP_MATRIX);return c.invert(),s.prepend(c),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=Hr.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Hr.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=ap[0],i=ap[1],a=ap[2],o=ap[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),c=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),u=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=c,r.width=l-s,r.height=u-c},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,c=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?C1.copyFrom(a):C1.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),u0=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),lA=function(){function t(e){this.renderer=e,this.emptyRenderer=new u0(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,c=0,l=0;l<s;l++){var u=a[l],f=u._batchLocation;if(f>=0&&f<i&&r[f]===u){o[l]=f;continue}for(;c<i;){var h=r[c];if(h&&h._batchEnabled===n&&h._batchLocation===c){c++;continue}o[l]=c,u._batchLocation=c,r[c]=u;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),aF=0,uA=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=aF++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=aF++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(qe.PREFER_ENV>=Xa.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),cj=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Hr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),Mwe=new xt,cA=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new im(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new xt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;qe.PREFER_ENV===Xa.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var c=r.width>>n,l=r.height>>n,u=c/r.width;this.setViewport(r.x*u,r.y*u,c,l)}else{var c=e.width>>n,l=e.height>>n;this.setViewport(0,0,c,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=pd.COLOR|pd.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new cj(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],c=s.parentTextureArray||s;this.renderer.texture.bind(c,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],c=0;c<o;c++){var l=a[c],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),!(c===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,l.target,u._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+c))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=Hr.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Hr.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,c=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[c];if(l){if(!e){if(!l.msaaBuffer)return;var u=a.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new im(a.width,a.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=Mwe,r.width=a.width,r.height=a.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,f?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new xt},t.prototype.destroy=function(){this.renderer=null},t}(),T1={5126:4,5123:2,5121:1},fA=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;qe.PREFER_ENV===Xa.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,c,l){return i.drawElementsInstancedANGLE(a,o,s,c,l)},e.drawArraysInstanced=function(a,o,s,c){return i.drawArraysInstancedANGLE(a,o,s,c)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var c=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[c];if(u)return l[s.id]=u,u;var f=e.buffers,h=e.attributes,p={},d={};for(var m in f)p[m]=0,d[m]=0;for(var m in h)!h[m].size&&s.attributeData[m]?h[m].size=s.attributeData[m].size:h[m].size||console.warn("PIXI Geometry attribute '"+m+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[h[m].buffer]+=h[m].size*T1[h[m].type];for(var m in h){var _=h[m],v=_.size;_.stride===void 0&&(p[_.buffer]===v*T1[_.type]?_.stride=0:_.stride=p[_.buffer]),_.start===void 0&&(_.start=d[_.buffer],d[_.buffer]+=v*T1[_.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var g=0;g<f.length;g++){var y=f[g];o.bind(y),n&&y._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=u,l[s.id]=u,l[c]=u,u},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var c=0;c<o.length;c++){var l=o[c]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[c],r))}if(!r){for(var u in i)if(u[0]==="g"){var f=i[u];this._activeVao===f&&this.unbind(),a.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var c=null;for(var l in s){var u=s[l],f=o[u.buffer],h=f._glBuffers[i];if(r.attributeData[l]){c!==h&&(a.bind(f),c=h);var p=r.attributeData[l].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(p,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,c=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),fj=function(){function t(e){e===void 0&&(e=null),this.type=Nn.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=qe.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Nn.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function oF(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function sF(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,u){return u+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var c=r.join(`
`);s[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function Bwe(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||sF(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||sF(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function A1(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function hj(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return A1(2*e);case"bvec3":return A1(3*e);case"bvec4":return A1(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var dj={},jf=dj;function pj(){if(jf===dj||jf&&jf.isContextLost()){var t=document.createElement("canvas"),e=void 0;qe.PREFER_ENV>=Xa.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),jf=e}return jf}var op;function Dwe(){if(!op){op=ma.MEDIUM;var t=pj();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);op=e.precision?ma.HIGH:ma.MEDIUM}}return op}function lF(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===ma.HIGH&&r!==ma.HIGH&&(n=ma.MEDIUM),"precision "+n+` float;
`+t}else if(r!==ma.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var Uwe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function vj(t){return Uwe[t]}var sp=null,uF={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mj(t,e){if(!sp){var r=Object.keys(uF);sp={};for(var n=0;n<r.length;++n){var i=r[n];sp[t[i]]=uF[i]}}return sp[e]}var Tl=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],jwe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},$we={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Vwe(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,c=0;c<Tl.length;c++)if(Tl[c].test(a,o)){n.push(Tl[c].code(i,o)),s=!0;break}if(!s){var l=a.size===1?jwe:$we,u=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var Gwe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Hwe(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function gj(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=Gwe.replace(/%forloop%/gi,Hwe(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var $f;function Xwe(){if(typeof $f=="boolean")return $f;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");$f=t({a:"b"},"a","b")===!0}catch{$f=!1}return $f}var zwe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Wwe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Ywe=0,lp={},vf=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=Ywe++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),lp[n]?(lp[n]++,n+="-"+lp[n]):lp[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=lF(this.vertexSrc,qe.PRECISION_VERTEX,ma.HIGH),this.fragmentSrc=lF(this.fragmentSrc,qe.PRECISION_FRAGMENT,Dwe())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Wwe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return zwe},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=cE[i];return a||(cE[i]=a=new t(e,r,n)),a},t}(),yo=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof ds?this.uniformGroup=r:this.uniformGroup=new ds(r):this.uniformGroup=new ds({})}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=vf.from(e,r);return new t(i,n)},t}(),I1=0,R1=1,P1=2,O1=3,k1=4,F1=5,Bs=function(){function t(){this.data=0,this.blendMode=Ve.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<I1)},set:function(e){!!(this.data&1<<I1)!==e&&(this.data^=1<<I1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<R1)},set:function(e){!!(this.data&1<<R1)!==e&&(this.data^=1<<R1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<P1)},set:function(e){!!(this.data&1<<P1)!==e&&(this.data^=1<<P1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<O1)},set:function(e){!!(this.data&1<<O1)!==e&&(this.data^=1<<O1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<F1)},set:function(e){!!(this.data&1<<F1)!==e&&(this.data^=1<<F1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<k1)},set:function(e){!!(this.data&1<<k1)!==e&&(this.data^=1<<k1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==Ve.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),qwe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Kwe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,dt=function(t){cr(e,t);function e(r,n,i){var a=this,o=vf.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=qe.FILTER_RESOLUTION,a.multisample=qe.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new Bs,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return qwe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return Kwe},enumerable:!1,configurable:!0}),e}(yo),Zwe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,Jwe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,cF=new vr,u_=function(){function t(e,r){this._texture=e,this.mapCoord=new vr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&(cF.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(cF));var o=r.baseTexture,s=this.uClampFrame,c=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+c+l)/o.width,s[1]=(r._frame.y+c+l)/o.height,s[2]=(r._frame.x+r._frame.width-c+l)/o.width,s[3]=(r._frame.y+r._frame.height-c+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),_j=function(t){cr(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||Zwe,n||Jwe,i)||this,a.maskSprite=o,a.maskMatrix=new vr,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new u_(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}(dt),hA=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new fj;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n.autoDetect&&this.detect(n),n._target=e,n.type!==Nn.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Nn.SCISSOR:this.renderer.scissor.push(n);break;case Nn.STENCIL:this.renderer.stencil.push(n);break;case Nn.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===Nn.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Nn.SCISSOR:this.renderer.scissor.pop();break;case Nn.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Nn.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Nn.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r.isSprite?e.type=Nn.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Nn.SCISSOR:e.type=Nn.STENCIL},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new _j]));var s=this.renderer,c=s.renderTexture,l,u;if(c.current){var f=c.current;l=e.resolution||f.resolution,u=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else l=e.resolution||s.resolution,u=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=u,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),yj=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),fF=new vr,dA=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,a=this.renderer,o=a.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?fF.copyFrom(o):fF.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(yj),pA=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(yj),vA=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new vr,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),Vs=new xt,Vf=new xt,mA=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new xt,this.destinationFrame=new xt,this.viewportFrame=new xt}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(Vs.width=e.frame.width,Vs.height=e.frame.height,r=Vs),n||(Vf.x=e.frame.x,Vf.y=e.frame.y,Vf.width=r.width,Vf.height=r.height,n=Vf),o=a.framebuffer):(s=i.resolution,r||(Vs.width=i.screen.width,Vs.height=i.screen.height,r=Vs),n||(n=Vs,n.width=r.width,n.height=r.height));var c=this.viewportFrame;c.x=n.x*s,c.y=n.y*s,c.width=n.width*s,c.height=n.height*s,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,c=o.y,l=o.width,u=o.height;s=Math.round(s),c=Math.round(c),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,c,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function Qwe(t,e,r,n,i){r.buffer.update(i)}var eEe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},xj={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function bj(t){for(var e=t.map(function(c){return{data:c,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=xj[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function wj(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function Ej(t,e){if(!t.autoManage)return{size:0,syncFunc:Qwe};for(var r=wj(t.uniforms,e),n=bj(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var c=i[s],l=t.uniforms[c.data.name],u=c.data.name,f=!1,h=0;h<Tl.length;h++){var p=Tl[h];if(p.codeUbo&&p.test(c.data,l)){o.push("offset = "+c.offset/4+";",Tl[h].codeUbo(c.data.name,l)),f=!0;break}}if(!f)if(c.data.size>1){var d=vj(c.data.type),m=Math.max(xj[c.data.type]/16,1),_=d/m,v=(4-_%4)%4;o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;

                t = 0;

                for(var i=0; i < `+c.data.size*m+`; i++)
                {
                    for(var j = 0; j < `+_+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+v+`;
                }

                `)}else{var g=eEe[c.data.type];o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;
                `+g+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var tEe=function(){function t(){}return t}(),Sj=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function rEe(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=mj(e,a.type),s={type:o,name:a.name,size:vj(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function nEe(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),c=mj(e,a.type);r[o]={name:o,index:i,type:c,size:a.size,isArray:s,value:hj(c,a.size)}}return r}function Cj(t,e){var r=oF(t,t.VERTEX_SHADER,e.vertexSrc),n=oF(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Bwe(t,i,r,n),e.attributeData=rEe(i,t),e.uniformData=nEe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(u,f){return u>f?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var c=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:hj(c.type,c.size)}}var l=new Sj(i,s);return l}var iEe=0,up={textureCount:0,uboCount:0},gA=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=iEe++}return t.prototype.systemCheck=function(){if(!Xwe())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(up.textureCount=0,up.uboCount=0,this.syncUniformGroup(e.uniformGroup,up)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=Vwe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,up,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=Ej(e,this.shader.program.uniformData)),e.autoManage){var c=new Float32Array(s.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=Cj(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function aEe(t,e){return e===void 0&&(e=[]),e[Ve.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.ADD]=[t.ONE,t.ONE],e[Ve.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.NONE]=[0,0],e[Ve.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ve.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ve.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ve.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ve.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ve.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ve.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ve.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ve.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ve.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ve.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var oEe=0,sEe=1,lEe=2,uEe=3,cEe=4,fEe=5,_A=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ve.NONE,this._blendEq=!1,this.map=[],this.map[oEe]=this.setBlend,this.map[sEe]=this.setOffset,this.map[lEe]=this.setCullFace,this.map[uEe]=this.setDepthTest,this.map[cEe]=this.setFrontFace,this.map[fEe]=this.setDepthMask,this.checks=[],this.defaultState=new Bs,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=aEe(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),yA=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=qe.GC_MAX_IDLE,this.checkCountMax=qe.GC_MAX_CHECK_COUNT,this.mode=qe.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==nm.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function hEe(t){var e,r,n,i,a,o,s,c,l,u,f,h,p,d,m,_,v,g,y,x,b,w,E;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?E=(e={},e[tt.UNSIGNED_BYTE]=(r={},r[Be.RGBA]=t.RGBA8,r[Be.RGB]=t.RGB8,r[Be.RG]=t.RG8,r[Be.RED]=t.R8,r[Be.RGBA_INTEGER]=t.RGBA8UI,r[Be.RGB_INTEGER]=t.RGB8UI,r[Be.RG_INTEGER]=t.RG8UI,r[Be.RED_INTEGER]=t.R8UI,r[Be.ALPHA]=t.ALPHA,r[Be.LUMINANCE]=t.LUMINANCE,r[Be.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[tt.BYTE]=(n={},n[Be.RGBA]=t.RGBA8_SNORM,n[Be.RGB]=t.RGB8_SNORM,n[Be.RG]=t.RG8_SNORM,n[Be.RED]=t.R8_SNORM,n[Be.RGBA_INTEGER]=t.RGBA8I,n[Be.RGB_INTEGER]=t.RGB8I,n[Be.RG_INTEGER]=t.RG8I,n[Be.RED_INTEGER]=t.R8I,n),e[tt.UNSIGNED_SHORT]=(i={},i[Be.RGBA_INTEGER]=t.RGBA16UI,i[Be.RGB_INTEGER]=t.RGB16UI,i[Be.RG_INTEGER]=t.RG16UI,i[Be.RED_INTEGER]=t.R16UI,i[Be.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[tt.SHORT]=(a={},a[Be.RGBA_INTEGER]=t.RGBA16I,a[Be.RGB_INTEGER]=t.RGB16I,a[Be.RG_INTEGER]=t.RG16I,a[Be.RED_INTEGER]=t.R16I,a),e[tt.UNSIGNED_INT]=(o={},o[Be.RGBA_INTEGER]=t.RGBA32UI,o[Be.RGB_INTEGER]=t.RGB32UI,o[Be.RG_INTEGER]=t.RG32UI,o[Be.RED_INTEGER]=t.R32UI,o[Be.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[tt.INT]=(s={},s[Be.RGBA_INTEGER]=t.RGBA32I,s[Be.RGB_INTEGER]=t.RGB32I,s[Be.RG_INTEGER]=t.RG32I,s[Be.RED_INTEGER]=t.R32I,s),e[tt.FLOAT]=(c={},c[Be.RGBA]=t.RGBA32F,c[Be.RGB]=t.RGB32F,c[Be.RG]=t.RG32F,c[Be.RED]=t.R32F,c[Be.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,c),e[tt.HALF_FLOAT]=(l={},l[Be.RGBA]=t.RGBA16F,l[Be.RGB]=t.RGB16F,l[Be.RG]=t.RG16F,l[Be.RED]=t.R16F,l),e[tt.UNSIGNED_SHORT_5_6_5]=(u={},u[Be.RGB]=t.RGB565,u),e[tt.UNSIGNED_SHORT_4_4_4_4]=(f={},f[Be.RGBA]=t.RGBA4,f),e[tt.UNSIGNED_SHORT_5_5_5_1]=(h={},h[Be.RGBA]=t.RGB5_A1,h),e[tt.UNSIGNED_INT_2_10_10_10_REV]=(p={},p[Be.RGBA]=t.RGB10_A2,p[Be.RGBA_INTEGER]=t.RGB10_A2UI,p),e[tt.UNSIGNED_INT_10F_11F_11F_REV]=(d={},d[Be.RGB]=t.R11F_G11F_B10F,d),e[tt.UNSIGNED_INT_5_9_9_9_REV]=(m={},m[Be.RGB]=t.RGB9_E5,m),e[tt.UNSIGNED_INT_24_8]=(_={},_[Be.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,_),e[tt.FLOAT_32_UNSIGNED_INT_24_8_REV]=(v={},v[Be.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,v),e):E=(g={},g[tt.UNSIGNED_BYTE]=(y={},y[Be.RGBA]=t.RGBA,y[Be.RGB]=t.RGB,y[Be.ALPHA]=t.ALPHA,y[Be.LUMINANCE]=t.LUMINANCE,y[Be.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,y),g[tt.UNSIGNED_SHORT_5_6_5]=(x={},x[Be.RGB]=t.RGB,x),g[tt.UNSIGNED_SHORT_4_4_4_4]=(b={},b[Be.RGBA]=t.RGBA,b),g[tt.UNSIGNED_SHORT_5_5_5_1]=(w={},w[Be.RGBA]=t.RGBA,w),g),E}var av=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=tt.UNSIGNED_BYTE,this.internalFormat=Be.RGBA,this.samplerType=0}return t}(),xA=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new St,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=hEe(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new av(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new av(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var c=s._glTextures[a];c.samplerType!==vd.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new av(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===tt.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==vd.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&Ga(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Ei.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Va.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==Ei.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Gn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Gn.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Gn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Gn.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),Tj={__proto__:null,FilterSystem:sA,BatchSystem:lA,ContextSystem:uA,FramebufferSystem:cA,GeometrySystem:fA,MaskSystem:hA,ScissorSystem:dA,StencilSystem:pA,ProjectionSystem:vA,RenderTextureSystem:mA,ShaderSystem:gA,StateSystem:_A,TextureGCSystem:yA,TextureSystem:xA},N1=new vr,Aj=function(t){cr(e,t);function e(r,n){r===void 0&&(r=Oc.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},qe.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new xt(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||qe.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(So("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(So("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=Awe(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var c=Is.create(_E({width:a.width,height:a.height},s));return N1.tx=-a.x,N1.ty=-a.y,this.render(r,{renderTexture:c,clear:!1,transform:N1,skipUpdateTransform:!!r.parent}),c},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Oc.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=XT(r),vn(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(Kl),dEe=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),pEe=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new dEe(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),Io=function(t){cr(e,t);function e(r){var n=t.call(this,Oc.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Dn("destroy"),contextChange:new Dn("contextChange"),reset:new Dn("reset"),update:new Dn("update"),postrender:new Dn("postrender"),prerender:new Dn("prerender"),resize:new Dn("resize")},n.runners.contextChange.add(n),n.globalUniforms=new ds({projectionMatrix:new vr},!0),n.addSystem(hA,"mask").addSystem(uA,"context").addSystem(_A,"state").addSystem(gA,"shader").addSystem(xA,"texture").addSystem(pEe,"buffer").addSystem(fA,"geometry").addSystem(cA,"framebuffer").addSystem(dA,"scissor").addSystem(pA,"stencil").addSystem(vA,"projection").addSystem(yA,"textureGC").addSystem(sA,"filter").addSystem(mA,"renderTexture").addSystem(lA,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,VU(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(GU())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=Hr.HIGH?this.multisample=Hr.HIGH:n>=Hr.MEDIUM?this.multisample=Hr.MEDIUM:n>=Hr.LOW?this.multisample=Hr.LOW:this.multisample=Hr.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof Is?(So("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var c=r.enableTempParent();r.updateTransform(),r.disableTempParent(c)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return So("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(Aj);function Ij(t){return Io.create(t)}var vEe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mEe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Rj=vEe,bA=mEe,gEe=function(){function t(e){So("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),am=function(){function t(){this.texArray=null,this.blend=0,this.type=Ai.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),om=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),xd=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),Pj=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Bs.for2d(),n.size=qe.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;qe.PREFER_ENV===Xa.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),qe.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=gj(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new am);for(;n.length<a;)n.push(new om);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,c=this.renderer.textureGC.count,l=++St._globalBatch,u=0,f=a[0],h=0;o.copyBoundTextures(s,i);for(var p=0;p<this._bufferSize;++p){var d=n[p];n[p]=null,d._batchEnabled!==l&&(f.count>=i&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,p),h=p,f=a[++u],++l),d._batchEnabled=l,d.touched=c,f.elements[f.count++]=d)}f.count>0&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,this._bufferSize),++u,++l);for(var p=0;p<s.length;p++)s[p]=null;St._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,c=a._indexBuffer,l=a.vertexSize,u=e._drawCallPool,f=this._dcIndex,h=this._aIndex,p=this._iIndex,d=u[f];d.start=this._iIndex,d.texArray=r;for(var m=n;m<i;++m){var _=o[m],v=_._texture.baseTexture,g=WT[v.alphaMode?1:0][_.blendMode];o[m]=null,n<m&&d.blend!==g&&(d.size=p-d.start,n=m,d=u[++f],d.texArray=r,d.start=p),this.packInterleavedGeometry(_,s,c,h,p),h+=_.vertexData.length/2*l,p+=_.indices.length,d.blend=g}n<i&&(d.size=p-d.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=p},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;qe.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,c=0;c<r;c++){var l=o[c],u=l.texArray,f=l.type,h=l.size,p=l.start,d=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,a.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,p*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),qe.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=md(Math.ceil(r/8)),i=uE(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new xd(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=md(Math.ceil(r/12)),i=uE(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,c=n.float32View,l=a/this.vertexSize,u=r.uvs,f=r.indices,h=r.vertexData,p=r._texture.baseTexture._batchLocation,d=Math.min(r.worldAlpha,1),m=d<1&&r._texture.baseTexture.alphaMode?n_(r._tintRGB,d):r._tintRGB+(d*255<<24),_=0;_<h.length;_+=2)c[a++]=h[_],c[a++]=h[_+1],c[a++]=u[_],c[a++]=u[_+1],s[a++]=m,c[a++]=p;for(var _=0;_<f.length;_++)i[o++]=l+f[_]},e._drawCallPool=[],e._textureArrayPool=[],e}(u0),Oj=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=ds.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new vf(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new vr,default:this.defaultGroupCache[e]};return new yo(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),wA=function(t){cr(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new en(null,r,!1),n._indexBuffer=new en(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,tt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,tt.FLOAT).addAttribute("aColor",n._buffer,4,!0,tt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,tt.FLOAT).addIndex(n._indexBuffer),n}return e}(pf),hF=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,dF=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,kj=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:hF,fragment:dF,geometryClass:wA,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){cr(c,s);function c(l){var u=s.call(this,l)||this;return u.shaderGenerator=new Oj(n,i),u.geometryClass=o,u.vertexSize=a,u}return c}(Pj)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return hF},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return dF},enumerable:!1,configurable:!0}),t}(),Fj=kj.create(),Nj={},_Ee=function(t){Object.defineProperty(Nj,t,{get:function(){return So("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),oj[t]}})};for(var EA in oj)_Ee(EA);var Lj={},yEe=function(t){Object.defineProperty(Lj,t,{get:function(){return So("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Tj[t]}})};for(var EA in Tj)yEe(EA);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var c0=function(){function t(e){var r=this;this.stage=new pn,e=Object.assign({forceCanvas:!1},e),this.renderer=Ij(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),xEe=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();c0.registerPlugin(xEe);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var L1=/iPhone/i,pF=/iPod/i,vF=/iPad/i,mF=/\biOS-universal(?:.+)Mac\b/i,M1=/\bAndroid(?:.+)Mobile\b/i,gF=/Android/i,pu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,cp=/Silk/i,io=/Windows Phone/i,_F=/\bWindows(?:.+)ARM\b/i,yF=/BlackBerry/i,xF=/BB10/i,bF=/Opera Mini/i,wF=/\b(CriOS|Chrome)(?:.+)Mobile/i,EF=/Mobile(?:.+)Firefox\b/i,SF=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function bEe(t){return function(e){return e.test(t)}}function wEe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=bEe(r),a={apple:{phone:i(L1)&&!i(io),ipod:i(pF),tablet:!i(L1)&&(i(vF)||SF(e))&&!i(io),universal:i(mF),device:(i(L1)||i(pF)||i(vF)||i(mF)||SF(e))&&!i(io)},amazon:{phone:i(pu),tablet:!i(pu)&&i(cp),device:i(pu)||i(cp)},android:{phone:!i(io)&&i(pu)||!i(io)&&i(M1),tablet:!i(io)&&!i(pu)&&!i(M1)&&(i(cp)||i(gF)),device:!i(io)&&(i(pu)||i(cp)||i(M1)||i(gF))||i(/\bokhttp\b/i)},windows:{phone:i(io),tablet:i(_F),device:i(io)||i(_F)},other:{blackberry:i(yF),blackberry10:i(xF),opera:i(bF),firefox:i(EF),chrome:i(wF),device:i(yF)||i(xF)||i(bF)||i(EF)||i(wF)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Gu=wEe(globalThis.navigator);function EEe(t){var e=!0;if(Gu.tablet||Gu.phone){if(Gu.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Gu.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function SEe(){return!Gu.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var CF;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(CF||(CF={}));var TF;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(TF||(TF={}));var AF;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(AF||(AF={}));var IF;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(IF||(IF={}));var RF;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(RF||(RF={}));var PF;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(PF||(PF={}));var OF;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(OF||(OF={}));var kF;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(kF||(kF={}));var FF;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(FF||(FF={}));var xE;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(xE||(xE={}));var bE;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(bE||(bE={}));var wE;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(wE||(wE={}));var NF;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(NF||(NF={}));var LF;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(LF||(LF={}));var EE;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(EE||(EE={}));var Dh;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Dh||(Dh={}));var MF;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(MF||(MF={}));var SE;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(SE||(SE={}));var BF;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BF||(BF={}));var Mj={MIPMAP_TEXTURES:wE.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:SE.NONE,SPRITE_MAX_TEXTURES:EEe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:EE.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:bE.CLAMP,SCALE_MODE:xE.LINEAR,PRECISION_VERTEX:Dh.HIGH,PRECISION_FRAGMENT:Gu.apple.device?Dh.HIGH:Dh.MEDIUM,CAN_UPLOAD_SAME_BUFFER:SEe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Mj.SORTABLE_CHILDREN=!1;var DF=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?xt.EMPTY:(e=e||new xt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,p=this.minY,d=this.maxX,m=this.maxY,_=o*r+c*n+u,v=s*r+l*n+f;h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+c*n+u,v=s*i+l*n+f,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*r+c*a+u,v=s*r+l*a+f,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+c*a+u,v=s*i+l*a+f,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,this.minX=h,this.minY=p,this.maxX=d,this.maxY=m},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,p=this.minX,d=this.minY,m=this.maxX,_=this.maxY,v=n;v<i;v+=2){var g=r[v],y=r[v+1],x=s*g+l*y+f,b=u*y+c*g+h;p=Math.min(p,x-a),m=Math.max(m,x+a),d=Math.min(d,b-o),_=Math.max(_,b+o)}this.minX=p,this.minY=d,this.maxX=m,this.maxY=_},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var CE=function(t,e){return CE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},CE(t,e)};function SA(t,e){CE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bd=function(t){SA(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new l0,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new DF,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new xt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new xt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new DF);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new CEe),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*KT},set:function(r){this.transform.rotation=r*Co},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(Kl),CEe=function(t){SA(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(bd);bd.prototype.displayObjectUpdateTransform=bd.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var UF;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(UF||(UF={}));var jF;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(jF||(jF={}));var $F;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})($F||($F={}));var VF;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(VF||(VF={}));var GF;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(GF||(GF={}));var HF;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(HF||(HF={}));var XF;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(XF||(XF={}));var zF;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(zF||(zF={}));var WF;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(WF||(WF={}));var YF;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(YF||(YF={}));var qF;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(qF||(qF={}));var KF;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(KF||(KF={}));var ZF;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ZF||(ZF={}));var JF;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(JF||(JF={}));var QF;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(QF||(QF={}));var eN;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(eN||(eN={}));var TE;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(TE||(TE={}));var tN;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(tN||(tN={}));var rN;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(rN||(rN={}));function TEe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var nN=function(t){SA(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=Mj.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Ga(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,Ga(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Ga(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(TEe),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==TE.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(bd);nN.prototype.containerUpdateTransform=nN.prototype.updateTransform;var B1=new xt,iN=4,Bj=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,a=!1,o,s=!1;e&&(e instanceof Is?o=e:(o=this.renderer.generateTexture(e),s=!0)),o?(n=o.baseTexture.resolution,i=o.frame,a=!1,r.renderTexture.bind(o)):(n=this.renderer.resolution,a=!0,i=B1,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var c=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),u=new fE(c,l,1),f=new Uint8Array(iN*c*l),h=r.gl;h.readPixels(i.x*n,i.y*n,c,l,h.RGBA,h.UNSIGNED_BYTE,f);var p=u.context.getImageData(0,0,c,l);if(t.arrayPostDivide(f,p.data),u.context.putImageData(p,0,0),a){var d=new fE(u.width,u.height,1);d.context.scale(1,-1),d.context.drawImage(u.canvas,0,-l),u.destroy(),u=d}return s&&o.destroy(!0),u.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,a,o,s=!1;e&&(e instanceof Is?o=e:e instanceof bd&&(o=this.renderer.generateTexture(e),s=!0)),o?r?(i=r.resolution,a=o.frame,n.renderTexture.bind(o)):(i=o.baseTexture.resolution,a=o.frame,n.renderTexture.bind(o)):r?(i=r.resolution,a=B1,a.width=r.width,a.height=r.height,n.renderTexture.bind(null)):(i=n.resolution,a=B1,a.width=n.width,a.height=n.height,n.renderTexture.bind(null));var c=a.width*i,l=a.height*i,u=new Uint8Array(iN*c*l),f=n.gl;return f.readPixels(a.x*i,a.y*i,c,l,f.RGBA,f.UNSIGNED_BYTE,u),s&&o.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var fp=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function aN(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var ho=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof fp))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return aN(this,new fp(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return aN(this,new fp(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof fp))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function Dj(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,c){s&&(i[r.q.name][s]=c)}),i}var D1,hp=null,AEe=0,oN=200,IEe=204,REe=1223,PEe=2;function sN(){}function lN(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function U1(t){return t.toString().replace("object ","")}var Zt=function(){function t(e,r,n){if(this._dequeue=sN,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=sN,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ho,this.onProgress=new ho,this.onComplete=new ho,this.onAfterMiddleware=new ho}return t.setExtensionLoadType=function(e,r){lN(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){lN(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof D1>"u"&&(D1=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),D1&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(U1(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(U1(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(U1(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?oN:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===AEe&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=oN:n===REe&&(n=IEe);var i=n/100|0;if(i===PEe)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,hp||(hp=document.createElement("a")),hp.href=e;var n=Dj(hp.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Zt||(Zt={}));function Gs(){}function OEe(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var kEe=function(){function t(e,r){this.data=e,this.callback=r}return t}(),j1=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=Gs,this.unsaturated=Gs,this.empty=Gs,this.drain=Gs,this.error=Gs,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new kEe(i,typeof o=="function"?o:Gs);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,OEe(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=Gs,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(c){if(c||a===o){n&&n(c);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),$1=100,FEe=/(#[\w-]+)?$/,Si=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this._queue=j1.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new ho,this.onError=new ho,this.onLoad=new ho,this.onStart=new ho,this.onComplete=new ho;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new Zt(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var c=a.progressChunk*(o.length+1),l=c/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=$1/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=Dj(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=FEe.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,j1.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=$1,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),j1.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min($1,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();Si.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var Uj=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Si.shared:new Si},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),jj=function(){function t(){}return t.add=function(){Zt.setExtensionLoadType("svg",Zt.LOAD_TYPE.XHR),Zt.setExtensionXhrType("svg",Zt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===Zt.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;ot.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t}(),NEe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function LEe(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=NEe.charAt(i[a])}return e}function MEe(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Zt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+LEe(t.xhr.responseText),t.type=Zt.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Zt.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}Si.registerPlugin({use:MEe});Si.registerPlugin(jj);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var tr,_t;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(_t||(_t={}));var wd=(tr={},tr[_t.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,tr[_t.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,tr[_t.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,tr[_t.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,tr[_t.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,tr[_t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,tr[_t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,tr[_t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,tr[_t.COMPRESSED_R11_EAC]=.5,tr[_t.COMPRESSED_SIGNED_R11_EAC]=.5,tr[_t.COMPRESSED_RG11_EAC]=1,tr[_t.COMPRESSED_SIGNED_RG11_EAC]=1,tr[_t.COMPRESSED_RGB8_ETC2]=.5,tr[_t.COMPRESSED_RGBA8_ETC2_EAC]=1,tr[_t.COMPRESSED_SRGB8_ETC2]=.5,tr[_t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,tr[_t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,tr[_t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,tr[_t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,tr[_t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,tr[_t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,tr[_t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,tr[_t.COMPRESSED_RGB_ETC1_WEBGL]=.5,tr[_t.COMPRESSED_RGB_ATC_WEBGL]=.5,tr[_t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,tr[_t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,tr);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var AE=function(t,e){return AE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},AE(t,e)};function $j(t,e){AE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function BEe(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(u){a(u)}}function s(l){try{c(n.throw(l))}catch(u){a(u)}}function c(l){l.done?i(l.value):new r(function(u){u(l.value)}).then(o,s)}c((n=n.apply(t,e||[])).next())})}function DEe(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Vj=function(t){$j(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new xd(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return BEe(this,void 0,Promise,function(){var r,n,i;return DEe(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new xd(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Ms),sm=function(t){$j(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,c=this.levels;s<c;s++){var l=this._levelBuffers[s],u=l.levelID,f=l.levelWidth,h=l.levelHeight,p=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,u,this.format,f,h,0,p)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,c){for(var l=new Array(i),u=r.byteOffset,f=s,h=c,p=f+a-1&~(a-1),d=h+o-1&~(o-1),m=p*d*wd[n],_=0;_<i;_++)l[_]={levelID:_,levelWidth:i>1?f:p,levelHeight:i>1?h:d,levelBuffer:new Uint8Array(r.buffer,u,m)},u+=m,f=f>>1||1,h=h>>1||1,p=f+a-1&~(a-1),d=h+o-1&~(o-1),m=p*d*wd[n];return l},e}(Vj),Gj=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===Zt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,c=0,l=a.length;c<l;c++){var u=a[c],f=u.src,h=u.format;if(h||(s=f),t.textureFormats[h]){o=f;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=pl.resolve(e.url.replace(i.baseUrl,""),o),m=n.cacheID;i.add(m,d,p,function(_){if(_.error){r(_.error);return}var v=_.texture,g=v===void 0?null:v,y=_.textures,x=y===void 0?{}:y;Object.assign(e,{texture:g,textures:x}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=document.createElement("canvas"),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function Hj(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new ot(new St(a,Object.assign({mipmap:Ei.OFF,alphaMode:fi.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);St.addToCache(s,c),ot.addToCache(a,c),o===0&&(St.addToCache(s,t),ot.addToCache(a,t),n.texture=a),n.textures[c]=a}),n}var Gf,ea;Zt.setExtensionXhrType("dds",Zt.XHR_RESPONSE_TYPE.BUFFER);var V1=4,dp=124,UEe=32,uN=20,jEe=542327876,pp={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},$Ee={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},vp={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},oa;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(oa||(oa={}));var IE;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(IE||(IE={}));var VEe=1,GEe=2,HEe=4,XEe=64,zEe=512,WEe=131072,YEe=827611204,qEe=861165636,KEe=894720068,ZEe=808540228,JEe=4,QEe=(Gf={},Gf[YEe]=_t.COMPRESSED_RGBA_S3TC_DXT1_EXT,Gf[qEe]=_t.COMPRESSED_RGBA_S3TC_DXT3_EXT,Gf[KEe]=_t.COMPRESSED_RGBA_S3TC_DXT5_EXT,Gf),eSe=(ea={},ea[oa.DXGI_FORMAT_BC1_TYPELESS]=_t.COMPRESSED_RGBA_S3TC_DXT1_EXT,ea[oa.DXGI_FORMAT_BC1_UNORM]=_t.COMPRESSED_RGBA_S3TC_DXT1_EXT,ea[oa.DXGI_FORMAT_BC2_TYPELESS]=_t.COMPRESSED_RGBA_S3TC_DXT3_EXT,ea[oa.DXGI_FORMAT_BC2_UNORM]=_t.COMPRESSED_RGBA_S3TC_DXT3_EXT,ea[oa.DXGI_FORMAT_BC3_TYPELESS]=_t.COMPRESSED_RGBA_S3TC_DXT5_EXT,ea[oa.DXGI_FORMAT_BC3_UNORM]=_t.COMPRESSED_RGBA_S3TC_DXT5_EXT,ea[oa.DXGI_FORMAT_BC1_UNORM_SRGB]=_t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,ea[oa.DXGI_FORMAT_BC2_UNORM_SRGB]=_t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,ea[oa.DXGI_FORMAT_BC3_UNORM_SRGB]=_t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,ea),Xj=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,Hj(e.name||e.url,t.parse(e.data),e.metadata))}catch(n){r(n);return}r()},t.parse=function(e){var r=new Uint32Array(e),n=r[0];if(n!==jEe)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,dp/Uint32Array.BYTES_PER_ELEMENT),a=i[pp.HEIGHT],o=i[pp.WIDTH],s=i[pp.MIPMAP_COUNT],c=new Uint32Array(e,pp.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,UEe/Uint32Array.BYTES_PER_ELEMENT),l=c[VEe];if(l&HEe){var u=c[$Ee.FOURCC];if(u!==ZEe){var f=QEe[u],h=V1+dp,p=new Uint8Array(e,h),d=new sm(p,{format:f,width:o,height:a,levels:s});return[d]}var m=V1+dp,_=new Uint32Array(r.buffer,m,uN/Uint32Array.BYTES_PER_ELEMENT),v=_[vp.DXGI_FORMAT],g=_[vp.RESOURCE_DIMENSION],y=_[vp.MISC_FLAG],x=_[vp.ARRAY_SIZE],b=eSe[v];if(b===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+v);if(y===JEe)throw new Error("DDSLoader does not support cubemap textures");if(g===IE.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var w=new Array,E=V1+dp+uN;if(x===1)w.push(new Uint8Array(e,E));else{for(var S=wd[b],C=0,T=o,I=a,A=0;A<s;A++){var R=Math.max(1,T+3&-4),O=Math.max(1,I+3&-4),F=R*O*S;C+=F,T=T>>>1,I=I>>>1}for(var N=E,A=0;A<x;A++)w.push(new Uint8Array(e,N,C)),N+=C}return w.map(function($){return new sm($,{format:b,width:o,height:a,levels:s})})}throw l&XEe?new Error("DDSLoader does not support uncompressed texture data."):l&zEe?new Error("DDSLoader does not supported YUV uncompressed texture data."):l&WEe?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):l&GEe?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),Oo,ao,Hf;Zt.setExtensionXhrType("ktx",Zt.XHR_RESPONSE_TYPE.BUFFER);var cN=[171,75,84,88,32,49,49,187,13,10,26,10],tSe=67305985,ta={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},G1=64,RE=(Oo={},Oo[tt.UNSIGNED_BYTE]=1,Oo[tt.UNSIGNED_SHORT]=2,Oo[tt.INT]=4,Oo[tt.UNSIGNED_INT]=4,Oo[tt.FLOAT]=4,Oo[tt.HALF_FLOAT]=8,Oo),zj=(ao={},ao[Be.RGBA]=4,ao[Be.RGB]=3,ao[Be.RG]=2,ao[Be.RED]=1,ao[Be.LUMINANCE]=1,ao[Be.LUMINANCE_ALPHA]=2,ao[Be.ALPHA]=1,ao),Wj=(Hf={},Hf[tt.UNSIGNED_SHORT_4_4_4_4]=2,Hf[tt.UNSIGNED_SHORT_5_5_5_1]=2,Hf[tt.UNSIGNED_SHORT_5_6_5]=2,Hf),Yj=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=t.parse(n,e.data),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var c=Hj(n,a,e.metadata);if(s&&c.textures)for(var l in c.textures)c.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,c)}else if(o){var u={};o.forEach(function(f,h){var p=new ot(new St(f.resource,{mipmap:Ei.OFF,alphaMode:fi.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),d=n+"-"+(h+1);s&&(p.baseTexture.ktxKeyValueData=s),St.addToCache(p.baseTexture,d),ot.addToCache(p,d),h===0&&(u[n]=p,St.addToCache(p.baseTexture,n),ot.addToCache(p,n)),u[d]=p}),Object.assign(e,{textures:u})}}catch(f){r(f);return}r()},t.parse=function(e,r){var n=new DataView(r);if(!t.validate(e,n))return null;var i=n.getUint32(ta.ENDIANNESS,!0)===tSe,a=n.getUint32(ta.GL_TYPE,i),o=n.getUint32(ta.GL_FORMAT,i),s=n.getUint32(ta.GL_INTERNAL_FORMAT,i),c=n.getUint32(ta.PIXEL_WIDTH,i),l=n.getUint32(ta.PIXEL_HEIGHT,i)||1,u=n.getUint32(ta.PIXEL_DEPTH,i)||1,f=n.getUint32(ta.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(ta.NUMBER_OF_FACES,i),p=n.getUint32(ta.NUMBER_OF_MIPMAP_LEVELS,i),d=n.getUint32(ta.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var m=4,_=4,v=c+3&-4,g=l+3&-4,y=new Array(f),x=c*l;a===0&&(x=v*g);var b;if(a!==0?RE[a]?b=RE[a]*zj[o]:b=Wj[a]:b=wd[s],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var w=t.loadKeyValueData?t.parseKvData(n,d,i):null,E=x*b,S=E,C=c,T=l,I=v,A=g,R=G1+d,O=0;O<p;O++){for(var F=n.getUint32(R,i),N=R+4,$=0;$<f;$++){var q=y[$];q||(q=y[$]=new Array(p)),q[O]={levelID:O,levelWidth:p>1||a!==0?C:I,levelHeight:p>1||a!==0?T:A,levelBuffer:new Uint8Array(r,N,S)},N+=S}R+=F+4,R=R%4!==0?R+4-R%4:R,C=C>>1||1,T=T>>1||1,I=C+m-1&~(m-1),A=T+_-1&~(_-1),S=I*A*b}return a!==0?{uncompressed:y.map(function(K){var G=K[0].levelBuffer,L=!1;return a===tt.FLOAT?G=new Float32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4):a===tt.UNSIGNED_INT?(L=!0,G=new Uint32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4)):a===tt.INT&&(L=!0,G=new Int32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4)),{resource:new Ms(G,{width:K[0].levelWidth,height:K[0].levelHeight}),type:a,format:L?t.convertFormatToInteger(o):o}}),kvData:w}:{compressed:y.map(function(K){return new sm(null,{format:s,width:c,height:l,levels:p,levelBuffers:K})}),kvData:w}},t.validate=function(e,r){for(var n=0;n<cN.length;n++)if(r.getUint8(n)!==cN[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(e){switch(e){case Be.RGBA:return Be.RGBA_INTEGER;case Be.RGB:return Be.RGB_INTEGER;case Be.RG:return Be.RG_INTEGER;case Be.RED:return Be.RED_INTEGER;default:return e}},t.parseKvData=function(e,r,n){for(var i=new Map,a=0;a<r;){var o=e.getUint32(G1+a,n),s=G1+a+4,c=3-(o+3)%4;if(o===0||o>r-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&e.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(e.buffer,s,l)),f=new DataView(e.buffer,s+l+1,o-l-1);i.set(u,f),a+=4+o+c}return i},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var PE=function(t,e){return PE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},PE(t,e)};function qj(t,e){PE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rSe=function(t){qj(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=Ve.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,vn(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(pn),fN=function(){function t(e,r,n){this.geometry=new pf,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||tt.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new en(XU(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new en(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new en(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===tt.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===tt.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===tt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===tt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),nSe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,iSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Kj=function(t){qj(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new vr,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:tt.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=yo.from(iSe,nSe,{}),n.state=Bs.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var c=r._buffers;c||(c=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture;this.state.blendMode=YT(r.blendMode,l.alphaMode),o.state.set(this.state);var u=o.gl,f=r.worldTransform.copyTo(this.tempMatrix);f.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=HU(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var h=!1,p=0,d=0;p<s;p+=a,d+=1){var m=s-p;m>a&&(m=a),d>=c.length&&c.push(this._generateOneMoreBuffer(r));var _=c[d];_.uploadDynamic(n,p,m);var v=r._bufferUpdateIDs[d]||0;h=h||_._updateID<v,h&&(_._updateID=r._updateID,_.uploadStatic(n,p,m)),o.geometry.bind(_.geometry),u.drawElements(u.TRIANGLES,m*6,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new fN(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new fN(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var c=0,l=0,u=0,f=0,h=0;h<i;++h){var p=r[n+h],d=p._texture,m=p.scale.x,_=p.scale.y,v=d.trim,g=d.orig;v?(l=v.x-p.anchor.x*g.width,c=l+v.width,f=v.y-p.anchor.y*g.height,u=f+v.height):(c=g.width*(1-p.anchor.x),l=g.width*-p.anchor.x,u=g.height*(1-p.anchor.y),f=g.height*-p.anchor.y),a[s]=l*m,a[s+1]=f*_,a[s+o]=c*m,a[s+o+1]=f*_,a[s+o*2]=c*m,a[s+o*2+1]=u*_,a[s+o*3]=l*m,a[s+o*3+1]=u*_,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c],u=l._texture.baseTexture.alphaMode>0,f=l.alpha,h=f<1&&u?n_(l._tintRGB,f):l._tintRGB+(f*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(u0);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mo;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(mo||(mo={}));var go;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(go||(go={}));var Fc={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},CA=function(){function t(){this.color=16777215,this.alpha=1,this.texture=ot.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ot.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var OE=function(t,e){return OE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},OE(t,e)};function TA(t,e){OE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function hN(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],c=t[i-1];o<i;o+=2){var l=t[o],u=t[o+1];a+=(l-s)*(u+c),s=l,c=u}if(!e&&a>0||e&&a<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,p=i-o-1,d=o,m=o+1;r=[t[d],t[h]],t[h]=r[0],t[d]=r[1],n=[t[m],t[p]],t[p]=n[0],t[m]=n[1]}}}var AA={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){hN(r,!1);for(var o=[],s=0;s<n.length;s++){var c=n[s];hN(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}var l=BT(r,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<r.length;s++)i.push(r[s])}}},Ed={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===yr.CIRC){var c=t.shape;r=c.x,n=c.y,o=s=c.radius,i=a=0}else if(t.type===yr.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var u=t.shape,f=u.width/2,h=u.height/2;r=u.x+f,n=u.y+h,o=s=Math.max(0,Math.min(u.radius,Math.min(f,h))),i=f-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var p=Math.ceil(2.3*Math.sqrt(o+s)),d=p*8+(i?4:0)+(a?4:0);if(e.length=d,d!==0){if(p===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var m=0,_=p*4+(i?2:0)+2,v=_,g=d;{var y=i+o,x=a,b=r+y,w=r-y,E=n+x;if(e[m++]=b,e[m++]=E,e[--_]=E,e[--_]=w,a){var S=n-x;e[v++]=w,e[v++]=S,e[--g]=S,e[--g]=b}}for(var C=1;C<p;C++){var T=Math.PI/2*(C/p),y=i+Math.cos(T)*o,x=a+Math.sin(T)*s,b=r+y,w=r-y,E=n+x,S=n-x;e[m++]=b,e[m++]=E,e[--_]=E,e[--_]=w,e[v++]=w,e[v++]=S,e[--g]=S,e[--g]=b}{var y=i,x=a+s,b=r+y,w=r-y,E=n+x,S=n-x;e[m++]=b,e[m++]=E,e[--g]=S,e[--g]=b,i&&(e[m++]=w,e[m++]=E,e[--g]=S,e[--g]=w)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=a,s,c;if(t.type!==yr.RREC){var l=t.shape;s=l.x,c=l.y}else{var u=t.shape;s=u.x+u.width/2,c=u.y+u.height/2}var f=t.matrix;n.push(t.matrix?f.a*s+f.c*c+f.tx:s,t.matrix?f.b*s+f.d*c+f.ty:c),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}},Zj={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function vu(t,e,r){var n=e-t;return t+n*r}function mp(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,c=o,l=0,u=0,f=0,h=0,p=0,d=0,m=0,_=0;m<=s;++m)_=m/s,l=vu(t,r,_),u=vu(e,n,_),f=vu(r,i,_),h=vu(n,a,_),p=vu(l,f,_),d=vu(u,h,_),!(m===0&&c[c.length-2]===p&&c[c.length-1]===d)&&c.push(p,d);return c}var Jj={build:function(t){if(Nc.nextRoundedRectBehavior){Ed.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(mp(n,i+s,n,i,n+s,i,r),mp(n+a-s,i,n+a,i,n+a,i+s,r),mp(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),mp(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(Nc.nextRoundedRectBehavior){Ed.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=BT(r,null,2),s=0,c=o.length;s<c;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,c=r.length;s<c;s++)n.push(r[s],r[++s])}};function dN(t,e,r,n,i,a,o,s){var c=t-r*i,l=e-n*i,u=t+r*a,f=e+n*a,h,p;o?(h=n,p=-r):(h=-n,p=r);var d=c+h,m=l+p,_=u+h,v=f+p;return s.push(d,m),s.push(_,v),2}function mu(t,e,r,n,i,a,o,s){var c=r-t,l=n-e,u=Math.atan2(c,l),f=Math.atan2(i-t,a-e);s&&u<f?u+=Math.PI*2:!s&&u>f&&(f+=Math.PI*2);var h=u,p=f-u,d=Math.abs(p),m=Math.sqrt(c*c+l*l),_=(15*d*Math.sqrt(m)/Math.PI>>0)+1,v=p/_;if(h+=v,s){o.push(t,e),o.push(r,n);for(var g=1,y=h;g<_;g++,y+=v)o.push(t,e),o.push(t+Math.sin(y)*m,e+Math.cos(y)*m);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var g=1,y=h;g<_;g++,y+=v)o.push(t+Math.sin(y)*m,e+Math.cos(y)*m),o.push(t,e);o.push(i,a),o.push(t,e)}return _*2}function aSe(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new It(n[0],n[1]),s=new It(n[n.length-2],n[n.length-1]),c=r.type!==yr.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(c){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,f=(s.y+o.y)*.5;n.unshift(u,f),n.push(u,f)}var h=e.points,p=n.length/2,d=n.length,m=h.length/2,_=a.width/2,v=_*_,g=a.miterLimit*a.miterLimit,y=n[0],x=n[1],b=n[2],w=n[3],E=0,S=0,C=-(x-w),T=y-b,I=0,A=0,R=Math.sqrt(C*C+T*T);C/=R,T/=R,C*=_,T*=_;var O=a.alignment,F=(1-O)*2,N=O*2;c||(a.cap===go.ROUND?d+=mu(y-C*(F-N)*.5,x-T*(F-N)*.5,y-C*F,x-T*F,y+C*N,x+T*N,h,!0)+2:a.cap===go.SQUARE&&(d+=dN(y,x,C,T,F,N,!0,h))),h.push(y-C*F,x-T*F),h.push(y+C*N,x+T*N);for(var $=1;$<p-1;++$){y=n[($-1)*2],x=n[($-1)*2+1],b=n[$*2],w=n[$*2+1],E=n[($+1)*2],S=n[($+1)*2+1],C=-(x-w),T=y-b,R=Math.sqrt(C*C+T*T),C/=R,T/=R,C*=_,T*=_,I=-(w-S),A=b-E,R=Math.sqrt(I*I+A*A),I/=R,A/=R,I*=_,A*=_;var q=b-y,K=x-w,G=b-E,L=S-w,j=K*G-L*q,B=j<0;if(Math.abs(j)<.1){h.push(b-C*F,w-T*F),h.push(b+C*N,w+T*N);continue}var D=(-C+y)*(-T+w)-(-C+b)*(-T+x),J=(-I+E)*(-A+w)-(-I+b)*(-A+S),Q=(q*J-G*D)/j,se=(L*D-K*J)/j,re=(Q-b)*(Q-b)+(se-w)*(se-w),ce=b+(Q-b)*F,Ee=w+(se-w)*F,we=b-(Q-b)*N,pe=w-(se-w)*N,ve=Math.min(q*q+K*K,G*G+L*L),Ae=B?F:N,ke=ve+Ae*Ae*v,Te=re<=ke;Te?a.join===mo.BEVEL||re/v>g?(B?(h.push(ce,Ee),h.push(b+C*N,w+T*N),h.push(ce,Ee),h.push(b+I*N,w+A*N)):(h.push(b-C*F,w-T*F),h.push(we,pe),h.push(b-I*F,w-A*F),h.push(we,pe)),d+=2):a.join===mo.ROUND?B?(h.push(ce,Ee),h.push(b+C*N,w+T*N),d+=mu(b,w,b+C*N,w+T*N,b+I*N,w+A*N,h,!0)+4,h.push(ce,Ee),h.push(b+I*N,w+A*N)):(h.push(b-C*F,w-T*F),h.push(we,pe),d+=mu(b,w,b-C*F,w-T*F,b-I*F,w-A*F,h,!1)+4,h.push(b-I*F,w-A*F),h.push(we,pe)):(h.push(ce,Ee),h.push(we,pe)):(h.push(b-C*F,w-T*F),h.push(b+C*N,w+T*N),a.join===mo.ROUND?B?d+=mu(b,w,b+C*N,w+T*N,b+I*N,w+A*N,h,!0)+2:d+=mu(b,w,b-C*F,w-T*F,b-I*F,w-A*F,h,!1)+2:a.join===mo.MITER&&re/v<=g&&(B?(h.push(we,pe),h.push(we,pe)):(h.push(ce,Ee),h.push(ce,Ee)),d+=2),h.push(b-I*F,w-A*F),h.push(b+I*N,w+A*N),d+=2)}y=n[(p-2)*2],x=n[(p-2)*2+1],b=n[(p-1)*2],w=n[(p-1)*2+1],C=-(x-w),T=y-b,R=Math.sqrt(C*C+T*T),C/=R,T/=R,C*=_,T*=_,h.push(b-C*F,w-T*F),h.push(b+C*N,w+T*N),c||(a.cap===go.ROUND?d+=mu(b-C*(F-N)*.5,w-T*(F-N)*.5,b-C*F,w-T*F,b+C*N,w+T*N,h,!1)+2:a.cap===go.SQUARE&&(d+=dN(b,w,C,T,F,N,!1,h)));for(var Fe=e.indices,Ne=Fc.epsilon*Fc.epsilon,$=m;$<d+m-2;++$)y=h[$*2],x=h[$*2+1],b=h[($+1)*2],w=h[($+1)*2+1],E=h[($+2)*2],S=h[($+2)*2+1],!(Math.abs(y*(w-S)+b*(S-x)+E*(x-w))<Ne)&&Fe.push($,$+1,$+2)}}function oSe(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==yr.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,c=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function kE(t,e){t.lineStyle.native?oSe(t,e):aSe(t,e)}var FE=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],c=o[o.length-1],l=c-r,u=s-e,f=i-r,h=n-e,p=Math.abs(l*h-u*f);if(p<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var d=l*l+u*u,m=f*f+h*h,_=l*f+u*h,v=a*Math.sqrt(d)/p,g=a*Math.sqrt(m)/p,y=v*_/d,x=g*_/m,b=v*h+g*u,w=v*f+g*l,E=u*(g+y),S=l*(g+y),C=h*(v+x),T=f*(v+x),I=Math.atan2(S-w,E-b),A=Math.atan2(T-w,C-b);return{cx:b+e,cy:w+r,radius:a,startAngle:I,endAngle:A,anticlockwise:u*f>h*l}},t.arc=function(e,r,n,i,a,o,s,c,l){for(var u=s-o,f=Fc._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/_d)*40),h=u/(f*2),p=h*2,d=Math.cos(h),m=Math.sin(h),_=f-1,v=_%1/_,g=0;g<=_;++g){var y=g+v*g,x=h+o+p*y,b=Math.cos(x),w=-Math.sin(x);l.push((d*b+m*w)*a+n,(d*-w+m*b)*a+i)}},t}(),Qj=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,c){for(var l=10,u=0,f=0,h=0,p=0,d=0,m=0,_=0,v=0,g=0,y=0,x=0,b=e,w=r,E=1;E<=l;++E)f=E/l,h=f*f,p=h*f,d=1-f,m=d*d,_=m*d,v=_*e+3*m*f*n+3*d*h*a+p*s,g=_*r+3*m*f*i+3*d*h*o+p*c,y=b-v,x=w-g,b=v,w=g,u+=Math.sqrt(y*y+x*x);return u},t.curveTo=function(e,r,n,i,a,o,s){var c=s[s.length-2],l=s[s.length-1];s.length-=2;var u=Fc._segmentsCount(t.curveLength(c,l,e,r,n,i,a,o)),f=0,h=0,p=0,d=0,m=0;s.push(c,l);for(var _=1,v=0;_<=u;++_)v=_/u,f=1-v,h=f*f,p=h*f,d=v*v,m=d*v,s.push(p*c+3*h*v*e+3*f*d*n+m*a,p*l+3*h*v*r+3*f*d*i+m*o)},t}(),e9=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,c=r-2*i+o,l=2*n-2*e,u=2*i-2*r,f=4*(s*s+c*c),h=4*(s*l+c*u),p=l*l+u*u,d=2*Math.sqrt(f+h+p),m=Math.sqrt(f),_=2*f*m,v=2*Math.sqrt(p),g=h/m;return(_*d+m*h*(d-v)+(4*p*f-h*h)*Math.log((2*m+g+d)/(g+v)))/(4*_)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],c=Fc._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,u=0,f=1;f<=c;++f){var h=f/c;l=o+(e-o)*h,u=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,u+(r+(i-r)*h-u)*h)}},t}(),t9=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Hs,ov=(Hs={},Hs[yr.POLY]=AA,Hs[yr.CIRC]=Ed,Hs[yr.ELIP]=Ed,Hs[yr.RECT]=Zj,Hs[yr.RREC]=Jj,Hs),NE=[],ch=[],LE=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),gu=new It,sSe=new kc,r9=function(t){TA(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new kc,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),ch.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),NE.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new LE(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new LE(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,gu):gu.copyFrom(r),a.shape.contains(gu.x,gu.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var c=a.holes[s];if(c.shape.contains(gu.x,gu.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var c=i[s],l=c.fillStyle,u=c.lineStyle,f=ov[c.type];f.build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(l.visible||u.visible)&&this.processHoles(c.holes);for(var h=0;h<2;h++){var p=h===0?l:u;if(p.visible){var d=p.texture.baseTexture,m=this.indices.length,_=this.points.length/2;d.wrapMode=Va.REPEAT,h===0?this.processFill(c):this.processLine(c);var v=this.points.length/2-_;v!==0&&(a&&!this._compareStyles(o,p)&&(a.end(m,_),a=null),a||(a=NE.pop()||new t9,a.begin(p,m,_),this.batches.push(a),o=p),this.addUvs(this.points,n,p.texture,_,v,p.matrix))}}}var g=this.indices.length,y=this.points.length/2;if(a&&a.end(g,y),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var x=y>65535&&r;this.indicesUint16=x?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++St._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),ch.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=ch.pop();o||(o=new am,o.texArray=new om),o.texArray.count=0,o.start=0,o.size=0,o.type=Ai.TRIANGLES;var s=0,c=null,l=0,u=!1,f=Ai.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var p=this.batches[n],d=8,m=p.style,_=m.texture.baseTexture;u!==!!m.native&&(u=!!m.native,f=u?Ai.LINES:Ai.TRIANGLES,c=null,s=d,r++),c!==_&&(c=_,_._batchEnabled!==r&&(s===d&&(r++,s=0,o.size>0&&(o=ch.pop(),o||(o=new am,o.texArray=new om),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),_.touched=1,_._batchEnabled=r,_._batchLocation=s,_.wrapMode=Va.REPEAT,o.texArray.elements[o.texArray.count++]=_,s++)),o.size+=p.size,h+=p.size,l=_._batchLocation,this.addColors(i,m.color,m.alpha,p.attribSize,p.attribStart),this.addTextureIds(a,l,p.attribSize,p.attribStart)}St._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),c=new Uint32Array(o),l=0,u=0;u<r.length/2;u++)s[l++]=r[u*2],s[l++]=r[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],c[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)AA.triangulate(r,this);else{var n=ov[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){kE(r,this);for(var n=0;n<r.holes.length;n++)kE(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=ov[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=sSe,i=vr.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,c=o.type,l=o.lineStyle,u=o.matrix||vr.IDENTITY,f=0;if(l&&l.visible&&(f=l.width,c!==yr.POLY||o.fillStyle.visible?f*=Math.max(0,l.alignment):f*=Math.max(l.alignment,1-l.alignment)),i!==u&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=u),c===yr.RECT||c===yr.RREC){var h=s;n.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,f,f)}else if(c===yr.CIRC){var p=s;n.addFramePad(p.x,p.y,p.x,p.y,p.radius+f,p.radius+f)}else if(c===yr.ELIP){var d=s;n.addFramePad(d.x,d.y,d.x,d.y,d.width+f,d.height+f)}else{var m=s;r.addVerticesMatrix(i,m.points,0,m.points.length,f,f)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),c=n_(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=c},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var c=0,l=n.length,u=i.frame;c<o;){var f=r[(a+c)*2],h=r[(a+c)*2+1];if(s){var p=s.a*f+s.c*h+s.tx;h=s.b*f+s.d*h+s.ty,f=p}c++,n.push(f/u.width,h/u.height)}var d=i.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,c=i+a*2,l=n.frame,u=l.width/o.width,f=l.height/o.height,h=l.x/l.width,p=l.y/l.height,d=Math.floor(r[i]+s),m=Math.floor(r[i+1]+s),_=i+2;_<c;_+=2)d=Math.min(d,Math.floor(r[_]+s)),m=Math.min(m,Math.floor(r[_+1]+s));h-=d,p-=m;for(var _=i;_<c;_+=2)r[_]=(r[_]+h)*u,r[_+1]=(r[_+1]+p)*f},e.BATCHABLE_SIZE=100,e}(wA),n9=function(t){TA(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=go.BUTT,r.join=mo.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(CA),lSe=new Float32Array(3),H1={},Nc=function(t){TA(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new CA,n._lineStyle=new n9,n._matrix=null,n._holeMode=!1,n.state=Bs.for2d(),n._geometry=r||new r9,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=Ve.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:ot.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:go.BUTT,join:mo.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new pc,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new pc,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),e9.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),Qj.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,c=FE.curveTo(r,n,i,a,o,s);if(c){var l=c.cx,u=c.cy,f=c.radius,h=c.startAngle,p=c.endAngle,d=c.anticlockwise;this.arc(l,u,f,h,p,d)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=_d:s&&a<=o&&(a+=_d);var c=o-a;if(c===0)return this;var l=r+Math.cos(a)*i,u=n+Math.sin(a)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var p=Math.abs(h[h.length-2]-l),d=Math.abs(h[h.length-1]-u);p<f&&d<f||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.points;return FE.arc(l,u,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:ot.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:ot.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new xt(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new JU(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new KU(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new ZU(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var c=new pc(a);return c.closeStroke=o,this.drawShape(c),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===yr.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:c,blendMode:n,indices:u,uvs:l,_batchRGB:vn(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,c=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,u=c.length;l<u;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,c=i.count,l=0;l<c;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!H1[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new vr,default:ds.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;H1[i]=new yo(l,c)}n=H1[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=vn(this.tint,lSe),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,c=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(c|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this._geometry.points,f=this.vertexData,h=0,p=0;p<u.length;p+=2){var d=u[p],m=u[p+1];f[h++]=i*d+o*m+c,f[h++]=s*m+a*d+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new It,e}(pn),uSe={buildPoly:AA,buildCircle:Ed,buildRectangle:Zj,buildRoundedRectangle:Jj,buildLine:kE,ArcUtils:FE,BezierUtils:Qj,QuadraticUtils:e9,BatchPart:t9,FILL_COMMANDS:ov,BATCH_POOL:NE,DRAW_CALL_POOL:ch};/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ME=function(t,e){return ME=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ME(t,e)};function cSe(t,e){ME(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Xf=new It,fSe=new Uint16Array([0,1,2,0,2,3]),Xi=function(t){cSe(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new Ko(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Ve.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||ot.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=fSe,n.pluginName="batch",n.isSprite=!0,n._roundPixels=qe.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=vl(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=vl(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this.vertexData,f=r.trim,h=r.orig,p=this._anchor,d=0,m=0,_=0,v=0;if(f?(m=f.x-p._x*h.width,d=m+f.width,v=f.y-p._y*h.height,_=v+f.height):(m=-p._x*h.width,d=m+h.width,v=-p._y*h.height,_=v+h.height),u[0]=i*m+o*v+c,u[1]=s*v+a*m+l,u[2]=i*d+o*v+c,u[3]=s*v+a*d+l,u[4]=i*d+o*_+c,u[5]=s*_+a*d+l,u[6]=i*m+o*_+c,u[7]=s*_+a*m+l,this._roundPixels)for(var g=qe.RESOLUTION,y=0;y<u.length;++y)u[y]=Math.round((u[y]*g|0)/g)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,p=-a._x*i.width,d=p+i.width,m=-a._y*i.height,_=m+i.height;n[0]=s*p+l*m+f,n[1]=u*m+c*p+h,n[2]=s*d+l*m+f,n[3]=u*m+c*d+h,n[4]=s*d+l*_+f,n[5]=u*_+c*d+h,n[6]=s*p+l*_+f,n[7]=u*_+c*p+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new kc),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new xt),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Xf);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return Xf.x>=a&&Xf.x<a+n&&(o=-i*this.anchor.y,Xf.y>=o&&Xf.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof ot?r:ot.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=vl(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=vl(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||ot.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(pn);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var BE=function(t,e){return BE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},BE(t,e)};function hSe(t,e){BE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Lc;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Lc||(Lc={}));var X1={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Lc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},dSe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Dl=function(){function t(e){this.styleID=0,this.reset(),W1(this,e,e)}return t.prototype.clone=function(){var e={};return W1(e,this,X1),new t(e)},t.prototype.reset=function(){W1(this,X1,X1)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=z1(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=z1(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){pSe(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=z1(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&dSe.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function pN(t){return typeof t=="number"?XT(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function z1(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=pN(t[e]);return t}else return pN(t)}function pSe(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function W1(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var wa=function(){function t(e,r,n,i,a,o,s,c,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=c,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d");s.font=a;for(var c=n?t.wordWrap(e,r,i):e,l=c.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),f=0,h=0;h<l.length;h++){var p=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;u[h]=p,f=Math.max(f,p)}var d=f+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var m=r.lineHeight||o.fontSize+r.strokeThickness,_=Math.max(m,o.fontSize+r.strokeThickness)+(l.length-1)*(m+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new t(e,r,d,_,l,u,m+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",c=Object.create(null),l=r.letterSpacing,u=r.whiteSpace,f=t.collapseSpaces(u),h=t.collapseNewlines(u),p=!f,d=r.wordWrapWidth+l,m=t.tokenize(e),_=0;_<m.length;_++){var v=m[_];if(t.isNewline(v)){if(!h){s+=t.addLine(o),p=!f,o="",a=0;continue}v=" "}if(f){var g=t.isBreakingSpace(v),y=t.isBreakingSpace(o[o.length-1]);if(g&&y)continue}var x=t.getFromCache(v,l,c,i);if(x>d)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(v,r.breakWords))for(var b=t.wordWrapSplit(v),w=0;w<b.length;w++){for(var E=b[w],S=1;b[w+S];){var C=b[w+S],T=E[E.length-1];if(!t.canBreakChars(T,C,v,w,r.breakWords))E+=C;else break;S++}w+=E.length-1;var I=t.getFromCache(E,l,c,i);I+a>d&&(s+=t.addLine(o),p=!1,o="",a=0),o+=E,a+=I}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var A=_===m.length-1;s+=t.addLine(v,!A),p=!1,o="",a=0}else x+a>d&&(p=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(v)||p)&&(o+=v,a+=x)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),c=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,c).data,u=l.length,f=o*4,h=0,p=0,d=!1;for(h=0;h<s;++h){for(var m=0;m<f;m+=4)if(l[p+m]!==255){d=!0;break}if(!d)p+=f;else break}for(r.ascent=s-h,p=u-f,d=!1,h=c;h>s;--h){for(var m=0;m<f;m+=4)if(l[p+m]!==255){d=!0;break}if(!d)p-=f;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d");if(n&&n.measureText)return t.__canvas=r,r;e=document.createElement("canvas")}catch{e=document.createElement("canvas")}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();wa._fonts={};wa.METRICS_STRING="|q";wa.BASELINE_SYMBOL="M";wa.BASELINE_MULTIPLIER=1.4;wa.HEIGHT_MULTIPLIER=2;wa._newlines=[10,13];wa._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var vSe={texture:!0,children:!1,baseTexture:!0},IA=function(t){hSe(e,t);function e(r,n,i){var a=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=ot.from(i);return s.orig=new xt,s.trim=new xt,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=qe.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=wa.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,c=a.lines,l=a.lineHeight,u=a.lineWidths,f=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var p,d,m=n.dropShadow?2:1,_=0;_<m;++_){var v=n.dropShadow&&_===0,g=v?Math.ceil(Math.max(1,s)+n.padding*2):0,y=g*this._resolution;if(v){i.fillStyle="black",i.strokeStyle="black";var x=n.dropShadowColor,b=vn(typeof x=="number"?x:zT(x)),w=n.dropShadowBlur*this._resolution,E=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=w,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*E,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*E+y}else i.fillStyle=this._generateFillStyle(n,c,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var S=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(S=0);for(var C=0;C<c.length;C++)p=n.strokeThickness/2,d=n.strokeThickness/2+C*l+h.ascent+S,n.align==="right"?p+=f-u[C]:n.align==="center"&&(p+=(f-u[C])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[C],p+n.padding,d+n.padding-g,!0),n.fill&&this.drawLetterSpacing(c[C],p+n.padding,d+n.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,c=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||c){c&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,u=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,p=0;p<u.length;++p){var d=u[p];a?this.context.strokeText(d,l,i):this.context.fillText(d,l,i);for(var m="",_=p+1;_<u.length;++_)m+=u[_];h=this.context.measureText(m).width,l+=f-h+s,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=WU(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,l=this.canvas.width/this._resolution-s-c*2,u=this.canvas.height/this._resolution-s-c*2,f=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var p=f.length+1,d=1;d<p;++d)h.push(d/p);if(f.unshift(a[0]),h.unshift(0),f.push(a[a.length-1]),h.push(1),r.fillGradientType===Lc.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,c,l/2,u+c);for(var m=i.fontProperties.fontSize+r.strokeThickness,d=0;d<n.length;d++){var _=i.lineHeight*(d-1)+m,v=i.lineHeight*d,g=v;d>0&&_>v&&(g=(v+_)/2);var y=v+m,x=i.lineHeight*(d+1),b=y;d+1<n.length&&x<y&&(b=(y+x)/2);for(var w=(b-g)/u,E=0;E<f.length;E++){var S=0;typeof h[E]=="number"?S=h[E]:S=E/f.length;var C=Math.min(1,Math.max(0,g/u+S*w));C=Number(C.toFixed(5)),o.addColorStop(C,f[E])}}}else{o=this.context.createLinearGradient(c,u/2,l+c,u/2);for(var T=f.length+1,I=1,d=0;d<f.length;d++){var A=void 0;typeof h[d]=="number"?A=h[d]:A=I/T,o.addColorStop(A,f[d]),I++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},vSe,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=vl(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=vl(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof Dl?this._style=r:this._style=new Dl(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(Xi);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */qe.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var DE=function(t,e){return DE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},DE(t,e)};function mSe(t,e){DE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var i9=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function gSe(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof ot){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function _Se(t,e){if(t.baseTexture instanceof St){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function ySe(t,e){if(t._texture&&t._texture instanceof ot){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function xSe(t,e){return e instanceof IA?(e.updateText(!0),!0):!1}function bSe(t,e){if(e instanceof Dl){var r=e.toFontString();return wa.measureFont(r),!0}return!1}function wSe(t,e){if(t instanceof IA){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function ESe(t,e){return t instanceof Dl?(e.indexOf(t)===-1&&e.push(t),!0):!1}var a9=function(){function t(e){var r=this;this.limiter=new i9(qe.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(wSe),this.registerFindHook(ESe),this.registerFindHook(gSe),this.registerFindHook(_Se),this.registerFindHook(ySe),this.registerUploadHook(xSe),this.registerUploadHook(bSe)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,Cn.system.addOnce(this.tick,this,za.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Cn.system.addOnce(this.tick,this,za.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof pn)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&Cn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function o9(t,e){return e instanceof St?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function SSe(t,e){if(!(e instanceof Nc))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&o9(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function CSe(t,e){return t instanceof Nc?(e.push(t),!0):!1}var s9=function(t){mSe(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(CSe),n.registerUploadHook(o9),n.registerUploadHook(SSe),n}return e}(a9),TSe=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var l9=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof ot?e:null,this.baseTexture=e instanceof St?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=gd(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,c=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new xt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new xt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new xt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new xt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ot(this.baseTexture,s,u,c,a.rotated?2:0,a.anchor),ot.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),u9=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==Zt.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var c=function(d){if(typeof d!="string")return"continue";var m=d.replace(".json",""),_=pl.resolve(e.url.replace(a.baseUrl,""),d);if(a.resources[m]||Object.values(a.resources).some(function(g){return pl.format(pl.parse(g.url))===_}))return"continue";var v={crossOrigin:e.crossOrigin,loadType:Zt.LOAD_TYPE.XHR,xhrType:Zt.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(m,_,v)},l=0,u=s;l<u.length;l++){var f=u[l];c(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,a.baseUrl);a.add(o,p,h,function(m){if(m.error){r(m.error);return}var _=new l9(m.texture,e.data,e.url);_.parse(function(){e.spritesheet=_,e.textures=_.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:pl.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var UE=function(t,e){return UE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},UE(t,e)};function c9(t,e){UE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zf=new It,ASe=function(t){c9(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new l0,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new u_(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new xt),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,zf);var n=this._width,i=this._height,a=-n*this.anchor._x;if(zf.x>=a&&zf.x<a+n){var o=-i*this.anchor._y;if(zf.y>=o&&zf.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof ot?r:ot.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(Xi),ISe=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,vN=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,RSe=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,PSe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,OSe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,gp=new vr,f9=function(t){c9(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new oA,n.state=Bs.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=yo.from(vN,ISe,n),this.shader=r.context.webGLVersion>1?yo.from(PSe,OSe,n):yo.from(vN,RSe,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var c=r._texture,l=c.baseTexture,u=r.tileTransform.localTransform,f=r.uvMatrix,h=l.isPowerOfTwo&&c.frame.width===l.width&&c.frame.height===l.height;h&&(l._glTextures[n.CONTEXT_UID]?h=l.wrapMode!==Va.CLAMP:l.wrapMode===Va.CLAMP&&(l.wrapMode=Va.REPEAT));var p=h?this.simpleShader:this.shader,d=c.width,m=c.height,_=r._width,v=r._height;gp.set(u.a*d/_,u.b*d/v,u.c*m/_,u.d*m/v,u.tx/_,u.ty/v),gp.invert(),h?gp.prepend(f.mapCoord):(p.uniforms.uMapCoord=f.mapCoord.toArray(!0),p.uniforms.uClampFrame=f.uClampFrame,p.uniforms.uClampOffset=f.uClampOffset),p.uniforms.uTransform=gp.toArray(!0),p.uniforms.uColor=qT(r.tint,r.worldAlpha,p.uniforms.uColor,l.alphaMode),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=c,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=YT(r.blendMode,l.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(u0);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jE=function(t,e){return jE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},jE(t,e)};function RA(t,e){jE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var h9=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),Y1=new It,mN=new pc,Mc=function(t){RA(e,t);function e(r,n,i,a){a===void 0&&(a=Ai.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||Bs.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=qe.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Ai.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,p=this.vertexData,d=0;d<p.length/2;d++){var m=i[d*2],_=i[d*2+1];p[d*2]=s*m+l*_+f,p[d*2+1]=c*m+u*_+h}if(this._roundPixels)for(var v=qe.RESOLUTION,d=0;d<p.length;++d)p[d]=Math.round((p[d]*v|0)/v);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new h9(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,Y1);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=mN.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,c=0;c+2<o;c+=s){var l=a[c]*2,u=a[c+1]*2,f=a[c+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[f],i[5]=n[f+1],mN.contains(Y1.x,Y1.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(pn),kSe=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,FSe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Bc=function(t){RA(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:vr.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||vf.from(FSe,kSe),a)||this,i._colorDirty=!1,i.uvMatrix=new u_(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;qT(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(yo),f0=function(t){RA(e,t);function e(r,n,i){var a=t.call(this)||this,o=new en(r),s=new en(n,!0),c=new en(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,tt.FLOAT).addAttribute("aTextureCoord",s,2,!1,tt.FLOAT).addIndex(c),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(pf);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $E=function(t,e){return $E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},$E(t,e)};function NSe(t,e){$E(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sd=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),LSe=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var c in o){var l=o[c].split("="),u=l[0],f=l[1].replace(/"/gm,""),h=parseFloat(f),p=isNaN(h)?f:h;s[u]=p}n[a].push(s)}var d=new Sd;return n.info.forEach(function(m){return d.info.push({face:m.face,size:parseInt(m.size,10)})}),n.common.forEach(function(m){return d.common.push({lineHeight:parseInt(m.lineHeight,10)})}),n.page.forEach(function(m){return d.page.push({id:parseInt(m.id,10),file:m.file})}),n.char.forEach(function(m){return d.char.push({id:parseInt(m.id,10),page:parseInt(m.page,10),x:parseInt(m.x,10),y:parseInt(m.y,10),width:parseInt(m.width,10),height:parseInt(m.height,10),xoffset:parseInt(m.xoffset,10),yoffset:parseInt(m.yoffset,10),xadvance:parseInt(m.xadvance,10)})}),n.kerning.forEach(function(m){return d.kerning.push({first:parseInt(m.first,10),second:parseInt(m.second,10),amount:parseInt(m.amount,10)})}),n.distanceField.forEach(function(m){return d.distanceField.push({distanceRange:parseInt(m.distanceRange,10),fieldType:m.fieldType})}),d},t}(),VE=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Sd,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var u=o[l];r.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<c.length;l++)r.distanceField.push({fieldType:c[l].getAttribute("fieldType"),distanceRange:parseInt(c[l].getAttribute("distanceRange"),10)});return r},t}(),MSe=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return VE.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return VE.parse(r)},t}(),q1=[LSe,VE,MSe];function d9(t){for(var e=0;e<q1.length;e++)if(q1[e].test(t))return q1[e];return null}function BSe(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,c=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=t.width/n-c-l*2,f=t.height/n-c-l*2,h=o.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=h.length+1,m=1;m<d;++m)p.push(m/d);if(h.unshift(o[0]),p.unshift(0),h.push(o[o.length-1]),p.push(1),r.fillGradientType===Lc.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,f+l);for(var _=0,v=a.fontProperties.fontSize+r.strokeThickness,g=v/f,m=0;m<i.length;m++)for(var y=a.lineHeight*m,x=0;x<h.length;x++){var b=0;typeof p[x]=="number"?b=p[x]:b=x/h.length;var w=y/f+b*g,E=Math.max(_,w);E=Math.min(E,1),s.addColorStop(E,h[x]),_=E}}else{s=e.createLinearGradient(l,f/2,u+l,f/2);for(var S=h.length+1,C=1,m=0;m<h.length;m++){var T=void 0;typeof p[m]=="number"?T=p[m]:T=C/S,s.addColorStop(T,h[m]),C++}}return s}function DSe(t,e,r,n,i,a,o){var s=r.text,c=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=BSe(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=vn(typeof f=="number"?f:zT(f)),p=o.dropShadowBlur*a,d=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,u+r.lineHeight-c.descent),o.fill&&e.fillText(s,l,u+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function p9(t){return Array.from?Array.from(t):t.split("")}function USe(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,c=o;s<=c;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,p9(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function sv(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var nl=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],c=e.page[0],l=e.distanceField[0],u=gd(c.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var p=e.page[h],d=p.id,m=p.file;f[d]=r instanceof Array?r[h]:r[m],l!=null&&l.fieldType&&l.fieldType!=="none"&&(f[d].baseTexture.alphaMode=fi.NO_PREMULTIPLIED_ALPHA)}for(var h=0;h<e.char.length;h++){var _=e.char[h],d=_.id,v=_.page,g=e.char[h],y=g.x,x=g.y,b=g.width,w=g.height,E=g.xoffset,S=g.yoffset,C=g.xadvance;y/=u,x/=u,b/=u,w/=u,E/=u,S/=u,C/=u;var T=new xt(y+f[v].frame.x/u,x+f[v].frame.y/u,b,w);this.chars[d]={xOffset:E,yOffset:S,xAdvance:C,kerning:{},texture:new ot(f[v].baseTexture,T),page:v}}for(var h=0;h<e.kerning.length;h++){var I=e.kerning[h],A=I.first,R=I.second,O=I.amount;A/=u,R/=u,O/=u,this.chars[R]&&(this.chars[R].kerning[A]=O)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Sd)i=e;else{var a=d9(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof ot&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,c=i.textureWidth,l=i.textureHeight,u=USe(a),f=r instanceof Dl?r:new Dl(r),h=c,p=new Sd;p.info[0]={face:f.fontFamily,size:f.fontSize},p.common[0]={lineHeight:f.fontSize};for(var d=0,m=0,_,v,g,y=0,x=[],b=0;b<u.length;b++){_||(_=document.createElement("canvas"),_.width=c,_.height=l,v=_.getContext("2d"),g=new St(_,{resolution:s}),x.push(new ot(g)),p.page.push({id:x.length-1,file:""}));var w=wa.measureText(u[b],f,!1,_),E=w.width,S=Math.ceil(w.height),C=Math.ceil((f.fontStyle==="italic"?2:1)*E);if(m>=l-S*s){if(m===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+f.fontSize+"px fonts"));--b,_=null,v=null,g=null,m=0,d=0,y=0;continue}if(y=Math.max(S+w.fontProperties.descent,y),C*s+d>=h){--b,m+=y*s,m=Math.ceil(m),d=0,y=0;continue}DSe(_,v,w,d,m,s,f);var T=sv(w.text);p.char.push({id:T,page:x.length-1,x:d/s,y:m/s,width:C,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),d+=(C+2*o)*s,d=Math.ceil(d)}for(var b=0,I=u.length;b<I;b++)for(var A=u[b],R=0;R<I;R++){var O=u[R],F=v.measureText(A).width,N=v.measureText(O).width,$=v.measureText(A+O).width,q=$-(F+N);q&&p.kerning.push({first:sv(A),second:sv(O),amount:q})}var K=new t(p,x,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=K,K},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),jSe=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,$Se=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,VSe=[],GSe=[],gN=[],HSe=function(t){NSe(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,c=a.maxWidth,l=a.letterSpacing,u=a.fontName,f=a.fontSize;if(!nl.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=u,i._fontSize=f||nl.available[u].size,i.text=r,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new Ko(function(){i.dirty=!0},i,0,0),i._roundPixels=qe.ROUND_PIXELS,i.dirty=!0,i._resolution=qe.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=nl.available[this._fontName],i=this._fontSize/n.size,a=new It,o=[],s=[],c=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=p9(l),f=this._maxWidth*n.size/this._fontSize,h=n.distanceFieldType==="none"?VSe:GSe,p=null,d=0,m=0,_=0,v=-1,g=0,y=0,x=0,b=0,w=0;w<u.length;w++){var E=u[w],S=sv(E);if(/(?:\s)/.test(E)&&(v=w,g=d,b++),E==="\r"||E===`
`){s.push(d),c.push(-1),m=Math.max(m,d),++_,++y,a.x=0,a.y+=n.lineHeight,p=null,b=0;continue}var C=n.chars[S];if(C){p&&C.kerning[p]&&(a.x+=C.kerning[p]);var T=gN.pop()||{texture:ot.EMPTY,line:0,charCode:0,prevSpaces:0,position:new It};T.texture=C.texture,T.line=_,T.charCode=S,T.position.x=a.x+C.xOffset+this._letterSpacing/2,T.position.y=a.y+C.yOffset,T.prevSpaces=b,o.push(T),d=T.position.x+Math.max(C.xAdvance,C.texture.orig.width),a.x+=C.xAdvance+this._letterSpacing,x=Math.max(x,C.yOffset+C.texture.height),p=S,v!==-1&&f>0&&a.x>f&&(++y,Ga(o,1+v-y,1+w-v),w=v,v=-1,s.push(g),c.push(o.length>0?o[o.length-1].prevSpaces:0),m=Math.max(m,g),_++,a.x=0,a.y+=n.lineHeight,p=null,b=0)}}var I=u[u.length-1];I!=="\r"&&I!==`
`&&(/(?:\s)/.test(I)&&(d=g),s.push(d),m=Math.max(m,d),c.push(-1));for(var A=[],w=0;w<=_;w++){var R=0;this._align==="right"?R=m-s[w]:this._align==="center"?R=(m-s[w])/2:this._align==="justify"&&(R=c[w]<0?0:(m-s[w])/c[w]),A.push(R)}for(var O=o.length,F={},N=[],$=this._activePagesMeshData,w=0;w<$.length;w++)h.push($[w]);for(var w=0;w<O;w++){var q=o[w].texture,K=q.baseTexture.uid;if(!F[K]){var G=h.pop();if(!G){var L=new f0,j=void 0,B=void 0;n.distanceFieldType==="none"?(j=new Bc(ot.EMPTY),B=Ve.NORMAL):(j=new Bc(ot.EMPTY,{program:vf.from($Se,jSe),uniforms:{uFWidth:0}}),B=Ve.NORMAL_NPM);var D=new Mc(L,j);D.blendMode=B,G={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}G.index=0,G.indexCount=0,G.vertexCount=0,G.uvsCount=0,G.total=0;var J=this._textureCache;J[K]=J[K]||new ot(q.baseTexture),G.mesh.texture=J[K],G.mesh.tint=this._tint,N.push(G),F[K]=G}F[K].total++}for(var w=0;w<$.length;w++)N.indexOf($[w])===-1&&this.removeChild($[w].mesh);for(var w=0;w<N.length;w++)N[w].mesh.parent!==this&&this.addChild(N[w].mesh);this._activePagesMeshData=N;for(var w in F){var G=F[w],Q=G.total;if(!(((r=G.indices)===null||r===void 0?void 0:r.length)>6*Q)||G.vertices.length<Mc.BATCHABLE_SIZE*2)G.vertices=new Float32Array(4*2*Q),G.uvs=new Float32Array(4*2*Q),G.indices=new Uint16Array(6*Q);else for(var se=G.total,re=G.vertices,ce=se*4*2;ce<re.length;ce++)re[ce]=0;G.mesh.size=6*Q}for(var w=0;w<O;w++){var E=o[w],Ee=E.position.x+A[E.line]*(this._align==="justify"?E.prevSpaces:1);this._roundPixels&&(Ee=Math.round(Ee));var we=Ee*i,pe=E.position.y*i,q=E.texture,ve=F[q.baseTexture.uid],Ae=q.frame,ke=q._uvs,Te=ve.index++;ve.indices[Te*6+0]=0+Te*4,ve.indices[Te*6+1]=1+Te*4,ve.indices[Te*6+2]=2+Te*4,ve.indices[Te*6+3]=0+Te*4,ve.indices[Te*6+4]=2+Te*4,ve.indices[Te*6+5]=3+Te*4,ve.vertices[Te*8+0]=we,ve.vertices[Te*8+1]=pe,ve.vertices[Te*8+2]=we+Ae.width*i,ve.vertices[Te*8+3]=pe,ve.vertices[Te*8+4]=we+Ae.width*i,ve.vertices[Te*8+5]=pe+Ae.height*i,ve.vertices[Te*8+6]=we,ve.vertices[Te*8+7]=pe+Ae.height*i,ve.uvs[Te*8+0]=ke.x0,ve.uvs[Te*8+1]=ke.y0,ve.uvs[Te*8+2]=ke.x1,ve.uvs[Te*8+3]=ke.y1,ve.uvs[Te*8+4]=ke.x2,ve.uvs[Te*8+5]=ke.y2,ve.uvs[Te*8+6]=ke.x3,ve.uvs[Te*8+7]=ke.y3}this._textWidth=m*i,this._textHeight=(a.y+n.lineHeight)*i;for(var w in F){var G=F[w];if(this.anchor.x!==0||this.anchor.y!==0)for(var Fe=0,Ne=this._textWidth*this.anchor.x,Je=this._textHeight*this.anchor.y,vt=0;vt<G.total;vt++)G.vertices[Fe++]-=Ne,G.vertices[Fe++]-=Je,G.vertices[Fe++]-=Ne,G.vertices[Fe++]-=Je,G.vertices[Fe++]-=Ne,G.vertices[Fe++]-=Je,G.vertices[Fe++]-=Ne,G.vertices[Fe++]-=Je;this._maxLineHeight=x*i;var Qe=G.mesh.geometry.getBuffer("aVertexPosition"),Ke=G.mesh.geometry.getBuffer("aTextureCoord"),ut=G.mesh.geometry.getIndex();Qe.data=G.vertices,Ke.data=G.uvs,ut.data=G.indices,Qe.update(),Ke.update(),ut.update()}for(var w=0;w<o.length;w++)gN.push(o[w])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=nl.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,c=s.a,l=s.b,u=s.c,f=s.d,h=Math.sqrt(c*c+l*l),p=Math.sqrt(u*u+f*f),d=(Math.abs(h)+Math.abs(p))/2,m=this._fontSize/o,_=0,v=this._activePagesMeshData;_<v.length;_++){var g=v[_];g.mesh.shader.uniforms.uFWidth=d*i*m*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!nl.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(pn),v9=function(){function t(){}return t.add=function(){Zt.setExtensionXhrType("fnt",Zt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=d9(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(m){o[m.metadata.pageFile]=m.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=nl.install(a,o,!0),r())},c=0;c<a.page.length;++c){var l=a.page[c].file,u=i+l,f=!1;for(var h in this.resources){var p=this.resources[h];if(p.url===u){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),f=!0;break}}if(!f){var d={crossOrigin:e.crossOrigin,loadType:Zt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,d,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var GE=function(t,e){return GE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},GE(t,e)};function XSe(t,e){GE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zSe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,m9=function(t){XSe(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,Rj,zSe,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(dt);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var HE=function(t,e){return HE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},HE(t,e)};function g9(t,e){HE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var WSe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function YSe(t,e){var r=Math.ceil(t/2),n=WSe,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var qSe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},KSe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function ZSe(t){for(var e=qSe[t],r=e.length,n=KSe,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var c=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _N;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(_N||(_N={}));var yN;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(yN||(yN={}));var xN;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(xN||(xN={}));var bN;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(bN||(bN={}));var wN;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(wN||(wN={}));var EN;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(EN||(EN={}));var SN;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(SN||(SN={}));var CN;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(CN||(CN={}));var TN;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(TN||(TN={}));var AN;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(AN||(AN={}));var IN;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(IN||(IN={}));var RN;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(RN||(RN={}));var PN;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(PN||(PN={}));var Cd;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Cd||(Cd={}));var ON;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(ON||(ON={}));var kN;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(kN||(kN={}));var FN;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(FN||(FN={}));var NN;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(NN||(NN={}));var LN;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(LN||(LN={}));var Td=function(t){g9(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=qe.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,c=YSe(o,r),l=ZSe(o);return s=t.call(this,c,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,c=n,l=o;this.state.blend=!1,r.applyFilter(this,c,l,Cd.CLEAR);for(var u=1;u<this.passes-1;u++){r.bindAndClear(c,Cd.BLIT),this.uniforms.uSampler=l;var f=l;l=c,c=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(dt),JSe=function(t){g9(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=qe.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new Td(!0,r,n,i,a),o.blurYFilter=new Td(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var c=r.getFilterTexture();this.blurXFilter.apply(r,n,c,Cd.CLEAR),this.blurYFilter.apply(r,c,i,a),r.returnFilterTexture(c)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(dt);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var XE=function(t,e){return XE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},XE(t,e)};function QSe(t,e){XE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var e2e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,zE=function(t){QSe(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,bA,e2e,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,c=o(s),l=i+(1-i)*s,u=s*(1-i)-c*a,f=s*(1-i)+c*a,h=s*(1-i)+c*a,p=i+s*(1-i),d=s*(1-i)-c*a,m=s*(1-i)-c*a,_=s*(1-i)+c*a,v=i+s*(1-i),g=[l,u,f,0,0,h,p,d,0,0,m,_,v,0,0,0,0,0,1,0];this._loadMatrix(g,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,c=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,f=(a>>8&255)/255,h=(a&255)/255,p=[.3,.59,.11,0,0,s,c,l,r,0,u,f,h,n,0,s-u,c-f,l-h,0,0];this._loadMatrix(p,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(dt);zE.prototype.grayscale=zE.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var WE=function(t,e){return WE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},WE(t,e)};function t2e(t,e){WE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var r2e=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,n2e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,i2e=function(t){t2e(e,t);function e(r,n){var i=this,a=new vr;return r.renderable=!1,i=t.call(this,n2e,r2e,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new It(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(dt);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var YE=function(t,e){return YE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},YE(t,e)};function a2e(t,e){YE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var o2e=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,s2e=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,l2e=function(t){a2e(e,t);function e(){return t.call(this,o2e,s2e)||this}return e}(dt);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qE=function(t,e){return qE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qE(t,e)};function u2e(t,e){qE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var c2e=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,f2e=function(t){u2e(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,bA,c2e,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(dt);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var MN;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(MN||(MN={}));var BN;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(BN||(BN={}));var DN;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(DN||(DN={}));var UN;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(UN||(UN={}));var jN;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(jN||(jN={}));var $N;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})($N||($N={}));var VN;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(VN||(VN={}));var GN;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(GN||(GN={}));var HN;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(HN||(HN={}));var XN;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(XN||(XN={}));var zN;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(zN||(zN={}));var WN;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(WN||(WN={}));var YN;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(YN||(YN={}));var qN;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(qN||(qN={}));var KN;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(KN||(KN={}));var ZN;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(ZN||(ZN={}));var JN;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(JN||(JN={}));var KE;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(KE||(KE={}));var QN;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(QN||(QN={}));var _9=new vr;Br.prototype._cacheAsBitmap=!1;Br.prototype._cacheData=null;Br.prototype._cacheAsBitmapResolution=null;Br.prototype._cacheAsBitmapMultisample=KE.NONE;var h2e=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Br.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new h2e),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Br.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Br.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(qe.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),c=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=Is.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+As();this._cacheData.textureCacheId=f,St.addToCache(u.baseTexture,f),ot.addToCache(u,f);var h=this.transform.localTransform.copyTo(_9).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var p=new Xi(u);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(i.x/i.width),p.anchor.y=-(i.y/i.height),p.alpha=n,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}};Br.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Br.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(qe.RESOLUTION);var o=Is.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+As();this._cacheData.textureCacheId=s,St.addToCache(o.baseTexture,s),ot.addToCache(o,s);var c=_9;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new Xi(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};Br.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Br.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Br.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,St.removeFromCache(this._cacheData.textureCacheId),ot.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Br.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Br.prototype.name=null;pn.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=this.children[n].getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Br.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new It),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ZE=function(t,e){return ZE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ZE(t,e)};function mf(t,e){ZE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var y9=function(t){mf(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,c=this.width/o,l=this.height/s,u=0;u<r;u++){var f=u%this.segWidth,h=u/this.segWidth|0;n.push(f*c,h*l),i.push(f/o,h/s)}for(var p=o*s,u=0;u<p;u++){var d=u%o,m=u/o|0,_=m*this.segWidth+d,v=m*this.segWidth+d+1,g=(m+1)*this.segWidth+d,y=(m+1)*this.segWidth+d+1;a.push(_,v,g,v,y,g)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(f0),x9=function(t){mf(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var c=0,l=r[0],u=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var p=h*4;if(this.textureScale>0){var d=l.x-r[h].x,m=l.y-r[h].y,_=Math.sqrt(d*d+m*m);l=r[h],c+=_/u}else c=h/(f-1);o[p]=c,o[p+1]=0,o[p+2]=c,o[p+3]=1}for(var v=0,h=0;h<f-1;h++){var p=h*2;s[v++]=p,s[v++]=p+1,s[v++]=p+2,s[v++]=p+2,s[v++]=p+1,s[v++]=p+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,c=r.length,l=0;l<c;l++){var u=r[l],f=l*4;l<r.length-1?i=r[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=p,o*=p,s[f]=u.x+a,s[f+1]=u.y+o,s[f+2]=u.x-a,s[f+3]=u.y-o,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(f0),d2e=function(t){mf(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new x9(r.height,n,i),s=new Bc(r);return i>0&&(r.baseTexture.wrapMode=Va.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(Mc),b9=function(t){mf(e,t);function e(r,n,i){var a=this,o=new y9(r.width,r.height,n,i),s=new Bc(ot.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(Mc),w9=function(t){mf(e,t);function e(r,n,i,a,o){r===void 0&&(r=ot.EMPTY);var s=this,c=new f0(n,i,a);c.getBuffer("aVertexPosition").static=!1;var l=new Bc(r);return s=t.call(this,c,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(Mc),_p=10,p2e=function(t){mf(e,t);function e(r,n,i,a,o){n===void 0&&(n=_p),i===void 0&&(i=_p),a===void 0&&(a=_p),o===void 0&&(o=_p);var s=t.call(this,ot.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(b9);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var JE=function(t,e){return JE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},JE(t,e)};function v2e(t,e){JE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var E9=function(t){v2e(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof ot?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Cn.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Cn.shared.add(this.update,this,za.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(ot.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(ot.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof ot)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Cn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Cn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Xi);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Io.registerPlugin("accessibility",tj);Io.registerPlugin("extract",Bj);Io.registerPlugin("interaction",aj);Io.registerPlugin("particle",Kj);Io.registerPlugin("prepare",s9);Io.registerPlugin("batch",Fj);Io.registerPlugin("tilingSprite",f9);Si.registerPlugin(v9);Si.registerPlugin(Gj);Si.registerPlugin(Xj);Si.registerPlugin(Yj);Si.registerPlugin(u9);c0.registerPlugin(rj);c0.registerPlugin(Uj);var m2e="6.4.2",S9={AlphaFilter:m9,BlurFilter:JSe,BlurFilterPass:Td,ColorMatrixFilter:zE,DisplacementFilter:i2e,FXAAFilter:l2e,NoiseFilter:f2e};const g2e=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return fi},AbstractBatchRenderer:Pj,AbstractMultiResource:o_,AbstractRenderer:Aj,AccessibilityManager:tj,AnimatedSprite:E9,AppLoaderPlugin:Uj,Application:c0,ArrayResource:QT,Attribute:yE,get BLEND_MODES(){return Ve},get BUFFER_BITS(){return pd},get BUFFER_TYPE(){return _a},BaseImageResource:Wa,BasePrepare:a9,BaseRenderTexture:iA,BaseTexture:St,BatchDrawCall:am,BatchGeometry:wA,BatchPluginFactory:kj,BatchRenderer:Fj,BatchShaderGenerator:Oj,BatchSystem:lA,BatchTextureArray:om,BitmapFont:nl,BitmapFontData:Sd,BitmapFontLoader:v9,BitmapText:HSe,BlobResource:Vj,Bounds:kc,Buffer:en,BufferResource:Ms,get CLEAR_MODES(){return co},CanvasResource:s_,Circle:KU,CompressedTextureLoader:Gj,CompressedTextureResource:sm,Container:pn,ContextSystem:uA,CountLimiter:i9,CubeResource:eA,DDSLoader:Xj,DEG_TO_RAD:Co,get DRAW_MODES(){return Ai},DisplayObject:Br,get ENV(){return Xa},Ellipse:ZU,Extract:Bj,get FORMATS(){return Be},FORMATS_TO_COMPONENTS:zj,FillStyle:CA,Filter:dt,FilterState:uj,FilterSystem:sA,Framebuffer:im,FramebufferSystem:cA,get GC_MODES(){return nm},GLFramebuffer:cj,GLProgram:Sj,GLTexture:av,GRAPHICS_CURVES:Fc,Geometry:pf,GeometrySystem:fA,Graphics:Nc,GraphicsData:LE,GraphicsGeometry:r9,IGLUniformData:tEe,INSTALLED:yd,get INTERNAL_FORMATS(){return _t},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:wd,ImageBitmapResource:nA,ImageResource:l_,InteractionData:vE,InteractionEvent:nj,InteractionManager:aj,InteractionTrackingData:iv,KTXLoader:Yj,get LINE_CAP(){return go},get LINE_JOIN(){return mo},LineStyle:n9,Loader:Si,get LoaderResource(){return Zt},get MASK_TYPES(){return Nn},get MIPMAP_MODES(){return Ei},get MSAA_QUALITY(){return Hr},MaskData:fj,MaskSystem:hA,Matrix:vr,Mesh:Mc,MeshBatchUvs:h9,MeshGeometry:f0,MeshMaterial:Bc,NineSlicePlane:p2e,ObjectRenderer:u0,ObservablePoint:Ko,PI_2:_d,get PRECISION(){return ma},ParticleContainer:rSe,ParticleRenderer:Kj,PlaneGeometry:y9,Point:It,Polygon:pc,Prepare:s9,Program:vf,ProjectionSystem:vA,Quad:lj,QuadUv:oA,RAD_TO_DEG:KT,get RENDERER_TYPE(){return Oc},Rectangle:xt,RenderTexture:Is,RenderTexturePool:sj,RenderTextureSystem:mA,Renderer:Io,Resource:Bl,RopeGeometry:x9,RoundedRectangle:JU,Runner:Dn,get SAMPLER_TYPES(){return vd},get SCALE_MODES(){return Gn},get SHAPES(){return yr},SVGResource:tA,ScissorSystem:dA,Shader:yo,ShaderSystem:gA,SimpleMesh:w9,SimplePlane:b9,SimpleRope:d2e,Sprite:Xi,SpriteMaskFilter:_j,Spritesheet:l9,SpritesheetLoader:u9,State:Bs,StateSystem:_A,StencilSystem:pA,System:gEe,get TARGETS(){return hs},get TEXT_GRADIENT(){return Lc},get TYPES(){return tt},TYPES_TO_BYTES_PER_COMPONENT:RE,TYPES_TO_BYTES_PER_PIXEL:Wj,TemporaryDisplayObject:JT,Text:IA,TextMetrics:wa,TextStyle:Dl,Texture:ot,TextureGCSystem:yA,TextureLoader:jj,TextureMatrix:u_,TextureSystem:xA,TextureUvs:aA,Ticker:Cn,TickerPlugin:rj,TilingSprite:ASe,TilingSpriteRenderer:f9,TimeLimiter:TSe,Transform:l0,get UPDATE_PRIORITY(){return za},UniformGroup:ds,VERSION:m2e,VideoResource:rA,ViewableBuffer:xd,get WRAP_MODES(){return Va},accessibleTarget:ej,autoDetectRenderer:Ij,autoDetectResource:a_,checkMaxIfStatementsInShader:gj,createUBOElements:bj,defaultFilterVertex:bA,defaultVertex:Rj,filters:S9,generateProgram:Cj,generateUniformBufferSync:Ej,getTestContext:pj,getUBOData:wj,graphicsUtils:uSe,groupD8:mr,interactiveTarget:ij,isMobile:zi,resources:Nj,settings:qe,systems:Lj,uniformParsers:Tl,utils:mwe},Symbol.toStringTag,{value:"Module"}));let yp;const _2e=new Uint8Array(16);function y2e(){if(!yp&&(yp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yp(_2e)}const Fn=[];for(let t=0;t<256;++t)Fn.push((t+256).toString(16).slice(1));function x2e(t,e=0){return Fn[t[e+0]]+Fn[t[e+1]]+Fn[t[e+2]]+Fn[t[e+3]]+"-"+Fn[t[e+4]]+Fn[t[e+5]]+"-"+Fn[t[e+6]]+Fn[t[e+7]]+"-"+Fn[t[e+8]]+Fn[t[e+9]]+"-"+Fn[t[e+10]]+Fn[t[e+11]]+Fn[t[e+12]]+Fn[t[e+13]]+Fn[t[e+14]]+Fn[t[e+15]]}const b2e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eL={randomUUID:b2e};function Wf(t,e,r){if(eL.randomUUID&&!e&&!t)return eL.randomUUID();t=t||{};const n=t.random||(t.rng||y2e)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return x2e(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QE=function(t,e){return QE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},QE(t,e)};function w2e(t,e){QE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var E2e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,S2e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,C2e=function(t){w2e(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,E2e,S2e)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}(dt);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eS=function(t,e){return eS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eS(t,e)};function T2e(t,e){eS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var A2e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,I2e=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,R2e=function(t){T2e(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,A2e,I2e)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}(dt);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tS=function(t,e){return tS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},tS(t,e)};function P2e(t,e){tS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var O2e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,k2e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,F2e=function(t){P2e(e,t);function e(r){var n=t.call(this,O2e,k2e)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}(dt);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rS=function(t,e){return rS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},rS(t,e)};function N2e(t,e){rS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var L2e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,M2e=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,B2e=function(t){N2e(e,t);function e(r){var n=t.call(this,L2e,M2e)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=ot.from(n._canvas,{scaleMode:Gn.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,c=0;c<n;c++){var l=s/(o-c),u=Math.max(l*(1-Math.random()*.6),a);r[c]=u,s-=u}r[n]=s}else{for(var s=1,f=Math.sqrt(1/this._slices),c=0;c<n;c++){var u=Math.max(f*s*Math.random(),a);r[c]=u,s-=u}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var c=this._sizes[s]*r,l=a>0?a:0,u=a<0?-a:0;i.fillStyle="rgba("+l+", "+u+", 0, 1)",i.fillRect(0,o>>0,r,c+1>>0),o+=c}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*Co;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}(dt);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nS=function(t,e){return nS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nS(t,e)};function D2e(t,e){nS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var U2e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,j2e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,$2e=function(t){D2e(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,U2e,j2e)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}(dt);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iS=function(t,e){return iS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iS(t,e)};function V2e(t,e){iS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var G2e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,H2e=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,X2e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,z2e=function(t){V2e(e,t);function e(r){var n=t.call(this,G2e,X2e.replace("${perlin}",H2e))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new It,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*Co;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}(dt);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aS=function(t,e){return aS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},aS(t,e)};function W2e(t,e){aS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Y2e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,q2e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){W2e(e,t);function e(r){var n=t.call(this,Y2e,q2e)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})(dt);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oS=function(t,e){return oS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},oS(t,e)};function K2e(t,e){oS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Z2e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,J2e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,Q2e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,lm=function(t){K2e(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,Z2e,i?Q2e:J2e)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new It,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,c;if(this._quality===1||this._blur===0)c=this._kernels[0]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),u=n,f=l,h=void 0,p=this._quality-1,d=0;d<p;d++)c=this._kernels[d]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,f,1),h=u,u=f,f=h;c=this._kernels[p]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof It?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}(dt);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sS=function(t,e){return sS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},sS(t,e)};function C9(t,e){sS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var T9=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,eCe=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,tCe=function(t){C9(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,T9,eCe)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}(dt),rCe=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){C9(e,t);function e(r){var n=t.call(this,T9,rCe)||this;n.bloomScale=1,n.brightness=1,n._resolution=qe.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;return n._extractFilter=new tCe(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new lm(a):new lm(o,s),n.pixelSize=c,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var c=r.getFilterTexture();this._blurFilter.apply(r,s,c,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=c,r.applyFilter(this,n,i,a),r.returnFilterTexture(c),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:qe.FILTER_RESOLUTION},e})(dt);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lS=function(t,e){return lS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lS(t,e)};function nCe(t,e){lS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var iCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,aCe=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){nCe(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,iCe,aCe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uS=function(t,e){return uS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},uS(t,e)};function oCe(t,e){uS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,lCe=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){oCe(e,t);function e(r){var n=t.call(this,sCe,lCe)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/Co},set:function(r){this._angle=r*Co,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return ui(this.uniforms.lightColor)},set:function(r){vn(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return ui(this.uniforms.shadowColor)},set:function(r){vn(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cS=function(t,e){return cS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},cS(t,e)};function uCe(t,e){cS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){uCe(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=qe.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,c;return typeof r=="number"?(s=r,c=r):r instanceof It?(s=r.x,c=r.y):Array.isArray(r)&&(s=r[0],c=r[1]),o.blurXFilter=new Td(!0,s,n,i,a),o.blurYFilter=new Td(!1,c,n,i,a),o.blurYFilter.blendMode=Ve.SCREEN,o.defaultFilter=new m9,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fS=function(t,e){return fS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},fS(t,e)};function cCe(t,e){fS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,hCe=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){cCe(e,t);function e(r){var n=t.call(this,fCe,hCe)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})(dt);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hS=function(t,e){return hS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},hS(t,e)};function dCe(t,e){hS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var pCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,vCe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){dCe(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,pCe,vCe)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof ot||(r=ot.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=Ei.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?Gn.NEAREST:Gn.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=Ei.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})(dt);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dS=function(t,e){return dS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},dS(t,e)};function mCe(t,e){dS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,_Ce=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){mCe(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,gCe,_Ce)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(vn(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=ui(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pS=function(t,e){return pS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pS(t,e)};function yCe(t,e){pS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var xCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,bCe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){yCe(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,xCe,bCe)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(vn(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=ui(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(vn(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=ui(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vS=function(t,e){return vS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},vS(t,e)};function wCe(t,e){vS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ECe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,SCe=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){wCe(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,ECe,SCe)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mS=function(t,e){return mS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},mS(t,e)};function CCe(t,e){mS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var TCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ACe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){CCe(e,t);function e(){return t.call(this,TCe,ACe)||this}return e})(dt);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gS=function(t,e){return gS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},gS(t,e)};function ICe(t,e){gS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var RCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,PCe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){ICe(e,t);function e(r){var n=t.call(this,RCe,PCe)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})(dt);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _S=function(t,e){return _S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_S(t,e)};function OCe(t,e){_S(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var um=function(){return um=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},um.apply(this,arguments)},kCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,FCe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){OCe(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=qe.FILTER_RESOLUTION;var i=r?um(um({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;n._tintFilter=new dt(kCe,FCe),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new It,n._tintFilter.resolution=l,n._blurFilter=a?new lm(a):new lm(o,s),n.pixelSize=c,n.resolution=l;var u=i.shadowOnly,f=i.rotation,h=i.distance,p=i.alpha,d=i.color;return n.shadowOnly=u,n.rotation=f,n.distance=h,n.alpha=p,n.color=d,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/Co},set:function(r){this.angle=r*Co,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return ui(this._tintFilter.uniforms.color)},set:function(r){vn(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:qe.FILTER_RESOLUTION},e})(dt);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yS=function(t,e){return yS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yS(t,e)};function NCe(t,e){yS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var LCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,MCe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){NCe(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,LCe,MCe)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xS=function(t,e){return xS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xS(t,e)};function BCe(t,e){xS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var DCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,UCe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){BCe(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,c=i.knockout,l=i.quality,u=Math.round(i.distance);return n=t.call(this,DCe,UCe.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/u).toFixed(7)).replace(/__DIST__/gi,u.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:u,knockout:c}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return ui(this.uniforms.glowColor)},set:function(r){vn(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})(dt);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bS=function(t,e){return bS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},bS(t,e)};function jCe(t,e){bS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $Ce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,VCe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){jCe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,$Ce,VCe)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new Ko(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,c=o.y;this.uniforms.uKernelSize=s!==0||c!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wS=function(t,e){return wS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wS(t,e)};function GCe(t,e){wS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var HCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,XCe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){GCe(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,HCe,XCe.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],c=s[0];typeof c=="number"?c=vn(c):s[0]=ui(c),n[o*3]=c[0],n[o*3+1]=c[1],n[o*3+2]=c[2];var l=s[1];typeof l=="number"?l=vn(l):s[1]=ui(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ES=function(t,e){return ES=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ES(t,e)};function zCe(t,e){ES(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var WCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,YCe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){zCe(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,WCe,YCe.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return ui(this.uniforms.outlineColor)},set:function(r){vn(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})(dt);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SS=function(t,e){return SS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},SS(t,e)};function qCe(t,e){SS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var KCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ZCe=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){qCe(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,KCe,ZCe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CS=function(t,e){return CS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},CS(t,e)};function JCe(t,e){CS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var QCe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,eTe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){JCe(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,QCe,eTe)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TS=function(t,e){return TS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},TS(t,e)};function tTe(t,e){TS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rTe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,nTe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,iTe=function(t){tTe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,rTe,nTe)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}(dt);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AS=function(t,e){return AS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},AS(t,e)};function aTe(t,e){AS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oTe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,sTe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){aTe(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,oTe,sTe)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(vn(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=ui(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var IS=function(t,e){return IS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},IS(t,e)};function c_(t,e){IS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lTe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,uTe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,A9=function(t){c_(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,lTe,uTe)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new It(0,window.innerHeight/2),o.uniforms.end=a||new It(600,window.innerHeight/2),o.uniforms.delta=new It(30,30),o.uniforms.texSize=new It(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}(dt),cTe=function(t){c_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(A9),fTe=function(t){c_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(A9);(function(t){c_(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new cTe(r,n,i,a),o.tiltShiftYFilter=new fTe(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})(dt);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var RS=function(t,e){return RS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},RS(t,e)};function hTe(t,e){RS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dTe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,pTe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){hTe(e,t);function e(r){var n=t.call(this,dTe,pTe)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new It},e})(dt);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var PS=function(t,e){return PS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},PS(t,e)};function vTe(t,e){PS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function mTe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var gTe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,_Te=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){vTe(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=mTe(i,["maxKernelSize"]);return n=t.call(this,gTe,_Te.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})(dt);const OS="shockwaveFilter";function yTe(t,e){const r=t.containerFilters.get(OS);if(r)return r;if(e){const n=new iTe([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(OS,n),n}}function xTe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function bTe(t,e){if(e===0)t.removeFilter(OS);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const kS=0,FS="radiusAlphaFilter";class wTe extends dt{constructor(e,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new It(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function ETe(t,e){const r=t.containerFilters.get(FS);if(r)return r;if(e){const n=new wTe(new It(.5,.5),kS);return n.radius=kS,t.addFilter(n),t.containerFilters.set(FS,n),n}}function STe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:kS}function CTe(t,e){if(e===0)t.removeFilter(FS);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class K1 extends pn{constructor(){super();Xe(this,"containerFilters",new Map);Xe(this,"baseX",0);Xe(this,"baseY",0)}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new S9.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new C2e;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new R2e;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new F2e;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new B2e;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new $2e;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new z2e;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return yTe(this,r)}get shockwaveFilter(){return xTe(this)}set shockwaveFilter(r){bTe(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return ETe(this,r)}get radiusAlphaFilter(){return STe(this)}set radiusAlphaFilter(r){CTe(this,r)}}var yt;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})(yt||(yt={}));var cm=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),H;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(H||(H={}));var mt;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(mt||(mt={}));var xr;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(xr||(xr={}));var Mr;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(Mr||(Mr={}));var ft;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})(ft||(ft={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NS=function(t,e){return NS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},NS(t,e)};function gf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");NS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function tL(t){switch(t.toLowerCase()){case"nearest":return si.Nearest;case"linear":return si.Linear;case"mipmap":return si.MipMap;case"mipmapnearestnearest":return si.MipMapNearestNearest;case"mipmaplinearnearest":return si.MipMapLinearNearest;case"mipmapnearestlinear":return si.MipMapNearestLinear;case"mipmaplinearlinear":return si.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var si;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(si||(si={}));var Zo;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(Zo||(Zo={}));var LS=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),TTe=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),ATe=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new rL,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=si.Nearest,i.uWrap=Zo.ClampToEdge,i.vWrap=Zo.ClampToEdge,n.push(i)}var s=new nL;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new ITe(e),o=new Array(4),s=null,c={},l=null;c.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},c.format=function(){},c.filter=function(){s.minFilter=tL(o[1]),s.magFilter=tL(o[2])},c.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=Zo.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=Zo.Repeat)},c.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var p=o[1],d=0;p.toLocaleLowerCase()=="true"?d=6:p.toLocaleLowerCase()=="false"?d=0:d=(720-parseFloat(p))%360/45,l.rotate=d},u.index=function(){l.index=parseInt(o[1])};for(var f=a.readLine();f!=null&&f.trim().length==0;)f=a.readLine();for(;!(f==null||f.trim().length==0||a.readEntry(o,f)==0);)f=a.readLine();var h=function(){for(;;){if(f==null)return n&&n(i);if(f.trim().length==0)s=null,f=a.readLine();else if(s===null){for(s=new rL,s.name=f.trim();a.readEntry(o,f=a.readLine())!=0;){var p=c[o[0]];p&&p()}i.pages.push(s),r(s.name,function(C){if(C===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=C,s.pma&&(C.alphaMode=fi.PMA),C.valid||C.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=C.realWidth,s.height=C.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new TTe;var d=new nL;d.name=f,d.page=s;for(var m=null,_=null;;){var v=a.readEntry(o,f=a.readLine());if(v==0)break;var p=u[o[0]];if(p)p();else{m==null&&(m=[],_=[]),m.push(o[0]);for(var g=[],y=0;y<v;y++)g.push(parseInt(o[y+1]));_.push(g)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var x=s.baseTexture.resolution;l.x/=x,l.y/=x,l.width/=x,l.height/=x,l.originalWidth/=x,l.originalHeight/=x,l.offsetX/=x,l.offsetY/=x;var b=l.rotate%4!==0,w=new xt(l.x,l.y,b?l.height:l.width,b?l.width:l.height),E=new xt(0,0,l.originalWidth,l.originalHeight),S=new xt(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);d.texture=new ot(d.page.baseTexture,w,E,S,l.rotate),d.index=l.index,d.texture.updateUvs(),i.regions.push(d)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),ITe=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),rL=function(){function t(){this.minFilter=si.Nearest,this.magFilter=si.Nearest,this.uWrap=Zo.ClampToEdge,this.vWrap=Zo.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==si.Linear?e.scaleMode=Gn.LINEAR:this.minFilter==si.Nearest?e.scaleMode=Gn.NEAREST:(e.mipmap=Ei.POW2,r==si.MipMapNearestNearest?e.scaleMode=Gn.NEAREST:e.scaleMode=Gn.LINEAR)},t}(),nL=function(t){gf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(LS),RTe=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),PTe=Math.fround||RTe,I9=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),R9=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),Me=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),W=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),OTe=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),kTe=function(t){gf(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(OTe),P9=function(t){gf(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(kTe),oe=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?PTe(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),f_=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),Ad=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),PA=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new f_(function(){return oe.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var c=0;c<s;c++){var l=o[c];if(l.bone.active){var u=l.getAttachment();if(u!=null&&u.type===yt.BoundingBox){var f=u;n.push(f);var h=a.obtain();h.length!=f.worldVerticesLength&&(h=oe.newFloatArray(f.worldVerticesLength)),i.push(h),f.computeWorldVertices(l,0,f.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var c=a[o],l=c,u=0,f=c.length;u<f;u+=2){var h=l[u],p=l[u+1];e=Math.min(e,h),r=Math.min(r,p),n=Math.max(n,h),i=Math.max(i,p)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,c=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=c&&i>=c)return!1;var l=(i-r)/(n-e),u=l*(a-e)+r;if(u>o&&u<c||(u=l*(s-e)+r,u>o&&u<c))return!0;var f=(o-r)/l+e;return f>a&&f<s||(f=(c-r)/l+e,f>a&&f<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,c=0;c<a;c+=2){var l=i[c+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var f=i[c];f+(n-l)/(u-l)*(i[o]-f)<r&&(s=!s)}o=c}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,c=r-i,l=n-a,u=r*a-n*i,f=o[s-2],h=o[s-1],p=0;p<s;p+=2){var d=o[p],m=o[p+1],_=f*m-h*d,v=f-d,g=h-m,y=c*g-l*v,x=(u*v-c*_)/y;if((x>=f&&x<=d||x>=d&&x<=f)&&(x>=r&&x<=i||x>=i&&x<=r)){var b=(u*g-l*_)/y;if((b>=h&&b<=m||b>=m&&b<=h)&&(b>=n&&b<=a||b>=a&&b<=n))return!0}f=d,h=m}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),FTe={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},ko=[0,0,0],NTe=function(t){gf(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}(Xi),LTe=function(t){gf(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(w9),h0=function(t){gf(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),c=n.newContainer();if(n.slotContainers.push(c),n.addChild(c),n.tempClipContainers.push(null),!!s)if(s.type===yt.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,c.addChild(u)}else if(s.type===yt.Mesh){var f=n.createMesh(o,s);o.currentMesh=f,o.currentMeshId=s.id,o.currentMeshName=s.name,c.addChild(f)}else s.type===yt.Clipping&&(n.createGraphics(o,s),c.addChild(o.clippingContainer),c.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:pn.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return ui(this.tintRgb)},set:function(r){this.tintRgb=vn(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:FTe.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,c=null;o?(s=o.light,c=o.dark):s=this.tintRgb;for(var l=0,u=a.length;l<u;l++){var f=a[l],h=f.getAttachment(),p=this.slotContainers[l];if(!h){p.visible=!1;continue}var d=null;h.sequence&&h.sequence.apply(f,h);var m=h.region,_=h.color;switch(h!=null&&h.type){case yt.Region:var v=p.transform;if(v.setFromMatrix(f.bone.matrix),m=h.region,f.currentMesh&&(f.currentMesh.visible=!1,f.currentMesh=null,f.currentMeshId=void 0,f.currentMeshName=void 0),!m){f.currentSprite&&(f.currentSprite.renderable=!1);break}if(!f.currentSpriteName||f.currentSpriteName!==h.name){var g=h.name;if(f.currentSprite&&(f.currentSprite.visible=!1),f.sprites=f.sprites||{},f.sprites[g]!==void 0)f.sprites[g].visible=!0;else{var y=this.createSprite(f,h,g);p.addChild(y)}f.currentSprite=f.sprites[g],f.currentSpriteName=g}f.currentSprite.renderable=!0,f.hackRegion||this.setSpriteRegion(h,f.currentSprite,m),f.currentSprite.color?d=f.currentSprite.color:(ko[0]=s[0]*f.color.r*_.r,ko[1]=s[1]*f.color.g*_.g,ko[2]=s[2]*f.color.b*_.b,f.currentSprite.tint=ui(ko)),f.currentSprite.blendMode=f.blendMode;break;case yt.Mesh:if(f.currentSprite){f.currentSprite.visible=!1,f.currentSprite=null,f.currentSpriteName=void 0;var x=new l0;x._parentID=-1,x._worldID=p.transform._worldID,p.transform=x}if(!m){f.currentMesh&&(f.currentMesh.renderable=!1);break}var b=h.id;if(f.currentMeshId===void 0||f.currentMeshId!==b){var w=b;if(f.currentMesh&&(f.currentMesh.visible=!1),f.meshes=f.meshes||{},f.meshes[w]!==void 0)f.meshes[w].visible=!0;else{var E=this.createMesh(f,h);p.addChild(E)}f.currentMesh=f.meshes[w],f.currentMeshName=h.name,f.currentMeshId=w}f.currentMesh.renderable=!0,h.computeWorldVerticesOld(f,f.currentMesh.vertices),f.currentMesh.color?d=f.currentMesh.color:(ko[0]=s[0]*f.color.r*_.r,ko[1]=s[1]*f.color.g*_.g,ko[2]=s[2]*f.color.b*_.b,f.currentMesh.tint=ui(ko)),f.currentMesh.blendMode=f.blendMode,f.hackRegion||this.setMeshRegion(h,f.currentMesh,m);break;case yt.Clipping:f.currentGraphics||(this.createGraphics(f,h),p.addChild(f.clippingContainer),p.addChild(f.currentGraphics)),this.updateGraphics(f,h),p.alpha=1,p.visible=!0;continue;default:p.visible=!1;continue}if(p.visible=!0,d){var S=f.color.r*_.r,C=f.color.g*_.g,T=f.color.b*_.b;d.setLight(s[0]*S+c[0]*(1-S),s[1]*C+c[1]*(1-C),s[2]*T+c[2]*(1-T)),f.darkColor?(S=f.darkColor.r,C=f.darkColor.g,T=f.darkColor.b):(S=0,C=0,T=0),d.setDark(s[0]*S+c[0]*(1-S),s[1]*C+c[1]*(1-C),s[2]*T+c[2]*(1-T))}p.alpha=f.color.a}for(var I=this.skeleton.drawOrder,A=null,R=null,l=0,u=I.length;l<u;l++){var f=a[I[l].data.index],p=this.slotContainers[I[l].data.index];if(R||p.parent!==null&&p.parent!==this&&(p.parent.removeChild(p),p.parent=this),f.currentGraphics&&f.getAttachment())R=f.clippingContainer,A=f.getAttachment(),R.children.length=0,this.children[l]=p,A.endSlot===f.data&&(A.endSlot=null);else if(R){var O=this.tempClipContainers[l];O||(O=this.tempClipContainers[l]=this.newContainer(),O.visible=!1),this.children[l]=O,p.parent=null,R.addChild(p),A.endSlot==f.data&&(R.renderable=!0,R=null,A=null)}else this.children[l]=p}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*W.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}pn.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),Ai.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new pc([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new LS,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var c=this.skeleton.slots[o];if(!c)return!1;var l=c.getAttachment();if(n===l.name){var u=s.region;return i?(u=new LS,u.texture=i,u.size=a,c.hackRegion=u,c.hackAttachment=l):(c.hackRegion=null,c.hackAttachment=null),c.currentSprite&&c.currentSprite.region!=u?(this.setSpriteRegion(l,c.currentSprite,u),c.currentSprite.region=u):c.currentMesh&&c.currentMesh.region!=u&&this.setMeshRegion(l,c.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new pn},e.prototype.newSprite=function(r){return new NTe(r)},e.prototype.newGraphics=function(){return new Nc},e.prototype.newMesh=function(r,n,i,a,o){return new LTe(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,c=this.skeleton.slots.length;s<c;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",f=l.currentSprite||l.currentMesh;u.endsWith(r)?(f.parentGroup=n,o.push(f)):i&&f&&(f.parentGroup=i,a.push(f))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(pn);Object.defineProperty(h0.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function MTe(t){return t.type===Zt.TYPE.JSON}function BTe(t){return t.xhrType===Zt.XHR_RESPONSE_TYPE.BUFFER}Zt.setExtensionXhrType("skel",Zt.XHR_RESPONSE_TYPE.BUFFER);var DTe=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=MTe(r)&&r.data.bones,a=BTe(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var c=r.metadata||{},l=c?c.spineSkeletonScale:null;l&&(o.scale=l);var u=c.spineAtlas;if(u===!1)return n();if(u&&u.pages)return e.parseData(r,o,u,s),n();var f=c.spineAtlasSuffix||".atlas",h=r.url,p=h.indexOf("?");p>0&&(h=h.substr(0,p)),h=h.substr(0,h.lastIndexOf("."))+f,c.spineAtlasFile&&(h=c.spineAtlasFile),h=h.replace(this.baseUrl,"");var d={crossOrigin:r.crossOrigin,xhrType:Zt.XHR_RESPONSE_TYPE.TEXT,metadata:c.spineMetadata||null,parentResource:r},m={crossOrigin:r.crossOrigin,metadata:c.imageMetadata||null,parentResource:r},_=r.url.substr(0,r.url.lastIndexOf("/")+1);_=_.replace(this.baseUrl,"");var v=c.imageNamePrefix||r.name+"_atlas_page_",g=c.images?iL(c.images):c.image?iL({default:c.image}):c.imageLoader?c.imageLoader(this,v,_,m):UTe(this,v,_,m);function y(x){new ATe(x,g,function(b){b&&e.parseData(r,o,b,s),n()})}c.atlasRawData?y(c.atlasRawData):this.add(r.name+"_atlas",h,d,function(x){x.error?n():y(x.data)})}}},t}();function UTe(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,c=t.resources[o];if(c){var l=function(){a(c.texture.baseTexture)};c.texture?l():c.onAfterMiddleware.add(l)}else t.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=fi.PMA),a(u.texture.baseTexture))})}}function iL(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var MS=function(t,e){return MS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},MS(t,e)};function Sr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");MS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var OA=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Zl=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,m=h.a,_=h.c,v=h.b,g=h.d,y=n,x=o;x<i;y+=2,x+=s){var b=u[y],w=u[y+1];a[x]=b*m+w*_+p,a[x+1]=b*v+w*g+d}return}for(var E=0,S=0,C=0;C<n;C+=2){var T=f[E];E+=T+1,S+=T}var I=c.bones;if(l.length==0)for(var x=o,_=S*3;x<i;x+=s){var A=0,R=0,T=f[E++];for(T+=E;E<T;E++,_+=3){var h=I[f[E]].matrix,b=u[_],w=u[_+1],O=u[_+2];A+=(b*h.a+w*h.c+h.tx)*O,R+=(b*h.b+w*h.d+h.ty)*O}a[x]=A,a[x+1]=R}else for(var F=l,x=o,_=S*3,N=S<<1;x<i;x+=s){var A=0,R=0,T=f[E++];for(T+=E;E<T;E++,_+=3,N+=2){var h=I[f[E]].matrix,b=u[_]+F[N],w=u[_+1]+F[N+1],O=u[_+2];A+=(b*h.a+w*h.c+h.tx)*O,R+=(b*h.b+w*h.d+h.ty)*O}a[x]=A,a[x+1]=R}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),oe.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=oe.newFloatArray(this.vertices.length),oe.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}(OA),O9=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.BoundingBox,n.color=new Me(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Zl),k9=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Clipping,n.color=new Me(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Zl),h_=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Mesh,n.color=new Me(1,1,1,1),n.tempColor=new Me(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),oe.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),oe.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),oe.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(Zl),Id=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new Me(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),oe.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Zl),F9=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Point,n.color=new Me(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=W.cosDeg(this.rotation),a=W.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*W.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Zl),kA=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Me,this.darkColor=e.darkColor==null?null:new Me,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),FA=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new Me(1,1,1,1),n.offset=oe.newFloatArray(8),n.uvs=oe.newFloatArray(8),n.tempColor=new Me(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,m=o*l+this.x,_=o*u,v=s*l+this.y,g=s*u,y=this.offset;y[e.OX1]=f-d,y[e.OY1]=p+h,y[e.OX2]=f-g,y[e.OY2]=v+h,y[e.OX3]=m-g,y[e.OY3]=v+_,y[e.OX4]=m-d,y[e.OY4]=p+_},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof kA?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,p=s.d,d=0,m=0;d=o[e.OX1],m=o[e.OY1],n[i]=d*u+m*f+c,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX2],m=o[e.OY2],n[i]=d*u+m*f+c,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX3],m=o[e.OY3],n[i]=d*u+m*f+c,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX4],m=o[e.OY4],n[i]=d*u+m*f+c,n[i+1]=d*h+m*p+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,oe.arrayCopy(this.uvs,0,r.uvs,0,8),oe.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(OA),jTe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=W.randomTriangular(-this.jitterX,this.jitterY),e.y+=W.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),$Te=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*W.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new P9(2),t}(),qr=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),In;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(In||(In={}));var eo=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=oe.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var _=h,v=p,g=d+t.BEZIER_SIZE-1;d<g;d+=2)m[d]=_,m[d+1]=v,h+=u,p+=f,u+=c,f+=l,_+=h,v+=p},t.prototype.getCurvePercent=function(e,r){r=W.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Ti=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(In.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.rotation=u.data.rotation;return;case H.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case H.setup:u.rotation=u.data.rotation+h*o;break;case H.first:case H.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case H.add:u.rotation+=h*o}return}var p=qr.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],m=l[p],_=this.getCurvePercent((p>>1)-1,1-(i-m)/(l[p+e.PREV_TIME]-m)),v=l[p+e.ROTATION]-d;switch(v=d+(v-(16384-(16384.499999999996-v/360|0))*360)*_,s){case H.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case H.first:case H.replace:v+=u.data.rotation-u.rotation;case H.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(eo),Ul=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(In.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.x=u.data.x,u.y=u.data.y;return;case H.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=qr.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.X]-f)*m,h+=(l[p+e.Y]-h)*m}switch(s){case H.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case H.first:case H.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case H.add:u.x+=f*o,u.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(eo),NA=function(t){Sr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(In.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case H.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=qr.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=(f+(l[p+e.X]-f)*m)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*m)*u.data.scaleY}if(o==1)s==H.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var _=0,v=0;if(c==mt.mixOut)switch(s){case H.setup:_=u.data.scaleX,v=u.data.scaleY,u.scaleX=_+(Math.abs(f)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case H.first:case H.replace:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(f)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case H.add:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(f)*W.signum(_)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-u.data.scaleY)*o}else switch(s){case H.setup:_=Math.abs(u.data.scaleX)*W.signum(f),v=Math.abs(u.data.scaleY)*W.signum(h),u.scaleX=_+(f-_)*o,u.scaleY=v+(h-v)*o;break;case H.first:case H.replace:_=Math.abs(u.scaleX)*W.signum(f),v=Math.abs(u.scaleY)*W.signum(h),u.scaleX=_+(f-_)*o,u.scaleY=v+(h-v)*o;break;case H.add:_=W.signum(f),v=W.signum(h),u.scaleX=Math.abs(u.scaleX)*_+(f-Math.abs(u.data.scaleX)*_)*o,u.scaleY=Math.abs(u.scaleY)*v+(h-Math.abs(u.data.scaleY)*v)*o}}}},e}(Ul),LA=function(t){Sr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(In.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case H.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=qr.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=f+(l[p+e.X]-f)*m,h=h+(l[p+e.Y]-h)*m}switch(s){case H.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case H.first:case H.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case H.add:u.shearX+=f*o,u.shearY+=h*o}}},e}(Ul),Rd=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(In.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.color.setFromColor(l.data.color);return;case H.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,m=0,_=0;if(i>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],m=u[v+e.PREV_B],_=u[v+e.PREV_A]}else{var g=qr.binarySearch(u,i,e.ENTRIES);p=u[g+e.PREV_R],d=u[g+e.PREV_G],m=u[g+e.PREV_B],_=u[g+e.PREV_A];var y=u[g],x=this.getCurvePercent(g/e.ENTRIES-1,1-(i-y)/(u[g+e.PREV_TIME]-y));p+=(u[g+e.R]-p)*x,d+=(u[g+e.G]-d)*x,m+=(u[g+e.B]-m)*x,_+=(u[g+e.A]-_)*x}if(o==1)l.color.set(p,d,m,_);else{var f=l.color;s==H.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(m-f.b)*o,(_-f.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(eo),Pd=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(In.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case H.first:var f=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=0;if(i>=u[u.length-e.ENTRIES]){var w=u.length;m=u[w+e.PREV_R],_=u[w+e.PREV_G],v=u[w+e.PREV_B],g=u[w+e.PREV_A],y=u[w+e.PREV_R2],x=u[w+e.PREV_G2],b=u[w+e.PREV_B2]}else{var E=qr.binarySearch(u,i,e.ENTRIES);m=u[E+e.PREV_R],_=u[E+e.PREV_G],v=u[E+e.PREV_B],g=u[E+e.PREV_A],y=u[E+e.PREV_R2],x=u[E+e.PREV_G2],b=u[E+e.PREV_B2];var S=u[E],C=this.getCurvePercent(E/e.ENTRIES-1,1-(i-S)/(u[E+e.PREV_TIME]-S));m+=(u[E+e.R]-m)*C,_+=(u[E+e.G]-_)*C,v+=(u[E+e.B]-v)*C,g+=(u[E+e.A]-g)*C,y+=(u[E+e.R2]-y)*C,x+=(u[E+e.G2]-x)*C,b+=(u[E+e.B2]-b)*C}if(o==1)l.color.set(m,_,v,g),l.darkColor.set(y,x,b,1);else{var f=l.color,h=l.darkColor;s==H.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((m-f.r)*o,(_-f.g)*o,(v-f.b)*o,(g-f.a)*o),h.add((y-h.r)*o,(x-h.g)*o,(b-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(eo),ml=function(){function t(e){this.frames=oe.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(In.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(c.bone.active){if(s==mt.mixOut){o==H.setup&&this.setAttachment(e,c,c.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==H.setup||o==H.first)&&this.setAttachment(e,c,c.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=qr.binarySearch(l,n,1)-1;var f=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),aL=null,MA=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r),n.frameVertices=new Array(r),aL==null&&(aL=oe.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(In.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof Zl)||u.deformAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=H.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var m=u;switch(s){case H.setup:f.length=0;return;case H.first:if(o==1){f.length=0;break}var _=oe.setArraySize(f,p);if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)_[g]+=(v[g]-_[g])*o;else{o=1-o;for(var g=0;g<p;g++)_[g]*=o}}return}var y=oe.setArraySize(f,p);if(i>=d[d.length-1]){var x=h[d.length-1];if(o==1)if(s==H.add){var m=u;if(m.bones==null)for(var v=m.vertices,b=0;b<p;b++)y[b]+=x[b]-v[b];else for(var w=0;w<p;w++)y[w]+=x[w]}else oe.arrayCopy(x,0,y,0,p);else switch(s){case H.setup:{var E=u;if(E.bones==null)for(var v=E.vertices,S=0;S<p;S++){var C=v[S];y[S]=C+(x[S]-C)*o}else for(var T=0;T<p;T++)y[T]=x[T]*o;break}case H.first:case H.replace:for(var I=0;I<p;I++)y[I]+=(x[I]-y[I])*o;break;case H.add:var m=u;if(m.bones==null)for(var v=m.vertices,A=0;A<p;A++)y[A]+=(x[A]-v[A])*o;else for(var R=0;R<p;R++)y[R]+=x[R]*o}return}var O=qr.binarySearch(d,i),F=h[O-1],N=h[O],$=d[O],q=this.getCurvePercent(O-1,1-(i-$)/(d[O-1]-$));if(o==1)if(s==H.add){var m=u;if(m.bones==null)for(var v=m.vertices,K=0;K<p;K++){var G=F[K];y[K]+=G+(N[K]-G)*q-v[K]}else for(var L=0;L<p;L++){var G=F[L];y[L]+=G+(N[L]-G)*q}}else for(var j=0;j<p;j++){var G=F[j];y[j]=G+(N[j]-G)*q}else switch(s){case H.setup:{var B=u;if(B.bones==null)for(var v=B.vertices,D=0;D<p;D++){var G=F[D],C=v[D];y[D]=C+(G+(N[D]-G)*q-C)*o}else for(var J=0;J<p;J++){var G=F[J];y[J]=(G+(N[J]-G)*q)*o}break}case H.first:case H.replace:for(var Q=0;Q<p;Q++){var G=F[Q];y[Q]+=(G+(N[Q]-G)*q-y[Q])*o}break;case H.add:var m=u;if(m.bones==null)for(var v=m.vertices,se=0;se<p;se++){var G=F[se];y[se]+=(G+(N[se]-G)*q-v[se])*o}else for(var re=0;re<p;re++){var G=F[re];y[re]+=(G+(N[re]-G)*q)*o}}}}},e}(eo),d_=function(){function t(e){this.frames=oe.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return In.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=qr.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),vc=function(){function t(e){this.frames=oe.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return In.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==mt.mixOut&&o==H.setup){oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==H.setup||o==H.first)&&oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=qr.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)oe.arrayCopy(l,0,c,0,l.length);else for(var p=0,d=h.length;p<d;p++)c[p]=l[h[p]]},t}(),Od=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(In.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case H.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==H.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+e.PREV_SOFTNESS]-u.data.softness)*o,c==mt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+e.PREV_SOFTNESS]-u.softness)*o,c==mt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=qr.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],p=l[f+e.PREV_SOFTNESS],d=l[f],m=this.getCurvePercent(f/e.ENTRIES-1,1-(i-d)/(l[f+e.PREV_TIME]-d));s==H.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*m-u.data.mix)*o,u.softness=u.data.softness+(p+(l[f+e.SOFTNESS]-p)*m-u.data.softness)*o,c==mt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*m-u.mix)*o,u.softness+=(p+(l[f+e.SOFTNESS]-p)*m-u.softness)*o,c==mt.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(eo),kd=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(In.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var f=u.data;switch(s){case H.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case H.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,m=0;if(i>=l[l.length-e.ENTRIES]){var _=l.length;h=l[_+e.PREV_ROTATE],p=l[_+e.PREV_TRANSLATE],d=l[_+e.PREV_SCALE],m=l[_+e.PREV_SHEAR]}else{var v=qr.binarySearch(l,i,e.ENTRIES);h=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],m=l[v+e.PREV_SHEAR];var g=l[v],y=this.getCurvePercent(v/e.ENTRIES-1,1-(i-g)/(l[v+e.PREV_TIME]-g));h+=(l[v+e.ROTATE]-h)*y,p+=(l[v+e.TRANSLATE]-p)*y,d+=(l[v+e.SCALE]-d)*y,m+=(l[v+e.SHEAR]-m)*y}if(s==H.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(p-f.translateMix)*o,u.scaleMix=f.scaleMix+(d-f.scaleMix)*o,u.shearMix=f.shearMix+(m-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(m-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(eo),Dc=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(In.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.position=u.data.position;return;case H.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=qr.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==H.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(eo),BA=function(t){Sr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(In.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.spacing=u.data.spacing;return;case H.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=qr.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==H.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o}},e}(Dc),Fd=function(t){Sr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(In.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case H.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case H.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=qr.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.ROTATE]-f)*m,h+=(l[p+e.TRANSLATE]-h)*m}s==H.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(eo),N9=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new M9(this),this.propertyIDs=new I9,this.animationsChanged=!1,this.trackEntryPool=new f_(function(){return new L9}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?H.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||c==H.add)for(var d=0;d<h;d++){oe.webkit602BugfixHelper(l,c);var m=p[d];m instanceof ml?this.applyAttachmentTimeline(m,e,f,c,!0):m.apply(e,u,f,r,l,c,mt.mixIn)}else{var _=s.timelineMode,v=s.timelinesRotation.length==0;v&&oe.setArraySize(s.timelinesRotation,h<<1,null);for(var g=s.timelinesRotation,d=0;d<h;d++){var y=p[d],x=_[d]==t.SUBSEQUENT?c:H.setup;y instanceof Ti?this.applyRotateTimeline(y,e,f,l,x,g,d<<1,v):y instanceof ml?this.applyAttachmentTimeline(y,e,f,c,!0):(oe.webkit602BugfixHelper(l,c),y.apply(e,u,f,r,l,x,mt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var b=this.unkeyedState+t.SETUP,w=e.slots,E=0,S=e.slots.length;E<S;E++){var C=w[E];if(C.attachmentState==b){var T=C.data.attachmentName;C.setAttachment(T==null?null:e.getAttachment(C.data.index,T))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==H.first&&(n=H.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=H.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==H.add)for(var m=0;m<f;m++)h[m].apply(r,l,u,o,d,n,mt.mixOut);else{var _=i.timelineMode,v=i.timelineHoldMix,g=i.timelinesRotation.length==0;g&&oe.setArraySize(i.timelinesRotation,f<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var m=0;m<f;m++){var x=h[m],b=mt.mixOut,w=void 0,E=0;switch(_[m]){case t.SUBSEQUENT:if(!c&&x instanceof vc)continue;w=n,E=d;break;case t.FIRST:w=H.setup,E=d;break;case t.HOLD_SUBSEQUENT:w=n,E=p;break;case t.HOLD_FIRST:w=H.setup,E=p;break;default:w=H.setup;var S=v[m];E=p*Math.max(0,1-S.mixTime/S.mixDuration);break}i.totalAlpha+=E,x instanceof Ti?this.applyRotateTimeline(x,r,u,E,w,y,m<<1,g):x instanceof ml?this.applyAttachmentTimeline(x,r,u,w,s):(oe.webkit602BugfixHelper(E,n),c&&x instanceof vc&&w==H.setup&&(b=mt.mixIn),x.apply(r,l,u,o,E,w,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==H.setup||i==H.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var c;n>=s[s.length-1]?c=s.length-1:c=qr.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[c],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,mt.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex];if(f.active){var h=0,p=0;if(n<u[0])switch(a){case H.setup:f.rotation=f.data.rotation;default:return;case H.first:h=f.rotation,p=f.data.rotation}else if(h=a==H.setup?f.data.rotation:f.rotation,n>=u[u.length-Ti.ENTRIES])p=f.data.rotation+u[u.length+Ti.PREV_ROTATION];else{var d=qr.binarySearch(u,n,Ti.ENTRIES),m=u[d+Ti.PREV_ROTATION],_=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-_)/(u[d+Ti.PREV_TIME]-_));p=u[d+Ti.ROTATION]-m,p-=(16384-(16384.499999999996-p/360|0))*360,p=m+p*v+f.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var g=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)g=o[s];else{var x=0,b=0;c?(x=0,b=y):(x=o[s],b=o[s+1]);var w=y>0,E=x>=0;W.signum(b)!=W.signum(y)&&Math.abs(b)<=90&&(Math.abs(x)>180&&(x+=360*W.signum(x)),E=w),g=y+x-x%360,E!=w&&(g+=360*W.signum(x)),o[s]=g}o[s+1]=y,h+=g*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(oe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=H.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=H.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=oe.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=oe.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.add(n[c].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyId();if(!s.add(u))a[c]=t.SUBSEQUENT;else if(r==null||l instanceof ml||l instanceof vc||l instanceof d_||!r.animation.hasTimeline(u))a[c]=t.FIRST;else{for(var f=r.mixingTo;f!=null;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=f;continue e}break}a[c]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new qr("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),L9=function(){function t(){this.mixBlend=H.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),M9=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ii.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ii.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ii.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ii.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ii.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ii.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ii.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case ii.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case ii.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case ii.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case ii.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=W.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case ii.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),ii;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ii||(ii={}));var VTe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),B9=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),DA=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new FA(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new h_(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new O9(r)},t.prototype.newPathAttachment=function(e,r){return new Id(r)},t.prototype.newPointAttachment=function(e,r){return new F9(r)},t.prototype.newClippingAttachment=function(e,r){return new k9(r)},t}(),BS=function(){function t(e,r,n){if(this.matrix=new vr,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,p=n+90+s;l.a=W.cosDeg(n+o)*i*u,l.c=W.cosDeg(p)*a*u,l.b=W.sinDeg(n+o)*i*f,l.d=W.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,m=c.matrix.c,_=c.matrix.b,v=c.matrix.d;switch(l.tx=d*e+m*r+c.matrix.tx,l.ty=_*e+v*r+c.matrix.ty,this.data.transformMode){case ft.Normal:{var p=n+90+s,g=W.cosDeg(n+o)*i,y=W.cosDeg(p)*a,x=W.sinDeg(n+o)*i,b=W.sinDeg(p)*a;l.a=d*g+m*x,l.c=d*y+m*b,l.b=_*g+v*x,l.d=_*y+v*b;return}case ft.OnlyTranslation:{var p=n+90+s;l.a=W.cosDeg(n+o)*i,l.c=W.cosDeg(p)*a,l.b=W.sinDeg(n+o)*i,l.d=W.sinDeg(p)*a;break}case ft.NoRotationOrReflection:{var w=d*d+_*_,E=0;w>1e-4?(w=Math.abs(d*v-m*_)/w,d/=this.skeleton.scaleX,_/=this.skeleton.scaleY,m=_*w,v=d*w,E=Math.atan2(_,d)*W.radDeg):(d=0,_=0,E=90-Math.atan2(v,m)*W.radDeg);var S=n+o-E,C=n+s-E+90,g=W.cosDeg(S)*i,y=W.cosDeg(C)*a,x=W.sinDeg(S)*i,b=W.sinDeg(C)*a;l.a=d*g-m*x,l.c=d*y-m*b,l.b=_*g+v*x,l.d=_*y+v*b;break}case ft.NoScale:case ft.NoScaleOrReflection:{var T=W.cosDeg(n),I=W.sinDeg(n),A=(d*T+m*I)/u,R=(_*T+v*I)/f,w=Math.sqrt(A*A+R*R);w>1e-5&&(w=1/w),A*=w,R*=w,w=Math.sqrt(A*A+R*R),this.data.transformMode==ft.NoScale&&d*v-m*_<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(w=-w);var O=Math.PI/2+Math.atan2(R,A),F=Math.cos(O)*w,N=Math.sin(O)*w,g=W.cosDeg(o)*i,y=W.cosDeg(90+s)*a,x=W.sinDeg(o)*i,b=W.sinDeg(90+s)*a;l.a=A*g+F*x,l.c=A*y+F*b,l.b=R*g+N*x,l.d=R*y+N*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*W.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*W.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*W.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*W.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var m=f*d-h*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,m)*W.radDeg,this.arotation=Math.atan2(p,f)*W.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*W.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*W.radDeg},t.prototype.localToWorldRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*W.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=W.cosDeg(e),c=W.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),UA=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=ft.Normal,this.skinRequired=!1,this.color=new Me,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),p_=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),jA=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),$A=function(){function t(e){this.name=e}return t}(),D9=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=c.a,u=c.c,f=c.b,h=c.d,p=-e.ashearX-e.arotation,d=0,m=0;switch(e.data.transformMode){case ft.OnlyTranslation:d=r-e.worldX,m=n-e.worldY;break;case ft.NoRotationOrReflection:var _=Math.abs(l*h-u*f)/(l*l+f*f),v=l/e.skeleton.scaleX,g=f/e.skeleton.scaleY;u=-g*_*e.skeleton.scaleX,h=v*_*e.skeleton.scaleY,p+=Math.atan2(g,v)*W.radDeg;default:var y=r-c.tx,x=n-c.ty,b=l*h-u*f;d=(y*h-x*u)/b-e.ax,m=(x*l-y*f)/b-e.ay}p+=Math.atan2(m,d)*W.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var w=e.ascaleX,E=e.ascaleY;if(i||a){switch(e.data.transformMode){case ft.NoScale:case ft.NoScaleOrReflection:d=r-e.worldX,m=n-e.worldY}var S=e.data.length*w,C=Math.sqrt(d*d+m*m);if(i&&C<S||a&&C>S&&S>1e-4){var _=(C/S-1)*s+1;w*=_,o&&(E*=_)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,w,E,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c){if(c==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,u=e.ay,f=e.ascaleX,h=f,p=e.ascaleY,d=r.ascaleX,m=e.matrix,_=0,v=0,g=0;f<0?(f=-f,_=180,g=-1):(_=0,g=1),p<0&&(p=-p,g=-g),d<0?(d=-d,v=180):v=0;var y=r.ax,x=0,b=0,w=0,E=m.a,S=m.c,C=m.b,T=m.d,I=Math.abs(f-p)<=1e-4;I?(x=r.ay,b=E*y+S*x+m.tx,w=C*y+T*x+m.ty):(x=0,b=E*y+m.tx,w=C*y+m.ty);var A=e.parent.matrix;E=A.a,S=A.c,C=A.b,T=A.d;var R=1/(E*T-S*C),O=b-A.tx,F=w-A.ty,N=(O*T-F*S)*R-l,$=(F*E-O*C)*R-u,q=Math.sqrt(N*N+$*$),K=r.data.length*d,G,L;if(q<1e-4){this.apply1(e,n,i,!1,o,!1,c),r.updateWorldTransformWith(y,x,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}O=n-A.tx,F=i-A.ty;var j=(O*T-F*S)*R-l,B=(F*E-O*C)*R-u,D=j*j+B*B;if(s!=0){s*=f*(d+1)/2;var J=Math.sqrt(D),Q=J-q-K*f+s;if(Q>0){var se=Math.min(1,Q/(s*2))-1;se=(Q-s*(1-se*se))/J,j-=se*j,B-=se*B,D=j*j+B*B}}e:if(I){K*=f;var re=(D-q*q-K*K)/(2*q*K);re<-1?re=-1:re>1&&(re=1,o&&(h*=(Math.sqrt(D)/(q+K)-1)*c+1)),L=Math.acos(re)*a,E=q+K*re,S=K*Math.sin(L),G=Math.atan2(B*E-j*S,j*E+B*S)}else{E=f*K,S=p*K;var ce=E*E,Ee=S*S,we=Math.atan2(B,j);C=Ee*q*q+ce*D-ce*Ee;var pe=-2*Ee*q,ve=Ee-ce;if(T=pe*pe-4*ve*C,T>=0){var Ae=Math.sqrt(T);pe<0&&(Ae=-Ae),Ae=-(pe+Ae)/2;var ke=Ae/ve,Te=C/Ae,Fe=Math.abs(ke)<Math.abs(Te)?ke:Te;if(Fe*Fe<=D){F=Math.sqrt(D-Fe*Fe)*a,G=we-Math.atan2(F,Fe),L=Math.atan2(F/p,(Fe-q)/f);break e}}var Ne=W.PI,Je=q-E,vt=Je*Je,Qe=0,Ke=0,ut=q+E,Lt=ut*ut,$t=0;C=-E*q/(ce-Ee),C>=-1&&C<=1&&(C=Math.acos(C),O=E*Math.cos(C)+q,F=S*Math.sin(C),T=O*O+F*F,T<vt&&(Ne=C,vt=T,Je=O,Qe=F),T>Lt&&(Ke=C,Lt=T,ut=O,$t=F)),D<=(vt+Lt)/2?(G=we-Math.atan2(Qe*a,Je),L=Ne*a):(G=we-Math.atan2($t*a,ut),L=Ke*a)}var Mt=Math.atan2(x,y)*g,Bt=e.arotation;G=(G-Mt)*W.radDeg+_-Bt,G>180?G-=360:G<-180&&(G+=360),e.updateWorldTransformWith(l,u,Bt+G*c,h,e.ascaleY,0,0),Bt=r.arotation,L=((L+Mt)*W.radDeg-r.ashearX)*g+v-Bt,L>180?L-=360:L<-180&&(L+=360),r.updateWorldTransformWith(y,x,Bt+L*c,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),VA=function(t){Sr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(p_),GA=function(t){Sr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(p_),hn;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(hn||(hn={}));var U9=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Id){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==hn.Length,l=o.rotateMode,u=l==Mr.Tangent,f=l==Mr.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,m=oe.setArraySize(this.spaces,p),_=null,v=this.spacing;if(f||c){f&&(_=oe.setArraySize(this.lengths,h));for(var g=0,y=p-1;g<y;){var x=d[g],b=x.data.length;if(b<t.epsilon)f&&(_[g]=0),m[++g]=0;else{var w=b*x.matrix.a,E=b*x.matrix.b,S=Math.sqrt(w*w+E*E);f&&(_[g]=S),m[++g]=(c?b+v:v)*S/b}}}else for(var g=1;g<p;g++)m[g]=v;var C=this.computeWorldPositions(e,p,u,o.positionMode==xr.Percent,s==hn.Percent),T=C[0],I=C[1],A=o.offsetRotation,R=!1;if(A==0)R=l==Mr.Chain;else{R=!1;var O=this.target.bone.matrix;A*=O.a*O.d-O.b*O.c>0?W.degRad:-W.degRad}for(var g=0,O=3;g<h;g++,O+=3){var x=d[g],F=x.matrix;F.tx+=(T-F.tx)*n,F.ty+=(I-F.ty)*n;var w=C[O],E=C[O+1],N=w-T,$=E-I;if(f){var q=_[g];if(q!=0){var K=(Math.sqrt(N*N+$*$)/q-1)*r+1;F.a*=K,F.b*=K}}if(T=w,I=E,a){var G=F.a,L=F.c,j=F.b,B=F.d,D=0,J=0,Q=0;if(u?D=C[O-1]:m[g+1]==0?D=C[O+2]:D=Math.atan2($,N),D-=Math.atan2(j,G),R){J=Math.cos(D),Q=Math.sin(D);var se=x.data.length;T+=(se*(J*G-Q*j)-N)*r,I+=(se*(Q*G+J*j)-$)*r}else D+=A;D>W.PI?D-=W.PI2:D<-W.PI&&(D+=W.PI2),D*=r,J=Math.cos(D),Q=Math.sin(D),F.a=J*G-Q*j,F.c=J*L-Q*B,F.b=Q*G+J*j,F.d=Q*L+J*B}x.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=oe.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var m=e.lengths;p-=f?1:2;var _=m[p];if(i&&(s*=_),a)for(var v=0;v<r;v++)c[v]*=_;u=oe.setArraySize(this.world,8);for(var v=0,g=0,y=0;v<r;v++,g+=3){var x=c[v];s+=x;var b=s;if(f)b%=_,b<0&&(b+=_),y=0;else if(b<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,g);continue}else if(b>_){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-_,u,0,l,g);continue}for(;;y++){var w=m[y];if(!(b>w)){if(y==0)b/=w;else{var E=m[y-1];b=(b-E)/(w-E)}break}}y!=d&&(d=y,f&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,g,n||v>0&&x==0)}return l}f?(h+=2,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var S=oe.setArraySize(this.curves,p),C=0,T=u[0],I=u[1],A=0,R=0,O=0,F=0,N=0,$=0,q=0,K=0,G=0,L=0,j=0,B=0,D=0,J=0,v=0,Q=2;v<p;v++,Q+=6)A=u[Q],R=u[Q+1],O=u[Q+2],F=u[Q+3],N=u[Q+4],$=u[Q+5],q=(T-A*2+O)*.1875,K=(I-R*2+F)*.1875,G=((A-O)*3-T+N)*.09375,L=((R-F)*3-I+$)*.09375,j=q*2+G,B=K*2+L,D=(A-T)*.75+q+G*.16666667,J=(R-I)*.75+K+L*.16666667,C+=Math.sqrt(D*D+J*J),D+=j,J+=B,j+=G,B+=L,C+=Math.sqrt(D*D+J*J),D+=j,J+=B,C+=Math.sqrt(D*D+J*J),D+=j+G,J+=B+L,C+=Math.sqrt(D*D+J*J),S[v]=C,T=N,I=$;if(i&&(s*=C),a)for(var v=0;v<r;v++)c[v]*=C;for(var se=this.segments,re=0,v=0,g=0,y=0,ce=0;v<r;v++,g+=3){var x=c[v];s+=x;var b=s;if(f)b%=C,b<0&&(b+=C),y=0;else if(b<0){this.addBeforePosition(b,u,0,l,g);continue}else if(b>C){this.addAfterPosition(b-C,u,h-4,l,g);continue}for(;;y++){var Ee=S[y];if(!(b>Ee)){if(y==0)b/=Ee;else{var E=S[y-1];b=(b-E)/(Ee-E)}break}}if(y!=d){d=y;var we=y*6;for(T=u[we],I=u[we+1],A=u[we+2],R=u[we+3],O=u[we+4],F=u[we+5],N=u[we+6],$=u[we+7],q=(T-A*2+O)*.03,K=(I-R*2+F)*.03,G=((A-O)*3-T+N)*.006,L=((R-F)*3-I+$)*.006,j=q*2+G,B=K*2+L,D=(A-T)*.3+q+G*.16666667,J=(R-I)*.3+K+L*.16666667,re=Math.sqrt(D*D+J*J),se[0]=re,we=1;we<8;we++)D+=j,J+=B,j+=G,B+=L,re+=Math.sqrt(D*D+J*J),se[we]=re;D+=j,J+=B,re+=Math.sqrt(D*D+J*J),se[8]=re,D+=j+G,J+=B+L,re+=Math.sqrt(D*D+J*J),se[9]=re,ce=0}for(b*=re;;ce++){var pe=se[ce];if(!(b>pe)){if(ce==0)b/=pe;else{var E=se[ce-1];b=ce+(b-E)/(pe-E)}break}}this.addCurvePosition(b*.1,T,I,A,R,O,F,N,$,l,g,n||v>0&&x==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,m=1-e,_=m*m,v=_*m,g=m*e,y=g*3,x=m*y,b=y*e,w=r*v+i*x+o*b+c*d,E=n*v+a*x+s*b+l*d;u[f]=w,u[f+1]=E,h&&(u[f+2]=Math.atan2(E-(n*_+a*g*2+s*p),w-(r*_+i*g*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),j9=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Ad,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,w=y.b,E=y.d,S=Math.atan2(l,s)-Math.atan2(w,x)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*w,y.c=C*b-T*E,y.b=T*x+C*w,y.d=T*b+C*E,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=(I.x-y.tx)*r,y.ty+=(I.y-y.ty)*r,g=!0}if(n>0){var A=Math.sqrt(y.a*y.a+y.b*y.b),R=Math.sqrt(s*s+l*l);A>1e-5&&(A=(A+(R-A+this.data.offsetScaleX)*n)/A),y.a*=A,y.b*=A,A=Math.sqrt(y.c*y.c+y.d*y.d),R=Math.sqrt(c*c+u*u),A>1e-5&&(A=(A+(R-A+this.data.offsetScaleY)*n)/A),y.c*=A,y.d*=A,g=!0}if(i>0){var b=y.c,E=y.d,O=Math.atan2(E,b),S=Math.atan2(u,c)-Math.atan2(l,s)-(O-Math.atan2(y.b,y.a));S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S=O+(S+p)*i;var A=Math.sqrt(b*b+E*E);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,w=y.b,E=y.d,S=Math.atan2(l,s)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*w,y.c=C*b-T*E,y.b=T*x+C*w,y.d=T*b+C*E,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=I.x*r,y.ty+=I.y*r,g=!0}if(n>0){var A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=A,y.b*=A,A=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=A,y.d*=A,g=!0}if(i>0){var S=Math.atan2(u,c)-Math.atan2(l,s);S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2);var b=y.c,E=y.d;S=Math.atan2(E,b)+(S-W.PI/2+p)*i;var A=Math.sqrt(b*b+E*E);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,m=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),m>1e-5&&(m=(m+(a.ascaleY-m+this.data.offsetScaleY)*n)/m));var _=l.ashearY;if(i>0){var f=a.ashearY-_+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,p,u,d,m,l.ashearX,_)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var m=l.ashearY;i>0&&(m+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,p,d,l.ashearX,m)}},t}(),$9=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new BS(n,this,null);else{var a=this.bones[n.parent.index];i=new BS(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new kA(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new D9(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new j9(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new U9(u,this))}this.color=new Me(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,p=u+f+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var m=s[d];if(m.data.order==n){this.sortIkConstraint(m);continue e}}for(var d=0;d<f;d++){var m=c[d];if(m.data.order==n){this.sortTransformConstraint(m);continue e}}for(var d=0;d<h;d++){var m=l[d];if(m.data.order==n){this.sortPathConstraint(m);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Id&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Id){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;oe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof FA)h=8,p=oe.setArraySize(n,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof h_){var m=d;h=m.worldVerticesLength,p=oe.setArraySize(n,h,0),m.computeWorldVertices(f,0,h,p,0,2)}if(p!=null)for(var _=0,v=p.length;_<v;_+=2){var g=p[_],y=p[_+1];a=Math.min(a,g),o=Math.min(o,y),s=Math.max(s,g),c=Math.max(c,y)}}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),HA=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),XA=function(){function t(e,r,n){if(this.color=new Me(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),zA=function(t){Sr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(p_),DS=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),fm=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment!=null&&(c.attachment instanceof h_?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new DS(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new DS(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),V9=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new HA;n.name="";var i=new cm(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var c=0;c<s;c++)i.strings.push(i.readString());s=i.readInt(!0);for(var c=0;c<s;c++){var l=i.readString(),u=c==0?null:n.bones[i.readInt(!0)],f=new UA(c,l,u);f.rotation=i.readFloat(),f.x=i.readFloat()*r,f.y=i.readFloat()*r,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*r,f.transformMode=t.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&Me.rgba8888ToColor(f.color,i.readInt32()),n.bones.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++){var h=i.readString(),p=n.bones[i.readInt(!0)],f=new XA(c,h,p);Me.rgba8888ToColor(f.color,i.readInt32());var d=i.readInt32();d!=-1&&Me.rgb888ToColor(f.darkColor=new Me,d),f.attachmentName=i.readStringRef(),f.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(f)}s=i.readInt(!0);for(var c=0,m=void 0;c<s;c++){var f=new VA(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var _=0;_<m;_++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*r,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),n.ikConstraints.push(f)}s=i.readInt(!0);for(var c=0,m=void 0;c<s;c++){var f=new zA(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var _=0;_<m;_++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*r,f.offsetY=i.readFloat()*r,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),n.transformConstraints.push(f)}s=i.readInt(!0);for(var c=0,m=void 0;c<s;c++){var f=new GA(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var _=0;_<m;_++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.slots[i.readInt(!0)],f.positionMode=t.PositionModeValues[i.readInt(!0)],f.spacingMode=t.SpacingModeValues[i.readInt(!0)],f.rotateMode=t.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==xr.Fixed&&(f.position*=r),f.spacing=i.readFloat(),(f.spacingMode==hn.Length||f.spacingMode==hn.Fixed)&&(f.spacing*=r),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),n.pathConstraints.push(f)}var v=this.readSkin(i,n,!0,o);v!=null&&(n.defaultSkin=v,n.skins.push(v));{var c=n.skins.length;for(oe.setArraySize(n.skins,s=c+i.readInt(!0));c<s;c++)n.skins[c]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var c=0;c<s;c++){var g=this.linkedMeshes[c],y=g.skin==null?n.defaultSkin:n.findSkin(g.skin);if(y==null)throw new Error("Skin not found: "+g.skin);var x=y.getAttachment(g.slotIndex,g.parent);if(x==null)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?x:g.mesh,g.mesh.setParentMesh(x)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var c=0;c<s;c++){var f=new $A(i.readStringRef());f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath!=null&&(f.volume=i.readFloat(),f.balance=i.readFloat()),n.events.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new fm("default")}else{a=new fm(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,c=a.bones.length;s<c;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),u=0,f=e.readInt(!0);u<f;u++){var h=e.readStringRef(),p=this.readAttachment(e,r,a,l,h,i);p!=null&&a.setAttachment(l,h,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();c==null&&(c=a);var l=e.readByte(),u=t.AttachmentTypeValues[l];switch(u){case yt.Region:{var f=e.readStringRef(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),m=e.readFloat(),_=e.readFloat(),v=e.readFloat(),g=e.readFloat(),y=e.readInt32();f==null&&(f=c);var x=this.attachmentLoader.newRegionAttachment(n,c,f);return x==null?null:(x.path=f,x.x=p*s,x.y=d*s,x.scaleX=m,x.scaleY=_,x.rotation=h,x.width=v*s,x.height=g*s,Me.rgba8888ToColor(x.color,y),x)}case yt.BoundingBox:{var b=e.readInt(!0),w=this.readVertices(e,b),y=o?e.readInt32():0,E=this.attachmentLoader.newBoundingBoxAttachment(n,c);return E==null?null:(E.worldVerticesLength=b<<1,E.vertices=w.vertices,E.bones=w.bones,o&&Me.rgba8888ToColor(E.color,y),E)}case yt.Mesh:{var f=e.readStringRef(),y=e.readInt32(),b=e.readInt(!0),S=this.readFloatArray(e,b<<1,1),C=this.readShortArray(e),w=this.readVertices(e,b),T=e.readInt(!0),I=null,v=0,g=0;o&&(I=this.readShortArray(e),v=e.readFloat(),g=e.readFloat()),f==null&&(f=c);var A=this.attachmentLoader.newMeshAttachment(n,c,f);return A==null?null:(A.path=f,Me.rgba8888ToColor(A.color,y),A.bones=w.bones,A.vertices=w.vertices,A.worldVerticesLength=b<<1,A.triangles=C,A.regionUVs=new Float32Array(S),A.hullLength=T<<1,o&&(A.edges=I,A.width=v*s,A.height=g*s),A)}case yt.LinkedMesh:{var f=e.readStringRef(),y=e.readInt32(),R=e.readStringRef(),O=e.readStringRef(),F=e.readBoolean(),v=0,g=0;o&&(v=e.readFloat(),g=e.readFloat()),f==null&&(f=c);var A=this.attachmentLoader.newMeshAttachment(n,c,f);return A==null?null:(A.path=f,Me.rgba8888ToColor(A.color,y),o&&(A.width=v*s,A.height=g*s),this.linkedMeshes.push(new GTe(A,R,i,O,F)),A)}case yt.Path:{for(var N=e.readBoolean(),$=e.readBoolean(),b=e.readInt(!0),w=this.readVertices(e,b),q=oe.newArray(b/3,0),K=0,G=q.length;K<G;K++)q[K]=e.readFloat()*s;var y=o?e.readInt32():0,f=this.attachmentLoader.newPathAttachment(n,c);return f==null?null:(f.closed=N,f.constantSpeed=$,f.worldVerticesLength=b<<1,f.vertices=w.vertices,f.bones=w.bones,f.lengths=q,o&&Me.rgba8888ToColor(f.color,y),f)}case yt.Point:{var h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),y=o?e.readInt32():0,L=this.attachmentLoader.newPointAttachment(n,c);return L==null?null:(L.x=p*s,L.y=d*s,L.rotation=h,o&&Me.rgba8888ToColor(L.color,y),L)}case yt.Clipping:{var j=e.readInt(!0),b=e.readInt(!0),w=this.readVertices(e,b),y=o?e.readInt32():0,B=this.attachmentLoader.newClippingAttachment(n,c);return B==null?null:(B.endSlot=r.slots[j],B.worldVerticesLength=b<<1,B.vertices=w.vertices,B.bones=w.bones,o&&Me.rgba8888ToColor(B.color,y),B)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new HTe,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=oe.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new Me,c=new Me,l=0,u=e.readInt(!0);l<u;l++)for(var f=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),m=e.readInt(!0);switch(d){case t.SLOT_ATTACHMENT:{var _=new ml(m);_.slotIndex=f;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readStringRef());i.push(_),o=Math.max(o,_.frames[m-1]);break}case t.SLOT_COLOR:{var _=new Rd(m);_.slotIndex=f;for(var v=0;v<m;v++){var g=e.readFloat();Me.rgba8888ToColor(s,e.readInt32()),_.setFrame(v,g,s.r,s.g,s.b,s.a),v<m-1&&this.readCurve(e,v,_)}i.push(_),o=Math.max(o,_.frames[(m-1)*Rd.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var _=new Pd(m);_.slotIndex=f;for(var v=0;v<m;v++){var g=e.readFloat();Me.rgba8888ToColor(s,e.readInt32()),Me.rgb888ToColor(c,e.readInt32()),_.setFrame(v,g,s.r,s.g,s.b,s.a,c.r,c.g,c.b),v<m-1&&this.readCurve(e,v,_)}i.push(_),o=Math.max(o,_.frames[(m-1)*Pd.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var y=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),m=e.readInt(!0);switch(d){case t.BONE_ROTATE:{var _=new Ti(m);_.boneIndex=y;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Ti.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var _=void 0,x=1;d==t.BONE_SCALE?_=new NA(m):d==t.BONE_SHEAR?_=new LA(m):(_=new Ul(m),x=a),_.boneIndex=y;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat()*x,e.readFloat()*x),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Ul.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),m=e.readInt(!0),_=new Od(m);_.ikConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Od.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),m=e.readInt(!0),_=new kd(m);_.transformConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*kd.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++)for(var b=e.readInt(!0),w=n.pathConstraints[b],h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),m=e.readInt(!0);switch(d){case t.PATH_POSITION:case t.PATH_SPACING:{var _=void 0,x=1;d==t.PATH_SPACING?(_=new BA(m),(w.spacingMode==hn.Length||w.spacingMode==hn.Fixed)&&(x=a)):(_=new Dc(m),w.positionMode==xr.Fixed&&(x=a)),_.pathConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat()*x),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Dc.ENTRIES]);break}case t.PATH_MIX:{var _=new Fd(m);_.pathConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Fd.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var E=n.skins[e.readInt(!0)],h=0,p=e.readInt(!0);h<p;h++)for(var f=e.readInt(!0),S=0,C=e.readInt(!0);S<C;S++){var T=E.getAttachment(f,e.readStringRef()),I=T.bones!=null,A=T.vertices,R=I?A.length/3*2:A.length,m=e.readInt(!0),_=new MA(m);_.slotIndex=f,_.attachment=T;for(var v=0;v<m;v++){var g=e.readFloat(),O=void 0,F=e.readInt(!0);if(F==0)O=I?oe.newFloatArray(R):A;else{O=oe.newFloatArray(R);var N=e.readInt(!0);if(F+=N,a==1)for(var $=N;$<F;$++)O[$]=e.readFloat();else for(var $=N;$<F;$++)O[$]=e.readFloat()*a;if(!I)for(var $=0,q=O.length;$<q;$++)O[$]+=A[$]}_.setFrame(v,g,O),v<m-1&&this.readCurve(e,v,_)}i.push(_),o=Math.max(o,_.frames[m-1])}var K=e.readInt(!0);if(K>0){for(var _=new vc(K),G=n.slots.length,l=0;l<K;l++){for(var g=e.readFloat(),L=e.readInt(!0),j=oe.newArray(G,0),h=G-1;h>=0;h--)j[h]=-1;for(var B=oe.newArray(G-L,0),D=0,J=0,h=0;h<L;h++){for(var f=e.readInt(!0);D!=f;)B[J++]=D++;j[D+e.readInt(!0)]=D++}for(;D<G;)B[J++]=D++;for(var h=G-1;h>=0;h--)j[h]==-1&&(j[h]=B[--J]);_.setFrame(l,g,j)}i.push(_),o=Math.max(o,_.frames[K-1])}var Q=e.readInt(!0);if(Q>0){for(var _=new d_(Q),l=0;l<Q;l++){var g=e.readFloat(),se=n.events[e.readInt(!0)],re=new jA(g,se);re.intValue=e.readInt(!1),re.floatValue=e.readFloat(),re.stringValue=e.readBoolean()?e.readString():se.stringValue,re.data.audioPath!=null&&(re.volume=e.readFloat(),re.balance=e.readFloat()),_.setFrame(l,re)}i.push(_),o=Math.max(o,_.frames[Q-1])}return new qr(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[ft.Normal,ft.OnlyTranslation,ft.NoRotationOrReflection,ft.NoScale,ft.NoScaleOrReflection],t.PositionModeValues=[xr.Fixed,xr.Percent],t.SpacingModeValues=[hn.Length,hn.Fixed,hn.Percent],t.RotateModeValues=[Mr.Tangent,Mr.Chain,Mr.ChainScale],t.BlendModeValues=[Ve.NORMAL,Ve.ADD,Ve.MULTIPLY,Ve.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),GTe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),HTe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),XTe=function(t){Sr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(PA),G9=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new HA,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var c=i.bones[s],l=null,u=this.getValue(c,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var f=new UA(n.bones.length,c.name,l);f.length=this.getValue(c,"length",0)*r,f.x=this.getValue(c,"x",0)*r,f.y=this.getValue(c,"y",0)*r,f.rotation=this.getValue(c,"rotation",0),f.scaleX=this.getValue(c,"scaleX",1),f.scaleY=this.getValue(c,"scaleY",1),f.shearX=this.getValue(c,"shearX",0),f.shearY=this.getValue(c,"shearY",0),f.transformMode=t.transformModeFromString(this.getValue(c,"transform","normal")),f.skinRequired=this.getValue(c,"skin",!1),n.bones.push(f)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],p=h.name,d=h.bone,m=n.findBone(d);if(m==null)throw new Error("Slot bone not found: "+d);var f=new XA(n.slots.length,p,m),_=this.getValue(h,"color",null);_!=null&&f.color.setFromString(_);var v=this.getValue(h,"dark",null);v!=null&&(f.darkColor=new Me(1,1,1,1),f.darkColor.setFromString(v)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(f)}if(i.ik)for(var s=0;s<i.ik.length;s++){var g=i.ik[s],f=new VA(g.name);f.order=this.getValue(g,"order",0),f.skinRequired=this.getValue(g,"skin",!1);for(var y=0;y<g.bones.length;y++){var d=g.bones[y],x=n.findBone(d);if(x==null)throw new Error("IK bone not found: "+d);f.bones.push(x)}var b=g.target;if(f.target=n.findBone(b),f.target==null)throw new Error("IK target bone not found: "+b);f.mix=this.getValue(g,"mix",1),f.softness=this.getValue(g,"softness",0)*r,f.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,f.compress=this.getValue(g,"compress",!1),f.stretch=this.getValue(g,"stretch",!1),f.uniform=this.getValue(g,"uniform",!1),n.ikConstraints.push(f)}if(i.transform)for(var s=0;s<i.transform.length;s++){var g=i.transform[s],f=new zA(g.name);f.order=this.getValue(g,"order",0),f.skinRequired=this.getValue(g,"skin",!1);for(var y=0;y<g.bones.length;y++){var d=g.bones[y],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);f.bones.push(x)}var b=g.target;if(f.target=n.findBone(b),f.target==null)throw new Error("Transform constraint target bone not found: "+b);f.local=this.getValue(g,"local",!1),f.relative=this.getValue(g,"relative",!1),f.offsetRotation=this.getValue(g,"rotation",0),f.offsetX=this.getValue(g,"x",0)*r,f.offsetY=this.getValue(g,"y",0)*r,f.offsetScaleX=this.getValue(g,"scaleX",0),f.offsetScaleY=this.getValue(g,"scaleY",0),f.offsetShearY=this.getValue(g,"shearY",0),f.rotateMix=this.getValue(g,"rotateMix",1),f.translateMix=this.getValue(g,"translateMix",1),f.scaleMix=this.getValue(g,"scaleMix",1),f.shearMix=this.getValue(g,"shearMix",1),n.transformConstraints.push(f)}if(i.path)for(var s=0;s<i.path.length;s++){var g=i.path[s],f=new GA(g.name);f.order=this.getValue(g,"order",0),f.skinRequired=this.getValue(g,"skin",!1);for(var y=0;y<g.bones.length;y++){var d=g.bones[y],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);f.bones.push(x)}var b=g.target;if(f.target=n.findSlot(b),f.target==null)throw new Error("Path target slot not found: "+b);f.positionMode=t.positionModeFromString(this.getValue(g,"positionMode","percent")),f.spacingMode=t.spacingModeFromString(this.getValue(g,"spacingMode","length")),f.rotateMode=t.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),f.offsetRotation=this.getValue(g,"rotation",0),f.position=this.getValue(g,"position",0),f.positionMode==xr.Fixed&&(f.position*=r),f.spacing=this.getValue(g,"spacing",0),(f.spacingMode==hn.Length||f.spacingMode==hn.Fixed)&&(f.spacing*=r),f.rotateMix=this.getValue(g,"rotateMix",1),f.translateMix=this.getValue(g,"translateMix",1),n.pathConstraints.push(f)}if(i.skins)for(var s=0;s<i.skins.length;s++){var w=i.skins[s],E=new fm(w.name);if(w.bones)for(var S=0;S<w.bones.length;S++){var x=n.findBone(w.bones[S]);if(x==null)throw new Error("Skin bone not found: "+w.bones[s]);E.bones.push(x)}if(w.ik)for(var S=0;S<w.ik.length;S++){var C=n.findIkConstraint(w.ik[S]);if(C==null)throw new Error("Skin IK constraint not found: "+w.ik[s]);E.constraints.push(C)}if(w.transform)for(var S=0;S<w.transform.length;S++){var C=n.findTransformConstraint(w.transform[S]);if(C==null)throw new Error("Skin transform constraint not found: "+w.transform[s]);E.constraints.push(C)}if(w.path)for(var S=0;S<w.path.length;S++){var C=n.findPathConstraint(w.path[S]);if(C==null)throw new Error("Skin path constraint not found: "+w.path[s]);E.constraints.push(C)}for(var p in w.attachments){var T=n.findSlot(p);if(T==null)throw new Error("Slot not found: "+p);var h=w.attachments[p];for(var I in h){var A=this.readAttachment(h[I],E,T.index,I,n);A!=null&&E.setAttachment(T.index,I,A)}}n.skins.push(E),E.name=="default"&&(n.defaultSkin=E)}for(var s=0,R=this.linkedMeshes.length;s<R;s++){var O=this.linkedMeshes[s],E=O.skin==null?n.defaultSkin:n.findSkin(O.skin);if(E==null)throw new Error("Skin not found: "+O.skin);var F=E.getAttachment(O.slotIndex,O.parent);if(F==null)throw new Error("Parent mesh not found: "+O.parent);O.mesh.deformAttachment=O.inheritDeform?F:O.mesh,O.mesh.setParentMesh(F)}if(this.linkedMeshes.length=0,i.events)for(var N in i.events){var $=i.events[N],f=new $A(N);f.intValue=this.getValue($,"int",0),f.floatValue=this.getValue($,"float",0),f.stringValue=this.getValue($,"string",""),f.audioPath=this.getValue($,"audio",null),f.audioPath!=null&&(f.volume=this.getValue($,"volume",1),f.balance=this.getValue($,"balance",0)),n.events.push(f)}if(i.animations)for(var q in i.animations){var K=i.animations[q];this.readAnimation(K,q,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var p=this.getValue(e,"parent",null);if(p!=null)return this.linkedMeshes.push(new zTe(h,this.getValue(e,"skin",null),n,p,this.getValue(e,"deform",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var m=e.vertexCount;this.readVertices(e,c,m<<1);for(var _=oe.newArray(m/3,0),v=0;v<e.lengths.length;v++)_[v]=e.lengths[v]*o;c.lengths=_;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(g==null)return null;g.x=this.getValue(e,"x",0)*o,g.y=this.getValue(e,"y",0)*o,g.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&g.color.setFromString(u),g}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var x=this.getValue(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);y.endSlot=b}var m=e.vertexCount;this.readVertices(e,y,m<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=oe.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=oe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new ml(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var m=f[d];h.setFrame(p++,this.getValue(m,"time",0),m.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new Rd(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var m=f[d],_=new Me;_.setFromString(m.color||"ffffffff"),h.setFrame(p,this.getValue(m,"time",0),_.r,_.g,_.b,_.a),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Rd.ENTRIES])}else if(u=="twoColor"){var h=new Pd(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var m=f[d],v=new Me,g=new Me;v.setFromString(m.light),g.setFromString(m.dark),h.setFrame(p,this.getValue(m,"time",0),v.r,v.g,v.b,v.a,g.r,g.g,g.b),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Pd.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var x=e.bones[y],b=n.findBoneIndex(y);if(b==-1)throw new Error("Bone not found: "+y);for(var u in x){var f=x[u];if(u==="rotate"){var h=new Ti(f.length);h.boneIndex=b;for(var p=0,d=0;d<f.length;d++){var m=f[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"angle",0)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ti.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,w=1,E=0;u==="scale"?(h=new NA(f.length),E=1):u==="shear"?h=new LA(f.length):(h=new Ul(f.length),w=i),h.boneIndex=b;for(var p=0,d=0;d<f.length;d++){var m=f[d],S=this.getValue(m,"x",E),C=this.getValue(m,"y",E);h.setFrame(p,this.getValue(m,"time",0),S*w,C*w),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ul.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var T in e.ik){var I=e.ik[T],A=n.findIkConstraint(T),h=new Od(I.length);h.ikConstraintIndex=n.ikConstraints.indexOf(A);for(var p=0,d=0;d<I.length;d++){var m=I[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"mix",1),this.getValue(m,"softness",0)*i,this.getValue(m,"bendPositive",!0)?1:-1,this.getValue(m,"compress",!1),this.getValue(m,"stretch",!1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Od.ENTRIES])}if(e.transform)for(var T in e.transform){var I=e.transform[T],A=n.findTransformConstraint(T),h=new kd(I.length);h.transformConstraintIndex=n.transformConstraints.indexOf(A);for(var p=0,d=0;d<I.length;d++){var m=I[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1),this.getValue(m,"scaleMix",1),this.getValue(m,"shearMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*kd.ENTRIES])}if(e.path)for(var T in e.path){var I=e.path[T],R=n.findPathConstraintIndex(T);if(R==-1)throw new Error("Path constraint not found: "+T);var O=n.pathConstraints[R];for(var u in I){var f=I[u];if(u==="position"||u==="spacing"){var h=null,w=1;u==="spacing"?(h=new BA(f.length),(O.spacingMode==hn.Length||O.spacingMode==hn.Fixed)&&(w=i)):(h=new Dc(f.length),O.positionMode==xr.Fixed&&(w=i)),h.pathConstraintIndex=R;for(var p=0,d=0;d<f.length;d++){var m=f[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,u,0)*w),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Dc.ENTRIES])}else if(u==="mix"){var h=new Fd(f.length);h.pathConstraintIndex=R;for(var p=0,d=0;d<f.length;d++){var m=f[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Fd.ENTRIES])}}}if(e.deform)for(var F in e.deform){var N=e.deform[F],$=n.findSkin(F);if($!=null)for(var s in N){var c=N[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],q=$.getAttachment(l,u);if(q==null)throw new Error("Deform attachment not found: "+f.name);var K=q.bones!=null,G=q.vertices,L=K?G.length/3*2:G.length,h=new MA(f.length);h.slotIndex=l,h.attachment=q;for(var p=0,j=0;j<f.length;j++){var m=f[j],B=void 0,D=this.getValue(m,"vertices",null);if(D==null)B=K?oe.newFloatArray(L):G;else{B=oe.newFloatArray(L);var J=this.getValue(m,"offset",0);if(oe.arrayCopy(D,0,B,J,D.length),i!=1)for(var d=J,Q=d+D.length;d<Q;d++)B[d]*=i;if(!K)for(var d=0;d<L;d++)B[d]+=G[d]}h.setFrame(p,this.getValue(m,"time",0),B),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var se=e.drawOrder;if(se==null&&(se=e.draworder),se!=null){for(var h=new vc(se.length),re=n.slots.length,p=0,j=0;j<se.length;j++){var ce=se[j],Ee=null,we=this.getValue(ce,"offsets",null);if(we!=null){Ee=oe.newArray(re,-1);for(var pe=oe.newArray(re-we.length,0),ve=0,Ae=0,d=0;d<we.length;d++){var ke=we[d],l=n.findSlotIndex(ke.slot);if(l==-1)throw new Error("Slot not found: "+ke.slot);for(;ve!=l;)pe[Ae++]=ve++;Ee[ve+ke.offset]=ve++}for(;ve<re;)pe[Ae++]=ve++;for(var d=re-1;d>=0;d--)Ee[d]==-1&&(Ee[d]=pe[--Ae])}h.setFrame(p++,this.getValue(ce,"time",0),Ee)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new d_(e.events.length),p=0,d=0;d<e.events.length;d++){var Te=e.events[d],Fe=n.findEvent(Te.name);if(Fe==null)throw new Error("Event not found: "+Te.name);var Ne=new jA(oe.toSinglePrecision(this.getValue(Te,"time",0)),Fe);Ne.intValue=this.getValue(Te,"int",Fe.intValue),Ne.floatValue=this.getValue(Te,"float",Fe.floatValue),Ne.stringValue=this.getValue(Te,"string",Fe.stringValue),Ne.data.audioPath!=null&&(Ne.volume=this.getValue(Te,"volume",1),Ne.balance=this.getValue(Te,"balance",0)),h.setFrame(p++,Ne)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new qr(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Ve.NORMAL;if(e=="additive")return Ve.ADD;if(e=="multiply")return Ve.MULTIPLY;if(e=="screen")return Ve.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return xr.Fixed;if(e=="percent")return xr.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return hn.Length;if(e=="fixed")return hn.Fixed;if(e=="percent")return hn.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return Mr.Tangent;if(e=="chain")return Mr.Chain;if(e=="chainscale")return Mr.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ft.Normal;if(e=="onlytranslation")return ft.OnlyTranslation;if(e=="norotationorreflection")return ft.NoRotationOrReflection;if(e=="noscale")return ft.NoScale;if(e=="noscaleorreflection")return ft.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),zTe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),WTe=function(t){Sr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new $9(r),this.skeleton.updateWorldTransform(),this.stateData=new B9(r),this.state=new N9(this.stateData)},e}(h0);const YTe=Object.freeze(Object.defineProperty({__proto__:null,Animation:qr,AnimationState:N9,AnimationStateAdapter:VTe,AnimationStateData:B9,AtlasAttachmentLoader:DA,Attachment:OA,AttachmentTimeline:ml,Bone:BS,BoneData:UA,BoundingBoxAttachment:O9,ClippingAttachment:k9,ColorTimeline:Rd,ConstraintData:p_,CurveTimeline:eo,DeformTimeline:MA,DrawOrderTimeline:vc,Event:jA,EventData:$A,EventQueue:M9,EventTimeline:d_,get EventType(){return ii},IkConstraint:D9,IkConstraintData:VA,IkConstraintTimeline:Od,JitterEffect:jTe,MeshAttachment:h_,PathAttachment:Id,PathConstraint:U9,PathConstraintData:GA,PathConstraintMixTimeline:Fd,PathConstraintPositionTimeline:Dc,PathConstraintSpacingTimeline:BA,PointAttachment:F9,RegionAttachment:FA,RotateTimeline:Ti,ScaleTimeline:NA,ShearTimeline:LA,Skeleton:$9,SkeletonBinary:V9,SkeletonBounds:XTe,SkeletonData:HA,SkeletonJson:G9,Skin:fm,SkinEntry:DS,Slot:kA,SlotData:XA,get SpacingMode(){return hn},Spine:WTe,SwirlEffect:$Te,get TimelineType(){return In},TrackEntry:L9,TransformConstraint:j9,TransformConstraintData:zA,TransformConstraintTimeline:kd,TranslateTimeline:Ul,TwoColorTimeline:Pd,VertexAttachment:Zl},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var US=function(t,e){return US=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},US(t,e)};function Kr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");US(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var WA=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Jl=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.attachmentVertices,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,m=h.a,_=h.c,v=h.b,g=h.d,y=n,x=o;x<i;y+=2,x+=s){var b=u[y],w=u[y+1];a[x]=b*m+w*_+p,a[x+1]=b*v+w*g+d}return}for(var E=0,S=0,C=0;C<n;C+=2){var T=f[E];E+=T+1,S+=T}var I=c.bones;if(l.length==0)for(var x=o,_=S*3;x<i;x+=s){var A=0,R=0,T=f[E++];for(T+=E;E<T;E++,_+=3){var h=I[f[E]].matrix,b=u[_],w=u[_+1],O=u[_+2];A+=(b*h.a+w*h.c+h.tx)*O,R+=(b*h.b+w*h.d+h.ty)*O}a[x]=A,a[x+1]=R}else for(var F=l,x=o,_=S*3,N=S<<1;x<i;x+=s){var A=0,R=0,T=f[E++];for(T+=E;E<T;E++,_+=3,N+=2){var h=I[f[E]].matrix,b=u[_]+F[N],w=u[_+1]+F[N+1],O=u[_+2];A+=(b*h.a+w*h.c+h.tx)*O,R+=(b*h.b+w*h.d+h.ty)*O}a[x]=A,a[x+1]=R}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(WA),H9=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.BoundingBox,n.color=new Me(1,1,1,1),n}return e}(Jl),X9=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Clipping,n.color=new Me(.2275,.2275,.8078,1),n}return e}(Jl),YA=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Mesh,n.color=new Me(1,1,1,1),n.inheritDeform=!1,n.tempColor=new Me(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(Jl),Nd=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new Me(1,1,1,1),n}return e}(Jl),z9=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Point,n.color=new Me(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=W.cosDeg(this.rotation),a=W.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*W.radDeg},e}(Jl),qA=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Me,this.darkColor=e.darkColor==null?null:new Me,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),KA=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new Me(1,1,1,1),n.offset=oe.newFloatArray(8),n.uvs=oe.newFloatArray(8),n.tempColor=new Me(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,m=o*l+this.x,_=o*u,v=s*l+this.y,g=s*u,y=this.offset;y[e.OX1]=f-d,y[e.OY1]=p+h,y[e.OX2]=f-g,y[e.OY2]=v+h,y[e.OX3]=m-g,y[e.OY3]=v+_,y[e.OX4]=m-d,y[e.OY4]=p+_},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof qA?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,p=s.d,d=0,m=0;d=o[e.OX1],m=o[e.OY1],n[i]=d*u+m*f+c,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX2],m=o[e.OY2],n[i]=d*u+m*f+c,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX3],m=o[e.OY3],n[i]=d*u+m*f+c,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX4],m=o[e.OY4],n[i]=d*u+m*f+c,n[i+1]=d*h+m*p+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(WA),qTe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=W.randomTriangular(-this.jitterX,this.jitterY),e.y+=W.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),KTe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*W.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new P9(2),t}(),mn=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Rn;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Rn||(Rn={}));var to=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=oe.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var _=h,v=p,g=d+t.BEZIER_SIZE-1;d<g;d+=2)m[d]=_,m[d+1]=v,h+=u,p+=f,u+=c,f+=l,_+=h,v+=p},t.prototype.getCurvePercent=function(e,r){r=W.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),fa=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Rn.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case H.setup:u.rotation=u.data.rotation;return;case H.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case H.setup:u.rotation=u.data.rotation+h*o;break;case H.first:case H.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case H.add:u.rotation+=h*o}return}var p=mn.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],m=l[p],_=this.getCurvePercent((p>>1)-1,1-(i-m)/(l[p+e.PREV_TIME]-m)),v=l[p+e.ROTATION]-d;switch(v=d+(v-(16384-(16384.499999999996-v/360|0))*360)*_,s){case H.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case H.first:case H.replace:v+=u.data.rotation-u.rotation;case H.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(to),Ld=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Rn.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case H.setup:u.x=u.data.x,u.y=u.data.y;return;case H.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=mn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.X]-f)*m,h+=(l[p+e.Y]-h)*m}switch(s){case H.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case H.first:case H.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case H.add:u.x+=f*o,u.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(to),W9=function(t){Kr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Rn.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case H.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case H.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=mn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=(f+(l[p+e.X]-f)*m)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*m)*u.data.scaleY}if(o==1)s==H.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var _=0,v=0;if(c==mt.mixOut)switch(s){case H.setup:_=u.data.scaleX,v=u.data.scaleY,u.scaleX=_+(Math.abs(f)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case H.first:case H.replace:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(f)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case H.add:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(f)*W.signum(_)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-u.data.scaleY)*o}else switch(s){case H.setup:_=Math.abs(u.data.scaleX)*W.signum(f),v=Math.abs(u.data.scaleY)*W.signum(h),u.scaleX=_+(f-_)*o,u.scaleY=v+(h-v)*o;break;case H.first:case H.replace:_=Math.abs(u.scaleX)*W.signum(f),v=Math.abs(u.scaleY)*W.signum(h),u.scaleX=_+(f-_)*o,u.scaleY=v+(h-v)*o;break;case H.add:_=W.signum(f),v=W.signum(h),u.scaleX=Math.abs(u.scaleX)*_+(f-Math.abs(u.data.scaleX)*_)*o,u.scaleY=Math.abs(u.scaleY)*v+(h-Math.abs(u.data.scaleY)*v)*o}}},e}(Ld),Y9=function(t){Kr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Rn.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case H.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case H.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=mn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=f+(l[p+e.X]-f)*m,h=h+(l[p+e.Y]-h)*m}switch(s){case H.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case H.first:case H.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case H.add:u.shearX+=f*o,u.shearY+=h*o}},e}(Ld),jS=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Rn.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case H.setup:l.color.setFromColor(l.data.color);return;case H.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,m=0,_=0;if(i>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],m=u[v+e.PREV_B],_=u[v+e.PREV_A]}else{var g=mn.binarySearch(u,i,e.ENTRIES);p=u[g+e.PREV_R],d=u[g+e.PREV_G],m=u[g+e.PREV_B],_=u[g+e.PREV_A];var y=u[g],x=this.getCurvePercent(g/e.ENTRIES-1,1-(i-y)/(u[g+e.PREV_TIME]-y));p+=(u[g+e.R]-p)*x,d+=(u[g+e.G]-d)*x,m+=(u[g+e.B]-m)*x,_+=(u[g+e.A]-_)*x}if(o==1)l.color.set(p,d,m,_);else{var f=l.color;s==H.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(m-f.b)*o,(_-f.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(to),$S=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Rn.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case H.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case H.first:var f=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=0;if(i>=u[u.length-e.ENTRIES]){var w=u.length;m=u[w+e.PREV_R],_=u[w+e.PREV_G],v=u[w+e.PREV_B],g=u[w+e.PREV_A],y=u[w+e.PREV_R2],x=u[w+e.PREV_G2],b=u[w+e.PREV_B2]}else{var E=mn.binarySearch(u,i,e.ENTRIES);m=u[E+e.PREV_R],_=u[E+e.PREV_G],v=u[E+e.PREV_B],g=u[E+e.PREV_A],y=u[E+e.PREV_R2],x=u[E+e.PREV_G2],b=u[E+e.PREV_B2];var S=u[E],C=this.getCurvePercent(E/e.ENTRIES-1,1-(i-S)/(u[E+e.PREV_TIME]-S));m+=(u[E+e.R]-m)*C,_+=(u[E+e.G]-_)*C,v+=(u[E+e.B]-v)*C,g+=(u[E+e.A]-g)*C,y+=(u[E+e.R2]-y)*C,x+=(u[E+e.G2]-x)*C,b+=(u[E+e.B2]-b)*C}if(o==1)l.color.set(m,_,v,g),l.darkColor.set(y,x,b,1);else{var f=l.color,h=l.darkColor;s==H.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((m-f.r)*o,(_-f.g)*o,(v-f.b)*o,(g-f.a)*o),h.add((y-h.r)*o,(x-h.g)*o,(b-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(to),hm=function(){function t(e){this.frames=oe.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Rn.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(s==mt.mixOut&&o==H.setup){var l=c.data.attachmentName;c.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==H.setup||o==H.first){var f=c.data.attachmentName;c.setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}return}var h=0;n>=u[u.length-1]?h=u.length-1:h=mn.binarySearch(u,n,1)-1;var p=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(p==null?null:e.getAttachment(this.slotIndex,p))},t}(),oL=null,q9=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r),n.frameVertices=new Array(r),oL==null&&(oL=oe.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Rn.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof Jl)||!u.applyDeform(this.attachment))){var f=l.attachmentVertices;f.length==0&&(s=H.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var m=u;switch(s){case H.setup:f.length=0;return;case H.first:if(o==1){f.length=0;break}var _=oe.setArraySize(f,p);if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)_[g]+=(v[g]-_[g])*o;else{o=1-o;for(var g=0;g<p;g++)_[g]*=o}}return}var y=oe.setArraySize(f,p);if(i>=d[d.length-1]){var x=h[d.length-1];if(o==1)if(s==H.add){var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)y[g]+=x[g]-v[g];else for(var g=0;g<p;g++)y[g]+=x[g]}else oe.arrayCopy(x,0,y,0,p);else switch(s){case H.setup:{var b=u;if(b.bones==null)for(var v=b.vertices,g=0;g<p;g++){var w=v[g];y[g]=w+(x[g]-w)*o}else for(var g=0;g<p;g++)y[g]=x[g]*o;break}case H.first:case H.replace:for(var g=0;g<p;g++)y[g]+=(x[g]-y[g])*o;case H.add:var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)y[g]+=(x[g]-v[g])*o;else for(var g=0;g<p;g++)y[g]+=x[g]*o}return}var E=mn.binarySearch(d,i),S=h[E-1],C=h[E],T=d[E],I=this.getCurvePercent(E-1,1-(i-T)/(d[E-1]-T));if(o==1)if(s==H.add){var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++){var A=S[g];y[g]+=A+(C[g]-A)*I-v[g]}else for(var g=0;g<p;g++){var A=S[g];y[g]+=A+(C[g]-A)*I}}else for(var g=0;g<p;g++){var A=S[g];y[g]=A+(C[g]-A)*I}else switch(s){case H.setup:{var R=u;if(R.bones==null)for(var v=R.vertices,g=0;g<p;g++){var A=S[g],w=v[g];y[g]=w+(A+(C[g]-A)*I-w)*o}else for(var g=0;g<p;g++){var A=S[g];y[g]=(A+(C[g]-A)*I)*o}break}case H.first:case H.replace:for(var g=0;g<p;g++){var A=S[g];y[g]+=(A+(C[g]-A)*I-y[g])*o}break;case H.add:var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++){var A=S[g];y[g]+=(A+(C[g]-A)*I-v[g])*o}else for(var g=0;g<p;g++){var A=S[g];y[g]+=(A+(C[g]-A)*I)*o}}}},e}(to),K9=function(){function t(e){this.frames=oe.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Rn.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=mn.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),dm=function(){function t(e){this.frames=oe.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Rn.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==mt.mixOut&&o==H.setup){oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==H.setup||o==H.first)&&oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=mn.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)oe.arrayCopy(l,0,c,0,l.length);else for(var p=0,d=h.length;p<d;p++)c[p]=l[h[p]]},t}(),VS=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Rn.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case H.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case H.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==H.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,c==mt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,c==mt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=mn.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],p=l[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(i-p)/(l[f+e.PREV_TIME]-p));s==H.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*d-u.data.mix)*o,c==mt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*d-u.mix)*o,c==mt.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(to),GS=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Rn.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var f=u.data;switch(s){case H.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case H.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,m=0;if(i>=l[l.length-e.ENTRIES]){var _=l.length;h=l[_+e.PREV_ROTATE],p=l[_+e.PREV_TRANSLATE],d=l[_+e.PREV_SCALE],m=l[_+e.PREV_SHEAR]}else{var v=mn.binarySearch(l,i,e.ENTRIES);h=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],m=l[v+e.PREV_SHEAR];var g=l[v],y=this.getCurvePercent(v/e.ENTRIES-1,1-(i-g)/(l[v+e.PREV_TIME]-g));h+=(l[v+e.ROTATE]-h)*y,p+=(l[v+e.TRANSLATE]-p)*y,d+=(l[v+e.SCALE]-d)*y,m+=(l[v+e.SHEAR]-m)*y}if(s==H.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(p-f.translateMix)*o,u.scaleMix=f.scaleMix+(d-f.scaleMix)*o,u.shearMix=f.shearMix+(m-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(m-u.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(to),pm=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Rn.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case H.setup:u.position=u.data.position;return;case H.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=mn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==H.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(to),Z9=function(t){Kr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Rn.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case H.setup:u.spacing=u.data.spacing;return;case H.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=mn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==H.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o},e}(pm),HS=function(t){Kr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Rn.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case H.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case H.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=mn.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.ROTATE]-f)*m,h+=(l[p+e.TRANSLATE]-h)*m}s==H.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(to),J9=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new e$(this),this.propertyIDs=new I9,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new f_(function(){return new Q9}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?H.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||c==H.add)for(var d=0;d<h;d++)oe.webkit602BugfixHelper(l,c),p[d].apply(e,u,f,r,l,c,mt.mixIn);else{var m=s.timelineMode,_=s.timelinesRotation.length==0;_&&oe.setArraySize(s.timelinesRotation,h<<1,null);for(var v=s.timelinesRotation,d=0;d<h;d++){var g=p[d],y=m[d]==t.SUBSEQUENT?c:H.setup;g instanceof fa?this.applyRotateTimeline(g,e,f,l,y,v,d<<1,_):(oe.webkit602BugfixHelper(l,c),g.apply(e,u,f,r,l,y,mt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==H.first&&(n=H.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=H.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==H.add)for(var m=0;m<f;m++)h[m].apply(r,l,u,o,d,n,mt.mixOut);else{var _=i.timelineMode,v=i.timelineHoldMix,g=i.timelinesRotation.length==0;g&&oe.setArraySize(i.timelinesRotation,f<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var m=0;m<f;m++){var x=h[m],b=mt.mixOut,w=void 0,E=0;switch(_[m]){case t.SUBSEQUENT:if(!s&&x instanceof hm||!c&&x instanceof dm)continue;w=n,E=d;break;case t.FIRST:w=H.setup,E=d;break;case t.HOLD:w=H.setup,E=p;break;default:w=H.setup;var S=v[m];E=p*Math.max(0,1-S.mixTime/S.mixDuration);break}i.totalAlpha+=E,x instanceof fa?this.applyRotateTimeline(x,r,u,E,w,y,m<<1,g):(oe.webkit602BugfixHelper(E,n),w==H.setup&&(x instanceof hm?s&&(b=mt.mixOut):x instanceof dm&&c&&(b=mt.mixOut)),x.apply(r,l,u,o,E,w,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,mt.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex],h=0,p=0;if(n<u[0])switch(a){case H.setup:f.rotation=f.data.rotation;default:return;case H.first:h=f.rotation,p=f.data.rotation}else if(h=a==H.setup?f.data.rotation:f.rotation,n>=u[u.length-fa.ENTRIES])p=f.data.rotation+u[u.length+fa.PREV_ROTATION];else{var d=mn.binarySearch(u,n,fa.ENTRIES),m=u[d+fa.PREV_ROTATION],_=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-_)/(u[d+fa.PREV_TIME]-_));p=u[d+fa.ROTATION]-m,p-=(16384-(16384.499999999996-p/360|0))*360,p=m+p*v+f.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var g=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)g=o[s];else{var x=0,b=0;c?(x=0,b=y):(x=o[s],b=o[s+1]);var w=y>0,E=x>=0;W.signum(b)!=W.signum(y)&&Math.abs(b)<=90&&(Math.abs(x)>180&&(x+=360*W.signum(x)),E=w),g=y+x-x%360,E!=w&&(g+=360*W.signum(x)),o[s]=g}o[s+1]=y,h+=g*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(oe.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=H.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=oe.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=oe.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)s.add(n[c].getPropertyId()),a[c]=t.HOLD;return}e:for(var c=0;c<i;c++){var l=n[c].getPropertyId();if(!s.add(l))a[c]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[c]=t.FIRST;else{for(var u=r.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=u;continue e}break}a[c]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new mn("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),Q9=function(){function t(){this.mixBlend=H.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),e$=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ai.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ai.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ai.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ai.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ai.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ai.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ai.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case ai.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case ai.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case ai.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case ai.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=W.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case ai.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),ai;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ai||(ai={}));var ZTe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),t$=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),r$=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new KA(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new YA(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new H9(r)},t.prototype.newPathAttachment=function(e,r){return new Nd(r)},t.prototype.newPointAttachment=function(e,r){return new z9(r)},t.prototype.newClippingAttachment=function(e,r){return new X9(r)},t}(),XS=function(){function t(e,r,n){if(this.matrix=new vr,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,p=n+90+s;l.a=W.cosDeg(n+o)*i*u,l.c=W.cosDeg(p)*a*u,l.b=W.sinDeg(n+o)*i*f,l.d=W.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,m=c.matrix.c,_=c.matrix.b,v=c.matrix.d;switch(l.tx=d*e+m*r+c.matrix.tx,l.ty=_*e+v*r+c.matrix.ty,this.data.transformMode){case ft.Normal:{var p=n+90+s,g=W.cosDeg(n+o)*i,y=W.cosDeg(p)*a,x=W.sinDeg(n+o)*i,b=W.sinDeg(p)*a;l.a=d*g+m*x,l.c=d*y+m*b,l.b=_*g+v*x,l.d=_*y+v*b;return}case ft.OnlyTranslation:{var p=n+90+s;l.a=W.cosDeg(n+o)*i,l.c=W.cosDeg(p)*a,l.b=W.sinDeg(n+o)*i,l.d=W.sinDeg(p)*a;break}case ft.NoRotationOrReflection:{var w=d*d+_*_,E=0;w>1e-4?(w=Math.abs(d*v-m*_)/w,m=_*w,v=d*w,E=Math.atan2(_,d)*W.radDeg):(d=0,_=0,E=90-Math.atan2(v,m)*W.radDeg);var S=n+o-E,C=n+s-E+90,g=W.cosDeg(S)*i,y=W.cosDeg(C)*a,x=W.sinDeg(S)*i,b=W.sinDeg(C)*a;l.a=d*g-m*x,l.c=d*y-m*b,l.b=_*g+v*x,l.d=_*y+v*b;break}case ft.NoScale:case ft.NoScaleOrReflection:{var T=W.cosDeg(n),I=W.sinDeg(n),A=(d*T+m*I)/u,R=(_*T+v*I)/f,w=Math.sqrt(A*A+R*R);w>1e-5&&(w=1/w),A*=w,R*=w,w=Math.sqrt(A*A+R*R),this.data.transformMode==ft.NoScale&&d*v-m*_<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(w=-w);var O=Math.PI/2+Math.atan2(R,A),F=Math.cos(O)*w,N=Math.sin(O)*w,g=W.cosDeg(o)*i,y=W.cosDeg(90+s)*a,x=W.sinDeg(o)*i,b=W.sinDeg(90+s)*a;l.a=A*g+F*x,l.c=A*y+F*b,l.b=R*g+N*x,l.d=R*y+N*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*W.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*W.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*W.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*W.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var m=f*d-h*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,m)*W.radDeg,this.arotation=Math.atan2(p,f)*W.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*W.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*W.radDeg},t.prototype.localToWorldRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*W.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=W.cosDeg(e),c=W.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),n$=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=ft.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),i$=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),a$=function(){function t(e){this.name=e}return t}(),o$=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=1/(c.a*c.d-c.b*c.c),u=r-c.tx,f=n-c.ty,h=(u*c.d-f*c.c)*l-e.ax,p=(f*c.a-u*c.b)*l-e.ay,d=Math.atan2(p,h)*W.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var m=e.ascaleX,_=e.ascaleY;if(i||a){var v=e.data.length*m,g=Math.sqrt(h*h+p*p);if(i&&g<v||a&&g>v&&v>1e-4){var y=(g/v-1)*s+1;m*=y,o&&(_*=y)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,m,_,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var c=e.ax,l=e.ay,u=e.ascaleX,f=u,h=e.ascaleY,p=r.ascaleX,d=e.matrix,m=0,_=0,v=0;u<0?(u=-u,m=180,v=-1):(m=0,v=1),h<0&&(h=-h,v=-v),p<0?(p=-p,_=180):_=0;var g=r.ax,y=0,x=0,b=0,w=d.a,E=d.c,S=d.b,C=d.d,T=Math.abs(u-h)<=1e-4;T?(y=r.ay,x=w*g+E*y+d.tx,b=S*g+C*y+d.ty):(y=0,x=w*g+d.tx,b=S*g+d.ty);var I=e.parent.matrix;w=I.a,E=I.c,S=I.b,C=I.d;var A=1/(w*C-E*S),R=n-I.tx,O=i-I.ty,F=(R*C-O*E)*A-c,N=(O*w-R*S)*A-l,$=F*F+N*N;R=x-I.tx,O=b-I.ty;var q=(R*C-O*E)*A-c,K=(O*w-R*S)*A-l,G=Math.sqrt(q*q+K*K),L=r.data.length*p,j=0,B=0;e:if(T){L*=u;var D=($-G*G-L*L)/(2*G*L);D<-1?D=-1:D>1&&(D=1,o&&G+L>1e-4&&(f*=(Math.sqrt($)/(G+L)-1)*s+1)),B=Math.acos(D)*a,w=G+L*D,E=L*Math.sin(B),j=Math.atan2(N*w-F*E,F*w+N*E)}else{w=u*L,E=h*L;var J=w*w,Q=E*E,se=Math.atan2(N,F);S=Q*G*G+J*$-J*Q;var re=-2*Q*G,ce=Q-J;if(C=re*re-4*ce*S,C>=0){var Ee=Math.sqrt(C);re<0&&(Ee=-Ee),Ee=-(re+Ee)/2;var we=Ee/ce,pe=S/Ee,ve=Math.abs(we)<Math.abs(pe)?we:pe;if(ve*ve<=$){O=Math.sqrt($-ve*ve)*a,j=se-Math.atan2(O,ve),B=Math.atan2(O/h,(ve-G)/u);break e}}var Ae=W.PI,ke=G-w,Te=ke*ke,Fe=0,Ne=0,Je=G+w,vt=Je*Je,Qe=0;S=-w*G/(J-Q),S>=-1&&S<=1&&(S=Math.acos(S),R=w*Math.cos(S)+G,O=E*Math.sin(S),C=R*R+O*O,C<Te&&(Ae=S,Te=C,ke=R,Fe=O),C>vt&&(Ne=S,vt=C,Je=R,Qe=O)),$<=(Te+vt)/2?(j=se-Math.atan2(Fe*a,ke),B=Ae*a):(j=se-Math.atan2(Qe*a,Je),B=Ne*a)}var Ke=Math.atan2(y,g)*v,ut=e.arotation;j=(j-Ke)*W.radDeg+m-ut,j>180?j-=360:j<-180&&(j+=360),e.updateWorldTransformWith(c,l,ut+j*s,f,e.ascaleY,0,0),ut=r.arotation,B=((B+Ke)*W.radDeg-r.ashearX)*v+_-ut,B>180?B-=360:B<-180&&(B+=360),r.updateWorldTransformWith(g,y,ut+B*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),s$=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),l$=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),$i;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})($i||($i={}));var u$=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Nd){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==$i.Length,l=o.rotateMode,u=l==Mr.Tangent,f=l==Mr.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,m=oe.setArraySize(this.spaces,p),_=null,v=this.spacing;if(f||c){f&&(_=oe.setArraySize(this.lengths,h));for(var g=0,y=p-1;g<y;){var x=d[g],b=x.data.length;if(b<t.epsilon)f&&(_[g]=0),m[++g]=0;else{var w=b*x.matrix.a,E=b*x.matrix.b,S=Math.sqrt(w*w+E*E);f&&(_[g]=S),m[++g]=(c?b+v:v)*S/b}}}else for(var g=1;g<p;g++)m[g]=v;var C=this.computeWorldPositions(e,p,u,o.positionMode==xr.Percent,s==$i.Percent),T=C[0],I=C[1],A=o.offsetRotation,R=!1;if(A==0)R=l==Mr.Chain;else{R=!1;var O=this.target.bone.matrix;A*=O.a*O.d-O.b*O.c>0?W.degRad:-W.degRad}for(var g=0,O=3;g<h;g++,O+=3){var x=d[g],F=x.matrix;F.tx+=(T-F.tx)*n,F.ty+=(I-F.ty)*n;var w=C[O],E=C[O+1],N=w-T,$=E-I;if(f){var q=_[g];if(q!=0){var K=(Math.sqrt(N*N+$*$)/q-1)*r+1;F.a*=K,F.b*=K}}if(T=w,I=E,a){var G=F.a,L=F.c,j=F.b,B=F.d,D=0,J=0,Q=0;if(u?D=C[O-1]:m[g+1]==0?D=C[O+2]:D=Math.atan2($,N),D-=Math.atan2(j,G),R){J=Math.cos(D),Q=Math.sin(D);var se=x.data.length;T+=(se*(J*G-Q*j)-N)*r,I+=(se*(Q*G+J*j)-$)*r}else D+=A;D>W.PI?D-=W.PI2:D<-W.PI&&(D+=W.PI2),D*=r,J=Math.cos(D),Q=Math.sin(D),F.a=J*G-Q*j,F.c=J*L-Q*B,F.b=Q*G+J*j,F.d=Q*L+J*B}x.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=oe.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var m=e.lengths;p-=f?1:2;var _=m[p];if(i&&(s*=_),a)for(var v=0;v<r;v++)c[v]*=_;u=oe.setArraySize(this.world,8);for(var v=0,g=0,y=0;v<r;v++,g+=3){var x=c[v];s+=x;var b=s;if(f)b%=_,b<0&&(b+=_),y=0;else if(b<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,g);continue}else if(b>_){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-_,u,0,l,g);continue}for(;;y++){var w=m[y];if(!(b>w)){if(y==0)b/=w;else{var E=m[y-1];b=(b-E)/(w-E)}break}}y!=d&&(d=y,f&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,g,n||v>0&&x==0)}return l}f?(h+=2,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var S=oe.setArraySize(this.curves,p),C=0,T=u[0],I=u[1],A=0,R=0,O=0,F=0,N=0,$=0,q=0,K=0,G=0,L=0,j=0,B=0,D=0,J=0,v=0,Q=2;v<p;v++,Q+=6)A=u[Q],R=u[Q+1],O=u[Q+2],F=u[Q+3],N=u[Q+4],$=u[Q+5],q=(T-A*2+O)*.1875,K=(I-R*2+F)*.1875,G=((A-O)*3-T+N)*.09375,L=((R-F)*3-I+$)*.09375,j=q*2+G,B=K*2+L,D=(A-T)*.75+q+G*.16666667,J=(R-I)*.75+K+L*.16666667,C+=Math.sqrt(D*D+J*J),D+=j,J+=B,j+=G,B+=L,C+=Math.sqrt(D*D+J*J),D+=j,J+=B,C+=Math.sqrt(D*D+J*J),D+=j+G,J+=B+L,C+=Math.sqrt(D*D+J*J),S[v]=C,T=N,I=$;if(i&&(s*=C),a)for(var v=0;v<r;v++)c[v]*=C;for(var se=this.segments,re=0,v=0,g=0,y=0,ce=0;v<r;v++,g+=3){var x=c[v];s+=x;var b=s;if(f)b%=C,b<0&&(b+=C),y=0;else if(b<0){this.addBeforePosition(b,u,0,l,g);continue}else if(b>C){this.addAfterPosition(b-C,u,h-4,l,g);continue}for(;;y++){var Ee=S[y];if(!(b>Ee)){if(y==0)b/=Ee;else{var E=S[y-1];b=(b-E)/(Ee-E)}break}}if(y!=d){d=y;var we=y*6;for(T=u[we],I=u[we+1],A=u[we+2],R=u[we+3],O=u[we+4],F=u[we+5],N=u[we+6],$=u[we+7],q=(T-A*2+O)*.03,K=(I-R*2+F)*.03,G=((A-O)*3-T+N)*.006,L=((R-F)*3-I+$)*.006,j=q*2+G,B=K*2+L,D=(A-T)*.3+q+G*.16666667,J=(R-I)*.3+K+L*.16666667,re=Math.sqrt(D*D+J*J),se[0]=re,we=1;we<8;we++)D+=j,J+=B,j+=G,B+=L,re+=Math.sqrt(D*D+J*J),se[we]=re;D+=j,J+=B,re+=Math.sqrt(D*D+J*J),se[8]=re,D+=j+G,J+=B+L,re+=Math.sqrt(D*D+J*J),se[9]=re,ce=0}for(b*=re;;ce++){var pe=se[ce];if(!(b>pe)){if(ce==0)b/=pe;else{var E=se[ce-1];b=ce+(b-E)/(pe-E)}break}}this.addCurvePosition(b*.1,T,I,A,R,O,F,N,$,l,g,n||v>0&&x==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,m=1-e,_=m*m,v=_*m,g=m*e,y=g*3,x=m*y,b=y*e,w=r*v+i*x+o*b+c*d,E=n*v+a*x+s*b+l*d;u[f]=w,u[f+1]=E,h&&(u[f+2]=Math.atan2(E-(n*_+a*g*2+s*p),w-(r*_+i*g*2+o*p)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),c$=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Ad,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,w=y.b,E=y.d,S=Math.atan2(l,s)-Math.atan2(w,x)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*w,y.c=C*b-T*E,y.b=T*x+C*w,y.d=T*b+C*E,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=(I.x-y.tx)*r,y.ty+=(I.y-y.ty)*r,g=!0}if(n>0){var A=Math.sqrt(y.a*y.a+y.b*y.b),R=Math.sqrt(s*s+l*l);A>1e-5&&(A=(A+(R-A+this.data.offsetScaleX)*n)/A),y.a*=A,y.b*=A,A=Math.sqrt(y.c*y.c+y.d*y.d),R=Math.sqrt(c*c+u*u),A>1e-5&&(A=(A+(R-A+this.data.offsetScaleY)*n)/A),y.c*=A,y.d*=A,g=!0}if(i>0){var b=y.c,E=y.d,O=Math.atan2(E,b),S=Math.atan2(u,c)-Math.atan2(l,s)-(O-Math.atan2(y.b,y.a));S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S=O+(S+p)*i;var A=Math.sqrt(b*b+E*E);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,w=y.b,E=y.d,S=Math.atan2(l,s)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*w,y.c=C*b-T*E,y.b=T*x+C*w,y.d=T*b+C*E,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=I.x*r,y.ty+=I.y*r,g=!0}if(n>0){var A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=A,y.b*=A,A=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=A,y.d*=A,g=!0}if(i>0){var S=Math.atan2(u,c)-Math.atan2(l,s);S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2);var b=y.c,E=y.d;S=Math.atan2(E,b)+(S-W.PI/2+p)*i;var A=Math.sqrt(b*b+E*E);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,m=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),m>1e-5&&(m=(m+(a.ascaleY-m+this.data.offsetScaleY)*n)/m));var _=l.ashearY;if(i>0){var f=a.ashearY-_+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,p,u,d,m,l.ashearX,_)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var m=l.ashearY;i>0&&(m+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,p,d,l.ashearX,m)}},t.prototype.getOrder=function(){return this.data.order},t}(),f$=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new XS(n,this,null);else{var a=this.bones[n.parent.index];i=new XS(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new qA(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new o$(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new c$(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new u$(u,this))}this.color=new Me(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,c=a.length,l=o.length,u=s.length,f=c+l+u;e:for(var n=0;n<f;n++){for(var h=0;h<c;h++){var p=a[h];if(p.data.order==n){this.sortIkConstraint(p);continue e}}for(var h=0;h<l;h++){var p=o[h];if(p.data.order==n){this.sortTransformConstraint(p);continue e}}for(var h=0;h<u;h++){var p=s[h];if(p.data.order==n){this.sortPathConstraint(p);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Nd&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Nd){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;oe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l],h=0,p=null,d=f.getAttachment();if(d instanceof KA)h=8,p=oe.setArraySize(n,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof YA){var m=d;h=m.worldVerticesLength,p=oe.setArraySize(n,h,0),m.computeWorldVertices(f,0,h,p,0,2)}if(p!=null)for(var _=0,v=p.length;_<v;_+=2){var g=p[_],y=p[_+1];a=Math.min(a,g),o=Math.min(o,y),s=Math.max(s,g),c=Math.max(c,y)}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),JTe=function(t){Kr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(PA),h$=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),d$=function(){function t(e,r,n){if(this.color=new Me(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),p$=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),v$=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),m$=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new h$,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],c=null,l=this.getValue(s,"parent",null);if(l!=null&&(c=n.findBone(l),c==null))throw new Error("Parent bone not found: "+l);var u=new n$(n.bones.length,s.name,c);u.length=this.getValue(s,"length",0)*r,u.x=this.getValue(s,"x",0)*r,u.y=this.getValue(s,"y",0)*r,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var f=i.slots[o],h=f.name,p=f.bone,d=n.findBone(p);if(d==null)throw new Error("Slot bone not found: "+p);var u=new d$(n.slots.length,h,d),m=this.getValue(f,"color",null);m!=null&&u.color.setFromString(m);var _=this.getValue(f,"dark",null);_!=null&&(u.darkColor=new Me(1,1,1,1),u.darkColor.setFromString(_)),u.attachmentName=this.getValue(f,"attachment",null),u.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var v=i.ik[o],u=new s$(v.name);u.order=this.getValue(v,"order",0);for(var g=0;g<v.bones.length;g++){var p=v.bones[g],y=n.findBone(p);if(y==null)throw new Error("IK bone not found: "+p);u.bones.push(y)}var x=v.target;if(u.target=n.findBone(x),u.target==null)throw new Error("IK target bone not found: "+x);u.bendDirection=this.getValue(v,"bendPositive",!0)?1:-1,u.mix=this.getValue(v,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var v=i.transform[o],u=new p$(v.name);u.order=this.getValue(v,"order",0);for(var g=0;g<v.bones.length;g++){var p=v.bones[g],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var x=v.target;if(u.target=n.findBone(x),u.target==null)throw new Error("Transform constraint target bone not found: "+x);u.local=this.getValue(v,"local",!1),u.relative=this.getValue(v,"relative",!1),u.offsetRotation=this.getValue(v,"rotation",0),u.offsetX=this.getValue(v,"x",0)*r,u.offsetY=this.getValue(v,"y",0)*r,u.offsetScaleX=this.getValue(v,"scaleX",0),u.offsetScaleY=this.getValue(v,"scaleY",0),u.offsetShearY=this.getValue(v,"shearY",0),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),u.scaleMix=this.getValue(v,"scaleMix",1),u.shearMix=this.getValue(v,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var v=i.path[o],u=new l$(v.name);u.order=this.getValue(v,"order",0);for(var g=0;g<v.bones.length;g++){var p=v.bones[g],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var x=v.target;if(u.target=n.findSlot(x),u.target==null)throw new Error("Path target slot not found: "+x);u.positionMode=t.positionModeFromString(this.getValue(v,"positionMode","percent")),u.spacingMode=t.spacingModeFromString(this.getValue(v,"spacingMode","length")),u.rotateMode=t.rotateModeFromString(this.getValue(v,"rotateMode","tangent")),u.offsetRotation=this.getValue(v,"rotation",0),u.position=this.getValue(v,"position",0),u.positionMode==xr.Fixed&&(u.position*=r),u.spacing=this.getValue(v,"spacing",0),(u.spacingMode==$i.Length||u.spacingMode==$i.Fixed)&&(u.spacing*=r),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var b in i.skins){var w=i.skins[b],E=new v$(b);for(var h in w){var S=n.findSlotIndex(h);if(S==-1)throw new Error("Slot not found: "+h);var f=w[h];for(var C in f){var T=this.readAttachment(f[C],E,S,C,n);T!=null&&E.addAttachment(S,C,T)}}n.skins.push(E),E.name=="default"&&(n.defaultSkin=E)}for(var o=0,I=this.linkedMeshes.length;o<I;o++){var A=this.linkedMeshes[o],E=A.skin==null?n.defaultSkin:n.findSkin(A.skin);if(E==null)throw new Error("Skin not found: "+A.skin);var R=E.getAttachment(A.slotIndex,A.parent);if(R==null)throw new Error("Parent mesh not found: "+A.parent);A.mesh.setParentMesh(R)}if(this.linkedMeshes.length=0,i.events)for(var O in i.events){var F=i.events[O],u=new a$(O);u.intValue=this.getValue(F,"int",0),u.floatValue=this.getValue(F,"float",0),u.stringValue=this.getValue(F,"string",""),u.audioPath=this.getValue(F,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(F,"volume",1),u.balance=this.getValue(F,"balance",0)),n.events.push(u)}if(i.animations)for(var N in i.animations){var $=i.animations[N];this.readAnimation($,N,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u);var p=this.getValue(e,"parent",null);if(p!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new QTe(h,this.getValue(e,"skin",null),n,p)),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var m=e.vertexCount;this.readVertices(e,c,m<<1);for(var _=oe.newArray(m/3,0),v=0;v<e.lengths.length;v++)_[v]=e.lengths[v]*o;c.lengths=_;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(g==null)return null;g.x=this.getValue(e,"x",0)*o,g.y=this.getValue(e,"y",0)*o,g.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&g.color.setFromString(u),g}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var x=this.getValue(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);y.endSlot=b}var m=e.vertexCount;this.readVertices(e,y,m<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=oe.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=oe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new hm(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var m=f[d];h.setFrame(p++,m.time,m.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new jS(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var m=f[d],_=new Me;_.setFromString(m.color||"ffffffff"),h.setFrame(p,m.time,_.r,_.g,_.b,_.a),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*jS.ENTRIES])}else if(u=="twoColor"){var h=new $S(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var m=f[d],v=new Me,g=new Me;v.setFromString(m.light),g.setFromString(m.dark),h.setFrame(p,m.time,v.r,v.g,v.b,v.a,g.r,g.g,g.b),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*$S.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var x=e.bones[y],b=n.findBoneIndex(y);if(b==-1)throw new Error("Bone not found: "+y);for(var u in x){var f=x[u];if(u==="rotate"){var h=new fa(f.length);h.boneIndex=b;for(var p=0,d=0;d<f.length;d++){var m=f[d];h.setFrame(p,m.time,m.angle),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*fa.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,w=1;u==="scale"?h=new W9(f.length):u==="shear"?h=new Y9(f.length):(h=new Ld(f.length),w=i),h.boneIndex=b;for(var p=0,d=0;d<f.length;d++){var m=f[d],E=this.getValue(m,"x",0),S=this.getValue(m,"y",0);h.setFrame(p,m.time,E*w,S*w),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ld.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var C in e.ik){var T=e.ik[C],I=n.findIkConstraint(C),h=new VS(T.length);h.ikConstraintIndex=n.ikConstraints.indexOf(I);for(var p=0,d=0;d<T.length;d++){var m=T[d];h.setFrame(p,m.time,this.getValue(m,"mix",1),this.getValue(m,"bendPositive",!0)?1:-1,this.getValue(m,"compress",!1),this.getValue(m,"stretch",!1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*VS.ENTRIES])}if(e.transform)for(var C in e.transform){var T=e.transform[C],I=n.findTransformConstraint(C),h=new GS(T.length);h.transformConstraintIndex=n.transformConstraints.indexOf(I);for(var p=0,d=0;d<T.length;d++){var m=T[d];h.setFrame(p,m.time,this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1),this.getValue(m,"scaleMix",1),this.getValue(m,"shearMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*GS.ENTRIES])}if(e.paths)for(var C in e.paths){var T=e.paths[C],A=n.findPathConstraintIndex(C);if(A==-1)throw new Error("Path constraint not found: "+C);var R=n.pathConstraints[A];for(var u in T){var f=T[u];if(u==="position"||u==="spacing"){var h=null,w=1;u==="spacing"?(h=new Z9(f.length),(R.spacingMode==$i.Length||R.spacingMode==$i.Fixed)&&(w=i)):(h=new pm(f.length),R.positionMode==xr.Fixed&&(w=i)),h.pathConstraintIndex=A;for(var p=0,d=0;d<f.length;d++){var m=f[d];h.setFrame(p,m.time,this.getValue(m,u,0)*w),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*pm.ENTRIES])}else if(u==="mix"){var h=new HS(f.length);h.pathConstraintIndex=A;for(var p=0,d=0;d<f.length;d++){var m=f[d];h.setFrame(p,m.time,this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*HS.ENTRIES])}}}if(e.deform)for(var O in e.deform){var F=e.deform[O],N=n.findSkin(O);if(N!=null)for(var s in F){var c=F[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],$=N.getAttachment(l,u);if($==null)throw new Error("Deform attachment not found: "+f.name);var q=$.bones!=null,K=$.vertices,G=q?K.length/3*2:K.length,h=new q9(f.length);h.slotIndex=l,h.attachment=$;for(var p=0,L=0;L<f.length;L++){var m=f[L],j=void 0,B=this.getValue(m,"vertices",null);if(B==null)j=q?oe.newFloatArray(G):K;else{j=oe.newFloatArray(G);var D=this.getValue(m,"offset",0);if(oe.arrayCopy(B,0,j,D,B.length),i!=1)for(var d=D,J=d+B.length;d<J;d++)j[d]*=i;if(!q)for(var d=0;d<G;d++)j[d]+=K[d]}h.setFrame(p,m.time,j),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var Q=e.drawOrder;if(Q==null&&(Q=e.draworder),Q!=null){for(var h=new dm(Q.length),se=n.slots.length,p=0,L=0;L<Q.length;L++){var re=Q[L],ce=null,Ee=this.getValue(re,"offsets",null);if(Ee!=null){ce=oe.newArray(se,-1);for(var we=oe.newArray(se-Ee.length,0),pe=0,ve=0,d=0;d<Ee.length;d++){var Ae=Ee[d],l=n.findSlotIndex(Ae.slot);if(l==-1)throw new Error("Slot not found: "+Ae.slot);for(;pe!=l;)we[ve++]=pe++;ce[pe+Ae.offset]=pe++}for(;pe<se;)we[ve++]=pe++;for(var d=se-1;d>=0;d--)ce[d]==-1&&(ce[d]=we[--ve])}h.setFrame(p++,re.time,ce)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new K9(e.events.length),p=0,d=0;d<e.events.length;d++){var ke=e.events[d],Te=n.findEvent(ke.name);if(Te==null)throw new Error("Event not found: "+ke.name);var Fe=new i$(oe.toSinglePrecision(ke.time),Te);Fe.intValue=this.getValue(ke,"int",Te.intValue),Fe.floatValue=this.getValue(ke,"float",Te.floatValue),Fe.stringValue=this.getValue(ke,"string",Te.stringValue),Fe.data.audioPath!=null&&(Fe.volume=this.getValue(ke,"volume",1),Fe.balance=this.getValue(ke,"balance",0)),h.setFrame(p++,Fe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new mn(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Ve.NORMAL;if(e=="additive")return Ve.ADD;if(e=="multiply")return Ve.MULTIPLY;if(e=="screen")return Ve.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return xr.Fixed;if(e=="percent")return xr.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return $i.Length;if(e=="fixed")return $i.Fixed;if(e=="percent")return $i.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return Mr.Tangent;if(e=="chain")return Mr.Chain;if(e=="chainscale")return Mr.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ft.Normal;if(e=="onlytranslation")return ft.OnlyTranslation;if(e=="norotationorreflection")return ft.NoRotationOrReflection;if(e=="noscale")return ft.NoScale;if(e=="noscaleorreflection")return ft.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),QTe=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),eAe=function(t){Kr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new f$(r),this.skeleton.updateWorldTransform(),this.stateData=new t$(r),this.state=new J9(this.stateData)},e}(h0);const tAe=Object.freeze(Object.defineProperty({__proto__:null,Animation:mn,AnimationState:J9,AnimationStateAdapter2:ZTe,AnimationStateData:t$,AtlasAttachmentLoader:r$,Attachment:WA,AttachmentTimeline:hm,Bone:XS,BoneData:n$,BoundingBoxAttachment:H9,ClippingAttachment:X9,ColorTimeline:jS,CurveTimeline:to,DeformTimeline:q9,DrawOrderTimeline:dm,Event:i$,EventData:a$,EventQueue:e$,EventTimeline:K9,get EventType(){return ai},IkConstraint:o$,IkConstraintData:s$,IkConstraintTimeline:VS,JitterEffect:qTe,MeshAttachment:YA,PathAttachment:Nd,PathConstraint:u$,PathConstraintData:l$,PathConstraintMixTimeline:HS,PathConstraintPositionTimeline:pm,PathConstraintSpacingTimeline:Z9,PointAttachment:z9,RegionAttachment:KA,RotateTimeline:fa,ScaleTimeline:W9,ShearTimeline:Y9,Skeleton:f$,SkeletonBounds:JTe,SkeletonData:h$,SkeletonJson:m$,Skin:v$,Slot:qA,SlotData:d$,get SpacingMode(){return $i},Spine:eAe,SwirlEffect:KTe,get TimelineType(){return Rn},TrackEntry:Q9,TransformConstraint:c$,TransformConstraintData:p$,TransformConstraintTimeline:GS,TranslateTimeline:Ld,TwoColorTimeline:$S,VertexAttachment:Jl},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zS=function(t,e){return zS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zS(t,e)};function bt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ZA=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),Ya=function(t){bt(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(!f){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,m=h.a,_=h.c,v=h.b,g=h.d,y=n,x=o;x<i;y+=2,x+=s){var b=u[y],w=u[y+1];a[x]=b*m+w*_+p,a[x+1]=b*v+w*g+d}return}for(var E=0,S=0,C=0;C<n;C+=2){var T=f[E];E+=T+1,S+=T}var I=c.bones;if(l.length==0)for(var x=o,_=S*3;x<i;x+=s){var A=0,R=0,T=f[E++];for(T+=E;E<T;E++,_+=3){var h=I[f[E]].matrix,b=u[_],w=u[_+1],O=u[_+2];A+=(b*h.a+w*h.c+h.tx)*O,R+=(b*h.b+w*h.d+h.ty)*O}a[x]=A,a[x+1]=R}else for(var F=l,x=o,_=S*3,N=S<<1;x<i;x+=s){var A=0,R=0,T=f[E++];for(T+=E;E<T;E++,_+=3,N+=2){var h=I[f[E]].matrix,b=u[_]+F[N],w=u[_+1]+F[N+1],O=u[_+2];A+=(b*h.a+w*h.c+h.tx)*O,R+=(b*h.b+w*h.d+h.ty)*O}a[x]=A,a[x+1]=R}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),oe.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=oe.newFloatArray(this.vertices.length),oe.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(ZA),g$=function(t){bt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.BoundingBox,n.color=new Me(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Ya),_$=function(t){bt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Clipping,n.endSlot=null,n.color=new Me(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Ya),v_=function(t){bt(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=yt.Mesh,i.region=null,i.triangles=[],i.color=new Me(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new Me(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),oe.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),oe.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),oe.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(Ya),Md=function(t){bt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new Me(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),oe.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Ya),y$=function(t){bt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=yt.Point,n.x=0,n.y=0,n.rotation=0,n.color=new Me(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=W.cosDeg(this.rotation),a=W.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*W.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Ya),JA=function(t){bt(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=yt.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new Me(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=oe.newFloatArray(8),i.uvs=oe.newFloatArray(8),i.tempColor=new Me(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,c=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),f=Math.sin(l),h=this.x,p=this.y,d=a*u+h,m=a*f,_=o*u+p,v=o*f,g=s*u+h,y=s*f,x=c*u+p,b=c*f,w=this.offset;w[0]=d-v,w[1]=_+m,w[2]=d-b,w[3]=x+m,w[4]=g-b,w[5]=x+y,w[6]=g-v,w[7]=_+y;var E=this.uvs;r.degrees==90?(E[2]=r.u,E[3]=r.v2,E[4]=r.u,E[5]=r.v,E[6]=r.u2,E[7]=r.v,E[0]=r.u2,E[1]=r.v2):(E[0]=r.u,E[1]=r.v2,E[2]=r.u,E[3]=r.v,E[4]=r.u2,E[5]=r.v,E[6]=r.u2,E[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,c=o.matrix,l=c.tx,u=c.ty,f=c.a,h=c.c,p=c.b,d=c.d,m=0,_=0;m=s[0],_=s[1],n[i]=m*f+_*h+l,n[i+1]=m*p+_*d+u,i+=a,m=s[2],_=s[3],n[i]=m*f+_*h+l,n[i+1]=m*p+_*d+u,i+=a,m=s[4],_=s[5],n[i]=m*f+_*h+l,n[i+1]=m*p+_*d+u,i+=a,m=s[6],_=s[7],n[i]=m*f+_*h+l,n[i+1]=m*p+_*d+u},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,oe.arrayCopy(this.uvs,0,r.uvs,0,8),oe.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(ZA),QA=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return oe.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),Sn;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(Sn||(Sn={}));var eI=[Sn.hold,Sn.once,Sn.loop,Sn.pingpong,Sn.onceReverse,Sn.loopReverse,Sn.pingpongReverse],m_=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new R9,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t}(),Xt={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},Dr=function(){function t(e,r){this.propertyIds=r,this.frames=oe.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),Ea=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=oe.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=oe.newFloatArray(n);oe.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var m=(a-s*2+l)*.03,_=(o-c*2+u)*.03,v=((s-l)*3-a+f)*.006,g=((c-u)*3-o+h)*.006,y=m*2+v,x=_*2+g,b=(s-a)*.3+m+v*.16666667,w=(c-o)*.3+_+g*.16666667,E=a+b,S=o+w,C=d+18;d<C;d+=2)p[d]=E,p[d+1]=S,b+=y,w+=x,y+=v,x+=g,E+=b,S+=w},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],c=this.frames[n+i];return c+(r-s)/(o[a]-s)*(o[a+1]-c)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var u=o[a-2],f=o[a-1];return f+(r-u)/(o[a]-u)*(o[a+1]-f)}n+=this.getFrameEntries();var h=o[l-2],p=o[l-1];return p+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-p)},e}(Dr),Sa=function(t){bt(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],c=n[i+1];return c+(r-s)/(n[i+2]-s)*(n[i+2+1]-c);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(Ea),g_=function(t){bt(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(Ea),Bd=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.rotation=l.data.rotation;return;case H.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var f=this.getCurveValue(i);switch(s){case H.setup:l.rotation=l.data.rotation+f*o;break;case H.first:case H.replace:f+=l.data.rotation-l.rotation;case H.add:l.rotation+=f*o}}},e}(Sa),tI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.x+"|"+i,Xt.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.x=l.data.x,l.y=l.data.y;return;case H.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var f=0,h=0,p=Dr.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var m=u[p];f=u[p+1],h=u[p+2];var _=(i-m)/(u[p+3]-m);f+=(u[p+3+1]-f)*_,h+=(u[p+3+2]-h)*_;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case H.setup:l.x=l.data.x+f*o,l.y=l.data.y+h*o;break;case H.first:case H.replace:l.x+=(l.data.x+f-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case H.add:l.x+=f*o,l.y+=h*o}}},e}(g_),rI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.x=l.data.x;return;case H.first:l.x+=(l.data.x-l.x)*o}return}var f=this.getCurveValue(i);switch(s){case H.setup:l.x=l.data.x+f*o;break;case H.first:case H.replace:l.x+=(l.data.x+f-l.x)*o;break;case H.add:l.x+=f*o}}},e}(Sa),nI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.y=l.data.y;return;case H.first:l.y+=(l.data.y-l.y)*o}return}var f=this.getCurveValue(i);switch(s){case H.setup:l.y=l.data.y+f*o;break;case H.first:case H.replace:l.y+=(l.data.y+f-l.y)*o;break;case H.add:l.y+=f*o}}},e}(Sa),iI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.scaleX+"|"+i,Xt.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case H.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f,h,p=Dr.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var m=u[p];f=u[p+1],h=u[p+2];var _=(i-m)/(u[p+3]-m);f+=(u[p+3+1]-f)*_,h+=(u[p+3+2]-h)*_;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}if(f*=l.data.scaleX,h*=l.data.scaleY,o==1)s==H.add?(l.scaleX+=f-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=f,l.scaleY=h);else{var v=0,g=0;if(c==mt.mixOut)switch(s){case H.setup:v=l.data.scaleX,g=l.data.scaleY,l.scaleX=v+(Math.abs(f)*W.signum(v)-v)*o,l.scaleY=g+(Math.abs(h)*W.signum(g)-g)*o;break;case H.first:case H.replace:v=l.scaleX,g=l.scaleY,l.scaleX=v+(Math.abs(f)*W.signum(v)-v)*o,l.scaleY=g+(Math.abs(h)*W.signum(g)-g)*o;break;case H.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case H.setup:v=Math.abs(l.data.scaleX)*W.signum(f),g=Math.abs(l.data.scaleY)*W.signum(h),l.scaleX=v+(f-v)*o,l.scaleY=g+(h-g)*o;break;case H.first:case H.replace:v=Math.abs(l.scaleX)*W.signum(f),g=Math.abs(l.scaleY)*W.signum(h),l.scaleX=v+(f-v)*o,l.scaleY=g+(h-g)*o;break;case H.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(g_),aI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.scaleX=l.data.scaleX;return;case H.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var f=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==H.add?l.scaleX+=f-l.data.scaleX:l.scaleX=f;else{var h=0;if(c==mt.mixOut)switch(s){case H.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(f)*W.signum(h)-h)*o;break;case H.first:case H.replace:h=l.scaleX,l.scaleX=h+(Math.abs(f)*W.signum(h)-h)*o;break;case H.add:l.scaleX+=(f-l.data.scaleX)*o}else switch(s){case H.setup:h=Math.abs(l.data.scaleX)*W.signum(f),l.scaleX=h+(f-h)*o;break;case H.first:case H.replace:h=Math.abs(l.scaleX)*W.signum(f),l.scaleX=h+(f-h)*o;break;case H.add:l.scaleX+=(f-l.data.scaleX)*o}}}},e}(Sa),oI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.scaleY=l.data.scaleY;return;case H.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==H.add?l.scaleY+=f-l.data.scaleY:l.scaleY=f;else{var h=0;if(c==mt.mixOut)switch(s){case H.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(f)*W.signum(h)-h)*o;break;case H.first:case H.replace:h=l.scaleY,l.scaleY=h+(Math.abs(f)*W.signum(h)-h)*o;break;case H.add:l.scaleY+=(f-l.data.scaleY)*o}else switch(s){case H.setup:h=Math.abs(l.data.scaleY)*W.signum(f),l.scaleY=h+(f-h)*o;break;case H.first:case H.replace:h=Math.abs(l.scaleY)*W.signum(f),l.scaleY=h+(f-h)*o;break;case H.add:l.scaleY+=(f-l.data.scaleY)*o}}}},e}(Sa),sI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.shearX+"|"+i,Xt.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case H.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=0,h=0,p=Dr.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var m=u[p];f=u[p+1],h=u[p+2];var _=(i-m)/(u[p+3]-m);f+=(u[p+3+1]-f)*_,h+=(u[p+3+2]-h)*_;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case H.setup:l.shearX=l.data.shearX+f*o,l.shearY=l.data.shearY+h*o;break;case H.first:case H.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case H.add:l.shearX+=f*o,l.shearY+=h*o}}},e}(g_),lI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.shearX=l.data.shearX;return;case H.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var f=this.getCurveValue(i);switch(s){case H.setup:l.shearX=l.data.shearX+f*o;break;case H.first:case H.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o;break;case H.add:l.shearX+=f*o}}},e}(Sa),uI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.shearY=l.data.shearY;return;case H.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=this.getCurveValue(i);switch(s){case H.setup:l.shearY=l.data.shearY+f*o;break;case H.first:case H.replace:l.shearY+=(l.data.shearY+f-l.shearY)*o;break;case H.add:l.shearY+=f*o}}},e}(Sa),cI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Xt.rgb+"|"+i,Xt.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case H.setup:f.setFromColor(h);return;case H.first:f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,m=0,_=0,v=Dr.search(u,i,5),g=this.curves[v/5];switch(g){case 0:var y=u[v];p=u[v+1],d=u[v+2],m=u[v+3],_=u[v+4];var x=(i-y)/(u[v+5]-y);p+=(u[v+5+1]-p)*x,d+=(u[v+5+2]-d)*x,m+=(u[v+5+3]-m)*x,_+=(u[v+5+4]-_)*x;break;case 1:p=u[v+1],d=u[v+2],m=u[v+3],_=u[v+4];break;default:p=this.getBezierValue(i,v,1,g-2),d=this.getBezierValue(i,v,2,g+18-2),m=this.getBezierValue(i,v,3,g+18*2-2),_=this.getBezierValue(i,v,4,g+18*3-2)}o==1?f.set(p,d,m,_):(s==H.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(m-f.b)*o,(_-f.a)*o))}},e}(Ea),fI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Xt.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case H.setup:f.r=h.r,f.g=h.g,f.b=h.b;return;case H.first:f.r+=(h.r-f.r)*o,f.g+=(h.g-f.g)*o,f.b+=(h.b-f.b)*o}return}var p=0,d=0,m=0,_=Dr.search(u,i,4),v=this.curves[_>>2];switch(v){case 0:var g=u[_];p=u[_+1],d=u[_+2],m=u[_+3];var y=(i-g)/(u[_+4]-g);p+=(u[_+4+1]-p)*y,d+=(u[_+4+2]-d)*y,m+=(u[_+4+3]-m)*y;break;case 1:p=u[_+1],d=u[_+2],m=u[_+3];break;default:p=this.getBezierValue(i,_,1,v-2),d=this.getBezierValue(i,_,2,v+18-2),m=this.getBezierValue(i,_,3,v+18*2-2)}if(o==1)f.r=p,f.g=d,f.b=m;else{if(s==H.setup){var h=l.data.color;f.r=h.r,f.g=h.g,f.b=h.b}f.r+=(p-f.r)*o,f.g+=(d-f.g)*o,f.b+=(m-f.b)*o}}},e}(Ea),hI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var f=l.data.color;switch(s){case H.setup:u.a=f.a;return;case H.first:u.a+=(f.a-u.a)*o}return}var h=this.getCurveValue(i);o==1?u.a=h:(s==H.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*o)}},e}(Sa),dI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Xt.rgb+"|"+i,Xt.alpha+"|"+i,Xt.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l,this.frames[r+7]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case H.setup:f.setFromColor(p),h.r=d.r,h.g=d.g,h.b=d.b;return;case H.first:f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=0,w=Dr.search(u,i,8),E=this.curves[w>>3];switch(E){case 0:var S=u[w];m=u[w+1],_=u[w+2],v=u[w+3],g=u[w+4],y=u[w+5],x=u[w+6],b=u[w+7];var C=(i-S)/(u[w+8]-S);m+=(u[w+8+1]-m)*C,_+=(u[w+8+2]-_)*C,v+=(u[w+8+3]-v)*C,g+=(u[w+8+4]-g)*C,y+=(u[w+8+5]-y)*C,x+=(u[w+8+6]-x)*C,b+=(u[w+8+7]-b)*C;break;case 1:m=u[w+1],_=u[w+2],v=u[w+3],g=u[w+4],y=u[w+5],x=u[w+6],b=u[w+7];break;default:m=this.getBezierValue(i,w,1,E-2),_=this.getBezierValue(i,w,2,E+18-2),v=this.getBezierValue(i,w,3,E+18*2-2),g=this.getBezierValue(i,w,4,E+18*3-2),y=this.getBezierValue(i,w,5,E+18*4-2),x=this.getBezierValue(i,w,6,E+18*5-2),b=this.getBezierValue(i,w,7,E+18*6-2)}if(o==1)f.set(m,_,v,g),h.r=y,h.g=x,h.b=b;else{if(s==H.setup){f.setFromColor(l.data.color);var d=l.data.darkColor;h.r=d.r,h.g=d.g,h.b=d.b}f.add((m-f.r)*o,(_-f.g)*o,(v-f.b)*o,(g-f.a)*o),h.r+=(y-h.r)*o,h.g+=(x-h.g)*o,h.b+=(b-h.b)*o}}},e}(Ea),pI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Xt.rgb+"|"+i,Xt.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case H.setup:f.r=p.r,f.g=p.g,f.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b;return;case H.first:f.r+=(p.r-f.r)*o,f.g+=(p.g-f.g)*o,f.b+=(p.b-f.b)*o,h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=Dr.search(u,i,7),w=this.curves[b/7];switch(w){case 0:var E=u[b];m=u[b+1],_=u[b+2],v=u[b+3],g=u[b+4],y=u[b+5],x=u[b+6];var S=(i-E)/(u[b+7]-E);m+=(u[b+7+1]-m)*S,_+=(u[b+7+2]-_)*S,v+=(u[b+7+3]-v)*S,g+=(u[b+7+4]-g)*S,y+=(u[b+7+5]-y)*S,x+=(u[b+7+6]-x)*S;break;case 1:m=u[b+1],_=u[b+2],v=u[b+3],g=u[b+4],y=u[b+5],x=u[b+6];break;default:m=this.getBezierValue(i,b,1,w-2),_=this.getBezierValue(i,b,2,w+18-2),v=this.getBezierValue(i,b,3,w+18*2-2),g=this.getBezierValue(i,b,4,w+18*3-2),y=this.getBezierValue(i,b,5,w+18*4-2),x=this.getBezierValue(i,b,6,w+18*5-2)}if(o==1)f.r=m,f.g=_,f.b=v,h.r=g,h.g=y,h.b=x;else{if(s==H.setup){var p=l.data.color,d=l.data.darkColor;f.r=p.r,f.g=p.g,f.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b}f.r+=(m-f.r)*o,f.g+=(_-f.g)*o,f.b+=(v-f.b)*o,h.r+=(g-h.r)*o,h.g+=(y-h.g)*o,h.b+=(x-h.b)*o}}},e}(Ea),gl=function(t){bt(e,t);function e(r,n){var i=t.call(this,r,[Xt.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){if(c==mt.mixOut){s==H.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==H.setup||s==H.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[Dr.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}(Dr),vI=function(t){bt(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[Xt.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var m=(a-s*2+l)*.03,_=u*.03-c*.06,v=((s-l)*3-a+f)*.006,g=(c-u+.33333333)*.018,y=m*2+v,x=_*2+g,b=(s-a)*.3+m+v*.16666667,w=c*.3+_+g*.16666667,E=a+b,S=w,C=d+18;d<C;d+=2)p[d]=E,p[d+1]=S,b+=y,w+=x,y+=v,x+=g,E+=b,S+=w},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var c=a+18;for(a+=2;a<c;a+=2)if(i[a]>=r){var l=i[a-2],u=i[a-1];return u+(r-l)/(i[a]-l)*(i[a+1]-u)}var f=i[c-2],h=i[c-1];return h+(1-h)*(r-f)/(this.frames[n+this.getFrameEntries()]-f)},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof Ya)||u.timelineAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=H.setup);var h=this.vertices,p=h[0].length,d=this.frames;if(i<d[0]){switch(s){case H.setup:f.length=0;return;case H.first:if(o==1){f.length=0;return}f.length=p;var m=u;if(m.bones){o=1-o;for(var v=0;v<p;v++)f[v]*=o}else for(var _=m.vertices,v=0;v<p;v++)f[v]+=(_[v]-f[v])*o}return}if(f.length=p,i>=d[d.length-1]){var g=h[d.length-1];if(o==1)if(s==H.add){var m=u;if(m.bones)for(var x=0;x<p;x++)f[x]+=g[x];else for(var _=m.vertices,y=0;y<p;y++)f[y]+=g[y]-_[y]}else oe.arrayCopy(g,0,f,0,p);else switch(s){case H.setup:{var b=u;if(b.bones)for(var S=0;S<p;S++)f[S]=g[S]*o;else for(var _=b.vertices,w=0;w<p;w++){var E=_[w];f[w]=E+(g[w]-E)*o}break}case H.first:case H.replace:for(var C=0;C<p;C++)f[C]+=(g[C]-f[C])*o;break;case H.add:var m=u;if(m.bones)for(var I=0;I<p;I++)f[I]+=g[I]*o;else for(var _=m.vertices,T=0;T<p;T++)f[T]+=(g[T]-_[T])*o}return}var A=Dr.search1(d,i),R=this.getCurvePercent(i,A),O=h[A],F=h[A+1];if(o==1)if(s==H.add){var m=u;if(m.bones)for(var q=0;q<p;q++){var $=O[q];f[q]+=$+(F[q]-$)*R}else for(var _=m.vertices,N=0;N<p;N++){var $=O[N];f[N]+=$+(F[N]-$)*R-_[N]}}else for(var K=0;K<p;K++){var $=O[K];f[K]=$+(F[K]-$)*R}else switch(s){case H.setup:{var G=u;if(G.bones)for(var j=0;j<p;j++){var $=O[j];f[j]=($+(F[j]-$)*R)*o}else for(var _=G.vertices,L=0;L<p;L++){var $=O[L],E=_[L];f[L]=E+($+(F[L]-$)*R-E)*o}break}case H.first:case H.replace:for(var B=0;B<p;B++){var $=O[B];f[B]+=($+(F[B]-$)*R-f[B])*o}break;case H.add:var m=u;if(m.bones)for(var J=0;J<p;J++){var $=O[J];f[J]+=($+(F[J]-$)*R)*o}else for(var _=m.vertices,D=0;D<p;D++){var $=O[D];f[D]+=($+(F[D]-$)*R-_[D])*o}}}}},e}(Ea),__=function(t){bt(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,c){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,c),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var f=0;if(n<l[0])f=0;else{f=Dr.search1(l,n)+1;for(var h=l[f];f>0&&l[f-1]==h;)f--}for(;f<u&&i>=l[f];f++)a.push(this.events[f])}}},e.propertyIds=[""+Xt.event],e}(Dr),mc=function(t){bt(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){if(c==mt.mixOut){s==H.setup&&oe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==H.setup||s==H.first)&&oe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=Dr.search1(this.frames,i),u=this.drawOrders[l];if(!u)oe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var f=r.drawOrder,h=r.slots,p=0,d=u.length;p<d;p++)f[p]=h[u[p]]},e.propertyIds=[""+Xt.drawOrder],e}(Dr),mI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Xt.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case H.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var f=0,h=0,p=Dr.search(u,i,6),d=this.curves[p/6];switch(d){case 0:var m=u[p];f=u[p+1],h=u[p+2];var _=(i-m)/(u[p+6]-m);f+=(u[p+6+1]-f)*_,h+=(u[p+6+2]-h)*_;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}s==H.setup?(l.mix=l.data.mix+(f-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,c==mt.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0)):(l.mix+=(f-l.mix)*o,l.softness+=(h-l.softness)*o,c==mt.mixIn&&(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0))}},e}(Ea),gI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Xt.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){var u=this.frames;r*=7,u[r]=n,u[r+1]=i,u[r+2]=a,u[r+3]=o,u[r+4]=s,u[r+5]=c,u[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var f=l.data;switch(s){case H.setup:l.mixRotate=f.mixRotate,l.mixX=f.mixX,l.mixY=f.mixY,l.mixScaleX=f.mixScaleX,l.mixScaleY=f.mixScaleY,l.mixShearY=f.mixShearY;return;case H.first:l.mixRotate+=(f.mixRotate-l.mixRotate)*o,l.mixX+=(f.mixX-l.mixX)*o,l.mixY+=(f.mixY-l.mixY)*o,l.mixScaleX+=(f.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(f.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(f.mixShearY-l.mixShearY)*o}return}var h,p,d,m,_,v,g=Dr.search(u,i,7),y=this.curves[g/7];switch(y){case 0:var x=u[g];h=u[g+1],p=u[g+2],d=u[g+3],m=u[g+4],_=u[g+5],v=u[g+6];var b=(i-x)/(u[g+7]-x);h+=(u[g+7+1]-h)*b,p+=(u[g+7+2]-p)*b,d+=(u[g+7+3]-d)*b,m+=(u[g+7+4]-m)*b,_+=(u[g+7+5]-_)*b,v+=(u[g+7+6]-v)*b;break;case 1:h=u[g+1],p=u[g+2],d=u[g+3],m=u[g+4],_=u[g+5],v=u[g+6];break;default:h=this.getBezierValue(i,g,1,y-2),p=this.getBezierValue(i,g,2,y+18-2),d=this.getBezierValue(i,g,3,y+18*2-2),m=this.getBezierValue(i,g,4,y+18*3-2),_=this.getBezierValue(i,g,5,y+18*4-2),v=this.getBezierValue(i,g,6,y+18*5-2)}if(s==H.setup){var f=l.data;l.mixRotate=f.mixRotate+(h-f.mixRotate)*o,l.mixX=f.mixX+(p-f.mixX)*o,l.mixY=f.mixY+(d-f.mixY)*o,l.mixScaleX=f.mixScaleX+(m-f.mixScaleX)*o,l.mixScaleY=f.mixScaleY+(_-f.mixScaleY)*o,l.mixShearY=f.mixShearY+(v-f.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(p-l.mixX)*o,l.mixY+=(d-l.mixY)*o,l.mixScaleX+=(m-l.mixScaleX)*o,l.mixScaleY+=(_-l.mixScaleY)*o,l.mixShearY+=(v-l.mixShearY)*o}},e}(Ea),_I=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.position=l.data.position;return;case H.first:l.position+=(l.data.position-l.position)*o}return}var f=this.getCurveValue(i);s==H.setup?l.position=l.data.position+(f-l.data.position)*o:l.position+=(f-l.position)*o}},e}(Sa),yI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,Xt.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.spacing=l.data.spacing;return;case H.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var f=this.getCurveValue(i);s==H.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*o:l.spacing+=(f-l.spacing)*o}},e}(Sa),xI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,n,[Xt.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case H.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case H.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var f,h,p,d=Dr.search(u,i,4),m=this.curves[d>>2];switch(m){case 0:var _=u[d];f=u[d+1],h=u[d+2],p=u[d+3];var v=(i-_)/(u[d+4]-_);f+=(u[d+4+1]-f)*v,h+=(u[d+4+2]-h)*v,p+=(u[d+4+3]-p)*v;break;case 1:f=u[d+1],h=u[d+2],p=u[d+3];break;default:f=this.getBezierValue(i,d,1,m-2),h=this.getBezierValue(i,d,2,m+18-2),p=this.getBezierValue(i,d,3,m+18*2-2)}if(s==H.setup){var g=l.data;l.mixRotate=g.mixRotate+(f-g.mixRotate)*o,l.mixX=g.mixX+(h-g.mixX)*o,l.mixY=g.mixY+(p-g.mixY)*o}else l.mixRotate+=(f-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(p-l.mixY)*o}},e}(Ea),bI=function(t){bt(e,t);function e(r,n,i){var a=t.call(this,r,[Xt.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,f=this.attachment;if(!(u!=f&&(!(u instanceof Ya)||u.timelineAttachment!=f))){var h=this.frames;if(i<h[0]){(s==H.setup||s==H.first)&&(l.sequenceIndex=-1);return}var p=Dr.search(h,i,e.ENTRIES),d=h[p],m=h[p+e.MODE],_=h[p+e.DELAY];if(this.attachment.sequence){var v=m>>4,g=this.attachment.sequence.regions.length,y=eI[m&15];if(y!=Sn.hold)switch(v+=(i-d)/_+1e-5|0,y){case Sn.once:v=Math.min(g-1,v);break;case Sn.loop:v%=g;break;case Sn.pingpong:{var x=(g<<1)-2;v=x==0?0:v%x,v>=g&&(v=x-v);break}case Sn.onceReverse:v=Math.max(g-1-v,0);break;case Sn.loopReverse:v=g-1-v%g;break;case Sn.pingpongReverse:{var x=(g<<1)-2;v=x==0?0:(v+g-1)%x,v>=g&&(v=x-v)}}l.sequenceIndex=v}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}(Dr),x$=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new w$(this),this.propertyIDs=new R9,this.animationsChanged=!1,this.trackEntryPool=new f_(function(){return new b$}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var c=a==0?H.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=f,p=r;s.reverse&&(h=s.animation.duration-h,p=null);var d=s.animation.timelines,m=d.length;if(a==0&&l==1||c==H.add)for(var _=0;_<m;_++){oe.webkit602BugfixHelper(l,c);var v=d[_];v instanceof gl?this.applyAttachmentTimeline(v,e,h,c,!0):v.apply(e,u,h,p,l,c,mt.mixIn)}else{var g=s.timelineMode,y=s.shortestRotation,x=!y&&s.timelinesRotation.length!=m<<1;x&&(s.timelinesRotation.length=m<<1);for(var _=0;_<m;_++){var b=d[_],w=g[_]==Z1?c:H.setup;!y&&b instanceof Bd?this.applyRotateTimeline(b,e,h,l,w,s.timelinesRotation,_<<1,x):b instanceof gl?this.applyAttachmentTimeline(b,e,h,c,!0):(oe.webkit602BugfixHelper(l,c),b.apply(e,u,h,p,l,w,mt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var E=this.unkeyedState+uL,S=e.slots,C=0,T=e.slots.length;C<T;C++){var I=S[C];if(I.attachmentState==E){var A=I.data.attachmentName;I.setAttachment(A?e.getAttachment(I.data.index,A):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==H.first&&(n=H.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=H.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,c=i.animation.timelines,l=c.length,u=i.alpha*e.interruptAlpha,f=u*(1-a),h=i.animationLast,p=i.getAnimationTime(),d=p,m=null;if(i.reverse?d=i.animation.duration-d:a<i.eventThreshold&&(m=this.events),n==H.add)for(var _=0;_<l;_++)c[_].apply(r,h,d,m,f,n,mt.mixOut);else{var v=i.timelineMode,g=i.timelineHoldMix,y=i.shortestRotation,x=!y&&i.timelinesRotation.length!=l<<1;x&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var _=0;_<l;_++){var b=c[_],w=mt.mixOut,E=void 0,S=0;switch(v[_]){case Z1:if(!s&&b instanceof mc)continue;E=n,S=f;break;case sL:E=H.setup,S=f;break;case lL:E=n,S=u;break;case J1:E=H.setup,S=u;break;default:E=H.setup;var C=g[_];S=u*Math.max(0,1-C.mixTime/C.mixDuration);break}i.totalAlpha+=S,!y&&b instanceof Bd?this.applyRotateTimeline(b,r,d,S,E,i.timelinesRotation,_<<1,x):b instanceof gl?this.applyAttachmentTimeline(b,r,d,E,o):(oe.webkit602BugfixHelper(S,n),s&&b instanceof mc&&E==H.setup&&(w=mt.mixIn),b.apply(r,h,d,m,S,E,w))}}return e.mixDuration>0&&this.queueEvents(i,p),this.events.length=0,i.nextAnimationLast=p,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==H.setup||i==H.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[Dr.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+uL))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+iAe)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,mt.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var u=e.frames,f=0,h=0;if(n<u[0])switch(a){case H.setup:l.rotation=l.data.rotation;default:return;case H.first:f=l.rotation,h=l.data.rotation}else f=a==H.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var p=0,d=h-f;if(d-=(16384-(16384.499999999996-d/360|0))*360,d==0)p=o[s];else{var m=0,_=0;c?(m=0,_=d):(m=o[s],_=o[s+1]);var v=d>0,g=m>=0;W.signum(_)!=W.signum(d)&&Math.abs(_)<=90&&(Math.abs(m)>180&&(m+=360*W.signum(m)),g=v),p=d+m-m%360,g!=v&&(p+=360*W.signum(m)),o[s]=p}o[s+1]=d,l.rotation=f+p*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(oe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=H.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=H.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.addAll(n[c].getPropertyIds())?J1:lL;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyIds();if(!s.addAll(u))a[c]=Z1;else if(!r||l instanceof gl||l instanceof mc||l instanceof __||!r.animation.hasTimeline(u))a[c]=sL;else{for(var f=r.mixingTo;f;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=nAe,o[c]=f;continue e}break}a[c]=J1}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new m_("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),b$=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=H.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),w$=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(oi.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(oi.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(oi.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(oi.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(oi.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(oi.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case oi.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case oi.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case oi.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case oi.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case oi.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case oi.event:var c=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,c)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),oi;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(oi||(oi={}));var rAe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),Z1=0,sL=1,lL=2,J1=3,nAe=4,uL=1,iAe=2,E$=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),wI=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),c=this.atlas.findRegion(s);if(c==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=c,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new JA(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new v_(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new g$(r)},t.prototype.newPathAttachment=function(e,r){return new Md(r)},t.prototype.newPointAttachment=function(e,r){return new y$(r)},t.prototype.newClippingAttachment=function(e,r){return new _$(r)},t}(),WS=function(){function t(e,r,n){if(this.matrix=new vr,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(!c){var h=this.skeleton,p=n+90+s;l.a=W.cosDeg(n+o)*i*u,l.c=W.cosDeg(p)*a*u,l.b=W.sinDeg(n+o)*i*f,l.d=W.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,m=c.matrix.c,_=c.matrix.b,v=c.matrix.d;switch(l.tx=d*e+m*r+c.matrix.tx,l.ty=_*e+v*r+c.matrix.ty,this.data.transformMode){case ft.Normal:{var p=n+90+s,g=W.cosDeg(n+o)*i,y=W.cosDeg(p)*a,x=W.sinDeg(n+o)*i,b=W.sinDeg(p)*a;l.a=d*g+m*x,l.c=d*y+m*b,l.b=_*g+v*x,l.d=_*y+v*b;return}case ft.OnlyTranslation:{var p=n+90+s;l.a=W.cosDeg(n+o)*i,l.c=W.cosDeg(p)*a,l.b=W.sinDeg(n+o)*i,l.d=W.sinDeg(p)*a;break}case ft.NoRotationOrReflection:{var w=d*d+_*_,E=0;w>1e-4?(w=Math.abs(d*v-m*_)/w,d/=u,_/=f,m=_*w,v=d*w,E=Math.atan2(_,d)*W.radDeg):(d=0,_=0,E=90-Math.atan2(v,m)*W.radDeg);var S=n+o-E,C=n+s-E+90,g=W.cosDeg(S)*i,y=W.cosDeg(C)*a,x=W.sinDeg(S)*i,b=W.sinDeg(C)*a;l.a=d*g-m*x,l.c=d*y-m*b,l.b=_*g+v*x,l.d=_*y+v*b;break}case ft.NoScale:case ft.NoScaleOrReflection:{var T=W.cosDeg(n),I=W.sinDeg(n),A=(d*T+m*I)/u,R=(_*T+v*I)/f,w=Math.sqrt(A*A+R*R);w>1e-5&&(w=1/w),A*=w,R*=w,w=Math.sqrt(A*A+R*R),this.data.transformMode==ft.NoScale&&d*v-m*_<0!=(u<0!=f<0)&&(w=-w);var O=Math.PI/2+Math.atan2(R,A),F=Math.cos(O)*w,N=Math.sin(O)*w,g=W.cosDeg(o)*i,y=W.cosDeg(90+s)*a,x=W.sinDeg(o)*i,b=W.sinDeg(90+s)*a;l.a=A*g+F*x,l.c=A*y+F*b,l.b=R*g+N*x,l.d=R*y+N*b;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*W.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*W.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*W.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*W.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var m=f*d-h*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,m)*W.radDeg,this.arotation=Math.atan2(p,f)*W.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*W.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*W.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*W.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=W.cosDeg(e),c=W.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o},t}(),EI=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=ft.Normal,this.skinRequired=!1,this.color=new Me,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),y_=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),SI=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),CI=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),S$=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var c=e.parent.matrix;if(!c)throw new Error("IK bone must have parent.");var l=c.a,u=c.c,f=c.b,h=c.d,p=-e.ashearX-e.arotation,d=0,m=0,_=e.skeleton.scaleX,v=-e.skeleton.scaleY;switch(e.data.transformMode){case ft.OnlyTranslation:d=r-e.worldX,m=n-e.worldY,m=-m;break;case ft.NoRotationOrReflection:var g=Math.abs(l*h-u*f)/(l*l+f*f),y=l/_,x=f/v;u=-x*g*_,h=y*g*v,p+=Math.atan2(x,y)*W.radDeg;default:var b=r-c.tx,w=n-c.ty,E=l*h-u*f;d=(b*h-w*u)/E-e.ax,m=(w*l-b*f)/E-e.ay}p+=Math.atan2(m,d)*W.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var S=e.ascaleX,C=e.ascaleY;if(i||a){switch(e.data.transformMode){case ft.NoScale:case ft.NoScaleOrReflection:d=r-e.worldX,m=n-e.worldY}var T=e.data.length*S,I=Math.sqrt(d*d+m*m);if(i&&I<T||a&&I>T&&T>1e-4){var g=(I/T-1)*s+1;S*=g,o&&(C*=g)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,S,C,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c,l){var u=e.ax,f=e.ay,h=e.ascaleX,p=e.ascaleY,d=h,m=p,_=r.ascaleX,v=e.matrix,g=0,y=0,x=0;h<0?(h=-h,g=180,x=-1):(g=0,x=1),p<0&&(p=-p,x=-x),_<0?(_=-_,y=180):y=0;var b=r.ax,w=0,E=0,S=0,C=v.a,T=v.c,I=v.b,A=v.d,R=Math.abs(h-p)<=1e-4;!R||o?(w=0,E=C*b+v.tx,S=I*b+v.ty):(w=r.ay,E=C*b+T*w+v.tx,S=I*b+A*w+v.ty);var O=e.parent.matrix;if(!O)throw new Error("IK parent must itself have a parent.");C=O.a,T=O.c,I=O.b,A=O.d;var F=1/(C*A-T*I),N=E-O.tx,$=S-O.ty,q=(N*A-$*T)*F-u,K=($*C-N*I)*F-f,G=Math.sqrt(q*q+K*K),L=r.data.length*_,j,B;if(G<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(b,w,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}N=n-O.tx,$=i-O.ty;var D=(N*A-$*T)*F-u,J=($*C-N*I)*F-f,Q=D*D+J*J;if(c!=0){c*=h*(_+1)*.5;var se=Math.sqrt(Q),re=se-G-L*h+c;if(re>0){var ce=Math.min(1,re/(c*2))-1;ce=(re-c*(1-ce*ce))/se,D-=ce*D,J-=ce*J,Q=D*D+J*J}}e:if(R){L*=h;var Ee=(Q-G*G-L*L)/(2*G*L);Ee<-1?(Ee=-1,B=Math.PI*a):Ee>1?(Ee=1,B=0,o&&(C=(Math.sqrt(Q)/(G+L)-1)*l+1,d*=C,s&&(m*=C))):B=Math.acos(Ee)*a,C=G+L*Ee,T=L*Math.sin(B),j=Math.atan2(J*C-D*T,D*C+J*T)}else{C=h*L,T=p*L;var we=C*C,pe=T*T,ve=Math.atan2(J,D);I=pe*G*G+we*Q-we*pe;var Ae=-2*pe*G,ke=pe-we;if(A=Ae*Ae-4*ke*I,A>=0){var Te=Math.sqrt(A);Ae<0&&(Te=-Te),Te=-(Ae+Te)*.5;var Fe=Te/ke,Ne=I/Te,Je=Math.abs(Fe)<Math.abs(Ne)?Fe:Ne;if(Je*Je<=Q){$=Math.sqrt(Q-Je*Je)*a,j=ve-Math.atan2($,Je),B=Math.atan2($/p,(Je-G)/h);break e}}var vt=W.PI,Qe=G-C,Ke=Qe*Qe,ut=0,Lt=0,$t=G+C,Mt=$t*$t,Bt=0;I=-C*G/(we-pe),I>=-1&&I<=1&&(I=Math.acos(I),N=C*Math.cos(I)+G,$=T*Math.sin(I),A=N*N+$*$,A<Ke&&(vt=I,Ke=A,Qe=N,ut=$),A>Mt&&(Lt=I,Mt=A,$t=N,Bt=$)),Q<=(Ke+Mt)*.5?(j=ve-Math.atan2(ut*a,Qe),B=vt*a):(j=ve-Math.atan2(Bt*a,$t),B=Lt*a)}var nt=Math.atan2(w,b)*x,Vt=e.arotation;j=(j-nt)*W.radDeg+g-Vt,j>180?j-=360:j<-180&&(j+=360),e.updateWorldTransformWith(u,f,Vt+j*l,d,m,0,0),Vt=r.arotation,B=((B+nt)*W.radDeg-r.ashearX)*x+y-Vt,B>180?B-=360:B<-180&&(B+=360),r.updateWorldTransformWith(b,w,Vt+B*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),TI=function(t){bt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(y_),AI=function(t){bt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=xr.Fixed,n.spacingMode=tn.Fixed,n.rotateMode=Mr.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(y_),tn;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(tn||(tn={}));var C$=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Md){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==Mr.Tangent,s=a.rotateMode==Mr.ChainScale,c=this.bones,l=c.length,u=o?l:l+1,f=oe.setArraySize(this.spaces,u),h=s?this.lengths=oe.setArraySize(this.lengths,l):[],p=this.spacing;switch(a.spacingMode){case tn.Percent:if(s)for(var d=0,m=u-1;d<m;d++){var _=c[d],v=_.data.length;if(v<t.epsilon)h[d]=0;else{var g=v*_.matrix.a,y=v*_.matrix.b;h[d]=Math.sqrt(g*g+y*y)}}oe.arrayFill(f,1,u,p);break;case tn.Proportional:for(var x=0,d=0,m=u-1;d<m;){var _=c[d],v=_.data.length;if(v<t.epsilon)s&&(h[d]=0),f[++d]=p;else{var g=v*_.matrix.a,y=v*_.matrix.b,b=Math.sqrt(g*g+y*y);s&&(h[d]=b),f[++d]=b,x+=b}}if(x>0){x=u/x*p;for(var d=1;d<u;d++)f[d]*=x}break;default:for(var w=a.spacingMode==tn.Length,d=0,m=u-1;d<m;){var _=c[d],v=_.data.length;if(v<t.epsilon)s&&(h[d]=0),f[++d]=p;else{var g=v*_.matrix.a,y=v*_.matrix.b,E=Math.sqrt(g*g+y*y);s&&(h[d]=E),f[++d]=(w?v+p:p)*E/v}}}var S=this.computeWorldPositions(e,u,o),C=S[0],T=S[1],I=a.offsetRotation,A=!1;if(I==0)A=a.rotateMode==Mr.Chain;else{A=!1;var R=this.target.bone.matrix;I*=R.a*R.d-R.b*R.c>0?W.degRad:-W.degRad}for(var d=0,R=3;d<l;d++,R+=3){var _=c[d],O=_.matrix;O.tx+=(C-O.tx)*n,O.ty+=(T-O.ty)*i;var g=S[R],y=S[R+1],F=g-C,N=y-T;if(s){var $=h[d];if($!=0){var q=(Math.sqrt(F*F+N*N)/$-1)*r+1;O.a*=q,O.b*=q}}if(C=g,T=y,r>0){var K=O.a,G=O.c,L=O.b,j=O.d,B=0,D=0,J=0;if(o?B=S[R-1]:f[d+1]==0?B=S[R+2]:B=Math.atan2(N,F),B-=Math.atan2(L,K),A){D=Math.cos(B),J=Math.sin(B);var Q=_.data.length;C+=(Q*(D*K-J*L)-F)*r,T+=(Q*(J*K+D*L)-N)*r}else B+=I;B>W.PI?B-=W.PI2:B<-W.PI&&(B+=W.PI2),B*=r,D=Math.cos(B),J=Math.sin(B),O.a=D*K-J*L,O.c=D*G-J*j,O.b=J*K+D*L,O.d=J*G+D*j}_.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=oe.setArraySize(this.positions,r*3+2),c=this.world,l=e.closed,u=e.worldVerticesLength,f=u/6,h=t.NONE;if(!e.constantSpeed){var p=e.lengths;f-=l?1:2;var d=p[f];this.data.positionMode==xr.Percent&&(a*=d);var m;switch(this.data.spacingMode){case tn.Percent:m=d;break;case tn.Proportional:m=d/r;break;default:m=1}c=oe.setArraySize(this.world,8);for(var _=0,v=0,g=0;_<r;_++,v+=3){var y=o[_]*m;a+=y;var x=a;if(l)x%=d,x<0&&(x+=d),g=0;else if(x<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,c,0,2)),this.addBeforePosition(x,c,0,s,v);continue}else if(x>d){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,u-6,4,c,0,2)),this.addAfterPosition(x-d,c,0,s,v);continue}for(;;g++){var b=p[g];if(!(x>b)){if(g==0)x/=b;else{var w=p[g-1];x=(x-w)/(b-w)}break}}g!=h&&(h=g,l&&g==f?(e.computeWorldVertices(i,u-4,4,c,0,2),e.computeWorldVertices(i,0,4,c,4,2)):e.computeWorldVertices(i,g*6+2,8,c,0,2)),this.addCurvePosition(x,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],s,v,n||_>0&&y==0)}return s}l?(u+=2,c=oe.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,c,0,2),e.computeWorldVertices(i,0,2,c,u-4,2),c[u-2]=c[0],c[u-1]=c[1]):(f--,u-=4,c=oe.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,c,0,2));for(var E=oe.setArraySize(this.curves,f),S=0,C=c[0],T=c[1],I=0,A=0,R=0,O=0,F=0,N=0,$=0,q=0,K=0,G=0,L=0,j=0,B=0,D=0,_=0,J=2;_<f;_++,J+=6)I=c[J],A=c[J+1],R=c[J+2],O=c[J+3],F=c[J+4],N=c[J+5],$=(C-I*2+R)*.1875,q=(T-A*2+O)*.1875,K=((I-R)*3-C+F)*.09375,G=((A-O)*3-T+N)*.09375,L=$*2+K,j=q*2+G,B=(I-C)*.75+$+K*.16666667,D=(A-T)*.75+q+G*.16666667,S+=Math.sqrt(B*B+D*D),B+=L,D+=j,L+=K,j+=G,S+=Math.sqrt(B*B+D*D),B+=L,D+=j,S+=Math.sqrt(B*B+D*D),B+=L+K,D+=j+G,S+=Math.sqrt(B*B+D*D),E[_]=S,C=F,T=N;this.data.positionMode==xr.Percent&&(a*=S);var Q;switch(this.data.spacingMode){case tn.Percent:Q=S;break;case tn.Proportional:Q=S/r;break;default:Q=1}for(var se=this.segments,re=0,_=0,v=0,g=0,ce=0;_<r;_++,v+=3){var y=o[_]*Q;a+=y;var x=a;if(l)x%=S,x<0&&(x+=S),g=0;else if(x<0){this.addBeforePosition(x,c,0,s,v);continue}else if(x>S){this.addAfterPosition(x-S,c,u-4,s,v);continue}for(;;g++){var Ee=E[g];if(!(x>Ee)){if(g==0)x/=Ee;else{var w=E[g-1];x=(x-w)/(Ee-w)}break}}if(g!=h){h=g;var we=g*6;for(C=c[we],T=c[we+1],I=c[we+2],A=c[we+3],R=c[we+4],O=c[we+5],F=c[we+6],N=c[we+7],$=(C-I*2+R)*.03,q=(T-A*2+O)*.03,K=((I-R)*3-C+F)*.006,G=((A-O)*3-T+N)*.006,L=$*2+K,j=q*2+G,B=(I-C)*.3+$+K*.16666667,D=(A-T)*.3+q+G*.16666667,re=Math.sqrt(B*B+D*D),se[0]=re,we=1;we<8;we++)B+=L,D+=j,L+=K,j+=G,re+=Math.sqrt(B*B+D*D),se[we]=re;B+=L,D+=j,re+=Math.sqrt(B*B+D*D),se[8]=re,B+=L+K,D+=j+G,re+=Math.sqrt(B*B+D*D),se[9]=re,ce=0}for(x*=re;;ce++){var pe=se[ce];if(!(x>pe)){if(ce==0)x/=pe;else{var w=se[ce-1];x=ce+(x-w)/(pe-w)}break}}this.addCurvePosition(x*.1,C,T,I,A,R,O,F,N,s,v,n||_>0&&y==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){if(e==0||isNaN(e)){u[f]=r,u[f+1]=n,u[f+2]=Math.atan2(a-n,i-r);return}var p=e*e,d=p*e,m=1-e,_=m*m,v=_*m,g=m*e,y=g*3,x=m*y,b=y*e,w=r*v+i*x+o*b+c*d,E=n*v+a*x+s*b+l*d;u[f]=w,u[f+1]=E,h&&(e<.001?u[f+2]=Math.atan2(a-n,i-r):u[f+2]=Math.atan2(E-(n*_+a*g*2+s*p),w-(r*_+i*g*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),T$=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Me,this.darkColor=e.darkColor?new Me:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof Ya)||!(this.attachment instanceof Ya)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),A$=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new Ad,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,p=l.d,d=u*p-f*h>0?W.degRad:-W.degRad,m=this.data.offsetRotation*d,_=this.data.offsetShearY*d,v=this.bones,g=0,y=v.length;g<y;g++){var x=v[g],b=x.matrix;if(e!=0){var w=b.a,E=b.c,S=b.b,C=b.d,T=Math.atan2(h,u)-Math.atan2(S,w)+m;T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2),T*=e;var I=Math.cos(T),A=Math.sin(T);b.a=I*w-A*S,b.c=I*E-A*C,b.b=A*w+I*S,b.d=A*E+I*C}if(s){var R=this.temp;c.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=(R.x-b.tx)*r,b.ty+=(R.y-b.ty)*n}if(i!=0){var O=Math.sqrt(b.a*b.a+b.b*b.b);O!=0&&(O=(O+(Math.sqrt(u*u+h*h)-O+this.data.offsetScaleX)*i)/O),b.a*=O,b.b*=O}if(a!=0){var O=Math.sqrt(b.c*b.c+b.d*b.d);O!=0&&(O=(O+(Math.sqrt(f*f+p*p)-O+this.data.offsetScaleY)*a)/O),b.c*=O,b.d*=O}if(o>0){var E=b.c,C=b.d,F=Math.atan2(C,E),T=Math.atan2(p,f)-Math.atan2(h,u)-(F-Math.atan2(b.b,b.a));T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2),T=F+(T+_)*o;var O=Math.sqrt(E*E+C*C);b.c=Math.cos(T)*O,b.d=Math.sin(T)*O}x.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,p=l.d,d=u*p-f*h>0?W.degRad:-W.degRad,m=this.data.offsetRotation*d,_=this.data.offsetShearY*d,v=this.bones,g=0,y=v.length;g<y;g++){var x=v[g],b=x.matrix;if(e!=0){var w=b.a,E=b.c,S=b.b,C=b.d,T=Math.atan2(h,u)+m;T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2),T*=e;var I=Math.cos(T),A=Math.sin(T);b.a=I*w-A*S,b.c=I*E-A*C,b.b=A*w+I*S,b.d=A*E+I*C}if(s){var R=this.temp;c.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=R.x*r,b.ty+=R.y*n}if(i!=0){var O=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;b.a*=O,b.b*=O}if(a!=0){var O=(Math.sqrt(f*f+p*p)-1+this.data.offsetScaleY)*a+1;b.c*=O,b.d*=O}if(o>0){var T=Math.atan2(p,f)-Math.atan2(h,u);T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2);var E=b.c,C=b.d;T=Math.atan2(C,E)+(T-W.PI/2+_)*o;var O=Math.sqrt(E*E+C*C);b.c=Math.cos(T)*O,b.d=Math.sin(T)*O}x.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation;if(e!=0){var p=s.arotation-h+this.data.offsetRotation;p-=(16384-(16384.499999999996-p/360|0))*360,h+=p*e}var d=f.ax,m=f.ay;d+=(s.ax-d+this.data.offsetX)*r,m+=(s.ay-m+this.data.offsetY)*n;var _=f.ascaleX,v=f.ascaleY;i!=0&&_!=0&&(_=(_+(s.ascaleX-_+this.data.offsetScaleX)*i)/_),a!=0&&v!=0&&(v=(v+(s.ascaleY-v+this.data.offsetScaleY)*a)/v);var g=f.ashearY;if(o!=0){var p=s.ashearY-g+this.data.offsetShearY;p-=(16384-(16384.499999999996-p/360|0))*360,g+=p*o}f.updateWorldTransformWith(d,m,h,_,v,f.ashearX,g)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation+(s.arotation+this.data.offsetRotation)*e,p=f.ax+(s.ax+this.data.offsetX)*r,d=f.ay+(s.ay+this.data.offsetY)*n,m=f.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),_=f.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),v=f.ashearY+(s.ashearY+this.data.offsetShearY)*o;f.updateWorldTransformWith(p,d,h,m,_,f.ashearX,v)}},t}(),I$=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new WS(n,this,null);else{var a=this.bones[n.parent.index];i=new WS(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new T$(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new S$(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new A$(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new C$(u,this))}this.color=new Me(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,p=u+f+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var m=s[d];if(m.data.order==n){this.sortIkConstraint(m);continue e}}for(var d=0;d<f;d++){var m=c[d];if(m.data.order==n){this.sortTransformConstraint(m);continue e}}for(var d=0;d<h;d++){var m=l[d];if(m.data.order==n){this.sortPathConstraint(m);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Md&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Md){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,c=W.cosDeg(r.rotation+r.shearX)*r.scaleX,l=W.cosDeg(s)*r.scaleY,u=W.sinDeg(r.rotation+r.shearX)*r.scaleX,f=W.sinDeg(s)*r.scaleY,h=this.scaleX,p=-this.scaleY;r.matrix.a=(n*c+i*u)*h,r.matrix.c=(n*l+i*f)*h,r.matrix.b=(a*c+o*u)*p,r.matrix.d=(a*l+o*f)*p;for(var d=this._updateCache,m=0,_=d.length;m<_;m++){var v=d[m];v!=r&&v.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;oe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new Ad,r=new Ad;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof JA)h=8,p=oe.setArraySize(n,h,0),d.computeWorldVertices(f,p,0,2);else if(d instanceof v_){var m=d;h=m.worldVerticesLength,p=oe.setArraySize(n,h,0),m.computeWorldVertices(f,0,h,p,0,2)}if(p)for(var _=0,v=p.length;_<v;_+=2){var g=p[_],y=p[_+1];a=Math.min(a,g),o=Math.min(o,y),s=Math.max(s,g),c=Math.max(c,y)}}}e.set(a,o),r.set(s-a,c-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),II=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),RI=function(){function t(e,r,n){if(this.index=0,this.color=new Me(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=Ve.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),PI=function(t){bt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(y_),YS=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),vm=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment&&(c.attachment instanceof v_?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new YS(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new YS(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u&&a.setAttachment(u);break}}}n++}},t}(),R$=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new II;n.name="";var i=new cm(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var c="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(c)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var f=0;f<u;f++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}u=i.readInt(!0);for(var f=0;f<u;f++){var p=i.readString();if(!p)throw new Error("Bone name must not be null.");var d=f==0?null:n.bones[i.readInt(!0)],m=new EI(f,p,d);m.rotation=i.readFloat(),m.x=i.readFloat()*r,m.y=i.readFloat()*r,m.scaleX=i.readFloat(),m.scaleY=i.readFloat(),m.shearX=i.readFloat(),m.shearY=i.readFloat(),m.length=i.readFloat()*r,m.transformMode=i.readInt(!0),m.skinRequired=i.readBoolean(),l&&Me.rgba8888ToColor(m.color,i.readInt32()),n.bones.push(m)}u=i.readInt(!0);for(var f=0;f<u;f++){var _=i.readString();if(!_)throw new Error("Slot name must not be null.");var v=n.bones[i.readInt(!0)],m=new RI(f,_,v);Me.rgba8888ToColor(m.color,i.readInt32());var g=i.readInt32();g!=-1&&Me.rgb888ToColor(m.darkColor=new Me,g),m.attachmentName=i.readStringRef(),m.blendMode=i.readInt(!0),n.slots.push(m)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var x=i.readString();if(!x)throw new Error("IK constraint data name must not be null.");var m=new TI(x);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.bones[i.readInt(!0)],m.mix=i.readFloat(),m.softness=i.readFloat()*r,m.bendDirection=i.readByte(),m.compress=i.readBoolean(),m.stretch=i.readBoolean(),m.uniform=i.readBoolean(),n.ikConstraints.push(m)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var w=i.readString();if(!w)throw new Error("Transform constraint data name must not be null.");var m=new PI(w);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.bones[i.readInt(!0)],m.local=i.readBoolean(),m.relative=i.readBoolean(),m.offsetRotation=i.readFloat(),m.offsetX=i.readFloat()*r,m.offsetY=i.readFloat()*r,m.offsetScaleX=i.readFloat(),m.offsetScaleY=i.readFloat(),m.offsetShearY=i.readFloat(),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),m.mixScaleX=i.readFloat(),m.mixScaleY=i.readFloat(),m.mixShearY=i.readFloat(),n.transformConstraints.push(m)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var E=i.readString();if(!E)throw new Error("Path constraint data name must not be null.");var m=new AI(E);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.slots[i.readInt(!0)],m.positionMode=i.readInt(!0),m.spacingMode=i.readInt(!0),m.rotateMode=i.readInt(!0),m.offsetRotation=i.readFloat(),m.position=i.readFloat(),m.positionMode==xr.Fixed&&(m.position*=r),m.spacing=i.readFloat(),(m.spacingMode==tn.Length||m.spacingMode==tn.Fixed)&&(m.spacing*=r),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),n.pathConstraints.push(m)}var S=this.readSkin(i,n,!0,l);S&&(n.defaultSkin=S,n.skins.push(S));{var f=n.skins.length;for(oe.setArraySize(n.skins,u=f+i.readInt(!0));f<u;f++){var C=this.readSkin(i,n,!1,l);if(!C)throw new Error("readSkin() should not have returned null.");n.skins[f]=C}}u=this.linkedMeshes.length;for(var f=0;f<u;f++){var T=this.linkedMeshes[f],C=T.skin?n.findSkin(T.skin):n.defaultSkin;if(!C)throw new Error("Not skin found for linked mesh.");if(!T.parent)throw new Error("Linked mesh parent must not be null");var I=C.getAttachment(T.slotIndex,T.parent);if(!I)throw new Error("Parent mesh not found: "+T.parent);T.mesh.timelineAttachment=T.inheritTimeline?I:T.mesh,T.mesh.setParentMesh(I)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var f=0;f<u;f++){var A=i.readStringRef();if(!A)throw new Error;var m=new CI(A);m.intValue=i.readInt(!1),m.floatValue=i.readFloat(),m.stringValue=i.readString(),m.audioPath=i.readString(),m.audioPath&&(m.volume=i.readFloat(),m.balance=i.readFloat()),n.events.push(m)}u=i.readInt(!0);for(var f=0;f<u;f++){var R=i.readString();if(!R)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,R,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new vm("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new vm(s),a.bones.length=e.readInt(!0);for(var c=0,l=a.bones.length;c<l;c++)a.bones[c]=r.bones[e.readInt(!0)];for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var c=0;c<o;c++)for(var u=e.readInt(!0),f=0,h=e.readInt(!0);f<h;f++){var p=e.readStringRef();if(!p)throw new Error("Attachment name must not be null");var d=this.readAttachment(e,r,a,u,p,i);d&&a.setAttachment(u,p,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();switch(c||(c=a),e.readByte()){case yt.Region:{var l=e.readStringRef(),u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),m=e.readFloat(),_=e.readFloat(),v=e.readInt32(),g=this.readSequence(e);l||(l=c);var y=this.attachmentLoader.newRegionAttachment(n,c,l,g);return y?(y.path=l,y.x=f*s,y.y=h*s,y.scaleX=p,y.scaleY=d,y.rotation=u,y.width=m*s,y.height=_*s,Me.rgba8888ToColor(y.color,v),y.sequence=g,g==null&&y.updateRegion(),y):null}case yt.BoundingBox:{var x=e.readInt(!0),b=this.readVertices(e,x),v=o?e.readInt32():0,w=this.attachmentLoader.newBoundingBoxAttachment(n,c);return w?(w.worldVerticesLength=x<<1,w.vertices=b.vertices,w.bones=b.bones,o&&Me.rgba8888ToColor(w.color,v),w):null}case yt.Mesh:{var l=e.readStringRef(),v=e.readInt32(),x=e.readInt(!0),E=this.readFloatArray(e,x<<1,1),S=this.readShortArray(e),b=this.readVertices(e,x),C=e.readInt(!0),g=this.readSequence(e),T=[],m=0,_=0;o&&(T=this.readShortArray(e),m=e.readFloat(),_=e.readFloat()),l||(l=c);var I=this.attachmentLoader.newMeshAttachment(n,c,l,g);return I?(I.path=l,Me.rgba8888ToColor(I.color,v),I.bones=b.bones,I.vertices=b.vertices,I.worldVerticesLength=x<<1,I.triangles=S,I.regionUVs=new Float32Array(E),I.hullLength=C<<1,I.sequence=g,o&&(I.edges=T,I.width=m*s,I.height=_*s),I):null}case yt.LinkedMesh:{var l=e.readStringRef(),v=e.readInt32(),A=e.readStringRef(),R=e.readStringRef(),O=e.readBoolean(),g=this.readSequence(e),m=0,_=0;o&&(m=e.readFloat(),_=e.readFloat()),l||(l=c);var I=this.attachmentLoader.newMeshAttachment(n,c,l,g);return I?(I.path=l,Me.rgba8888ToColor(I.color,v),I.sequence=g,o&&(I.width=m*s,I.height=_*s),this.linkedMeshes.push(new aAe(I,A,i,R,O)),I):null}case yt.Path:{for(var F=e.readBoolean(),N=e.readBoolean(),x=e.readInt(!0),b=this.readVertices(e,x),$=oe.newArray(x/3,0),q=0,K=$.length;q<K;q++)$[q]=e.readFloat()*s;var v=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,c);return l?(l.closed=F,l.constantSpeed=N,l.worldVerticesLength=x<<1,l.vertices=b.vertices,l.bones=b.bones,l.lengths=$,o&&Me.rgba8888ToColor(l.color,v),l):null}case yt.Point:{var u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),v=o?e.readInt32():0,G=this.attachmentLoader.newPointAttachment(n,c);return G?(G.x=f*s,G.y=h*s,G.rotation=u,o&&Me.rgba8888ToColor(G.color,v),G):null}case yt.Clipping:{var L=e.readInt(!0),x=e.readInt(!0),b=this.readVertices(e,x),v=o?e.readInt32():0,j=this.attachmentLoader.newClippingAttachment(n,c);return j?(j.endSlot=r.slots[L],j.worldVerticesLength=x<<1,j.vertices=b.vertices,j.bones=b.bones,o&&Me.rgba8888ToColor(j.color,v),j):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new QA(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?cL:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new oAe;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=oe.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var c=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var f=e.readByte(),h=e.readInt(!0),p=h-1;switch(f){case gAe:{for(var d=new gl(h,c),m=0;m<h;m++)d.setFrame(m,e.readFloat(),e.readStringRef());i.push(d);break}case _Ae:{for(var _=e.readInt(!0),d=new cI(h,_,c),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,m=0,w=0;d.setFrame(m,v,g,y,x,b),m!=p;m++){var E=e.readFloat(),S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255;switch(e.readByte()){case sa:d.setStepped(m);break;case la:Ft(e,d,w++,m,0,v,E,g,S,1),Ft(e,d,w++,m,1,v,E,y,C,1),Ft(e,d,w++,m,2,v,E,x,T,1),Ft(e,d,w++,m,3,v,E,b,I,1)}v=E,g=S,y=C,x=T,b=I}i.push(d);break}case yAe:{for(var _=e.readInt(!0),d=new fI(h,_,c),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,m=0,w=0;d.setFrame(m,v,g,y,x),m!=p;m++){var E=e.readFloat(),S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255;switch(e.readByte()){case sa:d.setStepped(m);break;case la:Ft(e,d,w++,m,0,v,E,g,S,1),Ft(e,d,w++,m,1,v,E,y,C,1),Ft(e,d,w++,m,2,v,E,x,T,1)}v=E,g=S,y=C,x=T}i.push(d);break}case xAe:{for(var _=e.readInt(!0),d=new dI(h,_,c),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,m=0,w=0;d.setFrame(m,v,g,y,x,b,S,C,T),m!=p;m++){var E=e.readFloat(),A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,N=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255;switch(e.readByte()){case sa:d.setStepped(m);break;case la:Ft(e,d,w++,m,0,v,E,g,A,1),Ft(e,d,w++,m,1,v,E,y,R,1),Ft(e,d,w++,m,2,v,E,x,O,1),Ft(e,d,w++,m,3,v,E,b,F,1),Ft(e,d,w++,m,4,v,E,S,N,1),Ft(e,d,w++,m,5,v,E,C,$,1),Ft(e,d,w++,m,6,v,E,T,q,1)}v=E,g=A,y=R,x=O,b=F,S=N,C=$,T=q}i.push(d);break}case bAe:{for(var _=e.readInt(!0),d=new pI(h,_,c),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,m=0,w=0;d.setFrame(m,v,g,y,x,S,C,T),m!=p;m++){var E=e.readFloat(),A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,N=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255;switch(e.readByte()){case sa:d.setStepped(m);break;case la:Ft(e,d,w++,m,0,v,E,g,A,1),Ft(e,d,w++,m,1,v,E,y,R,1),Ft(e,d,w++,m,2,v,E,x,O,1),Ft(e,d,w++,m,3,v,E,S,N,1),Ft(e,d,w++,m,4,v,E,C,$,1),Ft(e,d,w++,m,5,v,E,T,q,1)}v=E,g=A,y=R,x=O,S=N,C=$,T=q}i.push(d);break}case wAe:{for(var d=new hI(h,e.readInt(!0),c),v=e.readFloat(),b=e.readUnsignedByte()/255,m=0,w=0;d.setFrame(m,v,b),m!=p;m++){var E=e.readFloat(),I=e.readUnsignedByte()/255;switch(e.readByte()){case sa:d.setStepped(m);break;case la:Ft(e,d,w++,m,0,v,E,b,I,1)}v=E,b=I}i.push(d)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var K=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var G=e.readByte(),h=e.readInt(!0),_=e.readInt(!0);switch(G){case sAe:i.push(oo(e,new Bd(h,_,K),1));break;case lAe:i.push(Q1(e,new tI(h,_,K),a));break;case uAe:i.push(oo(e,new rI(h,_,K),a));break;case cAe:i.push(oo(e,new nI(h,_,K),a));break;case fAe:i.push(Q1(e,new iI(h,_,K),1));break;case hAe:i.push(oo(e,new aI(h,_,K),1));break;case dAe:i.push(oo(e,new oI(h,_,K),1));break;case pAe:i.push(Q1(e,new sI(h,_,K),1));break;case vAe:i.push(oo(e,new lI(h,_,K),1));break;case mAe:i.push(oo(e,new uI(h,_,K),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var L=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new mI(h,e.readInt(!0),L),v=e.readFloat(),j=e.readFloat(),B=e.readFloat()*a,m=0,w=0;d.setFrame(m,v,j,B,e.readByte(),e.readBoolean(),e.readBoolean()),m!=p;m++){var E=e.readFloat(),D=e.readFloat(),J=e.readFloat()*a;switch(e.readByte()){case sa:d.setStepped(m);break;case la:Ft(e,d,w++,m,0,v,E,j,D,1),Ft(e,d,w++,m,1,v,E,B,J,a)}v=E,j=D,B=J}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var L=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new gI(h,e.readInt(!0),L),v=e.readFloat(),Q=e.readFloat(),se=e.readFloat(),re=e.readFloat(),ce=e.readFloat(),Ee=e.readFloat(),we=e.readFloat(),m=0,w=0;d.setFrame(m,v,Q,se,re,ce,Ee,we),m!=p;m++){var E=e.readFloat(),pe=e.readFloat(),ve=e.readFloat(),Ae=e.readFloat(),ke=e.readFloat(),Te=e.readFloat(),Fe=e.readFloat();switch(e.readByte()){case sa:d.setStepped(m);break;case la:Ft(e,d,w++,m,0,v,E,Q,pe,1),Ft(e,d,w++,m,1,v,E,se,ve,1),Ft(e,d,w++,m,2,v,E,re,Ae,1),Ft(e,d,w++,m,3,v,E,ce,ke,1),Ft(e,d,w++,m,4,v,E,Ee,Te,1),Ft(e,d,w++,m,5,v,E,we,Fe,1)}v=E,Q=pe,se=ve,re=Ae,ce=ke,Ee=Te,we=Fe}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var L=e.readInt(!0),Ne=n.pathConstraints[L],l=0,u=e.readInt(!0);l<u;l++)switch(e.readByte()){case SAe:i.push(oo(e,new _I(e.readInt(!0),e.readInt(!0),L),Ne.positionMode==xr.Fixed?a:1));break;case CAe:i.push(oo(e,new yI(e.readInt(!0),e.readInt(!0),L),Ne.spacingMode==tn.Length||Ne.spacingMode==tn.Fixed?a:1));break;case TAe:for(var d=new xI(e.readInt(!0),e.readInt(!0),L),v=e.readFloat(),Q=e.readFloat(),se=e.readFloat(),re=e.readFloat(),m=0,w=0,p=d.getFrameCount()-1;d.setFrame(m,v,Q,se,re),m!=p;m++){var E=e.readFloat(),pe=e.readFloat(),ve=e.readFloat(),Ae=e.readFloat();switch(e.readByte()){case sa:d.setStepped(m);break;case la:Ft(e,d,w++,m,0,v,E,Q,pe,1),Ft(e,d,w++,m,1,v,E,se,ve,1),Ft(e,d,w++,m,2,v,E,re,Ae,1)}v=E,Q=pe,se=ve,re=Ae}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var Je=n.skins[e.readInt(!0)],l=0,u=e.readInt(!0);l<u;l++)for(var c=e.readInt(!0),vt=0,Qe=e.readInt(!0);vt<Qe;vt++){var Ke=e.readStringRef();if(!Ke)throw new Error("attachmentName must not be null.");var ut=Je.getAttachment(c,Ke),f=this.readDeformTimelineType(e),h=e.readInt(!0),p=h-1;switch(f){case cL:{for(var Lt=ut,$t=Lt.bones,Mt=Lt.vertices,Bt=$t?Mt.length/3*2:Mt.length,_=e.readInt(!0),d=new vI(h,_,c,Lt),v=e.readFloat(),m=0,w=0;;m++){var nt=void 0,Vt=e.readInt(!0);if(Vt==0)nt=$t?oe.newFloatArray(Bt):Mt;else{nt=oe.newFloatArray(Bt);var xe=e.readInt(!0);if(Vt+=xe,a==1)for(var M=xe;M<Vt;M++)nt[M]=e.readFloat();else for(var M=xe;M<Vt;M++)nt[M]=e.readFloat()*a;if(!$t)for(var M=0,ne=nt.length;M<ne;M++)nt[M]+=Mt[M]}if(d.setFrame(m,v,nt),m==p)break;var E=e.readFloat();switch(e.readByte()){case sa:d.setStepped(m);break;case la:Ft(e,d,w++,m,0,v,E,0,1,1)}v=E}i.push(d);break}case EAe:{for(var d=new bI(h,c,ut),m=0;m<h;m++){var v=e.readFloat(),de=e.readInt32();d.setFrame(m,v,eI[de&15],de>>4,e.readFloat())}i.push(d);break}}}var be=e.readInt(!0);if(be>0){for(var d=new mc(be),Z=n.slots.length,o=0;o<be;o++){for(var v=e.readFloat(),me=e.readInt(!0),U=oe.newArray(Z,0),l=Z-1;l>=0;l--)U[l]=-1;for(var Se=oe.newArray(Z-me,0),We=0,P=0,l=0;l<me;l++){for(var c=e.readInt(!0);We!=c;)Se[P++]=We++;U[We+e.readInt(!0)]=We++}for(;We<Z;)Se[P++]=We++;for(var l=Z-1;l>=0;l--)U[l]==-1&&(U[l]=Se[--P]);d.setFrame(o,v,U)}i.push(d)}var ge=e.readInt(!0);if(ge>0){for(var d=new __(ge),o=0;o<ge;o++){var v=e.readFloat(),_e=n.events[e.readInt(!0)],V=new SI(v,_e);V.intValue=e.readInt(!1),V.floatValue=e.readFloat(),V.stringValue=e.readBoolean()?e.readString():_e.stringValue,V.data.audioPath&&(V.volume=e.readFloat(),V.balance=e.readFloat()),d.setFrame(o,V)}i.push(d)}for(var ee=0,o=0,s=i.length;o<s;o++)ee=Math.max(ee,i[o].getDuration());return new m_(r,i,ee)},t.BlendModeValues=[Ve.NORMAL,Ve.ADD,Ve.MULTIPLY,Ve.SCREEN],t}(),aAe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),oAe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function oo(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var c=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case sa:e.setStepped(a);break;case la:Ft(t,e,o++,a,0,n,c,i,l,r)}n=c,i=l}return e}function Q1(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,c=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=c;o++){var l=t.readFloat(),u=t.readFloat()*r,f=t.readFloat()*r;switch(t.readByte()){case sa:e.setStepped(o);break;case la:Ft(t,e,s++,o,0,n,l,i,u,r),Ft(t,e,s++,o,1,n,l,a,f,r)}n=l,i=u,a=f}return e}function Ft(t,e,r,n,i,a,o,s,c,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,c)}var sAe=0,lAe=1,uAe=2,cAe=3,fAe=4,hAe=5,dAe=6,pAe=7,vAe=8,mAe=9,gAe=0,_Ae=1,yAe=2,xAe=3,bAe=4,wAe=5,cL=0,EAe=1,SAe=0,CAe=1,TAe=2,sa=1,la=2,AAe=function(t){bt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(PA),P$=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new II,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var c=0;c<i.bones.length;c++){var l=i.bones[c],u=null,f=he(l,"parent",null);if(f!=null&&(u=n.findBone(f),u==null))throw new Error("Parent bone not found: "+f);var h=new EI(n.bones.length,l.name,u);h.length=he(l,"length",0)*r,h.x=he(l,"x",0)*r,h.y=he(l,"y",0)*r,h.rotation=he(l,"rotation",0),h.scaleX=he(l,"scaleX",1),h.scaleY=he(l,"scaleY",1),h.shearX=he(l,"shearX",0),h.shearY=he(l,"shearY",0),h.transformMode=oe.enumValue(ft,he(l,"transform","Normal")),h.skinRequired=he(l,"skin",!1);var p=he(l,"color",null);p&&h.color.setFromString(p),n.bones.push(h)}if(i.slots)for(var c=0;c<i.slots.length;c++){var d=i.slots[c],m=n.findBone(d.bone);if(!m)throw new Error("Couldn't find bone "+d.bone+" for slot "+d.name);var h=new RI(n.slots.length,d.name,m),p=he(d,"color",null);p&&h.color.setFromString(p);var _=he(d,"dark",null);_&&(h.darkColor=Me.fromString(_)),h.attachmentName=he(d,"attachment",null),h.blendMode=t.blendModeFromString(he(d,"blend","normal")),n.slots.push(h)}if(i.ik)for(var c=0;c<i.ik.length;c++){var v=i.ik[c],h=new TI(v.name);h.order=he(v,"order",0),h.skinRequired=he(v,"skin",!1);for(var g=0;g<v.bones.length;g++){var y=v.bones[g],x=n.findBone(y);if(x==null)throw new Error("IK bone not found: "+y);h.bones.push(x)}h.target=n.findBone(v.target),h.mix=he(v,"mix",1),h.softness=he(v,"softness",0)*r,h.bendDirection=he(v,"bendPositive",!0)?1:-1,h.compress=he(v,"compress",!1),h.stretch=he(v,"stretch",!1),h.uniform=he(v,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var c=0;c<i.transform.length;c++){var v=i.transform[c],h=new PI(v.name);h.order=he(v,"order",0),h.skinRequired=he(v,"skin",!1);for(var g=0;g<v.bones.length;g++){var y=v.bones[g],x=n.findBone(y);if(!x)throw new Error("Couldn't find bone "+y+" for transform constraint "+v.name+".");h.bones.push(x)}var b=v.target,w=n.findBone(b);if(!w)throw new Error("Couldn't find target bone "+b+" for transform constraint "+v.name+".");h.target=w,h.local=he(v,"local",!1),h.relative=he(v,"relative",!1),h.offsetRotation=he(v,"rotation",0),h.offsetX=he(v,"x",0)*r,h.offsetY=he(v,"y",0)*r,h.offsetScaleX=he(v,"scaleX",0),h.offsetScaleY=he(v,"scaleY",0),h.offsetShearY=he(v,"shearY",0),h.mixRotate=he(v,"mixRotate",1),h.mixX=he(v,"mixX",1),h.mixY=he(v,"mixY",h.mixX),h.mixScaleX=he(v,"mixScaleX",1),h.mixScaleY=he(v,"mixScaleY",h.mixScaleX),h.mixShearY=he(v,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var c=0;c<i.path.length;c++){var v=i.path[c],h=new AI(v.name);h.order=he(v,"order",0),h.skinRequired=he(v,"skin",!1);for(var g=0;g<v.bones.length;g++){var y=v.bones[g],x=n.findBone(y);if(!x)throw new Error("Couldn't find bone "+y+" for path constraint "+v.name+".");h.bones.push(x)}var b=v.target,w=n.findSlot(b);if(!w)throw new Error("Couldn't find target slot "+b+" for path constraint "+v.name+".");h.target=w,h.positionMode=oe.enumValue(xr,he(v,"positionMode","Percent")),h.spacingMode=oe.enumValue(tn,he(v,"spacingMode","Length")),h.rotateMode=oe.enumValue(Mr,he(v,"rotateMode","Tangent")),h.offsetRotation=he(v,"rotation",0),h.position=he(v,"position",0),h.positionMode==xr.Fixed&&(h.position*=r),h.spacing=he(v,"spacing",0),(h.spacingMode==tn.Length||h.spacingMode==tn.Fixed)&&(h.spacing*=r),h.mixRotate=he(v,"mixRotate",1),h.mixX=he(v,"mixX",1),h.mixY=he(v,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var c=0;c<i.skins.length;c++){var E=i.skins[c],S=new vm(E.name);if(E.bones)for(var g=0;g<E.bones.length;g++){var y=E.bones[g],x=n.findBone(y);if(!x)throw new Error("Couldn't find bone "+y+" for skin "+E.name+".");S.bones.push(x)}if(E.ik)for(var g=0;g<E.ik.length;g++){var C=E.ik[g],T=n.findIkConstraint(C);if(!T)throw new Error("Couldn't find IK constraint "+C+" for skin "+E.name+".");S.constraints.push(T)}if(E.transform)for(var g=0;g<E.transform.length;g++){var C=E.transform[g],T=n.findTransformConstraint(C);if(!T)throw new Error("Couldn't find transform constraint "+C+" for skin "+E.name+".");S.constraints.push(T)}if(E.path)for(var g=0;g<E.path.length;g++){var C=E.path[g],T=n.findPathConstraint(C);if(!T)throw new Error("Couldn't find path constraint "+C+" for skin "+E.name+".");S.constraints.push(T)}for(var I in E.attachments){var A=n.findSlot(I);if(!A)throw new Error("Couldn't find slot "+I+" for skin "+E.name+".");var d=E.attachments[I];for(var R in d){var O=this.readAttachment(d[R],S,A.index,R,n);O&&S.setAttachment(A.index,R,O)}}n.skins.push(S),S.name=="default"&&(n.defaultSkin=S)}for(var c=0,F=this.linkedMeshes.length;c<F;c++){var N=this.linkedMeshes[c],S=N.skin?n.findSkin(N.skin):n.defaultSkin;if(!S)throw new Error("Skin not found: "+N.skin);var $=S.getAttachment(N.slotIndex,N.parent);if(!$)throw new Error("Parent mesh not found: "+N.parent);N.mesh.timelineAttachment=N.inheritTimeline?$:N.mesh,N.mesh.setParentMesh($)}if(this.linkedMeshes.length=0,i.events)for(var q in i.events){var K=i.events[q],h=new CI(q);h.intValue=he(K,"int",0),h.floatValue=he(K,"float",0),h.stringValue=he(K,"string",""),h.audioPath=he(K,"audio",null),h.audioPath&&(h.volume=he(K,"volume",1),h.balance=he(K,"balance",0)),n.events.push(h)}if(i.animations)for(var G in i.animations){var L=i.animations[G];this.readAnimation(L,G,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=he(e,"name",i),he(e,"type","region")){case"region":{var s=he(e,"path",i),c=this.readSequence(he(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,c);if(!l)return null;l.path=s,l.x=he(e,"x",0)*o,l.y=he(e,"y",0)*o,l.scaleX=he(e,"scaleX",1),l.scaleY=he(e,"scaleY",1),l.rotation=he(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=c;var u=he(e,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!f)return null;this.readVertices(e,f,e.vertexCount<<1);var u=he(e,"color",null);return u&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var s=he(e,"path",i),c=this.readSequence(he(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,c);if(!h)return null;h.path=s;var u=he(e,"color",null);u&&h.color.setFromString(u),h.width=he(e,"width",0)*o,h.height=he(e,"height",0)*o,h.sequence=c;var p=he(e,"parent",null);if(p)return this.linkedMeshes.push(new IAe(h,he(e,"skin",null),n,p,he(e,"timelines",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=he(e,"edges",null),h.hullLength=he(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=he(e,"closed",!1),s.constantSpeed=he(e,"constantSpeed",!0);var m=e.vertexCount;this.readVertices(e,s,m<<1);for(var _=oe.newArray(m/3,0),v=0;v<e.lengths.length;v++)_[v]=e.lengths[v]*o;s.lengths=_;var u=he(e,"color",null);return u&&s.color.setFromString(u),s}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(!g)return null;g.x=he(e,"x",0)*o,g.y=he(e,"y",0)*o,g.rotation=he(e,"rotation",0);var u=he(e,"color",null);return u&&g.color.setFromString(u),g}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(!y)return null;var x=he(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);y.endSlot=b}var m=e.vertexCount;this.readVertices(e,y,m<<1);var u=he(e,"color",null);return u&&y.color.setFromString(u),y}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new QA(he(e,"count",0));return r.start=he(e,"start",1),r.digits=he(e,"digits",0),r.setupIndex=he(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=oe.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=oe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],c=n.findSlot(o);if(!c)throw new Error("Slot not found: "+o);var l=c.index;for(var u in s){var f=s[u];if(f){var h=f.length;if(u=="attachment"){for(var p=new gl(h,l),d=0;d<h;d++){var m=f[d];p.setFrame(d,he(m,"time",0),he(m,"name",null))}a.push(p)}else if(u=="rgba"){for(var p=new cI(h,h<<2,l),m=f[0],_=he(m,"time",0),v=Me.fromString(m.color),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b,v.a);var y=f[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),b=Me.fromString(y.color),w=m.curve;w&&(g=Ut(w,p,g,d,0,_,x,v.r,b.r,1),g=Ut(w,p,g,d,1,_,x,v.g,b.g,1),g=Ut(w,p,g,d,2,_,x,v.b,b.b,1),g=Ut(w,p,g,d,3,_,x,v.a,b.a,1)),_=x,v=b,m=y}a.push(p)}else if(u=="rgb"){for(var p=new fI(h,h*3,l),m=f[0],_=he(m,"time",0),v=Me.fromString(m.color),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b);var y=f[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),b=Me.fromString(y.color),w=m.curve;w&&(g=Ut(w,p,g,d,0,_,x,v.r,b.r,1),g=Ut(w,p,g,d,1,_,x,v.g,b.g,1),g=Ut(w,p,g,d,2,_,x,v.b,b.b,1)),_=x,v=b,m=y}a.push(p)}else if(u=="alpha")a.push(Ta(f,new hI(h,h,l),0,1));else if(u=="rgba2"){for(var p=new dI(h,h*7,l),m=f[0],_=he(m,"time",0),v=Me.fromString(m.light),E=Me.fromString(m.dark),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b,v.a,E.r,E.g,E.b);var y=f[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),b=Me.fromString(y.light),S=Me.fromString(y.dark),w=m.curve;w&&(g=Ut(w,p,g,d,0,_,x,v.r,b.r,1),g=Ut(w,p,g,d,1,_,x,v.g,b.g,1),g=Ut(w,p,g,d,2,_,x,v.b,b.b,1),g=Ut(w,p,g,d,3,_,x,v.a,b.a,1),g=Ut(w,p,g,d,4,_,x,E.r,S.r,1),g=Ut(w,p,g,d,5,_,x,E.g,S.g,1),g=Ut(w,p,g,d,6,_,x,E.b,S.b,1)),_=x,v=b,E=S,m=y}a.push(p)}else if(u=="rgb2"){for(var p=new pI(h,h*6,l),m=f[0],_=he(m,"time",0),v=Me.fromString(m.light),E=Me.fromString(m.dark),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b,E.r,E.g,E.b);var y=f[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),b=Me.fromString(y.light),S=Me.fromString(y.dark),w=m.curve;w&&(g=Ut(w,p,g,d,0,_,x,v.r,b.r,1),g=Ut(w,p,g,d,1,_,x,v.g,b.g,1),g=Ut(w,p,g,d,2,_,x,v.b,b.b,1),g=Ut(w,p,g,d,3,_,x,E.r,S.r,1),g=Ut(w,p,g,d,4,_,x,E.g,S.g,1),g=Ut(w,p,g,d,5,_,x,E.b,S.b,1)),_=x,v=b,E=S,m=y}a.push(p)}}}}if(e.bones)for(var C in e.bones){var T=e.bones[C],I=n.findBone(C);if(!I)throw new Error("Bone not found: "+C);var A=I.index;for(var u in T){var f=T[u],R=f.length;if(R!=0){if(u==="rotate")a.push(Ta(f,new Bd(R,R,A),0,1));else if(u==="translate"){var p=new tI(R,R<<1,A);a.push(eb(f,p,"x","y",0,i))}else if(u==="translatex"){var p=new rI(R,R,A);a.push(Ta(f,p,0,i))}else if(u==="translatey"){var p=new nI(R,R,A);a.push(Ta(f,p,0,i))}else if(u==="scale"){var p=new iI(R,R<<1,A);a.push(eb(f,p,"x","y",1,1))}else if(u==="scalex"){var p=new aI(R,R,A);a.push(Ta(f,p,1,1))}else if(u==="scaley"){var p=new oI(R,R,A);a.push(Ta(f,p,1,1))}else if(u==="shear"){var p=new sI(R,R<<1,A);a.push(eb(f,p,"x","y",0,1))}else if(u==="shearx"){var p=new lI(R,R,A);a.push(Ta(f,p,0,1))}else if(u==="sheary"){var p=new uI(R,R,A);a.push(Ta(f,p,0,1))}}}}if(e.ik)for(var O in e.ik){var F=e.ik[O],m=F[0];if(m){var N=n.findIkConstraint(O);if(!N)throw new Error("IK Constraint not found: "+O);for(var $=n.ikConstraints.indexOf(N),p=new mI(F.length,F.length<<1,$),_=he(m,"time",0),q=he(m,"mix",1),K=he(m,"softness",0)*i,d=0,g=0;;d++){p.setFrame(d,_,q,K,he(m,"bendPositive",!0)?1:-1,he(m,"compress",!1),he(m,"stretch",!1));var y=F[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),G=he(y,"mix",1),L=he(y,"softness",0)*i,w=m.curve;w&&(g=Ut(w,p,g,d,0,_,x,q,G,1),g=Ut(w,p,g,d,1,_,x,K,L,i)),_=x,q=G,K=L,m=y}a.push(p)}}if(e.transform)for(var O in e.transform){var f=e.transform[O],m=f[0];if(m){var N=n.findTransformConstraint(O);if(!N)throw new Error("Transform constraint not found: "+O);for(var $=n.transformConstraints.indexOf(N),p=new gI(f.length,f.length*6,$),_=he(m,"time",0),j=he(m,"mixRotate",1),B=he(m,"mixX",1),D=he(m,"mixY",B),J=he(m,"mixScaleX",1),Q=he(m,"mixScaleY",J),se=he(m,"mixShearY",1),d=0,g=0;;d++){p.setFrame(d,_,j,B,D,J,Q,se);var y=f[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),re=he(y,"mixRotate",1),ce=he(y,"mixX",1),Ee=he(y,"mixY",ce),we=he(y,"mixScaleX",1),pe=he(y,"mixScaleY",we),ve=he(y,"mixShearY",1),w=m.curve;w&&(g=Ut(w,p,g,d,0,_,x,j,re,1),g=Ut(w,p,g,d,1,_,x,B,ce,1),g=Ut(w,p,g,d,2,_,x,D,Ee,1),g=Ut(w,p,g,d,3,_,x,J,we,1),g=Ut(w,p,g,d,4,_,x,Q,pe,1),g=Ut(w,p,g,d,5,_,x,se,ve,1)),_=x,j=re,B=ce,D=Ee,J=we,Q=pe,J=we,m=y}a.push(p)}}if(e.path)for(var O in e.path){var F=e.path[O],N=n.findPathConstraint(O);if(!N)throw new Error("Path constraint not found: "+O);var $=n.pathConstraints.indexOf(N);for(var u in F){var f=F[u],m=f[0];if(m){var Ae=f.length;if(u==="position"){var p=new _I(Ae,Ae,$);a.push(Ta(f,p,0,N.positionMode==xr.Fixed?i:1))}else if(u==="spacing"){var p=new yI(Ae,Ae,$);a.push(Ta(f,p,0,N.spacingMode==tn.Length||N.spacingMode==tn.Fixed?i:1))}else if(u==="mix"){for(var p=new xI(Ae,Ae*3,$),_=he(m,"time",0),j=he(m,"mixRotate",1),B=he(m,"mixX",1),D=he(m,"mixY",B),d=0,g=0;;d++){p.setFrame(d,_,j,B,D);var y=f[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),re=he(y,"mixRotate",1),ce=he(y,"mixX",1),Ee=he(y,"mixY",ce),w=m.curve;w&&(g=Ut(w,p,g,d,0,_,x,j,re,1),g=Ut(w,p,g,d,1,_,x,B,ce,1),g=Ut(w,p,g,d,2,_,x,D,Ee,1)),_=x,j=re,B=ce,D=Ee,m=y}a.push(p)}}}}if(e.deform){e.attachments={};for(var ke in e.deform){var Te=e.deform[ke],Fe=e.attachments[ke]={};for(var o in Te){var s=Te[o],Ne=Fe[o]={};for(var Je in s)Ne[Je]={deform:s[Je]}}}}if(e.attachments)for(var vt in e.attachments){var Qe=e.attachments[vt],Ke=n.findSkin(vt);if(Ke!=null)for(var ut in Qe){var s=Qe[ut],c=n.findSlot(ut);if(!c)throw new Error("Slot not found: "+ut);var l=c.index;for(var Lt in s){var $t=s[Lt],Mt=Ke.getAttachment(l,Lt);for(var Bt in $t){var f=$t[Bt],m=f[0];if(m){if(Bt=="deform"){for(var nt=Mt.bones,Vt=Mt.vertices,xe=nt?Vt.length/3*2:Vt.length,p=new vI(f.length,f.length,l,Mt),_=he(m,"time",0),d=0,g=0;;d++){var M=void 0,ne=he(m,"vertices",null);if(!ne)M=nt?oe.newFloatArray(xe):Vt;else{M=oe.newFloatArray(xe);var de=he(m,"offset",0);if(oe.arrayCopy(ne,0,M,de,ne.length),i!=1)for(var be=de,Z=be+ne.length;be<Z;be++)M[be]*=i;if(!nt)for(var be=0;be<xe;be++)M[be]+=Vt[be]}p.setFrame(d,_,M);var y=f[d+1];if(!y){p.shrink(g);break}var x=he(y,"time",0),w=m.curve;w&&(g=Ut(w,p,g,d,0,_,x,0,1,1)),_=x,m=y}a.push(p)}else if(Bt=="sequence"){for(var p=new bI(f.length,l,Mt),me=0,d=0;d<f.length;d++){var U=he(m,"delay",me),_=he(m,"time",0),Se=Sn[he(m,"mode","hold")],We=he(m,"index",0);p.setFrame(d,_,Se,We,U),me=U,m=f[d+1]}a.push(p)}}}}}}if(e.drawOrder){for(var p=new mc(e.drawOrder.length),P=n.slots.length,d=0,be=0;be<e.drawOrder.length;be++,d++){var ge=e.drawOrder[be],_e=null,V=he(ge,"offsets",null);if(V){_e=oe.newArray(P,-1);for(var ee=oe.newArray(P-V.length,0),fe=0,ze=0,De=0;De<V.length;De++){var Ge=V[De],c=n.findSlot(Ge.slot);if(!c)throw new Error("Slot not found: "+c);for(var l=c.index;fe!=l;)ee[ze++]=fe++;_e[fe+Ge.offset]=fe++}for(;fe<P;)ee[ze++]=fe++;for(var De=P-1;De>=0;De--)_e[De]==-1&&(_e[De]=ee[--ze])}p.setFrame(d,he(ge,"time",0),_e)}a.push(p)}if(e.events){for(var p=new __(e.events.length),d=0,be=0;be<e.events.length;be++,d++){var ct=e.events[be],sn=n.findEvent(ct.name);if(!sn)throw new Error("Event not found: "+ct.name);var Dt=new SI(oe.toSinglePrecision(he(ct,"time",0)),sn);Dt.intValue=he(ct,"int",sn.intValue),Dt.floatValue=he(ct,"float",sn.floatValue),Dt.stringValue=he(ct,"string",sn.stringValue),Dt.data.audioPath&&(Dt.volume=he(ct,"volume",1),Dt.balance=he(ct,"balance",0)),p.setFrame(d,Dt)}a.push(p)}for(var et=0,be=0,Z=a.length;be<Z;be++)et=Math.max(et,a[be].getDuration());if(isNaN(et))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new m_(r,a,et))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Ve.NORMAL;if(e=="additive")return Ve.ADD;if(e=="multiply")return Ve.MULTIPLY;if(e=="screen")return Ve.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),IAe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function Ta(t,e,r,n){for(var i=t[0],a=he(i,"time",0),o=he(i,"value",r)*n,s=0,c=0;;c++){e.setFrame(c,a,o);var l=t[c+1];if(!l)return e.shrink(s),e;var u=he(l,"time",0),f=he(l,"value",r)*n;i.curve&&(s=Ut(i.curve,e,s,c,0,a,u,o,f,n)),a=u,o=f,i=l}}function eb(t,e,r,n,i,a){for(var o=t[0],s=he(o,"time",0),c=he(o,r,i)*a,l=he(o,n,i)*a,u=0,f=0;;f++){e.setFrame(f,s,c,l);var h=t[f+1];if(!h)return e.shrink(u),e;var p=he(h,"time",0),d=he(h,r,i)*a,m=he(h,n,i)*a,_=o.curve;_&&(u=Ut(_,e,u,f,0,s,p,c,d,a),u=Ut(_,e,u,f,1,s,p,l,m,a)),s=p,c=d,l=m,o=h}}function Ut(t,e,r,n,i,a,o,s,c,l){if(t=="stepped")return e.setStepped(n),r;var u=i<<2,f=t[u],h=t[u+1]*l,p=t[u+2],d=t[u+3]*l;return e.setBezier(r,n,i,a,s,f,h,p,d,o,c),r+1}function he(t,e,r){return t[e]!==void 0?t[e]:r}var RAe=function(t){bt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new I$(r),this.skeleton.updateWorldTransform(),this.stateData=new E$(r),this.state=new x$(this.stateData)},e}(h0);const PAe=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:hI,Animation:m_,AnimationState:x$,AnimationStateAdapter:rAe,AnimationStateData:E$,AtlasAttachmentLoader:wI,Attachment:ZA,AttachmentTimeline:gl,Bone:WS,BoneData:EI,BoundingBoxAttachment:g$,ClippingAttachment:_$,ConstraintData:y_,CurveTimeline:Ea,CurveTimeline1:Sa,CurveTimeline2:g_,DeformTimeline:vI,DrawOrderTimeline:mc,Event:SI,EventData:CI,EventQueue:w$,EventTimeline:__,get EventType(){return oi},IkConstraint:S$,IkConstraintData:TI,IkConstraintTimeline:mI,MeshAttachment:v_,PathAttachment:Md,PathConstraint:C$,PathConstraintData:AI,PathConstraintMixTimeline:xI,PathConstraintPositionTimeline:_I,PathConstraintSpacingTimeline:yI,PointAttachment:y$,RGB2Timeline:pI,RGBA2Timeline:dI,RGBATimeline:cI,RGBTimeline:fI,RegionAttachment:JA,RotateTimeline:Bd,ScaleTimeline:iI,ScaleXTimeline:aI,ScaleYTimeline:oI,Sequence:QA,get SequenceMode(){return Sn},SequenceModeValues:eI,SequenceTimeline:bI,ShearTimeline:sI,ShearXTimeline:lI,ShearYTimeline:uI,Skeleton:I$,SkeletonBinary:R$,SkeletonBounds:AAe,SkeletonData:II,SkeletonJson:P$,Skin:vm,SkinEntry:YS,Slot:T$,SlotData:RI,get SpacingMode(){return tn},Spine:RAe,Timeline:Dr,TrackEntry:b$,TransformConstraint:A$,TransformConstraintData:PI,TransformConstraintTimeline:gI,TranslateTimeline:tI,TranslateXTimeline:rI,TranslateYTimeline:nI,VertexAttachment:Ya},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qS=function(t,e){return qS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},qS(t,e)};function O$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(rn||(rn={}));function mm(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?rn.VER37:e==="3.8"?rn.VER38:e==="4.0"?rn.VER40:e==="4.1"?rn.VER41:r<rn.VER37?rn.VER37:rn.UNKNOWN}var OAe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=mm(i);if(a===rn.VER38&&(n=new V9(new DA(e))),i=this.readVersionNewFormat(r),a=mm(i),(a===rn.VER40||a===rn.VER41)&&(n=new R$(new wI(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new cm(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new cm(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),kAe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=mm(n),a=null;if(i===rn.VER37&&(a=new m$(new r$(e))),i===rn.VER38&&(a=new G9(new DA(e))),(i===rn.VER40||i===rn.VER41)&&(a=new P$(new wI(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),FAe=function(t){O$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new OAe},e.prototype.createJsonParser=function(){return new kAe},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){Si.registerPlugin(e)},e.use=new e().genMiddleware().use,e}(DTe),NAe=function(t){O$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=mm(r.version),i=null;if(n===rn.VER37&&(i=tAe),n===rn.VER38&&(i=YTe),(n===rn.VER40||n===rn.VER41)&&(i=PAe),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(h0);FAe.registerLoaderPlugin();var k$={exports:{}},tb={},fL;function Ds(){return fL||(fL=1,function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(a,o){return Object.prototype.hasOwnProperty.call(a,o)}t.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var c in s)r(s,c)&&(a[c]=s[c])}}return a},t.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var n={arraySet:function(a,o,s,c,l){if(o.subarray&&a.subarray){a.set(o.subarray(s,s+c),l);return}for(var u=0;u<c;u++)a[l+u]=o[s+u]},flattenChunks:function(a){var o,s,c,l,u,f;for(c=0,o=0,s=a.length;o<s;o++)c+=a[o].length;for(f=new Uint8Array(c),l=0,o=0,s=a.length;o<s;o++)u=a[o],f.set(u,l),l+=u.length;return f}},i={arraySet:function(a,o,s,c,l){for(var u=0;u<c;u++)a[l+u]=o[s+u]},flattenChunks:function(a){return[].concat.apply([],a)}};t.setTyped=function(a){a?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)}(tb)),tb}var _u={},ra={},Xs={},hL;function LAe(){if(hL)return Xs;hL=1;var t=Ds(),e=4,r=0,n=1,i=2;function a(M){for(var ne=M.length;--ne>=0;)M[ne]=0}var o=0,s=1,c=2,l=3,u=258,f=29,h=256,p=h+1+f,d=30,m=19,_=2*p+1,v=15,g=16,y=7,x=256,b=16,w=17,E=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=512,R=new Array((p+2)*2);a(R);var O=new Array(d*2);a(O);var F=new Array(A);a(F);var N=new Array(u-l+1);a(N);var $=new Array(f);a($);var q=new Array(d);a(q);function K(M,ne,de,be,Z){this.static_tree=M,this.extra_bits=ne,this.extra_base=de,this.elems=be,this.max_length=Z,this.has_stree=M&&M.length}var G,L,j;function B(M,ne){this.dyn_tree=M,this.max_code=0,this.stat_desc=ne}function D(M){return M<256?F[M]:F[256+(M>>>7)]}function J(M,ne){M.pending_buf[M.pending++]=ne&255,M.pending_buf[M.pending++]=ne>>>8&255}function Q(M,ne,de){M.bi_valid>g-de?(M.bi_buf|=ne<<M.bi_valid&65535,J(M,M.bi_buf),M.bi_buf=ne>>g-M.bi_valid,M.bi_valid+=de-g):(M.bi_buf|=ne<<M.bi_valid&65535,M.bi_valid+=de)}function se(M,ne,de){Q(M,de[ne*2],de[ne*2+1])}function re(M,ne){var de=0;do de|=M&1,M>>>=1,de<<=1;while(--ne>0);return de>>>1}function ce(M){M.bi_valid===16?(J(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):M.bi_valid>=8&&(M.pending_buf[M.pending++]=M.bi_buf&255,M.bi_buf>>=8,M.bi_valid-=8)}function Ee(M,ne){var de=ne.dyn_tree,be=ne.max_code,Z=ne.stat_desc.static_tree,me=ne.stat_desc.has_stree,U=ne.stat_desc.extra_bits,Se=ne.stat_desc.extra_base,We=ne.stat_desc.max_length,P,ge,_e,V,ee,fe,ze=0;for(V=0;V<=v;V++)M.bl_count[V]=0;for(de[M.heap[M.heap_max]*2+1]=0,P=M.heap_max+1;P<_;P++)ge=M.heap[P],V=de[de[ge*2+1]*2+1]+1,V>We&&(V=We,ze++),de[ge*2+1]=V,!(ge>be)&&(M.bl_count[V]++,ee=0,ge>=Se&&(ee=U[ge-Se]),fe=de[ge*2],M.opt_len+=fe*(V+ee),me&&(M.static_len+=fe*(Z[ge*2+1]+ee)));if(ze!==0){do{for(V=We-1;M.bl_count[V]===0;)V--;M.bl_count[V]--,M.bl_count[V+1]+=2,M.bl_count[We]--,ze-=2}while(ze>0);for(V=We;V!==0;V--)for(ge=M.bl_count[V];ge!==0;)_e=M.heap[--P],!(_e>be)&&(de[_e*2+1]!==V&&(M.opt_len+=(V-de[_e*2+1])*de[_e*2],de[_e*2+1]=V),ge--)}}function we(M,ne,de){var be=new Array(v+1),Z=0,me,U;for(me=1;me<=v;me++)be[me]=Z=Z+de[me-1]<<1;for(U=0;U<=ne;U++){var Se=M[U*2+1];Se!==0&&(M[U*2]=re(be[Se]++,Se))}}function pe(){var M,ne,de,be,Z,me=new Array(v+1);for(de=0,be=0;be<f-1;be++)for($[be]=de,M=0;M<1<<S[be];M++)N[de++]=be;for(N[de-1]=be,Z=0,be=0;be<16;be++)for(q[be]=Z,M=0;M<1<<C[be];M++)F[Z++]=be;for(Z>>=7;be<d;be++)for(q[be]=Z<<7,M=0;M<1<<C[be]-7;M++)F[256+Z++]=be;for(ne=0;ne<=v;ne++)me[ne]=0;for(M=0;M<=143;)R[M*2+1]=8,M++,me[8]++;for(;M<=255;)R[M*2+1]=9,M++,me[9]++;for(;M<=279;)R[M*2+1]=7,M++,me[7]++;for(;M<=287;)R[M*2+1]=8,M++,me[8]++;for(we(R,p+1,me),M=0;M<d;M++)O[M*2+1]=5,O[M*2]=re(M,5);G=new K(R,S,h+1,p,v),L=new K(O,C,0,d,v),j=new K(new Array(0),T,0,m,y)}function ve(M){var ne;for(ne=0;ne<p;ne++)M.dyn_ltree[ne*2]=0;for(ne=0;ne<d;ne++)M.dyn_dtree[ne*2]=0;for(ne=0;ne<m;ne++)M.bl_tree[ne*2]=0;M.dyn_ltree[x*2]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function Ae(M){M.bi_valid>8?J(M,M.bi_buf):M.bi_valid>0&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function ke(M,ne,de,be){Ae(M),be&&(J(M,de),J(M,~de)),t.arraySet(M.pending_buf,M.window,ne,de,M.pending),M.pending+=de}function Te(M,ne,de,be){var Z=ne*2,me=de*2;return M[Z]<M[me]||M[Z]===M[me]&&be[ne]<=be[de]}function Fe(M,ne,de){for(var be=M.heap[de],Z=de<<1;Z<=M.heap_len&&(Z<M.heap_len&&Te(ne,M.heap[Z+1],M.heap[Z],M.depth)&&Z++,!Te(ne,be,M.heap[Z],M.depth));)M.heap[de]=M.heap[Z],de=Z,Z<<=1;M.heap[de]=be}function Ne(M,ne,de){var be,Z,me=0,U,Se;if(M.last_lit!==0)do be=M.pending_buf[M.d_buf+me*2]<<8|M.pending_buf[M.d_buf+me*2+1],Z=M.pending_buf[M.l_buf+me],me++,be===0?se(M,Z,ne):(U=N[Z],se(M,U+h+1,ne),Se=S[U],Se!==0&&(Z-=$[U],Q(M,Z,Se)),be--,U=D(be),se(M,U,de),Se=C[U],Se!==0&&(be-=q[U],Q(M,be,Se)));while(me<M.last_lit);se(M,x,ne)}function Je(M,ne){var de=ne.dyn_tree,be=ne.stat_desc.static_tree,Z=ne.stat_desc.has_stree,me=ne.stat_desc.elems,U,Se,We=-1,P;for(M.heap_len=0,M.heap_max=_,U=0;U<me;U++)de[U*2]!==0?(M.heap[++M.heap_len]=We=U,M.depth[U]=0):de[U*2+1]=0;for(;M.heap_len<2;)P=M.heap[++M.heap_len]=We<2?++We:0,de[P*2]=1,M.depth[P]=0,M.opt_len--,Z&&(M.static_len-=be[P*2+1]);for(ne.max_code=We,U=M.heap_len>>1;U>=1;U--)Fe(M,de,U);P=me;do U=M.heap[1],M.heap[1]=M.heap[M.heap_len--],Fe(M,de,1),Se=M.heap[1],M.heap[--M.heap_max]=U,M.heap[--M.heap_max]=Se,de[P*2]=de[U*2]+de[Se*2],M.depth[P]=(M.depth[U]>=M.depth[Se]?M.depth[U]:M.depth[Se])+1,de[U*2+1]=de[Se*2+1]=P,M.heap[1]=P++,Fe(M,de,1);while(M.heap_len>=2);M.heap[--M.heap_max]=M.heap[1],Ee(M,ne),we(de,We,M.bl_count)}function vt(M,ne,de){var be,Z=-1,me,U=ne[0*2+1],Se=0,We=7,P=4;for(U===0&&(We=138,P=3),ne[(de+1)*2+1]=65535,be=0;be<=de;be++)me=U,U=ne[(be+1)*2+1],!(++Se<We&&me===U)&&(Se<P?M.bl_tree[me*2]+=Se:me!==0?(me!==Z&&M.bl_tree[me*2]++,M.bl_tree[b*2]++):Se<=10?M.bl_tree[w*2]++:M.bl_tree[E*2]++,Se=0,Z=me,U===0?(We=138,P=3):me===U?(We=6,P=3):(We=7,P=4))}function Qe(M,ne,de){var be,Z=-1,me,U=ne[0*2+1],Se=0,We=7,P=4;for(U===0&&(We=138,P=3),be=0;be<=de;be++)if(me=U,U=ne[(be+1)*2+1],!(++Se<We&&me===U)){if(Se<P)do se(M,me,M.bl_tree);while(--Se!==0);else me!==0?(me!==Z&&(se(M,me,M.bl_tree),Se--),se(M,b,M.bl_tree),Q(M,Se-3,2)):Se<=10?(se(M,w,M.bl_tree),Q(M,Se-3,3)):(se(M,E,M.bl_tree),Q(M,Se-11,7));Se=0,Z=me,U===0?(We=138,P=3):me===U?(We=6,P=3):(We=7,P=4)}}function Ke(M){var ne;for(vt(M,M.dyn_ltree,M.l_desc.max_code),vt(M,M.dyn_dtree,M.d_desc.max_code),Je(M,M.bl_desc),ne=m-1;ne>=3&&M.bl_tree[I[ne]*2+1]===0;ne--);return M.opt_len+=3*(ne+1)+5+5+4,ne}function ut(M,ne,de,be){var Z;for(Q(M,ne-257,5),Q(M,de-1,5),Q(M,be-4,4),Z=0;Z<be;Z++)Q(M,M.bl_tree[I[Z]*2+1],3);Qe(M,M.dyn_ltree,ne-1),Qe(M,M.dyn_dtree,de-1)}function Lt(M){var ne=4093624447,de;for(de=0;de<=31;de++,ne>>>=1)if(ne&1&&M.dyn_ltree[de*2]!==0)return r;if(M.dyn_ltree[9*2]!==0||M.dyn_ltree[10*2]!==0||M.dyn_ltree[13*2]!==0)return n;for(de=32;de<h;de++)if(M.dyn_ltree[de*2]!==0)return n;return r}var $t=!1;function Mt(M){$t||(pe(),$t=!0),M.l_desc=new B(M.dyn_ltree,G),M.d_desc=new B(M.dyn_dtree,L),M.bl_desc=new B(M.bl_tree,j),M.bi_buf=0,M.bi_valid=0,ve(M)}function Bt(M,ne,de,be){Q(M,(o<<1)+(be?1:0),3),ke(M,ne,de,!0)}function nt(M){Q(M,s<<1,3),se(M,x,R),ce(M)}function Vt(M,ne,de,be){var Z,me,U=0;M.level>0?(M.strm.data_type===i&&(M.strm.data_type=Lt(M)),Je(M,M.l_desc),Je(M,M.d_desc),U=Ke(M),Z=M.opt_len+3+7>>>3,me=M.static_len+3+7>>>3,me<=Z&&(Z=me)):Z=me=de+5,de+4<=Z&&ne!==-1?Bt(M,ne,de,be):M.strategy===e||me===Z?(Q(M,(s<<1)+(be?1:0),3),Ne(M,R,O)):(Q(M,(c<<1)+(be?1:0),3),ut(M,M.l_desc.max_code+1,M.d_desc.max_code+1,U+1),Ne(M,M.dyn_ltree,M.dyn_dtree)),ve(M),be&&Ae(M)}function xe(M,ne,de){return M.pending_buf[M.d_buf+M.last_lit*2]=ne>>>8&255,M.pending_buf[M.d_buf+M.last_lit*2+1]=ne&255,M.pending_buf[M.l_buf+M.last_lit]=de&255,M.last_lit++,ne===0?M.dyn_ltree[de*2]++:(M.matches++,ne--,M.dyn_ltree[(N[de]+h+1)*2]++,M.dyn_dtree[D(ne)*2]++),M.last_lit===M.lit_bufsize-1}return Xs._tr_init=Mt,Xs._tr_stored_block=Bt,Xs._tr_flush_block=Vt,Xs._tr_tally=xe,Xs._tr_align=nt,Xs}var rb,dL;function F$(){if(dL)return rb;dL=1;function t(e,r,n,i){for(var a=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+r[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}return rb=t,rb}var nb,pL;function N$(){if(pL)return nb;pL=1;function t(){for(var n,i=[],a=0;a<256;a++){n=a;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var e=t();function r(n,i,a,o){var s=e,c=o+a;n^=-1;for(var l=o;l<c;l++)n=n>>>8^s[(n^i[l])&255];return n^-1}return nb=r,nb}var ib,vL;function OI(){return vL||(vL=1,ib={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),ib}var mL;function MAe(){if(mL)return ra;mL=1;var t=Ds(),e=LAe(),r=F$(),n=N$(),i=OI(),a=0,o=1,s=3,c=4,l=5,u=0,f=1,h=-2,p=-3,d=-5,m=-1,_=1,v=2,g=3,y=4,x=0,b=2,w=8,E=9,S=15,C=8,T=29,I=256,A=I+1+T,R=30,O=19,F=2*A+1,N=15,$=3,q=258,K=q+$+1,G=32,L=42,j=69,B=73,D=91,J=103,Q=113,se=666,re=1,ce=2,Ee=3,we=4,pe=3;function ve(P,ge){return P.msg=i[ge],ge}function Ae(P){return(P<<1)-(P>4?9:0)}function ke(P){for(var ge=P.length;--ge>=0;)P[ge]=0}function Te(P){var ge=P.state,_e=ge.pending;_e>P.avail_out&&(_e=P.avail_out),_e!==0&&(t.arraySet(P.output,ge.pending_buf,ge.pending_out,_e,P.next_out),P.next_out+=_e,ge.pending_out+=_e,P.total_out+=_e,P.avail_out-=_e,ge.pending-=_e,ge.pending===0&&(ge.pending_out=0))}function Fe(P,ge){e._tr_flush_block(P,P.block_start>=0?P.block_start:-1,P.strstart-P.block_start,ge),P.block_start=P.strstart,Te(P.strm)}function Ne(P,ge){P.pending_buf[P.pending++]=ge}function Je(P,ge){P.pending_buf[P.pending++]=ge>>>8&255,P.pending_buf[P.pending++]=ge&255}function vt(P,ge,_e,V){var ee=P.avail_in;return ee>V&&(ee=V),ee===0?0:(P.avail_in-=ee,t.arraySet(ge,P.input,P.next_in,ee,_e),P.state.wrap===1?P.adler=r(P.adler,ge,ee,_e):P.state.wrap===2&&(P.adler=n(P.adler,ge,ee,_e)),P.next_in+=ee,P.total_in+=ee,ee)}function Qe(P,ge){var _e=P.max_chain_length,V=P.strstart,ee,fe,ze=P.prev_length,De=P.nice_match,Ge=P.strstart>P.w_size-K?P.strstart-(P.w_size-K):0,ct=P.window,sn=P.w_mask,Dt=P.prev,et=P.strstart+q,Yt=ct[V+ze-1],Pr=ct[V+ze];P.prev_length>=P.good_match&&(_e>>=2),De>P.lookahead&&(De=P.lookahead);do if(ee=ge,!(ct[ee+ze]!==Pr||ct[ee+ze-1]!==Yt||ct[ee]!==ct[V]||ct[++ee]!==ct[V+1])){V+=2,ee++;do;while(ct[++V]===ct[++ee]&&ct[++V]===ct[++ee]&&ct[++V]===ct[++ee]&&ct[++V]===ct[++ee]&&ct[++V]===ct[++ee]&&ct[++V]===ct[++ee]&&ct[++V]===ct[++ee]&&ct[++V]===ct[++ee]&&V<et);if(fe=q-(et-V),V=et-q,fe>ze){if(P.match_start=ge,ze=fe,fe>=De)break;Yt=ct[V+ze-1],Pr=ct[V+ze]}}while((ge=Dt[ge&sn])>Ge&&--_e!==0);return ze<=P.lookahead?ze:P.lookahead}function Ke(P){var ge=P.w_size,_e,V,ee,fe,ze;do{if(fe=P.window_size-P.lookahead-P.strstart,P.strstart>=ge+(ge-K)){t.arraySet(P.window,P.window,ge,ge,0),P.match_start-=ge,P.strstart-=ge,P.block_start-=ge,V=P.hash_size,_e=V;do ee=P.head[--_e],P.head[_e]=ee>=ge?ee-ge:0;while(--V);V=ge,_e=V;do ee=P.prev[--_e],P.prev[_e]=ee>=ge?ee-ge:0;while(--V);fe+=ge}if(P.strm.avail_in===0)break;if(V=vt(P.strm,P.window,P.strstart+P.lookahead,fe),P.lookahead+=V,P.lookahead+P.insert>=$)for(ze=P.strstart-P.insert,P.ins_h=P.window[ze],P.ins_h=(P.ins_h<<P.hash_shift^P.window[ze+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[ze+$-1])&P.hash_mask,P.prev[ze&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=ze,ze++,P.insert--,!(P.lookahead+P.insert<$)););}while(P.lookahead<K&&P.strm.avail_in!==0)}function ut(P,ge){var _e=65535;for(_e>P.pending_buf_size-5&&(_e=P.pending_buf_size-5);;){if(P.lookahead<=1){if(Ke(P),P.lookahead===0&&ge===a)return re;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var V=P.block_start+_e;if((P.strstart===0||P.strstart>=V)&&(P.lookahead=P.strstart-V,P.strstart=V,Fe(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-K&&(Fe(P,!1),P.strm.avail_out===0))return re}return P.insert=0,ge===c?(Fe(P,!0),P.strm.avail_out===0?Ee:we):(P.strstart>P.block_start&&(Fe(P,!1),P.strm.avail_out===0),re)}function Lt(P,ge){for(var _e,V;;){if(P.lookahead<K){if(Ke(P),P.lookahead<K&&ge===a)return re;if(P.lookahead===0)break}if(_e=0,P.lookahead>=$&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,_e=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),_e!==0&&P.strstart-_e<=P.w_size-K&&(P.match_length=Qe(P,_e)),P.match_length>=$)if(V=e._tr_tally(P,P.strstart-P.match_start,P.match_length-$),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=$){P.match_length--;do P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,_e=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.match_length!==0);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else V=e._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(V&&(Fe(P,!1),P.strm.avail_out===0))return re}return P.insert=P.strstart<$-1?P.strstart:$-1,ge===c?(Fe(P,!0),P.strm.avail_out===0?Ee:we):P.last_lit&&(Fe(P,!1),P.strm.avail_out===0)?re:ce}function $t(P,ge){for(var _e,V,ee;;){if(P.lookahead<K){if(Ke(P),P.lookahead<K&&ge===a)return re;if(P.lookahead===0)break}if(_e=0,P.lookahead>=$&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,_e=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=$-1,_e!==0&&P.prev_length<P.max_lazy_match&&P.strstart-_e<=P.w_size-K&&(P.match_length=Qe(P,_e),P.match_length<=5&&(P.strategy===_||P.match_length===$&&P.strstart-P.match_start>4096)&&(P.match_length=$-1)),P.prev_length>=$&&P.match_length<=P.prev_length){ee=P.strstart+P.lookahead-$,V=e._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-$),P.lookahead-=P.prev_length-1,P.prev_length-=2;do++P.strstart<=ee&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,_e=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart);while(--P.prev_length!==0);if(P.match_available=0,P.match_length=$-1,P.strstart++,V&&(Fe(P,!1),P.strm.avail_out===0))return re}else if(P.match_available){if(V=e._tr_tally(P,0,P.window[P.strstart-1]),V&&Fe(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return re}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(V=e._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<$-1?P.strstart:$-1,ge===c?(Fe(P,!0),P.strm.avail_out===0?Ee:we):P.last_lit&&(Fe(P,!1),P.strm.avail_out===0)?re:ce}function Mt(P,ge){for(var _e,V,ee,fe,ze=P.window;;){if(P.lookahead<=q){if(Ke(P),P.lookahead<=q&&ge===a)return re;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=$&&P.strstart>0&&(ee=P.strstart-1,V=ze[ee],V===ze[++ee]&&V===ze[++ee]&&V===ze[++ee])){fe=P.strstart+q;do;while(V===ze[++ee]&&V===ze[++ee]&&V===ze[++ee]&&V===ze[++ee]&&V===ze[++ee]&&V===ze[++ee]&&V===ze[++ee]&&V===ze[++ee]&&ee<fe);P.match_length=q-(fe-ee),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=$?(_e=e._tr_tally(P,1,P.match_length-$),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(_e=e._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),_e&&(Fe(P,!1),P.strm.avail_out===0))return re}return P.insert=0,ge===c?(Fe(P,!0),P.strm.avail_out===0?Ee:we):P.last_lit&&(Fe(P,!1),P.strm.avail_out===0)?re:ce}function Bt(P,ge){for(var _e;;){if(P.lookahead===0&&(Ke(P),P.lookahead===0)){if(ge===a)return re;break}if(P.match_length=0,_e=e._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,_e&&(Fe(P,!1),P.strm.avail_out===0))return re}return P.insert=0,ge===c?(Fe(P,!0),P.strm.avail_out===0?Ee:we):P.last_lit&&(Fe(P,!1),P.strm.avail_out===0)?re:ce}function nt(P,ge,_e,V,ee){this.good_length=P,this.max_lazy=ge,this.nice_length=_e,this.max_chain=V,this.func=ee}var Vt;Vt=[new nt(0,0,0,0,ut),new nt(4,4,8,4,Lt),new nt(4,5,16,8,Lt),new nt(4,6,32,32,Lt),new nt(4,4,16,16,$t),new nt(8,16,32,32,$t),new nt(8,16,128,128,$t),new nt(8,32,128,256,$t),new nt(32,128,258,1024,$t),new nt(32,258,258,4096,$t)];function xe(P){P.window_size=2*P.w_size,ke(P.head),P.max_lazy_match=Vt[P.level].max_lazy,P.good_match=Vt[P.level].good_length,P.nice_match=Vt[P.level].nice_length,P.max_chain_length=Vt[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=$-1,P.match_available=0,P.ins_h=0}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(F*2),this.dyn_dtree=new t.Buf16((2*R+1)*2),this.bl_tree=new t.Buf16((2*O+1)*2),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(N+1),this.heap=new t.Buf16(2*A+1),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*A+1),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ne(P){var ge;return!P||!P.state?ve(P,h):(P.total_in=P.total_out=0,P.data_type=b,ge=P.state,ge.pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?L:Q,P.adler=ge.wrap===2?0:1,ge.last_flush=a,e._tr_init(ge),u)}function de(P){var ge=ne(P);return ge===u&&xe(P.state),ge}function be(P,ge){return!P||!P.state||P.state.wrap!==2?h:(P.state.gzhead=ge,u)}function Z(P,ge,_e,V,ee,fe){if(!P)return h;var ze=1;if(ge===m&&(ge=6),V<0?(ze=0,V=-V):V>15&&(ze=2,V-=16),ee<1||ee>E||_e!==w||V<8||V>15||ge<0||ge>9||fe<0||fe>y)return ve(P,h);V===8&&(V=9);var De=new M;return P.state=De,De.strm=P,De.wrap=ze,De.gzhead=null,De.w_bits=V,De.w_size=1<<De.w_bits,De.w_mask=De.w_size-1,De.hash_bits=ee+7,De.hash_size=1<<De.hash_bits,De.hash_mask=De.hash_size-1,De.hash_shift=~~((De.hash_bits+$-1)/$),De.window=new t.Buf8(De.w_size*2),De.head=new t.Buf16(De.hash_size),De.prev=new t.Buf16(De.w_size),De.lit_bufsize=1<<ee+6,De.pending_buf_size=De.lit_bufsize*4,De.pending_buf=new t.Buf8(De.pending_buf_size),De.d_buf=1*De.lit_bufsize,De.l_buf=(1+2)*De.lit_bufsize,De.level=ge,De.strategy=fe,De.method=_e,de(P)}function me(P,ge){return Z(P,ge,w,S,C,x)}function U(P,ge){var _e,V,ee,fe;if(!P||!P.state||ge>l||ge<0)return P?ve(P,h):h;if(V=P.state,!P.output||!P.input&&P.avail_in!==0||V.status===se&&ge!==c)return ve(P,P.avail_out===0?d:h);if(V.strm=P,_e=V.last_flush,V.last_flush=ge,V.status===L)if(V.wrap===2)P.adler=0,Ne(V,31),Ne(V,139),Ne(V,8),V.gzhead?(Ne(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),Ne(V,V.gzhead.time&255),Ne(V,V.gzhead.time>>8&255),Ne(V,V.gzhead.time>>16&255),Ne(V,V.gzhead.time>>24&255),Ne(V,V.level===9?2:V.strategy>=v||V.level<2?4:0),Ne(V,V.gzhead.os&255),V.gzhead.extra&&V.gzhead.extra.length&&(Ne(V,V.gzhead.extra.length&255),Ne(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(P.adler=n(P.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=j):(Ne(V,0),Ne(V,0),Ne(V,0),Ne(V,0),Ne(V,0),Ne(V,V.level===9?2:V.strategy>=v||V.level<2?4:0),Ne(V,pe),V.status=Q);else{var ze=w+(V.w_bits-8<<4)<<8,De=-1;V.strategy>=v||V.level<2?De=0:V.level<6?De=1:V.level===6?De=2:De=3,ze|=De<<6,V.strstart!==0&&(ze|=G),ze+=31-ze%31,V.status=Q,Je(V,ze),V.strstart!==0&&(Je(V,P.adler>>>16),Je(V,P.adler&65535)),P.adler=1}if(V.status===j)if(V.gzhead.extra){for(ee=V.pending;V.gzindex<(V.gzhead.extra.length&65535)&&!(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),Te(P),ee=V.pending,V.pending===V.pending_buf_size));)Ne(V,V.gzhead.extra[V.gzindex]&255),V.gzindex++;V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=B)}else V.status=B;if(V.status===B)if(V.gzhead.name){ee=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),Te(P),ee=V.pending,V.pending===V.pending_buf_size)){fe=1;break}V.gzindex<V.gzhead.name.length?fe=V.gzhead.name.charCodeAt(V.gzindex++)&255:fe=0,Ne(V,fe)}while(fe!==0);V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),fe===0&&(V.gzindex=0,V.status=D)}else V.status=D;if(V.status===D)if(V.gzhead.comment){ee=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),Te(P),ee=V.pending,V.pending===V.pending_buf_size)){fe=1;break}V.gzindex<V.gzhead.comment.length?fe=V.gzhead.comment.charCodeAt(V.gzindex++)&255:fe=0,Ne(V,fe)}while(fe!==0);V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),fe===0&&(V.status=J)}else V.status=J;if(V.status===J&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&Te(P),V.pending+2<=V.pending_buf_size&&(Ne(V,P.adler&255),Ne(V,P.adler>>8&255),P.adler=0,V.status=Q)):V.status=Q),V.pending!==0){if(Te(P),P.avail_out===0)return V.last_flush=-1,u}else if(P.avail_in===0&&Ae(ge)<=Ae(_e)&&ge!==c)return ve(P,d);if(V.status===se&&P.avail_in!==0)return ve(P,d);if(P.avail_in!==0||V.lookahead!==0||ge!==a&&V.status!==se){var Ge=V.strategy===v?Bt(V,ge):V.strategy===g?Mt(V,ge):Vt[V.level].func(V,ge);if((Ge===Ee||Ge===we)&&(V.status=se),Ge===re||Ge===Ee)return P.avail_out===0&&(V.last_flush=-1),u;if(Ge===ce&&(ge===o?e._tr_align(V):ge!==l&&(e._tr_stored_block(V,0,0,!1),ge===s&&(ke(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),Te(P),P.avail_out===0))return V.last_flush=-1,u}return ge!==c?u:V.wrap<=0?f:(V.wrap===2?(Ne(V,P.adler&255),Ne(V,P.adler>>8&255),Ne(V,P.adler>>16&255),Ne(V,P.adler>>24&255),Ne(V,P.total_in&255),Ne(V,P.total_in>>8&255),Ne(V,P.total_in>>16&255),Ne(V,P.total_in>>24&255)):(Je(V,P.adler>>>16),Je(V,P.adler&65535)),Te(P),V.wrap>0&&(V.wrap=-V.wrap),V.pending!==0?u:f)}function Se(P){var ge;return!P||!P.state?h:(ge=P.state.status,ge!==L&&ge!==j&&ge!==B&&ge!==D&&ge!==J&&ge!==Q&&ge!==se?ve(P,h):(P.state=null,ge===Q?ve(P,p):u))}function We(P,ge){var _e=ge.length,V,ee,fe,ze,De,Ge,ct,sn;if(!P||!P.state||(V=P.state,ze=V.wrap,ze===2||ze===1&&V.status!==L||V.lookahead))return h;for(ze===1&&(P.adler=r(P.adler,ge,_e,0)),V.wrap=0,_e>=V.w_size&&(ze===0&&(ke(V.head),V.strstart=0,V.block_start=0,V.insert=0),sn=new t.Buf8(V.w_size),t.arraySet(sn,ge,_e-V.w_size,V.w_size,0),ge=sn,_e=V.w_size),De=P.avail_in,Ge=P.next_in,ct=P.input,P.avail_in=_e,P.next_in=0,P.input=ge,Ke(V);V.lookahead>=$;){ee=V.strstart,fe=V.lookahead-($-1);do V.ins_h=(V.ins_h<<V.hash_shift^V.window[ee+$-1])&V.hash_mask,V.prev[ee&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ee,ee++;while(--fe);V.strstart=ee,V.lookahead=$-1,Ke(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=$-1,V.match_available=0,P.next_in=Ge,P.input=ct,P.avail_in=De,V.wrap=ze,u}return ra.deflateInit=me,ra.deflateInit2=Z,ra.deflateReset=de,ra.deflateResetKeep=ne,ra.deflateSetHeader=be,ra.deflate=U,ra.deflateEnd=Se,ra.deflateSetDictionary=We,ra.deflateInfo="pako deflate (from Nodeca project)",ra}var zs={},gL;function L$(){if(gL)return zs;gL=1;var t=Ds(),e=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var n=new t.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,zs.string2buf=function(o){var s,c,l,u,f,h=o.length,p=0;for(u=0;u<h;u++)c=o.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),p+=c<128?1:c<2048?2:c<65536?3:4;for(s=new t.Buf8(p),f=0,u=0;f<p;u++)c=o.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),c<128?s[f++]=c:c<2048?(s[f++]=192|c>>>6,s[f++]=128|c&63):c<65536?(s[f++]=224|c>>>12,s[f++]=128|c>>>6&63,s[f++]=128|c&63):(s[f++]=240|c>>>18,s[f++]=128|c>>>12&63,s[f++]=128|c>>>6&63,s[f++]=128|c&63);return s};function a(o,s){if(s<65534&&(o.subarray&&r||!o.subarray&&e))return String.fromCharCode.apply(null,t.shrinkBuf(o,s));for(var c="",l=0;l<s;l++)c+=String.fromCharCode(o[l]);return c}return zs.buf2binstring=function(o){return a(o,o.length)},zs.binstring2buf=function(o){for(var s=new t.Buf8(o.length),c=0,l=s.length;c<l;c++)s[c]=o.charCodeAt(c);return s},zs.buf2string=function(o,s){var c,l,u,f,h=s||o.length,p=new Array(h*2);for(l=0,c=0;c<h;){if(u=o[c++],u<128){p[l++]=u;continue}if(f=n[u],f>4){p[l++]=65533,c+=f-1;continue}for(u&=f===2?31:f===3?15:7;f>1&&c<h;)u=u<<6|o[c++]&63,f--;if(f>1){p[l++]=65533;continue}u<65536?p[l++]=u:(u-=65536,p[l++]=55296|u>>10&1023,p[l++]=56320|u&1023)}return a(p,l)},zs.utf8border=function(o,s){var c;for(s=s||o.length,s>o.length&&(s=o.length),c=s-1;c>=0&&(o[c]&192)===128;)c--;return c<0||c===0?s:c+n[o[c]]>s?c:s},zs}var ab,_L;function M$(){if(_L)return ab;_L=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return ab=t,ab}var yL;function BAe(){if(yL)return _u;yL=1;var t=MAe(),e=Ds(),r=L$(),n=OI(),i=M$(),a=Object.prototype.toString,o=0,s=4,c=0,l=1,u=2,f=-1,h=0,p=8;function d(g){if(!(this instanceof d))return new d(g);this.options=e.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var y=this.options;y.raw&&y.windowBits>0?y.windowBits=-y.windowBits:y.gzip&&y.windowBits>0&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var x=t.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(x!==c)throw new Error(n[x]);if(y.header&&t.deflateSetHeader(this.strm,y.header),y.dictionary){var b;if(typeof y.dictionary=="string"?b=r.string2buf(y.dictionary):a.call(y.dictionary)==="[object ArrayBuffer]"?b=new Uint8Array(y.dictionary):b=y.dictionary,x=t.deflateSetDictionary(this.strm,b),x!==c)throw new Error(n[x]);this._dict_set=!0}}d.prototype.push=function(g,y){var x=this.strm,b=this.options.chunkSize,w,E;if(this.ended)return!1;E=y===~~y?y:y===!0?s:o,typeof g=="string"?x.input=r.string2buf(g):a.call(g)==="[object ArrayBuffer]"?x.input=new Uint8Array(g):x.input=g,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new e.Buf8(b),x.next_out=0,x.avail_out=b),w=t.deflate(x,E),w!==l&&w!==c)return this.onEnd(w),this.ended=!0,!1;(x.avail_out===0||x.avail_in===0&&(E===s||E===u))&&(this.options.to==="string"?this.onData(r.buf2binstring(e.shrinkBuf(x.output,x.next_out))):this.onData(e.shrinkBuf(x.output,x.next_out)))}while((x.avail_in>0||x.avail_out===0)&&w!==l);return E===s?(w=t.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c):(E===u&&(this.onEnd(c),x.avail_out=0),!0)},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function m(g,y){var x=new d(y);if(x.push(g,!0),x.err)throw x.msg||n[x.err];return x.result}function _(g,y){return y=y||{},y.raw=!0,m(g,y)}function v(g,y){return y=y||{},y.gzip=!0,m(g,y)}return _u.Deflate=d,_u.deflate=m,_u.deflateRaw=_,_u.gzip=v,_u}var yu={},Ui={},ob,xL;function DAe(){if(xL)return ob;xL=1;var t=30,e=12;return ob=function(n,i){var a,o,s,c,l,u,f,h,p,d,m,_,v,g,y,x,b,w,E,S,C,T,I,A,R;a=n.state,o=n.next_in,A=n.input,s=o+(n.avail_in-5),c=n.next_out,R=n.output,l=c-(i-n.avail_out),u=c+(n.avail_out-257),f=a.dmax,h=a.wsize,p=a.whave,d=a.wnext,m=a.window,_=a.hold,v=a.bits,g=a.lencode,y=a.distcode,x=(1<<a.lenbits)-1,b=(1<<a.distbits)-1;e:do{v<15&&(_+=A[o++]<<v,v+=8,_+=A[o++]<<v,v+=8),w=g[_&x];t:for(;;){if(E=w>>>24,_>>>=E,v-=E,E=w>>>16&255,E===0)R[c++]=w&65535;else if(E&16){S=w&65535,E&=15,E&&(v<E&&(_+=A[o++]<<v,v+=8),S+=_&(1<<E)-1,_>>>=E,v-=E),v<15&&(_+=A[o++]<<v,v+=8,_+=A[o++]<<v,v+=8),w=y[_&b];r:for(;;){if(E=w>>>24,_>>>=E,v-=E,E=w>>>16&255,E&16){if(C=w&65535,E&=15,v<E&&(_+=A[o++]<<v,v+=8,v<E&&(_+=A[o++]<<v,v+=8)),C+=_&(1<<E)-1,C>f){n.msg="invalid distance too far back",a.mode=t;break e}if(_>>>=E,v-=E,E=c-l,C>E){if(E=C-E,E>p&&a.sane){n.msg="invalid distance too far back",a.mode=t;break e}if(T=0,I=m,d===0){if(T+=h-E,E<S){S-=E;do R[c++]=m[T++];while(--E);T=c-C,I=R}}else if(d<E){if(T+=h+d-E,E-=d,E<S){S-=E;do R[c++]=m[T++];while(--E);if(T=0,d<S){E=d,S-=E;do R[c++]=m[T++];while(--E);T=c-C,I=R}}}else if(T+=d-E,E<S){S-=E;do R[c++]=m[T++];while(--E);T=c-C,I=R}for(;S>2;)R[c++]=I[T++],R[c++]=I[T++],R[c++]=I[T++],S-=3;S&&(R[c++]=I[T++],S>1&&(R[c++]=I[T++]))}else{T=c-C;do R[c++]=R[T++],R[c++]=R[T++],R[c++]=R[T++],S-=3;while(S>2);S&&(R[c++]=R[T++],S>1&&(R[c++]=R[T++]))}}else if(E&64){n.msg="invalid distance code",a.mode=t;break e}else{w=y[(w&65535)+(_&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=t;break e}else{w=g[(w&65535)+(_&(1<<E)-1)];continue t}break}}while(o<s&&c<u);S=v>>3,o-=S,v-=S<<3,_&=(1<<v)-1,n.next_in=o,n.next_out=c,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=c<u?257+(u-c):257-(c-u),a.hold=_,a.bits=v},ob}var sb,bL;function UAe(){if(bL)return sb;bL=1;var t=Ds(),e=15,r=852,n=592,i=0,a=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return sb=function(h,p,d,m,_,v,g,y){var x=y.bits,b=0,w=0,E=0,S=0,C=0,T=0,I=0,A=0,R=0,O=0,F,N,$,q,K,G=null,L=0,j,B=new t.Buf16(e+1),D=new t.Buf16(e+1),J=null,Q=0,se,re,ce;for(b=0;b<=e;b++)B[b]=0;for(w=0;w<m;w++)B[p[d+w]]++;for(C=x,S=e;S>=1&&B[S]===0;S--);if(C>S&&(C=S),S===0)return _[v++]=1<<24|64<<16|0,_[v++]=1<<24|64<<16|0,y.bits=1,0;for(E=1;E<S&&B[E]===0;E++);for(C<E&&(C=E),A=1,b=1;b<=e;b++)if(A<<=1,A-=B[b],A<0)return-1;if(A>0&&(h===i||S!==1))return-1;for(D[1]=0,b=1;b<e;b++)D[b+1]=D[b]+B[b];for(w=0;w<m;w++)p[d+w]!==0&&(g[D[p[d+w]]++]=w);if(h===i?(G=J=g,j=19):h===a?(G=s,L-=257,J=c,Q-=257,j=256):(G=l,J=u,j=-1),O=0,w=0,b=E,K=v,T=C,I=0,$=-1,R=1<<C,q=R-1,h===a&&R>r||h===o&&R>n)return 1;for(;;){se=b-I,g[w]<j?(re=0,ce=g[w]):g[w]>j?(re=J[Q+g[w]],ce=G[L+g[w]]):(re=32+64,ce=0),F=1<<b-I,N=1<<T,E=N;do N-=F,_[K+(O>>I)+N]=se<<24|re<<16|ce|0;while(N!==0);for(F=1<<b-1;O&F;)F>>=1;if(F!==0?(O&=F-1,O+=F):O=0,w++,--B[b]===0){if(b===S)break;b=p[d+g[w]]}if(b>C&&(O&q)!==$){for(I===0&&(I=C),K+=E,T=b-I,A=1<<T;T+I<S&&(A-=B[T+I],!(A<=0));)T++,A<<=1;if(R+=1<<T,h===a&&R>r||h===o&&R>n)return 1;$=O&q,_[$]=C<<24|T<<16|K-v|0}}return O!==0&&(_[K+O]=b-I<<24|64<<16|0),y.bits=C,0},sb}var wL;function jAe(){if(wL)return Ui;wL=1;var t=Ds(),e=F$(),r=N$(),n=DAe(),i=UAe(),a=0,o=1,s=2,c=4,l=5,u=6,f=0,h=1,p=2,d=-2,m=-3,_=-4,v=-5,g=8,y=1,x=2,b=3,w=4,E=5,S=6,C=7,T=8,I=9,A=10,R=11,O=12,F=13,N=14,$=15,q=16,K=17,G=18,L=19,j=20,B=21,D=22,J=23,Q=24,se=25,re=26,ce=27,Ee=28,we=29,pe=30,ve=31,Ae=32,ke=852,Te=592,Fe=15,Ne=Fe;function Je(Z){return(Z>>>24&255)+(Z>>>8&65280)+((Z&65280)<<8)+((Z&255)<<24)}function vt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Qe(Z){var me;return!Z||!Z.state?d:(me=Z.state,Z.total_in=Z.total_out=me.total=0,Z.msg="",me.wrap&&(Z.adler=me.wrap&1),me.mode=y,me.last=0,me.havedict=0,me.dmax=32768,me.head=null,me.hold=0,me.bits=0,me.lencode=me.lendyn=new t.Buf32(ke),me.distcode=me.distdyn=new t.Buf32(Te),me.sane=1,me.back=-1,f)}function Ke(Z){var me;return!Z||!Z.state?d:(me=Z.state,me.wsize=0,me.whave=0,me.wnext=0,Qe(Z))}function ut(Z,me){var U,Se;return!Z||!Z.state||(Se=Z.state,me<0?(U=0,me=-me):(U=(me>>4)+1,me<48&&(me&=15)),me&&(me<8||me>15))?d:(Se.window!==null&&Se.wbits!==me&&(Se.window=null),Se.wrap=U,Se.wbits=me,Ke(Z))}function Lt(Z,me){var U,Se;return Z?(Se=new vt,Z.state=Se,Se.window=null,U=ut(Z,me),U!==f&&(Z.state=null),U):d}function $t(Z){return Lt(Z,Ne)}var Mt=!0,Bt,nt;function Vt(Z){if(Mt){var me;for(Bt=new t.Buf32(512),nt=new t.Buf32(32),me=0;me<144;)Z.lens[me++]=8;for(;me<256;)Z.lens[me++]=9;for(;me<280;)Z.lens[me++]=7;for(;me<288;)Z.lens[me++]=8;for(i(o,Z.lens,0,288,Bt,0,Z.work,{bits:9}),me=0;me<32;)Z.lens[me++]=5;i(s,Z.lens,0,32,nt,0,Z.work,{bits:5}),Mt=!1}Z.lencode=Bt,Z.lenbits=9,Z.distcode=nt,Z.distbits=5}function xe(Z,me,U,Se){var We,P=Z.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new t.Buf8(P.wsize)),Se>=P.wsize?(t.arraySet(P.window,me,U-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(We=P.wsize-P.wnext,We>Se&&(We=Se),t.arraySet(P.window,me,U-Se,We,P.wnext),Se-=We,Se?(t.arraySet(P.window,me,U-Se,Se,0),P.wnext=Se,P.whave=P.wsize):(P.wnext+=We,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=We))),0}function M(Z,me){var U,Se,We,P,ge,_e,V,ee,fe,ze,De,Ge,ct,sn,Dt=0,et,Yt,Pr,_n,Ql,eu,Or,di,ln=new t.Buf8(4),Ji,Mi,v0=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Z||!Z.state||!Z.output||!Z.input&&Z.avail_in!==0)return d;U=Z.state,U.mode===O&&(U.mode=F),ge=Z.next_out,We=Z.output,V=Z.avail_out,P=Z.next_in,Se=Z.input,_e=Z.avail_in,ee=U.hold,fe=U.bits,ze=_e,De=V,di=f;e:for(;;)switch(U.mode){case y:if(U.wrap===0){U.mode=F;break}for(;fe<16;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}if(U.wrap&2&&ee===35615){U.check=0,ln[0]=ee&255,ln[1]=ee>>>8&255,U.check=r(U.check,ln,2,0),ee=0,fe=0,U.mode=x;break}if(U.flags=0,U.head&&(U.head.done=!1),!(U.wrap&1)||(((ee&255)<<8)+(ee>>8))%31){Z.msg="incorrect header check",U.mode=pe;break}if((ee&15)!==g){Z.msg="unknown compression method",U.mode=pe;break}if(ee>>>=4,fe-=4,Or=(ee&15)+8,U.wbits===0)U.wbits=Or;else if(Or>U.wbits){Z.msg="invalid window size",U.mode=pe;break}U.dmax=1<<Or,Z.adler=U.check=1,U.mode=ee&512?A:O,ee=0,fe=0;break;case x:for(;fe<16;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}if(U.flags=ee,(U.flags&255)!==g){Z.msg="unknown compression method",U.mode=pe;break}if(U.flags&57344){Z.msg="unknown header flags set",U.mode=pe;break}U.head&&(U.head.text=ee>>8&1),U.flags&512&&(ln[0]=ee&255,ln[1]=ee>>>8&255,U.check=r(U.check,ln,2,0)),ee=0,fe=0,U.mode=b;case b:for(;fe<32;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}U.head&&(U.head.time=ee),U.flags&512&&(ln[0]=ee&255,ln[1]=ee>>>8&255,ln[2]=ee>>>16&255,ln[3]=ee>>>24&255,U.check=r(U.check,ln,4,0)),ee=0,fe=0,U.mode=w;case w:for(;fe<16;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}U.head&&(U.head.xflags=ee&255,U.head.os=ee>>8),U.flags&512&&(ln[0]=ee&255,ln[1]=ee>>>8&255,U.check=r(U.check,ln,2,0)),ee=0,fe=0,U.mode=E;case E:if(U.flags&1024){for(;fe<16;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}U.length=ee,U.head&&(U.head.extra_len=ee),U.flags&512&&(ln[0]=ee&255,ln[1]=ee>>>8&255,U.check=r(U.check,ln,2,0)),ee=0,fe=0}else U.head&&(U.head.extra=null);U.mode=S;case S:if(U.flags&1024&&(Ge=U.length,Ge>_e&&(Ge=_e),Ge&&(U.head&&(Or=U.head.extra_len-U.length,U.head.extra||(U.head.extra=new Array(U.head.extra_len)),t.arraySet(U.head.extra,Se,P,Ge,Or)),U.flags&512&&(U.check=r(U.check,Se,Ge,P)),_e-=Ge,P+=Ge,U.length-=Ge),U.length))break e;U.length=0,U.mode=C;case C:if(U.flags&2048){if(_e===0)break e;Ge=0;do Or=Se[P+Ge++],U.head&&Or&&U.length<65536&&(U.head.name+=String.fromCharCode(Or));while(Or&&Ge<_e);if(U.flags&512&&(U.check=r(U.check,Se,Ge,P)),_e-=Ge,P+=Ge,Or)break e}else U.head&&(U.head.name=null);U.length=0,U.mode=T;case T:if(U.flags&4096){if(_e===0)break e;Ge=0;do Or=Se[P+Ge++],U.head&&Or&&U.length<65536&&(U.head.comment+=String.fromCharCode(Or));while(Or&&Ge<_e);if(U.flags&512&&(U.check=r(U.check,Se,Ge,P)),_e-=Ge,P+=Ge,Or)break e}else U.head&&(U.head.comment=null);U.mode=I;case I:if(U.flags&512){for(;fe<16;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}if(ee!==(U.check&65535)){Z.msg="header crc mismatch",U.mode=pe;break}ee=0,fe=0}U.head&&(U.head.hcrc=U.flags>>9&1,U.head.done=!0),Z.adler=U.check=0,U.mode=O;break;case A:for(;fe<32;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}Z.adler=U.check=Je(ee),ee=0,fe=0,U.mode=R;case R:if(U.havedict===0)return Z.next_out=ge,Z.avail_out=V,Z.next_in=P,Z.avail_in=_e,U.hold=ee,U.bits=fe,p;Z.adler=U.check=1,U.mode=O;case O:if(me===l||me===u)break e;case F:if(U.last){ee>>>=fe&7,fe-=fe&7,U.mode=ce;break}for(;fe<3;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}switch(U.last=ee&1,ee>>>=1,fe-=1,ee&3){case 0:U.mode=N;break;case 1:if(Vt(U),U.mode=j,me===u){ee>>>=2,fe-=2;break e}break;case 2:U.mode=K;break;case 3:Z.msg="invalid block type",U.mode=pe}ee>>>=2,fe-=2;break;case N:for(ee>>>=fe&7,fe-=fe&7;fe<32;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}if((ee&65535)!==(ee>>>16^65535)){Z.msg="invalid stored block lengths",U.mode=pe;break}if(U.length=ee&65535,ee=0,fe=0,U.mode=$,me===u)break e;case $:U.mode=q;case q:if(Ge=U.length,Ge){if(Ge>_e&&(Ge=_e),Ge>V&&(Ge=V),Ge===0)break e;t.arraySet(We,Se,P,Ge,ge),_e-=Ge,P+=Ge,V-=Ge,ge+=Ge,U.length-=Ge;break}U.mode=O;break;case K:for(;fe<14;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}if(U.nlen=(ee&31)+257,ee>>>=5,fe-=5,U.ndist=(ee&31)+1,ee>>>=5,fe-=5,U.ncode=(ee&15)+4,ee>>>=4,fe-=4,U.nlen>286||U.ndist>30){Z.msg="too many length or distance symbols",U.mode=pe;break}U.have=0,U.mode=G;case G:for(;U.have<U.ncode;){for(;fe<3;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}U.lens[v0[U.have++]]=ee&7,ee>>>=3,fe-=3}for(;U.have<19;)U.lens[v0[U.have++]]=0;if(U.lencode=U.lendyn,U.lenbits=7,Ji={bits:U.lenbits},di=i(a,U.lens,0,19,U.lencode,0,U.work,Ji),U.lenbits=Ji.bits,di){Z.msg="invalid code lengths set",U.mode=pe;break}U.have=0,U.mode=L;case L:for(;U.have<U.nlen+U.ndist;){for(;Dt=U.lencode[ee&(1<<U.lenbits)-1],et=Dt>>>24,Yt=Dt>>>16&255,Pr=Dt&65535,!(et<=fe);){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}if(Pr<16)ee>>>=et,fe-=et,U.lens[U.have++]=Pr;else{if(Pr===16){for(Mi=et+2;fe<Mi;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}if(ee>>>=et,fe-=et,U.have===0){Z.msg="invalid bit length repeat",U.mode=pe;break}Or=U.lens[U.have-1],Ge=3+(ee&3),ee>>>=2,fe-=2}else if(Pr===17){for(Mi=et+3;fe<Mi;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}ee>>>=et,fe-=et,Or=0,Ge=3+(ee&7),ee>>>=3,fe-=3}else{for(Mi=et+7;fe<Mi;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}ee>>>=et,fe-=et,Or=0,Ge=11+(ee&127),ee>>>=7,fe-=7}if(U.have+Ge>U.nlen+U.ndist){Z.msg="invalid bit length repeat",U.mode=pe;break}for(;Ge--;)U.lens[U.have++]=Or}}if(U.mode===pe)break;if(U.lens[256]===0){Z.msg="invalid code -- missing end-of-block",U.mode=pe;break}if(U.lenbits=9,Ji={bits:U.lenbits},di=i(o,U.lens,0,U.nlen,U.lencode,0,U.work,Ji),U.lenbits=Ji.bits,di){Z.msg="invalid literal/lengths set",U.mode=pe;break}if(U.distbits=6,U.distcode=U.distdyn,Ji={bits:U.distbits},di=i(s,U.lens,U.nlen,U.ndist,U.distcode,0,U.work,Ji),U.distbits=Ji.bits,di){Z.msg="invalid distances set",U.mode=pe;break}if(U.mode=j,me===u)break e;case j:U.mode=B;case B:if(_e>=6&&V>=258){Z.next_out=ge,Z.avail_out=V,Z.next_in=P,Z.avail_in=_e,U.hold=ee,U.bits=fe,n(Z,De),ge=Z.next_out,We=Z.output,V=Z.avail_out,P=Z.next_in,Se=Z.input,_e=Z.avail_in,ee=U.hold,fe=U.bits,U.mode===O&&(U.back=-1);break}for(U.back=0;Dt=U.lencode[ee&(1<<U.lenbits)-1],et=Dt>>>24,Yt=Dt>>>16&255,Pr=Dt&65535,!(et<=fe);){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}if(Yt&&!(Yt&240)){for(_n=et,Ql=Yt,eu=Pr;Dt=U.lencode[eu+((ee&(1<<_n+Ql)-1)>>_n)],et=Dt>>>24,Yt=Dt>>>16&255,Pr=Dt&65535,!(_n+et<=fe);){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}ee>>>=_n,fe-=_n,U.back+=_n}if(ee>>>=et,fe-=et,U.back+=et,U.length=Pr,Yt===0){U.mode=re;break}if(Yt&32){U.back=-1,U.mode=O;break}if(Yt&64){Z.msg="invalid literal/length code",U.mode=pe;break}U.extra=Yt&15,U.mode=D;case D:if(U.extra){for(Mi=U.extra;fe<Mi;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}U.length+=ee&(1<<U.extra)-1,ee>>>=U.extra,fe-=U.extra,U.back+=U.extra}U.was=U.length,U.mode=J;case J:for(;Dt=U.distcode[ee&(1<<U.distbits)-1],et=Dt>>>24,Yt=Dt>>>16&255,Pr=Dt&65535,!(et<=fe);){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}if(!(Yt&240)){for(_n=et,Ql=Yt,eu=Pr;Dt=U.distcode[eu+((ee&(1<<_n+Ql)-1)>>_n)],et=Dt>>>24,Yt=Dt>>>16&255,Pr=Dt&65535,!(_n+et<=fe);){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}ee>>>=_n,fe-=_n,U.back+=_n}if(ee>>>=et,fe-=et,U.back+=et,Yt&64){Z.msg="invalid distance code",U.mode=pe;break}U.offset=Pr,U.extra=Yt&15,U.mode=Q;case Q:if(U.extra){for(Mi=U.extra;fe<Mi;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}U.offset+=ee&(1<<U.extra)-1,ee>>>=U.extra,fe-=U.extra,U.back+=U.extra}if(U.offset>U.dmax){Z.msg="invalid distance too far back",U.mode=pe;break}U.mode=se;case se:if(V===0)break e;if(Ge=De-V,U.offset>Ge){if(Ge=U.offset-Ge,Ge>U.whave&&U.sane){Z.msg="invalid distance too far back",U.mode=pe;break}Ge>U.wnext?(Ge-=U.wnext,ct=U.wsize-Ge):ct=U.wnext-Ge,Ge>U.length&&(Ge=U.length),sn=U.window}else sn=We,ct=ge-U.offset,Ge=U.length;Ge>V&&(Ge=V),V-=Ge,U.length-=Ge;do We[ge++]=sn[ct++];while(--Ge);U.length===0&&(U.mode=B);break;case re:if(V===0)break e;We[ge++]=U.length,V--,U.mode=B;break;case ce:if(U.wrap){for(;fe<32;){if(_e===0)break e;_e--,ee|=Se[P++]<<fe,fe+=8}if(De-=V,Z.total_out+=De,U.total+=De,De&&(Z.adler=U.check=U.flags?r(U.check,We,De,ge-De):e(U.check,We,De,ge-De)),De=V,(U.flags?ee:Je(ee))!==U.check){Z.msg="incorrect data check",U.mode=pe;break}ee=0,fe=0}U.mode=Ee;case Ee:if(U.wrap&&U.flags){for(;fe<32;){if(_e===0)break e;_e--,ee+=Se[P++]<<fe,fe+=8}if(ee!==(U.total&4294967295)){Z.msg="incorrect length check",U.mode=pe;break}ee=0,fe=0}U.mode=we;case we:di=h;break e;case pe:di=m;break e;case ve:return _;case Ae:default:return d}return Z.next_out=ge,Z.avail_out=V,Z.next_in=P,Z.avail_in=_e,U.hold=ee,U.bits=fe,(U.wsize||De!==Z.avail_out&&U.mode<pe&&(U.mode<ce||me!==c))&&xe(Z,Z.output,Z.next_out,De-Z.avail_out),ze-=Z.avail_in,De-=Z.avail_out,Z.total_in+=ze,Z.total_out+=De,U.total+=De,U.wrap&&De&&(Z.adler=U.check=U.flags?r(U.check,We,De,Z.next_out-De):e(U.check,We,De,Z.next_out-De)),Z.data_type=U.bits+(U.last?64:0)+(U.mode===O?128:0)+(U.mode===j||U.mode===$?256:0),(ze===0&&De===0||me===c)&&di===f&&(di=v),di}function ne(Z){if(!Z||!Z.state)return d;var me=Z.state;return me.window&&(me.window=null),Z.state=null,f}function de(Z,me){var U;return!Z||!Z.state||(U=Z.state,!(U.wrap&2))?d:(U.head=me,me.done=!1,f)}function be(Z,me){var U=me.length,Se,We,P;return!Z||!Z.state||(Se=Z.state,Se.wrap!==0&&Se.mode!==R)?d:Se.mode===R&&(We=1,We=e(We,me,U,0),We!==Se.check)?m:(P=xe(Z,me,U,U),P?(Se.mode=ve,_):(Se.havedict=1,f))}return Ui.inflateReset=Ke,Ui.inflateReset2=ut,Ui.inflateResetKeep=Qe,Ui.inflateInit=$t,Ui.inflateInit2=Lt,Ui.inflate=M,Ui.inflateEnd=ne,Ui.inflateGetHeader=de,Ui.inflateSetDictionary=be,Ui.inflateInfo="pako inflate (from Nodeca project)",Ui}var lb,EL;function B$(){return EL||(EL=1,lb={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),lb}var ub,SL;function $Ae(){if(SL)return ub;SL=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return ub=t,ub}var CL;function VAe(){if(CL)return yu;CL=1;var t=jAe(),e=Ds(),r=L$(),n=B$(),i=OI(),a=M$(),o=$Ae(),s=Object.prototype.toString;function c(f){if(!(this instanceof c))return new c(f);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},f||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(f&&f.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15||(h.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var p=t.inflateInit2(this.strm,h.windowBits);if(p!==n.Z_OK)throw new Error(i[p]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=r.string2buf(h.dictionary):s.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(p=t.inflateSetDictionary(this.strm,h.dictionary),p!==n.Z_OK)))throw new Error(i[p])}c.prototype.push=function(f,h){var p=this.strm,d=this.options.chunkSize,m=this.options.dictionary,_,v,g,y,x,b=!1;if(this.ended)return!1;v=h===~~h?h:h===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof f=="string"?p.input=r.binstring2buf(f):s.call(f)==="[object ArrayBuffer]"?p.input=new Uint8Array(f):p.input=f,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new e.Buf8(d),p.next_out=0,p.avail_out=d),_=t.inflate(p,n.Z_NO_FLUSH),_===n.Z_NEED_DICT&&m&&(_=t.inflateSetDictionary(this.strm,m)),_===n.Z_BUF_ERROR&&b===!0&&(_=n.Z_OK,b=!1),_!==n.Z_STREAM_END&&_!==n.Z_OK)return this.onEnd(_),this.ended=!0,!1;p.next_out&&(p.avail_out===0||_===n.Z_STREAM_END||p.avail_in===0&&(v===n.Z_FINISH||v===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(g=r.utf8border(p.output,p.next_out),y=p.next_out-g,x=r.buf2string(p.output,g),p.next_out=y,p.avail_out=d-y,y&&e.arraySet(p.output,p.output,g,y,0),this.onData(x)):this.onData(e.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(b=!0)}while((p.avail_in>0||p.avail_out===0)&&_!==n.Z_STREAM_END);return _===n.Z_STREAM_END&&(v=n.Z_FINISH),v===n.Z_FINISH?(_=t.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===n.Z_OK):(v===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),p.avail_out=0),!0)},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function l(f,h){var p=new c(h);if(p.push(f,!0),p.err)throw p.msg||i[p.err];return p.result}function u(f,h){return h=h||{},h.raw=!0,l(f,h)}return yu.Inflate=c,yu.inflate=l,yu.inflateRaw=u,yu.ungzip=l,yu}var cb,TL;function GAe(){if(TL)return cb;TL=1;var t=Ds().assign,e=BAe(),r=VAe(),n=B$(),i={};return t(i,e,r,n),cb=i,cb}(function(t){(function(){var e={},r;t.exports=e,typeof Fu=="function"?r=GAe():r=window.pako,function(n,i){n.toRGBA8=function(a){var o=a.width,s=a.height;if(a.tabs.acTL==null)return[n.toRGBA8.decodeImage(a.data,o,s,a).buffer];var c=[];a.frames[0].data==null&&(a.frames[0].data=a.data);for(var l,u=new Uint8Array(o*s*4),f=0;f<a.frames.length;f++){var h=a.frames[f],p=h.rect.x,d=h.rect.y,m=h.rect.width,_=h.rect.height,v=n.toRGBA8.decodeImage(h.data,m,_,a);if(f==0?l=v:h.blend==0?n._copyTile(v,m,_,l,o,s,p,d,0):h.blend==1&&n._copyTile(v,m,_,l,o,s,p,d,1),c.push(l.buffer),l=l.slice(0),h.dispose!=0){if(h.dispose==1)n._copyTile(u,m,_,l,o,s,p,d,0);else if(h.dispose==2){for(var g=f-1;a.frames[g].dispose==2;)g--;l=new Uint8Array(c[g]).slice(0)}}}return c},n.toRGBA8.decodeImage=function(a,o,s,c){var l=o*s,u=n.decode._getBPP(c),f=Math.ceil(o*u/8),h=new Uint8Array(l*4),p=new Uint32Array(h.buffer),d=c.ctype,m=c.depth,_=n._bin.readUshort;if(d==6){var v=l<<2;if(m==8)for(var g=0;g<v;g++)h[g]=a[g];if(m==16)for(var g=0;g<v;g++)h[g]=a[g<<1]}else if(d==2){var y=c.tabs.tRNS,x=-1,b=-1,w=-1;if(y&&(x=y[0],b=y[1],w=y[2]),m==8)for(var g=0;g<l;g++){var E=g<<2,S=g*3;h[E]=a[S],h[E+1]=a[S+1],h[E+2]=a[S+2],h[E+3]=255,x!=-1&&a[S]==x&&a[S+1]==b&&a[S+2]==w&&(h[E+3]=0)}if(m==16)for(var g=0;g<l;g++){var E=g<<2,S=g*6;h[E]=a[S],h[E+1]=a[S+2],h[E+2]=a[S+4],h[E+3]=255,x!=-1&&_(a,S)==x&&_(a,S+2)==b&&_(a,S+4)==w&&(h[E+3]=0)}}else if(d==3){var C=c.tabs.PLTE,T=c.tabs.tRNS,I=T?T.length:0;if(m==1)for(var A=0;A<s;A++)for(var R=A*f,O=A*o,g=0;g<o;g++){var E=O+g<<2,F=a[R+(g>>3)]>>7-((g&7)<<0)&1,N=3*F;h[E]=C[N],h[E+1]=C[N+1],h[E+2]=C[N+2],h[E+3]=F<I?T[F]:255}if(m==2)for(var A=0;A<s;A++)for(var R=A*f,O=A*o,g=0;g<o;g++){var E=O+g<<2,F=a[R+(g>>2)]>>6-((g&3)<<1)&3,N=3*F;h[E]=C[N],h[E+1]=C[N+1],h[E+2]=C[N+2],h[E+3]=F<I?T[F]:255}if(m==4)for(var A=0;A<s;A++)for(var R=A*f,O=A*o,g=0;g<o;g++){var E=O+g<<2,F=a[R+(g>>1)]>>4-((g&1)<<2)&15,N=3*F;h[E]=C[N],h[E+1]=C[N+1],h[E+2]=C[N+2],h[E+3]=F<I?T[F]:255}if(m==8)for(var g=0;g<l;g++){var E=g<<2,F=a[g],N=3*F;h[E]=C[N],h[E+1]=C[N+1],h[E+2]=C[N+2],h[E+3]=F<I?T[F]:255}}else if(d==4){if(m==8)for(var g=0;g<l;g++){var E=g<<2,$=g<<1,q=a[$];h[E]=q,h[E+1]=q,h[E+2]=q,h[E+3]=a[$+1]}if(m==16)for(var g=0;g<l;g++){var E=g<<2,$=g<<2,q=a[$];h[E]=q,h[E+1]=q,h[E+2]=q,h[E+3]=a[$+2]}}else if(d==0){var x=c.tabs.tRNS?c.tabs.tRNS:-1;if(m==1)for(var g=0;g<l;g++){var q=255*(a[g>>3]>>7-(g&7)&1),K=q==x*255?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==2)for(var g=0;g<l;g++){var q=85*(a[g>>2]>>6-((g&3)<<1)&3),K=q==x*85?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==4)for(var g=0;g<l;g++){var q=17*(a[g>>1]>>4-((g&1)<<2)&15),K=q==x*17?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==8)for(var g=0;g<l;g++){var q=a[g],K=q==x?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==16)for(var g=0;g<l;g++){var q=a[g<<1],K=_(a,g<<1)==x?0:255;p[g]=K<<24|q<<16|q<<8|q}}return h},n.decode=function(a){for(var o=new Uint8Array(a),s=8,c=n._bin,l=c.readUshort,u=c.readUint,f={tabs:{},frames:[]},h=new Uint8Array(o.length),p=0,d,m=0,_=[137,80,78,71,13,10,26,10],v=0;v<8;v++)if(o[v]!=_[v])throw"The input is not a PNG file!";for(;s<o.length;){var g=c.readUint(o,s);s+=4;var y=c.readASCII(o,s,4);if(s+=4,y=="IHDR")n.decode._IHDR(o,s,f);else if(y=="IDAT"){for(var v=0;v<g;v++)h[p+v]=o[s+v];p+=g}else if(y=="acTL")f.tabs[y]={num_frames:u(o,s),num_plays:u(o,s+4)},d=new Uint8Array(o.length);else if(y=="fcTL"){if(m!=0){var x=f.frames[f.frames.length-1];x.data=n.decode._decompress(f,d.slice(0,m),x.rect.width,x.rect.height),m=0}var b={x:u(o,s+12),y:u(o,s+16),width:u(o,s+4),height:u(o,s+8)},w=l(o,s+22);w=l(o,s+20)/(w==0?100:w);var E={rect:b,delay:Math.round(w*1e3),dispose:o[s+24],blend:o[s+25]};f.frames.push(E)}else if(y=="fdAT"){for(var v=0;v<g-4;v++)d[m+v]=o[s+v+4];m+=g-4}else if(y=="pHYs")f.tabs[y]=[c.readUint(o,s),c.readUint(o,s+4),o[s+8]];else if(y=="cHRM"){f.tabs[y]=[];for(var v=0;v<8;v++)f.tabs[y].push(c.readUint(o,s+v*4))}else if(y=="tEXt"){f.tabs[y]==null&&(f.tabs[y]={});var S=c.nextZero(o,s),C=c.readASCII(o,s,S-s),T=c.readASCII(o,S+1,s+g-S-1);f.tabs[y][C]=T}else if(y=="iTXt"){f.tabs[y]==null&&(f.tabs[y]={});var S=0,I=s;S=c.nextZero(o,I);var C=c.readASCII(o,I,S-I);I=S+1,o[I],o[I+1],I+=2,S=c.nextZero(o,I),c.readASCII(o,I,S-I),I=S+1,S=c.nextZero(o,I),c.readUTF8(o,I,S-I),I=S+1;var T=c.readUTF8(o,I,g-(I-s));f.tabs[y][C]=T}else if(y=="PLTE")f.tabs[y]=c.readBytes(o,s,g);else if(y=="hIST"){var A=f.tabs.PLTE.length/3;f.tabs[y]=[];for(var v=0;v<A;v++)f.tabs[y].push(l(o,s+v*2))}else if(y=="tRNS")f.ctype==3?f.tabs[y]=c.readBytes(o,s,g):f.ctype==0?f.tabs[y]=l(o,s):f.ctype==2&&(f.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]);else if(y=="gAMA")f.tabs[y]=c.readUint(o,s)/1e5;else if(y=="sRGB")f.tabs[y]=o[s];else if(y=="bKGD")f.ctype==0||f.ctype==4?f.tabs[y]=[l(o,s)]:f.ctype==2||f.ctype==6?f.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]:f.ctype==3&&(f.tabs[y]=o[s]);else if(y=="IEND"){if(m!=0){var x=f.frames[f.frames.length-1];x.data=n.decode._decompress(f,d.slice(0,m),x.rect.width,x.rect.height),m=0}f.data=n.decode._decompress(f,h,f.width,f.height);break}s+=g,c.readUint(o,s),s+=4}return delete f.compress,delete f.interlace,delete f.filter,f},n.decode._decompress=function(a,o,s,c){return a.compress==0&&(o=n.decode._inflate(o)),a.interlace==0?o=n.decode._filterZero(o,a,0,s,c):a.interlace==1&&(o=n.decode._readInterlace(o,a)),o},n.decode._inflate=function(a){return i.inflate(a)},n.decode._readInterlace=function(a,o){for(var s=o.width,c=o.height,l=n.decode._getBPP(o),u=l>>3,f=Math.ceil(s*l/8),h=new Uint8Array(c*f),p=0,d=[0,0,4,0,2,0,1],m=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1],g=0;g<7;){for(var y=_[g],x=v[g],b=0,w=0,E=d[g];E<c;)E+=y,w++;for(var S=m[g];S<s;)S+=x,b++;var C=Math.ceil(b*l/8);n.decode._filterZero(a,o,p,b,w);for(var T=0,I=d[g];I<c;){for(var A=m[g],R=p+T*C<<3;A<s;){if(l==1){var O=a[R>>3];O=O>>7-(R&7)&1,h[I*f+(A>>3)]|=O<<7-((A&3)<<0)}if(l==2){var O=a[R>>3];O=O>>6-(R&7)&3,h[I*f+(A>>2)]|=O<<6-((A&3)<<1)}if(l==4){var O=a[R>>3];O=O>>4-(R&7)&15,h[I*f+(A>>1)]|=O<<4-((A&1)<<2)}if(l>=8)for(var F=I*f+A*u,N=0;N<u;N++)h[F+N]=a[(R>>3)+N];R+=l,A+=x}T++,I+=y}b*w!=0&&(p+=w*(1+C)),g=g+1}return h},n.decode._getBPP=function(a){var o=[1,null,3,1,2,null,4][a.ctype];return o*a.depth},n.decode._filterZero=function(a,o,s,c,l){var u=n.decode._getBPP(o),f=Math.ceil(c*u/8),h=n.decode._paeth;u=Math.ceil(u/8);for(var p=0;p<l;p++){var d=s+p*f,m=d+p+1,_=a[m-1];if(_==0)for(var v=0;v<f;v++)a[d+v]=a[m+v];else if(_==1){for(var v=0;v<u;v++)a[d+v]=a[m+v];for(var v=u;v<f;v++)a[d+v]=a[m+v]+a[d+v-u]&255}else if(p==0){for(var v=0;v<u;v++)a[d+v]=a[m+v];if(_==2)for(var v=u;v<f;v++)a[d+v]=a[m+v]&255;if(_==3)for(var v=u;v<f;v++)a[d+v]=a[m+v]+(a[d+v-u]>>1)&255;if(_==4)for(var v=u;v<f;v++)a[d+v]=a[m+v]+h(a[d+v-u],0,0)&255}else{if(_==2)for(var v=0;v<f;v++)a[d+v]=a[m+v]+a[d+v-f]&255;if(_==3){for(var v=0;v<u;v++)a[d+v]=a[m+v]+(a[d+v-f]>>1)&255;for(var v=u;v<f;v++)a[d+v]=a[m+v]+(a[d+v-f]+a[d+v-u]>>1)&255}if(_==4){for(var v=0;v<u;v++)a[d+v]=a[m+v]+h(0,a[d+v-f],0)&255;for(var v=u;v<f;v++)a[d+v]=a[m+v]+h(a[d+v-u],a[d+v-f],a[d+v-u-f])&255}}}return a},n.decode._paeth=function(a,o,s){var c=a+o-s,l=Math.abs(c-a),u=Math.abs(c-o),f=Math.abs(c-s);return l<=u&&l<=f?a:u<=f?o:s},n.decode._IHDR=function(a,o,s){var c=n._bin;s.width=c.readUint(a,o),o+=4,s.height=c.readUint(a,o),o+=4,s.depth=a[o],o++,s.ctype=a[o],o++,s.compress=a[o],o++,s.filter=a[o],o++,s.interlace=a[o],o++},n._bin={nextZero:function(a,o){for(;a[o]!=0;)o++;return o},readUshort:function(a,o){return a[o]<<8|a[o+1]},writeUshort:function(a,o,s){a[o]=s>>8&255,a[o+1]=s&255},readUint:function(a,o){return a[o]*(256*256*256)+(a[o+1]<<16|a[o+2]<<8|a[o+3])},writeUint:function(a,o,s){a[o]=s>>24&255,a[o+1]=s>>16&255,a[o+2]=s>>8&255,a[o+3]=s&255},readASCII:function(a,o,s){for(var c="",l=0;l<s;l++)c+=String.fromCharCode(a[o+l]);return c},writeASCII:function(a,o,s){for(var c=0;c<s.length;c++)a[o+c]=s.charCodeAt(c)},readBytes:function(a,o,s){for(var c=[],l=0;l<s;l++)c.push(a[o+l]);return c},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,o,s){for(var c="",l,u=0;u<s;u++)c+="%"+n._bin.pad(a[o+u].toString(16));try{l=decodeURIComponent(c)}catch{return n._bin.readASCII(a,o,s)}return l}},n._copyTile=function(a,o,s,c,l,u,f,h,p){for(var d=Math.min(o,l),m=Math.min(s,u),_=0,v=0,g=0;g<m;g++)for(var y=0;y<d;y++)if(f>=0&&h>=0?(_=g*o+y<<2,v=(h+g)*l+f+y<<2):(_=(-h+g)*o-f+y<<2,v=g*l+y<<2),p==0)c[v]=a[_],c[v+1]=a[_+1],c[v+2]=a[_+2],c[v+3]=a[_+3];else if(p==1){var x=a[_+3]*.00392156862745098,b=a[_]*x,w=a[_+1]*x,E=a[_+2]*x,S=c[v+3]*(1/255),C=c[v]*S,T=c[v+1]*S,I=c[v+2]*S,A=1-x,R=x+S*A,O=R==0?0:1/R;c[v+3]=255*R,c[v+0]=(b+C*A)*O,c[v+1]=(w+T*A)*O,c[v+2]=(E+I*A)*O}else if(p==2){var x=a[_+3],b=a[_],w=a[_+1],E=a[_+2],S=c[v+3],C=c[v],T=c[v+1],I=c[v+2];x==S&&b==C&&w==T&&E==I?(c[v]=0,c[v+1]=0,c[v+2]=0,c[v+3]=0):(c[v]=b,c[v+1]=w,c[v+2]=E,c[v+3]=x)}else if(p==3){var x=a[_+3],b=a[_],w=a[_+1],E=a[_+2],S=c[v+3],C=c[v],T=c[v+1],I=c[v+2];if(x==S&&b==C&&w==T&&E==I)continue;if(x<220&&S>20)return!1}return!0},n.encode=function(a,o,s,c,l,u){c==null&&(c=0),u==null&&(u=!1);for(var f=new Uint8Array(a[0].byteLength*a.length+100),h=[137,80,78,71,13,10,26,10],p=0;p<8;p++)f[p]=h[p];var d=8,m=n._bin,_=n.crc.crc,v=m.writeUint,g=m.writeUshort,y=m.writeASCII,x=n.encode.compressPNG(a,o,s,c,u);v(f,d,13),d+=4,y(f,d,"IHDR"),d+=4,v(f,d,o),d+=4,v(f,d,s),d+=4,f[d]=x.depth,d++,f[d]=x.ctype,d++,f[d]=0,d++,f[d]=0,d++,f[d]=0,d++,v(f,d,_(f,d-17,17)),d+=4,v(f,d,1),d+=4,y(f,d,"sRGB"),d+=4,f[d]=1,d++,v(f,d,_(f,d-5,5)),d+=4;var b=a.length>1;if(b&&(v(f,d,8),d+=4,y(f,d,"acTL"),d+=4,v(f,d,a.length),d+=4,v(f,d,0),d+=4,v(f,d,_(f,d-12,12)),d+=4),x.ctype==3){var w=x.plte.length;v(f,d,w*3),d+=4,y(f,d,"PLTE"),d+=4;for(var p=0;p<w;p++){var E=p*3,S=x.plte[p],C=S&255,T=S>>8&255,I=S>>16&255;f[d+E+0]=C,f[d+E+1]=T,f[d+E+2]=I}if(d+=w*3,v(f,d,_(f,d-w*3-4,w*3+4)),d+=4,x.gotAlpha){v(f,d,w),d+=4,y(f,d,"tRNS"),d+=4;for(var p=0;p<w;p++)f[d+p]=x.plte[p]>>24&255;d+=w,v(f,d,_(f,d-w-4,w+4)),d+=4}}for(var A=0,R=0;R<x.frames.length;R++){var O=x.frames[R];b&&(v(f,d,26),d+=4,y(f,d,"fcTL"),d+=4,v(f,d,A++),d+=4,v(f,d,O.rect.width),d+=4,v(f,d,O.rect.height),d+=4,v(f,d,O.rect.x),d+=4,v(f,d,O.rect.y),d+=4,g(f,d,l[R]),d+=2,g(f,d,1e3),d+=2,f[d]=O.dispose,d++,f[d]=O.blend,d++,v(f,d,_(f,d-30,30)),d+=4);var F=O.cimg,w=F.length;v(f,d,w+(R==0?0:4)),d+=4;var N=d;y(f,d,R==0?"IDAT":"fdAT"),d+=4,R!=0&&(v(f,d,A++),d+=4);for(var p=0;p<w;p++)f[d+p]=F[p];d+=w,v(f,d,_(f,N,d-N)),d+=4}return v(f,d,0),d+=4,y(f,d,"IEND"),d+=4,v(f,d,_(f,d-4,4)),d+=4,f.buffer.slice(0,d)},n.encode.compressPNG=function(a,o,s,c,l){for(var u=n.encode.compress(a,o,s,c,!1,l),f=0;f<a.length;f++){var h=u.frames[f];h.rect.width;var p=h.rect.height,d=h.bpl,m=h.bpp,_=new Uint8Array(p*d+p);h.cimg=n.encode._filterZero(h.img,p,m,d,_)}return u},n.encode.compress=function(a,o,s,c,l,u){u==null&&(u=!1);for(var f=6,h=8,p=4,d=255,m=0;m<a.length;m++)for(var _=new Uint8Array(a[m]),v=_.length,g=0;g<v;g+=4)d&=_[g+3];var y=d!=255,x={},b=[];if(a.length!=0&&(x[0]=0,b.push(0),c!=0&&c--),c!=0){var w=n.quantize(a,c,l);a=w.bufs;for(var g=0;g<w.plte.length;g++){var E=w.plte[g].est.rgba;x[E]==null&&(x[E]=b.length,b.push(E))}}else for(var m=0;m<a.length;m++)for(var S=new Uint32Array(a[m]),v=S.length,g=0;g<v;g++){var E=S[g];if((g<o||E!=S[g-1]&&E!=S[g-o])&&x[E]==null&&(x[E]=b.length,b.push(E),b.length>=300))break}var C=y?l:!1,T=b.length;T<=256&&u==!1&&(T<=2?h=1:T<=4?h=2:T<=16?h=4:h=8,l&&(h=8),y=!0);for(var I=[],m=0;m<a.length;m++){var A=new Uint8Array(a[m]),R=new Uint32Array(A.buffer),O=0,F=0,N=o,$=s,q=0;if(m!=0&&!C){for(var K=l||m==1||I[I.length-2].dispose==2?1:2,G=0,L=1e9,j=0;j<K;j++){for(var we=new Uint8Array(a[m-1-j]),B=new Uint32Array(a[m-1-j]),D=o,J=s,Q=-1,se=-1,re=0;re<s;re++)for(var ce=0;ce<o;ce++){var g=re*o+ce;R[g]!=B[g]&&(ce<D&&(D=ce),ce>Q&&(Q=ce),re<J&&(J=re),re>se&&(se=re))}var Ee=Q==-1?1:(Q-D+1)*(se-J+1);Ee<L&&(L=Ee,G=j,Q==-1?(O=F=0,N=$=1):(O=D,F=J,N=Q-D+1,$=se-J+1))}var we=new Uint8Array(a[m-1-G]);G==1&&(I[I.length-1].dispose=2);var pe=new Uint8Array(N*$*4);new Uint32Array(pe.buffer),n._copyTile(we,o,s,pe,N,$,-O,-F,0),n._copyTile(A,o,s,pe,N,$,-O,-F,3)?(n._copyTile(A,o,s,pe,N,$,-O,-F,2),q=1):(n._copyTile(A,o,s,pe,N,$,-O,-F,0),q=0),A=pe,R=new Uint32Array(A.buffer)}var ve=4*N;if(T<=256&&u==!1){ve=Math.ceil(h*N/8);for(var pe=new Uint8Array(ve*$),re=0;re<$;re++){var g=re*ve,Ae=re*N;if(h==8)for(var ce=0;ce<N;ce++)pe[g+ce]=x[R[Ae+ce]];else if(h==4)for(var ce=0;ce<N;ce++)pe[g+(ce>>1)]|=x[R[Ae+ce]]<<4-(ce&1)*4;else if(h==2)for(var ce=0;ce<N;ce++)pe[g+(ce>>2)]|=x[R[Ae+ce]]<<6-(ce&3)*2;else if(h==1)for(var ce=0;ce<N;ce++)pe[g+(ce>>3)]|=x[R[Ae+ce]]<<7-(ce&7)*1}A=pe,f=3,p=1}else if(y==!1&&a.length==1){for(var pe=new Uint8Array(N*$*3),ke=N*$,g=0;g<ke;g++){var Te=g*3,Fe=g*4;pe[Te]=A[Fe],pe[Te+1]=A[Fe+1],pe[Te+2]=A[Fe+2]}A=pe,f=2,p=3,ve=3*N}I.push({rect:{x:O,y:F,width:N,height:$},img:A,bpl:ve,bpp:p,blend:q,dispose:C?1:0})}return{ctype:f,depth:h,plte:b,gotAlpha:y,frames:I}},n.encode._filterZero=function(a,o,s,c,l){for(var u=[],f=0;f<5;f++)if(!(o*c>5e5&&(f==2||f==3||f==4))){for(var h=0;h<o;h++)n.encode._filterLine(l,a,h,c,s,f);if(u.push(i.deflate(l)),s==1)break}for(var p,d=1e9,m=0;m<u.length;m++)u[m].length<d&&(p=m,d=u[m].length);return u[p]},n.encode._filterLine=function(a,o,s,c,l,u){var f=s*c,h=f+s,p=n.decode._paeth;if(a[h]=u,h++,u==0)for(var d=0;d<c;d++)a[h+d]=o[f+d];else if(u==1){for(var d=0;d<l;d++)a[h+d]=o[f+d];for(var d=l;d<c;d++)a[h+d]=o[f+d]-o[f+d-l]+256&255}else if(s==0){for(var d=0;d<l;d++)a[h+d]=o[f+d];if(u==2)for(var d=l;d<c;d++)a[h+d]=o[f+d];if(u==3)for(var d=l;d<c;d++)a[h+d]=o[f+d]-(o[f+d-l]>>1)+256&255;if(u==4)for(var d=l;d<c;d++)a[h+d]=o[f+d]-p(o[f+d-l],0,0)+256&255}else{if(u==2)for(var d=0;d<c;d++)a[h+d]=o[f+d]+256-o[f+d-c]&255;if(u==3){for(var d=0;d<l;d++)a[h+d]=o[f+d]+256-(o[f+d-c]>>1)&255;for(var d=l;d<c;d++)a[h+d]=o[f+d]+256-(o[f+d-c]+o[f+d-l]>>1)&255}if(u==4){for(var d=0;d<l;d++)a[h+d]=o[f+d]+256-p(0,o[f+d-c],0)&255;for(var d=l;d<c;d++)a[h+d]=o[f+d]+256-p(o[f+d-l],o[f+d-c],o[f+d-l-c])&255}}},n.crc={table:function(){for(var a=new Uint32Array(256),o=0;o<256;o++){for(var s=o,c=0;c<8;c++)s&1?s=3988292384^s>>>1:s=s>>>1;a[o]=s}return a}(),update:function(a,o,s,c){for(var l=0;l<c;l++)a=n.crc.table[(a^o[s+l])&255]^a>>>8;return a},crc:function(a,o,s){return n.crc.update(4294967295,a,o,s)^4294967295}},n.quantize=function(a,o,s){for(var c=[],l=0,u=0;u<a.length;u++)c.push(n.encode.alphaMul(new Uint8Array(a[u]),s)),l+=a[u].byteLength;for(var f=new Uint8Array(l),h=new Uint32Array(f.buffer),p=0,u=0;u<c.length;u++){for(var d=c[u],m=d.length,_=0;_<m;_++)f[p+_]=d[_];p+=m}var v={i0:0,i1:f.length,bst:null,est:null,tdst:0,left:null,right:null};v.bst=n.quantize.stats(f,v.i0,v.i1),v.est=n.quantize.estats(v.bst);for(var g=[v];g.length<o;){for(var y=0,x=0,u=0;u<g.length;u++)g[u].est.L>y&&(y=g[u].est.L,x=u);if(y<.001)break;var b=g[x],w=n.quantize.splitPixels(f,h,b.i0,b.i1,b.est.e,b.est.eMq255),E={i0:b.i0,i1:w,bst:null,est:null,tdst:0,left:null,right:null};E.bst=n.quantize.stats(f,E.i0,E.i1),E.est=n.quantize.estats(E.bst);var S={i0:w,i1:b.i1,bst:null,est:null,tdst:0,left:null,right:null};S.bst={R:[],m:[],N:b.bst.N-E.bst.N};for(var u=0;u<16;u++)S.bst.R[u]=b.bst.R[u]-E.bst.R[u];for(var u=0;u<4;u++)S.bst.m[u]=b.bst.m[u]-E.bst.m[u];S.est=n.quantize.estats(S.bst),b.left=E,b.right=S,g[x]=E,g.push(S)}g.sort(function(K,G){return G.bst.N-K.bst.N});for(var C=0;C<c.length;C++){for(var T=n.quantize.planeDst,I=new Uint8Array(c[C].buffer),A=new Uint32Array(c[C].buffer),R=I.length,u=0;u<R;u+=4){for(var O=I[u]*.00392156862745098,F=I[u+1]*(1/255),N=I[u+2]*(1/255),$=I[u+3]*(1/255),q=v;q.left;)q=T(q.est,O,F,N,$)<=0?q.left:q.right;A[u>>2]=q.est.rgba}c[C]=A.buffer}return{bufs:c,plte:g}},n.quantize.getNearest=function(a,o,s,c,l){if(a.left==null)return a.tdst=n.quantize.dist(a.est.q,o,s,c,l),a;var u=n.quantize.planeDst(a.est,o,s,c,l),f=a.left,h=a.right;u>0&&(f=a.right,h=a.left);var p=n.quantize.getNearest(f,o,s,c,l);if(p.tdst<=u*u)return p;var d=n.quantize.getNearest(h,o,s,c,l);return d.tdst<p.tdst?d:p},n.quantize.planeDst=function(a,o,s,c,l){var u=a.e;return u[0]*o+u[1]*s+u[2]*c+u[3]*l-a.eMq},n.quantize.dist=function(a,o,s,c,l){var u=o-a[0],f=s-a[1],h=c-a[2],p=l-a[3];return u*u+f*f+h*h+p*p},n.quantize.splitPixels=function(a,o,s,c,l,u){var f=n.quantize.vecDot;for(c-=4;s<c;){for(;f(a,s,l)<=u;)s+=4;for(;f(a,c,l)>u;)c-=4;if(s>=c)break;var h=o[s>>2];o[s>>2]=o[c>>2],o[c>>2]=h,s+=4,c-=4}for(;f(a,s,l)>u;)s-=4;return s+4},n.quantize.vecDot=function(a,o,s){return a[o]*s[0]+a[o+1]*s[1]+a[o+2]*s[2]+a[o+3]*s[3]},n.quantize.stats=function(a,o,s){for(var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0],u=s-o>>2,f=o;f<s;f+=4){var h=a[f]*.00392156862745098,p=a[f+1]*(1/255),d=a[f+2]*(1/255),m=a[f+3]*(1/255);l[0]+=h,l[1]+=p,l[2]+=d,l[3]+=m,c[0]+=h*h,c[1]+=h*p,c[2]+=h*d,c[3]+=h*m,c[5]+=p*p,c[6]+=p*d,c[7]+=p*m,c[10]+=d*d,c[11]+=d*m,c[15]+=m*m}return c[4]=c[1],c[8]=c[2],c[12]=c[3],c[9]=c[6],c[13]=c[7],c[14]=c[11],{R:c,m:l,N:u}},n.quantize.estats=function(a){var o=a.R,s=a.m,c=a.N,l=s[0],u=s[1],f=s[2],h=s[3],p=c==0?0:1/c,d=[o[0]-l*l*p,o[1]-l*u*p,o[2]-l*f*p,o[3]-l*h*p,o[4]-u*l*p,o[5]-u*u*p,o[6]-u*f*p,o[7]-u*h*p,o[8]-f*l*p,o[9]-f*u*p,o[10]-f*f*p,o[11]-f*h*p,o[12]-h*l*p,o[13]-h*u*p,o[14]-h*f*p,o[15]-h*h*p],m=d,_=n.M4,v=[.5,.5,.5,.5],g=0,y=0;if(c!=0)for(var x=0;x<10&&(v=_.multVec(m,v),y=Math.sqrt(_.dot(v,v)),v=_.sml(1/y,v),!(Math.abs(y-g)<1e-9));x++)g=y;var b=[l*p,u*p,f*p,h*p],w=_.dot(_.sml(255,b),v),E=b[3]<.001?0:1/b[3];return{Cov:d,q:b,e:v,L:g,eMq255:w,eMq:_.dot(v,b),rgba:(Math.round(255*b[3])<<24|Math.round(255*b[2]*E)<<16|Math.round(255*b[1]*E)<<8|Math.round(255*b[0]*E)<<0)>>>0}},n.M4={multVec:function(a,o){return[a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3],a[4]*o[0]+a[5]*o[1]+a[6]*o[2]+a[7]*o[3],a[8]*o[0]+a[9]*o[1]+a[10]*o[2]+a[11]*o[3],a[12]*o[0]+a[13]*o[1]+a[14]*o[2]+a[15]*o[3]]},dot:function(a,o){return a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3]},sml:function(a,o){return[a*o[0],a*o[1],a*o[2],a*o[3]]}},n.encode.alphaMul=function(a,o){for(var s=new Uint8Array(a.length),c=a.length>>2,l=0;l<c;l++){var u=l<<2,f=a[u+3];o&&(f=f<128?0:255);var h=f*(1/255);s[u+0]=a[u+0]*h,s[u+1]=a[u+1]*h,s[u+2]=a[u+2]*h,s[u+3]=f}return s}}(e,r)})()})(k$);var HAe=k$.exports;const AL=Pn(HAe);/*!
 * @tbminiapp/pixi-apng-textures - v6.2.1-beta.9
 * Compiled Thu, 17 Mar 2022 08:24:35 UTC
 *
 * @tbminiapp/pixi-apng-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var KS=function(t,e){return KS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},KS(t,e)};function XAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");KS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zAe=function(t){XAe(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,delay:16});var i=this,a,o;typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.loaded=!0;var s=n.delay;return i._delay=s||0,i.origin=a,i.buffer=o.buffer?new xd(o.buffer):null,i}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),e}(Ms);function WAe(t,e,r){var n={textures:{},texture:null,frameCount:0,frameTextureKeys:[],frameDelay:[]};if(!e)return n;var i=e.map(function(a){return new ot(new St(a,Object.assign({mipmap:Ei.OFF,alphaMode:fi.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);St.addToCache(s,c),ot.addToCache(a,c),o===0&&(St.addToCache(s,t),ot.addToCache(a,t),n.texture=a),n.frameTextureKeys.push(c),n.frameDelay.push(s.resource.delay),n.textures[c]=a}),PIXI.utils.TextureCache.abcd="efg",n.frameCount=i.length,n}Zt.setExtensionXhrType("apng",Zt.XHR_RESPONSE_TYPE.BUFFER);var IL=[97,99,84,76],YAe=function(){function t(){}return t.use=async function(e,r){if(e.extension==="png"&&e.data)try{var n=e.url,i=e.name||n;async function a(o){const s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch file: ${s.status} ${s.statusText}`);const c=await s.arrayBuffer(),l=new Uint8Array(c);if(t.validate(o,l))Object.assign(e,WAe(i,t.parse(i,l),e.metadata));else{r();return}}await a(n)}catch(a){r(a);return}r()},t.parse=function(e,r){var n=AL.decode(r),i=n.width,a=n.height,o=n.frames,s=AL.toRGBA8(n),c=[];s.forEach(function(u,f){var h=o[f],p=h.delay;c.push({data:new Uint8Array(u),delay:p})});var l=c.map(function(u){return new zAe(u.data,{width:i,height:a,framesCount:c.length,delay:u.delay})});return l},t.validate=function(e,r){const n=r.slice(37,41);for(var i=0;i<IL.length;i++)if(n[i]!==IL[i])return!1;return!0},t}();const gm={height:1440,width:2560};window.PIXI=g2e;Si.registerPlugin(YAe);class qAe{constructor(){Xe(this,"currentApp",null);Xe(this,"effectsContainer");Xe(this,"frameDuration",16.67);Xe(this,"notUpdateBacklogEffects",!1);Xe(this,"figureContainer");Xe(this,"figureObjects",[]);Xe(this,"backgroundContainer");Xe(this,"backgroundObjects",[]);Xe(this,"stageAnimations",[]);Xe(this,"assetLoader",new Si);Xe(this,"loadQueue",[]);Xe(this,"live2dFigureRecorder",[]);Xe(this,"lockTransformTarget",[]);Xe(this,"stageWidth",gm.width);Xe(this,"stageHeight",gm.height);Xe(this,"MAX_TEX_COUNT",10);const e=new c0({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),kI&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new pn,this.effectsContainer.zIndex=3,this.figureContainer=new pn,this.figureContainer.zIndex=2,this.backgroundContainer=new pn,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:Wf(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const c=s.pixiContainer;Object.assign(c,a.transform)}return}this.stageAnimations.push({uuid:Wf(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const c=this.getStageObjByKey(o.targetKey);if(c){const l={alpha:c.pixiContainer.alpha,scale:{x:c.pixiContainer.scale.x,y:c.pixiContainer.scale.y},position:{x:c.pixiContainer.x,y:c.pixiContainer.y},rotation:c.pixiContainer.rotation,blur:c.pixiContainer.blur,...s};let u={target:o.targetKey,transform:l};le.dispatch(gi.updateEffect(u))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(f,h),d=new Xi(c);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const m=l*p,_=u*p;a.setBaseY(this.stageHeight/2),_<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-_/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(m/2),i==="right"&&a.setBaseX(this.stageWidth-m/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(f,h),d=new Xi(c);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const m=l*p,_=u*p;a.setBaseY(this.stageHeight/2),_<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-_/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(m/2),i==="right"&&a.setBaseX(this.stageWidth-m/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}addBg(e,r){var l,u;const n=this.assetLoader,i=new K1;this.backgroundObjects.findIndex(f=>f.key===e)>=0&&this.removeStageObjectByKey(e),this.backgroundContainer.addChild(i);const s=Wf();this.backgroundObjects.push({uuid:s,key:e,pixiContainer:i,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const c=()=>{var h,p;const f=(p=(h=n.resources)==null?void 0:h[r])==null?void 0:p.texture;if(f&&this.getStageObjByUuid(s)){const d=f.width,m=f.height,_=this.stageWidth/d,v=this.stageHeight/m,g=Math.max(_,v),y=new Xi(f);y.scale.x=g,y.scale.y=g,y.anchor.set(.5),y.position.y=this.stageHeight/2,i.setBaseX(this.stageWidth/2),i.setBaseY(this.stageHeight/2),i.pivot.set(0,this.stageHeight/2),i.addChild(y)}};this.cacheGC(),(u=(l=n.resources)==null?void 0:l[r])!=null&&u.texture?c():this.loadAsset(r,c)}addFigure(e,r,n="center",i=!1){var f,h;const a=this.assetLoader,o=new K1;this.figureObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=Wf();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const u=()=>{var m,_;const p=(_=(m=a.resources)==null?void 0:m[r])==null?void 0:_.texture;let d=[];if(p&&this.getStageObjByUuid(l)){const v=a.resources[r],g=[];if(i){const{frameDelay:x,textures:b,frameCount:w}=v;d=x,Object.values(b||[]).forEach(E=>{g.push(E)})}(x=>{const b=p.width,w=p.height,E=this.stageWidth/b,S=this.stageHeight/w,C=Math.min(E,S),T=i?new E9(x):new Xi(p);T.scale.x=C,T.scale.y=C,T.anchor.set(.5),T.position.y=this.stageHeight/2;const I=b*C,A=w*C;if(o.setBaseY(this.stageHeight/2),A<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-A/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(I/2),n==="right"&&o.setBaseX(this.stageWidth-I/2),i){const R=T;let O=0,F=1;const N=()=>{R.gotoAndStop(O),setTimeout(()=>{O===x.length-1&&(F=-1),O===0&&(F=1),O+=F,N()},d[O])};N()}o.pivot.set(0,this.stageHeight/2),o.addChild(T)})(g)}};this.cacheGC(),(h=(f=a.resources)==null?void 0:f[r])!=null&&h.texture?u():this.loadAsset(r,u,"",i)}addSpineFigure(e,r,n="center"){var f;const i=`spine-${r}`,a=this.assetLoader,o=new K1;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=Wf();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const u=()=>{var p,d;console.log(this.assetLoader.resources);const h=(p=this.assetLoader.resources)==null?void 0:p[i];if(h&&this.getStageObjByUuid(l)){const m=new NAe(h.spineData),_=((d=h==null?void 0:h.spineData)==null?void 0:d.y)??0;console.log(m);const v=m.width,g=m.height,y=this.stageWidth/v,x=this.stageHeight/g;m.y=-(x*_)/2,console.log(m.state),m.state.setAnimation(0,"07",!0);const b=Math.min(y,x),w=new Xi;w.addChild(m),w.scale.x=b,w.scale.y=b,w.anchor.set(.5),w.position.y=this.stageHeight/2;const E=v*b,S=g*b;o.setBaseY(this.stageHeight/2),S<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-S/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(E/2),n==="right"&&o.setBaseX(this.stageWidth-E/2),o.pivot.set(0,this.stageHeight/2),o.addChild(w)}};this.cacheGC(),(f=a.resources)!=null&&f[r]?u():this.loadAsset(r,u,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const c=n.pixiContainer.children;for(const l of c){let u=r,f=0,h=3;const p=(l==null?void 0:l.internalModel)??void 0;(o=(a=p==null?void 0:p.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(u,f,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,c,l,u,f,h,p,d;function n(m){return m<50?0:(m-50)/50}const i=n(r),a=this.figureObjects.find(m=>m.key===e);if(a){const _=a.pixiContainer.children;for(const v of _)v!=null&&v.internalModel&&((s=(o=v==null?void 0:v.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((u=(l=(c=v==null?void 0:v.internalModel)==null?void 0:c.coreModel)==null?void 0:l.setParamFloat)==null||u.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(f=v==null?void 0:v.internalModel)==null?void 0:f.coreModel)!=null&&h.setParameterValueById&&((d=(p=v==null?void 0:v.internalModel)==null?void 0:p.coreModel)==null||d.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(i=>i.key===e),n=this.backgroundObjects.findIndex(i=>i.key===e);if(r>=0){const i=this.figureObjects[r];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){zU()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n,i){this.loadQueue.unshift({url:e,callback:r,name:n,extraInfo:{isApng:i??!1}}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){$e.fatal("PIXI Loader ",r),e.callback(),this.callLoader()}}}updateFps(){fb==null||fb(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}}const fb=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),KAe={version:"IdolTime 1.0.0"},ZAe=navigator.userAgent,kI=!!ZAe.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),JAe=()=>{$e.info(KAe.version),$e.info("Made with  by IdolTime"),kI&&alert(`iOS 
| iOS `),QAe("./game/userStyleSheet.css"),eIe(),hge("./game/config.txt");const t=zr("start.txt",Xr.scene);Ni(t).then(async e=>{const r=await z.sceneManager.setCurrentScene(e,"start.txt",t);if(!r)return;const n=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(t);const i=qd(n);rf(i);const a=(r==null?void 0:r.sentenceList)??[],o=a==null?void 0:a.filter(s=>(s==null?void 0:s.commandRaw)==="unlockAchieve");le.dispatch(nr.setUnlockAchieveAllTotal((o==null?void 0:o.length)??0))}),z.gameplay.pixiStage=new qAe,pge(),vge()};function QAe(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function eIe(){td.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)td.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};z.animationManager.addAnimation(i)}})})}const tIe="_Menu_main_1a7i6_1",rIe="_Menu_ShowSoftly_1a7i6_1",nIe="_Menu_TagContent_1a7i6_10",RL={Menu_main:tIe,Menu_ShowSoftly:rIe,Menu_TagContent:nIe},iIe="_MenuPanel_main_1c9ky_1",aIe="_MenuPanel_button_1c9ky_10",oIe="_MenuPanel_button_icon_1c9ky_38",sIe="_MenuPanel_button_hl_1c9ky_44",Hu={MenuPanel_main:iIe,MenuPanel_button:aIe,MenuPanel_button_icon:oIe,MenuPanel_button_hl:sIe};var lIe=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){uIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uIe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cIe(t,e){if(t==null)return{};var r=fIe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fIe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var hIe={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function dIe(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function pIe(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var D$=ye.createContext(hIe);D$.Provider;function _f(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,c=n.theme,l=n.fill,u=n.className,f=n.spin,h=cIe(n,lIe),p=ye.useContext(D$),d=ye.useMemo(dIe,[]),m=pIe(d,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:c,fill:l},p),_=[p.prefix+"-icon"];return _.push(p.prefix+"-icon-"+t),e&&p.rtl&&_.push(p.prefix+"-icon-rtl"),f&&_.push(p.prefix+"-icon-spin"),u&&_.push(u),rr.createElement("span",OL(OL({},h),{},{className:_.join(" ")}),r(m))}}const vIe=_f("folder-open",!0,function(t){return rr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},rr.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),mIe=_f("hamburger-button",!1,function(t){return rr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},rr.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),gIe=_f("home",!1,function(t){return rr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},rr.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M19 29V42H29V29H19Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M9 42H39",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),_Ie=_f("logout",!0,function(t){return rr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},rr.createElement("path",{d:"M23.9917 6H6V42H24",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M33 33L42 24L33 15",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M16 23.9917H42",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),yIe=_f("save",!0,function(t){return rr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},rr.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:t.colors[3]}),rr.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M9 6H34.2814",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M14 26H34",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M14 34H24.0083",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),xIe=_f("setting-two",!1,function(t){return rr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},rr.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),rr.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),bIe=t=>{let e;switch(t.iconName){case"save":e=k.jsx(yIe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"load":e=k.jsx(vIe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"option":e=k.jsx(xIe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"title":e=k.jsx(gIe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"exit":e=k.jsx(_Ie,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;default:e=k.jsx("div",{})}return e},Yf=t=>{const{playSePageChange:e,playSeEnter:r}=on();let n=Hu.MenuPanel_button;return t.hasOwnProperty("buttonOnClassName")&&(n=n+t.buttonOnClassName),k.jsxs("div",{className:n,onClick:()=>{t.clickFunc()},onMouseEnter:r,style:{...t.style,color:t.tagColor},children:[k.jsx("div",{className:Hu.MenuPanel_button_icon,children:k.jsx(bIe,{iconName:t.iconName,iconColor:t.iconColor})}),t.tagName]})},d0=()=>{const t=le.dispatch;TT(),Zg(),fc(),t(lt({key:"playVocal",value:""})),t(at({component:"showTitle",visibility:!0})),t(nr.setIsShowUnlock(!1)),t(nr.setShowStoryline(!1)),i0(le.getState().GUI.titleBg)},wIe="_GlobalDialog_main_78ywd_2",EIe="_showGlobalDialog_78ywd_1",SIe="_glabalDialog_container_inner_78ywd_17",CIe="_glabalDialog_container_78ywd_17",TIe="_title_78ywd_38",AIe="_button_list_78ywd_50",IIe="_button_78ywd_50",Ws={GlobalDialog_main:wIe,showGlobalDialog:EIe,glabalDialog_container_inner:SIe,glabalDialog_container:CIe,title:TIe,button_list:AIe,button:IIe};function RIe(){const t=rt(e=>e.GUI.showGlobalDialog);return k.jsx(k.Fragment,{children:t&&k.jsx("div",{id:"globalDialogContainer"})})}function FI(t){const{playSeClick:e,playSeEnter:r}=eT();le.dispatch(at({component:"showGlobalDialog",visibility:!0}));const n=()=>{e(),t.leftFunc(),kL()},i=()=>{e(),t.rightFunc(),kL()},a=k.jsx("div",{className:Ws.GlobalDialog_main,children:k.jsx("div",{className:Ws.glabalDialog_container,children:k.jsxs("div",{className:Ws.glabalDialog_container_inner,children:[k.jsx("div",{className:Ws.title,children:t.title}),k.jsxs("div",{className:Ws.button_list,children:[k.jsx("div",{className:Ws.button,onClick:n,onMouseEnter:r,children:t.leftText}),k.jsx("div",{className:Ws.button,onClick:i,onMouseEnter:r,children:t.rightText})]})]})})});setTimeout(()=>{Pl.render(a,document.getElementById("globalDialogContainer"))},100)}function kL(){le.dispatch(at({component:"showGlobalDialog",visibility:!1}))}const PIe=()=>{const t=Eo("menu."),{playSeClick:e,playSeDialogOpen:r,playSePageChange:n}=on(),i=rt(m=>m.GUI),a=wr(),o=i.currentMenuTag===Qt.Save?` ${Hu.MenuPanel_button_hl}`:"",s=i.currentMenuTag===Qt.Load?` ${Hu.MenuPanel_button_hl}`:"",c=i.currentMenuTag===Qt.Option?` ${Hu.MenuPanel_button_hl}`:"",l=i.currentMenuTag===Qt.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",u=i.currentMenuTag===Qt.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",f=i.currentMenuTag===Qt.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)",h=i.currentMenuTag===Qt.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",p=i.currentMenuTag===Qt.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",d=i.currentMenuTag===Qt.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)";return k.jsxs("div",{className:Hu.MenuPanel_main,children:[k.jsx(Yf,{iconName:"save",buttonOnClassName:o,iconColor:h,tagColor:l,clickFunc:()=>{n(),!i.showTitle&&a(El(Qt.Save))},tagName:t("saving.title")},"saveButton"),k.jsx(Yf,{iconName:"load",buttonOnClassName:s,iconColor:p,tagColor:u,clickFunc:()=>{n(),a(El(Qt.Load))},tagName:t("loadSaving.title")},"loadButton"),k.jsx(Yf,{iconName:"title",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{r(),FI({title:t("$gaming.buttons.titleTips"),leftText:t("$common.no"),rightText:t("$common.yes"),leftFunc:()=>{},rightFunc:()=>{d0(),a(at({component:"showMenuPanel",visibility:!1}))}})},tagName:t("title.title")},"titleIcon"),k.jsx(Yf,{iconName:"option",style:{marginLeft:"auto"},buttonOnClassName:c,iconColor:d,tagColor:f,clickFunc:()=>{n(),a(El(Qt.Option))},tagName:t("options.title")},"optionButton"),k.jsx(Yf,{iconName:"exit",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{e(),a(at({component:"showMenuPanel",visibility:!1}))},tagName:t("exit.title")},"exitIcon")]})},OIe="_Save_Load_main_4r4rg_2",kIe="_Common_back_4r4rg_13",FIe="_Common_title_4r4rg_30",NIe="_Save_title_4r4rg_41",LIe="_Load_title_4r4rg_45",MIe="_Save_Load_top_buttonList_4r4rg_49",BIe="_Save_Load_indicator_container_4r4rg_59",DIe="_Save_Load_top_button_4r4rg_49",UIe="_Save_Load_indicator_default_4r4rg_74",jIe="_Save_Load_indicator_active_4r4rg_83",$Ie="_Save_Load_content_4r4rg_92",VIe="_Save_Load_content_element_4r4rg_105",GIe="_Elements_in_4r4rg_1",HIe="_Elements_in_transform_4r4rg_1",XIe="_Save_Load_content_element_top_4r4rg_120",zIe="_Save_Load_info_4r4rg_127",WIe="_Save_Load_content_ele_4r4rg_105",YIe="_Save_Load_bg_4r4rg_158",qIe="_Save_Load_content_miniRen_bg_4r4rg_170",KIe="_Save_Load_border_4r4rg_181",ZIe="_Btn_4r4rg_195",JIe="_Btn_r_4r4rg_209",Ot={Save_Load_main:OIe,Common_back:kIe,Common_title:FIe,Save_title:NIe,Load_title:LIe,Save_Load_top_buttonList:MIe,Save_Load_indicator_container:BIe,Save_Load_top_button:DIe,Save_Load_indicator_default:UIe,Save_Load_indicator_active:jIe,Save_Load_content:$Ie,Save_Load_content_element:VIe,Elements_in:GIe,Elements_in_transform:HIe,Save_Load_content_element_top:XIe,Save_Load_info:zIe,Save_Load_content_ele:WIe,Save_Load_bg:YIe,Save_Load_content_miniRen_bg:qIe,Save_Load_border:KIe,Btn:ZIe,Btn_r:JIe},QIe=()=>{const{playSeClick:t,playSePageChange:e,playSeEnter:r,playSeDialogOpen:n}=on(),i=rt(m=>m.userData),a=rt(m=>m.saveData),o=wr(),s=[];for(let m=1;m<=4;m++){const _=k.jsx("div",{onClick:()=>{o(Uv(m)),Mn(),e()},onMouseEnter:r,className:Ot.Save_Load_top_button,children:k.jsx("div",{className:m===i.optionData.slPage?Ot.Save_Load_indicator_active:Ot.Save_Load_indicator_default})},"Load_element_page"+m);s.push(_)}const c=Eo("common."),l=[],u=(i.optionData.slPage-1)*6+1,f=u+5;ye.useEffect(()=>{bT(u,f)},[u,f]);let h=0;for(let m=u;m<=f;m++){h++;const _=a.saveData[m];let v=k.jsx("div",{className:Ot.Save_Load_content_ele});_&&(v=k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Ot.Save_Load_border}),k.jsx("img",{className:Ot.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:_.previewImage}),k.jsxs("div",{className:Ot.Save_Load_info,children:[_.saveTime,`
`,_.nowStageState.showText]})]}));const g=k.jsx("div",{onClick:()=>{a.saveData[m]?(n(),FI({title:p("saving.isOverwrite"),leftText:c("no"),rightText:c("yes"),leftFunc:()=>{},rightFunc:()=>{O3(m),Mn()}})):(e(),O3(m))},onMouseEnter:r,className:Ot.Save_Load_content_element,style:{animationDelay:`${h*30}ms`},children:v},"saveElement_"+m);l.push(g)}const p=Eo("menu."),d=m=>{let v=i.optionData.slPage;m==="left"?v=v>1?v-1:4:v=v<4?v+1:1,o(Uv(v)),Mn(),e()};return k.jsxs("div",{className:Ot.Save_Load_main,children:[k.jsx("div",{className:`${Ot.Common_title} ${Ot.Save_title}`,children:k.jsx("div",{className:Ot.Common_back,onClick:()=>{t(),o(at({component:"showMenuPanel",visibility:!1}))},onMouseEnter:r})}),k.jsx("div",{className:Ot.Save_Load_content,id:"Save_content_page_"+i.optionData.slPage,children:l}),k.jsxs("div",{className:Ot.Save_Load_top_buttonList,children:[k.jsx("div",{className:Ot.Btn,onMouseEnter:r,onClick:()=>d("left")}),k.jsx("div",{className:Ot.Save_Load_indicator_container,children:s}),k.jsx("div",{className:`${Ot.Btn} ${Ot.Btn_r}`,onMouseEnter:r,onClick:()=>d("right")})]})]})},eRe=()=>{const{playSeClick:t,playSeEnter:e,playSePageChange:r}=on(),n=rt(h=>h.userData),i=rt(h=>h.saveData),a=wr(),o=[];for(let h=1;h<=4;h++){const p=k.jsx("div",{onClick:()=>{a(Uv(h)),Mn(),r()},onMouseEnter:e,className:Ot.Save_Load_top_button,children:k.jsx("div",{className:h===n.optionData.slPage?Ot.Save_Load_indicator_active:Ot.Save_Load_indicator_default})},"Load_element_page"+h);o.push(p)}const s=[],c=(n.optionData.slPage-1)*6+1,l=c+5;ye.useEffect(()=>{bT(c,l)},[c,l]);let u=0;for(let h=c;h<=l;h++){u++;const p=i.saveData[h];let d=k.jsx("div",{className:Ot.Save_Load_content_ele});p&&(d=k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Ot.Save_Load_bg}),k.jsx("img",{className:Ot.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:p.previewImage}),k.jsx("div",{className:Ot.Save_Load_border}),k.jsxs("div",{className:Ot.Save_Load_info,children:[p.saveTime,`
`,p.nowStageState.showText]})]}));const m=k.jsx("div",{onClick:()=>{J0e(h),t()},onMouseEnter:e,className:Ot.Save_Load_content_element,style:{animationDelay:`${u*30}ms`},children:d},"loadElement_"+h);s.push(m)}Eo("menu.");const f=h=>{let d=n.optionData.slPage;h==="left"?d=d>1?d-1:4:d=d<4?d+1:1,a(Uv(d)),Mn(),r()};return k.jsxs("div",{className:Ot.Save_Load_main,children:[k.jsx("div",{className:`${Ot.Common_title} ${Ot.Load_title}`,children:k.jsx("div",{className:Ot.Common_back,onClick:()=>{t(),a(at({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e})}),k.jsx("div",{className:Ot.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:s}),k.jsxs("div",{className:Ot.Save_Load_top_buttonList,children:[k.jsx("div",{className:Ot.Btn,onMouseEnter:e,onClick:()=>f("left")}),k.jsx("div",{className:Ot.Save_Load_indicator_container,children:o}),k.jsx("div",{className:`${Ot.Btn} ${Ot.Btn_r}`,onMouseEnter:e,onClick:()=>f("right")})]})]})},tRe="_Options_main_1jn8j_1",rRe="_Options_top_1jn8j_12",nRe="_Options_page_container_1jn8j_25",iRe="_Options_left_1jn8j_31",aRe="_title_base_1jn8j_36",oRe="_Options_right_1jn8j_46",sRe="_Label_1jn8j_50",lRe="_title_voice_1jn8j_55",uRe="_Label_fullscreen_1jn8j_74",cRe="_Label_window_1jn8j_79",fRe="_Label_text_speed_1jn8j_84",hRe="_Label_row_1jn8j_88",dRe="_Label_row_right_1jn8j_96",pRe="_Label_row_text_1jn8j_101",vRe="_Label_row_decoration_1jn8j_108",mRe="_Check_row_1jn8j_120",gRe="_Check_row_option_1jn8j_129",_Re="_Check_row_prefix_1jn8j_134",yRe="_Check_row_box_1jn8j_149",xRe="_mt48_1jn8j_161",bRe="_mt32_1jn8j_165",wRe="_mt22_1jn8j_170",ERe="_Slider_wrapper_1jn8j_175",SRe="_Check_row_box_checked_1jn8j_179",CRe="_Save_back_1jn8j_193",st={Options_main:tRe,Options_top:rRe,Options_page_container:nRe,Options_left:iRe,title_base:aRe,Options_right:oRe,Label:sRe,title_voice:lRe,Label_fullscreen:uRe,Label_window:cRe,Label_text_speed:fRe,Label_row:hRe,Label_row_right:dRe,Label_row_text:pRe,Label_row_decoration:vRe,Check_row:mRe,Check_row_option:gRe,Check_row_prefix:_Re,Check_row_box:yRe,mt48:xRe,mt32:bRe,mt22:wRe,Slider_wrapper:ERe,Check_row_box_checked:SRe,Save_back:CRe};const qf=t=>{const{playSeEnter:e}=on();ye.useEffect(()=>{setTimeout(()=>{const n=document.getElementById(t.uniqueID);n!==null&&n.setAttribute("value",t.initValue.toString()),r()},1)},[]),ye.useEffect(()=>{r()},[t.initValue]);function r(){const n=document.getElementById(`${t.uniqueID}-bg`);n!==null&&(n.style.width=Number(t.initValue.toString())/100*376/.5+"px")}return k.jsxs("div",{className:"Option_WebGAL_slider",children:[k.jsx("input",{className:"Rang_input",id:t.uniqueID,type:"range",onChange:t.onChange,onFocus:e,onMouseEnter:e}),k.jsx("div",{className:"Slider_bg",id:`${t.uniqueID}-bg`}),k.jsx("div",{className:"Slider_bg_under"})]})},TRe=()=>{ye.useEffect(qv,[]);const{playSeClick:t,playSeEnter:e}=on(),r=rt(i=>i.userData),n=wr();return k.jsxs("div",{className:st.Options_main,children:[k.jsx("div",{className:st.Options_top,children:k.jsx("div",{className:st.Save_back,onClick:()=>{t(),n(at({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e})}),k.jsxs("div",{className:st.Options_page_container,children:[k.jsxs("div",{className:st.Options_left,children:[k.jsx("div",{className:st.title_base}),k.jsxs("div",{className:`${st.Label_row} ${st.mt48}`,children:[k.jsx("span",{className:st.Label_row_text,children:""}),k.jsx("span",{className:st.Label_row_decoration})]}),k.jsxs("div",{className:st.Check_row,children:[k.jsxs("div",{className:st.Check_row_option,children:[k.jsx("span",{className:st.Check_row_prefix,children:""}),k.jsx("div",{className:st.Check_row_box,onClick:()=>{n(ca({key:"fullScreen",value:ja.on})),Mn()},children:r.optionData.fullScreen?null:k.jsx("div",{className:st.Check_row_box_checked})})]}),k.jsxs("div",{className:st.Check_row_option,children:[k.jsx("span",{className:st.Check_row_prefix,children:""}),k.jsx("div",{className:st.Check_row_box,onClick:()=>{n(ca({key:"fullScreen",value:ja.off})),Mn()},children:r.optionData.fullScreen?k.jsx("div",{className:st.Check_row_box_checked}):null})]})]}),k.jsxs("div",{className:`${st.Label_row} ${st.mt48}`,children:[k.jsx("span",{className:st.Label_row_text,children:""}),k.jsx("span",{className:st.Label_row_decoration})]}),k.jsx(qf,{initValue:r.optionData.textSpeed,uniqueID:"",onChange:i=>{const a=i.target.value;n(ca({key:"textSpeed",value:Number(a)})),Mn()}})]}),k.jsxs("div",{className:st.Options_right,children:[k.jsx("div",{className:st.title_voice}),k.jsxs("div",{className:`${st.Label_row} ${st.mt32} ${st.Label_row_right}`,children:[k.jsx("span",{className:st.Label_row_text,children:""}),k.jsx("span",{className:st.Label_row_decoration})]}),k.jsx("div",{className:st.Slider_wrapper,children:k.jsx(qf,{initValue:r.optionData.volumeMain,uniqueID:"",onChange:i=>{const a=i.target.value;n(ca({key:"volumeMain",value:Number(a)})),Mn()}})}),k.jsxs("div",{className:`${st.Label_row} ${st.mt32} ${st.Label_row_right}`,children:[k.jsx("span",{className:st.Label_row_text,children:""}),k.jsx("span",{className:st.Label_row_decoration})]}),k.jsx("div",{className:st.Slider_wrapper,children:k.jsx(qf,{initValue:r.optionData.bgmVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n(ca({key:"bgmVolume",value:Number(a)})),Mn()}})}),k.jsxs("div",{className:`${st.Label_row} ${st.mt32} ${st.Label_row_right}`,children:[k.jsx("span",{className:st.Label_row_text,children:""}),k.jsx("span",{className:st.Label_row_decoration})]}),k.jsx("div",{className:st.Slider_wrapper,children:k.jsx(qf,{initValue:r.optionData.seVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n(ca({key:"seVolume",value:Number(a)})),n(ca({key:"uiSeVolume",value:Number(a)})),Mn()}})}),k.jsxs("div",{className:`${st.Label_row} ${st.mt22} ${st.Label_row_right}`,children:[k.jsx("span",{className:st.Label_row_text,children:""}),k.jsx("span",{className:st.Label_row_decoration})]}),k.jsx("div",{className:st.Slider_wrapper,children:k.jsx(qf,{initValue:r.optionData.vocalVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n(ca({key:"vocalVolume",value:Number(a)})),Mn()}})})]})]})]})},ARe=()=>{const t=rt(r=>r.GUI);let e;switch(t.currentMenuTag){case Qt.Save:e=k.jsx(QIe,{});break;case Qt.Load:e=k.jsx(eRe,{});break;case Qt.Option:e=k.jsx(TRe,{});break}return k.jsx(k.Fragment,{children:t.showMenuPanel&&k.jsxs("div",{className:RL.Menu_main,children:[k.jsx("div",{className:RL.Menu_TagContent,children:e}),Qt.Option?null:k.jsx(PIe,{})]})})},IRe="_MainStage_main_9enex_1",RRe="_MainStage_main_container_9enex_10",PRe="_MainStage_bgContainer_9enex_17",ORe="_MainStage_showBgSoftly_9enex_1",kRe="_MainStage_bgContainer_Settled_9enex_27",FRe="_MainStage_oldBgContainer_9enex_37",NRe="_MainStage_oldBgFadeout_9enex_1",LRe="_MainStage_oldBgContainer_Settled_9enex_47",MRe="_pixiContainer_9enex_72",BRe="_chooseContainer_9enex_77",hb={MainStage_main:IRe,MainStage_main_container:RRe,MainStage_bgContainer:PRe,MainStage_showBgSoftly:ORe,MainStage_bgContainer_Settled:kRe,MainStage_oldBgContainer:FRe,MainStage_oldBgFadeout:NRe,MainStage_oldBgContainer_Settled:LRe,pixiContainer:MRe,chooseContainer:BRe};function DRe(){const t=rt(r=>r.userData.optionData.textboxFont);function e(){return Hg(t).with(yl.song,()=>'"", serif').with(yl.lxgw,()=>'"LXGW", serif').with(yl.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function FL(t){switch(t){case 0:return 150;case 1:return 205;case 2:return 240;default:return 205}}const URe="_TextBox_EventHandler_3ooeu_1",jRe="_TextBox_Container_3ooeu_9",$Re="_showSoftly_3ooeu_1",VRe="_TextBox_main_3ooeu_24",GRe="_TextBox_textElement_start_3ooeu_50",HRe="_TextDelayShow_3ooeu_1",XRe="_outer_3ooeu_56",zRe="_inner_3ooeu_65",WRe="_zhanwei_3ooeu_74",YRe="_TextBox_textElement_Settled_3ooeu_79",qRe="_TextBox_showName_3ooeu_84",KRe="_outerName_3ooeu_94",ZRe="_TextBox_showName_avatar_3ooeu_98",JRe="_TextBox_showName_player_3ooeu_104",QRe="_TextBox_ShowName_Background_3ooeu_110",ePe="_miniAvatarContainer_3ooeu_122",tPe="_miniAvatarImg_3ooeu_142",rPe="_nameContainer_3ooeu_147",nPe="_innerName_3ooeu_160",iPe="_line_3ooeu_167",aPe="_line_avatar_3ooeu_175",oPe="_line_hide_3ooeu_179",sPe="_text_3ooeu_183",ar={TextBox_EventHandler:URe,TextBox_Container:jRe,showSoftly:$Re,TextBox_main:VRe,TextBox_textElement_start:GRe,TextDelayShow:HRe,outer:XRe,inner:zRe,zhanwei:WRe,TextBox_textElement_Settled:YRe,TextBox_showName:qRe,outerName:KRe,TextBox_showName_avatar:ZRe,TextBox_showName_player:JRe,TextBox_ShowName_Background:QRe,miniAvatarContainer:ePe,miniAvatarImg:tPe,nameContainer:rPe,innerName:nPe,line:iPe,line_avatar:aPe,line_hide:oPe,text:sPe};function lPe(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:c,miniAvatar:l,showName:u,font:f,textDuration:h,isUseStroke:p,textboxOpacity:d,dialogueMode:m,textAlign:_}=t,v=aU("Stage/TextBox/textbox.scss");ye.useEffect(()=>{function x(){[...document.querySelectorAll(".Textelement_start")].forEach(E=>{E.className=v("TextBox_textElement_Settled",ar.TextBox_textElement_Settled)})}return z.events.textSettle.on(x),()=>{z.events.textSettle.off(x)}},[]);let g=0;const y=e.map((x,b)=>{const w=x.map((E,S)=>{let C=g*r;g++;let T=n.length;return n!==""&&S>=T&&(C=C-T*r),S<T?k.jsx("span",{id:`${C}`,className:v("TextBox_textElement_Settled",ar.TextBox_textElement_Settled),style:{animationDelay:`${C}ms`,animationDuration:`${h}ms`},children:k.jsxs("span",{className:ar.zhanwei,children:[E,k.jsx("span",{className:v("outer",ar.outer),children:E}),p&&k.jsx("span",{className:v("inner",ar.inner),children:E})]})},i+S):k.jsx("span",{"data-text":E,id:`${C}`,className:`${v("TextBox_textElement_start",ar.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${C}ms`,position:"relative"},children:k.jsxs("span",{className:ar.zhanwei,children:[E,k.jsx("span",{className:v("outer",ar.outer),children:E}),p&&k.jsx("span",{className:v("inner",ar.inner),children:E})]})},i+S)});return k.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:w},`text-line-${b}`)});return k.jsx(k.Fragment,{children:a&&k.jsxs("div",{className:ar.TextBox_Container,children:[k.jsx("div",{className:v("TextBox_main",ar.TextBox_main),style:{opacity:`${d/100}`}}),k.jsxs("div",{id:"textBoxMain",className:ar.TextBox_main,style:{fontFamily:f},children:[k.jsxs("div",{id:"miniAvatar",className:v("miniAvatarContainer",ar.miniAvatarContainer),children:[l!==""&&k.jsx("div",{}),l!==""&&k.jsx("img",{className:v("miniAvatarImg",ar.miniAvatarImg),alt:"miniAvatar",src:l})]}),u!==""&&m!=="narrator"&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:v("TextBox_showName",ar.TextBox_showName),style:{opacity:`${d/100}`,fontSize:"200%"},children:k.jsx("div",{style:{opacity:0},children:u.split("").map((x,b)=>k.jsx("span",{style:{position:"relative"},children:k.jsxs("span",{className:ar.zhanwei,children:[x,k.jsx("span",{className:v("outerName",ar.outerName),children:x}),p&&k.jsx("span",{className:v("innerName",ar.innerName),children:x})]})},x+b))})}),k.jsx("div",{className:`${ar.TextBox_showName} ${l?ar.TextBox_showName_avatar:""}`,children:u.split("").map((x,b)=>k.jsx("span",{style:{position:"relative"},children:k.jsxs("span",{className:ar.zhanwei,children:[x,k.jsx("span",{className:v("outerName",ar.outerName),children:x}),p&&k.jsx("span",{className:v("innerName",ar.innerName),children:x})]})},x+b))},u)]}),k.jsx("div",{className:`${ar.line} ${m==="narrator"?ar.line_hide:""} ${l?ar.line_avatar:""}`}),k.jsx("div",{className:v("text",ar.text),style:{flexFlow:"column",overflow:"hidden",textAlign:_||m==="narrator"?"center":"left"},children:y})]})]})})}const U$=navigator.userAgent,uPe=/firefox/i.test(U$),cPe=/^((?!chrome|android).)*safari/i.test(U$),fPe=()=>{const[t,e]=ye.useState(!0);ye.useEffect(()=>{const y=()=>{const x=gm.height,b=gm.width,w=window.innerHeight,E=window.innerWidth,S=w/x,C=E/b,T=E/x,I=w/b;[S,C,T,I].forEach(A=>{A<=.2?e(!1):e(!0)})};return window.addEventListener("resize",y),y(),()=>{window.removeEventListener("resize",y)}},[]);const r=rt(y=>y.stage),n=rt(y=>y.userData),i=w5(n.optionData.textSpeed),a=qde(n.optionData.textSpeed);let o=FL(n.optionData.textSize)+"%";const s=DRe(),c=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;c&&r.showTextSize!==-1&&(o=FL(r.showTextSize)+"%",l=r.showTextSize);const u=Hg(n.optionData.textSize).with(ls.small,()=>3).with(ls.medium,()=>2).with(ls.large,()=>2).default(()=>2),f=j$(r.showText,u),h=r.showName,p=r.currentConcatDialogPrev,d=r.currentDialogKey,m=r.miniAvatar,_=n.optionData.textboxOpacity,v=r.dialogueMode,g=lPe;return k.jsx(g,{textArray:f,isText:c,textDelay:i,showName:h,currentConcatDialogPrev:p,fontSize:o,currentDialogKey:d,isSafari:cPe,isFirefox:uPe,miniAvatar:m,textDuration:a,font:s,textSizeState:l,lineLimit:u,isUseStroke:t,textboxOpacity:_,dialogueMode:v})};function NL(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function j$(t,e,r){return t.split("|").map(o=>dPe(o)).map(o=>{const s=[];return o.forEach((c,l)=>{Hg(c.type).with("SegmentType.String",()=>{const u=hPe(c.value);s.push(...u)}).endsWith("SegmentType.Link",()=>{const u=c.value,f=k.jsxs("ruby",{children:[u.text,k.jsx("rt",{children:u.link})]},l+u.text);s.push(f)})}),s}).slice(0,r?void 0:e)}function hPe(t){if(!t)return[];const e=[];let r="",n=NL(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(""),n=!1;else if(NL(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function dPe(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];r.push({type:"SegmentType.Link",value:{text:i,link:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r}const pPe=()=>{var y;const t=rt(x=>x.stage),e=rt(x=>x.GUI.titleBgm),r=rt(x=>x.GUI.showTitle),n=rt(x=>x.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,c=t.uiSe,l=i*.01*(((y=n.optionData)==null?void 0:y.seVolume)??100)*.01,u=i*.01*(n.optionData.uiSeVolume??50)*.01,f=rt(x=>x.GUI.isEnterGame),[h,p]=ye.useState(""),[d,m]=ye.useState(""),[_,v]=ye.useState(setTimeout(()=>{},0)),g=(x,b,w)=>{w>=0?x.volume=0:x.volume=b;const E=10,S=b/w*E,C=()=>{const T=setTimeout(()=>{x.volume+S>=b?x.volume=b:x.volume+S<=0?(x.volume=0,le.dispatch(lt({key:"bgm",value:{src:"",enter:0,volume:100}}))):(x.volume+=S,C())},E);v(T)};C()};return ye.useEffect(()=>{clearTimeout(_);const x=document.getElementById("currentBgm");x&&(s===0?x.volume=o:g(x,o,s))},[h,o,s]),ye.useEffect(()=>{(async()=>{const b=await Fh(r?e:t.bgm.src);p(b)})()},[r,e,t.bgm.src]),ye.useEffect(()=>{$e.debug(`${o}`)},[o]),ye.useEffect(()=>{$e.debug(`: ${s}`)},[s]),ye.useEffect(()=>{$e.debug(`${a}`);const x=document.getElementById("currentVocal");x&&(x.volume=a.toString())},[a]),ye.useEffect(()=>{if(c==="")return;(async()=>{const b=await Fh(c),w=document.createElement("audio");w.src=b,w.loop=!1,isNaN(u)?($e.error("UI SE Vol is NaN"),w.volume=isNaN(l)?i/100:l/100):w.volume=u,w.play(),w.addEventListener("ended",()=>{w.remove()}),le.dispatch(lt({key:"uiSe",value:""}))})()},[c]),ye.useEffect(()=>{$e.debug(`: ${l}`)},[l]),ye.useEffect(()=>{$e.debug(`: ${u}`)},[u]),ye.useEffect(()=>{$e.debug(`: ${t.playVocal}`),Fh(t.playVocal).then(x=>{m(x)})},[t.playVocal]),k.jsxs("div",{children:[k.jsx("audio",{id:"currentBgm",src:h,loop:!0,autoPlay:f},r.toString()+h),k.jsx("audio",{id:"currentVocal",src:d})]})},vPe=()=>{const t=rt(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),k.jsx("div",{className:Lo.FullScreenPerform_main,style:{width:e,height:r,top:n},children:k.jsx("div",{id:"videoContainer"})})},mPe="_TextBox_EventHandler_449dq_2",gPe="_TextBox_main_449dq_10",_Pe="_showSoftly_449dq_1",yPe="_TextBox_textElement_449dq_38",xPe="_TextBox_textElement_start_449dq_43",bPe="_TextDelayShow_449dq_1",wPe="_TextBox_textElement_Settled_449dq_48",EPe="_TextBox_showName_449dq_52",SPe="_miniAvatarContainer_449dq_68",CPe="_miniAvatarImg_449dq_76",db={TextBox_EventHandler:mPe,TextBox_main:gPe,showSoftly:_Pe,TextBox_textElement:yPe,TextBox_textElement_start:xPe,TextDelayShow:bPe,TextBox_textElement_Settled:wPe,TextBox_showName:EPe,miniAvatarContainer:SPe,miniAvatarImg:CPe},TPe=()=>{const t=rt(o=>o.stage),e=rt(o=>o.userData);ye.useEffect(()=>{});const r=jQ.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let c=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(c=c-l*r),s<l?k.jsx("span",{id:`${c}`,className:db.TextBox_textElement_Settled,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s):k.jsx("span",{id:`${c}`,className:db.TextBox_textElement_start,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s)});return k.jsx("div",{id:"textBoxMain",className:db.TextBox_main,children:k.jsx("div",{style:{fontSize:n},children:a})})};function APe(t){const e=t.bgName;ye.useEffect(()=>{var n,i,a;const r="bg-main";if(e!==""){const o=(n=z.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);o&&o.sourceUrl!==e&&LL(o),(i=z.gameplay.pixiStage)==null||i.addBg(r,e),i0(e),$e.debug(""),setTimeout(()=>{const{duration:s,animation:c}=$o("bg-main","enter",!0);z.gameplay.pixiStage.registerPresetAnimation(c,"bg-main-softin",r,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),s)},0)}else{const o=(a=z.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(r);o&&LL(o)}},[e])}function LL(t){var i,a;(i=z.gameplay.pixiStage)==null||i.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off",(a=z.gameplay.pixiStage)==null||a.removeStageObjectByKey(e);const{duration:r,animation:n}=$o("bg-main-off","exit",!0);z.gameplay.pixiStage.registerAnimation(n,"bg-main-softoff","bg-main-off"),setTimeout(()=>{var o,s;(o=z.gameplay.pixiStage)==null||o.removeAnimation("bg-main-softoff"),(s=z.gameplay.pixiStage)==null||s.removeStageObjectByKey("bg-main-off")},r)}async function IPe(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch file: ${e.status} ${e.statusText}`);const r=await e.arrayBuffer();return new Uint8Array(r)}function RPe(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t;ye.useEffect(()=>{var s;for(const c of a)(s=z.gameplay.pixiStage)==null||s.changeModelMotionByKey(c.target,c.motion)},[a]),ye.useEffect(()=>{var s;for(const c of o)(s=z.gameplay.pixiStage)==null||s.changeModelExpressionByKey(c.target,c.expression)},[o]),ye.useEffect(()=>{var l,u;const s="fig-center",c="fig-center-softin";if(r!==""){const f=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&so(f,c,t.effects),Kf(void 0,s,r,"center"),$e.debug(""),setTimeout(()=>{const{duration:h,animation:p}=$o(s,"enter");z.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{$e.debug("");const f=(u=z.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==r&&so(f,c,t.effects)}},[r]),ye.useEffect(()=>{var l,u;const s="fig-left",c="fig-left-softin";if(e!==""){const f=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==e&&so(f,c,t.effects),Kf(void 0,s,e,"left"),$e.debug(""),setTimeout(()=>{const{duration:h,animation:p}=$o(s,"enter");z.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{$e.debug("");const f=(u=z.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==e&&so(f,c,t.effects)}},[e]),ye.useEffect(()=>{var l,u;const s="fig-right",c="fig-right-softin";if(n!==""){const f=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&so(f,c,t.effects),Kf(void 0,s,n,"right"),$e.debug(""),setTimeout(()=>{const{duration:h,animation:p}=$o(s,"enter");z.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{const f=(u=z.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==n&&so(f,c,t.effects)}},[n]),ye.useEffect(()=>{var c,l,u;for(const f of i){const h=`${f.key}`,p=`${f.key}-softin`;if(f.name!==""){const d=(c=z.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(h);d?d.sourceUrl!==f.name&&(so(d,p,t.effects),Kf(void 0,h,f.name,f.basePosition),$e.debug(`${f.key}`),setTimeout(()=>{const{duration:m,animation:_}=$o(h,"enter");z.gameplay.pixiStage.registerPresetAnimation(_,p,h,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(p),m)},32)):(Kf(void 0,h,f.name,f.basePosition),$e.debug(`${f.key}`),setTimeout(()=>{const{duration:m,animation:_}=$o(h,"enter");z.gameplay.pixiStage.registerPresetAnimation(_,p,h,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(p),m)},32))}else{const d=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);d&&d.sourceUrl!==f.name&&so(d,p,t.effects)}}const s=(u=z.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const f of s)if(!(f.key==="fig-left"||f.key==="fig-center"||f.key==="fig-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(d=>d.key===h)<0){const d=`${f.key}-softin`;so(f,d,t.effects)}}}},[i])}function so(t,e,r){var c,l,u;if((c=z.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),z.gameplay.isFast){$e.info(""),(l=z.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=z.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=$o(i,"exit");z.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=z.gameplay.pixiStage)==null||f.removeAnimation(a),(h=z.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function Kf(t,...e){var n,i;const r=e[1];if(r.endsWith(".json"))return PPe(...e);if(r.endsWith(".skel"))return(n=z.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e);if(r.endsWith(".png"))IPe(r).then(a=>{var o;return(o=z.gameplay.pixiStage)==null?void 0:o.addFigure(...e,OPe(a))});else return(i=z.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function PPe(...t){}function OPe(t){const e=new Uint8Array([137,80,78,71,13,10,26,10]);if(!t.slice(0,8).every((i,a)=>i===e[a]))return!1;const r=new Uint8Array([97,99,84,76]),n=37;return!!t.slice(n,n+4).every((i,a)=>i===r[a])}function kPe(t){const e=t.effects;setTimeout(()=>{FPe(e)},10)}function FPe(t){var r,n,i,a;const e=((r=z.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,c=t.find(u=>u.target===s);if(!(((n=z.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(c){const u=(i=z.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,ML(c.transform))}}else{const u=(a=z.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,ML($C))}}}}function ML(t){if(!t)return{};const{position:e,...r}=t;return{...r,x:e.x,y:e.y}}function NPe(){const t=rt(e=>e.stage);return APe(t),RPe(t),kPe(t),k.jsx("div",{style:{display:"none"}})}const LPe="_introContainer_119k8_1",MPe={introContainer:LPe};function BPe(){return k.jsx("div",{className:MPe.introContainer,id:"introContainer"})}const DPe="_variableNameWrapper_eflox_1",UPe={variableNameWrapper:DPe},jPe=()=>{var r,n;const t=rt(i=>i.stage),e=ye.useMemo(()=>{const i=new Map,a=t.showValues;return a!=null&&a.length&&a.forEach(o=>{i.set(o.key,o.value)}),i},[t]);return k.jsx(k.Fragment,{children:((r=t.showValueList)==null?void 0:r.length)&&((n=t.showValueList)==null?void 0:n.map(i=>i.isShowValueSWitch?k.jsx("div",{className:UPe.variableNameWrapper,style:{position:"fixed",left:i.showValueAxisX+"px",top:i.showValueAxisY+"px"},children:e.get(i.showValueName)||""}):null))||null})};function BL(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function $Pe(t,e,r){!e.controlsVisibility&&BL(t)&&r(at({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!BL(t)&&r(at({component:"controlsVisibility",visibility:!1}))}function VPe(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let pb=null;function GPe(t,e,r,n){VPe(e,r)?(pb&&clearTimeout(pb),n(at({component:"controlsVisibility",visibility:!0})),pb=setTimeout(()=>{n(at({component:"controlsVisibility",visibility:!1}))},1e3)):$Pe(t,r,n)}const HPe=()=>{const t=rt(n=>n.stage),e=rt(n=>n.GUI),r=wr();return Gme(),k.jsxs("div",{className:hb.MainStage_main,children:[k.jsx(vPe,{}),k.jsx(NPe,{}),k.jsx("div",{id:"pixiContianer",className:hb.pixiContainer,style:{zIndex:kI?"-5":void 0}}),k.jsx("div",{id:"chooseContainer",className:hb.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&k.jsx(fPe,{}),e.showTextBox&&t.enableFilm!==""&&k.jsx(TPe,{}),k.jsx(pPe,{}),k.jsx("div",{onClick:()=>{if(!e.showTextBox){r(at({component:"showTextBox",visibility:!0}));return}NT(),an()},onDoubleClick:()=>{z.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&GPe(n,t,e,r)}),k.jsx(BPe,{}),t.isShowValueSWitch&&k.jsx(jPe,{})]})},XPe=()=>{const t=Eo("gaming."),{i18n:e}=Wg(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=on();e.language;const a=rt(u=>u.GUI),o=rt(u=>u.stage),s=wr(),c=(u,f)=>{s(at({component:u,visibility:f}))},l=rt(u=>u.saveData.saveData);if(t("noSaving"),l[0]){const u=l[0];wn.slPreviewMain,wn.imgContainer,u.previewImage,wn.textContainer,u.nowStageState.showName,u.nowStageState.showText}return k.jsx(k.Fragment,{children:a.showTextBox&&o.enableFilm===""&&k.jsxs("div",{className:wn.main,style:{visibility:a.controlsVisibility?"visible":"hidden"},children:[k.jsx("span",{id:"Button_ControlPanel_auto",className:`${wn.singleButton} ${wn.singleButton_auto}`,title:"",onClick:()=>{sU(),n()},onMouseEnter:r,children:k.jsx("span",{className:wn.autoIcon})}),k.jsx("span",{id:"Button_ControlPanel_fast",className:`${wn.singleButton} ${wn.singleButton_fast}`,title:"",onClick:()=>{fU(),n()},onMouseEnter:r,children:k.jsx("span",{className:wn.fastIcon})}),k.jsx("span",{className:wn.singleButton,title:"",onClick:()=>{z.gameplay.isAuto&&Zg(),c("showBacklog",!0),c("showTextBox",!1),n()},onMouseEnter:r,children:k.jsx("span",{className:wn.historyIcon})})]})})},zPe=()=>{var h,p;Eo("gaming.");const{playSeEnter:t,playSeClick:e}=on(),r=rt(d=>d.GUI),n=wr(),[i,a]=ye.useState(!1),[o,s]=ye.useState(!1);let c=ye.useRef();const[l,u]=ye.useState(""),f=ye.useMemo(()=>{let d=[];for(let m=0;m<z.backlogManager.getBacklog().length;m++){const _=z.backlogManager.getBacklog()[m],v=j$(_.currentStageState.showText,3,!0),y=WPe(v).map((b,w)=>k.jsx("div",{children:b.map((E,S)=>E==="<br />"?k.jsx("br",{},`br${S}`):E)},`backlog-line-${w}`)),x=k.jsxs("div",{className:Yn.backlog_item,style:{animationDelay:`${20*(z.backlogManager.getBacklog().length-m)}ms`},children:[k.jsxs("div",{className:Yn.backlog_content_container,children:[k.jsxs("div",{className:Yn.backlog_func_area,children:[k.jsx("div",{className:Yn.backlog_item_content_name,children:_.currentStageState.showName&&`${_.currentStageState.showName}`||""}),_.currentStageState.vocal?k.jsx("div",{onClick:b=>{e(),b.preventDefault(),b.stopPropagation();const w=document.getElementById("backlog_audio_play_element_"+m);if(w){w.currentTime=0;const E=le.getState().userData,S=E.optionData.volumeMain;w.volume=S*.01*E.optionData.vocalVolume*.01,Fh(_.currentStageState.vocal).then(()=>{u(l),w&&(w.onloadeddata=()=>{w.play()})})}},onMouseEnter:t,className:Yn.backlog_item_button_element,children:k.jsx("span",{className:Yn.sound_icon})}):null]}),k.jsx("div",{className:Yn.backlog_item_content,onClick:b=>{e(),Z0e(m),b.preventDefault(),b.stopPropagation()},children:k.jsx("span",{className:Yn.backlog_item_content_text,children:y})})]}),k.jsx("audio",{id:"backlog_audio_play_element_"+m,src:l})]},"backlogItem"+_.currentStageState.showText+_.saveScene.currentSentenceId);d.unshift(x)}return d},[((p=(h=z.backlogManager.getBacklog()[z.backlogManager.getBacklog().length-1])==null?void 0:h.saveScene)==null?void 0:p.currentSentenceId)??0]);return ye.useEffect(()=>{r.showBacklog?(c.current&&clearTimeout(c.current),a(!1),s(!0),setTimeout(()=>{s(!1)},0)):c.current=setTimeout(()=>{a(!0),c.current=void 0},700+80)},[r.showBacklog]),k.jsx(k.Fragment,{children:k.jsxs("div",{className:`
          ${r.showBacklog?Yn.Backlog_main:Yn.Backlog_main_out}
          ${i?Yn.Backlog_main_out_IndexHide:""}
          `,children:[k.jsx("div",{className:Yn.backlog_title,onClick:()=>{$e.info("Rua! Testing")},children:k.jsx("div",{className:Yn.backlog_top_icon,onClick:()=>{e(),n(at({component:"showBacklog",visibility:!1})),n(at({component:"showTextBox",visibility:!0}))},onMouseEnter:t})}),r.showBacklog&&k.jsx("div",{className:`${Yn.backlog_content} ${o?Yn.Backlog_main_DisableScroll:""}`,children:f})]})})};function WPe(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const YPe="_extra_2e79r_2",qPe="_extraTop_2e79r_12",KPe="_backIcon_2e79r_24",ZPe="_mainContainer_2e79r_46",JPe="_mainTab_2e79r_53",QPe="_mainTab_bgm_2e79r_61",eOe="_mainTab_unselect_bgm_2e79r_70",tOe="_mainTab_cg_2e79r_79",rOe="_mainTab_unselect_cg_2e79r_88",nOe="_bgmContainer_2e79r_97",iOe="_bgmListContainer_2e79r_103",aOe="_bgmElement_2e79r_111",oOe="_bgmName_2e79r_122",sOe="_bgm_item_name_2e79r_132",lOe="_bgm_sound_wrapper_2e79r_140",uOe="_bgm_sound_unselect_2e79r_148",cOe="_bgm_sound_select_2e79r_153",fOe="_bgmLocked_2e79r_158",hOe="_bgmUnlocked_2e79r_162",dOe="_footer_2e79r_171",pOe="_footer_page_container_2e79r_181",vOe="_footer_page_indicator_2e79r_186",mOe="_footer_page_icon_checked_2e79r_194",gOe="_footer_page_icon_unchecked_2e79r_199",_Oe="_cgMain_2e79r_212",yOe="_cgContainer_2e79r_217",xOe="_cgElement_2e79r_225",bOe="_cgUnLockElement_2e79r_232",wOe="_unlockedCGImg_2e79r_237",EOe="_cgShowDiv_2e79r_244",SOe="_cgShowDivWarpper_2e79r_253",COe="_cgNav_2e79r_262",TOe="_cgNav_active_2e79r_281",AOe="_showFullContainer_2e79r_291",IOe="_showFullCgMain_2e79r_304",ROe="_fullCgIn_2e79r_1",POe="_Btn_2e79r_325",OOe="_Btn_r_2e79r_339",kOe="_extra_icon_softin_2e79r_1",FOe="_bgmElement_In_2e79r_1",pt={extra:YPe,extraTop:qPe,backIcon:KPe,mainContainer:ZPe,mainTab:JPe,mainTab_bgm:QPe,mainTab_unselect_bgm:eOe,mainTab_cg:tOe,mainTab_unselect_cg:rOe,bgmContainer:nOe,bgmListContainer:iOe,bgmElement:aOe,bgmName:oOe,bgm_item_name:sOe,bgm_sound_wrapper:lOe,bgm_sound_unselect:uOe,bgm_sound_select:cOe,bgmLocked:fOe,bgmUnlocked:hOe,footer:dOe,footer_page_container:pOe,footer_page_indicator:vOe,footer_page_icon_checked:mOe,footer_page_icon_unchecked:gOe,cgMain:_Oe,cgContainer:yOe,cgElement:xOe,cgUnLockElement:bOe,unlockedCGImg:wOe,cgShowDiv:EOe,cgShowDivWarpper:SOe,cgNav:COe,cgNav_active:TOe,showFullContainer:AOe,showFullCgMain:IOe,fullCgIn:ROe,Btn:POe,Btn_r:OOe,extra_icon_softin:kOe,bgmElement_In:FOe},NOe=""+new URL("sound-icon.png",import.meta.url).href,LOe=""+new URL("sound-choose.png",import.meta.url).href,MOe=""+new URL("bgm-locked-bg.png",import.meta.url).href,BOe=""+new URL("bgm-unlock-bg.png",import.meta.url).href,$$=""+new URL("point-active.png",import.meta.url).href,V$=""+new URL("point-default.png",import.meta.url).href;function DOe(){const{playSeClick:t,playSeEnter:e}=on(),[r,n]=ye.useState(1),[i,a]=ye.useState([]),o=rt(d=>d.GUI.titleBgm),s=rt(d=>d.userData.appreciationData),c="Title_BGM";let l=c;const u=s.bgm.length;s.bgm.forEach((d,m)=>{d.url===o&&(l=d.name)});const f=Math.ceil(u/8)||1,h=Ts("");l!==c&&l!==h.value&&h.set(l);const p=wr();return ye.useEffect(()=>{a(s.bgm.slice((r-1)*8,r*8)||[])},[s.bgm,r]),k.jsxs("div",{className:pt.bgmContainer,children:[k.jsxs("div",{className:pt.bgmListContainer,children:[i.map((d,m)=>k.jsxs("div",{onClick:()=>{t(),h.set(d.name),p(Lw({asset:"titleBgm",value:d.url}))},className:pt.bgmElement,onMouseEnter:e,children:[k.jsxs("div",{className:pt.bgmName,children:[k.jsx("div",{className:pt.bgm_item_name,children:d.name}),k.jsx("div",{className:pt.bgm_sound_wrapper,children:k.jsx("img",{src:d.name===h.value?LOe:NOe,alt:"",className:d.name===h.value?pt.bgm_sound_select:pt.bgm_sound_unselect})})]}),k.jsx("img",{src:BOe,className:pt.bgmUnlocked,alt:""})]},d.name)),Array.from({length:8-i.length}).map((d,m)=>k.jsx("div",{className:`${pt.bgmElement}`,style:{cursor:"default"},children:k.jsx("img",{src:MOe,alt:"",className:pt.bgmLocked})},m))]}),k.jsxs("div",{className:pt.footer,children:[k.jsx("div",{className:pt.Btn,onMouseEnter:e,onClick:()=>{t(),r>1&&n(r-1)}}),k.jsx("div",{className:pt.footer_page_container,children:Array.from({length:f}).map((d,m)=>k.jsx("div",{className:pt.footer_page_indicator,onMouseEnter:e,onClick:()=>{t(),n(m+1)},children:k.jsx("img",{src:m+1===r?$$:V$,alt:"",className:m+1===r?pt.footer_page_icon_checked:pt.footer_page_icon_unchecked})},m))}),k.jsx("div",{className:`${pt.Btn} ${pt.Btn_r}`,onMouseEnter:e,onClick:()=>{t(),r!==f&&n(r+1)}})]})]})}function UOe(t){const e=Ts(!1),{playSeEnter:r,playSeClick:n}=on();return k.jsxs(k.Fragment,{children:[e.value&&k.jsx("div",{onClick:()=>{e.set(!e.value),n()},className:pt.showFullContainer,onMouseEnter:r,children:k.jsx("div",{className:pt.showFullCgMain,children:k.jsx("div",{style:{backgroundImage:`url('${t.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),k.jsx("div",{onClick:()=>{e.set(!e.value),n()},onMouseEnter:r,className:`${pt.cgElement} ${pt.cgUnLockElement}`,children:k.jsx("div",{className:pt.unlockedCGImg,style:{background:`url('${t.imgUrl}') no-repeat center center`,backgroundSize:"cover"}})},t.name)]})}const jOe=""+new URL("cg-lock.png",import.meta.url).href;function $Oe(){const t=rt(l=>l.userData.appreciationData),{playSeEnter:e,playSeClick:r}=on(),[n,i]=ye.useState(1),[a,o]=ye.useState([]),s=t.cg.length,c=Math.ceil(s/6)||1;return ye.useEffect(()=>{o(t.cg.slice((n-1)*6,n*6)||[])},[t.cg,n]),k.jsxs("div",{className:pt.cgMain,children:[k.jsxs("div",{className:pt.cgContainer,children:[a.map((l,u)=>k.jsx(UOe,{name:l.name,imgUrl:"./game/background/Ch00/Yf_cg003.png"},u.toString()+l.url)),Array.from({length:6-a.length}).map((l,u)=>k.jsx("div",{className:pt.cgElement,style:{cursor:"default"},children:k.jsx("img",{src:jOe,alt:"",style:{width:"100%"}})},u))]}),k.jsxs("div",{className:pt.footer,children:[k.jsx("div",{className:pt.Btn,onMouseEnter:e,onClick:()=>{r(),n>1&&i(n-1)}}),k.jsx("div",{className:pt.footer_page_container,children:Array.from({length:c}).map((l,u)=>k.jsx("div",{className:pt.footer_page_indicator,onMouseEnter:e,onClick:()=>{r(),i(u+1)},children:k.jsx("img",{src:u+1===n?$$:V$,alt:"",className:u+1===n?pt.footer_page_icon_checked:pt.footer_page_icon_unchecked})},u))}),k.jsx("div",{className:`${pt.Btn} ${pt.Btn_r}`,onMouseEnter:e,onClick:()=>{r(),n!==c&&i(n+1)}})]})]})}const VOe=""+new URL("gallery-bg.webp",import.meta.url).href;function GOe(){const{playSeClick:t,playSeEnter:e}=on(),r=rt(o=>o.GUI.showExtra),n=wr(),[i,a]=ye.useState("bgm");return ye.useEffect(()=>{document.getElementById("currentBgm").pause()},[]),k.jsx(k.Fragment,{children:r&&k.jsxs("div",{className:pt.extra,style:{background:`url(${VOe}) no-repeat center center`,backgroundSize:"cover"},children:[k.jsx("div",{className:pt.extraTop,children:k.jsx("div",{className:pt.backIcon,onClick:()=>{n(at({component:"showExtra",visibility:!1})),t()},onMouseEnter:e})}),k.jsxs("div",{className:pt.mainContainer,children:[k.jsxs("div",{className:pt.mainTab,children:[i==="bgm"?k.jsx("span",{className:pt.mainTab_bgm}):k.jsx("span",{className:pt.mainTab_unselect_bgm,onClick:()=>{a("bgm"),t()},onMouseEnter:e}),i==="cg"?k.jsx("span",{className:pt.mainTab_cg}):k.jsx("span",{className:pt.mainTab_unselect_cg,onClick:()=>{a("cg"),t()},onMouseEnter:e})]}),i==="bgm"?k.jsx(DOe,{}):k.jsx($Oe,{})]})]})})}const HOe="_tag_yghix_2",XOe="_container_yghix_17",zOe="_showContainer_yghix_1",WOe="_singleButton_yghix_33",YOe="_button_text_yghix_37",xn={tag:HOe,container:XOe,showContainer:zOe,singleButton:WOe,button_text:YOe},qOe=()=>{const t=Ts(!1),e=rt(a=>a.stage),r=wr(),n=(a,o)=>{r(at({component:a,visibility:o}))},i=a=>{r(El(a))};return k.jsx(k.Fragment,{children:e.enableFilm!==""&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:xn.tag,onClick:()=>{t.set(!t.value)},children:k.jsx(mIe,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&k.jsxs("div",{className:xn.container,children:[k.jsx("span",{className:xn.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:k.jsx("span",{className:xn.button_text,children:" / BACKLOG"})}),k.jsx("span",{className:xn.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:k.jsx("span",{className:xn.button_text,children:" / REPLAY VOICE"})}),k.jsx("span",{id:"Button_ControlPanel_auto",className:xn.singleButton,onClick:()=>{sU(),t.set(!t.value)},children:k.jsx("span",{className:xn.button_text,children:" / AUTO"})}),k.jsx("span",{id:"Button_ControlPanel_fast",className:xn.singleButton,onClick:()=>{fU(),t.set(!t.value)},children:k.jsx("span",{className:xn.button_text,children:" / FAST"})}),k.jsx("span",{className:xn.singleButton,onClick:()=>{t.set(!t.value),i(Qt.Save),n("showMenuPanel",!0)},children:k.jsx("span",{className:xn.button_text,children:" / SAVE"})}),k.jsx("span",{className:xn.singleButton,onClick:()=>{t.set(!t.value),i(Qt.Load),n("showMenuPanel",!0)},children:k.jsx("span",{className:xn.button_text,children:" / LOAD"})}),k.jsx("span",{className:xn.singleButton,onClick:()=>{t.set(!t.value),i(Qt.Option),n("showMenuPanel",!0)},children:k.jsx("span",{className:xn.button_text,children:" / OPTIONS"})}),k.jsx("span",{className:xn.singleButton,onClick:()=>{t.set(!t.value),d0()},children:k.jsx("span",{className:xn.button_text,children:" / TITLE"})})]})]})})},KOe="_devPanelMain_11x6i_1",ZOe="_devPanelOpener_11x6i_13",DL={devPanelMain:KOe,devPanelOpener:ZOe};function JOe(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function QOe(){function t(){return!!window.location.hash.match(/dev/)}const e=Ts(!1),r=Ts(window.location.hash),n=rt(c=>c.stage);ye.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=Wg(),s=k.jsxs(k.Fragment,{children:[k.jsx("div",{onClick:()=>JOe(),children:"Save PIXI Screenshot"}),k.jsxs("div",{children:["Current Language:",o.language]}),k.jsx("div",{onClick:()=>{var c;return(c=z.gameplay.pixiStage)==null?void 0:c.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),k.jsx("div",{children:"Stage State"}),k.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return k.jsxs(k.Fragment,{children:[i&&e.value&&k.jsxs("div",{className:DL.devPanelMain,children:[k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),k.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),k.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&k.jsx("div",{onClick:()=>e.set(!0),className:DL.devPanelOpener,children:"Open Dev Panel"})]})}function e3e(t){return Jc[t]}function t3e(){const{i18n:t}=Wg(),e=uf(n=>n.userData),r=wr();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??Jc.zhCn,o=e3e(a);t.changeLanguage(o),r(ca({key:"language",value:a})),$e.info(": "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&Mn()}}const r3e="_trans_8uz61_2",n3e="_langWrapper_8uz61_10",i3e="_lang_8uz61_10",a3e="_langSelect_8uz61_29",o3e="_langSelectButton_8uz61_35",Zf={trans:r3e,langWrapper:n3e,lang:i3e,langSelect:a3e,langSelectButton:o3e};function s3e(){const t=t3e(),[e,r]=ye.useState(!1);ye.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))||"0"?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return k.jsx(k.Fragment,{children:e&&k.jsx("div",{className:Zf.trans,children:k.jsxs("div",{className:Zf.langWrapper,children:[k.jsx("div",{className:Zf.lang,children:"LANGUAGE SELECT"}),k.jsx("div",{className:Zf.langSelect,children:Object.keys(fO).map(i=>k.jsx("div",{className:Zf.langSelectButton,onClick:()=>n(Jc[i]),children:fO[i]},i))})]})})})}const l3e=()=>{const t=rt(n=>n.GUI),[e,r]=ye.useState(!1);return ye.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),null};function u3e(){const t=rt(i=>i.userData),e=rt(i=>i.GUI);wr();const r=t.optionData.fullScreen,n=e.isEnterGame;ye.useEffect(()=>{switch(r){case ja.on:{n&&(document.documentElement.requestFullscreen(),$u&&$u.lock(["Escape","F11"]));break}case ja.off:{document.fullscreenElement&&(document.exitFullscreen(),$u&&$u.unlock());break}}},[r])}const c3e="_gameMenuPanelWrapper_1bdvx_1",f3e="_gameMenuPanel_1bdvx_1",h3e="_menuButton_1bdvx_12",d3e="_gameMenuPanelContentWrapper_1bdvx_26",p3e="_mask_1bdvx_34",v3e="_gameMenuPanelContent_1bdvx_26",m3e="_buttonswrapper_1bdvx_54",g3e="_button_1bdvx_54",na={gameMenuPanelWrapper:c3e,gameMenuPanel:f3e,menuButton:h3e,gameMenuPanelContentWrapper:d3e,mask:p3e,gameMenuPanelContent:v3e,buttonswrapper:m3e,button:g3e},_3e=()=>{const t=Eo("gaming."),{playSeEnter:e,playSeClick:r,playSeDialogOpen:n}=on(),i=rt(_=>_.GUI),[a,o]=ye.useState(!1);ye.useEffect(()=>{o(i.isShowGameMenu)},[i.isShowGameMenu]);const s=wr(),c=(_,v)=>{s(at({component:_,visibility:v}))},l=_=>{s(El(_))},u=()=>{r(),c("isShowGameMenu",!0)},f=()=>{r(),c("isShowGameMenu",!1)},h=()=>{r(),l(Qt.Save),c("isShowGameMenu",!1),c("showMenuPanel",!0)},p=()=>{l(Qt.Load),c("isShowGameMenu",!1),c("showMenuPanel",!0),r()},d=()=>{l(Qt.Option),c("isShowGameMenu",!1),c("showMenuPanel",!0),r()},m=()=>{n(),FI({title:t("buttons.quitTips"),leftText:t("$common.cancel"),rightText:t("$common.confirm"),leftFunc:()=>{},rightFunc:()=>{c("isShowGameMenu",!1),d0()}})};return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:na.gameMenuPanel,children:k.jsx("div",{className:na.menuButton,onClick:u,onMouseEnter:e})}),a&&k.jsxs("div",{className:na.gameMenuPanelContentWrapper,children:[k.jsx("div",{className:na.mask}),k.jsx("div",{className:na.gameMenuPanelContent,children:k.jsxs("div",{className:na.buttonswrapper,children:[k.jsx("span",{className:na.button,onMouseEnter:e,onClick:f,children:t("buttons.backToGame")}),k.jsx("span",{className:na.button,onMouseEnter:e,onClick:h,children:t("buttons.preserve")}),k.jsx("span",{className:na.button,onMouseEnter:e,onClick:p,children:t("buttons.read")}),k.jsx("span",{className:na.button,onMouseEnter:e,onClick:d,children:t("buttons.setting")}),k.jsx("span",{className:na.button,onMouseEnter:e,onClick:m,children:t("buttons.backToTitle")})]})})]})]})},y3e="_Loading_container_4mfnk_2",x3e="_spin_4mfnk_1",b3e={Loading_container:y3e,spin:x3e};function w3e(){const[t,e]=ye.useState(!1);return ye.useEffect(()=>window.pubsub.subscribe("loading",({loading:n})=>{e(n)}),[]),t?k.jsx("div",{className:b3e.Loading_container,children:k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"116",height:"116",viewBox:"0 0 116 116",fill:"none",children:[k.jsxs("g",{filter:"url(#filter0_f_44_50)",children:[k.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"})]}),k.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),k.jsx("defs",{children:k.jsxs("filter",{id:"filter0_f_44_50",x:"0.5",y:"0.5",width:"115",height:"115",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[k.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),k.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),k.jsx("feGaussianBlur",{stdDeviation:"15",result:"effect1_foregroundBlur_44_50"})]})})]})}):null}const E3e="_storyLine_41dkd_2",S3e="_storyLine_header_41dkd_11",C3e="_goBack_41dkd_18",T3e="_storyLine_content_41dkd_30",A3e="_storyLine_item_41dkd_38",I3e="_info_card_41dkd_47",R3e="_playButton_icon_41dkd_66",P3e="_name_41dkd_83",Fo={storyLine:E3e,storyLine_header:S3e,goBack:C3e,storyLine_content:T3e,storyLine_item:A3e,info_card:I3e,playButton_icon:R3e,name:P3e},O3e=()=>{const{playSeClick:t,playSeEnter:e}=on(),r=wr(),n=rt(l=>l.GUI),i=rt(l=>l.stage),a=rt(l=>l.saveData.allStorylineData);ye.useEffect(()=>{wT(),n.showStoryLine&&r(nr.setShowStoryline(!1))},[n.showStoryLine]);const o=()=>{t(),d0(),r(Mw(!1))},s=(l,u)=>{l.stopPropagation(),r(Mw(!1)),IT(u.videoData)};function c(l){return zr(l,Xr.ui)}return k.jsx(k.Fragment,{children:n.showStoryLine&&k.jsxs("div",{className:Fo.storyLine,children:[k.jsx("div",{className:Fo.storyLine_header,children:k.jsx("span",{className:Fo.goBack,onClick:o,onMouseEnter:e})}),k.jsx("div",{className:Fo.storyLine_content,style:{width:i.storyLineBgX?ju(i.storyLineBgX)+"px":"100%",height:Number(i.storyLineBgY)>720?ju(i.storyLineBgY)+"px":"100%",backgroundImage:`url("${i.storyLineBg}")`,backgroundSize:i.storyLineBgX&&i.storyLineBgY&&`${ju(i.storyLineBgX)}px ${ju(i.storyLineBgY)}px`},children:(a==null?void 0:a.map((l,u)=>{const{name:f,thumbnailUrl:h,x:p,y:d,isUnlock:m,isHideName:_}=l.storyLine;return m?k.jsx("div",{className:Fo.storyLine_item,style:h?{top:`${d}px`,left:`${p}px`,backgroundImage:`url("${c(h)}")`}:{},onClick:v=>s(v,l),children:k.jsxs("div",{className:Fo.info_card,children:[k.jsx("span",{className:Fo.playButton_icon,style:{width:_?"100%":"50%"}}),_?null:k.jsx("span",{className:Fo.name,children:f})]})},`storyLine-${u}`):null}))??null})]})})},k3e="_achievement_xvs7w_1",F3e="_achievement_header_xvs7w_12",N3e="_goback_xvs7w_20",L3e="_achievement_content_xvs7w_32",M3e="_achievement_current_xvs7w_39",B3e="_text_xvs7w_50",D3e="_number_xvs7w_55",U3e="_pregessBar_xvs7w_60",j3e="_pregressBar_inner_xvs7w_68",$3e="_achievement_content_bg_xvs7w_76",V3e="_achievement_list_xvs7w_84",G3e="_achievement_item_xvs7w_88",H3e="_unlockname_xvs7w_103",X3e="_ripple_xvs7w_120",z3e="_info_card_xvs7w_123",W3e="_condition_xvs7w_155",Y3e="_condition_bg_active_xvs7w_164",q3e="_time_xvs7w_167",K3e="_description_xvs7w_168",Z3e="_info_card_position_right_xvs7w_173",J3e="_achievement_item_bg_active_xvs7w_177",jr={achievement:k3e,achievement_header:F3e,goback:N3e,achievement_content:L3e,achievement_current:M3e,text:B3e,number:D3e,pregessBar:U3e,pregressBar_inner:j3e,achievement_content_bg:$3e,achievement_list:V3e,achievement_item:G3e,unlockname:H3e,ripple:X3e,"ripple-effect":"_ripple-effect_xvs7w_1",info_card:z3e,condition:W3e,condition_bg_active:Y3e,time:q3e,description:K3e,info_card_position_right:Z3e,achievement_item_bg_active:J3e},Q3e=()=>{var d,m;const{playSeClick:t,playSeEnter:e}=on(),r=rt(_=>_.GUI),n=rt(_=>_.stage),i=rt(_=>_.saveData),a=wr(),[o,s]=ye.useState({unlocked:0,allTotal:0,currentProgress:"0%"});ye.useEffect(()=>{r.showAchievement&&(le.dispatch(nr.setIsShowUnlock(!1)),c())},[r.showAchievement]);async function c(){const _=zr(fs.Achieve,Xr.scene),v=await Ni(_);await z.sceneManager.setCurrentScene(v,fs.Achieve,_),setTimeout(()=>{l()},100)}async function l(){var x;const _=le.getState().saveData.allUnlockAchieveList,v=((x=le.getState().saveData.unlockAchieveData)==null?void 0:x.length)??0,g=_.length||0,y=(v/g*100).toFixed(2)+"%";s({unlocked:v,allTotal:g,currentProgress:y})}const u=_=>zr(_,Xr.ui),f=(_,v)=>{let g=parseFloat(v==null?void 0:v.replace(/[^0-9.]/g,""));return _+500>=g},h=(_,v)=>{let g=parseFloat(v==null?void 0:v.replace(/[^0-9.]/g,""));return _>=g?g-100:_},p=()=>{t(),d0(),a(at({component:"showAchievement",visibility:!1}))};return k.jsx(k.Fragment,{children:r.showAchievement&&k.jsxs("div",{className:jr.achievement,children:[k.jsx("div",{className:jr.achievement_header,children:k.jsx("span",{className:jr.goback,onClick:p,onMouseEnter:e})}),k.jsx("div",{className:jr.achievement_content,children:k.jsxs("div",{className:jr.achievement_current,children:[k.jsx("span",{className:jr.text,children:""}),k.jsx("span",{className:jr.number,children:`${o.unlocked}/${o.allTotal}`}),k.jsx("span",{className:jr.pregessBar,children:k.jsx("span",{className:jr.pregressBar_inner,style:{width:o.currentProgress}})})]})}),k.jsx("div",{className:jr.achievement_content_bg,style:{width:n.achieveBgX,backgroundImage:`url("${n.achieveBg}")`,backgroundSize:n.achieveBgX&&n.achieveBgY&&`${ju(n.achieveBgX)}px ${ju(n.achieveBgY)}px`},children:((d=i.allUnlockAchieveList)==null?void 0:d.length)>0&&k.jsx("div",{className:jr.achievement_list,children:((m=i.allUnlockAchieveList)==null?void 0:m.map(({unlockname:_,x:v,y:g,url:y,isShowUnlock:x,saveTime:b,condition:w},E)=>k.jsxs("div",{className:`${jr.achievement_item} ${x?jr.achievement_item_bg_active:""}`,style:{top:`${g}px`,left:`${h(v,n.achieveBgX)}px`,backgroundImage:`url("${x&&u(y)}")`},children:[x&&k.jsx("div",{className:jr.ripple}),x&&k.jsx("span",{className:jr.unlockname,children:_}),k.jsxs("div",{className:`${jr.info_card} ${f(v,n.achieveBgX)?jr.info_card_position_right:""}`,children:[w&&k.jsx("span",{className:`${jr.condition} ${x?jr.condition_bg_active:""}`,children:w}),b&&k.jsx("span",{className:jr.time,children:`${b}`}),k.jsxs("span",{className:jr.description,children:[`${Math.floor(Math.random()*101)}%`,""]})]})]},`unlockAchieveItem-${E}`)))??null})})]})})};var _m=(t=>(t.Video="video",t.Image="image",t))(_m||{});const e4e=[{name:"Una",pictureUrl:"",height:"168cm",weight:"48kg",bustSize:"90cm",waistSize:"58cm",hipSize:"86cm",description:"300300300300300300300300300300300300300300300",contentList:[{type:"video",url:"https://videos.pexels.com/video-files/26957373/12036862_2560_1440_25fps.mp4",thumbnailUrl:"http://gips0.baidu.com/it/u=3560029307,576412274&fm=3028&app=3028&f=JPEG&fmt=auto?w=960&h=1280"},{type:"video",url:"https://videos.pexels.com/video-files/7204909/7204909-sd_360_640_30fps.mp4",thumbnailUrl:"http://gips2.baidu.com/it/u=3944689179,983354166&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"}]},{name:"Nanyi",pictureUrl:"",height:"175cm",weight:"45kg",bustSize:"95cm",waistSize:"54cm",hipSize:"85cm",description:"300300300300300300300300300300300300300300300",contentList:[{type:"video",url:"https://videos.pexels.com/video-files/26957373/12036862_2560_1440_25fps.mp4",thumbnailUrl:"http://gips0.baidu.com/it/u=3560029307,576412274&fm=3028&app=3028&f=JPEG&fmt=auto?w=960&h=1280"},{type:"video",url:"https://videos.pexels.com/video-files/7204909/7204909-sd_360_640_30fps.mp4",thumbnailUrl:"http://gips2.baidu.com/it/u=3944689179,983354166&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"}]},{name:"Bonni",pictureUrl:"",height:"172cm",weight:"47kg",bustSize:"93cm",waistSize:"55cm",hipSize:"88cm",description:"300300300300300300300300300300300300300300300",contentList:[{type:"video",url:"https://videos.pexels.com/video-files/26957373/12036862_2560_1440_25fps.mp4",thumbnailUrl:"http://gips0.baidu.com/it/u=3560029307,576412274&fm=3028&app=3028&f=JPEG&fmt=auto?w=960&h=1280"},{type:"video",url:"https://videos.pexels.com/video-files/7204909/7204909-sd_360_640_30fps.mp4",thumbnailUrl:"http://gips2.baidu.com/it/u=3944689179,983354166&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"},{type:"image",url:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg",thumbnailUrl:"https://wx2.sinaimg.cn/orj360/006TJIxply1hriwi6kxvrj31401e01kx.jpg"},{type:"image",url:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg",thumbnailUrl:"https://wx4.sinaimg.cn/large/002diGk7ly1hrkdnwdu4zj60hi09uq3s02.jpg"},{type:"image",url:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load",thumbnailUrl:"https://images.pexels.com/photos/19640282/pexels-photo-19640282.jpeg?auto=compress&cs=tinysrgb&w=800&lazy=load"}]}],t4e="_beautyGuideImageDialog_1utrw_1",r4e="_mark_1utrw_10",n4e="_content_1utrw_21",i4e="_imgWrapper_1utrw_33",a4e="_fade_1utrw_1",o4e="_btnsWrapper_1utrw_45",s4e="_btn_1utrw_45",l4e="_btn_prev_disabled_1utrw_64",u4e="_btn_next_disabled_1utrw_65",c4e="_btn_txt_1utrw_72",ia={beautyGuideImageDialog:t4e,mark:r4e,content:n4e,imgWrapper:i4e,fade:a4e,btnsWrapper:o4e,btn:s4e,btn_prev_disabled:l4e,btn_next_disabled:u4e,btn_txt:c4e},f4e=t=>{var f;const e=wr(),{playSeClick:r,playSeEnter:n}=on(),[i,a]=ye.useState((t==null?void 0:t.imgUrl)??""),[o,s]=ye.useState(0);ye.useEffect(()=>{var h;if(((h=t.imgList)==null?void 0:h.length)>0){const p=t.imgList.findIndex(d=>d.url===t.imgUrl);p>-1&&s(p)}},[t.imgList]);const c=()=>{r(),e(at({component:"showBeautyGuideImageDialog",visibility:!1}))},l=()=>{r();const h=o-1;h<0||(s(h),a(t.imgList[h].url))},u=()=>{r();const h=o+1;h>t.imgList.length-1||(s(h),a(t.imgList[h].url))};return k.jsxs("div",{className:ia.beautyGuideImageDialog,children:[k.jsx("div",{className:ia.mark,onClick:c}),k.jsxs("div",{className:ia.content,children:[k.jsx("div",{className:ia.imgWrapper,children:t.imgList&&t.imgList.map((h,p)=>h.type===_m.Image&&p===o?k.jsx("img",{src:h.url,className:ia.transitionImage},`img-${p}`):null)}),k.jsxs("div",{className:ia.btnsWrapper,children:[k.jsx("span",{className:`${ia.btn} ${o<1?ia.btn_prev_disabled:""}`,onMouseEnter:n,onClick:l,children:""}),k.jsxs("span",{className:ia.btn_txt,children:[o+1,"/",((f=t.imgList)==null?void 0:f.length)??0,""]}),k.jsx("span",{className:`${ia.btn} ${o+1>=t.imgList.length?ia.btn_next_disabled:""}`,onMouseEnter:n,onClick:u,children:""})]})]})]})},h4e="_beautyGuideDetail_main_140wh_2",d4e="_beautyGuideDetail_left_140wh_16",p4e="_header_140wh_24",v4e="_goback_140wh_31",m4e="_title_140wh_45",g4e="_pictureUrl_140wh_49",_4e="_personal_info_140wh_60",y4e="_name_140wh_64",x4e="_info_140wh_71",b4e="_beautyGuideDetail_right_140wh_89",w4e="_contentWrapper_140wh_96",E4e="_content_140wh_96",S4e="_content_img_140wh_109",C4e="_thumbnailWrapper_140wh_120",T4e="_thumbnail_box_140wh_131",A4e="_video_mark_140wh_157",I4e="_desc_text_140wh_168",$r={beautyGuideDetail_main:h4e,beautyGuideDetail_left:d4e,header:p4e,goback:v4e,title:m4e,pictureUrl:g4e,personal_info:_4e,name:y4e,info:x4e,beautyGuideDetail_right:b4e,contentWrapper:w4e,content:E4e,content_img:S4e,thumbnailWrapper:C4e,thumbnail_box:T4e,video_mark:A4e,desc_text:I4e},R4e=t=>{var h,p,d,m,_,v,g,y,x,b;const e=wr(),{playSeClick:r,playSeEnter:n}=on(),i=rt(w=>w.GUI),[a,o]=ye.useState(null),[s,c]=ye.useState("");ye.useEffect(()=>{var E;const w=t.info;w!=null&&w.contentList&&((E=w==null?void 0:w.contentList)==null?void 0:E.length)>0&&o(w.contentList[0])},[t]);const l=ye.useMemo(()=>{var S;let w=[];const E=t.info;return E!=null&&E.contentList&&((S=E==null?void 0:E.contentList)==null?void 0:S.length)>0&&(w=E.contentList.filter(C=>C.type===_m.Image)),w},[]),u=()=>{r(),e(at({component:"showBeautyGuideDetail",visibility:!1}))},f=w=>{r(),c(w),e(at({component:"showBeautyGuideImageDialog",visibility:!0}))};return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:$r.beautyGuideDetail_main,children:[k.jsxs("div",{className:$r.beautyGuideDetail_left,children:[k.jsxs("div",{className:$r.header,children:[k.jsx("span",{className:$r.goback,onClick:u,onMouseEnter:n}),k.jsx("span",{className:$r.title,children:""})]}),k.jsx("div",{className:$r.pictureUrl,children:k.jsx("img",{src:((h=t.info)==null?void 0:h.pictureUrl)??"",alt:""})}),k.jsxs("div",{className:$r.personal_info,children:[k.jsx("h3",{className:$r.name,children:((p=t.info)==null?void 0:p.name)??""}),k.jsxs("div",{className:$r.info,children:[k.jsx("span",{children:""}),k.jsx("span",{children:((d=t.info)==null?void 0:d.height)??"-"})]}),k.jsxs("div",{className:$r.info,children:[k.jsx("span",{children:""}),k.jsx("span",{children:((m=t.info)==null?void 0:m.weight)??"-"})]}),k.jsxs("div",{className:$r.info,children:[k.jsx("span",{children:""}),k.jsx("span",{children:((_=t.info)==null?void 0:_.bustSize)??"-"})]}),k.jsxs("div",{className:$r.info,children:[k.jsx("span",{children:""}),k.jsx("span",{children:((v=t.info)==null?void 0:v.waistSize)??"-"})]}),k.jsxs("div",{className:$r.info,children:[k.jsx("span",{children:""}),k.jsx("span",{children:((g=t.info)==null?void 0:g.hipSize)??"-"})]})]})]}),k.jsxs("div",{className:$r.beautyGuideDetail_right,children:[k.jsxs("div",{className:$r.contentWrapper,children:[k.jsx("div",{className:$r.content,children:a&&k.jsxs(k.Fragment,{children:[a.type==="video"&&k.jsx("video",{controls:!0,autoPlay:!0,loop:!0,muted:!0,children:k.jsx("source",{src:a.url,type:"video/mp4"})},a.url),a.type==="image"&&k.jsx("img",{className:$r.content_img,src:a.url,onClick:()=>{f(a.url)}})]})}),k.jsx("div",{className:$r.thumbnailWrapper,children:k.jsx("div",{children:((x=(y=t.info)==null?void 0:y.contentList)==null?void 0:x.map((w,E)=>k.jsxs("div",{className:$r.thumbnail_box,onClick:()=>{o(w)},children:[k.jsx("img",{src:w.thumbnailUrl,alt:""}),w.type===_m.Video&&k.jsx("div",{className:$r.video_mark,children:k.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4276",width:"48",height:"48",children:k.jsx("path",{fill:"#e6e6e6",d:"M315.453793 986.509241Q405.963034 1024 512 1024t196.546207-37.490759q90.509241-37.490759 165.490759-112.463448 74.981517-74.990345 112.472275-165.499586Q1024 618.036966 1024 512t-37.490759-196.546207q-37.490759-90.509241-112.463448-165.490759-74.990345-74.981517-165.499586-112.472275Q618.036966 0 512 0T315.453793 37.490759q-90.509241 37.490759-165.490759 112.463448-74.981517 74.990345-112.472275 165.499586Q0 405.963034 0 512t37.490759 196.546207q37.490759 90.518069 112.463448 165.490759 74.981517 74.981517 165.490759 112.472275z m365.982897-65.447724Q603.409655 953.37931 512 953.37931q-91.409655 0-169.43669-32.317793-78.035862-32.317793-142.66262-96.962207-64.644414-64.635586-96.962207-142.653793Q70.62069 603.400828 70.62069 512t32.317793-169.43669q32.317793-78.027034 96.962207-142.66262 64.635586-64.635586 142.653793-96.962207Q420.599172 70.62069 512 70.62069t169.43669 32.308965v0.008828q78.027034 32.317793 142.66262 96.962207 64.635586 64.635586 96.962207 142.653793Q953.37931 420.599172 953.37931 512t-32.317793 169.43669q-32.317793 78.027034-96.962207 142.66262-64.635586 64.644414-142.653793 96.962207h-0.008827z m-249.979587-650.504827l282.394483 221.007448a25.864828 25.864828 0 0 1 0 40.871724l-282.394483 221.016276c-17.390345 13.594483-43.04331 1.412414-43.04331-20.44469V290.992552c0-21.865931 25.661793-34.048 43.04331-20.44469z"})})})]},`thumbnail-${E}`)))??null})})]}),k.jsx("div",{className:$r.desc_text,children:k.jsx("span",{children:((b=t.info)==null?void 0:b.description)??""})})]})]}),i.showBeautyGuideImageDialog&&k.jsx(f4e,{imgUrl:s,imgList:l})]})},P4e="_beautyGuide_main_157np_1",O4e="_beautyGuide_header_157np_15",k4e="_goback_157np_22",F4e="_title_157np_35",N4e="_beautyGuide_content_157np_41",L4e="_item_157np_48",xu={beautyGuide_main:P4e,beautyGuide_header:O4e,goback:k4e,title:F4e,beautyGuide_content:N4e,item:L4e},M4e=()=>{const t=wr(),e=rt(c=>c.GUI),{playSeClick:r,playSeEnter:n}=on(),[i,a]=ye.useState(null),o=()=>{r(),a(null),t(at({component:"showBeautyGuide",visibility:!1}))},s=c=>{r(),a(c),t(at({component:"showBeautyGuideDetail",visibility:!0}))};return k.jsxs(k.Fragment,{children:[e.showBeautyGuide&&k.jsxs("div",{className:xu.beautyGuide_main,children:[k.jsxs("div",{className:xu.beautyGuide_header,children:[k.jsx("span",{className:xu.goback,onClick:o,onMouseEnter:n}),k.jsx("span",{className:xu.title,children:""})]}),k.jsx("div",{className:xu.beautyGuide_content,children:e4e.map((c,l)=>k.jsx("div",{className:xu.item,onClick:()=>s(c),onMouseEnter:n,children:k.jsx("img",{src:c.pictureUrl})},`${c.name}$-${l}`))})]}),e.showBeautyGuideDetail&&k.jsx(R4e,{info:i})]})},B4e="_modalR18_main_11s2u_1",D4e="_footer_11s2u_13",UL={modalR18_main:B4e,footer:D4e},U4e=""+new URL("r18-exit-btn-default.png",import.meta.url).href,j4e=""+new URL("r18-exit-btn-active.png",import.meta.url).href,$4e=""+new URL("r18-confirm-btn-default.png",import.meta.url).href,V4e=""+new URL("r18-confirm-btn-active.png",import.meta.url).href,G4e=()=>{Eo("r18.");const t=wr(),e=rt(d=>d.GUI),{playSeClick:r,playSeEnter:n}=on(),[i,a]=ye.useState(!1),[o,s]=ye.useState(!1),[c,l]=ye.useState({width:void 0,height:void 0,opacity:0}),[u,f]=ye.useState({width:void 0,height:void 0,opacity:0}),h=()=>{r(),t(U5(!1))},p=()=>{r(),window.location.href="/"};return k.jsx(k.Fragment,{children:e.isShowR18Modal&&e.openR18Modal&&k.jsx("div",{className:UL.modalR18_main,children:k.jsxs("div",{className:UL.footer,children:[k.jsx("div",{id:"exitButton",children:k.jsx("img",{src:i?j4e:U4e,onClick:p,onMouseEnter:()=>{a(!0),n()},onMouseLeave:()=>{a(!1)},onLoad:d=>{l({width:d.target.naturalWidth/.5,height:d.target.naturalHeight/.5,opacity:1})},style:c})}),k.jsx("div",{id:"confirmButton",children:k.jsx("img",{src:o?V4e:$4e,onClick:h,onMouseEnter:()=>{s(!0),n()},onMouseLeave:()=>{s(!1)},onLoad:d=>{f({width:d.target.naturalWidth/.5,height:d.target.naturalHeight/.5,opacity:1})},style:u})})]})})})};function H4e(){return ye.useEffect(()=>{JAe()},[]),u3e(),k.jsxs("div",{className:"App",children:[k.jsx(w3e,{}),k.jsx(s3e,{}),k.jsx(HPe,{}),k.jsx(_3e,{}),k.jsx(XPe,{}),k.jsx(qOe,{}),k.jsx(zPe,{}),k.jsx(ige,{}),k.jsx(cge,{}),k.jsx(GOe,{}),k.jsx(ARe,{}),k.jsx(RIe,{}),k.jsx(l3e,{}),k.jsx(QOe,{}),k.jsx(O3e,{}),k.jsx(Q3e,{}),k.jsx(M4e,{}),k.jsx(G4e,{})]})}function ps(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZS(t,e)}function x_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function p0(t,e){if(e&&(Tn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ps(t)}function qa(t){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qa(t)}function X4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z4e(t){return z5(t)||X4e(t)||W5(t)||Y5()}function jL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var W4e={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},Y4e=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xa(this,t),this.init(e,r)}return ba(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||W4e,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,$L($L({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),Ma=new Y4e,Rs=function(){function t(){xa(this,t),this.observers={}}return ba(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(c){c.apply(c,[r].concat(i))})}}}]),t}();function Jf(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function VL(t){return t==null?"":""+t}function q4e(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function NI(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function GL(t,e,r){var n=NI(t,e,Object),i=n.obj,a=n.k;i[a]=r}function K4e(t,e,r,n){var i=NI(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function ym(t,e){var r=NI(t,e),n=r.obj,i=r.k;if(n)return n[i]}function Z4e(t,e,r){var n=ym(t,r);return n!==void 0?n:ym(e,r)}function G$(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):G$(t[n],e[n],r):t[n]=e[n]);return t}function bu(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var J4e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Q4e(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return J4e[e]}):t}var b_=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,eke=[" ",",","?","!",";"];function tke(t,e,r){e=e||"",r=r||"";var n=eke.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function xm(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),c=i[s];c===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),c=i[s];if(c===void 0)return;if(c===null)return null;if(e.endsWith(s)){if(typeof c=="string")return c;if(s&&typeof c[s]=="string")return c[s]}var l=n.slice(a+o).join(r);return l?xm(c,l,r):void 0}i=i[n[a]]}return i}}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rke(t){var e=nke();return function(){var n=qa(t),i;if(e){var a=qa(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return p0(this,i)}}function nke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ike=function(t){x_(r,t);var e=rke(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return xa(this,r),i=e.call(this),b_&&Rs.call(ps(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return ba(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(c?o.split(c):o)),i.indexOf(".")>-1&&(u=i.split("."));var f=ym(this.data,u);return f||!l||typeof o!="string"?f:xm(this.data&&this.data[i]&&this.data[i][a],o,c)}},{key:"addResource",value:function(i,a,o,s){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,u=[i,a];o&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split("."),s=a,a=u[1]),this.addNamespaces(a),GL(this.data,u,s),c.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in o)(typeof o[c]=="string"||Object.prototype.toString.apply(o[c])==="[object Array]")&&this.addResource(i,a,c,o[c],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var f=ym(this.data,u)||{};s?G$(f,o,c):f=xp(xp({},f),o),GL(this.data,u,f),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?xp(xp({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Rs),H$={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ake(t){var e=oke();return function(){var n=qa(t),i;if(e){var a=qa(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return p0(this,i)}}function oke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var zL={},WL=function(t){x_(r,t);var e=ake(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return xa(this,r),i=e.call(this),b_&&Rs.call(ps(i)),q4e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,ps(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Ma.create("translator"),i}return ba(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!tke(i,o,s);if(l&&!u){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:c};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(c=h.shift()),i=h.join(s)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,a,o){var s=this;if(Tn(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),Tn(a)==="object"&&(a=zn({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),f=u.key,h=u.namespaces,p=h[h.length-1],d=a.lng||this.language,m=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(m){var _=a.nsSeparator||this.options.nsSeparator;return c?{res:"".concat(p).concat(_).concat(f),usedKey:f,exactUsedKey:f,usedLng:d,usedNS:p}:"".concat(p).concat(_).concat(f)}return c?{res:f,usedKey:f,exactUsedKey:f,usedLng:d,usedNS:p}:f}var v=this.resolve(i,a),g=v&&v.res,y=v&&v.usedKey||f,x=v&&v.exactUsedKey||f,b=Object.prototype.toString.apply(g),w=["[object Number]","[object Function]","[object RegExp]"],E=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,C=typeof g!="string"&&typeof g!="boolean"&&typeof g!="number";if(S&&g&&C&&w.indexOf(b)<0&&!(typeof E=="string"&&b==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,g,zn(zn({},a),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return c?(v.res=T,v):T}if(l){var I=b==="[object Array]",A=I?[]:{},R=I?x:y;for(var O in g)if(Object.prototype.hasOwnProperty.call(g,O)){var F="".concat(R).concat(l).concat(O);A[O]=this.translate(F,zn(zn({},a),{joinArrays:!1,ns:h})),A[O]===F&&(A[O]=g[O])}g=A}}else if(S&&typeof E=="string"&&b==="[object Array]")g=g.join(E),g&&(g=this.extendTranslation(g,i,a,o));else{var N=!1,$=!1,q=a.count!==void 0&&typeof a.count!="string",K=r.hasDefaultValue(a),G=q?this.pluralResolver.getSuffix(d,a.count,a):"",L=a["defaultValue".concat(G)]||a.defaultValue;!this.isValidLookup(g)&&K&&(N=!0,g=L),this.isValidLookup(g)||($=!0,g=f);var j=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,B=j&&$?void 0:g,D=K&&L!==g&&this.options.updateMissing;if($||N||D){if(this.logger.log(D?"updateKey":"missingKey",d,p,f,D?L:g),l){var J=this.resolve(f,zn(zn({},a),{},{keySeparator:!1}));J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Q=[],se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(var re=0;re<se.length;re++)Q.push(se[re]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(a.lng||this.language):Q.push(a.lng||this.language);var ce=function(we,pe,ve){var Ae=K&&ve!==g?ve:B;s.options.missingKeyHandler?s.options.missingKeyHandler(we,p,pe,Ae,D,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(we,p,pe,Ae,D,a),s.emit("missingKey",we,p,pe,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?Q.forEach(function(Ee){s.pluralResolver.getSuffixes(Ee,a).forEach(function(we){ce([Ee],f+we,a["defaultValue".concat(we)]||L)})}):ce(Q,f,L))}g=this.extendTranslation(g,i,a,v,o),$&&g===f&&this.options.appendNamespaceToMissingKey&&(g="".concat(p,":").concat(f)),($||N)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(p,":").concat(f):f,N?g:void 0):g=this.options.parseMissingKeyHandler(g))}return c?(v.res=g,v):g}},{key:"extendTranslation",value:function(i,a,o,s,c){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,zn(zn({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(zn(zn({},o),{interpolation:zn(zn({},this.options.interpolation),o.interpolation)}));var u=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(u){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var p=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(p=zn(zn({},this.options.interpolation.defaultVariables),p)),i=this.interpolator.interpolate(i,p,o.lng||this.language,o),u){var d=i.match(this.interpolator.nestingRegexp),m=d&&d.length;f<m&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var g=arguments.length,y=new Array(g),x=0;x<g;x++)y[x]=arguments[x];return c&&c[0]===y[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(y[0]," in key: ").concat(a[0])),null):l.translate.apply(l,y.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var _=o.postProcess||this.options.postProcess,v=typeof _=="string"?[_]:_;return i!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(i=H$.handle(v,i,a,this.options&&this.options.postProcessPassResolved?zn({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,c,l,u,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var p=a.extractFromKey(h,o),d=p.key;c=d;var m=p.namespaces;a.options.fallbackNS&&(m=m.concat(a.options.fallbackNS));var _=o.count!==void 0&&typeof o.count!="string",v=_&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),g=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",y=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);m.forEach(function(x){a.isValidLookup(s)||(f=x,!zL["".concat(y[0],"-").concat(x)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&(zL["".concat(y[0],"-").concat(x)]=!0,a.logger.warn('key "'.concat(c,'" for languages "').concat(y.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(function(b){if(!a.isValidLookup(s)){u=b;var w=[d];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(w,d,b,x,o);else{var E;_&&(E=a.pluralResolver.getSuffix(b,o.count,o));var S="".concat(a.options.pluralSeparator,"zero");if(_&&(w.push(d+E),v&&w.push(d+S)),g){var C="".concat(d).concat(a.options.contextSeparator).concat(o.context);w.push(C),_&&(w.push(C+E),v&&w.push(C+S))}}for(var T;T=w.pop();)a.isValidLookup(s)||(l=T,s=a.getResource(b,x,T,o))}}))})}}),{res:s,usedKey:c,exactUsedKey:l,usedLng:u,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(Rs);function vb(t){return t.charAt(0).toUpperCase()+t.slice(1)}var YL=function(){function t(e){xa(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ma.create("languageUtils")}return ba(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=vb(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=vb(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=vb(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(c){o.indexOf(c)<0&&s(i.formatLanguageCode(c))}),o}}]),t}(),ske=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],lke={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},uke=["v1","v2","v3"],qL={zero:0,one:1,two:2,few:3,many:4,other:5};function cke(){var t={};return ske.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:lke[e.fc]}})}),t}var fke=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xa(this,t),this.languageUtils=e,this.options=r,this.logger=Ma.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=cke()}return ba(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return qL[o]-qL[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!uke.includes(this.options.compatibilityJSON)}}]),t}();function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZL(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Z4e(t,e,r);return!a&&i&&typeof r=="string"&&(a=xm(t,r,n),a===void 0&&(a=xm(e,r,n))),a}var hke=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xa(this,t),this.logger=Ma.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return ba(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:Q4e,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?bu(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?bu(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?bu(n.nestingPrefix):n.nestingPrefixEscaped||bu("$t("),this.nestingSuffix=n.nestingSuffix?bu(n.nestingSuffix):n.nestingSuffixEscaped||bu(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,c,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(_){return _.replace(/\$/g,"$$$$")}var h=function(v){if(v.indexOf(o.formatSeparator)<0){var g=ZL(n,u,v,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(g,void 0,i,aa(aa(aa({},a),n),{},{interpolationkey:v})):g}var y=v.split(o.formatSeparator),x=y.shift().trim(),b=y.join(o.formatSeparator).trim();return o.format(ZL(n,u,x,o.options.keySeparator,o.options.ignoreJSONStructure),b,i,aa(aa(aa({},a),n),{},{interpolationkey:x}))};this.resetRegExp();var p=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,d=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(v){return f(v)}},{regex:this.regexp,safeValue:function(v){return o.escapeValue?f(o.escape(v)):f(v)}}];return m.forEach(function(_){for(l=0;s=_.regex.exec(r);){var v=s[1].trim();if(c=h(v),c===void 0)if(typeof p=="function"){var g=p(r,s,a);c=typeof g=="string"?g:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))c="";else if(d){c=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(r)),c="";else typeof c!="string"&&!o.useRawValueToEscape&&(c=VL(c));var y=_.safeValue(c);if(r=r.replace(s[0],y),d?(_.regex.lastIndex+=c.length,_.regex.lastIndex-=s[0].length):_.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,c;function l(p,d){var m=this.nestingOptionsSeparator;if(p.indexOf(m)<0)return p;var _=p.split(new RegExp("".concat(m,"[ ]*{"))),v="{".concat(_[1]);p=_[0],v=this.interpolate(v,c);var g=v.match(/'/g),y=v.match(/"/g);(g&&g.length%2===0&&!y||y.length%2!==0)&&(v=v.replace(/'/g,'"'));try{c=JSON.parse(v),d&&(c=aa(aa({},d),c))}catch(x){return this.logger.warn("failed parsing options string in nesting for key ".concat(p),x),"".concat(p).concat(m).concat(v)}return delete c.defaultValue,p}for(;o=this.nestingRegexp.exec(r);){var u=[];c=aa({},a),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(p){return p.trim()});o[1]=h.shift(),u=h,f=!0}if(s=n(l.call(this,o[1].trim(),c),c),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=VL(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),f&&(s=u.reduce(function(p,d){return i.format(p,d,a.lng,aa(aa({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function JL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dke(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),c=z4e(s),l=c[0],u=c.slice(1),f=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:r}}function wu(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var pke=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xa(this,t),this.logger=Ma.create("formatter"),this.options=e,this.formats={number:wu(function(r,n){var i=new Intl.NumberFormat(r,lo({},n));return function(a){return i.format(a)}}),currency:wu(function(r,n){var i=new Intl.NumberFormat(r,lo(lo({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:wu(function(r,n){var i=new Intl.DateTimeFormat(r,lo({},n));return function(a){return i.format(a)}}),relativetime:wu(function(r,n){var i=new Intl.RelativeTimeFormat(r,lo({},n));return function(a){return i.format(a,n.range||"day")}}),list:wu(function(r,n){var i=new Intl.ListFormat(r,lo({},n));return function(a){return i.format(a)}})},this.init(e)}return ba(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=wu(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),c=s.reduce(function(l,u){var f=dke(u),h=f.formatName,p=f.formatOptions;if(a.formats[h]){var d=l;try{var m=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},_=m.locale||m.lng||o.locale||o.lng||i;d=a.formats[h](l,_,lo(lo(lo({},p),o),m))}catch(v){a.logger.warn(v)}return d}else a.logger.warn("there was no format function for ".concat(h));return l},r);return c}}]),t}();function QL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vke(t){var e=mke();return function(){var n=qa(t),i;if(e){var a=qa(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return p0(this,i)}}function mke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gke(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var _ke=function(t){x_(r,t);var e=vke(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return xa(this,r),o=e.call(this),b_&&Rs.call(ps(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=Ma.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return ba(r,[{key:"queueLoad",value:function(i,a,o,s){var c=this,l={},u={},f={},h={};return i.forEach(function(p){var d=!0;a.forEach(function(m){var _="".concat(p,"|").concat(m);!o.reload&&c.store.hasResourceBundle(p,m)?c.state[_]=2:c.state[_]<0||(c.state[_]===1?u[_]===void 0&&(u[_]=!0):(c.state[_]=1,d=!1,u[_]===void 0&&(u[_]=!0),l[_]===void 0&&(l[_]=!0),h[m]===void 0&&(h[m]=!0)))}),d||(f[p]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),c=s[0],l=s[1];a&&this.emit("failedLoading",c,l,a),o&&this.store.addResourceBundle(c,l,o),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(f){K4e(f.loaded,[c],l),gke(f,i),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){u[h]||(u[h]={});var p=f.loaded[h];p.length&&p.forEach(function(d){u[h][d]===void 0&&(u[h][d]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,a,o){var s=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:c,wait:l,callback:u});return}this.readingCalls++;var f=function(m,_){if(s.readingCalls--,s.waitingReads.length>0){var v=s.waitingReads.shift();s.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&_&&c<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,c+1,l*2,u)},l);return}u(m,_)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var p=h(i,a);p&&typeof p.then=="function"?p.then(function(d){return f(null,d)}).catch(f):f(null,p)}catch(d){f(d)}return}return h(i,a,f)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,c);if(!l.toLoad.length)return l.pending.length||c(),null;l.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),c=s[0],l=s[1];this.read(c,l,"read",void 0,void 0,function(u,f){u&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(c," failed"),u),!u&&f&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(c),f),a.loaded(i,u,f)})}},{key:"saveMissing",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=eM(eM({},l),{},{isUpdate:c}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var p;h.length===5?p=h(i,a,o,s,f):p=h(i,a,o,s),p&&typeof p.then=="function"?p.then(function(d){return u(null,d)}).catch(u):u(null,p)}catch(d){u(d)}else h(i,a,o,s,u,f)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(Rs);function tM(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(Tn(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),Tn(e[2])==="object"||Tn(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function rM(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function nM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(r),!0).forEach(function(n){ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yke(t){var e=xke();return function(){var n=qa(t),i;if(e){var a=qa(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return p0(this,i)}}function xke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bp(){}function bke(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var bm=function(t){x_(r,t);var e=yke(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(xa(this,r),n=e.call(this),b_&&Rs.call(ps(n)),n.options=rM(i),n.services={},n.logger=Ma,n.modules={external:[]},bke(ps(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),p0(n,ps(n));setTimeout(function(){n.init(i,a)},0)}return n}return ba(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=tM();this.options=Aa(Aa(Aa({},s),this.options),rM(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Aa(Aa({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function c(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?Ma.init(c(this.modules.logger),this.options):Ma.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=pke);var u=new YL(this.options);this.store=new ike(this.options.resources,this.options);var f=this.services;f.logger=Ma,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new fke(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=c(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new hke(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new _ke(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(v){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];i.emit.apply(i,[v].concat(y))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=c(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new WL(this.services,this.options),this.translator.on("*",function(v){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];i.emit.apply(i,[v].concat(y))}),this.modules.external.forEach(function(v){v.init&&v.init(i)})}if(this.format=this.options.interpolation.format,o||(o=bp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var p=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];p.forEach(function(v){i[v]=function(){var g;return(g=i.store)[v].apply(g,arguments)}});var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach(function(v){i[v]=function(){var g;return(g=i.store)[v].apply(g,arguments),i}});var m=Jf(),_=function(){var g=function(x,b){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(b),o(x,b)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return g(null,i.t.bind(i));i.changeLanguage(i.options.lng,g)};return this.options.resources||!this.options.initImmediate?_():setTimeout(_,0),m}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bp,s=o,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return s();var l=[],u=function(p){if(p){var d=a.services.languageUtils.toResolveHierarchy(p);d.forEach(function(m){l.indexOf(m)<0&&l.push(m)})}};if(c)u(c);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return u(h)})}this.options.preload&&this.options.preload.forEach(function(h){return u(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=Jf();return i||(i=this.languages),a||(a=this.options.ns),o||(o=bp),this.services.backendConnector.reload(i,a,function(c){s.resolve(),o(c)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&H$.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=Jf();this.emit("languageChanging",i);var c=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,p){p?(c(p),o.translator.changeLanguage(p),o.isLanguageChangingTo=void 0,o.emit("languageChanged",p),o.logger.log("languageChanged",p)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},u=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var p=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);p&&(o.language||c(p),o.translator.language||o.translator.changeLanguage(p),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(p)),o.loadResources(p,function(d){l(d,p)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,c=function l(u,f){var h;if(Tn(f)!=="object"){for(var p=arguments.length,d=new Array(p>2?p-2:0),m=2;m<p;m++)d[m-2]=arguments[m];h=s.options.overloadTranslationOptionHandler([u,f].concat(d))}else h=Aa({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var _=s.options.keySeparator||".",v;return h.keyPrefix&&Array.isArray(u)?v=u.map(function(g){return"".concat(h.keyPrefix).concat(_).concat(g)}):v=h.keyPrefix?"".concat(h.keyPrefix).concat(_).concat(u):u,s.t(v,h)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=a,c.keyPrefix=o,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(p,d){var m=a.services.backendConnector.state["".concat(p,"|").concat(d)];return m===-1||m===2};if(o.precheck){var f=o.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,i)&&(!c||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=Jf();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){o.options.ns.indexOf(c)<0&&o.options.ns.push(c)}),this.loadResources(function(c){s.resolve(),a&&a(c)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=Jf();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],c=i.filter(function(l){return s.indexOf(l)<0});return c.length?(this.options.preload=s.concat(c),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new YL(tM());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bp,s=Aa(Aa(Aa({},this.options),a),{isClone:!0}),c=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){c[u]=i[u]}),c.services=Aa({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new WL(c.services,c.options),c.translator.on("*",function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];c.emit.apply(c,[u].concat(h))}),c.init(s,o),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Rs);ki(bm,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new bm(t,e)});var ri=bm.createInstance();ri.createInstance=bm.createInstance;ri.createInstance;ri.dir;ri.init;ri.loadResources;ri.reloadResources;ri.use;ri.changeLanguage;ri.getFixedT;ri.t;ri.exists;ri.setDefaultNamespace;ri.hasLoadedNamespace;ri.loadNamespaces;ri.loadLanguages;ri.use(Ipe).init({resources:MQ||{},lng:Jc[BQ]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("IdolTime i18n Ready!"));Pl.render(k.jsx(rr.StrictMode,{children:k.jsx(kpe,{children:k.jsx(jfe,{store:le,children:k.jsx(H4e,{})})})}),document.getElementById("root"));export{pn as C,Xi as S,ot as T,z as W,gm as a,Rke as r};
