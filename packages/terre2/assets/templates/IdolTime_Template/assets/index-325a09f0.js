var B5=Object.defineProperty;var M5=(t,e,r)=>e in t?B5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ge=(t,e,r)=>(M5(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function D5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ck={exports:{}},Yc={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var nC=Object.getOwnPropertySymbols,U5=Object.prototype.hasOwnProperty,j5=Object.prototype.propertyIsEnumerable;function $5(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function V5(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Bb=V5()?Object.assign:function(t,e){for(var r,n=$5(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)U5.call(r,o)&&(n[o]=r[o]);if(nC){i=nC(r);for(var s=0;s<i.length;s++)j5.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const G5=mn(Bb);var hk={exports:{}},Lt={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=Bb,cu=60103,dk=60106;Lt.Fragment=60107;Lt.StrictMode=60108;Lt.Profiler=60114;var pk=60109,vk=60110,mk=60112;Lt.Suspense=60113;var gk=60115,_k=60116;if(typeof Symbol=="function"&&Symbol.for){var Ci=Symbol.for;cu=Ci("react.element"),dk=Ci("react.portal"),Lt.Fragment=Ci("react.fragment"),Lt.StrictMode=Ci("react.strict_mode"),Lt.Profiler=Ci("react.profiler"),pk=Ci("react.provider"),vk=Ci("react.context"),mk=Ci("react.forward_ref"),Lt.Suspense=Ci("react.suspense"),gk=Ci("react.memo"),_k=Ci("react.lazy")}var iC=typeof Symbol=="function"&&Symbol.iterator;function X5(t){return t===null||typeof t!="object"?null:(t=iC&&t[iC]||t["@@iterator"],typeof t=="function"?t:null)}function qc(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xk={};function hu(t,e,r){this.props=t,this.context=e,this.refs=xk,this.updater=r||yk}hu.prototype.isReactComponent={};hu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(qc(85));this.updater.enqueueSetState(this,t,e,"setState")};hu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bk(){}bk.prototype=hu.prototype;function Db(t,e,r){this.props=t,this.context=e,this.refs=xk,this.updater=r||yk}var Ub=Db.prototype=new bk;Ub.constructor=Db;Mb(Ub,hu.prototype);Ub.isPureReactComponent=!0;var jb={current:null},Ek=Object.prototype.hasOwnProperty,wk={key:!0,ref:!0,__self:!0,__source:!0};function Sk(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Ek.call(e,n)&&!wk.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var f=Array(s),l=0;l<s;l++)f[l]=arguments[l+2];i.children=f}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:cu,type:t,key:a,ref:o,props:i,_owner:jb.current}}function H5(t,e){return{$$typeof:cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $b(t){return typeof t=="object"&&t!==null&&t.$$typeof===cu}function z5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var aC=/\/+/g;function Gv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?z5(""+t.key):e.toString(36)}function dd(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cu:case dk:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Gv(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(aC,"$&/")+"/"),dd(i,e,r,"",function(l){return l})):i!=null&&($b(i)&&(i=H5(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(aC,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var f=n+Gv(a,s);o+=dd(a,e,r,f,i)}else if(f=X5(t),typeof f=="function")for(t=f.call(t),s=0;!(a=t.next()).done;)a=a.value,f=n+Gv(a,s++),o+=dd(a,e,r,f,i);else if(a==="object")throw e=""+t,Error(qc(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function bh(t,e,r){if(t==null)return t;var n=[],i=0;return dd(t,n,"","",function(a){return e.call(r,a,i++)}),n}function W5(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var Ck={current:null};function Xa(){var t=Ck.current;if(t===null)throw Error(qc(321));return t}var Y5={ReactCurrentDispatcher:Ck,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:jb,IsSomeRendererActing:{current:!1},assign:Mb};Lt.Children={map:bh,forEach:function(t,e,r){bh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return bh(t,function(){e++}),e},toArray:function(t){return bh(t,function(e){return e})||[]},only:function(t){if(!$b(t))throw Error(qc(143));return t}};Lt.Component=hu;Lt.PureComponent=Db;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y5;Lt.cloneElement=function(t,e,r){if(t==null)throw Error(qc(267,t));var n=Mb({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=jb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(f in e)Ek.call(e,f)&&!wk.hasOwnProperty(f)&&(n[f]=e[f]===void 0&&s!==void 0?s[f]:e[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){s=Array(f);for(var l=0;l<f;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:cu,type:t.type,key:i,ref:a,props:n,_owner:o}};Lt.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:vk,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:pk,_context:t},t.Consumer=t};Lt.createElement=Sk;Lt.createFactory=function(t){var e=Sk.bind(null,t);return e.type=t,e};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(t){return{$$typeof:mk,render:t}};Lt.isValidElement=$b;Lt.lazy=function(t){return{$$typeof:_k,_payload:{_status:-1,_result:t},_init:W5}};Lt.memo=function(t,e){return{$$typeof:gk,type:t,compare:e===void 0?null:e}};Lt.useCallback=function(t,e){return Xa().useCallback(t,e)};Lt.useContext=function(t,e){return Xa().useContext(t,e)};Lt.useDebugValue=function(){};Lt.useEffect=function(t,e){return Xa().useEffect(t,e)};Lt.useImperativeHandle=function(t,e,r){return Xa().useImperativeHandle(t,e,r)};Lt.useLayoutEffect=function(t,e){return Xa().useLayoutEffect(t,e)};Lt.useMemo=function(t,e){return Xa().useMemo(t,e)};Lt.useReducer=function(t,e,r){return Xa().useReducer(t,e,r)};Lt.useRef=function(t){return Xa().useRef(t)};Lt.useState=function(t){return Xa().useState(t)};Lt.version="17.0.2";hk.exports=Lt;var be=hk.exports;const qt=mn(be);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q5=be,Tk=60103;Yc.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var oC=Symbol.for;Tk=oC("react.element"),Yc.Fragment=oC("react.fragment")}var K5=q5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z5=Object.prototype.hasOwnProperty,J5={key:!0,ref:!0,__self:!0,__source:!0};function Ak(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Z5.call(e,n)&&!J5.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Tk,type:t,key:a,ref:o,props:i,_owner:K5.current}}Yc.jsx=Ak;Yc.jsxs=Ak;ck.exports=Yc;var B=ck.exports,Ik={exports:{}},Ei={},Rk={exports:{}},Pk={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var f=null,l=null,u=function(){if(f!==null)try{var N=t.unstable_now();f(!0,N),f=null}catch(j){throw setTimeout(u,0),j}};e=function(N){f!==null?setTimeout(e,0,N):(f=N,setTimeout(u,0))},r=function(N,j){l=setTimeout(N,j)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var c=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var d=!1,m=null,_=-1,v=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<N?Math.floor(1e3/N):5};var y=new MessageChannel,x=y.port2;y.port1.onmessage=function(){if(m!==null){var N=t.unstable_now();g=N+v;try{m(!0,N)?x.postMessage(null):(d=!1,m=null)}catch(j){throw x.postMessage(null),j}}else d=!1},e=function(N){m=N,d||(d=!0,x.postMessage(null))},r=function(N,j){_=c(function(){N(t.unstable_now())},j)},n=function(){h(_),_=-1}}function b(N,j){var M=N.length;N.push(j);e:for(;;){var D=M-1>>>1,J=N[D];if(J!==void 0&&0<S(J,j))N[D]=j,N[M]=J,M=D;else break e}}function E(N){return N=N[0],N===void 0?null:N}function w(N){var j=N[0];if(j!==void 0){var M=N.pop();if(M!==j){N[0]=M;e:for(var D=0,J=N.length;D<J;){var Q=2*(D+1)-1,se=N[Q],re=Q+1,ue=N[re];if(se!==void 0&&0>S(se,M))ue!==void 0&&0>S(ue,se)?(N[D]=ue,N[re]=M,D=re):(N[D]=se,N[Q]=M,D=Q);else if(ue!==void 0&&0>S(ue,M))N[D]=ue,N[re]=M,D=re;else break e}}return j}return null}function S(N,j){var M=N.sortIndex-j.sortIndex;return M!==0?M:N.id-j.id}var C=[],T=[],I=1,A=null,R=3,O=!1,F=!1,k=!1;function $(N){for(var j=E(T);j!==null;){if(j.callback===null)w(T);else if(j.startTime<=N)w(T),j.sortIndex=j.expirationTime,b(C,j);else break;j=E(T)}}function q(N){if(k=!1,$(N),!F)if(E(C)!==null)F=!0,e(K);else{var j=E(T);j!==null&&r(q,j.startTime-N)}}function K(N,j){F=!1,k&&(k=!1,n()),O=!0;var M=R;try{for($(j),A=E(C);A!==null&&(!(A.expirationTime>j)||N&&!t.unstable_shouldYield());){var D=A.callback;if(typeof D=="function"){A.callback=null,R=A.priorityLevel;var J=D(A.expirationTime<=j);j=t.unstable_now(),typeof J=="function"?A.callback=J:A===E(C)&&w(C),$(j)}else w(C);A=E(C)}if(A!==null)var Q=!0;else{var se=E(T);se!==null&&r(q,se.startTime-j),Q=!1}return Q}finally{A=null,R=M,O=!1}}var G=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){F||O||(F=!0,e(K))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(N){switch(R){case 1:case 2:case 3:var j=3;break;default:j=R}var M=R;R=j;try{return N()}finally{R=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=R;R=N;try{return j()}finally{R=M}},t.unstable_scheduleCallback=function(N,j,M){var D=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?D+M:D):M=D,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=M+J,N={id:I++,callback:j,priorityLevel:N,startTime:M,expirationTime:J,sortIndex:-1},M>D?(N.sortIndex=M,b(T,N),E(C)===null&&N===E(T)&&(k?n():k=!0,r(q,M-D))):(N.sortIndex=J,b(C,N),F||O||(F=!0,e(K))),N},t.unstable_wrapCallback=function(N){var j=R;return function(){var M=R;R=j;try{return N.apply(this,arguments)}finally{R=M}}}})(Pk);Rk.exports=Pk;var Q5=Rk.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0=be,fr=Bb,tn=Q5;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Z0)throw Error(Le(227));var Ok=new Set,Kf={};function Os(t,e){Hl(t,e),Hl(t+"Capture",e)}function Hl(t,e){for(Kf[t]=e,t=0;t<e.length;t++)Ok.add(e[t])}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sC=Object.prototype.hasOwnProperty,lC={},uC={};function tU(t){return sC.call(uC,t)?!0:sC.call(lC,t)?!1:eU.test(t)?uC[t]=!0:(lC[t]=!0,!1)}function rU(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nU(t,e,r,n){if(e===null||typeof e>"u"||rU(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dn(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new Dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new Dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new Dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new Dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new Dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new Dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new Dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new Dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new Dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vb=/[\-:]([a-z])/g;function Gb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vb,Gb);vn[e]=new Dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vb,Gb);vn[e]=new Dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vb,Gb);vn[e]=new Dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new Dn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new Dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xb(t,e,r,n){var i=vn.hasOwnProperty(e)?vn[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(nU(e,r,i,n)&&(r=null),n||i===null?tU(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Fs=Z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xf=60103,os=60106,eo=60107,Hb=60108,Rf=60114,zb=60109,Wb=60110,J0=60112,Pf=60113,Vd=60120,Q0=60115,Yb=60116,qb=60121,Kb=60128,Fk=60129,Zb=60130,ly=60131;if(typeof Symbol=="function"&&Symbol.for){var Wr=Symbol.for;xf=Wr("react.element"),os=Wr("react.portal"),eo=Wr("react.fragment"),Hb=Wr("react.strict_mode"),Rf=Wr("react.profiler"),zb=Wr("react.provider"),Wb=Wr("react.context"),J0=Wr("react.forward_ref"),Pf=Wr("react.suspense"),Vd=Wr("react.suspense_list"),Q0=Wr("react.memo"),Yb=Wr("react.lazy"),qb=Wr("react.block"),Wr("react.scope"),Kb=Wr("react.opaque.id"),Fk=Wr("react.debug_trace_mode"),Zb=Wr("react.offscreen"),ly=Wr("react.legacy_hidden")}var fC=typeof Symbol=="function"&&Symbol.iterator;function Gu(t){return t===null||typeof t!="object"?null:(t=fC&&t[fC]||t["@@iterator"],typeof t=="function"?t:null)}var Xv;function bf(t){if(Xv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Xv=e&&e[1]||""}return`
`+Xv+t}var Hv=!1;function Eh(t,e){if(!t||Hv)return"";Hv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var n=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){n=f}t.call(e.prototype)}else{try{throw Error()}catch(f){n=f}t()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{Hv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bf(t):""}function iU(t){switch(t.tag){case 5:return bf(t.type);case 16:return bf("Lazy");case 13:return bf("Suspense");case 19:return bf("SuspenseList");case 0:case 2:case 15:return t=Eh(t.type,!1),t;case 11:return t=Eh(t.type.render,!1),t;case 22:return t=Eh(t.type._render,!1),t;case 1:return t=Eh(t.type,!0),t;default:return""}}function Tl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eo:return"Fragment";case os:return"Portal";case Rf:return"Profiler";case Hb:return"StrictMode";case Pf:return"Suspense";case Vd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wb:return(t.displayName||"Context")+".Consumer";case zb:return(t._context.displayName||"Context")+".Provider";case J0:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Q0:return Tl(t.type);case qb:return Tl(t._render);case Yb:e=t._payload,t=t._init;try{return Tl(t(e))}catch{}}return null}function Co(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function kk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aU(t){var e=kk(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wh(t){t._valueTracker||(t._valueTracker=aU(t))}function Nk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=kk(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uy(t,e){var r=e.checked;return fr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function cC(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Co(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lk(t,e){e=e.checked,e!=null&&Xb(t,"checked",e,!1)}function fy(t,e){Lk(t,e);var r=Co(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cy(t,e.type,r):e.hasOwnProperty("defaultValue")&&cy(t,e.type,Co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hC(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function cy(t,e,r){(e!=="number"||Gd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function oU(t){var e="";return Z0.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function hy(t,e){return t=fr({children:void 0},e),(e=oU(e.children))&&(t.children=e),t}function Al(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Co(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return fr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dC(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Co(r)}}function Bk(t,e){var r=Co(e.value),n=Co(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function pC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var py={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Mk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sh,Dk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==py.svg||"innerHTML"in t)t.innerHTML=e;else{for(Sh=Sh||document.createElement("div"),Sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Of={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sU=["Webkit","ms","Moz","O"];Object.keys(Of).forEach(function(t){sU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Of[e]=Of[t]})});function Uk(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Of.hasOwnProperty(t)&&Of[t]?(""+e).trim():e+"px"}function jk(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Uk(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var lU=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function my(t,e){if(e){if(lU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function gy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Jb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _y=null,Il=null,Rl=null;function vC(t){if(t=Zc(t)){if(typeof _y!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=ap(e),_y(t.stateNode,t.type,e))}}function $k(t){Il?Rl?Rl.push(t):Rl=[t]:Il=t}function Vk(){if(Il){var t=Il,e=Rl;if(Rl=Il=null,vC(t),e)for(t=0;t<e.length;t++)vC(e[t])}}function Qb(t,e){return t(e)}function Gk(t,e,r,n,i){return t(e,r,n,i)}function eE(){}var Xk=Qb,ss=!1,zv=!1;function tE(){(Il!==null||Rl!==null)&&(eE(),Vk())}function uU(t,e,r){if(zv)return t(e,r);zv=!0;try{return Xk(t,e,r)}finally{zv=!1,tE()}}function Jf(t,e){var r=t.stateNode;if(r===null)return null;var n=ap(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var yy=!1;if(ja)try{var Xu={};Object.defineProperty(Xu,"passive",{get:function(){yy=!0}}),window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{yy=!1}function fU(t,e,r,n,i,a,o,s,f){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Ff=!1,Xd=null,Hd=!1,xy=null,cU={onError:function(t){Ff=!0,Xd=t}};function hU(t,e,r,n,i,a,o,s,f){Ff=!1,Xd=null,fU.apply(cU,arguments)}function dU(t,e,r,n,i,a,o,s,f){if(hU.apply(this,arguments),Ff){if(Ff){var l=Xd;Ff=!1,Xd=null}else throw Error(Le(198));Hd||(Hd=!0,xy=l)}}function ks(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Hk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mC(t){if(ks(t)!==t)throw Error(Le(188))}function pU(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return mC(i),t;if(a===n)return mC(i),e;a=a.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function zk(t){if(t=pU(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function gC(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var Wk,rE,Yk,qk,by=!1,ta=[],fo=null,co=null,ho=null,Qf=new Map,ec=new Map,Hu=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ey(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function yC(t,e){switch(t){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Qf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(e.pointerId)}}function zu(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=Ey(e,r,n,i,a),e!==null&&(e=Zc(e),e!==null&&rE(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vU(t,e,r,n,i){switch(e){case"focusin":return fo=zu(fo,t,e,r,n,i),!0;case"dragenter":return co=zu(co,t,e,r,n,i),!0;case"mouseover":return ho=zu(ho,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Qf.set(a,zu(Qf.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ec.set(a,zu(ec.get(a)||null,t,e,r,n,i)),!0}return!1}function mU(t){var e=ls(t.target);if(e!==null){var r=ks(e);if(r!==null){if(e=r.tag,e===13){if(e=Hk(r),e!==null){t.blockedOn=e,qk(t.lanePriority,function(){tn.unstable_runWithPriority(t.priority,function(){Yk(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=oE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Zc(r),e!==null&&rE(e),t.blockedOn=r,!1;e.shift()}return!0}function xC(t,e,r){pd(t)&&r.delete(e)}function gU(){for(by=!1;0<ta.length;){var t=ta[0];if(t.blockedOn!==null){t=Zc(t.blockedOn),t!==null&&Wk(t);break}for(var e=t.targetContainers;0<e.length;){var r=oE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&ta.shift()}fo!==null&&pd(fo)&&(fo=null),co!==null&&pd(co)&&(co=null),ho!==null&&pd(ho)&&(ho=null),Qf.forEach(xC),ec.forEach(xC)}function Wu(t,e){t.blockedOn===e&&(t.blockedOn=null,by||(by=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,gU)))}function Kk(t){function e(i){return Wu(i,t)}if(0<ta.length){Wu(ta[0],t);for(var r=1;r<ta.length;r++){var n=ta[r];n.blockedOn===t&&(n.blockedOn=null)}}for(fo!==null&&Wu(fo,t),co!==null&&Wu(co,t),ho!==null&&Wu(ho,t),Qf.forEach(e),ec.forEach(e),r=0;r<Hu.length;r++)n=Hu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Hu.length&&(r=Hu[0],r.blockedOn===null);)mU(r),r.blockedOn===null&&Hu.shift()}function Ch(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var dl={animationend:Ch("Animation","AnimationEnd"),animationiteration:Ch("Animation","AnimationIteration"),animationstart:Ch("Animation","AnimationStart"),transitionend:Ch("Transition","TransitionEnd")},Wv={},Zk={};ja&&(Zk=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function ep(t){if(Wv[t])return Wv[t];if(!dl[t])return t;var e=dl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Zk)return Wv[t]=e[r];return t}var Jk=ep("animationend"),Qk=ep("animationiteration"),eN=ep("animationstart"),tN=ep("transitionend"),rN=new Map,nE=new Map,_U=["abort","abort",Jk,"animationEnd",Qk,"animationIteration",eN,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",tN,"transitionEnd","waiting","waiting"];function iE(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),nE.set(n,e),rN.set(n,i),Os(i,[n])}}var yU=tn.unstable_now;yU();var er=8;function fl(t){if(1&t)return er=15,1;if(2&t)return er=14,2;if(4&t)return er=13,4;var e=24&t;return e!==0?(er=12,e):t&32?(er=11,32):(e=192&t,e!==0?(er=10,e):t&256?(er=9,256):(e=3584&t,e!==0?(er=8,e):t&4096?(er=7,4096):(e=4186112&t,e!==0?(er=6,e):(e=62914560&t,e!==0?(er=5,e):t&67108864?(er=4,67108864):t&134217728?(er=3,134217728):(e=805306368&t,e!==0?(er=2,e):1073741824&t?(er=1,1073741824):(er=8,t))))))}function xU(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function bU(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Le(358,t))}}function tc(t,e){var r=t.pendingLanes;if(r===0)return er=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=er=15;else if(a=r&134217727,a!==0){var f=a&~o;f!==0?(n=fl(f),i=er):(s&=a,s!==0&&(n=fl(s),i=er))}else a=r&~o,a!==0?(n=fl(a),i=er):s!==0&&(n=fl(s),i=er);if(n===0)return 0;if(n=31-To(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(fl(e),i<=er)return e;er=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-To(e),i=1<<r,n|=t[r],e&=~i;return n}function nN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zd(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=cl(24&~e),t===0?zd(10,e):t;case 10:return t=cl(192&~e),t===0?zd(8,e):t;case 8:return t=cl(3584&~e),t===0&&(t=cl(4186112&~e),t===0&&(t=512)),t;case 2:return e=cl(805306368&~e),e===0&&(e=268435456),e}throw Error(Le(358,t))}function cl(t){return t&-t}function Yv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function tp(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-To(e),t[e]=r}var To=Math.clz32?Math.clz32:SU,EU=Math.log,wU=Math.LN2;function SU(t){return t===0?32:31-(EU(t)/wU|0)|0}var CU=tn.unstable_UserBlockingPriority,TU=tn.unstable_runWithPriority,vd=!0;function AU(t,e,r,n){ss||eE();var i=aE,a=ss;ss=!0;try{Gk(i,t,e,r,n)}finally{(ss=a)||tE()}}function IU(t,e,r,n){TU(CU,aE.bind(null,t,e,r,n))}function aE(t,e,r,n){if(vd){var i;if((i=(e&4)===0)&&0<ta.length&&-1<_C.indexOf(t))t=Ey(null,t,e,r,n),ta.push(t);else{var a=oE(t,e,r,n);if(a===null)i&&yC(t,n);else{if(i){if(-1<_C.indexOf(t)){t=Ey(a,t,e,r,n),ta.push(t);return}if(vU(a,t,e,r,n))return;yC(t,n)}mN(t,e,n,null,r)}}}}function oE(t,e,r,n){var i=Jb(n);if(i=ls(i),i!==null){var a=ks(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=Hk(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return mN(t,e,n,i,r),null}var no=null,sE=null,md=null;function iN(){if(md)return md;var t,e=sE,r=e.length,n,i="value"in no?no.value:no.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return md=i.slice(t,1<n?1-n:void 0)}function gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function bC(){return!1}function oi(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Th:bC,this.isPropagationStopped=bC,this}return fr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lE=oi(du),Kc=fr({},du,{view:0,detail:0}),RU=oi(Kc),qv,Kv,Yu,rp=fr({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yu&&(Yu&&t.type==="mousemove"?(qv=t.screenX-Yu.screenX,Kv=t.screenY-Yu.screenY):Kv=qv=0,Yu=t),qv)},movementY:function(t){return"movementY"in t?t.movementY:Kv}}),EC=oi(rp),PU=fr({},rp,{dataTransfer:0}),OU=oi(PU),FU=fr({},Kc,{relatedTarget:0}),Zv=oi(FU),kU=fr({},du,{animationName:0,elapsedTime:0,pseudoElement:0}),NU=oi(kU),LU=fr({},du,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BU=oi(LU),MU=fr({},du,{data:0}),wC=oi(MU),DU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $U(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jU[t])?!!e[t]:!1}function uE(){return $U}var VU=fr({},Kc,{key:function(t){if(t.key){var e=DU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uE,charCode:function(t){return t.type==="keypress"?gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GU=oi(VU),XU=fr({},rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SC=oi(XU),HU=fr({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uE}),zU=oi(HU),WU=fr({},du,{propertyName:0,elapsedTime:0,pseudoElement:0}),YU=oi(WU),qU=fr({},rp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KU=oi(qU),ZU=[9,13,27,32],fE=ja&&"CompositionEvent"in window,kf=null;ja&&"documentMode"in document&&(kf=document.documentMode);var JU=ja&&"TextEvent"in window&&!kf,aN=ja&&(!fE||kf&&8<kf&&11>=kf),CC=String.fromCharCode(32),TC=!1;function oN(t,e){switch(t){case"keyup":return ZU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pl=!1;function QU(t,e){switch(t){case"compositionend":return sN(e);case"keypress":return e.which!==32?null:(TC=!0,CC);case"textInput":return t=e.data,t===CC&&TC?null:t;default:return null}}function ej(t,e){if(pl)return t==="compositionend"||!fE&&oN(t,e)?(t=iN(),md=sE=no=null,pl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aN&&e.locale!=="ko"?null:e.data;default:return null}}var tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tj[t.type]:e==="textarea"}function lN(t,e,r,n){$k(n),e=Wd(e,"onChange"),0<e.length&&(r=new lE("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Nf=null,rc=null;function rj(t){dN(t,0)}function np(t){var e=ml(t);if(Nk(e))return t}function nj(t,e){if(t==="change")return e}var uN=!1;if(ja){var Jv;if(ja){var Qv="oninput"in document;if(!Qv){var IC=document.createElement("div");IC.setAttribute("oninput","return;"),Qv=typeof IC.oninput=="function"}Jv=Qv}else Jv=!1;uN=Jv&&(!document.documentMode||9<document.documentMode)}function RC(){Nf&&(Nf.detachEvent("onpropertychange",fN),rc=Nf=null)}function fN(t){if(t.propertyName==="value"&&np(rc)){var e=[];if(lN(e,rc,t,Jb(t)),t=rj,ss)t(e);else{ss=!0;try{Qb(t,e)}finally{ss=!1,tE()}}}}function ij(t,e,r){t==="focusin"?(RC(),Nf=e,rc=r,Nf.attachEvent("onpropertychange",fN)):t==="focusout"&&RC()}function aj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return np(rc)}function oj(t,e){if(t==="click")return np(e)}function sj(t,e){if(t==="input"||t==="change")return np(e)}function lj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vi=typeof Object.is=="function"?Object.is:lj,uj=Object.prototype.hasOwnProperty;function nc(t,e){if(vi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!uj.call(e,r[n])||!vi(t[r[n]],e[r[n]]))return!1;return!0}function PC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OC(t,e){var r=PC(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=PC(r)}}function cN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FC(){for(var t=window,e=Gd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Gd(t.document)}return e}function wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var fj=ja&&"documentMode"in document&&11>=document.documentMode,vl=null,Sy=null,Lf=null,Cy=!1;function kC(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cy||vl==null||vl!==Gd(n)||(n=vl,"selectionStart"in n&&wy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lf&&nc(Lf,n)||(Lf=n,n=Wd(Sy,"onSelect"),0<n.length&&(e=new lE("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vl)))}iE("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);iE("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);iE(_U,2);for(var NC="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),em=0;em<NC.length;em++)nE.set(NC[em],0);Hl("onMouseEnter",["mouseout","mouseover"]);Hl("onMouseLeave",["mouseout","mouseover"]);Hl("onPointerEnter",["pointerout","pointerover"]);Hl("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ef));function LC(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,dU(n,e,void 0,t),t.currentTarget=null}function dN(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],f=s.instance,l=s.currentTarget;if(s=s.listener,f!==a&&i.isPropagationStopped())break e;LC(i,s,l),a=f}else for(o=0;o<n.length;o++){if(s=n[o],f=s.instance,l=s.currentTarget,s=s.listener,f!==a&&i.isPropagationStopped())break e;LC(i,s,l),a=f}}}if(Hd)throw t=xy,Hd=!1,xy=null,t}function rr(t,e){var r=_N(e),n=t+"__bubble";r.has(n)||(vN(e,t,2,!1),r.add(n))}var BC="_reactListening"+Math.random().toString(36).slice(2);function pN(t){t[BC]||(t[BC]=!0,Ok.forEach(function(e){hN.has(e)||MC(e,!1,t,null),MC(e,!0,t,null)}))}function MC(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&hN.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=_N(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),vN(a,t,i,e),o.add(s))}function vN(t,e,r,n){var i=nE.get(e);switch(i===void 0?2:i){case 0:i=AU;break;case 1:i=IU;break;default:i=aE}r=i.bind(null,e,r,t),i=void 0,!yy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function mN(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var f=o.tag;if((f===3||f===4)&&(f=o.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ls(s),o===null)return;if(f=o.tag,f===5||f===6){n=a=o;continue e}s=s.parentNode}}n=n.return}uU(function(){var l=a,u=Jb(r),c=[];e:{var h=rN.get(t);if(h!==void 0){var p=lE,d=t;switch(t){case"keypress":if(gd(r)===0)break e;case"keydown":case"keyup":p=GU;break;case"focusin":d="focus",p=Zv;break;case"focusout":d="blur",p=Zv;break;case"beforeblur":case"afterblur":p=Zv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=EC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=OU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zU;break;case Jk:case Qk:case eN:p=NU;break;case tN:p=YU;break;case"scroll":p=RU;break;case"wheel":p=KU;break;case"copy":case"cut":case"paste":p=BU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=SC}var m=(e&4)!==0,_=!m&&t==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var g=l,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=Jf(g,v),x!=null&&m.push(ic(g,x,y)))),_)break;g=g.return}0<m.length&&(h=new p(h,d,null,r,u),c.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(d=r.relatedTarget||r.fromElement)&&(ls(d)||d[pu]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(d=r.relatedTarget||r.toElement,p=l,d=d?ls(d):null,d!==null&&(_=ks(d),d!==_||d.tag!==5&&d.tag!==6)&&(d=null)):(p=null,d=l),p!==d)){if(m=EC,x="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=SC,x="onPointerLeave",v="onPointerEnter",g="pointer"),_=p==null?h:ml(p),y=d==null?h:ml(d),h=new m(x,g+"leave",p,r,u),h.target=_,h.relatedTarget=y,x=null,ls(u)===l&&(m=new m(v,g+"enter",d,r,u),m.target=y,m.relatedTarget=_,x=m),_=x,p&&d)t:{for(m=p,v=d,g=0,y=m;y;y=Ws(y))g++;for(y=0,x=v;x;x=Ws(x))y++;for(;0<g-y;)m=Ws(m),g--;for(;0<y-g;)v=Ws(v),y--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ws(m),v=Ws(v)}m=null}else m=null;p!==null&&DC(c,h,p,m,!1),d!==null&&_!==null&&DC(c,_,d,m,!0)}}e:{if(h=l?ml(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=nj;else if(AC(h))if(uN)b=sj;else{b=aj;var E=ij}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=oj);if(b&&(b=b(t,l))){lN(c,b,r,u);break e}E&&E(t,h,l),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&cy(h,"number",h.value)}switch(E=l?ml(l):window,t){case"focusin":(AC(E)||E.contentEditable==="true")&&(vl=E,Sy=l,Lf=null);break;case"focusout":Lf=Sy=vl=null;break;case"mousedown":Cy=!0;break;case"contextmenu":case"mouseup":case"dragend":Cy=!1,kC(c,r,u);break;case"selectionchange":if(fj)break;case"keydown":case"keyup":kC(c,r,u)}var w;if(fE)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else pl?oN(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(aN&&r.locale!=="ko"&&(pl||S!=="onCompositionStart"?S==="onCompositionEnd"&&pl&&(w=iN()):(no=u,sE="value"in no?no.value:no.textContent,pl=!0)),E=Wd(l,S),0<E.length&&(S=new wC(S,t,null,r,u),c.push({event:S,listeners:E}),w?S.data=w:(w=sN(r),w!==null&&(S.data=w)))),(w=JU?QU(t,r):ej(t,r))&&(l=Wd(l,"onBeforeInput"),0<l.length&&(u=new wC("onBeforeInput","beforeinput",null,r,u),c.push({event:u,listeners:l}),u.data=w))}dN(c,e)})}function ic(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Wd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Jf(t,r),a!=null&&n.unshift(ic(t,a,i)),a=Jf(t,e),a!=null&&n.push(ic(t,a,i))),t=t.return}return n}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DC(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,f=s.alternate,l=s.stateNode;if(f!==null&&f===n)break;s.tag===5&&l!==null&&(s=l,i?(f=Jf(r,a),f!=null&&o.unshift(ic(r,f,s))):i||(f=Jf(r,a),f!=null&&o.push(ic(r,f,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function Yd(){}var tm=null,rm=null;function gN(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ty(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var UC=typeof setTimeout=="function"?setTimeout:void 0,cj=typeof clearTimeout=="function"?clearTimeout:void 0;function cE(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Pl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function jC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var nm=0;function hj(t){return{$$typeof:Kb,toString:t,valueOf:t}}var ip=Math.random().toString(36).slice(2),io="__reactFiber$"+ip,qd="__reactProps$"+ip,pu="__reactContainer$"+ip,$C="__reactEvents$"+ip;function ls(t){var e=t[io];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pu]||r[io]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jC(t);t!==null;){if(r=t[io])return r;t=jC(t)}return e}t=r,r=t.parentNode}return null}function Zc(t){return t=t[io]||t[pu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ml(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function ap(t){return t[qd]||null}function _N(t){var e=t[$C];return e===void 0&&(e=t[$C]=new Set),e}var Ay=[],gl=-1;function Mo(t){return{current:t}}function ir(t){0>gl||(t.current=Ay[gl],Ay[gl]=null,gl--)}function _r(t,e){gl++,Ay[gl]=t.current,t.current=e}var Ao={},Tn=Mo(Ao),Wn=Mo(!1),Es=Ao;function zl(t,e){var r=t.type.contextTypes;if(!r)return Ao;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yn(t){return t=t.childContextTypes,t!=null}function Kd(){ir(Wn),ir(Tn)}function VC(t,e,r){if(Tn.current!==Ao)throw Error(Le(168));_r(Tn,e),_r(Wn,r)}function yN(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Le(108,Tl(e)||"Unknown",i));return fr({},r,n)}function _d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ao,Es=Tn.current,_r(Tn,t),_r(Wn,Wn.current),!0}function GC(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=yN(t,e,Es),n.__reactInternalMemoizedMergedChildContext=t,ir(Wn),ir(Tn),_r(Tn,t)):ir(Wn),_r(Wn,r)}var hE=null,ms=null,dj=tn.unstable_runWithPriority,dE=tn.unstable_scheduleCallback,Iy=tn.unstable_cancelCallback,pj=tn.unstable_shouldYield,XC=tn.unstable_requestPaint,Ry=tn.unstable_now,vj=tn.unstable_getCurrentPriorityLevel,op=tn.unstable_ImmediatePriority,xN=tn.unstable_UserBlockingPriority,bN=tn.unstable_NormalPriority,EN=tn.unstable_LowPriority,wN=tn.unstable_IdlePriority,im={},mj=XC!==void 0?XC:function(){},Pa=null,yd=null,am=!1,HC=Ry(),Sn=1e4>HC?Ry:function(){return Ry()-HC};function Wl(){switch(vj()){case op:return 99;case xN:return 98;case bN:return 97;case EN:return 96;case wN:return 95;default:throw Error(Le(332))}}function SN(t){switch(t){case 99:return op;case 98:return xN;case 97:return bN;case 96:return EN;case 95:return wN;default:throw Error(Le(332))}}function ws(t,e){return t=SN(t),dj(t,e)}function ac(t,e,r){return t=SN(t),dE(t,e,r)}function ga(){if(yd!==null){var t=yd;yd=null,Iy(t)}CN()}function CN(){if(!am&&Pa!==null){am=!0;var t=0;try{var e=Pa;ws(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),Pa=null}catch(r){throw Pa!==null&&(Pa=Pa.slice(t+1)),dE(op,ga),r}finally{am=!1}}}var gj=Fs.ReactCurrentBatchConfig;function Ni(t,e){if(t&&t.defaultProps){e=fr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Zd=Mo(null),Jd=null,_l=null,Qd=null;function pE(){Qd=_l=Jd=null}function vE(t){var e=Zd.current;ir(Zd),t.type._context._currentValue=e}function TN(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Ol(t,e){Jd=t,Qd=_l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Di=!0),t.firstContext=null)}function xi(t,e){if(Qd!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Qd=t,e=1073741823),e={context:t,observedBits:e,next:null},_l===null){if(Jd===null)throw Error(Le(308));_l=e,Jd.dependencies={lanes:0,firstContext:e,responders:null}}else _l=_l.next=e;return t._currentValue}var Za=!1;function mE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function AN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function po(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vo(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function zC(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function oc(t,e,r,n){var i=t.updateQueue;Za=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var f=s,l=f.next;f.next=null,o===null?a=l:o.next=l,o=f;var u=t.alternate;if(u!==null){u=u.updateQueue;var c=u.lastBaseUpdate;c!==o&&(c===null?u.firstBaseUpdate=l:c.next=l,u.lastBaseUpdate=f)}}if(a!==null){c=i.baseState,o=0,u=l=f=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,d=a;switch(s=e,h=r,d.tag){case 1:if(p=d.payload,typeof p=="function"){c=p.call(h,c,s);break e}c=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=d.payload,s=typeof p=="function"?p.call(h,c,s):p,s==null)break e;c=fr({},c,s);break e;case 2:Za=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,f=c):u=u.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);u===null&&(f=c),i.baseState=f,i.firstBaseUpdate=l,i.lastBaseUpdate=u,Qc|=o,t.lanes=o,t.memoizedState=c}}function WC(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var IN=new Z0.Component().refs;function e0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:fr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var sp={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ni(),i=mo(t),a=po(n,i);a.payload=e,r!=null&&(a.callback=r),vo(t,a),go(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ni(),i=mo(t),a=po(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),vo(t,a),go(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ni(),n=mo(t),i=po(r,n);i.tag=2,e!=null&&(i.callback=e),vo(t,i),go(t,n,r)}};function YC(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!nc(r,n)||!nc(i,a):!0}function RN(t,e,r){var n=!1,i=Ao,a=e.contextType;return typeof a=="object"&&a!==null?a=xi(a):(i=Yn(e)?Es:Tn.current,n=e.contextTypes,a=(n=n!=null)?zl(t,i):Ao),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function qC(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&sp.enqueueReplaceState(e,e.state,null)}function Py(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=IN,mE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=xi(a):(a=Yn(e)?Es:Tn.current,i.context=zl(t,a)),oc(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(e0(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sp.enqueueReplaceState(i,i.state,null),oc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Ah=Array.isArray;function qu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===IN&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function Ih(t,e){if(t.type!=="textarea")throw Error(Le(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function PN(t){function e(_,v){if(t){var g=_.lastEffect;g!==null?(g.nextEffect=v,_.lastEffect=v):_.firstEffect=_.lastEffect=v,v.nextEffect=null,v.flags=8}}function r(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function n(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=Ro(_,v),_.index=0,_.sibling=null,_}function a(_,v,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<v?(_.flags=2,v):g):(_.flags=2,v)):v}function o(_){return t&&_.alternate===null&&(_.flags=2),_}function s(_,v,g,y){return v===null||v.tag!==6?(v=fm(g,_.mode,y),v.return=_,v):(v=i(v,g),v.return=_,v)}function f(_,v,g,y){return v!==null&&v.elementType===g.type?(y=i(v,g.props),y.ref=qu(_,v,g),y.return=_,y):(y=wd(g.type,g.key,g.props,null,_.mode,y),y.ref=qu(_,v,g),y.return=_,y)}function l(_,v,g,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=cm(g,_.mode,y),v.return=_,v):(v=i(v,g.children||[]),v.return=_,v)}function u(_,v,g,y,x){return v===null||v.tag!==7?(v=Ll(g,_.mode,y,x),v.return=_,v):(v=i(v,g),v.return=_,v)}function c(_,v,g){if(typeof v=="string"||typeof v=="number")return v=fm(""+v,_.mode,g),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xf:return g=wd(v.type,v.key,v.props,null,_.mode,g),g.ref=qu(_,null,v),g.return=_,g;case os:return v=cm(v,_.mode,g),v.return=_,v}if(Ah(v)||Gu(v))return v=Ll(v,_.mode,g,null),v.return=_,v;Ih(_,v)}return null}function h(_,v,g,y){var x=v!==null?v.key:null;if(typeof g=="string"||typeof g=="number")return x!==null?null:s(_,v,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xf:return g.key===x?g.type===eo?u(_,v,g.props.children,y,x):f(_,v,g,y):null;case os:return g.key===x?l(_,v,g,y):null}if(Ah(g)||Gu(g))return x!==null?null:u(_,v,g,y,null);Ih(_,g)}return null}function p(_,v,g,y,x){if(typeof y=="string"||typeof y=="number")return _=_.get(g)||null,s(v,_,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xf:return _=_.get(y.key===null?g:y.key)||null,y.type===eo?u(v,_,y.props.children,x,y.key):f(v,_,y,x);case os:return _=_.get(y.key===null?g:y.key)||null,l(v,_,y,x)}if(Ah(y)||Gu(y))return _=_.get(g)||null,u(v,_,y,x,null);Ih(v,y)}return null}function d(_,v,g,y){for(var x=null,b=null,E=v,w=v=0,S=null;E!==null&&w<g.length;w++){E.index>w?(S=E,E=null):S=E.sibling;var C=h(_,E,g[w],y);if(C===null){E===null&&(E=S);break}t&&E&&C.alternate===null&&e(_,E),v=a(C,v,w),b===null?x=C:b.sibling=C,b=C,E=S}if(w===g.length)return r(_,E),x;if(E===null){for(;w<g.length;w++)E=c(_,g[w],y),E!==null&&(v=a(E,v,w),b===null?x=E:b.sibling=E,b=E);return x}for(E=n(_,E);w<g.length;w++)S=p(E,_,w,g[w],y),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?w:S.key),v=a(S,v,w),b===null?x=S:b.sibling=S,b=S);return t&&E.forEach(function(T){return e(_,T)}),x}function m(_,v,g,y){var x=Gu(g);if(typeof x!="function")throw Error(Le(150));if(g=x.call(g),g==null)throw Error(Le(151));for(var b=x=null,E=v,w=v=0,S=null,C=g.next();E!==null&&!C.done;w++,C=g.next()){E.index>w?(S=E,E=null):S=E.sibling;var T=h(_,E,C.value,y);if(T===null){E===null&&(E=S);break}t&&E&&T.alternate===null&&e(_,E),v=a(T,v,w),b===null?x=T:b.sibling=T,b=T,E=S}if(C.done)return r(_,E),x;if(E===null){for(;!C.done;w++,C=g.next())C=c(_,C.value,y),C!==null&&(v=a(C,v,w),b===null?x=C:b.sibling=C,b=C);return x}for(E=n(_,E);!C.done;w++,C=g.next())C=p(E,_,w,C.value,y),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?w:C.key),v=a(C,v,w),b===null?x=C:b.sibling=C,b=C);return t&&E.forEach(function(I){return e(_,I)}),x}return function(_,v,g,y){var x=typeof g=="object"&&g!==null&&g.type===eo&&g.key===null;x&&(g=g.props.children);var b=typeof g=="object"&&g!==null;if(b)switch(g.$$typeof){case xf:e:{for(b=g.key,x=v;x!==null;){if(x.key===b){switch(x.tag){case 7:if(g.type===eo){r(_,x.sibling),v=i(x,g.props.children),v.return=_,_=v;break e}break;default:if(x.elementType===g.type){r(_,x.sibling),v=i(x,g.props),v.ref=qu(_,x,g),v.return=_,_=v;break e}}r(_,x);break}else e(_,x);x=x.sibling}g.type===eo?(v=Ll(g.props.children,_.mode,y,g.key),v.return=_,_=v):(y=wd(g.type,g.key,g.props,null,_.mode,y),y.ref=qu(_,v,g),y.return=_,_=y)}return o(_);case os:e:{for(x=g.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){r(_,v.sibling),v=i(v,g.children||[]),v.return=_,_=v;break e}else{r(_,v);break}else e(_,v);v=v.sibling}v=cm(g,_.mode,y),v.return=_,_=v}return o(_)}if(typeof g=="string"||typeof g=="number")return g=""+g,v!==null&&v.tag===6?(r(_,v.sibling),v=i(v,g),v.return=_,_=v):(r(_,v),v=fm(g,_.mode,y),v.return=_,_=v),o(_);if(Ah(g))return d(_,v,g,y);if(Gu(g))return m(_,v,g,y);if(b&&Ih(_,g),typeof g>"u"&&!x)switch(_.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Le(152,Tl(_.type)||"Component"))}return r(_,v)}}var t0=PN(!0),ON=PN(!1),Jc={},aa=Mo(Jc),sc=Mo(Jc),lc=Mo(Jc);function us(t){if(t===Jc)throw Error(Le(174));return t}function Oy(t,e){switch(_r(lc,e),_r(sc,t),_r(aa,Jc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vy(e,t)}ir(aa),_r(aa,e)}function Yl(){ir(aa),ir(sc),ir(lc)}function KC(t){us(lc.current);var e=us(aa.current),r=vy(e,t.type);e!==r&&(_r(sc,t),_r(aa,r))}function gE(t){sc.current===t&&(ir(aa),ir(sc))}var gr=Mo(0);function r0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Na=null,ao=null,oa=!1;function FN(t,e){var r=mi(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function ZC(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Fy(t){if(oa){var e=ao;if(e){var r=e;if(!ZC(t,e)){if(e=Pl(r.nextSibling),!e||!ZC(t,e)){t.flags=t.flags&-1025|2,oa=!1,Na=t;return}FN(Na,r)}Na=t,ao=Pl(e.firstChild)}else t.flags=t.flags&-1025|2,oa=!1,Na=t}}function JC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Na=t}function Rh(t){if(t!==Na)return!1;if(!oa)return JC(t),oa=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Ty(e,t.memoizedProps))for(e=ao;e;)FN(t,e),e=Pl(e.nextSibling);if(JC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ao=Pl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ao=null}}else ao=Na?Pl(t.stateNode.nextSibling):null;return!0}function om(){ao=Na=null,oa=!1}var Fl=[];function _E(){for(var t=0;t<Fl.length;t++)Fl[t]._workInProgressVersionPrimary=null;Fl.length=0}var Bf=Fs.ReactCurrentDispatcher,yi=Fs.ReactCurrentBatchConfig,uc=0,Cr=null,wn=null,un=null,n0=!1,Mf=!1;function jn(){throw Error(Le(321))}function yE(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!vi(t[r],e[r]))return!1;return!0}function xE(t,e,r,n,i,a){if(uc=a,Cr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bf.current=t===null||t.memoizedState===null?yj:xj,t=r(n,i),Mf){a=0;do{if(Mf=!1,!(25>a))throw Error(Le(301));a+=1,un=wn=null,e.updateQueue=null,Bf.current=bj,t=r(n,i)}while(Mf)}if(Bf.current=s0,e=wn!==null&&wn.next!==null,uc=0,un=wn=Cr=null,n0=!1,e)throw Error(Le(300));return t}function fs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Cr.memoizedState=un=t:un=un.next=t,un}function Ns(){if(wn===null){var t=Cr.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var e=un===null?Cr.memoizedState:un.next;if(e!==null)un=e,wn=t;else{if(t===null)throw Error(Le(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},un===null?Cr.memoizedState=un=t:un=un.next=t}return un}function ra(t,e){return typeof e=="function"?e(t):e}function Ku(t){var e=Ns(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=wn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,f=i;do{var l=f.lane;if((uc&l)===l)s!==null&&(s=s.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),n=f.eagerReducer===t?f.eagerState:t(n,f.action);else{var u={lane:l,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};s===null?(o=s=u,a=n):s=s.next=u,Cr.lanes|=l,Qc|=l}f=f.next}while(f!==null&&f!==i);s===null?a=n:s.next=o,vi(n,e.memoizedState)||(Di=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Zu(t){var e=Ns(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);vi(a,e.memoizedState)||(Di=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function QC(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(uc&t)===t)&&(e._workInProgressVersionPrimary=n,Fl.push(e))),t)return r(e._source);throw Fl.push(e),Error(Le(350))}function kN(t,e,r,n){var i=Nn;if(i===null)throw Error(Le(349));var a=e._getVersion,o=a(e._source),s=Bf.current,f=s.useState(function(){return QC(i,e,r)}),l=f[1],u=f[0];f=un;var c=t.memoizedState,h=c.refs,p=h.getSnapshot,d=c.source;c=c.subscribe;var m=Cr;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var _=a(e._source);if(!vi(o,_)){_=r(e._source),vi(u,_)||(l(_),_=mo(m),i.mutableReadLanes|=_&i.pendingLanes),_=i.mutableReadLanes,i.entangledLanes|=_;for(var v=i.entanglements,g=_;0<g;){var y=31-To(g),x=1<<y;v[y]|=_,g&=~x}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var _=h.getSnapshot,v=h.setSnapshot;try{v(_(e._source));var g=mo(m);i.mutableReadLanes|=g&i.pendingLanes}catch(y){v(function(){throw y})}})},[e,n]),vi(p,r)&&vi(d,e)&&vi(c,n)||(t={pending:null,dispatch:null,lastRenderedReducer:ra,lastRenderedState:u},t.dispatch=l=wE.bind(null,Cr,t),f.queue=t,f.baseQueue=null,u=QC(i,e,r),f.memoizedState=f.baseState=u),u}function NN(t,e,r){var n=Ns();return kN(n,t,e,r)}function Ju(t){var e=fs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},t=t.dispatch=wE.bind(null,Cr,t),[e.memoizedState,t]}function i0(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Cr.updateQueue,e===null?(e={lastEffect:null},Cr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function eT(t){var e=fs();return t={current:t},e.memoizedState=t}function a0(){return Ns().memoizedState}function ky(t,e,r,n){var i=fs();Cr.flags|=t,i.memoizedState=i0(1|e,r,void 0,n===void 0?null:n)}function bE(t,e,r,n){var i=Ns();n=n===void 0?null:n;var a=void 0;if(wn!==null){var o=wn.memoizedState;if(a=o.destroy,n!==null&&yE(n,o.deps)){i0(e,r,a,n);return}}Cr.flags|=t,i.memoizedState=i0(1|e,r,a,n)}function tT(t,e){return ky(516,4,t,e)}function o0(t,e){return bE(516,4,t,e)}function LN(t,e){return bE(4,2,t,e)}function BN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MN(t,e,r){return r=r!=null?r.concat([t]):null,bE(4,2,BN.bind(null,e,t),r)}function EE(){}function DN(t,e){var r=Ns();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yE(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function UN(t,e){var r=Ns();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yE(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _j(t,e){var r=Wl();ws(98>r?98:r,function(){t(!0)}),ws(97<r?97:r,function(){var n=yi.transition;yi.transition=1;try{t(!1),e()}finally{yi.transition=n}})}function wE(t,e,r){var n=ni(),i=mo(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===Cr||o!==null&&o===Cr)Mf=n0=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,f=o(s,r);if(a.eagerReducer=o,a.eagerState=f,vi(f,s))return}catch{}finally{}go(t,i,n)}}var s0={readContext:xi,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useOpaqueIdentifier:jn,unstable_isNewReconciler:!1},yj={readContext:xi,useCallback:function(t,e){return fs().memoizedState=[t,e===void 0?null:e],t},useContext:xi,useEffect:tT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ky(4,2,BN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ky(4,2,t,e)},useMemo:function(t,e){var r=fs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=fs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=wE.bind(null,Cr,t),[n.memoizedState,t]},useRef:eT,useState:Ju,useDebugValue:EE,useDeferredValue:function(t){var e=Ju(t),r=e[0],n=e[1];return tT(function(){var i=yi.transition;yi.transition=1;try{n(t)}finally{yi.transition=i}},[t]),r},useTransition:function(){var t=Ju(!1),e=t[0];return t=_j.bind(null,t[1]),eT(t),[t,e]},useMutableSource:function(t,e,r){var n=fs();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},kN(n,t,e,r)},useOpaqueIdentifier:function(){if(oa){var t=!1,e=hj(function(){throw t||(t=!0,r("r:"+(nm++).toString(36))),Error(Le(355))}),r=Ju(e)[1];return!(Cr.mode&2)&&(Cr.flags|=516,i0(5,function(){r("r:"+(nm++).toString(36))},void 0,null)),e}return e="r:"+(nm++).toString(36),Ju(e),e},unstable_isNewReconciler:!1},xj={readContext:xi,useCallback:DN,useContext:xi,useEffect:o0,useImperativeHandle:MN,useLayoutEffect:LN,useMemo:UN,useReducer:Ku,useRef:a0,useState:function(){return Ku(ra)},useDebugValue:EE,useDeferredValue:function(t){var e=Ku(ra),r=e[0],n=e[1];return o0(function(){var i=yi.transition;yi.transition=1;try{n(t)}finally{yi.transition=i}},[t]),r},useTransition:function(){var t=Ku(ra)[0];return[a0().current,t]},useMutableSource:NN,useOpaqueIdentifier:function(){return Ku(ra)[0]},unstable_isNewReconciler:!1},bj={readContext:xi,useCallback:DN,useContext:xi,useEffect:o0,useImperativeHandle:MN,useLayoutEffect:LN,useMemo:UN,useReducer:Zu,useRef:a0,useState:function(){return Zu(ra)},useDebugValue:EE,useDeferredValue:function(t){var e=Zu(ra),r=e[0],n=e[1];return o0(function(){var i=yi.transition;yi.transition=1;try{n(t)}finally{yi.transition=i}},[t]),r},useTransition:function(){var t=Zu(ra)[0];return[a0().current,t]},useMutableSource:NN,useOpaqueIdentifier:function(){return Zu(ra)[0]},unstable_isNewReconciler:!1},Ej=Fs.ReactCurrentOwner,Di=!1;function $n(t,e,r,n){e.child=t===null?ON(e,null,r,n):t0(e,t.child,r,n)}function rT(t,e,r,n,i){r=r.render;var a=e.ref;return Ol(e,i),n=xE(t,e,r,n,a,i),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,La(t,e,i)):(e.flags|=1,$n(t,e,n,i),e.child)}function nT(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!RE(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,jN(t,e,o,n,i,a)):(t=wd(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:nc,r(i,n)&&t.ref===e.ref)?La(t,e,a):(e.flags|=1,t=Ro(o,n),t.ref=e.ref,t.return=e,e.child=t)}function jN(t,e,r,n,i,a){if(t!==null&&nc(t.memoizedProps,n)&&t.ref===e.ref)if(Di=!1,(a&i)!==0)t.flags&16384&&(Di=!0);else return e.lanes=t.lanes,La(t,e,a);return Ny(t,e,r,n,a)}function sm(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Oh(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},Oh(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Oh(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Oh(e,n);return $n(t,e,i,r),e.child}function $N(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function Ny(t,e,r,n,i){var a=Yn(r)?Es:Tn.current;return a=zl(e,a),Ol(e,i),r=xE(t,e,r,n,a,i),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,La(t,e,i)):(e.flags|=1,$n(t,e,r,i),e.child)}function iT(t,e,r,n,i){if(Yn(r)){var a=!0;_d(e)}else a=!1;if(Ol(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),RN(e,r,n),Py(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var f=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=xi(l):(l=Yn(r)?Es:Tn.current,l=zl(e,l));var u=r.getDerivedStateFromProps,c=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||f!==l)&&qC(e,o,n,l),Za=!1;var h=e.memoizedState;o.state=h,oc(e,n,o,i),f=e.memoizedState,s!==n||h!==f||Wn.current||Za?(typeof u=="function"&&(e0(e,r,u,n),f=e.memoizedState),(s=Za||YC(e,r,s,n,h,f,l))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=f),o.props=n,o.state=f,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,AN(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Ni(e.type,s),o.props=l,c=e.pendingProps,h=o.context,f=r.contextType,typeof f=="object"&&f!==null?f=xi(f):(f=Yn(r)?Es:Tn.current,f=zl(e,f));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==c||h!==f)&&qC(e,o,n,f),Za=!1,h=e.memoizedState,o.state=h,oc(e,n,o,i);var d=e.memoizedState;s!==c||h!==d||Wn.current||Za?(typeof p=="function"&&(e0(e,r,p,n),d=e.memoizedState),(l=Za||YC(e,r,l,n,h,d,f))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,d,f),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,d,f)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=f,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return Ly(t,e,r,n,a,i)}function Ly(t,e,r,n,i,a){$N(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&GC(e,r,!1),La(t,e,a);n=e.stateNode,Ej.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=t0(e,t.child,null,a),e.child=t0(e,null,s,a)):$n(t,e,s,a),e.memoizedState=n.state,i&&GC(e,r,!0),e.child}function aT(t){var e=t.stateNode;e.pendingContext?VC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VC(t,e.context,!1),Oy(t,e.containerInfo)}var Ph={dehydrated:null,retryLane:0};function oT(t,e,r){var n=e.pendingProps,i=gr.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),_r(gr,i&1),t===null?(n.fallback!==void 0&&Fy(e),t=n.children,i=n.fallback,a?(t=sT(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Ph,t):typeof n.unstable_expectedLoadTime=="number"?(t=sT(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Ph,e.lanes=33554432,t):(r=PE({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=uT(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Ph,n):(r=lT(t,e,n.children,r),e.memoizedState=null,r):a?(n=uT(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Ph,n):(r=lT(t,e,n.children,r),e.memoizedState=null,r)}function sT(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=PE(e,i,0,null),r=Ll(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function lT(t,e,r,n){var i=t.child;return t=i.sibling,r=Ro(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function uT(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=Ro(o,s),t!==null?n=Ro(t,n):(n=Ll(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function fT(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),TN(t.return,e)}function lm(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function cT(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if($n(t,e,n.children,r),n=gr.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fT(t,r);else if(t.tag===19)fT(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(_r(gr,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&r0(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),lm(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&r0(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}lm(e,!0,r,null,a,e.lastEffect);break;case"together":lm(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function La(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qc|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=Ro(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ro(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var VN,By,GN,XN;VN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};By=function(){};GN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,us(aa.current);var a=null;switch(r){case"input":i=uy(t,i),n=uy(t,n),a=[];break;case"option":i=hy(t,i),n=hy(t,n),a=[];break;case"select":i=fr({},i,{value:void 0}),n=fr({},n,{value:void 0}),a=[];break;case"textarea":i=dy(t,i),n=dy(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Yd)}my(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Kf.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var f=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&f!==s&&(f!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||f&&f.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in f)f.hasOwnProperty(o)&&s[o]!==f[o]&&(r||(r={}),r[o]=f[o])}else r||(a||(a=[]),a.push(l,r)),r=f;else l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,s=s?s.__html:void 0,f!=null&&s!==f&&(a=a||[]).push(l,f)):l==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(l,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Kf.hasOwnProperty(l)?(f!=null&&l==="onScroll"&&rr("scroll",t),a||s===f||(a=[])):typeof f=="object"&&f!==null&&f.$$typeof===Kb?f.toString():(a=a||[]).push(l,f))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};XN=function(t,e,r,n){r!==n&&(e.flags|=4)};function Qu(t,e){if(!oa)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function wj(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Yn(e.type)&&Kd(),null;case 3:return Yl(),ir(Wn),ir(Tn),_E(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Rh(e)?e.flags|=4:n.hydrate||(e.flags|=256)),By(e),null;case 5:gE(e);var i=us(lc.current);if(r=e.type,t!==null&&e.stateNode!=null)GN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return null}if(t=us(aa.current),Rh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[io]=e,n[qd]=a,r){case"dialog":rr("cancel",n),rr("close",n);break;case"iframe":case"object":case"embed":rr("load",n);break;case"video":case"audio":for(t=0;t<Ef.length;t++)rr(Ef[t],n);break;case"source":rr("error",n);break;case"img":case"image":case"link":rr("error",n),rr("load",n);break;case"details":rr("toggle",n);break;case"input":cC(n,a),rr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},rr("invalid",n);break;case"textarea":dC(n,a),rr("invalid",n)}my(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Kf.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&rr("scroll",n));switch(r){case"input":wh(n),hC(n,a,!0);break;case"textarea":wh(n),pC(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Yd)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===py.html&&(t=Mk(r)),t===py.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[io]=e,t[qd]=n,VN(t,e,!1,!1),e.stateNode=t,o=gy(r,n),r){case"dialog":rr("cancel",t),rr("close",t),i=n;break;case"iframe":case"object":case"embed":rr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ef.length;i++)rr(Ef[i],t);i=n;break;case"source":rr("error",t),i=n;break;case"img":case"image":case"link":rr("error",t),rr("load",t),i=n;break;case"details":rr("toggle",t),i=n;break;case"input":cC(t,n),i=uy(t,n),rr("invalid",t);break;case"option":i=hy(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=fr({},n,{value:void 0}),rr("invalid",t);break;case"textarea":dC(t,n),i=dy(t,n),rr("invalid",t);break;default:i=n}my(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var f=s[a];a==="style"?jk(t,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Dk(t,f)):a==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&Zf(t,f):typeof f=="number"&&Zf(t,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Kf.hasOwnProperty(a)?f!=null&&a==="onScroll"&&rr("scroll",t):f!=null&&Xb(t,a,f,o))}switch(r){case"input":wh(t),hC(t,n,!1);break;case"textarea":wh(t),pC(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Co(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Al(t,!!n.multiple,a,!1):n.defaultValue!=null&&Al(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yd)}gN(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)XN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));r=us(lc.current),us(aa.current),Rh(e)?(n=e.stateNode,r=e.memoizedProps,n[io]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[io]=e,e.stateNode=n)}return null;case 13:return ir(gr),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Rh(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||gr.current&1?dn===0&&(dn=3):((dn===0||dn===3)&&(dn=4),Nn===null||!(Qc&134217727)&&!(mu&134217727)||kl(Nn,Cn))),(n||r)&&(e.flags|=4),null);case 4:return Yl(),By(e),t===null&&pN(e.stateNode.containerInfo),null;case 10:return vE(e),null;case 17:return Yn(e.type)&&Kd(),null;case 19:if(ir(gr),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)Qu(n,!1);else{if(dn!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=r0(t),o!==null){for(e.flags|=64,Qu(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return _r(gr,gr.current&1|2),e.child}t=t.sibling}n.tail!==null&&Sn()>Vy&&(e.flags|=64,a=!0,Qu(n,!1),e.lanes=33554432)}else{if(!a)if(t=r0(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Qu(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!oa)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Sn()-n.renderingStartTime>Vy&&r!==1073741824&&(e.flags|=64,a=!0,Qu(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Sn(),r.sibling=null,e=gr.current,_r(gr,a?e&1|2:e&1),r):null;case 23:case 24:return IE(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Le(156,e.tag))}function Sj(t){switch(t.tag){case 1:Yn(t.type)&&Kd();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Yl(),ir(Wn),ir(Tn),_E(),e=t.flags,e&64)throw Error(Le(285));return t.flags=e&-4097|64,t;case 5:return gE(t),null;case 13:return ir(gr),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return ir(gr),null;case 4:return Yl(),null;case 10:return vE(t),null;case 23:case 24:return IE(),null;default:return null}}function SE(t,e){try{var r="",n=e;do r+=iU(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function My(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Cj=typeof WeakMap=="function"?WeakMap:Map;function HN(t,e,r){r=po(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){u0||(u0=!0,Gy=n),My(t,e)},r}function zN(t,e,r){r=po(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return My(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(na===null?na=new Set([this]):na.add(this),My(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var Tj=typeof WeakSet=="function"?WeakSet:Set;function hT(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){_o(t,r)}else e.current=null}function Aj(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:Ni(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&cE(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Le(163))}function Ij(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(t4(r,t),Bj(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:Ni(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&WC(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}WC(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&gN(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&Kk(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Le(163))}function dT(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=Uk("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function pT(t,e){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(hE,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)t4(e,r);else{n=e;try{i()}catch(a){_o(n,a)}}r=r.next}while(r!==t)}break;case 1:if(hT(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){_o(e,a)}break;case 5:hT(e);break;case 4:WN(t,e)}}function vT(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function mT(t){return t.tag===5||t.tag===3||t.tag===4}function gT(t){e:{for(var e=t.return;e!==null;){if(mT(e))break e;e=e.return}throw Error(Le(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Le(161))}r.flags&16&&(Zf(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||mT(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Dy(t,r,e):Uy(t,r,e)}function Dy(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Yd));else if(n!==4&&(t=t.child,t!==null))for(Dy(t,e,r),t=t.sibling;t!==null;)Dy(t,e,r),t=t.sibling}function Uy(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Uy(t,e,r),t=t.sibling;t!==null;)Uy(t,e,r),t=t.sibling}function WN(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Le(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,f=s;;)if(pT(o,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(pT(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function um(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[qd]=n,t==="input"&&n.type==="radio"&&n.name!=null&&Lk(r,n),gy(t,i),e=gy(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?jk(r,s):o==="dangerouslySetInnerHTML"?Dk(r,s):o==="children"?Zf(r,s):Xb(r,o,s,e)}switch(t){case"input":fy(r,n);break;case"textarea":Bk(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?Al(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?Al(r,!!n.multiple,n.defaultValue,!0):Al(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Le(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,Kk(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(AE=Sn(),dT(e.child,!0)),_T(e);return;case 19:_T(e);return;case 17:return;case 23:case 24:dT(e,e.memoizedState!==null);return}throw Error(Le(163))}function _T(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Tj),e.forEach(function(n){var i=Uj.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Rj(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Pj=Math.ceil,l0=Fs.ReactCurrentDispatcher,CE=Fs.ReactCurrentOwner,lt=0,Nn=null,$r=null,Cn=0,Ss=0,jy=Mo(0),dn=0,lp=null,vu=0,Qc=0,mu=0,TE=0,$y=null,AE=0,Vy=1/0;function gu(){Vy=Sn()+500}var We=null,u0=!1,Gy=null,na=null,Io=!1,Df=null,wf=90,Xy=[],Hy=[],Da=null,Uf=0,zy=null,xd=-1,Fa=0,bd=0,jf=null,Ed=!1;function ni(){return lt&48?Sn():xd!==-1?xd:xd=Sn()}function mo(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Wl()===99?1:2;if(Fa===0&&(Fa=vu),gj.transition!==0){bd!==0&&(bd=$y!==null?$y.pendingLanes:0),t=Fa;var e=4186112&~bd;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Wl(),lt&4&&t===98?t=zd(12,Fa):(t=xU(t),t=zd(t,Fa)),t}function go(t,e,r){if(50<Uf)throw Uf=0,zy=null,Error(Le(185));if(t=up(t,e),t===null)return null;tp(t,e,r),t===Nn&&(mu|=e,dn===4&&kl(t,Cn));var n=Wl();e===1?lt&8&&!(lt&48)?Wy(t):(bi(t,r),lt===0&&(gu(),ga())):(!(lt&4)||n!==98&&n!==99||(Da===null?Da=new Set([t]):Da.add(t)),bi(t,r)),$y=t}function up(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function bi(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-To(o),f=1<<s,l=a[s];if(l===-1){if(!(f&n)||f&i){l=e,fl(f);var u=er;a[s]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=f);o&=~f}if(n=tc(t,t===Nn?Cn:0),e=er,n===0)r!==null&&(r!==im&&Iy(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==im&&Iy(r)}e===15?(r=Wy.bind(null,t),Pa===null?(Pa=[r],yd=dE(op,CN)):Pa.push(r),r=im):e===14?r=ac(99,Wy.bind(null,t)):(r=bU(e),r=ac(r,YN.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function YN(t){if(xd=-1,bd=Fa=0,lt&48)throw Error(Le(327));var e=t.callbackNode;if(Do()&&t.callbackNode!==e)return null;var r=tc(t,t===Nn?Cn:0);if(r===0)return null;var n=r,i=lt;lt|=16;var a=JN();(Nn!==t||Cn!==n)&&(gu(),Nl(t,n));do try{kj();break}catch(s){ZN(t,s)}while(1);if(pE(),l0.current=a,lt=i,$r!==null?n=0:(Nn=null,Cn=0,n=dn),vu&mu)Nl(t,0);else if(n!==0){if(n===2&&(lt|=64,t.hydrate&&(t.hydrate=!1,cE(t.containerInfo)),r=nN(t),r!==0&&(n=Sf(t,r))),n===1)throw e=lp,Nl(t,0),kl(t,r),bi(t,Sn()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(Le(345));case 2:Zo(t);break;case 3:if(kl(t,r),(r&62914560)===r&&(n=AE+500-Sn(),10<n)){if(tc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ni(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=UC(Zo.bind(null,t),n);break}Zo(t);break;case 4:if(kl(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-To(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=Sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pj(r/1960))-r,10<r){t.timeoutHandle=UC(Zo.bind(null,t),r);break}Zo(t);break;case 5:Zo(t);break;default:throw Error(Le(329))}}return bi(t,Sn()),t.callbackNode===e?YN.bind(null,t):null}function kl(t,e){for(e&=~TE,e&=~mu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-To(e),n=1<<r;t[r]=-1,e&=~n}}function Wy(t){if(lt&48)throw Error(Le(327));if(Do(),t===Nn&&t.expiredLanes&Cn){var e=Cn,r=Sf(t,e);vu&mu&&(e=tc(t,e),r=Sf(t,e))}else e=tc(t,0),r=Sf(t,e);if(t.tag!==0&&r===2&&(lt|=64,t.hydrate&&(t.hydrate=!1,cE(t.containerInfo)),e=nN(t),e!==0&&(r=Sf(t,e))),r===1)throw r=lp,Nl(t,0),kl(t,e),bi(t,Sn()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zo(t),bi(t,Sn()),null}function Oj(){if(Da!==null){var t=Da;Da=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,bi(e,Sn())})}ga()}function qN(t,e){var r=lt;lt|=1;try{return t(e)}finally{lt=r,lt===0&&(gu(),ga())}}function KN(t,e){var r=lt;lt&=-2,lt|=8;try{return t(e)}finally{lt=r,lt===0&&(gu(),ga())}}function Oh(t,e){_r(jy,Ss),Ss|=e,vu|=e}function IE(){Ss=jy.current,ir(jy)}function Nl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,cj(r)),$r!==null)for(r=$r.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kd();break;case 3:Yl(),ir(Wn),ir(Tn),_E();break;case 5:gE(n);break;case 4:Yl();break;case 13:ir(gr);break;case 19:ir(gr);break;case 10:vE(n);break;case 23:case 24:IE()}r=r.return}Nn=t,$r=Ro(t.current,null),Cn=Ss=vu=e,dn=0,lp=null,TE=mu=Qc=0}function ZN(t,e){do{var r=$r;try{if(pE(),Bf.current=s0,n0){for(var n=Cr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}n0=!1}if(uc=0,un=wn=Cr=null,Mf=!1,CE.current=null,r===null||r.return===null){dn=1,lp=e,$r=null;break}e:{var a=t,o=r.return,s=r,f=e;if(e=Cn,s.flags|=2048,s.firstEffect=s.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var l=f;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var c=(gr.current&1)!==0,h=o;do{var p;if(p=h.tag===13){var d=h.memoizedState;if(d!==null)p=d.dehydrated!==null;else{var m=h.memoizedProps;p=m.fallback===void 0?!1:m.unstable_avoidThisFallback!==!0?!0:!c}}if(p){var _=h.updateQueue;if(_===null){var v=new Set;v.add(l),h.updateQueue=v}else _.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var g=po(-1,1);g.tag=2,vo(s,g)}s.lanes|=1;break e}f=void 0,s=e;var y=a.pingCache;if(y===null?(y=a.pingCache=new Cj,f=new Set,y.set(l,f)):(f=y.get(l),f===void 0&&(f=new Set,y.set(l,f))),!f.has(s)){f.add(s);var x=Dj.bind(null,a,l,s);l.then(x,x)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);f=Error((Tl(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}dn!==5&&(dn=2),f=SE(f,s),h=o;do{switch(h.tag){case 3:a=f,h.flags|=4096,e&=-e,h.lanes|=e;var b=HN(h,a,e);zC(h,b);break e;case 1:a=f;var E=h.type,w=h.stateNode;if(!(h.flags&64)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(na===null||!na.has(w)))){h.flags|=4096,e&=-e,h.lanes|=e;var S=zN(h,a,e);zC(h,S);break e}}h=h.return}while(h!==null)}e4(r)}catch(C){e=C,$r===r&&r!==null&&($r=r=r.return);continue}break}while(1)}function JN(){var t=l0.current;return l0.current=s0,t===null?s0:t}function Sf(t,e){var r=lt;lt|=16;var n=JN();Nn===t&&Cn===e||Nl(t,e);do try{Fj();break}catch(i){ZN(t,i)}while(1);if(pE(),lt=r,l0.current=n,$r!==null)throw Error(Le(261));return Nn=null,Cn=0,dn}function Fj(){for(;$r!==null;)QN($r)}function kj(){for(;$r!==null&&!pj();)QN($r)}function QN(t){var e=r4(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,e===null?e4(t):$r=e,CE.current=null}function e4(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=Sj(e),r!==null){r.flags&=2047,$r=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=wj(r,e,Ss),r!==null){$r=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||Ss&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){$r=e;return}$r=e=t}while(e!==null);dn===0&&(dn=5)}function Zo(t){var e=Wl();return ws(99,Nj.bind(null,t,e)),null}function Nj(t,e){do Do();while(Df!==null);if(lt&48)throw Error(Le(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var f=31-To(a),l=1<<f;i[f]=0,o[f]=-1,s[f]=-1,a&=~l}if(Da!==null&&!(n&24)&&Da.has(t)&&Da.delete(t),t===Nn&&($r=Nn=null,Cn=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=lt,lt|=32,CE.current=null,tm=vd,o=FC(),wy(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,f=l.focusNode,l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var u=0,c=-1,h=-1,p=0,d=0,m=o,_=null;t:for(;;){for(var v;m!==s||a!==0&&m.nodeType!==3||(c=u+a),m!==f||l!==0&&m.nodeType!==3||(h=u+l),m.nodeType===3&&(u+=m.nodeValue.length),(v=m.firstChild)!==null;)_=m,m=v;for(;;){if(m===o)break t;if(_===s&&++p===a&&(c=u),_===f&&++d===l&&(h=u),(v=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=v}s=c===-1||h===-1?null:{start:c,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;rm={focusedElem:o,selectionRange:s},vd=!1,jf=null,Ed=!1,We=n;do try{Lj()}catch(C){if(We===null)throw Error(Le(330));_o(We,C),We=We.nextEffect}while(We!==null);jf=null,We=n;do try{for(o=t;We!==null;){var g=We.flags;if(g&16&&Zf(We.stateNode,""),g&128){var y=We.alternate;if(y!==null){var x=y.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(g&1038){case 2:gT(We),We.flags&=-3;break;case 6:gT(We),We.flags&=-3,um(We.alternate,We);break;case 1024:We.flags&=-1025;break;case 1028:We.flags&=-1025,um(We.alternate,We);break;case 4:um(We.alternate,We);break;case 8:s=We,WN(o,s);var b=s.alternate;vT(s),b!==null&&vT(b)}We=We.nextEffect}}catch(C){if(We===null)throw Error(Le(330));_o(We,C),We=We.nextEffect}while(We!==null);if(x=rm,y=FC(),g=x.focusedElem,o=x.selectionRange,y!==g&&g&&g.ownerDocument&&cN(g.ownerDocument.documentElement,g)){for(o!==null&&wy(g)&&(y=o.start,x=o.end,x===void 0&&(x=y),"selectionStart"in g?(g.selectionStart=y,g.selectionEnd=Math.min(x,g.value.length)):(x=(y=g.ownerDocument||document)&&y.defaultView||window,x.getSelection&&(x=x.getSelection(),s=g.textContent.length,b=Math.min(o.start,s),o=o.end===void 0?b:Math.min(o.end,s),!x.extend&&b>o&&(s=o,o=b,b=s),s=OC(g,b),a=OC(g,o),s&&a&&(x.rangeCount!==1||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==a.node||x.focusOffset!==a.offset)&&(y=y.createRange(),y.setStart(s.node,s.offset),x.removeAllRanges(),b>o?(x.addRange(y),x.extend(a.node,a.offset)):(y.setEnd(a.node,a.offset),x.addRange(y)))))),y=[],x=g;x=x.parentNode;)x.nodeType===1&&y.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<y.length;g++)x=y[g],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}vd=!!tm,rm=tm=null,t.current=r,We=n;do try{for(g=t;We!==null;){var E=We.flags;if(E&36&&Ij(g,We.alternate,We),E&128){y=void 0;var w=We.ref;if(w!==null){var S=We.stateNode;switch(We.tag){case 5:y=S;break;default:y=S}typeof w=="function"?w(y):w.current=y}}We=We.nextEffect}}catch(C){if(We===null)throw Error(Le(330));_o(We,C),We=We.nextEffect}while(We!==null);We=null,mj(),lt=i}else t.current=r;if(Io)Io=!1,Df=t,wf=e;else for(We=n;We!==null;)e=We.nextEffect,We.nextEffect=null,We.flags&8&&(E=We,E.sibling=null,E.stateNode=null),We=e;if(n=t.pendingLanes,n===0&&(na=null),n===1?t===zy?Uf++:(Uf=0,zy=t):Uf=0,r=r.stateNode,ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(hE,r,void 0,(r.current.flags&64)===64)}catch{}if(bi(t,Sn()),u0)throw u0=!1,t=Gy,Gy=null,t;return lt&8||ga(),null}function Lj(){for(;We!==null;){var t=We.alternate;Ed||jf===null||(We.flags&8?gC(We,jf)&&(Ed=!0):We.tag===13&&Rj(t,We)&&gC(We,jf)&&(Ed=!0));var e=We.flags;e&256&&Aj(t,We),!(e&512)||Io||(Io=!0,ac(97,function(){return Do(),null})),We=We.nextEffect}}function Do(){if(wf!==90){var t=97<wf?97:wf;return wf=90,ws(t,Mj)}return!1}function Bj(t,e){Xy.push(e,t),Io||(Io=!0,ac(97,function(){return Do(),null}))}function t4(t,e){Hy.push(e,t),Io||(Io=!0,ac(97,function(){return Do(),null}))}function Mj(){if(Df===null)return!1;var t=Df;if(Df=null,lt&48)throw Error(Le(331));var e=lt;lt|=32;var r=Hy;Hy=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(f){if(a===null)throw Error(Le(330));_o(a,f)}}for(r=Xy,Xy=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(f){if(a===null)throw Error(Le(330));_o(a,f)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return lt=e,ga(),!0}function yT(t,e,r){e=SE(r,e),e=HN(t,e,1),vo(t,e),e=ni(),t=up(t,1),t!==null&&(tp(t,1,e),bi(t,e))}function _o(t,e){if(t.tag===3)yT(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){yT(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(na===null||!na.has(n))){t=SE(e,t);var i=zN(r,t,1);if(vo(r,i),i=ni(),r=up(r,1),r!==null)tp(r,1,i),bi(r,i);else if(typeof n.componentDidCatch=="function"&&(na===null||!na.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function Dj(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ni(),t.pingedLanes|=t.suspendedLanes&r,Nn===t&&(Cn&r)===r&&(dn===4||dn===3&&(Cn&62914560)===Cn&&500>Sn()-AE?Nl(t,0):TE|=r),bi(t,e)}function Uj(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Fa===0&&(Fa=vu),e=cl(62914560&~Fa),e===0&&(e=4194304)):e=Wl()===99?1:2:e=1),r=ni(),t=up(t,e),t!==null&&(tp(t,e,r),bi(t,r))}var r4;r4=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Wn.current)Di=!0;else if(r&n)Di=!!(t.flags&16384);else{switch(Di=!1,e.tag){case 3:aT(e),om();break;case 5:KC(e);break;case 1:Yn(e.type)&&_d(e);break;case 4:Oy(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;_r(Zd,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?oT(t,e,r):(_r(gr,gr.current&1),e=La(t,e,r),e!==null?e.sibling:null);_r(gr,gr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return cT(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_r(gr,gr.current),n)break;return null;case 23:case 24:return e.lanes=0,sm(t,e,r)}return La(t,e,r)}else Di=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=zl(e,Tn.current),Ol(e,r),i=xE(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yn(n)){var a=!0;_d(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mE(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&e0(e,n,o,t),i.updater=sp,e.stateNode=i,i._reactInternals=e,Py(e,n,t,r),e=Ly(null,e,n,!0,a,r)}else e.tag=0,$n(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=$j(i),t=Ni(i,t),a){case 0:e=Ny(null,e,i,t,r);break e;case 1:e=iT(null,e,i,t,r);break e;case 11:e=rT(null,e,i,t,r);break e;case 14:e=nT(null,e,i,Ni(i.type,t),n,r);break e}throw Error(Le(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),Ny(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),iT(t,e,n,i,r);case 3:if(aT(e),n=e.updateQueue,t===null||n===null)throw Error(Le(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,AN(t,e),oc(e,n,null,r),n=e.memoizedState.element,n===i)om(),e=La(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(ao=Pl(e.stateNode.containerInfo.firstChild),Na=e,a=oa=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],Fl.push(a);for(r=ON(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else $n(t,e,n,r),om();e=e.child}return e;case 5:return KC(e),t===null&&Fy(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Ty(n,i)?o=null:a!==null&&Ty(n,a)&&(e.flags|=16),$N(t,e),$n(t,e,o,r),e.child;case 6:return t===null&&Fy(e),null;case 13:return oT(t,e,r);case 4:return Oy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=t0(e,null,n,r):$n(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),rT(t,e,n,i,r);case 7:return $n(t,e,e.pendingProps,r),e.child;case 8:return $n(t,e,e.pendingProps.children,r),e.child;case 12:return $n(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(_r(Zd,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=vi(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!Wn.current){e=La(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var f=s.dependencies;if(f!==null){o=s.child;for(var l=f.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=po(-1,r&-r),l.tag=2,vo(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),TN(s.return,r),f.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$n(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,Ol(e,r),i=xi(i,a.unstable_observedBits),n=n(i),e.flags|=1,$n(t,e,n,r),e.child;case 14:return i=e.type,a=Ni(i,e.pendingProps),a=Ni(i.type,a),nT(t,e,i,a,n,r);case 15:return jN(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Yn(n)?(t=!0,_d(e)):t=!1,Ol(e,r),RN(e,n,i),Py(e,n,i,r),Ly(null,e,n,!0,t,r);case 19:return cT(t,e,r);case 23:return sm(t,e,r);case 24:return sm(t,e,r)}throw Error(Le(156,e.tag))};function jj(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(t,e,r,n){return new jj(t,e,r,n)}function RE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $j(t){if(typeof t=="function")return RE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J0)return 11;if(t===Q0)return 14}return 2}function Ro(t,e){var r=t.alternate;return r===null?(r=mi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function wd(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")RE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case eo:return Ll(r.children,i,a,e);case Fk:o=8,i|=16;break;case Hb:o=8,i|=1;break;case Rf:return t=mi(12,r,e,i|8),t.elementType=Rf,t.type=Rf,t.lanes=a,t;case Pf:return t=mi(13,r,e,i),t.type=Pf,t.elementType=Pf,t.lanes=a,t;case Vd:return t=mi(19,r,e,i),t.elementType=Vd,t.lanes=a,t;case Zb:return PE(r,i,a,e);case ly:return t=mi(24,r,e,i),t.elementType=ly,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zb:o=10;break e;case Wb:o=9;break e;case J0:o=11;break e;case Q0:o=14;break e;case Yb:o=16,n=null;break e;case qb:o=22;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=mi(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ll(t,e,r,n){return t=mi(7,t,n,e),t.lanes=r,t}function PE(t,e,r,n){return t=mi(23,t,n,e),t.elementType=Zb,t.lanes=r,t}function fm(t,e,r){return t=mi(6,t,null,e),t.lanes=r,t}function cm(t,e,r){return e=mi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vj(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Yv(0),this.expirationTimes=Yv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yv(0),this.mutableSourceEagerHydrationData=null}function Gj(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function f0(t,e,r,n){var i=e.current,a=ni(),o=mo(i);e:if(r){r=r._reactInternals;t:{if(ks(r)!==r||r.tag!==1)throw Error(Le(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Yn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Le(171))}if(r.tag===1){var f=r.type;if(Yn(f)){r=yN(r,f,s);break e}}r=s}else r=Ao;return e.context===null?e.context=r:e.pendingContext=r,e=po(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),vo(i,e),go(i,o,a),o}function hm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function OE(t,e){xT(t,e),(t=t.alternate)&&xT(t,e)}function Xj(){return null}function FE(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Vj(t,e,r!=null&&r.hydrate===!0),e=mi(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,mE(e),t[pu]=r.current,pN(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}FE.prototype.render=function(t){f0(t,this._internalRoot,null,null)};FE.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;f0(null,t,null,function(){e[pu]=null})};function eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hj(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new FE(t,0,e?{hydrate:!0}:void 0)}function fp(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=hm(o);s.call(l)}}f0(e,o,t,i)}else{if(a=r._reactRootContainer=Hj(r,n),o=a._internalRoot,typeof i=="function"){var f=i;i=function(){var l=hm(o);f.call(l)}}KN(function(){f0(e,o,t,i)})}return hm(o)}Wk=function(t){if(t.tag===13){var e=ni();go(t,4,e),OE(t,4)}};rE=function(t){if(t.tag===13){var e=ni();go(t,67108864,e),OE(t,67108864)}};Yk=function(t){if(t.tag===13){var e=ni(),r=mo(t);go(t,r,e),OE(t,r)}};qk=function(t,e){return e()};_y=function(t,e,r){switch(e){case"input":if(fy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ap(n);if(!i)throw Error(Le(90));Nk(n),fy(n,i)}}}break;case"textarea":Bk(t,r);break;case"select":e=r.value,e!=null&&Al(t,!!r.multiple,e,!1)}};Qb=qN;Gk=function(t,e,r,n,i){var a=lt;lt|=4;try{return ws(98,t.bind(null,e,r,n,i))}finally{lt=a,lt===0&&(gu(),ga())}};eE=function(){!(lt&49)&&(Oj(),Do())};Xk=function(t,e){var r=lt;lt|=2;try{return t(e)}finally{lt=r,lt===0&&(gu(),ga())}};function n4(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eh(e))throw Error(Le(200));return Gj(t,e,null,r)}var zj={Events:[Zc,ml,ap,$k,Vk,Do,{current:!1}]},ef={findFiberByHostInstance:ls,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Wj={bundleType:ef.bundleType,version:ef.version,rendererPackageName:ef.rendererPackageName,rendererConfig:ef.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zk(t),t===null?null:t.stateNode},findFiberByHostInstance:ef.findFiberByHostInstance||Xj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{hE=Fh.inject(Wj),ms=Fh}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zj;Ei.createPortal=n4;Ei.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):Error(Le(268,Object.keys(t)));return t=zk(e),t=t===null?null:t.stateNode,t};Ei.flushSync=function(t,e){var r=lt;if(r&48)return t(e);lt|=1;try{if(t)return ws(99,t.bind(null,e))}finally{lt=r,ga()}};Ei.hydrate=function(t,e,r){if(!eh(e))throw Error(Le(200));return fp(null,t,e,!0,r)};Ei.render=function(t,e,r){if(!eh(e))throw Error(Le(200));return fp(null,t,e,!1,r)};Ei.unmountComponentAtNode=function(t){if(!eh(t))throw Error(Le(40));return t._reactRootContainer?(KN(function(){fp(null,null,t,!1,function(){t._reactRootContainer=null,t[pu]=null})}),!0):!1};Ei.unstable_batchedUpdates=qN;Ei.unstable_createPortal=function(t,e){return n4(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ei.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!eh(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return fp(t,e,r,!1,n)};Ei.version="17.0.2";function i4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i4)}catch(t){console.error(t)}}i4(),Ik.exports=Ei;var a4=Ik.exports;const Cs=mn(a4);const Yj="_Title_main_b0fhe_1",qj="_Title_buttonList_b0fhe_8",Kj="_Title_button_b0fhe_8",Zj="_Title_button_text_b0fhe_39",Jj="_Title_backup_background_b0fhe_46",Qn={Title_main:Yj,Title_buttonList:qj,Title_button:Kj,Title_button_text:Zj,Title_backup_background:Jj};function Mi(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Po(t){return!!t&&!!t[sr]}function $a(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===s9}(t)||Array.isArray(t)||!!t[AT]||!!(!((e=t.constructor)===null||e===void 0)&&e[AT])||kE(t)||NE(t))}function Ts(t,e,r){r===void 0&&(r=!1),_u(t)===0?(r?Object.keys:Ml)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function _u(t){var e=t[sr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:kE(t)?2:NE(t)?3:0}function Bl(t,e){return _u(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Qj(t,e){return _u(t)===2?t.get(e):t[e]}function o4(t,e,r){var n=_u(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function s4(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function kE(t){return a9&&t instanceof Map}function NE(t){return o9&&t instanceof Set}function Jo(t){return t.o||t.t}function LE(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=u4(t);delete e[sr];for(var r=Ml(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function BE(t,e){return e===void 0&&(e=!1),ME(t)||Po(t)||!$a(t)||(_u(t)>1&&(t.set=t.add=t.clear=t.delete=e9),Object.freeze(t),e&&Ts(t,function(r,n){return BE(n,!0)},!0)),t}function e9(){Mi(2)}function ME(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function sa(t){var e=Zy[t];return e||Mi(18,t),e}function t9(t,e){Zy[t]||(Zy[t]=e)}function Yy(){return fc}function dm(t,e){e&&(sa("Patches"),t.u=[],t.s=[],t.v=e)}function c0(t){qy(t),t.p.forEach(r9),t.p=null}function qy(t){t===fc&&(fc=t.l)}function bT(t){return fc={p:[],l:fc,h:t,m:!0,_:0}}function r9(t){var e=t[sr];e.i===0||e.i===1?e.j():e.g=!0}function pm(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||sa("ES5").S(e,t,n),n?(r[sr].P&&(c0(e),Mi(4)),$a(t)&&(t=h0(e,t),e.l||d0(e,t)),e.u&&sa("Patches").M(r[sr].t,t,e.u,e.s)):t=h0(e,r,[]),c0(e),e.u&&e.v(e.u,e.s),t!==l4?t:void 0}function h0(t,e,r){if(ME(e))return e;var n=e[sr];if(!n)return Ts(e,function(s,f){return ET(t,n,e,s,f,r)},!0),e;if(n.A!==t)return e;if(!n.P)return d0(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=LE(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),Ts(a,function(s,f){return ET(t,n,i,s,f,r,o)}),d0(t,i,!1),r&&t.u&&sa("Patches").N(n,r,t.u,t.s)}return n.o}function ET(t,e,r,n,i,a,o){if(Po(i)){var s=h0(t,i,a&&e&&e.i!==3&&!Bl(e.R,n)?a.concat(n):void 0);if(o4(r,n,s),!Po(s))return;t.m=!1}else o&&r.add(i);if($a(i)&&!ME(i)){if(!t.h.D&&t._<1)return;h0(t,i),e&&e.A.l||d0(t,i)}}function d0(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&BE(e,r)}function vm(t,e){var r=t[sr];return(r?Jo(r):t)[e]}function wT(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function to(t){t.P||(t.P=!0,t.l&&to(t.l))}function mm(t){t.o||(t.o=LE(t.t))}function Ky(t,e,r){var n=kE(e)?sa("MapSet").F(e,r):NE(e)?sa("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:Yy(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},f=s,l=cc;o&&(f=[s],l=Cf);var u=Proxy.revocable(f,l),c=u.revoke,h=u.proxy;return s.k=h,s.j=c,h}(e,r):sa("ES5").J(e,r);return(r?r.A:Yy()).p.push(n),n}function n9(t){return Po(t)||Mi(22,t),function e(r){if(!$a(r))return r;var n,i=r[sr],a=_u(r);if(i){if(!i.P&&(i.i<4||!sa("ES5").K(i)))return i.t;i.I=!0,n=ST(r,a),i.I=!1}else n=ST(r,a);return Ts(n,function(o,s){i&&Qj(i.t,o)===s||o4(n,o,e(s))}),a===3?new Set(n):n}(t)}function ST(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return LE(t)}function i9(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var f=this[sr];return cc.get(f,a)},set:function(f){var l=this[sr];cc.set(l,a,f)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][sr];if(!s.P)switch(s.i){case 5:n(s)&&to(s);break;case 4:r(s)&&to(s)}}}function r(a){for(var o=a.t,s=a.k,f=Ml(s),l=f.length-1;l>=0;l--){var u=f[l];if(u!==sr){var c=o[u];if(c===void 0&&!Bl(o,u))return!0;var h=s[u],p=h&&h[sr];if(p?p.t!==c:!s4(h,c))return!0}}var d=!!o[sr];return f.length!==Ml(o).length+(d?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var f=0;f<o.length;f++)if(!o.hasOwnProperty(f))return!0;return!1}var i={};t9("ES5",{J:function(a,o){var s=Array.isArray(a),f=function(u,c){if(u){for(var h=Array(c.length),p=0;p<c.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var d=u4(c);delete d[sr];for(var m=Ml(d),_=0;_<m.length;_++){var v=m[_];d[v]=t(v,u||!!d[v].enumerable)}return Object.create(Object.getPrototypeOf(c),d)}(s,a),l={i:s?5:4,A:o?o.A:Yy(),P:!1,I:!1,R:{},l:o,t:a,k:f,o:null,g:!1,C:!1};return Object.defineProperty(f,sr,{value:l,writable:!0}),f},S:function(a,o,s){s?Po(o)&&o[sr].A===a&&e(a.p):(a.u&&function f(l){if(l&&typeof l=="object"){var u=l[sr];if(u){var c=u.t,h=u.k,p=u.R,d=u.i;if(d===4)Ts(h,function(y){y!==sr&&(c[y]!==void 0||Bl(c,y)?p[y]||f(h[y]):(p[y]=!0,to(u)))}),Ts(c,function(y){h[y]!==void 0||Bl(h,y)||(p[y]=!1,to(u))});else if(d===5){if(n(u)&&(to(u),p.length=!0),h.length<c.length)for(var m=h.length;m<c.length;m++)p[m]=!1;else for(var _=c.length;_<h.length;_++)p[_]=!0;for(var v=Math.min(h.length,c.length),g=0;g<v;g++)h.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&f(h[g])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var CT,fc,DE=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",a9=typeof Map<"u",o9=typeof Set<"u",TT=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",l4=DE?Symbol.for("immer-nothing"):((CT={})["immer-nothing"]=!0,CT),AT=DE?Symbol.for("immer-draftable"):"__$immer_draftable",sr=DE?Symbol.for("immer-state"):"__$immer_state",s9=""+Object.prototype.constructor,Ml=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,u4=Object.getOwnPropertyDescriptors||function(t){var e={};return Ml(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},Zy={},cc={get:function(t,e){if(e===sr)return t;var r=Jo(t);if(!Bl(r,e))return function(i,a,o){var s,f=wT(a,o);return f?"value"in f?f.value:(s=f.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!$a(n)?n:n===vm(t.t,e)?(mm(t),t.o[e]=Ky(t.A.h,n,t)):n},has:function(t,e){return e in Jo(t)},ownKeys:function(t){return Reflect.ownKeys(Jo(t))},set:function(t,e,r){var n=wT(Jo(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=vm(Jo(t),e),a=i==null?void 0:i[sr];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(s4(r,i)&&(r!==void 0||Bl(t.t,e)))return!0;mm(t),to(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return vm(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,mm(t),to(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=Jo(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Mi(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Mi(12)}},Cf={};Ts(cc,function(t,e){Cf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Cf.deleteProperty=function(t,e){return Cf.set.call(this,t,e,void 0)},Cf.set=function(t,e,r){return cc.set.call(this,t[0],e,r,t[0])};var l9=function(){function t(r){var n=this;this.O=TT,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var f=n;return function(m){var _=this;m===void 0&&(m=s);for(var v=arguments.length,g=Array(v>1?v-1:0),y=1;y<v;y++)g[y-1]=arguments[y];return f.produce(m,function(x){var b;return(b=a).call.apply(b,[_,x].concat(g))})}}var l;if(typeof a!="function"&&Mi(6),o!==void 0&&typeof o!="function"&&Mi(7),$a(i)){var u=bT(n),c=Ky(n,i,void 0),h=!0;try{l=a(c),h=!1}finally{h?c0(u):qy(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return dm(u,o),pm(m,u)},function(m){throw c0(u),m}):(dm(u,o),pm(l,u))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===l4&&(l=void 0),n.D&&BE(l,!0),o){var p=[],d=[];sa("Patches").M(i,l,p,d),o(p,d)}return l}Mi(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var u=arguments.length,c=Array(u>1?u-1:0),h=1;h<u;h++)c[h-1]=arguments[h];return n.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(c))})};var o,s,f=n.produce(i,a,function(l,u){o=l,s=u});return typeof Promise<"u"&&f instanceof Promise?f.then(function(l){return[l,o,s]}):[f,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){$a(r)||Mi(8),Po(r)&&(r=n9(r));var n=bT(this),i=Ky(this,r,void 0);return i[sr].C=!0,qy(n),i},e.finishDraft=function(r,n){var i=r&&r[sr],a=i.A;return dm(a,n),pm(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!TT&&Mi(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=sa("Patches").$;return Po(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),ai=new l9,f4=ai.produce;ai.produceWithPatches.bind(ai);ai.setAutoFreeze.bind(ai);ai.setUseProxies.bind(ai);ai.applyPatches.bind(ai);ai.createDraft.bind(ai);ai.finishDraft.bind(ai);function en(t){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(t)}function u9(t,e){if(en(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(en(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c4(t){var e=u9(t,"string");return en(e)=="symbol"?e:e+""}function si(t,e,r){return e=c4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function En(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var PT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),gm=function(){return Math.random().toString(36).substring(7).split("").join(".")},p0={INIT:"@@redux/INIT"+gm(),REPLACE:"@@redux/REPLACE"+gm(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+gm()}};function f9(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function h4(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(En(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(En(1));return r(h4)(t,e)}if(typeof t!="function")throw new Error(En(2));var i=t,a=e,o=[],s=o,f=!1;function l(){s===o&&(s=o.slice())}function u(){if(f)throw new Error(En(3));return a}function c(m){if(typeof m!="function")throw new Error(En(4));if(f)throw new Error(En(5));var _=!0;return l(),s.push(m),function(){if(_){if(f)throw new Error(En(6));_=!1,l();var g=s.indexOf(m);s.splice(g,1),o=null}}}function h(m){if(!f9(m))throw new Error(En(7));if(typeof m.type>"u")throw new Error(En(8));if(f)throw new Error(En(9));try{f=!0,a=i(a,m)}finally{f=!1}for(var _=o=s,v=0;v<_.length;v++){var g=_[v];g()}return m}function p(m){if(typeof m!="function")throw new Error(En(10));i=m,h({type:p0.REPLACE})}function d(){var m,_=c;return m={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(En(11));function y(){g.next&&g.next(u())}y();var x=_(y);return{unsubscribe:x}}},m[PT]=function(){return this},m}return h({type:p0.INIT}),n={dispatch:h,subscribe:c,getState:u,replaceReducer:p},n[PT]=d,n}function c9(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:p0.INIT});if(typeof n>"u")throw new Error(En(12));if(typeof r(void 0,{type:p0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(En(13))})}function h9(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{c9(r)}catch(s){o=s}return function(f,l){if(f===void 0&&(f={}),o)throw o;for(var u=!1,c={},h=0;h<a.length;h++){var p=a[h],d=r[p],m=f[p],_=d(m,l);if(typeof _>"u")throw l&&l.type,new Error(En(14));c[p]=_,u=u||_!==m}return u=u||a.length!==Object.keys(f).length,u?c:f}}function v0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function d9(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(En(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(f){return f(o)});return a=v0.apply(void 0,s)(i.dispatch),RT(RT({},i),{},{dispatch:a})}}}function d4(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var p4=d4();p4.withExtraArgument=d4;const OT=p4;var v4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p9=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return f([l,u])}}function f(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ql=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},v9=Object.defineProperty,m9=Object.defineProperties,g9=Object.getOwnPropertyDescriptors,FT=Object.getOwnPropertySymbols,_9=Object.prototype.hasOwnProperty,y9=Object.prototype.propertyIsEnumerable,kT=function(t,e,r){return e in t?v9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},yo=function(t,e){for(var r in e||(e={}))_9.call(e,r)&&kT(t,r,e[r]);if(FT)for(var n=0,i=FT(e);n<i.length;n++){var r=i[n];y9.call(e,r)&&kT(t,r,e[r])}return t},_m=function(t,e){return m9(t,g9(e))},x9=function(t,e,r){return new Promise(function(n,i){var a=function(f){try{s(r.next(f))}catch(l){i(l)}},o=function(f){try{s(r.throw(f))}catch(l){i(l)}},s=function(f){return f.done?n(f.value):Promise.resolve(f.value).then(a,o)};s((r=r.apply(t,e)).next())})},b9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?v0:v0.apply(null,arguments)};function E9(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function xo(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return yo(yo({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var w9=function(t){v4(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,ql([void 0],r[0].concat(this)))):new(e.bind.apply(e,ql([void 0],r.concat(this))))},e}(Array),S9=function(t){v4(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,ql([void 0],r[0].concat(this)))):new(e.bind.apply(e,ql([void 0],r.concat(this))))},e}(Array);function Jy(t){return $a(t)?f4(t,function(){}):t}function C9(t){return typeof t=="boolean"}function T9(){return function(e){return m4(e)}}function m4(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new w9;return r&&(C9(r)?n.push(OT):n.push(OT.withExtraArgument(r.extraArgument))),n}var A9=!0;function I9(t){var e=T9(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,f=s===void 0?!0:s,l=r.preloadedState,u=l===void 0?void 0:l,c=r.enhancers,h=c===void 0?void 0:c,p;if(typeof i=="function")p=i;else if(E9(i))p=h9(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var d=o;typeof d=="function"&&(d=d(e));var m=d9.apply(void 0,d),_=v0;f&&(_=b9(yo({trace:!A9},typeof f=="object"&&f)));var v=new S9(m),g=v;Array.isArray(h)?g=ql([m],h):typeof h=="function"&&(g=h(v));var y=_.apply(void 0,g);return h4(p,u,y)}function g4(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function R9(t){return typeof t=="function"}function P9(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?g4(e):[e,r,n],a=i[0],o=i[1],s=i[2],f;if(R9(t))f=function(){return Jy(t())};else{var l=Jy(t);f=function(){return l}}function u(c,h){c===void 0&&(c=f());var p=ql([a[h.type]],o.filter(function(d){var m=d.matcher;return m(h)}).map(function(d){var m=d.reducer;return m}));return p.filter(function(d){return!!d}).length===0&&(p=[s]),p.reduce(function(d,m){if(m)if(Po(d)){var _=d,v=m(_,h);return v===void 0?d:v}else{if($a(d))return f4(d,function(g){return m(g,h)});var v=m(d,h);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return d},c)}return u.getInitialState=f,u}function O9(t,e){return t+"/"+e}function cp(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:Jy(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(u){var c=n[u],h=O9(e,u),p,d;"reducer"in c?(p=c.reducer,d=c.prepare):p=c,a[u]=p,o[h]=p,s[u]=d?xo(h,d):xo(h)});function f(){var u=typeof t.extraReducers=="function"?g4(t.extraReducers):[t.extraReducers],c=u[0],h=c===void 0?{}:c,p=u[1],d=p===void 0?[]:p,m=u[2],_=m===void 0?void 0:m,v=yo(yo({},h),o);return P9(r,function(g){for(var y in v)g.addCase(y,v[y]);for(var x=0,b=d;x<b.length;x++){var E=b[x];g.addMatcher(E.matcher,E.reducer)}_&&g.addDefaultCase(_)})}var l;return{name:e,reducer:function(u,c){return l||(l=f()),l(u,c)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=f()),l.getInitialState()}}}var F9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",k9=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=F9[Math.random()*64|0];return e},N9=["name","message","stack","code"],ym=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),NT=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),L9=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=N9;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=xo(e+"/fulfilled",function(l,u,c,h){return{payload:l,meta:_m(yo({},h||{}),{arg:c,requestId:u,requestStatus:"fulfilled"})}}),a=xo(e+"/pending",function(l,u,c){return{payload:void 0,meta:_m(yo({},c||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=xo(e+"/rejected",function(l,u,c,h,p){return{payload:h,error:(n&&n.serializeError||L9)(l||"Rejected"),meta:_m(yo({},p||{}),{arg:c,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function f(l){return function(u,c,h){var p=n!=null&&n.idGenerator?n.idGenerator(l):k9(),d=new s,m;function _(g){m=g,d.abort()}var v=function(){return x9(this,null,function(){var g,y,x,b,E,w,S;return p9(this,function(C){switch(C.label){case 0:return C.trys.push([0,4,,5]),b=(g=n==null?void 0:n.condition)==null?void 0:g.call(n,l,{getState:c,extra:h}),M9(b)?[4,b]:[3,2];case 1:b=C.sent(),C.label=2;case 2:if(b===!1||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(T,I){return d.signal.addEventListener("abort",function(){return I({name:"AbortError",message:m||"Aborted"})})}),u(a(p,l,(y=n==null?void 0:n.getPendingMeta)==null?void 0:y.call(n,{requestId:p,arg:l},{getState:c,extra:h}))),[4,Promise.race([E,Promise.resolve(r(l,{dispatch:u,getState:c,extra:h,requestId:p,signal:d.signal,abort:_,rejectWithValue:function(T,I){return new ym(T,I)},fulfillWithValue:function(T,I){return new NT(T,I)}})).then(function(T){if(T instanceof ym)throw T;return T instanceof NT?i(T.payload,p,l,T.meta):i(T,p,l)})])];case 3:return x=C.sent(),[3,5];case 4:return w=C.sent(),x=w instanceof ym?o(null,p,l,w.payload,w.meta):o(w,p,l),[3,5];case 5:return S=n&&!n.dispatchConditionRejection&&o.match(x)&&x.meta.condition,S||u(x),[2,x]}})})}();return Object.assign(v,{abort:_,requestId:p,arg:l,unwrap:function(){return v.then(B9)}})}}return Object.assign(f,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function B9(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function M9(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var UE="listenerMiddleware";xo(UE+"/add");xo(UE+"/removeAll");xo(UE+"/remove");var LT;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);i9();function D9(){this.__data__=[],this.size=0}var U9=D9;function j9(t,e){return t===e||t!==t&&e!==e}var jE=j9,$9=jE;function V9(t,e){for(var r=t.length;r--;)if($9(t[r][0],e))return r;return-1}var hp=V9,G9=hp,X9=Array.prototype,H9=X9.splice;function z9(t){var e=this.__data__,r=G9(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():H9.call(e,r,1),--this.size,!0}var W9=z9,Y9=hp;function q9(t){var e=this.__data__,r=Y9(e,t);return r<0?void 0:e[r][1]}var K9=q9,Z9=hp;function J9(t){return Z9(this.__data__,t)>-1}var Q9=J9,e$=hp;function t$(t,e){var r=this.__data__,n=e$(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var r$=t$,n$=U9,i$=W9,a$=K9,o$=Q9,s$=r$;function yu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yu.prototype.clear=n$;yu.prototype.delete=i$;yu.prototype.get=a$;yu.prototype.has=o$;yu.prototype.set=s$;var dp=yu,l$=dp;function u$(){this.__data__=new l$,this.size=0}var f$=u$;function c$(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var h$=c$;function d$(t){return this.__data__.get(t)}var p$=d$;function v$(t){return this.__data__.has(t)}var m$=v$,g$=typeof rt=="object"&&rt&&rt.Object===Object&&rt,_4=g$,_$=_4,y$=typeof self=="object"&&self&&self.Object===Object&&self,x$=_$||y$||Function("return this")(),Vi=x$,b$=Vi,E$=b$.Symbol,th=E$,BT=th,y4=Object.prototype,w$=y4.hasOwnProperty,S$=y4.toString,tf=BT?BT.toStringTag:void 0;function C$(t){var e=w$.call(t,tf),r=t[tf];try{t[tf]=void 0;var n=!0}catch{}var i=S$.call(t);return n&&(e?t[tf]=r:delete t[tf]),i}var T$=C$,A$=Object.prototype,I$=A$.toString;function R$(t){return I$.call(t)}var P$=R$,MT=th,O$=T$,F$=P$,k$="[object Null]",N$="[object Undefined]",DT=MT?MT.toStringTag:void 0;function L$(t){return t==null?t===void 0?N$:k$:DT&&DT in Object(t)?O$(t):F$(t)}var rh=L$;function B$(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _a=B$,M$=rh,D$=_a,U$="[object AsyncFunction]",j$="[object Function]",$$="[object GeneratorFunction]",V$="[object Proxy]";function G$(t){if(!D$(t))return!1;var e=M$(t);return e==j$||e==$$||e==U$||e==V$}var x4=G$,X$=Vi,H$=X$["__core-js_shared__"],z$=H$,xm=z$,UT=function(){var t=/[^.]+$/.exec(xm&&xm.keys&&xm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function W$(t){return!!UT&&UT in t}var Y$=W$,q$=Function.prototype,K$=q$.toString;function Z$(t){if(t!=null){try{return K$.call(t)}catch{}try{return t+""}catch{}}return""}var b4=Z$,J$=x4,Q$=Y$,eV=_a,tV=b4,rV=/[\\^$.*+?()[\]{}|]/g,nV=/^\[object .+?Constructor\]$/,iV=Function.prototype,aV=Object.prototype,oV=iV.toString,sV=aV.hasOwnProperty,lV=RegExp("^"+oV.call(sV).replace(rV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uV(t){if(!eV(t)||Q$(t))return!1;var e=J$(t)?lV:nV;return e.test(tV(t))}var fV=uV;function cV(t,e){return t==null?void 0:t[e]}var hV=cV,dV=fV,pV=hV;function vV(t,e){var r=pV(t,e);return dV(r)?r:void 0}var Ls=vV,mV=Ls,gV=Vi,_V=mV(gV,"Map"),$E=_V,yV=Ls,xV=yV(Object,"create"),pp=xV,jT=pp;function bV(){this.__data__=jT?jT(null):{},this.size=0}var EV=bV;function wV(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var SV=wV,CV=pp,TV="__lodash_hash_undefined__",AV=Object.prototype,IV=AV.hasOwnProperty;function RV(t){var e=this.__data__;if(CV){var r=e[t];return r===TV?void 0:r}return IV.call(e,t)?e[t]:void 0}var PV=RV,OV=pp,FV=Object.prototype,kV=FV.hasOwnProperty;function NV(t){var e=this.__data__;return OV?e[t]!==void 0:kV.call(e,t)}var LV=NV,BV=pp,MV="__lodash_hash_undefined__";function DV(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=BV&&e===void 0?MV:e,this}var UV=DV,jV=EV,$V=SV,VV=PV,GV=LV,XV=UV;function xu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xu.prototype.clear=jV;xu.prototype.delete=$V;xu.prototype.get=VV;xu.prototype.has=GV;xu.prototype.set=XV;var HV=xu,$T=HV,zV=dp,WV=$E;function YV(){this.size=0,this.__data__={hash:new $T,map:new(WV||zV),string:new $T}}var qV=YV;function KV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ZV=KV,JV=ZV;function QV(t,e){var r=t.__data__;return JV(e)?r[typeof e=="string"?"string":"hash"]:r.map}var vp=QV,e7=vp;function t7(t){var e=e7(this,t).delete(t);return this.size-=e?1:0,e}var r7=t7,n7=vp;function i7(t){return n7(this,t).get(t)}var a7=i7,o7=vp;function s7(t){return o7(this,t).has(t)}var l7=s7,u7=vp;function f7(t,e){var r=u7(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var c7=f7,h7=qV,d7=r7,p7=a7,v7=l7,m7=c7;function bu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bu.prototype.clear=h7;bu.prototype.delete=d7;bu.prototype.get=p7;bu.prototype.has=v7;bu.prototype.set=m7;var VE=bu,g7=dp,_7=$E,y7=VE,x7=200;function b7(t,e){var r=this.__data__;if(r instanceof g7){var n=r.__data__;if(!_7||n.length<x7-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new y7(n)}return r.set(t,e),this.size=r.size,this}var E7=b7,w7=dp,S7=f$,C7=h$,T7=p$,A7=m$,I7=E7;function Eu(t){var e=this.__data__=new w7(t);this.size=e.size}Eu.prototype.clear=S7;Eu.prototype.delete=C7;Eu.prototype.get=T7;Eu.prototype.has=A7;Eu.prototype.set=I7;var GE=Eu;function R7(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var P7=R7,O7=Ls,F7=function(){try{var t=O7(Object,"defineProperty");return t({},"",{}),t}catch{}}(),k7=F7,VT=k7;function N7(t,e,r){e=="__proto__"&&VT?VT(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var E4=N7,L7=E4,B7=jE,M7=Object.prototype,D7=M7.hasOwnProperty;function U7(t,e,r){var n=t[e];(!(D7.call(t,e)&&B7(n,r))||r===void 0&&!(e in t))&&L7(t,e,r)}var XE=U7,j7=XE,$7=E4;function V7(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],f=n?n(r[s],t[s],s,r,t):void 0;f===void 0&&(f=t[s]),i?$7(r,s,f):j7(r,s,f)}return r}var mp=V7;function G7(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var X7=G7;function H7(t){return t!=null&&typeof t=="object"}var Bs=H7,z7=rh,W7=Bs,Y7="[object Arguments]";function q7(t){return W7(t)&&z7(t)==Y7}var K7=q7,GT=K7,Z7=Bs,w4=Object.prototype,J7=w4.hasOwnProperty,Q7=w4.propertyIsEnumerable,eG=GT(function(){return arguments}())?GT:function(t){return Z7(t)&&J7.call(t,"callee")&&!Q7.call(t,"callee")},S4=eG,tG=Array.isArray,Ha=tG,m0={exports:{}};function rG(){return!1}var nG=rG;m0.exports;(function(t,e){var r=Vi,n=nG,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,f=s?s.isBuffer:void 0,l=f||n;t.exports=l})(m0,m0.exports);var HE=m0.exports,iG=9007199254740991,aG=/^(?:0|[1-9]\d*)$/;function oG(t,e){var r=typeof t;return e=e??iG,!!e&&(r=="number"||r!="symbol"&&aG.test(t))&&t>-1&&t%1==0&&t<e}var zE=oG,sG=9007199254740991;function lG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sG}var WE=lG,uG=rh,fG=WE,cG=Bs,hG="[object Arguments]",dG="[object Array]",pG="[object Boolean]",vG="[object Date]",mG="[object Error]",gG="[object Function]",_G="[object Map]",yG="[object Number]",xG="[object Object]",bG="[object RegExp]",EG="[object Set]",wG="[object String]",SG="[object WeakMap]",CG="[object ArrayBuffer]",TG="[object DataView]",AG="[object Float32Array]",IG="[object Float64Array]",RG="[object Int8Array]",PG="[object Int16Array]",OG="[object Int32Array]",FG="[object Uint8Array]",kG="[object Uint8ClampedArray]",NG="[object Uint16Array]",LG="[object Uint32Array]",nr={};nr[AG]=nr[IG]=nr[RG]=nr[PG]=nr[OG]=nr[FG]=nr[kG]=nr[NG]=nr[LG]=!0;nr[hG]=nr[dG]=nr[CG]=nr[pG]=nr[TG]=nr[vG]=nr[mG]=nr[gG]=nr[_G]=nr[yG]=nr[xG]=nr[bG]=nr[EG]=nr[wG]=nr[SG]=!1;function BG(t){return cG(t)&&fG(t.length)&&!!nr[uG(t)]}var MG=BG;function DG(t){return function(e){return t(e)}}var YE=DG,g0={exports:{}};g0.exports;(function(t,e){var r=_4,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var f=i&&i.require&&i.require("util").types;return f||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(g0,g0.exports);var qE=g0.exports,UG=MG,jG=YE,XT=qE,HT=XT&&XT.isTypedArray,$G=HT?jG(HT):UG,C4=$G,VG=X7,GG=S4,XG=Ha,HG=HE,zG=zE,WG=C4,YG=Object.prototype,qG=YG.hasOwnProperty;function KG(t,e){var r=XG(t),n=!r&&GG(t),i=!r&&!n&&HG(t),a=!r&&!n&&!i&&WG(t),o=r||n||i||a,s=o?VG(t.length,String):[],f=s.length;for(var l in t)(e||qG.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||zG(l,f)))&&s.push(l);return s}var T4=KG,ZG=Object.prototype;function JG(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ZG;return t===r}var KE=JG;function QG(t,e){return function(r){return t(e(r))}}var A4=QG,eX=A4,tX=eX(Object.keys,Object),rX=tX,nX=KE,iX=rX,aX=Object.prototype,oX=aX.hasOwnProperty;function sX(t){if(!nX(t))return iX(t);var e=[];for(var r in Object(t))oX.call(t,r)&&r!="constructor"&&e.push(r);return e}var lX=sX,uX=x4,fX=WE;function cX(t){return t!=null&&fX(t.length)&&!uX(t)}var I4=cX,hX=T4,dX=lX,pX=I4;function vX(t){return pX(t)?hX(t):dX(t)}var gp=vX,mX=mp,gX=gp;function _X(t,e){return t&&mX(e,gX(e),t)}var yX=_X;function xX(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var bX=xX,EX=_a,wX=KE,SX=bX,CX=Object.prototype,TX=CX.hasOwnProperty;function AX(t){if(!EX(t))return SX(t);var e=wX(t),r=[];for(var n in t)n=="constructor"&&(e||!TX.call(t,n))||r.push(n);return r}var IX=AX,RX=T4,PX=IX,OX=I4;function FX(t){return OX(t)?RX(t,!0):PX(t)}var ZE=FX,kX=mp,NX=ZE;function LX(t,e){return t&&kX(e,NX(e),t)}var BX=LX,_0={exports:{}};_0.exports;(function(t,e){var r=Vi,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function f(l,u){if(u)return l.slice();var c=l.length,h=s?s(c):new l.constructor(c);return l.copy(h),h}t.exports=f})(_0,_0.exports);var MX=_0.exports;function DX(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var UX=DX;function jX(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var $X=jX;function VX(){return[]}var R4=VX,GX=$X,XX=R4,HX=Object.prototype,zX=HX.propertyIsEnumerable,zT=Object.getOwnPropertySymbols,WX=zT?function(t){return t==null?[]:(t=Object(t),GX(zT(t),function(e){return zX.call(t,e)}))}:XX,JE=WX,YX=mp,qX=JE;function KX(t,e){return YX(t,qX(t),e)}var ZX=KX;function JX(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var P4=JX,QX=A4,eH=QX(Object.getPrototypeOf,Object),O4=eH,tH=P4,rH=O4,nH=JE,iH=R4,aH=Object.getOwnPropertySymbols,oH=aH?function(t){for(var e=[];t;)tH(e,nH(t)),t=rH(t);return e}:iH,F4=oH,sH=mp,lH=F4;function uH(t,e){return sH(t,lH(t),e)}var fH=uH,cH=P4,hH=Ha;function dH(t,e,r){var n=e(t);return hH(t)?n:cH(n,r(t))}var k4=dH,pH=k4,vH=JE,mH=gp;function gH(t){return pH(t,mH,vH)}var N4=gH,_H=k4,yH=F4,xH=ZE;function bH(t){return _H(t,xH,yH)}var L4=bH,EH=Ls,wH=Vi,SH=EH(wH,"DataView"),CH=SH,TH=Ls,AH=Vi,IH=TH(AH,"Promise"),RH=IH,PH=Ls,OH=Vi,FH=PH(OH,"Set"),B4=FH,kH=Ls,NH=Vi,LH=kH(NH,"WeakMap"),BH=LH,Qy=CH,ex=$E,tx=RH,rx=B4,nx=BH,M4=rh,wu=b4,WT="[object Map]",MH="[object Object]",YT="[object Promise]",qT="[object Set]",KT="[object WeakMap]",ZT="[object DataView]",DH=wu(Qy),UH=wu(ex),jH=wu(tx),$H=wu(rx),VH=wu(nx),Qo=M4;(Qy&&Qo(new Qy(new ArrayBuffer(1)))!=ZT||ex&&Qo(new ex)!=WT||tx&&Qo(tx.resolve())!=YT||rx&&Qo(new rx)!=qT||nx&&Qo(new nx)!=KT)&&(Qo=function(t){var e=M4(t),r=e==MH?t.constructor:void 0,n=r?wu(r):"";if(n)switch(n){case DH:return ZT;case UH:return WT;case jH:return YT;case $H:return qT;case VH:return KT}return e});var _p=Qo,GH=Object.prototype,XH=GH.hasOwnProperty;function HH(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&XH.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var zH=HH,WH=Vi,YH=WH.Uint8Array,D4=YH,JT=D4;function qH(t){var e=new t.constructor(t.byteLength);return new JT(e).set(new JT(t)),e}var QE=qH,KH=QE;function ZH(t,e){var r=e?KH(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var JH=ZH,QH=/\w*$/;function ez(t){var e=new t.constructor(t.source,QH.exec(t));return e.lastIndex=t.lastIndex,e}var tz=ez,QT=th,eA=QT?QT.prototype:void 0,tA=eA?eA.valueOf:void 0;function rz(t){return tA?Object(tA.call(t)):{}}var nz=rz,iz=QE;function az(t,e){var r=e?iz(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var oz=az,sz=QE,lz=JH,uz=tz,fz=nz,cz=oz,hz="[object Boolean]",dz="[object Date]",pz="[object Map]",vz="[object Number]",mz="[object RegExp]",gz="[object Set]",_z="[object String]",yz="[object Symbol]",xz="[object ArrayBuffer]",bz="[object DataView]",Ez="[object Float32Array]",wz="[object Float64Array]",Sz="[object Int8Array]",Cz="[object Int16Array]",Tz="[object Int32Array]",Az="[object Uint8Array]",Iz="[object Uint8ClampedArray]",Rz="[object Uint16Array]",Pz="[object Uint32Array]";function Oz(t,e,r){var n=t.constructor;switch(e){case xz:return sz(t);case hz:case dz:return new n(+t);case bz:return lz(t,r);case Ez:case wz:case Sz:case Cz:case Tz:case Az:case Iz:case Rz:case Pz:return cz(t,r);case pz:return new n;case vz:case _z:return new n(t);case mz:return uz(t);case gz:return new n;case yz:return fz(t)}}var Fz=Oz,kz=_a,rA=Object.create,Nz=function(){function t(){}return function(e){if(!kz(e))return{};if(rA)return rA(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Lz=Nz,Bz=Lz,Mz=O4,Dz=KE;function Uz(t){return typeof t.constructor=="function"&&!Dz(t)?Bz(Mz(t)):{}}var jz=Uz,$z=_p,Vz=Bs,Gz="[object Map]";function Xz(t){return Vz(t)&&$z(t)==Gz}var Hz=Xz,zz=Hz,Wz=YE,nA=qE,iA=nA&&nA.isMap,Yz=iA?Wz(iA):zz,qz=Yz,Kz=_p,Zz=Bs,Jz="[object Set]";function Qz(t){return Zz(t)&&Kz(t)==Jz}var eW=Qz,tW=eW,rW=YE,aA=qE,oA=aA&&aA.isSet,nW=oA?rW(oA):tW,iW=nW,aW=GE,oW=P7,sW=XE,lW=yX,uW=BX,fW=MX,cW=UX,hW=ZX,dW=fH,pW=N4,vW=L4,mW=_p,gW=zH,_W=Fz,yW=jz,xW=Ha,bW=HE,EW=qz,wW=_a,SW=iW,CW=gp,TW=ZE,AW=1,IW=2,RW=4,U4="[object Arguments]",PW="[object Array]",OW="[object Boolean]",FW="[object Date]",kW="[object Error]",j4="[object Function]",NW="[object GeneratorFunction]",LW="[object Map]",BW="[object Number]",$4="[object Object]",MW="[object RegExp]",DW="[object Set]",UW="[object String]",jW="[object Symbol]",$W="[object WeakMap]",VW="[object ArrayBuffer]",GW="[object DataView]",XW="[object Float32Array]",HW="[object Float64Array]",zW="[object Int8Array]",WW="[object Int16Array]",YW="[object Int32Array]",qW="[object Uint8Array]",KW="[object Uint8ClampedArray]",ZW="[object Uint16Array]",JW="[object Uint32Array]",Jt={};Jt[U4]=Jt[PW]=Jt[VW]=Jt[GW]=Jt[OW]=Jt[FW]=Jt[XW]=Jt[HW]=Jt[zW]=Jt[WW]=Jt[YW]=Jt[LW]=Jt[BW]=Jt[$4]=Jt[MW]=Jt[DW]=Jt[UW]=Jt[jW]=Jt[qW]=Jt[KW]=Jt[ZW]=Jt[JW]=!0;Jt[kW]=Jt[j4]=Jt[$W]=!1;function Sd(t,e,r,n,i,a){var o,s=e&AW,f=e&IW,l=e&RW;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!wW(t))return t;var u=xW(t);if(u){if(o=gW(t),!s)return cW(t,o)}else{var c=mW(t),h=c==j4||c==NW;if(bW(t))return fW(t,s);if(c==$4||c==U4||h&&!i){if(o=f||h?{}:yW(t),!s)return f?dW(t,uW(o,t)):hW(t,lW(o,t))}else{if(!Jt[c])return i?t:{};o=_W(t,c,s)}}a||(a=new aW);var p=a.get(t);if(p)return p;a.set(t,o),SW(t)?t.forEach(function(_){o.add(Sd(_,e,r,_,t,a))}):EW(t)&&t.forEach(function(_,v){o.set(v,Sd(_,e,r,v,t,a))});var d=l?f?vW:pW:f?TW:CW,m=u?void 0:d(t);return oW(m||t,function(_,v){m&&(v=_,_=t[v]),sW(o,v,Sd(_,e,r,v,t,a))}),o}var QW=Sd,eY=QW,tY=1,rY=4;function nY(t){return eY(t,tY|rY)}var iY=nY;const Nr=mn(iY);var Ot=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t))(Ot||{});const V4={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},uiSe:"",miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",dialogueMode:"role",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{}},ew=cp({name:"stage",initialState:Nr(V4),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload,i=t.effects.findIndex(a=>a.target===r);i>=0?t.effects[i].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===Ot.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.live2dMotion.findIndex(a=>a.target===r);i<0?t.live2dMotion.push({target:r,motion:n}):t.live2dMotion[i].motion=n},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]}}}),{resetStageState:yp,setStage:gt,setStageVar:G4}=ew.actions,Gn=ew.actions,aY=ew.reducer;function yl(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var X4={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,u){if(!i[l]){if(!n[l]){var c=typeof yl=="function"&&yl;if(!u&&c)return c(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(d){var m=n[l][1][d];return o(m||d)},p,p.exports,r,n,i,a)}return i[l].exports}for(var s=typeof yl=="function"&&yl,f=0;f<a.length;f++)o(a[f]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var f=0,l=new o(d),u=a.document.createTextNode("");l.observe(u,{characterData:!0}),s=function(){u.data=f=++f%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var c=new a.MessageChannel;c.port1.onmessage=d,s=function(){c.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var _=a.document.createElement("script");_.onreadystatechange=function(){d(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},a.document.documentElement.appendChild(_)}:s=function(){setTimeout(d,0)};var h,p=[];function d(){h=!0;for(var _,v,g=p.length;g;){for(v=p,p=[],_=-1;++_<g;)v[_]();g=p.length}h=!1}n.exports=m;function m(_){p.push(_)===1&&!h&&s()}}).call(this,typeof rt<"u"?rt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},f=["REJECTED"],l=["FULFILLED"],u=["PENDING"];n.exports=c;function c(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==o&&m(this,b)}c.prototype.catch=function(b){return this.then(null,b)},c.prototype.then=function(b,E){if(typeof b!="function"&&this.state===l||typeof E!="function"&&this.state===f)return this;var w=new this.constructor(o);if(this.state!==u){var S=this.state===l?b:E;p(w,S,this.outcome)}else this.queue.push(new h(w,b,E));return w};function h(b,E,w){this.promise=b,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(b){s.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){s.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)};function p(b,E,w){a(function(){var S;try{S=E(w)}catch(C){return s.reject(b,C)}S===b?s.reject(b,new TypeError("Cannot resolve promise with itself")):s.resolve(b,S)})}s.resolve=function(b,E){var w=_(d,E);if(w.status==="error")return s.reject(b,w.value);var S=w.value;if(S)m(b,S);else{b.state=l,b.outcome=E;for(var C=-1,T=b.queue.length;++C<T;)b.queue[C].callFulfilled(E)}return b},s.reject=function(b,E){b.state=f,b.outcome=E;for(var w=-1,S=b.queue.length;++w<S;)b.queue[w].callRejected(E);return b};function d(b){var E=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof E=="function")return function(){E.apply(b,arguments)}}function m(b,E){var w=!1;function S(A){w||(w=!0,s.reject(b,A))}function C(A){w||(w=!0,s.resolve(b,A))}function T(){E(C,S)}var I=_(T);I.status==="error"&&S(I.value)}function _(b,E){var w={};try{w.value=b(E),w.status="success"}catch(S){w.status="error",w.value=S}return w}c.resolve=v;function v(b){return b instanceof this?b:s.resolve(new this(o),b)}c.reject=g;function g(b){var E=new this(o);return s.reject(E,b)}c.all=y;function y(b){var E=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,S=!1;if(!w)return this.resolve([]);for(var C=new Array(w),T=0,I=-1,A=new this(o);++I<w;)R(b[I],I);return A;function R(O,F){E.resolve(O).then(k,function($){S||(S=!0,s.reject(A,$))});function k($){C[F]=$,++T===w&&!S&&(S=!0,s.resolve(A,C))}}}c.race=x;function x(b){var E=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,S=!1;if(!w)return this.resolve([]);for(var C=-1,T=new this(o);++C<w;)I(b[C]);return T;function I(A){E.resolve(A).then(function(R){S||(S=!0,s.resolve(T,R))},function(R){S||(S=!0,s.reject(T,R))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof rt<"u"?rt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H};function o(H,te){if(!(H instanceof te))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var f=s();function l(){try{if(!f||!f.open)return!1;var H=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),te=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!H||te)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(H,te){H=H||[],te=te||{};try{return new Blob(H,te)}catch(ie){if(ie.name!=="TypeError")throw ie;for(var Y=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ae=new Y,le=0;le<H.length;le+=1)ae.append(H[le]);return ae.getBlob(te.type)}}typeof Promise>"u"&&r(3);var c=Promise;function h(H,te){te&&H.then(function(Y){te(null,Y)},function(Y){te(Y)})}function p(H,te,Y){typeof te=="function"&&H.then(te),typeof Y=="function"&&H.catch(Y)}function d(H){return typeof H!="string"&&(console.warn(H+" used as a key, but it is not a string."),H=String(H)),H}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",v=void 0,g={},y=Object.prototype.toString,x="readonly",b="readwrite";function E(H){for(var te=H.length,Y=new ArrayBuffer(te),ae=new Uint8Array(Y),le=0;le<te;le++)ae[le]=H.charCodeAt(le);return Y}function w(H){return new c(function(te){var Y=H.transaction(_,b),ae=u([""]);Y.objectStore(_).put(ae,"key"),Y.onabort=function(le){le.preventDefault(),le.stopPropagation(),te(!1)},Y.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),ie=navigator.userAgent.match(/Edge\//);te(ie||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function S(H){return typeof v=="boolean"?c.resolve(v):w(H).then(function(te){return v=te,v})}function C(H){var te=g[H.name],Y={};Y.promise=new c(function(ae,le){Y.resolve=ae,Y.reject=le}),te.deferredOperations.push(Y),te.dbReady?te.dbReady=te.dbReady.then(function(){return Y.promise}):te.dbReady=Y.promise}function T(H){var te=g[H.name],Y=te.deferredOperations.pop();if(Y)return Y.resolve(),Y.promise}function I(H,te){var Y=g[H.name],ae=Y.deferredOperations.pop();if(ae)return ae.reject(te),ae.promise}function A(H,te){return new c(function(Y,ae){if(g[H.name]=g[H.name]||j(),H.db)if(te)C(H),H.db.close();else return Y(H.db);var le=[H.name];te&&le.push(H.version);var ie=f.open.apply(f,le);te&&(ie.onupgradeneeded=function(Se){var Ie=ie.result;try{Ie.createObjectStore(H.storeName),Se.oldVersion<=1&&Ie.createObjectStore(_)}catch(Pe){if(Pe.name==="ConstraintError")console.warn('The database "'+H.name+'" has been upgraded from version '+Se.oldVersion+" to version "+Se.newVersion+', but the storage "'+H.storeName+'" already exists.');else throw Pe}}),ie.onerror=function(Se){Se.preventDefault(),ae(ie.error)},ie.onsuccess=function(){var Se=ie.result;Se.onversionchange=function(Ie){Ie.target.close()},Y(Se),T(H)}})}function R(H){return A(H,!1)}function O(H){return A(H,!0)}function F(H,te){if(!H.db)return!0;var Y=!H.db.objectStoreNames.contains(H.storeName),ae=H.version<H.db.version,le=H.version>H.db.version;if(ae&&(H.version!==te&&console.warn('The database "'+H.name+`" can't be downgraded from version `+H.db.version+" to version "+H.version+"."),H.version=H.db.version),le||Y){if(Y){var ie=H.db.version+1;ie>H.version&&(H.version=ie)}return!0}return!1}function k(H){return new c(function(te,Y){var ae=new FileReader;ae.onerror=Y,ae.onloadend=function(le){var ie=btoa(le.target.result||"");te({__local_forage_encoded_blob:!0,data:ie,type:H.type})},ae.readAsBinaryString(H)})}function $(H){var te=E(atob(H.data));return u([te],{type:H.type})}function q(H){return H&&H.__local_forage_encoded_blob}function K(H){var te=this,Y=te._initReady().then(function(){var ae=g[te._dbInfo.name];if(ae&&ae.dbReady)return ae.dbReady});return p(Y,H,H),Y}function G(H){C(H);for(var te=g[H.name],Y=te.forages,ae=0;ae<Y.length;ae++){var le=Y[ae];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return H.db=null,R(H).then(function(ie){return H.db=ie,F(H)?O(H):ie}).then(function(ie){H.db=te.db=ie;for(var Se=0;Se<Y.length;Se++)Y[Se]._dbInfo.db=ie}).catch(function(ie){throw I(H,ie),ie})}function N(H,te,Y,ae){ae===void 0&&(ae=1);try{var le=H.db.transaction(H.storeName,te);Y(null,le)}catch(ie){if(ae>0&&(!H.db||ie.name==="InvalidStateError"||ie.name==="NotFoundError"))return c.resolve().then(function(){if(!H.db||ie.name==="NotFoundError"&&!H.db.objectStoreNames.contains(H.storeName)&&H.version<=H.db.version)return H.db&&(H.version=H.db.version+1),O(H)}).then(function(){return G(H).then(function(){N(H,te,Y,ae-1)})}).catch(Y);Y(ie)}}function j(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function M(H){var te=this,Y={db:null};if(H)for(var ae in H)Y[ae]=H[ae];var le=g[Y.name];le||(le=j(),g[Y.name]=le),le.forages.push(te),te._initReady||(te._initReady=te.ready,te.ready=K);var ie=[];function Se(){return c.resolve()}for(var Ie=0;Ie<le.forages.length;Ie++){var Pe=le.forages[Ie];Pe!==te&&ie.push(Pe._initReady().catch(Se))}var Oe=le.forages.slice(0);return c.all(ie).then(function(){return Y.db=le.db,R(Y)}).then(function(Ue){return Y.db=Ue,F(Y,te._defaultConfig.version)?O(Y):Ue}).then(function(Ue){Y.db=le.db=Ue,te._dbInfo=Y;for(var Ke=0;Ke<Oe.length;Ke++){var yt=Oe[Ke];yt!==te&&(yt._dbInfo.db=Y.db,yt._dbInfo.version=Y.version)}})}function D(H,te){var Y=this;H=d(H);var ae=new c(function(le,ie){Y.ready().then(function(){N(Y._dbInfo,x,function(Se,Ie){if(Se)return ie(Se);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=Pe.get(H);Oe.onsuccess=function(){var Ue=Oe.result;Ue===void 0&&(Ue=null),q(Ue)&&(Ue=$(Ue)),le(Ue)},Oe.onerror=function(){ie(Oe.error)}}catch(Ue){ie(Ue)}})}).catch(ie)});return h(ae,te),ae}function J(H,te){var Y=this,ae=new c(function(le,ie){Y.ready().then(function(){N(Y._dbInfo,x,function(Se,Ie){if(Se)return ie(Se);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=Pe.openCursor(),Ue=1;Oe.onsuccess=function(){var Ke=Oe.result;if(Ke){var yt=Ke.value;q(yt)&&(yt=$(yt));var Vt=H(yt,Ke.key,Ue++);Vt!==void 0?le(Vt):Ke.continue()}else le()},Oe.onerror=function(){ie(Oe.error)}}catch(Ke){ie(Ke)}})}).catch(ie)});return h(ae,te),ae}function Q(H,te,Y){var ae=this;H=d(H);var le=new c(function(ie,Se){var Ie;ae.ready().then(function(){return Ie=ae._dbInfo,y.call(te)==="[object Blob]"?S(Ie.db).then(function(Pe){return Pe?te:k(te)}):te}).then(function(Pe){N(ae._dbInfo,b,function(Oe,Ue){if(Oe)return Se(Oe);try{var Ke=Ue.objectStore(ae._dbInfo.storeName);Pe===null&&(Pe=void 0);var yt=Ke.put(Pe,H);Ue.oncomplete=function(){Pe===void 0&&(Pe=null),ie(Pe)},Ue.onabort=Ue.onerror=function(){var Vt=yt.error?yt.error:yt.transaction.error;Se(Vt)}}catch(Vt){Se(Vt)}})}).catch(Se)});return h(le,Y),le}function se(H,te){var Y=this;H=d(H);var ae=new c(function(le,ie){Y.ready().then(function(){N(Y._dbInfo,b,function(Se,Ie){if(Se)return ie(Se);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=Pe.delete(H);Ie.oncomplete=function(){le()},Ie.onerror=function(){ie(Oe.error)},Ie.onabort=function(){var Ue=Oe.error?Oe.error:Oe.transaction.error;ie(Ue)}}catch(Ue){ie(Ue)}})}).catch(ie)});return h(ae,te),ae}function re(H){var te=this,Y=new c(function(ae,le){te.ready().then(function(){N(te._dbInfo,b,function(ie,Se){if(ie)return le(ie);try{var Ie=Se.objectStore(te._dbInfo.storeName),Pe=Ie.clear();Se.oncomplete=function(){ae()},Se.onabort=Se.onerror=function(){var Oe=Pe.error?Pe.error:Pe.transaction.error;le(Oe)}}catch(Oe){le(Oe)}})}).catch(le)});return h(Y,H),Y}function ue(H){var te=this,Y=new c(function(ae,le){te.ready().then(function(){N(te._dbInfo,x,function(ie,Se){if(ie)return le(ie);try{var Ie=Se.objectStore(te._dbInfo.storeName),Pe=Ie.count();Pe.onsuccess=function(){ae(Pe.result)},Pe.onerror=function(){le(Pe.error)}}catch(Oe){le(Oe)}})}).catch(le)});return h(Y,H),Y}function Ee(H,te){var Y=this,ae=new c(function(le,ie){if(H<0){le(null);return}Y.ready().then(function(){N(Y._dbInfo,x,function(Se,Ie){if(Se)return ie(Se);try{var Pe=Ie.objectStore(Y._dbInfo.storeName),Oe=!1,Ue=Pe.openKeyCursor();Ue.onsuccess=function(){var Ke=Ue.result;if(!Ke){le(null);return}H===0||Oe?le(Ke.key):(Oe=!0,Ke.advance(H))},Ue.onerror=function(){ie(Ue.error)}}catch(Ke){ie(Ke)}})}).catch(ie)});return h(ae,te),ae}function xe(H){var te=this,Y=new c(function(ae,le){te.ready().then(function(){N(te._dbInfo,x,function(ie,Se){if(ie)return le(ie);try{var Ie=Se.objectStore(te._dbInfo.storeName),Pe=Ie.openKeyCursor(),Oe=[];Pe.onsuccess=function(){var Ue=Pe.result;if(!Ue){ae(Oe);return}Oe.push(Ue.key),Ue.continue()},Pe.onerror=function(){le(Pe.error)}}catch(Ue){le(Ue)}})}).catch(le)});return h(Y,H),Y}function de(H,te){te=m.apply(this,arguments);var Y=this.config();H=typeof H!="function"&&H||{},H.name||(H.name=H.name||Y.name,H.storeName=H.storeName||Y.storeName);var ae=this,le;if(!H.name)le=c.reject("Invalid arguments");else{var ie=H.name===Y.name&&ae._dbInfo.db,Se=ie?c.resolve(ae._dbInfo.db):R(H).then(function(Ie){var Pe=g[H.name],Oe=Pe.forages;Pe.db=Ie;for(var Ue=0;Ue<Oe.length;Ue++)Oe[Ue]._dbInfo.db=Ie;return Ie});H.storeName?le=Se.then(function(Ie){if(Ie.objectStoreNames.contains(H.storeName)){var Pe=Ie.version+1;C(H);var Oe=g[H.name],Ue=Oe.forages;Ie.close();for(var Ke=0;Ke<Ue.length;Ke++){var yt=Ue[Ke];yt._dbInfo.db=null,yt._dbInfo.version=Pe}var Vt=new c(function(Ht,Ir){var Er=f.open(H.name,Pe);Er.onerror=function(ci){var Vu=Er.result;Vu.close(),Ir(ci)},Er.onupgradeneeded=function(){var ci=Er.result;ci.deleteObjectStore(H.storeName)},Er.onsuccess=function(){var ci=Er.result;ci.close(),Ht(ci)}});return Vt.then(function(Ht){Oe.db=Ht;for(var Ir=0;Ir<Ue.length;Ir++){var Er=Ue[Ir];Er._dbInfo.db=Ht,T(Er._dbInfo)}}).catch(function(Ht){throw(I(H,Ht)||c.resolve()).catch(function(){}),Ht})}}):le=Se.then(function(Ie){C(H);var Pe=g[H.name],Oe=Pe.forages;Ie.close();for(var Ue=0;Ue<Oe.length;Ue++){var Ke=Oe[Ue];Ke._dbInfo.db=null}var yt=new c(function(Vt,Ht){var Ir=f.deleteDatabase(H.name);Ir.onerror=function(){var Er=Ir.result;Er&&Er.close(),Ht(Ir.error)},Ir.onblocked=function(){console.warn('dropInstance blocked for database "'+H.name+'" until all open connections are closed')},Ir.onsuccess=function(){var Er=Ir.result;Er&&Er.close(),Vt(Er)}});return yt.then(function(Vt){Pe.db=Vt;for(var Ht=0;Ht<Oe.length;Ht++){var Ir=Oe[Ht];T(Ir._dbInfo)}}).catch(function(Vt){throw(I(H,Vt)||c.resolve()).catch(function(){}),Vt})})}return h(le,te),le}var pe={_driver:"asyncStorage",_initStorage:M,_support:l(),iterate:J,getItem:D,setItem:Q,removeItem:se,clear:re,length:ue,key:Ee,keys:xe,dropInstance:de};function Ae(){return typeof openDatabase=="function"}var Fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te="~~local_forage_type~",ke=/^~~local_forage_type~([^~]+)~/,Ne="__lfsc__:",Ze=Ne.length,ct="arbf",Je="blob",qe="si08",at="ui08",Tt="uic8",kt="si16",At="si32",It="ur16",tt="ui32",Nt="fl32",_e="fl64",L=Ze+ct.length,ne=Object.prototype.toString;function he(H){var te=H.length*.75,Y=H.length,ae,le=0,ie,Se,Ie,Pe;H[H.length-1]==="="&&(te--,H[H.length-2]==="="&&te--);var Oe=new ArrayBuffer(te),Ue=new Uint8Array(Oe);for(ae=0;ae<Y;ae+=4)ie=Fe.indexOf(H[ae]),Se=Fe.indexOf(H[ae+1]),Ie=Fe.indexOf(H[ae+2]),Pe=Fe.indexOf(H[ae+3]),Ue[le++]=ie<<2|Se>>4,Ue[le++]=(Se&15)<<4|Ie>>2,Ue[le++]=(Ie&3)<<6|Pe&63;return Oe}function ye(H){var te=new Uint8Array(H),Y="",ae;for(ae=0;ae<te.length;ae+=3)Y+=Fe[te[ae]>>2],Y+=Fe[(te[ae]&3)<<4|te[ae+1]>>4],Y+=Fe[(te[ae+1]&15)<<2|te[ae+2]>>6],Y+=Fe[te[ae+2]&63];return te.length%3===2?Y=Y.substring(0,Y.length-1)+"=":te.length%3===1&&(Y=Y.substring(0,Y.length-2)+"=="),Y}function Z(H,te){var Y="";if(H&&(Y=ne.call(H)),H&&(Y==="[object ArrayBuffer]"||H.buffer&&ne.call(H.buffer)==="[object ArrayBuffer]")){var ae,le=Ne;H instanceof ArrayBuffer?(ae=H,le+=ct):(ae=H.buffer,Y==="[object Int8Array]"?le+=qe:Y==="[object Uint8Array]"?le+=at:Y==="[object Uint8ClampedArray]"?le+=Tt:Y==="[object Int16Array]"?le+=kt:Y==="[object Uint16Array]"?le+=It:Y==="[object Int32Array]"?le+=At:Y==="[object Uint32Array]"?le+=tt:Y==="[object Float32Array]"?le+=Nt:Y==="[object Float64Array]"?le+=_e:te(new Error("Failed to get type for BinaryArray"))),te(le+ye(ae))}else if(Y==="[object Blob]"){var ie=new FileReader;ie.onload=function(){var Se=Te+H.type+"~"+ye(this.result);te(Ne+Je+Se)},ie.readAsArrayBuffer(H)}else try{te(JSON.stringify(H))}catch(Se){console.error("Couldn't convert value into a JSON string: ",H),te(null,Se)}}function ve(H){if(H.substring(0,Ze)!==Ne)return JSON.parse(H);var te=H.substring(L),Y=H.substring(Ze,L),ae;if(Y===Je&&ke.test(te)){var le=te.match(ke);ae=le[1],te=te.substring(le[0].length)}var ie=he(te);switch(Y){case ct:return ie;case Je:return u([ie],{type:ae});case qe:return new Int8Array(ie);case at:return new Uint8Array(ie);case Tt:return new Uint8ClampedArray(ie);case kt:return new Int16Array(ie);case It:return new Uint16Array(ie);case At:return new Int32Array(ie);case tt:return new Uint32Array(ie);case Nt:return new Float32Array(ie);case _e:return new Float64Array(ie);default:throw new Error("Unkown type: "+Y)}}var U={serialize:Z,deserialize:ve,stringToBuffer:he,bufferToString:ye};function we(H,te,Y,ae){H.executeSql("CREATE TABLE IF NOT EXISTS "+te.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Y,ae)}function He(H){var te=this,Y={db:null};if(H)for(var ae in H)Y[ae]=typeof H[ae]!="string"?H[ae].toString():H[ae];var le=new c(function(ie,Se){try{Y.db=openDatabase(Y.name,String(Y.version),Y.description,Y.size)}catch(Ie){return Se(Ie)}Y.db.transaction(function(Ie){we(Ie,Y,function(){te._dbInfo=Y,ie()},function(Pe,Oe){Se(Oe)})},Se)});return Y.serializer=U,le}function P(H,te,Y,ae,le,ie){H.executeSql(Y,ae,le,function(Se,Ie){Ie.code===Ie.SYNTAX_ERR?Se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[te.storeName],function(Pe,Oe){Oe.rows.length?ie(Pe,Ie):we(Pe,te,function(){Pe.executeSql(Y,ae,le,ie)},ie)},ie):ie(Se,Ie)},ie)}function me(H,te){var Y=this;H=d(H);var ae=new c(function(le,ie){Y.ready().then(function(){var Se=Y._dbInfo;Se.db.transaction(function(Ie){P(Ie,Se,"SELECT * FROM "+Se.storeName+" WHERE key = ? LIMIT 1",[H],function(Pe,Oe){var Ue=Oe.rows.length?Oe.rows.item(0).value:null;Ue&&(Ue=Se.serializer.deserialize(Ue)),le(Ue)},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function ge(H,te){var Y=this,ae=new c(function(le,ie){Y.ready().then(function(){var Se=Y._dbInfo;Se.db.transaction(function(Ie){P(Ie,Se,"SELECT * FROM "+Se.storeName,[],function(Pe,Oe){for(var Ue=Oe.rows,Ke=Ue.length,yt=0;yt<Ke;yt++){var Vt=Ue.item(yt),Ht=Vt.value;if(Ht&&(Ht=Se.serializer.deserialize(Ht)),Ht=H(Ht,Vt.key,yt+1),Ht!==void 0){le(Ht);return}}le()},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function V(H,te,Y,ae){var le=this;H=d(H);var ie=new c(function(Se,Ie){le.ready().then(function(){te===void 0&&(te=null);var Pe=te,Oe=le._dbInfo;Oe.serializer.serialize(te,function(Ue,Ke){Ke?Ie(Ke):Oe.db.transaction(function(yt){P(yt,Oe,"INSERT OR REPLACE INTO "+Oe.storeName+" (key, value) VALUES (?, ?)",[H,Ue],function(){Se(Pe)},function(Vt,Ht){Ie(Ht)})},function(yt){if(yt.code===yt.QUOTA_ERR){if(ae>0){Se(V.apply(le,[H,Pe,Y,ae-1]));return}Ie(yt)}})})}).catch(Ie)});return h(ie,Y),ie}function ee(H,te,Y){return V.apply(this,[H,te,Y,1])}function fe(H,te){var Y=this;H=d(H);var ae=new c(function(le,ie){Y.ready().then(function(){var Se=Y._dbInfo;Se.db.transaction(function(Ie){P(Ie,Se,"DELETE FROM "+Se.storeName+" WHERE key = ?",[H],function(){le()},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function Xe(H){var te=this,Y=new c(function(ae,le){te.ready().then(function(){var ie=te._dbInfo;ie.db.transaction(function(Se){P(Se,ie,"DELETE FROM "+ie.storeName,[],function(){ae()},function(Ie,Pe){le(Pe)})})}).catch(le)});return h(Y,H),Y}function De(H){var te=this,Y=new c(function(ae,le){te.ready().then(function(){var ie=te._dbInfo;ie.db.transaction(function(Se){P(Se,ie,"SELECT COUNT(key) as c FROM "+ie.storeName,[],function(Ie,Pe){var Oe=Pe.rows.item(0).c;ae(Oe)},function(Ie,Pe){le(Pe)})})}).catch(le)});return h(Y,H),Y}function $e(H,te){var Y=this,ae=new c(function(le,ie){Y.ready().then(function(){var Se=Y._dbInfo;Se.db.transaction(function(Ie){P(Ie,Se,"SELECT key FROM "+Se.storeName+" WHERE id = ? LIMIT 1",[H+1],function(Pe,Oe){var Ue=Oe.rows.length?Oe.rows.item(0).key:null;le(Ue)},function(Pe,Oe){ie(Oe)})})}).catch(ie)});return h(ae,te),ae}function ot(H){var te=this,Y=new c(function(ae,le){te.ready().then(function(){var ie=te._dbInfo;ie.db.transaction(function(Se){P(Se,ie,"SELECT key FROM "+ie.storeName,[],function(Ie,Pe){for(var Oe=[],Ue=0;Ue<Pe.rows.length;Ue++)Oe.push(Pe.rows.item(Ue).key);ae(Oe)},function(Ie,Pe){le(Pe)})})}).catch(le)});return h(Y,H),Y}function Lr(H){return new c(function(te,Y){H.transaction(function(ae){ae.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,ie){for(var Se=[],Ie=0;Ie<ie.rows.length;Ie++)Se.push(ie.rows.item(Ie).name);te({db:H,storeNames:Se})},function(le,ie){Y(ie)})},function(ae){Y(ae)})})}function Rt(H,te){te=m.apply(this,arguments);var Y=this.config();H=typeof H!="function"&&H||{},H.name||(H.name=H.name||Y.name,H.storeName=H.storeName||Y.storeName);var ae=this,le;return H.name?le=new c(function(ie){var Se;H.name===Y.name?Se=ae._dbInfo.db:Se=openDatabase(H.name,"","",0),H.storeName?ie({db:Se,storeNames:[H.storeName]}):ie(Lr(Se))}).then(function(ie){return new c(function(Se,Ie){ie.db.transaction(function(Pe){function Oe(Vt){return new c(function(Ht,Ir){Pe.executeSql("DROP TABLE IF EXISTS "+Vt,[],function(){Ht()},function(Er,ci){Ir(ci)})})}for(var Ue=[],Ke=0,yt=ie.storeNames.length;Ke<yt;Ke++)Ue.push(Oe(ie.storeNames[Ke]));c.all(Ue).then(function(){Se()}).catch(function(Vt){Ie(Vt)})},function(Pe){Ie(Pe)})})}):le=c.reject("Invalid arguments"),h(le,te),le}var Qe={_driver:"webSQLStorage",_initStorage:He,_support:Ae(),iterate:ge,getItem:me,setItem:ee,removeItem:fe,clear:Xe,length:De,key:$e,keys:ot,dropInstance:Rt};function $t(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function vr(H,te){var Y=H.name+"/";return H.storeName!==te.storeName&&(Y+=H.storeName+"/"),Y}function zr(){var H="_localforage_support_test";try{return localStorage.setItem(H,!0),localStorage.removeItem(H),!1}catch{return!0}}function Xs(){return!zr()||localStorage.length>0}function Hs(H){var te=this,Y={};if(H)for(var ae in H)Y[ae]=H[ae];return Y.keyPrefix=vr(H,te._defaultConfig),Xs()?(te._dbInfo=Y,Y.serializer=U,c.resolve()):c.reject()}function mr(H){var te=this,Y=te.ready().then(function(){for(var ae=te._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var ie=localStorage.key(le);ie.indexOf(ae)===0&&localStorage.removeItem(ie)}});return h(Y,H),Y}function Un(H,te){var Y=this;H=d(H);var ae=Y.ready().then(function(){var le=Y._dbInfo,ie=localStorage.getItem(le.keyPrefix+H);return ie&&(ie=le.serializer.deserialize(ie)),ie});return h(ae,te),ae}function Br(H,te){var Y=this,ae=Y.ready().then(function(){for(var le=Y._dbInfo,ie=le.keyPrefix,Se=ie.length,Ie=localStorage.length,Pe=1,Oe=0;Oe<Ie;Oe++){var Ue=localStorage.key(Oe);if(Ue.indexOf(ie)===0){var Ke=localStorage.getItem(Ue);if(Ke&&(Ke=le.serializer.deserialize(Ke)),Ke=H(Ke,Ue.substring(Se),Pe++),Ke!==void 0)return Ke}}});return h(ae,te),ae}function Si(H,te){var Y=this,ae=Y.ready().then(function(){var le=Y._dbInfo,ie;try{ie=localStorage.key(H)}catch{ie=null}return ie&&(ie=ie.substring(le.keyPrefix.length)),ie});return h(ae,te),ae}function fi(H){var te=this,Y=te.ready().then(function(){for(var ae=te._dbInfo,le=localStorage.length,ie=[],Se=0;Se<le;Se++){var Ie=localStorage.key(Se);Ie.indexOf(ae.keyPrefix)===0&&ie.push(Ie.substring(ae.keyPrefix.length))}return ie});return h(Y,H),Y}function yh(H){var te=this,Y=te.keys().then(function(ae){return ae.length});return h(Y,H),Y}function E5(H,te){var Y=this;H=d(H);var ae=Y.ready().then(function(){var le=Y._dbInfo;localStorage.removeItem(le.keyPrefix+H)});return h(ae,te),ae}function w5(H,te,Y){var ae=this;H=d(H);var le=ae.ready().then(function(){te===void 0&&(te=null);var ie=te;return new c(function(Se,Ie){var Pe=ae._dbInfo;Pe.serializer.serialize(te,function(Oe,Ue){if(Ue)Ie(Ue);else try{localStorage.setItem(Pe.keyPrefix+H,Oe),Se(ie)}catch(Ke){(Ke.name==="QuotaExceededError"||Ke.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(Ke),Ie(Ke)}})})});return h(le,Y),le}function S5(H,te){if(te=m.apply(this,arguments),H=typeof H!="function"&&H||{},!H.name){var Y=this.config();H.name=H.name||Y.name,H.storeName=H.storeName||Y.storeName}var ae=this,le;return H.name?le=new c(function(ie){H.storeName?ie(vr(H,ae._defaultConfig)):ie(H.name+"/")}).then(function(ie){for(var Se=localStorage.length-1;Se>=0;Se--){var Ie=localStorage.key(Se);Ie.indexOf(ie)===0&&localStorage.removeItem(Ie)}}):le=c.reject("Invalid arguments"),h(le,te),le}var C5={_driver:"localStorageWrapper",_initStorage:Hs,_support:$t(),iterate:Br,getItem:Un,setItem:w5,removeItem:E5,clear:mr,length:yh,key:Si,keys:fi,dropInstance:S5},T5=function(te,Y){return te===Y||typeof te=="number"&&typeof Y=="number"&&isNaN(te)&&isNaN(Y)},A5=function(te,Y){for(var ae=te.length,le=0;le<ae;){if(T5(te[le],Y))return!0;le++}return!1},eC=Array.isArray||function(H){return Object.prototype.toString.call(H)==="[object Array]"},$u={},tC={},zs={INDEXEDDB:pe,WEBSQL:Qe,LOCALSTORAGE:C5},I5=[zs.INDEXEDDB._driver,zs.WEBSQL._driver,zs.LOCALSTORAGE._driver],xh=["dropInstance"],Uv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(xh),R5={description:"",driver:I5.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function P5(H,te){H[te]=function(){var Y=arguments;return H.ready().then(function(){return H[te].apply(H,Y)})}}function jv(){for(var H=1;H<arguments.length;H++){var te=arguments[H];if(te)for(var Y in te)te.hasOwnProperty(Y)&&(eC(te[Y])?arguments[0][Y]=te[Y].slice():arguments[0][Y]=te[Y])}return arguments[0]}var O5=function(){function H(te){o(this,H);for(var Y in zs)if(zs.hasOwnProperty(Y)){var ae=zs[Y],le=ae._driver;this[Y]=le,$u[le]||this.defineDriver(ae)}this._defaultConfig=jv({},R5),this._config=jv({},this._defaultConfig,te),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return H.prototype.config=function(Y){if((typeof Y>"u"?"undefined":a(Y))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ae in Y){if(ae==="storeName"&&(Y[ae]=Y[ae].replace(/\W/g,"_")),ae==="version"&&typeof Y[ae]!="number")return new Error("Database version must be a number.");this._config[ae]=Y[ae]}return"driver"in Y&&Y.driver?this.setDriver(this._config.driver):!0}else return typeof Y=="string"?this._config[Y]:this._config},H.prototype.defineDriver=function(Y,ae,le){var ie=new c(function(Se,Ie){try{var Pe=Y._driver,Oe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Y._driver){Ie(Oe);return}for(var Ue=Uv.concat("_initStorage"),Ke=0,yt=Ue.length;Ke<yt;Ke++){var Vt=Ue[Ke],Ht=!A5(xh,Vt);if((Ht||Y[Vt])&&typeof Y[Vt]!="function"){Ie(Oe);return}}var Ir=function(){for(var Vu=function(N5){return function(){var L5=new Error("Method "+N5+" is not implemented by the current driver"),rC=c.reject(L5);return h(rC,arguments[arguments.length-1]),rC}},$v=0,k5=xh.length;$v<k5;$v++){var Vv=xh[$v];Y[Vv]||(Y[Vv]=Vu(Vv))}};Ir();var Er=function(Vu){$u[Pe]&&console.info("Redefining LocalForage driver: "+Pe),$u[Pe]=Y,tC[Pe]=Vu,Se()};"_support"in Y?Y._support&&typeof Y._support=="function"?Y._support().then(Er,Ie):Er(!!Y._support):Er(!0)}catch(ci){Ie(ci)}});return p(ie,ae,le),ie},H.prototype.driver=function(){return this._driver||null},H.prototype.getDriver=function(Y,ae,le){var ie=$u[Y]?c.resolve($u[Y]):c.reject(new Error("Driver not found."));return p(ie,ae,le),ie},H.prototype.getSerializer=function(Y){var ae=c.resolve(U);return p(ae,Y),ae},H.prototype.ready=function(Y){var ae=this,le=ae._driverSet.then(function(){return ae._ready===null&&(ae._ready=ae._initDriver()),ae._ready});return p(le,Y,Y),le},H.prototype.setDriver=function(Y,ae,le){var ie=this;eC(Y)||(Y=[Y]);var Se=this._getSupportedDrivers(Y);function Ie(){ie._config.driver=ie.driver()}function Pe(Ke){return ie._extend(Ke),Ie(),ie._ready=ie._initStorage(ie._config),ie._ready}function Oe(Ke){return function(){var yt=0;function Vt(){for(;yt<Ke.length;){var Ht=Ke[yt];return yt++,ie._dbInfo=null,ie._ready=null,ie.getDriver(Ht).then(Pe).catch(Vt)}Ie();var Ir=new Error("No available storage method found.");return ie._driverSet=c.reject(Ir),ie._driverSet}return Vt()}}var Ue=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=Ue.then(function(){var Ke=Se[0];return ie._dbInfo=null,ie._ready=null,ie.getDriver(Ke).then(function(yt){ie._driver=yt._driver,Ie(),ie._wrapLibraryMethodsWithReady(),ie._initDriver=Oe(Se)})}).catch(function(){Ie();var Ke=new Error("No available storage method found.");return ie._driverSet=c.reject(Ke),ie._driverSet}),p(this._driverSet,ae,le),this._driverSet},H.prototype.supports=function(Y){return!!tC[Y]},H.prototype._extend=function(Y){jv(this,Y)},H.prototype._getSupportedDrivers=function(Y){for(var ae=[],le=0,ie=Y.length;le<ie;le++){var Se=Y[le];this.supports(Se)&&ae.push(Se)}return ae},H.prototype._wrapLibraryMethodsWithReady=function(){for(var Y=0,ae=Uv.length;Y<ae;Y++)P5(this,Uv[Y])},H.prototype.createInstance=function(Y){return new H(Y)},H}(),F5=new O5;n.exports=F5},{3:3}]},{},[4])(4)})})(X4);var hc=X4.exports;const Su=mn(hc);var tw={exports:{}},H4=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},oY=H4,Ms=Object.prototype.toString;function rw(t){return Ms.call(t)==="[object Array]"}function ix(t){return typeof t>"u"}function sY(t){return t!==null&&!ix(t)&&t.constructor!==null&&!ix(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function lY(t){return Ms.call(t)==="[object ArrayBuffer]"}function uY(t){return typeof FormData<"u"&&t instanceof FormData}function fY(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function cY(t){return typeof t=="string"}function hY(t){return typeof t=="number"}function z4(t){return t!==null&&typeof t=="object"}function Cd(t){if(Ms.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function dY(t){return Ms.call(t)==="[object Date]"}function pY(t){return Ms.call(t)==="[object File]"}function vY(t){return Ms.call(t)==="[object Blob]"}function W4(t){return Ms.call(t)==="[object Function]"}function mY(t){return z4(t)&&W4(t.pipe)}function gY(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function _Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function yY(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function nw(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),rw(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function ax(){var t={};function e(i,a){Cd(t[a])&&Cd(i)?t[a]=ax(t[a],i):Cd(i)?t[a]=ax({},i):rw(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)nw(arguments[r],e);return t}function xY(t,e,r){return nw(e,function(i,a){r&&typeof i=="function"?t[a]=oY(i,r):t[a]=i}),t}function bY(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var li={isArray:rw,isArrayBuffer:lY,isBuffer:sY,isFormData:uY,isArrayBufferView:fY,isString:cY,isNumber:hY,isObject:z4,isPlainObject:Cd,isUndefined:ix,isDate:dY,isFile:pY,isBlob:vY,isFunction:W4,isStream:mY,isURLSearchParams:gY,isStandardBrowserEnv:yY,forEach:nw,merge:ax,extend:xY,trim:_Y,stripBOM:bY},Ys=li;function sA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Y4=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Ys.isURLSearchParams(r))i=r.toString();else{var a=[];Ys.forEach(r,function(f,l){f===null||typeof f>"u"||(Ys.isArray(f)?l=l+"[]":f=[f],Ys.forEach(f,function(c){Ys.isDate(c)?c=c.toISOString():Ys.isObject(c)&&(c=JSON.stringify(c)),a.push(sA(l)+"="+sA(c))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},EY=li;function xp(){this.handlers=[]}xp.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};xp.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};xp.prototype.forEach=function(e){EY.forEach(this.handlers,function(n){n!==null&&e(n)})};var wY=xp,SY=li,CY=function(e,r){SY.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},q4=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},bm,lA;function K4(){if(lA)return bm;lA=1;var t=q4;return bm=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},bm}var Em,uA;function TY(){if(uA)return Em;uA=1;var t=K4();return Em=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},Em}var wm,fA;function AY(){if(fA)return wm;fA=1;var t=li;return wm=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,f){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),f===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),wm}var Sm,cA;function IY(){return cA||(cA=1,Sm=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),Sm}var Cm,hA;function RY(){return hA||(hA=1,Cm=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),Cm}var Tm,dA;function PY(){if(dA)return Tm;dA=1;var t=IY(),e=RY();return Tm=function(n,i){return n&&!t(i)?e(n,i):i},Tm}var Am,pA;function OY(){if(pA)return Am;pA=1;var t=li,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Am=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},Am}var Im,vA;function FY(){if(vA)return Im;vA=1;var t=li;return Im=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var f=t.isString(s)?a(s):s;return f.protocol===i.protocol&&f.host===i.host}}():function(){return function(){return!0}}(),Im}var Rm,mA;function bp(){if(mA)return Rm;mA=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,Rm=t,Rm}var Pm,gA;function _A(){if(gA)return Pm;gA=1;var t=li,e=TY(),r=AY(),n=Y4,i=PY(),a=OY(),o=FY(),s=K4(),f=Ep(),l=bp();return Pm=function(c){return new Promise(function(p,d){var m=c.data,_=c.headers,v=c.responseType,g;function y(){c.cancelToken&&c.cancelToken.unsubscribe(g),c.signal&&c.signal.removeEventListener("abort",g)}t.isFormData(m)&&delete _["Content-Type"];var x=new XMLHttpRequest;if(c.auth){var b=c.auth.username||"",E=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";_.Authorization="Basic "+btoa(b+":"+E)}var w=i(c.baseURL,c.url);x.open(c.method.toUpperCase(),n(w,c.params,c.paramsSerializer),!0),x.timeout=c.timeout;function S(){if(x){var T="getAllResponseHeaders"in x?a(x.getAllResponseHeaders()):null,I=!v||v==="text"||v==="json"?x.responseText:x.response,A={data:I,status:x.status,statusText:x.statusText,headers:T,config:c,request:x};e(function(O){p(O),y()},function(O){d(O),y()},A),x=null}}if("onloadend"in x?x.onloadend=S:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(S)},x.onabort=function(){x&&(d(s("Request aborted",c,"ECONNABORTED",x)),x=null)},x.onerror=function(){d(s("Network Error",c,null,x)),x=null},x.ontimeout=function(){var I=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded",A=c.transitional||f.transitional;c.timeoutErrorMessage&&(I=c.timeoutErrorMessage),d(s(I,c,A.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},t.isStandardBrowserEnv()){var C=(c.withCredentials||o(w))&&c.xsrfCookieName?r.read(c.xsrfCookieName):void 0;C&&(_[c.xsrfHeaderName]=C)}"setRequestHeader"in x&&t.forEach(_,function(I,A){typeof m>"u"&&A.toLowerCase()==="content-type"?delete _[A]:x.setRequestHeader(A,I)}),t.isUndefined(c.withCredentials)||(x.withCredentials=!!c.withCredentials),v&&v!=="json"&&(x.responseType=c.responseType),typeof c.onDownloadProgress=="function"&&x.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",c.onUploadProgress),(c.cancelToken||c.signal)&&(g=function(T){x&&(d(!T||T&&T.type?new l("canceled"):T),x.abort(),x=null)},c.cancelToken&&c.cancelToken.subscribe(g),c.signal&&(c.signal.aborted?g():c.signal.addEventListener("abort",g))),m||(m=null),x.send(m)})},Pm}var Om,yA;function Ep(){if(yA)return Om;yA=1;var t=li,e=CY,r=q4,n={"Content-Type":"application/x-www-form-urlencoded"};function i(f,l){!t.isUndefined(f)&&t.isUndefined(f["Content-Type"])&&(f["Content-Type"]=l)}function a(){var f;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(f=_A()),f}function o(f,l,u){if(t.isString(f))try{return(l||JSON.parse)(f),t.trim(f)}catch(c){if(c.name!=="SyntaxError")throw c}return(u||JSON.stringify)(f)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),o(l)):l}],transformResponse:[function(l){var u=this.transitional||s.transitional,c=u&&u.silentJSONParsing,h=u&&u.forcedJSONParsing,p=!c&&this.responseType==="json";if(p||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(d){if(p)throw d.name==="SyntaxError"?r(d,this,"E_JSON_PARSE"):d}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),Om=s,Om}var kY=li,NY=Ep(),LY=function(e,r,n){var i=this||NY;return kY.forEach(n,function(o){e=o.call(i,e,r)}),e},Fm,xA;function Z4(){return xA||(xA=1,Fm=function(e){return!!(e&&e.__CANCEL__)}),Fm}var bA=li,km=LY,BY=Z4(),MY=Ep(),DY=bp();function Nm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new DY("canceled")}var UY=function(e){Nm(e),e.headers=e.headers||{},e.data=km.call(e,e.data,e.headers,e.transformRequest),e.headers=bA.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),bA.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||MY.adapter;return r(e).then(function(i){return Nm(e),i.data=km.call(e,i.data,i.headers,e.transformResponse),i},function(i){return BY(i)||(Nm(e),i&&i.response&&(i.response.data=km.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},ei=li,J4=function(e,r){r=r||{};var n={};function i(u,c){return ei.isPlainObject(u)&&ei.isPlainObject(c)?ei.merge(u,c):ei.isPlainObject(c)?ei.merge({},c):ei.isArray(c)?c.slice():c}function a(u){if(ei.isUndefined(r[u])){if(!ei.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!ei.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(ei.isUndefined(r[u])){if(!ei.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function f(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:f};return ei.forEach(Object.keys(e).concat(Object.keys(r)),function(c){var h=l[c]||a,p=h(c);ei.isUndefined(p)&&h!==f||(n[c]=p)}),n},Lm,EA;function Q4(){return EA||(EA=1,Lm={version:"0.24.0"}),Lm}var jY=Q4().version,iw={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){iw[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var wA={};iw.transitional=function(e,r,n){function i(a,o){return"[Axios v"+jY+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!wA[o]&&(wA[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function $Y(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],f=s===void 0||o(s,a,t);if(f!==!0)throw new TypeError("option "+a+" must be "+f);continue}if(r!==!0)throw Error("Unknown option "+a)}}var VY={assertOptions:$Y,validators:iw},eL=li,GY=Y4,SA=wY,CA=UY,wp=J4,tL=VY,qs=tL.validators;function nh(t){this.defaults=t,this.interceptors={request:new SA,response:new SA}}nh.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=wp(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&tL.assertOptions(r,{silentJSONParsing:qs.transitional(qs.boolean),forcedJSONParsing:qs.transitional(qs.boolean),clarifyTimeoutError:qs.transitional(qs.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[CA,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var f=e;n.length;){var l=n.shift(),u=n.shift();try{f=l(f)}catch(c){u(c);break}}try{o=CA(f)}catch(c){return Promise.reject(c)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};nh.prototype.getUri=function(e){return e=wp(this.defaults,e),GY(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};eL.forEach(["delete","get","head","options"],function(e){nh.prototype[e]=function(r,n){return this.request(wp(n||{},{method:e,url:r,data:(n||{}).data}))}});eL.forEach(["post","put","patch"],function(e){nh.prototype[e]=function(r,n,i){return this.request(wp(i||{},{method:e,url:r,data:n}))}});var XY=nh,Bm,TA;function HY(){if(TA)return Bm;TA=1;var t=bp();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(f){i.subscribe(f),o=f}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},Bm=e,Bm}var Mm,AA;function zY(){return AA||(AA=1,Mm=function(e){return function(n){return e.apply(null,n)}}),Mm}var Dm,IA;function WY(){return IA||(IA=1,Dm=function(e){return typeof e=="object"&&e.isAxiosError===!0}),Dm}var RA=li,YY=H4,Td=XY,qY=J4,KY=Ep();function rL(t){var e=new Td(t),r=YY(Td.prototype.request,e);return RA.extend(r,Td.prototype,e),RA.extend(r,e),r.create=function(i){return rL(qY(t,i))},r}var ya=rL(KY);ya.Axios=Td;ya.Cancel=bp();ya.CancelToken=HY();ya.isCancel=Z4();ya.VERSION=Q4().version;ya.all=function(e){return Promise.all(e)};ya.spread=zY();ya.isAxiosError=WY();tw.exports=ya;tw.exports.default=ya;var ZY=tw.exports,JY=ZY;const QY=JY;class eq{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&QY.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var tq=eq;const rq=mn(tq),Ve=new rq,nq={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"}},iq={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:"MAIN "},vocalVolume:{title:"VOICE "},bgmVolume:{title:"BGM "},seVolume:{title:"SE "},uiSeVolume:{title:"UI "}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},aq={common:{yes:"",no:"",confirm:"",cancel:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},quit:{title:"",subtitle:"QUIT"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:"",quitTips:`
`,backToGame:"",preserve:"",read:"",setting:"",backToTitle:""}},extra:{title:""}},oq={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre"}},extra:{title:"EXTRA"}},sq={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},lq={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var Cu=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(Cu||{});const PA={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},uq={en:{translation:nq},zhCn:{translation:aq},jp:{translation:iq},fr:{translation:oq},de:{translation:sq},zhTw:{translation:lq}},fq=0;var nL=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(nL||{}),bo=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(bo||{}),gs=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(gs||{}),aw=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(aw||{}),la=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(la||{});const iL={slPage:1,volumeMain:100,textSpeed:50,autoSpeed:nL.normal,textSize:bo.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:gs.song,textboxOpacity:75,language:Cu.zhCn,voiceInterruption:aw.yes,fullScreen:la.off},ox={optionData:iL,globalGameVar:{},appreciationData:{bgm:[],cg:[]}},aL=cp({name:"userData",initialState:Nr(ox),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.globalGameVar[e.payload.key]=e.payload.value},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,iL)},resetAllData(t){Object.assign(t,Nr(ox))}}}),{setUserData:mAe,resetUserData:oL,setOptionData:Li,setGlobalVar:cq,setSlPage:y0,unlockCgInUserData:sL,unlockBgmInUserData:lL,resetOptionSet:gAe,resetAllData:_Ae}=aL.actions,hq=aL.reducer,uL={backlog_size:200,fast_timeout:50},dq={textInitialDelay:80};class pq{constructor(e){Ge(this,"isSaveBacklogNext",!1);Ge(this,"backlog",[]);Ge(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=Ce.getState().stage,r=Nr(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:Nr(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>uL.backlog_size;)this.getBacklog().shift()}}var Xn=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t))(Xn||{});const Hn=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;case 7:r=`./game/ui/${t}`;break;default:r="";break}return r}},vq=(t,e)=>{(!z.sceneManager.sceneAssetsList[e]||!Object.values(z.sceneManager.sceneAssetsList[e]).length)&&(z.sceneManager.sceneAssetsList[e]=t.reduce((r,n)=>(r[n.url]="",r),{}));for(const r of t){const n=z.sceneManager.sceneAssetsList[e];n[r.url]==="success"||n[r.url]==="loading"?(rf(e),Ve.warn("")):(console.log("",r.url),r.url.endsWith(".mp4")||r.url.endsWith(".flv")?(n[r.url]="success",rf(e),z.videoManager.preloadVideo(r.url)):(n[r.url]="loading",mq(r.url,3,1e3,()=>{n[r.url]="success",rf(e)},()=>{n[r.url]="error",rf(e);const i=z.sceneManager.settledAssets.findIndex(a=>a===r.url);i>-1&&z.sceneManager.settledAssets.splice(i,1)}),z.sceneManager.settledAssets.push(r.url)))}t.length===0&&rf(e)},rf=t=>{const e=z.sceneManager.sceneAssetsList[t],r=Object.values(e).every(n=>n==="error"||n==="success");z.sceneManager.sceneAssetsLoadedList[t]=Object.values(e).every(n=>n==="success"),r&&window.pubsub.publish("sceneAssetsLoaded",{sceneName:t})},mq=(t,e,r,n,i)=>{const a=(o,s)=>{const f=()=>{n()},l=()=>{o>0?(console.log(`${t}${o}${s}ms`),setTimeout(()=>{a(o-1,s*2)},s)):i()};if(window.isSafari)fetch(t).then(u=>{if(u.status>=400)throw new Error("Error!");f()}).catch(l);else{const u=document.createElement("link");u.setAttribute("rel","prefetch"),u.setAttribute("href",t);const c=document.getElementsByTagName("head");c.length&&c[0].appendChild(u),u.onload=f,u.onerror=l}};a(e,r)};var ze;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle"})(ze||(ze={}));ze.intro,ze.changeBg,ze.changeFigure,ze.miniAvatar,ze.changeScene,ze.choose,ze.end,ze.bgm,ze.video,ze.setComplexAnimation,ze.setFilter,ze.pixiInit,ze.pixi,ze.label,ze.jumpLabel,ze.setVar,ze.callScene,ze.showVars,ze.unlockCg,ze.unlockBgm,ze.say,ze.filmMode,ze.callScene,ze.setTextbox,ze.setAnimation,ze.playEffect,ze.applyStyle;ze.bgm,ze.pixi,ze.pixiInit,ze.label,ze.if,ze.miniAvatar,ze.setVar,ze.unlockBgm,ze.unlockCg,ze.filmMode,ze.playEffect;var Rr;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video"})(Rr||(Rr={}));function fL(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),f=a.slice(o+1);o<0&&(s=a,f=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,Rr.vocal)}):f===void 0?r.push({key:s,value:!0}):f==="true"||f==="false"?r.push({key:s,value:f==="true"}):isNaN(Number(f))?r.push({key:s,value:f}):r.push({key:s,value:Number(f)})}),r}function gq(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/:/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of fL(o,(f,l)=>f))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function _q(t){return t.replaceAll("\r","").split(`
`).map(r=>gq(r)).filter(r=>r.command!=="")}const OA=(t,e,r)=>{let n={type:ze.say,additionalArgs:[]};const i=yq(t,e,r);return n.type=i,i===ze.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=xq(n,i,e),n};function yq(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??ze.say}function xq(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const bq=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case ze.playEffect:return r(t,Rr.vocal);case ze.changeBg:return r(t,Rr.background);case ze.changeFigure:return r(t,Rr.figure);case ze.bgm:return r(t,Rr.bgm);case ze.callScene:return r(t,Rr.scene);case ze.changeScene:return r(t,Rr.scene);case ze.miniAvatar:return r(t,Rr.figure);case ze.video:return r(t,Rr.video);case ze.choose:return Eq(t,r);case ze.unlockBgm:return r(t,Rr.bgm);case ze.unlockCg:return r(t,Rr.background);default:return t}};function Eq(t,e){const r=t.split("|"),n=[],i=[];for(const s of r)n.push(s.split(":")[0]??""),i.push(s.split(":")[1]??"");const a=i.map(s=>s.match(/\./)?e(s,Rr.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const wq=(t,e,r)=>{const n=[];return t===ze.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Rr.vocal})}),e==="none"||e===""||(t===ze.changeBg&&n.push({name:e,url:e,lineNumber:0,type:Rr.background}),t===ze.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:Rr.figure}),t===ze.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:Rr.figure}),t===ze.video&&n.push({name:e,url:e,lineNumber:0,type:Rr.video}),t===ze.bgm&&n.push({name:e,url:e,lineNumber:0,type:Rr.bgm})),n},Sq=(t,e)=>{const r=[];return(t===ze.changeScene||t===ze.callScene)&&r.push(e),(t===ze.choose||t===ze.video)&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},Cq=(t,e,r,n)=>{let i,a,o;const s=[];let f,l,u,c=t.split(";")[0];if(c==="")return{command:ze.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(c);if(h===null){u=c,l=OA(u,r,n),i=l.type;for(const d of l.additionalArgs)i===ze.say&&d.key==="speaker"||s.push(d)}else{u=c.substring(0,h.index),c=c.substring(h.index+1,c.length),l=OA(u,r,n),i=l.type;for(const d of l.additionalArgs)s.push(d)}const p=/ -/.exec(c);if(p){const d=c.substring(p.index,t.length);c=c.substring(0,p.index);for(const m of fL(d,e))s.push(m)}return a=bq(c,i,e),f=wq(i,a,s),o=Sq(i,a),{command:i,commandRaw:u,content:a,args:s,sentenceAssets:f,subScene:o}};var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tq=typeof kh=="object"&&kh&&kh.Object===Object&&kh,Aq=Tq,Iq=Aq,Rq=typeof self=="object"&&self&&self.Object===Object&&self,Pq=Iq||Rq||Function("return this")(),Sp=Pq,Oq=Sp,Fq=Oq.Symbol,cL=Fq,FA=cL,hL=Object.prototype,kq=hL.hasOwnProperty,Nq=hL.toString,nf=FA?FA.toStringTag:void 0;function Lq(t){var e=kq.call(t,nf),r=t[nf];try{t[nf]=void 0;var n=!0}catch{}var i=Nq.call(t);return n&&(e?t[nf]=r:delete t[nf]),i}var Bq=Lq,Mq=Object.prototype,Dq=Mq.toString;function Uq(t){return Dq.call(t)}var jq=Uq,kA=cL,$q=Bq,Vq=jq,Gq="[object Null]",Xq="[object Undefined]",NA=kA?kA.toStringTag:void 0;function Hq(t){return t==null?t===void 0?Xq:Gq:NA&&NA in Object(t)?$q(t):Vq(t)}var zq=Hq;function Wq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dL=Wq,Yq=zq,qq=dL,Kq="[object AsyncFunction]",Zq="[object Function]",Jq="[object GeneratorFunction]",Qq="[object Proxy]";function eK(t){if(!qq(t))return!1;var e=Yq(t);return e==Zq||e==Jq||e==Kq||e==Qq}var tK=eK,rK=Sp,nK=rK["__core-js_shared__"],iK=nK,Um=iK,LA=function(){var t=/[^.]+$/.exec(Um&&Um.keys&&Um.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function aK(t){return!!LA&&LA in t}var oK=aK,sK=Function.prototype,lK=sK.toString;function uK(t){if(t!=null){try{return lK.call(t)}catch{}try{return t+""}catch{}}return""}var fK=uK,cK=tK,hK=oK,dK=dL,pK=fK,vK=/[\\^$.*+?()[\]{}|]/g,mK=/^\[object .+?Constructor\]$/,gK=Function.prototype,_K=Object.prototype,yK=gK.toString,xK=_K.hasOwnProperty,bK=RegExp("^"+yK.call(xK).replace(vK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EK(t){if(!dK(t)||hK(t))return!1;var e=cK(t)?bK:mK;return e.test(pK(t))}var wK=EK;function SK(t,e){return t==null?void 0:t[e]}var CK=SK,TK=wK,AK=CK;function IK(t,e){var r=AK(t,e);return TK(r)?r:void 0}var ow=IK,RK=ow,PK=RK(Object,"create"),Cp=PK,BA=Cp;function OK(){this.__data__=BA?BA(null):{},this.size=0}var FK=OK;function kK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var NK=kK,LK=Cp,BK="__lodash_hash_undefined__",MK=Object.prototype,DK=MK.hasOwnProperty;function UK(t){var e=this.__data__;if(LK){var r=e[t];return r===BK?void 0:r}return DK.call(e,t)?e[t]:void 0}var jK=UK,$K=Cp,VK=Object.prototype,GK=VK.hasOwnProperty;function XK(t){var e=this.__data__;return $K?e[t]!==void 0:GK.call(e,t)}var HK=XK,zK=Cp,WK="__lodash_hash_undefined__";function YK(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=zK&&e===void 0?WK:e,this}var qK=YK,KK=FK,ZK=NK,JK=jK,QK=HK,eZ=qK;function Tu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Tu.prototype.clear=KK;Tu.prototype.delete=ZK;Tu.prototype.get=JK;Tu.prototype.has=QK;Tu.prototype.set=eZ;var tZ=Tu;function rZ(){this.__data__=[],this.size=0}var nZ=rZ;function iZ(t,e){return t===e||t!==t&&e!==e}var aZ=iZ,oZ=aZ;function sZ(t,e){for(var r=t.length;r--;)if(oZ(t[r][0],e))return r;return-1}var Tp=sZ,lZ=Tp,uZ=Array.prototype,fZ=uZ.splice;function cZ(t){var e=this.__data__,r=lZ(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():fZ.call(e,r,1),--this.size,!0}var hZ=cZ,dZ=Tp;function pZ(t){var e=this.__data__,r=dZ(e,t);return r<0?void 0:e[r][1]}var vZ=pZ,mZ=Tp;function gZ(t){return mZ(this.__data__,t)>-1}var _Z=gZ,yZ=Tp;function xZ(t,e){var r=this.__data__,n=yZ(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var bZ=xZ,EZ=nZ,wZ=hZ,SZ=vZ,CZ=_Z,TZ=bZ;function Au(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Au.prototype.clear=EZ;Au.prototype.delete=wZ;Au.prototype.get=SZ;Au.prototype.has=CZ;Au.prototype.set=TZ;var AZ=Au,IZ=ow,RZ=Sp,PZ=IZ(RZ,"Map"),OZ=PZ,MA=tZ,FZ=AZ,kZ=OZ;function NZ(){this.size=0,this.__data__={hash:new MA,map:new(kZ||FZ),string:new MA}}var LZ=NZ;function BZ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var MZ=BZ,DZ=MZ;function UZ(t,e){var r=t.__data__;return DZ(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ap=UZ,jZ=Ap;function $Z(t){var e=jZ(this,t).delete(t);return this.size-=e?1:0,e}var VZ=$Z,GZ=Ap;function XZ(t){return GZ(this,t).get(t)}var HZ=XZ,zZ=Ap;function WZ(t){return zZ(this,t).has(t)}var YZ=WZ,qZ=Ap;function KZ(t,e){var r=qZ(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var ZZ=KZ,JZ=LZ,QZ=VZ,eJ=HZ,tJ=YZ,rJ=ZZ;function Iu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Iu.prototype.clear=JZ;Iu.prototype.delete=QZ;Iu.prototype.get=eJ;Iu.prototype.has=tJ;Iu.prototype.set=rJ;var nJ=Iu,iJ="__lodash_hash_undefined__";function aJ(t){return this.__data__.set(t,iJ),this}var oJ=aJ;function sJ(t){return this.__data__.has(t)}var lJ=sJ,uJ=nJ,fJ=oJ,cJ=lJ;function x0(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new uJ;++e<r;)this.add(t[e])}x0.prototype.add=x0.prototype.push=fJ;x0.prototype.has=cJ;var hJ=x0;function dJ(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var pJ=dJ;function vJ(t){return t!==t}var mJ=vJ;function gJ(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var _J=gJ,yJ=pJ,xJ=mJ,bJ=_J;function EJ(t,e,r){return e===e?bJ(t,e,r):yJ(t,xJ,r)}var wJ=EJ,SJ=wJ;function CJ(t,e){var r=t==null?0:t.length;return!!r&&SJ(t,e,0)>-1}var TJ=CJ;function AJ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var IJ=AJ;function RJ(t,e){return t.has(e)}var PJ=RJ,OJ=ow,FJ=Sp,kJ=OJ(FJ,"Set"),NJ=kJ;function LJ(){}var BJ=LJ;function MJ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var pL=MJ,jm=NJ,DJ=BJ,UJ=pL,jJ=1/0,$J=jm&&1/UJ(new jm([,-0]))[1]==jJ?function(t){return new jm(t)}:DJ,VJ=$J,GJ=hJ,XJ=TJ,HJ=IJ,zJ=PJ,WJ=VJ,YJ=pL,qJ=200;function KJ(t,e,r){var n=-1,i=XJ,a=t.length,o=!0,s=[],f=s;if(r)o=!1,i=HJ;else if(a>=qJ){var l=e?null:WJ(t);if(l)return YJ(l);o=!1,i=zJ,f=new GJ}else f=e?[]:s;e:for(;++n<a;){var u=t[n],c=e?e(u):u;if(u=r||u!==0?u:0,o&&c===c){for(var h=f.length;h--;)if(f[h]===c)continue e;e&&f.push(c),s.push(u)}else i(f,c,r)||(f!==s&&f.push(c),s.push(u))}return s}var ZJ=KJ,JJ=ZJ;function QJ(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?JJ(t,void 0,e):[]}var eQ=QJ;const tQ=(t,e,r,n,i,a,o)=>{const f=t.split(`
`);let l=[],u=[];const c=f.map(h=>{const p=Cq(h,i,a,o);return l=[...l,...p.sentenceAssets],u=[...u,...p.subScene],p});return l=eQ(l),n(l,e),{sceneName:e,sceneUrl:r,sentenceList:c,assetsList:l,subSceneList:u}};function rQ(t){const[e,r]=nQ(t);return{classNameStyles:e,others:r}}function nQ(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class iQ{constructor(e,r,n,i){Ge(this,"assetsPrefetcher");Ge(this,"assetSetter");Ge(this,"ADD_NEXT_ARG_LIST");Ge(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return tQ(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return _q(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return rQ(e)}}function bt(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const aQ=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=bt(t,"enter"),a=bt(t,"volume");return r!==""&&Ce.dispatch(lL({name:r,url:e,series:n})),Xw(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var sw={exports:{}},vL=function(e,r){return function(){return e.apply(r,arguments)}},oQ=vL,lw=Object.prototype.toString,uw=function(t){return function(e){var r=lw.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Uo(t){return t=t.toLowerCase(),function(r){return uw(r)===t}}function Ip(t){return Array.isArray(t)}function sx(t){return typeof t>"u"}function sQ(t){return t!==null&&!sx(t)&&t.constructor!==null&&!sx(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var mL=Uo("ArrayBuffer");function lQ(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&mL(t.buffer),e}function uQ(t){return typeof t=="string"}function gL(t){return typeof t=="number"}function _L(t){return t!==null&&typeof t=="object"}function Ad(t){if(uw(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function fQ(t){return t&&Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}var cQ=Uo("Date"),hQ=Uo("File"),dQ=Uo("Blob"),pQ=Uo("FileList");function fw(t){return lw.call(t)==="[object Function]"}function vQ(t){return _L(t)&&fw(t.pipe)}function mQ(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||lw.call(t)===e||fw(t.toString)&&t.toString()===e)}var gQ=Uo("URLSearchParams");function _Q(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function yQ(){var t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"}function cw(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Ip(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function lx(){var t={};function e(i,a){Ad(t[a])&&Ad(i)?t[a]=lx(t[a],i):Ad(i)?t[a]=lx({},i):Ip(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)cw(arguments[r],e);return t}function xQ(t,e,r){return cw(e,function(i,a){r&&typeof i=="function"?t[a]=oQ(i,r):t[a]=i}),t}function bQ(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function EQ(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function wQ(t,e,r,n){var i,a,o,s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function SQ(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function CQ(t){if(!t)return null;if(Ip(t))return t;var e=t.length;if(!gL(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var TQ=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function AQ(t,e){for(var r=t&&t[Symbol.iterator],n=r.call(t),i;(i=n.next())&&!i.done;){var a=i.value;e.call(t,a[0],a[1])}}function IQ(t,e){for(var r,n=[];(r=t.exec(e))!==null;)n.push(r);return n}var RQ=Uo("HTMLFormElement"),PQ=function(e){return function(r,n){return e.call(r,n)}}(Object.prototype.hasOwnProperty),Hr={isArray:Ip,isArrayBuffer:mL,isBuffer:sQ,isFormData:mQ,isArrayBufferView:lQ,isString:uQ,isNumber:gL,isObject:_L,isPlainObject:Ad,isEmptyObject:fQ,isUndefined:sx,isDate:cQ,isFile:hQ,isBlob:dQ,isFunction:fw,isStream:vQ,isURLSearchParams:gQ,isStandardBrowserEnv:yQ,forEach:cw,merge:lx,extend:xQ,trim:_Q,stripBOM:bQ,inherits:EQ,toFlatObject:wQ,kindOf:uw,kindOfTest:Uo,endsWith:SQ,toArray:CQ,isTypedArray:TQ,isFileList:pQ,forEachEntry:AQ,matchAll:IQ,isHTMLForm:RQ,hasOwnProperty:PQ},yL=Hr;function Kl(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}yL.inherits(Kl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var xL=Kl.prototype,bL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(t){bL[t]={value:t}});Object.defineProperties(Kl,bL);Object.defineProperty(xL,"isAxiosError",{value:!0});Kl.from=function(t,e,r,n,i,a){var o=Object.create(xL);return yL.toFlatObject(t,o,function(f){return f!==Error.prototype}),Kl.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};var Ds=Kl,OQ=typeof self=="object"?self.FormData:window.FormData,FQ=OQ,Qt=Hr,kQ=Ds,NQ=FQ;function ux(t){return Qt.isPlainObject(t)||Qt.isArray(t)}function EL(t){return Qt.endsWith(t,"[]")?t.slice(0,-2):t}function DA(t,e,r){return t?t.concat(e).map(function(i,a){return i=EL(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function LQ(t){return Qt.isArray(t)&&!t.some(ux)}var BQ=Qt.toFlatObject(Qt,{},null,function(e){return/^is[A-Z]/.test(e)});function MQ(t){return t&&Qt.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function DQ(t,e,r){if(!Qt.isObject(t))throw new TypeError("target must be an object");e=e||new(NQ||FormData),r=Qt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!Qt.isUndefined(_[m])});var n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,s=r.Blob||typeof Blob<"u"&&Blob,f=s&&MQ(e);if(!Qt.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(Qt.isDate(d))return d.toISOString();if(!f&&Qt.isBlob(d))throw new kQ("Blob is not supported. Use a Buffer instead.");return Qt.isArrayBuffer(d)||Qt.isTypedArray(d)?f&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,m,_){var v=d;if(d&&!_&&typeof d=="object"){if(Qt.endsWith(m,"{}"))m=n?m:m.slice(0,-2),d=JSON.stringify(d);else if(Qt.isArray(d)&&LQ(d)||Qt.isFileList(d)||Qt.endsWith(m,"[]")&&(v=Qt.toArray(d)))return m=EL(m),v.forEach(function(y,x){!Qt.isUndefined(y)&&e.append(o===!0?DA([m],x,a):o===null?m:m+"[]",l(y))}),!1}return ux(d)?!0:(e.append(DA(_,m,a),l(d)),!1)}var c=[],h=Object.assign(BQ,{defaultVisitor:u,convertValue:l,isVisitable:ux});function p(d,m){if(!Qt.isUndefined(d)){if(c.indexOf(d)!==-1)throw Error("Circular reference detected in "+m.join("."));c.push(d),Qt.forEach(d,function(v,g){var y=!Qt.isUndefined(v)&&i.call(e,v,Qt.isString(g)?g.trim():g,m,h);y===!0&&p(v,m?m.concat(g):[g])}),c.pop()}}if(!Qt.isObject(t))throw new TypeError("data must be an object");return p(t),e}var Rp=DQ,UQ=Rp;function UA(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'\(\)~]|%20|%00/g,function(n){return e[n]})}function wL(t,e){this._pairs=[],t&&UQ(t,this,e)}var SL=wL.prototype;SL.append=function(e,r){this._pairs.push([e,r])};SL.toString=function(e){var r=e?function(n){return e.call(this,n,UA)}:UA;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var CL=wL,jQ=Hr,$Q=CL;function VQ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var TL=function(e,r,n){if(!r)return e;var i=e.indexOf("#");i!==-1&&(e=e.slice(0,i));var a=n&&n.encode||VQ,o=jQ.isURLSearchParams(r)?r.toString():new $Q(r,n).toString(a);return o&&(e+=(e.indexOf("?")===-1?"?":"&")+o),e},GQ=Hr;function ih(){this.handlers=[]}ih.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};ih.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};ih.prototype.clear=function(){this.handlers&&(this.handlers=[])};ih.prototype.forEach=function(e){GQ.forEach(this.handlers,function(n){n!==null&&e(n)})};var XQ=ih,HQ=Hr,AL=function(e,r){HQ.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},IL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zQ=CL,WQ=typeof URLSearchParams<"u"?URLSearchParams:zQ,YQ=FormData,qQ={isBrowser:!0,classes:{URLSearchParams:WQ,FormData:YQ,Blob},protocols:["http","https","file","blob","url","data"]},hw=qQ,KQ=Hr,ZQ=Rp,jA=hw,JQ=function(e,r){return ZQ(e,new jA.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,o){return jA.isNode&&KQ.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},r))},qa=Hr;function QQ(t){return qa.matchAll(/\w+|\[(\w*)]/g,t).map(function(e){return e[0]==="[]"?"":e[1]||e[0]})}function eee(t){var e={},r=Object.keys(t),n,i=r.length,a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function tee(t){function e(n,i,a,o){var s=n[o++],f=Number.isFinite(+s),l=o>=n.length;if(s=!s&&qa.isArray(a)?a.length:s,l)return qa.hasOwnProperty(a,s)?a[s]=[a[s],i]:a[s]=i,!f;(!a[s]||!qa.isObject(a[s]))&&(a[s]=[]);var u=e(n,i,a[s],o);return u&&qa.isArray(a[s])&&(a[s]=eee(a[s])),!f}if(qa.isFormData(t)&&qa.isFunction(t.entries)){var r={};return qa.forEachEntry(t,function(n,i){e(QQ(n),i,r,0)}),r}return null}var RL=tee,$m,$A;function ree(){if($A)return $m;$A=1;var t=Ds;return $m=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},$m}var Vm,VA;function nee(){if(VA)return Vm;VA=1;var t=Hr;return Vm=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,f){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),f===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Vm}var iee=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},aee=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},oee=iee,see=aee,PL=function(e,r){return e&&!oee(r)?see(e,r):r},Gm,GA;function lee(){if(GA)return Gm;GA=1;var t=Hr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Gm=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.slice(0,s)).toLowerCase(),o=t.trim(l.slice(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},Gm}var Xm,XA;function uee(){if(XA)return Xm;XA=1;var t=Hr;return Xm=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var f=t.isString(s)?a(s):s;return f.protocol===i.protocol&&f.host===i.host}}():function(){return function(){return!0}}(),Xm}var Hm,HA;function Pp(){if(HA)return Hm;HA=1;var t=Ds,e=Hr;function r(n,i,a){t.call(this,n??"canceled",t.ERR_CANCELED,i,a),this.name="CanceledError"}return e.inherits(r,t,{__CANCEL__:!0}),Hm=r,Hm}var zm,zA;function fee(){return zA||(zA=1,zm=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}),zm}var Wm,WA;function YA(){if(WA)return Wm;WA=1;var t=Hr,e=ree(),r=nee(),n=TL,i=PL,a=lee(),o=uee(),s=IL,f=Ds,l=Pp(),u=fee(),c=hw;return Wm=function(p){return new Promise(function(m,_){var v=p.data,g=p.headers,y=p.responseType,x=p.withXSRFToken,b;function E(){p.cancelToken&&p.cancelToken.unsubscribe(b),p.signal&&p.signal.removeEventListener("abort",b)}t.isFormData(v)&&t.isStandardBrowserEnv()&&delete g["Content-Type"];var w=new XMLHttpRequest;if(p.auth){var S=p.auth.username||"",C=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";g.Authorization="Basic "+btoa(S+":"+C)}var T=i(p.baseURL,p.url);w.open(p.method.toUpperCase(),n(T,p.params,p.paramsSerializer),!0),w.timeout=p.timeout;function I(){if(w){var O="getAllResponseHeaders"in w?a(w.getAllResponseHeaders()):null,F=!y||y==="text"||y==="json"?w.responseText:w.response,k={data:F,status:w.status,statusText:w.statusText,headers:O,config:p,request:w};e(function(q){m(q),E()},function(q){_(q),E()},k),w=null}}if("onloadend"in w?w.onloadend=I:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(I)},w.onabort=function(){w&&(_(new f("Request aborted",f.ECONNABORTED,p,w)),w=null)},w.onerror=function(){_(new f("Network Error",f.ERR_NETWORK,p,w)),w=null},w.ontimeout=function(){var F=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",k=p.transitional||s;p.timeoutErrorMessage&&(F=p.timeoutErrorMessage),_(new f(F,k.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,p,w)),w=null},t.isStandardBrowserEnv()&&(x&&t.isFunction(x)&&(x=x(p)),x||x!==!1&&o(T))){var A=p.xsrfHeaderName&&p.xsrfCookieName&&r.read(p.xsrfCookieName);A&&(g[p.xsrfHeaderName]=A)}"setRequestHeader"in w&&t.forEach(g,function(F,k){typeof v>"u"&&k.toLowerCase()==="content-type"?delete g[k]:w.setRequestHeader(k,F)}),t.isUndefined(p.withCredentials)||(w.withCredentials=!!p.withCredentials),y&&y!=="json"&&(w.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&w.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(b=function(O){w&&(_(!O||O.type?new l(null,p,req):O),w.abort(),w=null)},p.cancelToken&&p.cancelToken.subscribe(b),p.signal&&(p.signal.aborted?b():p.signal.addEventListener("abort",b))),!v&&v!==!1&&v!==0&&v!==""&&(v=null);var R=u(T);if(R&&c.protocols.indexOf(R)===-1){_(new f("Unsupported protocol "+R+":",f.ERR_BAD_REQUEST,p));return}w.send(v)})},Wm}var Dr=Hr,qA=AL,KA=Ds,cee=IL,hee=Rp,dee=JQ,ZA=hw,pee=RL,vee={"Content-Type":"application/x-www-form-urlencoded"};function JA(t,e){!Dr.isUndefined(t)&&Dr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function mee(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=YA()),t}function gee(t,e,r){if(Dr.isString(t))try{return(e||JSON.parse)(t),Dr.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var Op={transitional:cee,adapter:mee(),transformRequest:[function(e,r){qA(r,"Accept"),qA(r,"Content-Type");var n=r&&r["Content-Type"]||"",i=n.indexOf("application/json")>-1,a=Dr.isObject(e);a&&Dr.isHTMLForm(e)&&(e=new FormData(e));var o=Dr.isFormData(e);if(o)return i?JSON.stringify(pee(e)):e;if(Dr.isArrayBuffer(e)||Dr.isBuffer(e)||Dr.isStream(e)||Dr.isFile(e)||Dr.isBlob(e))return e;if(Dr.isArrayBufferView(e))return e.buffer;if(Dr.isURLSearchParams(e))return JA(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var s;if(a){if(n.indexOf("application/x-www-form-urlencoded")!==-1)return dee(e,this.formSerializer).toString();if((s=Dr.isFileList(e))||n.indexOf("multipart/form-data")>-1){var f=this.env&&this.env.FormData;return hee(s?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||i?(JA(r,"application/json"),gee(e)):e}],transformResponse:[function(e){var r=this.transitional||Op.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&Dr.isString(e)&&(n&&!this.responseType||i)){var a=r&&r.silentJSONParsing,o=!a&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?KA.from(s,KA.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ZA.classes.FormData,Blob:ZA.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Dr.forEach(["delete","get","head"],function(e){Op.headers[e]={}});Dr.forEach(["post","put","patch"],function(e){Op.headers[e]=Dr.merge(vee)});var dw=Op,_ee=Hr,yee=dw,xee=function(e,r,n,i){var a=this||yee;return _ee.forEach(i,function(s){e=s.call(a,e,r,n)}),e},Ym,QA;function OL(){return QA||(QA=1,Ym=function(e){return!!(e&&e.__CANCEL__)}),Ym}var eI=Hr,qm=xee,bee=OL(),Eee=dw,wee=Pp(),tI=AL;function Km(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wee}var See=function(e){Km(e),e.headers=e.headers||{},e.data=qm.call(e,e.data,e.headers,null,e.transformRequest),tI(e.headers,"Accept"),tI(e.headers,"Content-Type"),e.headers=eI.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),eI.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Eee.adapter;return r(e).then(function(i){return Km(e),i.data=qm.call(e,i.data,i.headers,i.status,e.transformResponse),i},function(i){return bee(i)||(Km(e),i&&i.response&&(i.response.data=qm.call(e,i.response.data,i.response.headers,i.response.status,e.transformResponse))),Promise.reject(i)})},Rn=Hr,FL=function(e,r){r=r||{};var n={};function i(u,c){return Rn.isPlainObject(u)&&Rn.isPlainObject(c)?Rn.merge(u,c):Rn.isEmptyObject(c)?Rn.merge({},u):Rn.isPlainObject(c)?Rn.merge({},c):Rn.isArray(c)?c.slice():c}function a(u){if(Rn.isUndefined(r[u])){if(!Rn.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Rn.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Rn.isUndefined(r[u])){if(!Rn.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function f(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:f};return Rn.forEach(Object.keys(e).concat(Object.keys(r)),function(c){var h=l[c]||a,p=h(c);Rn.isUndefined(p)&&h!==f||(n[c]=p)}),n},Zm,rI;function kL(){return rI||(rI=1,Zm={version:"0.28.0"}),Zm}var Cee=kL().version,Ja=Ds,pw={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){pw[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var nI={};pw.transitional=function(e,r,n){function i(a,o){return"[Axios v"+Cee+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Ja(i(o," has been removed"+(r?" in "+r:"")),Ja.ERR_DEPRECATED);return r&&!nI[o]&&(nI[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Tee(t,e,r){if(typeof t!="object")throw new Ja("options must be an object",Ja.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],f=s===void 0||o(s,a,t);if(f!==!0)throw new Ja("option "+a+" must be "+f,Ja.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ja("Unknown option "+a,Ja.ERR_BAD_OPTION)}}var Aee={assertOptions:Tee,validators:pw},vw=Hr,Iee=TL,iI=XQ,aI=See,Fp=FL,Ree=PL,NL=Aee,Ks=NL.validators;function Zl(t){this.defaults=t,this.interceptors={request:new iI,response:new iI}}Zl.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Fp(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&NL.assertOptions(n,{silentJSONParsing:Ks.transitional(Ks.boolean),forcedJSONParsing:Ks.transitional(Ks.boolean),clarifyTimeoutError:Ks.transitional(Ks.boolean)},!1);var i=r.paramsSerializer;vw.isFunction(i)&&(r.paramsSerializer={serialize:i});var a=[],o=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(r)===!1||(o=o&&d.synchronous,a.unshift(d.fulfilled,d.rejected))});var s=[];this.interceptors.response.forEach(function(d){s.push(d.fulfilled,d.rejected)});var f;if(!o){var l=[aI,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(s),f=Promise.resolve(r);l.length;)f=f.then(l.shift(),l.shift());return f}for(var u=r;a.length;){var c=a.shift(),h=a.shift();try{u=c(u)}catch(p){h(p);break}}try{f=aI(u)}catch(p){return Promise.reject(p)}for(;s.length;)f=f.then(s.shift(),s.shift());return f};Zl.prototype.getUri=function(e){e=Fp(this.defaults,e);var r=Ree(e.baseURL,e.url);return Iee(r,e.params,e.paramsSerializer)};vw.forEach(["delete","get","head","options"],function(e){Zl.prototype[e]=function(r,n){return this.request(Fp(n||{},{method:e,url:r,data:(n||{}).data}))}});vw.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(Fp(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Zl.prototype[e]=r(),Zl.prototype[e+"Form"]=r(!0)});var Pee=Zl,Jm,oI;function Oee(){if(oI)return Jm;oI=1;var t=Pp();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){for(var o=i._listeners.length;o-- >0;)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(f){i.subscribe(f),o=f}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o,s,f){i.reason||(i.reason=new t(o,s,f),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},Jm=e,Jm}var Qm,sI;function Fee(){return sI||(sI=1,Qm=function(e){return function(n){return e.apply(null,n)}}),Qm}var eg,lI;function kee(){if(lI)return eg;lI=1;var t=Hr;return eg=function(r){return t.isObject(r)&&r.isAxiosError===!0},eg}var fx=Hr,Nee=vL,Id=Pee,Lee=FL,Bee=dw,Mee=RL;function LL(t){var e=new Id(t),r=Nee(Id.prototype.request,e);return fx.extend(r,Id.prototype,e),fx.extend(r,e),r.create=function(i){return LL(Lee(t,i))},r}var Bn=LL(Bee);Bn.Axios=Id;Bn.CanceledError=Pp();Bn.CancelToken=Oee();Bn.isCancel=OL();Bn.VERSION=kL().version;Bn.toFormData=Rp;Bn.AxiosError=Ds;Bn.Cancel=Bn.CanceledError;Bn.all=function(e){return Promise.all(e)};Bn.spread=Fee();Bn.isAxiosError=kee();Bn.formToJSON=function(t){return Mee(fx.isHTMLForm(t)?new FormData(t):t)};sw.exports=Bn;sw.exports.default=Bn;var Dee=sw.exports,Uee=Dee;const dc=mn(Uee),xa=t=>new Promise(e=>{dc.get(t).then(r=>{const n=r.data.toString();e(n)})}),jee={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},mw=t=>{var n;let e=jee;e=(((n=iM[t.command])==null?void 0:n.scriptFunction)??aM.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>z.gameplay.performController.arrangeNewPerform(i,t)):z.gameplay.performController.arrangeNewPerform(e,t)},$ee=t=>{xa(t.sceneUrl).then(async e=>{await z.sceneManager.setCurrentScene(e,t.sceneName,t.sceneUrl,!0)&&(z.sceneManager.sceneData.currentSentenceId=t.continueLine+1,Ve.debug("",z.sceneManager.sceneData.currentScene),gn())})};var gw={},pc={document:{}},BL=Object.prototype.hasOwnProperty,ML=function(t){return kp(t)?t.toLowerCase():t},$f=Array.isArray,Vee=function(t){return kp(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(ML=Vee);var Gee,_w=Object.prototype.toString,DL=Object.getPrototypeOf,tg=GL("ng");pc.angular||(pc.angular={});pc.document.documentMode;function Xee(t){if(t==null||bw(t))return!1;if($f(t)||kp(t)||Gee)return!0;var e="length"in Object(t)&&t.length;return xw(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function hr(t,e,r){var n,i;if(t)if($L(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if($f(t)||Xee(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==hr)t.forEach(e,r,t);else if(jL(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)BL.call(t,n)&&e.call(r,t[n],n,t);return t}function Hee(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function yw(){}yw.$inject=[];function zee(t){return typeof t>"u"}function xl(t){return typeof t<"u"}function UL(t){return t!==null&&typeof t=="object"}function jL(t){return t!==null&&typeof t=="object"&&!DL(t)}function kp(t){return typeof t=="string"}function xw(t){return typeof t=="number"}function $L(t){return typeof t=="function"}function bw(t){return t&&t.window===t}function VL(t){return t&&t.$evalAsync&&t.$watch}var Wee=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function Yee(t){return t&&xw(t.length)&&Wee.test(_w.call(t))}function qee(t){return _w.call(t)==="[object ArrayBuffer]"}function Kee(t,e){var r=[],n=[];if(e){if(Yee(e)||qee(e))throw tg("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw tg("cpi","Can't copy! Source and destination are identical.");return $f(e)?e.length=0:hr(e,function(s,f){f!=="$$hashKey"&&delete e[f]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,f){var l=f.$$hashKey,u;if($f(s))for(var c=0,h=s.length;c<h;c++)f.push(a(s[c]));else if(jL(s))for(u in s)f[u]=a(s[u]);else if(s&&typeof s.hasOwnProperty=="function")for(u in s)s.hasOwnProperty(u)&&(f[u]=a(s[u]));else for(u in s)BL.call(s,u)&&(f[u]=a(s[u]));return Hee(f,l),f}function a(s){if(!UL(s))return s;var f=r.indexOf(s);if(f!==-1)return n[f];if(bw(s)||VL(s))throw tg("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,u=o(s);return u===void 0&&(u=$f(s)?[]:Object.create(DL(s)),l=!0),r.push(s),n.push(u),l?i(s,u):u}function o(s){switch(_w.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var f=new ArrayBuffer(s.byteLength);return new Uint8Array(f).set(new Uint8Array(s)),f}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if($L(s.cloneNode))return s.cloneNode(!0)}}function Zee(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:bw(e)?r="$WINDOW":e&&pc.document===e?r="$DOCUMENT":VL(e)&&(r="$SCOPE"),r}function Jee(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}Jee(pc.document);function Qee(){return Object.create(null)}function ete(t){var e=[];return JSON.stringify(t,function(r,n){if(n=Zee(r,n),UL(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function uI(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):zee(t)?"undefined":typeof t!="string"?ete(t):t}function GL(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,f;for(a+=o.replace(/\{\d+\}/g,function(l){var u=+l.slice(1,-1),c=u+r;return c<n.length?uI(n[c]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,f=r,s="?";f<n.length;f++,s="&")a+=s+"p"+(f-r)+"="+encodeURIComponent(uI(n[f]));return new e(a)}}var bl=GL("$parse");({}).constructor.prototype.valueOf;function XL(t){return t+""}var Rd=Qee();hr("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Rd[t]=!0});var tte={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},cx=function(e){this.options=e};cx.prototype={constructor:cx,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=Rd[e],a=Rd[r],o=Rd[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===""},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=xl(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw bl("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=ML(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=tte[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var Re=function(e,r){this.lexer=e,this.options=r};Re.Program="Program";Re.ExpressionStatement="ExpressionStatement";Re.AssignmentExpression="AssignmentExpression";Re.ConditionalExpression="ConditionalExpression";Re.LogicalExpression="LogicalExpression";Re.BinaryExpression="BinaryExpression";Re.UnaryExpression="UnaryExpression";Re.CallExpression="CallExpression";Re.MemberExpression="MemberExpression";Re.Identifier="Identifier";Re.Literal="Literal";Re.ArrayExpression="ArrayExpression";Re.Property="Property";Re.ObjectExpression="ObjectExpression";Re.ThisExpression="ThisExpression";Re.LocalsExpression="LocalsExpression";Re.NGValueParameter="NGValueParameter";Re.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Re.Program,body:t}},expressionStatement:function(){return{type:Re.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!WL(t))throw bl("lval","Trying to assign a value to a non l-value");t={type:Re.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:Re.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Re.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Re.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:Re.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Re.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=Kee(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Re.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:Re.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:Re.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:Re.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:Re.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Re.Identifier,name:t.text}},constant:function(){return{type:Re.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Re.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:Re.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Re.ObjectExpression,properties:t}},throwError:function(t,e){throw bl("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw bl("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw bl("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:Re.ThisExpression},$locals:{type:Re.LocalsExpression}}};function rte(t,e){return typeof t<"u"?t:e}function HL(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function nte(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function qr(t,e){var r,n,i;switch(t.type){case Re.Program:r=!0,hr(t.body,function(a){qr(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case Re.Literal:t.constant=!0,t.toWatch=[];break;case Re.UnaryExpression:qr(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Re.BinaryExpression:qr(t.left,e),qr(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Re.LogicalExpression:qr(t.left,e),qr(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Re.ConditionalExpression:qr(t.test,e),qr(t.alternate,e),qr(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Re.Identifier:t.constant=!1,t.toWatch=[t];break;case Re.MemberExpression:qr(t.object,e),t.computed&&qr(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Re.CallExpression:i=t.filter?nte(e,t.callee.name):!1,r=i,n=[],hr(t.arguments,function(a){qr(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case Re.AssignmentExpression:qr(t.left,e),qr(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Re.ArrayExpression:r=!0,n=[],hr(t.elements,function(a){qr(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case Re.ObjectExpression:r=!0,n=[],hr(t.properties,function(a){qr(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case Re.ThisExpression:t.constant=!1,t.toWatch=[];break;case Re.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function zL(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function WL(t){return t.type===Re.Identifier||t.type===Re.MemberExpression}function YL(t){if(t.body.length===1&&WL(t.body[0].expression))return{type:Re.AssignmentExpression,left:t.body[0].expression,right:{type:Re.NGValueParameter},operator:"="}}function qL(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===Re.Literal||t.body[0].expression.type===Re.ArrayExpression||t.body[0].expression.type===Re.ObjectExpression)}function KL(t){return t.constant}function ZL(t,e){this.astBuilder=t,this.$filter=e}ZL.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},qr(r,e.$filter);var n="",i;if(this.stage="assign",i=YL(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=zL(r.body);e.stage="inputs",hr(o,function(l,u){var c="fn"+u;e.state[c]={vars:[],body:[],own:{}},e.state.computing=c;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(c),l.watchId=u}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",f=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,XL,rte,HL);return this.state=this.stage=void 0,f.ast=r,f.literal=qL(r),f.constant=KL(r),f},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return hr(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return hr(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,f=this,l,u,c;if(n=n||yw,!a&&xl(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case Re.Program:hr(t.body,function(p,d){f.recurse(p.expression,void 0,void 0,function(m){s=m}),d!==t.body.length-1?f.current().body.push(s,";"):f.return_(s)});break;case Re.Literal:u=this.escape(t.value),this.assign(e,u),n(e||u);break;case Re.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(p){s=p}),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),n(u);break;case Re.BinaryExpression:this.recurse(t.left,void 0,void 0,function(p){o=p}),this.recurse(t.right,void 0,void 0,function(p){s=p}),t.operator==="+"?u=this.plus(o,s):t.operator==="-"?u=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):u="("+o+")"+t.operator+"("+s+")",this.assign(e,u),n(u);break;case Re.LogicalExpression:e=e||this.nextId(),f.recurse(t.left,e),f.if_(t.operator==="&&"?e:f.not(e),f.lazyRecurse(t.right,e)),n(e);break;case Re.ConditionalExpression:e=e||this.nextId(),f.recurse(t.test,e),f.if_(e,f.lazyRecurse(t.alternate,e),f.lazyRecurse(t.consequent,e)),n(e);break;case Re.Identifier:e=e||this.nextId();var h=f.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=f.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),f.if_(f.stage==="inputs"||f.not(f.getHasOwnProperty("l",t.name)),function(){f.if_(f.stage==="inputs"||f.and_("s",f.or_(f.isNull(f.nonComputedMember("s",t.name)),f.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&f.if_(f.isNull(f.nonComputedMember("s",t.name)),f.lazyAssign(f.nonComputedMember("s",t.name),"{}")),f.assign(e,f.nonComputedMember("s",t.name))})},e&&f.lazyAssign(e,f.nonComputedMember("l",t.name))),n(e);break;case Re.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),f.recurse(t.object,o,void 0,function(){var p=null,d=f.current().inAssignment;t.computed?(s=f.nextId(),d||f.state.computing==="assign"?p=f.unsafeComputedMember(o,s):p=f.computedMember(o,s)):(d||f.state.computing==="assign"?p=f.unsafeNonComputedMember(o,t.property.name):p=f.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===Re.Literal&&f.recurse(t.property,s),f.if_(f.and_(f.notNull(o),f.or_(f.isNull(p),f.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==Re.Literal&&f.recurse(t.property,s),i&&i!==1&&f.if_(f.not(p),f.lazyAssign(p,"{}")),f.assign(e,p),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&f.if_(f.isNull(p),f.lazyAssign(p,"{}")),f.assign(e,p),r&&(r.computed=!1,r.name=t.property.name))},function(){f.assign(e,"undefined")}),n(e)},!!i);break;case Re.CallExpression:e=e||this.nextId(),t.filter?(s=f.filter(t.callee.name),l=[],hr(t.arguments,function(p){var d=f.nextId();f.recurse(p,d),l.push(d)}),u=s+".call("+s+","+l.join(",")+")",f.assign(e,u),n(e)):(s=f.nextId(),o={},l=[],f.recurse(t.callee,s,o,function(){f.if_(f.notNull(s),function(){if(hr(t.arguments,function(d){f.recurse(d,t.constant?void 0:f.nextId(),void 0,function(m){l.push(m)})}),o.name){var p=f.member(o.context,o.name,o.computed);u="("+p+" === null ? null : "+f.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else u=s+"("+l.join(",")+")";f.assign(e,u)},function(){f.assign(e,"undefined")}),n(e)}));break;case Re.AssignmentExpression:s=this.nextId(),o={},f.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){f.if_(f.and_(f.notNull(o.context),f.or_(f.hasOwnProperty_(o.context,o.name),f.isNull(f.member(o.context,o.name,o.computed)))),function(){f.recurse(t.right,s),u=f.member(o.context,o.name,o.computed)+t.operator+s,f.assign(e,u),n(e||u)}),f.current().inAssignment=!1,f.recurse(t.right,s),f.current().inAssignment=!0},1),f.current().inAssignment=!1;break;case Re.ArrayExpression:l=[],hr(t.elements,function(p){f.recurse(p,t.constant?void 0:f.nextId(),void 0,function(d){l.push(d)})}),u="["+l.join(",")+"]",this.assign(e,u),n(e||u);break;case Re.ObjectExpression:l=[],c=!1,hr(t.properties,function(p){p.computed&&(c=!0)}),c?(e=e||this.nextId(),this.assign(e,"{}"),hr(t.properties,function(p){p.computed?(o=f.nextId(),f.recurse(p.key,o)):o=p.key.type===Re.Identifier?p.key.name:""+p.key.value,s=f.nextId(),f.recurse(p.value,s),f.assign(f.unsafeMember(e,o,p.computed),s)})):(hr(t.properties,function(p){f.recurse(p.value,t.constant?void 0:f.nextId(),void 0,function(d){l.push(f.escape(p.key.type===Re.Identifier?p.key.name:""+p.key.value)+":"+d)})}),u="{"+l.join(",")+"}",this.assign(e,u)),n(e||u);break;case Re.ThisExpression:this.assign(e,"s"),n(e||"s");break;case Re.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case Re.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(kp(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(xw(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw bl("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function JL(t,e){this.astBuilder=t,this.$filter=e}JL.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);qr(r,e.$filter);var n,i;(n=YL(r))&&(i=this.recurse(n));var a=zL(r.body),o;a&&(o=[],hr(a,function(l,u){var c=e.recurse(l);l.input=c,o.push(c),l.watchId=u}));var s=[];hr(r.body,function(l){s.push(e.recurse(l.expression))});var f=r.body.length===0?yw:r.body.length===1?s[0]:function(l,u){var c;return hr(s,function(h){c=h(l,u)}),c};return i&&(f.assign=function(l,u,c){return i(l,c,u)}),o&&(f.inputs=o),f.ast=r,f.literal=qL(r),f.constant=KL(r),f},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Re.Literal:return this.value(t.value,e);case Re.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Re.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Re.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Re.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Re.Identifier:return a.identifier(t.name,e,r);case Re.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case Re.CallExpression:return o=[],hr(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,f,l,u){for(var c=[],h=0;h<o.length;++h)c.push(o[h](s,f,l,u));var p=i.apply(void 0,c,u);return e?{context:void 0,name:void 0,value:p}:p}:function(s,f,l,u){var c=i(s,f,l,u),h;if(c.value!=null){for(var p=[],d=0;d<o.length;++d)p.push(o[d](s,f,l,u));h=c.value.apply(c.context,p)}return e?{value:h}:h};case Re.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,f,l,u){var c=n(s,!1,l,u),h=i(s,f,l,u);return c.context[c.name]=h,e?{value:h}:h};case Re.ArrayExpression:return o=[],hr(t.elements,function(s){o.push(a.recurse(s))}),function(s,f,l,u){for(var c=[],h=0;h<o.length;++h)c.push(o[h](s,f,l,u));return e?{value:c}:c};case Re.ObjectExpression:return o=[],hr(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===Re.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,f,l,u){for(var c={},h=0;h<o.length;++h)o[h].computed?c[o[h].key(s,f,l,u)]=o[h].value(s,f,l,u):c[o[h].key]=o[h].value(s,f,l,u);return e?{value:c}:c};case Re.ThisExpression:return function(s){return e?{value:s}:s};case Re.LocalsExpression:return function(s,f){return e?{value:f}:f};case Re.NGValueParameter:return function(s,f,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return xl(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return xl(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),f=e(n,i,a,o),l=HL(s,f);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),f=e(n,i,a,o),l=(xl(s)?s:0)-(xl(f)?f:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var f=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:f}:f}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var f=s?s[t]:void 0;return e?{context:s,name:t,value:f}:f}},computedMember:function(t,e,r,n){return function(i,a,o,s){var f=t(i,a,o,s),l,u;return f!=null&&(l=e(i,a,o,s),l=XL(l),n&&n!==1&&f&&!f[l]&&(f[l]={}),Object.prototype.hasOwnProperty.call(f,l)&&(u=f[l])),r?{context:f,name:l,value:u}:u}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var f=t(i,a,o,s);n&&n!==1&&f&&f[e]==null&&(f[e]={});var l=void 0;return f!=null&&Object.prototype.hasOwnProperty.call(f,e)&&(l=f[e]),r?{context:f,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var hx=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new Re(e,n),this.astCompiler=n.csp?new JL(this.ast,r):new ZL(this.ast,r)};hx.prototype={constructor:hx,parse:function(t){return this.astCompiler.compile(t)}};gw.Lexer=cx;gw.Parser=hx;var QL=gw,ite={},ate=QL.Lexer,ote=QL.Parser;function Ew(t,e){e=e||{};var r=e.filters||ite,n=e.filters?e.cache||{}:Ew.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new ate(i),f=new ote(s,function(u){return r[u]},o);return n?(a=n[t],a||(a=n[t]=f.parse(t)),a):f.parse(t)}Ew.cache=Object.create(null);var eB=Ew;const ste=t=>{let e=!1,r=null,n=null;t.args.forEach(a=>{a.key==="global"?e=!0:a.key==="minValue"?r=a.value:a.key==="maxValue"&&(n=a.value)});let i;if(e?i=cq:i=G4,t.content.match(/=/)){const a=t.content.split(/=/)[0],o=t.content.split(/=/)[1];if(o==="random()")Ce.dispatch(i({key:a,value:Math.random()}));else if(o.match(/[+\-*\/()]/)){const f=o.split(/([+\-*\/()])/g).map(c=>c.match(/[a-zA-Z]/)?ww(c).toString():c).reduce((c,h)=>c+h,"");let u=eB(f)();typeof u=="number"&&(typeof r=="number"&&u<r&&(u=r),typeof n=="number"&&u>n&&(u=n)),Ce.dispatch(i({key:a,value:u}))}else o.match(/true|false/)?(o.match(/true/)&&Ce.dispatch(i({key:a,value:!0})),o.match(/false/)&&Ce.dispatch(i({key:a,value:!1}))):isNaN(Number(o))?Ce.dispatch(i({key:a,value:o})):Ce.dispatch(i({key:a,value:Number(o)}));e?(Ve.debug("",{key:a,value:Ce.getState().userData.globalGameVar[a]}),dM()):Ve.debug("",{key:a,value:Ce.getState().stage.GameVar[a]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function ww(t){let e=0;return Ce.getState().stage.GameVar.hasOwnProperty(t)?e=Ce.getState().stage.GameVar[t]:Ce.getState().userData.globalGameVar.hasOwnProperty(t)&&(e=Ce.getState().userData.globalGameVar[t]),e}function lte(t){return eB(t)()}const dx=t=>{if(t===void 0)return!0;const e=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g);if(e.every(n=>n.length)){const n=e.map(i=>i.match(/[a-zA-Z]/)?i.match(/true/)||i.match(/false/)?i:ww(i).toString():i).reduce((i,a)=>i+a,"");return!!lte(n)}return!0},tB=()=>{if(z.sceneManager.sceneData.currentSentenceId>z.sceneManager.sceneData.currentScene.sentenceList.length-1){if(z.sceneManager.sceneData.sceneStack.length!==0){const l=z.sceneManager.sceneData.sceneStack.pop();l!==void 0&&$ee(l)}return}const t=z.sceneManager.sceneData.currentScene.sentenceList[z.sceneManager.sceneData.currentSentenceId],e=l=>{let u=l,c;if(window.isSafari){const h=u.match(/\{.*?\}/g);h?c=h.filter((p,d)=>{const m=u.indexOf(p,d?u.indexOf(h[d-1])+h[d-1].length:0);return m===0||u[m-1]!=="\\"}):c=null}else c=u.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return c!==null&&c.forEach(h=>{const p=ww(window.isSafari?h.slice(1,-1):h.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));u=u.replace(h,p?p.toString():h)}),u=u.replace(/\\{/g,"{").replace(/\\}/g,"}"),u};(()=>{t.content=e(t.content),t.args.forEach(l=>{l.value&&typeof l.value=="string"&&(l.value=e(l.value))})})();let n=!0,i=!1,a="";if(t.args.forEach(l=>{l.key==="when"&&(i=!0,a=l.value.toString())}),i&&(n=dx(a)),!n){Ve.warn(""),z.sceneManager.sceneData.currentSentenceId++,gn();return}mw(t);let o=!1;t.args.forEach(l=>{l.key==="next"&&l.value&&(o=!0)});let s=t.command===Ot.say;t.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(s=!1)});let f;if(o){z.sceneManager.sceneData.currentSentenceId++,tB();return}setTimeout(()=>{f=Ce.getState().stage;const l={currentStageState:f,globalGameVar:Ce.getState().userData.globalGameVar};Ve.debug("",l),s&&z.backlogManager.saveCurrentStateToBacklog()},0),z.sceneManager.sceneData.currentSentenceId++},gn=()=>{if(z.events.userInteractNext.emit(),Ce.getState().GUI.showTitle)return;let e=!1;if(z.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&(e=!0)}),e){Ve.warn("next ");return}let r=!0;if(z.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=Ce.getState().stage,a=Nr(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);Ce.dispatch(yp(a)),tB();return}Ve.warn("");let n=!1;for(let i=0;i<z.gameplay.performController.performList.length;i++){const a=z.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),z.gameplay.performController.performList.splice(i,1),i--))}n&&gn()};var ute="__lodash_hash_undefined__";function fte(t){return this.__data__.set(t,ute),this}var cte=fte;function hte(t){return this.__data__.has(t)}var dte=hte,pte=VE,vte=cte,mte=dte;function b0(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new pte;++e<r;)this.add(t[e])}b0.prototype.add=b0.prototype.push=vte;b0.prototype.has=mte;var rB=b0;function gte(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var _te=gte;function yte(t){return t!==t}var xte=yte;function bte(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Ete=bte,wte=_te,Ste=xte,Cte=Ete;function Tte(t,e,r){return e===e?Cte(t,e,r):wte(t,Ste,r)}var Ate=Tte,Ite=Ate;function Rte(t,e){var r=t==null?0:t.length;return!!r&&Ite(t,e,0)>-1}var Pte=Rte;function Ote(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Fte=Ote;function kte(t,e){return t.has(e)}var nB=kte;function Nte(){}var Lte=Nte;function Bte(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Sw=Bte,rg=B4,Mte=Lte,Dte=Sw,Ute=1/0,jte=rg&&1/Dte(new rg([,-0]))[1]==Ute?function(t){return new rg(t)}:Mte,$te=jte,Vte=rB,Gte=Pte,Xte=Fte,Hte=nB,zte=$te,Wte=Sw,Yte=200;function qte(t,e,r){var n=-1,i=Gte,a=t.length,o=!0,s=[],f=s;if(r)o=!1,i=Xte;else if(a>=Yte){var l=e?null:zte(t);if(l)return Wte(l);o=!1,i=Hte,f=new Vte}else f=e?[]:s;e:for(;++n<a;){var u=t[n],c=e?e(u):u;if(u=r||u!==0?u:0,o&&c===c){for(var h=f.length;h--;)if(f[h]===c)continue e;e&&f.push(c),s.push(u)}else i(f,c,r)||(f!==s&&f.push(c),s.push(u))}return s}var Kte=qte,Zte=Kte;function Jte(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Zte(t,void 0,e):[]}var Qte=Jte;const ah=mn(Qte),Ru=t=>{for(const e of t)z.sceneManager.settledScenes.includes(e)?Ve.warn(`${e}`):(Ve.info(`${e}`),xa(e).then(r=>{const n=e.split("./game/scene/")[1];S0(r,n||"",e)}))},ere=(t,e)=>{z.sceneManager.sceneData.sceneStack.push({sceneName:z.sceneManager.sceneData.currentScene.sceneName,sceneUrl:z.sceneManager.sceneData.currentScene.sceneUrl,continueLine:z.sceneManager.sceneData.currentSentenceId}),xa(t).then(async r=>{if(await z.sceneManager.setCurrentScene(r,e,t,!0)){z.sceneManager.sceneData.currentSentenceId=0;const i=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(t);const a=ah(i);Ru(a),Ve.debug("",z.sceneManager.sceneData),gn()}})},tre=t=>{const e=t.content.split("/"),r=e[e.length-1];return ere(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function vc(t,e,r){let n;const a=Ce.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...e,alpha:0,duration:0};n.unshift(o)}return n}function iB(t,e){const r=z.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function a(o){if(r){const s=r.pixiContainer,f=z.gameplay.pixiStage.frameDuration,u=1/(e/f*o);s.alpha<1&&(s.alpha+=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function aB(t,e){const r=z.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function a(o){if(r){const s=r.pixiContainer,f=z.gameplay.pixiStage.frameDuration,u=1/(e/f*o);s.alpha>0&&(s.alpha-=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const Cw={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};function oB(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var rre=function(){},fI=function(){};const px=(t,e,r)=>Math.min(Math.max(r,t),e),ng=.001,nre=.01,cI=10,ire=.05,are=1;function ore({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;rre(t<=cI*1e3);let o=1-e;o=px(ire,are,o),t=px(nre,cI,t/1e3),o<1?(i=l=>{const u=l*o,c=u*t,h=u-r,p=vx(l,o),d=Math.exp(-c);return ng-h/p*d},a=l=>{const c=l*o*t,h=c*r+r,p=Math.pow(o,2)*Math.pow(l,2)*t,d=Math.exp(-c),m=vx(Math.pow(l,2),o);return(-i(l)+ng>0?-1:1)*((h-p)*d)/m}):(i=l=>{const u=Math.exp(-l*t),c=(l-r)*t+1;return-ng+u*c},a=l=>{const u=Math.exp(-l*t),c=(r-l)*(t*t);return u*c});const s=5/t,f=lre(i,a,s);if(t=t*1e3,isNaN(f))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(f,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const sre=12;function lre(t,e,r){let n=r;for(let i=1;i<sre;i++)n=n-t(n)/e(n);return n}function vx(t,e){return t*Math.sqrt(1-e*e)}const ure=["duration","bounce"],fre=["stiffness","damping","mass"];function hI(t,e){return e.some(r=>t[r]!==void 0)}function cre(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!hI(t,fre)&&hI(t,ure)){const r=ore(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function Tw(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=oB(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:f,mass:l,velocity:u,duration:c,isResolvedFromDuration:h}=cre(a),p=dI,d=dI;function m(){const _=u?-(u/1e3):0,v=r-e,g=f/(2*Math.sqrt(s*l)),y=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),g<1){const x=vx(y,g);p=b=>{const E=Math.exp(-g*y*b);return r-E*((_+g*y*v)/x*Math.sin(x*b)+v*Math.cos(x*b))},d=b=>{const E=Math.exp(-g*y*b);return g*y*E*(Math.sin(x*b)*(_+g*y*v)/x+v*Math.cos(x*b))-E*(Math.cos(x*b)*(_+g*y*v)-x*v*Math.sin(x*b))}}else if(g===1)p=x=>r-Math.exp(-y*x)*(v+(_+y*v)*x);else{const x=y*Math.sqrt(g*g-1);p=b=>{const E=Math.exp(-g*y*b),w=Math.min(x*b,300);return r-E*((_+g*y*v)*Math.sinh(w)+x*v*Math.cosh(w))/x}}}return m(),{next:_=>{const v=p(_);if(h)o.done=_>=c;else{const g=d(_)*1e3,y=Math.abs(g)<=n,x=Math.abs(r-v)<=i;o.done=y&&x}return o.value=o.done?r:v,o},flipTarget:()=>{u=-u,[e,r]=[r,e],m()}}}Tw.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const dI=t=>0,sB=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Aw=(t,e,r)=>-r*t+r*e+t,lB=(t,e)=>r=>Math.max(Math.min(r,e),t),Vf=t=>t%1?Number(t.toFixed(5)):t,E0=/(-)?([\d]*\.?[\d])+/g,mx=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,hre=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function oh(t){return typeof t=="string"}const Np={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uB=Object.assign(Object.assign({},Np),{transform:lB(0,1)});Object.assign(Object.assign({},Np),{default:1});const dre=t=>({test:e=>oh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gf=dre("%");Object.assign(Object.assign({},Gf),{parse:t=>Gf.parse(t)/100,transform:t=>Gf.transform(t*100)});const Iw=(t,e)=>r=>!!(oh(r)&&hre.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),fB=(t,e,r)=>n=>{if(!oh(n))return n;const[i,a,o,s]=n.match(E0);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},cs={test:Iw("hsl","hue"),parse:fB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Gf.transform(Vf(e))+", "+Gf.transform(Vf(r))+", "+Vf(uB.transform(n))+")"},pre=lB(0,255),ig=Object.assign(Object.assign({},Np),{transform:t=>Math.round(pre(t))}),oo={test:Iw("rgb","red"),parse:fB("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+ig.transform(t)+", "+ig.transform(e)+", "+ig.transform(r)+", "+Vf(uB.transform(n))+")"};function vre(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const gx={test:Iw("#"),parse:vre,transform:oo.transform},Lp={test:t=>oo.test(t)||gx.test(t)||cs.test(t),parse:t=>oo.test(t)?oo.parse(t):cs.test(t)?cs.parse(t):gx.parse(t),transform:t=>oh(t)?t:t.hasOwnProperty("red")?oo.transform(t):cs.transform(t)},cB="${c}",hB="${n}";function mre(t){var e,r,n,i;return isNaN(t)&&oh(t)&&((r=(e=t.match(E0))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(mx))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function dB(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(mx);n&&(r=n.length,t=t.replace(mx,cB),e.push(...n.map(Lp.parse)));const i=t.match(E0);return i&&(t=t.replace(E0,hB),e.push(...i.map(Np.parse))),{values:e,numColors:r,tokenised:t}}function pB(t){return dB(t).values}function vB(t){const{values:e,numColors:r,tokenised:n}=dB(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?cB:hB,s<r?Lp.transform(a[s]):Vf(a[s]));return o}}const gre=t=>typeof t=="number"?0:t;function _re(t){const e=pB(t);return vB(t)(e.map(gre))}const mB={test:mre,parse:pB,createTransformer:vB,getAnimatableNone:_re};function ag(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function pI({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,f=2*r-s;i=ag(f,s,t+1/3),a=ag(f,s,t),o=ag(f,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const yre=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},xre=[gx,oo,cs],vI=t=>xre.find(e=>e.test(t)),gB=(t,e)=>{let r=vI(t),n=vI(e),i=r.parse(t),a=n.parse(e);r===cs&&(i=pI(i),r=oo),n===cs&&(a=pI(a),n=oo);const o=Object.assign({},i);return s=>{for(const f in o)f!=="alpha"&&(o[f]=yre(i[f],a[f],s));return o.alpha=Aw(i.alpha,a.alpha,s),r.transform(o)}},bre=t=>typeof t=="number",Ere=(t,e)=>r=>e(t(r)),_B=(...t)=>t.reduce(Ere);function yB(t,e){return bre(t)?r=>Aw(t,e,r):Lp.test(t)?gB(t,e):bB(t,e)}const xB=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>yB(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},wre=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=yB(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function mI(t){const e=mB.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const bB=(t,e)=>{const r=mB.createTransformer(e),n=mI(t),i=mI(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?_B(xB(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},Sre=(t,e)=>r=>Aw(t,e,r);function Cre(t){if(typeof t=="number")return Sre;if(typeof t=="string")return Lp.test(t)?gB:bB;if(Array.isArray(t))return xB;if(typeof t=="object")return wre}function Tre(t,e,r){const n=[],i=r||Cre(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const f=Array.isArray(e)?e[o]:e;s=_B(f,s)}n.push(s)}return n}function Are([t,e],[r]){return n=>r(sB(t,e,n))}function Ire(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let f=1;for(;f<r&&!(t[f]>i||f===n);f++);a=f-1}const s=sB(t[a],t[a+1],i);return e[a](s)}}function EB(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;fI(a===e.length),fI(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=Tre(e,n,i),s=a===2?Are(t,o):Ire(t,o);return r?f=>s(px(t[0],t[a-1],f)):s}const Rre=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Pre=t=>e=>Math.pow(e,t),Ore=t=>e=>e*e*((t+1)*e-t),Fre=t=>{const e=Ore(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},kre=1.525,Nre=Pre(2),Lre=Rre(Nre);Fre(kre);function Bre(t,e){return t.map(()=>e||Lre).splice(0,t.length-1)}function Mre(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function Dre(t,e){return t.map(r=>r*e)}function Pd({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=Dre(n&&n.length===o.length?n:Mre(o),i);function f(){return EB(s,o,{ease:Array.isArray(r)?r:Bre(o,r)})}let l=f();return{next:u=>(a.value=l(u),a.done=u>=i,a),flipTarget:()=>{o.reverse(),l=f()}}}function Ure({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const f=e+s,l=a===void 0?f:a(f);return l!==f&&(s=l-e),{next:u=>{const c=-s*Math.exp(-u/n);return o.done=!(c>i||c<-i),o.value=o.done?l:l+c,o},flipTarget:()=>{}}}const gI={keyframes:Pd,spring:Tw,decay:Ure};function jre(t){if(Array.isArray(t.to))return Pd;if(gI[t.type])return gI[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Pd:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Tw:Pd}const wB=1/60*1e3,$re=typeof performance<"u"?()=>performance.now():()=>Date.now(),SB=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t($re()),wB);function Vre(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(f,l=!1,u=!1)=>{const c=u&&i,h=c?e:r;return l&&o.add(f),h.indexOf(f)===-1&&(h.push(f),c&&i&&(n=e.length)),f},cancel:f=>{const l=r.indexOf(f);l!==-1&&r.splice(l,1),o.delete(f)},process:f=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const u=e[l];u(f),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(f))}};return s}const Gre=40;let _x=!0,mc=!1,yx=!1;const Xf={delta:0,timestamp:0},sh=["read","update","preRender","render","postRender"],Bp=sh.reduce((t,e)=>(t[e]=Vre(()=>mc=!0),t),{}),Xre=sh.reduce((t,e)=>{const r=Bp[e];return t[e]=(n,i=!1,a=!1)=>(mc||Wre(),r.schedule(n,i,a)),t},{}),Hre=sh.reduce((t,e)=>(t[e]=Bp[e].cancel,t),{});sh.reduce((t,e)=>(t[e]=()=>Bp[e].process(Xf),t),{});const zre=t=>Bp[t].process(Xf),CB=t=>{mc=!1,Xf.delta=_x?wB:Math.max(Math.min(t-Xf.timestamp,Gre),1),Xf.timestamp=t,yx=!0,sh.forEach(zre),yx=!1,mc&&(_x=!1,SB(CB))},Wre=()=>{mc=!0,_x=!0,yx||SB(CB)},Yre=Xre;function TB(t,e,r=0){return t-e-r}function qre(t,e,r=0,n=!0){return n?TB(e+-t,e,r):e-(t-e)+r}function Kre(t,e,r,n){return n?t>=e+r:t<=-r}const Zre=t=>{const e=({delta:r})=>t(r);return{start:()=>Yre.update(e,!0),stop:()=>Hre.update(e)}};function Jre(t){var e,r,{from:n,autoplay:i=!0,driver:a=Zre,elapsed:o=0,repeat:s=0,repeatType:f="loop",repeatDelay:l=0,onPlay:u,onStop:c,onComplete:h,onRepeat:p,onUpdate:d}=t,m=oB(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:_}=m,v,g=0,y=m.duration,x,b=!1,E=!0,w;const S=jre(m);!((r=(e=S).needsInterpolation)===null||r===void 0)&&r.call(e,n,_)&&(w=EB([0,100],[n,_],{clamp:!1}),n=0,_=100);const C=S(Object.assign(Object.assign({},m),{from:n,to:_}));function T(){g++,f==="reverse"?(E=g%2===0,o=qre(o,y,l,E)):(o=TB(o,y,l),f==="mirror"&&C.flipTarget()),b=!1,p&&p()}function I(){v.stop(),h&&h()}function A(O){if(E||(O=-O),o+=O,!b){const F=C.next(Math.max(0,o));x=F.value,w&&(x=w(x)),b=E?F.done:o<=0}d==null||d(x),b&&(g===0&&(y??(y=o)),g<s?Kre(o,y,l,E)&&T():I())}function R(){u==null||u(),v=a(A),v.start()}return i&&R(),{stop:()=>{c==null||c(),v.stop()}}}function Qre(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var ene=Qre,tne=rB,rne=ene,nne=nB,ine=1,ane=2;function one(t,e,r,n,i,a){var o=r&ine,s=t.length,f=e.length;if(s!=f&&!(o&&f>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var c=-1,h=!0,p=r&ane?new tne:void 0;for(a.set(t,e),a.set(e,t);++c<s;){var d=t[c],m=e[c];if(n)var _=o?n(m,d,c,e,t,a):n(d,m,c,t,e,a);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!rne(e,function(v,g){if(!nne(p,g)&&(d===v||i(d,v,r,n,a)))return p.push(g)})){h=!1;break}}else if(!(d===m||i(d,m,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var AB=one;function sne(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var lne=sne,_I=th,yI=D4,une=jE,fne=AB,cne=lne,hne=Sw,dne=1,pne=2,vne="[object Boolean]",mne="[object Date]",gne="[object Error]",_ne="[object Map]",yne="[object Number]",xne="[object RegExp]",bne="[object Set]",Ene="[object String]",wne="[object Symbol]",Sne="[object ArrayBuffer]",Cne="[object DataView]",xI=_I?_I.prototype:void 0,og=xI?xI.valueOf:void 0;function Tne(t,e,r,n,i,a,o){switch(r){case Cne:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Sne:return!(t.byteLength!=e.byteLength||!a(new yI(t),new yI(e)));case vne:case mne:case yne:return une(+t,+e);case gne:return t.name==e.name&&t.message==e.message;case xne:case Ene:return t==e+"";case _ne:var s=cne;case bne:var f=n&dne;if(s||(s=hne),t.size!=e.size&&!f)return!1;var l=o.get(t);if(l)return l==e;n|=pne,o.set(t,e);var u=fne(s(t),s(e),n,i,a,o);return o.delete(t),u;case wne:if(og)return og.call(t)==og.call(e)}return!1}var Ane=Tne,bI=N4,Ine=1,Rne=Object.prototype,Pne=Rne.hasOwnProperty;function One(t,e,r,n,i,a){var o=r&Ine,s=bI(t),f=s.length,l=bI(e),u=l.length;if(f!=u&&!o)return!1;for(var c=f;c--;){var h=s[c];if(!(o?h in e:Pne.call(e,h)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var m=!0;a.set(t,e),a.set(e,t);for(var _=o;++c<f;){h=s[c];var v=t[h],g=e[h];if(n)var y=o?n(g,v,h,e,t,a):n(v,g,h,t,e,a);if(!(y===void 0?v===g||i(v,g,r,n,a):y)){m=!1;break}_||(_=h=="constructor")}if(m&&!_){var x=t.constructor,b=e.constructor;x!=b&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof b=="function"&&b instanceof b)&&(m=!1)}return a.delete(t),a.delete(e),m}var Fne=One,sg=GE,kne=AB,Nne=Ane,Lne=Fne,EI=_p,wI=Ha,SI=HE,Bne=C4,Mne=1,CI="[object Arguments]",TI="[object Array]",Nh="[object Object]",Dne=Object.prototype,AI=Dne.hasOwnProperty;function Une(t,e,r,n,i,a){var o=wI(t),s=wI(e),f=o?TI:EI(t),l=s?TI:EI(e);f=f==CI?Nh:f,l=l==CI?Nh:l;var u=f==Nh,c=l==Nh,h=f==l;if(h&&SI(t)){if(!SI(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new sg),o||Bne(t)?kne(t,e,r,n,i,a):Nne(t,e,f,r,n,i,a);if(!(r&Mne)){var p=u&&AI.call(t,"__wrapped__"),d=c&&AI.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,_=d?e.value():e;return a||(a=new sg),i(m,_,r,n,a)}}return h?(a||(a=new sg),Lne(t,e,r,n,i,a)):!1}var jne=Une,$ne=jne,II=Bs;function IB(t,e,r,n,i){return t===e?!0:t==null||e==null||!II(t)&&!II(e)?t!==t&&e!==e:$ne(t,e,r,n,IB,i)}var RB=IB,Vne=GE,Gne=RB,Xne=1,Hne=2;function zne(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var f=s[0],l=t[f],u=s[1];if(o&&s[2]){if(l===void 0&&!(f in t))return!1}else{var c=new Vne;if(n)var h=n(l,u,f,t,e,c);if(!(h===void 0?Gne(u,l,Xne|Hne,n,c):h))return!1}}return!0}var Wne=zne,Yne=_a;function qne(t){return t===t&&!Yne(t)}var PB=qne,Kne=PB,Zne=gp;function Jne(t){for(var e=Zne(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Kne(i)]}return e}var Qne=Jne;function eie(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var OB=eie,tie=Wne,rie=Qne,nie=OB;function iie(t){var e=rie(t);return e.length==1&&e[0][2]?nie(e[0][0],e[0][1]):function(r){return r===t||tie(r,t,e)}}var aie=iie,oie=rh,sie=Bs,lie="[object Symbol]";function uie(t){return typeof t=="symbol"||sie(t)&&oie(t)==lie}var Mp=uie,fie=Ha,cie=Mp,hie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,die=/^\w*$/;function pie(t,e){if(fie(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||cie(t)?!0:die.test(t)||!hie.test(t)||e!=null&&t in Object(e)}var Rw=pie,FB=VE,vie="Expected a function";function Pw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(vie);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Pw.Cache||FB),r}Pw.Cache=FB;var mie=Pw,gie=mie,_ie=500;function yie(t){var e=gie(t,function(n){return r.size===_ie&&r.clear(),n}),r=e.cache;return e}var xie=yie,bie=xie,Eie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wie=/\\(\\)?/g,Sie=bie(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Eie,function(r,n,i,a){e.push(i?a.replace(wie,"$1"):n||r)}),e}),Cie=Sie;function Tie(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var kB=Tie,RI=th,Aie=kB,Iie=Ha,Rie=Mp,Pie=1/0,PI=RI?RI.prototype:void 0,OI=PI?PI.toString:void 0;function NB(t){if(typeof t=="string")return t;if(Iie(t))return Aie(t,NB)+"";if(Rie(t))return OI?OI.call(t):"";var e=t+"";return e=="0"&&1/t==-Pie?"-0":e}var Oie=NB,Fie=Oie;function kie(t){return t==null?"":Fie(t)}var Nie=kie,Lie=Ha,Bie=Rw,Mie=Cie,Die=Nie;function Uie(t,e){return Lie(t)?t:Bie(t,e)?[t]:Mie(Die(t))}var Dp=Uie,jie=Mp,$ie=1/0;function Vie(t){if(typeof t=="string"||jie(t))return t;var e=t+"";return e=="0"&&1/t==-$ie?"-0":e}var lh=Vie,Gie=Dp,Xie=lh;function Hie(t,e){e=Gie(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Xie(e[r++])];return r&&r==n?t:void 0}var Ow=Hie,zie=Ow;function Wie(t,e,r){var n=t==null?void 0:zie(t,e);return n===void 0?r:n}var Yie=Wie;function qie(t,e){return t!=null&&e in Object(t)}var Kie=qie,Zie=Dp,Jie=S4,Qie=Ha,eae=zE,tae=WE,rae=lh;function nae(t,e,r){e=Zie(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=rae(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&tae(i)&&eae(o,i)&&(Qie(t)||Jie(t)))}var iae=nae,aae=Kie,oae=iae;function sae(t,e){return t!=null&&oae(t,e,aae)}var lae=sae,uae=RB,fae=Yie,cae=lae,hae=Rw,dae=PB,pae=OB,vae=lh,mae=1,gae=2;function _ae(t,e){return hae(t)&&dae(e)?pae(vae(t),e):function(r){var n=fae(r,t);return n===void 0&&n===e?cae(r,t):uae(e,n,mae|gae)}}var yae=_ae;function xae(t){return t}var bae=xae;function Eae(t){return function(e){return e==null?void 0:e[t]}}var wae=Eae,Sae=Ow;function Cae(t){return function(e){return Sae(e,t)}}var Tae=Cae,Aae=wae,Iae=Tae,Rae=Rw,Pae=lh;function Oae(t){return Rae(t)?Aae(Pae(t)):Iae(t)}var Fae=Oae,kae=aie,Nae=yae,Lae=bae,Bae=Ha,Mae=Fae;function Dae(t){return typeof t=="function"?t:t==null?Lae:typeof t=="object"?Bae(t)?Nae(t[0],t[1]):kae(t):Mae(t)}var LB=Dae,Uae="Expected a function";function jae(t){if(typeof t!="function")throw new TypeError(Uae);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var $ae=jae,Vae=XE,Gae=Dp,Xae=zE,FI=_a,Hae=lh;function zae(t,e,r,n){if(!FI(t))return t;e=Gae(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var f=Hae(e[i]),l=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(i!=o){var u=s[f];l=n?n(u,f,s):void 0,l===void 0&&(l=FI(u)?u:Xae(e[i+1])?[]:{})}Vae(s,f,l),s=s[f]}return t}var Wae=zae,Yae=Ow,qae=Wae,Kae=Dp;function Zae(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=Yae(t,o);r(s,o)&&qae(a,Kae(o,t),s)}return a}var Jae=Zae,Qae=kB,eoe=LB,toe=Jae,roe=L4;function noe(t,e){if(t==null)return{};var r=Qae(roe(t),function(n){return[n]});return e=eoe(e),toe(t,r,function(n,i){return e(n,i[0])})}var ioe=noe,aoe=LB,ooe=$ae,soe=ioe;function loe(t,e){return soe(t,ooe(aoe(e)))}var uoe=loe;const lg=mn(uoe);function foe(t){return t===void 0}var coe=foe;const wa=mn(coe);function BB(t,e,r){const n=z.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const v of t){const g=v.duration;i+=g;const{position:y,scale:x,...b}=v;a.push({x:y.x,y:y.y,scaleX:x.x,scaleY:x.y,...b}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let f=null;r>0&&(f=Jre({to:a,offset:o,duration:r,onUpdate:v=>{if(s){const{scaleX:g,scaleY:y,...x}=v;Object.assign(s,lg(x,wa)),wa(g)||(s.scale.x=g),wa(y)||(s.scale.y=y)}}}));const{duration:l,...u}=m();Ce.dispatch(Gn.updateEffect({target:e,transform:u}));function c(){if(n!=null&&n.pixiContainer){const{position:v,scale:g,...y}=d(),x=lg({x:v.x,y:v.y,...y},wa);Object.assign(n==null?void 0:n.pixiContainer,x),n!=null&&n.pixiContainer&&(wa(g.x)||(n.pixiContainer.scale.x=g.x),wa(g==null?void 0:g.y)||(n.pixiContainer.scale.y=g.y))}}function h(){if(f&&f.stop(),f=null,n!=null&&n.pixiContainer){const{position:v,scale:g,...y}=m(),x=lg({x:v.x,y:v.y,...y},wa);Object.assign(n==null?void 0:n.pixiContainer,x),n!=null&&n.pixiContainer&&(wa(g.x)||(n.pixiContainer.scale.x=g.x),wa(g==null?void 0:g.y)||(n.pixiContainer.scale.y=g.y))}}function p(v){}function d(){return t[0]}function m(){return t[t.length-1]}function _(){const v=t[t.length-1],{alpha:g,rotation:y,blur:x,duration:b,scale:E,position:w,...S}=v;return S}return{setStartState:c,setEndState:h,tickerFunc:p,getEndFilterEffect:_}}function w0(t,e,r){const n=z.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=Ce.getState().stage.effects.find(f=>f.target===e),s=Nr({...(o==null?void 0:o.transform)??Cw,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return Ve.debug("",i),BB(i,e,r)}return null}function zn(t){const e=z.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function ro(t,e,r=!1){if(e==="enter"){let n=500;r&&(n=1500);let i=iB(t,n);const a=z.animationManager.nextEnterAnimationName.get(t);return a&&(Ve.debug("",t),i=w0(a,t,zn(a)),n=zn(a),z.animationManager.nextEnterAnimationName.delete(t)),{duration:n,animation:i}}else{let n=750;r&&(n=1500);let i=aB(t,n);const a=z.animationManager.nextExitAnimationName.get(t);return a&&(Ve.debug("",t),i=w0(a,t,zn(a)),n=zn(a),z.animationManager.nextExitAnimationName.delete(t)),{duration:n,animation:i}}}const hoe=t=>{const e=t.content;let r="",n="default";t.args.forEach(l=>{l.key==="unlockname"&&(r=l.value.toString()),l.key==="series"&&(n=l.value.toString())});const i=Ce.dispatch;r!==""&&i(sL({name:r,url:e,series:n})),i(Gn.removeEffectByTargetId("bg-main"));const a=bt(t,"transform");let o=bt(t,"duration");(!o||typeof o!="number")&&(o=1e3);let s;if(a)try{const l=JSON.parse(a.toString());s=vc("bg-main",l,o),s[0].alpha=0;const u=(Math.random()*10).toString(16),c={name:u,effects:s};z.animationManager.addAnimation(c),o=zn(u),z.animationManager.nextEnterAnimationName.set("bg-main",u)}catch{f()}else f();function f(){s=vc("bg-main",{},o),s[0].alpha=0;const u=(Math.random()*10).toString(16),c={name:u,effects:s};z.animationManager.addAnimation(c),o=zn(u),z.animationManager.nextEnterAnimationName.set("bg-main",u)}return bt(t,"enter")&&(z.animationManager.nextEnterAnimationName.set("bg-main",bt(t,"enter").toString()),o=zn(bt(t,"enter").toString())),bt(t,"exit")&&(z.animationManager.nextExitAnimationName.set("bg-main-off",bt(t,"exit").toString()),o=zn(bt(t,"exit").toString())),i(gt({key:"bgName",value:t.content})),{performName:"none",duration:o,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function doe(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,f="",l="",u="",c="",h="",p="";const d=Ce.dispatch;for(const b of t.args)switch(b.key){case"left":b.value===!0&&(e="left");break;case"right":b.value===!0&&(e="right");break;case"clear":b.value===!0&&(r="");break;case"id":n=!0,o=b.value.toString();break;case"motion":i=b.value.toString();break;case"expression":a=b.value.toString();break;case"mouthOpen":f=b.value.toString(),f=Hn(f,Xn.figure);break;case"mouthClose":l=b.value.toString(),l=Hn(l,Xn.figure);break;case"mouthHalfOpen":u=b.value.toString(),u=Hn(u,Xn.figure);break;case"eyesOpen":c=b.value.toString(),c=Hn(c,Xn.figure);break;case"eyesClose":h=b.value.toString(),h=Hn(h,Xn.figure);break;case"animationFlag":p=b.value.toString();break;case"none":r="";break}const m=o||`fig-${e}`,v=Ce.getState().stage.figureAssociatedAnimation.filter(b=>b.targetId!==m),g={targetId:m,animationFlag:p,mouthAnimation:{open:f,close:l,halfOpen:u},blinkAnimation:{open:c,close:h}};v.push(g),d(gt({key:"figureAssociatedAnimation",value:v}));let y=!0;if(o!==""){const b=Ce.getState().stage.freeFigure.find(E=>E.key===o);b&&b.name===t.content&&(y=!1)}else e==="center"&&Ce.getState().stage.figName===t.content&&(y=!1),e==="left"&&Ce.getState().stage.figNameLeft===t.content&&(y=!1),e==="right"&&Ce.getState().stage.figNameRight===t.content&&(y=!1);if(y){const b=`fig-${e}`,E=`${o}`;Ce.dispatch(Gn.removeEffectByTargetId(b)),Ce.dispatch(Gn.removeEffectByTargetId(E))}const x=(b,E)=>{const w=bt(E,"transform"),S=bt(E,"duration");S&&typeof S=="number"&&(s=S);let C;if(w){console.log(w);try{const R=JSON.parse(w.toString());C=vc(b,R,s),C[0].alpha=0;const O=(Math.random()*10).toString(16),F={name:O,effects:C};z.animationManager.addAnimation(F),s=zn(O),z.animationManager.nextEnterAnimationName.set(b,O)}catch{T()}}else T();function T(){C=vc(b,{},s),C[0].alpha=0;const O=(Math.random()*10).toString(16),F={name:O,effects:C};z.animationManager.addAnimation(F),s=zn(O),z.animationManager.nextEnterAnimationName.set(b,O)}const I=bt(E,"enter"),A=bt(E,"exit");I&&(z.animationManager.nextEnterAnimationName.set(b,I.toString()),s=zn(I.toString())),A&&(z.animationManager.nextExitAnimationName.set(b+"-off",A.toString()),s=zn(A.toString()))};if(n){Ce.getState().stage.freeFigure;const b={key:o,name:r,basePosition:e};x(o,t),i&&d(Gn.setLive2dMotion({target:o,motion:i})),a&&d(Gn.setLive2dExpression({target:o,expression:a})),d(Gn.setFreeFigureByKey(b))}else{const b={center:"fig-center",left:"fig-left",right:"fig-right"},E={center:"figName",left:"figNameLeft",right:"figNameRight"};o=b[e],x(o,t),i&&d(Gn.setLive2dMotion({target:o,motion:i})),a&&d(Gn.setLive2dExpression({target:o,expression:a})),d(gt({key:E[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const MB=(t,e)=>{xa(t).then(async r=>{if(await z.sceneManager.setCurrentScene(r,e,t,!0)){z.sceneManager.sceneData.currentSentenceId=0;const i=[];z.sceneManager.sceneData.currentScene.assetsList.forEach(s=>{(s.url.endsWith(".mp4")||s.url.endsWith(".flv"))&&i.push(s.url)}),z.videoManager.destroyExcept(i);const a=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(t);const o=ah(a);Ru(o),Ve.debug("",z.sceneManager.sceneData),gn()}})},poe=t=>{const e=t.content.split("/"),r=e[e.length-1];return MB(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},DB=t=>{const e=z.sceneManager.sceneData.currentSentenceId;let r=e;z.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===Ot.label&&n.content===t&&i!==e&&(r=i)}),z.sceneManager.sceneData.currentSentenceId=r,setTimeout(gn,1)},voe="_Choose_Main_1ht2q_1",moe="_Choose_item_1ht2q_15",goe="_Choose_item_image_1ht2q_37",_oe="_Choose_item_countdown_1ht2q_52",yoe="_Choose_item_progress_bar_1ht2q_59",xoe="_Choose_item_disabled_1ht2q_68",Zs={Choose_Main:voe,Choose_item:moe,Choose_item_image:goe,Choose_item_countdown:_oe,Choose_item_progress_bar:yoe,Choose_item_disabled:xoe},boe=""+new URL("page-flip-1.mp3",import.meta.url).href,Eoe=""+new URL("switch-1.mp3",import.meta.url).href,UB=""+new URL("mouse-enter.mp3",import.meta.url).href,woe=""+new URL("dialog.mp3",import.meta.url).href,jB=""+new URL("click.mp3",import.meta.url).href;var $B={exports:{}},VB={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=be;function Soe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Coe=typeof Object.is=="function"?Object.is:Soe,Toe=Jl.useState,Aoe=Jl.useEffect,Ioe=Jl.useLayoutEffect,Roe=Jl.useDebugValue;function Poe(t,e){var r=e(),n=Toe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Ioe(function(){i.value=r,i.getSnapshot=e,ug(i)&&a({inst:i})},[t,r,e]),Aoe(function(){return ug(i)&&a({inst:i}),t(function(){ug(i)&&a({inst:i})})},[t]),Roe(r),r}function ug(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Coe(t,r)}catch{return!0}}function Ooe(t,e){return e()}var Foe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ooe:Poe;VB.useSyncExternalStore=Jl.useSyncExternalStore!==void 0?Jl.useSyncExternalStore:Foe;$B.exports=VB;var koe=$B.exports,GB={exports:{}},XB={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up=be,Noe=koe;function Loe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Boe=typeof Object.is=="function"?Object.is:Loe,Moe=Noe.useSyncExternalStore,Doe=Up.useRef,Uoe=Up.useEffect,joe=Up.useMemo,$oe=Up.useDebugValue;XB.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Doe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=joe(function(){function f(p){if(!l){if(l=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var d=o.value;if(i(d,p))return c=d}return c=p}if(d=c,Boe(u,p))return d;var m=n(p);return i!==void 0&&i(d,m)?d:(u=p,c=m)}var l=!1,u,c,h=r===void 0?null:r;return[function(){return f(e())},h===null?void 0:function(){return f(h())}]},[e,r,n,i]);var s=Moe(t,a[0],a[1]);return Uoe(function(){o.hasValue=!0,o.value=s},[s]),$oe(s),s};GB.exports=XB;var Voe=GB.exports;function Goe(t){t()}let HB=Goe;const Xoe=t=>HB=t,Hoe=()=>HB,kI=Symbol.for("react-redux-context"),NI=typeof globalThis<"u"?globalThis:{};function zoe(){var t;if(!be.createContext)return{};const e=(t=NI[kI])!=null?t:NI[kI]=new Map;let r=e.get(be.createContext);return r||(r=be.createContext(null),e.set(be.createContext,r)),r}const Oo=zoe();function Fw(t=Oo){return function(){return be.useContext(t)}}const zB=Fw(),Woe=()=>{throw new Error("uSES not initialized!")};let WB=Woe;const Yoe=t=>{WB=t},qoe=(t,e)=>t===e;function Koe(t=Oo){const e=t===Oo?zB:Fw(t);return function(n,i={}){const{equalityFn:a=qoe,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:f,subscription:l,getServerState:u,stabilityCheck:c,noopCheck:h}=e();be.useRef(!0);const p=be.useCallback({[n.name](m){return n(m)}}[n.name],[n,c,o]),d=WB(l.addNestedSub,f.getState,u||f.getState,p,a);return be.useDebugValue(d),d}}const dt=Koe();function Zoe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var YB={exports:{}},Wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var an=typeof Symbol=="function"&&Symbol.for,kw=an?Symbol.for("react.element"):60103,Nw=an?Symbol.for("react.portal"):60106,jp=an?Symbol.for("react.fragment"):60107,$p=an?Symbol.for("react.strict_mode"):60108,Vp=an?Symbol.for("react.profiler"):60114,Gp=an?Symbol.for("react.provider"):60109,Xp=an?Symbol.for("react.context"):60110,Lw=an?Symbol.for("react.async_mode"):60111,Hp=an?Symbol.for("react.concurrent_mode"):60111,zp=an?Symbol.for("react.forward_ref"):60112,Wp=an?Symbol.for("react.suspense"):60113,Joe=an?Symbol.for("react.suspense_list"):60120,Yp=an?Symbol.for("react.memo"):60115,qp=an?Symbol.for("react.lazy"):60116,Qoe=an?Symbol.for("react.block"):60121,ese=an?Symbol.for("react.fundamental"):60117,tse=an?Symbol.for("react.responder"):60118,rse=an?Symbol.for("react.scope"):60119;function ui(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kw:switch(t=t.type,t){case Lw:case Hp:case jp:case Vp:case $p:case Wp:return t;default:switch(t=t&&t.$$typeof,t){case Xp:case zp:case qp:case Yp:case Gp:return t;default:return e}}case Nw:return e}}}function qB(t){return ui(t)===Hp}Wt.AsyncMode=Lw;Wt.ConcurrentMode=Hp;Wt.ContextConsumer=Xp;Wt.ContextProvider=Gp;Wt.Element=kw;Wt.ForwardRef=zp;Wt.Fragment=jp;Wt.Lazy=qp;Wt.Memo=Yp;Wt.Portal=Nw;Wt.Profiler=Vp;Wt.StrictMode=$p;Wt.Suspense=Wp;Wt.isAsyncMode=function(t){return qB(t)||ui(t)===Lw};Wt.isConcurrentMode=qB;Wt.isContextConsumer=function(t){return ui(t)===Xp};Wt.isContextProvider=function(t){return ui(t)===Gp};Wt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kw};Wt.isForwardRef=function(t){return ui(t)===zp};Wt.isFragment=function(t){return ui(t)===jp};Wt.isLazy=function(t){return ui(t)===qp};Wt.isMemo=function(t){return ui(t)===Yp};Wt.isPortal=function(t){return ui(t)===Nw};Wt.isProfiler=function(t){return ui(t)===Vp};Wt.isStrictMode=function(t){return ui(t)===$p};Wt.isSuspense=function(t){return ui(t)===Wp};Wt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jp||t===Hp||t===Vp||t===$p||t===Wp||t===Joe||typeof t=="object"&&t!==null&&(t.$$typeof===qp||t.$$typeof===Yp||t.$$typeof===Gp||t.$$typeof===Xp||t.$$typeof===zp||t.$$typeof===ese||t.$$typeof===tse||t.$$typeof===rse||t.$$typeof===Qoe)};Wt.typeOf=ui;YB.exports=Wt;var nse=YB.exports,KB=nse,ise={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ase={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZB={};ZB[KB.ForwardRef]=ise;ZB[KB.Memo]=ase;var Kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=Symbol.for("react.element"),Mw=Symbol.for("react.portal"),Kp=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),Qp=Symbol.for("react.provider"),ev=Symbol.for("react.context"),ose=Symbol.for("react.server_context"),tv=Symbol.for("react.forward_ref"),rv=Symbol.for("react.suspense"),nv=Symbol.for("react.suspense_list"),iv=Symbol.for("react.memo"),av=Symbol.for("react.lazy"),sse=Symbol.for("react.offscreen"),JB;JB=Symbol.for("react.module.reference");function wi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Bw:switch(t=t.type,t){case Kp:case Jp:case Zp:case rv:case nv:return t;default:switch(t=t&&t.$$typeof,t){case ose:case ev:case tv:case av:case iv:case Qp:return t;default:return e}}case Mw:return e}}}Kt.ContextConsumer=ev;Kt.ContextProvider=Qp;Kt.Element=Bw;Kt.ForwardRef=tv;Kt.Fragment=Kp;Kt.Lazy=av;Kt.Memo=iv;Kt.Portal=Mw;Kt.Profiler=Jp;Kt.StrictMode=Zp;Kt.Suspense=rv;Kt.SuspenseList=nv;Kt.isAsyncMode=function(){return!1};Kt.isConcurrentMode=function(){return!1};Kt.isContextConsumer=function(t){return wi(t)===ev};Kt.isContextProvider=function(t){return wi(t)===Qp};Kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bw};Kt.isForwardRef=function(t){return wi(t)===tv};Kt.isFragment=function(t){return wi(t)===Kp};Kt.isLazy=function(t){return wi(t)===av};Kt.isMemo=function(t){return wi(t)===iv};Kt.isPortal=function(t){return wi(t)===Mw};Kt.isProfiler=function(t){return wi(t)===Jp};Kt.isStrictMode=function(t){return wi(t)===Zp};Kt.isSuspense=function(t){return wi(t)===rv};Kt.isSuspenseList=function(t){return wi(t)===nv};Kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kp||t===Jp||t===Zp||t===rv||t===nv||t===sse||typeof t=="object"&&t!==null&&(t.$$typeof===av||t.$$typeof===iv||t.$$typeof===Qp||t.$$typeof===ev||t.$$typeof===tv||t.$$typeof===JB||t.getModuleId!==void 0)};Kt.typeOf=wi;function lse(){const t=Hoe();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const LI={notify(){},get:()=>[]};function use(t,e){let r,n=LI,i=0,a=!1;function o(m){u();const _=n.subscribe(m);let v=!1;return()=>{v||(v=!0,_(),c())}}function s(){n.notify()}function f(){d.onStateChange&&d.onStateChange()}function l(){return a}function u(){i++,r||(r=e?e.addNestedSub(f):t.subscribe(f),n=lse())}function c(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=LI)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,c())}const d={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:f,isSubscribed:l,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return d}const fse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cse=fse?be.useLayoutEffect:be.useEffect;function hse({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=be.useMemo(()=>{const l=use(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=be.useMemo(()=>t.getState(),[t]);cse(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const f=e||Oo;return be.createElement(f.Provider,{value:o},r)}function QB(t=Oo){const e=t===Oo?zB:Fw(t);return function(){const{store:n}=e();return n}}const dse=QB();function pse(t=Oo){const e=t===Oo?dse:QB(t);return function(){return e().dispatch}}const _n=pse();Yoe(Voe.useSyncExternalStoreWithSelector);Xoe(a4.unstable_batchedUpdates);const Jn=()=>{const t=_n();return{playSeEnter:()=>{t(gt({key:"uiSe",value:UB}))},playSeClick:()=>{t(gt({key:"uiSe",value:jB}))},playSePageChange:()=>{t(gt({key:"uiSe",value:boe}))},playSeDialogOpen:()=>{t(gt({key:"uiSe",value:woe}))},playSeSwitch:()=>{t(gt({key:"uiSe",value:Eoe}))}}},Dw=()=>({playSeEnter:()=>{Ce.dispatch(gt({key:"uiSe",value:UB}))},playSeClick:()=>{Ce.dispatch(gt({key:"uiSe",value:jB}))}}),vse=""+new URL("progress-bar-bg.png",import.meta.url).href,mse=""+new URL("progress-bar.png",import.meta.url).href;class Uw{constructor(e,r){Ge(this,"text");Ge(this,"jump");Ge(this,"jumpToScene");Ge(this,"showCondition");Ge(this,"enableCondition");Ge(this,"style");this.text=e,this.jump=r,this.jumpToScene=r.match(/\./)!==null}static parse(e){const r=e.split("->"),n=r.length>1?r[0]:null,i=r.length>1?r[1]:r[0],a=i.split(":"),o=a[0].replace(/\${[^{}]*}/,""),s=new Uw(o,a[1]),f=/\$\{(.*?)\}/,l=i.match(f);if(l){const c=l[1].split(","),h={};c.forEach(p=>{const[d,m]=p.split("=");d&&m&&(h[d.trim()]=isNaN(Number(m.trim()))?m.trim():Number(m.trim()))}),s.style=h}if(n!==null){const u=n.match(/\((.*)\)/);u&&(s.showCondition=u[1]);const c=n.match(/\[(.*)\]/);c&&(s.enableCondition=c[1])}return s}}const xx=(t,e)=>{const n=t.content.split("|").map(u=>Uw.parse(u)),a=Ce.getState().userData.optionData.textboxFont===gs.song?'"", serif':'"WebgalUI", serif',{playSeEnter:o,playSeClick:s}=Dw();let f={current:null};const l=u=>u.filter((c,h)=>dx(c.showCondition)).map((c,h)=>{var v,g;const p=dx(c.enableCondition);let d=p?Zs.Choose_item:Zs.Choose_item_disabled;const m=p?()=>{if(s(),e==null||e(),f.current&&(clearTimeout(f.current),f.current=null),c.jumpToScene){const y=c.jump.split("./game/scene/")[1];MB(c.jump,y)}else DB(c.jump);z.gameplay.performController.unmountPerform("choose")}:()=>{},_={fontFamily:a};if(c.style&&(typeof c.style.x=="number"&&(_.position="absolute",_.left=c.style.x*1.33333+"px",_.transform="translateX(-50%)"),typeof c.style.y=="number"&&(_.position="absolute",_.top=c.style.y*1.33333+"px",_.transform?_.transform+=" translateY(-50%)":_.transform="translateY(-50%)"),typeof c.style.scale=="number"&&(_.transform?_.transform+=" scale("+c.style.scale+")":_.transform="scale("+c.style.scale+")"),typeof c.style.fontSize=="number"&&(_.fontSize=c.style.fontSize+"px"),typeof c.style.fontColor=="string"&&c.style.fontColor[0]==="#"&&(_.color=c.style.fontColor)),typeof((v=c.style)==null?void 0:v.countdown)=="number"){d=Zs.Choose_item_countdown;let y=c.style.countdown,x=1082,b=1082/(y*1e3/16);const E=()=>{y<=0&&f.current?(clearTimeout(f),f.current=null,m()):f.current=setTimeout(()=>{y-=.016,x-=b;let w=document.getElementById("rect");w==null||w.setAttribute("width",Math.max(0,x).toString()),E()},16)};return E(),B.jsxs(qt.Fragment,{children:[B.jsxs("div",{className:d,style:_,children:[B.jsx("img",{src:vse,alt:c.text,style:{width:"1082px",height:"106px"}}),B.jsx("img",{src:mse,className:Zs.Choose_item_progress_bar})]}),B.jsx("svg",{width:"0",height:"0",children:B.jsx("defs",{children:B.jsx("clipPath",{id:"myClip",children:B.jsx("rect",{id:"rect",width:"1082",height:"106",rx:"53",ry:"53",style:{fill:"#fff"}})})})})]},c.jump+h)}if((g=c.style)!=null&&g.image){d=Zs.Choose_item_image;const y=Hn(c.style.image,Xn.ui),x=`img-option-${h}`,b=new Image;return b.src=y,b.onload=function(){let E=document.getElementById(x);b.style.width=b.naturalWidth+"px",b.style.height=b.naturalHeight+"px",b.alt=c.text,E&&(E.style.width=b.naturalWidth+"px",E.style.height=b.naturalHeight+"px",setTimeout(()=>{E==null||E.prepend(b),E=null},32))},B.jsx("div",{id:x,className:d,style:_,onClick:m,onMouseEnter:o,children:B.jsx("span",{children:c.text})},c.jump+h)}return B.jsx("div",{className:d,style:_,onClick:m,onMouseEnter:o,children:c.text},c.jump+h)});return Cs.render(B.jsx("div",{className:Zs.Choose_Main,children:l(n)}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Cs.render(B.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},gse=t=>(Ve.debug(`${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),_se=t=>(t.content!==""&&t.content!=="none"?Ce.dispatch(gt({key:"enableFilm",value:t.content})):Ce.dispatch(gt({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),yse="_Choose_Main_4xkm5_1",xse="_Choose_item_4xkm5_13",bse="_glabalDialog_container_inner_4xkm5_28",Ese="_glabalDialog_container_4xkm5_28",wse="_title_4xkm5_47",Sse="_button_4xkm5_59",Js={Choose_Main:yse,Choose_item:xse,glabalDialog_container_inner:bse,glabalDialog_container:Ese,title:wse,button:Sse},Cse=t=>{const e=t.content.toString().trim(),r=bt(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=bt(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=Ce.getState().userData.optionData.textboxFont===gs.song?'"", serif':'"WebgalUI", serif',{playSeEnter:f,playSeClick:l}=Dw(),u=B.jsx("div",{style:{fontFamily:s},className:Js.glabalDialog_container,children:B.jsxs("div",{className:Js.glabalDialog_container_inner,children:[B.jsx("div",{className:Js.title,children:n}),B.jsx("input",{id:"user-input",className:Js.Choose_item}),B.jsx("div",{onMouseEnter:f,onClick:()=>{const c=document.getElementById("user-input");c&&Ce.dispatch(G4({key:e,value:((c==null?void 0:c.value)??"")===""?" ":(c==null?void 0:c.value)??""})),l(),z.gameplay.performController.unmountPerform("userInput"),gn()},className:Js.button,children:a})]})});return Cs.render(B.jsx("div",{className:Js.Choose_Main,children:u}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Cs.render(B.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},Tse="_FullScreenPerform_main_7er8a_2",Ase="_FullScreenPerform_element_7er8a_9",Ise="_fullScreen_video_7er8a_17",Rse="_fadeIn_7er8a_74",Pse="_intro_showSoftly_7er8a_1",Ose="_slideIn_7er8a_80",Fse="_typingEffect_7er8a_86",kse="_typing_7er8a_86",Nse="_blinkCursor_7er8a_1",Lse="_pixelateEffect_7er8a_95",Bse="_pixelateAnimation_7er8a_1",Mse="_revealAnimation_7er8a_101",Dse="_videoContainer_7er8a_115",Ka={FullScreenPerform_main:Tse,FullScreenPerform_element:Ase,fullScreen_video:Ise,fadeIn:Rse,intro_showSoftly:Pse,slideIn:Ose,typingEffect:Fse,typing:kse,blinkCursor:Nse,pixelateEffect:Lse,pixelateAnimation:Bse,revealAnimation:Mse,videoContainer:Dse},Use=t=>{const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(b,E=0)=>{switch(b){case"fadeIn":return Ka.fadeIn;case"slideIn":return Ka.slideIn;case"typingEffect":return`${Ka.typingEffect} ${E}`;case"pixelateEffect":return Ka.pixelateEffect;case"revealAnimation":return Ka.revealAnimation;default:return Ka.fadeIn}};let o=Ka.fadeIn,s=1500,f=!1;for(const b of t.args){if(b.key==="backgroundColor"&&(n=b.value||"rgba(0, 0, 0, 1)"),b.key==="fontColor"&&(i=b.value||"rgba(255, 255, 255, 1)"),b.key==="fontSize")switch(b.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(b.key==="animation"&&(o=a(b.value)),b.key==="delayTime"){const E=parseInt(b.value.toString(),10);s=isNaN(E)?s:E}b.key==="hold"&&b.value===!0&&(f=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},u=t.content.split(/\|/);let h=1e3+s*u.length;const p=f?1e3*60*60*24:1e3+s*u.length;let d=!0,m=setTimeout(()=>{d=!1},h),_=setTimeout(()=>{});const v=()=>{const b=document.getElementById("introContainer");if(h-=s,clearTimeout(m),m=setTimeout(()=>{d=!1},h),b){const E=b.childNodes[0].childNodes[0].childNodes,w=E.length;E.forEach((S,C)=>{const T=Number(S.style.animationDelay.split("ms")[0]);T>0&&(S.style.animationDelay=`${T-s}ms`),C===w-1&&(T===0?(clearTimeout(_),z.gameplay.performController.unmountPerform(e)):(clearTimeout(_),f||(_=setTimeout(()=>{z.gameplay.performController.unmountPerform(e),setTimeout(gn,0)},h))))})}};z.events.userInteractNext.on(v);const g=u.map((b,E)=>B.jsxs("div",{style:{animationDelay:`${s*E}ms`},className:o,children:[b,b===""?"":""]},"introtext"+E+Math.random().toString())),y=B.jsx("div",{style:l,children:B.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:g})});Cs.render(y,document.getElementById("introContainer"));const x=document.getElementById("introContainer");return x&&(x.style.display="block"),{performName:e,duration:p,isHoldOn:!1,stopFunction:()=>{const b=document.getElementById("introContainer");b&&(b.style.display="none"),z.events.userInteractNext.off(v)},blockingNext:()=>d,blockingAuto:()=>d,stopTimeout:void 0,goNextWhenOver:!0}},jse=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),$se=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),Ce.dispatch(gt({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Vse="modulepreload",Gse=function(t,e){return new URL(t,e).href},BI={},Xse=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=Gse(a,n),a in BI)return;BI[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const c=i[u];if(c.href===a&&(!o||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Vse,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,c)=>{l.addEventListener("load",u),l.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},eM=new Map;function Hse(t){return t?typeof t=="string"?t:t():null}function tM(t){const e=Hse(t);return e||(Ve.error("Get name of perform failed. There no name of the perform."),"")}function yAe(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);eM.set(tM(t),e)}function zse(t,e=[]){const r=eM.get(tM(t));if(!r||!(r instanceof Function))throw Ve.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}Xse(()=>import("./initRegister-a6af2eab.js"),[],import.meta.url);const Wse=t=>{const e="PixiPerform"+t.content;z.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=zse(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;Ve.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(a=z.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=z.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},Yse=t=>{var a;Ve.debug("play SE");let e="effect-sound";z.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;bt(t,"id")&&(e=`effect-sound-${((a=bt(t,"id"))==null?void 0:a.toString())??""}`,z.gameplay.performController.unmountPerform(e,!0),n=!0);let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(()=>{var d;const s=bt(t,"volume");let f=document.createElement("audio");f.src=r,n&&(f.loop=!0);const l=Ce.getState().userData,u=l.optionData.volumeMain,c=typeof s=="number"&&s>=0&&s<=100?s:100,h=u*.01*(((d=l.optionData)==null?void 0:d.seVolume)??100)*.01*c*.01;f.volume=h,f.currentTime=0;const p={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{f.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(p),f==null||f.play(),f.onended=()=>{for(const m of z.gameplay.performController.performList)m.performName===e&&(i=!0,m.stopFunction(),z.gameplay.performController.unmountPerform(m.performName))}},1)})}},jw=()=>Math.random().toString().substring(0,10);class qse{constructor(){Ge(this,"performList",[]);Ge(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};Ce.dispatch(Gn.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--)}}erasePerformFromState(e){Ce.dispatch(Gn.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){let e=!1;this.performList.forEach(r=>{r.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):gn()}}const Kse=t=>{const e=Ce.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01,a=jw();let o="",s=!1,f=!1;const l=Date.now(),u={current:()=>{console.log("")}};t.args.forEach(d=>{d.key==="choose"&&(o="choose:"+d.value),d.key==="continueBgm"&&(f=d.value===!0),d.key==="loop"&&(s=d.value===!0)});const c=()=>{let d=bt(t,"skipOff"),m=!0;return z.gameplay.isFast?(d&&(m=!0),s&&(m=!1),o!==""&&(m=!0,u.current())):(d||s||o!=="")&&(m=!0),m};z.videoManager.showVideo(t.content);let h=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:c,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(d=>{const m=_=>{h=!0,_.stopFunction(),z.gameplay.performController.unmountPerform(_.performName)};setTimeout(()=>{const _=t.content;z.videoManager.seek(_,.03),z.videoManager.setVolume(_,i),z.videoManager.setLoop(_,s);const v=o?o.slice(7).split("|").map(E=>"game/scene/"+E.split(":")[1]):[];v.length&&Ru(v);const g=()=>{for(const E of z.gameplay.performController.performList)if(E.performName===a)if(o!==""&&!s){const w=S0(o,`${l}.txt`,""),S=z.videoManager.getDuration(_);z.videoManager.seek(_,(S||0)-.03),z.videoManager.pauseVideo(_);const C=w.sentenceList[0],T=xx(C,()=>{m(E)});z.gameplay.performController.arrangeNewPerform(T,C)}else m(E),gn()};u.current=g;const y={performName:a,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{if(!f){const w=document.getElementById("currentBgm");w&&(w.volume=i.toString())}const E=document.getElementById("currentVocal");E&&(E.volume=n.toString()),z.videoManager.destroy(_)},blockingNext:c,blockingAuto:()=>!h,stopTimeout:void 0,goNextWhenOver:!0};if(d(y),!f){const w=document.getElementById("currentBgm");w&&(w.volume=0 .toString())}const x=0,b=document.getElementById("currentVocal");if(b&&(b.volume=x.toString()),z.videoManager.playVideo(_),o&&s){const w=S0(o,`${l}.txt`,"").sentenceList[0],S=xx(w,g);z.gameplay.performController.arrangeNewPerform(S,w)}z.videoManager.onEnded(_,()=>{s?(z.videoManager.seek(_,.03),z.videoManager.playVideo(_)):g()})},100)})}},Zse=t=>{var o;Ce.getState().stage.currentDialogKey;const e=t.content,r=zn(e),n=(((o=bt(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var f,l;(f=z.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(n);const s=w0(e,n,r);s&&(Ve.debug(`${e}${n}`,r),(l=z.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},0),a=()=>{setTimeout(()=>{var s;Ce.getState().stage.currentDialogKey,(s=z.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},0)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Jse(t,e){const r=z.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,f=z.gameplay.pixiStage.frameDuration,l=e/f*o,u=1/l,c=5/l;s.alpha<1&&(s.alpha+=u),s.blur<5&&(s.blur+=c)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const Qse=[{name:"universalSoftIn",animationGenerateFunc:iB},{name:"universalSoftOff",animationGenerateFunc:aB},{name:"testblur",animationGenerateFunc:Jse}],ele=t=>{var s,f,l;Ce.getState().stage.currentDialogKey;const e=t.content,r=bt(t,"duration")??0,n=((s=bt(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=tle(e);let o=()=>{};if(a){Ve.debug(`${e}${n}`,r);const u=a(n,r);(f=z.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(n),(l=z.gameplay.pixiStage)==null||l.registerAnimation(u,i,n),o=()=>{var c;Ce.getState().stage.currentDialogKey,(c=z.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function tle(t){const e=Qse.find(r=>r.name===t);return Ve.debug("",e),e?e.animationGenerateFunc:null}const rle=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),nle=t=>{var l;Ce.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};z.animationManager.addAnimation(i);const a=zn(e),o=((l=bt(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let f=()=>{};return setTimeout(()=>{var c,h;(c=z.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(o);const u=w0(e,o,a);u&&(Ve.debug(`${e}${o}`,a),(h=z.gameplay.pixiStage)==null||h.registerAnimation(u,s,o))},0),f=()=>{setTimeout(()=>{var u;Ce.getState().stage.currentDialogKey,(u=z.gameplay.pixiStage)==null||u.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:f,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function ile(t){return t.content==="hide"?Ce.dispatch(gt({key:"isDisableTextbox",value:!0})):Ce.dispatch(gt({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const ale=t=>{var u;Ce.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=bt(t,"duration"),a=((u=bt(t,"target"))==null?void 0:u.toString())??"0";try{const c=JSON.parse(r);n=vc(a,c,i)}catch{n=[]}const o={name:e,effects:n};z.animationManager.addAnimation(o);const s=sle(e),f=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,p;(h=z.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const c=ole(e,a,s);c&&(Ve.debug(`${e}${a}`,s),(p=z.gameplay.pixiStage)==null||p.registerAnimation(c,f,a))},0),l=()=>{setTimeout(()=>{var c;Ce.getState().stage.currentDialogKey,(c=z.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(f)},0)},{performName:f,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function ole(t,e,r){const n=z.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=Nr({...Cw,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return Ve.debug("",i),BB(i,e,r)}return null}function sle(t){const e=z.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const lle=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return bt(t,"enter")&&z.animationManager.nextEnterAnimationName.set(e,bt(t,"enter").toString()),bt(t,"exit")&&z.animationManager.nextExitAnimationName.set(e+"-off",bt(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},ule=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"bgm-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Ve.info(`BGM${r}${e}${n}`),Ce.dispatch(lL({name:r,url:e,series:n}));const i=Ce.getState().userData;return Su.setItem(z.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},fle=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"cg-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Ve.info(`CG${r}${e}${n}`),Ce.dispatch(sL({name:r,url:e,series:n}));const i=Ce.getState().userData;return Su.setItem(z.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},$w=(t,e=!0,r=!0)=>{t&&z.backlogManager.makeBacklogEmpty(),r&&z.videoManager.destroyAll(!0),e&&z.sceneManager.resetScene(),z.gameplay.performController.removeAllPerform(),z.gameplay.resetGamePlay();const n=Nr(V4),i=Ce.getState().stage.GameVar;Ce.dispatch(yp(n)),e||Ce.dispatch(gt({key:"GameVar",value:i}))},cle={saveData:[],quickSaveData:null},rM=cp({name:"saveData",initialState:Nr(cle),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload}}}),uh=rM.actions,hle=rM.reducer,dle=t=>{$w(!0);const e=Ce.dispatch,r=Hn("start.txt",Xn.scene);return setTimeout(()=>{z.sceneManager.resetScene()},5),e(uh.resetFastSave()),dM(),xa(r).then(n=>{z.sceneManager.setCurrentScene(n,"start.txt",r)}),e(Bt({component:"showTitle",visibility:!0})),Xw(Ce.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},ple=t=>(DB(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),vle=t=>(z.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){Ve.warn("pixi ",e.performName);for(let r=0;r<z.gameplay.performController.performList.length;r++){const n=z.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),z.gameplay.performController.performList.splice(r,1),r--)}Ce.dispatch(Gn.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Gt={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},mle=t=>(Gt.maxAudioLevel=Math.max(t,Gt.maxAudioLevel),{OPEN_THRESHOLD:Gt.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:Gt.maxAudioLevel*.5}),gle=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=z.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),Gt.blinkTimerID=setTimeout(()=>{var a;(a=z.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;Gt.blinkTimerID=setTimeout(r,i)},200))}r()},_le=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},MI=t=>{var h,p;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:f}=t;let l;e>r?l=1:e>n?l=.5:l=0;const u=i+(l-i)*a;(h=z.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let c;u>.75?c="open":u>.25?c="half_open":c="closed",s!==void 0&&((p=z.gameplay.pixiStage)==null||p.performMouthSyncAnimation(o,s,c,f))};class yle{constructor(e){Ge(this,"subject");Ge(this,"result");Ge(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function ov(t){return new yle(t)}const xle=t=>{Ve.debug("play vocal");const e="vocal-play",r=bt(t,"vocal"),n=bt(t,"volume");let i;i=Ce.getState().stage;let a="",o="";const s=i.freeFigure,f=i.figureAssociatedAnimation;let l=0,u=0;const c=1;let h=document.getElementById("currentVocal");z.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const d of t.args)d.value===!0&&ov(d.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),d.key==="figureId"&&(o=`${d.value.toString()}`);Ce.dispatch(gt({key:"playVocal",value:r})),Ce.dispatch(gt({key:"vocal",value:r}));let p=!1;return{arrangePerformPromise:new Promise(d=>{setTimeout(()=>{let m=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?Ce.dispatch(gt({key:"vocalVolume",value:n})):Ce.dispatch(gt({key:"vocalVolume",value:100})),m!==null){m.currentTime=0;const _={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(Gt.audioLevelInterval),m.pause(),o=o||`fig-${a}`;const g=f.find(y=>y.targetId===o);MI({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:u,lerpSpeed:c,key:o,animationItem:g,pos:a}),clearTimeout(Gt.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!p,skipNextCollect:!0,stopTimeout:void 0};z.gameplay.performController.arrangeNewPerform(_,t,!1),o=o||`fig-${a}`;const v=f.find(g=>g.targetId===o);if(v){const g=s.find(b=>b.key===o);if(g&&(a=g.basePosition),!Gt.audioContext){let b;b=new AudioContext,Gt.analyser=b.createAnalyser(),Gt.analyser.fftSize=256,Gt.dataArray=new Uint8Array(Gt.analyser.frequencyBinCount)}Gt.analyser||(Gt.analyser=Gt.audioContext.createAnalyser(),Gt.analyser.fftSize=256),l=Gt.analyser.frequencyBinCount,Gt.dataArray=new Uint8Array(l);let y=document.getElementById("currentVocal");Gt.source||(Gt.source=Gt.audioContext.createMediaElementSource(y),Gt.source.connect(Gt.analyser)),Gt.analyser.connect(Gt.audioContext.destination),Gt.audioLevelInterval=setInterval(()=>{const b=_le(Gt.analyser,Gt.dataArray,l),{OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:w}=mle(b);MI({audioLevel:b,OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:w,currentMouthValue:u,lerpSpeed:c,key:o,animationItem:v,pos:a})},50);let x;x=Date.now()+1e4,gle({key:o,animationItem:v,pos:a,animationEndTime:x}),setTimeout(()=>{clearTimeout(Gt.blinkTimerID)},1e4)}m==null||m.play(),m.onended=()=>{for(const g of z.gameplay.performController.performList)g.performName===e&&(p=!0,g.stopFunction(),z.gameplay.performController.unmountPerform(g.performName))}}},1)})}};function nM(t){return t===0?3:t===100?80:77*Number(t)/100}function ble(t){return t===0?800:t===100?200:800-600*Number(t)/100}const Ele=t=>{const e=Ce.getState().stage,r=Ce.getState().userData,n=Ce.dispatch;let i=Math.random().toString(),a=t.content;const o=bt(t,"concat"),s=bt(t,"notend"),f=bt(t,"speaker"),l=bt(t,"clear"),u=bt(t,"vocal"),c=bt(t,"mode");o?(i=e.currentDialogKey,a=e.showText+a,n(gt({key:"currentConcatDialogPrev",value:e.showText}))):n(gt({key:"currentConcatDialogPrev",value:""})),n(gt({key:"showText",value:a})),n(gt({key:"vocal",value:""})),n(gt({key:"dialogueMode",value:c})),r.optionData.voiceInterruption===aw.no&&u===null||(n(gt({key:"playVocal",value:""})),z.gameplay.performController.unmountPerform("vocal-play",!0)),n(gt({key:"currentDialogKey",value:i}));const p=nM(r.optionData.textSpeed)*t.content.length;for(const v of t.args)if(v.key==="fontSize")switch(v.value){case"default":n(gt({key:"showTextSize",value:-1}));break;case"small":n(gt({key:"showTextSize",value:bo.small}));break;case"medium":n(gt({key:"showTextSize",value:bo.medium}));break;case"large":n(gt({key:"showTextSize",value:bo.large}));break}let d=e.showName;f!==null&&(d=f),c==="player"&&(d=""),c==="narrator"&&(d=""),l&&(d=""),n(gt({key:"showName",value:d})),u&&xle(t);const m=jw();let _=750-r.optionData.textSpeed/100*2*250;return s&&(_=0),{performName:m,duration:p+_,isHoldOn:!1,stopFunction:()=>{z.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}},wle=t=>{const e=Ce.getState().stage,r=Ce.getState().userData,n=Ce.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(gt({key:"showText",value:JSON.stringify(i)})),n(gt({key:"showName",value:""})),Ve.debug("",i),setTimeout(()=>{z.events.textSettle.emit()},0);const a=jw(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{z.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Dt(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const iM={};function Sle(t){const e={};for(const[r,n]of Object.entries(t))e[r]=iM[n.scriptType]={scriptString:r,...n};return e}const Cle=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];Ce.dispatch(Gn.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},aM=Sle({intro:Dt(Ot.intro,Use),changeBg:Dt(Ot.changeBg,hoe),changeFigure:Dt(Ot.changeFigure,doe),miniAvatar:Dt(Ot.miniAvatar,$se,{next:!0}),changeScene:Dt(Ot.changeScene,poe),choose:Dt(Ot.choose,xx),end:Dt(Ot.end,dle),bgm:Dt(Ot.bgm,aQ,{next:!0}),playVideo:Dt(Ot.video,Kse),setComplexAnimation:Dt(Ot.setComplexAnimation,ele),setFilter:Dt(Ot.setFilter,rle),pixiInit:Dt(Ot.pixiInit,vle,{next:!0}),pixiPerform:Dt(Ot.pixi,Wse,{next:!0}),label:Dt(Ot.label,jse,{next:!0}),jumpLabel:Dt(Ot.jumpLabel,ple),setVar:Dt(Ot.setVar,ste,{next:!0}),showVars:Dt(Ot.showVars,wle),unlockCg:Dt(Ot.unlockCg,fle,{next:!0}),unlockBgm:Dt(Ot.unlockBgm,ule,{next:!0}),say:Dt(Ot.say,Ele),filmMode:Dt(Ot.filmMode,_se,{next:!0}),callScene:Dt(Ot.callScene,tre),setTextbox:Dt(Ot.setTextbox,ile),setAnimation:Dt(Ot.setAnimation,Zse),playEffect:Dt(Ot.playEffect,Yse,{next:!0}),setTempAnimation:Dt(Ot.setTempAnimation,nle),__commment:Dt(Ot.comment,gse,{next:!0}),setTransform:Dt(Ot.setTransform,ale),setTransition:Dt(Ot.setTransition,lle,{next:!0}),getUserInput:Dt(Ot.getUserInput,Cse),applyStyle:Dt(Ot.applyStyle,Cle,{next:!0})}),oM=Object.values(aM),Tle=oM.filter(t=>t.next).map(t=>t.scriptType),sv=new iQ(vq,Hn,Tle,oM),S0=(t,e,r)=>{const n=sv.parse(t,e,r);return Ve.info(`${e}`,n),n},DI={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class Ale{constructor(){Ge(this,"settledScenes",[]);Ge(this,"settledAssets",[]);Ge(this,"sceneData",Nr(DI));Ge(this,"sceneAssetsList",{});Ge(this,"sceneAssetsLoadedList",{})}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=Nr(DI.currentScene)}setCurrentScene(e,r,n,i=!1){return new Promise(a=>{let o={current:null},s=null;i&&!this.sceneAssetsLoadedList[r]&&(s=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},1e3));const f=window.pubsub.subscribe("sceneAssetsLoaded",({sceneName:l})=>{setTimeout(()=>{r===l&&(o.current&&(this.sceneData.currentScene=o.current),i&&window.pubsub.publish("loading",{loading:!1}),s&&clearTimeout(s),a(o),o.current=null,f())},16)});o.current=S0(e,r,n)})}}class Ile{constructor(){Ge(this,"nextEnterAnimationName",new Map);Ge(this,"nextExitAnimationName",new Map);Ge(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}class Rle{constructor(){Ge(this,"isAuto",!1);Ge(this,"isFast",!1);Ge(this,"isSyncingWithOrigine",!1);Ge(this,"autoInterval",null);Ge(this,"fastInterval",null);Ge(this,"autoTimeout",null);Ge(this,"pixiStage",null);Ge(this,"performController",new qse)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function Ple(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class Ole{constructor(){Ge(this,"textSettle",Lh("text-settle"));Ge(this,"userInteractNext",Lh("__NEXT"));Ge(this,"fullscreenDbClick",Lh("fullscreen-dbclick"));Ge(this,"styleUpdate",Lh("style-update"))}}const fg=Ple();function Lh(t){return{on:(e,r)=>{fg.on(`${t}-${r??""}`,e)},emit:(e,r)=>{fg.emit(`${t}-${r??""}`,e)},off:(e,r)=>{fg.off(`${t}-${r??""}`,e)}}}var sM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(o,s,f){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,u){o.exports=u()})(this,function(){function l(_e){var L=typeof _e;return _e!==null&&(L==="object"||L==="function")}function u(_e){return typeof _e=="function"}var c=void 0;Array.isArray?c=Array.isArray:c=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"};var h=c,p=0,d=void 0,m=void 0,_=function(L,ne){R[p]=L,R[p+1]=ne,p+=2,p===2&&(m?m(O):k())};function v(_e){m=_e}function g(_e){_=_e}var y=typeof window<"u"?window:void 0,x=y||{},b=x.MutationObserver||x.WebKitMutationObserver,E=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",w=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){return function(){return process.nextTick(O)}}function C(){return typeof d<"u"?function(){d(O)}:A()}function T(){var _e=0,L=new b(O),ne=document.createTextNode("");return L.observe(ne,{characterData:!0}),function(){ne.data=_e=++_e%2}}function I(){var _e=new MessageChannel;return _e.port1.onmessage=O,function(){return _e.port2.postMessage(0)}}function A(){var _e=setTimeout;return function(){return _e(O,1)}}var R=new Array(1e3);function O(){for(var _e=0;_e<p;_e+=2){var L=R[_e],ne=R[_e+1];L(ne),R[_e]=void 0,R[_e+1]=void 0}p=0}function F(){try{var _e=Function("return this")().require("vertx");return d=_e.runOnLoop||_e.runOnContext,C()}catch{return A()}}var k=void 0;E?k=S():b?k=T():w?k=I():y===void 0?k=F():k=A();function $(_e,L){var ne=this,he=new this.constructor(G);he[K]===void 0&&ct(he);var ye=ne._state;if(ye){var Z=arguments[ye-1];_(function(){return Te(ye,he,Z,ne._result)})}else Ae(ne,he,_e,L);return he}function q(_e){var L=this;if(_e&&typeof _e=="object"&&_e.constructor===L)return _e;var ne=new L(G);return Ee(ne,_e),ne}var K=Math.random().toString(36).substring(2);function G(){}var N=void 0,j=1,M=2;function D(){return new TypeError("You cannot resolve a promise with itself")}function J(){return new TypeError("A promises callback cannot return that same promise.")}function Q(_e,L,ne,he){try{_e.call(L,ne,he)}catch(ye){return ye}}function se(_e,L,ne){_(function(he){var ye=!1,Z=Q(ne,L,function(ve){ye||(ye=!0,L!==ve?Ee(he,ve):de(he,ve))},function(ve){ye||(ye=!0,pe(he,ve))},"Settle: "+(he._label||" unknown promise"));!ye&&Z&&(ye=!0,pe(he,Z))},_e)}function re(_e,L){L._state===j?de(_e,L._result):L._state===M?pe(_e,L._result):Ae(L,void 0,function(ne){return Ee(_e,ne)},function(ne){return pe(_e,ne)})}function ue(_e,L,ne){L.constructor===_e.constructor&&ne===$&&L.constructor.resolve===q?re(_e,L):ne===void 0?de(_e,L):u(ne)?se(_e,L,ne):de(_e,L)}function Ee(_e,L){if(_e===L)pe(_e,D());else if(l(L)){var ne=void 0;try{ne=L.then}catch(he){pe(_e,he);return}ue(_e,L,ne)}else de(_e,L)}function xe(_e){_e._onerror&&_e._onerror(_e._result),Fe(_e)}function de(_e,L){_e._state===N&&(_e._result=L,_e._state=j,_e._subscribers.length!==0&&_(Fe,_e))}function pe(_e,L){_e._state===N&&(_e._state=M,_e._result=L,_(xe,_e))}function Ae(_e,L,ne,he){var ye=_e._subscribers,Z=ye.length;_e._onerror=null,ye[Z]=L,ye[Z+j]=ne,ye[Z+M]=he,Z===0&&_e._state&&_(Fe,_e)}function Fe(_e){var L=_e._subscribers,ne=_e._state;if(L.length!==0){for(var he=void 0,ye=void 0,Z=_e._result,ve=0;ve<L.length;ve+=3)he=L[ve],ye=L[ve+ne],he?Te(ne,he,ye,Z):ye(Z);_e._subscribers.length=0}}function Te(_e,L,ne,he){var ye=u(ne),Z=void 0,ve=void 0,U=!0;if(ye){try{Z=ne(he)}catch(we){U=!1,ve=we}if(L===Z){pe(L,J());return}}else Z=he;L._state!==N||(ye&&U?Ee(L,Z):U===!1?pe(L,ve):_e===j?de(L,Z):_e===M&&pe(L,Z))}function ke(_e,L){try{L(function(he){Ee(_e,he)},function(he){pe(_e,he)})}catch(ne){pe(_e,ne)}}var Ne=0;function Ze(){return Ne++}function ct(_e){_e[K]=Ne++,_e._state=void 0,_e._result=void 0,_e._subscribers=[]}function Je(){return new Error("Array Methods must be provided an Array")}var qe=function(){function _e(L,ne){this._instanceConstructor=L,this.promise=new L(G),this.promise[K]||ct(this.promise),h(ne)?(this.length=ne.length,this._remaining=ne.length,this._result=new Array(this.length),this.length===0?de(this.promise,this._result):(this.length=this.length||0,this._enumerate(ne),this._remaining===0&&de(this.promise,this._result))):pe(this.promise,Je())}return _e.prototype._enumerate=function(ne){for(var he=0;this._state===N&&he<ne.length;he++)this._eachEntry(ne[he],he)},_e.prototype._eachEntry=function(ne,he){var ye=this._instanceConstructor,Z=ye.resolve;if(Z===q){var ve=void 0,U=void 0,we=!1;try{ve=ne.then}catch(P){we=!0,U=P}if(ve===$&&ne._state!==N)this._settledAt(ne._state,he,ne._result);else if(typeof ve!="function")this._remaining--,this._result[he]=ne;else if(ye===tt){var He=new ye(G);we?pe(He,U):ue(He,ne,ve),this._willSettleAt(He,he)}else this._willSettleAt(new ye(function(P){return P(ne)}),he)}else this._willSettleAt(Z(ne),he)},_e.prototype._settledAt=function(ne,he,ye){var Z=this.promise;Z._state===N&&(this._remaining--,ne===M?pe(Z,ye):this._result[he]=ye),this._remaining===0&&de(Z,this._result)},_e.prototype._willSettleAt=function(ne,he){var ye=this;Ae(ne,void 0,function(Z){return ye._settledAt(j,he,Z)},function(Z){return ye._settledAt(M,he,Z)})},_e}();function at(_e){return new qe(this,_e).promise}function Tt(_e){var L=this;return h(_e)?new L(function(ne,he){for(var ye=_e.length,Z=0;Z<ye;Z++)L.resolve(_e[Z]).then(ne,he)}):new L(function(ne,he){return he(new TypeError("You must pass an array to race."))})}function kt(_e){var L=this,ne=new L(G);return pe(ne,_e),ne}function At(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function It(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var tt=function(){function _e(L){this[K]=Ze(),this._result=this._state=void 0,this._subscribers=[],G!==L&&(typeof L!="function"&&At(),this instanceof _e?ke(this,L):It())}return _e.prototype.catch=function(ne){return this.then(null,ne)},_e.prototype.finally=function(ne){var he=this,ye=he.constructor;return u(ne)?he.then(function(Z){return ye.resolve(ne()).then(function(){return Z})},function(Z){return ye.resolve(ne()).then(function(){throw Z})}):he.then(ne,ne)},_e}();tt.prototype.then=$,tt.all=at,tt.race=Tt,tt.resolve=q,tt.reject=kt,tt._setScheduler=v,tt._setAsap=g,tt._asap=_;function Nt(){var _e=void 0;if(typeof f.g<"u")_e=f.g;else if(typeof self<"u")_e=self;else try{_e=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var L=_e.Promise;if(L){var ne=null;try{ne=Object.prototype.toString.call(L.resolve())}catch{}if(ne==="[object Promise]"&&!L.cast)return}_e.Promise=tt}return tt.polyfill=Nt,tt.Promise=tt,tt})},"./node_modules/events/events.js":function(o){var s=typeof Reflect=="object"?Reflect:null,f=s&&typeof s.apply=="function"?s.apply:function(A,R,O){return Function.prototype.apply.call(A,R,O)},l;s&&typeof s.ownKeys=="function"?l=s.ownKeys:Object.getOwnPropertySymbols?l=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:l=function(A){return Object.getOwnPropertyNames(A)};function u(I){console&&console.warn&&console.warn(I)}var c=Number.isNaN||function(A){return A!==A};function h(){h.init.call(this)}o.exports=h,o.exports.once=S,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var p=10;function d(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(I){if(typeof I!="number"||I<0||c(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");p=I}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||c(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function m(I){return I._maxListeners===void 0?h.defaultMaxListeners:I._maxListeners}h.prototype.getMaxListeners=function(){return m(this)},h.prototype.emit=function(A){for(var R=[],O=1;O<arguments.length;O++)R.push(arguments[O]);var F=A==="error",k=this._events;if(k!==void 0)F=F&&k.error===void 0;else if(!F)return!1;if(F){var $;if(R.length>0&&($=R[0]),$ instanceof Error)throw $;var q=new Error("Unhandled error."+($?" ("+$.message+")":""));throw q.context=$,q}var K=k[A];if(K===void 0)return!1;if(typeof K=="function")f(K,this,R);else for(var G=K.length,N=b(K,G),O=0;O<G;++O)f(N[O],this,R);return!0};function _(I,A,R,O){var F,k,$;if(d(R),k=I._events,k===void 0?(k=I._events=Object.create(null),I._eventsCount=0):(k.newListener!==void 0&&(I.emit("newListener",A,R.listener?R.listener:R),k=I._events),$=k[A]),$===void 0)$=k[A]=R,++I._eventsCount;else if(typeof $=="function"?$=k[A]=O?[R,$]:[$,R]:O?$.unshift(R):$.push(R),F=m(I),F>0&&$.length>F&&!$.warned){$.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=I,q.type=A,q.count=$.length,u(q)}return I}h.prototype.addListener=function(A,R){return _(this,A,R,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(A,R){return _(this,A,R,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(I,A,R){var O={fired:!1,wrapFn:void 0,target:I,type:A,listener:R},F=v.bind(O);return F.listener=R,O.wrapFn=F,F}h.prototype.once=function(A,R){return d(R),this.on(A,g(this,A,R)),this},h.prototype.prependOnceListener=function(A,R){return d(R),this.prependListener(A,g(this,A,R)),this},h.prototype.removeListener=function(A,R){var O,F,k,$,q;if(d(R),F=this._events,F===void 0)return this;if(O=F[A],O===void 0)return this;if(O===R||O.listener===R)--this._eventsCount===0?this._events=Object.create(null):(delete F[A],F.removeListener&&this.emit("removeListener",A,O.listener||R));else if(typeof O!="function"){for(k=-1,$=O.length-1;$>=0;$--)if(O[$]===R||O[$].listener===R){q=O[$].listener,k=$;break}if(k<0)return this;k===0?O.shift():E(O,k),O.length===1&&(F[A]=O[0]),F.removeListener!==void 0&&this.emit("removeListener",A,q||R)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(A){var R,O,F;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[A]),this;if(arguments.length===0){var k=Object.keys(O),$;for(F=0;F<k.length;++F)$=k[F],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(R=O[A],typeof R=="function")this.removeListener(A,R);else if(R!==void 0)for(F=R.length-1;F>=0;F--)this.removeListener(A,R[F]);return this};function y(I,A,R){var O=I._events;if(O===void 0)return[];var F=O[A];return F===void 0?[]:typeof F=="function"?R?[F.listener||F]:[F]:R?w(F):b(F,F.length)}h.prototype.listeners=function(A){return y(this,A,!0)},h.prototype.rawListeners=function(A){return y(this,A,!1)},h.listenerCount=function(I,A){return typeof I.listenerCount=="function"?I.listenerCount(A):x.call(I,A)},h.prototype.listenerCount=x;function x(I){var A=this._events;if(A!==void 0){var R=A[I];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function b(I,A){for(var R=new Array(A),O=0;O<A;++O)R[O]=I[O];return R}function E(I,A){for(;A+1<I.length;A++)I[A]=I[A+1];I.pop()}function w(I){for(var A=new Array(I.length),R=0;R<A.length;++R)A[R]=I[R].listener||I[R];return A}function S(I,A){return new Promise(function(R,O){function F($){I.removeListener(A,k),O($)}function k(){typeof I.removeListener=="function"&&I.removeListener("error",F),R([].slice.call(arguments))}T(I,A,k,{once:!0}),A!=="error"&&C(I,F,{once:!0})})}function C(I,A,R){typeof I.on=="function"&&T(I,"error",A,R)}function T(I,A,R,O){if(typeof I.on=="function")O.once?I.once(A,R):I.on(A,R);else if(typeof I.addEventListener=="function")I.addEventListener(A,function F(k){O.once&&I.removeEventListener(A,F),R(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}},"./node_modules/webworkify-webpack/index.js":function(o,s,f){function l(v){var g={};function y(b){if(g[b])return g[b].exports;var E=g[b]={i:b,l:!1,exports:{}};return v[b].call(E.exports,E,E.exports,y),E.l=!0,E.exports}y.m=v,y.c=g,y.i=function(b){return b},y.d=function(b,E,w){y.o(b,E)||Object.defineProperty(b,E,{configurable:!1,enumerable:!0,get:w})},y.r=function(b){Object.defineProperty(b,"__esModule",{value:!0})},y.n=function(b){var E=b&&b.__esModule?function(){return b.default}:function(){return b};return y.d(E,"a",E),E},y.o=function(b,E){return Object.prototype.hasOwnProperty.call(b,E)},y.p="/",y.oe=function(b){throw console.error(b),b};var x=y(y.s=ENTRY_MODULE);return x.default||x}var u="[\\.|\\-|\\+|\\w|/|@]+",c="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function h(v){return(v+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(v){return!isNaN(1*v)}function d(v,g,y){var x={};x[y]=[];var b=g.toString(),E=b.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!E)return x;for(var w=E[1],S=new RegExp("(\\\\n|\\W)"+h(w)+c,"g"),C;C=S.exec(b);)C[3]!=="dll-reference"&&x[y].push(C[3]);for(S=new RegExp("\\("+h(w)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+c,"g");C=S.exec(b);)v[C[2]]||(x[y].push(C[1]),v[C[2]]=f(C[1]).m),x[C[2]]=x[C[2]]||[],x[C[2]].push(C[4]);for(var T=Object.keys(x),I=0;I<T.length;I++)for(var A=0;A<x[T[I]].length;A++)p(x[T[I]][A])&&(x[T[I]][A]=1*x[T[I]][A]);return x}function m(v){var g=Object.keys(v);return g.reduce(function(y,x){return y||v[x].length>0},!1)}function _(v,g){for(var y={main:[g]},x={main:[]},b={main:{}};m(y);)for(var E=Object.keys(y),w=0;w<E.length;w++){var S=E[w],C=y[S],T=C.pop();if(b[S]=b[S]||{},!(b[S][T]||!v[S][T])){b[S][T]=!0,x[S]=x[S]||[],x[S].push(T);for(var I=d(v,v[S][T],S),A=Object.keys(I),R=0;R<A.length;R++)y[A[R]]=y[A[R]]||[],y[A[R]]=y[A[R]].concat(I[A[R]])}}return x}o.exports=function(v,g){g=g||{};var y={main:f.m},x=g.all?{main:Object.keys(y.main)}:_(y,v),b="";Object.keys(x).filter(function(T){return T!=="main"}).forEach(function(T){for(var I=0;x[T][I];)I++;x[T].push(I),y[T][I]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",b=b+"var "+T+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(I))+")({"+x[T].map(function(A){return""+JSON.stringify(A)+": "+y[T][A].toString()}).join(",")+`});
`}),b=b+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(v))+")({"+x.main.map(function(T){return""+JSON.stringify(T)+": "+y.main[T].toString()}).join(",")+"}))(self);";var E=new window.Blob([b],{type:"text/javascript"});if(g.bare)return E;var w=window.URL||window.webkitURL||window.mozURL||window.msURL,S=w.createObjectURL(E),C=new window.Worker(S);return C.objectURL=S,C}},"./src/config.js":function(o,s,f){f.r(s),f.d(s,{defaultConfig:function(){return l},createDefaultConfig:function(){return u}});var l={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},l)}},"./src/core/features.js":function(o,s,f){f.r(s);var l=f("./src/io/io-controller.js"),u=f("./src/config.js"),c=function(){function h(){}return h.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},h.supportNetworkStreamIO=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d=="fetch-stream-loader"||d=="xhr-moz-chunked-loader"},h.getNetworkLoaderTypeName=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d},h.supportNativeMediaPlayback=function(p){h.videoElement==null&&(h.videoElement=window.document.createElement("video"));var d=h.videoElement.canPlayType(p);return d==="probably"||d=="maybe"},h.getFeatureList=function(){var p={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return p.mseFlvPlayback=h.supportMSEH264Playback(),p.networkStreamIO=h.supportNetworkStreamIO(),p.networkLoaderName=h.getNetworkLoaderTypeName(),p.mseLiveFlvPlayback=p.mseFlvPlayback&&p.networkStreamIO,p.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),p.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),p.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),p},h}();s.default=c},"./src/core/media-info.js":function(o,s,f){f.r(s);var l=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var c=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,h=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&c&&h},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(c){if(this.keyframesIndex==null)return null;var h=this.keyframesIndex,p=this._search(h.times,c);return{index:p,milliseconds:h.times[p],fileposition:h.filepositions[p]}},u.prototype._search=function(c,h){var p=0,d=c.length-1,m=0,_=0,v=d;for(h<c[0]&&(p=0,_=v+1);_<=v;)if(m=_+Math.floor((v-_)/2),m===d||h>=c[m]&&h<c[m+1]){p=m;break}else c[m]<h?_=m+1:v=m-1;return p},u}();s.default=l},"./src/core/media-segment-info.js":function(o,s,f){f.r(s),f.d(s,{SampleInfo:function(){return l},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return c},MediaSegmentInfoList:function(){return h}});var l=function(){function p(d,m,_,v,g){this.dts=d,this.pts=m,this.duration=_,this.originalDts=v,this.isSyncPoint=g,this.fileposition=null}return p}(),u=function(){function p(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return p.prototype.appendSyncPoint=function(d){d.isSyncPoint=!0,this.syncPoints.push(d)},p}(),c=function(){function p(){this._list=[]}return p.prototype.clear=function(){this._list=[]},p.prototype.appendArray=function(d){var m=this._list;d.length!==0&&(m.length>0&&d[0].originalDts<m[m.length-1].originalDts&&this.clear(),Array.prototype.push.apply(m,d))},p.prototype.getLastSyncPointBeforeDts=function(d){if(this._list.length==0)return null;var m=this._list,_=0,v=m.length-1,g=0,y=0,x=v;for(d<m[0].dts&&(_=0,y=x+1);y<=x;)if(g=y+Math.floor((x-y)/2),g===v||d>=m[g].dts&&d<m[g+1].dts){_=g;break}else m[g].dts<d?y=g+1:x=g-1;return this._list[_]},p}(),h=function(){function p(d){this._type=d,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return this._list.length===0},p.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},p.prototype._searchNearestSegmentBefore=function(d){var m=this._list;if(m.length===0)return-2;var _=m.length-1,v=0,g=0,y=_,x=0;if(d<m[0].originalBeginDts)return x=-1,x;for(;g<=y;)if(v=g+Math.floor((y-g)/2),v===_||d>m[v].lastSample.originalDts&&d<m[v+1].originalBeginDts){x=v;break}else m[v].originalBeginDts<d?g=v+1:y=v-1;return x},p.prototype._searchNearestSegmentAfter=function(d){return this._searchNearestSegmentBefore(d)+1},p.prototype.append=function(d){var m=this._list,_=d,v=this._lastAppendLocation,g=0;v!==-1&&v<m.length&&_.originalBeginDts>=m[v].lastSample.originalDts&&(v===m.length-1||v<m.length-1&&_.originalBeginDts<m[v+1].originalBeginDts)?g=v+1:m.length>0&&(g=this._searchNearestSegmentBefore(_.originalBeginDts)+1),this._lastAppendLocation=g,this._list.splice(g,0,_)},p.prototype.getLastSegmentBefore=function(d){var m=this._searchNearestSegmentBefore(d);return m>=0?this._list[m]:null},p.prototype.getLastSampleBefore=function(d){var m=this.getLastSegmentBefore(d);return m!=null?m.lastSample:null},p.prototype.getLastSyncPointBefore=function(d){for(var m=this._searchNearestSegmentBefore(d),_=this._list[m].syncPoints;_.length===0&&m>0;)m--,_=this._list[m].syncPoints;return _.length>0?_[_.length-1]:null},p}()},"./src/core/mse-controller.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./src/utils/logger.js"),h=f("./src/utils/browser.js"),p=f("./src/core/mse-events.js"),d=f("./src/core/media-segment-info.js"),m=f("./src/utils/exception.js"),_=function(){function v(g){this.TAG="MSEController",this._config=g,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new d.IDRSampleList}return v.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(g,y){this._emitter.addListener(g,y)},v.prototype.off=function(g,y){this._emitter.removeListener(g,y)},v.prototype.attachMediaElement=function(g){if(this._mediaSource)throw new m.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var y=this._mediaSource=new window.MediaSource;y.addEventListener("sourceopen",this.e.onSourceOpen),y.addEventListener("sourceended",this.e.onSourceEnded),y.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=g,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),g.src=this._mediaSourceObjectURL},v.prototype.detachMediaElement=function(){if(this._mediaSource){var g=this._mediaSource;for(var y in this._sourceBuffers){var x=this._pendingSegments[y];x.splice(0,x.length),this._pendingSegments[y]=null,this._pendingRemoveRanges[y]=null,this._lastInitSegments[y]=null;var b=this._sourceBuffers[y];if(b){if(g.readyState!=="closed"){try{g.removeSourceBuffer(b)}catch(E){c.default.e(this.TAG,E.message)}b.removeEventListener("error",this.e.onSourceBufferError),b.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[y]=null,this._sourceBuffers[y]=null}}if(g.readyState==="open")try{g.endOfStream()}catch(E){c.default.e(this.TAG,E.message)}g.removeEventListener("sourceopen",this.e.onSourceOpen),g.removeEventListener("sourceended",this.e.onSourceEnded),g.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},v.prototype.appendInitSegment=function(g,y){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(g),this._pendingSegments[g.type].push(g);return}var x=g,b=""+x.container;x.codec&&x.codec.length>0&&(b+=";codecs="+x.codec);var E=!1;if(c.default.v(this.TAG,"Received Initialization Segment, mimeType: "+b),this._lastInitSegments[x.type]=x,b!==this._mimeTypes[x.type]){if(this._mimeTypes[x.type])c.default.v(this.TAG,"Notice: "+x.type+" mimeType changed, origin: "+this._mimeTypes[x.type]+", target: "+b);else{E=!0;try{var w=this._sourceBuffers[x.type]=this._mediaSource.addSourceBuffer(b);w.addEventListener("error",this.e.onSourceBufferError),w.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(S){c.default.e(this.TAG,S.message),this._emitter.emit(p.default.ERROR,{code:S.code,msg:S.message});return}}this._mimeTypes[x.type]=b}y||this._pendingSegments[x.type].push(x),E||this._sourceBuffers[x.type]&&!this._sourceBuffers[x.type].updating&&this._doAppendSegments(),h.default.safari&&x.container==="audio/mpeg"&&x.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=x.mediaDuration/1e3,this._updateMediaSourceDuration())},v.prototype.appendMediaSegment=function(g){var y=g;this._pendingSegments[y.type].push(y),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var x=this._sourceBuffers[y.type];x&&!x.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},v.prototype.seek=function(g){for(var y in this._sourceBuffers)if(this._sourceBuffers[y]){var x=this._sourceBuffers[y];if(this._mediaSource.readyState==="open")try{x.abort()}catch(T){c.default.e(this.TAG,T.message)}this._idrList.clear();var b=this._pendingSegments[y];if(b.splice(0,b.length),this._mediaSource.readyState!=="closed"){for(var E=0;E<x.buffered.length;E++){var w=x.buffered.start(E),S=x.buffered.end(E);this._pendingRemoveRanges[y].push({start:w,end:S})}if(x.updating||this._doRemoveRanges(),h.default.safari){var C=this._lastInitSegments[y];C&&(this._pendingSegments[y].push(C),x.updating||this._doAppendSegments())}}}},v.prototype.endOfStream=function(){var g=this._mediaSource,y=this._sourceBuffers;if(!g||g.readyState!=="open"){g&&g.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}y.video&&y.video.updating||y.audio&&y.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,g.endOfStream())},v.prototype.getNearestKeyframe=function(g){return this._idrList.getLastSyncPointBeforeDts(g)},v.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var g=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var x=this._sourceBuffers[y];if(x){var b=x.buffered;if(b.length>=1&&g-b.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},v.prototype._doCleanupSourceBuffer=function(){var g=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var x=this._sourceBuffers[y];if(x){for(var b=x.buffered,E=!1,w=0;w<b.length;w++){var S=b.start(w),C=b.end(w);if(S<=g&&g<C+3){if(g-S>=this._config.autoCleanupMaxBackwardDuration){E=!0;var T=g-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[y].push({start:S,end:T})}}else C<g&&(E=!0,this._pendingRemoveRanges[y].push({start:S,end:C}))}E&&!x.updating&&this._doRemoveRanges()}}},v.prototype._updateMediaSourceDuration=function(){var g=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(g.video&&g.video.updating||g.audio&&g.audio.updating)){var y=this._mediaSource.duration,x=this._pendingMediaDuration;x>0&&(isNaN(y)||x>y)&&(c.default.v(this.TAG,"Update MediaSource duration from "+y+" to "+x),this._mediaSource.duration=x),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},v.prototype._doRemoveRanges=function(){for(var g in this._pendingRemoveRanges)if(!(!this._sourceBuffers[g]||this._sourceBuffers[g].updating))for(var y=this._sourceBuffers[g],x=this._pendingRemoveRanges[g];x.length&&!y.updating;){var b=x.shift();y.remove(b.start,b.end)}},v.prototype._doAppendSegments=function(){var g=this._pendingSegments;for(var y in g)if(!(!this._sourceBuffers[y]||this._sourceBuffers[y].updating)&&g[y].length>0){var x=g[y].shift();if(x.timestampOffset){var b=this._sourceBuffers[y].timestampOffset,E=x.timestampOffset/1e3,w=Math.abs(b-E);w>.1&&(c.default.v(this.TAG,"Update MPEG audio timestampOffset from "+b+" to "+E),this._sourceBuffers[y].timestampOffset=E),delete x.timestampOffset}if(!x.data||x.data.byteLength===0)continue;try{this._sourceBuffers[y].appendBuffer(x.data),this._isBufferFull=!1,y==="video"&&x.hasOwnProperty("info")&&this._idrList.appendArray(x.info.syncPoints)}catch(S){this._pendingSegments[y].unshift(x),S.code===22?(this._isBufferFull||this._emitter.emit(p.default.BUFFER_FULL),this._isBufferFull=!0):(c.default.e(this.TAG,S.message),this._emitter.emit(p.default.ERROR,{code:S.code,msg:S.message}))}}},v.prototype._onSourceOpen=function(){if(c.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var g=this._pendingSourceBufferInit;g.length;){var y=g.shift();this.appendInitSegment(y,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(p.default.SOURCE_OPEN)},v.prototype._onSourceEnded=function(){c.default.v(this.TAG,"MediaSource onSourceEnded")},v.prototype._onSourceClose=function(){c.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},v.prototype._hasPendingSegments=function(){var g=this._pendingSegments;return g.video.length>0||g.audio.length>0},v.prototype._hasPendingRemoveRanges=function(){var g=this._pendingRemoveRanges;return g.video.length>0||g.audio.length>0},v.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(p.default.UPDATE_END)},v.prototype._onSourceBufferError=function(g){c.default.e(this.TAG,"SourceBuffer Error: "+g)},v}();s.default=_},"./src/core/mse-events.js":function(o,s,f){f.r(s);var l={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};s.default=l},"./src/core/transmuxer.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./node_modules/webworkify-webpack/index.js"),h=f.n(c),p=f("./src/utils/logger.js"),d=f("./src/utils/logging-control.js"),m=f("./src/core/transmuxing-controller.js"),_=f("./src/core/transmuxing-events.js"),v=f("./src/core/media-info.js"),g=function(){function y(x,b){if(this.TAG="Transmuxer",this._emitter=new(u()),b.enableWorker&&typeof Worker<"u")try{this._worker=h()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[x,b]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},d.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:d.default.getConfig()})}catch{p.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new m.default(x,b)}else this._controller=new m.default(x,b);if(this._controller){var E=this._controller;E.on(_.default.IO_ERROR,this._onIOError.bind(this)),E.on(_.default.DEMUX_ERROR,this._onDemuxError.bind(this)),E.on(_.default.INIT_SEGMENT,this._onInitSegment.bind(this)),E.on(_.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),E.on(_.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),E.on(_.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),E.on(_.default.MEDIA_INFO,this._onMediaInfo.bind(this)),E.on(_.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),E.on(_.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),E.on(_.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),E.on(_.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return y.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),d.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},y.prototype.on=function(x,b){this._emitter.addListener(x,b)},y.prototype.off=function(x,b){this._emitter.removeListener(x,b)},y.prototype.hasWorker=function(){return this._worker!=null},y.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},y.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},y.prototype.seek=function(x){this._worker?this._worker.postMessage({cmd:"seek",param:x}):this._controller.seek(x)},y.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},y.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},y.prototype._onInitSegment=function(x,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(_.default.INIT_SEGMENT,x,b)})},y.prototype._onMediaSegment=function(x,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(_.default.MEDIA_SEGMENT,x,b)})},y.prototype._onLoadingComplete=function(){var x=this;Promise.resolve().then(function(){x._emitter.emit(_.default.LOADING_COMPLETE)})},y.prototype._onRecoveredEarlyEof=function(){var x=this;Promise.resolve().then(function(){x._emitter.emit(_.default.RECOVERED_EARLY_EOF)})},y.prototype._onMediaInfo=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.MEDIA_INFO,x)})},y.prototype._onMetaDataArrived=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.METADATA_ARRIVED,x)})},y.prototype._onScriptDataArrived=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.SCRIPTDATA_ARRIVED,x)})},y.prototype._onStatisticsInfo=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.STATISTICS_INFO,x)})},y.prototype._onIOError=function(x,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(_.default.IO_ERROR,x,b)})},y.prototype._onDemuxError=function(x,b){var E=this;Promise.resolve().then(function(){E._emitter.emit(_.default.DEMUX_ERROR,x,b)})},y.prototype._onRecommendSeekpoint=function(x){var b=this;Promise.resolve().then(function(){b._emitter.emit(_.default.RECOMMEND_SEEKPOINT,x)})},y.prototype._onLoggingConfigChanged=function(x){this._worker&&this._worker.postMessage({cmd:"logging_config",param:x})},y.prototype._onWorkerMessage=function(x){var b=x.data,E=b.data;if(b.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(b.msg){case _.default.INIT_SEGMENT:case _.default.MEDIA_SEGMENT:this._emitter.emit(b.msg,E.type,E.data);break;case _.default.LOADING_COMPLETE:case _.default.RECOVERED_EARLY_EOF:this._emitter.emit(b.msg);break;case _.default.MEDIA_INFO:Object.setPrototypeOf(E,v.default.prototype),this._emitter.emit(b.msg,E);break;case _.default.METADATA_ARRIVED:case _.default.SCRIPTDATA_ARRIVED:case _.default.STATISTICS_INFO:this._emitter.emit(b.msg,E);break;case _.default.IO_ERROR:case _.default.DEMUX_ERROR:this._emitter.emit(b.msg,E.type,E.info);break;case _.default.RECOMMEND_SEEKPOINT:this._emitter.emit(b.msg,E);break;case"logcat_callback":p.default.emitter.emit("log",E.type,E.logcat);break}},y}();s.default=g},"./src/core/transmuxing-controller.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./src/utils/logger.js"),h=f("./src/utils/browser.js"),p=f("./src/core/media-info.js"),d=f("./src/demux/flv-demuxer.js"),m=f("./src/remux/mp4-remuxer.js"),_=f("./src/demux/demux-errors.js"),v=f("./src/io/io-controller.js"),g=f("./src/core/transmuxing-events.js"),y=function(){function x(b,E){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=E,b.segments||(b.segments=[{duration:b.duration,filesize:b.filesize,url:b.url}]),typeof b.cors!="boolean"&&(b.cors=!0),typeof b.withCredentials!="boolean"&&(b.withCredentials=!1),this._mediaDataSource=b,this._currentSegmentIndex=0;var w=0;this._mediaDataSource.segments.forEach(function(S){S.timestampBase=w,w+=S.duration,S.cors=b.cors,S.withCredentials=b.withCredentials,E.referrerPolicy&&(S.referrerPolicy=E.referrerPolicy)}),!isNaN(w)&&this._mediaDataSource.duration!==w&&(this._mediaDataSource.duration=w),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return x.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(b,E){this._emitter.addListener(b,E)},x.prototype.off=function(b,E){this._emitter.removeListener(b,E)},x.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},x.prototype._loadSegment=function(b,E){this._currentSegmentIndex=b;var w=this._mediaDataSource.segments[b],S=this._ioctl=new v.default(w,this._config,b);S.onError=this._onIOException.bind(this),S.onSeeked=this._onIOSeeked.bind(this),S.onComplete=this._onIOComplete.bind(this),S.onRedirect=this._onIORedirect.bind(this),S.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),E?this._demuxer.bindDataSource(this._ioctl):S.onDataArrival=this._onInitChunkArrival.bind(this),S.open(E)},x.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},x.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},x.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},x.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},x.prototype.seek=function(b){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var E=this._searchSegmentIndexContains(b);if(E===this._currentSegmentIndex){var w=this._mediaInfo.segments[E];if(w==null)this._pendingSeekTime=b;else{var S=w.getNearestKeyframe(b);this._remuxer.seek(S.milliseconds),this._ioctl.seek(S.fileposition),this._pendingResolveSeekPoint=S.milliseconds}}else{var C=this._mediaInfo.segments[E];if(C==null)this._pendingSeekTime=b,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(E);else{var S=C.getNearestKeyframe(b);this._internalAbort(),this._remuxer.seek(b),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[E].timestampBase,this._loadSegment(E,S.fileposition),this._pendingResolveSeekPoint=S.milliseconds,this._reportSegmentMediaInfo(E)}}this._enableStatisticsReporter()}},x.prototype._searchSegmentIndexContains=function(b){for(var E=this._mediaDataSource.segments,w=E.length-1,S=0;S<E.length;S++)if(b<E[S].timestampBase){w=S-1;break}return w},x.prototype._onInitChunkArrival=function(b,E){var w=this,S=null,C=0;if(E>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,C=this._demuxer.parseChunks(b,E);else if((S=d.default.probe(b)).match){this._demuxer=new d.default(S,this._config),this._remuxer||(this._remuxer=new m.default(this._config));var T=this._mediaDataSource;T.duration!=null&&!isNaN(T.duration)&&(this._demuxer.overridedDuration=T.duration),typeof T.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=T.hasAudio),typeof T.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=T.hasVideo),this._demuxer.timestampBase=T.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),C=this._demuxer.parseChunks(b,E)}else S=null,c.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){w._internalAbort()}),this._emitter.emit(g.default.DEMUX_ERROR,_.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),C=0;return C},x.prototype._onMediaInfo=function(b){var E=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},b),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,p.default.prototype));var w=Object.assign({},b);Object.setPrototypeOf(w,p.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=w,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var S=E._pendingSeekTime;E._pendingSeekTime=null,E.seek(S)})},x.prototype._onMetaDataArrived=function(b){this._emitter.emit(g.default.METADATA_ARRIVED,b)},x.prototype._onScriptDataArrived=function(b){this._emitter.emit(g.default.SCRIPTDATA_ARRIVED,b)},x.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},x.prototype._onIOComplete=function(b){var E=b,w=E+1;w<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(w)):(this._remuxer.flushStashedSamples(),this._emitter.emit(g.default.LOADING_COMPLETE),this._disableStatisticsReporter())},x.prototype._onIORedirect=function(b){var E=this._ioctl.extraData;this._mediaDataSource.segments[E].redirectedURL=b},x.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(g.default.RECOVERED_EARLY_EOF)},x.prototype._onIOException=function(b,E){c.default.e(this.TAG,"IOException: type = "+b+", code = "+E.code+", msg = "+E.msg),this._emitter.emit(g.default.IO_ERROR,b,E),this._disableStatisticsReporter()},x.prototype._onDemuxException=function(b,E){c.default.e(this.TAG,"DemuxException: type = "+b+", info = "+E),this._emitter.emit(g.default.DEMUX_ERROR,b,E)},x.prototype._onRemuxerInitSegmentArrival=function(b,E){this._emitter.emit(g.default.INIT_SEGMENT,b,E)},x.prototype._onRemuxerMediaSegmentArrival=function(b,E){if(this._pendingSeekTime==null&&(this._emitter.emit(g.default.MEDIA_SEGMENT,b,E),this._pendingResolveSeekPoint!=null&&b==="video")){var w=E.info.syncPoints,S=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,h.default.safari&&w.length>0&&w[0].originalDts===S&&(S=w[0].pts),this._emitter.emit(g.default.RECOMMEND_SEEKPOINT,S)}},x.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},x.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},x.prototype._reportSegmentMediaInfo=function(b){var E=this._mediaInfo.segments[b],w=Object.assign({},E);w.duration=this._mediaInfo.duration,w.segmentCount=this._mediaInfo.segmentCount,delete w.segments,delete w.keyframesIndex,this._emitter.emit(g.default.MEDIA_INFO,w)},x.prototype._reportStatisticsInfo=function(){var b={};b.url=this._ioctl.currentURL,b.hasRedirect=this._ioctl.hasRedirect,b.hasRedirect&&(b.redirectedURL=this._ioctl.currentRedirectedURL),b.speed=this._ioctl.currentSpeed,b.loaderType=this._ioctl.loaderType,b.currentSegmentIndex=this._currentSegmentIndex,b.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(g.default.STATISTICS_INFO,b)},x}();s.default=y},"./src/core/transmuxing-events.js":function(o,s,f){f.r(s);var l={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};s.default=l},"./src/core/transmuxing-worker.js":function(o,s,f){f.r(s);var l=f("./src/utils/logging-control.js"),u=f("./src/utils/polyfill.js"),c=f("./src/core/transmuxing-controller.js"),h=f("./src/core/transmuxing-events.js"),p=function(d){var m=null,_=A.bind(this);u.default.install(),d.addEventListener("message",function(R){switch(R.data.cmd){case"init":m=new c.default(R.data.param[0],R.data.param[1]),m.on(h.default.IO_ERROR,C.bind(this)),m.on(h.default.DEMUX_ERROR,T.bind(this)),m.on(h.default.INIT_SEGMENT,v.bind(this)),m.on(h.default.MEDIA_SEGMENT,g.bind(this)),m.on(h.default.LOADING_COMPLETE,y.bind(this)),m.on(h.default.RECOVERED_EARLY_EOF,x.bind(this)),m.on(h.default.MEDIA_INFO,b.bind(this)),m.on(h.default.METADATA_ARRIVED,E.bind(this)),m.on(h.default.SCRIPTDATA_ARRIVED,w.bind(this)),m.on(h.default.STATISTICS_INFO,S.bind(this)),m.on(h.default.RECOMMEND_SEEKPOINT,I.bind(this));break;case"destroy":m&&(m.destroy(),m=null),d.postMessage({msg:"destroyed"});break;case"start":m.start();break;case"stop":m.stop();break;case"seek":m.seek(R.data.param);break;case"pause":m.pause();break;case"resume":m.resume();break;case"logging_config":{var O=R.data.param;l.default.applyConfig(O),O.enableCallback===!0?l.default.addLogListener(_):l.default.removeLogListener(_);break}}});function v(R,O){var F={msg:h.default.INIT_SEGMENT,data:{type:R,data:O}};d.postMessage(F,[O.data])}function g(R,O){var F={msg:h.default.MEDIA_SEGMENT,data:{type:R,data:O}};d.postMessage(F,[O.data])}function y(){var R={msg:h.default.LOADING_COMPLETE};d.postMessage(R)}function x(){var R={msg:h.default.RECOVERED_EARLY_EOF};d.postMessage(R)}function b(R){var O={msg:h.default.MEDIA_INFO,data:R};d.postMessage(O)}function E(R){var O={msg:h.default.METADATA_ARRIVED,data:R};d.postMessage(O)}function w(R){var O={msg:h.default.SCRIPTDATA_ARRIVED,data:R};d.postMessage(O)}function S(R){var O={msg:h.default.STATISTICS_INFO,data:R};d.postMessage(O)}function C(R,O){d.postMessage({msg:h.default.IO_ERROR,data:{type:R,info:O}})}function T(R,O){d.postMessage({msg:h.default.DEMUX_ERROR,data:{type:R,info:O}})}function I(R){d.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:R})}function A(R,O){d.postMessage({msg:"logcat_callback",data:{type:R,logcat:O}})}};s.default=p},"./src/demux/amf-parser.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/utils/utf8-conv.js"),c=f("./src/utils/exception.js"),h=function(){var d=new ArrayBuffer(2);return new DataView(d).setInt16(0,256,!0),new Int16Array(d)[0]===256}(),p=function(){function d(){}return d.parseScriptData=function(m,_,v){var g={};try{var y=d.parseValue(m,_,v),x=d.parseValue(m,_+y.size,v-y.size);g[y.data]=x.data}catch(b){l.default.e("AMF",b.toString())}return g},d.parseObject=function(m,_,v){if(v<3)throw new c.IllegalStateException("Data not enough when parse ScriptDataObject");var g=d.parseString(m,_,v),y=d.parseValue(m,_+g.size,v-g.size),x=y.objectEnd;return{data:{name:g.data,value:y.data},size:g.size+y.size,objectEnd:x}},d.parseVariable=function(m,_,v){return d.parseObject(m,_,v)},d.parseString=function(m,_,v){if(v<2)throw new c.IllegalStateException("Data not enough when parse String");var g=new DataView(m,_,v),y=g.getUint16(0,!h),x;return y>0?x=(0,u.default)(new Uint8Array(m,_+2,y)):x="",{data:x,size:2+y}},d.parseLongString=function(m,_,v){if(v<4)throw new c.IllegalStateException("Data not enough when parse LongString");var g=new DataView(m,_,v),y=g.getUint32(0,!h),x;return y>0?x=(0,u.default)(new Uint8Array(m,_+4,y)):x="",{data:x,size:4+y}},d.parseDate=function(m,_,v){if(v<10)throw new c.IllegalStateException("Data size invalid when parse Date");var g=new DataView(m,_,v),y=g.getFloat64(0,!h),x=g.getInt16(8,!h);return y+=x*60*1e3,{data:new Date(y),size:8+2}},d.parseValue=function(m,_,v){if(v<1)throw new c.IllegalStateException("Data not enough when parse Value");var g=new DataView(m,_,v),y=1,x=g.getUint8(0),b,E=!1;try{switch(x){case 0:b=g.getFloat64(1,!h),y+=8;break;case 1:{var w=g.getUint8(1);b=!!w,y+=1;break}case 2:{var S=d.parseString(m,_+1,v-1);b=S.data,y+=S.size;break}case 3:{b={};var C=0;for((g.getUint32(v-4,!h)&16777215)===9&&(C=3);y<v-4;){var T=d.parseObject(m,_+y,v-y-C);if(T.objectEnd)break;b[T.data.name]=T.data.value,y+=T.size}if(y<=v-3){var I=g.getUint32(y-1,!h)&16777215;I===9&&(y+=3)}break}case 8:{b={},y+=4;var C=0;for((g.getUint32(v-4,!h)&16777215)===9&&(C=3);y<v-8;){var A=d.parseVariable(m,_+y,v-y-C);if(A.objectEnd)break;b[A.data.name]=A.data.value,y+=A.size}if(y<=v-3){var I=g.getUint32(y-1,!h)&16777215;I===9&&(y+=3)}break}case 9:b=void 0,y=1,E=!0;break;case 10:{b=[];var R=g.getUint32(1,!h);y+=4;for(var O=0;O<R;O++){var F=d.parseValue(m,_+y,v-y);b.push(F.data),y+=F.size}break}case 11:{var k=d.parseDate(m,_+1,v-1);b=k.data,y+=k.size;break}case 12:{var $=d.parseString(m,_+1,v-1);b=$.data,y+=$.size;break}default:y=v,l.default.w("AMF","Unsupported AMF value type "+x)}}catch(q){l.default.e("AMF",q.toString())}return{data:b,size:y,objectEnd:E}},d}();s.default=p},"./src/demux/demux-errors.js":function(o,s,f){f.r(s);var l={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};s.default=l},"./src/demux/exp-golomb.js":function(o,s,f){f.r(s);var l=f("./src/utils/exception.js"),u=function(){function c(h){this.TAG="ExpGolomb",this._buffer=h,this._buffer_index=0,this._total_bytes=h.byteLength,this._total_bits=h.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return c.prototype.destroy=function(){this._buffer=null},c.prototype._fillCurrentWord=function(){var h=this._total_bytes-this._buffer_index;if(h<=0)throw new l.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var p=Math.min(4,h),d=new Uint8Array(4);d.set(this._buffer.subarray(this._buffer_index,this._buffer_index+p)),this._current_word=new DataView(d.buffer).getUint32(0,!1),this._buffer_index+=p,this._current_word_bits_left=p*8},c.prototype.readBits=function(h){if(h>32)throw new l.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(h<=this._current_word_bits_left){var p=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,p}var d=this._current_word_bits_left?this._current_word:0;d=d>>>32-this._current_word_bits_left;var m=h-this._current_word_bits_left;this._fillCurrentWord();var _=Math.min(m,this._current_word_bits_left),v=this._current_word>>>32-_;return this._current_word<<=_,this._current_word_bits_left-=_,d=d<<_|v,d},c.prototype.readBool=function(){return this.readBits(1)===1},c.prototype.readByte=function(){return this.readBits(8)},c.prototype._skipLeadingZero=function(){var h;for(h=0;h<this._current_word_bits_left;h++)if(this._current_word&2147483648>>>h)return this._current_word<<=h,this._current_word_bits_left-=h,h;return this._fillCurrentWord(),h+this._skipLeadingZero()},c.prototype.readUEG=function(){var h=this._skipLeadingZero();return this.readBits(h+1)-1},c.prototype.readSEG=function(){var h=this.readUEG();return h&1?h+1>>>1:-1*(h>>>1)},c}();s.default=u},"./src/demux/flv-demuxer.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/demux/amf-parser.js"),c=f("./src/demux/sps-parser.js"),h=f("./src/demux/demux-errors.js"),p=f("./src/core/media-info.js"),d=f("./src/utils/exception.js");function m(v,g){return v[g]<<24|v[g+1]<<16|v[g+2]<<8|v[g+3]}var _=function(){function v(g,y){this.TAG="FLVDemuxer",this._config=y,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=g.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=g.hasAudioTrack,this._hasVideo=g.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new p.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var x=new ArrayBuffer(2);return new DataView(x).setInt16(0,256,!0),new Int16Array(x)[0]===256}()}return v.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},v.probe=function(g){var y=new Uint8Array(g),x={match:!1};if(y[0]!==70||y[1]!==76||y[2]!==86||y[3]!==1)return x;var b=(y[4]&4)>>>2!==0,E=(y[4]&1)!==0,w=m(y,5);return w<9?x:{match:!0,consumed:w,dataOffset:w,hasAudioTrack:b,hasVideoTrack:E}},v.prototype.bindDataSource=function(g){return g.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(v.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(g){this._onTrackMetadata=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(g){this._onMediaInfo=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(g){this._onMetaDataArrived=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(g){this._onScriptDataArrived=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onError",{get:function(){return this._onError},set:function(g){this._onError=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(g){this._onDataAvailable=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(g){this._timestampBase=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedDuration",{get:function(){return this._duration},set:function(g){this._durationOverrided=!0,this._duration=g,this._mediaInfo.duration=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedHasAudio",{set:function(g){this._hasAudioFlagOverrided=!0,this._hasAudio=g,this._mediaInfo.hasAudio=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedHasVideo",{set:function(g){this._hasVideoFlagOverrided=!0,this._hasVideo=g,this._mediaInfo.hasVideo=g},enumerable:!1,configurable:!0}),v.prototype.resetMediaInfo=function(){this._mediaInfo=new p.default},v.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},v.prototype.parseChunks=function(g,y){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new d.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var x=0,b=this._littleEndian;if(y===0)if(g.byteLength>13){var E=v.probe(g);x=E.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,y+x!==this._dataOffset&&l.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var w=new DataView(g,x),S=w.getUint32(0,!b);S!==0&&l.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),x+=4}for(;x<g.byteLength;){this._dispatch=!0;var w=new DataView(g,x);if(x+11+4>g.byteLength)break;var C=w.getUint8(0),T=w.getUint32(0,!b)&16777215;if(x+11+T+4>g.byteLength)break;if(C!==8&&C!==9&&C!==18){l.default.w(this.TAG,"Unsupported tag type "+C+", skipped"),x+=11+T+4;continue}var I=w.getUint8(4),A=w.getUint8(5),R=w.getUint8(6),O=w.getUint8(7),F=R|A<<8|I<<16|O<<24,k=w.getUint32(7,!b)&16777215;k!==0&&l.default.w(this.TAG,"Meet tag which has StreamID != 0!");var $=x+11;switch(C){case 8:this._parseAudioData(g,$,T,F);break;case 9:this._parseVideoData(g,$,T,F,y+x);break;case 18:this._parseScriptData(g,$,T);break}var q=w.getUint32(11+T,!b);q!==11+T&&l.default.w(this.TAG,"Invalid PrevTagSize "+q),x+=11+T+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),x},v.prototype._parseScriptData=function(g,y,x){var b=u.default.parseScriptData(g,y,x);if(b.hasOwnProperty("onMetaData")){if(b.onMetaData==null||typeof b.onMetaData!="object"){l.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&l.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=b;var E=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},E)),typeof E.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=E.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof E.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=E.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof E.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=E.audiodatarate),typeof E.videodatarate=="number"&&(this._mediaInfo.videoDataRate=E.videodatarate),typeof E.width=="number"&&(this._mediaInfo.width=E.width),typeof E.height=="number"&&(this._mediaInfo.height=E.height),typeof E.duration=="number"){if(!this._durationOverrided){var w=Math.floor(E.duration*this._timescale);this._duration=w,this._mediaInfo.duration=w}}else this._mediaInfo.duration=0;if(typeof E.framerate=="number"){var S=Math.floor(E.framerate*1e3);if(S>0){var C=S/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=C,this._referenceFrameRate.fps_num=S,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=C}}if(typeof E.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var T=E.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(T),E.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=E,l.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(b).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},b))},v.prototype._parseKeyframesIndex=function(g){for(var y=[],x=[],b=1;b<g.times.length;b++){var E=this._timestampBase+Math.floor(g.times[b]*1e3);y.push(E),x.push(g.filepositions[b])}return{times:y,filepositions:x}},v.prototype._parseAudioData=function(g,y,x,b){if(x<=1){l.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var E=new DataView(g,y,x),w=E.getUint8(0),S=w>>>4;if(S!==2&&S!==10){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+S);return}var C=0,T=(w&12)>>>2;if(T>=0&&T<=4)C=this._flvSoundRateTable[T];else{this._onError(h.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+T);return}var I=w&1,A=this._audioMetadata,R=this._audioTrack;if(A||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),A=this._audioMetadata={},A.type="audio",A.id=R.id,A.timescale=this._timescale,A.duration=this._duration,A.audioSampleRate=C,A.channelCount=I===0?1:2),S===10){var O=this._parseAACAudioData(g,y+1,x-1);if(O==null)return;if(O.packetType===0){A.config&&l.default.w(this.TAG,"Found another AudioSpecificConfig!");var F=O.data;A.audioSampleRate=F.samplingRate,A.channelCount=F.channelCount,A.codec=F.codec,A.originalCodec=F.originalCodec,A.config=F.config,A.refSampleDuration=1024/A.audioSampleRate*A.timescale,l.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",A);var k=this._mediaInfo;k.audioCodec=A.originalCodec,k.audioSampleRate=A.audioSampleRate,k.audioChannelCount=A.channelCount,k.hasVideo?k.videoCodec!=null&&(k.mimeType='video/x-flv; codecs="'+k.videoCodec+","+k.audioCodec+'"'):k.mimeType='video/x-flv; codecs="'+k.audioCodec+'"',k.isComplete()&&this._onMediaInfo(k)}else if(O.packetType===1){var $=this._timestampBase+b,q={unit:O.data,length:O.data.byteLength,dts:$,pts:$};R.samples.push(q),R.length+=O.data.length}else l.default.e(this.TAG,"Flv: Unsupported AAC data type "+O.packetType)}else if(S===2){if(!A.codec){var F=this._parseMP3AudioData(g,y+1,x-1,!0);if(F==null)return;A.audioSampleRate=F.samplingRate,A.channelCount=F.channelCount,A.codec=F.codec,A.originalCodec=F.originalCodec,A.refSampleDuration=1152/A.audioSampleRate*A.timescale,l.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",A);var k=this._mediaInfo;k.audioCodec=A.codec,k.audioSampleRate=A.audioSampleRate,k.audioChannelCount=A.channelCount,k.audioDataRate=F.bitRate,k.hasVideo?k.videoCodec!=null&&(k.mimeType='video/x-flv; codecs="'+k.videoCodec+","+k.audioCodec+'"'):k.mimeType='video/x-flv; codecs="'+k.audioCodec+'"',k.isComplete()&&this._onMediaInfo(k)}var K=this._parseMP3AudioData(g,y+1,x-1,!1);if(K==null)return;var $=this._timestampBase+b,G={unit:K,length:K.byteLength,dts:$,pts:$};R.samples.push(G),R.length+=K.length}}},v.prototype._parseAACAudioData=function(g,y,x){if(x<=1){l.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var b={},E=new Uint8Array(g,y,x);return b.packetType=E[0],E[0]===0?b.data=this._parseAACAudioSpecificConfig(g,y+1,x-1):b.data=E.subarray(1),b},v.prototype._parseAACAudioSpecificConfig=function(g,y,x){var b=new Uint8Array(g,y,x),E=null,w=0,S=0,C=0,T=null;if(w=S=b[0]>>>3,C=(b[0]&7)<<1|b[1]>>>7,C<0||C>=this._mpegSamplingRates.length){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var I=this._mpegSamplingRates[C],A=(b[1]&120)>>>3;if(A<0||A>=8){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}w===5&&(T=(b[1]&7)<<1|b[2]>>>7,(b[2]&124)>>>2);var R=self.navigator.userAgent.toLowerCase();return R.indexOf("firefox")!==-1?C>=6?(w=5,E=new Array(4),T=C-3):(w=2,E=new Array(2),T=C):R.indexOf("android")!==-1?(w=2,E=new Array(2),T=C):(w=5,T=C,E=new Array(4),C>=6?T=C-3:A===1&&(w=2,E=new Array(2),T=C)),E[0]=w<<3,E[0]|=(C&15)>>>1,E[1]=(C&15)<<7,E[1]|=(A&15)<<3,w===5&&(E[1]|=(T&15)>>>1,E[2]=(T&1)<<7,E[2]|=8,E[3]=0),{config:E,samplingRate:I,channelCount:A,codec:"mp4a.40."+w,originalCodec:"mp4a.40."+S}},v.prototype._parseMP3AudioData=function(g,y,x,b){if(x<4){l.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var E=new Uint8Array(g,y,x),w=null;if(b){if(E[0]!==255)return;var S=E[1]>>>3&3,C=(E[1]&6)>>1,T=(E[2]&240)>>>4,I=(E[2]&12)>>>2,A=E[3]>>>6&3,R=A!==3?2:1,O=0,F=0,k="mp3";switch(S){case 0:O=this._mpegAudioV25SampleRateTable[I];break;case 2:O=this._mpegAudioV20SampleRateTable[I];break;case 3:O=this._mpegAudioV10SampleRateTable[I];break}switch(C){case 1:T<this._mpegAudioL3BitRateTable.length&&(F=this._mpegAudioL3BitRateTable[T]);break;case 2:T<this._mpegAudioL2BitRateTable.length&&(F=this._mpegAudioL2BitRateTable[T]);break;case 3:T<this._mpegAudioL1BitRateTable.length&&(F=this._mpegAudioL1BitRateTable[T]);break}w={bitRate:F,samplingRate:O,channelCount:R,codec:k,originalCodec:k}}else w=E;return w},v.prototype._parseVideoData=function(g,y,x,b,E){if(x<=1){l.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var w=new Uint8Array(g,y,x)[0],S=(w&240)>>>4,C=w&15;if(C!==7){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+C);return}this._parseAVCVideoPacket(g,y+1,x-1,b,E,S)}},v.prototype._parseAVCVideoPacket=function(g,y,x,b,E,w){if(x<4){l.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var S=this._littleEndian,C=new DataView(g,y,x),T=C.getUint8(0),I=C.getUint32(0,!S)&16777215,A=I<<8>>8;if(T===0)this._parseAVCDecoderConfigurationRecord(g,y+4,x-4);else if(T===1)this._parseAVCVideoData(g,y+4,x-4,b,E,w,A);else if(T!==2){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid video packet type "+T);return}},v.prototype._parseAVCDecoderConfigurationRecord=function(g,y,x){if(x<7){l.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var b=this._videoMetadata,E=this._videoTrack,w=this._littleEndian,S=new DataView(g,y,x);b?typeof b.avcc<"u"&&l.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),b=this._videoMetadata={},b.type="video",b.id=E.id,b.timescale=this._timescale,b.duration=this._duration);var C=S.getUint8(0),T=S.getUint8(1);if(S.getUint8(2),S.getUint8(3),C!==1||T===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(S.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(h.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var I=S.getUint8(5)&31;if(I===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else I>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+I);for(var A=6,R=0;R<I;R++){var O=S.getUint16(A,!w);if(A+=2,O!==0){var F=new Uint8Array(g,y+A,O);A+=O;var k=c.default.parseSPS(F);if(R===0){b.codecWidth=k.codec_size.width,b.codecHeight=k.codec_size.height,b.presentWidth=k.present_size.width,b.presentHeight=k.present_size.height,b.profile=k.profile_string,b.level=k.level_string,b.bitDepth=k.bit_depth,b.chromaFormat=k.chroma_format,b.sarRatio=k.sar_ratio,b.frameRate=k.frame_rate,(k.frame_rate.fixed===!1||k.frame_rate.fps_num===0||k.frame_rate.fps_den===0)&&(b.frameRate=this._referenceFrameRate);var $=b.frameRate.fps_den,q=b.frameRate.fps_num;b.refSampleDuration=b.timescale*($/q);for(var K=F.subarray(1,4),G="avc1.",N=0;N<3;N++){var j=K[N].toString(16);j.length<2&&(j="0"+j),G+=j}b.codec=G;var M=this._mediaInfo;M.width=b.codecWidth,M.height=b.codecHeight,M.fps=b.frameRate.fps,M.profile=b.profile,M.level=b.level,M.refFrames=k.ref_frames,M.chromaFormat=k.chroma_format_string,M.sarNum=b.sarRatio.width,M.sarDen=b.sarRatio.height,M.videoCodec=G,M.hasAudio?M.audioCodec!=null&&(M.mimeType='video/x-flv; codecs="'+M.videoCodec+","+M.audioCodec+'"'):M.mimeType='video/x-flv; codecs="'+M.videoCodec+'"',M.isComplete()&&this._onMediaInfo(M)}}}var D=S.getUint8(A);if(D===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else D>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+D);A++;for(var R=0;R<D;R++){var O=S.getUint16(A,!w);A+=2,O!==0&&(A+=O)}b.avcc=new Uint8Array(x),b.avcc.set(new Uint8Array(g,y,x),0),l.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",b)},v.prototype._parseAVCVideoData=function(g,y,x,b,E,w,S){for(var C=this._littleEndian,T=new DataView(g,y,x),I=[],A=0,R=0,O=this._naluLengthSize,F=this._timestampBase+b,k=w===1;R<x;){if(R+4>=x){l.default.w(this.TAG,"Malformed Nalu near timestamp "+F+", offset = "+R+", dataSize = "+x);break}var $=T.getUint32(R,!C);if(O===3&&($>>>=8),$>x-O){l.default.w(this.TAG,"Malformed Nalus near timestamp "+F+", NaluSize > DataSize!");return}var q=T.getUint8(R+O)&31;q===5&&(k=!0);var K=new Uint8Array(g,y+R,O+$),G={type:q,data:K};I.push(G),A+=K.byteLength,R+=O+$}if(I.length){var N=this._videoTrack,j={units:I,length:A,isKeyframe:k,dts:F,cts:S,pts:F+S};k&&(j.fileposition=E),N.samples.push(j),N.length+=A}},v}();s.default=_},"./src/demux/sps-parser.js":function(o,s,f){f.r(s);var l=f("./src/demux/exp-golomb.js"),u=function(){function c(){}return c._ebsp2rbsp=function(h){for(var p=h,d=p.byteLength,m=new Uint8Array(d),_=0,v=0;v<d;v++)v>=2&&p[v]===3&&p[v-1]===0&&p[v-2]===0||(m[_]=p[v],_++);return new Uint8Array(m.buffer,0,_)},c.parseSPS=function(h){var p=c._ebsp2rbsp(h),d=new l.default(p);d.readByte();var m=d.readByte();d.readByte();var _=d.readByte();d.readUEG();var v=c.getProfileString(m),g=c.getLevelString(_),y=1,x=420,b=[0,420,422,444],E=8;if((m===100||m===110||m===122||m===244||m===44||m===83||m===86||m===118||m===128||m===138||m===144)&&(y=d.readUEG(),y===3&&d.readBits(1),y<=3&&(x=b[y]),E=d.readUEG()+8,d.readUEG(),d.readBits(1),d.readBool()))for(var w=y!==3?8:12,S=0;S<w;S++)d.readBool()&&(S<6?c._skipScalingList(d,16):c._skipScalingList(d,64));d.readUEG();var C=d.readUEG();if(C===0)d.readUEG();else if(C===1){d.readBits(1),d.readSEG(),d.readSEG();for(var T=d.readUEG(),S=0;S<T;S++)d.readSEG()}var I=d.readUEG();d.readBits(1);var A=d.readUEG(),R=d.readUEG(),O=d.readBits(1);O===0&&d.readBits(1),d.readBits(1);var F=0,k=0,$=0,q=0,K=d.readBool();K&&(F=d.readUEG(),k=d.readUEG(),$=d.readUEG(),q=d.readUEG());var G=1,N=1,j=0,M=!0,D=0,J=0,Q=d.readBool();if(Q){if(d.readBool()){var se=d.readByte(),re=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],ue=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];se>0&&se<16?(G=re[se-1],N=ue[se-1]):se===255&&(G=d.readByte()<<8|d.readByte(),N=d.readByte()<<8|d.readByte())}if(d.readBool()&&d.readBool(),d.readBool()&&(d.readBits(4),d.readBool()&&d.readBits(24)),d.readBool()&&(d.readUEG(),d.readUEG()),d.readBool()){var Ee=d.readBits(32),xe=d.readBits(32);M=d.readBool(),D=xe,J=Ee*2,j=D/J}}var de=1;(G!==1||N!==1)&&(de=G/N);var pe=0,Ae=0;if(y===0)pe=1,Ae=2-O;else{var Fe=y===3?1:2,Te=y===1?2:1;pe=Fe,Ae=Te*(2-O)}var ke=(A+1)*16,Ne=(2-O)*((R+1)*16);ke-=(F+k)*pe,Ne-=($+q)*Ae;var Ze=Math.ceil(ke*de);return d.destroy(),d=null,{profile_string:v,level_string:g,bit_depth:E,ref_frames:I,chroma_format:x,chroma_format_string:c.getChromaFormatString(x),frame_rate:{fixed:M,fps:j,fps_den:J,fps_num:D},sar_ratio:{width:G,height:N},codec_size:{width:ke,height:Ne},present_size:{width:Ze,height:Ne}}},c._skipScalingList=function(h,p){for(var d=8,m=8,_=0,v=0;v<p;v++)m!==0&&(_=h.readSEG(),m=(d+_+256)%256),d=m===0?d:m},c.getProfileString=function(h){switch(h){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},c.getLevelString=function(h){return(h/10).toFixed(1)},c.getChromaFormatString=function(h){switch(h){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},c}();s.default=u},"./src/flv.js":function(o,s,f){f.r(s);var l=f("./src/utils/polyfill.js"),u=f("./src/core/features.js"),c=f("./src/io/loader.js"),h=f("./src/player/flv-player.js"),p=f("./src/player/native-player.js"),d=f("./src/player/player-events.js"),m=f("./src/player/player-errors.js"),_=f("./src/utils/logging-control.js"),v=f("./src/utils/exception.js");l.default.install();function g(E,w){var S=E;if(S==null||typeof S!="object")throw new v.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!S.hasOwnProperty("type"))throw new v.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(S.type){case"flv":return new h.default(S,w);default:return new p.default(S,w)}}function y(){return u.default.supportMSEH264Playback()}function x(){return u.default.getFeatureList()}var b={};b.createPlayer=g,b.isSupported=y,b.getFeatureList=x,b.BaseLoader=c.BaseLoader,b.LoaderStatus=c.LoaderStatus,b.LoaderErrors=c.LoaderErrors,b.Events=d.default,b.ErrorTypes=m.ErrorTypes,b.ErrorDetails=m.ErrorDetails,b.FlvPlayer=h.default,b.NativePlayer=p.default,b.LoggingControl=_.default,Object.defineProperty(b,"version",{enumerable:!0,get:function(){return"1.6.2"}}),s.default=b},"./src/index.js":function(o,s,f){o.exports=f("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,s,f){f.r(s);var l=f("./src/utils/browser.js"),u=f("./src/io/loader.js"),c=f("./src/utils/exception.js"),h=function(){var d=function(m,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},d(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");d(m,_);function v(){this.constructor=m}m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}}(),p=function(d){h(m,d);function m(_,v){var g=d.call(this,"fetch-stream-loader")||this;return g.TAG="FetchStreamLoader",g._seekHandler=_,g._config=v,g._needStash=!0,g._requestAbort=!1,g._contentLength=null,g._receivedLength=0,g}return m.isSupported=function(){try{var _=l.default.msedge&&l.default.version.minor>=15048,v=l.default.msedge?_:!0;return self.fetch&&self.ReadableStream&&v}catch{return!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),d.prototype.destroy.call(this)},m.prototype.open=function(_,v){var g=this;this._dataSource=_,this._range=v;var y=_.url;this._config.reuseRedirectedURL&&_.redirectedURL!=null&&(y=_.redirectedURL);var x=this._seekHandler.getConfig(y,v),b=new self.Headers;if(typeof x.headers=="object"){var E=x.headers;for(var w in E)E.hasOwnProperty(w)&&b.append(w,E[w])}var S={method:"GET",headers:b,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var w in this._config.headers)b.append(w,this._config.headers[w]);_.cors===!1&&(S.mode="same-origin"),_.withCredentials&&(S.credentials="include"),_.referrerPolicy&&(S.referrerPolicy=_.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,S.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(x.url,S).then(function(C){if(g._requestAbort){g._status=u.LoaderStatus.kIdle,C.body.cancel();return}if(C.ok&&C.status>=200&&C.status<=299){if(C.url!==x.url&&g._onURLRedirect){var T=g._seekHandler.removeURLParameters(C.url);g._onURLRedirect(T)}var I=C.headers.get("Content-Length");return I!=null&&(g._contentLength=parseInt(I),g._contentLength!==0&&g._onContentLengthKnown&&g._onContentLengthKnown(g._contentLength)),g._pump.call(g,C.body.getReader())}else if(g._status=u.LoaderStatus.kError,g._onError)g._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:C.status,msg:C.statusText});else throw new c.RuntimeException("FetchStreamLoader: Http code invalid, "+C.status+" "+C.statusText)}).catch(function(C){if(!(g._abortController&&g._abortController.signal.aborted))if(g._status=u.LoaderStatus.kError,g._onError)g._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:C.message});else throw C})},m.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!l.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},m.prototype._pump=function(_){var v=this;return _.read().then(function(g){if(g.done)if(v._contentLength!==null&&v._receivedLength<v._contentLength){v._status=u.LoaderStatus.kError;var y=u.LoaderErrors.EARLY_EOF,x={code:-1,msg:"Fetch stream meet Early-EOF"};if(v._onError)v._onError(y,x);else throw new c.RuntimeException(x.msg)}else v._status=u.LoaderStatus.kComplete,v._onComplete&&v._onComplete(v._range.from,v._range.from+v._receivedLength-1);else{if(v._abortController&&v._abortController.signal.aborted){v._status=u.LoaderStatus.kComplete;return}else if(v._requestAbort===!0)return v._status=u.LoaderStatus.kComplete,_.cancel();v._status=u.LoaderStatus.kBuffering;var b=g.value.buffer,E=v._range.from+v._receivedLength;v._receivedLength+=b.byteLength,v._onDataArrival&&v._onDataArrival(b,E,v._receivedLength),v._pump(_)}}).catch(function(g){if(v._abortController&&v._abortController.signal.aborted){v._status=u.LoaderStatus.kComplete;return}if(!(g.code===11&&l.default.msedge)){v._status=u.LoaderStatus.kError;var y=0,x=null;if((g.code===19||g.message==="network error")&&(v._contentLength===null||v._contentLength!==null&&v._receivedLength<v._contentLength)?(y=u.LoaderErrors.EARLY_EOF,x={code:g.code,msg:"Fetch stream meet Early-EOF"}):(y=u.LoaderErrors.EXCEPTION,x={code:g.code,msg:g.message}),v._onError)v._onError(y,x);else throw new c.RuntimeException(x.msg)}})},m}(u.BaseLoader);s.default=p},"./src/io/io-controller.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/io/speed-sampler.js"),c=f("./src/io/loader.js"),h=f("./src/io/fetch-stream-loader.js"),p=f("./src/io/xhr-moz-chunked-loader.js"),d=f("./src/io/xhr-range-loader.js"),m=f("./src/io/websocket-loader.js"),_=f("./src/io/range-seek-handler.js"),v=f("./src/io/param-seek-handler.js"),g=f("./src/utils/exception.js"),y=function(){function x(b,E,w){this.TAG="IOController",this._config=E,this._extraData=w,this._stashInitialSize=1024*384,E.stashInitialSize!=null&&E.stashInitialSize>0&&(this._stashInitialSize=E.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,E.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=b,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(b.url),this._refTotalLength=b.filesize?b.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return x.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},x.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},x.prototype.isPaused=function(){return this._paused},Object.defineProperty(x.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"extraData",{get:function(){return this._extraData},set:function(b){this._extraData=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(b){this._onDataArrival=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(b){this._onSeeked=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onError",{get:function(){return this._onError},set:function(b){this._onError=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onComplete",{get:function(){return this._onComplete},set:function(b){this._onComplete=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(b){this._onRedirect=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(b){this._onRecoveredEarlyEof=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentSpeed",{get:function(){return this._loaderClass===d.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),x.prototype._selectSeekHandler=function(){var b=this._config;if(b.seekType==="range")this._seekHandler=new _.default(this._config.rangeLoadZeroStart);else if(b.seekType==="param"){var E=b.seekParamStart||"bstart",w=b.seekParamEnd||"bend";this._seekHandler=new v.default(E,w)}else if(b.seekType==="custom"){if(typeof b.customSeekHandler!="function")throw new g.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new b.customSeekHandler}else throw new g.InvalidArgumentException("Invalid seekType in config: "+b.seekType)},x.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=m.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(p.default.isSupported())this._loaderClass=p.default;else if(d.default.isSupported())this._loaderClass=d.default;else throw new g.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},x.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},x.prototype.open=function(b){this._currentRange={from:0,to:-1},b&&(this._currentRange.from=b),this._speedSampler.reset(),b||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},x.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},x.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},x.prototype.resume=function(){if(this._paused){this._paused=!1;var b=this._resumeFrom;this._resumeFrom=0,this._internalSeek(b,!0)}},x.prototype.seek=function(b){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(b,!0)},x.prototype._internalSeek=function(b,E){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(E),this._loader.destroy(),this._loader=null;var w={from:b,to:-1};this._currentRange={from:w.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,w),this._onSeeked&&this._onSeeked()},x.prototype.updateUrl=function(b){if(!b||typeof b!="string"||b.length===0)throw new g.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=b},x.prototype._expandBuffer=function(b){for(var E=this._stashSize;E+1024*1024*1<b;)E*=2;if(E+=1024*1024*1,E!==this._bufferSize){var w=new ArrayBuffer(E);if(this._stashUsed>0){var S=new Uint8Array(this._stashBuffer,0,this._stashUsed),C=new Uint8Array(w,0,E);C.set(S,0)}this._stashBuffer=w,this._bufferSize=E}},x.prototype._normalizeSpeed=function(b){var E=this._speedNormalizeList,w=E.length-1,S=0,C=0,T=w;if(b<E[0])return E[0];for(;C<=T;){if(S=C+Math.floor((T-C)/2),S===w||b>=E[S]&&b<E[S+1])return E[S];E[S]<b?C=S+1:T=S-1}},x.prototype._adjustStashSize=function(b){var E=0;this._config.isLive||b<512?E=b:b>=512&&b<=1024?E=Math.floor(b*1.5):E=b*2,E>8192&&(E=8192);var w=E*1024+1024*1024*1;this._bufferSize<w&&this._expandBuffer(w),this._stashSize=E*1024},x.prototype._dispatchChunks=function(b,E){return this._currentRange.to=E+b.byteLength-1,this._onDataArrival(b,E)},x.prototype._onURLRedirect=function(b){this._redirectedURL=b,this._onRedirect&&this._onRedirect(b)},x.prototype._onContentLengthKnown=function(b){b&&this._fullRequestFlag&&(this._totalLength=b,this._fullRequestFlag=!1)},x.prototype._onLoaderChunkArrival=function(b,E,w){if(!this._onDataArrival)throw new g.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(b.byteLength);var S=this._speedSampler.lastSecondKBps;if(S!==0){var C=this._normalizeSpeed(S);this._speedNormalized!==C&&(this._speedNormalized=C,this._adjustStashSize(C))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=E),this._stashUsed+b.byteLength<=this._stashSize){var A=new Uint8Array(this._stashBuffer,0,this._stashSize);A.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var A=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var O=this._stashBuffer.slice(0,this._stashUsed),T=this._dispatchChunks(O,this._stashByteStart);if(T<O.byteLength){if(T>0){var R=new Uint8Array(O,T);A.set(R,0),this._stashUsed=R.byteLength,this._stashByteStart+=T}}else this._stashUsed=0,this._stashByteStart+=T;this._stashUsed+b.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+b.byteLength),A=new Uint8Array(this._stashBuffer,0,this._bufferSize)),A.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength}else{var T=this._dispatchChunks(b,E);if(T<b.byteLength){var I=b.byteLength-T;I>this._bufferSize&&(this._expandBuffer(I),A=new Uint8Array(this._stashBuffer,0,this._bufferSize)),A.set(new Uint8Array(b,T),0),this._stashUsed+=I,this._stashByteStart=E+T}}}else if(this._stashUsed===0){var T=this._dispatchChunks(b,E);if(T<b.byteLength){var I=b.byteLength-T;I>this._bufferSize&&this._expandBuffer(I);var A=new Uint8Array(this._stashBuffer,0,this._bufferSize);A.set(new Uint8Array(b,T),0),this._stashUsed+=I,this._stashByteStart=E+T}}else{this._stashUsed+b.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+b.byteLength);var A=new Uint8Array(this._stashBuffer,0,this._bufferSize);A.set(new Uint8Array(b),this._stashUsed),this._stashUsed+=b.byteLength;var T=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(T<this._stashUsed&&T>0){var R=new Uint8Array(this._stashBuffer,T);A.set(R,0)}this._stashUsed-=T,this._stashByteStart+=T}}},x.prototype._flushStashBuffer=function(b){if(this._stashUsed>0){var E=this._stashBuffer.slice(0,this._stashUsed),w=this._dispatchChunks(E,this._stashByteStart),S=E.byteLength-w;if(w<E.byteLength)if(b)l.default.w(this.TAG,S+" bytes unconsumed data remain when flush buffer, dropped");else{if(w>0){var C=new Uint8Array(this._stashBuffer,0,this._bufferSize),T=new Uint8Array(E,w);C.set(T,0),this._stashUsed=T.byteLength,this._stashByteStart+=w}return 0}return this._stashUsed=0,this._stashByteStart=0,S}return 0},x.prototype._onLoaderComplete=function(b,E){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},x.prototype._onLoaderError=function(b,E){switch(l.default.e(this.TAG,"Loader error, code = "+E.code+", msg = "+E.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,b=c.LoaderErrors.UNRECOVERABLE_EARLY_EOF),b){case c.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var w=this._currentRange.to+1;w<this._totalLength&&(l.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(w,!1));return}b=c.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case c.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case c.LoaderErrors.CONNECTING_TIMEOUT:case c.LoaderErrors.HTTP_STATUS_CODE_INVALID:case c.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(b,E);else throw new g.RuntimeException("IOException: "+E.msg)},x}();s.default=y},"./src/io/loader.js":function(o,s,f){f.r(s),f.d(s,{LoaderStatus:function(){return u},LoaderErrors:function(){return c},BaseLoader:function(){return h}});var l=f("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},c={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},h=function(){function p(d){this._type=d||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return p.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},p.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(d){this._onContentLengthKnown=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(d){this._onURLRedirect=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(d){this._onDataArrival=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(d){this._onError=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onComplete",{get:function(){return this._onComplete},set:function(d){this._onComplete=d},enumerable:!1,configurable:!0}),p.prototype.open=function(d,m){throw new l.NotImplementedException("Unimplemented abstract function!")},p.prototype.abort=function(){throw new l.NotImplementedException("Unimplemented abstract function!")},p}()},"./src/io/param-seek-handler.js":function(o,s,f){f.r(s);var l=function(){function u(c,h){this._startName=c,this._endName=h}return u.prototype.getConfig=function(c,h){var p=c;if(h.from!==0||h.to!==-1){var d=!0;p.indexOf("?")===-1&&(p+="?",d=!1),d&&(p+="&"),p+=this._startName+"="+h.from.toString(),h.to!==-1&&(p+="&"+this._endName+"="+h.to.toString())}return{url:p,headers:{}}},u.prototype.removeURLParameters=function(c){var h=c.split("?")[0],p=void 0,d=c.indexOf("?");d!==-1&&(p=c.substring(d+1));var m="";if(p!=null&&p.length>0)for(var _=p.split("&"),v=0;v<_.length;v++){var g=_[v].split("="),y=v>0;g[0]!==this._startName&&g[0]!==this._endName&&(y&&(m+="&"),m+=_[v])}return m.length===0?h:h+"?"+m},u}();s.default=l},"./src/io/range-seek-handler.js":function(o,s,f){f.r(s);var l=function(){function u(c){this._zeroStart=c||!1}return u.prototype.getConfig=function(c,h){var p={};if(h.from!==0||h.to!==-1){var d=void 0;h.to!==-1?d="bytes="+h.from.toString()+"-"+h.to.toString():d="bytes="+h.from.toString()+"-",p.Range=d}else this._zeroStart&&(p.Range="bytes=0-");return{url:c,headers:p}},u.prototype.removeURLParameters=function(c){return c},u}();s.default=l},"./src/io/speed-sampler.js":function(o,s,f){f.r(s);var l=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(c){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=c,this._totalBytes+=c):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=c,this._totalBytes+=c):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=c,this._totalBytes+=c,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var c=(this._now()-this._lastCheckpoint)/1e3;return c==0&&(c=1),this._intervalBytes/c/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var c=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/c/1024},enumerable:!1,configurable:!0}),u}();s.default=l},"./src/io/websocket-loader.js":function(o,s,f){f.r(s);var l=f("./src/io/loader.js"),u=f("./src/utils/exception.js"),c=function(){var p=function(d,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,v){_.__proto__=v}||function(_,v){for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(_[g]=v[g])},p(d,m)};return function(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(d,m);function _(){this.constructor=d}d.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),h=function(p){c(d,p);function d(){var m=p.call(this,"websocket-loader")||this;return m.TAG="WebSocketLoader",m._needStash=!0,m._ws=null,m._requestAbort=!1,m._receivedLength=0,m}return d.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},d.prototype.destroy=function(){this._ws&&this.abort(),p.prototype.destroy.call(this)},d.prototype.open=function(m){try{var _=this._ws=new self.WebSocket(m.url);_.binaryType="arraybuffer",_.onopen=this._onWebSocketOpen.bind(this),_.onclose=this._onWebSocketClose.bind(this),_.onmessage=this._onWebSocketMessage.bind(this),_.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(g){this._status=l.LoaderStatus.kError;var v={code:g.code,msg:g.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,v);else throw new u.RuntimeException(v.msg)}},d.prototype.abort=function(){var m=this._ws;m&&(m.readyState===0||m.readyState===1)&&(this._requestAbort=!0,m.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},d.prototype._onWebSocketOpen=function(m){this._status=l.LoaderStatus.kBuffering},d.prototype._onWebSocketClose=function(m){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},d.prototype._onWebSocketMessage=function(m){var _=this;if(m.data instanceof ArrayBuffer)this._dispatchArrayBuffer(m.data);else if(m.data instanceof Blob){var v=new FileReader;v.onload=function(){_._dispatchArrayBuffer(v.result)},v.readAsArrayBuffer(m.data)}else{this._status=l.LoaderStatus.kError;var g={code:-1,msg:"Unsupported WebSocket message type: "+m.data.constructor.name};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,g);else throw new u.RuntimeException(g.msg)}},d.prototype._dispatchArrayBuffer=function(m){var _=m,v=this._receivedLength;this._receivedLength+=_.byteLength,this._onDataArrival&&this._onDataArrival(_,v,this._receivedLength)},d.prototype._onWebSocketError=function(m){this._status=l.LoaderStatus.kError;var _={code:m.code,msg:m.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)},d}(l.BaseLoader);s.default=h},"./src/io/xhr-moz-chunked-loader.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/io/loader.js"),c=f("./src/utils/exception.js"),h=function(){var d=function(m,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},d(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");d(m,_);function v(){this.constructor=m}m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}}(),p=function(d){h(m,d);function m(_,v){var g=d.call(this,"xhr-moz-chunked-loader")||this;return g.TAG="MozChunkedLoader",g._seekHandler=_,g._config=v,g._needStash=!0,g._xhr=null,g._requestAbort=!1,g._contentLength=null,g._receivedLength=0,g}return m.isSupported=function(){try{var _=new XMLHttpRequest;return _.open("GET","https://example.com",!0),_.responseType="moz-chunked-arraybuffer",_.responseType==="moz-chunked-arraybuffer"}catch(v){return l.default.w("MozChunkedLoader",v.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),d.prototype.destroy.call(this)},m.prototype.open=function(_,v){this._dataSource=_,this._range=v;var g=_.url;this._config.reuseRedirectedURL&&_.redirectedURL!=null&&(g=_.redirectedURL);var y=this._seekHandler.getConfig(g,v);this._requestURL=y.url;var x=this._xhr=new XMLHttpRequest;if(x.open("GET",y.url,!0),x.responseType="moz-chunked-arraybuffer",x.onreadystatechange=this._onReadyStateChange.bind(this),x.onprogress=this._onProgress.bind(this),x.onloadend=this._onLoadEnd.bind(this),x.onerror=this._onXhrError.bind(this),_.withCredentials&&(x.withCredentials=!0),typeof y.headers=="object"){var b=y.headers;for(var E in b)b.hasOwnProperty(E)&&x.setRequestHeader(E,b[E])}if(typeof this._config.headers=="object"){var b=this._config.headers;for(var E in b)b.hasOwnProperty(E)&&x.setRequestHeader(E,b[E])}this._status=u.LoaderStatus.kConnecting,x.send()},m.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},m.prototype._onReadyStateChange=function(_){var v=_.target;if(v.readyState===2){if(v.responseURL!=null&&v.responseURL!==this._requestURL&&this._onURLRedirect){var g=this._seekHandler.removeURLParameters(v.responseURL);this._onURLRedirect(g)}if(v.status!==0&&(v.status<200||v.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:v.status,msg:v.statusText});else throw new c.RuntimeException("MozChunkedLoader: Http code invalid, "+v.status+" "+v.statusText);else this._status=u.LoaderStatus.kBuffering}},m.prototype._onProgress=function(_){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&_.total!==null&&_.total!==0&&(this._contentLength=_.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var v=_.target.response,g=this._range.from+this._receivedLength;this._receivedLength+=v.byteLength,this._onDataArrival&&this._onDataArrival(v,g,this._receivedLength)}},m.prototype._onLoadEnd=function(_){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},m.prototype._onXhrError=function(_){this._status=u.LoaderStatus.kError;var v=0,g=null;if(this._contentLength&&_.loaded<this._contentLength?(v=u.LoaderErrors.EARLY_EOF,g={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(v=u.LoaderErrors.EXCEPTION,g={code:-1,msg:_.constructor.name+" "+_.type}),this._onError)this._onError(v,g);else throw new c.RuntimeException(g.msg)},m}(u.BaseLoader);s.default=p},"./src/io/xhr-range-loader.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/io/speed-sampler.js"),c=f("./src/io/loader.js"),h=f("./src/utils/exception.js"),p=function(){var m=function(_,v){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(g[x]=y[x])},m(_,v)};return function(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");m(_,v);function g(){this.constructor=_}_.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}(),d=function(m){p(_,m);function _(v,g){var y=m.call(this,"xhr-range-loader")||this;return y.TAG="RangeLoader",y._seekHandler=v,y._config=g,y._needStash=!1,y._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],y._currentChunkSizeKB=384,y._currentSpeedNormalized=0,y._zeroSpeedChunkCount=0,y._xhr=null,y._speedSampler=new u.default,y._requestAbort=!1,y._waitForTotalLength=!1,y._totalLengthReceived=!1,y._currentRequestURL=null,y._currentRedirectedURL=null,y._currentRequestRange=null,y._totalLength=null,y._contentLength=null,y._receivedLength=0,y._lastTimeLoaded=0,y}return _.isSupported=function(){try{var v=new XMLHttpRequest;return v.open("GET","https://example.com",!0),v.responseType="arraybuffer",v.responseType==="arraybuffer"}catch(g){return l.default.w("RangeLoader",g.message),!1}},_.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),m.prototype.destroy.call(this)},Object.defineProperty(_.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),_.prototype.open=function(v,g){this._dataSource=v,this._range=g,this._status=c.LoaderStatus.kConnecting;var y=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(y=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!y?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},_.prototype._openSubRange=function(){var v=this._currentChunkSizeKB*1024,g=this._range.from+this._receivedLength,y=g+v;this._contentLength!=null&&y-this._range.from>=this._contentLength&&(y=this._range.from+this._contentLength-1),this._currentRequestRange={from:g,to:y},this._internalOpen(this._dataSource,this._currentRequestRange)},_.prototype._internalOpen=function(v,g){this._lastTimeLoaded=0;var y=v.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?y=this._currentRedirectedURL:v.redirectedURL!=null&&(y=v.redirectedURL));var x=this._seekHandler.getConfig(y,g);this._currentRequestURL=x.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",x.url,!0),b.responseType="arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onload=this._onLoad.bind(this),b.onerror=this._onXhrError.bind(this),v.withCredentials&&(b.withCredentials=!0),typeof x.headers=="object"){var E=x.headers;for(var w in E)E.hasOwnProperty(w)&&b.setRequestHeader(w,E[w])}if(typeof this._config.headers=="object"){var E=this._config.headers;for(var w in E)E.hasOwnProperty(w)&&b.setRequestHeader(w,E[w])}b.send()},_.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=c.LoaderStatus.kComplete},_.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},_.prototype._onReadyStateChange=function(v){var g=v.target;if(g.readyState===2){if(g.responseURL!=null){var y=this._seekHandler.removeURLParameters(g.responseURL);g.responseURL!==this._currentRequestURL&&y!==this._currentRedirectedURL&&(this._currentRedirectedURL=y,this._onURLRedirect&&this._onURLRedirect(y))}if(g.status>=200&&g.status<=299){if(this._waitForTotalLength)return;this._status=c.LoaderStatus.kBuffering}else if(this._status=c.LoaderStatus.kError,this._onError)this._onError(c.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:g.status,msg:g.statusText});else throw new h.RuntimeException("RangeLoader: Http code invalid, "+g.status+" "+g.statusText)}},_.prototype._onProgress=function(v){if(this._status!==c.LoaderStatus.kError){if(this._contentLength===null){var g=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,g=!0;var y=v.total;this._internalAbort(),y!=null&y!==0&&(this._totalLength=y)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,g){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var x=v.loaded-this._lastTimeLoaded;this._lastTimeLoaded=v.loaded,this._speedSampler.addBytes(x)}},_.prototype._normalizeSpeed=function(v){var g=this._chunkSizeKBList,y=g.length-1,x=0,b=0,E=y;if(v<g[0])return g[0];for(;b<=E;){if(x=b+Math.floor((E-b)/2),x===y||v>=g[x]&&v<g[x+1])return g[x];g[x]<v?b=x+1:E=x-1}},_.prototype._onLoad=function(v){if(this._status!==c.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var g=this._speedSampler.lastSecondKBps;if(g===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(g=this._speedSampler.currentKBps)),g!==0){var y=this._normalizeSpeed(g);this._currentSpeedNormalized!==y&&(this._currentSpeedNormalized=y,this._currentChunkSizeKB=y)}var x=v.target.response,b=this._range.from+this._receivedLength;this._receivedLength+=x.byteLength;var E=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():E=!0,this._onDataArrival&&this._onDataArrival(x,b,this._receivedLength),E&&(this._status=c.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},_.prototype._onXhrError=function(v){this._status=c.LoaderStatus.kError;var g=0,y=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(g=c.LoaderErrors.EARLY_EOF,y={code:-1,msg:"RangeLoader meet Early-Eof"}):(g=c.LoaderErrors.EXCEPTION,y={code:-1,msg:v.constructor.name+" "+v.type}),this._onError)this._onError(g,y);else throw new h.RuntimeException(y.msg)},_}(c.BaseLoader);s.default=d},"./src/player/flv-player.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./src/utils/logger.js"),h=f("./src/utils/browser.js"),p=f("./src/player/player-events.js"),d=f("./src/core/transmuxer.js"),m=f("./src/core/transmuxing-events.js"),_=f("./src/core/mse-controller.js"),v=f("./src/core/mse-events.js"),g=f("./src/player/player-errors.js"),y=f("./src/config.js"),x=f("./src/utils/exception.js"),b=function(){function E(w,S){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,y.createDefaultConfig)(),typeof S=="object"&&Object.assign(this._config,S),w.type.toLowerCase()!=="flv")throw new x.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");w.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=w,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var C=h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(C||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return E.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},E.prototype.on=function(w,S){var C=this;w===p.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){C._emitter.emit(p.default.MEDIA_INFO,C.mediaInfo)}):w===p.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){C._emitter.emit(p.default.STATISTICS_INFO,C.statisticsInfo)}),this._emitter.addListener(w,S)},E.prototype.off=function(w,S){this._emitter.removeListener(w,S)},E.prototype.attachMediaElement=function(w){var S=this;if(this._mediaElement=w,w.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),w.addEventListener("seeking",this.e.onvSeeking),w.addEventListener("canplay",this.e.onvCanPlay),w.addEventListener("stalled",this.e.onvStalled),w.addEventListener("progress",this.e.onvProgress),this._msectl=new _.default(this._config),this._msectl.on(v.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(v.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(v.default.SOURCE_OPEN,function(){S._mseSourceOpened=!0,S._hasPendingLoad&&(S._hasPendingLoad=!1,S.load())}),this._msectl.on(v.default.ERROR,function(C){S._emitter.emit(p.default.ERROR,g.ErrorTypes.MEDIA_ERROR,g.ErrorDetails.MEDIA_MSE_ERROR,C)}),this._msectl.attachMediaElement(w),this._pendingSeekTime!=null)try{w.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},E.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},E.prototype.load=function(){var w=this;if(!this._mediaElement)throw new x.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new x.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new d.default(this._mediaDataSource,this._config),this._transmuxer.on(m.default.INIT_SEGMENT,function(S,C){w._msectl.appendInitSegment(C)}),this._transmuxer.on(m.default.MEDIA_SEGMENT,function(S,C){if(w._msectl.appendMediaSegment(C),w._config.lazyLoad&&!w._config.isLive){var T=w._mediaElement.currentTime;C.info.endDts>=(T+w._config.lazyLoadMaxDuration)*1e3&&w._progressChecker==null&&(c.default.v(w.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),w._suspendTransmuxer())}}),this._transmuxer.on(m.default.LOADING_COMPLETE,function(){w._msectl.endOfStream(),w._emitter.emit(p.default.LOADING_COMPLETE)}),this._transmuxer.on(m.default.RECOVERED_EARLY_EOF,function(){w._emitter.emit(p.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(m.default.IO_ERROR,function(S,C){w._emitter.emit(p.default.ERROR,g.ErrorTypes.NETWORK_ERROR,S,C)}),this._transmuxer.on(m.default.DEMUX_ERROR,function(S,C){w._emitter.emit(p.default.ERROR,g.ErrorTypes.MEDIA_ERROR,S,{code:-1,msg:C})}),this._transmuxer.on(m.default.MEDIA_INFO,function(S){w._mediaInfo=S,w._emitter.emit(p.default.MEDIA_INFO,Object.assign({},S))}),this._transmuxer.on(m.default.METADATA_ARRIVED,function(S){w._emitter.emit(p.default.METADATA_ARRIVED,S)}),this._transmuxer.on(m.default.SCRIPTDATA_ARRIVED,function(S){w._emitter.emit(p.default.SCRIPTDATA_ARRIVED,S)}),this._transmuxer.on(m.default.STATISTICS_INFO,function(S){w._statisticsInfo=w._fillStatisticsInfo(S),w._emitter.emit(p.default.STATISTICS_INFO,Object.assign({},w._statisticsInfo))}),this._transmuxer.on(m.default.RECOMMEND_SEEKPOINT,function(S){w._mediaElement&&!w._config.accurateSeek&&(w._requestSetTime=!0,w._mediaElement.currentTime=S/1e3)}),this._transmuxer.open()}},E.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},E.prototype.play=function(){return this._mediaElement.play()},E.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(E.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(w){this._mediaElement.volume=w},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(w){this._mediaElement.muted=w},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(w){this._mediaElement?this._internalSeek(w):this._pendingSeekTime=w},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),E.prototype._fillStatisticsInfo=function(w){if(w.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return w;var S=!0,C=0,T=0;if(this._mediaElement.getVideoPlaybackQuality){var I=this._mediaElement.getVideoPlaybackQuality();C=I.totalVideoFrames,T=I.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(C=this._mediaElement.webkitDecodedFrameCount,T=this._mediaElement.webkitDroppedFrameCount):S=!1;return S&&(w.decodedFrames=C,w.droppedFrames=T),w},E.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var w=this._mediaElement.buffered,S=this._mediaElement.currentTime,C=0,T=0;T<w.length;T++){var I=w.start(T),A=w.end(T);if(I<=S&&S<A){C=A;break}}C>=S+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(c.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},E.prototype._onmseBufferFull=function(){c.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},E.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},E.prototype._checkProgressAndResume=function(){for(var w=this._mediaElement.currentTime,S=this._mediaElement.buffered,C=!1,T=0;T<S.length;T++){var I=S.start(T),A=S.end(T);if(w>=I&&w<A){w>=A-this._config.lazyLoadRecoverDuration&&(C=!0);break}}C&&(window.clearInterval(this._progressChecker),this._progressChecker=null,C&&(c.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},E.prototype._isTimepointBuffered=function(w){for(var S=this._mediaElement.buffered,C=0;C<S.length;C++){var T=S.start(C),I=S.end(C);if(w>=T&&w<I)return!0}return!1},E.prototype._internalSeek=function(w){var S=this._isTimepointBuffered(w),C=!1,T=0;if(w<1&&this._mediaElement.buffered.length>0){var I=this._mediaElement.buffered.start(0);(I<1&&w<I||h.default.safari)&&(C=!0,T=h.default.safari?.1:I)}if(C)this._requestSetTime=!0,this._mediaElement.currentTime=T;else if(S){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=w;else{var A=this._msectl.getNearestKeyframe(Math.floor(w*1e3));this._requestSetTime=!0,A!=null?this._mediaElement.currentTime=A.dts/1e3:this._mediaElement.currentTime=w}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(w),this._transmuxer.seek(Math.floor(w*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=w)},E.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var w=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(w)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(w),this._transmuxer.seek(Math.floor(w*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=w))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._checkAndResumeStuckPlayback=function(w){var S=this._mediaElement;if(w||!this._receivedCanPlay||S.readyState<2){var C=S.buffered;C.length>0&&S.currentTime<C.start(0)&&(c.default.w(this.TAG,"Playback seems stuck at "+S.currentTime+", seek to "+C.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=C.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},E.prototype._onvLoadedMetadata=function(w){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},E.prototype._onvSeeking=function(w){var S=this._mediaElement.currentTime,C=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(S<1&&C.length>0){var T=C.start(0);if(T<1&&S<T||h.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=h.default.safari?.1:T;return}}if(this._isTimepointBuffered(S)){if(this._alwaysSeekKeyframe){var I=this._msectl.getNearestKeyframe(Math.floor(S*1e3));I!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=I.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:S,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._onvCanPlay=function(w){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},E.prototype._onvStalled=function(w){this._checkAndResumeStuckPlayback(!0)},E.prototype._onvProgress=function(w){this._checkAndResumeStuckPlayback()},E}();s.default=b},"./src/player/native-player.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./src/player/player-events.js"),h=f("./src/config.js"),p=f("./src/utils/exception.js"),d=function(){function m(_,v){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,h.createDefaultConfig)(),typeof v=="object"&&Object.assign(this._config,v),_.type.toLowerCase()==="flv")throw new p.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(_.hasOwnProperty("segments"))throw new p.InvalidArgumentException("NativePlayer("+_.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=_,this._mediaElement=null}return m.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},m.prototype.on=function(_,v){var g=this;_===c.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){g._emitter.emit(c.default.MEDIA_INFO,g.mediaInfo)}):_===c.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){g._emitter.emit(c.default.STATISTICS_INFO,g.statisticsInfo)}),this._emitter.addListener(_,v)},m.prototype.off=function(_,v){this._emitter.removeListener(_,v)},m.prototype.attachMediaElement=function(_){if(this._mediaElement=_,_.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{_.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},m.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},m.prototype.load=function(){if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},m.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},m.prototype.play=function(){return this._mediaElement.play()},m.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(m.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(_){this._mediaElement.volume=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(_){this._mediaElement.muted=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(_){this._mediaElement?this._mediaElement.currentTime=_:this._pendingSeekTime=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"mediaInfo",{get:function(){var _=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",v={mimeType:_+this._mediaDataSource.type};return this._mediaElement&&(v.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(v.width=this._mediaElement.videoWidth,v.height=this._mediaElement.videoHeight)),v},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"statisticsInfo",{get:function(){var _={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return _;var v=!0,g=0,y=0;if(this._mediaElement.getVideoPlaybackQuality){var x=this._mediaElement.getVideoPlaybackQuality();g=x.totalVideoFrames,y=x.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(g=this._mediaElement.webkitDecodedFrameCount,y=this._mediaElement.webkitDroppedFrameCount):v=!1;return v&&(_.decodedFrames=g,_.droppedFrames=y),_},enumerable:!1,configurable:!0}),m.prototype._onvLoadedMetadata=function(_){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(c.default.MEDIA_INFO,this.mediaInfo)},m.prototype._reportStatisticsInfo=function(){this._emitter.emit(c.default.STATISTICS_INFO,this.statisticsInfo)},m}();s.default=d},"./src/player/player-errors.js":function(o,s,f){f.r(s),f.d(s,{ErrorTypes:function(){return c},ErrorDetails:function(){return h}});var l=f("./src/io/loader.js"),u=f("./src/demux/demux-errors.js"),c={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},h={NETWORK_EXCEPTION:l.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,s,f){f.r(s);var l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};s.default=l},"./src/remux/aac-silent.js":function(o,s,f){f.r(s);var l=function(){function u(){}return u.getSilentFrame=function(c,h){if(c==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();s.default=l},"./src/remux/mp4-generator.js":function(o,s,f){f.r(s);var l=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var c in u.types)u.types.hasOwnProperty(c)&&(u.types[c]=[c.charCodeAt(0),c.charCodeAt(1),c.charCodeAt(2),c.charCodeAt(3)]);var h=u.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(c){for(var h=8,p=null,d=Array.prototype.slice.call(arguments,1),m=d.length,_=0;_<m;_++)h+=d[_].byteLength;p=new Uint8Array(h),p[0]=h>>>24&255,p[1]=h>>>16&255,p[2]=h>>>8&255,p[3]=h&255,p.set(c,4);for(var v=8,_=0;_<m;_++)p.set(d[_],v),v+=d[_].byteLength;return p},u.generateInitSegment=function(c){var h=u.box(u.types.ftyp,u.constants.FTYP),p=u.moov(c),d=new Uint8Array(h.byteLength+p.byteLength);return d.set(h,0),d.set(p,h.byteLength),d},u.moov=function(c){var h=u.mvhd(c.timescale,c.duration),p=u.trak(c),d=u.mvex(c);return u.box(u.types.moov,h,p,d)},u.mvhd=function(c,h){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,c&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(c){return u.box(u.types.trak,u.tkhd(c),u.mdia(c))},u.tkhd=function(c){var h=c.id,p=c.duration,d=c.presentWidth,m=c.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>>8&255,d&255,0,0,m>>>8&255,m&255,0,0]))},u.mdia=function(c){return u.box(u.types.mdia,u.mdhd(c),u.hdlr(c),u.minf(c))},u.mdhd=function(c){var h=c.timescale,p=c.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255,85,196,0,0]))},u.hdlr=function(c){var h=null;return c.type==="audio"?h=u.constants.HDLR_AUDIO:h=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,h)},u.minf=function(c){var h=null;return c.type==="audio"?h=u.box(u.types.smhd,u.constants.SMHD):h=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,h,u.dinf(),u.stbl(c))},u.dinf=function(){var c=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return c},u.stbl=function(c){var h=u.box(u.types.stbl,u.stsd(c),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return h},u.stsd=function(c){return c.type==="audio"?c.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(c)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(c)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(c))},u.mp3=function(c){var h=c.channelCount,p=c.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types[".mp3"],d)},u.mp4a=function(c){var h=c.channelCount,p=c.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types.mp4a,d,u.esds(c))},u.esds=function(c){var h=c.config||[],p=h.length,d=new Uint8Array([0,0,0,0,3,23+p,0,1,0,4,15+p,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([p]).concat(h).concat([6,1,2]));return u.box(u.types.esds,d)},u.avc1=function(c){var h=c.avcc,p=c.codecWidth,d=c.codecHeight,m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,p>>>8&255,p&255,d>>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,m,u.box(u.types.avcC,h))},u.mvex=function(c){return u.box(u.types.mvex,u.trex(c))},u.trex=function(c){var h=c.id,p=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,p)},u.moof=function(c,h){return u.box(u.types.moof,u.mfhd(c.sequenceNumber),u.traf(c,h))},u.mfhd=function(c){var h=new Uint8Array([0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,c&255]);return u.box(u.types.mfhd,h)},u.traf=function(c,h){var p=c.id,d=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255])),m=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),_=u.sdtp(c),v=u.trun(c,_.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,d,m,v,_)},u.sdtp=function(c){for(var h=c.samples||[],p=h.length,d=new Uint8Array(4+p),m=0;m<p;m++){var _=h[m].flags;d[m+4]=_.isLeading<<6|_.dependsOn<<4|_.isDependedOn<<2|_.hasRedundancy}return u.box(u.types.sdtp,d)},u.trun=function(c,h){var p=c.samples||[],d=p.length,m=12+16*d,_=new Uint8Array(m);h+=8+m,_.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,d&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255],0);for(var v=0;v<d;v++){var g=p[v].duration,y=p[v].size,x=p[v].flags,b=p[v].cts;_.set([g>>>24&255,g>>>16&255,g>>>8&255,g&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,x.isLeading<<2|x.dependsOn,x.isDependedOn<<6|x.hasRedundancy<<4|x.isNonSync,0,0,b>>>24&255,b>>>16&255,b>>>8&255,b&255],12+16*v)}return u.box(u.types.trun,_)},u.mdat=function(c){return u.box(u.types.mdat,c)},u}();l.init(),s.default=l},"./src/remux/mp4-remuxer.js":function(o,s,f){f.r(s);var l=f("./src/utils/logger.js"),u=f("./src/remux/mp4-generator.js"),c=f("./src/remux/aac-silent.js"),h=f("./src/utils/browser.js"),p=f("./src/core/media-segment-info.js"),d=f("./src/utils/exception.js"),m=function(){function _(v){this.TAG="MP4Remuxer",this._config=v,this._isLive=v.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new p.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new p.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661)),this._fillSilentAfterSeek=h.default.msedge||h.default.msie,this._mp3UseMpegAudio=!h.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return _.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},_.prototype.bindDataSource=function(v){return v.onDataAvailable=this.remux.bind(this),v.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(_.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(v){this._onInitSegment=v},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(v){this._onMediaSegment=v},enumerable:!1,configurable:!0}),_.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},_.prototype.seek=function(v){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},_.prototype.remux=function(v,g){if(!this._onMediaSegment)throw new d.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(v,g),this._remuxVideo(g),this._remuxAudio(v)},_.prototype._onTrackMetadataReceived=function(v,g){var y=null,x="mp4",b=g.codec;if(v==="audio")this._audioMeta=g,g.codec==="mp3"&&this._mp3UseMpegAudio?(x="mpeg",b="",y=new Uint8Array):y=u.default.generateInitSegment(g);else if(v==="video")this._videoMeta=g,y=u.default.generateInitSegment(g);else return;if(!this._onInitSegment)throw new d.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(v,{type:v,data:y.buffer,codec:b,container:v+"/"+x,mediaDuration:g.duration})},_.prototype._calculateDtsBase=function(v,g){this._dtsBaseInited||(v.samples&&v.samples.length&&(this._audioDtsBase=v.samples[0].dts),g.samples&&g.samples.length&&(this._videoDtsBase=g.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},_.prototype.flushStashedSamples=function(){var v=this._videoStashedLastSample,g=this._audioStashedLastSample,y={type:"video",id:1,sequenceNumber:0,samples:[],length:0};v!=null&&(y.samples.push(v),y.length=v.length);var x={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};g!=null&&(x.samples.push(g),x.length=g.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(y,!0),this._remuxAudio(x,!0)},_.prototype._remuxAudio=function(v,g){if(this._audioMeta!=null){var y=v,x=y.samples,b=void 0,E=-1,w=-1,S=this._audioMeta.refSampleDuration,C=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,T=this._dtsBaseInited&&this._audioNextDts===void 0,I=!1;if(!(!x||x.length===0)&&!(x.length===1&&!g)){var A=0,R=null,O=0;C?(A=0,O=y.length):(A=8,O=8+y.length);var F=null;if(x.length>1&&(F=x.pop(),O-=F.length),this._audioStashedLastSample!=null){var k=this._audioStashedLastSample;this._audioStashedLastSample=null,x.unshift(k),O+=k.length}F!=null&&(this._audioStashedLastSample=F);var $=x[0].dts-this._dtsBase;if(this._audioNextDts)b=$-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())b=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(I=!0);else{var q=this._audioSegmentInfoList.getLastSampleBefore($);if(q!=null){var K=$-(q.originalDts+q.duration);K<=3&&(K=0);var G=q.dts+q.duration+K;b=$-G}else b=0}if(I){var N=$-b,j=this._videoSegmentInfoList.getLastSegmentBefore($);if(j!=null&&j.beginDts<N){var M=c.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(M){var D=j.beginDts,J=N-j.beginDts;l.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+D+", duration: "+J),x.unshift({unit:M,dts:D,pts:D}),O+=M.byteLength}}else I=!1}for(var Q=[],se=0;se<x.length;se++){var k=x[se],re=k.unit,ue=k.dts-this._dtsBase,D=ue,Ee=!1,xe=null,de=0;if(!(ue<-.001)){if(this._audioMeta.codec!=="mp3"){var pe=ue,Ae=3;if(this._audioNextDts&&(pe=this._audioNextDts),b=ue-pe,b<=-Ae*S){l.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+ue+" ms ,curRefDts: "+pe+" ms)  due to dtsCorrection: "+b+" ms overlap.");continue}else if(b>=Ae*S&&this._fillAudioTimestampGap&&!h.default.safari){Ee=!0;var Fe=Math.floor(b/S);l.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+ue+" ms, curRefDts: "+pe+" ms, ")+("dtsCorrection: "+Math.round(b)+" ms, generate: "+Fe+" frames")),D=Math.floor(pe),de=Math.floor(pe+S)-D;var M=c.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);M==null&&(l.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),M=re),xe=[];for(var Te=0;Te<Fe;Te++){pe=pe+S;var ke=Math.floor(pe),Ne=Math.floor(pe+S)-ke,Ze={dts:ke,pts:ke,cts:0,unit:M,size:M.byteLength,duration:Ne,originalDts:ue,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};xe.push(Ze),O+=Ze.size}this._audioNextDts=pe+S}else D=Math.floor(pe),de=Math.floor(pe+S)-D,this._audioNextDts=pe+S}else{if(D=ue-b,se!==x.length-1){var ct=x[se+1].dts-this._dtsBase-b;de=ct-D}else if(F!=null){var ct=F.dts-this._dtsBase-b;de=ct-D}else Q.length>=1?de=Q[Q.length-1].duration:de=Math.floor(S);this._audioNextDts=D+de}E===-1&&(E=D),Q.push({dts:D,pts:D,cts:0,unit:k.unit,size:k.unit.byteLength,duration:de,originalDts:ue,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Ee&&Q.push.apply(Q,xe)}}if(Q.length===0){y.samples=[],y.length=0;return}C?R=new Uint8Array(O):(R=new Uint8Array(O),R[0]=O>>>24&255,R[1]=O>>>16&255,R[2]=O>>>8&255,R[3]=O&255,R.set(u.default.types.mdat,4));for(var se=0;se<Q.length;se++){var re=Q[se].unit;R.set(re,A),A+=re.byteLength}var Je=Q[Q.length-1];w=Je.dts+Je.duration;var qe=new p.MediaSegmentInfo;qe.beginDts=E,qe.endDts=w,qe.beginPts=E,qe.endPts=w,qe.originalBeginDts=Q[0].originalDts,qe.originalEndDts=Je.originalDts+Je.duration,qe.firstSample=new p.SampleInfo(Q[0].dts,Q[0].pts,Q[0].duration,Q[0].originalDts,!1),qe.lastSample=new p.SampleInfo(Je.dts,Je.pts,Je.duration,Je.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(qe),y.samples=Q,y.sequenceNumber++;var at=null;C?at=new Uint8Array:at=u.default.moof(y,E),y.samples=[],y.length=0;var Tt={type:"audio",data:this._mergeBoxes(at,R).buffer,sampleCount:Q.length,info:qe};C&&T&&(Tt.timestampOffset=E),this._onMediaSegment("audio",Tt)}}},_.prototype._remuxVideo=function(v,g){if(this._videoMeta!=null){var y=v,x=y.samples,b=void 0,E=-1,w=-1,S=-1,C=-1;if(!(!x||x.length===0)&&!(x.length===1&&!g)){var T=8,I=null,A=8+v.length,R=null;if(x.length>1&&(R=x.pop(),A-=R.length),this._videoStashedLastSample!=null){var O=this._videoStashedLastSample;this._videoStashedLastSample=null,x.unshift(O),A+=O.length}R!=null&&(this._videoStashedLastSample=R);var F=x[0].dts-this._dtsBase;if(this._videoNextDts)b=F-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())b=0;else{var k=this._videoSegmentInfoList.getLastSampleBefore(F);if(k!=null){var $=F-(k.originalDts+k.duration);$<=3&&($=0);var q=k.dts+k.duration+$;b=F-q}else b=0}for(var K=new p.MediaSegmentInfo,G=[],N=0;N<x.length;N++){var O=x[N],j=O.dts-this._dtsBase,M=O.isKeyframe,D=j-b,J=O.cts,Q=D+J;E===-1&&(E=D,S=Q);var se=0;if(N!==x.length-1){var re=x[N+1].dts-this._dtsBase-b;se=re-D}else if(R!=null){var re=R.dts-this._dtsBase-b;se=re-D}else G.length>=1?se=G[G.length-1].duration:se=Math.floor(this._videoMeta.refSampleDuration);if(M){var ue=new p.SampleInfo(D,Q,se,O.dts,!0);ue.fileposition=O.fileposition,K.appendSyncPoint(ue)}G.push({dts:D,pts:Q,cts:J,units:O.units,size:O.length,isKeyframe:M,duration:se,originalDts:j,flags:{isLeading:0,dependsOn:M?2:1,isDependedOn:M?1:0,hasRedundancy:0,isNonSync:M?0:1}})}I=new Uint8Array(A),I[0]=A>>>24&255,I[1]=A>>>16&255,I[2]=A>>>8&255,I[3]=A&255,I.set(u.default.types.mdat,4);for(var N=0;N<G.length;N++)for(var Ee=G[N].units;Ee.length;){var xe=Ee.shift(),de=xe.data;I.set(de,T),T+=de.byteLength}var pe=G[G.length-1];if(w=pe.dts+pe.duration,C=pe.pts+pe.duration,this._videoNextDts=w,K.beginDts=E,K.endDts=w,K.beginPts=S,K.endPts=C,K.originalBeginDts=G[0].originalDts,K.originalEndDts=pe.originalDts+pe.duration,K.firstSample=new p.SampleInfo(G[0].dts,G[0].pts,G[0].duration,G[0].originalDts,G[0].isKeyframe),K.lastSample=new p.SampleInfo(pe.dts,pe.pts,pe.duration,pe.originalDts,pe.isKeyframe),this._isLive||this._videoSegmentInfoList.append(K),y.samples=G,y.sequenceNumber++,this._forceFirstIDR){var Ae=G[0].flags;Ae.dependsOn=2,Ae.isNonSync=0}var Fe=u.default.moof(y,E);y.samples=[],y.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(Fe,I).buffer,sampleCount:G.length,info:K})}}},_.prototype._mergeBoxes=function(v,g){var y=new Uint8Array(v.byteLength+g.byteLength);return y.set(v,0),y.set(g,v.byteLength),y},_}();s.default=m},"./src/utils/browser.js":function(o,s,f){f.r(s);var l={};function u(){var c=self.navigator.userAgent.toLowerCase(),h=/(edge)\/([\w.]+)/.exec(c)||/(opr)[\/]([\w.]+)/.exec(c)||/(chrome)[ \/]([\w.]+)/.exec(c)||/(iemobile)[\/]([\w.]+)/.exec(c)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(c)||[],p=/(ipad)/.exec(c)||/(ipod)/.exec(c)||/(windows phone)/.exec(c)||/(iphone)/.exec(c)||/(kindle)/.exec(c)||/(android)/.exec(c)||/(windows)/.exec(c)||/(mac)/.exec(c)||/(linux)/.exec(c)||/(cros)/.exec(c)||[],d={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",majorVersion:h[4]||h[2]||"0",platform:p[0]||""},m={};if(d.browser){m[d.browser]=!0;var _=d.majorVersion.split(".");m.version={major:parseInt(d.majorVersion,10),string:d.version},_.length>1&&(m.version.minor=parseInt(_[1],10)),_.length>2&&(m.version.build=parseInt(_[2],10))}if(d.platform&&(m[d.platform]=!0),(m.chrome||m.opr||m.safari)&&(m.webkit=!0),m.rv||m.iemobile){m.rv&&delete m.rv;var v="msie";d.browser=v,m[v]=!0}if(m.edge){delete m.edge;var g="msedge";d.browser=g,m[g]=!0}if(m.opr){var y="opera";d.browser=y,m[y]=!0}if(m.safari&&m.android){var x="android";d.browser=x,m[x]=!0}m.name=d.browser,m.platform=d.platform;for(var b in l)l.hasOwnProperty(b)&&delete l[b];Object.assign(l,m)}u(),s.default=l},"./src/utils/exception.js":function(o,s,f){f.r(s),f.d(s,{RuntimeException:function(){return u},IllegalStateException:function(){return c},InvalidArgumentException:function(){return h},NotImplementedException:function(){return p}});var l=function(){var d=function(m,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])},d(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");d(m,_);function v(){this.constructor=m}m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}}(),u=function(){function d(m){this._message=m}return Object.defineProperty(d.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),d.prototype.toString=function(){return this.name+": "+this.message},d}(),c=function(d){l(m,d);function m(_){return d.call(this,_)||this}return Object.defineProperty(m.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),m}(u),h=function(d){l(m,d);function m(_){return d.call(this,_)||this}return Object.defineProperty(m.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),m}(u),p=function(d){l(m,d);function m(_){return d.call(this,_)||this}return Object.defineProperty(m.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),m}(u)},"./src/utils/logger.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=function(){function h(){}return h.e=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","error",m),h.ENABLE_ERROR&&(console.error?console.error(m):console.warn?console.warn(m):console.log(m))},h.i=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","info",m),h.ENABLE_INFO&&(console.info?console.info(m):console.log(m))},h.w=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","warn",m),h.ENABLE_WARN&&(console.warn?console.warn(m):console.log(m))},h.d=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","debug",m),h.ENABLE_DEBUG&&(console.debug?console.debug(m):console.log(m))},h.v=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var m="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","verbose",m),h.ENABLE_VERBOSE&&console.log(m)},h}();c.GLOBAL_TAG="flv.js",c.FORCE_GLOBAL_TAG=!1,c.ENABLE_ERROR=!0,c.ENABLE_INFO=!0,c.ENABLE_WARN=!0,c.ENABLE_DEBUG=!0,c.ENABLE_VERBOSE=!0,c.ENABLE_CALLBACK=!1,c.emitter=new(u()),s.default=c},"./src/utils/logging-control.js":function(o,s,f){f.r(s);var l=f("./node_modules/events/events.js"),u=f.n(l),c=f("./src/utils/logger.js"),h=function(){function p(){}return Object.defineProperty(p,"forceGlobalTag",{get:function(){return c.default.FORCE_GLOBAL_TAG},set:function(d){c.default.FORCE_GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"globalTag",{get:function(){return c.default.GLOBAL_TAG},set:function(d){c.default.GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableAll",{get:function(){return c.default.ENABLE_VERBOSE&&c.default.ENABLE_DEBUG&&c.default.ENABLE_INFO&&c.default.ENABLE_WARN&&c.default.ENABLE_ERROR},set:function(d){c.default.ENABLE_VERBOSE=d,c.default.ENABLE_DEBUG=d,c.default.ENABLE_INFO=d,c.default.ENABLE_WARN=d,c.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableDebug",{get:function(){return c.default.ENABLE_DEBUG},set:function(d){c.default.ENABLE_DEBUG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableVerbose",{get:function(){return c.default.ENABLE_VERBOSE},set:function(d){c.default.ENABLE_VERBOSE=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableInfo",{get:function(){return c.default.ENABLE_INFO},set:function(d){c.default.ENABLE_INFO=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableWarn",{get:function(){return c.default.ENABLE_WARN},set:function(d){c.default.ENABLE_WARN=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableError",{get:function(){return c.default.ENABLE_ERROR},set:function(d){c.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),p.getConfig=function(){return{globalTag:c.default.GLOBAL_TAG,forceGlobalTag:c.default.FORCE_GLOBAL_TAG,enableVerbose:c.default.ENABLE_VERBOSE,enableDebug:c.default.ENABLE_DEBUG,enableInfo:c.default.ENABLE_INFO,enableWarn:c.default.ENABLE_WARN,enableError:c.default.ENABLE_ERROR,enableCallback:c.default.ENABLE_CALLBACK}},p.applyConfig=function(d){c.default.GLOBAL_TAG=d.globalTag,c.default.FORCE_GLOBAL_TAG=d.forceGlobalTag,c.default.ENABLE_VERBOSE=d.enableVerbose,c.default.ENABLE_DEBUG=d.enableDebug,c.default.ENABLE_INFO=d.enableInfo,c.default.ENABLE_WARN=d.enableWarn,c.default.ENABLE_ERROR=d.enableError,c.default.ENABLE_CALLBACK=d.enableCallback},p._notifyChange=function(){var d=p.emitter;if(d.listenerCount("change")>0){var m=p.getConfig();d.emit("change",m)}},p.registerListener=function(d){p.emitter.addListener("change",d)},p.removeListener=function(d){p.emitter.removeListener("change",d)},p.addLogListener=function(d){c.default.emitter.addListener("log",d),c.default.emitter.listenerCount("log")>0&&(c.default.ENABLE_CALLBACK=!0,p._notifyChange())},p.removeLogListener=function(d){c.default.emitter.removeListener("log",d),c.default.emitter.listenerCount("log")===0&&(c.default.ENABLE_CALLBACK=!1,p._notifyChange())},p}();h.emitter=new(u()),s.default=h},"./src/utils/polyfill.js":function(o,s,f){f.r(s);var l=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(c,h){return c.__proto__=h,c},Object.assign=Object.assign||function(c){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(c),p=1;p<arguments.length;p++){var d=arguments[p];if(d!=null)for(var m in d)d.hasOwnProperty(m)&&(h[m]=d[m])}return h},typeof self.Promise!="function"&&f("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();l.install(),s.default=l},"./src/utils/utf8-conv.js":function(o,s,f){f.r(s);function l(c,h,p){var d=c;if(h+p<d.length){for(;p--;)if((d[++h]&192)!==128)return!1;return!0}else return!1}function u(c){for(var h=[],p=c,d=0,m=c.length;d<m;){if(p[d]<128){h.push(String.fromCharCode(p[d])),++d;continue}else if(!(p[d]<192)){if(p[d]<224){if(l(p,d,1)){var _=(p[d]&31)<<6|p[d+1]&63;if(_>=128){h.push(String.fromCharCode(_&65535)),d+=2;continue}}}else if(p[d]<240){if(l(p,d,2)){var _=(p[d]&15)<<12|(p[d+1]&63)<<6|p[d+2]&63;if(_>=2048&&(_&63488)!==55296){h.push(String.fromCharCode(_&65535)),d+=3;continue}}}else if(p[d]<248&&l(p,d,3)){var _=(p[d]&7)<<18|(p[d+1]&63)<<12|(p[d+2]&63)<<6|p[d+3]&63;if(_>65536&&_<1114112){_-=65536,h.push(String.fromCharCode(_>>>10|55296)),h.push(String.fromCharCode(_&1023|56320)),d+=4;continue}}}h.push(String.fromCharCode(65533)),++d}return h.join("")}s.default=u}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var f=n[o]={exports:{}};return r[o].call(f.exports,f,f.exports,i),f.exports}i.m=r,function(){i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,{a:s}),s}}(),function(){i.d=function(o,s){for(var f in s)i.o(s,f)&&!i.o(o,f)&&Object.defineProperty(o,f,{enumerable:!0,get:s[f]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var a=i("./src/index.js");return a}()})})(sM);var Fle=sM.exports;const kle=mn(Fle);var lM={exports:{}},cg={exports:{}};const Nle={},Lle=Object.freeze(Object.defineProperty({__proto__:null,default:Nle},Symbol.toStringTag,{value:"Module"})),uM=D5(Lle);var UI;function Ft(){return UI||(UI=1,function(t,e){(function(r,n){t.exports=n()})(rt,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof rt<"u"&&rt.crypto&&(a=rt.crypto),!a&&typeof yl=="function")try{a=uM}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function g(){}return function(y){var x;return g.prototype=y,x=new g,g.prototype=null,x}}(),f={},l=f.lib={},u=l.Base=function(){return{extend:function(g){var y=s(this);return g&&y.mixIn(g),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var y in g)g.hasOwnProperty(y)&&(this[y]=g[y]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=l.WordArray=u.extend({init:function(g,y){g=this.words=g||[],y!=i?this.sigBytes=y:this.sigBytes=g.length*4},toString:function(g){return(g||p).stringify(this)},concat:function(g){var y=this.words,x=g.words,b=this.sigBytes,E=g.sigBytes;if(this.clamp(),b%4)for(var w=0;w<E;w++){var S=x[w>>>2]>>>24-w%4*8&255;y[b+w>>>2]|=S<<24-(b+w)%4*8}else for(var C=0;C<E;C+=4)y[b+C>>>2]=x[C>>>2];return this.sigBytes+=E,this},clamp:function(){var g=this.words,y=this.sigBytes;g[y>>>2]&=4294967295<<32-y%4*8,g.length=n.ceil(y/4)},clone:function(){var g=u.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var y=[],x=0;x<g;x+=4)y.push(o());return new c.init(y,g)}}),h=f.enc={},p=h.Hex={stringify:function(g){for(var y=g.words,x=g.sigBytes,b=[],E=0;E<x;E++){var w=y[E>>>2]>>>24-E%4*8&255;b.push((w>>>4).toString(16)),b.push((w&15).toString(16))}return b.join("")},parse:function(g){for(var y=g.length,x=[],b=0;b<y;b+=2)x[b>>>3]|=parseInt(g.substr(b,2),16)<<24-b%8*4;return new c.init(x,y/2)}},d=h.Latin1={stringify:function(g){for(var y=g.words,x=g.sigBytes,b=[],E=0;E<x;E++){var w=y[E>>>2]>>>24-E%4*8&255;b.push(String.fromCharCode(w))}return b.join("")},parse:function(g){for(var y=g.length,x=[],b=0;b<y;b++)x[b>>>2]|=(g.charCodeAt(b)&255)<<24-b%4*8;return new c.init(x,y)}},m=h.Utf8={stringify:function(g){try{return decodeURIComponent(escape(d.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return d.parse(unescape(encodeURIComponent(g)))}},_=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=m.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var y,x=this._data,b=x.words,E=x.sigBytes,w=this.blockSize,S=w*4,C=E/S;g?C=n.ceil(C):C=n.max((C|0)-this._minBufferSize,0);var T=C*w,I=n.min(T*4,E);if(T){for(var A=0;A<T;A+=w)this._doProcessBlock(b,A);y=b.splice(0,T),x.sigBytes-=I}return new c.init(y,I)},clone:function(){var g=u.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});l.Hasher=_.extend({cfg:u.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(g){return function(y,x){return new g.init(x).finalize(y)}},_createHmacHelper:function(g){return function(y,x){return new v.HMAC.init(g,x).finalize(y)}}});var v=f.algo={};return f}(Math);return r})}(cg)),cg.exports}var hg={exports:{}},jI;function lv(){return jI||(jI=1,function(t,e){(function(r,n){t.exports=n(Ft())})(rt,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,f=i.x64={};f.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),f.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,c=[],h=0;h<u;h++){var p=l[h];c.push(p.high),c.push(p.low)}return s.create(c,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),c=u.length,h=0;h<c;h++)u[h]=u[h].clone();return l}})}(),r})}(hg)),hg.exports}var dg={exports:{}},$I;function Ble(){return $I||($I=1,function(t,e){(function(r,n){t.exports=n(Ft())})(rt,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var l=f.byteLength,u=[],c=0;c<l;c++)u[c>>>2]|=f[c]<<24-c%4*8;o.call(this,u,l)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(dg)),dg.exports}var pg={exports:{}},VI;function Mle(){return VI||(VI=1,function(t,e){(function(r,n){t.exports=n(Ft())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(f){for(var l=f.words,u=f.sigBytes,c=[],h=0;h<u;h+=2){var p=l[h>>>2]>>>16-h%4*8&65535;c.push(String.fromCharCode(p))}return c.join("")},parse:function(f){for(var l=f.length,u=[],c=0;c<l;c++)u[c>>>1]|=f.charCodeAt(c)<<16-c%2*16;return a.create(u,l*2)}},o.Utf16LE={stringify:function(f){for(var l=f.words,u=f.sigBytes,c=[],h=0;h<u;h+=2){var p=s(l[h>>>2]>>>16-h%4*8&65535);c.push(String.fromCharCode(p))}return c.join("")},parse:function(f){for(var l=f.length,u=[],c=0;c<l;c++)u[c>>>1]|=s(f.charCodeAt(c)<<16-c%2*16);return a.create(u,l*2)}};function s(f){return f<<8&4278255360|f>>>8&16711935}}(),r.enc.Utf16})}(pg)),pg.exports}var vg={exports:{}},GI;function Us(){return GI||(GI=1,function(t,e){(function(r,n){t.exports=n(Ft())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(f){var l=f.words,u=f.sigBytes,c=this._map;f.clamp();for(var h=[],p=0;p<u;p+=3)for(var d=l[p>>>2]>>>24-p%4*8&255,m=l[p+1>>>2]>>>24-(p+1)%4*8&255,_=l[p+2>>>2]>>>24-(p+2)%4*8&255,v=d<<16|m<<8|_,g=0;g<4&&p+g*.75<u;g++)h.push(c.charAt(v>>>6*(3-g)&63));var y=c.charAt(64);if(y)for(;h.length%4;)h.push(y);return h.join("")},parse:function(f){var l=f.length,u=this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var h=0;h<u.length;h++)c[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var d=f.indexOf(p);d!==-1&&(l=d)}return s(f,l,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(f,l,u){for(var c=[],h=0,p=0;p<l;p++)if(p%4){var d=u[f.charCodeAt(p-1)]<<p%4*2,m=u[f.charCodeAt(p)]>>>6-p%4*2,_=d|m;c[h>>>2]|=_<<24-h%4*8,h++}return a.create(c,h)}}(),r.enc.Base64})}(vg)),vg.exports}var mg={exports:{}},XI;function Dle(){return XI||(XI=1,function(t,e){(function(r,n){t.exports=n(Ft())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(f,l){l===void 0&&(l=!0);var u=f.words,c=f.sigBytes,h=l?this._safe_map:this._map;f.clamp();for(var p=[],d=0;d<c;d+=3)for(var m=u[d>>>2]>>>24-d%4*8&255,_=u[d+1>>>2]>>>24-(d+1)%4*8&255,v=u[d+2>>>2]>>>24-(d+2)%4*8&255,g=m<<16|_<<8|v,y=0;y<4&&d+y*.75<c;y++)p.push(h.charAt(g>>>6*(3-y)&63));var x=h.charAt(64);if(x)for(;p.length%4;)p.push(x);return p.join("")},parse:function(f,l){l===void 0&&(l=!0);var u=f.length,c=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<c.length;p++)h[c.charCodeAt(p)]=p}var d=c.charAt(64);if(d){var m=f.indexOf(d);m!==-1&&(u=m)}return s(f,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(f,l,u){for(var c=[],h=0,p=0;p<l;p++)if(p%4){var d=u[f.charCodeAt(p-1)]<<p%4*2,m=u[f.charCodeAt(p)]>>>6-p%4*2,_=d|m;c[h>>>2]|=_<<24-h%4*8,h++}return a.create(c,h)}}(),r.enc.Base64url})}(mg)),mg.exports}var gg={exports:{}},HI;function js(){return HI||(HI=1,function(t,e){(function(r,n){t.exports=n(Ft())})(rt,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,f=i.algo,l=[];(function(){for(var m=0;m<64;m++)l[m]=n.abs(n.sin(m+1))*4294967296|0})();var u=f.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,_){for(var v=0;v<16;v++){var g=_+v,y=m[g];m[g]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var x=this._hash.words,b=m[_+0],E=m[_+1],w=m[_+2],S=m[_+3],C=m[_+4],T=m[_+5],I=m[_+6],A=m[_+7],R=m[_+8],O=m[_+9],F=m[_+10],k=m[_+11],$=m[_+12],q=m[_+13],K=m[_+14],G=m[_+15],N=x[0],j=x[1],M=x[2],D=x[3];N=c(N,j,M,D,b,7,l[0]),D=c(D,N,j,M,E,12,l[1]),M=c(M,D,N,j,w,17,l[2]),j=c(j,M,D,N,S,22,l[3]),N=c(N,j,M,D,C,7,l[4]),D=c(D,N,j,M,T,12,l[5]),M=c(M,D,N,j,I,17,l[6]),j=c(j,M,D,N,A,22,l[7]),N=c(N,j,M,D,R,7,l[8]),D=c(D,N,j,M,O,12,l[9]),M=c(M,D,N,j,F,17,l[10]),j=c(j,M,D,N,k,22,l[11]),N=c(N,j,M,D,$,7,l[12]),D=c(D,N,j,M,q,12,l[13]),M=c(M,D,N,j,K,17,l[14]),j=c(j,M,D,N,G,22,l[15]),N=h(N,j,M,D,E,5,l[16]),D=h(D,N,j,M,I,9,l[17]),M=h(M,D,N,j,k,14,l[18]),j=h(j,M,D,N,b,20,l[19]),N=h(N,j,M,D,T,5,l[20]),D=h(D,N,j,M,F,9,l[21]),M=h(M,D,N,j,G,14,l[22]),j=h(j,M,D,N,C,20,l[23]),N=h(N,j,M,D,O,5,l[24]),D=h(D,N,j,M,K,9,l[25]),M=h(M,D,N,j,S,14,l[26]),j=h(j,M,D,N,R,20,l[27]),N=h(N,j,M,D,q,5,l[28]),D=h(D,N,j,M,w,9,l[29]),M=h(M,D,N,j,A,14,l[30]),j=h(j,M,D,N,$,20,l[31]),N=p(N,j,M,D,T,4,l[32]),D=p(D,N,j,M,R,11,l[33]),M=p(M,D,N,j,k,16,l[34]),j=p(j,M,D,N,K,23,l[35]),N=p(N,j,M,D,E,4,l[36]),D=p(D,N,j,M,C,11,l[37]),M=p(M,D,N,j,A,16,l[38]),j=p(j,M,D,N,F,23,l[39]),N=p(N,j,M,D,q,4,l[40]),D=p(D,N,j,M,b,11,l[41]),M=p(M,D,N,j,S,16,l[42]),j=p(j,M,D,N,I,23,l[43]),N=p(N,j,M,D,O,4,l[44]),D=p(D,N,j,M,$,11,l[45]),M=p(M,D,N,j,G,16,l[46]),j=p(j,M,D,N,w,23,l[47]),N=d(N,j,M,D,b,6,l[48]),D=d(D,N,j,M,A,10,l[49]),M=d(M,D,N,j,K,15,l[50]),j=d(j,M,D,N,T,21,l[51]),N=d(N,j,M,D,$,6,l[52]),D=d(D,N,j,M,S,10,l[53]),M=d(M,D,N,j,F,15,l[54]),j=d(j,M,D,N,E,21,l[55]),N=d(N,j,M,D,R,6,l[56]),D=d(D,N,j,M,G,10,l[57]),M=d(M,D,N,j,I,15,l[58]),j=d(j,M,D,N,q,21,l[59]),N=d(N,j,M,D,C,6,l[60]),D=d(D,N,j,M,k,10,l[61]),M=d(M,D,N,j,w,15,l[62]),j=d(j,M,D,N,O,21,l[63]),x[0]=x[0]+N|0,x[1]=x[1]+j|0,x[2]=x[2]+M|0,x[3]=x[3]+D|0},_doFinalize:function(){var m=this._data,_=m.words,v=this._nDataBytes*8,g=m.sigBytes*8;_[g>>>5]|=128<<24-g%32;var y=n.floor(v/4294967296),x=v;_[(g+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,_[(g+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,m.sigBytes=(_.length+1)*4,this._process();for(var b=this._hash,E=b.words,w=0;w<4;w++){var S=E[w];E[w]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return b},clone:function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m}});function c(m,_,v,g,y,x,b){var E=m+(_&v|~_&g)+y+b;return(E<<x|E>>>32-x)+_}function h(m,_,v,g,y,x,b){var E=m+(_&g|v&~g)+y+b;return(E<<x|E>>>32-x)+_}function p(m,_,v,g,y,x,b){var E=m+(_^v^g)+y+b;return(E<<x|E>>>32-x)+_}function d(m,_,v,g,y,x,b){var E=m+(v^(_|~g))+y+b;return(E<<x|E>>>32-x)+_}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5})}(gg)),gg.exports}var _g={exports:{}},zI;function fM(){return zI||(zI=1,function(t,e){(function(r,n){t.exports=n(Ft())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,f=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,c){for(var h=this._hash.words,p=h[0],d=h[1],m=h[2],_=h[3],v=h[4],g=0;g<80;g++){if(g<16)f[g]=u[c+g]|0;else{var y=f[g-3]^f[g-8]^f[g-14]^f[g-16];f[g]=y<<1|y>>>31}var x=(p<<5|p>>>27)+v+f[g];g<20?x+=(d&m|~d&_)+1518500249:g<40?x+=(d^m^_)+1859775393:g<60?x+=(d&m|d&_|m&_)-1894007588:x+=(d^m^_)-899497514,v=_,_=m,m=d<<30|d>>>2,d=p,p=x}h[0]=h[0]+p|0,h[1]=h[1]+d|0,h[2]=h[2]+m|0,h[3]=h[3]+_|0,h[4]=h[4]+v|0},_doFinalize:function(){var u=this._data,c=u.words,h=this._nDataBytes*8,p=u.sigBytes*8;return c[p>>>5]|=128<<24-p%32,c[(p+64>>>9<<4)+14]=Math.floor(h/4294967296),c[(p+64>>>9<<4)+15]=h,u.sigBytes=c.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(_g)),_g.exports}var yg={exports:{}},WI;function Vw(){return WI||(WI=1,function(t,e){(function(r,n){t.exports=n(Ft())})(rt,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,f=i.algo,l=[],u=[];(function(){function p(v){for(var g=n.sqrt(v),y=2;y<=g;y++)if(!(v%y))return!1;return!0}function d(v){return(v-(v|0))*4294967296|0}for(var m=2,_=0;_<64;)p(m)&&(_<8&&(l[_]=d(n.pow(m,1/2))),u[_]=d(n.pow(m,1/3)),_++),m++})();var c=[],h=f.SHA256=s.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(p,d){for(var m=this._hash.words,_=m[0],v=m[1],g=m[2],y=m[3],x=m[4],b=m[5],E=m[6],w=m[7],S=0;S<64;S++){if(S<16)c[S]=p[d+S]|0;else{var C=c[S-15],T=(C<<25|C>>>7)^(C<<14|C>>>18)^C>>>3,I=c[S-2],A=(I<<15|I>>>17)^(I<<13|I>>>19)^I>>>10;c[S]=T+c[S-7]+A+c[S-16]}var R=x&b^~x&E,O=_&v^_&g^v&g,F=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),k=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),$=w+k+R+u[S]+c[S],q=F+O;w=E,E=b,b=x,x=y+$|0,y=g,g=v,v=_,_=$+q|0}m[0]=m[0]+_|0,m[1]=m[1]+v|0,m[2]=m[2]+g|0,m[3]=m[3]+y|0,m[4]=m[4]+x|0,m[5]=m[5]+b|0,m[6]=m[6]+E|0,m[7]=m[7]+w|0},_doFinalize:function(){var p=this._data,d=p.words,m=this._nDataBytes*8,_=p.sigBytes*8;return d[_>>>5]|=128<<24-_%32,d[(_+64>>>9<<4)+14]=n.floor(m/4294967296),d[(_+64>>>9<<4)+15]=m,p.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=s._createHelper(h),i.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256})}(yg)),yg.exports}var xg={exports:{}},YI;function Ule(){return YI||(YI=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Vw())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,f=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=s._createHelper(f),n.HmacSHA224=s._createHmacHelper(f)}(),r.SHA224})}(xg)),xg.exports}var bg={exports:{}},qI;function cM(){return qI||(qI=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),lv())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,f=o.WordArray,l=n.algo;function u(){return s.create.apply(s,arguments)}var c=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var d=0;d<80;d++)h[d]=u()})();var p=l.SHA512=a.extend({_doReset:function(){this._hash=new f.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(d,m){for(var _=this._hash.words,v=_[0],g=_[1],y=_[2],x=_[3],b=_[4],E=_[5],w=_[6],S=_[7],C=v.high,T=v.low,I=g.high,A=g.low,R=y.high,O=y.low,F=x.high,k=x.low,$=b.high,q=b.low,K=E.high,G=E.low,N=w.high,j=w.low,M=S.high,D=S.low,J=C,Q=T,se=I,re=A,ue=R,Ee=O,xe=F,de=k,pe=$,Ae=q,Fe=K,Te=G,ke=N,Ne=j,Ze=M,ct=D,Je=0;Je<80;Je++){var qe,at,Tt=h[Je];if(Je<16)at=Tt.high=d[m+Je*2]|0,qe=Tt.low=d[m+Je*2+1]|0;else{var kt=h[Je-15],At=kt.high,It=kt.low,tt=(At>>>1|It<<31)^(At>>>8|It<<24)^At>>>7,Nt=(It>>>1|At<<31)^(It>>>8|At<<24)^(It>>>7|At<<25),_e=h[Je-2],L=_e.high,ne=_e.low,he=(L>>>19|ne<<13)^(L<<3|ne>>>29)^L>>>6,ye=(ne>>>19|L<<13)^(ne<<3|L>>>29)^(ne>>>6|L<<26),Z=h[Je-7],ve=Z.high,U=Z.low,we=h[Je-16],He=we.high,P=we.low;qe=Nt+U,at=tt+ve+(qe>>>0<Nt>>>0?1:0),qe=qe+ye,at=at+he+(qe>>>0<ye>>>0?1:0),qe=qe+P,at=at+He+(qe>>>0<P>>>0?1:0),Tt.high=at,Tt.low=qe}var me=pe&Fe^~pe&ke,ge=Ae&Te^~Ae&Ne,V=J&se^J&ue^se&ue,ee=Q&re^Q&Ee^re&Ee,fe=(J>>>28|Q<<4)^(J<<30|Q>>>2)^(J<<25|Q>>>7),Xe=(Q>>>28|J<<4)^(Q<<30|J>>>2)^(Q<<25|J>>>7),De=(pe>>>14|Ae<<18)^(pe>>>18|Ae<<14)^(pe<<23|Ae>>>9),$e=(Ae>>>14|pe<<18)^(Ae>>>18|pe<<14)^(Ae<<23|pe>>>9),ot=c[Je],Lr=ot.high,Rt=ot.low,Qe=ct+$e,$t=Ze+De+(Qe>>>0<ct>>>0?1:0),Qe=Qe+ge,$t=$t+me+(Qe>>>0<ge>>>0?1:0),Qe=Qe+Rt,$t=$t+Lr+(Qe>>>0<Rt>>>0?1:0),Qe=Qe+qe,$t=$t+at+(Qe>>>0<qe>>>0?1:0),vr=Xe+ee,zr=fe+V+(vr>>>0<Xe>>>0?1:0);Ze=ke,ct=Ne,ke=Fe,Ne=Te,Fe=pe,Te=Ae,Ae=de+Qe|0,pe=xe+$t+(Ae>>>0<de>>>0?1:0)|0,xe=ue,de=Ee,ue=se,Ee=re,se=J,re=Q,Q=Qe+vr|0,J=$t+zr+(Q>>>0<Qe>>>0?1:0)|0}T=v.low=T+Q,v.high=C+J+(T>>>0<Q>>>0?1:0),A=g.low=A+re,g.high=I+se+(A>>>0<re>>>0?1:0),O=y.low=O+Ee,y.high=R+ue+(O>>>0<Ee>>>0?1:0),k=x.low=k+de,x.high=F+xe+(k>>>0<de>>>0?1:0),q=b.low=q+Ae,b.high=$+pe+(q>>>0<Ae>>>0?1:0),G=E.low=G+Te,E.high=K+Fe+(G>>>0<Te>>>0?1:0),j=w.low=j+Ne,w.high=N+ke+(j>>>0<Ne>>>0?1:0),D=S.low=D+ct,S.high=M+Ze+(D>>>0<ct>>>0?1:0)},_doFinalize:function(){var d=this._data,m=d.words,_=this._nDataBytes*8,v=d.sigBytes*8;m[v>>>5]|=128<<24-v%32,m[(v+128>>>10<<5)+30]=Math.floor(_/4294967296),m[(v+128>>>10<<5)+31]=_,d.sigBytes=m.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d},blockSize:1024/32});n.SHA512=a._createHelper(p),n.HmacSHA512=a._createHmacHelper(p)}(),r.SHA512})}(bg)),bg.exports}var Eg={exports:{}},KI;function jle(){return KI||(KI=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),lv(),cM())})(rt,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,f=s.SHA512,l=s.SHA384=f.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=f._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=f._createHelper(l),n.HmacSHA384=f._createHmacHelper(l)}(),r.SHA384})}(Eg)),Eg.exports}var wg={exports:{}},ZI;function $le(){return ZI||(ZI=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),lv())})(rt,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,f=i.x64,l=f.Word,u=i.algo,c=[],h=[],p=[];(function(){for(var _=1,v=0,g=0;g<24;g++){c[_+5*v]=(g+1)*(g+2)/2%64;var y=v%5,x=(2*_+3*v)%5;_=y,v=x}for(var _=0;_<5;_++)for(var v=0;v<5;v++)h[_+5*v]=v+(2*_+3*v)%5*5;for(var b=1,E=0;E<24;E++){for(var w=0,S=0,C=0;C<7;C++){if(b&1){var T=(1<<C)-1;T<32?S^=1<<T:w^=1<<T-32}b&128?b=b<<1^113:b<<=1}p[E]=l.create(w,S)}})();var d=[];(function(){for(var _=0;_<25;_++)d[_]=l.create()})();var m=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var _=this._state=[],v=0;v<25;v++)_[v]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(_,v){for(var g=this._state,y=this.blockSize/2,x=0;x<y;x++){var b=_[v+2*x],E=_[v+2*x+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var w=g[x];w.high^=E,w.low^=b}for(var S=0;S<24;S++){for(var C=0;C<5;C++){for(var T=0,I=0,A=0;A<5;A++){var w=g[C+5*A];T^=w.high,I^=w.low}var R=d[C];R.high=T,R.low=I}for(var C=0;C<5;C++)for(var O=d[(C+4)%5],F=d[(C+1)%5],k=F.high,$=F.low,T=O.high^(k<<1|$>>>31),I=O.low^($<<1|k>>>31),A=0;A<5;A++){var w=g[C+5*A];w.high^=T,w.low^=I}for(var q=1;q<25;q++){var T,I,w=g[q],K=w.high,G=w.low,N=c[q];N<32?(T=K<<N|G>>>32-N,I=G<<N|K>>>32-N):(T=G<<N-32|K>>>64-N,I=K<<N-32|G>>>64-N);var j=d[h[q]];j.high=T,j.low=I}var M=d[0],D=g[0];M.high=D.high,M.low=D.low;for(var C=0;C<5;C++)for(var A=0;A<5;A++){var q=C+5*A,w=g[q],J=d[q],Q=d[(C+1)%5+5*A],se=d[(C+2)%5+5*A];w.high=J.high^~Q.high&se.high,w.low=J.low^~Q.low&se.low}var w=g[0],re=p[S];w.high^=re.high,w.low^=re.low}},_doFinalize:function(){var _=this._data,v=_.words;this._nDataBytes*8;var g=_.sigBytes*8,y=this.blockSize*32;v[g>>>5]|=1<<24-g%32,v[(n.ceil((g+1)/y)*y>>>5)-1]|=128,_.sigBytes=v.length*4,this._process();for(var x=this._state,b=this.cfg.outputLength/8,E=b/8,w=[],S=0;S<E;S++){var C=x[S],T=C.high,I=C.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,w.push(I),w.push(T)}return new o.init(w,b)},clone:function(){for(var _=s.clone.call(this),v=_._state=this._state.slice(0),g=0;g<25;g++)v[g]=v[g].clone();return _}});i.SHA3=s._createHelper(m),i.HmacSHA3=s._createHmacHelper(m)}(Math),r.SHA3})}(wg)),wg.exports}var Sg={exports:{}},JI;function Vle(){return JI||(JI=1,function(t,e){(function(r,n){t.exports=n(Ft())})(rt,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,f=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),d=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=f.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,w){for(var S=0;S<16;S++){var C=w+S,T=E[C];E[C]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var I=this._hash.words,A=p.words,R=d.words,O=l.words,F=u.words,k=c.words,$=h.words,q,K,G,N,j,M,D,J,Q,se;M=q=I[0],D=K=I[1],J=G=I[2],Q=N=I[3],se=j=I[4];for(var re,S=0;S<80;S+=1)re=q+E[w+O[S]]|0,S<16?re+=_(K,G,N)+A[0]:S<32?re+=v(K,G,N)+A[1]:S<48?re+=g(K,G,N)+A[2]:S<64?re+=y(K,G,N)+A[3]:re+=x(K,G,N)+A[4],re=re|0,re=b(re,k[S]),re=re+j|0,q=j,j=N,N=b(G,10),G=K,K=re,re=M+E[w+F[S]]|0,S<16?re+=x(D,J,Q)+R[0]:S<32?re+=y(D,J,Q)+R[1]:S<48?re+=g(D,J,Q)+R[2]:S<64?re+=v(D,J,Q)+R[3]:re+=_(D,J,Q)+R[4],re=re|0,re=b(re,$[S]),re=re+se|0,M=se,se=Q,Q=b(J,10),J=D,D=re;re=I[1]+G+Q|0,I[1]=I[2]+N+se|0,I[2]=I[3]+j+M|0,I[3]=I[4]+q+D|0,I[4]=I[0]+K+J|0,I[0]=re},_doFinalize:function(){var E=this._data,w=E.words,S=this._nDataBytes*8,C=E.sigBytes*8;w[C>>>5]|=128<<24-C%32,w[(C+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,E.sigBytes=(w.length+1)*4,this._process();for(var T=this._hash,I=T.words,A=0;A<5;A++){var R=I[A];I[A]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return T},clone:function(){var E=s.clone.call(this);return E._hash=this._hash.clone(),E}});function _(E,w,S){return E^w^S}function v(E,w,S){return E&w|~E&S}function g(E,w,S){return(E|~w)^S}function y(E,w,S){return E&S|w&~S}function x(E,w,S){return E^(w|~S)}function b(E,w){return E<<w|E>>>32-w}i.RIPEMD160=s._createHelper(m),i.HmacRIPEMD160=s._createHmacHelper(m)}(),r.RIPEMD160})}(Sg)),Sg.exports}var Cg={exports:{}},QI;function Gw(){return QI||(QI=1,function(t,e){(function(r,n){t.exports=n(Ft())})(rt,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,f=n.algo;f.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=s.parse(u));var c=l.blockSize,h=c*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),d=this._iKey=u.clone(),m=p.words,_=d.words,v=0;v<c;v++)m[v]^=1549556828,_[v]^=909522486;p.sigBytes=d.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,c=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(c));return h}})})()})}(Cg)),Cg.exports}var Tg={exports:{}},eR;function Gle(){return eR||(eR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Vw(),Gw())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,f=s.SHA256,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:f,iterations:25e4}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,h){for(var p=this.cfg,d=l.create(p.hasher,c),m=o.create(),_=o.create([1]),v=m.words,g=_.words,y=p.keySize,x=p.iterations;v.length<y;){var b=d.update(h).finalize(_);d.reset();for(var E=b.words,w=E.length,S=b,C=1;C<x;C++){S=d.finalize(S),d.reset();for(var T=S.words,I=0;I<w;I++)E[I]^=T[I]}m.concat(b),g[0]++}return m.sigBytes=y*4,m}});n.PBKDF2=function(c,h,p){return u.create(p).compute(c,h)}}(),r.PBKDF2})}(Tg)),Tg.exports}var Ag={exports:{}},tR;function jo(){return tR||(tR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),fM(),Gw())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,f=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:f,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,c){for(var h,p=this.cfg,d=p.hasher.create(),m=o.create(),_=m.words,v=p.keySize,g=p.iterations;_.length<v;){h&&d.update(h),h=d.update(u).finalize(c),d.reset();for(var y=1;y<g;y++)h=d.finalize(h),d.reset();m.concat(h)}return m.sigBytes=v*4,m}});n.EvpKDF=function(u,c,h){return l.create(h).compute(u,c)}}(),r.EvpKDF})}(Ag)),Ag.exports}var Ig={exports:{}},rR;function on(){return rR||(rR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),jo())})(rt,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,f=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,c=i.algo,h=c.EvpKDF,p=a.Cipher=f.extend({cfg:o.extend(),createEncryptor:function(T,I){return this.create(this._ENC_XFORM_MODE,T,I)},createDecryptor:function(T,I){return this.create(this._DEC_XFORM_MODE,T,I)},init:function(T,I,A){this.cfg=this.cfg.extend(A),this._xformMode=T,this._key=I,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){T&&this._append(T);var I=this._doFinalize();return I},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function T(I){return typeof I=="string"?C:E}return function(I){return{encrypt:function(A,R,O){return T(R).encrypt(I,A,R,O)},decrypt:function(A,R,O){return T(R).decrypt(I,A,R,O)}}}}()});a.StreamCipher=p.extend({_doFinalize:function(){var T=this._process(!0);return T},blockSize:1});var d=i.mode={},m=a.BlockCipherMode=o.extend({createEncryptor:function(T,I){return this.Encryptor.create(T,I)},createDecryptor:function(T,I){return this.Decryptor.create(T,I)},init:function(T,I){this._cipher=T,this._iv=I}}),_=d.CBC=function(){var T=m.extend();T.Encryptor=T.extend({processBlock:function(A,R){var O=this._cipher,F=O.blockSize;I.call(this,A,R,F),O.encryptBlock(A,R),this._prevBlock=A.slice(R,R+F)}}),T.Decryptor=T.extend({processBlock:function(A,R){var O=this._cipher,F=O.blockSize,k=A.slice(R,R+F);O.decryptBlock(A,R),I.call(this,A,R,F),this._prevBlock=k}});function I(A,R,O){var F,k=this._iv;k?(F=k,this._iv=n):F=this._prevBlock;for(var $=0;$<O;$++)A[R+$]^=F[$]}return T}(),v=i.pad={},g=v.Pkcs7={pad:function(T,I){for(var A=I*4,R=A-T.sigBytes%A,O=R<<24|R<<16|R<<8|R,F=[],k=0;k<R;k+=4)F.push(O);var $=s.create(F,R);T.concat($)},unpad:function(T){var I=T.words[T.sigBytes-1>>>2]&255;T.sigBytes-=I}};a.BlockCipher=p.extend({cfg:p.cfg.extend({mode:_,padding:g}),reset:function(){var T;p.reset.call(this);var I=this.cfg,A=I.iv,R=I.mode;this._xformMode==this._ENC_XFORM_MODE?T=R.createEncryptor:(T=R.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==T?this._mode.init(this,A&&A.words):(this._mode=T.call(R,this,A&&A.words),this._mode.__creator=T)},_doProcessBlock:function(T,I){this._mode.processBlock(T,I)},_doFinalize:function(){var T,I=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(I.pad(this._data,this.blockSize),T=this._process(!0)):(T=this._process(!0),I.unpad(T)),T},blockSize:128/32});var y=a.CipherParams=o.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),x=i.format={},b=x.OpenSSL={stringify:function(T){var I,A=T.ciphertext,R=T.salt;return R?I=s.create([1398893684,1701076831]).concat(R).concat(A):I=A,I.toString(u)},parse:function(T){var I,A=u.parse(T),R=A.words;return R[0]==1398893684&&R[1]==1701076831&&(I=s.create(R.slice(2,4)),R.splice(0,4),A.sigBytes-=16),y.create({ciphertext:A,salt:I})}},E=a.SerializableCipher=o.extend({cfg:o.extend({format:b}),encrypt:function(T,I,A,R){R=this.cfg.extend(R);var O=T.createEncryptor(A,R),F=O.finalize(I),k=O.cfg;return y.create({ciphertext:F,key:A,iv:k.iv,algorithm:T,mode:k.mode,padding:k.padding,blockSize:T.blockSize,formatter:R.format})},decrypt:function(T,I,A,R){R=this.cfg.extend(R),I=this._parse(I,R.format);var O=T.createDecryptor(A,R).finalize(I.ciphertext);return O},_parse:function(T,I){return typeof T=="string"?I.parse(T,this):T}}),w=i.kdf={},S=w.OpenSSL={execute:function(T,I,A,R,O){if(R||(R=s.random(64/8)),O)var F=h.create({keySize:I+A,hasher:O}).compute(T,R);else var F=h.create({keySize:I+A}).compute(T,R);var k=s.create(F.words.slice(I),A*4);return F.sigBytes=I*4,y.create({key:F,iv:k,salt:R})}},C=a.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:S}),encrypt:function(T,I,A,R){R=this.cfg.extend(R);var O=R.kdf.execute(A,T.keySize,T.ivSize,R.salt,R.hasher);R.iv=O.iv;var F=E.encrypt.call(this,T,I,O.key,R);return F.mixIn(O),F},decrypt:function(T,I,A,R){R=this.cfg.extend(R),I=this._parse(I,R.format);var O=R.kdf.execute(A,T.keySize,T.ivSize,I.salt,R.hasher);R.iv=O.iv;var F=E.decrypt.call(this,T,I,O.key,R);return F}})}()})}(Ig)),Ig.exports}var Rg={exports:{}},nR;function Xle(){return nR||(nR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,f=s.blockSize;i.call(this,a,o,f,s),this._prevBlock=a.slice(o,o+f)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,f=s.blockSize,l=a.slice(o,o+f);i.call(this,a,o,f,s),this._prevBlock=l}});function i(a,o,s,f){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,f.encryptBlock(l,0);for(var c=0;c<s;c++)a[o+c]^=l[c]}return n}(),r.mode.CFB})}(Rg)),Rg.exports}var Pg={exports:{}},iR;function Hle(){return iR||(iR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,f=s.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var c=u.slice(0);s.encryptBlock(c,0),u[f-1]=u[f-1]+1|0;for(var h=0;h<f;h++)a[o+h]^=c[h]}});return n.Decryptor=i,n}(),r.mode.CTR})}(Pg)),Pg.exports}var Og={exports:{}},aR;function zle(){return aR||(aR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var f=s>>16&255,l=s>>8&255,u=s&255;f===255?(f=0,l===255?(l=0,u===255?u=0:++u):++l):++f,s=0,s+=f<<16,s+=l<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,f){var l=this._cipher,u=l.blockSize,c=this._iv,h=this._counter;c&&(h=this._counter=c.slice(0),this._iv=void 0),a(h);var p=h.slice(0);l.encryptBlock(p,0);for(var d=0;d<u;d++)s[f+d]^=p[d]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(Og)),Og.exports}var Fg={exports:{}},oR;function Wle(){return oR||(oR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,f=s.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var c=0;c<f;c++)a[o+c]^=u[c]}});return n.Decryptor=i,n}(),r.mode.OFB})}(Fg)),Fg.exports}var kg={exports:{}},sR;function Yle(){return sR||(sR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(kg)),kg.exports}var Ng={exports:{}},lR;function qle(){return lR||(lR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,f=a+s-1;n.clamp(),n.words[f>>>2]|=s<<24-f%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(Ng)),Ng.exports}var Lg={exports:{}},uR;function Kle(){return uR||(uR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Lg)),Lg.exports}var Bg={exports:{}},fR;function Zle(){return fR||(fR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Bg)),Bg.exports}var Mg={exports:{}},cR;function Jle(){return cR||(cR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(Mg)),Mg.exports}var Dg={exports:{}},hR;function Qle(){return hR||(hR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Dg)),Dg.exports}var Ug={exports:{}},dR;function eue(){return dR||(dR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),on())})(rt,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,f=s.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(f)},parse:function(u){var c=f.parse(u);return o.create({ciphertext:c})}}}(),r.format.Hex})}(Ug)),Ug.exports}var jg={exports:{}},pR;function tue(){return pR||(pR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Us(),js(),jo(),on())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],f=[],l=[],u=[],c=[],h=[],p=[],d=[],m=[],_=[];(function(){for(var y=[],x=0;x<256;x++)x<128?y[x]=x<<1:y[x]=x<<1^283;for(var b=0,E=0,x=0;x<256;x++){var w=E^E<<1^E<<2^E<<3^E<<4;w=w>>>8^w&255^99,s[b]=w,f[w]=b;var S=y[b],C=y[S],T=y[C],I=y[w]*257^w*16843008;l[b]=I<<24|I>>>8,u[b]=I<<16|I>>>16,c[b]=I<<8|I>>>24,h[b]=I;var I=T*16843009^C*65537^S*257^b*16843008;p[w]=I<<24|I>>>8,d[w]=I<<16|I>>>16,m[w]=I<<8|I>>>24,_[w]=I,b?(b=S^y[y[y[T^S]]],E^=y[y[E]]):b=E=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],g=o.AES=a.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,b=x.words,E=x.sigBytes/4,w=this._nRounds=E+6,S=(w+1)*4,C=this._keySchedule=[],T=0;T<S;T++)T<E?C[T]=b[T]:(y=C[T-1],T%E?E>6&&T%E==4&&(y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255]):(y=y<<8|y>>>24,y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255],y^=v[T/E|0]<<24),C[T]=C[T-E]^y);for(var I=this._invKeySchedule=[],A=0;A<S;A++){var T=S-A;if(A%4)var y=C[T];else var y=C[T-4];A<4||T<=4?I[A]=y:I[A]=p[s[y>>>24]]^d[s[y>>>16&255]]^m[s[y>>>8&255]]^_[s[y&255]]}}},encryptBlock:function(y,x){this._doCryptBlock(y,x,this._keySchedule,l,u,c,h,s)},decryptBlock:function(y,x){var b=y[x+1];y[x+1]=y[x+3],y[x+3]=b,this._doCryptBlock(y,x,this._invKeySchedule,p,d,m,_,f);var b=y[x+1];y[x+1]=y[x+3],y[x+3]=b},_doCryptBlock:function(y,x,b,E,w,S,C,T){for(var I=this._nRounds,A=y[x]^b[0],R=y[x+1]^b[1],O=y[x+2]^b[2],F=y[x+3]^b[3],k=4,$=1;$<I;$++){var q=E[A>>>24]^w[R>>>16&255]^S[O>>>8&255]^C[F&255]^b[k++],K=E[R>>>24]^w[O>>>16&255]^S[F>>>8&255]^C[A&255]^b[k++],G=E[O>>>24]^w[F>>>16&255]^S[A>>>8&255]^C[R&255]^b[k++],N=E[F>>>24]^w[A>>>16&255]^S[R>>>8&255]^C[O&255]^b[k++];A=q,R=K,O=G,F=N}var q=(T[A>>>24]<<24|T[R>>>16&255]<<16|T[O>>>8&255]<<8|T[F&255])^b[k++],K=(T[R>>>24]<<24|T[O>>>16&255]<<16|T[F>>>8&255]<<8|T[A&255])^b[k++],G=(T[O>>>24]<<24|T[F>>>16&255]<<16|T[A>>>8&255]<<8|T[R&255])^b[k++],N=(T[F>>>24]<<24|T[A>>>16&255]<<16|T[R>>>8&255]<<8|T[O&255])^b[k++];y[x]=q,y[x+1]=K,y[x+2]=G,y[x+3]=N},keySize:256/32});n.AES=a._createHelper(g)}(),r.AES})}(jg)),jg.exports}var $g={exports:{}},vR;function rue(){return vR||(vR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Us(),js(),jo(),on())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=s.DES=o.extend({_doReset:function(){for(var v=this._key,g=v.words,y=[],x=0;x<56;x++){var b=f[x]-1;y[x]=g[b>>>5]>>>31-b%32&1}for(var E=this._subKeys=[],w=0;w<16;w++){for(var S=E[w]=[],C=u[w],x=0;x<24;x++)S[x/6|0]|=y[(l[x]-1+C)%28]<<31-x%6,S[4+(x/6|0)]|=y[28+(l[x+24]-1+C)%28]<<31-x%6;S[0]=S[0]<<1|S[0]>>>31;for(var x=1;x<7;x++)S[x]=S[x]>>>(x-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var T=this._invSubKeys=[],x=0;x<16;x++)T[x]=E[15-x]},encryptBlock:function(v,g){this._doCryptBlock(v,g,this._subKeys)},decryptBlock:function(v,g){this._doCryptBlock(v,g,this._invSubKeys)},_doCryptBlock:function(v,g,y){this._lBlock=v[g],this._rBlock=v[g+1],d.call(this,4,252645135),d.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),d.call(this,1,1431655765);for(var x=0;x<16;x++){for(var b=y[x],E=this._lBlock,w=this._rBlock,S=0,C=0;C<8;C++)S|=c[C][((w^b[C])&h[C])>>>0];this._lBlock=w,this._rBlock=E^S}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,d.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),v[g]=this._lBlock,v[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function d(v,g){var y=(this._lBlock>>>v^this._rBlock)&g;this._rBlock^=y,this._lBlock^=y<<v}function m(v,g){var y=(this._rBlock>>>v^this._lBlock)&g;this._lBlock^=y,this._rBlock^=y<<v}n.DES=o._createHelper(p);var _=s.TripleDES=o.extend({_doReset:function(){var v=this._key,g=v.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=g.slice(0,2),x=g.length<4?g.slice(0,2):g.slice(2,4),b=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=p.createEncryptor(a.create(y)),this._des2=p.createEncryptor(a.create(x)),this._des3=p.createEncryptor(a.create(b))},encryptBlock:function(v,g){this._des1.encryptBlock(v,g),this._des2.decryptBlock(v,g),this._des3.encryptBlock(v,g)},decryptBlock:function(v,g){this._des3.decryptBlock(v,g),this._des2.encryptBlock(v,g),this._des1.decryptBlock(v,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(_)}(),r.TripleDES})}($g)),$g.exports}var Vg={exports:{}},mR;function nue(){return mR||(mR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Us(),js(),jo(),on())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,c=u.words,h=u.sigBytes,p=this._S=[],d=0;d<256;d++)p[d]=d;for(var d=0,m=0;d<256;d++){var _=d%h,v=c[_>>>2]>>>24-_%4*8&255;m=(m+p[d]+v)%256;var g=p[d];p[d]=p[m],p[m]=g}this._i=this._j=0},_doProcessBlock:function(u,c){u[c]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var u=this._S,c=this._i,h=this._j,p=0,d=0;d<4;d++){c=(c+1)%256,h=(h+u[c])%256;var m=u[c];u[c]=u[h],u[h]=m,p|=u[(u[c]+u[h])%256]<<24-d*8}return this._i=c,this._j=h,p}n.RC4=a._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)f.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(Vg)),Vg.exports}var Gg={exports:{}},gR;function iue(){return gR||(gR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Us(),js(),jo(),on())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],f=[],l=[],u=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,p=this.cfg.iv,d=0;d<4;d++)h[d]=(h[d]<<8|h[d]>>>24)&16711935|(h[d]<<24|h[d]>>>8)&4278255360;var m=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],_=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var d=0;d<4;d++)c.call(this);for(var d=0;d<8;d++)_[d]^=m[d+4&7];if(p){var v=p.words,g=v[0],y=v[1],x=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=x>>>16|b&4294901760,w=b<<16|x&65535;_[0]^=x,_[1]^=E,_[2]^=b,_[3]^=w,_[4]^=x,_[5]^=E,_[6]^=b,_[7]^=w;for(var d=0;d<4;d++)c.call(this)}},_doProcessBlock:function(h,p){var d=this._X;c.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,h[p+m]^=s[m]},blockSize:128/32,ivSize:64/32});function c(){for(var h=this._X,p=this._C,d=0;d<8;d++)f[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<f[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<f[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<f[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<f[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<f[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<f[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<f[6]>>>0?1:0)|0,this._b=p[7]>>>0<f[7]>>>0?1:0;for(var d=0;d<8;d++){var m=h[d]+p[d],_=m&65535,v=m>>>16,g=((_*_>>>17)+_*v>>>15)+v*v,y=((m&4294901760)*m|0)+((m&65535)*m|0);l[d]=g^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(Gg)),Gg.exports}var Xg={exports:{}},_R;function aue(){return _R||(_R=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Us(),js(),jo(),on())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],f=[],l=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,p=this.cfg.iv,d=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var _=0;_<4;_++)c.call(this);for(var _=0;_<8;_++)m[_]^=d[_+4&7];if(p){var v=p.words,g=v[0],y=v[1],x=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=x>>>16|b&4294901760,w=b<<16|x&65535;m[0]^=x,m[1]^=E,m[2]^=b,m[3]^=w,m[4]^=x,m[5]^=E,m[6]^=b,m[7]^=w;for(var _=0;_<4;_++)c.call(this)}},_doProcessBlock:function(h,p){var d=this._X;c.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,h[p+m]^=s[m]},blockSize:128/32,ivSize:64/32});function c(){for(var h=this._X,p=this._C,d=0;d<8;d++)f[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<f[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<f[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<f[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<f[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<f[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<f[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<f[6]>>>0?1:0)|0,this._b=p[7]>>>0<f[7]>>>0?1:0;for(var d=0;d<8;d++){var m=h[d]+p[d],_=m&65535,v=m>>>16,g=((_*_>>>17)+_*v>>>15)+v*v,y=((m&4294901760)*m|0)+((m&65535)*m|0);l[d]=g^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(Xg)),Xg.exports}var Hg={exports:{}},yR;function oue(){return yR||(yR=1,function(t,e){(function(r,n,i){t.exports=n(Ft(),Us(),js(),jo(),on())})(rt,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,f=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function c(_,v){let g=v>>24&255,y=v>>16&255,x=v>>8&255,b=v&255,E=_.sbox[0][g]+_.sbox[1][y];return E=E^_.sbox[2][x],E=E+_.sbox[3][b],E}function h(_,v,g){let y=v,x=g,b;for(let E=0;E<s;++E)y=y^_.pbox[E],x=c(_,y)^x,b=y,y=x,x=b;return b=y,y=x,x=b,x=x^_.pbox[s],y=y^_.pbox[s+1],{left:y,right:x}}function p(_,v,g){let y=v,x=g,b;for(let E=s+1;E>1;--E)y=y^_.pbox[E],x=c(_,y)^x,b=y,y=x,x=b;return b=y,y=x,x=b,x=x^_.pbox[1],y=y^_.pbox[0],{left:y,right:x}}function d(_,v,g){for(let w=0;w<4;w++){_.sbox[w]=[];for(let S=0;S<256;S++)_.sbox[w][S]=l[w][S]}let y=0;for(let w=0;w<s+2;w++)_.pbox[w]=f[w]^v[y],y++,y>=g&&(y=0);let x=0,b=0,E=0;for(let w=0;w<s+2;w+=2)E=h(_,x,b),x=E.left,b=E.right,_.pbox[w]=x,_.pbox[w+1]=b;for(let w=0;w<4;w++)for(let S=0;S<256;S+=2)E=h(_,x,b),x=E.left,b=E.right,_.sbox[w][S]=x,_.sbox[w][S+1]=b;return!0}var m=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var _=this._keyPriorReset=this._key,v=_.words,g=_.sigBytes/4;d(u,v,g)}},encryptBlock:function(_,v){var g=h(u,_[v],_[v+1]);_[v]=g.left,_[v+1]=g.right},decryptBlock:function(_,v){var g=p(u,_[v],_[v+1]);_[v]=g.left,_[v+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(m)}(),r.Blowfish})}(Hg)),Hg.exports}(function(t,e){(function(r,n,i){t.exports=n(Ft(),lv(),Ble(),Mle(),Us(),Dle(),js(),fM(),Vw(),Ule(),cM(),jle(),$le(),Vle(),Gw(),Gle(),jo(),on(),Xle(),Hle(),zle(),Wle(),Yle(),qle(),Kle(),Zle(),Jle(),Qle(),eue(),tue(),rue(),nue(),iue(),aue(),oue())})(rt,function(r){return r})})(lM);var sue=lM.exports;const Od=mn(sue);function lue(t){const e=new Uint8Array(t),r=[];for(let n=0;n<e.length;n+=4)r.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return Od.lib.WordArray.create(r,e.length)}async function uue(t,e,r,n){const i=Od.enc.Hex.parse(e),a=Od.enc.Hex.parse(r),o=lue(t),s=Od.AES.decrypt({ciphertext:o},i,{iv:a}),f=new Uint8Array(s.sigBytes);for(let l=0;l<s.sigBytes;l++)f[l]=s.words[l>>>2]>>>24-l%4*8&255;return new Blob([f],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}class fue{constructor(){Ge(this,"videosByKey");Ge(this,"videoIndex",0);this.videosByKey={}}preloadVideo(e,r=!1){var f;if(this.videosByKey[e])return;console.info("",e);const n="video-"+this.videoIndex++,i=document.createElement("div"),a=document.createElement("video"),o=e.endsWith(".flv")?"flv":"mp4";i.setAttribute("id",n),i.style.width="100%",i.style.height="100%",i.style.zIndex="-99",i.style.display="block",i.style.opacity="0",i.style.background="#000",i.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.zIndex="11",a.style.position="absolute",a.style.display="block",a.playsInline=!0,a.controls=!1,a.addEventListener("play",function(){a.controls=!1}),a.addEventListener("pause",function(){a.controls=!1}),a.volume=0;const s=()=>{this.videosByKey[e].events.ended.callbacks.forEach(u=>u())};i.appendChild(a),(f=document.getElementById("videoContainer"))==null||f.appendChild(i),this.videosByKey[e]={player:null,id:n,progressTimer:null,waitCommands:{},events:{ended:{callbacks:[],handler:s}}},r&&(this.videosByKey[e].waitCommands={playVideo:!0,showVideo:!0}),fetch(e).then(l=>l.status>200?null:l.arrayBuffer()).then(async l=>{if(!l)return;const u="ENCRYPTED",c=u.length,h=new Uint8Array(l.slice(0,c));let p=!1;for(let v=0;v<c;v++){if(String.fromCharCode(h[v])!==u[v]){p=!1;break}p=!0}let d;if(p){const v=l.slice(c);d=await uue(v,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",o)}else d=new Blob([new Uint8Array(l)],{type:`video/${o==="mp4"?"mp4":"x-flv"}`});const m=kle.createPlayer({type:e.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(d)});m.attachMediaElement(a),m.load(),this.videosByKey[e]={...this.videosByKey[e],player:m};const _=Object.keys(this.videosByKey[e].waitCommands);_.length&&_.forEach(v=>{this[v](e,this.videosByKey[e].waitCommands[v])})})}pauseVideo(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.pause()}showVideo(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=document.getElementById(r.id);n&&(n.style.opacity="1",n.style.zIndex="11")}else r?r.waitCommands.showVideo=!0:this.preloadVideo(e,!0)}playVideo(e){const r=this.videosByKey[e];r!=null&&r.player?(r.player.play(),this.checkProgress(e)):r?r.waitCommands.playVideo=!0:this.preloadVideo(e,!0)}setLoop(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.loop=r)}else n.waitCommands.setLoop=r}seek(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.currentTime=r:n.waitCommands.seek=r}setVolume(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.volume=r:n.waitCommands.setVolume=r}destroy(e,r=!1){const n=this.videosByKey[e];if(n!=null&&n.player){n.player.pause(),n.player.volume=0;const i=document.getElementById(n.id);i&&(i.style.opacity="0",i.style.zIndex="-99"),n.progressTimer&&clearTimeout(n.progressTimer),setTimeout(()=>{try{const a=i==null?void 0:i.getElementsByTagName("video");a!=null&&a.length&&n.player.destroy()}catch(a){console.warn(a)}setTimeout(()=>{i==null||i.remove()},r?0:500),delete this.videosByKey[e]},r?0:2e3)}else n.waitCommands.destroy=!0}destroyAll(e=!1){Object.keys(this.videosByKey).forEach(r=>{this.destroy(r,e)})}onEnded(e,r){this.videosByKey[e].events.ended.callbacks.push(r)}getDuration(e){const r=this.videosByKey[e];if(r!=null&&r.player)return r.player.duration}destroyExcept(e){Object.keys(this.videosByKey).forEach(r=>{e.includes(r)||this.destroy(r)})}checkProgress(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=r.player,i=n.currentTime;if(n.duration-i<=.03){clearTimeout(r.progressTimer),r.progressTimer=null,r.events.ended.handler();return}r.progressTimer=setTimeout(()=>{this.checkProgress(e)},100)}}}class cue{constructor(){Ge(this,"sceneManager",new Ale);Ge(this,"backlogManager",new pq(this.sceneManager));Ge(this,"animationManager",new Ile);Ge(this,"gameplay",new Rle);Ge(this,"gameName","");Ge(this,"gameKey","");Ge(this,"events",new Ole);Ge(this,"videoManager",new fue)}}const z=new cue,fn=hM(()=>{const t=Ce.getState().userData;hc.setItem(z.gameKey,t).then(()=>{Ve.info("")})},100),C0=hM(()=>{hc.getItem(z.gameKey).then(t=>{if(!t||!hue(t)){Ve.warn(""),fn();return}Ce.dispatch(oL(t))})},100);function hM(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const dM=()=>{const t=Ce.getState().userData;hc.setItem(z.gameKey,t).then(()=>{hc.getItem(z.gameKey).then(e=>{if(!e){fn();return}Ce.dispatch(oL(e))}),Ve.info("")})};function hue(t){let e=!0;for(const r in ox)t.hasOwnProperty(r)||(e=!1);return e}var zt=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))(zt||{});const due={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:zt.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,isShowGameMenu:!1},pM=cp({name:"gui",initialState:due,reducers:{setVisibility:(t,e)=>{C0();const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{C0(),t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]}}}),{setVisibility:Bt,setMenuPanelTag:_s,setGuiAsset:bx,setLogoImage:pue}=pM.actions,vue=pM.reducer,Ce=I9({reducer:{stage:aY,GUI:vue,userData:hq,saveData:hle},middleware:m4({serializableCheck:!1})});let xR;function Xw(t,e=0,r=100){if(Ve.info("playing bgm"+t),t===""){xR=setTimeout(()=>{Ce.dispatch(gt({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const i=Ce.getState().stage.bgm.src;Ce.dispatch(gt({key:"bgm",value:{src:i,enter:-e,volume:r}}))}else clearTimeout(xR),Ce.dispatch(gt({key:"bgm",value:{src:t,enter:e,volume:r}}));const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())}function uv(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const Hw=()=>{Ve.warn("");for(let t=0;t<z.gameplay.performController.performList.length;t++){const e=z.gameplay.performController.performList[t];e.stopFunction(),clearTimeout(e.stopTimeout),z.gameplay.performController.performList.splice(t,1),t--}},vM=()=>{Ce.getState().stage.PerformList.forEach(e=>{mw(e.script)})},mue=t=>{const e=Ce.dispatch,r=z.backlogManager.getBacklog()[t];Ve.debug("backlog",r),xa(r.saveScene.sceneUrl).then(async i=>{if(await z.sceneManager.setCurrentScene(i,r.saveScene.sceneName,r.saveScene.sceneUrl)){const o=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(z.sceneManager.sceneData.currentScene.sceneUrl);const s=ah(o);Ru(s)}}),z.sceneManager.sceneData.currentSentenceId=r.saveScene.currentSentenceId,z.sceneManager.sceneData.sceneStack=Nr(r.saveScene.sceneStack),Hw();for(let i=z.backlogManager.getBacklog().length-1;i>t;i--)z.backlogManager.getBacklog().pop();z.backlogManager.isSaveBacklogNext=!0;const n=Nr(r.currentStageState);e(yp(n)),setTimeout(vM,0),e(Bt({component:"showBacklog",visibility:!1})),e(Bt({component:"showTextBox",visibility:!0}))},gue=t=>{const r=Ce.getState().saveData.saveData[t];Ve.debug("",r),_ue(r)};function _ue(t){if(!t){Ve.info("");return}const e=t;xa(e.sceneData.sceneUrl).then(async a=>{if(!await z.sceneManager.setCurrentScene(a,e.sceneData.sceneName,e.sceneData.sceneUrl,!0))return;const s=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(z.sceneManager.sceneData.currentScene.sceneUrl);const f=ah(s);Ru(f)}),z.sceneManager.sceneData.currentSentenceId=e.sceneData.currentSentenceId,z.sceneManager.sceneData.sceneStack=Nr(e.sceneData.sceneStack),Hw();const r=e.backlog;z.backlogManager.getBacklog().splice(0,z.backlogManager.getBacklog().length);for(const a of r)z.backlogManager.getBacklog().push(a);const n=Nr(e.nowStageState),i=Ce.dispatch;i(yp(n)),setTimeout(vM,0),i(Bt({component:"showTitle",visibility:!1})),i(Bt({component:"showMenuPanel",visibility:!1})),uv(Ce.getState().stage.bgName)}function yue(t,e){for(let r=t;r<=e;r++){const n=Ce.getState().saveData.saveData[r];Su.setItem(`${z.gameKey}-saves${r}`,n).then(()=>{Ve.info(`${r}`)})}}function zw(t,e){for(let r=t;r<=e;r++)Su.getItem(`${z.gameKey}-saves${r}`).then(n=>{Ce.dispatch(uh.saveGame({index:r,saveData:n})),Ve.info(`${r}`)})}async function xue(){const t=Ce.getState().saveData.quickSaveData;await Su.setItem(`${z.gameKey}-saves-fast`,t),Ve.info("")}async function bue(){const t=await Su.getItem(`${z.gameKey}-saves-fast`);Ce.dispatch(uh.setFastSave(t)),Ve.info("")}const bR=t=>{const e=mM(t);Ce.dispatch(uh.saveGame({index:t,saveData:e})),yue(t,t)};function mM(t,e=!0){const r=Ce.getState().stage,n=Nr(z.backlogManager.getBacklog());let i="";if(e){const o=document.getElementById("pixiCanvas"),s=document.createElement("canvas"),f=s.getContext("2d");s.width=480,s.height=270,f.drawImage(o,0,0,480,270),i=s.toDataURL("image/webp",.5),s.remove()}return{nowStageState:Nr(r),backlog:n,index:t,saveTime:new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),sceneData:{currentSentenceId:z.sceneManager.sceneData.currentSentenceId,sceneStack:Nr(z.sceneManager.sceneData.sceneStack),sceneName:z.sceneManager.sceneData.currentScene.sceneName,sceneUrl:z.sceneManager.sceneData.currentScene.sceneUrl},previewImage:i}}function Eue(){`${z.gameName}${z.gameKey}`,`${z.gameName}${z.gameKey}`}async function wue(){const t=mM(-1,!1),e=Nr(t);Ce.dispatch(uh.setFastSave(e)),await xue()}const Sue=()=>{$w(!0,!0,!1);const t=Hn("start.txt",Xn.scene);xa(t).then(e=>{z.sceneManager.setCurrentScene(e,"start.txt",t,!0).then(r=>{r&&gn()})}),Ce.dispatch(Bt({component:"showTitle",visibility:!1}))};function Ww(t,e){if(t==null)return{};var r=Zoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var Cue={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Tue=mn(Cue);var Aue=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function ER(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(Tue[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(Aue),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var Iue=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Rue=/^\s*$/,Pue=Object.create(null);function gM(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(gM,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var Oue={parse:function(t,e){e||(e={}),e.components||(e.components=Pue);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(Iue,function(f,l){if(o){if(f!=="</"+r.name+">")return;o=!1}var u,c=f.charAt(1)!=="/",h=f.startsWith("<!--"),p=l+f.length,d=t.charAt(p);if(h){var m=ER(f);return a<0?(n.push(m),n):((u=i[a]).children.push(m),n)}if(c&&(a++,(r=ER(f)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!d||d==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!c||r.voidElement)&&(a>-1&&(r.voidElement||r.name===f.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&d!=="<"&&d)){u=a===-1?n:i[a].children;var _=t.indexOf("<",p),v=t.slice(p,_===-1?void 0:_);Rue.test(v)&&(v=" "),(_>-1&&a+u.length>=0||v!==" ")&&u.push({type:"text",content:v})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+gM("",r)},"")}};function Fd(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var wR={};function T0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&wR[e[0]]||(typeof e[0]=="string"&&(wR[e[0]]=new Date),Fd.apply(void 0,e))}var _M=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function SR(t,e,r){t.loadNamespaces(e,_M(t,r))}function CR(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,_M(t,n))}function Fue(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(f,l){var u=e.services.backendConnector.state["".concat(f,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function kue(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return T0("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):Fue(t,e,r)}var Nue=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Lue={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Bue=function(e){return Lue[e]},Mue=function(e){return e.replace(Nue,Bue)};function TR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ex={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Mue};function Due(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ex=AR(AR({},Ex),t)}function yM(){return Ex}var xM;function Uue(t){xM=t}function Yw(){return xM}var jue=["format"],$ue=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zg(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function Wg(t){return t?t.props?t.props.children:t.children:[]}function Vue(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return be.isValidElement(e)})}function Tf(t){return Array.isArray(t)?t:[t]}function Gue(t,e){var r=Ur({},e);return r.props=Object.assign(t.props,e.props),r}function bM(t,e){if(!t)return"";var r="",n=Tf(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(be.isValidElement(a)){var s=Object.keys(a.props).length,f=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&f&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!f||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(f&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=bM(l,e);r+="<".concat(o,">").concat(u,"</").concat(o,">")}}else if(a===null)Fd("Trans: the passed in value is invalid - seems you passed in a null child.");else if(en(a)==="object"){var c=a.format,h=Ww(a,jue),p=Object.keys(h);if(p.length===1){var d=c?"".concat(p[0],", ").concat(c):p[0];r+="{{".concat(d,"}}")}else Fd("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else Fd("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function Xue(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var f={};function l(_){var v=Tf(_);v.forEach(function(g){typeof g!="string"&&(zg(g)?l(Wg(g)):en(g)==="object"&&!be.isValidElement(g)&&Object.assign(f,g))})}l(t);var u=Oue.parse("<0>".concat(e,"</0>")),c=Ur(Ur({},f),i);function h(_,v,g){var y=Wg(_),x=d(y,v.children,g);return Vue(y)&&x.length===0?y:x}function p(_,v,g,y,x){_.dummy&&(_.children=v),g.push(be.cloneElement(_,Ur(Ur({},_.props),{},{key:y}),x?void 0:v))}function d(_,v,g){var y=Tf(_),x=Tf(v);return x.reduce(function(b,E,w){var S=E.children&&E.children[0]&&E.children[0].content&&r.services.interpolator.interpolate(E.children[0].content,c,r.language);if(E.type==="tag"){var C=y[parseInt(E.name,10)];!C&&g.length===1&&g[0][E.name]&&(C=g[0][E.name]),C||(C={});var T=Object.keys(E.attrs).length!==0?Gue({props:E.attrs},C):C,I=be.isValidElement(T),A=I&&zg(E,!0)&&!E.voidElement,R=s&&en(T)==="object"&&T.dummy&&!I,O=en(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,E.name);if(typeof T=="string"){var F=r.services.interpolator.interpolate(T,c,r.language);b.push(F)}else if(zg(T)||A){var k=h(T,E,g);p(T,k,b,w)}else if(R){var $=d(y,E.children,g);b.push(be.cloneElement(T,Ur(Ur({},T.props),{},{key:w}),$))}else if(Number.isNaN(parseFloat(E.name)))if(O){var q=h(T,E,g);p(T,q,b,w,E.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(E.name)>-1)if(E.voidElement)b.push(be.createElement(E.name,{key:"".concat(E.name,"-").concat(w)}));else{var K=d(y,E.children,g);b.push(be.createElement(E.name,{key:"".concat(E.name,"-").concat(w)},K))}else if(E.voidElement)b.push("<".concat(E.name," />"));else{var G=d(y,E.children,g);b.push("<".concat(E.name,">").concat(G,"</").concat(E.name,">"))}else if(en(T)==="object"&&!I){var N=E.children[0]?S:null;N&&b.push(N)}else E.children.length===1&&S?b.push(be.cloneElement(T,Ur(Ur({},T.props),{},{key:w}),S)):b.push(be.cloneElement(T,Ur(Ur({},T.props),{},{key:w})))}else if(E.type==="text"){var j=n.transWrapTextNodes,M=a?n.unescape(r.services.interpolator.interpolate(E.content,c,r.language)):r.services.interpolator.interpolate(E.content,c,r.language);j?b.push(be.createElement(j,{key:"".concat(E.name,"-").concat(w)},M)):b.push(M)}return b},[])}var m=d([{dummy:!0,children:t||[]}],u,Tf(t||[]));return Wg(m[0])}function Hue(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,f=t.values,l=t.defaults,u=t.components,c=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,m=Ww(t,$ue),_=h||Yw();if(!_)return T0("You will need to pass in an i18next instance by using i18nextReactModule"),e;var v=p||_.t.bind(_)||function(A){return A};a&&(s.context=a);var g=Ur(Ur({},yM()),_.options&&_.options.react),y=c||v.ns||_.options&&_.options.defaultNS;y=typeof y=="string"?[y]:y||["translation"];var x=l||bM(e,g)||g.transEmptyNodeValue||i,b=g.hashTransKey,E=i||(b?b(x):x),w=f?s.interpolation:{interpolation:Ur(Ur({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},S=Ur(Ur(Ur(Ur({},s),{},{count:r},f),w),{},{defaultValue:x,ns:y}),C=E?v(E,S):x,T=Xue(u||e,C,_,g,S,d),I=n!==void 0?n:g.defaultTransParent;return I?be.createElement(I,m,T):T}function Gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c4(n.key),n)}}function Xi(t,e,r){return e&&RR(t.prototype,e),r&&RR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var zue={type:"3rdParty",init:function(e){Due(e.options.react),Uue(e)}},EM=be.createContext(),Wue=function(){function t(){Gi(this,t),this.usedNamespaces={}}return Xi(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),Yue=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function que(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kue(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,f=t.values,l=t.defaults,u=t.components,c=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,m=Ww(t,Yue),_=be.useContext(EM)||{},v=_.i18n,g=_.defaultNS,y=h||v||Yw(),x=p||y&&y.t.bind(y);return Hue(que({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:f,defaults:l,components:u,ns:c||x&&x.ns||g||y&&y.options&&y.options.defaultNS,i18n:y,t:p,shouldUnescape:d},m))}function wM(t){if(Array.isArray(t))return t}function Zue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],f=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);f=!0);}catch(u){l=!0,i=u}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function OR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SM(t,e){if(t){if(typeof t=="string")return OR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OR(t,e)}}function CM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jue(t,e){return wM(t)||Zue(t,e)||SM(t,e)||CM()}function FR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Que=function(e,r){var n=be.useRef();return be.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function fv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=be.useContext(EM)||{},i=n.i18n,a=n.defaultNS,o=r||i||Yw();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Wue),!o){T0("You will need to pass in an i18next instance by using initReactI18next");var s=function(C,T){return typeof T=="string"?T:T&&en(T)==="object"&&typeof T.defaultValue=="string"?T.defaultValue:Array.isArray(C)?C[C.length-1]:C},f=[s,{},!1];return f.t=s,f.i18n={},f.ready=!1,f}o.options.react&&o.options.react.wait!==void 0&&T0("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=Yg(Yg(Yg({},yM()),o.options.react),e),u=l.useSuspense,c=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var p=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(S){return kue(S,o,l)});function d(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],c)}var m=be.useState(d),_=Jue(m,2),v=_[0],g=_[1],y=h.join();e.lng&&(y="".concat(e.lng).concat(y));var x=Que(y),b=be.useRef(!0);be.useEffect(function(){var S=l.bindI18n,C=l.bindI18nStore;b.current=!0,!p&&!u&&(e.lng?CR(o,e.lng,h,function(){b.current&&g(d)}):SR(o,h,function(){b.current&&g(d)})),p&&x&&x!==y&&b.current&&g(d);function T(){b.current&&g(d)}return S&&o&&o.on(S,T),C&&o&&o.store.on(C,T),function(){b.current=!1,S&&o&&S.split(" ").forEach(function(I){return o.off(I,T)}),C&&o&&C.split(" ").forEach(function(I){return o.store.off(I,T)})}},[o,y]);var E=be.useRef(!0);be.useEffect(function(){b.current&&!E.current&&g(d),E.current=!1},[o,c]);var w=[v,o,p];if(w.t=v,w.i18n=o,w.ready=p,p||!p&&!u)return w;throw new Promise(function(S){e.lng?CR(o,e.lng,h,function(){return S()}):SR(o,h,function(){return S()})})}function Fo(t){const{t:e}=fv(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}function efe(t){return sv.parseScssToWebgalStyleObj(t)}function ko(t){const[e,r]=be.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function tfe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function rfe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var nfe=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(rfe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=tfe(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),xn="-ms-",A0="-moz-",Ut="-webkit-",TM="comm",qw="rule",Kw="decl",ife="@import",AM="@keyframes",afe="@layer",ofe=Math.abs,cv=String.fromCharCode,sfe=Object.assign;function lfe(t,e){return cn(t,0)^45?(((e<<2^cn(t,0))<<2^cn(t,1))<<2^cn(t,2))<<2^cn(t,3):0}function IM(t){return t.trim()}function ufe(t,e){return(t=e.exec(t))?t[0]:t}function jt(t,e,r){return t.replace(e,r)}function wx(t,e){return t.indexOf(e)}function cn(t,e){return t.charCodeAt(e)|0}function gc(t,e,r){return t.slice(e,r)}function Ji(t){return t.length}function Zw(t){return t.length}function Bh(t,e){return e.push(t),t}function ffe(t,e){return t.map(e).join("")}var hv=1,Ql=1,RM=0,qn=0,kr=0,Pu="";function dv(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:hv,column:Ql,length:o,return:""}}function af(t,e){return sfe(dv("",null,null,"",null,null,0),t,{length:-t.length},e)}function cfe(){return kr}function hfe(){return kr=qn>0?cn(Pu,--qn):0,Ql--,kr===10&&(Ql=1,hv--),kr}function ii(){return kr=qn<RM?cn(Pu,qn++):0,Ql++,kr===10&&(Ql=1,hv++),kr}function ua(){return cn(Pu,qn)}function kd(){return qn}function fh(t,e){return gc(Pu,t,e)}function _c(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PM(t){return hv=Ql=1,RM=Ji(Pu=t),qn=0,[]}function OM(t){return Pu="",t}function Nd(t){return IM(fh(qn-1,Sx(t===91?t+2:t===40?t+1:t)))}function dfe(t){for(;(kr=ua())&&kr<33;)ii();return _c(t)>2||_c(kr)>3?"":" "}function pfe(t,e){for(;--e&&ii()&&!(kr<48||kr>102||kr>57&&kr<65||kr>70&&kr<97););return fh(t,kd()+(e<6&&ua()==32&&ii()==32))}function Sx(t){for(;ii();)switch(kr){case t:return qn;case 34:case 39:t!==34&&t!==39&&Sx(kr);break;case 40:t===41&&Sx(t);break;case 92:ii();break}return qn}function vfe(t,e){for(;ii()&&t+kr!==47+10;)if(t+kr===42+42&&ua()===47)break;return"/*"+fh(e,qn-1)+"*"+cv(t===47?t:ii())}function mfe(t){for(;!_c(ua());)ii();return fh(t,qn)}function gfe(t){return OM(Ld("",null,null,null,[""],t=PM(t),0,[0],t))}function Ld(t,e,r,n,i,a,o,s,f){for(var l=0,u=0,c=o,h=0,p=0,d=0,m=1,_=1,v=1,g=0,y="",x=i,b=a,E=n,w=y;_;)switch(d=g,g=ii()){case 40:if(d!=108&&cn(w,c-1)==58){wx(w+=jt(Nd(g),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:w+=Nd(g);break;case 9:case 10:case 13:case 32:w+=dfe(d);break;case 92:w+=pfe(kd()-1,7);continue;case 47:switch(ua()){case 42:case 47:Bh(_fe(vfe(ii(),kd()),e,r),f);break;default:w+="/"}break;case 123*m:s[l++]=Ji(w)*v;case 125*m:case 59:case 0:switch(g){case 0:case 125:_=0;case 59+u:v==-1&&(w=jt(w,/\f/g,"")),p>0&&Ji(w)-c&&Bh(p>32?NR(w+";",n,r,c-1):NR(jt(w," ","")+";",n,r,c-2),f);break;case 59:w+=";";default:if(Bh(E=kR(w,e,r,l,u,i,s,y,x=[],b=[],c),a),g===123)if(u===0)Ld(w,e,E,E,x,a,c,s,b);else switch(h===99&&cn(w,3)===110?100:h){case 100:case 108:case 109:case 115:Ld(t,E,E,n&&Bh(kR(t,E,E,0,0,i,s,y,i,x=[],c),b),i,b,c,s,n?x:b);break;default:Ld(w,E,E,E,[""],b,0,s,b)}}l=u=p=0,m=v=1,y=w="",c=o;break;case 58:c=1+Ji(w),p=d;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&hfe()==125)continue}switch(w+=cv(g),g*m){case 38:v=u>0?1:(w+="\f",-1);break;case 44:s[l++]=(Ji(w)-1)*v,v=1;break;case 64:ua()===45&&(w+=Nd(ii())),h=ua(),u=c=Ji(y=w+=mfe(kd())),g++;break;case 45:d===45&&Ji(w)==2&&(m=0)}}return a}function kR(t,e,r,n,i,a,o,s,f,l,u){for(var c=i-1,h=i===0?a:[""],p=Zw(h),d=0,m=0,_=0;d<n;++d)for(var v=0,g=gc(t,c+1,c=ofe(m=o[d])),y=t;v<p;++v)(y=IM(m>0?h[v]+" "+g:jt(g,/&\f/g,h[v])))&&(f[_++]=y);return dv(t,e,r,i===0?qw:s,f,l,u)}function _fe(t,e,r){return dv(t,e,r,TM,cv(cfe()),gc(t,2,-2),0)}function NR(t,e,r,n){return dv(t,e,r,Kw,gc(t,0,n),gc(t,n+1,-1),n)}function Dl(t,e){for(var r="",n=Zw(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function yfe(t,e,r,n){switch(t.type){case afe:if(t.children.length)break;case ife:case Kw:return t.return=t.return||t.value;case TM:return"";case AM:return t.return=t.value+"{"+Dl(t.children,n)+"}";case qw:t.value=t.props.join(",")}return Ji(r=Dl(t.children,n))?t.return=t.value+"{"+r+"}":""}function xfe(t){var e=Zw(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function bfe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Efe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var wfe=function(e,r,n){for(var i=0,a=0;i=a,a=ua(),i===38&&a===12&&(r[n]=1),!_c(a);)ii();return fh(e,qn)},Sfe=function(e,r){var n=-1,i=44;do switch(_c(i)){case 0:i===38&&ua()===12&&(r[n]=1),e[n]+=wfe(qn-1,r,n);break;case 2:e[n]+=Nd(i);break;case 4:if(i===44){e[++n]=ua()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=cv(i)}while(i=ii());return e},Cfe=function(e,r){return OM(Sfe(PM(e),r))},LR=new WeakMap,Tfe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!LR.get(n))&&!i){LR.set(e,!0);for(var a=[],o=Cfe(r,a),s=n.props,f=0,l=0;f<o.length;f++)for(var u=0;u<s.length;u++,l++)e.props[l]=a[f]?o[f].replace(/&\f/g,s[u]):s[u]+" "+o[f]}}},Afe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function FM(t,e){switch(lfe(t,e)){case 5103:return Ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+t+A0+t+xn+t+t;case 6828:case 4268:return Ut+t+xn+t+t;case 6165:return Ut+t+xn+"flex-"+t+t;case 5187:return Ut+t+jt(t,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+xn+"flex-$1$2")+t;case 5443:return Ut+t+xn+"flex-item-"+jt(t,/flex-|-self/,"")+t;case 4675:return Ut+t+xn+"flex-line-pack"+jt(t,/align-content|flex-|-self/,"")+t;case 5548:return Ut+t+xn+jt(t,"shrink","negative")+t;case 5292:return Ut+t+xn+jt(t,"basis","preferred-size")+t;case 6060:return Ut+"box-"+jt(t,"-grow","")+Ut+t+xn+jt(t,"grow","positive")+t;case 4554:return Ut+jt(t,/([^-])(transform)/g,"$1"+Ut+"$2")+t;case 6187:return jt(jt(jt(t,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),t,"")+t;case 5495:case 3959:return jt(t,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return jt(jt(t,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+xn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+t+t;case 4095:case 3583:case 4068:case 2532:return jt(t,/(.+)-inline(.+)/,Ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ji(t)-1-e>6)switch(cn(t,e+1)){case 109:if(cn(t,e+4)!==45)break;case 102:return jt(t,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+A0+(cn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~wx(t,"stretch")?FM(jt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(cn(t,e+1)!==115)break;case 6444:switch(cn(t,Ji(t)-3-(~wx(t,"!important")&&10))){case 107:return jt(t,":",":"+Ut)+t;case 101:return jt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ut+(cn(t,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+xn+"$2box$3")+t}break;case 5936:switch(cn(t,e+11)){case 114:return Ut+t+xn+jt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ut+t+xn+jt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ut+t+xn+jt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ut+t+xn+t+t}return t}var Ife=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case Kw:e.return=FM(e.value,e.length);break;case AM:return Dl([af(e,{value:jt(e.value,"@","@"+Ut)})],i);case qw:if(e.length)return ffe(e.props,function(a){switch(ufe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dl([af(e,{props:[jt(a,/:(read-\w+)/,":"+A0+"$1")]})],i);case"::placeholder":return Dl([af(e,{props:[jt(a,/:(plac\w+)/,":"+Ut+"input-$1")]}),af(e,{props:[jt(a,/:(plac\w+)/,":"+A0+"$1")]}),af(e,{props:[jt(a,/:(plac\w+)/,xn+"input-$1")]})],i)}return""})}},Rfe=[Ife],Pfe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var _=m.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Rfe,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var _=m.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)a[_[v]]=!0;s.push(m)});var f,l=[Tfe,Afe];{var u,c=[yfe,bfe(function(m){u.insert(m)})],h=xfe(l.concat(i,c)),p=function(_){return Dl(gfe(_),h)};f=function(_,v,g,y){u=g,p(_?_+"{"+v.styles+"}":v.styles),y&&(d.inserted[v.name]=!0)}}var d={key:r,sheet:new nfe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:f};return d.sheet.hydrate(s),d};function Ofe(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Ffe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kfe=/[A-Z]|^ms/g,Nfe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kM=function(e){return e.charCodeAt(1)===45},BR=function(e){return e!=null&&typeof e!="boolean"},qg=Efe(function(t){return kM(t)?t:t.replace(kfe,"-$&").toLowerCase()}),MR=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Nfe,function(n,i,a){return Qi={name:i,styles:a,next:Qi},i})}return Ffe[e]!==1&&!kM(e)&&typeof r=="number"&&r!==0?r+"px":r};function yc(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Qi={name:r.name,styles:r.styles,next:Qi},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Qi={name:n.name,styles:n.styles,next:Qi},n=n.next;var i=r.styles+";";return i}return Lfe(t,e,r)}case"function":{if(t!==void 0){var a=Qi,o=r(t);return Qi=a,yc(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function Lfe(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=yc(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":BR(o)&&(n+=qg(a)+":"+MR(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)BR(o[s])&&(n+=qg(a)+":"+MR(a,o[s])+";");else{var f=yc(t,e,o);switch(a){case"animation":case"animationName":{n+=qg(a)+":"+f+";";break}default:n+=a+"{"+f+"}"}}}return n}var DR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Qi,Kg=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";Qi=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=yc(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=yc(n,r,e[s]),i&&(a+=o[s]);DR.lastIndex=0;for(var f="",l;(l=DR.exec(a))!==null;)f+="-"+l[1];var u=Ofe(a)+f;return{name:u,styles:a,next:Qi}},Bfe=!0;function NM(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var Mfe=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||Bfe===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},Dfe=function(e,r,n){Mfe(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function UR(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function jR(t,e,r){var n=[],i=NM(t,n,r);return n.length<2?r:i+e(n)}var Ufe=function(e){var r=Pfe(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var f=arguments.length,l=new Array(f),u=0;u<f;u++)l[u]=arguments[u];var c=Kg(l,r.registered,void 0);return Dfe(r,c,!1),r.key+"-"+c.name},i=function(){for(var f=arguments.length,l=new Array(f),u=0;u<f;u++)l[u]=arguments[u];var c=Kg(l,r.registered),h="animation-"+c.name;return UR(r,{name:c.name,styles:"@keyframes "+h+"{"+c.styles+"}"}),h},a=function(){for(var f=arguments.length,l=new Array(f),u=0;u<f;u++)l[u]=arguments[u];var c=Kg(l,r.registered);UR(r,c)},o=function(){for(var f=arguments.length,l=new Array(f),u=0;u<f;u++)l[u]=arguments[u];return jR(r.registered,n,jfe(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(f){f.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:NM.bind(null,r.registered),merge:jR.bind(null,r.registered,n)}},jfe=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},LM=Ufe({key:"css"}),$fe=LM.injectGlobal,Vfe=LM.css;function BM(t){const e=ko({classNameStyles:{},others:""}),r=dt(a=>a.stage.replacedUIlable),n=(a,o)=>{var f;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=Vfe(((f=e.value.classNameStyles)==null?void 0:f[s])??"");return`${o} ${l}`}return o},i=async()=>{Ve.debug(" Scss ",t);const o=(await dc.get(`game/template/${t}`)).data;e.set(efe(o))};return be.useEffect(()=>{i()},[]),be.useEffect(()=>{$fe(e.value.others)},[e.value.others]),Gfe(i),n}function Gfe(t){const e=()=>{t()};be.useEffect(()=>(z.events.styleUpdate.on(e),()=>z.events.styleUpdate.off(e)),[])}function Ou(t){const e=dt(t),r=be.useRef(e);return be.useEffect(()=>{r.current=e},[e]),r}function Fu(t){be.useEffect(()=>{t()},[])}function ku(t){be.useEffect(()=>function(){t()},[])}function Xfe(t){be.useEffect(()=>{t()})}const Hfe="_main_13uhu_1",zfe="_singleButton_13uhu_13",Wfe="_singleButton_fast_13uhu_20",Yfe="_singleButton_auto_13uhu_24",qfe="_singleButton_auto_active_13uhu_28",Kfe="_singleButton_fast_active_13uhu_32",Zfe="_autoIcon_13uhu_36",Jfe="_fastIcon_13uhu_49",Qfe="_historyIcon_13uhu_62",ece="_fastSlPreview_13uhu_75",tce="_fastSlEnter_13uhu_1",rce="_fastsave_13uhu_89",nce="_fastSPreview_13uhu_89",ice="_fastload_13uhu_93",ace="_fastLPreview_13uhu_93",oce="_slPreviewMain_13uhu_105",sce="_imgContainer_13uhu_113",lce="_textContainer_13uhu_121",Kr={main:Hfe,singleButton:zfe,singleButton_fast:Wfe,singleButton_auto:Yfe,singleButton_auto_active:qfe,singleButton_fast_active:Kfe,autoIcon:Zfe,fastIcon:Jfe,historyIcon:Qfe,fastSlPreview:ece,fastSlEnter:tce,fastsave:rce,fastSPreview:nce,fastload:ice,fastLPreview:ace,slPreviewMain:oce,imgContainer:sce,textContainer:lce},MM=t=>{const e=document.getElementById("Button_ControlPanel_auto");if(e){let r=Kr.singleButton+" "+Kr.singleButton_auto;t?e.className=r+" "+Kr.singleButton_auto_active:e.className=r}},pv=()=>{z.gameplay.isAuto=!1,MM(!1),z.gameplay.autoInterval!==null&&(clearInterval(z.gameplay.autoInterval),z.gameplay.autoInterval=null),z.gameplay.autoTimeout!==null&&(clearTimeout(z.gameplay.autoTimeout),z.gameplay.autoTimeout=null)},DM=()=>{z.gameplay.isAuto?pv():(z.gameplay.isAuto=!0,MM(!0),z.gameplay.autoInterval=setInterval(fce,100))},uce=()=>{gn(),z.gameplay.autoTimeout=null},fce=()=>{const e=750-250*Ce.getState().userData.optionData.autoSpeed;let r=!1;z.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&z.gameplay.autoTimeout===null&&(z.gameplay.autoTimeout=setTimeout(uce,e))},UM=t=>{const e=document.getElementById("Button_ControlPanel_fast"),r=Kr.singleButton+" "+Kr.singleButton_fast;e&&(t?e.className=r+" "+Kr.singleButton_fast_active:e.className=r)},Ul=()=>{$M()&&(z.gameplay.isFast=!1,UM(!1),z.gameplay.fastInterval!==null&&(clearInterval(z.gameplay.fastInterval),z.gameplay.fastInterval=null))},jM=()=>{$M()||(z.gameplay.isFast=!0,UM(!0),z.gameplay.fastInterval=setInterval(()=>{console.log(""),gn()},uL.fast_timeout))},$M=function(){return z.gameplay.isFast},Jw=()=>{Ul(),pv()},VM=()=>{z.gameplay.isFast?Ul():jM()},cce="_Backlog_main_1bt22_2",hce="_backlog_soft_in_1bt22_1",dce="_Backlog_main_out_1bt22_17",pce="_backlog_soft_out_1bt22_1",vce="_Backlog_main_out_IndexHide_1bt22_30",mce="_Backlog_main_DisableScroll_1bt22_34",gce="_backlog_top_icon_1bt22_38",_ce="_backlog_title_1bt22_62",yce="_backlog_content_1bt22_74",xce="_backlog_item_1bt22_100",bce="_backlog_item_in_1bt22_1",Ece="_backlog_item_button_element_1bt22_112",wce="_backlog_item_out_1bt22_142",Sce="_backlog_func_area_1bt22_151",Cce="_backlog_item_content_name_1bt22_157",Tce="_backlog_item_content_1bt22_157",Ace="_backlog_content_container_1bt22_177",Ice="_sound_icon_1bt22_194",Rce="_backlog_item_content_text_1bt22_207",Pce="_backlog_icon_softin_1bt22_1",bn={Backlog_main:cce,backlog_soft_in:hce,Backlog_main_out:dce,backlog_soft_out:pce,Backlog_main_out_IndexHide:vce,Backlog_main_DisableScroll:mce,backlog_top_icon:gce,backlog_title:_ce,backlog_content:yce,backlog_item:xce,backlog_item_in:bce,backlog_item_button_element:Ece,backlog_item_out:wce,backlog_func_area:Sce,backlog_item_content_name:Cce,backlog_item_content:Tce,backlog_content_container:Ace,sound_icon:Ice,backlog_item_content_text:Rce,backlog_icon_softin:Pce};var Oce=Vi,Fce=function(){return Oce.Date.now()},kce=Fce,Nce=/\s/;function Lce(t){for(var e=t.length;e--&&Nce.test(t.charAt(e)););return e}var Bce=Lce,Mce=Bce,Dce=/^\s+/;function Uce(t){return t&&t.slice(0,Mce(t)+1).replace(Dce,"")}var jce=Uce,$ce=jce,$R=_a,Vce=Mp,VR=0/0,Gce=/^[-+]0x[0-9a-f]+$/i,Xce=/^0b[01]+$/i,Hce=/^0o[0-7]+$/i,zce=parseInt;function Wce(t){if(typeof t=="number")return t;if(Vce(t))return VR;if($R(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$R(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=$ce(t);var r=Xce.test(t);return r||Hce.test(t)?zce(t.slice(2),r?2:8):Gce.test(t)?VR:+t}var Yce=Wce,qce=_a,Zg=kce,GR=Yce,Kce="Expected a function",Zce=Math.max,Jce=Math.min;function Qce(t,e,r){var n,i,a,o,s,f,l=0,u=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(Kce);e=GR(e)||0,qce(r)&&(u=!!r.leading,c="maxWait"in r,a=c?Zce(GR(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(E){var w=n,S=i;return n=i=void 0,l=E,o=t.apply(S,w),o}function d(E){return l=E,s=setTimeout(v,e),u?p(E):o}function m(E){var w=E-f,S=E-l,C=e-w;return c?Jce(C,a-S):C}function _(E){var w=E-f,S=E-l;return f===void 0||w>=e||w<0||c&&S>=a}function v(){var E=Zg();if(_(E))return g(E);s=setTimeout(v,m(E))}function g(E){return s=void 0,h&&n?p(E):(n=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,n=f=i=s=void 0}function x(){return s===void 0?o:g(Zg())}function b(){var E=Zg(),w=_(E);if(n=arguments,i=this,f=E,w){if(s===void 0)return d(f);if(c)return clearTimeout(s),s=setTimeout(v,e),p(f)}return s===void 0&&(s=setTimeout(v,e)),o}return b.cancel=y,b.flush=x,b}var ehe=Qce,the=ehe,rhe=_a,nhe="Expected a function";function ihe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(nhe);return rhe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),the(t,e,{leading:n,maxWait:e,trailing:i})}var ahe=ihe;const ohe=mn(ahe),El="keyboard"in navigator&&navigator.keyboard;function she(t){lhe(),fhe(),hhe(),che(),dhe(),_he(),xhe()}function lhe(){const t=Ou(f=>f.GUI),e=mv(),r=vv(t),n=GM(t),i=phe(t),a=mhe(t),o=vhe(t),s=be.useCallback(f=>i()?(e("showGlobalDialog",!1),f.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),f.preventDefault(),!1),[]);Fu(()=>{document.addEventListener("contextmenu",s)}),ku(()=>{document.removeEventListener("contextmenu",s)})}let uhe=setTimeout(()=>{},0);function fhe(){const t=Ou(s=>s.GUI),e=mv(),r=vv(t),n=GM(t),i=XM(t),a=be.useCallback(ohe(()=>{gn()},100),[]),o=be.useRef(0);be.useCallback(s=>{if(i())return;const f=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",l=s.ctrlKey,u=document.querySelector(`.${bn.backlog_content}`);if(r()&&f==="up"&&!l)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&f==="down"&&!l){if(u){let c=yhe(u),h=new Date().getTime();c&&h-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=h}}else r()&&f==="down"&&!l&&(clearTimeout(uhe),z.gameplay.isFast=!0,setTimeout(()=>{z.gameplay.isFast=!1},150),a())},[]),Fu(()=>{}),ku(()=>{})}function che(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=Ou(s=>s.GUI),n=be.useCallback(()=>r.current.showTitle,[r]),i=XM(r),a=mv(),o=be.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),Jw()))},[]);Fu(()=>{document.addEventListener("keyup",o)}),ku(()=>{document.removeEventListener("keyup",o)})}function hhe(){const t=Ou(o=>o.GUI),e=vv(t),r=be.useCallback(o=>o.keyCode===17,[]),n=be.useCallback(o=>{r(o)&&e()&&jM()},[]),i=be.useCallback(o=>{r(o)&&e()&&Ul()},[]),a=be.useCallback(o=>{Ul()},[]);Fu(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",a)}),ku(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",a)}),Xfe(()=>{e()||Ul()})}function dhe(){const t=ghe(),e=be.useCallback(async r=>{t()&&await wue()},[]);Fu(()=>{window.addEventListener("beforeunload",e)}),ku(()=>{window.removeEventListener("beforeunload",e)})}function vv(t){return be.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function GM(t){return be.useCallback(()=>t.current.showBacklog,[t])}function phe(t){return be.useCallback(()=>t.current.showGlobalDialog,[t])}function vhe(t){return be.useCallback(()=>t.current.showExtra,[t])}function XM(t){return be.useCallback(()=>t.current.showPanicOverlay,[t])}function mhe(t){return be.useCallback(()=>[zt.Save,zt.Load,zt.Option].includes(t.current.currentMenuTag),[t])}function ghe(){return be.useCallback(()=>z.sceneManager.sceneData.currentSentenceId!==0,[z.sceneManager.sceneData])}function mv(){const t=_n();return(e,r)=>{t(Bt({component:e,visibility:r}))}}function _he(){const t=Ou(f=>f.GUI),e=vv(t),r=mv(),n=be.useRef(!1),i=be.useCallback(f=>f.keyCode===32||f.keyCode===13,[]),a=be.useCallback(f=>{if(i(f)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}Jw(),gn(),n.current=!0}},[]),o=be.useCallback(f=>{i(f)&&e()&&(n.current=!1)},[]),s=be.useCallback(f=>{n.current=!1},[]);Fu(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),ku(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function yhe(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function xhe(){const t=dt(n=>n.userData),e=_n(),r=t.optionData.fullScreen;be.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==la.on?(e(Li({key:"fullScreen",value:la.on})),fn()):(e(Li({key:"fullScreen",value:la.off})),fn()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const bhe=()=>{const t=dt(u=>u.userData),e=dt(u=>u.GUI),r=_n(),n=t.optionData.fullScreen,i=e.titleBg,a=i===""?"rgba(0,0,0,1)":`url("${i}")`,o=Fo("title."),{playSeEnter:s,playSeClick:f}=Jn(),l=BM("UI/Title/title.scss");return B.jsxs(B.Fragment,{children:[e.showTitle&&B.jsx("div",{className:l("Title_backup_background",Qn.Title_backup_background)}),B.jsx("div",{id:"enter_game_target",onClick:()=>{Xw(e.titleBgm),r(Bt({component:"isEnterGame",visibility:!0})),n===la.on&&(document.documentElement.requestFullscreen(),El&&El.lock(["Escape","F11"]))},onMouseEnter:s}),e.showTitle&&B.jsx("div",{className:l("Title_main",Qn.Title_main),style:{backgroundImage:a,backgroundSize:"cover"},children:B.jsxs("div",{className:l("Title_buttonList",Qn.Title_buttonList),children:[B.jsx("div",{className:l("Title_button",Qn.Title_button),onClick:()=>{Sue(),f()},onMouseEnter:s,children:B.jsx("div",{className:l("Title_button_text",Qn.Title_button_text),children:o("start.title")})}),B.jsx("div",{className:l("Title_button",Qn.Title_button),onClick:()=>{f(),r(Bt({component:"showMenuPanel",visibility:!0})),r(_s(zt.Load))},onMouseEnter:s,children:B.jsx("div",{className:l("Title_button_text",Qn.Title_button_text),children:o("load.title")})}),B.jsx("div",{className:l("Title_button",Qn.Title_button),onClick:()=>{f(),r(Bt({component:"showMenuPanel",visibility:!0})),r(_s(zt.Option))},onMouseEnter:s,children:B.jsx("div",{className:l("Title_button_text",Qn.Title_button_text),children:o("options.title")})}),B.jsx("div",{className:l("Title_button",Qn.Title_button),onClick:()=>{f(),r(Bt({component:"showExtra",visibility:!0}))},onMouseEnter:s,children:B.jsx("div",{className:l("Title_button_text",Qn.Title_button_text),children:o("extra.title")})}),B.jsx("div",{className:l("Title_button",Qn.Title_button),onClick:()=>{f(),window.history.back()},onMouseEnter:s,children:B.jsx("div",{className:l("Title_button_text",Qn.Title_button_text),children:o("quit.title")})})]})})]})},Ehe="_Logo_main_1bne2_1",whe="_Logo_Back_1bne2_32",She="_animationActive_1bne2_46",Che="_fadeout_1bne2_1",Jg={Logo_main:Ehe,"change-img-anim":"_change-img-anim_1bne2_1",Logo_Back:whe,animationActive:She,fadeout:Che},The=()=>{const t=dt(f=>f.GUI),e=t.logoImage,r=t.isEnterGame,n=ko(-1),i=ko(-1),a=5e3,o=()=>{clearTimeout(i.value),n.value<e.length-1?(n.set(n.value+1),i.set(setTimeout(o,a))):n.set(-1)};be.useEffect(()=>{r&&e.length>0&&(n.set(0),i.set(setTimeout(o,a)))},[r,e]);const s=n.value===-1?"":e[n.value];return B.jsxs(B.Fragment,{children:[n.value!==-1&&B.jsx("div",{className:Jg.Logo_Back+" "+(n.value===e.length-1?Jg.animationActive:""),style:{animationDuration:`${a}ms`}},n.value+"wh"),s!==""&&B.jsx("div",{className:Jg.Logo_main,onClick:o,style:{backgroundImage:`url("${s}")`,animationDuration:`${a}ms`}},n.value+"bg")]})},Ahe=t=>{const e=Ce.getState().GUI,r=Ce.dispatch;dc.get(t).then(n=>{var o;let i=n.data;const a=sv.parseConfig(i);Ve.info("",a),e&&a.forEach(s=>{const{command:f,args:l}=s;switch(f){case"Title_img":{const u=Hn(l.join(""),Xn.background);r(bx({asset:"titleBg",value:u})),uv(u);break}case"Game_Logo":{const u=l.map(c=>Hn(c,Xn.background));r(pue(u));break}case"Title_bgm":{const u=Hn(l[0],Xn.bgm);r(bx({asset:"titleBgm",value:u}));break}case"Game_name":{z.gameName=l[0],document.title=l[0];break}case"Game_key":{z.gameKey=l[0],C0(),bue(),zw(0,0);break}}}),(o=window==null?void 0:window.renderPromise)==null||o.call(window),delete window.renderPromise,Eue()})},Ihe=(t,e)=>{Ve.warn(""+t+":"+e);const r=Ce.dispatch;r(Bt({component:"showTitle",visibility:!1})),r(Bt({component:"showMenuPanel",visibility:!1})),r(Bt({component:"isShowLogo",visibility:!1}));const n=document.getElementById("Title_enter_page");n&&(n.style.display="none"),$w(!0);const i=Hn(t,Xn.scene);setTimeout(()=>{xa(i).then(async a=>{if(!await z.sceneManager.setCurrentScene(a,"start.txt",i))return;const s=z.sceneManager.sceneData.currentScene.sceneName;z.gameplay.isFast=!0,z.gameplay.isSyncingWithOrigine=!0,Qw(e,s)})},16)};function Qw(t,e){z.sceneManager.sceneData.currentSentenceId<t&&z.sceneManager.sceneData.currentScene.sceneName===e?(gn(),setTimeout(()=>Qw(t,e),100)):(z.gameplay.isSyncingWithOrigine=!1,z.gameplay.isFast=!1)}const Rhe=()=>{window.JMP=Qw};var Af=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(Af||{});const Phe=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}:9999`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),Ve.info("socket"+i);const a=new WebSocket(i);a.onopen=()=>{Ve.info("socket"),window.pubsub.publish("isPreviewMode",!0);function o(){const s={event:"message",data:{command:Af.SYNCFC,sceneMsg:{scene:z.sceneManager.sceneData.currentScene.sceneName,sentence:z.sceneManager.sceneData.currentSentenceId},stageSyncMsg:Ce.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===Af.JUMP&&Ihe(l.sceneMsg.scene,l.sceneMsg.sentence),l.command===Af.EXE_COMMAND){const u=l.message,h=sv.parse(u,"temp.txt","temp.txt").sentenceList[0];mw(h)}if(l.command===Af.REFETCH_TEMPLATE_FILES){const u=document.getElementById("Title_enter_page");u&&(u.style.display="none"),z.events.styleUpdate.emit()}},a.onerror=o=>{window.pubsub.publish("isPreviewMode",!0),Ve.info(" Terre ")}};function Ohe(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function Fhe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(f,l){if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(c){o(f,c)},function(c){i[f]={status:"rejected",reason:c},--a===0&&r(i)});return}}i[f]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function HM(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}HM.prototype=Error.prototype;function khe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new HM(a,"All promises were rejected"))})}catch(s){n(s)}})}var Nhe=setTimeout;function zM(t){return!!(t&&typeof t.length<"u")}function Lhe(){}function Bhe(t,e){return function(){t.apply(e,arguments)}}function pr(t){if(!(this instanceof pr))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],YM(t,this)}function WM(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,pr._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?Cx:xc)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){xc(e.promise,i);return}Cx(e.promise,n)})}function Cx(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof pr){t._state=3,t._value=e,Tx(t);return}else if(typeof r=="function"){YM(Bhe(r,e),t);return}}t._state=1,t._value=e,Tx(t)}catch(n){xc(t,n)}}function xc(t,e){t._state=2,t._value=e,Tx(t)}function Tx(t){t._state===2&&t._deferreds.length===0&&pr._immediateFn(function(){t._handled||pr._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)WM(t,t._deferreds[e]);t._deferreds=null}function Mhe(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function YM(t,e){var r=!1;try{t(function(n){r||(r=!0,Cx(e,n))},function(n){r||(r=!0,xc(e,n))})}catch(n){if(r)return;r=!0,xc(e,n)}}pr.prototype.catch=function(t){return this.then(null,t)};pr.prototype.then=function(t,e){var r=new this.constructor(Lhe);return WM(this,new Mhe(t,e,r)),r};pr.prototype.finally=Ohe;pr.all=function(t){return new pr(function(e,r){if(!zM(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,f){try{if(f&&(typeof f=="object"||typeof f=="function")){var l=f.then;if(typeof l=="function"){l.call(f,function(u){a(s,u)},r);return}}n[s]=f,--i===0&&e(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])})};pr.any=khe;pr.allSettled=Fhe;pr.resolve=function(t){return t&&typeof t=="object"&&t.constructor===pr?t:new pr(function(e){e(t)})};pr.reject=function(t){return new pr(function(e,r){r(t)})};pr.race=function(t){return new pr(function(e,r){if(!zM(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)pr.resolve(t[n]).then(e,r)})};pr._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){Nhe(t,0)};pr._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=pr);Object.assign||(Object.assign=G5);var Dhe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var Uhe=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-Uhe}}var Qg=Date.now(),XR=["ms","moz","webkit","o"];for(var e_=0;e_<XR.length&&!globalThis.requestAnimationFrame;++e_){var t_=XR[e_];globalThis.requestAnimationFrame=globalThis[t_+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[t_+"CancelAnimationFrame"]||globalThis[t_+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=Dhe+Qg-e;return r<0&&(r=0),Qg=e,globalThis.self.setTimeout(function(){Qg=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var r_=/iPhone/i,HR=/iPod/i,zR=/iPad/i,WR=/\biOS-universal(?:.+)Mac\b/i,n_=/\bAndroid(?:.+)Mobile\b/i,YR=/Android/i,Qs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Mh=/Silk/i,Sa=/Windows Phone/i,qR=/\bWindows(?:.+)ARM\b/i,KR=/BlackBerry/i,ZR=/BB10/i,JR=/Opera Mini/i,QR=/\b(CriOS|Chrome)(?:.+)Mobile/i,eP=/Mobile(?:.+)Firefox\b/i,tP=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function jhe(t){return function(e){return e.test(t)}}function $he(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=jhe(r),a={apple:{phone:i(r_)&&!i(Sa),ipod:i(HR),tablet:!i(r_)&&(i(zR)||tP(e))&&!i(Sa),universal:i(WR),device:(i(r_)||i(HR)||i(zR)||i(WR)||tP(e))&&!i(Sa)},amazon:{phone:i(Qs),tablet:!i(Qs)&&i(Mh),device:i(Qs)||i(Mh)},android:{phone:!i(Sa)&&i(Qs)||!i(Sa)&&i(n_),tablet:!i(Sa)&&!i(Qs)&&!i(n_)&&(i(Mh)||i(YR)),device:!i(Sa)&&(i(Qs)||i(Mh)||i(n_)||i(YR))||i(/\bokhttp\b/i)},windows:{phone:i(Sa),tablet:i(qR),device:i(Sa)||i(qR)},other:{blackberry:i(KR),blackberry10:i(ZR),opera:i(JR),firefox:i(eP),chrome:i(QR),device:i(KR)||i(ZR)||i(JR)||i(eP)||i(QR)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _i=$he(globalThis.navigator);function Vhe(t){var e=!0;if(_i.tablet||_i.phone){if(_i.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(_i.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function Ghe(){return!_i.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rP;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(rP||(rP={}));var nP;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(nP||(nP={}));var iP;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(iP||(iP={}));var aP;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(aP||(aP={}));var oP;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(oP||(oP={}));var sP;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(sP||(sP={}));var lP;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(lP||(lP={}));var uP;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(uP||(uP={}));var fP;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(fP||(fP={}));var Ax;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Ax||(Ax={}));var Ix;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ix||(Ix={}));var Rx;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Rx||(Rx={}));var cP;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(cP||(cP={}));var hP;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(hP||(hP={}));var Px;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Px||(Px={}));var Hf;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Hf||(Hf={}));var dP;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(dP||(dP={}));var Ox;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Ox||(Ox={}));var pP;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(pP||(pP={}));var Ye={MIPMAP_TEXTURES:Rx.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Ox.NONE,SPRITE_MAX_TEXTURES:Vhe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Px.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Ix.CLAMP,SCALE_MODE:Ax.LINEAR,PRECISION_VERTEX:Hf.HIGH,PRECISION_FRAGMENT:_i.apple.device?Hf.HIGH:Hf.MEDIUM,CAN_UPLOAD_SAME_BUFFER:Ghe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},qM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,l,u){this.fn=f,this.context=l,this.once=u||!1}function a(f,l,u,c,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,c||f,h),d=r?r+l:l;return f._events[d]?f._events[d].fn?f._events[d]=[f._events[d],p]:f._events[d].push(p):(f._events[d]=p,f._eventsCount++),f}function o(f,l){--f._eventsCount===0?f._events=new n:delete f._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,c;if(this._eventsCount===0)return l;for(c in u=this._events)e.call(u,c)&&l.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,c=this._events[u];if(!c)return[];if(c.fn)return[c.fn];for(var h=0,p=c.length,d=new Array(p);h<p;h++)d[h]=c[h].fn;return d},s.prototype.listenerCount=function(l){var u=r?r+l:l,c=this._events[u];return c?c.fn?1:c.length:0},s.prototype.emit=function(l,u,c,h,p,d){var m=r?r+l:l;if(!this._events[m])return!1;var _=this._events[m],v=arguments.length,g,y;if(_.fn){switch(_.once&&this.removeListener(l,_.fn,void 0,!0),v){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,u),!0;case 3:return _.fn.call(_.context,u,c),!0;case 4:return _.fn.call(_.context,u,c,h),!0;case 5:return _.fn.call(_.context,u,c,h,p),!0;case 6:return _.fn.call(_.context,u,c,h,p,d),!0}for(y=1,g=new Array(v-1);y<v;y++)g[y-1]=arguments[y];_.fn.apply(_.context,g)}else{var x=_.length,b;for(y=0;y<x;y++)switch(_[y].once&&this.removeListener(l,_[y].fn,void 0,!0),v){case 1:_[y].fn.call(_[y].context);break;case 2:_[y].fn.call(_[y].context,u);break;case 3:_[y].fn.call(_[y].context,u,c);break;case 4:_[y].fn.call(_[y].context,u,c,h);break;default:if(!g)for(b=1,g=new Array(v-1);b<v;b++)g[b-1]=arguments[b];_[y].fn.apply(_[y].context,g)}}return!0},s.prototype.on=function(l,u,c){return a(this,l,u,c,!1)},s.prototype.once=function(l,u,c){return a(this,l,u,c,!0)},s.prototype.removeListener=function(l,u,c,h){var p=r?r+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var d=this._events[p];if(d.fn)d.fn===u&&(!h||d.once)&&(!c||d.context===c)&&o(this,p);else{for(var m=0,_=[],v=d.length;m<v;m++)(d[m].fn!==u||h&&!d[m].once||c&&d[m].context!==c)&&_.push(d[m]);_.length?this._events[p]=_.length===1?_[0]:_:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(qM);var Xhe=qM.exports;const $s=mn(Xhe);var eS={exports:{}};eS.exports=gv;eS.exports.default=gv;function gv(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=KM(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,f,l,u,c,h,p;if(n&&(a=qhe(t,e,a,r)),t.length>80*r){s=l=t[0],f=u=t[1];for(var d=r;d<i;d+=r)c=t[d],h=t[d+1],c<s&&(s=c),h<f&&(f=h),c>l&&(l=c),h>u&&(u=h);p=Math.max(l-s,u-f),p=p!==0?32767/p:0}return bc(a,o,r,s,f,p,0),o}function KM(t,e,r,n,i){var a,o;if(i===Nx(t,e,r,n)>0)for(a=e;a<r;a+=n)o=vP(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=vP(a,t[a],t[a+1],o);return o&&_v(o,o.next)&&(wc(o),o=o.next),o}function As(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(_v(r,r.next)||dr(r.prev,r,r.next)===0)){if(wc(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function bc(t,e,r,n,i,a,o){if(t){!o&&a&&ede(t,n,i,a);for(var s=t,f,l;t.prev!==t.next;){if(f=t.prev,l=t.next,a?zhe(t,n,i,a):Hhe(t)){e.push(f.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),wc(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=Whe(As(t),e,r),bc(t,e,r,n,i,a,2)):o===2&&Yhe(t,e,r,n,i,a):bc(As(t),e,r,n,i,a,1);break}}}}function Hhe(t){var e=t.prev,r=t,n=t.next;if(dr(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,f=r.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,c=s<f?s<l?s:l:f<l?f:l,h=i>a?i>o?i:o:a>o?a:o,p=s>f?s>l?s:l:f>l?f:l,d=n.next;d!==e;){if(d.x>=u&&d.x<=h&&d.y>=c&&d.y<=p&&wl(i,s,a,f,o,l,d.x,d.y)&&dr(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function zhe(t,e,r,n){var i=t.prev,a=t,o=t.next;if(dr(i,a,o)>=0)return!1;for(var s=i.x,f=a.x,l=o.x,u=i.y,c=a.y,h=o.y,p=s<f?s<l?s:l:f<l?f:l,d=u<c?u<h?u:h:c<h?c:h,m=s>f?s>l?s:l:f>l?f:l,_=u>c?u>h?u:h:c>h?c:h,v=Fx(p,d,e,r,n),g=Fx(m,_,e,r,n),y=t.prevZ,x=t.nextZ;y&&y.z>=v&&x&&x.z<=g;){if(y.x>=p&&y.x<=m&&y.y>=d&&y.y<=_&&y!==i&&y!==o&&wl(s,u,f,c,l,h,y.x,y.y)&&dr(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=p&&x.x<=m&&x.y>=d&&x.y<=_&&x!==i&&x!==o&&wl(s,u,f,c,l,h,x.x,x.y)&&dr(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=v;){if(y.x>=p&&y.x<=m&&y.y>=d&&y.y<=_&&y!==i&&y!==o&&wl(s,u,f,c,l,h,y.x,y.y)&&dr(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=g;){if(x.x>=p&&x.x<=m&&x.y>=d&&x.y<=_&&x!==i&&x!==o&&wl(s,u,f,c,l,h,x.x,x.y)&&dr(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Whe(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!_v(i,a)&&ZM(i,n,n.next,a)&&Ec(i,a)&&Ec(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),wc(n),wc(n.next),n=t=a),n=n.next}while(n!==t);return As(n)}function Yhe(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&nde(o,s)){var f=JM(o,s);o=As(o,o.next),f=As(f,f.next),bc(o,e,r,n,i,a,0),bc(f,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function qhe(t,e,r,n){var i=[],a,o,s,f,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,f=a<o-1?e[a+1]*n:t.length,l=KM(t,s,f,n,!1),l===l.next&&(l.steiner=!0),i.push(rde(l));for(i.sort(Khe),a=0;a<i.length;a++)r=Zhe(i[a],r);return r}function Khe(t,e){return t.x-e.x}function Zhe(t,e){var r=Jhe(t,e);if(!r)return e;var n=JM(r,t);return As(n,n.next),As(r,r.next)}function Jhe(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var f=o,l=o.x,u=o.y,c=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&wl(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Ec(r,t)&&(h<c||h===c&&(r.x>o.x||r.x===o.x&&Qhe(o,r)))&&(o=r,c=h)),r=r.next;while(r!==f);return o}function Qhe(t,e){return dr(t.prev,t,e.prev)<0&&dr(e.next,t,t.next)<0}function ede(t,e,r,n){var i=t;do i.z===0&&(i.z=Fx(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,tde(i)}function tde(t){var e,r,n,i,a,o,s,f,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(f=l;s>0||f>0&&n;)s!==0&&(f===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,f--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function Fx(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function rde(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function wl(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function nde(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!ide(t,e)&&(Ec(t,e)&&Ec(e,t)&&ade(t,e)&&(dr(t.prev,t,e.prev)||dr(t,e.prev,e))||_v(t,e)&&dr(t.prev,t,t.next)>0&&dr(e.prev,e,e.next)>0)}function dr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _v(t,e){return t.x===e.x&&t.y===e.y}function ZM(t,e,r,n){var i=Uh(dr(t,e,r)),a=Uh(dr(t,e,n)),o=Uh(dr(r,n,t)),s=Uh(dr(r,n,e));return!!(i!==a&&o!==s||i===0&&Dh(t,r,e)||a===0&&Dh(t,n,e)||o===0&&Dh(r,t,n)||s===0&&Dh(r,e,n))}function Dh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Uh(t){return t>0?1:t<0?-1:0}function ide(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&ZM(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Ec(t,e){return dr(t.prev,t,t.next)<0?dr(t,e,t.next)>=0&&dr(t,t.prev,e)>=0:dr(t,e,t.prev)<0||dr(t,t.next,e)<0}function ade(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function JM(t,e){var r=new kx(t.i,t.x,t.y),n=new kx(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function vP(t,e,r,n){var i=new kx(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function wc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function kx(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}gv.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(Nx(t,0,a,r));if(i)for(var s=0,f=e.length;s<f;s++){var l=e[s]*r,u=s<f-1?e[s+1]*r:t.length;o-=Math.abs(Nx(t,l,u,r))}var c=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;c+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function Nx(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}gv.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var ode=eS.exports;const tS=mn(ode);var I0={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */I0.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof rt=="object"&&rt;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,f=36,l=1,u=26,c=38,h=700,p=72,d=128,m="-",_=/^xn--/,v=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=f-l,b=Math.floor,E=String.fromCharCode,w;function S(G){throw new RangeError(y[G])}function C(G,N){for(var j=G.length,M=[];j--;)M[j]=N(G[j]);return M}function T(G,N){var j=G.split("@"),M="";j.length>1&&(M=j[0]+"@",G=j[1]),G=G.replace(g,".");var D=G.split("."),J=C(D,N).join(".");return M+J}function I(G){for(var N=[],j=0,M=G.length,D,J;j<M;)D=G.charCodeAt(j++),D>=55296&&D<=56319&&j<M?(J=G.charCodeAt(j++),(J&64512)==56320?N.push(((D&1023)<<10)+(J&1023)+65536):(N.push(D),j--)):N.push(D);return N}function A(G){return C(G,function(N){var j="";return N>65535&&(N-=65536,j+=E(N>>>10&1023|55296),N=56320|N&1023),j+=E(N),j}).join("")}function R(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:f}function O(G,N){return G+22+75*(G<26)-((N!=0)<<5)}function F(G,N,j){var M=0;for(G=j?b(G/h):G>>1,G+=b(G/N);G>x*u>>1;M+=f)G=b(G/x);return b(M+(x+1)*G/(G+c))}function k(G){var N=[],j=G.length,M,D=0,J=d,Q=p,se,re,ue,Ee,xe,de,pe,Ae,Fe;for(se=G.lastIndexOf(m),se<0&&(se=0),re=0;re<se;++re)G.charCodeAt(re)>=128&&S("not-basic"),N.push(G.charCodeAt(re));for(ue=se>0?se+1:0;ue<j;){for(Ee=D,xe=1,de=f;ue>=j&&S("invalid-input"),pe=R(G.charCodeAt(ue++)),(pe>=f||pe>b((s-D)/xe))&&S("overflow"),D+=pe*xe,Ae=de<=Q?l:de>=Q+u?u:de-Q,!(pe<Ae);de+=f)Fe=f-Ae,xe>b(s/Fe)&&S("overflow"),xe*=Fe;M=N.length+1,Q=F(D-Ee,M,Ee==0),b(D/M)>s-J&&S("overflow"),J+=b(D/M),D%=M,N.splice(D++,0,J)}return A(N)}function $(G){var N,j,M,D,J,Q,se,re,ue,Ee,xe,de=[],pe,Ae,Fe,Te;for(G=I(G),pe=G.length,N=d,j=0,J=p,Q=0;Q<pe;++Q)xe=G[Q],xe<128&&de.push(E(xe));for(M=D=de.length,D&&de.push(m);M<pe;){for(se=s,Q=0;Q<pe;++Q)xe=G[Q],xe>=N&&xe<se&&(se=xe);for(Ae=M+1,se-N>b((s-j)/Ae)&&S("overflow"),j+=(se-N)*Ae,N=se,Q=0;Q<pe;++Q)if(xe=G[Q],xe<N&&++j>s&&S("overflow"),xe==N){for(re=j,ue=f;Ee=ue<=J?l:ue>=J+u?u:ue-J,!(re<Ee);ue+=f)Te=re-Ee,Fe=f-Ee,de.push(E(O(Ee+Te%Fe,0))),re=b(Te/Fe);de.push(E(O(re,0))),J=F(j,Ae,M==D),j=0,++M}++j,++N}return de.join("")}function q(G){return T(G,function(N){return _.test(N)?k(N.slice(4).toLowerCase()):N})}function K(G){return T(G,function(N){return v.test(N)?"xn--"+$(N):N})}if(o={version:"1.4.1",ucs2:{decode:I,encode:A},decode:k,encode:$,toASCII:K,toUnicode:q},n&&i)if(t.exports==n)i.exports=o;else for(w in o)o.hasOwnProperty(w)&&(n[w]=o[w]);else r.punycode=o})(rt)})(I0,I0.exports);var sde=I0.exports,lde=Error,ude=EvalError,fde=RangeError,cde=ReferenceError,QM=SyntaxError,ch=TypeError,hde=URIError,dde=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},mP=typeof Symbol<"u"&&Symbol,pde=dde,vde=function(){return typeof mP!="function"||typeof Symbol!="function"||typeof mP("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:pde()},i_={__proto__:null,foo:{}},mde=Object,gde=function(){return{__proto__:i_}.foo===i_.foo&&!(i_ instanceof mde)},_de="Function.prototype.bind called on incompatible ",yde=Object.prototype.toString,xde=Math.max,bde="[object Function]",gP=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},Ede=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},wde=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Sde=function(e){var r=this;if(typeof r!="function"||yde.apply(r)!==bde)throw new TypeError(_de+r);for(var n=Ede(arguments,1),i,a=function(){if(this instanceof i){var u=r.apply(this,gP(n,arguments));return Object(u)===u?u:this}return r.apply(e,gP(n,arguments))},o=xde(0,r.length-n.length),s=[],f=0;f<o;f++)s[f]="$"+f;if(i=Function("binder","return function ("+wde(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},Cde=Sde,rS=Function.prototype.bind||Cde,Tde=Function.prototype.call,Ade=Object.prototype.hasOwnProperty,Ide=rS,Rde=Ide.call(Tde,Ade),St,Pde=lde,Ode=ude,Fde=fde,kde=cde,eu=QM,jl=ch,Nde=hde,eD=Function,a_=function(t){try{return eD('"use strict"; return ('+t+").constructor;")()}catch{}},ys=Object.getOwnPropertyDescriptor;if(ys)try{ys({},"")}catch{ys=null}var o_=function(){throw new jl},Lde=ys?function(){try{return arguments.callee,o_}catch{try{return ys(arguments,"callee").get}catch{return o_}}}():o_,el=vde(),Bde=gde(),Zr=Object.getPrototypeOf||(Bde?function(t){return t.__proto__}:null),hl={},Mde=typeof Uint8Array>"u"||!Zr?St:Zr(Uint8Array),xs={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?St:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?St:ArrayBuffer,"%ArrayIteratorPrototype%":el&&Zr?Zr([][Symbol.iterator]()):St,"%AsyncFromSyncIteratorPrototype%":St,"%AsyncFunction%":hl,"%AsyncGenerator%":hl,"%AsyncGeneratorFunction%":hl,"%AsyncIteratorPrototype%":hl,"%Atomics%":typeof Atomics>"u"?St:Atomics,"%BigInt%":typeof BigInt>"u"?St:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?St:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?St:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?St:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Pde,"%eval%":eval,"%EvalError%":Ode,"%Float32Array%":typeof Float32Array>"u"?St:Float32Array,"%Float64Array%":typeof Float64Array>"u"?St:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?St:FinalizationRegistry,"%Function%":eD,"%GeneratorFunction%":hl,"%Int8Array%":typeof Int8Array>"u"?St:Int8Array,"%Int16Array%":typeof Int16Array>"u"?St:Int16Array,"%Int32Array%":typeof Int32Array>"u"?St:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":el&&Zr?Zr(Zr([][Symbol.iterator]())):St,"%JSON%":typeof JSON=="object"?JSON:St,"%Map%":typeof Map>"u"?St:Map,"%MapIteratorPrototype%":typeof Map>"u"||!el||!Zr?St:Zr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?St:Promise,"%Proxy%":typeof Proxy>"u"?St:Proxy,"%RangeError%":Fde,"%ReferenceError%":kde,"%Reflect%":typeof Reflect>"u"?St:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?St:Set,"%SetIteratorPrototype%":typeof Set>"u"||!el||!Zr?St:Zr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?St:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":el&&Zr?Zr(""[Symbol.iterator]()):St,"%Symbol%":el?Symbol:St,"%SyntaxError%":eu,"%ThrowTypeError%":Lde,"%TypedArray%":Mde,"%TypeError%":jl,"%Uint8Array%":typeof Uint8Array>"u"?St:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?St:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?St:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?St:Uint32Array,"%URIError%":Nde,"%WeakMap%":typeof WeakMap>"u"?St:WeakMap,"%WeakRef%":typeof WeakRef>"u"?St:WeakRef,"%WeakSet%":typeof WeakSet>"u"?St:WeakSet};if(Zr)try{null.error}catch(t){var Dde=Zr(Zr(t));xs["%Error.prototype%"]=Dde}var Ude=function t(e){var r;if(e==="%AsyncFunction%")r=a_("async function () {}");else if(e==="%GeneratorFunction%")r=a_("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=a_("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Zr&&(r=Zr(i.prototype))}return xs[e]=r,r},_P={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},hh=rS,R0=Rde,jde=hh.call(Function.call,Array.prototype.concat),$de=hh.call(Function.apply,Array.prototype.splice),yP=hh.call(Function.call,String.prototype.replace),P0=hh.call(Function.call,String.prototype.slice),Vde=hh.call(Function.call,RegExp.prototype.exec),Gde=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Xde=/\\(\\)?/g,Hde=function(e){var r=P0(e,0,1),n=P0(e,-1);if(r==="%"&&n!=="%")throw new eu("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new eu("invalid intrinsic syntax, expected opening `%`");var i=[];return yP(e,Gde,function(a,o,s,f){i[i.length]=s?yP(f,Xde,"$1"):o||a}),i},zde=function(e,r){var n=e,i;if(R0(_P,n)&&(i=_P[n],n="%"+i[0]+"%"),R0(xs,n)){var a=xs[n];if(a===hl&&(a=Ude(n)),typeof a>"u"&&!r)throw new jl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new eu("intrinsic "+e+" does not exist!")},Nu=function(e,r){if(typeof e!="string"||e.length===0)throw new jl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new jl('"allowMissing" argument must be a boolean');if(Vde(/^%?[^%]*%?$/,e)===null)throw new eu("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Hde(e),i=n.length>0?n[0]:"",a=zde("%"+i+"%",r),o=a.name,s=a.value,f=!1,l=a.alias;l&&(i=l[0],$de(n,jde([0,1],l)));for(var u=1,c=!0;u<n.length;u+=1){var h=n[u],p=P0(h,0,1),d=P0(h,-1);if((p==='"'||p==="'"||p==="`"||d==='"'||d==="'"||d==="`")&&p!==d)throw new eu("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(f=!0),i+="."+h,o="%"+i+"%",R0(xs,o))s=xs[o];else if(s!=null){if(!(h in s)){if(!r)throw new jl("base intrinsic for "+e+" exists, but the property is not available.");return}if(ys&&u+1>=n.length){var m=ys(s,h);c=!!m,c&&"get"in m&&!("originalValue"in m.get)?s=m.get:s=s[h]}else c=R0(s,h),s=s[h];c&&!f&&(xs[o]=s)}}return s},tD={exports:{}},s_,xP;function nS(){if(xP)return s_;xP=1;var t=Nu,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return s_=e,s_}var Wde=Nu,Bd=Wde("%Object.getOwnPropertyDescriptor%",!0);if(Bd)try{Bd([],"length")}catch{Bd=null}var rD=Bd,bP=nS(),Yde=QM,tl=ch,EP=rD,qde=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new tl("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new tl("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new tl("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new tl("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new tl("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new tl("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,f=!!EP&&EP(e,r);if(bP)bP(e,r,{configurable:o===null&&f?f.configurable:!o,enumerable:i===null&&f?f.enumerable:!i,value:n,writable:a===null&&f?f.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new Yde("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Lx=nS(),nD=function(){return!!Lx};nD.hasArrayLengthDefineBug=function(){if(!Lx)return null;try{return Lx([],"length",{value:1}).length!==1}catch{return!0}};var Kde=nD,Zde=Nu,wP=qde,Jde=Kde(),SP=rD,CP=ch,Qde=Zde("%Math.floor%"),e0e=function(e,r){if(typeof e!="function")throw new CP("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Qde(r)!==r)throw new CP("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&SP){var o=SP(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(Jde?wP(e,"length",r,!0,!0):wP(e,"length",r)),e};(function(t){var e=rS,r=Nu,n=e0e,i=ch,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),f=nS(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return s(e,a,arguments)};f?f(t.exports,"apply",{value:u}):t.exports.apply=u})(tD);var t0e=tD.exports,iD=Nu,aD=t0e,r0e=aD(iD("String.prototype.indexOf")),n0e=function(e,r){var n=iD(e,!!r);return typeof n=="function"&&r0e(e,".prototype.")>-1?aD(n):n},iS=typeof Map=="function"&&Map.prototype,l_=Object.getOwnPropertyDescriptor&&iS?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,O0=iS&&l_&&typeof l_.get=="function"?l_.get:null,TP=iS&&Map.prototype.forEach,aS=typeof Set=="function"&&Set.prototype,u_=Object.getOwnPropertyDescriptor&&aS?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,F0=aS&&u_&&typeof u_.get=="function"?u_.get:null,AP=aS&&Set.prototype.forEach,i0e=typeof WeakMap=="function"&&WeakMap.prototype,zf=i0e?WeakMap.prototype.has:null,a0e=typeof WeakSet=="function"&&WeakSet.prototype,Wf=a0e?WeakSet.prototype.has:null,o0e=typeof WeakRef=="function"&&WeakRef.prototype,IP=o0e?WeakRef.prototype.deref:null,s0e=Boolean.prototype.valueOf,l0e=Object.prototype.toString,u0e=Function.prototype.toString,f0e=String.prototype.match,oS=String.prototype.slice,so=String.prototype.replace,c0e=String.prototype.toUpperCase,RP=String.prototype.toLowerCase,oD=RegExp.prototype.test,PP=Array.prototype.concat,ea=Array.prototype.join,h0e=Array.prototype.slice,OP=Math.floor,Bx=typeof BigInt=="function"?BigInt.prototype.valueOf:null,f_=Object.getOwnPropertySymbols,Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,tu=typeof Symbol=="function"&&typeof Symbol.iterator=="object",An=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===tu||"symbol")?Symbol.toStringTag:null,sD=Object.prototype.propertyIsEnumerable,FP=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function kP(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||oD.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-OP(-t):OP(t);if(n!==t){var i=String(n),a=oS.call(e,i.length+1);return so.call(i,r,"$&_")+"."+so.call(so.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return so.call(e,r,"$&_")}var Dx=uM,NP=Dx.custom,LP=uD(NP)?NP:null,d0e=function t(e,r,n,i){var a=r||{};if(Qa(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Qa(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Qa(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Qa(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Qa(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return cD(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return s?kP(e,f):f}if(typeof e=="bigint"){var l=String(e)+"n";return s?kP(e,l):l}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return Ux(e)?"[Array]":"[Object]";var c=O0e(a,n);if(typeof i>"u")i=[];else if(fD(i,e)>=0)return"[Circular]";function h(R,O,F){if(O&&(i=h0e.call(i),i.push(O)),F){var k={depth:a.depth};return Qa(a,"quoteStyle")&&(k.quoteStyle=a.quoteStyle),t(R,k,n+1,i)}return t(R,a,n+1,i)}if(typeof e=="function"&&!BP(e)){var p=E0e(e),d=jh(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(d.length>0?" { "+ea.call(d,", ")+" }":"")}if(uD(e)){var m=tu?so.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Mx.call(e);return typeof e=="object"&&!tu?of(m):m}if(I0e(e)){for(var _="<"+RP.call(String(e.nodeName)),v=e.attributes||[],g=0;g<v.length;g++)_+=" "+v[g].name+"="+lD(p0e(v[g].value),"double",a);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+RP.call(String(e.nodeName))+">",_}if(Ux(e)){if(e.length===0)return"[]";var y=jh(e,h);return c&&!P0e(y)?"["+jx(y,c)+"]":"[ "+ea.call(y,", ")+" ]"}if(m0e(e)){var x=jh(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!sD.call(e,"cause")?"{ ["+String(e)+"] "+ea.call(PP.call("[cause]: "+h(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ea.call(x,", ")+" }"}if(typeof e=="object"&&o){if(LP&&typeof e[LP]=="function"&&Dx)return Dx(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(w0e(e)){var b=[];return TP&&TP.call(e,function(R,O){b.push(h(O,e,!0)+" => "+h(R,e))}),MP("Map",O0.call(e),b,c)}if(T0e(e)){var E=[];return AP&&AP.call(e,function(R){E.push(h(R,e))}),MP("Set",F0.call(e),E,c)}if(S0e(e))return c_("WeakMap");if(A0e(e))return c_("WeakSet");if(C0e(e))return c_("WeakRef");if(_0e(e))return of(h(Number(e)));if(x0e(e))return of(h(Bx.call(e)));if(y0e(e))return of(s0e.call(e));if(g0e(e))return of(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===rt)return"{ [object globalThis] }";if(!v0e(e)&&!BP(e)){var w=jh(e,h),S=FP?FP(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",T=!S&&An&&Object(e)===e&&An in e?oS.call($o(e),8,-1):C?"Object":"",I=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",A=I+(T||C?"["+ea.call(PP.call([],T||[],C||[]),": ")+"] ":"");return w.length===0?A+"{}":c?A+"{"+jx(w,c)+"}":A+"{ "+ea.call(w,", ")+" }"}return String(e)};function lD(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function p0e(t){return so.call(String(t),/"/g,"&quot;")}function Ux(t){return $o(t)==="[object Array]"&&(!An||!(typeof t=="object"&&An in t))}function v0e(t){return $o(t)==="[object Date]"&&(!An||!(typeof t=="object"&&An in t))}function BP(t){return $o(t)==="[object RegExp]"&&(!An||!(typeof t=="object"&&An in t))}function m0e(t){return $o(t)==="[object Error]"&&(!An||!(typeof t=="object"&&An in t))}function g0e(t){return $o(t)==="[object String]"&&(!An||!(typeof t=="object"&&An in t))}function _0e(t){return $o(t)==="[object Number]"&&(!An||!(typeof t=="object"&&An in t))}function y0e(t){return $o(t)==="[object Boolean]"&&(!An||!(typeof t=="object"&&An in t))}function uD(t){if(tu)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Mx)return!1;try{return Mx.call(t),!0}catch{}return!1}function x0e(t){if(!t||typeof t!="object"||!Bx)return!1;try{return Bx.call(t),!0}catch{}return!1}var b0e=Object.prototype.hasOwnProperty||function(t){return t in this};function Qa(t,e){return b0e.call(t,e)}function $o(t){return l0e.call(t)}function E0e(t){if(t.name)return t.name;var e=f0e.call(u0e.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function fD(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function w0e(t){if(!O0||!t||typeof t!="object")return!1;try{O0.call(t);try{F0.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function S0e(t){if(!zf||!t||typeof t!="object")return!1;try{zf.call(t,zf);try{Wf.call(t,Wf)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function C0e(t){if(!IP||!t||typeof t!="object")return!1;try{return IP.call(t),!0}catch{}return!1}function T0e(t){if(!F0||!t||typeof t!="object")return!1;try{F0.call(t);try{O0.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function A0e(t){if(!Wf||!t||typeof t!="object")return!1;try{Wf.call(t,Wf);try{zf.call(t,zf)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function I0e(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function cD(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return cD(oS.call(t,0,e.maxStringLength),e)+n}var i=so.call(so.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,R0e);return lD(i,"single",e)}function R0e(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+c0e.call(e.toString(16))}function of(t){return"Object("+t+")"}function c_(t){return t+" { ? }"}function MP(t,e,r,n){var i=n?jx(r,n):ea.call(r,", ");return t+" ("+e+") {"+i+"}"}function P0e(t){for(var e=0;e<t.length;e++)if(fD(t[e],`
`)>=0)return!1;return!0}function O0e(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ea.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ea.call(Array(e+1),r)}}function jx(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ea.call(t,","+r)+`
`+e.prev}function jh(t,e){var r=Ux(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Qa(t,i)?e(t[i],t):""}var a=typeof f_=="function"?f_(t):[],o;if(tu){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var f in t)Qa(t,f)&&(r&&String(Number(f))===f&&f<t.length||tu&&o["$"+f]instanceof Symbol||(oD.call(/[^\w$]/,f)?n.push(e(f,t)+": "+e(t[f],t)):n.push(f+": "+e(t[f],t))));if(typeof f_=="function")for(var l=0;l<a.length;l++)sD.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var hD=Nu,Lu=n0e,F0e=d0e,k0e=ch,$h=hD("%WeakMap%",!0),Vh=hD("%Map%",!0),N0e=Lu("WeakMap.prototype.get",!0),L0e=Lu("WeakMap.prototype.set",!0),B0e=Lu("WeakMap.prototype.has",!0),M0e=Lu("Map.prototype.get",!0),D0e=Lu("Map.prototype.set",!0),U0e=Lu("Map.prototype.has",!0),sS=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},j0e=function(t,e){var r=sS(t,e);return r&&r.value},$0e=function(t,e,r){var n=sS(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},V0e=function(t,e){return!!sS(t,e)},G0e=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new k0e("Side channel does not contain "+F0e(a))},get:function(a){if($h&&a&&(typeof a=="object"||typeof a=="function")){if(e)return N0e(e,a)}else if(Vh){if(r)return M0e(r,a)}else if(n)return j0e(n,a)},has:function(a){if($h&&a&&(typeof a=="object"||typeof a=="function")){if(e)return B0e(e,a)}else if(Vh){if(r)return U0e(r,a)}else if(n)return V0e(n,a);return!1},set:function(a,o){$h&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new $h),L0e(e,a,o)):Vh?(r||(r=new Vh),D0e(r,a,o)):(n||(n={key:{},next:null}),$0e(n,a,o))}};return i},X0e=String.prototype.replace,H0e=/%20/g,h_={RFC1738:"RFC1738",RFC3986:"RFC3986"},lS={default:h_.RFC3986,formatters:{RFC1738:function(t){return X0e.call(t,H0e,"+")},RFC3986:function(t){return String(t)}},RFC1738:h_.RFC1738,RFC3986:h_.RFC3986},z0e=lS,d_=Object.prototype.hasOwnProperty,is=Array.isArray,Yi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),W0e=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(is(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},dD=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Y0e=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(is(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!d_.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return is(e)&&!is(r)&&(i=dD(e,n)),is(e)&&is(r)?(r.forEach(function(a,o){if(d_.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return d_.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},q0e=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},K0e=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Z0e=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",f=0;f<o.length;++f){var l=o.charCodeAt(f);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===z0e.RFC1738&&(l===40||l===41)){s+=o.charAt(f);continue}if(l<128){s=s+Yi[l];continue}if(l<2048){s=s+(Yi[192|l>>6]+Yi[128|l&63]);continue}if(l<55296||l>=57344){s=s+(Yi[224|l>>12]+Yi[128|l>>6&63]+Yi[128|l&63]);continue}f+=1,l=65536+((l&1023)<<10|o.charCodeAt(f)&1023),s+=Yi[240|l>>18]+Yi[128|l>>12&63]+Yi[128|l>>6&63]+Yi[128|l&63]}return s},J0e=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),f=0;f<s.length;++f){var l=s[f],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return W0e(r),e},Q0e=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},epe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},tpe=function(e,r){return[].concat(e,r)},rpe=function(e,r){if(is(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},pD={arrayToObject:dD,assign:q0e,combine:tpe,compact:J0e,decode:K0e,encode:Z0e,isBuffer:epe,isRegExp:Q0e,maybeMap:rpe,merge:Y0e},vD=G0e,Md=pD,Yf=lS,npe=Object.prototype.hasOwnProperty,mD={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Zi=Array.isArray,ipe=Array.prototype.push,gD=function(t,e){ipe.apply(t,Zi(e)?e:[e])},ape=Date.prototype.toISOString,DP=Yf.default,Mr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Md.encode,encodeValuesOnly:!1,format:DP,formatter:Yf.formatters[DP],indices:!1,serializeDate:function(e){return ape.call(e)},skipNulls:!1,strictNullHandling:!1},ope=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},p_={},spe=function t(e,r,n,i,a,o,s,f,l,u,c,h,p,d,m,_,v,g){for(var y=e,x=g,b=0,E=!1;(x=x.get(p_))!==void 0&&!E;){var w=x.get(e);if(b+=1,typeof w<"u"){if(w===b)throw new RangeError("Cyclic object value");E=!0}typeof x.get(p_)>"u"&&(b=0)}if(typeof u=="function"?y=u(r,y):y instanceof Date?y=p(y):n==="comma"&&Zi(y)&&(y=Md.maybeMap(y,function(G){return G instanceof Date?p(G):G})),y===null){if(o)return l&&!_?l(r,Mr.encoder,v,"key",d):r;y=""}if(ope(y)||Md.isBuffer(y)){if(l){var S=_?r:l(r,Mr.encoder,v,"key",d);return[m(S)+"="+m(l(y,Mr.encoder,v,"value",d))]}return[m(r)+"="+m(String(y))]}var C=[];if(typeof y>"u")return C;var T;if(n==="comma"&&Zi(y))_&&l&&(y=Md.maybeMap(y,l)),T=[{value:y.length>0?y.join(",")||null:void 0}];else if(Zi(u))T=u;else{var I=Object.keys(y);T=c?I.sort(c):I}var A=f?r.replace(/\./g,"%2E"):r,R=i&&Zi(y)&&y.length===1?A+"[]":A;if(a&&Zi(y)&&y.length===0)return R+"[]";for(var O=0;O<T.length;++O){var F=T[O],k=typeof F=="object"&&typeof F.value<"u"?F.value:y[F];if(!(s&&k===null)){var $=h&&f?F.replace(/\./g,"%2E"):F,q=Zi(y)?typeof n=="function"?n(R,$):R:R+(h?"."+$:"["+$+"]");g.set(e,b);var K=vD();K.set(p_,g),gD(C,t(k,q,n,i,a,o,s,f,n==="comma"&&_&&Zi(y)?null:l,u,c,h,p,d,m,_,v,K))}}return C},lpe=function(e){if(!e)return Mr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Mr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Yf.default;if(typeof e.format<"u"){if(!npe.call(Yf.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Yf.formatters[n],a=Mr.filter;(typeof e.filter=="function"||Zi(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in mD?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Mr.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Mr.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Mr.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Mr.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Mr.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Mr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Mr.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Mr.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Mr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Mr.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Mr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Mr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Mr.strictNullHandling}},upe=function(t,e){var r=t,n=lpe(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Zi(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=mD[n.arrayFormat],f=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=vD(),u=0;u<i.length;++u){var c=i[u];n.skipNulls&&r[c]===null||gD(o,spe(r[c],c,s,f,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},ru=pD,$x=Object.prototype.hasOwnProperty,fpe=Array.isArray,wr={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:ru.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},cpe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},_D=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},hpe="utf8=%26%2310003%3B",dpe="utf8=%E2%9C%93",ppe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,f,l=r.charset;if(r.charsetSentinel)for(f=0;f<o.length;++f)o[f].indexOf("utf8=")===0&&(o[f]===dpe?l="utf-8":o[f]===hpe&&(l="iso-8859-1"),s=f,f=o.length);for(f=0;f<o.length;++f)if(f!==s){var u=o[f],c=u.indexOf("]="),h=c===-1?u.indexOf("="):c+1,p,d;h===-1?(p=r.decoder(u,wr.decoder,l,"key"),d=r.strictNullHandling?null:""):(p=r.decoder(u.slice(0,h),wr.decoder,l,"key"),d=ru.maybeMap(_D(u.slice(h+1),r),function(_){return r.decoder(_,wr.decoder,l,"value")})),d&&r.interpretNumericEntities&&l==="iso-8859-1"&&(d=cpe(d)),u.indexOf("[]=")>-1&&(d=fpe(d)?[d]:d);var m=$x.call(n,p);m&&r.duplicates==="combine"?n[p]=ru.combine(n[p],d):(!m||r.duplicates==="last")&&(n[p]=d)}return n},vpe=function(t,e,r,n){for(var i=n?e:_D(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var f=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},mpe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,f=n.depth>0&&o.exec(a),l=f?a.slice(0,f.index):a,u=[];if(l){if(!n.plainObjects&&$x.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var c=0;n.depth>0&&(f=s.exec(a))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&$x.call(Object.prototype,f[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(f[1])}return f&&u.push("["+a.slice(f.index)+"]"),vpe(u,r,n,i)}},gpe=function(e){if(!e)return wr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?wr.charset:e.charset,n=typeof e.duplicates>"u"?wr.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:wr.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:wr.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:wr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:wr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:wr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:wr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:wr.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:wr.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:wr.decoder,delimiter:typeof e.delimiter=="string"||ru.isRegExp(e.delimiter)?e.delimiter:wr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:wr.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:wr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:wr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:wr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:wr.strictNullHandling}},_pe=function(t,e){var r=gpe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?ppe(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],f=mpe(s,n[s],r,typeof t=="string");i=ru.merge(i,f,r)}return r.allowSparse===!0?i:ru.compact(i)},ype=upe,xpe=_pe,bpe=lS,Epe={formats:bpe,parse:xpe,stringify:ype},wpe=sde;function ji(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Spe=/^([a-z0-9.+-]+:)/i,Cpe=/:[0-9]*$/,Tpe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Ape=["<",">",'"',"`"," ","\r",`
`,"	"],Ipe=["{","}","|","\\","^","`"].concat(Ape),Vx=["'"].concat(Ipe),UP=["%","/","?",";","#"].concat(Vx),jP=["/","?","#"],Rpe=255,$P=/^[+a-z0-9A-Z_-]{0,63}$/,Ppe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ope={javascript:!0,"javascript:":!0},Gx={javascript:!0,"javascript:":!0},$l={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Xx=Epe;function yv(t,e,r){if(t&&typeof t=="object"&&t instanceof ji)return t;var n=new ji;return n.parse(t,e,r),n}ji.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var f=Tpe.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=Xx.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=Spe.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var c=s.substr(0,2)==="//";c&&!(l&&Gx[l])&&(s=s.substr(2),this.slashes=!0)}if(!Gx[l]&&(c||l&&!$l[l])){for(var h=-1,p=0;p<jP.length;p++){var d=s.indexOf(jP[p]);d!==-1&&(h===-1||d<h)&&(h=d)}var m,_;h===-1?_=s.lastIndexOf("@"):_=s.lastIndexOf("@",h),_!==-1&&(m=s.slice(0,_),s=s.slice(_+1),this.auth=decodeURIComponent(m)),h=-1;for(var p=0;p<UP.length;p++){var d=s.indexOf(UP[p]);d!==-1&&(h===-1||d<h)&&(h=d)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var g=this.hostname.split(/\./),p=0,y=g.length;p<y;p++){var x=g[p];if(x&&!x.match($P)){for(var b="",E=0,w=x.length;E<w;E++)x.charCodeAt(E)>127?b+="x":b+=x[E];if(!b.match($P)){var S=g.slice(0,p),C=g.slice(p+1),T=x.match(Ppe);T&&(S.push(T[1]),C.unshift(T[2])),C.length&&(s="/"+C.join(".")+s),this.hostname=S.join(".");break}}}this.hostname.length>Rpe?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=wpe.toASCII(this.hostname));var I=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+I,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Ope[u])for(var p=0,y=Vx.length;p<y;p++){var R=Vx[p];if(s.indexOf(R)!==-1){var O=encodeURIComponent(R);O===R&&(O=escape(R)),s=s.split(R).join(O)}}var F=s.indexOf("#");F!==-1&&(this.hash=s.substr(F),s=s.slice(0,F));var k=s.indexOf("?");if(k!==-1?(this.search=s.substr(k),this.query=s.substr(k+1),e&&(this.query=Xx.parse(this.query)),s=s.slice(0,k)):e&&(this.search="",this.query={}),s&&(this.pathname=s),$l[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var I=this.pathname||"",$=this.search||"";this.path=I+$}return this.href=this.format(),this};function Fpe(t){return typeof t=="string"&&(t=yv(t)),t instanceof ji?t.format():ji.prototype.format.call(t)}ji.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=Xx.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||$l[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function kpe(t,e){return yv(t,!1,!0).resolve(e)}ji.prototype.resolve=function(t){return this.resolveObject(yv(t,!1,!0)).format()};ji.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new ji;e.parse(t,!1,!0),t=e}for(var r=new ji,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var f=o[s];f!=="protocol"&&(r[f]=t[f])}return $l[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!$l[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];r[c]=t[c]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Gx[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",p=r.search||"";r.path=h+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var d=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",_=m||d||r.host&&t.pathname,v=_,g=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!$l[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(g[0]===""?g[0]=r.host:g.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),_=_&&(y[0]===""||g[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,g=y;else if(y.length)g||(g=[]),g.pop(),g=g.concat(y),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=g.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!g.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=g.slice(-1)[0],w=(r.host||t.host||g.length>1)&&(E==="."||E==="..")||E==="",S=0,C=g.length;C>=0;C--)E=g[C],E==="."?g.splice(C,1):E===".."?(g.splice(C,1),S++):S&&(g.splice(C,1),S--);if(!_&&!v)for(;S--;S)g.unshift("..");_&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),w&&g.join("/").substr(-1)!=="/"&&g.push("");var T=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(x){r.hostname=T?"":g.length?g.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return _=_||r.host&&g.length,_&&!T&&g.unshift(""),g.length>0?r.pathname=g.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};ji.prototype.parseHost=function(){var t=this.host,e=Cpe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var Npe=yv,Lpe=kpe,Bpe=Fpe;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ha;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ha||(ha={}));var nu;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(nu||(nu={}));var Sc;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Sc||(Sc={}));var je;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(je||(je={}));var ri;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ri||(ri={}));var Me;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Me||(Me={}));var Eo;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Eo||(Eo={}));var et;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(et||(et={}));var Cc;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Cc||(Cc={}));var pn;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(pn||(pn={}));var fa;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(fa||(fa={}));var Kn;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Kn||(Kn={}));var Mn;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Mn||(Mn={}));var Oa;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Oa||(Oa={}));var k0;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(k0||(k0={}));var Ui;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Ui||(Ui={}));var ln;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(ln||(ln={}));var Sr;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Sr||(Sr={}));var $i;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})($i||($i={}));/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var hs={parse:Npe,format:Bpe,resolve:Lpe};Ye.RETINA_PREFIX=/@([0-9\.]+)x/;Ye.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Hx=!1,VP="6.4.2";function Mpe(){Hx=!0}function yD(t){var e;if(!Hx){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+VP+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+VP+" - "+t+" - http://www.pixijs.com/");Hx=!0}}var v_;function xD(){return typeof v_>"u"&&(v_=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Ye.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),v_}var Dpe="#f0f8ff",Upe="#faebd7",jpe="#00ffff",$pe="#7fffd4",Vpe="#f0ffff",Gpe="#f5f5dc",Xpe="#ffe4c4",Hpe="#000000",zpe="#ffebcd",Wpe="#0000ff",Ype="#8a2be2",qpe="#a52a2a",Kpe="#deb887",Zpe="#5f9ea0",Jpe="#7fff00",Qpe="#d2691e",eve="#ff7f50",tve="#6495ed",rve="#fff8dc",nve="#dc143c",ive="#00ffff",ave="#00008b",ove="#008b8b",sve="#b8860b",lve="#a9a9a9",uve="#006400",fve="#a9a9a9",cve="#bdb76b",hve="#8b008b",dve="#556b2f",pve="#ff8c00",vve="#9932cc",mve="#8b0000",gve="#e9967a",_ve="#8fbc8f",yve="#483d8b",xve="#2f4f4f",bve="#2f4f4f",Eve="#00ced1",wve="#9400d3",Sve="#ff1493",Cve="#00bfff",Tve="#696969",Ave="#696969",Ive="#1e90ff",Rve="#b22222",Pve="#fffaf0",Ove="#228b22",Fve="#ff00ff",kve="#dcdcdc",Nve="#f8f8ff",Lve="#daa520",Bve="#ffd700",Mve="#808080",Dve="#008000",Uve="#adff2f",jve="#808080",$ve="#f0fff0",Vve="#ff69b4",Gve="#cd5c5c",Xve="#4b0082",Hve="#fffff0",zve="#f0e68c",Wve="#fff0f5",Yve="#e6e6fa",qve="#7cfc00",Kve="#fffacd",Zve="#add8e6",Jve="#f08080",Qve="#e0ffff",eme="#fafad2",tme="#d3d3d3",rme="#90ee90",nme="#d3d3d3",ime="#ffb6c1",ame="#ffa07a",ome="#20b2aa",sme="#87cefa",lme="#778899",ume="#778899",fme="#b0c4de",cme="#ffffe0",hme="#00ff00",dme="#32cd32",pme="#faf0e6",vme="#ff00ff",mme="#800000",gme="#66cdaa",_me="#0000cd",yme="#ba55d3",xme="#9370db",bme="#3cb371",Eme="#7b68ee",wme="#00fa9a",Sme="#48d1cc",Cme="#c71585",Tme="#191970",Ame="#f5fffa",Ime="#ffe4e1",Rme="#ffe4b5",Pme="#ffdead",Ome="#000080",Fme="#fdf5e6",kme="#808000",Nme="#6b8e23",Lme="#ffa500",Bme="#ff4500",Mme="#da70d6",Dme="#eee8aa",Ume="#98fb98",jme="#afeeee",$me="#db7093",Vme="#ffefd5",Gme="#ffdab9",Xme="#cd853f",Hme="#ffc0cb",zme="#dda0dd",Wme="#b0e0e6",Yme="#800080",qme="#663399",Kme="#ff0000",Zme="#bc8f8f",Jme="#4169e1",Qme="#8b4513",ege="#fa8072",tge="#f4a460",rge="#2e8b57",nge="#fff5ee",ige="#a0522d",age="#c0c0c0",oge="#87ceeb",sge="#6a5acd",lge="#708090",uge="#708090",fge="#fffafa",cge="#00ff7f",hge="#4682b4",dge="#d2b48c",pge="#008080",vge="#d8bfd8",mge="#ff6347",gge="#40e0d0",_ge="#ee82ee",yge="#f5deb3",xge="#ffffff",bge="#f5f5f5",Ege="#ffff00",wge="#9acd32",Sge={aliceblue:Dpe,antiquewhite:Upe,aqua:jpe,aquamarine:$pe,azure:Vpe,beige:Gpe,bisque:Xpe,black:Hpe,blanchedalmond:zpe,blue:Wpe,blueviolet:Ype,brown:qpe,burlywood:Kpe,cadetblue:Zpe,chartreuse:Jpe,chocolate:Qpe,coral:eve,cornflowerblue:tve,cornsilk:rve,crimson:nve,cyan:ive,darkblue:ave,darkcyan:ove,darkgoldenrod:sve,darkgray:lve,darkgreen:uve,darkgrey:fve,darkkhaki:cve,darkmagenta:hve,darkolivegreen:dve,darkorange:pve,darkorchid:vve,darkred:mve,darksalmon:gve,darkseagreen:_ve,darkslateblue:yve,darkslategray:xve,darkslategrey:bve,darkturquoise:Eve,darkviolet:wve,deeppink:Sve,deepskyblue:Cve,dimgray:Tve,dimgrey:Ave,dodgerblue:Ive,firebrick:Rve,floralwhite:Pve,forestgreen:Ove,fuchsia:Fve,gainsboro:kve,ghostwhite:Nve,goldenrod:Lve,gold:Bve,gray:Mve,green:Dve,greenyellow:Uve,grey:jve,honeydew:$ve,hotpink:Vve,indianred:Gve,indigo:Xve,ivory:Hve,khaki:zve,lavenderblush:Wve,lavender:Yve,lawngreen:qve,lemonchiffon:Kve,lightblue:Zve,lightcoral:Jve,lightcyan:Qve,lightgoldenrodyellow:eme,lightgray:tme,lightgreen:rme,lightgrey:nme,lightpink:ime,lightsalmon:ame,lightseagreen:ome,lightskyblue:sme,lightslategray:lme,lightslategrey:ume,lightsteelblue:fme,lightyellow:cme,lime:hme,limegreen:dme,linen:pme,magenta:vme,maroon:mme,mediumaquamarine:gme,mediumblue:_me,mediumorchid:yme,mediumpurple:xme,mediumseagreen:bme,mediumslateblue:Eme,mediumspringgreen:wme,mediumturquoise:Sme,mediumvioletred:Cme,midnightblue:Tme,mintcream:Ame,mistyrose:Ime,moccasin:Rme,navajowhite:Pme,navy:Ome,oldlace:Fme,olive:kme,olivedrab:Nme,orange:Lme,orangered:Bme,orchid:Mme,palegoldenrod:Dme,palegreen:Ume,paleturquoise:jme,palevioletred:$me,papayawhip:Vme,peachpuff:Gme,peru:Xme,pink:Hme,plum:zme,powderblue:Wme,purple:Yme,rebeccapurple:qme,red:Kme,rosybrown:Zme,royalblue:Jme,saddlebrown:Qme,salmon:ege,sandybrown:tge,seagreen:rge,seashell:nge,sienna:ige,silver:age,skyblue:oge,slateblue:sge,slategray:lge,slategrey:uge,snow:fge,springgreen:cge,steelblue:hge,tan:dge,teal:pge,thistle:vge,tomato:mge,turquoise:gge,violet:_ge,wheat:yge,white:xge,whitesmoke:bge,yellow:Ege,yellowgreen:wge};function Gr(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function uS(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function fS(t){return typeof t=="string"&&(t=Sge[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function Ln(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function Cge(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[je.NORMAL_NPM]=je.NORMAL,t[je.ADD_NPM]=je.ADD,t[je.SCREEN_NPM]=je.SCREEN,e[je.NORMAL]=je.NORMAL_NPM,e[je.ADD]=je.ADD_NPM,e[je.SCREEN]=je.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var cS=Cge();function hS(t,e){return cS[e?1:0][t]}function bD(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function xv(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function dS(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function ED(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function bv(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var Tge={Float32Array,Uint32Array,Int32Array,Uint8Array};function Age(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,f=0,a=0;a<t.length;a++){var l=e[a],u=t[a],c=bv(u);i[c]||(i[c]=new Tge[c](o)),s=i[c];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+f,d=h%l;s[p+d]=u[h]}f+=l}return new Float32Array(o)}function Tc(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function zx(t){return!(t&t-1)&&!!t}function Wx(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ca(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function ds(t){return t===0?0:t<0?-1:1}var Ige=0;function No(){return++Ige}var GP={};function Va(t,e,r){if(r===void 0&&(r=3),!GP[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),GP[e]=!0}}var Yx={},Vn=Object.create(null),di=Object.create(null);function Rge(){var t;for(t in Vn)Vn[t].destroy();for(t in di)di[t].destroy()}function wD(){var t;for(t in Vn)delete Vn[t];for(t in di)delete di[t]}var qx=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||Ye.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function SD(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},f=null,l,u,c;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%e,c=~~(l/4/e),s.top===null&&(s.top=c),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<c)&&(s.bottom=c));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,f=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:f}}var CD=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Pge(t){var e=CD.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Gh;function TD(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,Gh||(Gh=document.createElement("a")),Gh.href=t;var r=hs.parse(Gh.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Ac(t,e){var r=Ye.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const Oge=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:di,CanvasRenderTarget:qx,DATA_URI:CD,EventEmitter:$s,ProgramCache:Yx,TextureCache:Vn,clearTextureCache:wD,correctBlendMode:hS,createIndicesForQuads:ED,decomposeDataUri:Pge,deprecation:Va,destroyTextureCache:Rge,determineCrossOrigin:TD,earcut:tS,getBufferType:bv,getResolutionOfUrl:Ac,hex2rgb:Gr,hex2string:uS,interleaveTypedArrays:Age,isMobile:_i,isPow2:zx,isWebGLSupported:xD,log2:Wx,nextPow2:Tc,premultiplyBlendMode:cS,premultiplyRgba:bD,premultiplyTint:xv,premultiplyTintToRgba:dS,removeItems:ca,rgb2hex:Ln,sayHello:yD,sign:ds,skipHello:Mpe,string2hex:fS,trimCanvas:SD,uid:No,url:hs},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ic=Math.PI*2,pS=180/Math.PI,Ga=Math.PI/180,lr;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(lr||(lr={}));var Et=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Xh=[new Et,new Et,new Et,new Et],mt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=lr.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,f=this.right,l=this.top,u=this.bottom;if(f<=s||u<=l)return!1;var c=Xh[0].set(e.left,e.top),h=Xh[1].set(e.left,e.bottom),p=Xh[2].set(e.right,e.top),d=Xh[3].set(e.right,e.bottom);if(p.x<=c.x||h.y<=c.y)return!1;var m=Math.sign(r.a*r.d-r.b*r.c);if(m===0||(r.apply(c,c),r.apply(h,h),r.apply(p,p),r.apply(d,d),Math.max(c.x,h.x,p.x,d.x)<=s||Math.min(c.x,h.x,p.x,d.x)>=f||Math.max(c.y,h.y,p.y,d.y)<=l||Math.min(c.y,h.y,p.y,d.y)>=u))return!1;var _=m*(h.y-c.y),v=m*(c.x-h.x),g=_*s+v*l,y=_*f+v*l,x=_*s+v*u,b=_*f+v*u;if(Math.max(g,y,x,b)<=_*c.x+v*c.y||Math.min(g,y,x,b)>=_*d.x+v*d.y)return!1;var E=m*(c.y-p.y),w=m*(p.x-c.x),S=E*s+w*l,C=E*f+w*l,T=E*s+w*u,I=E*f+w*u;return!(Math.max(S,C,T,I)<=E*c.x+w*c.y||Math.min(S,C,T,I)>=E*d.x+w*d.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),AD=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=lr.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new mt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),ID=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=lr.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new mt(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Vl=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=lr.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],f=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],c=f>r!=u>r&&e<(l-s)*((r-f)/(u-f))+s;c&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),RD=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=lr.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),lo=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),ar=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new Et;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new Et;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,f,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-f)*o,this.d=Math.cos(s-f)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),f=Math.atan2(n,r),l=Math.abs(s+f);return l<1e-5||Math.abs(Ic-l)<1e-5?(e.rotation=f,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=f),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),es=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ts=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],rs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ns=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Kx=[],PD=[],Hh=Math.sign;function Fge(){for(var t=0;t<16;t++){var e=[];Kx.push(e);for(var r=0;r<16;r++)for(var n=Hh(es[t]*es[r]+rs[t]*ts[r]),i=Hh(ts[t]*es[r]+ns[t]*ts[r]),a=Hh(es[t]*rs[r]+rs[t]*ns[r]),o=Hh(ts[t]*rs[r]+ns[t]*ns[r]),s=0;s<16;s++)if(es[s]===n&&ts[s]===i&&rs[s]===a&&ns[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var f=new ar;f.set(es[t],ts[t],rs[t],ns[t],0,0),PD.push(f)}}Fge();var or={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return es[t]},uY:function(t){return ts[t]},vX:function(t){return rs[t]},vY:function(t){return ns[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return Kx[t][e]},sub:function(t,e){return Kx[t][or.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?or.S:or.N:Math.abs(e)*2<=Math.abs(t)?t>0?or.E:or.W:e>0?t>0?or.SE:or.SW:t>0?or.NE:or.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=PD[or.inv(e)];i.tx=r,i.ty=n,t.append(i)}},dh=function(){function t(){this.worldTransform=new ar,this.localTransform=new ar,this.position=new lo(this.onChange,this,0,0),this.scale=new lo(this.onChange,this,1,1),this.pivot=new lo(this.onChange,this,0,0),this.skew=new lo(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ye.SORTABLE_CHILDREN=!1;var iu=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?mt.EMPTY:(e=e||new mt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,f=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+f;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,f=e.c,l=e.d,u=e.tx,c=e.ty,h=this.minX,p=this.minY,d=this.maxX,m=this.maxY,_=o*r+f*n+u,v=s*r+l*n+c;h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+f*n+u,v=s*i+l*n+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*r+f*a+u,v=s*r+l*a+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+f*a+u,v=s*i+l*a+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,this.minX=h,this.minY=p,this.maxX=d,this.maxY=m},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,f=r;f<n;f+=2){var l=e[f],u=e[f+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,f=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty,p=this.minX,d=this.minY,m=this.maxX,_=this.maxY,v=n;v<i;v+=2){var g=r[v],y=r[v+1],x=s*g+l*y+c,b=u*y+f*g+h;p=Math.min(p,x-a),m=Math.max(m,x+a),d=Math.min(d,b-o),_=Math.max(_,b+o)}this.minX=p,this.minY=d,this.maxX=m,this.maxY=_},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,f=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<f?i:f,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,f=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<f?i:f,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Zx=function(t,e){return Zx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Zx(t,e)};function vS(t,e){Zx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var xr=function(t){vS(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new dh,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new iu,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new mt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new mt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new iu);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,f,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),f===void 0&&(f=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=f,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new mS),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*pS},set:function(r){this.transform.rotation=r*Ga},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}($s),mS=function(t){vS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(xr);xr.prototype.displayObjectUpdateTransform=xr.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var XP;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(XP||(XP={}));var HP;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(HP||(HP={}));var zP;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(zP||(zP={}));var WP;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(WP||(WP={}));var YP;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(YP||(YP={}));var qP;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(qP||(qP={}));var KP;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(KP||(KP={}));var ZP;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(ZP||(ZP={}));var JP;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(JP||(JP={}));var QP;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(QP||(QP={}));var eO;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(eO||(eO={}));var tO;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(tO||(tO={}));var rO;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(rO||(rO={}));var nO;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(nO||(nO={}));var iO;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(iO||(iO={}));var aO;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(aO||(aO={}));var Jx;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Jx||(Jx={}));var oO;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(oO||(oO={}));var sO;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(sO||(sO={}));function kge(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var Vr=function(t){vS(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=Ye.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);ca(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,ca(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,ca(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var f=0;f<s.length;++f)s[f].parent=null,s[f].transform&&(s[f].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var f=0;f<s.length;++f)s[f].emit("removed",this),this.emit("childRemoved",s[f],this,f);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(kge),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var f=this.children[o],l=f.cullable;f.cullable=l||!this.cullArea,f.render(r),f.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Jx.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(xr);Vr.prototype.containerUpdateTransform=Vr.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var OD={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};xr.mixin(OD);var Nge=9,zh=100,Lge=0,Bge=0,lO=2,uO=1,Mge=-1e3,Dge=-1e3,Uge=2,FD=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(_i.tablet||_i.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=zh+"px",r.style.height=zh+"px",r.style.position="absolute",r.style.top=Lge+"px",r.style.left=Bge+"px",r.style.zIndex=lO.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=uO+"px",r.style.height=uO+"px",r.style.position="absolute",r.style.top=Mge+"px",r.style.left=Dge+"px",r.style.zIndex=Uge.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(_i.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,f=s.width,l=s.height,u=s.resolution,c=a/f*u,h=o/l*u,p=this.div;p.style.left=n+"px",p.style.top=i+"px",p.style.width=f+"px",p.style.height=l+"px";for(var d=0;d<this.children.length;d++){var m=this.children[d];if(m.renderId!==this.renderId)m._accessibleActive=!1,ca(this.children,d,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,d--;else{p=m._accessibleDiv;var _=m.hitArea,v=m.worldTransform;m.hitArea?(p.style.left=(v.tx+_.x*v.a)*c+"px",p.style.top=(v.ty+_.y*v.d)*h+"px",p.style.width=_.width*v.a*c+"px",p.style.height=_.height*v.d*h+"px"):(_=m.getBounds(),this.capHitArea(_),p.style.left=_.x*c+"px",p.style.top=_.y*h+"px",p.style.width=_.width*c+"px",p.style.height=_.height*h+"px",p.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(p.title=m.accessibleTitle),p.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&p.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==p.title||m.tabIndex!==p.tabIndex)&&(p.title=m.accessibleTitle,p.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=zh+"px",r.style.height=zh+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=lO.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===Nge&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ye.TARGET_FPMS=.06;var da;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(da||(da={}));var m_=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),Qr=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new m_(null,null,1/0),this.deltaMS=1/Ye.TARGET_FPMS,this.elapsedMS=1/Ye.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=da.NORMAL),this._addListener(new m_(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=da.NORMAL),this._addListener(new m_(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Ye.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Ye.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),kD=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,da.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Qr.shared:new Qr,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Qx=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Et,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var e1=function(t,e){return e1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},e1(t,e)};function jge(t,e){e1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ND=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Dd=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),$ge=function(){function t(){this._tempPoint=new Et}return t.prototype.recursiveFindHit=function(e,r,n,i,a){if(!r||!r.visible)return!1;var o=e.data.global;a=r.interactive||a;var s=!1,f=a,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(o,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),f=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(o)||(i=!1)),l&&r.interactiveChildren&&r.children)for(var u=r.children,c=u.length-1;c>=0;c--){var h=u[c],p=this.recursiveFindHit(e,h,n,i,f);if(p){if(!h.parent)continue;f=!1,p&&(e.target&&(i=!1),s=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(o)&&(s=!0),r.interactive&&(s&&!e.target&&(e.target=r),n&&n(e,r,!!s))),s},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),LD={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};xr.mixin(LD);var Wh=1,Yh={target:null,data:{global:null}},BD=function(t){jge(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new Qx,i.mouse.identifier=Wh,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Wh]=i.mouse,i.interactionDataPool=[],i.eventData=new ND,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new $ge,i._tempDisplayObject=new mS,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return Yh.target=null,Yh.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Yh,n,null,!0),Yh.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Qr.system.add(this.tickerUpdate,this,da.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Qr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var f=s.length;this.delayedEvents=[];for(var l=0;l<f;l++){var u=s[l],c=u.displayObject,h=u.eventString,p=u.eventData;p.stopsPropagatingAt===c&&(p.stopPropagationHint=!0),this.dispatchEvent(c,h,p)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],f=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,f);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new Dd(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var a=this.normalizeToPointerData(r),o=a.length,s=r.target!==this.interactionDOMElement?"outside":"",f=0;f<o;f++){var l=a[f],u=this.getInteractionDataForPointerId(l),c=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,c),l.pointerType==="mouse"||l.pointerType==="pen"){var h=l.button===2;this.emit(h?"rightup"+s:"mouseup"+s,c)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,c),this.releaseInteractionDataForPointerId(l.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],f=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var c=a.button===2,h=Dd.FLAGS,p=c?h.RIGHT_DOWN:h.LEFT_DOWN,d=s!==void 0&&s.flags&p;i?(this.dispatchEvent(n,c?"rightup":"mouseup",r),d&&(this.dispatchEvent(n,c?"rightclick":"click",r),u=!0)):d&&this.dispatchEvent(n,c?"rightupoutside":"mouseupoutside",r),s&&(c?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),f&&this.dispatchEvent(n,"touchend",r),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",r),f&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),f&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),f=this.configureInteractionEventForDOMEvent(this.eventData,o,s);f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",f),o.pointerType==="touch"&&this.emit("touchmove",f),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",f)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",f=n.trackedPointers[o];i&&!f&&(f=n.trackedPointers[o]=new Dd(o)),f!==void 0&&(i&&this.mouseOverRenderer?(f.over||(f.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):f.over&&(f.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),f.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Wh||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new Qx,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=Wh),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}($s);/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var hn=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,f){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,c=l.items;this._aliasCount++;for(var h=0,p=c.length;h<p;h++)c[h][u](e,r,n,i,a,o,s,f);return c===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(hn.prototype,{dispatch:{value:hn.prototype.emit},run:{value:hn.prototype.emit}});/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ye.PREFER_ENV=_i.any?ha.WEBGL:ha.WEBGL2;Ye.STRICT_TEXTURE_CACHE=!1;var Rc=[];function Ev(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Rc.length-1;i>=0;--i){var a=Rc[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var t1=function(t,e){return t1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},t1(t,e)};function tr(t,e){t1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var r1=function(){return r1=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r1.apply(this,arguments)};function Vge(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]]);return r}var Is=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new hn("setRealSize"),this.onUpdate=new hn("update"),this.onError=new hn("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Vo=function(t){tr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Mn.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(Is),Gge={scaleMode:pn.NEAREST,format:Me.RGBA,alphaMode:Mn.NPM},xt=function(t){tr(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,f=n.scaleMode,l=n.width,u=n.height,c=n.wrapMode,h=n.format,p=n.type,d=n.target,m=n.resolution,_=n.resourceOptions;return r&&!(r instanceof Is)&&(r=Ev(r,_),r.internal=!0),i.resolution=m||Ye.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:Ye.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:Ye.ANISOTROPIC_LEVEL,i._wrapMode=c||Ye.WRAP_MODE,i._scaleMode=f!==void 0?f:Ye.SCALE_MODE,i.format=h||Me.RGBA,i.type=p||et.UNSIGNED_BYTE,i.target=d||Eo.TEXTURE_2D,i.alphaMode=a!==void 0?a:Mn.UNPACK,i.uid=No(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=zx(this.realWidth)&&zx(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete di[this.cacheId],delete Vn[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=Ye.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+No()}o=r._pixiId}var f=di[o];if(a&&i&&!f)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return f||(f=new e(r,n),f.cacheId=o,e.addToCache(f,o)),f},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new Vo(r,{width:n,height:i}),s=r instanceof Float32Array?et.FLOAT:et.UNSIGNED_BYTE;return new e(o,Object.assign(Gge,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),di[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),di[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=di[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete di[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete di[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}($s),wv=function(t){tr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var f=0;f<r;f++){var l=new xt;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof Is?this.addResourceAt(r[i],i):this.addResourceAt(Ev(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(Is),gS=function(t){tr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,f,l;return Array.isArray(r)?(f=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,f&&i.initFromArray(f,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=Eo.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,f=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var u=0;u<o;u++){var c=f[u];s[u]<c.dirtyId&&(s[u]=c.dirtyId,c.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,c.resource.width,c.resource.height,1,n.format,i.type,c.resource.source))}return!0},e}(wv),pa=function(t){tr(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=TD(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,f=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Mn.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===f?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=f,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Is),Sv=function(t){tr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(pa),_S=function(t){tr(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,f=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=Eo.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),f!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=Eo.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=Eo.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(wv),Cv=function(t){tr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;pa.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Ye.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(f){a(f),n.onError.emit(f)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===Mn.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var f=o[s];if(f!==i&&f.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(pa),yS=function(t){tr(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;pa.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var f=r.source;f.width=o,f.height=s,f._pixiId="canvas_"+No(),f.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(pa),xS=function(t){tr(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];pa.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var f=document.createElement("source"),l=r[s],u=l.src,c=l.mime;u=u||r[s];var h=u.split("?").shift().toLowerCase(),p=h.slice(h.lastIndexOf(".")+1);c=c||e.MIME_TYPES[p]||"video/"+p,f.src=u,f.type=c,a.appendChild(f)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=Qr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Qr.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Qr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Qr.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Qr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Qr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(pa),bS=function(t){tr(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},e}(pa);Rc.push(Cv,bS,Sv,xS,yS,Vo,_S,gS);var MD={__proto__:null,Resource:Is,BaseImageResource:pa,INSTALLED:Rc,autoDetectResource:Ev,AbstractMultiResource:wv,ArrayResource:gS,BufferResource:Vo,CanvasResource:Sv,CubeResource:_S,ImageResource:Cv,SVGResource:yS,VideoResource:xS,ImageBitmapResource:bS},Xge=function(t){tr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Mn.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(Vo),N0=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new hn("disposeFramebuffer"),this.multisample=Sr.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new xt(null,{scaleMode:pn.NEAREST,resolution:1,mipmap:Kn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new xt(new Xge(null,{width:this.width,height:this.height}),{scaleMode:pn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Kn.OFF,format:Me.DEPTH_COMPONENT,type:et.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),ES=function(t){tr(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Sr.NONE,n=t.call(this,null,r)||this,n.mipmap=Kn.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new N0(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(xt),wS=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,f=e.x/i+o,l=e.y/a+s;n=or.add(n,or.NW),this.x0=f+o*or.uX(n),this.y0=l+s*or.uY(n),n=or.add(n,2),this.x1=f+o*or.uX(n),this.y1=l+s*or.uY(n),n=or.add(n,2),this.x2=f+o*or.uX(n),this.y2=l+s*or.uY(n),n=or.add(n,2),this.x3=f+o*or.uX(n),this.y3=l+s*or.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),fO=new wS;function qh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var nt=function(t){tr(e,t);function e(r,n,i,a,o,s){var f=t.call(this)||this;if(f.noFrame=!1,n||(f.noFrame=!0,n=new mt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),f.baseTexture=r,f._frame=n,f.trim=a,f.valid=!1,f._uvs=fO,f.uvMatrix=null,f.orig=i||n,f._rotate=Number(o||0),o===!0)f._rotate=2;else if(f._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return f.defaultAnchor=s?new Et(s.x,s.y):new Et(0,0),f._updateID=0,f.textureCacheIds=[],r.valid?f.noFrame?r.valid&&f.onBaseTextureUpdated(r):f.frame=n:r.once("loaded",f.onBaseTextureUpdated,f),f.noFrame&&r.on("update",f.onBaseTextureUpdated,f),f}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Vn[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===fO&&(this._uvs=new wS),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Ye.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof xt){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+No(),xt.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+No()}o=r._pixiId}var f=Vn[o];if(a&&i&&!f)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!f&&!(r instanceof xt)?(n.resolution||(n.resolution=Ac(r)),f=new e(new xt(r,n)),f.baseTexture.cacheId=o,xt.addToCache(f.baseTexture,o),e.addToCache(f,o)):!f&&r instanceof xt&&(f=new e(r),e.addToCache(f,o)),f},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(xt.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new xt(r,Object.assign({scaleMode:Ye.SCALE_MODE,resolution:Ac(n)},a)),s=o.resource;s instanceof Cv&&(s.url=n);var f=new e(o);return i||(i=n),xt.addToCache(f.baseTexture,i),e.addToCache(f,i),i!==n&&(xt.addToCache(f.baseTexture,n),e.addToCache(f,n)),f.baseTexture.valid?Promise.resolve(f):new Promise(function(l){f.baseTexture.once("loaded",function(){return l(f)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Vn[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Vn[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Vn[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Vn[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)Vn[r.textureCacheIds[a]]===r&&delete Vn[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,f=i+o>this.baseTexture.height;if(s||f){var l=s&&f?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,c="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+c))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new xt),qh(e._EMPTY),qh(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=document.createElement("canvas"),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(new xt(new Sv(r))),qh(e._WHITE),qh(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}($s),Lo=function(t){tr(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(Va("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new ES(r))},e}(nt),DD=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=Sr.NONE);var i=new ES(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Lo(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=Sr.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Tc(e),r=Tc(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Sr.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),n1=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=et.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),Hge=0,Pr=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Hge++,this.disposeRunner=new hn("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===$i.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?$i.ELEMENT_ARRAY_BUFFER:$i.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),zge={Float32Array,Uint32Array,Int32Array,Uint8Array};function Wge(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,f=0,a=0;a<t.length;a++){var l=e[a],u=t[a],c=bv(u);i[c]||(i[c]=new zge[c](o)),s=i[c];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+f,d=h%l;s[p+d]=u[h]}f+=l}return new Float32Array(o)}var cO={5126:4,5123:2,5121:1},Yge=0,qge={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Bu=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Yge++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new hn("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,f){if(n===void 0&&(n=0),i===void 0&&(i=!1),f===void 0&&(f=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Pr||(r instanceof Array&&(r=new Float32Array(r)),r=new Pr(r));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],r,n,i,a);return this}var c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new n1(c,n,i,a,o,s,f),this.instanced=this.instanced||f,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof Pr||(e instanceof Array&&(e=new Uint16Array(e)),e=new Pr(e)),e.type=$i.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new Pr,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*cO[a.type]/4),a.buffer=0}for(n.data=Wge(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new Pr(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new n1(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=$i.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var f=0;f<o.buffers.length;f++)i[f]=i[f]||0,i[f]+=o.buffers[f].data.length,a[f]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new qge[bv(o.buffers[s].data)](i[s]),r.buffers[s]=new Pr(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var f=0;f<o.buffers.length;f++)n[f].set(o.buffers[f].data,a[f]),a[f]+=o.buffers[f].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=$i.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,c=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var p=o.attributes[s];(p.buffer|0)===h&&(u+=p.size*cO[p.type]/4)}for(var s=0;s<e.length;s++){for(var d=e[s].indexBuffer.data,f=0;f<d.length;f++)r.indexBuffer.data[f+c]+=l;l+=e[s].buffers[h].data.length/u,c+=d.length}}return r},t}(),UD=function(t){tr(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(Bu),SS=function(t){tr(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new Pr(r.vertices),r.uvBuffer=new Pr(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Bu),Kge=0,wo=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Kge++,this.static=!!r,this.ubo=!!n,e instanceof Pr?(this.buffer=e,this.buffer.type=$i.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Pr(new Float32Array(1)),this.buffer.type=$i.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),jD=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Sr.NONE,this.sourceFrame=new mt,this.destinationFrame=new mt,this.bindingSourceFrame=new mt,this.bindingDestinationFrame=new mt,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Kh=[new Et,new Et,new Et,new Et],g_=new ar,CS=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new DD,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new UD,this.quadUv=new SS,this.tempRect=new mt,this.activeState={},this.globalUniforms=new wo({outputFrame:new mt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new jD,f=this.renderer.renderTexture,l=r[0].resolution,u=r[0].multisample,c=r[0].padding,h=r[0].autoFit,p=(n=r[0].legacy)!==null&&n!==void 0?n:!0,d=1;d<r.length;d++){var m=r[d];l=Math.min(l,m.resolution),u=Math.min(u,m.multisample),c=this.useMaxPadding?Math.max(c,m.padding):c+m.padding,h=h&&m.autoFit,p=p||((i=m.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=f.current),o.push(s),s.resolution=l,s.multisample=u,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);var _=this.tempRect.copyFrom(f.sourceFrame);a.projection.transform&&this.transformAABB(g_.copyFrom(a.projection.transform).invert(),_),h?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,f.current?f.current.resolution:a.resolution,f.sourceFrame,f.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(f.sourceFrame),s.bindingDestinationFrame.copyFrom(f.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,f.bind(s.renderTexture,s.sourceFrame,v),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var f=i.filterArea;f[0]=r.destinationFrame.width,f[1]=r.destinationFrame.height,f[2]=r.sourceFrame.x,f[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,Oa.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,r.resolution);c.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,r.resolution),c.filterFrame=u.filterFrame),n[h].apply(this,u,c,Oa.CLEAR,r);var p=u;u=c,c=p}n[h].apply(this,u,l.renderTexture,Oa.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=Oa.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===Oa.CLEAR||r===Oa.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(ri.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(ri.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),f=r.worldTransform.copyTo(ar.TEMP_MATRIX);return f.invert(),s.prepend(f),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=Sr.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Sr.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=Kh[0],i=Kh[1],a=Kh[2],o=Kh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),f=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),u=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=f,r.width=l-s,r.height=u-f},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,f=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(f)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?g_.copyFrom(a):g_.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),ph=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),TS=function(){function t(e){this.renderer=e,this.emptyRenderer=new ph(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,f=0,l=0;l<s;l++){var u=a[l],c=u._batchLocation;if(c>=0&&c<i&&r[c]===u){o[l]=c;continue}for(;f<i;){var h=r[f];if(h&&h._batchEnabled===n&&h._batchLocation===f){f++;continue}o[l]=f,u._batchLocation=f,r[f]=u;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),hO=0,AS=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=hO++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=hO++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(Ye.PREFER_ENV>=ha.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),$D=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Sr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),Zge=new mt,IS=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new N0(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new mt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Ye.PREFER_ENV===ha.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var f=r.width>>n,l=r.height>>n,u=f/r.width;this.setViewport(r.x*u,r.y*u,f,l)}else{var f=e.width>>n,l=e.height>>n;this.setViewport(0,0,f,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=Sc.COLOR|Sc.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new $D(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],f=s.parentTextureArray||s;this.renderer.texture.bind(f,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],f=0;f<o;f++){var l=a[f],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),!(f===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,l.target,u._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+f))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var c=this.writeDepthTexture;if(c){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=Sr.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Sr.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,f=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[f];if(l){if(!e){if(!l.msaaBuffer)return;var u=a.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new N0(a.width,a.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=Zge,r.width=a.width,r.height=a.height),n||(n=r);var c=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,c?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new mt},t.prototype.destroy=function(){this.renderer=null},t}(),__={5126:4,5123:2,5121:1},RS=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;Ye.PREFER_ENV===ha.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,f,l){return i.drawElementsInstancedANGLE(a,o,s,f,l)},e.drawArraysInstanced=function(a,o,s,f){return i.drawArraysInstancedANGLE(a,o,s,f)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var f=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[f];if(u)return l[s.id]=u,u;var c=e.buffers,h=e.attributes,p={},d={};for(var m in c)p[m]=0,d[m]=0;for(var m in h)!h[m].size&&s.attributeData[m]?h[m].size=s.attributeData[m].size:h[m].size||console.warn("PIXI Geometry attribute '"+m+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[h[m].buffer]+=h[m].size*__[h[m].type];for(var m in h){var _=h[m],v=_.size;_.stride===void 0&&(p[_.buffer]===v*__[_.type]?_.stride=0:_.stride=p[_.buffer]),_.start===void 0&&(_.start=d[_.buffer],d[_.buffer]+=v*__[_.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var g=0;g<c.length;g++){var y=c[g];o.bind(y),n&&y._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=u,l[s.id]=u,l[f]=u,u},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var f=0;f<o.length;f++){var l=o[f]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[f],r))}if(!r){for(var u in i)if(u[0]==="g"){var c=i[u];this._activeVao===c&&this.unbind(),a.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var f=null;for(var l in s){var u=s[l],c=o[u.buffer],h=c._glBuffers[i];if(r.attributeData[l]){f!==h&&(a.bind(c),f=h);var p=r.attributeData[l].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(p,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,f=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,f,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,f,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),VD=function(){function t(e){e===void 0&&(e=null),this.type=ln.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ye.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=ln.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function dO(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function pO(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,u){return u+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var f=r.join(`
`);s[0]=f,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function Jge(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||pO(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||pO(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function y_(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function GD(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return y_(2*e);case"bvec3":return y_(3*e);case"bvec4":return y_(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var XD={},sf=XD;function HD(){if(sf===XD||sf&&sf.isContextLost()){var t=document.createElement("canvas"),e=void 0;Ye.PREFER_ENV>=ha.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),sf=e}return sf}var Zh;function Qge(){if(!Zh){Zh=Ui.MEDIUM;var t=HD();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Zh=e.precision?Ui.HIGH:Ui.MEDIUM}}return Zh}function vO(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Ui.HIGH&&r!==Ui.HIGH&&(n=Ui.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Ui.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var e_e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function zD(t){return e_e[t]}var Jh=null,mO={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function WD(t,e){if(!Jh){var r=Object.keys(mO);Jh={};for(var n=0;n<r.length;++n){var i=r[n];Jh[t[i]]=mO[i]}}return Jh[e]}var bs=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],t_e={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},r_e={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function n_e(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,f=0;f<bs.length;f++)if(bs[f].test(a,o)){n.push(bs[f].code(i,o)),s=!0;break}if(!s){var l=a.size===1?t_e:r_e,u=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var i_e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function a_e(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function YD(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=i_e.replace(/%forloop%/gi,a_e(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var lf;function o_e(){if(typeof lf=="boolean")return lf;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");lf=t({a:"b"},"a","b")===!0}catch{lf=!1}return lf}var s_e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,l_e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,u_e=0,Qh={},Mu=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=u_e++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Qh[n]?(Qh[n]++,n+="-"+Qh[n]):Qh[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=vO(this.vertexSrc,Ye.PRECISION_VERTEX,Ui.HIGH),this.fragmentSrc=vO(this.fragmentSrc,Ye.PRECISION_FRAGMENT,Qge())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return l_e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return s_e},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=Yx[i];return a||(Yx[i]=a=new t(e,r,n)),a},t}(),Ua=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof wo?this.uniformGroup=r:this.uniformGroup=new wo(r):this.uniformGroup=new wo({})}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=Mu.from(e,r);return new t(i,n)},t}(),x_=0,b_=1,E_=2,w_=3,S_=4,C_=5,Go=function(){function t(){this.data=0,this.blendMode=je.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<x_)},set:function(e){!!(this.data&1<<x_)!==e&&(this.data^=1<<x_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<b_)},set:function(e){!!(this.data&1<<b_)!==e&&(this.data^=1<<b_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<E_)},set:function(e){!!(this.data&1<<E_)!==e&&(this.data^=1<<E_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<w_)},set:function(e){!!(this.data&1<<w_)!==e&&(this.data^=1<<w_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<C_)},set:function(e){!!(this.data&1<<C_)!==e&&(this.data^=1<<C_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<S_)},set:function(e){!!(this.data&1<<S_)!==e&&(this.data^=1<<S_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==je.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),f_e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,c_e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,ut=function(t){tr(e,t);function e(r,n,i){var a=this,o=Mu.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=Ye.FILTER_RESOLUTION,a.multisample=Ye.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new Go,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return f_e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return c_e},enumerable:!1,configurable:!0}),e}(Ua),h_e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,d_e=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,gO=new ar,Tv=function(){function t(e,r){this._texture=e,this.mapCoord=new ar,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&(gO.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(gO));var o=r.baseTexture,s=this.uClampFrame,f=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+f+l)/o.width,s[1]=(r._frame.y+f+l)/o.height,s[2]=(r._frame.x+r._frame.width-f+l)/o.width,s[3]=(r._frame.y+r._frame.height-f+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),qD=function(t){tr(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||h_e,n||d_e,i)||this,a.maskSprite=o,a.maskMatrix=new ar,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new Tv(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}(ut),PS=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new VD;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n.autoDetect&&this.detect(n),n._target=e,n.type!==ln.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case ln.SCISSOR:this.renderer.scissor.push(n);break;case ln.STENCIL:this.renderer.stencil.push(n);break;case ln.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===ln.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case ln.SCISSOR:this.renderer.scissor.pop();break;case ln.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case ln.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===ln.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r.isSprite?e.type=ln.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ln.SCISSOR:e.type=ln.STENCIL},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new qD]));var s=this.renderer,f=s.renderTexture,l,u;if(f.current){var c=f.current;l=e.resolution||c.resolution,u=(r=e.multisample)!==null&&r!==void 0?r:c.multisample}else l=e.resolution||s.resolution,u=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=u,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),KD=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),_O=new ar,OS=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,a=this.renderer,o=a.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?_O.copyFrom(o):_O.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(KD),FS=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(KD),kS=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ar,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),Ho=new mt,uf=new mt,NS=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new mt,this.destinationFrame=new mt,this.viewportFrame=new mt}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(Ho.width=e.frame.width,Ho.height=e.frame.height,r=Ho),n||(uf.x=e.frame.x,uf.y=e.frame.y,uf.width=r.width,uf.height=r.height,n=uf),o=a.framebuffer):(s=i.resolution,r||(Ho.width=i.screen.width,Ho.height=i.screen.height,r=Ho),n||(n=Ho,n.width=r.width,n.height=r.height));var f=this.viewportFrame;f.x=n.x*s,f.y=n.y*s,f.width=n.width*s,f.height=n.height*s,e||(f.y=i.view.height-(f.y+f.height)),f.ceil(),this.renderer.framebuffer.bind(o,f),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,f=o.y,l=o.width,u=o.height;s=Math.round(s),f=Math.round(f),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,f,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function p_e(t,e,r,n,i){r.buffer.update(i)}var v_e={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},ZD={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function JD(t){for(var e=t.map(function(f){return{data:f,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=ZD[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function QD(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function e8(t,e){if(!t.autoManage)return{size:0,syncFunc:p_e};for(var r=QD(t.uniforms,e),n=JD(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var f=i[s],l=t.uniforms[f.data.name],u=f.data.name,c=!1,h=0;h<bs.length;h++){var p=bs[h];if(p.codeUbo&&p.test(f.data,l)){o.push("offset = "+f.offset/4+";",bs[h].codeUbo(f.data.name,l)),c=!0;break}}if(!c)if(f.data.size>1){var d=zD(f.data.type),m=Math.max(ZD[f.data.type]/16,1),_=d/m,v=(4-_%4)%4;o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+f.offset/4+`;

                t = 0;

                for(var i=0; i < `+f.data.size*m+`; i++)
                {
                    for(var j = 0; j < `+_+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+v+`;
                }

                `)}else{var g=v_e[f.data.type];o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+f.offset/4+`;
                `+g+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var m_e=function(){function t(){}return t}(),t8=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function g_e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=WD(e,a.type),s={type:o,name:a.name,size:zD(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function __e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),f=WD(e,a.type);r[o]={name:o,index:i,type:f,size:a.size,isArray:s,value:GD(f,a.size)}}return r}function r8(t,e){var r=dO(t,t.VERTEX_SHADER,e.vertexSrc),n=dO(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Jge(t,i,r,n),e.attributeData=g_e(i,t),e.uniformData=__e(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(u,c){return u>c?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var f=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:GD(f.type,f.size)}}var l=new t8(i,s);return l}var y_e=0,ed={textureCount:0,uboCount:0},LS=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=y_e++}return t.prototype.systemCheck=function(){if(!o_e())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(ed.textureCount=0,ed.uboCount=0,this.syncUniformGroup(e.uniformGroup,ed)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=n_e(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,ed,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=e8(e,this.shader.program.uniformData)),e.autoManage){var f=new Float32Array(s.size/4);e.buffer.update(f)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=r8(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function x_e(t,e){return e===void 0&&(e=[]),e[je.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.ADD]=[t.ONE,t.ONE],e[je.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.NONE]=[0,0],e[je.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[je.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[je.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[je.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[je.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[je.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[je.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[je.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[je.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[je.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[je.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var b_e=0,E_e=1,w_e=2,S_e=3,C_e=4,T_e=5,BS=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=je.NONE,this._blendEq=!1,this.map=[],this.map[b_e]=this.setBlend,this.map[E_e]=this.setOffset,this.map[w_e]=this.setCullFace,this.map[S_e]=this.setDepthTest,this.map[C_e]=this.setFrontFace,this.map[T_e]=this.setDepthMask,this.checks=[],this.defaultState=new Go,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=x_e(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),MS=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Ye.GC_MAX_IDLE,this.checkCountMax=Ye.GC_MAX_CHECK_COUNT,this.mode=Ye.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==k0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function A_e(t){var e,r,n,i,a,o,s,f,l,u,c,h,p,d,m,_,v,g,y,x,b,E,w;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?w=(e={},e[et.UNSIGNED_BYTE]=(r={},r[Me.RGBA]=t.RGBA8,r[Me.RGB]=t.RGB8,r[Me.RG]=t.RG8,r[Me.RED]=t.R8,r[Me.RGBA_INTEGER]=t.RGBA8UI,r[Me.RGB_INTEGER]=t.RGB8UI,r[Me.RG_INTEGER]=t.RG8UI,r[Me.RED_INTEGER]=t.R8UI,r[Me.ALPHA]=t.ALPHA,r[Me.LUMINANCE]=t.LUMINANCE,r[Me.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[et.BYTE]=(n={},n[Me.RGBA]=t.RGBA8_SNORM,n[Me.RGB]=t.RGB8_SNORM,n[Me.RG]=t.RG8_SNORM,n[Me.RED]=t.R8_SNORM,n[Me.RGBA_INTEGER]=t.RGBA8I,n[Me.RGB_INTEGER]=t.RGB8I,n[Me.RG_INTEGER]=t.RG8I,n[Me.RED_INTEGER]=t.R8I,n),e[et.UNSIGNED_SHORT]=(i={},i[Me.RGBA_INTEGER]=t.RGBA16UI,i[Me.RGB_INTEGER]=t.RGB16UI,i[Me.RG_INTEGER]=t.RG16UI,i[Me.RED_INTEGER]=t.R16UI,i[Me.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[et.SHORT]=(a={},a[Me.RGBA_INTEGER]=t.RGBA16I,a[Me.RGB_INTEGER]=t.RGB16I,a[Me.RG_INTEGER]=t.RG16I,a[Me.RED_INTEGER]=t.R16I,a),e[et.UNSIGNED_INT]=(o={},o[Me.RGBA_INTEGER]=t.RGBA32UI,o[Me.RGB_INTEGER]=t.RGB32UI,o[Me.RG_INTEGER]=t.RG32UI,o[Me.RED_INTEGER]=t.R32UI,o[Me.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[et.INT]=(s={},s[Me.RGBA_INTEGER]=t.RGBA32I,s[Me.RGB_INTEGER]=t.RGB32I,s[Me.RG_INTEGER]=t.RG32I,s[Me.RED_INTEGER]=t.R32I,s),e[et.FLOAT]=(f={},f[Me.RGBA]=t.RGBA32F,f[Me.RGB]=t.RGB32F,f[Me.RG]=t.RG32F,f[Me.RED]=t.R32F,f[Me.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,f),e[et.HALF_FLOAT]=(l={},l[Me.RGBA]=t.RGBA16F,l[Me.RGB]=t.RGB16F,l[Me.RG]=t.RG16F,l[Me.RED]=t.R16F,l),e[et.UNSIGNED_SHORT_5_6_5]=(u={},u[Me.RGB]=t.RGB565,u),e[et.UNSIGNED_SHORT_4_4_4_4]=(c={},c[Me.RGBA]=t.RGBA4,c),e[et.UNSIGNED_SHORT_5_5_5_1]=(h={},h[Me.RGBA]=t.RGB5_A1,h),e[et.UNSIGNED_INT_2_10_10_10_REV]=(p={},p[Me.RGBA]=t.RGB10_A2,p[Me.RGBA_INTEGER]=t.RGB10_A2UI,p),e[et.UNSIGNED_INT_10F_11F_11F_REV]=(d={},d[Me.RGB]=t.R11F_G11F_B10F,d),e[et.UNSIGNED_INT_5_9_9_9_REV]=(m={},m[Me.RGB]=t.RGB9_E5,m),e[et.UNSIGNED_INT_24_8]=(_={},_[Me.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,_),e[et.FLOAT_32_UNSIGNED_INT_24_8_REV]=(v={},v[Me.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,v),e):w=(g={},g[et.UNSIGNED_BYTE]=(y={},y[Me.RGBA]=t.RGBA,y[Me.RGB]=t.RGB,y[Me.ALPHA]=t.ALPHA,y[Me.LUMINANCE]=t.LUMINANCE,y[Me.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,y),g[et.UNSIGNED_SHORT_5_6_5]=(x={},x[Me.RGB]=t.RGB,x),g[et.UNSIGNED_SHORT_4_4_4_4]=(b={},b[Me.RGBA]=t.RGBA,b),g[et.UNSIGNED_SHORT_5_5_5_1]=(E={},E[Me.RGBA]=t.RGBA,E),g),w}var Ud=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=et.UNSIGNED_BYTE,this.internalFormat=Me.RGBA,this.samplerType=0}return t}(),DS=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new xt,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=A_e(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new Ud(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Ud(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var f=s._glTextures[a];f.samplerType!==Cc.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new Ud(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===et.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==Cc.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&ca(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Kn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=fa.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==Kn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===pn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===pn.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===pn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===pn.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),n8={__proto__:null,FilterSystem:CS,BatchSystem:TS,ContextSystem:AS,FramebufferSystem:IS,GeometrySystem:RS,MaskSystem:PS,ScissorSystem:OS,StencilSystem:FS,ProjectionSystem:kS,RenderTextureSystem:NS,ShaderSystem:LS,StateSystem:BS,TextureGCSystem:MS,TextureSystem:DS},T_=new ar,i8=function(t){tr(e,t);function e(r,n){r===void 0&&(r=nu.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},Ye.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new mt(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||Ye.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(Va("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(Va("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=Vge(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var f=Lo.create(r1({width:a.width,height:a.height},s));return T_.tx=-a.x,T_.ty=-a.y,this.render(r,{renderTexture:f,clear:!1,transform:T_,skipUpdateTransform:!!r.parent}),f},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=nu.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=uS(r),Gr(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}($s),I_e=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),R_e=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new I_e(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),za=function(t){tr(e,t);function e(r){var n=t.call(this,nu.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new hn("destroy"),contextChange:new hn("contextChange"),reset:new hn("reset"),update:new hn("update"),postrender:new hn("postrender"),prerender:new hn("prerender"),resize:new hn("resize")},n.runners.contextChange.add(n),n.globalUniforms=new wo({projectionMatrix:new ar},!0),n.addSystem(PS,"mask").addSystem(AS,"context").addSystem(BS,"state").addSystem(LS,"shader").addSystem(DS,"texture").addSystem(R_e,"buffer").addSystem(RS,"geometry").addSystem(IS,"framebuffer").addSystem(OS,"scissor").addSystem(FS,"stencil").addSystem(kS,"projection").addSystem(MS,"textureGC").addSystem(CS,"filter").addSystem(NS,"renderTexture").addSystem(TS,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,yD(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(xD())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=Sr.HIGH?this.multisample=Sr.HIGH:n>=Sr.MEDIUM?this.multisample=Sr.MEDIUM:n>=Sr.LOW?this.multisample=Sr.LOW:this.multisample=Sr.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof Lo?(Va("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var f=r.enableTempParent();r.updateTransform(),r.disableTempParent(f)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return Va("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(i8);function a8(t){return za.create(t)}var P_e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,O_e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,o8=P_e,US=O_e,F_e=function(){function t(e){Va("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),L0=function(){function t(){this.texArray=null,this.blend=0,this.type=ri.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),B0=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),Pc=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),s8=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Go.for2d(),n.size=Ye.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;Ye.PREFER_ENV===ha.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Ye.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=YD(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new L0);for(;n.length<a;)n.push(new B0);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,f=this.renderer.textureGC.count,l=++xt._globalBatch,u=0,c=a[0],h=0;o.copyBoundTextures(s,i);for(var p=0;p<this._bufferSize;++p){var d=n[p];n[p]=null,d._batchEnabled!==l&&(c.count>=i&&(o.boundArray(c,s,l,i),this.buildDrawCalls(c,h,p),h=p,c=a[++u],++l),d._batchEnabled=l,d.touched=f,c.elements[c.count++]=d)}c.count>0&&(o.boundArray(c,s,l,i),this.buildDrawCalls(c,h,this._bufferSize),++u,++l);for(var p=0;p<s.length;p++)s[p]=null;xt._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,f=a._indexBuffer,l=a.vertexSize,u=e._drawCallPool,c=this._dcIndex,h=this._aIndex,p=this._iIndex,d=u[c];d.start=this._iIndex,d.texArray=r;for(var m=n;m<i;++m){var _=o[m],v=_._texture.baseTexture,g=cS[v.alphaMode?1:0][_.blendMode];o[m]=null,n<m&&d.blend!==g&&(d.size=p-d.start,n=m,d=u[++c],d.texArray=r,d.start=p),this.packInterleavedGeometry(_,s,f,h,p),h+=_.vertexData.length/2*l,p+=_.indices.length,d.blend=g}n<i&&(d.size=p-d.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=p},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;Ye.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,f=0;f<r;f++){var l=o[f],u=l.texArray,c=l.type,h=l.size,p=l.start,d=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,a.set(this.state),i.drawElements(c,h,i.UNSIGNED_SHORT,p*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Ye.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=Tc(Math.ceil(r/8)),i=Wx(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new Pc(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=Tc(Math.ceil(r/12)),i=Wx(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,f=n.float32View,l=a/this.vertexSize,u=r.uvs,c=r.indices,h=r.vertexData,p=r._texture.baseTexture._batchLocation,d=Math.min(r.worldAlpha,1),m=d<1&&r._texture.baseTexture.alphaMode?xv(r._tintRGB,d):r._tintRGB+(d*255<<24),_=0;_<h.length;_+=2)f[a++]=h[_],f[a++]=h[_+1],f[a++]=u[_],f[a++]=u[_+1],s[a++]=m,f[a++]=p;for(var _=0;_<c.length;_++)i[o++]=l+c[_]},e._drawCallPool=[],e._textureArrayPool=[],e}(ph),l8=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=wo.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Mu(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ar,default:this.defaultGroupCache[e]};return new Ua(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),jS=function(t){tr(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new Pr(null,r,!1),n._indexBuffer=new Pr(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,et.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,et.FLOAT).addAttribute("aColor",n._buffer,4,!0,et.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,et.FLOAT).addIndex(n._indexBuffer),n}return e}(Bu),yO=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,xO=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,u8=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:yO,fragment:xO,geometryClass:jS,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){tr(f,s);function f(l){var u=s.call(this,l)||this;return u.shaderGenerator=new l8(n,i),u.geometryClass=o,u.vertexSize=a,u}return f}(s8)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return yO},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return xO},enumerable:!1,configurable:!0}),t}(),f8=u8.create(),c8={},k_e=function(t){Object.defineProperty(c8,t,{get:function(){return Va("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),MD[t]}})};for(var $S in MD)k_e($S);var h8={},N_e=function(t){Object.defineProperty(h8,t,{get:function(){return Va("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),n8[t]}})};for(var $S in n8)N_e($S);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vh=function(){function t(e){var r=this;this.stage=new Vr,e=Object.assign({forceCanvas:!1},e),this.renderer=a8(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),L_e=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();vh.registerPlugin(L_e);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var A_=/iPhone/i,bO=/iPod/i,EO=/iPad/i,wO=/\biOS-universal(?:.+)Mac\b/i,I_=/\bAndroid(?:.+)Mobile\b/i,SO=/Android/i,rl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,td=/Silk/i,Ca=/Windows Phone/i,CO=/\bWindows(?:.+)ARM\b/i,TO=/BlackBerry/i,AO=/BB10/i,IO=/Opera Mini/i,RO=/\b(CriOS|Chrome)(?:.+)Mobile/i,PO=/Mobile(?:.+)Firefox\b/i,OO=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function B_e(t){return function(e){return e.test(t)}}function M_e(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=B_e(r),a={apple:{phone:i(A_)&&!i(Ca),ipod:i(bO),tablet:!i(A_)&&(i(EO)||OO(e))&&!i(Ca),universal:i(wO),device:(i(A_)||i(bO)||i(EO)||i(wO)||OO(e))&&!i(Ca)},amazon:{phone:i(rl),tablet:!i(rl)&&i(td),device:i(rl)||i(td)},android:{phone:!i(Ca)&&i(rl)||!i(Ca)&&i(I_),tablet:!i(Ca)&&!i(rl)&&!i(I_)&&(i(td)||i(SO)),device:!i(Ca)&&(i(rl)||i(td)||i(I_)||i(SO))||i(/\bokhttp\b/i)},windows:{phone:i(Ca),tablet:i(CO),device:i(Ca)||i(CO)},other:{blackberry:i(TO),blackberry10:i(AO),opera:i(IO),firefox:i(PO),chrome:i(RO),device:i(TO)||i(AO)||i(IO)||i(PO)||i(RO)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Sl=M_e(globalThis.navigator);function D_e(t){var e=!0;if(Sl.tablet||Sl.phone){if(Sl.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Sl.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function U_e(){return!Sl.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var FO;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(FO||(FO={}));var kO;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(kO||(kO={}));var NO;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(NO||(NO={}));var LO;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(LO||(LO={}));var BO;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(BO||(BO={}));var MO;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(MO||(MO={}));var DO;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(DO||(DO={}));var UO;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(UO||(UO={}));var jO;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(jO||(jO={}));var i1;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(i1||(i1={}));var a1;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(a1||(a1={}));var o1;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(o1||(o1={}));var $O;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})($O||($O={}));var VO;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(VO||(VO={}));var s1;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(s1||(s1={}));var qf;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(qf||(qf={}));var GO;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(GO||(GO={}));var l1;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(l1||(l1={}));var XO;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(XO||(XO={}));var d8={MIPMAP_TEXTURES:o1.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:l1.NONE,SPRITE_MAX_TEXTURES:D_e(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:s1.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:a1.CLAMP,SCALE_MODE:i1.LINEAR,PRECISION_VERTEX:qf.HIGH,PRECISION_FRAGMENT:Sl.apple.device?qf.HIGH:qf.MEDIUM,CAN_UPLOAD_SAME_BUFFER:U_e(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */d8.SORTABLE_CHILDREN=!1;var HO=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?mt.EMPTY:(e=e||new mt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,f=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+f;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,f=e.c,l=e.d,u=e.tx,c=e.ty,h=this.minX,p=this.minY,d=this.maxX,m=this.maxY,_=o*r+f*n+u,v=s*r+l*n+c;h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+f*n+u,v=s*i+l*n+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*r+f*a+u,v=s*r+l*a+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,_=o*i+f*a+u,v=s*i+l*a+c,h=_<h?_:h,p=v<p?v:p,d=_>d?_:d,m=v>m?v:m,this.minX=h,this.minY=p,this.maxX=d,this.maxY=m},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,f=r;f<n;f+=2){var l=e[f],u=e[f+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,f=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty,p=this.minX,d=this.minY,m=this.maxX,_=this.maxY,v=n;v<i;v+=2){var g=r[v],y=r[v+1],x=s*g+l*y+c,b=u*y+f*g+h;p=Math.min(p,x-a),m=Math.max(m,x+a),d=Math.min(d,b-o),_=Math.max(_,b+o)}this.minX=p,this.minY=d,this.maxX=m,this.maxY=_},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,f=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<f?i:f,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,f=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<f?i:f,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var u1=function(t,e){return u1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},u1(t,e)};function VS(t,e){u1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Oc=function(t){VS(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new dh,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new HO,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new mt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new mt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new HO);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,f,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),f===void 0&&(f=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=f,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new j_e),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*pS},set:function(r){this.transform.rotation=r*Ga},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}($s),j_e=function(t){VS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Oc);Oc.prototype.displayObjectUpdateTransform=Oc.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zO;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(zO||(zO={}));var WO;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(WO||(WO={}));var YO;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(YO||(YO={}));var qO;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(qO||(qO={}));var KO;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(KO||(KO={}));var ZO;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ZO||(ZO={}));var JO;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(JO||(JO={}));var QO;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(QO||(QO={}));var e3;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(e3||(e3={}));var t3;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(t3||(t3={}));var r3;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(r3||(r3={}));var n3;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(n3||(n3={}));var i3;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(i3||(i3={}));var a3;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(a3||(a3={}));var o3;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(o3||(o3={}));var s3;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(s3||(s3={}));var f1;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(f1||(f1={}));var l3;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(l3||(l3={}));var u3;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(u3||(u3={}));function $_e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var f3=function(t){VS(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=d8.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);ca(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,ca(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,ca(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var f=0;f<s.length;++f)s[f].parent=null,s[f].transform&&(s[f].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var f=0;f<s.length;++f)s[f].emit("removed",this),this.emit("childRemoved",s[f],this,f);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort($_e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var f=this.children[o],l=f.cullable;f.cullable=l||!this.cullArea,f.render(r),f.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==f1.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Oc);f3.prototype.containerUpdateTransform=f3.prototype.updateTransform;var R_=new mt,c3=4,p8=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,a=!1,o,s=!1;e&&(e instanceof Lo?o=e:(o=this.renderer.generateTexture(e),s=!0)),o?(n=o.baseTexture.resolution,i=o.frame,a=!1,r.renderTexture.bind(o)):(n=this.renderer.resolution,a=!0,i=R_,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var f=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),u=new qx(f,l,1),c=new Uint8Array(c3*f*l),h=r.gl;h.readPixels(i.x*n,i.y*n,f,l,h.RGBA,h.UNSIGNED_BYTE,c);var p=u.context.getImageData(0,0,f,l);if(t.arrayPostDivide(c,p.data),u.context.putImageData(p,0,0),a){var d=new qx(u.width,u.height,1);d.context.scale(1,-1),d.context.drawImage(u.canvas,0,-l),u.destroy(),u=d}return s&&o.destroy(!0),u.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,a,o,s=!1;e&&(e instanceof Lo?o=e:e instanceof Oc&&(o=this.renderer.generateTexture(e),s=!0)),o?r?(i=r.resolution,a=o.frame,n.renderTexture.bind(o)):(i=o.baseTexture.resolution,a=o.frame,n.renderTexture.bind(o)):r?(i=r.resolution,a=R_,a.width=r.width,a.height=r.height,n.renderTexture.bind(null)):(i=n.resolution,a=R_,a.width=n.width,a.height=n.height,n.renderTexture.bind(null));var f=a.width*i,l=a.height*i,u=new Uint8Array(c3*f*l),c=n.gl;return c.readPixels(a.x*i,a.y*i,f,l,c.RGBA,c.UNSIGNED_BYTE,u),s&&o.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rd=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function h3(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var ka=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof rd))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return h3(this,new rd(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return h3(this,new rd(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof rd))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function v8(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,f){s&&(i[r.q.name][s]=f)}),i}var P_,nd=null,V_e=0,d3=200,G_e=204,X_e=1223,H_e=2;function p3(){}function v3(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function O_(t){return t.toString().replace("object ","")}var Xt=function(){function t(e,r,n){if(this._dequeue=p3,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=p3,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ka,this.onProgress=new ka,this.onComplete=new ka,this.onAfterMiddleware=new ka}return t.setExtensionLoadType=function(e,r){v3(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){v3(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof P_>"u"&&(P_=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),P_&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(O_(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(O_(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(O_(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?d3:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===V_e&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=d3:n===X_e&&(n=G_e);var i=n/100|0;if(i===H_e)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,nd||(nd=document.createElement("a")),nd.href=e;var n=v8(nd.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Xt||(Xt={}));function zo(){}function z_e(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var W_e=function(){function t(e,r){this.data=e,this.callback=r}return t}(),F_=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=zo,this.unsaturated=zo,this.empty=zo,this.drain=zo,this.error=zo,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new W_e(i,typeof o=="function"?o:zo);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,z_e(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=zo,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(f){if(f||a===o){n&&n(f);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),k_=100,Y_e=/(#[\w-]+)?$/,Zn=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,l){return n._loadResource(f,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,l){return n._loadResource(f,l)},this._queue=F_.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new ka,this.onError=new ka,this.onLoad=new ka,this.onStart=new ka,this.onComplete=new ka;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new Xt(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var f=a.progressChunk*(o.length+1),l=f/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=k_/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=v8(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=Y_e.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,F_.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=k_,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),F_.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(k_,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();Zn.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var m8=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Zn.shared:new Zn},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),g8=function(){function t(){}return t.add=function(){Xt.setExtensionLoadType("svg",Xt.LOAD_TYPE.XHR),Xt.setExtensionXhrType("svg",Xt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===Xt.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;nt.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t}(),q_e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function K_e(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=q_e.charAt(i[a])}return e}function Z_e(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Xt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+K_e(t.xhr.responseText),t.type=Xt.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Xt.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}Zn.registerPlugin({use:Z_e});Zn.registerPlugin(g8);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yt,pt;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(pt||(pt={}));var Fc=(Yt={},Yt[pt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Yt[pt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Yt[pt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Yt[pt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Yt[pt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Yt[pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Yt[pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Yt[pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Yt[pt.COMPRESSED_R11_EAC]=.5,Yt[pt.COMPRESSED_SIGNED_R11_EAC]=.5,Yt[pt.COMPRESSED_RG11_EAC]=1,Yt[pt.COMPRESSED_SIGNED_RG11_EAC]=1,Yt[pt.COMPRESSED_RGB8_ETC2]=.5,Yt[pt.COMPRESSED_RGBA8_ETC2_EAC]=1,Yt[pt.COMPRESSED_SRGB8_ETC2]=.5,Yt[pt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Yt[pt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Yt[pt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Yt[pt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Yt[pt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Yt[pt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Yt[pt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Yt[pt.COMPRESSED_RGB_ETC1_WEBGL]=.5,Yt[pt.COMPRESSED_RGB_ATC_WEBGL]=.5,Yt[pt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Yt[pt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Yt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var c1=function(t,e){return c1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},c1(t,e)};function _8(t,e){c1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function J_e(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(l){try{f(n.next(l))}catch(u){a(u)}}function s(l){try{f(n.throw(l))}catch(u){a(u)}}function f(l){l.done?i(l.value):new r(function(u){u(l.value)}).then(o,s)}f((n=n.apply(t,e||[])).next())})}function Q_e(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return f([l,u])}}function f(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var y8=function(t){_8(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new Pc(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return J_e(this,void 0,Promise,function(){var r,n,i;return Q_e(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new Pc(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Vo),M0=function(t){_8(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,f=this.levels;s<f;s++){var l=this._levelBuffers[s],u=l.levelID,c=l.levelWidth,h=l.levelHeight,p=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,u,this.format,c,h,0,p)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,f){for(var l=new Array(i),u=r.byteOffset,c=s,h=f,p=c+a-1&~(a-1),d=h+o-1&~(o-1),m=p*d*Fc[n],_=0;_<i;_++)l[_]={levelID:_,levelWidth:i>1?c:p,levelHeight:i>1?h:d,levelBuffer:new Uint8Array(r.buffer,u,m)},u+=m,c=c>>1||1,h=h>>1||1,p=c+a-1&~(a-1),d=h+o-1&~(o-1),m=p*d*Fc[n];return l},e}(y8),x8=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===Xt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,f=0,l=a.length;f<l;f++){var u=a[f],c=u.src,h=u.format;if(h||(s=c),t.textureFormats[h]){o=c;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=hs.resolve(e.url.replace(i.baseUrl,""),o),m=n.cacheID;i.add(m,d,p,function(_){if(_.error){r(_.error);return}var v=_.texture,g=v===void 0?null:v,y=_.textures,x=y===void 0?{}:y;Object.assign(e,{texture:g,textures:x}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=document.createElement("canvas"),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function b8(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new nt(new xt(a,Object.assign({mipmap:Kn.OFF,alphaMode:Mn.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,f=t+"-"+(o+1);xt.addToCache(s,f),nt.addToCache(a,f),o===0&&(xt.addToCache(s,t),nt.addToCache(a,t),n.texture=a),n.textures[f]=a}),n}var ff,Ti;Xt.setExtensionXhrType("dds",Xt.XHR_RESPONSE_TYPE.BUFFER);var N_=4,id=124,eye=32,m3=20,tye=542327876,ad={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},rye={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},od={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Oi;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Oi||(Oi={}));var h1;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(h1||(h1={}));var nye=1,iye=2,aye=4,oye=64,sye=512,lye=131072,uye=827611204,fye=861165636,cye=894720068,hye=808540228,dye=4,pye=(ff={},ff[uye]=pt.COMPRESSED_RGBA_S3TC_DXT1_EXT,ff[fye]=pt.COMPRESSED_RGBA_S3TC_DXT3_EXT,ff[cye]=pt.COMPRESSED_RGBA_S3TC_DXT5_EXT,ff),vye=(Ti={},Ti[Oi.DXGI_FORMAT_BC1_TYPELESS]=pt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ti[Oi.DXGI_FORMAT_BC1_UNORM]=pt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ti[Oi.DXGI_FORMAT_BC2_TYPELESS]=pt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ti[Oi.DXGI_FORMAT_BC2_UNORM]=pt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ti[Oi.DXGI_FORMAT_BC3_TYPELESS]=pt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ti[Oi.DXGI_FORMAT_BC3_UNORM]=pt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ti[Oi.DXGI_FORMAT_BC1_UNORM_SRGB]=pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Ti[Oi.DXGI_FORMAT_BC2_UNORM_SRGB]=pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Ti[Oi.DXGI_FORMAT_BC3_UNORM_SRGB]=pt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Ti),E8=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,b8(e.name||e.url,t.parse(e.data),e.metadata))}catch(n){r(n);return}r()},t.parse=function(e){var r=new Uint32Array(e),n=r[0];if(n!==tye)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,id/Uint32Array.BYTES_PER_ELEMENT),a=i[ad.HEIGHT],o=i[ad.WIDTH],s=i[ad.MIPMAP_COUNT],f=new Uint32Array(e,ad.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,eye/Uint32Array.BYTES_PER_ELEMENT),l=f[nye];if(l&aye){var u=f[rye.FOURCC];if(u!==hye){var c=pye[u],h=N_+id,p=new Uint8Array(e,h),d=new M0(p,{format:c,width:o,height:a,levels:s});return[d]}var m=N_+id,_=new Uint32Array(r.buffer,m,m3/Uint32Array.BYTES_PER_ELEMENT),v=_[od.DXGI_FORMAT],g=_[od.RESOURCE_DIMENSION],y=_[od.MISC_FLAG],x=_[od.ARRAY_SIZE],b=vye[v];if(b===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+v);if(y===dye)throw new Error("DDSLoader does not support cubemap textures");if(g===h1.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var E=new Array,w=N_+id+m3;if(x===1)E.push(new Uint8Array(e,w));else{for(var S=Fc[b],C=0,T=o,I=a,A=0;A<s;A++){var R=Math.max(1,T+3&-4),O=Math.max(1,I+3&-4),F=R*O*S;C+=F,T=T>>>1,I=I>>>1}for(var k=w,A=0;A<x;A++)E.push(new Uint8Array(e,k,C)),k+=C}return E.map(function($){return new M0($,{format:b,width:o,height:a,levels:s})})}throw l&oye?new Error("DDSLoader does not support uncompressed texture data."):l&sye?new Error("DDSLoader does not supported YUV uncompressed texture data."):l&lye?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):l&iye?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),Wa,Ta,cf;Xt.setExtensionXhrType("ktx",Xt.XHR_RESPONSE_TYPE.BUFFER);var g3=[171,75,84,88,32,49,49,187,13,10,26,10],mye=67305985,Ai={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},L_=64,d1=(Wa={},Wa[et.UNSIGNED_BYTE]=1,Wa[et.UNSIGNED_SHORT]=2,Wa[et.INT]=4,Wa[et.UNSIGNED_INT]=4,Wa[et.FLOAT]=4,Wa[et.HALF_FLOAT]=8,Wa),w8=(Ta={},Ta[Me.RGBA]=4,Ta[Me.RGB]=3,Ta[Me.RG]=2,Ta[Me.RED]=1,Ta[Me.LUMINANCE]=1,Ta[Me.LUMINANCE_ALPHA]=2,Ta[Me.ALPHA]=1,Ta),S8=(cf={},cf[et.UNSIGNED_SHORT_4_4_4_4]=2,cf[et.UNSIGNED_SHORT_5_5_5_1]=2,cf[et.UNSIGNED_SHORT_5_6_5]=2,cf),C8=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=t.parse(n,e.data),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var f=b8(n,a,e.metadata);if(s&&f.textures)for(var l in f.textures)f.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,f)}else if(o){var u={};o.forEach(function(c,h){var p=new nt(new xt(c.resource,{mipmap:Kn.OFF,alphaMode:Mn.NO_PREMULTIPLIED_ALPHA,type:c.type,format:c.format})),d=n+"-"+(h+1);s&&(p.baseTexture.ktxKeyValueData=s),xt.addToCache(p.baseTexture,d),nt.addToCache(p,d),h===0&&(u[n]=p,xt.addToCache(p.baseTexture,n),nt.addToCache(p,n)),u[d]=p}),Object.assign(e,{textures:u})}}catch(c){r(c);return}r()},t.parse=function(e,r){var n=new DataView(r);if(!t.validate(e,n))return null;var i=n.getUint32(Ai.ENDIANNESS,!0)===mye,a=n.getUint32(Ai.GL_TYPE,i),o=n.getUint32(Ai.GL_FORMAT,i),s=n.getUint32(Ai.GL_INTERNAL_FORMAT,i),f=n.getUint32(Ai.PIXEL_WIDTH,i),l=n.getUint32(Ai.PIXEL_HEIGHT,i)||1,u=n.getUint32(Ai.PIXEL_DEPTH,i)||1,c=n.getUint32(Ai.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(Ai.NUMBER_OF_FACES,i),p=n.getUint32(Ai.NUMBER_OF_MIPMAP_LEVELS,i),d=n.getUint32(Ai.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");var m=4,_=4,v=f+3&-4,g=l+3&-4,y=new Array(c),x=f*l;a===0&&(x=v*g);var b;if(a!==0?d1[a]?b=d1[a]*w8[o]:b=S8[a]:b=Fc[s],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var E=t.loadKeyValueData?t.parseKvData(n,d,i):null,w=x*b,S=w,C=f,T=l,I=v,A=g,R=L_+d,O=0;O<p;O++){for(var F=n.getUint32(R,i),k=R+4,$=0;$<c;$++){var q=y[$];q||(q=y[$]=new Array(p)),q[O]={levelID:O,levelWidth:p>1||a!==0?C:I,levelHeight:p>1||a!==0?T:A,levelBuffer:new Uint8Array(r,k,S)},k+=S}R+=F+4,R=R%4!==0?R+4-R%4:R,C=C>>1||1,T=T>>1||1,I=C+m-1&~(m-1),A=T+_-1&~(_-1),S=I*A*b}return a!==0?{uncompressed:y.map(function(K){var G=K[0].levelBuffer,N=!1;return a===et.FLOAT?G=new Float32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4):a===et.UNSIGNED_INT?(N=!0,G=new Uint32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4)):a===et.INT&&(N=!0,G=new Int32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4)),{resource:new Vo(G,{width:K[0].levelWidth,height:K[0].levelHeight}),type:a,format:N?t.convertFormatToInteger(o):o}}),kvData:E}:{compressed:y.map(function(K){return new M0(null,{format:s,width:f,height:l,levels:p,levelBuffers:K})}),kvData:E}},t.validate=function(e,r){for(var n=0;n<g3.length;n++)if(r.getUint8(n)!==g3[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(e){switch(e){case Me.RGBA:return Me.RGBA_INTEGER;case Me.RGB:return Me.RGB_INTEGER;case Me.RG:return Me.RG_INTEGER;case Me.RED:return Me.RED_INTEGER;default:return e}},t.parseKvData=function(e,r,n){for(var i=new Map,a=0;a<r;){var o=e.getUint32(L_+a,n),s=L_+a+4,f=3-(o+3)%4;if(o===0||o>r-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&e.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(e.buffer,s,l)),c=new DataView(e.buffer,s+l+1,o-l-1);i.set(u,c),a+=4+o+f}return i},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var p1=function(t,e){return p1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},p1(t,e)};function T8(t,e){p1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gye=function(t){T8(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=je.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Gr(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Vr),_3=function(){function t(e,r,n){this.geometry=new Bu,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||et.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new Pr(ED(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Pr(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Pr(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===et.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===et.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===et.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===et.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),_ye=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,yye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,A8=function(t){T8(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new ar,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:et.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Ua.from(yye,_ye,{}),n.state=Go.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var f=r._buffers;f||(f=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture;this.state.blendMode=hS(r.blendMode,l.alphaMode),o.state.set(this.state);var u=o.gl,c=r.worldTransform.copyTo(this.tempMatrix);c.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=bD(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var h=!1,p=0,d=0;p<s;p+=a,d+=1){var m=s-p;m>a&&(m=a),d>=f.length&&f.push(this._generateOneMoreBuffer(r));var _=f[d];_.uploadDynamic(n,p,m);var v=r._bufferUpdateIDs[d]||0;h=h||_._updateID<v,h&&(_._updateID=r._updateID,_.uploadStatic(n,p,m)),o.geometry.bind(_.geometry),u.drawElements(u.TRIANGLES,m*6,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new _3(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new _3(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var f=0,l=0,u=0,c=0,h=0;h<i;++h){var p=r[n+h],d=p._texture,m=p.scale.x,_=p.scale.y,v=d.trim,g=d.orig;v?(l=v.x-p.anchor.x*g.width,f=l+v.width,c=v.y-p.anchor.y*g.height,u=c+v.height):(f=g.width*(1-p.anchor.x),l=g.width*-p.anchor.x,u=g.height*(1-p.anchor.y),c=g.height*-p.anchor.y),a[s]=l*m,a[s+1]=c*_,a[s+o]=f*m,a[s+o+1]=c*_,a[s+o*2]=f*m,a[s+o*2+1]=u*_,a[s+o*3]=l*m,a[s+o*3+1]=u*_,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var f=0;f<i;f++){var l=r[n+f].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var f=0;f<i;f++){var l=r[n+f].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var f=0;f<i;++f){var l=r[n+f]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var f=0;f<i;++f){var l=r[n+f],u=l._texture.baseTexture.alphaMode>0,c=l.alpha,h=c<1&&u?xv(l._tintRGB,c):l._tintRGB+(c*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(ph);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ba;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(Ba||(Ba={}));var Ma;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Ma||(Ma={}));var au={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},GS=function(){function t(){this.color=16777215,this.alpha=1,this.texture=nt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=nt.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var v1=function(t,e){return v1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},v1(t,e)};function XS(t,e){v1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function y3(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],f=t[i-1];o<i;o+=2){var l=t[o],u=t[o+1];a+=(l-s)*(u+f),s=l,f=u}if(!e&&a>0||e&&a<=0)for(var c=i/2,o=c+c%2;o<i;o+=2){var h=i-o-2,p=i-o-1,d=o,m=o+1;r=[t[d],t[h]],t[h]=r[0],t[d]=r[1],n=[t[m],t[p]],t[p]=n[0],t[m]=n[1]}}}var HS={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){y3(r,!1);for(var o=[],s=0;s<n.length;s++){var f=n[s];y3(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}var l=tS(r,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<r.length;s++)i.push(r[s])}}},kc={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===lr.CIRC){var f=t.shape;r=f.x,n=f.y,o=s=f.radius,i=a=0}else if(t.type===lr.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var u=t.shape,c=u.width/2,h=u.height/2;r=u.x+c,n=u.y+h,o=s=Math.max(0,Math.min(u.radius,Math.min(c,h))),i=c-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var p=Math.ceil(2.3*Math.sqrt(o+s)),d=p*8+(i?4:0)+(a?4:0);if(e.length=d,d!==0){if(p===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var m=0,_=p*4+(i?2:0)+2,v=_,g=d;{var y=i+o,x=a,b=r+y,E=r-y,w=n+x;if(e[m++]=b,e[m++]=w,e[--_]=w,e[--_]=E,a){var S=n-x;e[v++]=E,e[v++]=S,e[--g]=S,e[--g]=b}}for(var C=1;C<p;C++){var T=Math.PI/2*(C/p),y=i+Math.cos(T)*o,x=a+Math.sin(T)*s,b=r+y,E=r-y,w=n+x,S=n-x;e[m++]=b,e[m++]=w,e[--_]=w,e[--_]=E,e[v++]=E,e[v++]=S,e[--g]=S,e[--g]=b}{var y=i,x=a+s,b=r+y,E=r-y,w=n+x,S=n-x;e[m++]=b,e[m++]=w,e[--g]=S,e[--g]=b,i&&(e[m++]=E,e[m++]=w,e[--g]=S,e[--g]=E)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=a,s,f;if(t.type!==lr.RREC){var l=t.shape;s=l.x,f=l.y}else{var u=t.shape;s=u.x+u.width/2,f=u.y+u.height/2}var c=t.matrix;n.push(t.matrix?c.a*s+c.c*f+c.tx:s,t.matrix?c.b*s+c.d*f+c.ty:f),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}},I8={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function nl(t,e,r){var n=e-t;return t+n*r}function sd(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,f=o,l=0,u=0,c=0,h=0,p=0,d=0,m=0,_=0;m<=s;++m)_=m/s,l=nl(t,r,_),u=nl(e,n,_),c=nl(r,i,_),h=nl(n,a,_),p=nl(l,c,_),d=nl(u,h,_),!(m===0&&f[f.length-2]===p&&f[f.length-1]===d)&&f.push(p,d);return f}var R8={build:function(t){if(ou.nextRoundedRectBehavior){kc.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(sd(n,i+s,n,i,n+s,i,r),sd(n+a-s,i,n+a,i,n+a,i+s,r),sd(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),sd(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(ou.nextRoundedRectBehavior){kc.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=tS(r,null,2),s=0,f=o.length;s<f;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,f=r.length;s<f;s++)n.push(r[s],r[++s])}};function x3(t,e,r,n,i,a,o,s){var f=t-r*i,l=e-n*i,u=t+r*a,c=e+n*a,h,p;o?(h=n,p=-r):(h=-n,p=r);var d=f+h,m=l+p,_=u+h,v=c+p;return s.push(d,m),s.push(_,v),2}function il(t,e,r,n,i,a,o,s){var f=r-t,l=n-e,u=Math.atan2(f,l),c=Math.atan2(i-t,a-e);s&&u<c?u+=Math.PI*2:!s&&u>c&&(c+=Math.PI*2);var h=u,p=c-u,d=Math.abs(p),m=Math.sqrt(f*f+l*l),_=(15*d*Math.sqrt(m)/Math.PI>>0)+1,v=p/_;if(h+=v,s){o.push(t,e),o.push(r,n);for(var g=1,y=h;g<_;g++,y+=v)o.push(t,e),o.push(t+Math.sin(y)*m,e+Math.cos(y)*m);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var g=1,y=h;g<_;g++,y+=v)o.push(t+Math.sin(y)*m,e+Math.cos(y)*m),o.push(t,e);o.push(i,a),o.push(t,e)}return _*2}function xye(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new Et(n[0],n[1]),s=new Et(n[n.length-2],n[n.length-1]),f=r.type!==lr.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(f){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,c=(s.y+o.y)*.5;n.unshift(u,c),n.push(u,c)}var h=e.points,p=n.length/2,d=n.length,m=h.length/2,_=a.width/2,v=_*_,g=a.miterLimit*a.miterLimit,y=n[0],x=n[1],b=n[2],E=n[3],w=0,S=0,C=-(x-E),T=y-b,I=0,A=0,R=Math.sqrt(C*C+T*T);C/=R,T/=R,C*=_,T*=_;var O=a.alignment,F=(1-O)*2,k=O*2;f||(a.cap===Ma.ROUND?d+=il(y-C*(F-k)*.5,x-T*(F-k)*.5,y-C*F,x-T*F,y+C*k,x+T*k,h,!0)+2:a.cap===Ma.SQUARE&&(d+=x3(y,x,C,T,F,k,!0,h))),h.push(y-C*F,x-T*F),h.push(y+C*k,x+T*k);for(var $=1;$<p-1;++$){y=n[($-1)*2],x=n[($-1)*2+1],b=n[$*2],E=n[$*2+1],w=n[($+1)*2],S=n[($+1)*2+1],C=-(x-E),T=y-b,R=Math.sqrt(C*C+T*T),C/=R,T/=R,C*=_,T*=_,I=-(E-S),A=b-w,R=Math.sqrt(I*I+A*A),I/=R,A/=R,I*=_,A*=_;var q=b-y,K=x-E,G=b-w,N=S-E,j=K*G-N*q,M=j<0;if(Math.abs(j)<.1){h.push(b-C*F,E-T*F),h.push(b+C*k,E+T*k);continue}var D=(-C+y)*(-T+E)-(-C+b)*(-T+x),J=(-I+w)*(-A+E)-(-I+b)*(-A+S),Q=(q*J-G*D)/j,se=(N*D-K*J)/j,re=(Q-b)*(Q-b)+(se-E)*(se-E),ue=b+(Q-b)*F,Ee=E+(se-E)*F,xe=b-(Q-b)*k,de=E-(se-E)*k,pe=Math.min(q*q+K*K,G*G+N*N),Ae=M?F:k,Fe=pe+Ae*Ae*v,Te=re<=Fe;Te?a.join===Ba.BEVEL||re/v>g?(M?(h.push(ue,Ee),h.push(b+C*k,E+T*k),h.push(ue,Ee),h.push(b+I*k,E+A*k)):(h.push(b-C*F,E-T*F),h.push(xe,de),h.push(b-I*F,E-A*F),h.push(xe,de)),d+=2):a.join===Ba.ROUND?M?(h.push(ue,Ee),h.push(b+C*k,E+T*k),d+=il(b,E,b+C*k,E+T*k,b+I*k,E+A*k,h,!0)+4,h.push(ue,Ee),h.push(b+I*k,E+A*k)):(h.push(b-C*F,E-T*F),h.push(xe,de),d+=il(b,E,b-C*F,E-T*F,b-I*F,E-A*F,h,!1)+4,h.push(b-I*F,E-A*F),h.push(xe,de)):(h.push(ue,Ee),h.push(xe,de)):(h.push(b-C*F,E-T*F),h.push(b+C*k,E+T*k),a.join===Ba.ROUND?M?d+=il(b,E,b+C*k,E+T*k,b+I*k,E+A*k,h,!0)+2:d+=il(b,E,b-C*F,E-T*F,b-I*F,E-A*F,h,!1)+2:a.join===Ba.MITER&&re/v<=g&&(M?(h.push(xe,de),h.push(xe,de)):(h.push(ue,Ee),h.push(ue,Ee)),d+=2),h.push(b-I*F,E-A*F),h.push(b+I*k,E+A*k),d+=2)}y=n[(p-2)*2],x=n[(p-2)*2+1],b=n[(p-1)*2],E=n[(p-1)*2+1],C=-(x-E),T=y-b,R=Math.sqrt(C*C+T*T),C/=R,T/=R,C*=_,T*=_,h.push(b-C*F,E-T*F),h.push(b+C*k,E+T*k),f||(a.cap===Ma.ROUND?d+=il(b-C*(F-k)*.5,E-T*(F-k)*.5,b-C*F,E-T*F,b+C*k,E+T*k,h,!1)+2:a.cap===Ma.SQUARE&&(d+=x3(b,E,C,T,F,k,!1,h)));for(var ke=e.indices,Ne=au.epsilon*au.epsilon,$=m;$<d+m-2;++$)y=h[$*2],x=h[$*2+1],b=h[($+1)*2],E=h[($+1)*2+1],w=h[($+2)*2],S=h[($+2)*2+1],!(Math.abs(y*(E-S)+b*(S-x)+w*(x-E))<Ne)&&ke.push($,$+1,$+2)}}function bye(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==lr.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,f=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),r=1;r<f;r++)o.push(i[r*2],i[r*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function m1(t,e){t.lineStyle.native?bye(t,e):xye(t,e)}var g1=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],f=o[o.length-1],l=f-r,u=s-e,c=i-r,h=n-e,p=Math.abs(l*h-u*c);if(p<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var d=l*l+u*u,m=c*c+h*h,_=l*c+u*h,v=a*Math.sqrt(d)/p,g=a*Math.sqrt(m)/p,y=v*_/d,x=g*_/m,b=v*h+g*u,E=v*c+g*l,w=u*(g+y),S=l*(g+y),C=h*(v+x),T=c*(v+x),I=Math.atan2(S-E,w-b),A=Math.atan2(T-E,C-b);return{cx:b+e,cy:E+r,radius:a,startAngle:I,endAngle:A,anticlockwise:u*c>h*l}},t.arc=function(e,r,n,i,a,o,s,f,l){for(var u=s-o,c=au._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/Ic)*40),h=u/(c*2),p=h*2,d=Math.cos(h),m=Math.sin(h),_=c-1,v=_%1/_,g=0;g<=_;++g){var y=g+v*g,x=h+o+p*y,b=Math.cos(x),E=-Math.sin(x);l.push((d*b+m*E)*a+n,(d*-E+m*b)*a+i)}},t}(),P8=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,f){for(var l=10,u=0,c=0,h=0,p=0,d=0,m=0,_=0,v=0,g=0,y=0,x=0,b=e,E=r,w=1;w<=l;++w)c=w/l,h=c*c,p=h*c,d=1-c,m=d*d,_=m*d,v=_*e+3*m*c*n+3*d*h*a+p*s,g=_*r+3*m*c*i+3*d*h*o+p*f,y=b-v,x=E-g,b=v,E=g,u+=Math.sqrt(y*y+x*x);return u},t.curveTo=function(e,r,n,i,a,o,s){var f=s[s.length-2],l=s[s.length-1];s.length-=2;var u=au._segmentsCount(t.curveLength(f,l,e,r,n,i,a,o)),c=0,h=0,p=0,d=0,m=0;s.push(f,l);for(var _=1,v=0;_<=u;++_)v=_/u,c=1-v,h=c*c,p=h*c,d=v*v,m=d*v,s.push(p*f+3*h*v*e+3*c*d*n+m*a,p*l+3*h*v*r+3*c*d*i+m*o)},t}(),O8=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,f=r-2*i+o,l=2*n-2*e,u=2*i-2*r,c=4*(s*s+f*f),h=4*(s*l+f*u),p=l*l+u*u,d=2*Math.sqrt(c+h+p),m=Math.sqrt(c),_=2*c*m,v=2*Math.sqrt(p),g=h/m;return(_*d+m*h*(d-v)+(4*p*c-h*h)*Math.log((2*m+g+d)/(g+v)))/(4*_)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],f=au._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,u=0,c=1;c<=f;++c){var h=c/f;l=o+(e-o)*h,u=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,u+(r+(i-r)*h-u)*h)}},t}(),F8=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Wo,jd=(Wo={},Wo[lr.POLY]=HS,Wo[lr.CIRC]=kc,Wo[lr.ELIP]=kc,Wo[lr.RECT]=I8,Wo[lr.RREC]=R8,Wo),_1=[],If=[],y1=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),al=new Et,Eye=new iu,k8=function(t){XS(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new iu,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),If.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),_1.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new y1(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new y1(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,al):al.copyFrom(r),a.shape.contains(al.x,al.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var f=a.holes[s];if(f.shape.contains(al.x,al.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var f=i[s],l=f.fillStyle,u=f.lineStyle,c=jd[f.type];c.build(f),f.matrix&&this.transformPoints(f.points,f.matrix),(l.visible||u.visible)&&this.processHoles(f.holes);for(var h=0;h<2;h++){var p=h===0?l:u;if(p.visible){var d=p.texture.baseTexture,m=this.indices.length,_=this.points.length/2;d.wrapMode=fa.REPEAT,h===0?this.processFill(f):this.processLine(f);var v=this.points.length/2-_;v!==0&&(a&&!this._compareStyles(o,p)&&(a.end(m,_),a=null),a||(a=_1.pop()||new F8,a.begin(p,m,_),this.batches.push(a),o=p),this.addUvs(this.points,n,p.texture,_,v,p.matrix))}}}var g=this.indices.length,y=this.points.length/2;if(a&&a.end(g,y),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var x=y>65535&&r;this.indicesUint16=x?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++xt._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),If.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=If.pop();o||(o=new L0,o.texArray=new B0),o.texArray.count=0,o.start=0,o.size=0,o.type=ri.TRIANGLES;var s=0,f=null,l=0,u=!1,c=ri.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var p=this.batches[n],d=8,m=p.style,_=m.texture.baseTexture;u!==!!m.native&&(u=!!m.native,c=u?ri.LINES:ri.TRIANGLES,f=null,s=d,r++),f!==_&&(f=_,_._batchEnabled!==r&&(s===d&&(r++,s=0,o.size>0&&(o=If.pop(),o||(o=new L0,o.texArray=new B0),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=c),_.touched=1,_._batchEnabled=r,_._batchLocation=s,_.wrapMode=fa.REPEAT,o.texArray.elements[o.texArray.count++]=_,s++)),o.size+=p.size,h+=p.size,l=_._batchLocation,this.addColors(i,m.color,m.alpha,p.attribSize,p.attribStart),this.addTextureIds(a,l,p.attribSize,p.attribStart)}xt._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),f=new Uint32Array(o),l=0,u=0;u<r.length/2;u++)s[l++]=r[u*2],s[l++]=r[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],f[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)HS.triangulate(r,this);else{var n=jd[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){m1(r,this);for(var n=0;n<r.holes.length;n++)m1(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=jd[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=Eye,i=ar.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,f=o.type,l=o.lineStyle,u=o.matrix||ar.IDENTITY,c=0;if(l&&l.visible&&(c=l.width,f!==lr.POLY||o.fillStyle.visible?c*=Math.max(0,l.alignment):c*=Math.max(l.alignment,1-l.alignment)),i!==u&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=u),f===lr.RECT||f===lr.RREC){var h=s;n.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,c,c)}else if(f===lr.CIRC){var p=s;n.addFramePad(p.x,p.y,p.x,p.y,p.radius+c,p.radius+c)}else if(f===lr.ELIP){var d=s;n.addFramePad(d.x,d.y,d.x,d.y,d.width+c,d.height+c)}else{var m=s;r.addVerticesMatrix(i,m.points,0,m.points.length,c,c)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),f=xv(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=f},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var f=0,l=n.length,u=i.frame;f<o;){var c=r[(a+f)*2],h=r[(a+f)*2+1];if(s){var p=s.a*c+s.c*h+s.tx;h=s.b*c+s.d*h+s.ty,c=p}f++,n.push(c/u.width,h/u.height)}var d=i.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,f=i+a*2,l=n.frame,u=l.width/o.width,c=l.height/o.height,h=l.x/l.width,p=l.y/l.height,d=Math.floor(r[i]+s),m=Math.floor(r[i+1]+s),_=i+2;_<f;_+=2)d=Math.min(d,Math.floor(r[_]+s)),m=Math.min(m,Math.floor(r[_+1]+s));h-=d,p-=m;for(var _=i;_<f;_+=2)r[_]=(r[_]+h)*u,r[_+1]=(r[_+1]+p)*c},e.BATCHABLE_SIZE=100,e}(jS),N8=function(t){XS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Ma.BUTT,r.join=Ba.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(GS),wye=new Float32Array(3),B_={},ou=function(t){XS(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new GS,n._lineStyle=new N8,n._matrix=null,n._holeMode=!1,n.state=Go.for2d(),n._geometry=r||new k8,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=je.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:nt.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ma.BUTT,join:Ba.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Vl,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Vl,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),O8.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),P8.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,f=g1.curveTo(r,n,i,a,o,s);if(f){var l=f.cx,u=f.cy,c=f.radius,h=f.startAngle,p=f.endAngle,d=f.anticlockwise;this.arc(l,u,c,h,p,d)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=Ic:s&&a<=o&&(a+=Ic);var f=o-a;if(f===0)return this;var l=r+Math.cos(a)*i,u=n+Math.sin(a)*i,c=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var p=Math.abs(h[h.length-2]-l),d=Math.abs(h[h.length-1]-u);p<c&&d<c||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.points;return g1.arc(l,u,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:nt.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:nt.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new mt(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new RD(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new AD(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new ID(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var f=new Vl(a);return f.closeStroke=o,this.drawShape(f),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===lr.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,f=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),c={vertexData:f,blendMode:n,indices:u,uvs:l,_batchRGB:Gr(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=c}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,f=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,u=f.length;l<u;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,f=i.count,l=0;l<f;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!B_[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var f={tint:new Float32Array([1,1,1,1]),translationMatrix:new ar,default:wo.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;B_[i]=new Ua(l,f)}n=B_[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Gr(this.tint,wye),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,f=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(f|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,f=n.tx,l=n.ty,u=this._geometry.points,c=this.vertexData,h=0,p=0;p<u.length;p+=2){var d=u[p],m=u[p+1];c[h++]=i*d+o*m+f,c[h++]=s*m+a*d+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new Et,e}(Vr),Sye={buildPoly:HS,buildCircle:kc,buildRectangle:I8,buildRoundedRectangle:R8,buildLine:m1,ArcUtils:g1,BezierUtils:P8,QuadraticUtils:O8,BatchPart:F8,FILL_COMMANDS:jd,BATCH_POOL:_1,DRAW_CALL_POOL:If};/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var x1=function(t,e){return x1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},x1(t,e)};function Cye(t,e){x1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hf=new Et,Tye=new Uint16Array([0,1,2,0,2,3]),gi=function(t){Cye(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new lo(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=je.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||nt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=Tye,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Ye.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ds(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ds(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,f=n.tx,l=n.ty,u=this.vertexData,c=r.trim,h=r.orig,p=this._anchor,d=0,m=0,_=0,v=0;if(c?(m=c.x-p._x*h.width,d=m+c.width,v=c.y-p._y*h.height,_=v+c.height):(m=-p._x*h.width,d=m+h.width,v=-p._y*h.height,_=v+h.height),u[0]=i*m+o*v+f,u[1]=s*v+a*m+l,u[2]=i*d+o*v+f,u[3]=s*v+a*d+l,u[4]=i*d+o*_+f,u[5]=s*_+a*d+l,u[6]=i*m+o*_+f,u[7]=s*_+a*m+l,this._roundPixels)for(var g=Ye.RESOLUTION,y=0;y<u.length;++y)u[y]=Math.round((u[y]*g|0)/g)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,f=o.b,l=o.c,u=o.d,c=o.tx,h=o.ty,p=-a._x*i.width,d=p+i.width,m=-a._y*i.height,_=m+i.height;n[0]=s*p+l*m+c,n[1]=u*m+f*p+h,n[2]=s*d+l*m+c,n[3]=u*m+f*d+h,n[4]=s*d+l*_+c,n[5]=u*_+f*d+h,n[6]=s*p+l*_+c,n[7]=u*_+f*p+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new iu),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new mt),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,hf);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return hf.x>=a&&hf.x<a+n&&(o=-i*this.anchor.y,hf.y>=o&&hf.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof nt?r:nt.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=ds(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=ds(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||nt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Vr);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var b1=function(t,e){return b1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},b1(t,e)};function Aye(t,e){b1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var su;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(su||(su={}));var M_={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:su.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Iye=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Rs=function(){function t(e){this.styleID=0,this.reset(),U_(this,e,e)}return t.prototype.clone=function(){var e={};return U_(e,this,M_),new t(e)},t.prototype.reset=function(){U_(this,M_,M_)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=D_(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=D_(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){Rye(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=D_(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Iye.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function b3(t){return typeof t=="number"?uS(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function D_(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=b3(t[e]);return t}else return b3(t)}function Rye(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function U_(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var Hi=function(){function t(e,r,n,i,a,o,s,f,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=f,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d");s.font=a;for(var f=n?t.wordWrap(e,r,i):e,l=f.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),c=0,h=0;h<l.length;h++){var p=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;u[h]=p,c=Math.max(c,p)}var d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var m=r.lineHeight||o.fontSize+r.strokeThickness,_=Math.max(m,o.fontSize+r.strokeThickness)+(l.length-1)*(m+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new t(e,r,d,_,l,u,m+r.leading,c,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",f=Object.create(null),l=r.letterSpacing,u=r.whiteSpace,c=t.collapseSpaces(u),h=t.collapseNewlines(u),p=!c,d=r.wordWrapWidth+l,m=t.tokenize(e),_=0;_<m.length;_++){var v=m[_];if(t.isNewline(v)){if(!h){s+=t.addLine(o),p=!c,o="",a=0;continue}v=" "}if(c){var g=t.isBreakingSpace(v),y=t.isBreakingSpace(o[o.length-1]);if(g&&y)continue}var x=t.getFromCache(v,l,f,i);if(x>d)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(v,r.breakWords))for(var b=t.wordWrapSplit(v),E=0;E<b.length;E++){for(var w=b[E],S=1;b[E+S];){var C=b[E+S],T=w[w.length-1];if(!t.canBreakChars(T,C,v,E,r.breakWords))w+=C;else break;S++}E+=w.length-1;var I=t.getFromCache(w,l,f,i);I+a>d&&(s+=t.addLine(o),p=!1,o="",a=0),o+=w,a+=I}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var A=_===m.length-1;s+=t.addLine(v,!A),p=!1,o="",a=0}else x+a>d&&(p=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(v)||p)&&(o+=v,a+=x)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),f=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=f,i.fillStyle="#f00",i.fillRect(0,0,o,f),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,f).data,u=l.length,c=o*4,h=0,p=0,d=!1;for(h=0;h<s;++h){for(var m=0;m<c;m+=4)if(l[p+m]!==255){d=!0;break}if(!d)p+=c;else break}for(r.ascent=s-h,p=u-c,d=!1,h=f;h>s;--h){for(var m=0;m<c;m+=4)if(l[p+m]!==255){d=!0;break}if(!d)p-=c;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d");if(n&&n.measureText)return t.__canvas=r,r;e=document.createElement("canvas")}catch{e=document.createElement("canvas")}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();Hi._fonts={};Hi.METRICS_STRING="|q";Hi.BASELINE_SYMBOL="M";Hi.BASELINE_MULTIPLIER=1.4;Hi.HEIGHT_MULTIPLIER=2;Hi._newlines=[10,13];Hi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Pye={texture:!0,children:!1,baseTexture:!0},zS=function(t){Aye(e,t);function e(r,n,i){var a=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=nt.from(i);return s.orig=new mt,s.trim=new mt,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=Ye.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=Hi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,f=a.lines,l=a.lineHeight,u=a.lineWidths,c=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var p,d,m=n.dropShadow?2:1,_=0;_<m;++_){var v=n.dropShadow&&_===0,g=v?Math.ceil(Math.max(1,s)+n.padding*2):0,y=g*this._resolution;if(v){i.fillStyle="black",i.strokeStyle="black";var x=n.dropShadowColor,b=Gr(typeof x=="number"?x:fS(x)),E=n.dropShadowBlur*this._resolution,w=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=E,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*w,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*w+y}else i.fillStyle=this._generateFillStyle(n,f,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var S=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(S=0);for(var C=0;C<f.length;C++)p=n.strokeThickness/2,d=n.strokeThickness/2+C*l+h.ascent+S,n.align==="right"?p+=c-u[C]:n.align==="center"&&(p+=(c-u[C])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(f[C],p+n.padding,d+n.padding-g,!0),n.fill&&this.drawLetterSpacing(f[C],p+n.padding,d+n.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,f=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||f){f&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,u=Array.from?Array.from(r):r.split(""),c=this.context.measureText(r).width,h=0,p=0;p<u.length;++p){var d=u[p];a?this.context.strokeText(d,l,i):this.context.fillText(d,l,i);for(var m="",_=p+1;_<u.length;++_)m+=u[_];h=this.context.measureText(m).width,l+=c-h+s,c=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=SD(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,f=r.padding||0,l=this.canvas.width/this._resolution-s-f*2,u=this.canvas.height/this._resolution-s-f*2,c=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var p=c.length+1,d=1;d<p;++d)h.push(d/p);if(c.unshift(a[0]),h.unshift(0),c.push(a[a.length-1]),h.push(1),r.fillGradientType===su.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,f,l/2,u+f);for(var m=i.fontProperties.fontSize+r.strokeThickness,d=0;d<n.length;d++){var _=i.lineHeight*(d-1)+m,v=i.lineHeight*d,g=v;d>0&&_>v&&(g=(v+_)/2);var y=v+m,x=i.lineHeight*(d+1),b=y;d+1<n.length&&x<y&&(b=(y+x)/2);for(var E=(b-g)/u,w=0;w<c.length;w++){var S=0;typeof h[w]=="number"?S=h[w]:S=w/c.length;var C=Math.min(1,Math.max(0,g/u+S*E));C=Number(C.toFixed(5)),o.addColorStop(C,c[w])}}}else{o=this.context.createLinearGradient(f,u/2,l+f,u/2);for(var T=c.length+1,I=1,d=0;d<c.length;d++){var A=void 0;typeof h[d]=="number"?A=h[d]:A=I/T,o.addColorStop(A,c[d]),I++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},Pye,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=ds(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=ds(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof Rs?this._style=r:this._style=new Rs(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(gi);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ye.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var E1=function(t,e){return E1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},E1(t,e)};function Oye(t,e){E1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var L8=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function Fye(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof nt){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function kye(t,e){if(t.baseTexture instanceof xt){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Nye(t,e){if(t._texture&&t._texture instanceof nt){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Lye(t,e){return e instanceof zS?(e.updateText(!0),!0):!1}function Bye(t,e){if(e instanceof Rs){var r=e.toFontString();return Hi.measureFont(r),!0}return!1}function Mye(t,e){if(t instanceof zS){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Dye(t,e){return t instanceof Rs?(e.indexOf(t)===-1&&e.push(t),!0):!1}var B8=function(){function t(e){var r=this;this.limiter=new L8(Ye.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(Mye),this.registerFindHook(Dye),this.registerFindHook(Fye),this.registerFindHook(kye),this.registerFindHook(Nye),this.registerUploadHook(Lye),this.registerUploadHook(Bye)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,Qr.system.addOnce(this.tick,this,da.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Qr.system.addOnce(this.tick,this,da.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Vr)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&Qr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function M8(t,e){return e instanceof xt?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Uye(t,e){if(!(e instanceof ou))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&M8(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function jye(t,e){return t instanceof ou?(e.push(t),!0):!1}var D8=function(t){Oye(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(jye),n.registerUploadHook(M8),n.registerUploadHook(Uye),n}return e}(B8),$ye=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var U8=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof nt?e:null,this.baseTexture=e instanceof xt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Ac(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,f=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new mt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new mt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new mt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(f=new mt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new nt(this.baseTexture,s,u,f,a.rotated?2:0,a.anchor),nt.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),j8=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==Xt.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var f=function(d){if(typeof d!="string")return"continue";var m=d.replace(".json",""),_=hs.resolve(e.url.replace(a.baseUrl,""),d);if(a.resources[m]||Object.values(a.resources).some(function(g){return hs.format(hs.parse(g.url))===_}))return"continue";var v={crossOrigin:e.crossOrigin,loadType:Xt.LOAD_TYPE.XHR,xhrType:Xt.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(m,_,v)},l=0,u=s;l<u.length;l++){var c=u[l];f(c)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,a.baseUrl);a.add(o,p,h,function(m){if(m.error){r(m.error);return}var _=new U8(m.texture,e.data,e.url);_.parse(function(){e.spritesheet=_,e.textures=_.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:hs.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var w1=function(t,e){return w1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},w1(t,e)};function $8(t,e){w1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var df=new Et,Vye=function(t){$8(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new dh,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new Tv(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new mt),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,df);var n=this._width,i=this._height,a=-n*this.anchor._x;if(df.x>=a&&df.x<a+n){var o=-i*this.anchor._y;if(df.y>=o&&df.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof nt?r:nt.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(gi),Gye=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,E3=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Xye=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Hye=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,zye=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,ld=new ar,V8=function(t){$8(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new SS,n.state=Go.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=Ua.from(E3,Gye,n),this.shader=r.context.webGLVersion>1?Ua.from(Hye,zye,n):Ua.from(E3,Xye,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var f=r._texture,l=f.baseTexture,u=r.tileTransform.localTransform,c=r.uvMatrix,h=l.isPowerOfTwo&&f.frame.width===l.width&&f.frame.height===l.height;h&&(l._glTextures[n.CONTEXT_UID]?h=l.wrapMode!==fa.CLAMP:l.wrapMode===fa.CLAMP&&(l.wrapMode=fa.REPEAT));var p=h?this.simpleShader:this.shader,d=f.width,m=f.height,_=r._width,v=r._height;ld.set(u.a*d/_,u.b*d/v,u.c*m/_,u.d*m/v,u.tx/_,u.ty/v),ld.invert(),h?ld.prepend(c.mapCoord):(p.uniforms.uMapCoord=c.mapCoord.toArray(!0),p.uniforms.uClampFrame=c.uClampFrame,p.uniforms.uClampOffset=c.uClampOffset),p.uniforms.uTransform=ld.toArray(!0),p.uniforms.uColor=dS(r.tint,r.worldAlpha,p.uniforms.uColor,l.alphaMode),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=f,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=hS(r.blendMode,l.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(ph);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var S1=function(t,e){return S1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},S1(t,e)};function WS(t,e){S1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var G8=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),j_=new Et,w3=new Vl,lu=function(t){WS(e,t);function e(r,n,i,a){a===void 0&&(a=ri.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||Go.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=Ye.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===ri.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,f=o.b,l=o.c,u=o.d,c=o.tx,h=o.ty,p=this.vertexData,d=0;d<p.length/2;d++){var m=i[d*2],_=i[d*2+1];p[d*2]=s*m+l*_+c,p[d*2+1]=f*m+u*_+h}if(this._roundPixels)for(var v=Ye.RESOLUTION,d=0;d<p.length;++d)p[d]=Math.round((p[d]*v|0)/v);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new G8(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,j_);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=w3.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,f=0;f+2<o;f+=s){var l=a[f]*2,u=a[f+1]*2,c=a[f+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[c],i[5]=n[c+1],w3.contains(j_.x,j_.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Vr),Wye=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Yye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,uu=function(t){WS(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:ar.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||Mu.from(Yye,Wye),a)||this,i._colorDirty=!1,i.uvMatrix=new Tv(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;dS(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Ua),mh=function(t){WS(e,t);function e(r,n,i){var a=t.call(this)||this,o=new Pr(r),s=new Pr(n,!0),f=new Pr(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,et.FLOAT).addAttribute("aTextureCoord",s,2,!1,et.FLOAT).addIndex(f),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Bu);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var C1=function(t,e){return C1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},C1(t,e)};function qye(t,e){C1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Nc=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),Kye=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var f in o){var l=o[f].split("="),u=l[0],c=l[1].replace(/"/gm,""),h=parseFloat(c),p=isNaN(h)?c:h;s[u]=p}n[a].push(s)}var d=new Nc;return n.info.forEach(function(m){return d.info.push({face:m.face,size:parseInt(m.size,10)})}),n.common.forEach(function(m){return d.common.push({lineHeight:parseInt(m.lineHeight,10)})}),n.page.forEach(function(m){return d.page.push({id:parseInt(m.id,10),file:m.file})}),n.char.forEach(function(m){return d.char.push({id:parseInt(m.id,10),page:parseInt(m.page,10),x:parseInt(m.x,10),y:parseInt(m.y,10),width:parseInt(m.width,10),height:parseInt(m.height,10),xoffset:parseInt(m.xoffset,10),yoffset:parseInt(m.yoffset,10),xadvance:parseInt(m.xadvance,10)})}),n.kerning.forEach(function(m){return d.kerning.push({first:parseInt(m.first,10),second:parseInt(m.second,10),amount:parseInt(m.amount,10)})}),n.distanceField.forEach(function(m){return d.distanceField.push({distanceRange:parseInt(m.distanceRange,10),fieldType:m.fieldType})}),d},t}(),T1=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Nc,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),f=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var u=o[l];r.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<f.length;l++)r.distanceField.push({fieldType:f[l].getAttribute("fieldType"),distanceRange:parseInt(f[l].getAttribute("distanceRange"),10)});return r},t}(),Zye=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return T1.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return T1.parse(r)},t}(),$_=[Kye,T1,Zye];function X8(t){for(var e=0;e<$_.length;e++)if($_[e].test(t))return $_[e];return null}function Jye(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,f=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=t.width/n-f-l*2,c=t.height/n-f-l*2,h=o.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=h.length+1,m=1;m<d;++m)p.push(m/d);if(h.unshift(o[0]),p.unshift(0),h.push(o[o.length-1]),p.push(1),r.fillGradientType===su.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,c+l);for(var _=0,v=a.fontProperties.fontSize+r.strokeThickness,g=v/c,m=0;m<i.length;m++)for(var y=a.lineHeight*m,x=0;x<h.length;x++){var b=0;typeof p[x]=="number"?b=p[x]:b=x/h.length;var E=y/c+b*g,w=Math.max(_,E);w=Math.min(w,1),s.addColorStop(w,h[x]),_=w}}else{s=e.createLinearGradient(l,c/2,u+l,c/2);for(var S=h.length+1,C=1,m=0;m<h.length;m++){var T=void 0;typeof p[m]=="number"?T=p[m]:T=C/S,s.addColorStop(T,h[m]),C++}}return s}function Qye(t,e,r,n,i,a,o){var s=r.text,f=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Jye(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var c=o.dropShadowColor,h=Gr(typeof c=="number"?c:fS(c)),p=o.dropShadowBlur*a,d=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,u+r.lineHeight-f.descent),o.fill&&e.fillText(s,l,u+r.lineHeight-f.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function H8(t){return Array.from?Array.from(t):t.split("")}function exe(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,f=o;s<=f;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,H8(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function $d(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var as=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],f=e.page[0],l=e.distanceField[0],u=Ac(f.file),c={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=c;for(var h=0;h<e.page.length;h++){var p=e.page[h],d=p.id,m=p.file;c[d]=r instanceof Array?r[h]:r[m],l!=null&&l.fieldType&&l.fieldType!=="none"&&(c[d].baseTexture.alphaMode=Mn.NO_PREMULTIPLIED_ALPHA)}for(var h=0;h<e.char.length;h++){var _=e.char[h],d=_.id,v=_.page,g=e.char[h],y=g.x,x=g.y,b=g.width,E=g.height,w=g.xoffset,S=g.yoffset,C=g.xadvance;y/=u,x/=u,b/=u,E/=u,w/=u,S/=u,C/=u;var T=new mt(y+c[v].frame.x/u,x+c[v].frame.y/u,b,E);this.chars[d]={xOffset:w,yOffset:S,xAdvance:C,kerning:{},texture:new nt(c[v].baseTexture,T),page:v}}for(var h=0;h<e.kerning.length;h++){var I=e.kerning[h],A=I.first,R=I.second,O=I.amount;A/=u,R/=u,O/=u,this.chars[R]&&(this.chars[R].kerning[A]=O)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Nc)i=e;else{var a=X8(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof nt&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,f=i.textureWidth,l=i.textureHeight,u=exe(a),c=r instanceof Rs?r:new Rs(r),h=f,p=new Nc;p.info[0]={face:c.fontFamily,size:c.fontSize},p.common[0]={lineHeight:c.fontSize};for(var d=0,m=0,_,v,g,y=0,x=[],b=0;b<u.length;b++){_||(_=document.createElement("canvas"),_.width=f,_.height=l,v=_.getContext("2d"),g=new xt(_,{resolution:s}),x.push(new nt(g)),p.page.push({id:x.length-1,file:""}));var E=Hi.measureText(u[b],c,!1,_),w=E.width,S=Math.ceil(E.height),C=Math.ceil((c.fontStyle==="italic"?2:1)*w);if(m>=l-S*s){if(m===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+c.fontSize+"px fonts"));--b,_=null,v=null,g=null,m=0,d=0,y=0;continue}if(y=Math.max(S+E.fontProperties.descent,y),C*s+d>=h){--b,m+=y*s,m=Math.ceil(m),d=0,y=0;continue}Qye(_,v,E,d,m,s,c);var T=$d(E.text);p.char.push({id:T,page:x.length-1,x:d/s,y:m/s,width:C,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(w-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),d+=(C+2*o)*s,d=Math.ceil(d)}for(var b=0,I=u.length;b<I;b++)for(var A=u[b],R=0;R<I;R++){var O=u[R],F=v.measureText(A).width,k=v.measureText(O).width,$=v.measureText(A+O).width,q=$-(F+k);q&&p.kerning.push({first:$d(A),second:$d(O),amount:q})}var K=new t(p,x,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=K,K},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),txe=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,rxe=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,nxe=[],ixe=[],S3=[],axe=function(t){qye(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,f=a.maxWidth,l=a.letterSpacing,u=a.fontName,c=a.fontSize;if(!as.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=u,i._fontSize=c||as.available[u].size,i.text=r,i._maxWidth=f,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new lo(function(){i.dirty=!0},i,0,0),i._roundPixels=Ye.ROUND_PIXELS,i.dirty=!0,i._resolution=Ye.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=as.available[this._fontName],i=this._fontSize/n.size,a=new Et,o=[],s=[],f=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=H8(l),c=this._maxWidth*n.size/this._fontSize,h=n.distanceFieldType==="none"?nxe:ixe,p=null,d=0,m=0,_=0,v=-1,g=0,y=0,x=0,b=0,E=0;E<u.length;E++){var w=u[E],S=$d(w);if(/(?:\s)/.test(w)&&(v=E,g=d,b++),w==="\r"||w===`
`){s.push(d),f.push(-1),m=Math.max(m,d),++_,++y,a.x=0,a.y+=n.lineHeight,p=null,b=0;continue}var C=n.chars[S];if(C){p&&C.kerning[p]&&(a.x+=C.kerning[p]);var T=S3.pop()||{texture:nt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Et};T.texture=C.texture,T.line=_,T.charCode=S,T.position.x=a.x+C.xOffset+this._letterSpacing/2,T.position.y=a.y+C.yOffset,T.prevSpaces=b,o.push(T),d=T.position.x+Math.max(C.xAdvance,C.texture.orig.width),a.x+=C.xAdvance+this._letterSpacing,x=Math.max(x,C.yOffset+C.texture.height),p=S,v!==-1&&c>0&&a.x>c&&(++y,ca(o,1+v-y,1+E-v),E=v,v=-1,s.push(g),f.push(o.length>0?o[o.length-1].prevSpaces:0),m=Math.max(m,g),_++,a.x=0,a.y+=n.lineHeight,p=null,b=0)}}var I=u[u.length-1];I!=="\r"&&I!==`
`&&(/(?:\s)/.test(I)&&(d=g),s.push(d),m=Math.max(m,d),f.push(-1));for(var A=[],E=0;E<=_;E++){var R=0;this._align==="right"?R=m-s[E]:this._align==="center"?R=(m-s[E])/2:this._align==="justify"&&(R=f[E]<0?0:(m-s[E])/f[E]),A.push(R)}for(var O=o.length,F={},k=[],$=this._activePagesMeshData,E=0;E<$.length;E++)h.push($[E]);for(var E=0;E<O;E++){var q=o[E].texture,K=q.baseTexture.uid;if(!F[K]){var G=h.pop();if(!G){var N=new mh,j=void 0,M=void 0;n.distanceFieldType==="none"?(j=new uu(nt.EMPTY),M=je.NORMAL):(j=new uu(nt.EMPTY,{program:Mu.from(rxe,txe),uniforms:{uFWidth:0}}),M=je.NORMAL_NPM);var D=new lu(N,j);D.blendMode=M,G={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}G.index=0,G.indexCount=0,G.vertexCount=0,G.uvsCount=0,G.total=0;var J=this._textureCache;J[K]=J[K]||new nt(q.baseTexture),G.mesh.texture=J[K],G.mesh.tint=this._tint,k.push(G),F[K]=G}F[K].total++}for(var E=0;E<$.length;E++)k.indexOf($[E])===-1&&this.removeChild($[E].mesh);for(var E=0;E<k.length;E++)k[E].mesh.parent!==this&&this.addChild(k[E].mesh);this._activePagesMeshData=k;for(var E in F){var G=F[E],Q=G.total;if(!(((r=G.indices)===null||r===void 0?void 0:r.length)>6*Q)||G.vertices.length<lu.BATCHABLE_SIZE*2)G.vertices=new Float32Array(4*2*Q),G.uvs=new Float32Array(4*2*Q),G.indices=new Uint16Array(6*Q);else for(var se=G.total,re=G.vertices,ue=se*4*2;ue<re.length;ue++)re[ue]=0;G.mesh.size=6*Q}for(var E=0;E<O;E++){var w=o[E],Ee=w.position.x+A[w.line]*(this._align==="justify"?w.prevSpaces:1);this._roundPixels&&(Ee=Math.round(Ee));var xe=Ee*i,de=w.position.y*i,q=w.texture,pe=F[q.baseTexture.uid],Ae=q.frame,Fe=q._uvs,Te=pe.index++;pe.indices[Te*6+0]=0+Te*4,pe.indices[Te*6+1]=1+Te*4,pe.indices[Te*6+2]=2+Te*4,pe.indices[Te*6+3]=0+Te*4,pe.indices[Te*6+4]=2+Te*4,pe.indices[Te*6+5]=3+Te*4,pe.vertices[Te*8+0]=xe,pe.vertices[Te*8+1]=de,pe.vertices[Te*8+2]=xe+Ae.width*i,pe.vertices[Te*8+3]=de,pe.vertices[Te*8+4]=xe+Ae.width*i,pe.vertices[Te*8+5]=de+Ae.height*i,pe.vertices[Te*8+6]=xe,pe.vertices[Te*8+7]=de+Ae.height*i,pe.uvs[Te*8+0]=Fe.x0,pe.uvs[Te*8+1]=Fe.y0,pe.uvs[Te*8+2]=Fe.x1,pe.uvs[Te*8+3]=Fe.y1,pe.uvs[Te*8+4]=Fe.x2,pe.uvs[Te*8+5]=Fe.y2,pe.uvs[Te*8+6]=Fe.x3,pe.uvs[Te*8+7]=Fe.y3}this._textWidth=m*i,this._textHeight=(a.y+n.lineHeight)*i;for(var E in F){var G=F[E];if(this.anchor.x!==0||this.anchor.y!==0)for(var ke=0,Ne=this._textWidth*this.anchor.x,Ze=this._textHeight*this.anchor.y,ct=0;ct<G.total;ct++)G.vertices[ke++]-=Ne,G.vertices[ke++]-=Ze,G.vertices[ke++]-=Ne,G.vertices[ke++]-=Ze,G.vertices[ke++]-=Ne,G.vertices[ke++]-=Ze,G.vertices[ke++]-=Ne,G.vertices[ke++]-=Ze;this._maxLineHeight=x*i;var Je=G.mesh.geometry.getBuffer("aVertexPosition"),qe=G.mesh.geometry.getBuffer("aTextureCoord"),at=G.mesh.geometry.getIndex();Je.data=G.vertices,qe.data=G.uvs,at.data=G.indices,Je.update(),qe.update(),at.update()}for(var E=0;E<o.length;E++)S3.push(o[E])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=as.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,f=s.a,l=s.b,u=s.c,c=s.d,h=Math.sqrt(f*f+l*l),p=Math.sqrt(u*u+c*c),d=(Math.abs(h)+Math.abs(p))/2,m=this._fontSize/o,_=0,v=this._activePagesMeshData;_<v.length;_++){var g=v[_];g.mesh.shader.uniforms.uFWidth=d*i*m*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!as.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Vr),z8=function(){function t(){}return t.add=function(){Xt.setExtensionXhrType("fnt",Xt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=X8(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(m){o[m.metadata.pageFile]=m.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=as.install(a,o,!0),r())},f=0;f<a.page.length;++f){var l=a.page[f].file,u=i+l,c=!1;for(var h in this.resources){var p=this.resources[h];if(p.url===u){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),c=!0;break}}if(!c){var d={crossOrigin:e.crossOrigin,loadType:Xt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,d,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var A1=function(t,e){return A1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},A1(t,e)};function oxe(t,e){A1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sxe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,W8=function(t){oxe(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,o8,sxe,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(ut);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var I1=function(t,e){return I1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},I1(t,e)};function Y8(t,e){I1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lxe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function uxe(t,e){var r=Math.ceil(t/2),n=lxe,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var fxe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},cxe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function hxe(t){for(var e=fxe[t],r=e.length,n=cxe,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var f=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),f=f.replace("%value%",e[o].toString()),i+=f,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var C3;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(C3||(C3={}));var T3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(T3||(T3={}));var A3;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(A3||(A3={}));var I3;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(I3||(I3={}));var R3;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(R3||(R3={}));var P3;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(P3||(P3={}));var O3;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(O3||(O3={}));var F3;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(F3||(F3={}));var k3;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(k3||(k3={}));var N3;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(N3||(N3={}));var L3;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(L3||(L3={}));var B3;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(B3||(B3={}));var M3;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(M3||(M3={}));var Lc;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Lc||(Lc={}));var D3;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(D3||(D3={}));var U3;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(U3||(U3={}));var j3;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(j3||(j3={}));var $3;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})($3||($3={}));var V3;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(V3||(V3={}));var Bc=function(t){Y8(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=Ye.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,f=uxe(o,r),l=hxe(o);return s=t.call(this,f,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,f=n,l=o;this.state.blend=!1,r.applyFilter(this,f,l,Lc.CLEAR);for(var u=1;u<this.passes-1;u++){r.bindAndClear(f,Lc.BLIT),this.uniforms.uSampler=l;var c=l;l=f,f=c,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(ut),dxe=function(t){Y8(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Ye.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new Bc(!0,r,n,i,a),o.blurYFilter=new Bc(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var f=r.getFilterTexture();this.blurXFilter.apply(r,n,f,Lc.CLEAR),this.blurYFilter.apply(r,f,i,a),r.returnFilterTexture(f)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(ut);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var R1=function(t,e){return R1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},R1(t,e)};function pxe(t,e){R1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vxe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,P1=function(t){pxe(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,US,vxe,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,f=o(s),l=i+(1-i)*s,u=s*(1-i)-f*a,c=s*(1-i)+f*a,h=s*(1-i)+f*a,p=i+s*(1-i),d=s*(1-i)-f*a,m=s*(1-i)-f*a,_=s*(1-i)+f*a,v=i+s*(1-i),g=[l,u,c,0,0,h,p,d,0,0,m,_,v,0,0,0,0,0,1,0];this._loadMatrix(g,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,f=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,c=(a>>8&255)/255,h=(a&255)/255,p=[.3,.59,.11,0,0,s,f,l,r,0,u,c,h,n,0,s-u,f-c,l-h,0,0];this._loadMatrix(p,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(ut);P1.prototype.grayscale=P1.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var O1=function(t,e){return O1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},O1(t,e)};function mxe(t,e){O1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gxe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,_xe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,yxe=function(t){mxe(e,t);function e(r,n){var i=this,a=new ar;return r.renderable=!1,i=t.call(this,_xe,gxe,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new Et(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),f=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&f!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/f,this.uniforms.rotation[3]=o.d/f),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(ut);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var F1=function(t,e){return F1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},F1(t,e)};function xxe(t,e){F1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bxe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,Exe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,wxe=function(t){xxe(e,t);function e(){return t.call(this,bxe,Exe)||this}return e}(ut);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var k1=function(t,e){return k1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},k1(t,e)};function Sxe(t,e){k1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Cxe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,Txe=function(t){Sxe(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,US,Cxe,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(ut);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var G3;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(G3||(G3={}));var X3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(X3||(X3={}));var H3;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(H3||(H3={}));var z3;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(z3||(z3={}));var W3;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(W3||(W3={}));var Y3;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Y3||(Y3={}));var q3;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(q3||(q3={}));var K3;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(K3||(K3={}));var Z3;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Z3||(Z3={}));var J3;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(J3||(J3={}));var Q3;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Q3||(Q3={}));var eF;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(eF||(eF={}));var tF;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(tF||(tF={}));var rF;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(rF||(rF={}));var nF;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(nF||(nF={}));var iF;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(iF||(iF={}));var aF;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(aF||(aF={}));var N1;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(N1||(N1={}));var oF;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(oF||(oF={}));var q8=new ar;xr.prototype._cacheAsBitmap=!1;xr.prototype._cacheData=null;xr.prototype._cacheAsBitmapResolution=null;xr.prototype._cacheAsBitmapMultisample=N1.NONE;var Axe=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(xr.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new Axe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});xr.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};xr.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(Ye.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),f=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=Lo.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),c="cacheAsBitmap_"+No();this._cacheData.textureCacheId=c,xt.addToCache(u.baseTexture,c),nt.addToCache(u,c);var h=this.transform.localTransform.copyTo(q8).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,f),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var p=new gi(u);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(i.x/i.width),p.anchor.y=-(i.y/i.height),p.alpha=n,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}};xr.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};xr.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(Ye.RESOLUTION);var o=Lo.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+No();this._cacheData.textureCacheId=s,xt.addToCache(o.baseTexture,s),nt.addToCache(o,s);var f=q8;this.transform.localTransform.copyTo(f),f.invert(),f.tx-=r.x,f.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:f,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new gi(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};xr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};xr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};xr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,xt.removeFromCache(this._cacheData.textureCacheId),nt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};xr.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xr.prototype.name=null;Vr.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=this.children[n].getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xr.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new Et),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var L1=function(t,e){return L1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},L1(t,e)};function Du(t,e){L1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var K8=function(t){Du(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,f=this.width/o,l=this.height/s,u=0;u<r;u++){var c=u%this.segWidth,h=u/this.segWidth|0;n.push(c*f,h*l),i.push(c/o,h/s)}for(var p=o*s,u=0;u<p;u++){var d=u%o,m=u/o|0,_=m*this.segWidth+d,v=m*this.segWidth+d+1,g=(m+1)*this.segWidth+d,y=(m+1)*this.segWidth+d+1;a.push(_,v,g,v,y,g)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(mh),Z8=function(t){Du(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var f=0,l=r[0],u=this._width*this.textureScale,c=r.length,h=0;h<c;h++){var p=h*4;if(this.textureScale>0){var d=l.x-r[h].x,m=l.y-r[h].y,_=Math.sqrt(d*d+m*m);l=r[h],f+=_/u}else f=h/(c-1);o[p]=f,o[p+1]=0,o[p+2]=f,o[p+3]=1}for(var v=0,h=0;h<c-1;h++){var p=h*2;s[v++]=p,s[v++]=p+1,s[v++]=p+2,s[v++]=p+2,s[v++]=p+1,s[v++]=p+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,f=r.length,l=0;l<f;l++){var u=r[l],c=l*4;l<r.length-1?i=r[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=p,o*=p,s[c]=u.x+a,s[c+1]=u.y+o,s[c+2]=u.x-a,s[c+3]=u.y-o,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(mh),Ixe=function(t){Du(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new Z8(r.height,n,i),s=new uu(r);return i>0&&(r.baseTexture.wrapMode=fa.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(lu),J8=function(t){Du(e,t);function e(r,n,i){var a=this,o=new K8(r.width,r.height,n,i),s=new uu(nt.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(lu),Q8=function(t){Du(e,t);function e(r,n,i,a,o){r===void 0&&(r=nt.EMPTY);var s=this,f=new mh(n,i,a);f.getBuffer("aVertexPosition").static=!1;var l=new uu(r);return s=t.call(this,f,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(lu),ud=10,Rxe=function(t){Du(e,t);function e(r,n,i,a,o){n===void 0&&(n=ud),i===void 0&&(i=ud),a===void 0&&(a=ud),o===void 0&&(o=ud);var s=t.call(this,nt.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(J8);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var B1=function(t,e){return B1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},B1(t,e)};function Pxe(t,e){B1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var e6=function(t){Pxe(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof nt?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Qr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Qr.shared.add(this.update,this,da.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(nt.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(nt.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof nt)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Qr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Qr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(gi);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */za.registerPlugin("accessibility",FD);za.registerPlugin("extract",p8);za.registerPlugin("interaction",BD);za.registerPlugin("particle",A8);za.registerPlugin("prepare",D8);za.registerPlugin("batch",f8);za.registerPlugin("tilingSprite",V8);Zn.registerPlugin(z8);Zn.registerPlugin(x8);Zn.registerPlugin(E8);Zn.registerPlugin(C8);Zn.registerPlugin(j8);vh.registerPlugin(kD);vh.registerPlugin(m8);var Oxe="6.4.2",t6={AlphaFilter:W8,BlurFilter:dxe,BlurFilterPass:Bc,ColorMatrixFilter:P1,DisplacementFilter:yxe,FXAAFilter:wxe,NoiseFilter:Txe};const Fxe=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Mn},AbstractBatchRenderer:s8,AbstractMultiResource:wv,AbstractRenderer:i8,AccessibilityManager:FD,AnimatedSprite:e6,AppLoaderPlugin:m8,Application:vh,ArrayResource:gS,Attribute:n1,get BLEND_MODES(){return je},get BUFFER_BITS(){return Sc},get BUFFER_TYPE(){return $i},BaseImageResource:pa,BasePrepare:B8,BaseRenderTexture:ES,BaseTexture:xt,BatchDrawCall:L0,BatchGeometry:jS,BatchPluginFactory:u8,BatchRenderer:f8,BatchShaderGenerator:l8,BatchSystem:TS,BatchTextureArray:B0,BitmapFont:as,BitmapFontData:Nc,BitmapFontLoader:z8,BitmapText:axe,BlobResource:y8,Bounds:iu,Buffer:Pr,BufferResource:Vo,get CLEAR_MODES(){return Oa},CanvasResource:Sv,Circle:AD,CompressedTextureLoader:x8,CompressedTextureResource:M0,Container:Vr,ContextSystem:AS,CountLimiter:L8,CubeResource:_S,DDSLoader:E8,DEG_TO_RAD:Ga,get DRAW_MODES(){return ri},DisplayObject:xr,get ENV(){return ha},Ellipse:ID,Extract:p8,get FORMATS(){return Me},FORMATS_TO_COMPONENTS:w8,FillStyle:GS,Filter:ut,FilterState:jD,FilterSystem:CS,Framebuffer:N0,FramebufferSystem:IS,get GC_MODES(){return k0},GLFramebuffer:$D,GLProgram:t8,GLTexture:Ud,GRAPHICS_CURVES:au,Geometry:Bu,GeometrySystem:RS,Graphics:ou,GraphicsData:y1,GraphicsGeometry:k8,IGLUniformData:m_e,INSTALLED:Rc,get INTERNAL_FORMATS(){return pt},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Fc,ImageBitmapResource:bS,ImageResource:Cv,InteractionData:Qx,InteractionEvent:ND,InteractionManager:BD,InteractionTrackingData:Dd,KTXLoader:C8,get LINE_CAP(){return Ma},get LINE_JOIN(){return Ba},LineStyle:N8,Loader:Zn,get LoaderResource(){return Xt},get MASK_TYPES(){return ln},get MIPMAP_MODES(){return Kn},get MSAA_QUALITY(){return Sr},MaskData:VD,MaskSystem:PS,Matrix:ar,Mesh:lu,MeshBatchUvs:G8,MeshGeometry:mh,MeshMaterial:uu,NineSlicePlane:Rxe,ObjectRenderer:ph,ObservablePoint:lo,PI_2:Ic,get PRECISION(){return Ui},ParticleContainer:gye,ParticleRenderer:A8,PlaneGeometry:K8,Point:Et,Polygon:Vl,Prepare:D8,Program:Mu,ProjectionSystem:kS,Quad:UD,QuadUv:SS,RAD_TO_DEG:pS,get RENDERER_TYPE(){return nu},Rectangle:mt,RenderTexture:Lo,RenderTexturePool:DD,RenderTextureSystem:NS,Renderer:za,Resource:Is,RopeGeometry:Z8,RoundedRectangle:RD,Runner:hn,get SAMPLER_TYPES(){return Cc},get SCALE_MODES(){return pn},get SHAPES(){return lr},SVGResource:yS,ScissorSystem:OS,Shader:Ua,ShaderSystem:LS,SimpleMesh:Q8,SimplePlane:J8,SimpleRope:Ixe,Sprite:gi,SpriteMaskFilter:qD,Spritesheet:U8,SpritesheetLoader:j8,State:Go,StateSystem:BS,StencilSystem:FS,System:F_e,get TARGETS(){return Eo},get TEXT_GRADIENT(){return su},get TYPES(){return et},TYPES_TO_BYTES_PER_COMPONENT:d1,TYPES_TO_BYTES_PER_PIXEL:S8,TemporaryDisplayObject:mS,Text:zS,TextMetrics:Hi,TextStyle:Rs,Texture:nt,TextureGCSystem:MS,TextureLoader:g8,TextureMatrix:Tv,TextureSystem:DS,TextureUvs:wS,Ticker:Qr,TickerPlugin:kD,TilingSprite:Vye,TilingSpriteRenderer:V8,TimeLimiter:$ye,Transform:dh,get UPDATE_PRIORITY(){return da},UniformGroup:wo,VERSION:Oxe,VideoResource:xS,ViewableBuffer:Pc,get WRAP_MODES(){return fa},accessibleTarget:OD,autoDetectRenderer:a8,autoDetectResource:Ev,checkMaxIfStatementsInShader:YD,createUBOElements:JD,defaultFilterVertex:US,defaultVertex:o8,filters:t6,generateProgram:r8,generateUniformBufferSync:e8,getTestContext:HD,getUBOData:QD,graphicsUtils:Sye,groupD8:or,interactiveTarget:LD,isMobile:_i,resources:c8,settings:Ye,systems:h8,uniformParsers:bs,utils:Oge},Symbol.toStringTag,{value:"Module"}));let fd;const kxe=new Uint8Array(16);function Nxe(){if(!fd&&(fd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!fd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fd(kxe)}const sn=[];for(let t=0;t<256;++t)sn.push((t+256).toString(16).slice(1));function Lxe(t,e=0){return sn[t[e+0]]+sn[t[e+1]]+sn[t[e+2]]+sn[t[e+3]]+"-"+sn[t[e+4]]+sn[t[e+5]]+"-"+sn[t[e+6]]+sn[t[e+7]]+"-"+sn[t[e+8]]+sn[t[e+9]]+"-"+sn[t[e+10]]+sn[t[e+11]]+sn[t[e+12]]+sn[t[e+13]]+sn[t[e+14]]+sn[t[e+15]]}const Bxe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),sF={randomUUID:Bxe};function pf(t,e,r){if(sF.randomUUID&&!e&&!t)return sF.randomUUID();t=t||{};const n=t.random||(t.rng||Nxe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Lxe(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M1=function(t,e){return M1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},M1(t,e)};function Mxe(t,e){M1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Dxe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Uxe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,jxe=function(t){Mxe(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,Dxe,Uxe)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}(ut);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var D1=function(t,e){return D1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},D1(t,e)};function $xe(t,e){D1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Vxe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Gxe=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,Xxe=function(t){$xe(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,Vxe,Gxe)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}(ut);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var U1=function(t,e){return U1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},U1(t,e)};function Hxe(t,e){U1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zxe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Wxe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,Yxe=function(t){Hxe(e,t);function e(r){var n=t.call(this,zxe,Wxe)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}(ut);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var j1=function(t,e){return j1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},j1(t,e)};function qxe(t,e){j1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kxe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Zxe=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,Jxe=function(t){qxe(e,t);function e(r){var n=t.call(this,Kxe,Zxe)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=nt.from(n._canvas,{scaleMode:pn.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,f=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=f,this.uniforms.aspect=f/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,f=0;f<n;f++){var l=s/(o-f),u=Math.max(l*(1-Math.random()*.6),a);r[f]=u,s-=u}r[n]=s}else{for(var s=1,c=Math.sqrt(1/this._slices),f=0;f<n;f++){var u=Math.max(c*s*Math.random(),a);r[f]=u,s-=u}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var f=this._sizes[s]*r,l=a>0?a:0,u=a<0?-a:0;i.fillStyle="rgba("+l+", "+u+", 0, 1)",i.fillRect(0,o>>0,r,f+1>>0),o+=f}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*Ga;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}(ut);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $1=function(t,e){return $1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$1(t,e)};function Qxe(t,e){$1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var e1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,t1e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,r1e=function(t){Qxe(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,e1e,t1e)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}(ut);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var V1=function(t,e){return V1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},V1(t,e)};function n1e(t,e){V1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var i1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,a1e=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,o1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,s1e=function(t){n1e(e,t);function e(r){var n=t.call(this,i1e,o1e.replace("${perlin}",a1e))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new Et,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,f=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=f,this.uniforms.aspect=f/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*Ga;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}(ut);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var G1=function(t,e){return G1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},G1(t,e)};function l1e(t,e){G1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var u1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,f1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){l1e(e,t);function e(r){var n=t.call(this,u1e,f1e)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})(ut);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var X1=function(t,e){return X1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},X1(t,e)};function c1e(t,e){X1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var h1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,d1e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,p1e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,D0=function(t){c1e(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,h1e,i?p1e:d1e)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new Et,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,f;if(this._quality===1||this._blur===0)f=this._kernels[0]+.5,this.uniforms.uOffset[0]=f*o,this.uniforms.uOffset[1]=f*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),u=n,c=l,h=void 0,p=this._quality-1,d=0;d<p;d++)f=this._kernels[d]+.5,this.uniforms.uOffset[0]=f*o,this.uniforms.uOffset[1]=f*s,r.applyFilter(this,u,c,1),h=u,u=c,c=h;f=this._kernels[p]+.5,this.uniforms.uOffset[0]=f*o,this.uniforms.uOffset[1]=f*s,r.applyFilter(this,u,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof Et?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}(ut);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var H1=function(t,e){return H1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},H1(t,e)};function r6(t,e){H1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var n6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,v1e=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,m1e=function(t){r6(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,n6,v1e)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}(ut),g1e=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){r6(e,t);function e(r){var n=t.call(this,n6,g1e)||this;n.bloomScale=1,n.brightness=1,n._resolution=Ye.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,f=i.pixelSize,l=i.resolution;return n._extractFilter=new m1e(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new D0(a):new D0(o,s),n.pixelSize=f,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var f=r.getFilterTexture();this._blurFilter.apply(r,s,f,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=f,r.applyFilter(this,n,i,a),r.returnFilterTexture(f),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:Ye.FILTER_RESOLUTION},e})(ut);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var z1=function(t,e){return z1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},z1(t,e)};function _1e(t,e){z1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var y1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,x1e=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){_1e(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,y1e,x1e)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var W1=function(t,e){return W1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},W1(t,e)};function b1e(t,e){W1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var E1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,w1e=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){b1e(e,t);function e(r){var n=t.call(this,E1e,w1e)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/Ga},set:function(r){this._angle=r*Ga,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return Ln(this.uniforms.lightColor)},set:function(r){Gr(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return Ln(this.uniforms.shadowColor)},set:function(r){Gr(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Y1=function(t,e){return Y1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Y1(t,e)};function S1e(t,e){Y1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){S1e(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=Ye.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,f;return typeof r=="number"?(s=r,f=r):r instanceof Et?(s=r.x,f=r.y):Array.isArray(r)&&(s=r[0],f=r[1]),o.blurXFilter=new Bc(!0,s,n,i,a),o.blurYFilter=new Bc(!1,f,n,i,a),o.blurYFilter.blendMode=je.SCREEN,o.defaultFilter=new W8,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var q1=function(t,e){return q1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},q1(t,e)};function C1e(t,e){q1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var T1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,A1e=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){C1e(e,t);function e(r){var n=t.call(this,T1e,A1e)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,f=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=f,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})(ut);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var K1=function(t,e){return K1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},K1(t,e)};function I1e(t,e){K1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var R1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,P1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){I1e(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,R1e,P1e)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof nt||(r=nt.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=Kn.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?pn.NEAREST:pn.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=Kn.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})(ut);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Z1=function(t,e){return Z1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Z1(t,e)};function O1e(t,e){Z1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var F1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,k1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){O1e(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,F1e,k1e)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(Gr(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=Ln(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var J1=function(t,e){return J1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},J1(t,e)};function N1e(t,e){J1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var L1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,B1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){N1e(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,L1e,B1e)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(Gr(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=Ln(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(Gr(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=Ln(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Q1=function(t,e){return Q1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Q1(t,e)};function M1e(t,e){Q1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var D1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,U1e=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){M1e(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,D1e,U1e)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eb=function(t,e){return eb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eb(t,e)};function j1e(t,e){eb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,V1e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){j1e(e,t);function e(){return t.call(this,$1e,V1e)||this}return e})(ut);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tb=function(t,e){return tb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},tb(t,e)};function G1e(t,e){tb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var X1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,H1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){G1e(e,t);function e(r){var n=t.call(this,X1e,H1e)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,f=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=f,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})(ut);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rb=function(t,e){return rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},rb(t,e)};function z1e(t,e){rb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var U0=function(){return U0=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},U0.apply(this,arguments)},W1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Y1e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){z1e(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=Ye.FILTER_RESOLUTION;var i=r?U0(U0({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,f=i.pixelSize,l=i.resolution;n._tintFilter=new ut(W1e,Y1e),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new Et,n._tintFilter.resolution=l,n._blurFilter=a?new D0(a):new D0(o,s),n.pixelSize=f,n.resolution=l;var u=i.shadowOnly,c=i.rotation,h=i.distance,p=i.alpha,d=i.color;return n.shadowOnly=u,n.rotation=c,n.distance=h,n.alpha=p,n.color=d,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/Ga},set:function(r){this.angle=r*Ga,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return Ln(this._tintFilter.uniforms.color)},set:function(r){Gr(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:Ye.FILTER_RESOLUTION},e})(ut);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nb=function(t,e){return nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nb(t,e)};function q1e(t,e){nb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var K1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Z1e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){q1e(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,K1e,Z1e)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ib=function(t,e){return ib=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ib(t,e)};function J1e(t,e){ib(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Q1e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ebe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){J1e(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,f=i.knockout,l=i.quality,u=Math.round(i.distance);return n=t.call(this,Q1e,ebe.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/u).toFixed(7)).replace(/__DIST__/gi,u.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:u,knockout:f}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return Ln(this.uniforms.glowColor)},set:function(r){Gr(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})(ut);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ab=function(t,e){return ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ab(t,e)};function tbe(t,e){ab(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,nbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){tbe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,rbe,nbe)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new lo(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,f=o.y;this.uniforms.uKernelSize=s!==0||f!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ob=function(t,e){return ob=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ob(t,e)};function ibe(t,e){ob(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var abe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,obe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){ibe(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,abe,obe.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],f=s[0];typeof f=="number"?f=Gr(f):s[0]=Ln(f),n[o*3]=f[0],n[o*3+1]=f[1],n[o*3+2]=f[2];var l=s[1];typeof l=="number"?l=Gr(l):s[1]=Ln(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sb=function(t,e){return sb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},sb(t,e)};function sbe(t,e){sb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ube=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){sbe(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,lbe,ube.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return Ln(this.uniforms.outlineColor)},set:function(r){Gr(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})(ut);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lb=function(t,e){return lb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lb(t,e)};function fbe(t,e){lb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,hbe=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){fbe(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,cbe,hbe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ub=function(t,e){return ub=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ub(t,e)};function dbe(t,e){ub(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var pbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,vbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){dbe(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,pbe,vbe)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fb=function(t,e){return fb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},fb(t,e)};function mbe(t,e){fb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,_be=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,ybe=function(t){mbe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,gbe,_be)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}(ut);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cb=function(t,e){return cb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},cb(t,e)};function xbe(t,e){cb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Ebe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){xbe(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,bbe,Ebe)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(Gr(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=Ln(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hb=function(t,e){return hb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},hb(t,e)};function Av(t,e){hb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Sbe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,i6=function(t){Av(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,wbe,Sbe)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new Et(0,window.innerHeight/2),o.uniforms.end=a||new Et(600,window.innerHeight/2),o.uniforms.delta=new Et(30,30),o.uniforms.texSize=new Et(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}(ut),Cbe=function(t){Av(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(i6),Tbe=function(t){Av(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(i6);(function(t){Av(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new Cbe(r,n,i,a),o.tiltShiftYFilter=new Tbe(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})(ut);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var db=function(t,e){return db=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},db(t,e)};function Abe(t,e){db(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ibe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Rbe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){Abe(e,t);function e(r){var n=t.call(this,Ibe,Rbe)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new Et},e})(ut);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pb=function(t,e){return pb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pb(t,e)};function Pbe(t,e){pb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Obe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var Fbe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,kbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){Pbe(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=Obe(i,["maxKernelSize"]);return n=t.call(this,Fbe,kbe.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})(ut);const vb="shockwaveFilter";function Nbe(t,e){const r=t.containerFilters.get(vb);if(r)return r;if(e){const n=new ybe([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(vb,n),n}}function Lbe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function Bbe(t,e){if(e===0)t.removeFilter(vb);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const mb=0,gb="radiusAlphaFilter";class Mbe extends ut{constructor(e,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new Et(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function Dbe(t,e){const r=t.containerFilters.get(gb);if(r)return r;if(e){const n=new Mbe(new Et(.5,.5),mb);return n.radius=mb,t.addFilter(n),t.containerFilters.set(gb,n),n}}function Ube(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:mb}function jbe(t,e){if(e===0)t.removeFilter(gb);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class V_ extends Vr{constructor(){super();Ge(this,"containerFilters",new Map);Ge(this,"baseX",0);Ge(this,"baseY",0)}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new t6.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new jxe;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new Xxe;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new Yxe;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new Jxe;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new r1e;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new s1e;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return Nbe(this,r)}get shockwaveFilter(){return Lbe(this)}set shockwaveFilter(r){Bbe(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return Dbe(this,r)}get radiusAlphaFilter(){return Ube(this)}set radiusAlphaFilter(r){jbe(this,r)}}var vt;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})(vt||(vt={}));var j0=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),X;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(X||(X={}));var ht;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(ht||(ht={}));var ur;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(ur||(ur={}));var yr;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(yr||(yr={}));var st;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})(st||(st={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _b=function(t,e){return _b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_b(t,e)};function Uu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_b(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function lF(t){switch(t.toLowerCase()){case"nearest":return kn.Nearest;case"linear":return kn.Linear;case"mipmap":return kn.MipMap;case"mipmapnearestnearest":return kn.MipMapNearestNearest;case"mipmaplinearnearest":return kn.MipMapLinearNearest;case"mipmapnearestlinear":return kn.MipMapNearestLinear;case"mipmaplinearlinear":return kn.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var kn;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(kn||(kn={}));var uo;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(uo||(uo={}));var yb=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),$be=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),Vbe=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new uF,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=kn.Nearest,i.uWrap=uo.ClampToEdge,i.vWrap=uo.ClampToEdge,n.push(i)}var s=new fF;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new Gbe(e),o=new Array(4),s=null,f={},l=null;f.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},f.format=function(){},f.filter=function(){s.minFilter=lF(o[1]),s.magFilter=lF(o[2])},f.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=uo.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=uo.Repeat)},f.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var p=o[1],d=0;p.toLocaleLowerCase()=="true"?d=6:p.toLocaleLowerCase()=="false"?d=0:d=(720-parseFloat(p))%360/45,l.rotate=d},u.index=function(){l.index=parseInt(o[1])};for(var c=a.readLine();c!=null&&c.trim().length==0;)c=a.readLine();for(;!(c==null||c.trim().length==0||a.readEntry(o,c)==0);)c=a.readLine();var h=function(){for(;;){if(c==null)return n&&n(i);if(c.trim().length==0)s=null,c=a.readLine();else if(s===null){for(s=new uF,s.name=c.trim();a.readEntry(o,c=a.readLine())!=0;){var p=f[o[0]];p&&p()}i.pages.push(s),r(s.name,function(C){if(C===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=C,s.pma&&(C.alphaMode=Mn.PMA),C.valid||C.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=C.realWidth,s.height=C.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new $be;var d=new fF;d.name=c,d.page=s;for(var m=null,_=null;;){var v=a.readEntry(o,c=a.readLine());if(v==0)break;var p=u[o[0]];if(p)p();else{m==null&&(m=[],_=[]),m.push(o[0]);for(var g=[],y=0;y<v;y++)g.push(parseInt(o[y+1]));_.push(g)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var x=s.baseTexture.resolution;l.x/=x,l.y/=x,l.width/=x,l.height/=x,l.originalWidth/=x,l.originalHeight/=x,l.offsetX/=x,l.offsetY/=x;var b=l.rotate%4!==0,E=new mt(l.x,l.y,b?l.height:l.width,b?l.width:l.height),w=new mt(0,0,l.originalWidth,l.originalHeight),S=new mt(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);d.texture=new nt(d.page.baseTexture,E,w,S,l.rotate),d.index=l.index,d.texture.updateUvs(),i.regions.push(d)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),Gbe=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),uF=function(){function t(){this.minFilter=kn.Nearest,this.magFilter=kn.Nearest,this.uWrap=uo.ClampToEdge,this.vWrap=uo.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==kn.Linear?e.scaleMode=pn.LINEAR:this.minFilter==kn.Nearest?e.scaleMode=pn.NEAREST:(e.mipmap=Kn.POW2,r==kn.MipMapNearestNearest?e.scaleMode=pn.NEAREST:e.scaleMode=pn.LINEAR)},t}(),fF=function(t){Uu(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(yb),Xbe=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),Hbe=Math.fround||Xbe,a6=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),o6=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),Be=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),W=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),zbe=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),Wbe=function(t){Uu(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(zbe),s6=function(t){Uu(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(Wbe),oe=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?Hbe(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),Iv=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),Mc=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),YS=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new Iv(function(){return oe.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var f=0;f<s;f++){var l=o[f];if(l.bone.active){var u=l.getAttachment();if(u!=null&&u.type===vt.BoundingBox){var c=u;n.push(c);var h=a.obtain();h.length!=c.worldVerticesLength&&(h=oe.newFloatArray(c.worldVerticesLength)),i.push(h),c.computeWorldVertices(l,0,c.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var f=a[o],l=f,u=0,c=f.length;u<c;u+=2){var h=l[u],p=l[u+1];e=Math.min(e,h),r=Math.min(r,p),n=Math.max(n,h),i=Math.max(i,p)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,f=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=f&&i>=f)return!1;var l=(i-r)/(n-e),u=l*(a-e)+r;if(u>o&&u<f||(u=l*(s-e)+r,u>o&&u<f))return!0;var c=(o-r)/l+e;return c>a&&c<s||(c=(f-r)/l+e,c>a&&c<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,f=0;f<a;f+=2){var l=i[f+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var c=i[f];c+(n-l)/(u-l)*(i[o]-c)<r&&(s=!s)}o=f}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,f=r-i,l=n-a,u=r*a-n*i,c=o[s-2],h=o[s-1],p=0;p<s;p+=2){var d=o[p],m=o[p+1],_=c*m-h*d,v=c-d,g=h-m,y=f*g-l*v,x=(u*v-f*_)/y;if((x>=c&&x<=d||x>=d&&x<=c)&&(x>=r&&x<=i||x>=i&&x<=r)){var b=(u*g-l*_)/y;if((b>=h&&b<=m||b>=m&&b<=h)&&(b>=n&&b<=a||b>=a&&b<=n))return!0}c=d,h=m}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),Ybe={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},Ya=[0,0,0],qbe=function(t){Uu(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}(gi),Kbe=function(t){Uu(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(Q8),gh=function(t){Uu(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),f=n.newContainer();if(n.slotContainers.push(f),n.addChild(f),n.tempClipContainers.push(null),!!s)if(s.type===vt.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,f.addChild(u)}else if(s.type===vt.Mesh){var c=n.createMesh(o,s);o.currentMesh=c,o.currentMeshId=s.id,o.currentMeshName=s.name,f.addChild(c)}else s.type===vt.Clipping&&(n.createGraphics(o,s),f.addChild(o.clippingContainer),f.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:Vr.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return Ln(this.tintRgb)},set:function(r){this.tintRgb=Gr(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:Ybe.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,f=null;o?(s=o.light,f=o.dark):s=this.tintRgb;for(var l=0,u=a.length;l<u;l++){var c=a[l],h=c.getAttachment(),p=this.slotContainers[l];if(!h){p.visible=!1;continue}var d=null;h.sequence&&h.sequence.apply(c,h);var m=h.region,_=h.color;switch(h!=null&&h.type){case vt.Region:var v=p.transform;if(v.setFromMatrix(c.bone.matrix),m=h.region,c.currentMesh&&(c.currentMesh.visible=!1,c.currentMesh=null,c.currentMeshId=void 0,c.currentMeshName=void 0),!m){c.currentSprite&&(c.currentSprite.renderable=!1);break}if(!c.currentSpriteName||c.currentSpriteName!==h.name){var g=h.name;if(c.currentSprite&&(c.currentSprite.visible=!1),c.sprites=c.sprites||{},c.sprites[g]!==void 0)c.sprites[g].visible=!0;else{var y=this.createSprite(c,h,g);p.addChild(y)}c.currentSprite=c.sprites[g],c.currentSpriteName=g}c.currentSprite.renderable=!0,c.hackRegion||this.setSpriteRegion(h,c.currentSprite,m),c.currentSprite.color?d=c.currentSprite.color:(Ya[0]=s[0]*c.color.r*_.r,Ya[1]=s[1]*c.color.g*_.g,Ya[2]=s[2]*c.color.b*_.b,c.currentSprite.tint=Ln(Ya)),c.currentSprite.blendMode=c.blendMode;break;case vt.Mesh:if(c.currentSprite){c.currentSprite.visible=!1,c.currentSprite=null,c.currentSpriteName=void 0;var x=new dh;x._parentID=-1,x._worldID=p.transform._worldID,p.transform=x}if(!m){c.currentMesh&&(c.currentMesh.renderable=!1);break}var b=h.id;if(c.currentMeshId===void 0||c.currentMeshId!==b){var E=b;if(c.currentMesh&&(c.currentMesh.visible=!1),c.meshes=c.meshes||{},c.meshes[E]!==void 0)c.meshes[E].visible=!0;else{var w=this.createMesh(c,h);p.addChild(w)}c.currentMesh=c.meshes[E],c.currentMeshName=h.name,c.currentMeshId=E}c.currentMesh.renderable=!0,h.computeWorldVerticesOld(c,c.currentMesh.vertices),c.currentMesh.color?d=c.currentMesh.color:(Ya[0]=s[0]*c.color.r*_.r,Ya[1]=s[1]*c.color.g*_.g,Ya[2]=s[2]*c.color.b*_.b,c.currentMesh.tint=Ln(Ya)),c.currentMesh.blendMode=c.blendMode,c.hackRegion||this.setMeshRegion(h,c.currentMesh,m);break;case vt.Clipping:c.currentGraphics||(this.createGraphics(c,h),p.addChild(c.clippingContainer),p.addChild(c.currentGraphics)),this.updateGraphics(c,h),p.alpha=1,p.visible=!0;continue;default:p.visible=!1;continue}if(p.visible=!0,d){var S=c.color.r*_.r,C=c.color.g*_.g,T=c.color.b*_.b;d.setLight(s[0]*S+f[0]*(1-S),s[1]*C+f[1]*(1-C),s[2]*T+f[2]*(1-T)),c.darkColor?(S=c.darkColor.r,C=c.darkColor.g,T=c.darkColor.b):(S=0,C=0,T=0),d.setDark(s[0]*S+f[0]*(1-S),s[1]*C+f[1]*(1-C),s[2]*T+f[2]*(1-T))}p.alpha=c.color.a}for(var I=this.skeleton.drawOrder,A=null,R=null,l=0,u=I.length;l<u;l++){var c=a[I[l].data.index],p=this.slotContainers[I[l].data.index];if(R||p.parent!==null&&p.parent!==this&&(p.parent.removeChild(p),p.parent=this),c.currentGraphics&&c.getAttachment())R=c.clippingContainer,A=c.getAttachment(),R.children.length=0,this.children[l]=p,A.endSlot===c.data&&(A.endSlot=null);else if(R){var O=this.tempClipContainers[l];O||(O=this.tempClipContainers[l]=this.newContainer(),O.visible=!1),this.children[l]=O,p.parent=null,R.addChild(p),A.endSlot==c.data&&(R.renderable=!0,R=null,A=null)}else this.children[l]=p}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*W.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}Vr.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),ri.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new Vl([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new yb,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var f=this.skeleton.slots[o];if(!f)return!1;var l=f.getAttachment();if(n===l.name){var u=s.region;return i?(u=new yb,u.texture=i,u.size=a,f.hackRegion=u,f.hackAttachment=l):(f.hackRegion=null,f.hackAttachment=null),f.currentSprite&&f.currentSprite.region!=u?(this.setSpriteRegion(l,f.currentSprite,u),f.currentSprite.region=u):f.currentMesh&&f.currentMesh.region!=u&&this.setMeshRegion(l,f.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new Vr},e.prototype.newSprite=function(r){return new qbe(r)},e.prototype.newGraphics=function(){return new ou},e.prototype.newMesh=function(r,n,i,a,o){return new Kbe(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,f=this.skeleton.slots.length;s<f;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",c=l.currentSprite||l.currentMesh;u.endsWith(r)?(c.parentGroup=n,o.push(c)):i&&c&&(c.parentGroup=i,a.push(c))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(Vr);Object.defineProperty(gh.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function Zbe(t){return t.type===Xt.TYPE.JSON}function Jbe(t){return t.xhrType===Xt.XHR_RESPONSE_TYPE.BUFFER}Xt.setExtensionXhrType("skel",Xt.XHR_RESPONSE_TYPE.BUFFER);var Qbe=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=Zbe(r)&&r.data.bones,a=Jbe(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var f=r.metadata||{},l=f?f.spineSkeletonScale:null;l&&(o.scale=l);var u=f.spineAtlas;if(u===!1)return n();if(u&&u.pages)return e.parseData(r,o,u,s),n();var c=f.spineAtlasSuffix||".atlas",h=r.url,p=h.indexOf("?");p>0&&(h=h.substr(0,p)),h=h.substr(0,h.lastIndexOf("."))+c,f.spineAtlasFile&&(h=f.spineAtlasFile),h=h.replace(this.baseUrl,"");var d={crossOrigin:r.crossOrigin,xhrType:Xt.XHR_RESPONSE_TYPE.TEXT,metadata:f.spineMetadata||null,parentResource:r},m={crossOrigin:r.crossOrigin,metadata:f.imageMetadata||null,parentResource:r},_=r.url.substr(0,r.url.lastIndexOf("/")+1);_=_.replace(this.baseUrl,"");var v=f.imageNamePrefix||r.name+"_atlas_page_",g=f.images?cF(f.images):f.image?cF({default:f.image}):f.imageLoader?f.imageLoader(this,v,_,m):eEe(this,v,_,m);function y(x){new Vbe(x,g,function(b){b&&e.parseData(r,o,b,s),n()})}f.atlasRawData?y(f.atlasRawData):this.add(r.name+"_atlas",h,d,function(x){x.error?n():y(x.data)})}}},t}();function eEe(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,f=t.resources[o];if(f){var l=function(){a(f.texture.baseTexture)};f.texture?l():f.onAfterMiddleware.add(l)}else t.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=Mn.PMA),a(u.texture.baseTexture))})}}function cF(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xb=function(t,e){return xb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xb(t,e)};function cr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qS=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Vs=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var f=r.bone.skeleton,l=r.deform,u=this.vertices,c=this.bones;if(c==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,m=h.a,_=h.c,v=h.b,g=h.d,y=n,x=o;x<i;y+=2,x+=s){var b=u[y],E=u[y+1];a[x]=b*m+E*_+p,a[x+1]=b*v+E*g+d}return}for(var w=0,S=0,C=0;C<n;C+=2){var T=c[w];w+=T+1,S+=T}var I=f.bones;if(l.length==0)for(var x=o,_=S*3;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3){var h=I[c[w]].matrix,b=u[_],E=u[_+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}else for(var F=l,x=o,_=S*3,k=S<<1;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3,k+=2){var h=I[c[w]].matrix,b=u[_]+F[k],E=u[_+1]+F[k+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),oe.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=oe.newFloatArray(this.vertices.length),oe.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}(qS),l6=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.BoundingBox,n.color=new Be(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Vs),u6=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Clipping,n.color=new Be(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Vs),Rv=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Mesh,n.color=new Be(1,1,1,1),n.tempColor=new Be(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),oe.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),oe.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),oe.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(Vs),Dc=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new Be(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),oe.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Vs),f6=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Point,n.color=new Be(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=W.cosDeg(this.rotation),a=W.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*W.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Vs),KS=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Be,this.darkColor=e.darkColor==null?null:new Be,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),ZS=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new Be(1,1,1,1),n.offset=oe.newFloatArray(8),n.uvs=oe.newFloatArray(8),n.tempColor=new Be(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,f=this.rotation*Math.PI/180,l=Math.cos(f),u=Math.sin(f),c=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,m=o*l+this.x,_=o*u,v=s*l+this.y,g=s*u,y=this.offset;y[e.OX1]=c-d,y[e.OY1]=p+h,y[e.OX2]=c-g,y[e.OY2]=v+h,y[e.OX3]=m-g,y[e.OY3]=v+_,y[e.OX4]=m-d,y[e.OY4]=p+_},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof KS?r.bone.matrix:r.matrix,f=s.tx,l=s.ty,u=s.a,c=s.c,h=s.b,p=s.d,d=0,m=0;d=o[e.OX1],m=o[e.OY1],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX2],m=o[e.OY2],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX3],m=o[e.OY3],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX4],m=o[e.OY4],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,oe.arrayCopy(this.uvs,0,r.uvs,0,8),oe.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(qS),tEe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=W.randomTriangular(-this.jitterX,this.jitterY),e.y+=W.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),rEe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*W.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,f=Math.sqrt(o*o+s*s);if(f<this.radius){var l=t.interpolation.apply(0,a,(this.radius-f)/this.radius),u=Math.cos(l),c=Math.sin(l);e.x=u*o-c*s+this.worldX,e.y=c*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new s6(2),t}(),Tr=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,f){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(e,r,n,a,o,s,f)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),rn;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(rn||(rn={}));var ba=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=oe.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,f=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+f,c=s*2+l,h=r*.3+o+f*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var _=h,v=p,g=d+t.BEZIER_SIZE-1;d<g;d+=2)m[d]=_,m[d+1]=v,h+=u,p+=c,u+=f,c+=l,_+=h,v+=p},t.prototype.getCurvePercent=function(e,r){r=W.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,f=i+t.BEZIER_SIZE-1;i<f;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var c=n[i-1];return c+(1-c)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),ti=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(rn.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.rotation=u.data.rotation;return;case X.first:var c=u.data.rotation-u.rotation;u.rotation+=(c-(16384-(16384.499999999996-c/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case X.setup:u.rotation=u.data.rotation+h*o;break;case X.first:case X.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case X.add:u.rotation+=h*o}return}var p=Tr.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],m=l[p],_=this.getCurvePercent((p>>1)-1,1-(i-m)/(l[p+e.PREV_TIME]-m)),v=l[p+e.ROTATION]-d;switch(v=d+(v-(16384-(16384.499999999996-v/360|0))*360)*_,s){case X.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case X.first:case X.replace:v+=u.data.rotation-u.rotation;case X.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(ba),Ps=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(rn.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.x=u.data.x,u.y=u.data.y;return;case X.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=Tr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.X]-c)*m,h+=(l[p+e.Y]-h)*m}switch(s){case X.setup:u.x=u.data.x+c*o,u.y=u.data.y+h*o;break;case X.first:case X.replace:u.x+=(u.data.x+c-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case X.add:u.x+=c*o,u.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(ba),JS=function(t){cr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(rn.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case X.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=Tr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c=(c+(l[p+e.X]-c)*m)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*m)*u.data.scaleY}if(o==1)s==X.add?(u.scaleX+=c-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=c,u.scaleY=h);else{var _=0,v=0;if(f==ht.mixOut)switch(s){case X.setup:_=u.data.scaleX,v=u.data.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case X.first:case X.replace:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case X.add:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-u.data.scaleY)*o}else switch(s){case X.setup:_=Math.abs(u.data.scaleX)*W.signum(c),v=Math.abs(u.data.scaleY)*W.signum(h),u.scaleX=_+(c-_)*o,u.scaleY=v+(h-v)*o;break;case X.first:case X.replace:_=Math.abs(u.scaleX)*W.signum(c),v=Math.abs(u.scaleY)*W.signum(h),u.scaleX=_+(c-_)*o,u.scaleY=v+(h-v)*o;break;case X.add:_=W.signum(c),v=W.signum(h),u.scaleX=Math.abs(u.scaleX)*_+(c-Math.abs(u.data.scaleX)*_)*o,u.scaleY=Math.abs(u.scaleY)*v+(h-Math.abs(u.data.scaleY)*v)*o}}}},e}(Ps),QS=function(t){cr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(rn.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case X.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=Tr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c=c+(l[p+e.X]-c)*m,h=h+(l[p+e.Y]-h)*m}switch(s){case X.setup:u.shearX=u.data.shearX+c*o,u.shearY=u.data.shearY+h*o;break;case X.first:case X.replace:u.shearX+=(u.data.shearX+c-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case X.add:u.shearX+=c*o,u.shearY+=h*o}}},e}(Ps),Uc=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(rn.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.color.setFromColor(l.data.color);return;case X.first:var c=l.color,h=l.data.color;c.add((h.r-c.r)*o,(h.g-c.g)*o,(h.b-c.b)*o,(h.a-c.a)*o)}return}var p=0,d=0,m=0,_=0;if(i>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],m=u[v+e.PREV_B],_=u[v+e.PREV_A]}else{var g=Tr.binarySearch(u,i,e.ENTRIES);p=u[g+e.PREV_R],d=u[g+e.PREV_G],m=u[g+e.PREV_B],_=u[g+e.PREV_A];var y=u[g],x=this.getCurvePercent(g/e.ENTRIES-1,1-(i-y)/(u[g+e.PREV_TIME]-y));p+=(u[g+e.R]-p)*x,d+=(u[g+e.G]-d)*x,m+=(u[g+e.B]-m)*x,_+=(u[g+e.A]-_)*x}if(o==1)l.color.set(p,d,m,_);else{var c=l.color;s==X.setup&&c.setFromColor(l.data.color),c.add((p-c.r)*o,(d-c.g)*o,(m-c.b)*o,(_-c.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(ba),jc=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(rn.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,f,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=f,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case X.first:var c=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;c.add((p.r-c.r)*o,(p.g-c.g)*o,(p.b-c.b)*o,(p.a-c.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;m=u[E+e.PREV_R],_=u[E+e.PREV_G],v=u[E+e.PREV_B],g=u[E+e.PREV_A],y=u[E+e.PREV_R2],x=u[E+e.PREV_G2],b=u[E+e.PREV_B2]}else{var w=Tr.binarySearch(u,i,e.ENTRIES);m=u[w+e.PREV_R],_=u[w+e.PREV_G],v=u[w+e.PREV_B],g=u[w+e.PREV_A],y=u[w+e.PREV_R2],x=u[w+e.PREV_G2],b=u[w+e.PREV_B2];var S=u[w],C=this.getCurvePercent(w/e.ENTRIES-1,1-(i-S)/(u[w+e.PREV_TIME]-S));m+=(u[w+e.R]-m)*C,_+=(u[w+e.G]-_)*C,v+=(u[w+e.B]-v)*C,g+=(u[w+e.A]-g)*C,y+=(u[w+e.R2]-y)*C,x+=(u[w+e.G2]-x)*C,b+=(u[w+e.B2]-b)*C}if(o==1)l.color.set(m,_,v,g),l.darkColor.set(y,x,b,1);else{var c=l.color,h=l.darkColor;s==X.setup&&(c.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),c.add((m-c.r)*o,(_-c.g)*o,(v-c.b)*o,(g-c.a)*o),h.add((y-h.r)*o,(x-h.g)*o,(b-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(ba),ps=function(){function t(e){this.frames=oe.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(rn.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var f=e.slots[this.slotIndex];if(f.bone.active){if(s==ht.mixOut){o==X.setup&&this.setAttachment(e,f,f.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==X.setup||o==X.first)&&this.setAttachment(e,f,f.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=Tr.binarySearch(l,n,1)-1;var c=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(c==null?null:e.getAttachment(this.slotIndex,c))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),hF=null,e2=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r),n.frameVertices=new Array(r),hF==null&&(hF=oe.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(rn.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof Vs)||u.deformAttachment!=this.attachment)){var c=l.deform;c.length==0&&(s=X.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var m=u;switch(s){case X.setup:c.length=0;return;case X.first:if(o==1){c.length=0;break}var _=oe.setArraySize(c,p);if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)_[g]+=(v[g]-_[g])*o;else{o=1-o;for(var g=0;g<p;g++)_[g]*=o}}return}var y=oe.setArraySize(c,p);if(i>=d[d.length-1]){var x=h[d.length-1];if(o==1)if(s==X.add){var m=u;if(m.bones==null)for(var v=m.vertices,b=0;b<p;b++)y[b]+=x[b]-v[b];else for(var E=0;E<p;E++)y[E]+=x[E]}else oe.arrayCopy(x,0,y,0,p);else switch(s){case X.setup:{var w=u;if(w.bones==null)for(var v=w.vertices,S=0;S<p;S++){var C=v[S];y[S]=C+(x[S]-C)*o}else for(var T=0;T<p;T++)y[T]=x[T]*o;break}case X.first:case X.replace:for(var I=0;I<p;I++)y[I]+=(x[I]-y[I])*o;break;case X.add:var m=u;if(m.bones==null)for(var v=m.vertices,A=0;A<p;A++)y[A]+=(x[A]-v[A])*o;else for(var R=0;R<p;R++)y[R]+=x[R]*o}return}var O=Tr.binarySearch(d,i),F=h[O-1],k=h[O],$=d[O],q=this.getCurvePercent(O-1,1-(i-$)/(d[O-1]-$));if(o==1)if(s==X.add){var m=u;if(m.bones==null)for(var v=m.vertices,K=0;K<p;K++){var G=F[K];y[K]+=G+(k[K]-G)*q-v[K]}else for(var N=0;N<p;N++){var G=F[N];y[N]+=G+(k[N]-G)*q}}else for(var j=0;j<p;j++){var G=F[j];y[j]=G+(k[j]-G)*q}else switch(s){case X.setup:{var M=u;if(M.bones==null)for(var v=M.vertices,D=0;D<p;D++){var G=F[D],C=v[D];y[D]=C+(G+(k[D]-G)*q-C)*o}else for(var J=0;J<p;J++){var G=F[J];y[J]=(G+(k[J]-G)*q)*o}break}case X.first:case X.replace:for(var Q=0;Q<p;Q++){var G=F[Q];y[Q]+=(G+(k[Q]-G)*q-y[Q])*o}break;case X.add:var m=u;if(m.bones==null)for(var v=m.vertices,se=0;se<p;se++){var G=F[se];y[se]+=(G+(k[se]-G)*q-v[se])*o}else for(var re=0;re<p;re++){var G=F[re];y[re]+=(G+(k[re]-G)*q)*o}}}}},e}(ba),Pv=function(){function t(e){this.frames=oe.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return rn.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var f=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=f[l-1])return;if(!(n<f[0])){var u=0;if(r<f[0])u=0;else{u=Tr.binarySearch(f,r);for(var c=f[u];u>0&&f[u-1]==c;)u--}for(;u<l&&n>=f[u];u++)i.push(this.events[u])}}},t}(),Gl=function(){function t(e){this.frames=oe.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return rn.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var f=e.drawOrder,l=e.slots;if(s==ht.mixOut&&o==X.setup){oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==X.setup||o==X.first)&&oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var c=0;n>=u[u.length-1]?c=u.length-1:c=Tr.binarySearch(u,n)-1;var h=this.drawOrders[c];if(h==null)oe.arrayCopy(l,0,f,0,l.length);else for(var p=0,d=h.length;p<d;p++)f[p]=l[h[p]]},t}(),$c=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(rn.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,f){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=f?1:0},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case X.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==X.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+e.PREV_SOFTNESS]-u.data.softness)*o,f==ht.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+e.PREV_SOFTNESS]-u.softness)*o,f==ht.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var c=Tr.binarySearch(l,i,e.ENTRIES),h=l[c+e.PREV_MIX],p=l[c+e.PREV_SOFTNESS],d=l[c],m=this.getCurvePercent(c/e.ENTRIES-1,1-(i-d)/(l[c+e.PREV_TIME]-d));s==X.setup?(u.mix=u.data.mix+(h+(l[c+e.MIX]-h)*m-u.data.mix)*o,u.softness=u.data.softness+(p+(l[c+e.SOFTNESS]-p)*m-u.data.softness)*o,f==ht.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[c+e.PREV_BEND_DIRECTION],u.compress=l[c+e.PREV_COMPRESS]!=0,u.stretch=l[c+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[c+e.MIX]-h)*m-u.mix)*o,u.softness+=(p+(l[c+e.SOFTNESS]-p)*m-u.softness)*o,f==ht.mixIn&&(u.bendDirection=l[c+e.PREV_BEND_DIRECTION],u.compress=l[c+e.PREV_COMPRESS]!=0,u.stretch=l[c+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(ba),Vc=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(rn.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var c=u.data;switch(s){case X.setup:u.rotateMix=c.rotateMix,u.translateMix=c.translateMix,u.scaleMix=c.scaleMix,u.shearMix=c.shearMix;return;case X.first:u.rotateMix+=(c.rotateMix-u.rotateMix)*o,u.translateMix+=(c.translateMix-u.translateMix)*o,u.scaleMix+=(c.scaleMix-u.scaleMix)*o,u.shearMix+=(c.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,m=0;if(i>=l[l.length-e.ENTRIES]){var _=l.length;h=l[_+e.PREV_ROTATE],p=l[_+e.PREV_TRANSLATE],d=l[_+e.PREV_SCALE],m=l[_+e.PREV_SHEAR]}else{var v=Tr.binarySearch(l,i,e.ENTRIES);h=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],m=l[v+e.PREV_SHEAR];var g=l[v],y=this.getCurvePercent(v/e.ENTRIES-1,1-(i-g)/(l[v+e.PREV_TIME]-g));h+=(l[v+e.ROTATE]-h)*y,p+=(l[v+e.TRANSLATE]-p)*y,d+=(l[v+e.SCALE]-d)*y,m+=(l[v+e.SHEAR]-m)*y}if(s==X.setup){var c=u.data;u.rotateMix=c.rotateMix+(h-c.rotateMix)*o,u.translateMix=c.translateMix+(p-c.translateMix)*o,u.scaleMix=c.scaleMix+(d-c.scaleMix)*o,u.shearMix=c.shearMix+(m-c.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(m-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(ba),fu=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(rn.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.position=u.data.position;return;case X.first:u.position+=(u.data.position-u.position)*o}return}var c=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_VALUE];else{var h=Tr.binarySearch(l,i,e.ENTRIES);c=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));c+=(l[h+e.VALUE]-c)*d}s==X.setup?u.position=u.data.position+(c-u.data.position)*o:u.position+=(c-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(ba),t2=function(t){cr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(rn.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.spacing=u.data.spacing;return;case X.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var c=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_VALUE];else{var h=Tr.binarySearch(l,i,e.ENTRIES);c=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));c+=(l[h+e.VALUE]-c)*d}s==X.setup?u.spacing=u.data.spacing+(c-u.data.spacing)*o:u.spacing+=(c-u.spacing)*o}},e}(fu),Gc=function(t){cr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(rn.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case X.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case X.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=Tr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.ROTATE]-c)*m,h+=(l[p+e.TRANSLATE]-h)*m}s==X.setup?(u.rotateMix=u.data.rotateMix+(c-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(c-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(ba),c6=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new d6(this),this.propertyIDs=new a6,this.animationsChanged=!1,this.trackEntryPool=new Iv(function(){return new h6}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var f=a.trackLast-s.delay;if(f>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(f/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var f=a==0?X.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,f):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,c=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||f==X.add)for(var d=0;d<h;d++){oe.webkit602BugfixHelper(l,f);var m=p[d];m instanceof ps?this.applyAttachmentTimeline(m,e,c,f,!0):m.apply(e,u,c,r,l,f,ht.mixIn)}else{var _=s.timelineMode,v=s.timelinesRotation.length==0;v&&oe.setArraySize(s.timelinesRotation,h<<1,null);for(var g=s.timelinesRotation,d=0;d<h;d++){var y=p[d],x=_[d]==t.SUBSEQUENT?f:X.setup;y instanceof ti?this.applyRotateTimeline(y,e,c,l,x,g,d<<1,v):y instanceof ps?this.applyAttachmentTimeline(y,e,c,f,!0):(oe.webkit602BugfixHelper(l,f),y.apply(e,u,c,r,l,x,ht.mixIn))}}this.queueEvents(s,c),r.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}for(var b=this.unkeyedState+t.SETUP,E=e.slots,w=0,S=e.slots.length;w<S;w++){var C=E[w];if(C.attachmentState==b){var T=C.data.attachmentName;C.setAttachment(T==null?null:e.getAttachment(C.data.index,T))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==X.first&&(n=X.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=X.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,f=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),c=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==X.add)for(var m=0;m<c;m++)h[m].apply(r,l,u,o,d,n,ht.mixOut);else{var _=i.timelineMode,v=i.timelineHoldMix,g=i.timelinesRotation.length==0;g&&oe.setArraySize(i.timelinesRotation,c<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var m=0;m<c;m++){var x=h[m],b=ht.mixOut,E=void 0,w=0;switch(_[m]){case t.SUBSEQUENT:if(!f&&x instanceof Gl)continue;E=n,w=d;break;case t.FIRST:E=X.setup,w=d;break;case t.HOLD_SUBSEQUENT:E=n,w=p;break;case t.HOLD_FIRST:E=X.setup,w=p;break;default:E=X.setup;var S=v[m];w=p*Math.max(0,1-S.mixTime/S.mixDuration);break}i.totalAlpha+=w,x instanceof ti?this.applyRotateTimeline(x,r,u,w,E,y,m<<1,g):x instanceof ps?this.applyAttachmentTimeline(x,r,u,E,s):(oe.webkit602BugfixHelper(w,n),f&&x instanceof Gl&&E==X.setup&&(b=ht.mixIn),x.apply(r,l,u,o,w,E,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==X.setup||i==X.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var f;n>=s[s.length-1]?f=s.length-1:f=Tr.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[f],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,f){if(f&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,ht.mixIn);return}var l=e,u=l.frames,c=r.bones[l.boneIndex];if(c.active){var h=0,p=0;if(n<u[0])switch(a){case X.setup:c.rotation=c.data.rotation;default:return;case X.first:h=c.rotation,p=c.data.rotation}else if(h=a==X.setup?c.data.rotation:c.rotation,n>=u[u.length-ti.ENTRIES])p=c.data.rotation+u[u.length+ti.PREV_ROTATION];else{var d=Tr.binarySearch(u,n,ti.ENTRIES),m=u[d+ti.PREV_ROTATION],_=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-_)/(u[d+ti.PREV_TIME]-_));p=u[d+ti.ROTATION]-m,p-=(16384-(16384.499999999996-p/360|0))*360,p=m+p*v+c.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var g=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)g=o[s];else{var x=0,b=0;f?(x=0,b=y):(x=o[s],b=o[s+1]);var E=y>0,w=x>=0;W.signum(b)!=W.signum(y)&&Math.abs(b)<=90&&(Math.abs(x)>180&&(x+=360*W.signum(x)),w=E),g=y+x-x%360,w!=E&&(g+=360*W.signum(x)),o[s]=g}o[s+1]=y,h+=g*i,c.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,f=0,l=s.length;f<l;f++){var u=s[f];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var c=!1;for(e.loop?c=a==0||o>e.trackTime%a:c=r>=i&&e.animationLast<i,c&&this.queue.complete(e);f<l;f++){var h=s[f];h.time<n||this.queue.event(e,s[f])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(oe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=X.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=X.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=oe.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=oe.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var f=0;f<i;f++)a[f]=s.add(n[f].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var f=0;f<i;f++){var l=n[f],u=l.getPropertyId();if(!s.add(u))a[f]=t.SUBSEQUENT;else if(r==null||l instanceof ps||l instanceof Gl||l instanceof Pv||!r.animation.hasTimeline(u))a[f]=t.FIRST;else{for(var c=r.mixingTo;c!=null;c=c.mixingTo)if(!c.animation.hasTimeline(u)){if(e.mixDuration>0){a[f]=t.HOLD_MIX,o[f]=c;continue e}break}a[f]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new Tr("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),h6=function(){function t(){this.mixBlend=X.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),d6=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Pn.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Pn.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Pn.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Pn.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Pn.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Pn.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Pn.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case Pn.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case Pn.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case Pn.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case Pn.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=W.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case Pn.event:var f=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,f);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,f);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,f),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,f);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),Pn;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Pn||(Pn={}));var nEe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),p6=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),r2=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new ZS(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new Rv(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new l6(r)},t.prototype.newPathAttachment=function(e,r){return new Dc(r)},t.prototype.newPointAttachment=function(e,r){return new f6(r)},t.prototype.newClippingAttachment=function(e,r){return new u6(r)},t}(),bb=function(){function t(e,r,n){if(this.matrix=new ar,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var f=this.parent,l=this.matrix,u=this.skeleton.scaleX,c=-this.skeleton.scaleY;if(f==null){var h=this.skeleton,p=n+90+s;l.a=W.cosDeg(n+o)*i*u,l.c=W.cosDeg(p)*a*u,l.b=W.sinDeg(n+o)*i*c,l.d=W.sinDeg(p)*a*c,l.tx=e*u+h.x,l.ty=r*c+h.y;return}var d=f.matrix.a,m=f.matrix.c,_=f.matrix.b,v=f.matrix.d;switch(l.tx=d*e+m*r+f.matrix.tx,l.ty=_*e+v*r+f.matrix.ty,this.data.transformMode){case st.Normal:{var p=n+90+s,g=W.cosDeg(n+o)*i,y=W.cosDeg(p)*a,x=W.sinDeg(n+o)*i,b=W.sinDeg(p)*a;l.a=d*g+m*x,l.c=d*y+m*b,l.b=_*g+v*x,l.d=_*y+v*b;return}case st.OnlyTranslation:{var p=n+90+s;l.a=W.cosDeg(n+o)*i,l.c=W.cosDeg(p)*a,l.b=W.sinDeg(n+o)*i,l.d=W.sinDeg(p)*a;break}case st.NoRotationOrReflection:{var E=d*d+_*_,w=0;E>1e-4?(E=Math.abs(d*v-m*_)/E,d/=this.skeleton.scaleX,_/=this.skeleton.scaleY,m=_*E,v=d*E,w=Math.atan2(_,d)*W.radDeg):(d=0,_=0,w=90-Math.atan2(v,m)*W.radDeg);var S=n+o-w,C=n+s-w+90,g=W.cosDeg(S)*i,y=W.cosDeg(C)*a,x=W.sinDeg(S)*i,b=W.sinDeg(C)*a;l.a=d*g-m*x,l.c=d*y-m*b,l.b=_*g+v*x,l.d=_*y+v*b;break}case st.NoScale:case st.NoScaleOrReflection:{var T=W.cosDeg(n),I=W.sinDeg(n),A=(d*T+m*I)/u,R=(_*T+v*I)/c,E=Math.sqrt(A*A+R*R);E>1e-5&&(E=1/E),A*=E,R*=E,E=Math.sqrt(A*A+R*R),this.data.transformMode==st.NoScale&&d*v-m*_<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var O=Math.PI/2+Math.atan2(R,A),F=Math.cos(O)*E,k=Math.sin(O)*E,g=W.cosDeg(o)*i,y=W.cosDeg(90+s)*a,x=W.sinDeg(o)*i,b=W.sinDeg(90+s)*a;l.a=A*g+F*x,l.c=A*y+F*b,l.b=R*g+k*x,l.d=R*y+k*b;break}}l.a*=u,l.c*=u,l.b*=c,l.d*=c},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*W.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*W.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*W.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*W.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,f=i*n.a,l=i*n.c,u=i*n.b,c=s*r.a-l*r.b,h=s*r.c-l*r.d,p=f*r.b-u*r.a,d=f*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+p*p),this.ascaleX>1e-4){var m=c*d-h*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*h+p*d,m)*W.radDeg,this.arotation=Math.atan2(p,c)*W.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*W.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),f=e.x-r.tx,l=e.y-r.ty;return e.x=f*o*s-l*i*s,e.y=l*n*s-f*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*W.radDeg},t.prototype.localToWorldRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*W.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=W.cosDeg(e),f=W.sinDeg(e);r.a=s*n-f*a,r.c=s*i-f*o,r.b=f*n+s*a,r.d=f*i+s*o,this.appliedValid=!1},t}(),n2=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=st.Normal,this.skinRequired=!1,this.color=new Be,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),Ov=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),i2=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),a2=function(){function t(e){this.name=e}return t}(),v6=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var f=e.parent.matrix,l=f.a,u=f.c,c=f.b,h=f.d,p=-e.ashearX-e.arotation,d=0,m=0;switch(e.data.transformMode){case st.OnlyTranslation:d=r-e.worldX,m=n-e.worldY;break;case st.NoRotationOrReflection:var _=Math.abs(l*h-u*c)/(l*l+c*c),v=l/e.skeleton.scaleX,g=c/e.skeleton.scaleY;u=-g*_*e.skeleton.scaleX,h=v*_*e.skeleton.scaleY,p+=Math.atan2(g,v)*W.radDeg;default:var y=r-f.tx,x=n-f.ty,b=l*h-u*c;d=(y*h-x*u)/b-e.ax,m=(x*l-y*c)/b-e.ay}p+=Math.atan2(m,d)*W.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var E=e.ascaleX,w=e.ascaleY;if(i||a){switch(e.data.transformMode){case st.NoScale:case st.NoScaleOrReflection:d=r-e.worldX,m=n-e.worldY}var S=e.data.length*E,C=Math.sqrt(d*d+m*m);if(i&&C<S||a&&C>S&&S>1e-4){var _=(C/S-1)*s+1;E*=_,o&&(w*=_)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,E,w,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,f){if(f==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,u=e.ay,c=e.ascaleX,h=c,p=e.ascaleY,d=r.ascaleX,m=e.matrix,_=0,v=0,g=0;c<0?(c=-c,_=180,g=-1):(_=0,g=1),p<0&&(p=-p,g=-g),d<0?(d=-d,v=180):v=0;var y=r.ax,x=0,b=0,E=0,w=m.a,S=m.c,C=m.b,T=m.d,I=Math.abs(c-p)<=1e-4;I?(x=r.ay,b=w*y+S*x+m.tx,E=C*y+T*x+m.ty):(x=0,b=w*y+m.tx,E=C*y+m.ty);var A=e.parent.matrix;w=A.a,S=A.c,C=A.b,T=A.d;var R=1/(w*T-S*C),O=b-A.tx,F=E-A.ty,k=(O*T-F*S)*R-l,$=(F*w-O*C)*R-u,q=Math.sqrt(k*k+$*$),K=r.data.length*d,G,N;if(q<1e-4){this.apply1(e,n,i,!1,o,!1,f),r.updateWorldTransformWith(y,x,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}O=n-A.tx,F=i-A.ty;var j=(O*T-F*S)*R-l,M=(F*w-O*C)*R-u,D=j*j+M*M;if(s!=0){s*=c*(d+1)/2;var J=Math.sqrt(D),Q=J-q-K*c+s;if(Q>0){var se=Math.min(1,Q/(s*2))-1;se=(Q-s*(1-se*se))/J,j-=se*j,M-=se*M,D=j*j+M*M}}e:if(I){K*=c;var re=(D-q*q-K*K)/(2*q*K);re<-1?re=-1:re>1&&(re=1,o&&(h*=(Math.sqrt(D)/(q+K)-1)*f+1)),N=Math.acos(re)*a,w=q+K*re,S=K*Math.sin(N),G=Math.atan2(M*w-j*S,j*w+M*S)}else{w=c*K,S=p*K;var ue=w*w,Ee=S*S,xe=Math.atan2(M,j);C=Ee*q*q+ue*D-ue*Ee;var de=-2*Ee*q,pe=Ee-ue;if(T=de*de-4*pe*C,T>=0){var Ae=Math.sqrt(T);de<0&&(Ae=-Ae),Ae=-(de+Ae)/2;var Fe=Ae/pe,Te=C/Ae,ke=Math.abs(Fe)<Math.abs(Te)?Fe:Te;if(ke*ke<=D){F=Math.sqrt(D-ke*ke)*a,G=xe-Math.atan2(F,ke),N=Math.atan2(F/p,(ke-q)/c);break e}}var Ne=W.PI,Ze=q-w,ct=Ze*Ze,Je=0,qe=0,at=q+w,Tt=at*at,kt=0;C=-w*q/(ue-Ee),C>=-1&&C<=1&&(C=Math.acos(C),O=w*Math.cos(C)+q,F=S*Math.sin(C),T=O*O+F*F,T<ct&&(Ne=C,ct=T,Ze=O,Je=F),T>Tt&&(qe=C,Tt=T,at=O,kt=F)),D<=(ct+Tt)/2?(G=xe-Math.atan2(Je*a,Ze),N=Ne*a):(G=xe-Math.atan2(kt*a,at),N=qe*a)}var At=Math.atan2(x,y)*g,It=e.arotation;G=(G-At)*W.radDeg+_-It,G>180?G-=360:G<-180&&(G+=360),e.updateWorldTransformWith(l,u,It+G*f,h,e.ascaleY,0,0),It=r.arotation,N=((N+At)*W.radDeg-r.ashearX)*g+v-It,N>180?N-=360:N<-180&&(N+=360),r.updateWorldTransformWith(y,x,It+N*f,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),o2=function(t){cr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(Ov),s2=function(t){cr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(Ov),jr;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(jr||(jr={}));var m6=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Dc){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,f=s==jr.Length,l=o.rotateMode,u=l==yr.Tangent,c=l==yr.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,m=oe.setArraySize(this.spaces,p),_=null,v=this.spacing;if(c||f){c&&(_=oe.setArraySize(this.lengths,h));for(var g=0,y=p-1;g<y;){var x=d[g],b=x.data.length;if(b<t.epsilon)c&&(_[g]=0),m[++g]=0;else{var E=b*x.matrix.a,w=b*x.matrix.b,S=Math.sqrt(E*E+w*w);c&&(_[g]=S),m[++g]=(f?b+v:v)*S/b}}}else for(var g=1;g<p;g++)m[g]=v;var C=this.computeWorldPositions(e,p,u,o.positionMode==ur.Percent,s==jr.Percent),T=C[0],I=C[1],A=o.offsetRotation,R=!1;if(A==0)R=l==yr.Chain;else{R=!1;var O=this.target.bone.matrix;A*=O.a*O.d-O.b*O.c>0?W.degRad:-W.degRad}for(var g=0,O=3;g<h;g++,O+=3){var x=d[g],F=x.matrix;F.tx+=(T-F.tx)*n,F.ty+=(I-F.ty)*n;var E=C[O],w=C[O+1],k=E-T,$=w-I;if(c){var q=_[g];if(q!=0){var K=(Math.sqrt(k*k+$*$)/q-1)*r+1;F.a*=K,F.b*=K}}if(T=E,I=w,a){var G=F.a,N=F.c,j=F.b,M=F.d,D=0,J=0,Q=0;if(u?D=C[O-1]:m[g+1]==0?D=C[O+2]:D=Math.atan2($,k),D-=Math.atan2(j,G),R){J=Math.cos(D),Q=Math.sin(D);var se=x.data.length;T+=(se*(J*G-Q*j)-k)*r,I+=(se*(Q*G+J*j)-$)*r}else D+=A;D>W.PI?D-=W.PI2:D<-W.PI&&(D+=W.PI2),D*=r,J=Math.cos(D),Q=Math.sin(D),F.a=J*G-Q*j,F.c=J*N-Q*M,F.b=Q*G+J*j,F.d=Q*N+J*M}x.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,f=this.spaces,l=oe.setArraySize(this.positions,r*3+2),u=null,c=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var m=e.lengths;p-=c?1:2;var _=m[p];if(i&&(s*=_),a)for(var v=0;v<r;v++)f[v]*=_;u=oe.setArraySize(this.world,8);for(var v=0,g=0,y=0;v<r;v++,g+=3){var x=f[v];s+=x;var b=s;if(c)b%=_,b<0&&(b+=_),y=0;else if(b<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,g);continue}else if(b>_){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-_,u,0,l,g);continue}for(;;y++){var E=m[y];if(!(b>E)){if(y==0)b/=E;else{var w=m[y-1];b=(b-w)/(E-w)}break}}y!=d&&(d=y,c&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,g,n||v>0&&x==0)}return l}c?(h+=2,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var S=oe.setArraySize(this.curves,p),C=0,T=u[0],I=u[1],A=0,R=0,O=0,F=0,k=0,$=0,q=0,K=0,G=0,N=0,j=0,M=0,D=0,J=0,v=0,Q=2;v<p;v++,Q+=6)A=u[Q],R=u[Q+1],O=u[Q+2],F=u[Q+3],k=u[Q+4],$=u[Q+5],q=(T-A*2+O)*.1875,K=(I-R*2+F)*.1875,G=((A-O)*3-T+k)*.09375,N=((R-F)*3-I+$)*.09375,j=q*2+G,M=K*2+N,D=(A-T)*.75+q+G*.16666667,J=(R-I)*.75+K+N*.16666667,C+=Math.sqrt(D*D+J*J),D+=j,J+=M,j+=G,M+=N,C+=Math.sqrt(D*D+J*J),D+=j,J+=M,C+=Math.sqrt(D*D+J*J),D+=j+G,J+=M+N,C+=Math.sqrt(D*D+J*J),S[v]=C,T=k,I=$;if(i&&(s*=C),a)for(var v=0;v<r;v++)f[v]*=C;for(var se=this.segments,re=0,v=0,g=0,y=0,ue=0;v<r;v++,g+=3){var x=f[v];s+=x;var b=s;if(c)b%=C,b<0&&(b+=C),y=0;else if(b<0){this.addBeforePosition(b,u,0,l,g);continue}else if(b>C){this.addAfterPosition(b-C,u,h-4,l,g);continue}for(;;y++){var Ee=S[y];if(!(b>Ee)){if(y==0)b/=Ee;else{var w=S[y-1];b=(b-w)/(Ee-w)}break}}if(y!=d){d=y;var xe=y*6;for(T=u[xe],I=u[xe+1],A=u[xe+2],R=u[xe+3],O=u[xe+4],F=u[xe+5],k=u[xe+6],$=u[xe+7],q=(T-A*2+O)*.03,K=(I-R*2+F)*.03,G=((A-O)*3-T+k)*.006,N=((R-F)*3-I+$)*.006,j=q*2+G,M=K*2+N,D=(A-T)*.3+q+G*.16666667,J=(R-I)*.3+K+N*.16666667,re=Math.sqrt(D*D+J*J),se[0]=re,xe=1;xe<8;xe++)D+=j,J+=M,j+=G,M+=N,re+=Math.sqrt(D*D+J*J),se[xe]=re;D+=j,J+=M,re+=Math.sqrt(D*D+J*J),se[8]=re,D+=j+G,J+=M+N,re+=Math.sqrt(D*D+J*J),se[9]=re,ue=0}for(b*=re;;ue++){var de=se[ue];if(!(b>de)){if(ue==0)b/=de;else{var w=se[ue-1];b=ue+(b-w)/(de-w)}break}}this.addCurvePosition(b*.1,T,I,A,R,O,F,k,$,l,g,n||v>0&&x==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],f=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],f=o-r[n],l=s-r[n+1],u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,f,l,u,c,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,m=1-e,_=m*m,v=_*m,g=m*e,y=g*3,x=m*y,b=y*e,E=r*v+i*x+o*b+f*d,w=n*v+a*x+s*b+l*d;u[c]=E,u[c+1]=w,h&&(u[c+2]=Math.atan2(w-(n*_+a*g*2+s*p),E-(r*_+i*g*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),g6=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Mc,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,f=o.c,l=o.b,u=o.d,c=s*u-f*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,E=y.b,w=y.d,S=Math.atan2(l,s)-Math.atan2(E,x)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*E,y.c=C*b-T*w,y.b=T*x+C*E,y.d=T*b+C*w,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=(I.x-y.tx)*r,y.ty+=(I.y-y.ty)*r,g=!0}if(n>0){var A=Math.sqrt(y.a*y.a+y.b*y.b),R=Math.sqrt(s*s+l*l);A>1e-5&&(A=(A+(R-A+this.data.offsetScaleX)*n)/A),y.a*=A,y.b*=A,A=Math.sqrt(y.c*y.c+y.d*y.d),R=Math.sqrt(f*f+u*u),A>1e-5&&(A=(A+(R-A+this.data.offsetScaleY)*n)/A),y.c*=A,y.d*=A,g=!0}if(i>0){var b=y.c,w=y.d,O=Math.atan2(w,b),S=Math.atan2(u,f)-Math.atan2(l,s)-(O-Math.atan2(y.b,y.a));S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S=O+(S+p)*i;var A=Math.sqrt(b*b+w*w);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,f=o.c,l=o.b,u=o.d,c=s*u-f*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,E=y.b,w=y.d,S=Math.atan2(l,s)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*E,y.c=C*b-T*w,y.b=T*x+C*E,y.d=T*b+C*w,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=I.x*r,y.ty+=I.y*r,g=!0}if(n>0){var A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=A,y.b*=A,A=(Math.sqrt(f*f+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=A,y.d*=A,g=!0}if(i>0){var S=Math.atan2(u,f)-Math.atan2(l,s);S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2);var b=y.c,w=y.d;S=Math.atan2(w,b)+(S-W.PI/2+p)*i;var A=Math.sqrt(b*b+w*w);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,f=o.length;s<f;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var c=a.arotation-u+this.data.offsetRotation;c-=(16384-(16384.499999999996-c/360|0))*360,u+=c*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,m=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),m>1e-5&&(m=(m+(a.ascaleY-m+this.data.offsetScaleY)*n)/m));var _=l.ashearY;if(i>0){var c=a.ashearY-_+this.data.offsetShearY;c-=(16384-(16384.499999999996-c/360|0))*360,l.shearY+=c*i}l.updateWorldTransformWith(h,p,u,d,m,l.ashearX,_)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,f=o.length;s<f;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var c=l.ax,h=l.ay;r!=0&&(c+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var m=l.ashearY;i>0&&(m+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(c,h,u,p,d,l.ashearX,m)}},t}(),_6=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new bb(n,this,null);else{var a=this.bones[n.parent.index];i=new bb(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new KS(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var f=e.ikConstraints[r];this.ikConstraints.push(new v6(f,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new g6(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new m6(u,this))}this.color=new Be(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,f=this.transformConstraints,l=this.pathConstraints,u=s.length,c=f.length,h=l.length,p=u+c+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var m=s[d];if(m.data.order==n){this.sortIkConstraint(m);continue e}}for(var d=0;d<c;d++){var m=f[d];if(m.data.order==n){this.sortTransformConstraint(m);continue e}}for(var d=0;d<h;d++){var m=l[d];if(m.data.order==n){this.sortPathConstraint(m);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Dc&&this.sortPathConstraintAttachmentWith(s,i);for(var f=e.bones,l=f.length,a=0;a<l;a++)this.sortBone(f[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(f[a].children);for(var a=0;a<l;a++)f[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Dc){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var f=n[a];this.sortBone(i[f])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var f=this.pathConstraints,r=0,n=f.length;r<n;r++){var a=f[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;oe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var c=i[l];if(c.bone.active){var h=0,p=null,d=c.getAttachment();if(d instanceof ZS)h=8,p=oe.setArraySize(n,h,0),d.computeWorldVertices(c.bone,p,0,2);else if(d instanceof Rv){var m=d;h=m.worldVerticesLength,p=oe.setArraySize(n,h,0),m.computeWorldVertices(c,0,h,p,0,2)}if(p!=null)for(var _=0,v=p.length;_<v;_+=2){var g=p[_],y=p[_+1];a=Math.min(a,g),o=Math.min(o,y),s=Math.max(s,g),f=Math.max(f,y)}}}e.set(a,o),r.set(s-a,f-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),l2=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),u2=function(){function t(e,r,n){if(this.color=new Be(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),f2=function(t){cr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(Ov),Eb=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),$0=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var f=s[r];this.setAttachment(f.slotIndex,f.name,f.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var f=s[r];f.attachment!=null&&(f.attachment instanceof Rv?(f.attachment=f.attachment.newLinkedMesh(),this.setAttachment(f.slotIndex,f.name,f.attachment)):(f.attachment=f.attachment.copy(),this.setAttachment(f.slotIndex,f.name,f.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new Eb(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new Eb(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var f in s){var l=s[f];if(o==l){var u=this.getAttachment(n,f);u!=null&&a.setAttachment(u);break}}}n++}},t}(),y6=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new l2;n.name="";var i=new j0(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var f=0;f<s;f++)i.strings.push(i.readString());s=i.readInt(!0);for(var f=0;f<s;f++){var l=i.readString(),u=f==0?null:n.bones[i.readInt(!0)],c=new n2(f,l,u);c.rotation=i.readFloat(),c.x=i.readFloat()*r,c.y=i.readFloat()*r,c.scaleX=i.readFloat(),c.scaleY=i.readFloat(),c.shearX=i.readFloat(),c.shearY=i.readFloat(),c.length=i.readFloat()*r,c.transformMode=t.TransformModeValues[i.readInt(!0)],c.skinRequired=i.readBoolean(),o&&Be.rgba8888ToColor(c.color,i.readInt32()),n.bones.push(c)}s=i.readInt(!0);for(var f=0;f<s;f++){var h=i.readString(),p=n.bones[i.readInt(!0)],c=new u2(f,h,p);Be.rgba8888ToColor(c.color,i.readInt32());var d=i.readInt32();d!=-1&&Be.rgb888ToColor(c.darkColor=new Be,d),c.attachmentName=i.readStringRef(),c.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(c)}s=i.readInt(!0);for(var f=0,m=void 0;f<s;f++){var c=new o2(i.readString());c.order=i.readInt(!0),c.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var _=0;_<m;_++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.bones[i.readInt(!0)],c.mix=i.readFloat(),c.softness=i.readFloat()*r,c.bendDirection=i.readByte(),c.compress=i.readBoolean(),c.stretch=i.readBoolean(),c.uniform=i.readBoolean(),n.ikConstraints.push(c)}s=i.readInt(!0);for(var f=0,m=void 0;f<s;f++){var c=new f2(i.readString());c.order=i.readInt(!0),c.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var _=0;_<m;_++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.bones[i.readInt(!0)],c.local=i.readBoolean(),c.relative=i.readBoolean(),c.offsetRotation=i.readFloat(),c.offsetX=i.readFloat()*r,c.offsetY=i.readFloat()*r,c.offsetScaleX=i.readFloat(),c.offsetScaleY=i.readFloat(),c.offsetShearY=i.readFloat(),c.rotateMix=i.readFloat(),c.translateMix=i.readFloat(),c.scaleMix=i.readFloat(),c.shearMix=i.readFloat(),n.transformConstraints.push(c)}s=i.readInt(!0);for(var f=0,m=void 0;f<s;f++){var c=new s2(i.readString());c.order=i.readInt(!0),c.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var _=0;_<m;_++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.slots[i.readInt(!0)],c.positionMode=t.PositionModeValues[i.readInt(!0)],c.spacingMode=t.SpacingModeValues[i.readInt(!0)],c.rotateMode=t.RotateModeValues[i.readInt(!0)],c.offsetRotation=i.readFloat(),c.position=i.readFloat(),c.positionMode==ur.Fixed&&(c.position*=r),c.spacing=i.readFloat(),(c.spacingMode==jr.Length||c.spacingMode==jr.Fixed)&&(c.spacing*=r),c.rotateMix=i.readFloat(),c.translateMix=i.readFloat(),n.pathConstraints.push(c)}var v=this.readSkin(i,n,!0,o);v!=null&&(n.defaultSkin=v,n.skins.push(v));{var f=n.skins.length;for(oe.setArraySize(n.skins,s=f+i.readInt(!0));f<s;f++)n.skins[f]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var f=0;f<s;f++){var g=this.linkedMeshes[f],y=g.skin==null?n.defaultSkin:n.findSkin(g.skin);if(y==null)throw new Error("Skin not found: "+g.skin);var x=y.getAttachment(g.slotIndex,g.parent);if(x==null)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?x:g.mesh,g.mesh.setParentMesh(x)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var f=0;f<s;f++){var c=new a2(i.readStringRef());c.intValue=i.readInt(!1),c.floatValue=i.readFloat(),c.stringValue=i.readString(),c.audioPath=i.readString(),c.audioPath!=null&&(c.volume=i.readFloat(),c.balance=i.readFloat()),n.events.push(c)}s=i.readInt(!0);for(var f=0;f<s;f++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new $0("default")}else{a=new $0(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,f=a.bones.length;s<f;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,f=e.readInt(!0);s<f;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,f=e.readInt(!0);s<f;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,f=e.readInt(!0);s<f;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),u=0,c=e.readInt(!0);u<c;u++){var h=e.readStringRef(),p=this.readAttachment(e,r,a,l,h,i);p!=null&&a.setAttachment(l,h,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,f=e.readStringRef();f==null&&(f=a);var l=e.readByte(),u=t.AttachmentTypeValues[l];switch(u){case vt.Region:{var c=e.readStringRef(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),m=e.readFloat(),_=e.readFloat(),v=e.readFloat(),g=e.readFloat(),y=e.readInt32();c==null&&(c=f);var x=this.attachmentLoader.newRegionAttachment(n,f,c);return x==null?null:(x.path=c,x.x=p*s,x.y=d*s,x.scaleX=m,x.scaleY=_,x.rotation=h,x.width=v*s,x.height=g*s,Be.rgba8888ToColor(x.color,y),x)}case vt.BoundingBox:{var b=e.readInt(!0),E=this.readVertices(e,b),y=o?e.readInt32():0,w=this.attachmentLoader.newBoundingBoxAttachment(n,f);return w==null?null:(w.worldVerticesLength=b<<1,w.vertices=E.vertices,w.bones=E.bones,o&&Be.rgba8888ToColor(w.color,y),w)}case vt.Mesh:{var c=e.readStringRef(),y=e.readInt32(),b=e.readInt(!0),S=this.readFloatArray(e,b<<1,1),C=this.readShortArray(e),E=this.readVertices(e,b),T=e.readInt(!0),I=null,v=0,g=0;o&&(I=this.readShortArray(e),v=e.readFloat(),g=e.readFloat()),c==null&&(c=f);var A=this.attachmentLoader.newMeshAttachment(n,f,c);return A==null?null:(A.path=c,Be.rgba8888ToColor(A.color,y),A.bones=E.bones,A.vertices=E.vertices,A.worldVerticesLength=b<<1,A.triangles=C,A.regionUVs=new Float32Array(S),A.hullLength=T<<1,o&&(A.edges=I,A.width=v*s,A.height=g*s),A)}case vt.LinkedMesh:{var c=e.readStringRef(),y=e.readInt32(),R=e.readStringRef(),O=e.readStringRef(),F=e.readBoolean(),v=0,g=0;o&&(v=e.readFloat(),g=e.readFloat()),c==null&&(c=f);var A=this.attachmentLoader.newMeshAttachment(n,f,c);return A==null?null:(A.path=c,Be.rgba8888ToColor(A.color,y),o&&(A.width=v*s,A.height=g*s),this.linkedMeshes.push(new iEe(A,R,i,O,F)),A)}case vt.Path:{for(var k=e.readBoolean(),$=e.readBoolean(),b=e.readInt(!0),E=this.readVertices(e,b),q=oe.newArray(b/3,0),K=0,G=q.length;K<G;K++)q[K]=e.readFloat()*s;var y=o?e.readInt32():0,c=this.attachmentLoader.newPathAttachment(n,f);return c==null?null:(c.closed=k,c.constantSpeed=$,c.worldVerticesLength=b<<1,c.vertices=E.vertices,c.bones=E.bones,c.lengths=q,o&&Be.rgba8888ToColor(c.color,y),c)}case vt.Point:{var h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),y=o?e.readInt32():0,N=this.attachmentLoader.newPointAttachment(n,f);return N==null?null:(N.x=p*s,N.y=d*s,N.rotation=h,o&&Be.rgba8888ToColor(N.color,y),N)}case vt.Clipping:{var j=e.readInt(!0),b=e.readInt(!0),E=this.readVertices(e,b),y=o?e.readInt32():0,M=this.attachmentLoader.newClippingAttachment(n,f);return M==null?null:(M.endSlot=r.slots[j],M.worldVerticesLength=b<<1,M.vertices=E.vertices,M.bones=E.bones,o&&Be.rgba8888ToColor(M.color,y),M)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new aEe,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,f=0;f<r;f++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=oe.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new Be,f=new Be,l=0,u=e.readInt(!0);l<u;l++)for(var c=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),m=e.readInt(!0);switch(d){case t.SLOT_ATTACHMENT:{var _=new ps(m);_.slotIndex=c;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readStringRef());i.push(_),o=Math.max(o,_.frames[m-1]);break}case t.SLOT_COLOR:{var _=new Uc(m);_.slotIndex=c;for(var v=0;v<m;v++){var g=e.readFloat();Be.rgba8888ToColor(s,e.readInt32()),_.setFrame(v,g,s.r,s.g,s.b,s.a),v<m-1&&this.readCurve(e,v,_)}i.push(_),o=Math.max(o,_.frames[(m-1)*Uc.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var _=new jc(m);_.slotIndex=c;for(var v=0;v<m;v++){var g=e.readFloat();Be.rgba8888ToColor(s,e.readInt32()),Be.rgb888ToColor(f,e.readInt32()),_.setFrame(v,g,s.r,s.g,s.b,s.a,f.r,f.g,f.b),v<m-1&&this.readCurve(e,v,_)}i.push(_),o=Math.max(o,_.frames[(m-1)*jc.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var y=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),m=e.readInt(!0);switch(d){case t.BONE_ROTATE:{var _=new ti(m);_.boneIndex=y;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*ti.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var _=void 0,x=1;d==t.BONE_SCALE?_=new JS(m):d==t.BONE_SHEAR?_=new QS(m):(_=new Ps(m),x=a),_.boneIndex=y;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat()*x,e.readFloat()*x),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Ps.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),m=e.readInt(!0),_=new $c(m);_.ikConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*$c.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++){var b=e.readInt(!0),m=e.readInt(!0),_=new Vc(m);_.transformConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Vc.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++)for(var b=e.readInt(!0),E=n.pathConstraints[b],h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),m=e.readInt(!0);switch(d){case t.PATH_POSITION:case t.PATH_SPACING:{var _=void 0,x=1;d==t.PATH_SPACING?(_=new t2(m),(E.spacingMode==jr.Length||E.spacingMode==jr.Fixed)&&(x=a)):(_=new fu(m),E.positionMode==ur.Fixed&&(x=a)),_.pathConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat()*x),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*fu.ENTRIES]);break}case t.PATH_MIX:{var _=new Gc(m);_.pathConstraintIndex=b;for(var v=0;v<m;v++)_.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat()),v<m-1&&this.readCurve(e,v,_);i.push(_),o=Math.max(o,_.frames[(m-1)*Gc.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var w=n.skins[e.readInt(!0)],h=0,p=e.readInt(!0);h<p;h++)for(var c=e.readInt(!0),S=0,C=e.readInt(!0);S<C;S++){var T=w.getAttachment(c,e.readStringRef()),I=T.bones!=null,A=T.vertices,R=I?A.length/3*2:A.length,m=e.readInt(!0),_=new e2(m);_.slotIndex=c,_.attachment=T;for(var v=0;v<m;v++){var g=e.readFloat(),O=void 0,F=e.readInt(!0);if(F==0)O=I?oe.newFloatArray(R):A;else{O=oe.newFloatArray(R);var k=e.readInt(!0);if(F+=k,a==1)for(var $=k;$<F;$++)O[$]=e.readFloat();else for(var $=k;$<F;$++)O[$]=e.readFloat()*a;if(!I)for(var $=0,q=O.length;$<q;$++)O[$]+=A[$]}_.setFrame(v,g,O),v<m-1&&this.readCurve(e,v,_)}i.push(_),o=Math.max(o,_.frames[m-1])}var K=e.readInt(!0);if(K>0){for(var _=new Gl(K),G=n.slots.length,l=0;l<K;l++){for(var g=e.readFloat(),N=e.readInt(!0),j=oe.newArray(G,0),h=G-1;h>=0;h--)j[h]=-1;for(var M=oe.newArray(G-N,0),D=0,J=0,h=0;h<N;h++){for(var c=e.readInt(!0);D!=c;)M[J++]=D++;j[D+e.readInt(!0)]=D++}for(;D<G;)M[J++]=D++;for(var h=G-1;h>=0;h--)j[h]==-1&&(j[h]=M[--J]);_.setFrame(l,g,j)}i.push(_),o=Math.max(o,_.frames[K-1])}var Q=e.readInt(!0);if(Q>0){for(var _=new Pv(Q),l=0;l<Q;l++){var g=e.readFloat(),se=n.events[e.readInt(!0)],re=new i2(g,se);re.intValue=e.readInt(!1),re.floatValue=e.readFloat(),re.stringValue=e.readBoolean()?e.readString():se.stringValue,re.data.audioPath!=null&&(re.volume=e.readFloat(),re.balance=e.readFloat()),_.setFrame(l,re)}i.push(_),o=Math.max(o,_.frames[Q-1])}return new Tr(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[st.Normal,st.OnlyTranslation,st.NoRotationOrReflection,st.NoScale,st.NoScaleOrReflection],t.PositionModeValues=[ur.Fixed,ur.Percent],t.SpacingModeValues=[jr.Length,jr.Fixed,jr.Percent],t.RotateModeValues=[yr.Tangent,yr.Chain,yr.ChainScale],t.BlendModeValues=[je.NORMAL,je.ADD,je.MULTIPLY,je.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),iEe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),aEe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),oEe=function(t){cr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(YS),x6=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new l2,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var f=i.bones[s],l=null,u=this.getValue(f,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var c=new n2(n.bones.length,f.name,l);c.length=this.getValue(f,"length",0)*r,c.x=this.getValue(f,"x",0)*r,c.y=this.getValue(f,"y",0)*r,c.rotation=this.getValue(f,"rotation",0),c.scaleX=this.getValue(f,"scaleX",1),c.scaleY=this.getValue(f,"scaleY",1),c.shearX=this.getValue(f,"shearX",0),c.shearY=this.getValue(f,"shearY",0),c.transformMode=t.transformModeFromString(this.getValue(f,"transform","normal")),c.skinRequired=this.getValue(f,"skin",!1),n.bones.push(c)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],p=h.name,d=h.bone,m=n.findBone(d);if(m==null)throw new Error("Slot bone not found: "+d);var c=new u2(n.slots.length,p,m),_=this.getValue(h,"color",null);_!=null&&c.color.setFromString(_);var v=this.getValue(h,"dark",null);v!=null&&(c.darkColor=new Be(1,1,1,1),c.darkColor.setFromString(v)),c.attachmentName=this.getValue(h,"attachment",null),c.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(c)}if(i.ik)for(var s=0;s<i.ik.length;s++){var g=i.ik[s],c=new o2(g.name);c.order=this.getValue(g,"order",0),c.skinRequired=this.getValue(g,"skin",!1);for(var y=0;y<g.bones.length;y++){var d=g.bones[y],x=n.findBone(d);if(x==null)throw new Error("IK bone not found: "+d);c.bones.push(x)}var b=g.target;if(c.target=n.findBone(b),c.target==null)throw new Error("IK target bone not found: "+b);c.mix=this.getValue(g,"mix",1),c.softness=this.getValue(g,"softness",0)*r,c.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,c.compress=this.getValue(g,"compress",!1),c.stretch=this.getValue(g,"stretch",!1),c.uniform=this.getValue(g,"uniform",!1),n.ikConstraints.push(c)}if(i.transform)for(var s=0;s<i.transform.length;s++){var g=i.transform[s],c=new f2(g.name);c.order=this.getValue(g,"order",0),c.skinRequired=this.getValue(g,"skin",!1);for(var y=0;y<g.bones.length;y++){var d=g.bones[y],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);c.bones.push(x)}var b=g.target;if(c.target=n.findBone(b),c.target==null)throw new Error("Transform constraint target bone not found: "+b);c.local=this.getValue(g,"local",!1),c.relative=this.getValue(g,"relative",!1),c.offsetRotation=this.getValue(g,"rotation",0),c.offsetX=this.getValue(g,"x",0)*r,c.offsetY=this.getValue(g,"y",0)*r,c.offsetScaleX=this.getValue(g,"scaleX",0),c.offsetScaleY=this.getValue(g,"scaleY",0),c.offsetShearY=this.getValue(g,"shearY",0),c.rotateMix=this.getValue(g,"rotateMix",1),c.translateMix=this.getValue(g,"translateMix",1),c.scaleMix=this.getValue(g,"scaleMix",1),c.shearMix=this.getValue(g,"shearMix",1),n.transformConstraints.push(c)}if(i.path)for(var s=0;s<i.path.length;s++){var g=i.path[s],c=new s2(g.name);c.order=this.getValue(g,"order",0),c.skinRequired=this.getValue(g,"skin",!1);for(var y=0;y<g.bones.length;y++){var d=g.bones[y],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);c.bones.push(x)}var b=g.target;if(c.target=n.findSlot(b),c.target==null)throw new Error("Path target slot not found: "+b);c.positionMode=t.positionModeFromString(this.getValue(g,"positionMode","percent")),c.spacingMode=t.spacingModeFromString(this.getValue(g,"spacingMode","length")),c.rotateMode=t.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),c.offsetRotation=this.getValue(g,"rotation",0),c.position=this.getValue(g,"position",0),c.positionMode==ur.Fixed&&(c.position*=r),c.spacing=this.getValue(g,"spacing",0),(c.spacingMode==jr.Length||c.spacingMode==jr.Fixed)&&(c.spacing*=r),c.rotateMix=this.getValue(g,"rotateMix",1),c.translateMix=this.getValue(g,"translateMix",1),n.pathConstraints.push(c)}if(i.skins)for(var s=0;s<i.skins.length;s++){var E=i.skins[s],w=new $0(E.name);if(E.bones)for(var S=0;S<E.bones.length;S++){var x=n.findBone(E.bones[S]);if(x==null)throw new Error("Skin bone not found: "+E.bones[s]);w.bones.push(x)}if(E.ik)for(var S=0;S<E.ik.length;S++){var C=n.findIkConstraint(E.ik[S]);if(C==null)throw new Error("Skin IK constraint not found: "+E.ik[s]);w.constraints.push(C)}if(E.transform)for(var S=0;S<E.transform.length;S++){var C=n.findTransformConstraint(E.transform[S]);if(C==null)throw new Error("Skin transform constraint not found: "+E.transform[s]);w.constraints.push(C)}if(E.path)for(var S=0;S<E.path.length;S++){var C=n.findPathConstraint(E.path[S]);if(C==null)throw new Error("Skin path constraint not found: "+E.path[s]);w.constraints.push(C)}for(var p in E.attachments){var T=n.findSlot(p);if(T==null)throw new Error("Slot not found: "+p);var h=E.attachments[p];for(var I in h){var A=this.readAttachment(h[I],w,T.index,I,n);A!=null&&w.setAttachment(T.index,I,A)}}n.skins.push(w),w.name=="default"&&(n.defaultSkin=w)}for(var s=0,R=this.linkedMeshes.length;s<R;s++){var O=this.linkedMeshes[s],w=O.skin==null?n.defaultSkin:n.findSkin(O.skin);if(w==null)throw new Error("Skin not found: "+O.skin);var F=w.getAttachment(O.slotIndex,O.parent);if(F==null)throw new Error("Parent mesh not found: "+O.parent);O.mesh.deformAttachment=O.inheritDeform?F:O.mesh,O.mesh.setParentMesh(F)}if(this.linkedMeshes.length=0,i.events)for(var k in i.events){var $=i.events[k],c=new a2(k);c.intValue=this.getValue($,"int",0),c.floatValue=this.getValue($,"float",0),c.stringValue=this.getValue($,"string",""),c.audioPath=this.getValue($,"audio",null),c.audioPath!=null&&(c.volume=this.getValue($,"volume",1),c.balance=this.getValue($,"balance",0)),n.events.push(c)}if(i.animations)for(var q in i.animations){var K=i.animations[q];this.readAnimation(K,q,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var f=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,f);if(l==null)return null;l.path=f,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var c=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(c==null)return null;this.readVertices(e,c,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"mesh":case"linkedmesh":{var f=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,f);if(h==null)return null;h.path=f;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var p=this.getValue(e,"parent",null);if(p!=null)return this.linkedMeshes.push(new sEe(h,this.getValue(e,"skin",null),n,p,this.getValue(e,"deform",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var f=this.attachmentLoader.newPathAttachment(r,i);if(f==null)return null;f.closed=this.getValue(e,"closed",!1),f.constantSpeed=this.getValue(e,"constantSpeed",!0);var m=e.vertexCount;this.readVertices(e,f,m<<1);for(var _=oe.newArray(m/3,0),v=0;v<e.lengths.length;v++)_[v]=e.lengths[v]*o;f.lengths=_;var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(g==null)return null;g.x=this.getValue(e,"x",0)*o,g.y=this.getValue(e,"y",0)*o,g.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&g.color.setFromString(u),g}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var x=this.getValue(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);y.endSlot=b}var m=e.vertexCount;this.readVertices(e,y,m<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=oe.toFloatArray(a);if(i!=1)for(var s=0,f=a.length;s<f;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,f=a.length;s<f;){var c=a[s++];u.push(c);for(var h=s+c*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=oe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var f=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in f){var c=f[u];if(u=="attachment"){var h=new ps(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p++,this.getValue(m,"time",0),m.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new Uc(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d],_=new Be;_.setFromString(m.color||"ffffffff"),h.setFrame(p,this.getValue(m,"time",0),_.r,_.g,_.b,_.a),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Uc.ENTRIES])}else if(u=="twoColor"){var h=new jc(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d],v=new Be,g=new Be;v.setFromString(m.light),g.setFromString(m.dark),h.setFrame(p,this.getValue(m,"time",0),v.r,v.g,v.b,v.a,g.r,g.g,g.b),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*jc.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var x=e.bones[y],b=n.findBoneIndex(y);if(b==-1)throw new Error("Bone not found: "+y);for(var u in x){var c=x[u];if(u==="rotate"){var h=new ti(c.length);h.boneIndex=b;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"angle",0)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*ti.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1,w=0;u==="scale"?(h=new JS(c.length),w=1):u==="shear"?h=new QS(c.length):(h=new Ps(c.length),E=i),h.boneIndex=b;for(var p=0,d=0;d<c.length;d++){var m=c[d],S=this.getValue(m,"x",w),C=this.getValue(m,"y",w);h.setFrame(p,this.getValue(m,"time",0),S*E,C*E),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ps.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var T in e.ik){var I=e.ik[T],A=n.findIkConstraint(T),h=new $c(I.length);h.ikConstraintIndex=n.ikConstraints.indexOf(A);for(var p=0,d=0;d<I.length;d++){var m=I[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"mix",1),this.getValue(m,"softness",0)*i,this.getValue(m,"bendPositive",!0)?1:-1,this.getValue(m,"compress",!1),this.getValue(m,"stretch",!1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*$c.ENTRIES])}if(e.transform)for(var T in e.transform){var I=e.transform[T],A=n.findTransformConstraint(T),h=new Vc(I.length);h.transformConstraintIndex=n.transformConstraints.indexOf(A);for(var p=0,d=0;d<I.length;d++){var m=I[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1),this.getValue(m,"scaleMix",1),this.getValue(m,"shearMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Vc.ENTRIES])}if(e.path)for(var T in e.path){var I=e.path[T],R=n.findPathConstraintIndex(T);if(R==-1)throw new Error("Path constraint not found: "+T);var O=n.pathConstraints[R];for(var u in I){var c=I[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new t2(c.length),(O.spacingMode==jr.Length||O.spacingMode==jr.Fixed)&&(E=i)):(h=new fu(c.length),O.positionMode==ur.Fixed&&(E=i)),h.pathConstraintIndex=R;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,u,0)*E),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*fu.ENTRIES])}else if(u==="mix"){var h=new Gc(c.length);h.pathConstraintIndex=R;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,this.getValue(m,"time",0),this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Gc.ENTRIES])}}}if(e.deform)for(var F in e.deform){var k=e.deform[F],$=n.findSkin(F);if($!=null)for(var s in k){var f=k[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+f.name);for(var u in f){var c=f[u],q=$.getAttachment(l,u);if(q==null)throw new Error("Deform attachment not found: "+c.name);var K=q.bones!=null,G=q.vertices,N=K?G.length/3*2:G.length,h=new e2(c.length);h.slotIndex=l,h.attachment=q;for(var p=0,j=0;j<c.length;j++){var m=c[j],M=void 0,D=this.getValue(m,"vertices",null);if(D==null)M=K?oe.newFloatArray(N):G;else{M=oe.newFloatArray(N);var J=this.getValue(m,"offset",0);if(oe.arrayCopy(D,0,M,J,D.length),i!=1)for(var d=J,Q=d+D.length;d<Q;d++)M[d]*=i;if(!K)for(var d=0;d<N;d++)M[d]+=G[d]}h.setFrame(p,this.getValue(m,"time",0),M),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var se=e.drawOrder;if(se==null&&(se=e.draworder),se!=null){for(var h=new Gl(se.length),re=n.slots.length,p=0,j=0;j<se.length;j++){var ue=se[j],Ee=null,xe=this.getValue(ue,"offsets",null);if(xe!=null){Ee=oe.newArray(re,-1);for(var de=oe.newArray(re-xe.length,0),pe=0,Ae=0,d=0;d<xe.length;d++){var Fe=xe[d],l=n.findSlotIndex(Fe.slot);if(l==-1)throw new Error("Slot not found: "+Fe.slot);for(;pe!=l;)de[Ae++]=pe++;Ee[pe+Fe.offset]=pe++}for(;pe<re;)de[Ae++]=pe++;for(var d=re-1;d>=0;d--)Ee[d]==-1&&(Ee[d]=de[--Ae])}h.setFrame(p++,this.getValue(ue,"time",0),Ee)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new Pv(e.events.length),p=0,d=0;d<e.events.length;d++){var Te=e.events[d],ke=n.findEvent(Te.name);if(ke==null)throw new Error("Event not found: "+Te.name);var Ne=new i2(oe.toSinglePrecision(this.getValue(Te,"time",0)),ke);Ne.intValue=this.getValue(Te,"int",ke.intValue),Ne.floatValue=this.getValue(Te,"float",ke.floatValue),Ne.stringValue=this.getValue(Te,"string",ke.stringValue),Ne.data.audioPath!=null&&(Ne.volume=this.getValue(Te,"volume",1),Ne.balance=this.getValue(Te,"balance",0)),h.setFrame(p++,Ne)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Tr(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return je.NORMAL;if(e=="additive")return je.ADD;if(e=="multiply")return je.MULTIPLY;if(e=="screen")return je.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return ur.Fixed;if(e=="percent")return ur.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return jr.Length;if(e=="fixed")return jr.Fixed;if(e=="percent")return jr.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return yr.Tangent;if(e=="chain")return yr.Chain;if(e=="chainscale")return yr.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return st.Normal;if(e=="onlytranslation")return st.OnlyTranslation;if(e=="norotationorreflection")return st.NoRotationOrReflection;if(e=="noscale")return st.NoScale;if(e=="noscaleorreflection")return st.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),sEe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),lEe=function(t){cr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new _6(r),this.skeleton.updateWorldTransform(),this.stateData=new p6(r),this.state=new c6(this.stateData)},e}(gh);const uEe=Object.freeze(Object.defineProperty({__proto__:null,Animation:Tr,AnimationState:c6,AnimationStateAdapter:nEe,AnimationStateData:p6,AtlasAttachmentLoader:r2,Attachment:qS,AttachmentTimeline:ps,Bone:bb,BoneData:n2,BoundingBoxAttachment:l6,ClippingAttachment:u6,ColorTimeline:Uc,ConstraintData:Ov,CurveTimeline:ba,DeformTimeline:e2,DrawOrderTimeline:Gl,Event:i2,EventData:a2,EventQueue:d6,EventTimeline:Pv,get EventType(){return Pn},IkConstraint:v6,IkConstraintData:o2,IkConstraintTimeline:$c,JitterEffect:tEe,MeshAttachment:Rv,PathAttachment:Dc,PathConstraint:m6,PathConstraintData:s2,PathConstraintMixTimeline:Gc,PathConstraintPositionTimeline:fu,PathConstraintSpacingTimeline:t2,PointAttachment:f6,RegionAttachment:ZS,RotateTimeline:ti,ScaleTimeline:JS,ShearTimeline:QS,Skeleton:_6,SkeletonBinary:y6,SkeletonBounds:oEe,SkeletonData:l2,SkeletonJson:x6,Skin:$0,SkinEntry:Eb,Slot:KS,SlotData:u2,get SpacingMode(){return jr},Spine:lEe,SwirlEffect:rEe,get TimelineType(){return rn},TrackEntry:h6,TransformConstraint:g6,TransformConstraintData:f2,TransformConstraintTimeline:Vc,TranslateTimeline:Ps,TwoColorTimeline:jc,VertexAttachment:Vs},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wb=function(t,e){return wb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wb(t,e)};function Ar(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var c2=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Gs=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var f=r.bone.skeleton,l=r.attachmentVertices,u=this.vertices,c=this.bones;if(c==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,m=h.a,_=h.c,v=h.b,g=h.d,y=n,x=o;x<i;y+=2,x+=s){var b=u[y],E=u[y+1];a[x]=b*m+E*_+p,a[x+1]=b*v+E*g+d}return}for(var w=0,S=0,C=0;C<n;C+=2){var T=c[w];w+=T+1,S+=T}var I=f.bones;if(l.length==0)for(var x=o,_=S*3;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3){var h=I[c[w]].matrix,b=u[_],E=u[_+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}else for(var F=l,x=o,_=S*3,k=S<<1;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3,k+=2){var h=I[c[w]].matrix,b=u[_]+F[k],E=u[_+1]+F[k+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(c2),b6=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.BoundingBox,n.color=new Be(1,1,1,1),n}return e}(Gs),E6=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Clipping,n.color=new Be(.2275,.2275,.8078,1),n}return e}(Gs),h2=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Mesh,n.color=new Be(1,1,1,1),n.inheritDeform=!1,n.tempColor=new Be(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(Gs),Xc=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new Be(1,1,1,1),n}return e}(Gs),w6=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Point,n.color=new Be(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=W.cosDeg(this.rotation),a=W.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*W.radDeg},e}(Gs),d2=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Be,this.darkColor=e.darkColor==null?null:new Be,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),p2=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new Be(1,1,1,1),n.offset=oe.newFloatArray(8),n.uvs=oe.newFloatArray(8),n.tempColor=new Be(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,f=this.rotation*Math.PI/180,l=Math.cos(f),u=Math.sin(f),c=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,m=o*l+this.x,_=o*u,v=s*l+this.y,g=s*u,y=this.offset;y[e.OX1]=c-d,y[e.OY1]=p+h,y[e.OX2]=c-g,y[e.OY2]=v+h,y[e.OX3]=m-g,y[e.OY3]=v+_,y[e.OX4]=m-d,y[e.OY4]=p+_},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof d2?r.bone.matrix:r.matrix,f=s.tx,l=s.ty,u=s.a,c=s.c,h=s.b,p=s.d,d=0,m=0;d=o[e.OX1],m=o[e.OY1],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX2],m=o[e.OY2],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX3],m=o[e.OY3],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l,i+=a,d=o[e.OX4],m=o[e.OY4],n[i]=d*u+m*c+f,n[i+1]=d*h+m*p+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(c2),fEe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=W.randomTriangular(-this.jitterX,this.jitterY),e.y+=W.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),cEe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*W.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,f=Math.sqrt(o*o+s*s);if(f<this.radius){var l=t.interpolation.apply(0,a,(this.radius-f)/this.radius),u=Math.cos(l),c=Math.sin(l);e.x=u*o-c*s+this.worldX,e.y=c*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new s6(2),t}(),Xr=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,f){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(e,r,n,a,o,s,f)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),nn;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(nn||(nn={}));var Ea=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=oe.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,f=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+f,c=s*2+l,h=r*.3+o+f*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var _=h,v=p,g=d+t.BEZIER_SIZE-1;d<g;d+=2)m[d]=_,m[d+1]=v,h+=u,p+=c,u+=f,c+=l,_+=h,v+=p},t.prototype.getCurvePercent=function(e,r){r=W.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,f=i+t.BEZIER_SIZE-1;i<f;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var c=n[i-1];return c+(1-c)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Bi=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(nn.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case X.setup:u.rotation=u.data.rotation;return;case X.first:var c=u.data.rotation-u.rotation;u.rotation+=(c-(16384-(16384.499999999996-c/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case X.setup:u.rotation=u.data.rotation+h*o;break;case X.first:case X.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case X.add:u.rotation+=h*o}return}var p=Xr.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],m=l[p],_=this.getCurvePercent((p>>1)-1,1-(i-m)/(l[p+e.PREV_TIME]-m)),v=l[p+e.ROTATION]-d;switch(v=d+(v-(16384-(16384.499999999996-v/360|0))*360)*_,s){case X.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case X.first:case X.replace:v+=u.data.rotation-u.rotation;case X.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Ea),Hc=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(nn.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case X.setup:u.x=u.data.x,u.y=u.data.y;return;case X.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=Xr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.X]-c)*m,h+=(l[p+e.Y]-h)*m}switch(s){case X.setup:u.x=u.data.x+c*o,u.y=u.data.y+h*o;break;case X.first:case X.replace:u.x+=(u.data.x+c-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case X.add:u.x+=c*o,u.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Ea),S6=function(t){Ar(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(nn.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case X.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case X.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=Xr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c=(c+(l[p+e.X]-c)*m)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*m)*u.data.scaleY}if(o==1)s==X.add?(u.scaleX+=c-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=c,u.scaleY=h);else{var _=0,v=0;if(f==ht.mixOut)switch(s){case X.setup:_=u.data.scaleX,v=u.data.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case X.first:case X.replace:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-_)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-v)*o;break;case X.add:_=u.scaleX,v=u.scaleY,u.scaleX=_+(Math.abs(c)*W.signum(_)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(h)*W.signum(v)-u.data.scaleY)*o}else switch(s){case X.setup:_=Math.abs(u.data.scaleX)*W.signum(c),v=Math.abs(u.data.scaleY)*W.signum(h),u.scaleX=_+(c-_)*o,u.scaleY=v+(h-v)*o;break;case X.first:case X.replace:_=Math.abs(u.scaleX)*W.signum(c),v=Math.abs(u.scaleY)*W.signum(h),u.scaleX=_+(c-_)*o,u.scaleY=v+(h-v)*o;break;case X.add:_=W.signum(c),v=W.signum(h),u.scaleX=Math.abs(u.scaleX)*_+(c-Math.abs(u.data.scaleX)*_)*o,u.scaleY=Math.abs(u.scaleY)*v+(h-Math.abs(u.data.scaleY)*v)*o}}},e}(Hc),C6=function(t){Ar(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(nn.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case X.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case X.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=Xr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c=c+(l[p+e.X]-c)*m,h=h+(l[p+e.Y]-h)*m}switch(s){case X.setup:u.shearX=u.data.shearX+c*o,u.shearY=u.data.shearY+h*o;break;case X.first:case X.replace:u.shearX+=(u.data.shearX+c-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case X.add:u.shearX+=c*o,u.shearY+=h*o}},e}(Hc),Sb=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(nn.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case X.setup:l.color.setFromColor(l.data.color);return;case X.first:var c=l.color,h=l.data.color;c.add((h.r-c.r)*o,(h.g-c.g)*o,(h.b-c.b)*o,(h.a-c.a)*o)}return}var p=0,d=0,m=0,_=0;if(i>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],m=u[v+e.PREV_B],_=u[v+e.PREV_A]}else{var g=Xr.binarySearch(u,i,e.ENTRIES);p=u[g+e.PREV_R],d=u[g+e.PREV_G],m=u[g+e.PREV_B],_=u[g+e.PREV_A];var y=u[g],x=this.getCurvePercent(g/e.ENTRIES-1,1-(i-y)/(u[g+e.PREV_TIME]-y));p+=(u[g+e.R]-p)*x,d+=(u[g+e.G]-d)*x,m+=(u[g+e.B]-m)*x,_+=(u[g+e.A]-_)*x}if(o==1)l.color.set(p,d,m,_);else{var c=l.color;s==X.setup&&c.setFromColor(l.data.color),c.add((p-c.r)*o,(d-c.g)*o,(m-c.b)*o,(_-c.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Ea),Cb=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(nn.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,f,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=f,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case X.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case X.first:var c=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;c.add((p.r-c.r)*o,(p.g-c.g)*o,(p.b-c.b)*o,(p.a-c.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;m=u[E+e.PREV_R],_=u[E+e.PREV_G],v=u[E+e.PREV_B],g=u[E+e.PREV_A],y=u[E+e.PREV_R2],x=u[E+e.PREV_G2],b=u[E+e.PREV_B2]}else{var w=Xr.binarySearch(u,i,e.ENTRIES);m=u[w+e.PREV_R],_=u[w+e.PREV_G],v=u[w+e.PREV_B],g=u[w+e.PREV_A],y=u[w+e.PREV_R2],x=u[w+e.PREV_G2],b=u[w+e.PREV_B2];var S=u[w],C=this.getCurvePercent(w/e.ENTRIES-1,1-(i-S)/(u[w+e.PREV_TIME]-S));m+=(u[w+e.R]-m)*C,_+=(u[w+e.G]-_)*C,v+=(u[w+e.B]-v)*C,g+=(u[w+e.A]-g)*C,y+=(u[w+e.R2]-y)*C,x+=(u[w+e.G2]-x)*C,b+=(u[w+e.B2]-b)*C}if(o==1)l.color.set(m,_,v,g),l.darkColor.set(y,x,b,1);else{var c=l.color,h=l.darkColor;s==X.setup&&(c.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),c.add((m-c.r)*o,(_-c.g)*o,(v-c.b)*o,(g-c.a)*o),h.add((y-h.r)*o,(x-h.g)*o,(b-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Ea),V0=function(){function t(e){this.frames=oe.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(nn.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var f=e.slots[this.slotIndex];if(s==ht.mixOut&&o==X.setup){var l=f.data.attachmentName;f.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==X.setup||o==X.first){var c=f.data.attachmentName;f.setAttachment(c==null?null:e.getAttachment(this.slotIndex,c))}return}var h=0;n>=u[u.length-1]?h=u.length-1:h=Xr.binarySearch(u,n,1)-1;var p=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(p==null?null:e.getAttachment(this.slotIndex,p))},t}(),dF=null,T6=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r),n.frameVertices=new Array(r),dF==null&&(dF=oe.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(nn.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof Gs)||!u.applyDeform(this.attachment))){var c=l.attachmentVertices;c.length==0&&(s=X.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var m=u;switch(s){case X.setup:c.length=0;return;case X.first:if(o==1){c.length=0;break}var _=oe.setArraySize(c,p);if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)_[g]+=(v[g]-_[g])*o;else{o=1-o;for(var g=0;g<p;g++)_[g]*=o}}return}var y=oe.setArraySize(c,p);if(i>=d[d.length-1]){var x=h[d.length-1];if(o==1)if(s==X.add){var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)y[g]+=x[g]-v[g];else for(var g=0;g<p;g++)y[g]+=x[g]}else oe.arrayCopy(x,0,y,0,p);else switch(s){case X.setup:{var b=u;if(b.bones==null)for(var v=b.vertices,g=0;g<p;g++){var E=v[g];y[g]=E+(x[g]-E)*o}else for(var g=0;g<p;g++)y[g]=x[g]*o;break}case X.first:case X.replace:for(var g=0;g<p;g++)y[g]+=(x[g]-y[g])*o;case X.add:var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++)y[g]+=(x[g]-v[g])*o;else for(var g=0;g<p;g++)y[g]+=x[g]*o}return}var w=Xr.binarySearch(d,i),S=h[w-1],C=h[w],T=d[w],I=this.getCurvePercent(w-1,1-(i-T)/(d[w-1]-T));if(o==1)if(s==X.add){var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++){var A=S[g];y[g]+=A+(C[g]-A)*I-v[g]}else for(var g=0;g<p;g++){var A=S[g];y[g]+=A+(C[g]-A)*I}}else for(var g=0;g<p;g++){var A=S[g];y[g]=A+(C[g]-A)*I}else switch(s){case X.setup:{var R=u;if(R.bones==null)for(var v=R.vertices,g=0;g<p;g++){var A=S[g],E=v[g];y[g]=E+(A+(C[g]-A)*I-E)*o}else for(var g=0;g<p;g++){var A=S[g];y[g]=(A+(C[g]-A)*I)*o}break}case X.first:case X.replace:for(var g=0;g<p;g++){var A=S[g];y[g]+=(A+(C[g]-A)*I-y[g])*o}break;case X.add:var m=u;if(m.bones==null)for(var v=m.vertices,g=0;g<p;g++){var A=S[g];y[g]+=(A+(C[g]-A)*I-v[g])*o}else for(var g=0;g<p;g++){var A=S[g];y[g]+=(A+(C[g]-A)*I)*o}}}},e}(Ea),A6=function(){function t(e){this.frames=oe.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return nn.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var f=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=f[l-1])return;if(!(n<f[0])){var u=0;if(r<f[0])u=0;else{u=Xr.binarySearch(f,r);for(var c=f[u];u>0&&f[u-1]==c;)u--}for(;u<l&&n>=f[u];u++)i.push(this.events[u])}}},t}(),G0=function(){function t(e){this.frames=oe.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return nn.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var f=e.drawOrder,l=e.slots;if(s==ht.mixOut&&o==X.setup){oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==X.setup||o==X.first)&&oe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var c=0;n>=u[u.length-1]?c=u.length-1:c=Xr.binarySearch(u,n)-1;var h=this.drawOrders[c];if(h==null)oe.arrayCopy(l,0,f,0,l.length);else for(var p=0,d=h.length;p<d;p++)f[p]=l[h[p]]},t}(),Tb=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(nn.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case X.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case X.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==X.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,f==ht.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,f==ht.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var c=Xr.binarySearch(l,i,e.ENTRIES),h=l[c+e.PREV_MIX],p=l[c],d=this.getCurvePercent(c/e.ENTRIES-1,1-(i-p)/(l[c+e.PREV_TIME]-p));s==X.setup?(u.mix=u.data.mix+(h+(l[c+e.MIX]-h)*d-u.data.mix)*o,f==ht.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[c+e.PREV_BEND_DIRECTION],u.compress=l[c+e.PREV_COMPRESS]!=0,u.stretch=l[c+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[c+e.MIX]-h)*d-u.mix)*o,f==ht.mixIn&&(u.bendDirection=l[c+e.PREV_BEND_DIRECTION],u.compress=l[c+e.PREV_COMPRESS]!=0,u.stretch=l[c+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(Ea),Ab=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(nn.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var c=u.data;switch(s){case X.setup:u.rotateMix=c.rotateMix,u.translateMix=c.translateMix,u.scaleMix=c.scaleMix,u.shearMix=c.shearMix;return;case X.first:u.rotateMix+=(c.rotateMix-u.rotateMix)*o,u.translateMix+=(c.translateMix-u.translateMix)*o,u.scaleMix+=(c.scaleMix-u.scaleMix)*o,u.shearMix+=(c.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,m=0;if(i>=l[l.length-e.ENTRIES]){var _=l.length;h=l[_+e.PREV_ROTATE],p=l[_+e.PREV_TRANSLATE],d=l[_+e.PREV_SCALE],m=l[_+e.PREV_SHEAR]}else{var v=Xr.binarySearch(l,i,e.ENTRIES);h=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],m=l[v+e.PREV_SHEAR];var g=l[v],y=this.getCurvePercent(v/e.ENTRIES-1,1-(i-g)/(l[v+e.PREV_TIME]-g));h+=(l[v+e.ROTATE]-h)*y,p+=(l[v+e.TRANSLATE]-p)*y,d+=(l[v+e.SCALE]-d)*y,m+=(l[v+e.SHEAR]-m)*y}if(s==X.setup){var c=u.data;u.rotateMix=c.rotateMix+(h-c.rotateMix)*o,u.translateMix=c.translateMix+(p-c.translateMix)*o,u.scaleMix=c.scaleMix+(d-c.scaleMix)*o,u.shearMix=c.shearMix+(m-c.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(m-u.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Ea),X0=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(nn.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case X.setup:u.position=u.data.position;return;case X.first:u.position+=(u.data.position-u.position)*o}return}var c=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_VALUE];else{var h=Xr.binarySearch(l,i,e.ENTRIES);c=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));c+=(l[h+e.VALUE]-c)*d}s==X.setup?u.position=u.data.position+(c-u.data.position)*o:u.position+=(c-u.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Ea),I6=function(t){Ar(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(nn.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case X.setup:u.spacing=u.data.spacing;return;case X.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var c=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_VALUE];else{var h=Xr.binarySearch(l,i,e.ENTRIES);c=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));c+=(l[h+e.VALUE]-c)*d}s==X.setup?u.spacing=u.data.spacing+(c-u.data.spacing)*o:u.spacing+=(c-u.spacing)*o},e}(X0),Ib=function(t){Ar(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=oe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(nn.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,f){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case X.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case X.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var c=0,h=0;if(i>=l[l.length-e.ENTRIES])c=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=Xr.binarySearch(l,i,e.ENTRIES);c=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));c+=(l[p+e.ROTATE]-c)*m,h+=(l[p+e.TRANSLATE]-h)*m}s==X.setup?(u.rotateMix=u.data.rotateMix+(c-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(c-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Ea),R6=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new O6(this),this.propertyIDs=new a6,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new Iv(function(){return new P6}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var f=a.trackLast-s.delay;if(f>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(f/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var f=a==0?X.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,f):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,c=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||f==X.add)for(var d=0;d<h;d++)oe.webkit602BugfixHelper(l,f),p[d].apply(e,u,c,r,l,f,ht.mixIn);else{var m=s.timelineMode,_=s.timelinesRotation.length==0;_&&oe.setArraySize(s.timelinesRotation,h<<1,null);for(var v=s.timelinesRotation,d=0;d<h;d++){var g=p[d],y=m[d]==t.SUBSEQUENT?f:X.setup;g instanceof Bi?this.applyRotateTimeline(g,e,c,l,y,v,d<<1,_):(oe.webkit602BugfixHelper(l,f),g.apply(e,u,c,r,l,y,ht.mixIn))}}this.queueEvents(s,c),r.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==X.first&&(n=X.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=X.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,f=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),c=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==X.add)for(var m=0;m<c;m++)h[m].apply(r,l,u,o,d,n,ht.mixOut);else{var _=i.timelineMode,v=i.timelineHoldMix,g=i.timelinesRotation.length==0;g&&oe.setArraySize(i.timelinesRotation,c<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var m=0;m<c;m++){var x=h[m],b=ht.mixOut,E=void 0,w=0;switch(_[m]){case t.SUBSEQUENT:if(!s&&x instanceof V0||!f&&x instanceof G0)continue;E=n,w=d;break;case t.FIRST:E=X.setup,w=d;break;case t.HOLD:E=X.setup,w=p;break;default:E=X.setup;var S=v[m];w=p*Math.max(0,1-S.mixTime/S.mixDuration);break}i.totalAlpha+=w,x instanceof Bi?this.applyRotateTimeline(x,r,u,w,E,y,m<<1,g):(oe.webkit602BugfixHelper(w,n),E==X.setup&&(x instanceof V0?s&&(b=ht.mixOut):x instanceof G0&&f&&(b=ht.mixOut)),x.apply(r,l,u,o,w,E,b))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,f){if(f&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,ht.mixIn);return}var l=e,u=l.frames,c=r.bones[l.boneIndex],h=0,p=0;if(n<u[0])switch(a){case X.setup:c.rotation=c.data.rotation;default:return;case X.first:h=c.rotation,p=c.data.rotation}else if(h=a==X.setup?c.data.rotation:c.rotation,n>=u[u.length-Bi.ENTRIES])p=c.data.rotation+u[u.length+Bi.PREV_ROTATION];else{var d=Xr.binarySearch(u,n,Bi.ENTRIES),m=u[d+Bi.PREV_ROTATION],_=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-_)/(u[d+Bi.PREV_TIME]-_));p=u[d+Bi.ROTATION]-m,p-=(16384-(16384.499999999996-p/360|0))*360,p=m+p*v+c.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var g=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)g=o[s];else{var x=0,b=0;f?(x=0,b=y):(x=o[s],b=o[s+1]);var E=y>0,w=x>=0;W.signum(b)!=W.signum(y)&&Math.abs(b)<=90&&(Math.abs(x)>180&&(x+=360*W.signum(x)),w=E),g=y+x-x%360,w!=E&&(g+=360*W.signum(x)),o[s]=g}o[s+1]=y,h+=g*i,c.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,f=0,l=s.length;f<l;f++){var u=s[f];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var c=!1;for(e.loop?c=a==0||o>e.trackTime%a:c=r>=i&&e.animationLast<i,c&&this.queue.complete(e);f<l;f++){var h=s[f];h.time<n||this.queue.event(e,s[f])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(oe.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=X.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=oe.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=oe.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var f=0;f<i;f++)s.add(n[f].getPropertyId()),a[f]=t.HOLD;return}e:for(var f=0;f<i;f++){var l=n[f].getPropertyId();if(!s.add(l))a[f]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[f]=t.FIRST;else{for(var u=r.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(e.mixDuration>0){a[f]=t.HOLD_MIX,o[f]=u;continue e}break}a[f]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new Xr("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),P6=function(){function t(){this.mixBlend=X.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),O6=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(On.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(On.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(On.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(On.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(On.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(On.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case On.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case On.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case On.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case On.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case On.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=W.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case On.event:var f=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,f);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,f);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,f),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,f);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),On;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(On||(On={}));var hEe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),F6=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),k6=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new p2(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new h2(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new b6(r)},t.prototype.newPathAttachment=function(e,r){return new Xc(r)},t.prototype.newPointAttachment=function(e,r){return new w6(r)},t.prototype.newClippingAttachment=function(e,r){return new E6(r)},t}(),Rb=function(){function t(e,r,n){if(this.matrix=new ar,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var f=this.parent,l=this.matrix,u=this.skeleton.scaleX,c=-this.skeleton.scaleY;if(f==null){var h=this.skeleton,p=n+90+s;l.a=W.cosDeg(n+o)*i*u,l.c=W.cosDeg(p)*a*u,l.b=W.sinDeg(n+o)*i*c,l.d=W.sinDeg(p)*a*c,l.tx=e*u+h.x,l.ty=r*c+h.y;return}var d=f.matrix.a,m=f.matrix.c,_=f.matrix.b,v=f.matrix.d;switch(l.tx=d*e+m*r+f.matrix.tx,l.ty=_*e+v*r+f.matrix.ty,this.data.transformMode){case st.Normal:{var p=n+90+s,g=W.cosDeg(n+o)*i,y=W.cosDeg(p)*a,x=W.sinDeg(n+o)*i,b=W.sinDeg(p)*a;l.a=d*g+m*x,l.c=d*y+m*b,l.b=_*g+v*x,l.d=_*y+v*b;return}case st.OnlyTranslation:{var p=n+90+s;l.a=W.cosDeg(n+o)*i,l.c=W.cosDeg(p)*a,l.b=W.sinDeg(n+o)*i,l.d=W.sinDeg(p)*a;break}case st.NoRotationOrReflection:{var E=d*d+_*_,w=0;E>1e-4?(E=Math.abs(d*v-m*_)/E,m=_*E,v=d*E,w=Math.atan2(_,d)*W.radDeg):(d=0,_=0,w=90-Math.atan2(v,m)*W.radDeg);var S=n+o-w,C=n+s-w+90,g=W.cosDeg(S)*i,y=W.cosDeg(C)*a,x=W.sinDeg(S)*i,b=W.sinDeg(C)*a;l.a=d*g-m*x,l.c=d*y-m*b,l.b=_*g+v*x,l.d=_*y+v*b;break}case st.NoScale:case st.NoScaleOrReflection:{var T=W.cosDeg(n),I=W.sinDeg(n),A=(d*T+m*I)/u,R=(_*T+v*I)/c,E=Math.sqrt(A*A+R*R);E>1e-5&&(E=1/E),A*=E,R*=E,E=Math.sqrt(A*A+R*R),this.data.transformMode==st.NoScale&&d*v-m*_<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var O=Math.PI/2+Math.atan2(R,A),F=Math.cos(O)*E,k=Math.sin(O)*E,g=W.cosDeg(o)*i,y=W.cosDeg(90+s)*a,x=W.sinDeg(o)*i,b=W.sinDeg(90+s)*a;l.a=A*g+F*x,l.c=A*y+F*b,l.b=R*g+k*x,l.d=R*y+k*b;break}}l.a*=u,l.c*=u,l.b*=c,l.d*=c},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*W.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*W.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*W.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*W.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,f=i*n.a,l=i*n.c,u=i*n.b,c=s*r.a-l*r.b,h=s*r.c-l*r.d,p=f*r.b-u*r.a,d=f*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+p*p),this.ascaleX>1e-4){var m=c*d-h*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*h+p*d,m)*W.radDeg,this.arotation=Math.atan2(p,c)*W.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*W.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),f=e.x-r.tx,l=e.y-r.ty;return e.x=f*o*s-l*i*s,e.y=l*n*s-f*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*W.radDeg},t.prototype.localToWorldRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*W.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=W.cosDeg(e),f=W.sinDeg(e);r.a=s*n-f*a,r.c=s*i-f*o,r.b=f*n+s*a,r.d=f*i+s*o,this.appliedValid=!1},t}(),N6=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=st.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),L6=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),B6=function(){function t(e){this.name=e}return t}(),M6=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var f=e.parent.matrix,l=1/(f.a*f.d-f.b*f.c),u=r-f.tx,c=n-f.ty,h=(u*f.d-c*f.c)*l-e.ax,p=(c*f.a-u*f.b)*l-e.ay,d=Math.atan2(p,h)*W.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var m=e.ascaleX,_=e.ascaleY;if(i||a){var v=e.data.length*m,g=Math.sqrt(h*h+p*p);if(i&&g<v||a&&g>v&&v>1e-4){var y=(g/v-1)*s+1;m*=y,o&&(_*=y)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,m,_,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var f=e.ax,l=e.ay,u=e.ascaleX,c=u,h=e.ascaleY,p=r.ascaleX,d=e.matrix,m=0,_=0,v=0;u<0?(u=-u,m=180,v=-1):(m=0,v=1),h<0&&(h=-h,v=-v),p<0?(p=-p,_=180):_=0;var g=r.ax,y=0,x=0,b=0,E=d.a,w=d.c,S=d.b,C=d.d,T=Math.abs(u-h)<=1e-4;T?(y=r.ay,x=E*g+w*y+d.tx,b=S*g+C*y+d.ty):(y=0,x=E*g+d.tx,b=S*g+d.ty);var I=e.parent.matrix;E=I.a,w=I.c,S=I.b,C=I.d;var A=1/(E*C-w*S),R=n-I.tx,O=i-I.ty,F=(R*C-O*w)*A-f,k=(O*E-R*S)*A-l,$=F*F+k*k;R=x-I.tx,O=b-I.ty;var q=(R*C-O*w)*A-f,K=(O*E-R*S)*A-l,G=Math.sqrt(q*q+K*K),N=r.data.length*p,j=0,M=0;e:if(T){N*=u;var D=($-G*G-N*N)/(2*G*N);D<-1?D=-1:D>1&&(D=1,o&&G+N>1e-4&&(c*=(Math.sqrt($)/(G+N)-1)*s+1)),M=Math.acos(D)*a,E=G+N*D,w=N*Math.sin(M),j=Math.atan2(k*E-F*w,F*E+k*w)}else{E=u*N,w=h*N;var J=E*E,Q=w*w,se=Math.atan2(k,F);S=Q*G*G+J*$-J*Q;var re=-2*Q*G,ue=Q-J;if(C=re*re-4*ue*S,C>=0){var Ee=Math.sqrt(C);re<0&&(Ee=-Ee),Ee=-(re+Ee)/2;var xe=Ee/ue,de=S/Ee,pe=Math.abs(xe)<Math.abs(de)?xe:de;if(pe*pe<=$){O=Math.sqrt($-pe*pe)*a,j=se-Math.atan2(O,pe),M=Math.atan2(O/h,(pe-G)/u);break e}}var Ae=W.PI,Fe=G-E,Te=Fe*Fe,ke=0,Ne=0,Ze=G+E,ct=Ze*Ze,Je=0;S=-E*G/(J-Q),S>=-1&&S<=1&&(S=Math.acos(S),R=E*Math.cos(S)+G,O=w*Math.sin(S),C=R*R+O*O,C<Te&&(Ae=S,Te=C,Fe=R,ke=O),C>ct&&(Ne=S,ct=C,Ze=R,Je=O)),$<=(Te+ct)/2?(j=se-Math.atan2(ke*a,Fe),M=Ae*a):(j=se-Math.atan2(Je*a,Ze),M=Ne*a)}var qe=Math.atan2(y,g)*v,at=e.arotation;j=(j-qe)*W.radDeg+m-at,j>180?j-=360:j<-180&&(j+=360),e.updateWorldTransformWith(f,l,at+j*s,c,e.ascaleY,0,0),at=r.arotation,M=((M+qe)*W.radDeg-r.ashearX)*v+_-at,M>180?M-=360:M<-180&&(M+=360),r.updateWorldTransformWith(g,y,at+M*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),D6=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),U6=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),pi;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(pi||(pi={}));var j6=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Xc){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,f=s==pi.Length,l=o.rotateMode,u=l==yr.Tangent,c=l==yr.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,m=oe.setArraySize(this.spaces,p),_=null,v=this.spacing;if(c||f){c&&(_=oe.setArraySize(this.lengths,h));for(var g=0,y=p-1;g<y;){var x=d[g],b=x.data.length;if(b<t.epsilon)c&&(_[g]=0),m[++g]=0;else{var E=b*x.matrix.a,w=b*x.matrix.b,S=Math.sqrt(E*E+w*w);c&&(_[g]=S),m[++g]=(f?b+v:v)*S/b}}}else for(var g=1;g<p;g++)m[g]=v;var C=this.computeWorldPositions(e,p,u,o.positionMode==ur.Percent,s==pi.Percent),T=C[0],I=C[1],A=o.offsetRotation,R=!1;if(A==0)R=l==yr.Chain;else{R=!1;var O=this.target.bone.matrix;A*=O.a*O.d-O.b*O.c>0?W.degRad:-W.degRad}for(var g=0,O=3;g<h;g++,O+=3){var x=d[g],F=x.matrix;F.tx+=(T-F.tx)*n,F.ty+=(I-F.ty)*n;var E=C[O],w=C[O+1],k=E-T,$=w-I;if(c){var q=_[g];if(q!=0){var K=(Math.sqrt(k*k+$*$)/q-1)*r+1;F.a*=K,F.b*=K}}if(T=E,I=w,a){var G=F.a,N=F.c,j=F.b,M=F.d,D=0,J=0,Q=0;if(u?D=C[O-1]:m[g+1]==0?D=C[O+2]:D=Math.atan2($,k),D-=Math.atan2(j,G),R){J=Math.cos(D),Q=Math.sin(D);var se=x.data.length;T+=(se*(J*G-Q*j)-k)*r,I+=(se*(Q*G+J*j)-$)*r}else D+=A;D>W.PI?D-=W.PI2:D<-W.PI&&(D+=W.PI2),D*=r,J=Math.cos(D),Q=Math.sin(D),F.a=J*G-Q*j,F.c=J*N-Q*M,F.b=Q*G+J*j,F.d=Q*N+J*M}x.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,f=this.spaces,l=oe.setArraySize(this.positions,r*3+2),u=null,c=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var m=e.lengths;p-=c?1:2;var _=m[p];if(i&&(s*=_),a)for(var v=0;v<r;v++)f[v]*=_;u=oe.setArraySize(this.world,8);for(var v=0,g=0,y=0;v<r;v++,g+=3){var x=f[v];s+=x;var b=s;if(c)b%=_,b<0&&(b+=_),y=0;else if(b<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(b,u,0,l,g);continue}else if(b>_){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(b-_,u,0,l,g);continue}for(;;y++){var E=m[y];if(!(b>E)){if(y==0)b/=E;else{var w=m[y-1];b=(b-w)/(E-w)}break}}y!=d&&(d=y,c&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,g,n||v>0&&x==0)}return l}c?(h+=2,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=oe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var S=oe.setArraySize(this.curves,p),C=0,T=u[0],I=u[1],A=0,R=0,O=0,F=0,k=0,$=0,q=0,K=0,G=0,N=0,j=0,M=0,D=0,J=0,v=0,Q=2;v<p;v++,Q+=6)A=u[Q],R=u[Q+1],O=u[Q+2],F=u[Q+3],k=u[Q+4],$=u[Q+5],q=(T-A*2+O)*.1875,K=(I-R*2+F)*.1875,G=((A-O)*3-T+k)*.09375,N=((R-F)*3-I+$)*.09375,j=q*2+G,M=K*2+N,D=(A-T)*.75+q+G*.16666667,J=(R-I)*.75+K+N*.16666667,C+=Math.sqrt(D*D+J*J),D+=j,J+=M,j+=G,M+=N,C+=Math.sqrt(D*D+J*J),D+=j,J+=M,C+=Math.sqrt(D*D+J*J),D+=j+G,J+=M+N,C+=Math.sqrt(D*D+J*J),S[v]=C,T=k,I=$;if(i&&(s*=C),a)for(var v=0;v<r;v++)f[v]*=C;for(var se=this.segments,re=0,v=0,g=0,y=0,ue=0;v<r;v++,g+=3){var x=f[v];s+=x;var b=s;if(c)b%=C,b<0&&(b+=C),y=0;else if(b<0){this.addBeforePosition(b,u,0,l,g);continue}else if(b>C){this.addAfterPosition(b-C,u,h-4,l,g);continue}for(;;y++){var Ee=S[y];if(!(b>Ee)){if(y==0)b/=Ee;else{var w=S[y-1];b=(b-w)/(Ee-w)}break}}if(y!=d){d=y;var xe=y*6;for(T=u[xe],I=u[xe+1],A=u[xe+2],R=u[xe+3],O=u[xe+4],F=u[xe+5],k=u[xe+6],$=u[xe+7],q=(T-A*2+O)*.03,K=(I-R*2+F)*.03,G=((A-O)*3-T+k)*.006,N=((R-F)*3-I+$)*.006,j=q*2+G,M=K*2+N,D=(A-T)*.3+q+G*.16666667,J=(R-I)*.3+K+N*.16666667,re=Math.sqrt(D*D+J*J),se[0]=re,xe=1;xe<8;xe++)D+=j,J+=M,j+=G,M+=N,re+=Math.sqrt(D*D+J*J),se[xe]=re;D+=j,J+=M,re+=Math.sqrt(D*D+J*J),se[8]=re,D+=j+G,J+=M+N,re+=Math.sqrt(D*D+J*J),se[9]=re,ue=0}for(b*=re;;ue++){var de=se[ue];if(!(b>de)){if(ue==0)b/=de;else{var w=se[ue-1];b=ue+(b-w)/(de-w)}break}}this.addCurvePosition(b*.1,T,I,A,R,O,F,k,$,l,g,n||v>0&&x==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],f=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],f=o-r[n],l=s-r[n+1],u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,f,l,u,c,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,m=1-e,_=m*m,v=_*m,g=m*e,y=g*3,x=m*y,b=y*e,E=r*v+i*x+o*b+f*d,w=n*v+a*x+s*b+l*d;u[c]=E,u[c+1]=w,h&&(u[c+2]=Math.atan2(w-(n*_+a*g*2+s*p),E-(r*_+i*g*2+o*p)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),$6=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Mc,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,f=o.c,l=o.b,u=o.d,c=s*u-f*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,E=y.b,w=y.d,S=Math.atan2(l,s)-Math.atan2(E,x)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*E,y.c=C*b-T*w,y.b=T*x+C*E,y.d=T*b+C*w,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=(I.x-y.tx)*r,y.ty+=(I.y-y.ty)*r,g=!0}if(n>0){var A=Math.sqrt(y.a*y.a+y.b*y.b),R=Math.sqrt(s*s+l*l);A>1e-5&&(A=(A+(R-A+this.data.offsetScaleX)*n)/A),y.a*=A,y.b*=A,A=Math.sqrt(y.c*y.c+y.d*y.d),R=Math.sqrt(f*f+u*u),A>1e-5&&(A=(A+(R-A+this.data.offsetScaleY)*n)/A),y.c*=A,y.d*=A,g=!0}if(i>0){var b=y.c,w=y.d,O=Math.atan2(w,b),S=Math.atan2(u,f)-Math.atan2(l,s)-(O-Math.atan2(y.b,y.a));S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S=O+(S+p)*i;var A=Math.sqrt(b*b+w*w);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,f=o.c,l=o.b,u=o.d,c=s*u-f*l>0?W.degRad:-W.degRad,h=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,m=0,_=d.length;m<_;m++){var v=d[m],g=!1,y=v.matrix;if(e!=0){var x=y.a,b=y.c,E=y.b,w=y.d,S=Math.atan2(l,s)+h;S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2),S*=e;var C=Math.cos(S),T=Math.sin(S);y.a=C*x-T*E,y.c=C*b-T*w,y.b=T*x+C*E,y.d=T*b+C*w,g=!0}if(r!=0){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),y.tx+=I.x*r,y.ty+=I.y*r,g=!0}if(n>0){var A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=A,y.b*=A,A=(Math.sqrt(f*f+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=A,y.d*=A,g=!0}if(i>0){var S=Math.atan2(u,f)-Math.atan2(l,s);S>W.PI?S-=W.PI2:S<-W.PI&&(S+=W.PI2);var b=y.c,w=y.d;S=Math.atan2(w,b)+(S-W.PI/2+p)*i;var A=Math.sqrt(b*b+w*w);y.c=Math.cos(S)*A,y.d=Math.sin(S)*A,g=!0}g&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,f=o.length;s<f;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var c=a.arotation-u+this.data.offsetRotation;c-=(16384-(16384.499999999996-c/360|0))*360,u+=c*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,m=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),m>1e-5&&(m=(m+(a.ascaleY-m+this.data.offsetScaleY)*n)/m));var _=l.ashearY;if(i>0){var c=a.ashearY-_+this.data.offsetShearY;c-=(16384-(16384.499999999996-c/360|0))*360,l.shearY+=c*i}l.updateWorldTransformWith(h,p,u,d,m,l.ashearX,_)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,f=o.length;s<f;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var c=l.ax,h=l.ay;r!=0&&(c+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var m=l.ashearY;i>0&&(m+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(c,h,u,p,d,l.ashearX,m)}},t.prototype.getOrder=function(){return this.data.order},t}(),V6=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new Rb(n,this,null);else{var a=this.bones[n.parent.index];i=new Rb(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new d2(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var f=e.ikConstraints[r];this.ikConstraints.push(new M6(f,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new $6(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new j6(u,this))}this.color=new Be(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,f=a.length,l=o.length,u=s.length,c=f+l+u;e:for(var n=0;n<c;n++){for(var h=0;h<f;h++){var p=a[h];if(p.data.order==n){this.sortIkConstraint(p);continue e}}for(var h=0;h<l;h++){var p=o[h];if(p.data.order==n){this.sortTransformConstraint(p);continue e}}for(var h=0;h<u;h++){var p=s[h];if(p.data.order==n){this.sortPathConstraint(p);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Xc&&this.sortPathConstraintAttachmentWith(s,i);for(var f=e.bones,l=f.length,a=0;a<l;a++)this.sortBone(f[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(f[a].children);for(var a=0;a<l;a++)f[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Xc){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var f=n[a];this.sortBone(i[f])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var f=this.pathConstraints,r=0,n=f.length;r<n;r++){var a=f[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;oe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var c=i[l],h=0,p=null,d=c.getAttachment();if(d instanceof p2)h=8,p=oe.setArraySize(n,h,0),d.computeWorldVertices(c.bone,p,0,2);else if(d instanceof h2){var m=d;h=m.worldVerticesLength,p=oe.setArraySize(n,h,0),m.computeWorldVertices(c,0,h,p,0,2)}if(p!=null)for(var _=0,v=p.length;_<v;_+=2){var g=p[_],y=p[_+1];a=Math.min(a,g),o=Math.min(o,y),s=Math.max(s,g),f=Math.max(f,y)}}e.set(a,o),r.set(s-a,f-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),dEe=function(t){Ar(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(YS),G6=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),X6=function(){function t(e,r,n){if(this.color=new Be(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),H6=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),z6=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var f in s){var l=s[f];if(o==l){var u=this.getAttachment(n,f);u!=null&&a.setAttachment(u);break}}}n++}},t}(),W6=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new G6,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],f=null,l=this.getValue(s,"parent",null);if(l!=null&&(f=n.findBone(l),f==null))throw new Error("Parent bone not found: "+l);var u=new N6(n.bones.length,s.name,f);u.length=this.getValue(s,"length",0)*r,u.x=this.getValue(s,"x",0)*r,u.y=this.getValue(s,"y",0)*r,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var c=i.slots[o],h=c.name,p=c.bone,d=n.findBone(p);if(d==null)throw new Error("Slot bone not found: "+p);var u=new X6(n.slots.length,h,d),m=this.getValue(c,"color",null);m!=null&&u.color.setFromString(m);var _=this.getValue(c,"dark",null);_!=null&&(u.darkColor=new Be(1,1,1,1),u.darkColor.setFromString(_)),u.attachmentName=this.getValue(c,"attachment",null),u.blendMode=t.blendModeFromString(this.getValue(c,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var v=i.ik[o],u=new D6(v.name);u.order=this.getValue(v,"order",0);for(var g=0;g<v.bones.length;g++){var p=v.bones[g],y=n.findBone(p);if(y==null)throw new Error("IK bone not found: "+p);u.bones.push(y)}var x=v.target;if(u.target=n.findBone(x),u.target==null)throw new Error("IK target bone not found: "+x);u.bendDirection=this.getValue(v,"bendPositive",!0)?1:-1,u.mix=this.getValue(v,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var v=i.transform[o],u=new H6(v.name);u.order=this.getValue(v,"order",0);for(var g=0;g<v.bones.length;g++){var p=v.bones[g],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var x=v.target;if(u.target=n.findBone(x),u.target==null)throw new Error("Transform constraint target bone not found: "+x);u.local=this.getValue(v,"local",!1),u.relative=this.getValue(v,"relative",!1),u.offsetRotation=this.getValue(v,"rotation",0),u.offsetX=this.getValue(v,"x",0)*r,u.offsetY=this.getValue(v,"y",0)*r,u.offsetScaleX=this.getValue(v,"scaleX",0),u.offsetScaleY=this.getValue(v,"scaleY",0),u.offsetShearY=this.getValue(v,"shearY",0),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),u.scaleMix=this.getValue(v,"scaleMix",1),u.shearMix=this.getValue(v,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var v=i.path[o],u=new U6(v.name);u.order=this.getValue(v,"order",0);for(var g=0;g<v.bones.length;g++){var p=v.bones[g],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var x=v.target;if(u.target=n.findSlot(x),u.target==null)throw new Error("Path target slot not found: "+x);u.positionMode=t.positionModeFromString(this.getValue(v,"positionMode","percent")),u.spacingMode=t.spacingModeFromString(this.getValue(v,"spacingMode","length")),u.rotateMode=t.rotateModeFromString(this.getValue(v,"rotateMode","tangent")),u.offsetRotation=this.getValue(v,"rotation",0),u.position=this.getValue(v,"position",0),u.positionMode==ur.Fixed&&(u.position*=r),u.spacing=this.getValue(v,"spacing",0),(u.spacingMode==pi.Length||u.spacingMode==pi.Fixed)&&(u.spacing*=r),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var b in i.skins){var E=i.skins[b],w=new z6(b);for(var h in E){var S=n.findSlotIndex(h);if(S==-1)throw new Error("Slot not found: "+h);var c=E[h];for(var C in c){var T=this.readAttachment(c[C],w,S,C,n);T!=null&&w.addAttachment(S,C,T)}}n.skins.push(w),w.name=="default"&&(n.defaultSkin=w)}for(var o=0,I=this.linkedMeshes.length;o<I;o++){var A=this.linkedMeshes[o],w=A.skin==null?n.defaultSkin:n.findSkin(A.skin);if(w==null)throw new Error("Skin not found: "+A.skin);var R=w.getAttachment(A.slotIndex,A.parent);if(R==null)throw new Error("Parent mesh not found: "+A.parent);A.mesh.setParentMesh(R)}if(this.linkedMeshes.length=0,i.events)for(var O in i.events){var F=i.events[O],u=new B6(O);u.intValue=this.getValue(F,"int",0),u.floatValue=this.getValue(F,"float",0),u.stringValue=this.getValue(F,"string",""),u.audioPath=this.getValue(F,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(F,"volume",1),u.balance=this.getValue(F,"balance",0)),n.events.push(u)}if(i.animations)for(var k in i.animations){var $=i.animations[k];this.readAnimation($,k,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var f=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,f);if(l==null)return null;l.path=f,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var c=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(c==null)return null;this.readVertices(e,c,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"mesh":case"linkedmesh":{var f=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,f);if(h==null)return null;h.path=f;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u);var p=this.getValue(e,"parent",null);if(p!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new pEe(h,this.getValue(e,"skin",null),n,p)),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var f=this.attachmentLoader.newPathAttachment(r,i);if(f==null)return null;f.closed=this.getValue(e,"closed",!1),f.constantSpeed=this.getValue(e,"constantSpeed",!0);var m=e.vertexCount;this.readVertices(e,f,m<<1);for(var _=oe.newArray(m/3,0),v=0;v<e.lengths.length;v++)_[v]=e.lengths[v]*o;f.lengths=_;var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(g==null)return null;g.x=this.getValue(e,"x",0)*o,g.y=this.getValue(e,"y",0)*o,g.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&g.color.setFromString(u),g}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var x=this.getValue(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);y.endSlot=b}var m=e.vertexCount;this.readVertices(e,y,m<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=oe.toFloatArray(a);if(i!=1)for(var s=0,f=a.length;s<f;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,f=a.length;s<f;){var c=a[s++];u.push(c);for(var h=s+c*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=oe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var f=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in f){var c=f[u];if(u=="attachment"){var h=new V0(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p++,m.time,m.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new Sb(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d],_=new Be;_.setFromString(m.color||"ffffffff"),h.setFrame(p,m.time,_.r,_.g,_.b,_.a),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Sb.ENTRIES])}else if(u=="twoColor"){var h=new Cb(c.length);h.slotIndex=l;for(var p=0,d=0;d<c.length;d++){var m=c[d],v=new Be,g=new Be;v.setFromString(m.light),g.setFromString(m.dark),h.setFrame(p,m.time,v.r,v.g,v.b,v.a,g.r,g.g,g.b),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Cb.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var x=e.bones[y],b=n.findBoneIndex(y);if(b==-1)throw new Error("Bone not found: "+y);for(var u in x){var c=x[u];if(u==="rotate"){var h=new Bi(c.length);h.boneIndex=b;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,m.time,m.angle),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Bi.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1;u==="scale"?h=new S6(c.length):u==="shear"?h=new C6(c.length):(h=new Hc(c.length),E=i),h.boneIndex=b;for(var p=0,d=0;d<c.length;d++){var m=c[d],w=this.getValue(m,"x",0),S=this.getValue(m,"y",0);h.setFrame(p,m.time,w*E,S*E),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Hc.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var C in e.ik){var T=e.ik[C],I=n.findIkConstraint(C),h=new Tb(T.length);h.ikConstraintIndex=n.ikConstraints.indexOf(I);for(var p=0,d=0;d<T.length;d++){var m=T[d];h.setFrame(p,m.time,this.getValue(m,"mix",1),this.getValue(m,"bendPositive",!0)?1:-1,this.getValue(m,"compress",!1),this.getValue(m,"stretch",!1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Tb.ENTRIES])}if(e.transform)for(var C in e.transform){var T=e.transform[C],I=n.findTransformConstraint(C),h=new Ab(T.length);h.transformConstraintIndex=n.transformConstraints.indexOf(I);for(var p=0,d=0;d<T.length;d++){var m=T[d];h.setFrame(p,m.time,this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1),this.getValue(m,"scaleMix",1),this.getValue(m,"shearMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ab.ENTRIES])}if(e.paths)for(var C in e.paths){var T=e.paths[C],A=n.findPathConstraintIndex(C);if(A==-1)throw new Error("Path constraint not found: "+C);var R=n.pathConstraints[A];for(var u in T){var c=T[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new I6(c.length),(R.spacingMode==pi.Length||R.spacingMode==pi.Fixed)&&(E=i)):(h=new X0(c.length),R.positionMode==ur.Fixed&&(E=i)),h.pathConstraintIndex=A;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,m.time,this.getValue(m,u,0)*E),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*X0.ENTRIES])}else if(u==="mix"){var h=new Ib(c.length);h.pathConstraintIndex=A;for(var p=0,d=0;d<c.length;d++){var m=c[d];h.setFrame(p,m.time,this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1)),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ib.ENTRIES])}}}if(e.deform)for(var O in e.deform){var F=e.deform[O],k=n.findSkin(O);if(k!=null)for(var s in F){var f=F[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+f.name);for(var u in f){var c=f[u],$=k.getAttachment(l,u);if($==null)throw new Error("Deform attachment not found: "+c.name);var q=$.bones!=null,K=$.vertices,G=q?K.length/3*2:K.length,h=new T6(c.length);h.slotIndex=l,h.attachment=$;for(var p=0,N=0;N<c.length;N++){var m=c[N],j=void 0,M=this.getValue(m,"vertices",null);if(M==null)j=q?oe.newFloatArray(G):K;else{j=oe.newFloatArray(G);var D=this.getValue(m,"offset",0);if(oe.arrayCopy(M,0,j,D,M.length),i!=1)for(var d=D,J=d+M.length;d<J;d++)j[d]*=i;if(!q)for(var d=0;d<G;d++)j[d]+=K[d]}h.setFrame(p,m.time,j),this.readCurve(m,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var Q=e.drawOrder;if(Q==null&&(Q=e.draworder),Q!=null){for(var h=new G0(Q.length),se=n.slots.length,p=0,N=0;N<Q.length;N++){var re=Q[N],ue=null,Ee=this.getValue(re,"offsets",null);if(Ee!=null){ue=oe.newArray(se,-1);for(var xe=oe.newArray(se-Ee.length,0),de=0,pe=0,d=0;d<Ee.length;d++){var Ae=Ee[d],l=n.findSlotIndex(Ae.slot);if(l==-1)throw new Error("Slot not found: "+Ae.slot);for(;de!=l;)xe[pe++]=de++;ue[de+Ae.offset]=de++}for(;de<se;)xe[pe++]=de++;for(var d=se-1;d>=0;d--)ue[d]==-1&&(ue[d]=xe[--pe])}h.setFrame(p++,re.time,ue)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new A6(e.events.length),p=0,d=0;d<e.events.length;d++){var Fe=e.events[d],Te=n.findEvent(Fe.name);if(Te==null)throw new Error("Event not found: "+Fe.name);var ke=new L6(oe.toSinglePrecision(Fe.time),Te);ke.intValue=this.getValue(Fe,"int",Te.intValue),ke.floatValue=this.getValue(Fe,"float",Te.floatValue),ke.stringValue=this.getValue(Fe,"string",Te.stringValue),ke.data.audioPath!=null&&(ke.volume=this.getValue(Fe,"volume",1),ke.balance=this.getValue(Fe,"balance",0)),h.setFrame(p++,ke)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Xr(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return je.NORMAL;if(e=="additive")return je.ADD;if(e=="multiply")return je.MULTIPLY;if(e=="screen")return je.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return ur.Fixed;if(e=="percent")return ur.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return pi.Length;if(e=="fixed")return pi.Fixed;if(e=="percent")return pi.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return yr.Tangent;if(e=="chain")return yr.Chain;if(e=="chainscale")return yr.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return st.Normal;if(e=="onlytranslation")return st.OnlyTranslation;if(e=="norotationorreflection")return st.NoRotationOrReflection;if(e=="noscale")return st.NoScale;if(e=="noscaleorreflection")return st.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),pEe=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),vEe=function(t){Ar(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new V6(r),this.skeleton.updateWorldTransform(),this.stateData=new F6(r),this.state=new R6(this.stateData)},e}(gh);const mEe=Object.freeze(Object.defineProperty({__proto__:null,Animation:Xr,AnimationState:R6,AnimationStateAdapter2:hEe,AnimationStateData:F6,AtlasAttachmentLoader:k6,Attachment:c2,AttachmentTimeline:V0,Bone:Rb,BoneData:N6,BoundingBoxAttachment:b6,ClippingAttachment:E6,ColorTimeline:Sb,CurveTimeline:Ea,DeformTimeline:T6,DrawOrderTimeline:G0,Event:L6,EventData:B6,EventQueue:O6,EventTimeline:A6,get EventType(){return On},IkConstraint:M6,IkConstraintData:D6,IkConstraintTimeline:Tb,JitterEffect:fEe,MeshAttachment:h2,PathAttachment:Xc,PathConstraint:j6,PathConstraintData:U6,PathConstraintMixTimeline:Ib,PathConstraintPositionTimeline:X0,PathConstraintSpacingTimeline:I6,PointAttachment:w6,RegionAttachment:p2,RotateTimeline:Bi,ScaleTimeline:S6,ShearTimeline:C6,Skeleton:V6,SkeletonBounds:dEe,SkeletonData:G6,SkeletonJson:W6,Skin:z6,Slot:d2,SlotData:X6,get SpacingMode(){return pi},Spine:vEe,SwirlEffect:cEe,get TimelineType(){return nn},TrackEntry:P6,TransformConstraint:$6,TransformConstraintData:H6,TransformConstraintTimeline:Ab,TranslateTimeline:Hc,TwoColorTimeline:Cb,VertexAttachment:Gs},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pb=function(t,e){return Pb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Pb(t,e)};function _t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var v2=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),va=function(t){_t(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var f=r.bone.skeleton,l=r.deform,u=this.vertices,c=this.bones;if(!c){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,m=h.a,_=h.c,v=h.b,g=h.d,y=n,x=o;x<i;y+=2,x+=s){var b=u[y],E=u[y+1];a[x]=b*m+E*_+p,a[x+1]=b*v+E*g+d}return}for(var w=0,S=0,C=0;C<n;C+=2){var T=c[w];w+=T+1,S+=T}var I=f.bones;if(l.length==0)for(var x=o,_=S*3;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3){var h=I[c[w]].matrix,b=u[_],E=u[_+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}else for(var F=l,x=o,_=S*3,k=S<<1;x<i;x+=s){var A=0,R=0,T=c[w++];for(T+=w;w<T;w++,_+=3,k+=2){var h=I[c[w]].matrix,b=u[_]+F[k],E=u[_+1]+F[k+1],O=u[_+2];A+=(b*h.a+E*h.c+h.tx)*O,R+=(b*h.b+E*h.d+h.ty)*O}a[x]=A,a[x+1]=R}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),oe.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=oe.newFloatArray(this.vertices.length),oe.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(v2),Y6=function(t){_t(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.BoundingBox,n.color=new Be(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(va),q6=function(t){_t(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Clipping,n.endSlot=null,n.color=new Be(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(va),Fv=function(t){_t(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=vt.Mesh,i.region=null,i.triangles=[],i.color=new Be(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new Be(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),oe.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),oe.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),oe.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(va),zc=function(t){_t(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new Be(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),oe.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(va),K6=function(t){_t(e,t);function e(r){var n=t.call(this,r)||this;return n.type=vt.Point,n.x=0,n.y=0,n.rotation=0,n.color=new Be(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=W.cosDeg(this.rotation),a=W.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*W.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(va),m2=function(t){_t(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=vt.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new Be(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=oe.newFloatArray(8),i.uvs=oe.newFloatArray(8),i.tempColor=new Be(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,f=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),c=Math.sin(l),h=this.x,p=this.y,d=a*u+h,m=a*c,_=o*u+p,v=o*c,g=s*u+h,y=s*c,x=f*u+p,b=f*c,E=this.offset;E[0]=d-v,E[1]=_+m,E[2]=d-b,E[3]=x+m,E[4]=g-b,E[5]=x+y,E[6]=g-v,E[7]=_+y;var w=this.uvs;r.degrees==90?(w[2]=r.u,w[3]=r.v2,w[4]=r.u,w[5]=r.v,w[6]=r.u2,w[7]=r.v,w[0]=r.u2,w[1]=r.v2):(w[0]=r.u,w[1]=r.v2,w[2]=r.u,w[3]=r.v,w[4]=r.u2,w[5]=r.v,w[6]=r.u2,w[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,f=o.matrix,l=f.tx,u=f.ty,c=f.a,h=f.c,p=f.b,d=f.d,m=0,_=0;m=s[0],_=s[1],n[i]=m*c+_*h+l,n[i+1]=m*p+_*d+u,i+=a,m=s[2],_=s[3],n[i]=m*c+_*h+l,n[i+1]=m*p+_*d+u,i+=a,m=s[4],_=s[5],n[i]=m*c+_*h+l,n[i+1]=m*p+_*d+u,i+=a,m=s[6],_=s[7],n[i]=m*c+_*h+l,n[i+1]=m*p+_*d+u},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,oe.arrayCopy(this.uvs,0,r.uvs,0,8),oe.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(v2),g2=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return oe.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),Jr;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(Jr||(Jr={}));var _2=[Jr.hold,Jr.once,Jr.loop,Jr.pingpong,Jr.onceReverse,Jr.loopReverse,Jr.pingpongReverse],kv=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new o6,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,f){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(e,r,n,a,o,s,f)},t}(),Mt={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},br=function(){function t(e,r){this.propertyIds=r,this.frames=oe.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),zi=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=oe.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=oe.newFloatArray(n);oe.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,f,l,u,c,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var m=(a-s*2+l)*.03,_=(o-f*2+u)*.03,v=((s-l)*3-a+c)*.006,g=((f-u)*3-o+h)*.006,y=m*2+v,x=_*2+g,b=(s-a)*.3+m+v*.16666667,E=(f-o)*.3+_+g*.16666667,w=a+b,S=o+E,C=d+18;d<C;d+=2)p[d]=w,p[d+1]=S,b+=y,E+=x,y+=v,x+=g,w+=b,S+=E},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],f=this.frames[n+i];return f+(r-s)/(o[a]-s)*(o[a+1]-f)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var u=o[a-2],c=o[a-1];return c+(r-u)/(o[a]-u)*(o[a+1]-c)}n+=this.getFrameEntries();var h=o[l-2],p=o[l-1];return p+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-p)},e}(br),Wi=function(t){_t(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],f=n[i+1];return f+(r-s)/(n[i+2]-s)*(n[i+2+1]-f);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(zi),Nv=function(t){_t(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(zi),Wc=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.rotation=l.data.rotation;return;case X.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var c=this.getCurveValue(i);switch(s){case X.setup:l.rotation=l.data.rotation+c*o;break;case X.first:case X.replace:c+=l.data.rotation-l.rotation;case X.add:l.rotation+=c*o}}},e}(Wi),y2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.x+"|"+i,Mt.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.x=l.data.x,l.y=l.data.y;return;case X.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var c=0,h=0,p=br.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var m=u[p];c=u[p+1],h=u[p+2];var _=(i-m)/(u[p+3]-m);c+=(u[p+3+1]-c)*_,h+=(u[p+3+2]-h)*_;break;case 1:c=u[p+1],h=u[p+2];break;default:c=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case X.setup:l.x=l.data.x+c*o,l.y=l.data.y+h*o;break;case X.first:case X.replace:l.x+=(l.data.x+c-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case X.add:l.x+=c*o,l.y+=h*o}}},e}(Nv),x2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.x=l.data.x;return;case X.first:l.x+=(l.data.x-l.x)*o}return}var c=this.getCurveValue(i);switch(s){case X.setup:l.x=l.data.x+c*o;break;case X.first:case X.replace:l.x+=(l.data.x+c-l.x)*o;break;case X.add:l.x+=c*o}}},e}(Wi),b2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.y=l.data.y;return;case X.first:l.y+=(l.data.y-l.y)*o}return}var c=this.getCurveValue(i);switch(s){case X.setup:l.y=l.data.y+c*o;break;case X.first:case X.replace:l.y+=(l.data.y+c-l.y)*o;break;case X.add:l.y+=c*o}}},e}(Wi),E2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.scaleX+"|"+i,Mt.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case X.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var c,h,p=br.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var m=u[p];c=u[p+1],h=u[p+2];var _=(i-m)/(u[p+3]-m);c+=(u[p+3+1]-c)*_,h+=(u[p+3+2]-h)*_;break;case 1:c=u[p+1],h=u[p+2];break;default:c=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}if(c*=l.data.scaleX,h*=l.data.scaleY,o==1)s==X.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=c,l.scaleY=h);else{var v=0,g=0;if(f==ht.mixOut)switch(s){case X.setup:v=l.data.scaleX,g=l.data.scaleY,l.scaleX=v+(Math.abs(c)*W.signum(v)-v)*o,l.scaleY=g+(Math.abs(h)*W.signum(g)-g)*o;break;case X.first:case X.replace:v=l.scaleX,g=l.scaleY,l.scaleX=v+(Math.abs(c)*W.signum(v)-v)*o,l.scaleY=g+(Math.abs(h)*W.signum(g)-g)*o;break;case X.add:l.scaleX+=(c-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case X.setup:v=Math.abs(l.data.scaleX)*W.signum(c),g=Math.abs(l.data.scaleY)*W.signum(h),l.scaleX=v+(c-v)*o,l.scaleY=g+(h-g)*o;break;case X.first:case X.replace:v=Math.abs(l.scaleX)*W.signum(c),g=Math.abs(l.scaleY)*W.signum(h),l.scaleX=v+(c-v)*o,l.scaleY=g+(h-g)*o;break;case X.add:l.scaleX+=(c-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(Nv),w2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.scaleX=l.data.scaleX;return;case X.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var c=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==X.add?l.scaleX+=c-l.data.scaleX:l.scaleX=c;else{var h=0;if(f==ht.mixOut)switch(s){case X.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(c)*W.signum(h)-h)*o;break;case X.first:case X.replace:h=l.scaleX,l.scaleX=h+(Math.abs(c)*W.signum(h)-h)*o;break;case X.add:l.scaleX+=(c-l.data.scaleX)*o}else switch(s){case X.setup:h=Math.abs(l.data.scaleX)*W.signum(c),l.scaleX=h+(c-h)*o;break;case X.first:case X.replace:h=Math.abs(l.scaleX)*W.signum(c),l.scaleX=h+(c-h)*o;break;case X.add:l.scaleX+=(c-l.data.scaleX)*o}}}},e}(Wi),S2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.scaleY=l.data.scaleY;return;case X.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var c=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==X.add?l.scaleY+=c-l.data.scaleY:l.scaleY=c;else{var h=0;if(f==ht.mixOut)switch(s){case X.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(c)*W.signum(h)-h)*o;break;case X.first:case X.replace:h=l.scaleY,l.scaleY=h+(Math.abs(c)*W.signum(h)-h)*o;break;case X.add:l.scaleY+=(c-l.data.scaleY)*o}else switch(s){case X.setup:h=Math.abs(l.data.scaleY)*W.signum(c),l.scaleY=h+(c-h)*o;break;case X.first:case X.replace:h=Math.abs(l.scaleY)*W.signum(c),l.scaleY=h+(c-h)*o;break;case X.add:l.scaleY+=(c-l.data.scaleY)*o}}}},e}(Wi),C2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.shearX+"|"+i,Mt.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case X.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var c=0,h=0,p=br.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var m=u[p];c=u[p+1],h=u[p+2];var _=(i-m)/(u[p+3]-m);c+=(u[p+3+1]-c)*_,h+=(u[p+3+2]-h)*_;break;case 1:c=u[p+1],h=u[p+2];break;default:c=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case X.setup:l.shearX=l.data.shearX+c*o,l.shearY=l.data.shearY+h*o;break;case X.first:case X.replace:l.shearX+=(l.data.shearX+c-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case X.add:l.shearX+=c*o,l.shearY+=h*o}}},e}(Nv),T2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.shearX=l.data.shearX;return;case X.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var c=this.getCurveValue(i);switch(s){case X.setup:l.shearX=l.data.shearX+c*o;break;case X.first:case X.replace:l.shearX+=(l.data.shearX+c-l.shearX)*o;break;case X.add:l.shearX+=c*o}}},e}(Wi),A2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.shearY=l.data.shearY;return;case X.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var c=this.getCurveValue(i);switch(s){case X.setup:l.shearY=l.data.shearY+c*o;break;case X.first:case X.replace:l.shearY+=(l.data.shearY+c-l.shearY)*o;break;case X.add:l.shearY+=c*o}}},e}(Wi),I2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,[Mt.rgb+"|"+i,Mt.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color;if(i<u[0]){var h=l.data.color;switch(s){case X.setup:c.setFromColor(h);return;case X.first:c.add((h.r-c.r)*o,(h.g-c.g)*o,(h.b-c.b)*o,(h.a-c.a)*o)}return}var p=0,d=0,m=0,_=0,v=br.search(u,i,5),g=this.curves[v/5];switch(g){case 0:var y=u[v];p=u[v+1],d=u[v+2],m=u[v+3],_=u[v+4];var x=(i-y)/(u[v+5]-y);p+=(u[v+5+1]-p)*x,d+=(u[v+5+2]-d)*x,m+=(u[v+5+3]-m)*x,_+=(u[v+5+4]-_)*x;break;case 1:p=u[v+1],d=u[v+2],m=u[v+3],_=u[v+4];break;default:p=this.getBezierValue(i,v,1,g-2),d=this.getBezierValue(i,v,2,g+18-2),m=this.getBezierValue(i,v,3,g+18*2-2),_=this.getBezierValue(i,v,4,g+18*3-2)}o==1?c.set(p,d,m,_):(s==X.setup&&c.setFromColor(l.data.color),c.add((p-c.r)*o,(d-c.g)*o,(m-c.b)*o,(_-c.a)*o))}},e}(zi),R2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,[Mt.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color;if(i<u[0]){var h=l.data.color;switch(s){case X.setup:c.r=h.r,c.g=h.g,c.b=h.b;return;case X.first:c.r+=(h.r-c.r)*o,c.g+=(h.g-c.g)*o,c.b+=(h.b-c.b)*o}return}var p=0,d=0,m=0,_=br.search(u,i,4),v=this.curves[_>>2];switch(v){case 0:var g=u[_];p=u[_+1],d=u[_+2],m=u[_+3];var y=(i-g)/(u[_+4]-g);p+=(u[_+4+1]-p)*y,d+=(u[_+4+2]-d)*y,m+=(u[_+4+3]-m)*y;break;case 1:p=u[_+1],d=u[_+2],m=u[_+3];break;default:p=this.getBezierValue(i,_,1,v-2),d=this.getBezierValue(i,_,2,v+18-2),m=this.getBezierValue(i,_,3,v+18*2-2)}if(o==1)c.r=p,c.g=d,c.b=m;else{if(s==X.setup){var h=l.data.color;c.r=h.r,c.g=h.g,c.b=h.b}c.r+=(p-c.r)*o,c.g+=(d-c.g)*o,c.b+=(m-c.b)*o}}},e}(zi),P2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var c=l.data.color;switch(s){case X.setup:u.a=c.a;return;case X.first:u.a+=(c.a-u.a)*o}return}var h=this.getCurveValue(i);o==1?u.a=h:(s==X.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*o)}},e}(Wi),O2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,[Mt.rgb+"|"+i,Mt.alpha+"|"+i,Mt.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,f,l,u){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=f,this.frames[r+6]=l,this.frames[r+7]=u},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case X.setup:c.setFromColor(p),h.r=d.r,h.g=d.g,h.b=d.b;return;case X.first:c.add((p.r-c.r)*o,(p.g-c.g)*o,(p.b-c.b)*o,(p.a-c.a)*o),h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=0,E=br.search(u,i,8),w=this.curves[E>>3];switch(w){case 0:var S=u[E];m=u[E+1],_=u[E+2],v=u[E+3],g=u[E+4],y=u[E+5],x=u[E+6],b=u[E+7];var C=(i-S)/(u[E+8]-S);m+=(u[E+8+1]-m)*C,_+=(u[E+8+2]-_)*C,v+=(u[E+8+3]-v)*C,g+=(u[E+8+4]-g)*C,y+=(u[E+8+5]-y)*C,x+=(u[E+8+6]-x)*C,b+=(u[E+8+7]-b)*C;break;case 1:m=u[E+1],_=u[E+2],v=u[E+3],g=u[E+4],y=u[E+5],x=u[E+6],b=u[E+7];break;default:m=this.getBezierValue(i,E,1,w-2),_=this.getBezierValue(i,E,2,w+18-2),v=this.getBezierValue(i,E,3,w+18*2-2),g=this.getBezierValue(i,E,4,w+18*3-2),y=this.getBezierValue(i,E,5,w+18*4-2),x=this.getBezierValue(i,E,6,w+18*5-2),b=this.getBezierValue(i,E,7,w+18*6-2)}if(o==1)c.set(m,_,v,g),h.r=y,h.g=x,h.b=b;else{if(s==X.setup){c.setFromColor(l.data.color);var d=l.data.darkColor;h.r=d.r,h.g=d.g,h.b=d.b}c.add((m-c.r)*o,(_-c.g)*o,(v-c.b)*o,(g-c.a)*o),h.r+=(y-h.r)*o,h.g+=(x-h.g)*o,h.b+=(b-h.b)*o}}},e}(zi),F2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,[Mt.rgb+"|"+i,Mt.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,f,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=f,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case X.setup:c.r=p.r,c.g=p.g,c.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b;return;case X.first:c.r+=(p.r-c.r)*o,c.g+=(p.g-c.g)*o,c.b+=(p.b-c.b)*o,h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var m=0,_=0,v=0,g=0,y=0,x=0,b=br.search(u,i,7),E=this.curves[b/7];switch(E){case 0:var w=u[b];m=u[b+1],_=u[b+2],v=u[b+3],g=u[b+4],y=u[b+5],x=u[b+6];var S=(i-w)/(u[b+7]-w);m+=(u[b+7+1]-m)*S,_+=(u[b+7+2]-_)*S,v+=(u[b+7+3]-v)*S,g+=(u[b+7+4]-g)*S,y+=(u[b+7+5]-y)*S,x+=(u[b+7+6]-x)*S;break;case 1:m=u[b+1],_=u[b+2],v=u[b+3],g=u[b+4],y=u[b+5],x=u[b+6];break;default:m=this.getBezierValue(i,b,1,E-2),_=this.getBezierValue(i,b,2,E+18-2),v=this.getBezierValue(i,b,3,E+18*2-2),g=this.getBezierValue(i,b,4,E+18*3-2),y=this.getBezierValue(i,b,5,E+18*4-2),x=this.getBezierValue(i,b,6,E+18*5-2)}if(o==1)c.r=m,c.g=_,c.b=v,h.r=g,h.g=y,h.b=x;else{if(s==X.setup){var p=l.data.color,d=l.data.darkColor;c.r=p.r,c.g=p.g,c.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b}c.r+=(m-c.r)*o,c.g+=(_-c.g)*o,c.b+=(v-c.b)*o,h.r+=(g-h.r)*o,h.g+=(y-h.g)*o,h.b+=(x-h.b)*o}}},e}(zi),vs=function(t){_t(e,t);function e(r,n){var i=t.call(this,r,[Mt.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){if(f==ht.mixOut){s==X.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==X.setup||s==X.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[br.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}(br),k2=function(t){_t(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[Mt.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,f,l,u,c,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var m=(a-s*2+l)*.03,_=u*.03-f*.06,v=((s-l)*3-a+c)*.006,g=(f-u+.33333333)*.018,y=m*2+v,x=_*2+g,b=(s-a)*.3+m+v*.16666667,E=f*.3+_+g*.16666667,w=a+b,S=E,C=d+18;d<C;d+=2)p[d]=w,p[d+1]=S,b+=y,E+=x,y+=v,x+=g,w+=b,S+=E},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var f=a+18;for(a+=2;a<f;a+=2)if(i[a]>=r){var l=i[a-2],u=i[a-1];return u+(r-l)/(i[a]-l)*(i[a+1]-u)}var c=i[f-2],h=i[f-1];return h+(1-h)*(r-c)/(this.frames[n+this.getFrameEntries()]-c)},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof va)||u.timelineAttachment!=this.attachment)){var c=l.deform;c.length==0&&(s=X.setup);var h=this.vertices,p=h[0].length,d=this.frames;if(i<d[0]){switch(s){case X.setup:c.length=0;return;case X.first:if(o==1){c.length=0;return}c.length=p;var m=u;if(m.bones){o=1-o;for(var v=0;v<p;v++)c[v]*=o}else for(var _=m.vertices,v=0;v<p;v++)c[v]+=(_[v]-c[v])*o}return}if(c.length=p,i>=d[d.length-1]){var g=h[d.length-1];if(o==1)if(s==X.add){var m=u;if(m.bones)for(var x=0;x<p;x++)c[x]+=g[x];else for(var _=m.vertices,y=0;y<p;y++)c[y]+=g[y]-_[y]}else oe.arrayCopy(g,0,c,0,p);else switch(s){case X.setup:{var b=u;if(b.bones)for(var S=0;S<p;S++)c[S]=g[S]*o;else for(var _=b.vertices,E=0;E<p;E++){var w=_[E];c[E]=w+(g[E]-w)*o}break}case X.first:case X.replace:for(var C=0;C<p;C++)c[C]+=(g[C]-c[C])*o;break;case X.add:var m=u;if(m.bones)for(var I=0;I<p;I++)c[I]+=g[I]*o;else for(var _=m.vertices,T=0;T<p;T++)c[T]+=(g[T]-_[T])*o}return}var A=br.search1(d,i),R=this.getCurvePercent(i,A),O=h[A],F=h[A+1];if(o==1)if(s==X.add){var m=u;if(m.bones)for(var q=0;q<p;q++){var $=O[q];c[q]+=$+(F[q]-$)*R}else for(var _=m.vertices,k=0;k<p;k++){var $=O[k];c[k]+=$+(F[k]-$)*R-_[k]}}else for(var K=0;K<p;K++){var $=O[K];c[K]=$+(F[K]-$)*R}else switch(s){case X.setup:{var G=u;if(G.bones)for(var j=0;j<p;j++){var $=O[j];c[j]=($+(F[j]-$)*R)*o}else for(var _=G.vertices,N=0;N<p;N++){var $=O[N],w=_[N];c[N]=w+($+(F[N]-$)*R-w)*o}break}case X.first:case X.replace:for(var M=0;M<p;M++){var $=O[M];c[M]+=($+(F[M]-$)*R-c[M])*o}break;case X.add:var m=u;if(m.bones)for(var J=0;J<p;J++){var $=O[J];c[J]+=($+(F[J]-$)*R)*o}else for(var _=m.vertices,D=0;D<p;D++){var $=O[D];c[D]+=($+(F[D]-$)*R-_[D])*o}}}}},e}(zi),Lv=function(t){_t(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,f){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,f),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var c=0;if(n<l[0])c=0;else{c=br.search1(l,n)+1;for(var h=l[c];c>0&&l[c-1]==h;)c--}for(;c<u&&i>=l[c];c++)a.push(this.events[c])}}},e.propertyIds=[""+Mt.event],e}(br),Xl=function(t){_t(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,f){if(f==ht.mixOut){s==X.setup&&oe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==X.setup||s==X.first)&&oe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=br.search1(this.frames,i),u=this.drawOrders[l];if(!u)oe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var c=r.drawOrder,h=r.slots,p=0,d=u.length;p<d;p++)c[p]=h[u[p]]},e.propertyIds=[""+Mt.drawOrder],e}(br),N2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,[Mt.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,f){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=f?1:0},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case X.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var c=0,h=0,p=br.search(u,i,6),d=this.curves[p/6];switch(d){case 0:var m=u[p];c=u[p+1],h=u[p+2];var _=(i-m)/(u[p+6]-m);c+=(u[p+6+1]-c)*_,h+=(u[p+6+2]-h)*_;break;case 1:c=u[p+1],h=u[p+2];break;default:c=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}s==X.setup?(l.mix=l.data.mix+(c-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,f==ht.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0)):(l.mix+=(c-l.mix)*o,l.softness+=(h-l.softness)*o,f==ht.mixIn&&(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0))}},e}(zi),L2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,[Mt.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,f,l){var u=this.frames;r*=7,u[r]=n,u[r+1]=i,u[r+2]=a,u[r+3]=o,u[r+4]=s,u[r+5]=f,u[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var c=l.data;switch(s){case X.setup:l.mixRotate=c.mixRotate,l.mixX=c.mixX,l.mixY=c.mixY,l.mixScaleX=c.mixScaleX,l.mixScaleY=c.mixScaleY,l.mixShearY=c.mixShearY;return;case X.first:l.mixRotate+=(c.mixRotate-l.mixRotate)*o,l.mixX+=(c.mixX-l.mixX)*o,l.mixY+=(c.mixY-l.mixY)*o,l.mixScaleX+=(c.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(c.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(c.mixShearY-l.mixShearY)*o}return}var h,p,d,m,_,v,g=br.search(u,i,7),y=this.curves[g/7];switch(y){case 0:var x=u[g];h=u[g+1],p=u[g+2],d=u[g+3],m=u[g+4],_=u[g+5],v=u[g+6];var b=(i-x)/(u[g+7]-x);h+=(u[g+7+1]-h)*b,p+=(u[g+7+2]-p)*b,d+=(u[g+7+3]-d)*b,m+=(u[g+7+4]-m)*b,_+=(u[g+7+5]-_)*b,v+=(u[g+7+6]-v)*b;break;case 1:h=u[g+1],p=u[g+2],d=u[g+3],m=u[g+4],_=u[g+5],v=u[g+6];break;default:h=this.getBezierValue(i,g,1,y-2),p=this.getBezierValue(i,g,2,y+18-2),d=this.getBezierValue(i,g,3,y+18*2-2),m=this.getBezierValue(i,g,4,y+18*3-2),_=this.getBezierValue(i,g,5,y+18*4-2),v=this.getBezierValue(i,g,6,y+18*5-2)}if(s==X.setup){var c=l.data;l.mixRotate=c.mixRotate+(h-c.mixRotate)*o,l.mixX=c.mixX+(p-c.mixX)*o,l.mixY=c.mixY+(d-c.mixY)*o,l.mixScaleX=c.mixScaleX+(m-c.mixScaleX)*o,l.mixScaleY=c.mixScaleY+(_-c.mixScaleY)*o,l.mixShearY=c.mixShearY+(v-c.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(p-l.mixX)*o,l.mixY+=(d-l.mixY)*o,l.mixScaleX+=(m-l.mixScaleX)*o,l.mixScaleY+=(_-l.mixScaleY)*o,l.mixShearY+=(v-l.mixShearY)*o}},e}(zi),B2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.position=l.data.position;return;case X.first:l.position+=(l.data.position-l.position)*o}return}var c=this.getCurveValue(i);s==X.setup?l.position=l.data.position+(c-l.data.position)*o:l.position+=(c-l.position)*o}},e}(Wi),M2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,Mt.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.spacing=l.data.spacing;return;case X.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var c=this.getCurveValue(i);s==X.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*o:l.spacing+=(c-l.spacing)*o}},e}(Wi),D2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n,[Mt.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case X.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case X.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var c,h,p,d=br.search(u,i,4),m=this.curves[d>>2];switch(m){case 0:var _=u[d];c=u[d+1],h=u[d+2],p=u[d+3];var v=(i-_)/(u[d+4]-_);c+=(u[d+4+1]-c)*v,h+=(u[d+4+2]-h)*v,p+=(u[d+4+3]-p)*v;break;case 1:c=u[d+1],h=u[d+2],p=u[d+3];break;default:c=this.getBezierValue(i,d,1,m-2),h=this.getBezierValue(i,d,2,m+18-2),p=this.getBezierValue(i,d,3,m+18*2-2)}if(s==X.setup){var g=l.data;l.mixRotate=g.mixRotate+(c-g.mixRotate)*o,l.mixX=g.mixX+(h-g.mixX)*o,l.mixY=g.mixY+(p-g.mixY)*o}else l.mixRotate+=(c-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(p-l.mixY)*o}},e}(zi),U2=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,[Mt.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,f){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,c=this.attachment;if(!(u!=c&&(!(u instanceof va)||u.timelineAttachment!=c))){var h=this.frames;if(i<h[0]){(s==X.setup||s==X.first)&&(l.sequenceIndex=-1);return}var p=br.search(h,i,e.ENTRIES),d=h[p],m=h[p+e.MODE],_=h[p+e.DELAY];if(this.attachment.sequence){var v=m>>4,g=this.attachment.sequence.regions.length,y=_2[m&15];if(y!=Jr.hold)switch(v+=(i-d)/_+1e-5|0,y){case Jr.once:v=Math.min(g-1,v);break;case Jr.loop:v%=g;break;case Jr.pingpong:{var x=(g<<1)-2;v=x==0?0:v%x,v>=g&&(v=x-v);break}case Jr.onceReverse:v=Math.max(g-1-v,0);break;case Jr.loopReverse:v=g-1-v%g;break;case Jr.pingpongReverse:{var x=(g<<1)-2;v=x==0?0:(v+g-1)%x,v>=g&&(v=x-v)}}l.sequenceIndex=v}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}(br),Z6=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new Q6(this),this.propertyIDs=new o6,this.animationsChanged=!1,this.trackEntryPool=new Iv(function(){return new J6}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var f=a.trackLast-s.delay;if(f>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(f/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var f=a==0?X.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,f):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,c=s.getAnimationTime(),h=c,p=r;s.reverse&&(h=s.animation.duration-h,p=null);var d=s.animation.timelines,m=d.length;if(a==0&&l==1||f==X.add)for(var _=0;_<m;_++){oe.webkit602BugfixHelper(l,f);var v=d[_];v instanceof vs?this.applyAttachmentTimeline(v,e,h,f,!0):v.apply(e,u,h,p,l,f,ht.mixIn)}else{var g=s.timelineMode,y=s.shortestRotation,x=!y&&s.timelinesRotation.length!=m<<1;x&&(s.timelinesRotation.length=m<<1);for(var _=0;_<m;_++){var b=d[_],E=g[_]==G_?f:X.setup;!y&&b instanceof Wc?this.applyRotateTimeline(b,e,h,l,E,s.timelinesRotation,_<<1,x):b instanceof vs?this.applyAttachmentTimeline(b,e,h,f,!0):(oe.webkit602BugfixHelper(l,f),b.apply(e,u,h,p,l,E,ht.mixIn))}}this.queueEvents(s,c),r.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}for(var w=this.unkeyedState+mF,S=e.slots,C=0,T=e.slots.length;C<T;C++){var I=S[C];if(I.attachmentState==w){var A=I.data.attachmentName;I.setAttachment(A?e.getAttachment(I.data.index,A):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==X.first&&(n=X.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=X.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,f=i.animation.timelines,l=f.length,u=i.alpha*e.interruptAlpha,c=u*(1-a),h=i.animationLast,p=i.getAnimationTime(),d=p,m=null;if(i.reverse?d=i.animation.duration-d:a<i.eventThreshold&&(m=this.events),n==X.add)for(var _=0;_<l;_++)f[_].apply(r,h,d,m,c,n,ht.mixOut);else{var v=i.timelineMode,g=i.timelineHoldMix,y=i.shortestRotation,x=!y&&i.timelinesRotation.length!=l<<1;x&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var _=0;_<l;_++){var b=f[_],E=ht.mixOut,w=void 0,S=0;switch(v[_]){case G_:if(!s&&b instanceof Xl)continue;w=n,S=c;break;case pF:w=X.setup,S=c;break;case vF:w=n,S=u;break;case X_:w=X.setup,S=u;break;default:w=X.setup;var C=g[_];S=u*Math.max(0,1-C.mixTime/C.mixDuration);break}i.totalAlpha+=S,!y&&b instanceof Wc?this.applyRotateTimeline(b,r,d,S,w,i.timelinesRotation,_<<1,x):b instanceof vs?this.applyAttachmentTimeline(b,r,d,w,o):(oe.webkit602BugfixHelper(S,n),s&&b instanceof Xl&&w==X.setup&&(E=ht.mixIn),b.apply(r,h,d,m,S,w,E))}}return e.mixDuration>0&&this.queueEvents(i,p),this.events.length=0,i.nextAnimationLast=p,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==X.setup||i==X.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[br.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+mF))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+yEe)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,f){if(f&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,ht.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var u=e.frames,c=0,h=0;if(n<u[0])switch(a){case X.setup:l.rotation=l.data.rotation;default:return;case X.first:c=l.rotation,h=l.data.rotation}else c=a==X.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var p=0,d=h-c;if(d-=(16384-(16384.499999999996-d/360|0))*360,d==0)p=o[s];else{var m=0,_=0;f?(m=0,_=d):(m=o[s],_=o[s+1]);var v=d>0,g=m>=0;W.signum(_)!=W.signum(d)&&Math.abs(_)<=90&&(Math.abs(m)>180&&(m+=360*W.signum(m)),g=v),p=d+m-m%360,g!=v&&(p+=360*W.signum(m)),o[s]=p}o[s+1]=d,l.rotation=c+p*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,f=0,l=s.length;f<l;f++){var u=s[f];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var c=!1;for(e.loop?c=a==0||o>e.trackTime%a:c=r>=i&&e.animationLast<i,c&&this.queue.complete(e);f<l;f++){var h=s[f];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(oe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=X.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=X.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var f=0;f<i;f++)a[f]=s.addAll(n[f].getPropertyIds())?X_:vF;return}e:for(var f=0;f<i;f++){var l=n[f],u=l.getPropertyIds();if(!s.addAll(u))a[f]=G_;else if(!r||l instanceof vs||l instanceof Xl||l instanceof Lv||!r.animation.hasTimeline(u))a[f]=pF;else{for(var c=r.mixingTo;c;c=c.mixingTo)if(!c.animation.hasTimeline(u)){if(e.mixDuration>0){a[f]=_Ee,o[f]=c;continue e}break}a[f]=X_}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new kv("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),J6=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=X.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),Q6=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Fn.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Fn.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Fn.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Fn.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Fn.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Fn.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Fn.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case Fn.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case Fn.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case Fn.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case Fn.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case Fn.event:var f=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,f);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,f)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),Fn;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Fn||(Fn={}));var gEe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),G_=0,pF=1,vF=2,X_=3,_Ee=4,mF=1,yEe=2,e5=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),j2=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),f=this.atlas.findRegion(s);if(f==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=f,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new m2(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new Fv(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new Y6(r)},t.prototype.newPathAttachment=function(e,r){return new zc(r)},t.prototype.newPointAttachment=function(e,r){return new K6(r)},t.prototype.newClippingAttachment=function(e,r){return new q6(r)},t}(),Ob=function(){function t(e,r,n){if(this.matrix=new ar,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var f=this.parent,l=this.matrix,u=this.skeleton.scaleX,c=-this.skeleton.scaleY;if(!f){var h=this.skeleton,p=n+90+s;l.a=W.cosDeg(n+o)*i*u,l.c=W.cosDeg(p)*a*u,l.b=W.sinDeg(n+o)*i*c,l.d=W.sinDeg(p)*a*c,l.tx=e*u+h.x,l.ty=r*c+h.y;return}var d=f.matrix.a,m=f.matrix.c,_=f.matrix.b,v=f.matrix.d;switch(l.tx=d*e+m*r+f.matrix.tx,l.ty=_*e+v*r+f.matrix.ty,this.data.transformMode){case st.Normal:{var p=n+90+s,g=W.cosDeg(n+o)*i,y=W.cosDeg(p)*a,x=W.sinDeg(n+o)*i,b=W.sinDeg(p)*a;l.a=d*g+m*x,l.c=d*y+m*b,l.b=_*g+v*x,l.d=_*y+v*b;return}case st.OnlyTranslation:{var p=n+90+s;l.a=W.cosDeg(n+o)*i,l.c=W.cosDeg(p)*a,l.b=W.sinDeg(n+o)*i,l.d=W.sinDeg(p)*a;break}case st.NoRotationOrReflection:{var E=d*d+_*_,w=0;E>1e-4?(E=Math.abs(d*v-m*_)/E,d/=u,_/=c,m=_*E,v=d*E,w=Math.atan2(_,d)*W.radDeg):(d=0,_=0,w=90-Math.atan2(v,m)*W.radDeg);var S=n+o-w,C=n+s-w+90,g=W.cosDeg(S)*i,y=W.cosDeg(C)*a,x=W.sinDeg(S)*i,b=W.sinDeg(C)*a;l.a=d*g-m*x,l.c=d*y-m*b,l.b=_*g+v*x,l.d=_*y+v*b;break}case st.NoScale:case st.NoScaleOrReflection:{var T=W.cosDeg(n),I=W.sinDeg(n),A=(d*T+m*I)/u,R=(_*T+v*I)/c,E=Math.sqrt(A*A+R*R);E>1e-5&&(E=1/E),A*=E,R*=E,E=Math.sqrt(A*A+R*R),this.data.transformMode==st.NoScale&&d*v-m*_<0!=(u<0!=c<0)&&(E=-E);var O=Math.PI/2+Math.atan2(R,A),F=Math.cos(O)*E,k=Math.sin(O)*E,g=W.cosDeg(o)*i,y=W.cosDeg(90+s)*a,x=W.sinDeg(o)*i,b=W.sinDeg(90+s)*a;l.a=A*g+F*x,l.c=A*y+F*b,l.b=R*g+k*x,l.d=R*y+k*b;break}}l.a*=u,l.c*=u,l.b*=c,l.d*=c},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*W.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*W.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*W.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*W.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,f=i*n.a,l=i*n.c,u=i*n.b,c=s*r.a-l*r.b,h=s*r.c-l*r.d,p=f*r.b-u*r.a,d=f*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+p*p),this.ascaleX>1e-4){var m=c*d-h*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*h+p*d,m)*W.radDeg,this.arotation=Math.atan2(p,c)*W.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*W.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),f=e.x-r.tx,l=e.y-r.ty;return e.x=f*o*s-l*i*s,e.y=l*n*s-f*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*W.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=W.sinDeg(e),n=W.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*W.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=W.cosDeg(e),f=W.sinDeg(e);r.a=s*n-f*a,r.c=s*i-f*o,r.b=f*n+s*a,r.d=f*i+s*o},t}(),$2=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=st.Normal,this.skinRequired=!1,this.color=new Be,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),Bv=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),V2=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),G2=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),t5=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var f=e.parent.matrix;if(!f)throw new Error("IK bone must have parent.");var l=f.a,u=f.c,c=f.b,h=f.d,p=-e.ashearX-e.arotation,d=0,m=0,_=e.skeleton.scaleX,v=-e.skeleton.scaleY;switch(e.data.transformMode){case st.OnlyTranslation:d=r-e.worldX,m=n-e.worldY,m=-m;break;case st.NoRotationOrReflection:var g=Math.abs(l*h-u*c)/(l*l+c*c),y=l/_,x=c/v;u=-x*g*_,h=y*g*v,p+=Math.atan2(x,y)*W.radDeg;default:var b=r-f.tx,E=n-f.ty,w=l*h-u*c;d=(b*h-E*u)/w-e.ax,m=(E*l-b*c)/w-e.ay}p+=Math.atan2(m,d)*W.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var S=e.ascaleX,C=e.ascaleY;if(i||a){switch(e.data.transformMode){case st.NoScale:case st.NoScaleOrReflection:d=r-e.worldX,m=n-e.worldY}var T=e.data.length*S,I=Math.sqrt(d*d+m*m);if(i&&I<T||a&&I>T&&T>1e-4){var g=(I/T-1)*s+1;S*=g,o&&(C*=g)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,S,C,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,f,l){var u=e.ax,c=e.ay,h=e.ascaleX,p=e.ascaleY,d=h,m=p,_=r.ascaleX,v=e.matrix,g=0,y=0,x=0;h<0?(h=-h,g=180,x=-1):(g=0,x=1),p<0&&(p=-p,x=-x),_<0?(_=-_,y=180):y=0;var b=r.ax,E=0,w=0,S=0,C=v.a,T=v.c,I=v.b,A=v.d,R=Math.abs(h-p)<=1e-4;!R||o?(E=0,w=C*b+v.tx,S=I*b+v.ty):(E=r.ay,w=C*b+T*E+v.tx,S=I*b+A*E+v.ty);var O=e.parent.matrix;if(!O)throw new Error("IK parent must itself have a parent.");C=O.a,T=O.c,I=O.b,A=O.d;var F=1/(C*A-T*I),k=w-O.tx,$=S-O.ty,q=(k*A-$*T)*F-u,K=($*C-k*I)*F-c,G=Math.sqrt(q*q+K*K),N=r.data.length*_,j,M;if(G<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(b,E,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}k=n-O.tx,$=i-O.ty;var D=(k*A-$*T)*F-u,J=($*C-k*I)*F-c,Q=D*D+J*J;if(f!=0){f*=h*(_+1)*.5;var se=Math.sqrt(Q),re=se-G-N*h+f;if(re>0){var ue=Math.min(1,re/(f*2))-1;ue=(re-f*(1-ue*ue))/se,D-=ue*D,J-=ue*J,Q=D*D+J*J}}e:if(R){N*=h;var Ee=(Q-G*G-N*N)/(2*G*N);Ee<-1?(Ee=-1,M=Math.PI*a):Ee>1?(Ee=1,M=0,o&&(C=(Math.sqrt(Q)/(G+N)-1)*l+1,d*=C,s&&(m*=C))):M=Math.acos(Ee)*a,C=G+N*Ee,T=N*Math.sin(M),j=Math.atan2(J*C-D*T,D*C+J*T)}else{C=h*N,T=p*N;var xe=C*C,de=T*T,pe=Math.atan2(J,D);I=de*G*G+xe*Q-xe*de;var Ae=-2*de*G,Fe=de-xe;if(A=Ae*Ae-4*Fe*I,A>=0){var Te=Math.sqrt(A);Ae<0&&(Te=-Te),Te=-(Ae+Te)*.5;var ke=Te/Fe,Ne=I/Te,Ze=Math.abs(ke)<Math.abs(Ne)?ke:Ne;if(Ze*Ze<=Q){$=Math.sqrt(Q-Ze*Ze)*a,j=pe-Math.atan2($,Ze),M=Math.atan2($/p,(Ze-G)/h);break e}}var ct=W.PI,Je=G-C,qe=Je*Je,at=0,Tt=0,kt=G+C,At=kt*kt,It=0;I=-C*G/(xe-de),I>=-1&&I<=1&&(I=Math.acos(I),k=C*Math.cos(I)+G,$=T*Math.sin(I),A=k*k+$*$,A<qe&&(ct=I,qe=A,Je=k,at=$),A>At&&(Tt=I,At=A,kt=k,It=$)),Q<=(qe+At)*.5?(j=pe-Math.atan2(at*a,Je),M=ct*a):(j=pe-Math.atan2(It*a,kt),M=Tt*a)}var tt=Math.atan2(E,b)*x,Nt=e.arotation;j=(j-tt)*W.radDeg+g-Nt,j>180?j-=360:j<-180&&(j+=360),e.updateWorldTransformWith(u,c,Nt+j*l,d,m,0,0),Nt=r.arotation,M=((M+tt)*W.radDeg-r.ashearX)*x+y-Nt,M>180?M-=360:M<-180&&(M+=360),r.updateWorldTransformWith(b,E,Nt+M*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),X2=function(t){_t(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Bv),H2=function(t){_t(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=ur.Fixed,n.spacingMode=Or.Fixed,n.rotateMode=yr.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Bv),Or;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(Or||(Or={}));var r5=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof zc){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==yr.Tangent,s=a.rotateMode==yr.ChainScale,f=this.bones,l=f.length,u=o?l:l+1,c=oe.setArraySize(this.spaces,u),h=s?this.lengths=oe.setArraySize(this.lengths,l):[],p=this.spacing;switch(a.spacingMode){case Or.Percent:if(s)for(var d=0,m=u-1;d<m;d++){var _=f[d],v=_.data.length;if(v<t.epsilon)h[d]=0;else{var g=v*_.matrix.a,y=v*_.matrix.b;h[d]=Math.sqrt(g*g+y*y)}}oe.arrayFill(c,1,u,p);break;case Or.Proportional:for(var x=0,d=0,m=u-1;d<m;){var _=f[d],v=_.data.length;if(v<t.epsilon)s&&(h[d]=0),c[++d]=p;else{var g=v*_.matrix.a,y=v*_.matrix.b,b=Math.sqrt(g*g+y*y);s&&(h[d]=b),c[++d]=b,x+=b}}if(x>0){x=u/x*p;for(var d=1;d<u;d++)c[d]*=x}break;default:for(var E=a.spacingMode==Or.Length,d=0,m=u-1;d<m;){var _=f[d],v=_.data.length;if(v<t.epsilon)s&&(h[d]=0),c[++d]=p;else{var g=v*_.matrix.a,y=v*_.matrix.b,w=Math.sqrt(g*g+y*y);s&&(h[d]=w),c[++d]=(E?v+p:p)*w/v}}}var S=this.computeWorldPositions(e,u,o),C=S[0],T=S[1],I=a.offsetRotation,A=!1;if(I==0)A=a.rotateMode==yr.Chain;else{A=!1;var R=this.target.bone.matrix;I*=R.a*R.d-R.b*R.c>0?W.degRad:-W.degRad}for(var d=0,R=3;d<l;d++,R+=3){var _=f[d],O=_.matrix;O.tx+=(C-O.tx)*n,O.ty+=(T-O.ty)*i;var g=S[R],y=S[R+1],F=g-C,k=y-T;if(s){var $=h[d];if($!=0){var q=(Math.sqrt(F*F+k*k)/$-1)*r+1;O.a*=q,O.b*=q}}if(C=g,T=y,r>0){var K=O.a,G=O.c,N=O.b,j=O.d,M=0,D=0,J=0;if(o?M=S[R-1]:c[d+1]==0?M=S[R+2]:M=Math.atan2(k,F),M-=Math.atan2(N,K),A){D=Math.cos(M),J=Math.sin(M);var Q=_.data.length;C+=(Q*(D*K-J*N)-F)*r,T+=(Q*(J*K+D*N)-k)*r}else M+=I;M>W.PI?M-=W.PI2:M<-W.PI&&(M+=W.PI2),M*=r,D=Math.cos(M),J=Math.sin(M),O.a=D*K-J*N,O.c=D*G-J*j,O.b=J*K+D*N,O.d=J*G+D*j}_.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=oe.setArraySize(this.positions,r*3+2),f=this.world,l=e.closed,u=e.worldVerticesLength,c=u/6,h=t.NONE;if(!e.constantSpeed){var p=e.lengths;c-=l?1:2;var d=p[c];this.data.positionMode==ur.Percent&&(a*=d);var m;switch(this.data.spacingMode){case Or.Percent:m=d;break;case Or.Proportional:m=d/r;break;default:m=1}f=oe.setArraySize(this.world,8);for(var _=0,v=0,g=0;_<r;_++,v+=3){var y=o[_]*m;a+=y;var x=a;if(l)x%=d,x<0&&(x+=d),g=0;else if(x<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,f,0,2)),this.addBeforePosition(x,f,0,s,v);continue}else if(x>d){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,u-6,4,f,0,2)),this.addAfterPosition(x-d,f,0,s,v);continue}for(;;g++){var b=p[g];if(!(x>b)){if(g==0)x/=b;else{var E=p[g-1];x=(x-E)/(b-E)}break}}g!=h&&(h=g,l&&g==c?(e.computeWorldVertices(i,u-4,4,f,0,2),e.computeWorldVertices(i,0,4,f,4,2)):e.computeWorldVertices(i,g*6+2,8,f,0,2)),this.addCurvePosition(x,f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],s,v,n||_>0&&y==0)}return s}l?(u+=2,f=oe.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,f,0,2),e.computeWorldVertices(i,0,2,f,u-4,2),f[u-2]=f[0],f[u-1]=f[1]):(c--,u-=4,f=oe.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,f,0,2));for(var w=oe.setArraySize(this.curves,c),S=0,C=f[0],T=f[1],I=0,A=0,R=0,O=0,F=0,k=0,$=0,q=0,K=0,G=0,N=0,j=0,M=0,D=0,_=0,J=2;_<c;_++,J+=6)I=f[J],A=f[J+1],R=f[J+2],O=f[J+3],F=f[J+4],k=f[J+5],$=(C-I*2+R)*.1875,q=(T-A*2+O)*.1875,K=((I-R)*3-C+F)*.09375,G=((A-O)*3-T+k)*.09375,N=$*2+K,j=q*2+G,M=(I-C)*.75+$+K*.16666667,D=(A-T)*.75+q+G*.16666667,S+=Math.sqrt(M*M+D*D),M+=N,D+=j,N+=K,j+=G,S+=Math.sqrt(M*M+D*D),M+=N,D+=j,S+=Math.sqrt(M*M+D*D),M+=N+K,D+=j+G,S+=Math.sqrt(M*M+D*D),w[_]=S,C=F,T=k;this.data.positionMode==ur.Percent&&(a*=S);var Q;switch(this.data.spacingMode){case Or.Percent:Q=S;break;case Or.Proportional:Q=S/r;break;default:Q=1}for(var se=this.segments,re=0,_=0,v=0,g=0,ue=0;_<r;_++,v+=3){var y=o[_]*Q;a+=y;var x=a;if(l)x%=S,x<0&&(x+=S),g=0;else if(x<0){this.addBeforePosition(x,f,0,s,v);continue}else if(x>S){this.addAfterPosition(x-S,f,u-4,s,v);continue}for(;;g++){var Ee=w[g];if(!(x>Ee)){if(g==0)x/=Ee;else{var E=w[g-1];x=(x-E)/(Ee-E)}break}}if(g!=h){h=g;var xe=g*6;for(C=f[xe],T=f[xe+1],I=f[xe+2],A=f[xe+3],R=f[xe+4],O=f[xe+5],F=f[xe+6],k=f[xe+7],$=(C-I*2+R)*.03,q=(T-A*2+O)*.03,K=((I-R)*3-C+F)*.006,G=((A-O)*3-T+k)*.006,N=$*2+K,j=q*2+G,M=(I-C)*.3+$+K*.16666667,D=(A-T)*.3+q+G*.16666667,re=Math.sqrt(M*M+D*D),se[0]=re,xe=1;xe<8;xe++)M+=N,D+=j,N+=K,j+=G,re+=Math.sqrt(M*M+D*D),se[xe]=re;M+=N,D+=j,re+=Math.sqrt(M*M+D*D),se[8]=re,M+=N+K,D+=j+G,re+=Math.sqrt(M*M+D*D),se[9]=re,ue=0}for(x*=re;;ue++){var de=se[ue];if(!(x>de)){if(ue==0)x/=de;else{var E=se[ue-1];x=ue+(x-E)/(de-E)}break}}this.addCurvePosition(x*.1,C,T,I,A,R,O,F,k,s,v,n||_>0&&y==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],f=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],f=o-r[n],l=s-r[n+1],u=Math.atan2(l,f);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,f,l,u,c,h){if(e==0||isNaN(e)){u[c]=r,u[c+1]=n,u[c+2]=Math.atan2(a-n,i-r);return}var p=e*e,d=p*e,m=1-e,_=m*m,v=_*m,g=m*e,y=g*3,x=m*y,b=y*e,E=r*v+i*x+o*b+f*d,w=n*v+a*x+s*b+l*d;u[c]=E,u[c+1]=w,h&&(e<.001?u[c+2]=Math.atan2(a-n,i-r):u[c+2]=Math.atan2(w-(n*_+a*g*2+s*p),E-(r*_+i*g*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),n5=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new Be,this.darkColor=e.darkColor?new Be:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof va)||!(this.attachment instanceof va)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),i5=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new Mc,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,f=this.target,l=f.matrix,u=l.a,c=l.c,h=l.b,p=l.d,d=u*p-c*h>0?W.degRad:-W.degRad,m=this.data.offsetRotation*d,_=this.data.offsetShearY*d,v=this.bones,g=0,y=v.length;g<y;g++){var x=v[g],b=x.matrix;if(e!=0){var E=b.a,w=b.c,S=b.b,C=b.d,T=Math.atan2(h,u)-Math.atan2(S,E)+m;T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2),T*=e;var I=Math.cos(T),A=Math.sin(T);b.a=I*E-A*S,b.c=I*w-A*C,b.b=A*E+I*S,b.d=A*w+I*C}if(s){var R=this.temp;f.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=(R.x-b.tx)*r,b.ty+=(R.y-b.ty)*n}if(i!=0){var O=Math.sqrt(b.a*b.a+b.b*b.b);O!=0&&(O=(O+(Math.sqrt(u*u+h*h)-O+this.data.offsetScaleX)*i)/O),b.a*=O,b.b*=O}if(a!=0){var O=Math.sqrt(b.c*b.c+b.d*b.d);O!=0&&(O=(O+(Math.sqrt(c*c+p*p)-O+this.data.offsetScaleY)*a)/O),b.c*=O,b.d*=O}if(o>0){var w=b.c,C=b.d,F=Math.atan2(C,w),T=Math.atan2(p,c)-Math.atan2(h,u)-(F-Math.atan2(b.b,b.a));T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2),T=F+(T+_)*o;var O=Math.sqrt(w*w+C*C);b.c=Math.cos(T)*O,b.d=Math.sin(T)*O}x.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,f=this.target,l=f.matrix,u=l.a,c=l.c,h=l.b,p=l.d,d=u*p-c*h>0?W.degRad:-W.degRad,m=this.data.offsetRotation*d,_=this.data.offsetShearY*d,v=this.bones,g=0,y=v.length;g<y;g++){var x=v[g],b=x.matrix;if(e!=0){var E=b.a,w=b.c,S=b.b,C=b.d,T=Math.atan2(h,u)+m;T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2),T*=e;var I=Math.cos(T),A=Math.sin(T);b.a=I*E-A*S,b.c=I*w-A*C,b.b=A*E+I*S,b.d=A*w+I*C}if(s){var R=this.temp;f.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=R.x*r,b.ty+=R.y*n}if(i!=0){var O=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;b.a*=O,b.b*=O}if(a!=0){var O=(Math.sqrt(c*c+p*p)-1+this.data.offsetScaleY)*a+1;b.c*=O,b.d*=O}if(o>0){var T=Math.atan2(p,c)-Math.atan2(h,u);T>W.PI?T-=W.PI2:T<-W.PI&&(T+=W.PI2);var w=b.c,C=b.d;T=Math.atan2(C,w)+(T-W.PI/2+_)*o;var O=Math.sqrt(w*w+C*C);b.c=Math.cos(T)*O,b.d=Math.sin(T)*O}x.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,f=this.bones,l=0,u=f.length;l<u;l++){var c=f[l],h=c.arotation;if(e!=0){var p=s.arotation-h+this.data.offsetRotation;p-=(16384-(16384.499999999996-p/360|0))*360,h+=p*e}var d=c.ax,m=c.ay;d+=(s.ax-d+this.data.offsetX)*r,m+=(s.ay-m+this.data.offsetY)*n;var _=c.ascaleX,v=c.ascaleY;i!=0&&_!=0&&(_=(_+(s.ascaleX-_+this.data.offsetScaleX)*i)/_),a!=0&&v!=0&&(v=(v+(s.ascaleY-v+this.data.offsetScaleY)*a)/v);var g=c.ashearY;if(o!=0){var p=s.ashearY-g+this.data.offsetShearY;p-=(16384-(16384.499999999996-p/360|0))*360,g+=p*o}c.updateWorldTransformWith(d,m,h,_,v,c.ashearX,g)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,f=this.bones,l=0,u=f.length;l<u;l++){var c=f[l],h=c.arotation+(s.arotation+this.data.offsetRotation)*e,p=c.ax+(s.ax+this.data.offsetX)*r,d=c.ay+(s.ay+this.data.offsetY)*n,m=c.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),_=c.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),v=c.ashearY+(s.ashearY+this.data.offsetShearY)*o;c.updateWorldTransformWith(p,d,h,m,_,c.ashearX,v)}},t}(),a5=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new Ob(n,this,null);else{var a=this.bones[n.parent.index];i=new Ob(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new n5(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var f=e.ikConstraints[r];this.ikConstraints.push(new t5(f,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new i5(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new r5(u,this))}this.color=new Be(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,f=this.transformConstraints,l=this.pathConstraints,u=s.length,c=f.length,h=l.length,p=u+c+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var m=s[d];if(m.data.order==n){this.sortIkConstraint(m);continue e}}for(var d=0;d<c;d++){var m=f[d];if(m.data.order==n){this.sortTransformConstraint(m);continue e}}for(var d=0;d<h;d++){var m=l[d];if(m.data.order==n){this.sortPathConstraint(m);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof zc&&this.sortPathConstraintAttachmentWith(s,i);for(var f=e.bones,l=f.length,a=0;a<l;a++)this.sortBone(f[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(f[a].children);for(var a=0;a<l;a++)f[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&oe.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof zc){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,f=W.cosDeg(r.rotation+r.shearX)*r.scaleX,l=W.cosDeg(s)*r.scaleY,u=W.sinDeg(r.rotation+r.shearX)*r.scaleX,c=W.sinDeg(s)*r.scaleY,h=this.scaleX,p=-this.scaleY;r.matrix.a=(n*f+i*u)*h,r.matrix.c=(n*l+i*c)*h,r.matrix.b=(a*f+o*u)*p,r.matrix.d=(a*l+o*c)*p;for(var d=this._updateCache,m=0,_=d.length;m<_;m++){var v=d[m];v!=r&&v.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var f=this.pathConstraints,r=0,n=f.length;r<n;r++){var a=f[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;oe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new Mc,r=new Mc;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var c=i[l];if(c.bone.active){var h=0,p=null,d=c.getAttachment();if(d instanceof m2)h=8,p=oe.setArraySize(n,h,0),d.computeWorldVertices(c,p,0,2);else if(d instanceof Fv){var m=d;h=m.worldVerticesLength,p=oe.setArraySize(n,h,0),m.computeWorldVertices(c,0,h,p,0,2)}if(p)for(var _=0,v=p.length;_<v;_+=2){var g=p[_],y=p[_+1];a=Math.min(a,g),o=Math.min(o,y),s=Math.max(s,g),f=Math.max(f,y)}}}e.set(a,o),r.set(s-a,f-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),z2=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),W2=function(){function t(e,r,n){if(this.index=0,this.color=new Be(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=je.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),Y2=function(t){_t(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Bv),Fb=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),H0=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var f=s[r];this.setAttachment(f.slotIndex,f.name,f.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var f=s[r];f.attachment&&(f.attachment instanceof Fv?(f.attachment=f.attachment.newLinkedMesh(),this.setAttachment(f.slotIndex,f.name,f.attachment)):(f.attachment=f.attachment.copy(),this.setAttachment(f.slotIndex,f.name,f.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new Fb(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new Fb(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var f in s){var l=s[f];if(o==l){var u=this.getAttachment(n,f);u&&a.setAttachment(u);break}}}n++}},t}(),o5=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new z2;n.name="";var i=new j0(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var f="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(f)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var c=0;c<u;c++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}u=i.readInt(!0);for(var c=0;c<u;c++){var p=i.readString();if(!p)throw new Error("Bone name must not be null.");var d=c==0?null:n.bones[i.readInt(!0)],m=new $2(c,p,d);m.rotation=i.readFloat(),m.x=i.readFloat()*r,m.y=i.readFloat()*r,m.scaleX=i.readFloat(),m.scaleY=i.readFloat(),m.shearX=i.readFloat(),m.shearY=i.readFloat(),m.length=i.readFloat()*r,m.transformMode=i.readInt(!0),m.skinRequired=i.readBoolean(),l&&Be.rgba8888ToColor(m.color,i.readInt32()),n.bones.push(m)}u=i.readInt(!0);for(var c=0;c<u;c++){var _=i.readString();if(!_)throw new Error("Slot name must not be null.");var v=n.bones[i.readInt(!0)],m=new W2(c,_,v);Be.rgba8888ToColor(m.color,i.readInt32());var g=i.readInt32();g!=-1&&Be.rgb888ToColor(m.darkColor=new Be,g),m.attachmentName=i.readStringRef(),m.blendMode=i.readInt(!0),n.slots.push(m)}u=i.readInt(!0);for(var c=0,y=void 0;c<u;c++){var x=i.readString();if(!x)throw new Error("IK constraint data name must not be null.");var m=new X2(x);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.bones[i.readInt(!0)],m.mix=i.readFloat(),m.softness=i.readFloat()*r,m.bendDirection=i.readByte(),m.compress=i.readBoolean(),m.stretch=i.readBoolean(),m.uniform=i.readBoolean(),n.ikConstraints.push(m)}u=i.readInt(!0);for(var c=0,y=void 0;c<u;c++){var E=i.readString();if(!E)throw new Error("Transform constraint data name must not be null.");var m=new Y2(E);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.bones[i.readInt(!0)],m.local=i.readBoolean(),m.relative=i.readBoolean(),m.offsetRotation=i.readFloat(),m.offsetX=i.readFloat()*r,m.offsetY=i.readFloat()*r,m.offsetScaleX=i.readFloat(),m.offsetScaleY=i.readFloat(),m.offsetShearY=i.readFloat(),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),m.mixScaleX=i.readFloat(),m.mixScaleY=i.readFloat(),m.mixShearY=i.readFloat(),n.transformConstraints.push(m)}u=i.readInt(!0);for(var c=0,y=void 0;c<u;c++){var w=i.readString();if(!w)throw new Error("Path constraint data name must not be null.");var m=new H2(w);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var b=0;b<y;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.slots[i.readInt(!0)],m.positionMode=i.readInt(!0),m.spacingMode=i.readInt(!0),m.rotateMode=i.readInt(!0),m.offsetRotation=i.readFloat(),m.position=i.readFloat(),m.positionMode==ur.Fixed&&(m.position*=r),m.spacing=i.readFloat(),(m.spacingMode==Or.Length||m.spacingMode==Or.Fixed)&&(m.spacing*=r),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),n.pathConstraints.push(m)}var S=this.readSkin(i,n,!0,l);S&&(n.defaultSkin=S,n.skins.push(S));{var c=n.skins.length;for(oe.setArraySize(n.skins,u=c+i.readInt(!0));c<u;c++){var C=this.readSkin(i,n,!1,l);if(!C)throw new Error("readSkin() should not have returned null.");n.skins[c]=C}}u=this.linkedMeshes.length;for(var c=0;c<u;c++){var T=this.linkedMeshes[c],C=T.skin?n.findSkin(T.skin):n.defaultSkin;if(!C)throw new Error("Not skin found for linked mesh.");if(!T.parent)throw new Error("Linked mesh parent must not be null");var I=C.getAttachment(T.slotIndex,T.parent);if(!I)throw new Error("Parent mesh not found: "+T.parent);T.mesh.timelineAttachment=T.inheritTimeline?I:T.mesh,T.mesh.setParentMesh(I)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var c=0;c<u;c++){var A=i.readStringRef();if(!A)throw new Error;var m=new G2(A);m.intValue=i.readInt(!1),m.floatValue=i.readFloat(),m.stringValue=i.readString(),m.audioPath=i.readString(),m.audioPath&&(m.volume=i.readFloat(),m.balance=i.readFloat()),n.events.push(m)}u=i.readInt(!0);for(var c=0;c<u;c++){var R=i.readString();if(!R)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,R,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new H0("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new H0(s),a.bones.length=e.readInt(!0);for(var f=0,l=a.bones.length;f<l;f++)a.bones[f]=r.bones[e.readInt(!0)];for(var f=0,l=e.readInt(!0);f<l;f++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var f=0,l=e.readInt(!0);f<l;f++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var f=0,l=e.readInt(!0);f<l;f++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var f=0;f<o;f++)for(var u=e.readInt(!0),c=0,h=e.readInt(!0);c<h;c++){var p=e.readStringRef();if(!p)throw new Error("Attachment name must not be null");var d=this.readAttachment(e,r,a,u,p,i);d&&a.setAttachment(u,p,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,f=e.readStringRef();switch(f||(f=a),e.readByte()){case vt.Region:{var l=e.readStringRef(),u=e.readFloat(),c=e.readFloat(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),m=e.readFloat(),_=e.readFloat(),v=e.readInt32(),g=this.readSequence(e);l||(l=f);var y=this.attachmentLoader.newRegionAttachment(n,f,l,g);return y?(y.path=l,y.x=c*s,y.y=h*s,y.scaleX=p,y.scaleY=d,y.rotation=u,y.width=m*s,y.height=_*s,Be.rgba8888ToColor(y.color,v),y.sequence=g,g==null&&y.updateRegion(),y):null}case vt.BoundingBox:{var x=e.readInt(!0),b=this.readVertices(e,x),v=o?e.readInt32():0,E=this.attachmentLoader.newBoundingBoxAttachment(n,f);return E?(E.worldVerticesLength=x<<1,E.vertices=b.vertices,E.bones=b.bones,o&&Be.rgba8888ToColor(E.color,v),E):null}case vt.Mesh:{var l=e.readStringRef(),v=e.readInt32(),x=e.readInt(!0),w=this.readFloatArray(e,x<<1,1),S=this.readShortArray(e),b=this.readVertices(e,x),C=e.readInt(!0),g=this.readSequence(e),T=[],m=0,_=0;o&&(T=this.readShortArray(e),m=e.readFloat(),_=e.readFloat()),l||(l=f);var I=this.attachmentLoader.newMeshAttachment(n,f,l,g);return I?(I.path=l,Be.rgba8888ToColor(I.color,v),I.bones=b.bones,I.vertices=b.vertices,I.worldVerticesLength=x<<1,I.triangles=S,I.regionUVs=new Float32Array(w),I.hullLength=C<<1,I.sequence=g,o&&(I.edges=T,I.width=m*s,I.height=_*s),I):null}case vt.LinkedMesh:{var l=e.readStringRef(),v=e.readInt32(),A=e.readStringRef(),R=e.readStringRef(),O=e.readBoolean(),g=this.readSequence(e),m=0,_=0;o&&(m=e.readFloat(),_=e.readFloat()),l||(l=f);var I=this.attachmentLoader.newMeshAttachment(n,f,l,g);return I?(I.path=l,Be.rgba8888ToColor(I.color,v),I.sequence=g,o&&(I.width=m*s,I.height=_*s),this.linkedMeshes.push(new xEe(I,A,i,R,O)),I):null}case vt.Path:{for(var F=e.readBoolean(),k=e.readBoolean(),x=e.readInt(!0),b=this.readVertices(e,x),$=oe.newArray(x/3,0),q=0,K=$.length;q<K;q++)$[q]=e.readFloat()*s;var v=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,f);return l?(l.closed=F,l.constantSpeed=k,l.worldVerticesLength=x<<1,l.vertices=b.vertices,l.bones=b.bones,l.lengths=$,o&&Be.rgba8888ToColor(l.color,v),l):null}case vt.Point:{var u=e.readFloat(),c=e.readFloat(),h=e.readFloat(),v=o?e.readInt32():0,G=this.attachmentLoader.newPointAttachment(n,f);return G?(G.x=c*s,G.y=h*s,G.rotation=u,o&&Be.rgba8888ToColor(G.color,v),G):null}case vt.Clipping:{var N=e.readInt(!0),x=e.readInt(!0),b=this.readVertices(e,x),v=o?e.readInt32():0,j=this.attachmentLoader.newClippingAttachment(n,f);return j?(j.endSlot=r.slots[N],j.worldVerticesLength=x<<1,j.vertices=b.vertices,j.bones=b.bones,o&&Be.rgba8888ToColor(j.color,v),j):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new g2(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?gF:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new bEe;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,f=0;f<r;f++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=oe.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var f=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var c=e.readByte(),h=e.readInt(!0),p=h-1;switch(c){case FEe:{for(var d=new vs(h,f),m=0;m<h;m++)d.setFrame(m,e.readFloat(),e.readStringRef());i.push(d);break}case kEe:{for(var _=e.readInt(!0),d=new I2(h,_,f),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,m=0,E=0;d.setFrame(m,v,g,y,x,b),m!=p;m++){var w=e.readFloat(),S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255;switch(e.readByte()){case Fi:d.setStepped(m);break;case ki:Ct(e,d,E++,m,0,v,w,g,S,1),Ct(e,d,E++,m,1,v,w,y,C,1),Ct(e,d,E++,m,2,v,w,x,T,1),Ct(e,d,E++,m,3,v,w,b,I,1)}v=w,g=S,y=C,x=T,b=I}i.push(d);break}case NEe:{for(var _=e.readInt(!0),d=new R2(h,_,f),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,m=0,E=0;d.setFrame(m,v,g,y,x),m!=p;m++){var w=e.readFloat(),S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255;switch(e.readByte()){case Fi:d.setStepped(m);break;case ki:Ct(e,d,E++,m,0,v,w,g,S,1),Ct(e,d,E++,m,1,v,w,y,C,1),Ct(e,d,E++,m,2,v,w,x,T,1)}v=w,g=S,y=C,x=T}i.push(d);break}case LEe:{for(var _=e.readInt(!0),d=new O2(h,_,f),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,m=0,E=0;d.setFrame(m,v,g,y,x,b,S,C,T),m!=p;m++){var w=e.readFloat(),A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255;switch(e.readByte()){case Fi:d.setStepped(m);break;case ki:Ct(e,d,E++,m,0,v,w,g,A,1),Ct(e,d,E++,m,1,v,w,y,R,1),Ct(e,d,E++,m,2,v,w,x,O,1),Ct(e,d,E++,m,3,v,w,b,F,1),Ct(e,d,E++,m,4,v,w,S,k,1),Ct(e,d,E++,m,5,v,w,C,$,1),Ct(e,d,E++,m,6,v,w,T,q,1)}v=w,g=A,y=R,x=O,b=F,S=k,C=$,T=q}i.push(d);break}case BEe:{for(var _=e.readInt(!0),d=new F2(h,_,f),v=e.readFloat(),g=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,m=0,E=0;d.setFrame(m,v,g,y,x,S,C,T),m!=p;m++){var w=e.readFloat(),A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255;switch(e.readByte()){case Fi:d.setStepped(m);break;case ki:Ct(e,d,E++,m,0,v,w,g,A,1),Ct(e,d,E++,m,1,v,w,y,R,1),Ct(e,d,E++,m,2,v,w,x,O,1),Ct(e,d,E++,m,3,v,w,S,k,1),Ct(e,d,E++,m,4,v,w,C,$,1),Ct(e,d,E++,m,5,v,w,T,q,1)}v=w,g=A,y=R,x=O,S=k,C=$,T=q}i.push(d);break}case MEe:{for(var d=new P2(h,e.readInt(!0),f),v=e.readFloat(),b=e.readUnsignedByte()/255,m=0,E=0;d.setFrame(m,v,b),m!=p;m++){var w=e.readFloat(),I=e.readUnsignedByte()/255;switch(e.readByte()){case Fi:d.setStepped(m);break;case ki:Ct(e,d,E++,m,0,v,w,b,I,1)}v=w,b=I}i.push(d)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var K=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var G=e.readByte(),h=e.readInt(!0),_=e.readInt(!0);switch(G){case EEe:i.push(Aa(e,new Wc(h,_,K),1));break;case wEe:i.push(H_(e,new y2(h,_,K),a));break;case SEe:i.push(Aa(e,new x2(h,_,K),a));break;case CEe:i.push(Aa(e,new b2(h,_,K),a));break;case TEe:i.push(H_(e,new E2(h,_,K),1));break;case AEe:i.push(Aa(e,new w2(h,_,K),1));break;case IEe:i.push(Aa(e,new S2(h,_,K),1));break;case REe:i.push(H_(e,new C2(h,_,K),1));break;case PEe:i.push(Aa(e,new T2(h,_,K),1));break;case OEe:i.push(Aa(e,new A2(h,_,K),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var N=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new N2(h,e.readInt(!0),N),v=e.readFloat(),j=e.readFloat(),M=e.readFloat()*a,m=0,E=0;d.setFrame(m,v,j,M,e.readByte(),e.readBoolean(),e.readBoolean()),m!=p;m++){var w=e.readFloat(),D=e.readFloat(),J=e.readFloat()*a;switch(e.readByte()){case Fi:d.setStepped(m);break;case ki:Ct(e,d,E++,m,0,v,w,j,D,1),Ct(e,d,E++,m,1,v,w,M,J,a)}v=w,j=D,M=J}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var N=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new L2(h,e.readInt(!0),N),v=e.readFloat(),Q=e.readFloat(),se=e.readFloat(),re=e.readFloat(),ue=e.readFloat(),Ee=e.readFloat(),xe=e.readFloat(),m=0,E=0;d.setFrame(m,v,Q,se,re,ue,Ee,xe),m!=p;m++){var w=e.readFloat(),de=e.readFloat(),pe=e.readFloat(),Ae=e.readFloat(),Fe=e.readFloat(),Te=e.readFloat(),ke=e.readFloat();switch(e.readByte()){case Fi:d.setStepped(m);break;case ki:Ct(e,d,E++,m,0,v,w,Q,de,1),Ct(e,d,E++,m,1,v,w,se,pe,1),Ct(e,d,E++,m,2,v,w,re,Ae,1),Ct(e,d,E++,m,3,v,w,ue,Fe,1),Ct(e,d,E++,m,4,v,w,Ee,Te,1),Ct(e,d,E++,m,5,v,w,xe,ke,1)}v=w,Q=de,se=pe,re=Ae,ue=Fe,Ee=Te,xe=ke}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var N=e.readInt(!0),Ne=n.pathConstraints[N],l=0,u=e.readInt(!0);l<u;l++)switch(e.readByte()){case UEe:i.push(Aa(e,new B2(e.readInt(!0),e.readInt(!0),N),Ne.positionMode==ur.Fixed?a:1));break;case jEe:i.push(Aa(e,new M2(e.readInt(!0),e.readInt(!0),N),Ne.spacingMode==Or.Length||Ne.spacingMode==Or.Fixed?a:1));break;case $Ee:for(var d=new D2(e.readInt(!0),e.readInt(!0),N),v=e.readFloat(),Q=e.readFloat(),se=e.readFloat(),re=e.readFloat(),m=0,E=0,p=d.getFrameCount()-1;d.setFrame(m,v,Q,se,re),m!=p;m++){var w=e.readFloat(),de=e.readFloat(),pe=e.readFloat(),Ae=e.readFloat();switch(e.readByte()){case Fi:d.setStepped(m);break;case ki:Ct(e,d,E++,m,0,v,w,Q,de,1),Ct(e,d,E++,m,1,v,w,se,pe,1),Ct(e,d,E++,m,2,v,w,re,Ae,1)}v=w,Q=de,se=pe,re=Ae}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var Ze=n.skins[e.readInt(!0)],l=0,u=e.readInt(!0);l<u;l++)for(var f=e.readInt(!0),ct=0,Je=e.readInt(!0);ct<Je;ct++){var qe=e.readStringRef();if(!qe)throw new Error("attachmentName must not be null.");var at=Ze.getAttachment(f,qe),c=this.readDeformTimelineType(e),h=e.readInt(!0),p=h-1;switch(c){case gF:{for(var Tt=at,kt=Tt.bones,At=Tt.vertices,It=kt?At.length/3*2:At.length,_=e.readInt(!0),d=new k2(h,_,f,Tt),v=e.readFloat(),m=0,E=0;;m++){var tt=void 0,Nt=e.readInt(!0);if(Nt==0)tt=kt?oe.newFloatArray(It):At;else{tt=oe.newFloatArray(It);var _e=e.readInt(!0);if(Nt+=_e,a==1)for(var L=_e;L<Nt;L++)tt[L]=e.readFloat();else for(var L=_e;L<Nt;L++)tt[L]=e.readFloat()*a;if(!kt)for(var L=0,ne=tt.length;L<ne;L++)tt[L]+=At[L]}if(d.setFrame(m,v,tt),m==p)break;var w=e.readFloat();switch(e.readByte()){case Fi:d.setStepped(m);break;case ki:Ct(e,d,E++,m,0,v,w,0,1,1)}v=w}i.push(d);break}case DEe:{for(var d=new U2(h,f,at),m=0;m<h;m++){var v=e.readFloat(),he=e.readInt32();d.setFrame(m,v,_2[he&15],he>>4,e.readFloat())}i.push(d);break}}}var ye=e.readInt(!0);if(ye>0){for(var d=new Xl(ye),Z=n.slots.length,o=0;o<ye;o++){for(var v=e.readFloat(),ve=e.readInt(!0),U=oe.newArray(Z,0),l=Z-1;l>=0;l--)U[l]=-1;for(var we=oe.newArray(Z-ve,0),He=0,P=0,l=0;l<ve;l++){for(var f=e.readInt(!0);He!=f;)we[P++]=He++;U[He+e.readInt(!0)]=He++}for(;He<Z;)we[P++]=He++;for(var l=Z-1;l>=0;l--)U[l]==-1&&(U[l]=we[--P]);d.setFrame(o,v,U)}i.push(d)}var me=e.readInt(!0);if(me>0){for(var d=new Lv(me),o=0;o<me;o++){var v=e.readFloat(),ge=n.events[e.readInt(!0)],V=new V2(v,ge);V.intValue=e.readInt(!1),V.floatValue=e.readFloat(),V.stringValue=e.readBoolean()?e.readString():ge.stringValue,V.data.audioPath&&(V.volume=e.readFloat(),V.balance=e.readFloat()),d.setFrame(o,V)}i.push(d)}for(var ee=0,o=0,s=i.length;o<s;o++)ee=Math.max(ee,i[o].getDuration());return new kv(r,i,ee)},t.BlendModeValues=[je.NORMAL,je.ADD,je.MULTIPLY,je.SCREEN],t}(),xEe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),bEe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function Aa(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var f=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case Fi:e.setStepped(a);break;case ki:Ct(t,e,o++,a,0,n,f,i,l,r)}n=f,i=l}return e}function H_(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,f=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=f;o++){var l=t.readFloat(),u=t.readFloat()*r,c=t.readFloat()*r;switch(t.readByte()){case Fi:e.setStepped(o);break;case ki:Ct(t,e,s++,o,0,n,l,i,u,r),Ct(t,e,s++,o,1,n,l,a,c,r)}n=l,i=u,a=c}return e}function Ct(t,e,r,n,i,a,o,s,f,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,f)}var EEe=0,wEe=1,SEe=2,CEe=3,TEe=4,AEe=5,IEe=6,REe=7,PEe=8,OEe=9,FEe=0,kEe=1,NEe=2,LEe=3,BEe=4,MEe=5,gF=0,DEe=1,UEe=0,jEe=1,$Ee=2,Fi=1,ki=2,VEe=function(t){_t(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(YS),s5=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new z2,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var f=0;f<i.bones.length;f++){var l=i.bones[f],u=null,c=ce(l,"parent",null);if(c!=null&&(u=n.findBone(c),u==null))throw new Error("Parent bone not found: "+c);var h=new $2(n.bones.length,l.name,u);h.length=ce(l,"length",0)*r,h.x=ce(l,"x",0)*r,h.y=ce(l,"y",0)*r,h.rotation=ce(l,"rotation",0),h.scaleX=ce(l,"scaleX",1),h.scaleY=ce(l,"scaleY",1),h.shearX=ce(l,"shearX",0),h.shearY=ce(l,"shearY",0),h.transformMode=oe.enumValue(st,ce(l,"transform","Normal")),h.skinRequired=ce(l,"skin",!1);var p=ce(l,"color",null);p&&h.color.setFromString(p),n.bones.push(h)}if(i.slots)for(var f=0;f<i.slots.length;f++){var d=i.slots[f],m=n.findBone(d.bone);if(!m)throw new Error("Couldn't find bone "+d.bone+" for slot "+d.name);var h=new W2(n.slots.length,d.name,m),p=ce(d,"color",null);p&&h.color.setFromString(p);var _=ce(d,"dark",null);_&&(h.darkColor=Be.fromString(_)),h.attachmentName=ce(d,"attachment",null),h.blendMode=t.blendModeFromString(ce(d,"blend","normal")),n.slots.push(h)}if(i.ik)for(var f=0;f<i.ik.length;f++){var v=i.ik[f],h=new X2(v.name);h.order=ce(v,"order",0),h.skinRequired=ce(v,"skin",!1);for(var g=0;g<v.bones.length;g++){var y=v.bones[g],x=n.findBone(y);if(x==null)throw new Error("IK bone not found: "+y);h.bones.push(x)}h.target=n.findBone(v.target),h.mix=ce(v,"mix",1),h.softness=ce(v,"softness",0)*r,h.bendDirection=ce(v,"bendPositive",!0)?1:-1,h.compress=ce(v,"compress",!1),h.stretch=ce(v,"stretch",!1),h.uniform=ce(v,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var f=0;f<i.transform.length;f++){var v=i.transform[f],h=new Y2(v.name);h.order=ce(v,"order",0),h.skinRequired=ce(v,"skin",!1);for(var g=0;g<v.bones.length;g++){var y=v.bones[g],x=n.findBone(y);if(!x)throw new Error("Couldn't find bone "+y+" for transform constraint "+v.name+".");h.bones.push(x)}var b=v.target,E=n.findBone(b);if(!E)throw new Error("Couldn't find target bone "+b+" for transform constraint "+v.name+".");h.target=E,h.local=ce(v,"local",!1),h.relative=ce(v,"relative",!1),h.offsetRotation=ce(v,"rotation",0),h.offsetX=ce(v,"x",0)*r,h.offsetY=ce(v,"y",0)*r,h.offsetScaleX=ce(v,"scaleX",0),h.offsetScaleY=ce(v,"scaleY",0),h.offsetShearY=ce(v,"shearY",0),h.mixRotate=ce(v,"mixRotate",1),h.mixX=ce(v,"mixX",1),h.mixY=ce(v,"mixY",h.mixX),h.mixScaleX=ce(v,"mixScaleX",1),h.mixScaleY=ce(v,"mixScaleY",h.mixScaleX),h.mixShearY=ce(v,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var f=0;f<i.path.length;f++){var v=i.path[f],h=new H2(v.name);h.order=ce(v,"order",0),h.skinRequired=ce(v,"skin",!1);for(var g=0;g<v.bones.length;g++){var y=v.bones[g],x=n.findBone(y);if(!x)throw new Error("Couldn't find bone "+y+" for path constraint "+v.name+".");h.bones.push(x)}var b=v.target,E=n.findSlot(b);if(!E)throw new Error("Couldn't find target slot "+b+" for path constraint "+v.name+".");h.target=E,h.positionMode=oe.enumValue(ur,ce(v,"positionMode","Percent")),h.spacingMode=oe.enumValue(Or,ce(v,"spacingMode","Length")),h.rotateMode=oe.enumValue(yr,ce(v,"rotateMode","Tangent")),h.offsetRotation=ce(v,"rotation",0),h.position=ce(v,"position",0),h.positionMode==ur.Fixed&&(h.position*=r),h.spacing=ce(v,"spacing",0),(h.spacingMode==Or.Length||h.spacingMode==Or.Fixed)&&(h.spacing*=r),h.mixRotate=ce(v,"mixRotate",1),h.mixX=ce(v,"mixX",1),h.mixY=ce(v,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var f=0;f<i.skins.length;f++){var w=i.skins[f],S=new H0(w.name);if(w.bones)for(var g=0;g<w.bones.length;g++){var y=w.bones[g],x=n.findBone(y);if(!x)throw new Error("Couldn't find bone "+y+" for skin "+w.name+".");S.bones.push(x)}if(w.ik)for(var g=0;g<w.ik.length;g++){var C=w.ik[g],T=n.findIkConstraint(C);if(!T)throw new Error("Couldn't find IK constraint "+C+" for skin "+w.name+".");S.constraints.push(T)}if(w.transform)for(var g=0;g<w.transform.length;g++){var C=w.transform[g],T=n.findTransformConstraint(C);if(!T)throw new Error("Couldn't find transform constraint "+C+" for skin "+w.name+".");S.constraints.push(T)}if(w.path)for(var g=0;g<w.path.length;g++){var C=w.path[g],T=n.findPathConstraint(C);if(!T)throw new Error("Couldn't find path constraint "+C+" for skin "+w.name+".");S.constraints.push(T)}for(var I in w.attachments){var A=n.findSlot(I);if(!A)throw new Error("Couldn't find slot "+I+" for skin "+w.name+".");var d=w.attachments[I];for(var R in d){var O=this.readAttachment(d[R],S,A.index,R,n);O&&S.setAttachment(A.index,R,O)}}n.skins.push(S),S.name=="default"&&(n.defaultSkin=S)}for(var f=0,F=this.linkedMeshes.length;f<F;f++){var k=this.linkedMeshes[f],S=k.skin?n.findSkin(k.skin):n.defaultSkin;if(!S)throw new Error("Skin not found: "+k.skin);var $=S.getAttachment(k.slotIndex,k.parent);if(!$)throw new Error("Parent mesh not found: "+k.parent);k.mesh.timelineAttachment=k.inheritTimeline?$:k.mesh,k.mesh.setParentMesh($)}if(this.linkedMeshes.length=0,i.events)for(var q in i.events){var K=i.events[q],h=new G2(q);h.intValue=ce(K,"int",0),h.floatValue=ce(K,"float",0),h.stringValue=ce(K,"string",""),h.audioPath=ce(K,"audio",null),h.audioPath&&(h.volume=ce(K,"volume",1),h.balance=ce(K,"balance",0)),n.events.push(h)}if(i.animations)for(var G in i.animations){var N=i.animations[G];this.readAnimation(N,G,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=ce(e,"name",i),ce(e,"type","region")){case"region":{var s=ce(e,"path",i),f=this.readSequence(ce(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,f);if(!l)return null;l.path=s,l.x=ce(e,"x",0)*o,l.y=ce(e,"y",0)*o,l.scaleX=ce(e,"scaleX",1),l.scaleY=ce(e,"scaleY",1),l.rotation=ce(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=f;var u=ce(e,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var c=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!c)return null;this.readVertices(e,c,e.vertexCount<<1);var u=ce(e,"color",null);return u&&c.color.setFromString(u),c}case"mesh":case"linkedmesh":{var s=ce(e,"path",i),f=this.readSequence(ce(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,f);if(!h)return null;h.path=s;var u=ce(e,"color",null);u&&h.color.setFromString(u),h.width=ce(e,"width",0)*o,h.height=ce(e,"height",0)*o,h.sequence=f;var p=ce(e,"parent",null);if(p)return this.linkedMeshes.push(new GEe(h,ce(e,"skin",null),n,p,ce(e,"timelines",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=ce(e,"edges",null),h.hullLength=ce(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=ce(e,"closed",!1),s.constantSpeed=ce(e,"constantSpeed",!0);var m=e.vertexCount;this.readVertices(e,s,m<<1);for(var _=oe.newArray(m/3,0),v=0;v<e.lengths.length;v++)_[v]=e.lengths[v]*o;s.lengths=_;var u=ce(e,"color",null);return u&&s.color.setFromString(u),s}case"point":{var g=this.attachmentLoader.newPointAttachment(r,i);if(!g)return null;g.x=ce(e,"x",0)*o,g.y=ce(e,"y",0)*o,g.rotation=ce(e,"rotation",0);var u=ce(e,"color",null);return u&&g.color.setFromString(u),g}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(!y)return null;var x=ce(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);y.endSlot=b}var m=e.vertexCount;this.readVertices(e,y,m<<1);var u=ce(e,"color",null);return u&&y.color.setFromString(u),y}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new g2(ce(e,"count",0));return r.start=ce(e,"start",1),r.digits=ce(e,"digits",0),r.setupIndex=ce(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=oe.toFloatArray(a);if(i!=1)for(var s=0,f=a.length;s<f;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,f=a.length;s<f;){var c=a[s++];u.push(c);for(var h=s+c*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=oe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],f=n.findSlot(o);if(!f)throw new Error("Slot not found: "+o);var l=f.index;for(var u in s){var c=s[u];if(c){var h=c.length;if(u=="attachment"){for(var p=new vs(h,l),d=0;d<h;d++){var m=c[d];p.setFrame(d,ce(m,"time",0),ce(m,"name",null))}a.push(p)}else if(u=="rgba"){for(var p=new I2(h,h<<2,l),m=c[0],_=ce(m,"time",0),v=Be.fromString(m.color),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b,v.a);var y=c[d+1];if(!y){p.shrink(g);break}var x=ce(y,"time",0),b=Be.fromString(y.color),E=m.curve;E&&(g=Pt(E,p,g,d,0,_,x,v.r,b.r,1),g=Pt(E,p,g,d,1,_,x,v.g,b.g,1),g=Pt(E,p,g,d,2,_,x,v.b,b.b,1),g=Pt(E,p,g,d,3,_,x,v.a,b.a,1)),_=x,v=b,m=y}a.push(p)}else if(u=="rgb"){for(var p=new R2(h,h*3,l),m=c[0],_=ce(m,"time",0),v=Be.fromString(m.color),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b);var y=c[d+1];if(!y){p.shrink(g);break}var x=ce(y,"time",0),b=Be.fromString(y.color),E=m.curve;E&&(g=Pt(E,p,g,d,0,_,x,v.r,b.r,1),g=Pt(E,p,g,d,1,_,x,v.g,b.g,1),g=Pt(E,p,g,d,2,_,x,v.b,b.b,1)),_=x,v=b,m=y}a.push(p)}else if(u=="alpha")a.push(qi(c,new P2(h,h,l),0,1));else if(u=="rgba2"){for(var p=new O2(h,h*7,l),m=c[0],_=ce(m,"time",0),v=Be.fromString(m.light),w=Be.fromString(m.dark),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b,v.a,w.r,w.g,w.b);var y=c[d+1];if(!y){p.shrink(g);break}var x=ce(y,"time",0),b=Be.fromString(y.light),S=Be.fromString(y.dark),E=m.curve;E&&(g=Pt(E,p,g,d,0,_,x,v.r,b.r,1),g=Pt(E,p,g,d,1,_,x,v.g,b.g,1),g=Pt(E,p,g,d,2,_,x,v.b,b.b,1),g=Pt(E,p,g,d,3,_,x,v.a,b.a,1),g=Pt(E,p,g,d,4,_,x,w.r,S.r,1),g=Pt(E,p,g,d,5,_,x,w.g,S.g,1),g=Pt(E,p,g,d,6,_,x,w.b,S.b,1)),_=x,v=b,w=S,m=y}a.push(p)}else if(u=="rgb2"){for(var p=new F2(h,h*6,l),m=c[0],_=ce(m,"time",0),v=Be.fromString(m.light),w=Be.fromString(m.dark),d=0,g=0;;d++){p.setFrame(d,_,v.r,v.g,v.b,w.r,w.g,w.b);var y=c[d+1];if(!y){p.shrink(g);break}var x=ce(y,"time",0),b=Be.fromString(y.light),S=Be.fromString(y.dark),E=m.curve;E&&(g=Pt(E,p,g,d,0,_,x,v.r,b.r,1),g=Pt(E,p,g,d,1,_,x,v.g,b.g,1),g=Pt(E,p,g,d,2,_,x,v.b,b.b,1),g=Pt(E,p,g,d,3,_,x,w.r,S.r,1),g=Pt(E,p,g,d,4,_,x,w.g,S.g,1),g=Pt(E,p,g,d,5,_,x,w.b,S.b,1)),_=x,v=b,w=S,m=y}a.push(p)}}}}if(e.bones)for(var C in e.bones){var T=e.bones[C],I=n.findBone(C);if(!I)throw new Error("Bone not found: "+C);var A=I.index;for(var u in T){var c=T[u],R=c.length;if(R!=0){if(u==="rotate")a.push(qi(c,new Wc(R,R,A),0,1));else if(u==="translate"){var p=new y2(R,R<<1,A);a.push(z_(c,p,"x","y",0,i))}else if(u==="translatex"){var p=new x2(R,R,A);a.push(qi(c,p,0,i))}else if(u==="translatey"){var p=new b2(R,R,A);a.push(qi(c,p,0,i))}else if(u==="scale"){var p=new E2(R,R<<1,A);a.push(z_(c,p,"x","y",1,1))}else if(u==="scalex"){var p=new w2(R,R,A);a.push(qi(c,p,1,1))}else if(u==="scaley"){var p=new S2(R,R,A);a.push(qi(c,p,1,1))}else if(u==="shear"){var p=new C2(R,R<<1,A);a.push(z_(c,p,"x","y",0,1))}else if(u==="shearx"){var p=new T2(R,R,A);a.push(qi(c,p,0,1))}else if(u==="sheary"){var p=new A2(R,R,A);a.push(qi(c,p,0,1))}}}}if(e.ik)for(var O in e.ik){var F=e.ik[O],m=F[0];if(m){var k=n.findIkConstraint(O);if(!k)throw new Error("IK Constraint not found: "+O);for(var $=n.ikConstraints.indexOf(k),p=new N2(F.length,F.length<<1,$),_=ce(m,"time",0),q=ce(m,"mix",1),K=ce(m,"softness",0)*i,d=0,g=0;;d++){p.setFrame(d,_,q,K,ce(m,"bendPositive",!0)?1:-1,ce(m,"compress",!1),ce(m,"stretch",!1));var y=F[d+1];if(!y){p.shrink(g);break}var x=ce(y,"time",0),G=ce(y,"mix",1),N=ce(y,"softness",0)*i,E=m.curve;E&&(g=Pt(E,p,g,d,0,_,x,q,G,1),g=Pt(E,p,g,d,1,_,x,K,N,i)),_=x,q=G,K=N,m=y}a.push(p)}}if(e.transform)for(var O in e.transform){var c=e.transform[O],m=c[0];if(m){var k=n.findTransformConstraint(O);if(!k)throw new Error("Transform constraint not found: "+O);for(var $=n.transformConstraints.indexOf(k),p=new L2(c.length,c.length*6,$),_=ce(m,"time",0),j=ce(m,"mixRotate",1),M=ce(m,"mixX",1),D=ce(m,"mixY",M),J=ce(m,"mixScaleX",1),Q=ce(m,"mixScaleY",J),se=ce(m,"mixShearY",1),d=0,g=0;;d++){p.setFrame(d,_,j,M,D,J,Q,se);var y=c[d+1];if(!y){p.shrink(g);break}var x=ce(y,"time",0),re=ce(y,"mixRotate",1),ue=ce(y,"mixX",1),Ee=ce(y,"mixY",ue),xe=ce(y,"mixScaleX",1),de=ce(y,"mixScaleY",xe),pe=ce(y,"mixShearY",1),E=m.curve;E&&(g=Pt(E,p,g,d,0,_,x,j,re,1),g=Pt(E,p,g,d,1,_,x,M,ue,1),g=Pt(E,p,g,d,2,_,x,D,Ee,1),g=Pt(E,p,g,d,3,_,x,J,xe,1),g=Pt(E,p,g,d,4,_,x,Q,de,1),g=Pt(E,p,g,d,5,_,x,se,pe,1)),_=x,j=re,M=ue,D=Ee,J=xe,Q=de,J=xe,m=y}a.push(p)}}if(e.path)for(var O in e.path){var F=e.path[O],k=n.findPathConstraint(O);if(!k)throw new Error("Path constraint not found: "+O);var $=n.pathConstraints.indexOf(k);for(var u in F){var c=F[u],m=c[0];if(m){var Ae=c.length;if(u==="position"){var p=new B2(Ae,Ae,$);a.push(qi(c,p,0,k.positionMode==ur.Fixed?i:1))}else if(u==="spacing"){var p=new M2(Ae,Ae,$);a.push(qi(c,p,0,k.spacingMode==Or.Length||k.spacingMode==Or.Fixed?i:1))}else if(u==="mix"){for(var p=new D2(Ae,Ae*3,$),_=ce(m,"time",0),j=ce(m,"mixRotate",1),M=ce(m,"mixX",1),D=ce(m,"mixY",M),d=0,g=0;;d++){p.setFrame(d,_,j,M,D);var y=c[d+1];if(!y){p.shrink(g);break}var x=ce(y,"time",0),re=ce(y,"mixRotate",1),ue=ce(y,"mixX",1),Ee=ce(y,"mixY",ue),E=m.curve;E&&(g=Pt(E,p,g,d,0,_,x,j,re,1),g=Pt(E,p,g,d,1,_,x,M,ue,1),g=Pt(E,p,g,d,2,_,x,D,Ee,1)),_=x,j=re,M=ue,D=Ee,m=y}a.push(p)}}}}if(e.deform){e.attachments={};for(var Fe in e.deform){var Te=e.deform[Fe],ke=e.attachments[Fe]={};for(var o in Te){var s=Te[o],Ne=ke[o]={};for(var Ze in s)Ne[Ze]={deform:s[Ze]}}}}if(e.attachments)for(var ct in e.attachments){var Je=e.attachments[ct],qe=n.findSkin(ct);if(qe!=null)for(var at in Je){var s=Je[at],f=n.findSlot(at);if(!f)throw new Error("Slot not found: "+at);var l=f.index;for(var Tt in s){var kt=s[Tt],At=qe.getAttachment(l,Tt);for(var It in kt){var c=kt[It],m=c[0];if(m){if(It=="deform"){for(var tt=At.bones,Nt=At.vertices,_e=tt?Nt.length/3*2:Nt.length,p=new k2(c.length,c.length,l,At),_=ce(m,"time",0),d=0,g=0;;d++){var L=void 0,ne=ce(m,"vertices",null);if(!ne)L=tt?oe.newFloatArray(_e):Nt;else{L=oe.newFloatArray(_e);var he=ce(m,"offset",0);if(oe.arrayCopy(ne,0,L,he,ne.length),i!=1)for(var ye=he,Z=ye+ne.length;ye<Z;ye++)L[ye]*=i;if(!tt)for(var ye=0;ye<_e;ye++)L[ye]+=Nt[ye]}p.setFrame(d,_,L);var y=c[d+1];if(!y){p.shrink(g);break}var x=ce(y,"time",0),E=m.curve;E&&(g=Pt(E,p,g,d,0,_,x,0,1,1)),_=x,m=y}a.push(p)}else if(It=="sequence"){for(var p=new U2(c.length,l,At),ve=0,d=0;d<c.length;d++){var U=ce(m,"delay",ve),_=ce(m,"time",0),we=Jr[ce(m,"mode","hold")],He=ce(m,"index",0);p.setFrame(d,_,we,He,U),ve=U,m=c[d+1]}a.push(p)}}}}}}if(e.drawOrder){for(var p=new Xl(e.drawOrder.length),P=n.slots.length,d=0,ye=0;ye<e.drawOrder.length;ye++,d++){var me=e.drawOrder[ye],ge=null,V=ce(me,"offsets",null);if(V){ge=oe.newArray(P,-1);for(var ee=oe.newArray(P-V.length,0),fe=0,Xe=0,De=0;De<V.length;De++){var $e=V[De],f=n.findSlot($e.slot);if(!f)throw new Error("Slot not found: "+f);for(var l=f.index;fe!=l;)ee[Xe++]=fe++;ge[fe+$e.offset]=fe++}for(;fe<P;)ee[Xe++]=fe++;for(var De=P-1;De>=0;De--)ge[De]==-1&&(ge[De]=ee[--Xe])}p.setFrame(d,ce(me,"time",0),ge)}a.push(p)}if(e.events){for(var p=new Lv(e.events.length),d=0,ye=0;ye<e.events.length;ye++,d++){var ot=e.events[ye],Lr=n.findEvent(ot.name);if(!Lr)throw new Error("Event not found: "+ot.name);var Rt=new V2(oe.toSinglePrecision(ce(ot,"time",0)),Lr);Rt.intValue=ce(ot,"int",Lr.intValue),Rt.floatValue=ce(ot,"float",Lr.floatValue),Rt.stringValue=ce(ot,"string",Lr.stringValue),Rt.data.audioPath&&(Rt.volume=ce(ot,"volume",1),Rt.balance=ce(ot,"balance",0)),p.setFrame(d,Rt)}a.push(p)}for(var Qe=0,ye=0,Z=a.length;ye<Z;ye++)Qe=Math.max(Qe,a[ye].getDuration());if(isNaN(Qe))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new kv(r,a,Qe))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return je.NORMAL;if(e=="additive")return je.ADD;if(e=="multiply")return je.MULTIPLY;if(e=="screen")return je.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),GEe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function qi(t,e,r,n){for(var i=t[0],a=ce(i,"time",0),o=ce(i,"value",r)*n,s=0,f=0;;f++){e.setFrame(f,a,o);var l=t[f+1];if(!l)return e.shrink(s),e;var u=ce(l,"time",0),c=ce(l,"value",r)*n;i.curve&&(s=Pt(i.curve,e,s,f,0,a,u,o,c,n)),a=u,o=c,i=l}}function z_(t,e,r,n,i,a){for(var o=t[0],s=ce(o,"time",0),f=ce(o,r,i)*a,l=ce(o,n,i)*a,u=0,c=0;;c++){e.setFrame(c,s,f,l);var h=t[c+1];if(!h)return e.shrink(u),e;var p=ce(h,"time",0),d=ce(h,r,i)*a,m=ce(h,n,i)*a,_=o.curve;_&&(u=Pt(_,e,u,c,0,s,p,f,d,a),u=Pt(_,e,u,c,1,s,p,l,m,a)),s=p,f=d,l=m,o=h}}function Pt(t,e,r,n,i,a,o,s,f,l){if(t=="stepped")return e.setStepped(n),r;var u=i<<2,c=t[u],h=t[u+1]*l,p=t[u+2],d=t[u+3]*l;return e.setBezier(r,n,i,a,s,c,h,p,d,o,f),r+1}function ce(t,e,r){return t[e]!==void 0?t[e]:r}var XEe=function(t){_t(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new a5(r),this.skeleton.updateWorldTransform(),this.stateData=new e5(r),this.state=new Z6(this.stateData)},e}(gh);const HEe=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:P2,Animation:kv,AnimationState:Z6,AnimationStateAdapter:gEe,AnimationStateData:e5,AtlasAttachmentLoader:j2,Attachment:v2,AttachmentTimeline:vs,Bone:Ob,BoneData:$2,BoundingBoxAttachment:Y6,ClippingAttachment:q6,ConstraintData:Bv,CurveTimeline:zi,CurveTimeline1:Wi,CurveTimeline2:Nv,DeformTimeline:k2,DrawOrderTimeline:Xl,Event:V2,EventData:G2,EventQueue:Q6,EventTimeline:Lv,get EventType(){return Fn},IkConstraint:t5,IkConstraintData:X2,IkConstraintTimeline:N2,MeshAttachment:Fv,PathAttachment:zc,PathConstraint:r5,PathConstraintData:H2,PathConstraintMixTimeline:D2,PathConstraintPositionTimeline:B2,PathConstraintSpacingTimeline:M2,PointAttachment:K6,RGB2Timeline:F2,RGBA2Timeline:O2,RGBATimeline:I2,RGBTimeline:R2,RegionAttachment:m2,RotateTimeline:Wc,ScaleTimeline:E2,ScaleXTimeline:w2,ScaleYTimeline:S2,Sequence:g2,get SequenceMode(){return Jr},SequenceModeValues:_2,SequenceTimeline:U2,ShearTimeline:C2,ShearXTimeline:T2,ShearYTimeline:A2,Skeleton:a5,SkeletonBinary:o5,SkeletonBounds:VEe,SkeletonData:z2,SkeletonJson:s5,Skin:H0,SkinEntry:Fb,Slot:n5,SlotData:W2,get SpacingMode(){return Or},Spine:XEe,Timeline:br,TrackEntry:J6,TransformConstraint:i5,TransformConstraintData:Y2,TransformConstraintTimeline:L2,TranslateTimeline:y2,TranslateXTimeline:x2,TranslateYTimeline:b2,VertexAttachment:va},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kb=function(t,e){return kb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kb(t,e)};function l5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(Fr||(Fr={}));function z0(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?Fr.VER37:e==="3.8"?Fr.VER38:e==="4.0"?Fr.VER40:e==="4.1"?Fr.VER41:r<Fr.VER37?Fr.VER37:Fr.UNKNOWN}var zEe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=z0(i);if(a===Fr.VER38&&(n=new y6(new r2(e))),i=this.readVersionNewFormat(r),a=z0(i),(a===Fr.VER40||a===Fr.VER41)&&(n=new o5(new j2(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new j0(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new j0(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),WEe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=z0(n),a=null;if(i===Fr.VER37&&(a=new W6(new k6(e))),i===Fr.VER38&&(a=new x6(new r2(e))),(i===Fr.VER40||i===Fr.VER41)&&(a=new s5(new j2(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),YEe=function(t){l5(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new zEe},e.prototype.createJsonParser=function(){return new WEe},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){Zn.registerPlugin(e)},e.use=new e().genMiddleware().use,e}(Qbe),qEe=function(t){l5(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=z0(r.version),i=null;if(n===Fr.VER37&&(i=mEe),n===Fr.VER38&&(i=uEe),(n===Fr.VER40||n===Fr.VER41)&&(i=HEe),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(gh);YEe.registerLoaderPlugin();var u5={exports:{}},W_={},_F;function Xo(){return _F||(_F=1,function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(a,o){return Object.prototype.hasOwnProperty.call(a,o)}t.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var f in s)r(s,f)&&(a[f]=s[f])}}return a},t.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var n={arraySet:function(a,o,s,f,l){if(o.subarray&&a.subarray){a.set(o.subarray(s,s+f),l);return}for(var u=0;u<f;u++)a[l+u]=o[s+u]},flattenChunks:function(a){var o,s,f,l,u,c;for(f=0,o=0,s=a.length;o<s;o++)f+=a[o].length;for(c=new Uint8Array(f),l=0,o=0,s=a.length;o<s;o++)u=a[o],c.set(u,l),l+=u.length;return c}},i={arraySet:function(a,o,s,f,l){for(var u=0;u<f;u++)a[l+u]=o[s+u]},flattenChunks:function(a){return[].concat.apply([],a)}};t.setTyped=function(a){a?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)}(W_)),W_}var ol={},Ii={},Yo={},yF;function KEe(){if(yF)return Yo;yF=1;var t=Xo(),e=4,r=0,n=1,i=2;function a(L){for(var ne=L.length;--ne>=0;)L[ne]=0}var o=0,s=1,f=2,l=3,u=258,c=29,h=256,p=h+1+c,d=30,m=19,_=2*p+1,v=15,g=16,y=7,x=256,b=16,E=17,w=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=512,R=new Array((p+2)*2);a(R);var O=new Array(d*2);a(O);var F=new Array(A);a(F);var k=new Array(u-l+1);a(k);var $=new Array(c);a($);var q=new Array(d);a(q);function K(L,ne,he,ye,Z){this.static_tree=L,this.extra_bits=ne,this.extra_base=he,this.elems=ye,this.max_length=Z,this.has_stree=L&&L.length}var G,N,j;function M(L,ne){this.dyn_tree=L,this.max_code=0,this.stat_desc=ne}function D(L){return L<256?F[L]:F[256+(L>>>7)]}function J(L,ne){L.pending_buf[L.pending++]=ne&255,L.pending_buf[L.pending++]=ne>>>8&255}function Q(L,ne,he){L.bi_valid>g-he?(L.bi_buf|=ne<<L.bi_valid&65535,J(L,L.bi_buf),L.bi_buf=ne>>g-L.bi_valid,L.bi_valid+=he-g):(L.bi_buf|=ne<<L.bi_valid&65535,L.bi_valid+=he)}function se(L,ne,he){Q(L,he[ne*2],he[ne*2+1])}function re(L,ne){var he=0;do he|=L&1,L>>>=1,he<<=1;while(--ne>0);return he>>>1}function ue(L){L.bi_valid===16?(J(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):L.bi_valid>=8&&(L.pending_buf[L.pending++]=L.bi_buf&255,L.bi_buf>>=8,L.bi_valid-=8)}function Ee(L,ne){var he=ne.dyn_tree,ye=ne.max_code,Z=ne.stat_desc.static_tree,ve=ne.stat_desc.has_stree,U=ne.stat_desc.extra_bits,we=ne.stat_desc.extra_base,He=ne.stat_desc.max_length,P,me,ge,V,ee,fe,Xe=0;for(V=0;V<=v;V++)L.bl_count[V]=0;for(he[L.heap[L.heap_max]*2+1]=0,P=L.heap_max+1;P<_;P++)me=L.heap[P],V=he[he[me*2+1]*2+1]+1,V>He&&(V=He,Xe++),he[me*2+1]=V,!(me>ye)&&(L.bl_count[V]++,ee=0,me>=we&&(ee=U[me-we]),fe=he[me*2],L.opt_len+=fe*(V+ee),ve&&(L.static_len+=fe*(Z[me*2+1]+ee)));if(Xe!==0){do{for(V=He-1;L.bl_count[V]===0;)V--;L.bl_count[V]--,L.bl_count[V+1]+=2,L.bl_count[He]--,Xe-=2}while(Xe>0);for(V=He;V!==0;V--)for(me=L.bl_count[V];me!==0;)ge=L.heap[--P],!(ge>ye)&&(he[ge*2+1]!==V&&(L.opt_len+=(V-he[ge*2+1])*he[ge*2],he[ge*2+1]=V),me--)}}function xe(L,ne,he){var ye=new Array(v+1),Z=0,ve,U;for(ve=1;ve<=v;ve++)ye[ve]=Z=Z+he[ve-1]<<1;for(U=0;U<=ne;U++){var we=L[U*2+1];we!==0&&(L[U*2]=re(ye[we]++,we))}}function de(){var L,ne,he,ye,Z,ve=new Array(v+1);for(he=0,ye=0;ye<c-1;ye++)for($[ye]=he,L=0;L<1<<S[ye];L++)k[he++]=ye;for(k[he-1]=ye,Z=0,ye=0;ye<16;ye++)for(q[ye]=Z,L=0;L<1<<C[ye];L++)F[Z++]=ye;for(Z>>=7;ye<d;ye++)for(q[ye]=Z<<7,L=0;L<1<<C[ye]-7;L++)F[256+Z++]=ye;for(ne=0;ne<=v;ne++)ve[ne]=0;for(L=0;L<=143;)R[L*2+1]=8,L++,ve[8]++;for(;L<=255;)R[L*2+1]=9,L++,ve[9]++;for(;L<=279;)R[L*2+1]=7,L++,ve[7]++;for(;L<=287;)R[L*2+1]=8,L++,ve[8]++;for(xe(R,p+1,ve),L=0;L<d;L++)O[L*2+1]=5,O[L*2]=re(L,5);G=new K(R,S,h+1,p,v),N=new K(O,C,0,d,v),j=new K(new Array(0),T,0,m,y)}function pe(L){var ne;for(ne=0;ne<p;ne++)L.dyn_ltree[ne*2]=0;for(ne=0;ne<d;ne++)L.dyn_dtree[ne*2]=0;for(ne=0;ne<m;ne++)L.bl_tree[ne*2]=0;L.dyn_ltree[x*2]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function Ae(L){L.bi_valid>8?J(L,L.bi_buf):L.bi_valid>0&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function Fe(L,ne,he,ye){Ae(L),ye&&(J(L,he),J(L,~he)),t.arraySet(L.pending_buf,L.window,ne,he,L.pending),L.pending+=he}function Te(L,ne,he,ye){var Z=ne*2,ve=he*2;return L[Z]<L[ve]||L[Z]===L[ve]&&ye[ne]<=ye[he]}function ke(L,ne,he){for(var ye=L.heap[he],Z=he<<1;Z<=L.heap_len&&(Z<L.heap_len&&Te(ne,L.heap[Z+1],L.heap[Z],L.depth)&&Z++,!Te(ne,ye,L.heap[Z],L.depth));)L.heap[he]=L.heap[Z],he=Z,Z<<=1;L.heap[he]=ye}function Ne(L,ne,he){var ye,Z,ve=0,U,we;if(L.last_lit!==0)do ye=L.pending_buf[L.d_buf+ve*2]<<8|L.pending_buf[L.d_buf+ve*2+1],Z=L.pending_buf[L.l_buf+ve],ve++,ye===0?se(L,Z,ne):(U=k[Z],se(L,U+h+1,ne),we=S[U],we!==0&&(Z-=$[U],Q(L,Z,we)),ye--,U=D(ye),se(L,U,he),we=C[U],we!==0&&(ye-=q[U],Q(L,ye,we)));while(ve<L.last_lit);se(L,x,ne)}function Ze(L,ne){var he=ne.dyn_tree,ye=ne.stat_desc.static_tree,Z=ne.stat_desc.has_stree,ve=ne.stat_desc.elems,U,we,He=-1,P;for(L.heap_len=0,L.heap_max=_,U=0;U<ve;U++)he[U*2]!==0?(L.heap[++L.heap_len]=He=U,L.depth[U]=0):he[U*2+1]=0;for(;L.heap_len<2;)P=L.heap[++L.heap_len]=He<2?++He:0,he[P*2]=1,L.depth[P]=0,L.opt_len--,Z&&(L.static_len-=ye[P*2+1]);for(ne.max_code=He,U=L.heap_len>>1;U>=1;U--)ke(L,he,U);P=ve;do U=L.heap[1],L.heap[1]=L.heap[L.heap_len--],ke(L,he,1),we=L.heap[1],L.heap[--L.heap_max]=U,L.heap[--L.heap_max]=we,he[P*2]=he[U*2]+he[we*2],L.depth[P]=(L.depth[U]>=L.depth[we]?L.depth[U]:L.depth[we])+1,he[U*2+1]=he[we*2+1]=P,L.heap[1]=P++,ke(L,he,1);while(L.heap_len>=2);L.heap[--L.heap_max]=L.heap[1],Ee(L,ne),xe(he,He,L.bl_count)}function ct(L,ne,he){var ye,Z=-1,ve,U=ne[0*2+1],we=0,He=7,P=4;for(U===0&&(He=138,P=3),ne[(he+1)*2+1]=65535,ye=0;ye<=he;ye++)ve=U,U=ne[(ye+1)*2+1],!(++we<He&&ve===U)&&(we<P?L.bl_tree[ve*2]+=we:ve!==0?(ve!==Z&&L.bl_tree[ve*2]++,L.bl_tree[b*2]++):we<=10?L.bl_tree[E*2]++:L.bl_tree[w*2]++,we=0,Z=ve,U===0?(He=138,P=3):ve===U?(He=6,P=3):(He=7,P=4))}function Je(L,ne,he){var ye,Z=-1,ve,U=ne[0*2+1],we=0,He=7,P=4;for(U===0&&(He=138,P=3),ye=0;ye<=he;ye++)if(ve=U,U=ne[(ye+1)*2+1],!(++we<He&&ve===U)){if(we<P)do se(L,ve,L.bl_tree);while(--we!==0);else ve!==0?(ve!==Z&&(se(L,ve,L.bl_tree),we--),se(L,b,L.bl_tree),Q(L,we-3,2)):we<=10?(se(L,E,L.bl_tree),Q(L,we-3,3)):(se(L,w,L.bl_tree),Q(L,we-11,7));we=0,Z=ve,U===0?(He=138,P=3):ve===U?(He=6,P=3):(He=7,P=4)}}function qe(L){var ne;for(ct(L,L.dyn_ltree,L.l_desc.max_code),ct(L,L.dyn_dtree,L.d_desc.max_code),Ze(L,L.bl_desc),ne=m-1;ne>=3&&L.bl_tree[I[ne]*2+1]===0;ne--);return L.opt_len+=3*(ne+1)+5+5+4,ne}function at(L,ne,he,ye){var Z;for(Q(L,ne-257,5),Q(L,he-1,5),Q(L,ye-4,4),Z=0;Z<ye;Z++)Q(L,L.bl_tree[I[Z]*2+1],3);Je(L,L.dyn_ltree,ne-1),Je(L,L.dyn_dtree,he-1)}function Tt(L){var ne=4093624447,he;for(he=0;he<=31;he++,ne>>>=1)if(ne&1&&L.dyn_ltree[he*2]!==0)return r;if(L.dyn_ltree[9*2]!==0||L.dyn_ltree[10*2]!==0||L.dyn_ltree[13*2]!==0)return n;for(he=32;he<h;he++)if(L.dyn_ltree[he*2]!==0)return n;return r}var kt=!1;function At(L){kt||(de(),kt=!0),L.l_desc=new M(L.dyn_ltree,G),L.d_desc=new M(L.dyn_dtree,N),L.bl_desc=new M(L.bl_tree,j),L.bi_buf=0,L.bi_valid=0,pe(L)}function It(L,ne,he,ye){Q(L,(o<<1)+(ye?1:0),3),Fe(L,ne,he,!0)}function tt(L){Q(L,s<<1,3),se(L,x,R),ue(L)}function Nt(L,ne,he,ye){var Z,ve,U=0;L.level>0?(L.strm.data_type===i&&(L.strm.data_type=Tt(L)),Ze(L,L.l_desc),Ze(L,L.d_desc),U=qe(L),Z=L.opt_len+3+7>>>3,ve=L.static_len+3+7>>>3,ve<=Z&&(Z=ve)):Z=ve=he+5,he+4<=Z&&ne!==-1?It(L,ne,he,ye):L.strategy===e||ve===Z?(Q(L,(s<<1)+(ye?1:0),3),Ne(L,R,O)):(Q(L,(f<<1)+(ye?1:0),3),at(L,L.l_desc.max_code+1,L.d_desc.max_code+1,U+1),Ne(L,L.dyn_ltree,L.dyn_dtree)),pe(L),ye&&Ae(L)}function _e(L,ne,he){return L.pending_buf[L.d_buf+L.last_lit*2]=ne>>>8&255,L.pending_buf[L.d_buf+L.last_lit*2+1]=ne&255,L.pending_buf[L.l_buf+L.last_lit]=he&255,L.last_lit++,ne===0?L.dyn_ltree[he*2]++:(L.matches++,ne--,L.dyn_ltree[(k[he]+h+1)*2]++,L.dyn_dtree[D(ne)*2]++),L.last_lit===L.lit_bufsize-1}return Yo._tr_init=At,Yo._tr_stored_block=It,Yo._tr_flush_block=Nt,Yo._tr_tally=_e,Yo._tr_align=tt,Yo}var Y_,xF;function f5(){if(xF)return Y_;xF=1;function t(e,r,n,i){for(var a=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+r[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}return Y_=t,Y_}var q_,bF;function c5(){if(bF)return q_;bF=1;function t(){for(var n,i=[],a=0;a<256;a++){n=a;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var e=t();function r(n,i,a,o){var s=e,f=o+a;n^=-1;for(var l=o;l<f;l++)n=n>>>8^s[(n^i[l])&255];return n^-1}return q_=r,q_}var K_,EF;function q2(){return EF||(EF=1,K_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),K_}var wF;function ZEe(){if(wF)return Ii;wF=1;var t=Xo(),e=KEe(),r=f5(),n=c5(),i=q2(),a=0,o=1,s=3,f=4,l=5,u=0,c=1,h=-2,p=-3,d=-5,m=-1,_=1,v=2,g=3,y=4,x=0,b=2,E=8,w=9,S=15,C=8,T=29,I=256,A=I+1+T,R=30,O=19,F=2*A+1,k=15,$=3,q=258,K=q+$+1,G=32,N=42,j=69,M=73,D=91,J=103,Q=113,se=666,re=1,ue=2,Ee=3,xe=4,de=3;function pe(P,me){return P.msg=i[me],me}function Ae(P){return(P<<1)-(P>4?9:0)}function Fe(P){for(var me=P.length;--me>=0;)P[me]=0}function Te(P){var me=P.state,ge=me.pending;ge>P.avail_out&&(ge=P.avail_out),ge!==0&&(t.arraySet(P.output,me.pending_buf,me.pending_out,ge,P.next_out),P.next_out+=ge,me.pending_out+=ge,P.total_out+=ge,P.avail_out-=ge,me.pending-=ge,me.pending===0&&(me.pending_out=0))}function ke(P,me){e._tr_flush_block(P,P.block_start>=0?P.block_start:-1,P.strstart-P.block_start,me),P.block_start=P.strstart,Te(P.strm)}function Ne(P,me){P.pending_buf[P.pending++]=me}function Ze(P,me){P.pending_buf[P.pending++]=me>>>8&255,P.pending_buf[P.pending++]=me&255}function ct(P,me,ge,V){var ee=P.avail_in;return ee>V&&(ee=V),ee===0?0:(P.avail_in-=ee,t.arraySet(me,P.input,P.next_in,ee,ge),P.state.wrap===1?P.adler=r(P.adler,me,ee,ge):P.state.wrap===2&&(P.adler=n(P.adler,me,ee,ge)),P.next_in+=ee,P.total_in+=ee,ee)}function Je(P,me){var ge=P.max_chain_length,V=P.strstart,ee,fe,Xe=P.prev_length,De=P.nice_match,$e=P.strstart>P.w_size-K?P.strstart-(P.w_size-K):0,ot=P.window,Lr=P.w_mask,Rt=P.prev,Qe=P.strstart+q,$t=ot[V+Xe-1],vr=ot[V+Xe];P.prev_length>=P.good_match&&(ge>>=2),De>P.lookahead&&(De=P.lookahead);do if(ee=me,!(ot[ee+Xe]!==vr||ot[ee+Xe-1]!==$t||ot[ee]!==ot[V]||ot[++ee]!==ot[V+1])){V+=2,ee++;do;while(ot[++V]===ot[++ee]&&ot[++V]===ot[++ee]&&ot[++V]===ot[++ee]&&ot[++V]===ot[++ee]&&ot[++V]===ot[++ee]&&ot[++V]===ot[++ee]&&ot[++V]===ot[++ee]&&ot[++V]===ot[++ee]&&V<Qe);if(fe=q-(Qe-V),V=Qe-q,fe>Xe){if(P.match_start=me,Xe=fe,fe>=De)break;$t=ot[V+Xe-1],vr=ot[V+Xe]}}while((me=Rt[me&Lr])>$e&&--ge!==0);return Xe<=P.lookahead?Xe:P.lookahead}function qe(P){var me=P.w_size,ge,V,ee,fe,Xe;do{if(fe=P.window_size-P.lookahead-P.strstart,P.strstart>=me+(me-K)){t.arraySet(P.window,P.window,me,me,0),P.match_start-=me,P.strstart-=me,P.block_start-=me,V=P.hash_size,ge=V;do ee=P.head[--ge],P.head[ge]=ee>=me?ee-me:0;while(--V);V=me,ge=V;do ee=P.prev[--ge],P.prev[ge]=ee>=me?ee-me:0;while(--V);fe+=me}if(P.strm.avail_in===0)break;if(V=ct(P.strm,P.window,P.strstart+P.lookahead,fe),P.lookahead+=V,P.lookahead+P.insert>=$)for(Xe=P.strstart-P.insert,P.ins_h=P.window[Xe],P.ins_h=(P.ins_h<<P.hash_shift^P.window[Xe+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[Xe+$-1])&P.hash_mask,P.prev[Xe&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=Xe,Xe++,P.insert--,!(P.lookahead+P.insert<$)););}while(P.lookahead<K&&P.strm.avail_in!==0)}function at(P,me){var ge=65535;for(ge>P.pending_buf_size-5&&(ge=P.pending_buf_size-5);;){if(P.lookahead<=1){if(qe(P),P.lookahead===0&&me===a)return re;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var V=P.block_start+ge;if((P.strstart===0||P.strstart>=V)&&(P.lookahead=P.strstart-V,P.strstart=V,ke(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-K&&(ke(P,!1),P.strm.avail_out===0))return re}return P.insert=0,me===f?(ke(P,!0),P.strm.avail_out===0?Ee:xe):(P.strstart>P.block_start&&(ke(P,!1),P.strm.avail_out===0),re)}function Tt(P,me){for(var ge,V;;){if(P.lookahead<K){if(qe(P),P.lookahead<K&&me===a)return re;if(P.lookahead===0)break}if(ge=0,P.lookahead>=$&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),ge!==0&&P.strstart-ge<=P.w_size-K&&(P.match_length=Je(P,ge)),P.match_length>=$)if(V=e._tr_tally(P,P.strstart-P.match_start,P.match_length-$),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=$){P.match_length--;do P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.match_length!==0);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else V=e._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(V&&(ke(P,!1),P.strm.avail_out===0))return re}return P.insert=P.strstart<$-1?P.strstart:$-1,me===f?(ke(P,!0),P.strm.avail_out===0?Ee:xe):P.last_lit&&(ke(P,!1),P.strm.avail_out===0)?re:ue}function kt(P,me){for(var ge,V,ee;;){if(P.lookahead<K){if(qe(P),P.lookahead<K&&me===a)return re;if(P.lookahead===0)break}if(ge=0,P.lookahead>=$&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=$-1,ge!==0&&P.prev_length<P.max_lazy_match&&P.strstart-ge<=P.w_size-K&&(P.match_length=Je(P,ge),P.match_length<=5&&(P.strategy===_||P.match_length===$&&P.strstart-P.match_start>4096)&&(P.match_length=$-1)),P.prev_length>=$&&P.match_length<=P.prev_length){ee=P.strstart+P.lookahead-$,V=e._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-$),P.lookahead-=P.prev_length-1,P.prev_length-=2;do++P.strstart<=ee&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+$-1])&P.hash_mask,ge=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart);while(--P.prev_length!==0);if(P.match_available=0,P.match_length=$-1,P.strstart++,V&&(ke(P,!1),P.strm.avail_out===0))return re}else if(P.match_available){if(V=e._tr_tally(P,0,P.window[P.strstart-1]),V&&ke(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return re}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(V=e._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<$-1?P.strstart:$-1,me===f?(ke(P,!0),P.strm.avail_out===0?Ee:xe):P.last_lit&&(ke(P,!1),P.strm.avail_out===0)?re:ue}function At(P,me){for(var ge,V,ee,fe,Xe=P.window;;){if(P.lookahead<=q){if(qe(P),P.lookahead<=q&&me===a)return re;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=$&&P.strstart>0&&(ee=P.strstart-1,V=Xe[ee],V===Xe[++ee]&&V===Xe[++ee]&&V===Xe[++ee])){fe=P.strstart+q;do;while(V===Xe[++ee]&&V===Xe[++ee]&&V===Xe[++ee]&&V===Xe[++ee]&&V===Xe[++ee]&&V===Xe[++ee]&&V===Xe[++ee]&&V===Xe[++ee]&&ee<fe);P.match_length=q-(fe-ee),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=$?(ge=e._tr_tally(P,1,P.match_length-$),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(ge=e._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),ge&&(ke(P,!1),P.strm.avail_out===0))return re}return P.insert=0,me===f?(ke(P,!0),P.strm.avail_out===0?Ee:xe):P.last_lit&&(ke(P,!1),P.strm.avail_out===0)?re:ue}function It(P,me){for(var ge;;){if(P.lookahead===0&&(qe(P),P.lookahead===0)){if(me===a)return re;break}if(P.match_length=0,ge=e._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,ge&&(ke(P,!1),P.strm.avail_out===0))return re}return P.insert=0,me===f?(ke(P,!0),P.strm.avail_out===0?Ee:xe):P.last_lit&&(ke(P,!1),P.strm.avail_out===0)?re:ue}function tt(P,me,ge,V,ee){this.good_length=P,this.max_lazy=me,this.nice_length=ge,this.max_chain=V,this.func=ee}var Nt;Nt=[new tt(0,0,0,0,at),new tt(4,4,8,4,Tt),new tt(4,5,16,8,Tt),new tt(4,6,32,32,Tt),new tt(4,4,16,16,kt),new tt(8,16,32,32,kt),new tt(8,16,128,128,kt),new tt(8,32,128,256,kt),new tt(32,128,258,1024,kt),new tt(32,258,258,4096,kt)];function _e(P){P.window_size=2*P.w_size,Fe(P.head),P.max_lazy_match=Nt[P.level].max_lazy,P.good_match=Nt[P.level].good_length,P.nice_match=Nt[P.level].nice_length,P.max_chain_length=Nt[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=$-1,P.match_available=0,P.ins_h=0}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(F*2),this.dyn_dtree=new t.Buf16((2*R+1)*2),this.bl_tree=new t.Buf16((2*O+1)*2),Fe(this.dyn_ltree),Fe(this.dyn_dtree),Fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(k+1),this.heap=new t.Buf16(2*A+1),Fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*A+1),Fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ne(P){var me;return!P||!P.state?pe(P,h):(P.total_in=P.total_out=0,P.data_type=b,me=P.state,me.pending=0,me.pending_out=0,me.wrap<0&&(me.wrap=-me.wrap),me.status=me.wrap?N:Q,P.adler=me.wrap===2?0:1,me.last_flush=a,e._tr_init(me),u)}function he(P){var me=ne(P);return me===u&&_e(P.state),me}function ye(P,me){return!P||!P.state||P.state.wrap!==2?h:(P.state.gzhead=me,u)}function Z(P,me,ge,V,ee,fe){if(!P)return h;var Xe=1;if(me===m&&(me=6),V<0?(Xe=0,V=-V):V>15&&(Xe=2,V-=16),ee<1||ee>w||ge!==E||V<8||V>15||me<0||me>9||fe<0||fe>y)return pe(P,h);V===8&&(V=9);var De=new L;return P.state=De,De.strm=P,De.wrap=Xe,De.gzhead=null,De.w_bits=V,De.w_size=1<<De.w_bits,De.w_mask=De.w_size-1,De.hash_bits=ee+7,De.hash_size=1<<De.hash_bits,De.hash_mask=De.hash_size-1,De.hash_shift=~~((De.hash_bits+$-1)/$),De.window=new t.Buf8(De.w_size*2),De.head=new t.Buf16(De.hash_size),De.prev=new t.Buf16(De.w_size),De.lit_bufsize=1<<ee+6,De.pending_buf_size=De.lit_bufsize*4,De.pending_buf=new t.Buf8(De.pending_buf_size),De.d_buf=1*De.lit_bufsize,De.l_buf=(1+2)*De.lit_bufsize,De.level=me,De.strategy=fe,De.method=ge,he(P)}function ve(P,me){return Z(P,me,E,S,C,x)}function U(P,me){var ge,V,ee,fe;if(!P||!P.state||me>l||me<0)return P?pe(P,h):h;if(V=P.state,!P.output||!P.input&&P.avail_in!==0||V.status===se&&me!==f)return pe(P,P.avail_out===0?d:h);if(V.strm=P,ge=V.last_flush,V.last_flush=me,V.status===N)if(V.wrap===2)P.adler=0,Ne(V,31),Ne(V,139),Ne(V,8),V.gzhead?(Ne(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),Ne(V,V.gzhead.time&255),Ne(V,V.gzhead.time>>8&255),Ne(V,V.gzhead.time>>16&255),Ne(V,V.gzhead.time>>24&255),Ne(V,V.level===9?2:V.strategy>=v||V.level<2?4:0),Ne(V,V.gzhead.os&255),V.gzhead.extra&&V.gzhead.extra.length&&(Ne(V,V.gzhead.extra.length&255),Ne(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(P.adler=n(P.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=j):(Ne(V,0),Ne(V,0),Ne(V,0),Ne(V,0),Ne(V,0),Ne(V,V.level===9?2:V.strategy>=v||V.level<2?4:0),Ne(V,de),V.status=Q);else{var Xe=E+(V.w_bits-8<<4)<<8,De=-1;V.strategy>=v||V.level<2?De=0:V.level<6?De=1:V.level===6?De=2:De=3,Xe|=De<<6,V.strstart!==0&&(Xe|=G),Xe+=31-Xe%31,V.status=Q,Ze(V,Xe),V.strstart!==0&&(Ze(V,P.adler>>>16),Ze(V,P.adler&65535)),P.adler=1}if(V.status===j)if(V.gzhead.extra){for(ee=V.pending;V.gzindex<(V.gzhead.extra.length&65535)&&!(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),Te(P),ee=V.pending,V.pending===V.pending_buf_size));)Ne(V,V.gzhead.extra[V.gzindex]&255),V.gzindex++;V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=M)}else V.status=M;if(V.status===M)if(V.gzhead.name){ee=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),Te(P),ee=V.pending,V.pending===V.pending_buf_size)){fe=1;break}V.gzindex<V.gzhead.name.length?fe=V.gzhead.name.charCodeAt(V.gzindex++)&255:fe=0,Ne(V,fe)}while(fe!==0);V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),fe===0&&(V.gzindex=0,V.status=D)}else V.status=D;if(V.status===D)if(V.gzhead.comment){ee=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),Te(P),ee=V.pending,V.pending===V.pending_buf_size)){fe=1;break}V.gzindex<V.gzhead.comment.length?fe=V.gzhead.comment.charCodeAt(V.gzindex++)&255:fe=0,Ne(V,fe)}while(fe!==0);V.gzhead.hcrc&&V.pending>ee&&(P.adler=n(P.adler,V.pending_buf,V.pending-ee,ee)),fe===0&&(V.status=J)}else V.status=J;if(V.status===J&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&Te(P),V.pending+2<=V.pending_buf_size&&(Ne(V,P.adler&255),Ne(V,P.adler>>8&255),P.adler=0,V.status=Q)):V.status=Q),V.pending!==0){if(Te(P),P.avail_out===0)return V.last_flush=-1,u}else if(P.avail_in===0&&Ae(me)<=Ae(ge)&&me!==f)return pe(P,d);if(V.status===se&&P.avail_in!==0)return pe(P,d);if(P.avail_in!==0||V.lookahead!==0||me!==a&&V.status!==se){var $e=V.strategy===v?It(V,me):V.strategy===g?At(V,me):Nt[V.level].func(V,me);if(($e===Ee||$e===xe)&&(V.status=se),$e===re||$e===Ee)return P.avail_out===0&&(V.last_flush=-1),u;if($e===ue&&(me===o?e._tr_align(V):me!==l&&(e._tr_stored_block(V,0,0,!1),me===s&&(Fe(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),Te(P),P.avail_out===0))return V.last_flush=-1,u}return me!==f?u:V.wrap<=0?c:(V.wrap===2?(Ne(V,P.adler&255),Ne(V,P.adler>>8&255),Ne(V,P.adler>>16&255),Ne(V,P.adler>>24&255),Ne(V,P.total_in&255),Ne(V,P.total_in>>8&255),Ne(V,P.total_in>>16&255),Ne(V,P.total_in>>24&255)):(Ze(V,P.adler>>>16),Ze(V,P.adler&65535)),Te(P),V.wrap>0&&(V.wrap=-V.wrap),V.pending!==0?u:c)}function we(P){var me;return!P||!P.state?h:(me=P.state.status,me!==N&&me!==j&&me!==M&&me!==D&&me!==J&&me!==Q&&me!==se?pe(P,h):(P.state=null,me===Q?pe(P,p):u))}function He(P,me){var ge=me.length,V,ee,fe,Xe,De,$e,ot,Lr;if(!P||!P.state||(V=P.state,Xe=V.wrap,Xe===2||Xe===1&&V.status!==N||V.lookahead))return h;for(Xe===1&&(P.adler=r(P.adler,me,ge,0)),V.wrap=0,ge>=V.w_size&&(Xe===0&&(Fe(V.head),V.strstart=0,V.block_start=0,V.insert=0),Lr=new t.Buf8(V.w_size),t.arraySet(Lr,me,ge-V.w_size,V.w_size,0),me=Lr,ge=V.w_size),De=P.avail_in,$e=P.next_in,ot=P.input,P.avail_in=ge,P.next_in=0,P.input=me,qe(V);V.lookahead>=$;){ee=V.strstart,fe=V.lookahead-($-1);do V.ins_h=(V.ins_h<<V.hash_shift^V.window[ee+$-1])&V.hash_mask,V.prev[ee&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ee,ee++;while(--fe);V.strstart=ee,V.lookahead=$-1,qe(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=$-1,V.match_available=0,P.next_in=$e,P.input=ot,P.avail_in=De,V.wrap=Xe,u}return Ii.deflateInit=ve,Ii.deflateInit2=Z,Ii.deflateReset=he,Ii.deflateResetKeep=ne,Ii.deflateSetHeader=ye,Ii.deflate=U,Ii.deflateEnd=we,Ii.deflateSetDictionary=He,Ii.deflateInfo="pako deflate (from Nodeca project)",Ii}var qo={},SF;function h5(){if(SF)return qo;SF=1;var t=Xo(),e=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var n=new t.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,qo.string2buf=function(o){var s,f,l,u,c,h=o.length,p=0;for(u=0;u<h;u++)f=o.charCodeAt(u),(f&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(f=65536+(f-55296<<10)+(l-56320),u++)),p+=f<128?1:f<2048?2:f<65536?3:4;for(s=new t.Buf8(p),c=0,u=0;c<p;u++)f=o.charCodeAt(u),(f&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(f=65536+(f-55296<<10)+(l-56320),u++)),f<128?s[c++]=f:f<2048?(s[c++]=192|f>>>6,s[c++]=128|f&63):f<65536?(s[c++]=224|f>>>12,s[c++]=128|f>>>6&63,s[c++]=128|f&63):(s[c++]=240|f>>>18,s[c++]=128|f>>>12&63,s[c++]=128|f>>>6&63,s[c++]=128|f&63);return s};function a(o,s){if(s<65534&&(o.subarray&&r||!o.subarray&&e))return String.fromCharCode.apply(null,t.shrinkBuf(o,s));for(var f="",l=0;l<s;l++)f+=String.fromCharCode(o[l]);return f}return qo.buf2binstring=function(o){return a(o,o.length)},qo.binstring2buf=function(o){for(var s=new t.Buf8(o.length),f=0,l=s.length;f<l;f++)s[f]=o.charCodeAt(f);return s},qo.buf2string=function(o,s){var f,l,u,c,h=s||o.length,p=new Array(h*2);for(l=0,f=0;f<h;){if(u=o[f++],u<128){p[l++]=u;continue}if(c=n[u],c>4){p[l++]=65533,f+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&f<h;)u=u<<6|o[f++]&63,c--;if(c>1){p[l++]=65533;continue}u<65536?p[l++]=u:(u-=65536,p[l++]=55296|u>>10&1023,p[l++]=56320|u&1023)}return a(p,l)},qo.utf8border=function(o,s){var f;for(s=s||o.length,s>o.length&&(s=o.length),f=s-1;f>=0&&(o[f]&192)===128;)f--;return f<0||f===0?s:f+n[o[f]]>s?f:s},qo}var Z_,CF;function d5(){if(CF)return Z_;CF=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Z_=t,Z_}var TF;function JEe(){if(TF)return ol;TF=1;var t=ZEe(),e=Xo(),r=h5(),n=q2(),i=d5(),a=Object.prototype.toString,o=0,s=4,f=0,l=1,u=2,c=-1,h=0,p=8;function d(g){if(!(this instanceof d))return new d(g);this.options=e.assign({level:c,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var y=this.options;y.raw&&y.windowBits>0?y.windowBits=-y.windowBits:y.gzip&&y.windowBits>0&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var x=t.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(x!==f)throw new Error(n[x]);if(y.header&&t.deflateSetHeader(this.strm,y.header),y.dictionary){var b;if(typeof y.dictionary=="string"?b=r.string2buf(y.dictionary):a.call(y.dictionary)==="[object ArrayBuffer]"?b=new Uint8Array(y.dictionary):b=y.dictionary,x=t.deflateSetDictionary(this.strm,b),x!==f)throw new Error(n[x]);this._dict_set=!0}}d.prototype.push=function(g,y){var x=this.strm,b=this.options.chunkSize,E,w;if(this.ended)return!1;w=y===~~y?y:y===!0?s:o,typeof g=="string"?x.input=r.string2buf(g):a.call(g)==="[object ArrayBuffer]"?x.input=new Uint8Array(g):x.input=g,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new e.Buf8(b),x.next_out=0,x.avail_out=b),E=t.deflate(x,w),E!==l&&E!==f)return this.onEnd(E),this.ended=!0,!1;(x.avail_out===0||x.avail_in===0&&(w===s||w===u))&&(this.options.to==="string"?this.onData(r.buf2binstring(e.shrinkBuf(x.output,x.next_out))):this.onData(e.shrinkBuf(x.output,x.next_out)))}while((x.avail_in>0||x.avail_out===0)&&E!==l);return w===s?(E=t.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===f):(w===u&&(this.onEnd(f),x.avail_out=0),!0)},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function m(g,y){var x=new d(y);if(x.push(g,!0),x.err)throw x.msg||n[x.err];return x.result}function _(g,y){return y=y||{},y.raw=!0,m(g,y)}function v(g,y){return y=y||{},y.gzip=!0,m(g,y)}return ol.Deflate=d,ol.deflate=m,ol.deflateRaw=_,ol.gzip=v,ol}var sl={},hi={},J_,AF;function QEe(){if(AF)return J_;AF=1;var t=30,e=12;return J_=function(n,i){var a,o,s,f,l,u,c,h,p,d,m,_,v,g,y,x,b,E,w,S,C,T,I,A,R;a=n.state,o=n.next_in,A=n.input,s=o+(n.avail_in-5),f=n.next_out,R=n.output,l=f-(i-n.avail_out),u=f+(n.avail_out-257),c=a.dmax,h=a.wsize,p=a.whave,d=a.wnext,m=a.window,_=a.hold,v=a.bits,g=a.lencode,y=a.distcode,x=(1<<a.lenbits)-1,b=(1<<a.distbits)-1;e:do{v<15&&(_+=A[o++]<<v,v+=8,_+=A[o++]<<v,v+=8),E=g[_&x];t:for(;;){if(w=E>>>24,_>>>=w,v-=w,w=E>>>16&255,w===0)R[f++]=E&65535;else if(w&16){S=E&65535,w&=15,w&&(v<w&&(_+=A[o++]<<v,v+=8),S+=_&(1<<w)-1,_>>>=w,v-=w),v<15&&(_+=A[o++]<<v,v+=8,_+=A[o++]<<v,v+=8),E=y[_&b];r:for(;;){if(w=E>>>24,_>>>=w,v-=w,w=E>>>16&255,w&16){if(C=E&65535,w&=15,v<w&&(_+=A[o++]<<v,v+=8,v<w&&(_+=A[o++]<<v,v+=8)),C+=_&(1<<w)-1,C>c){n.msg="invalid distance too far back",a.mode=t;break e}if(_>>>=w,v-=w,w=f-l,C>w){if(w=C-w,w>p&&a.sane){n.msg="invalid distance too far back",a.mode=t;break e}if(T=0,I=m,d===0){if(T+=h-w,w<S){S-=w;do R[f++]=m[T++];while(--w);T=f-C,I=R}}else if(d<w){if(T+=h+d-w,w-=d,w<S){S-=w;do R[f++]=m[T++];while(--w);if(T=0,d<S){w=d,S-=w;do R[f++]=m[T++];while(--w);T=f-C,I=R}}}else if(T+=d-w,w<S){S-=w;do R[f++]=m[T++];while(--w);T=f-C,I=R}for(;S>2;)R[f++]=I[T++],R[f++]=I[T++],R[f++]=I[T++],S-=3;S&&(R[f++]=I[T++],S>1&&(R[f++]=I[T++]))}else{T=f-C;do R[f++]=R[T++],R[f++]=R[T++],R[f++]=R[T++],S-=3;while(S>2);S&&(R[f++]=R[T++],S>1&&(R[f++]=R[T++]))}}else if(w&64){n.msg="invalid distance code",a.mode=t;break e}else{E=y[(E&65535)+(_&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=t;break e}else{E=g[(E&65535)+(_&(1<<w)-1)];continue t}break}}while(o<s&&f<u);S=v>>3,o-=S,v-=S<<3,_&=(1<<v)-1,n.next_in=o,n.next_out=f,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=f<u?257+(u-f):257-(f-u),a.hold=_,a.bits=v},J_}var Q_,IF;function ewe(){if(IF)return Q_;IF=1;var t=Xo(),e=15,r=852,n=592,i=0,a=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Q_=function(h,p,d,m,_,v,g,y){var x=y.bits,b=0,E=0,w=0,S=0,C=0,T=0,I=0,A=0,R=0,O=0,F,k,$,q,K,G=null,N=0,j,M=new t.Buf16(e+1),D=new t.Buf16(e+1),J=null,Q=0,se,re,ue;for(b=0;b<=e;b++)M[b]=0;for(E=0;E<m;E++)M[p[d+E]]++;for(C=x,S=e;S>=1&&M[S]===0;S--);if(C>S&&(C=S),S===0)return _[v++]=1<<24|64<<16|0,_[v++]=1<<24|64<<16|0,y.bits=1,0;for(w=1;w<S&&M[w]===0;w++);for(C<w&&(C=w),A=1,b=1;b<=e;b++)if(A<<=1,A-=M[b],A<0)return-1;if(A>0&&(h===i||S!==1))return-1;for(D[1]=0,b=1;b<e;b++)D[b+1]=D[b]+M[b];for(E=0;E<m;E++)p[d+E]!==0&&(g[D[p[d+E]]++]=E);if(h===i?(G=J=g,j=19):h===a?(G=s,N-=257,J=f,Q-=257,j=256):(G=l,J=u,j=-1),O=0,E=0,b=w,K=v,T=C,I=0,$=-1,R=1<<C,q=R-1,h===a&&R>r||h===o&&R>n)return 1;for(;;){se=b-I,g[E]<j?(re=0,ue=g[E]):g[E]>j?(re=J[Q+g[E]],ue=G[N+g[E]]):(re=32+64,ue=0),F=1<<b-I,k=1<<T,w=k;do k-=F,_[K+(O>>I)+k]=se<<24|re<<16|ue|0;while(k!==0);for(F=1<<b-1;O&F;)F>>=1;if(F!==0?(O&=F-1,O+=F):O=0,E++,--M[b]===0){if(b===S)break;b=p[d+g[E]]}if(b>C&&(O&q)!==$){for(I===0&&(I=C),K+=w,T=b-I,A=1<<T;T+I<S&&(A-=M[T+I],!(A<=0));)T++,A<<=1;if(R+=1<<T,h===a&&R>r||h===o&&R>n)return 1;$=O&q,_[$]=C<<24|T<<16|K-v|0}}return O!==0&&(_[K+O]=b-I<<24|64<<16|0),y.bits=C,0},Q_}var RF;function twe(){if(RF)return hi;RF=1;var t=Xo(),e=f5(),r=c5(),n=QEe(),i=ewe(),a=0,o=1,s=2,f=4,l=5,u=6,c=0,h=1,p=2,d=-2,m=-3,_=-4,v=-5,g=8,y=1,x=2,b=3,E=4,w=5,S=6,C=7,T=8,I=9,A=10,R=11,O=12,F=13,k=14,$=15,q=16,K=17,G=18,N=19,j=20,M=21,D=22,J=23,Q=24,se=25,re=26,ue=27,Ee=28,xe=29,de=30,pe=31,Ae=32,Fe=852,Te=592,ke=15,Ne=ke;function Ze(Z){return(Z>>>24&255)+(Z>>>8&65280)+((Z&65280)<<8)+((Z&255)<<24)}function ct(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Je(Z){var ve;return!Z||!Z.state?d:(ve=Z.state,Z.total_in=Z.total_out=ve.total=0,Z.msg="",ve.wrap&&(Z.adler=ve.wrap&1),ve.mode=y,ve.last=0,ve.havedict=0,ve.dmax=32768,ve.head=null,ve.hold=0,ve.bits=0,ve.lencode=ve.lendyn=new t.Buf32(Fe),ve.distcode=ve.distdyn=new t.Buf32(Te),ve.sane=1,ve.back=-1,c)}function qe(Z){var ve;return!Z||!Z.state?d:(ve=Z.state,ve.wsize=0,ve.whave=0,ve.wnext=0,Je(Z))}function at(Z,ve){var U,we;return!Z||!Z.state||(we=Z.state,ve<0?(U=0,ve=-ve):(U=(ve>>4)+1,ve<48&&(ve&=15)),ve&&(ve<8||ve>15))?d:(we.window!==null&&we.wbits!==ve&&(we.window=null),we.wrap=U,we.wbits=ve,qe(Z))}function Tt(Z,ve){var U,we;return Z?(we=new ct,Z.state=we,we.window=null,U=at(Z,ve),U!==c&&(Z.state=null),U):d}function kt(Z){return Tt(Z,Ne)}var At=!0,It,tt;function Nt(Z){if(At){var ve;for(It=new t.Buf32(512),tt=new t.Buf32(32),ve=0;ve<144;)Z.lens[ve++]=8;for(;ve<256;)Z.lens[ve++]=9;for(;ve<280;)Z.lens[ve++]=7;for(;ve<288;)Z.lens[ve++]=8;for(i(o,Z.lens,0,288,It,0,Z.work,{bits:9}),ve=0;ve<32;)Z.lens[ve++]=5;i(s,Z.lens,0,32,tt,0,Z.work,{bits:5}),At=!1}Z.lencode=It,Z.lenbits=9,Z.distcode=tt,Z.distbits=5}function _e(Z,ve,U,we){var He,P=Z.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new t.Buf8(P.wsize)),we>=P.wsize?(t.arraySet(P.window,ve,U-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(He=P.wsize-P.wnext,He>we&&(He=we),t.arraySet(P.window,ve,U-we,He,P.wnext),we-=He,we?(t.arraySet(P.window,ve,U-we,we,0),P.wnext=we,P.whave=P.wsize):(P.wnext+=He,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=He))),0}function L(Z,ve){var U,we,He,P,me,ge,V,ee,fe,Xe,De,$e,ot,Lr,Rt=0,Qe,$t,vr,zr,Xs,Hs,mr,Un,Br=new t.Buf8(4),Si,fi,yh=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Z||!Z.state||!Z.output||!Z.input&&Z.avail_in!==0)return d;U=Z.state,U.mode===O&&(U.mode=F),me=Z.next_out,He=Z.output,V=Z.avail_out,P=Z.next_in,we=Z.input,ge=Z.avail_in,ee=U.hold,fe=U.bits,Xe=ge,De=V,Un=c;e:for(;;)switch(U.mode){case y:if(U.wrap===0){U.mode=F;break}for(;fe<16;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}if(U.wrap&2&&ee===35615){U.check=0,Br[0]=ee&255,Br[1]=ee>>>8&255,U.check=r(U.check,Br,2,0),ee=0,fe=0,U.mode=x;break}if(U.flags=0,U.head&&(U.head.done=!1),!(U.wrap&1)||(((ee&255)<<8)+(ee>>8))%31){Z.msg="incorrect header check",U.mode=de;break}if((ee&15)!==g){Z.msg="unknown compression method",U.mode=de;break}if(ee>>>=4,fe-=4,mr=(ee&15)+8,U.wbits===0)U.wbits=mr;else if(mr>U.wbits){Z.msg="invalid window size",U.mode=de;break}U.dmax=1<<mr,Z.adler=U.check=1,U.mode=ee&512?A:O,ee=0,fe=0;break;case x:for(;fe<16;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}if(U.flags=ee,(U.flags&255)!==g){Z.msg="unknown compression method",U.mode=de;break}if(U.flags&57344){Z.msg="unknown header flags set",U.mode=de;break}U.head&&(U.head.text=ee>>8&1),U.flags&512&&(Br[0]=ee&255,Br[1]=ee>>>8&255,U.check=r(U.check,Br,2,0)),ee=0,fe=0,U.mode=b;case b:for(;fe<32;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}U.head&&(U.head.time=ee),U.flags&512&&(Br[0]=ee&255,Br[1]=ee>>>8&255,Br[2]=ee>>>16&255,Br[3]=ee>>>24&255,U.check=r(U.check,Br,4,0)),ee=0,fe=0,U.mode=E;case E:for(;fe<16;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}U.head&&(U.head.xflags=ee&255,U.head.os=ee>>8),U.flags&512&&(Br[0]=ee&255,Br[1]=ee>>>8&255,U.check=r(U.check,Br,2,0)),ee=0,fe=0,U.mode=w;case w:if(U.flags&1024){for(;fe<16;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}U.length=ee,U.head&&(U.head.extra_len=ee),U.flags&512&&(Br[0]=ee&255,Br[1]=ee>>>8&255,U.check=r(U.check,Br,2,0)),ee=0,fe=0}else U.head&&(U.head.extra=null);U.mode=S;case S:if(U.flags&1024&&($e=U.length,$e>ge&&($e=ge),$e&&(U.head&&(mr=U.head.extra_len-U.length,U.head.extra||(U.head.extra=new Array(U.head.extra_len)),t.arraySet(U.head.extra,we,P,$e,mr)),U.flags&512&&(U.check=r(U.check,we,$e,P)),ge-=$e,P+=$e,U.length-=$e),U.length))break e;U.length=0,U.mode=C;case C:if(U.flags&2048){if(ge===0)break e;$e=0;do mr=we[P+$e++],U.head&&mr&&U.length<65536&&(U.head.name+=String.fromCharCode(mr));while(mr&&$e<ge);if(U.flags&512&&(U.check=r(U.check,we,$e,P)),ge-=$e,P+=$e,mr)break e}else U.head&&(U.head.name=null);U.length=0,U.mode=T;case T:if(U.flags&4096){if(ge===0)break e;$e=0;do mr=we[P+$e++],U.head&&mr&&U.length<65536&&(U.head.comment+=String.fromCharCode(mr));while(mr&&$e<ge);if(U.flags&512&&(U.check=r(U.check,we,$e,P)),ge-=$e,P+=$e,mr)break e}else U.head&&(U.head.comment=null);U.mode=I;case I:if(U.flags&512){for(;fe<16;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}if(ee!==(U.check&65535)){Z.msg="header crc mismatch",U.mode=de;break}ee=0,fe=0}U.head&&(U.head.hcrc=U.flags>>9&1,U.head.done=!0),Z.adler=U.check=0,U.mode=O;break;case A:for(;fe<32;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}Z.adler=U.check=Ze(ee),ee=0,fe=0,U.mode=R;case R:if(U.havedict===0)return Z.next_out=me,Z.avail_out=V,Z.next_in=P,Z.avail_in=ge,U.hold=ee,U.bits=fe,p;Z.adler=U.check=1,U.mode=O;case O:if(ve===l||ve===u)break e;case F:if(U.last){ee>>>=fe&7,fe-=fe&7,U.mode=ue;break}for(;fe<3;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}switch(U.last=ee&1,ee>>>=1,fe-=1,ee&3){case 0:U.mode=k;break;case 1:if(Nt(U),U.mode=j,ve===u){ee>>>=2,fe-=2;break e}break;case 2:U.mode=K;break;case 3:Z.msg="invalid block type",U.mode=de}ee>>>=2,fe-=2;break;case k:for(ee>>>=fe&7,fe-=fe&7;fe<32;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}if((ee&65535)!==(ee>>>16^65535)){Z.msg="invalid stored block lengths",U.mode=de;break}if(U.length=ee&65535,ee=0,fe=0,U.mode=$,ve===u)break e;case $:U.mode=q;case q:if($e=U.length,$e){if($e>ge&&($e=ge),$e>V&&($e=V),$e===0)break e;t.arraySet(He,we,P,$e,me),ge-=$e,P+=$e,V-=$e,me+=$e,U.length-=$e;break}U.mode=O;break;case K:for(;fe<14;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}if(U.nlen=(ee&31)+257,ee>>>=5,fe-=5,U.ndist=(ee&31)+1,ee>>>=5,fe-=5,U.ncode=(ee&15)+4,ee>>>=4,fe-=4,U.nlen>286||U.ndist>30){Z.msg="too many length or distance symbols",U.mode=de;break}U.have=0,U.mode=G;case G:for(;U.have<U.ncode;){for(;fe<3;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}U.lens[yh[U.have++]]=ee&7,ee>>>=3,fe-=3}for(;U.have<19;)U.lens[yh[U.have++]]=0;if(U.lencode=U.lendyn,U.lenbits=7,Si={bits:U.lenbits},Un=i(a,U.lens,0,19,U.lencode,0,U.work,Si),U.lenbits=Si.bits,Un){Z.msg="invalid code lengths set",U.mode=de;break}U.have=0,U.mode=N;case N:for(;U.have<U.nlen+U.ndist;){for(;Rt=U.lencode[ee&(1<<U.lenbits)-1],Qe=Rt>>>24,$t=Rt>>>16&255,vr=Rt&65535,!(Qe<=fe);){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}if(vr<16)ee>>>=Qe,fe-=Qe,U.lens[U.have++]=vr;else{if(vr===16){for(fi=Qe+2;fe<fi;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}if(ee>>>=Qe,fe-=Qe,U.have===0){Z.msg="invalid bit length repeat",U.mode=de;break}mr=U.lens[U.have-1],$e=3+(ee&3),ee>>>=2,fe-=2}else if(vr===17){for(fi=Qe+3;fe<fi;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}ee>>>=Qe,fe-=Qe,mr=0,$e=3+(ee&7),ee>>>=3,fe-=3}else{for(fi=Qe+7;fe<fi;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}ee>>>=Qe,fe-=Qe,mr=0,$e=11+(ee&127),ee>>>=7,fe-=7}if(U.have+$e>U.nlen+U.ndist){Z.msg="invalid bit length repeat",U.mode=de;break}for(;$e--;)U.lens[U.have++]=mr}}if(U.mode===de)break;if(U.lens[256]===0){Z.msg="invalid code -- missing end-of-block",U.mode=de;break}if(U.lenbits=9,Si={bits:U.lenbits},Un=i(o,U.lens,0,U.nlen,U.lencode,0,U.work,Si),U.lenbits=Si.bits,Un){Z.msg="invalid literal/lengths set",U.mode=de;break}if(U.distbits=6,U.distcode=U.distdyn,Si={bits:U.distbits},Un=i(s,U.lens,U.nlen,U.ndist,U.distcode,0,U.work,Si),U.distbits=Si.bits,Un){Z.msg="invalid distances set",U.mode=de;break}if(U.mode=j,ve===u)break e;case j:U.mode=M;case M:if(ge>=6&&V>=258){Z.next_out=me,Z.avail_out=V,Z.next_in=P,Z.avail_in=ge,U.hold=ee,U.bits=fe,n(Z,De),me=Z.next_out,He=Z.output,V=Z.avail_out,P=Z.next_in,we=Z.input,ge=Z.avail_in,ee=U.hold,fe=U.bits,U.mode===O&&(U.back=-1);break}for(U.back=0;Rt=U.lencode[ee&(1<<U.lenbits)-1],Qe=Rt>>>24,$t=Rt>>>16&255,vr=Rt&65535,!(Qe<=fe);){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}if($t&&!($t&240)){for(zr=Qe,Xs=$t,Hs=vr;Rt=U.lencode[Hs+((ee&(1<<zr+Xs)-1)>>zr)],Qe=Rt>>>24,$t=Rt>>>16&255,vr=Rt&65535,!(zr+Qe<=fe);){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}ee>>>=zr,fe-=zr,U.back+=zr}if(ee>>>=Qe,fe-=Qe,U.back+=Qe,U.length=vr,$t===0){U.mode=re;break}if($t&32){U.back=-1,U.mode=O;break}if($t&64){Z.msg="invalid literal/length code",U.mode=de;break}U.extra=$t&15,U.mode=D;case D:if(U.extra){for(fi=U.extra;fe<fi;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}U.length+=ee&(1<<U.extra)-1,ee>>>=U.extra,fe-=U.extra,U.back+=U.extra}U.was=U.length,U.mode=J;case J:for(;Rt=U.distcode[ee&(1<<U.distbits)-1],Qe=Rt>>>24,$t=Rt>>>16&255,vr=Rt&65535,!(Qe<=fe);){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}if(!($t&240)){for(zr=Qe,Xs=$t,Hs=vr;Rt=U.distcode[Hs+((ee&(1<<zr+Xs)-1)>>zr)],Qe=Rt>>>24,$t=Rt>>>16&255,vr=Rt&65535,!(zr+Qe<=fe);){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}ee>>>=zr,fe-=zr,U.back+=zr}if(ee>>>=Qe,fe-=Qe,U.back+=Qe,$t&64){Z.msg="invalid distance code",U.mode=de;break}U.offset=vr,U.extra=$t&15,U.mode=Q;case Q:if(U.extra){for(fi=U.extra;fe<fi;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}U.offset+=ee&(1<<U.extra)-1,ee>>>=U.extra,fe-=U.extra,U.back+=U.extra}if(U.offset>U.dmax){Z.msg="invalid distance too far back",U.mode=de;break}U.mode=se;case se:if(V===0)break e;if($e=De-V,U.offset>$e){if($e=U.offset-$e,$e>U.whave&&U.sane){Z.msg="invalid distance too far back",U.mode=de;break}$e>U.wnext?($e-=U.wnext,ot=U.wsize-$e):ot=U.wnext-$e,$e>U.length&&($e=U.length),Lr=U.window}else Lr=He,ot=me-U.offset,$e=U.length;$e>V&&($e=V),V-=$e,U.length-=$e;do He[me++]=Lr[ot++];while(--$e);U.length===0&&(U.mode=M);break;case re:if(V===0)break e;He[me++]=U.length,V--,U.mode=M;break;case ue:if(U.wrap){for(;fe<32;){if(ge===0)break e;ge--,ee|=we[P++]<<fe,fe+=8}if(De-=V,Z.total_out+=De,U.total+=De,De&&(Z.adler=U.check=U.flags?r(U.check,He,De,me-De):e(U.check,He,De,me-De)),De=V,(U.flags?ee:Ze(ee))!==U.check){Z.msg="incorrect data check",U.mode=de;break}ee=0,fe=0}U.mode=Ee;case Ee:if(U.wrap&&U.flags){for(;fe<32;){if(ge===0)break e;ge--,ee+=we[P++]<<fe,fe+=8}if(ee!==(U.total&4294967295)){Z.msg="incorrect length check",U.mode=de;break}ee=0,fe=0}U.mode=xe;case xe:Un=h;break e;case de:Un=m;break e;case pe:return _;case Ae:default:return d}return Z.next_out=me,Z.avail_out=V,Z.next_in=P,Z.avail_in=ge,U.hold=ee,U.bits=fe,(U.wsize||De!==Z.avail_out&&U.mode<de&&(U.mode<ue||ve!==f))&&_e(Z,Z.output,Z.next_out,De-Z.avail_out),Xe-=Z.avail_in,De-=Z.avail_out,Z.total_in+=Xe,Z.total_out+=De,U.total+=De,U.wrap&&De&&(Z.adler=U.check=U.flags?r(U.check,He,De,Z.next_out-De):e(U.check,He,De,Z.next_out-De)),Z.data_type=U.bits+(U.last?64:0)+(U.mode===O?128:0)+(U.mode===j||U.mode===$?256:0),(Xe===0&&De===0||ve===f)&&Un===c&&(Un=v),Un}function ne(Z){if(!Z||!Z.state)return d;var ve=Z.state;return ve.window&&(ve.window=null),Z.state=null,c}function he(Z,ve){var U;return!Z||!Z.state||(U=Z.state,!(U.wrap&2))?d:(U.head=ve,ve.done=!1,c)}function ye(Z,ve){var U=ve.length,we,He,P;return!Z||!Z.state||(we=Z.state,we.wrap!==0&&we.mode!==R)?d:we.mode===R&&(He=1,He=e(He,ve,U,0),He!==we.check)?m:(P=_e(Z,ve,U,U),P?(we.mode=pe,_):(we.havedict=1,c))}return hi.inflateReset=qe,hi.inflateReset2=at,hi.inflateResetKeep=Je,hi.inflateInit=kt,hi.inflateInit2=Tt,hi.inflate=L,hi.inflateEnd=ne,hi.inflateGetHeader=he,hi.inflateSetDictionary=ye,hi.inflateInfo="pako inflate (from Nodeca project)",hi}var ey,PF;function p5(){return PF||(PF=1,ey={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),ey}var ty,OF;function rwe(){if(OF)return ty;OF=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return ty=t,ty}var FF;function nwe(){if(FF)return sl;FF=1;var t=twe(),e=Xo(),r=h5(),n=p5(),i=q2(),a=d5(),o=rwe(),s=Object.prototype.toString;function f(c){if(!(this instanceof f))return new f(c);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},c||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(c&&c.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15||(h.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var p=t.inflateInit2(this.strm,h.windowBits);if(p!==n.Z_OK)throw new Error(i[p]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=r.string2buf(h.dictionary):s.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(p=t.inflateSetDictionary(this.strm,h.dictionary),p!==n.Z_OK)))throw new Error(i[p])}f.prototype.push=function(c,h){var p=this.strm,d=this.options.chunkSize,m=this.options.dictionary,_,v,g,y,x,b=!1;if(this.ended)return!1;v=h===~~h?h:h===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof c=="string"?p.input=r.binstring2buf(c):s.call(c)==="[object ArrayBuffer]"?p.input=new Uint8Array(c):p.input=c,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new e.Buf8(d),p.next_out=0,p.avail_out=d),_=t.inflate(p,n.Z_NO_FLUSH),_===n.Z_NEED_DICT&&m&&(_=t.inflateSetDictionary(this.strm,m)),_===n.Z_BUF_ERROR&&b===!0&&(_=n.Z_OK,b=!1),_!==n.Z_STREAM_END&&_!==n.Z_OK)return this.onEnd(_),this.ended=!0,!1;p.next_out&&(p.avail_out===0||_===n.Z_STREAM_END||p.avail_in===0&&(v===n.Z_FINISH||v===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(g=r.utf8border(p.output,p.next_out),y=p.next_out-g,x=r.buf2string(p.output,g),p.next_out=y,p.avail_out=d-y,y&&e.arraySet(p.output,p.output,g,y,0),this.onData(x)):this.onData(e.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(b=!0)}while((p.avail_in>0||p.avail_out===0)&&_!==n.Z_STREAM_END);return _===n.Z_STREAM_END&&(v=n.Z_FINISH),v===n.Z_FINISH?(_=t.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===n.Z_OK):(v===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),p.avail_out=0),!0)},f.prototype.onData=function(c){this.chunks.push(c)},f.prototype.onEnd=function(c){c===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg};function l(c,h){var p=new f(h);if(p.push(c,!0),p.err)throw p.msg||i[p.err];return p.result}function u(c,h){return h=h||{},h.raw=!0,l(c,h)}return sl.Inflate=f,sl.inflate=l,sl.inflateRaw=u,sl.ungzip=l,sl}var ry,kF;function iwe(){if(kF)return ry;kF=1;var t=Xo().assign,e=JEe(),r=nwe(),n=p5(),i={};return t(i,e,r,n),ry=i,ry}(function(t){(function(){var e={},r;t.exports=e,typeof yl=="function"?r=iwe():r=window.pako,function(n,i){n.toRGBA8=function(a){var o=a.width,s=a.height;if(a.tabs.acTL==null)return[n.toRGBA8.decodeImage(a.data,o,s,a).buffer];var f=[];a.frames[0].data==null&&(a.frames[0].data=a.data);for(var l,u=new Uint8Array(o*s*4),c=0;c<a.frames.length;c++){var h=a.frames[c],p=h.rect.x,d=h.rect.y,m=h.rect.width,_=h.rect.height,v=n.toRGBA8.decodeImage(h.data,m,_,a);if(c==0?l=v:h.blend==0?n._copyTile(v,m,_,l,o,s,p,d,0):h.blend==1&&n._copyTile(v,m,_,l,o,s,p,d,1),f.push(l.buffer),l=l.slice(0),h.dispose!=0){if(h.dispose==1)n._copyTile(u,m,_,l,o,s,p,d,0);else if(h.dispose==2){for(var g=c-1;a.frames[g].dispose==2;)g--;l=new Uint8Array(f[g]).slice(0)}}}return f},n.toRGBA8.decodeImage=function(a,o,s,f){var l=o*s,u=n.decode._getBPP(f),c=Math.ceil(o*u/8),h=new Uint8Array(l*4),p=new Uint32Array(h.buffer),d=f.ctype,m=f.depth,_=n._bin.readUshort;if(d==6){var v=l<<2;if(m==8)for(var g=0;g<v;g++)h[g]=a[g];if(m==16)for(var g=0;g<v;g++)h[g]=a[g<<1]}else if(d==2){var y=f.tabs.tRNS,x=-1,b=-1,E=-1;if(y&&(x=y[0],b=y[1],E=y[2]),m==8)for(var g=0;g<l;g++){var w=g<<2,S=g*3;h[w]=a[S],h[w+1]=a[S+1],h[w+2]=a[S+2],h[w+3]=255,x!=-1&&a[S]==x&&a[S+1]==b&&a[S+2]==E&&(h[w+3]=0)}if(m==16)for(var g=0;g<l;g++){var w=g<<2,S=g*6;h[w]=a[S],h[w+1]=a[S+2],h[w+2]=a[S+4],h[w+3]=255,x!=-1&&_(a,S)==x&&_(a,S+2)==b&&_(a,S+4)==E&&(h[w+3]=0)}}else if(d==3){var C=f.tabs.PLTE,T=f.tabs.tRNS,I=T?T.length:0;if(m==1)for(var A=0;A<s;A++)for(var R=A*c,O=A*o,g=0;g<o;g++){var w=O+g<<2,F=a[R+(g>>3)]>>7-((g&7)<<0)&1,k=3*F;h[w]=C[k],h[w+1]=C[k+1],h[w+2]=C[k+2],h[w+3]=F<I?T[F]:255}if(m==2)for(var A=0;A<s;A++)for(var R=A*c,O=A*o,g=0;g<o;g++){var w=O+g<<2,F=a[R+(g>>2)]>>6-((g&3)<<1)&3,k=3*F;h[w]=C[k],h[w+1]=C[k+1],h[w+2]=C[k+2],h[w+3]=F<I?T[F]:255}if(m==4)for(var A=0;A<s;A++)for(var R=A*c,O=A*o,g=0;g<o;g++){var w=O+g<<2,F=a[R+(g>>1)]>>4-((g&1)<<2)&15,k=3*F;h[w]=C[k],h[w+1]=C[k+1],h[w+2]=C[k+2],h[w+3]=F<I?T[F]:255}if(m==8)for(var g=0;g<l;g++){var w=g<<2,F=a[g],k=3*F;h[w]=C[k],h[w+1]=C[k+1],h[w+2]=C[k+2],h[w+3]=F<I?T[F]:255}}else if(d==4){if(m==8)for(var g=0;g<l;g++){var w=g<<2,$=g<<1,q=a[$];h[w]=q,h[w+1]=q,h[w+2]=q,h[w+3]=a[$+1]}if(m==16)for(var g=0;g<l;g++){var w=g<<2,$=g<<2,q=a[$];h[w]=q,h[w+1]=q,h[w+2]=q,h[w+3]=a[$+2]}}else if(d==0){var x=f.tabs.tRNS?f.tabs.tRNS:-1;if(m==1)for(var g=0;g<l;g++){var q=255*(a[g>>3]>>7-(g&7)&1),K=q==x*255?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==2)for(var g=0;g<l;g++){var q=85*(a[g>>2]>>6-((g&3)<<1)&3),K=q==x*85?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==4)for(var g=0;g<l;g++){var q=17*(a[g>>1]>>4-((g&1)<<2)&15),K=q==x*17?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==8)for(var g=0;g<l;g++){var q=a[g],K=q==x?0:255;p[g]=K<<24|q<<16|q<<8|q}if(m==16)for(var g=0;g<l;g++){var q=a[g<<1],K=_(a,g<<1)==x?0:255;p[g]=K<<24|q<<16|q<<8|q}}return h},n.decode=function(a){for(var o=new Uint8Array(a),s=8,f=n._bin,l=f.readUshort,u=f.readUint,c={tabs:{},frames:[]},h=new Uint8Array(o.length),p=0,d,m=0,_=[137,80,78,71,13,10,26,10],v=0;v<8;v++)if(o[v]!=_[v])throw"The input is not a PNG file!";for(;s<o.length;){var g=f.readUint(o,s);s+=4;var y=f.readASCII(o,s,4);if(s+=4,y=="IHDR")n.decode._IHDR(o,s,c);else if(y=="IDAT"){for(var v=0;v<g;v++)h[p+v]=o[s+v];p+=g}else if(y=="acTL")c.tabs[y]={num_frames:u(o,s),num_plays:u(o,s+4)},d=new Uint8Array(o.length);else if(y=="fcTL"){if(m!=0){var x=c.frames[c.frames.length-1];x.data=n.decode._decompress(c,d.slice(0,m),x.rect.width,x.rect.height),m=0}var b={x:u(o,s+12),y:u(o,s+16),width:u(o,s+4),height:u(o,s+8)},E=l(o,s+22);E=l(o,s+20)/(E==0?100:E);var w={rect:b,delay:Math.round(E*1e3),dispose:o[s+24],blend:o[s+25]};c.frames.push(w)}else if(y=="fdAT"){for(var v=0;v<g-4;v++)d[m+v]=o[s+v+4];m+=g-4}else if(y=="pHYs")c.tabs[y]=[f.readUint(o,s),f.readUint(o,s+4),o[s+8]];else if(y=="cHRM"){c.tabs[y]=[];for(var v=0;v<8;v++)c.tabs[y].push(f.readUint(o,s+v*4))}else if(y=="tEXt"){c.tabs[y]==null&&(c.tabs[y]={});var S=f.nextZero(o,s),C=f.readASCII(o,s,S-s),T=f.readASCII(o,S+1,s+g-S-1);c.tabs[y][C]=T}else if(y=="iTXt"){c.tabs[y]==null&&(c.tabs[y]={});var S=0,I=s;S=f.nextZero(o,I);var C=f.readASCII(o,I,S-I);I=S+1,o[I],o[I+1],I+=2,S=f.nextZero(o,I),f.readASCII(o,I,S-I),I=S+1,S=f.nextZero(o,I),f.readUTF8(o,I,S-I),I=S+1;var T=f.readUTF8(o,I,g-(I-s));c.tabs[y][C]=T}else if(y=="PLTE")c.tabs[y]=f.readBytes(o,s,g);else if(y=="hIST"){var A=c.tabs.PLTE.length/3;c.tabs[y]=[];for(var v=0;v<A;v++)c.tabs[y].push(l(o,s+v*2))}else if(y=="tRNS")c.ctype==3?c.tabs[y]=f.readBytes(o,s,g):c.ctype==0?c.tabs[y]=l(o,s):c.ctype==2&&(c.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]);else if(y=="gAMA")c.tabs[y]=f.readUint(o,s)/1e5;else if(y=="sRGB")c.tabs[y]=o[s];else if(y=="bKGD")c.ctype==0||c.ctype==4?c.tabs[y]=[l(o,s)]:c.ctype==2||c.ctype==6?c.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]:c.ctype==3&&(c.tabs[y]=o[s]);else if(y=="IEND"){if(m!=0){var x=c.frames[c.frames.length-1];x.data=n.decode._decompress(c,d.slice(0,m),x.rect.width,x.rect.height),m=0}c.data=n.decode._decompress(c,h,c.width,c.height);break}s+=g,f.readUint(o,s),s+=4}return delete c.compress,delete c.interlace,delete c.filter,c},n.decode._decompress=function(a,o,s,f){return a.compress==0&&(o=n.decode._inflate(o)),a.interlace==0?o=n.decode._filterZero(o,a,0,s,f):a.interlace==1&&(o=n.decode._readInterlace(o,a)),o},n.decode._inflate=function(a){return i.inflate(a)},n.decode._readInterlace=function(a,o){for(var s=o.width,f=o.height,l=n.decode._getBPP(o),u=l>>3,c=Math.ceil(s*l/8),h=new Uint8Array(f*c),p=0,d=[0,0,4,0,2,0,1],m=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1],g=0;g<7;){for(var y=_[g],x=v[g],b=0,E=0,w=d[g];w<f;)w+=y,E++;for(var S=m[g];S<s;)S+=x,b++;var C=Math.ceil(b*l/8);n.decode._filterZero(a,o,p,b,E);for(var T=0,I=d[g];I<f;){for(var A=m[g],R=p+T*C<<3;A<s;){if(l==1){var O=a[R>>3];O=O>>7-(R&7)&1,h[I*c+(A>>3)]|=O<<7-((A&3)<<0)}if(l==2){var O=a[R>>3];O=O>>6-(R&7)&3,h[I*c+(A>>2)]|=O<<6-((A&3)<<1)}if(l==4){var O=a[R>>3];O=O>>4-(R&7)&15,h[I*c+(A>>1)]|=O<<4-((A&1)<<2)}if(l>=8)for(var F=I*c+A*u,k=0;k<u;k++)h[F+k]=a[(R>>3)+k];R+=l,A+=x}T++,I+=y}b*E!=0&&(p+=E*(1+C)),g=g+1}return h},n.decode._getBPP=function(a){var o=[1,null,3,1,2,null,4][a.ctype];return o*a.depth},n.decode._filterZero=function(a,o,s,f,l){var u=n.decode._getBPP(o),c=Math.ceil(f*u/8),h=n.decode._paeth;u=Math.ceil(u/8);for(var p=0;p<l;p++){var d=s+p*c,m=d+p+1,_=a[m-1];if(_==0)for(var v=0;v<c;v++)a[d+v]=a[m+v];else if(_==1){for(var v=0;v<u;v++)a[d+v]=a[m+v];for(var v=u;v<c;v++)a[d+v]=a[m+v]+a[d+v-u]&255}else if(p==0){for(var v=0;v<u;v++)a[d+v]=a[m+v];if(_==2)for(var v=u;v<c;v++)a[d+v]=a[m+v]&255;if(_==3)for(var v=u;v<c;v++)a[d+v]=a[m+v]+(a[d+v-u]>>1)&255;if(_==4)for(var v=u;v<c;v++)a[d+v]=a[m+v]+h(a[d+v-u],0,0)&255}else{if(_==2)for(var v=0;v<c;v++)a[d+v]=a[m+v]+a[d+v-c]&255;if(_==3){for(var v=0;v<u;v++)a[d+v]=a[m+v]+(a[d+v-c]>>1)&255;for(var v=u;v<c;v++)a[d+v]=a[m+v]+(a[d+v-c]+a[d+v-u]>>1)&255}if(_==4){for(var v=0;v<u;v++)a[d+v]=a[m+v]+h(0,a[d+v-c],0)&255;for(var v=u;v<c;v++)a[d+v]=a[m+v]+h(a[d+v-u],a[d+v-c],a[d+v-u-c])&255}}}return a},n.decode._paeth=function(a,o,s){var f=a+o-s,l=Math.abs(f-a),u=Math.abs(f-o),c=Math.abs(f-s);return l<=u&&l<=c?a:u<=c?o:s},n.decode._IHDR=function(a,o,s){var f=n._bin;s.width=f.readUint(a,o),o+=4,s.height=f.readUint(a,o),o+=4,s.depth=a[o],o++,s.ctype=a[o],o++,s.compress=a[o],o++,s.filter=a[o],o++,s.interlace=a[o],o++},n._bin={nextZero:function(a,o){for(;a[o]!=0;)o++;return o},readUshort:function(a,o){return a[o]<<8|a[o+1]},writeUshort:function(a,o,s){a[o]=s>>8&255,a[o+1]=s&255},readUint:function(a,o){return a[o]*(256*256*256)+(a[o+1]<<16|a[o+2]<<8|a[o+3])},writeUint:function(a,o,s){a[o]=s>>24&255,a[o+1]=s>>16&255,a[o+2]=s>>8&255,a[o+3]=s&255},readASCII:function(a,o,s){for(var f="",l=0;l<s;l++)f+=String.fromCharCode(a[o+l]);return f},writeASCII:function(a,o,s){for(var f=0;f<s.length;f++)a[o+f]=s.charCodeAt(f)},readBytes:function(a,o,s){for(var f=[],l=0;l<s;l++)f.push(a[o+l]);return f},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,o,s){for(var f="",l,u=0;u<s;u++)f+="%"+n._bin.pad(a[o+u].toString(16));try{l=decodeURIComponent(f)}catch{return n._bin.readASCII(a,o,s)}return l}},n._copyTile=function(a,o,s,f,l,u,c,h,p){for(var d=Math.min(o,l),m=Math.min(s,u),_=0,v=0,g=0;g<m;g++)for(var y=0;y<d;y++)if(c>=0&&h>=0?(_=g*o+y<<2,v=(h+g)*l+c+y<<2):(_=(-h+g)*o-c+y<<2,v=g*l+y<<2),p==0)f[v]=a[_],f[v+1]=a[_+1],f[v+2]=a[_+2],f[v+3]=a[_+3];else if(p==1){var x=a[_+3]*.00392156862745098,b=a[_]*x,E=a[_+1]*x,w=a[_+2]*x,S=f[v+3]*(1/255),C=f[v]*S,T=f[v+1]*S,I=f[v+2]*S,A=1-x,R=x+S*A,O=R==0?0:1/R;f[v+3]=255*R,f[v+0]=(b+C*A)*O,f[v+1]=(E+T*A)*O,f[v+2]=(w+I*A)*O}else if(p==2){var x=a[_+3],b=a[_],E=a[_+1],w=a[_+2],S=f[v+3],C=f[v],T=f[v+1],I=f[v+2];x==S&&b==C&&E==T&&w==I?(f[v]=0,f[v+1]=0,f[v+2]=0,f[v+3]=0):(f[v]=b,f[v+1]=E,f[v+2]=w,f[v+3]=x)}else if(p==3){var x=a[_+3],b=a[_],E=a[_+1],w=a[_+2],S=f[v+3],C=f[v],T=f[v+1],I=f[v+2];if(x==S&&b==C&&E==T&&w==I)continue;if(x<220&&S>20)return!1}return!0},n.encode=function(a,o,s,f,l,u){f==null&&(f=0),u==null&&(u=!1);for(var c=new Uint8Array(a[0].byteLength*a.length+100),h=[137,80,78,71,13,10,26,10],p=0;p<8;p++)c[p]=h[p];var d=8,m=n._bin,_=n.crc.crc,v=m.writeUint,g=m.writeUshort,y=m.writeASCII,x=n.encode.compressPNG(a,o,s,f,u);v(c,d,13),d+=4,y(c,d,"IHDR"),d+=4,v(c,d,o),d+=4,v(c,d,s),d+=4,c[d]=x.depth,d++,c[d]=x.ctype,d++,c[d]=0,d++,c[d]=0,d++,c[d]=0,d++,v(c,d,_(c,d-17,17)),d+=4,v(c,d,1),d+=4,y(c,d,"sRGB"),d+=4,c[d]=1,d++,v(c,d,_(c,d-5,5)),d+=4;var b=a.length>1;if(b&&(v(c,d,8),d+=4,y(c,d,"acTL"),d+=4,v(c,d,a.length),d+=4,v(c,d,0),d+=4,v(c,d,_(c,d-12,12)),d+=4),x.ctype==3){var E=x.plte.length;v(c,d,E*3),d+=4,y(c,d,"PLTE"),d+=4;for(var p=0;p<E;p++){var w=p*3,S=x.plte[p],C=S&255,T=S>>8&255,I=S>>16&255;c[d+w+0]=C,c[d+w+1]=T,c[d+w+2]=I}if(d+=E*3,v(c,d,_(c,d-E*3-4,E*3+4)),d+=4,x.gotAlpha){v(c,d,E),d+=4,y(c,d,"tRNS"),d+=4;for(var p=0;p<E;p++)c[d+p]=x.plte[p]>>24&255;d+=E,v(c,d,_(c,d-E-4,E+4)),d+=4}}for(var A=0,R=0;R<x.frames.length;R++){var O=x.frames[R];b&&(v(c,d,26),d+=4,y(c,d,"fcTL"),d+=4,v(c,d,A++),d+=4,v(c,d,O.rect.width),d+=4,v(c,d,O.rect.height),d+=4,v(c,d,O.rect.x),d+=4,v(c,d,O.rect.y),d+=4,g(c,d,l[R]),d+=2,g(c,d,1e3),d+=2,c[d]=O.dispose,d++,c[d]=O.blend,d++,v(c,d,_(c,d-30,30)),d+=4);var F=O.cimg,E=F.length;v(c,d,E+(R==0?0:4)),d+=4;var k=d;y(c,d,R==0?"IDAT":"fdAT"),d+=4,R!=0&&(v(c,d,A++),d+=4);for(var p=0;p<E;p++)c[d+p]=F[p];d+=E,v(c,d,_(c,k,d-k)),d+=4}return v(c,d,0),d+=4,y(c,d,"IEND"),d+=4,v(c,d,_(c,d-4,4)),d+=4,c.buffer.slice(0,d)},n.encode.compressPNG=function(a,o,s,f,l){for(var u=n.encode.compress(a,o,s,f,!1,l),c=0;c<a.length;c++){var h=u.frames[c];h.rect.width;var p=h.rect.height,d=h.bpl,m=h.bpp,_=new Uint8Array(p*d+p);h.cimg=n.encode._filterZero(h.img,p,m,d,_)}return u},n.encode.compress=function(a,o,s,f,l,u){u==null&&(u=!1);for(var c=6,h=8,p=4,d=255,m=0;m<a.length;m++)for(var _=new Uint8Array(a[m]),v=_.length,g=0;g<v;g+=4)d&=_[g+3];var y=d!=255,x={},b=[];if(a.length!=0&&(x[0]=0,b.push(0),f!=0&&f--),f!=0){var E=n.quantize(a,f,l);a=E.bufs;for(var g=0;g<E.plte.length;g++){var w=E.plte[g].est.rgba;x[w]==null&&(x[w]=b.length,b.push(w))}}else for(var m=0;m<a.length;m++)for(var S=new Uint32Array(a[m]),v=S.length,g=0;g<v;g++){var w=S[g];if((g<o||w!=S[g-1]&&w!=S[g-o])&&x[w]==null&&(x[w]=b.length,b.push(w),b.length>=300))break}var C=y?l:!1,T=b.length;T<=256&&u==!1&&(T<=2?h=1:T<=4?h=2:T<=16?h=4:h=8,l&&(h=8),y=!0);for(var I=[],m=0;m<a.length;m++){var A=new Uint8Array(a[m]),R=new Uint32Array(A.buffer),O=0,F=0,k=o,$=s,q=0;if(m!=0&&!C){for(var K=l||m==1||I[I.length-2].dispose==2?1:2,G=0,N=1e9,j=0;j<K;j++){for(var xe=new Uint8Array(a[m-1-j]),M=new Uint32Array(a[m-1-j]),D=o,J=s,Q=-1,se=-1,re=0;re<s;re++)for(var ue=0;ue<o;ue++){var g=re*o+ue;R[g]!=M[g]&&(ue<D&&(D=ue),ue>Q&&(Q=ue),re<J&&(J=re),re>se&&(se=re))}var Ee=Q==-1?1:(Q-D+1)*(se-J+1);Ee<N&&(N=Ee,G=j,Q==-1?(O=F=0,k=$=1):(O=D,F=J,k=Q-D+1,$=se-J+1))}var xe=new Uint8Array(a[m-1-G]);G==1&&(I[I.length-1].dispose=2);var de=new Uint8Array(k*$*4);new Uint32Array(de.buffer),n._copyTile(xe,o,s,de,k,$,-O,-F,0),n._copyTile(A,o,s,de,k,$,-O,-F,3)?(n._copyTile(A,o,s,de,k,$,-O,-F,2),q=1):(n._copyTile(A,o,s,de,k,$,-O,-F,0),q=0),A=de,R=new Uint32Array(A.buffer)}var pe=4*k;if(T<=256&&u==!1){pe=Math.ceil(h*k/8);for(var de=new Uint8Array(pe*$),re=0;re<$;re++){var g=re*pe,Ae=re*k;if(h==8)for(var ue=0;ue<k;ue++)de[g+ue]=x[R[Ae+ue]];else if(h==4)for(var ue=0;ue<k;ue++)de[g+(ue>>1)]|=x[R[Ae+ue]]<<4-(ue&1)*4;else if(h==2)for(var ue=0;ue<k;ue++)de[g+(ue>>2)]|=x[R[Ae+ue]]<<6-(ue&3)*2;else if(h==1)for(var ue=0;ue<k;ue++)de[g+(ue>>3)]|=x[R[Ae+ue]]<<7-(ue&7)*1}A=de,c=3,p=1}else if(y==!1&&a.length==1){for(var de=new Uint8Array(k*$*3),Fe=k*$,g=0;g<Fe;g++){var Te=g*3,ke=g*4;de[Te]=A[ke],de[Te+1]=A[ke+1],de[Te+2]=A[ke+2]}A=de,c=2,p=3,pe=3*k}I.push({rect:{x:O,y:F,width:k,height:$},img:A,bpl:pe,bpp:p,blend:q,dispose:C?1:0})}return{ctype:c,depth:h,plte:b,gotAlpha:y,frames:I}},n.encode._filterZero=function(a,o,s,f,l){for(var u=[],c=0;c<5;c++)if(!(o*f>5e5&&(c==2||c==3||c==4))){for(var h=0;h<o;h++)n.encode._filterLine(l,a,h,f,s,c);if(u.push(i.deflate(l)),s==1)break}for(var p,d=1e9,m=0;m<u.length;m++)u[m].length<d&&(p=m,d=u[m].length);return u[p]},n.encode._filterLine=function(a,o,s,f,l,u){var c=s*f,h=c+s,p=n.decode._paeth;if(a[h]=u,h++,u==0)for(var d=0;d<f;d++)a[h+d]=o[c+d];else if(u==1){for(var d=0;d<l;d++)a[h+d]=o[c+d];for(var d=l;d<f;d++)a[h+d]=o[c+d]-o[c+d-l]+256&255}else if(s==0){for(var d=0;d<l;d++)a[h+d]=o[c+d];if(u==2)for(var d=l;d<f;d++)a[h+d]=o[c+d];if(u==3)for(var d=l;d<f;d++)a[h+d]=o[c+d]-(o[c+d-l]>>1)+256&255;if(u==4)for(var d=l;d<f;d++)a[h+d]=o[c+d]-p(o[c+d-l],0,0)+256&255}else{if(u==2)for(var d=0;d<f;d++)a[h+d]=o[c+d]+256-o[c+d-f]&255;if(u==3){for(var d=0;d<l;d++)a[h+d]=o[c+d]+256-(o[c+d-f]>>1)&255;for(var d=l;d<f;d++)a[h+d]=o[c+d]+256-(o[c+d-f]+o[c+d-l]>>1)&255}if(u==4){for(var d=0;d<l;d++)a[h+d]=o[c+d]+256-p(0,o[c+d-f],0)&255;for(var d=l;d<f;d++)a[h+d]=o[c+d]+256-p(o[c+d-l],o[c+d-f],o[c+d-l-f])&255}}},n.crc={table:function(){for(var a=new Uint32Array(256),o=0;o<256;o++){for(var s=o,f=0;f<8;f++)s&1?s=3988292384^s>>>1:s=s>>>1;a[o]=s}return a}(),update:function(a,o,s,f){for(var l=0;l<f;l++)a=n.crc.table[(a^o[s+l])&255]^a>>>8;return a},crc:function(a,o,s){return n.crc.update(4294967295,a,o,s)^4294967295}},n.quantize=function(a,o,s){for(var f=[],l=0,u=0;u<a.length;u++)f.push(n.encode.alphaMul(new Uint8Array(a[u]),s)),l+=a[u].byteLength;for(var c=new Uint8Array(l),h=new Uint32Array(c.buffer),p=0,u=0;u<f.length;u++){for(var d=f[u],m=d.length,_=0;_<m;_++)c[p+_]=d[_];p+=m}var v={i0:0,i1:c.length,bst:null,est:null,tdst:0,left:null,right:null};v.bst=n.quantize.stats(c,v.i0,v.i1),v.est=n.quantize.estats(v.bst);for(var g=[v];g.length<o;){for(var y=0,x=0,u=0;u<g.length;u++)g[u].est.L>y&&(y=g[u].est.L,x=u);if(y<.001)break;var b=g[x],E=n.quantize.splitPixels(c,h,b.i0,b.i1,b.est.e,b.est.eMq255),w={i0:b.i0,i1:E,bst:null,est:null,tdst:0,left:null,right:null};w.bst=n.quantize.stats(c,w.i0,w.i1),w.est=n.quantize.estats(w.bst);var S={i0:E,i1:b.i1,bst:null,est:null,tdst:0,left:null,right:null};S.bst={R:[],m:[],N:b.bst.N-w.bst.N};for(var u=0;u<16;u++)S.bst.R[u]=b.bst.R[u]-w.bst.R[u];for(var u=0;u<4;u++)S.bst.m[u]=b.bst.m[u]-w.bst.m[u];S.est=n.quantize.estats(S.bst),b.left=w,b.right=S,g[x]=w,g.push(S)}g.sort(function(K,G){return G.bst.N-K.bst.N});for(var C=0;C<f.length;C++){for(var T=n.quantize.planeDst,I=new Uint8Array(f[C].buffer),A=new Uint32Array(f[C].buffer),R=I.length,u=0;u<R;u+=4){for(var O=I[u]*.00392156862745098,F=I[u+1]*(1/255),k=I[u+2]*(1/255),$=I[u+3]*(1/255),q=v;q.left;)q=T(q.est,O,F,k,$)<=0?q.left:q.right;A[u>>2]=q.est.rgba}f[C]=A.buffer}return{bufs:f,plte:g}},n.quantize.getNearest=function(a,o,s,f,l){if(a.left==null)return a.tdst=n.quantize.dist(a.est.q,o,s,f,l),a;var u=n.quantize.planeDst(a.est,o,s,f,l),c=a.left,h=a.right;u>0&&(c=a.right,h=a.left);var p=n.quantize.getNearest(c,o,s,f,l);if(p.tdst<=u*u)return p;var d=n.quantize.getNearest(h,o,s,f,l);return d.tdst<p.tdst?d:p},n.quantize.planeDst=function(a,o,s,f,l){var u=a.e;return u[0]*o+u[1]*s+u[2]*f+u[3]*l-a.eMq},n.quantize.dist=function(a,o,s,f,l){var u=o-a[0],c=s-a[1],h=f-a[2],p=l-a[3];return u*u+c*c+h*h+p*p},n.quantize.splitPixels=function(a,o,s,f,l,u){var c=n.quantize.vecDot;for(f-=4;s<f;){for(;c(a,s,l)<=u;)s+=4;for(;c(a,f,l)>u;)f-=4;if(s>=f)break;var h=o[s>>2];o[s>>2]=o[f>>2],o[f>>2]=h,s+=4,f-=4}for(;c(a,s,l)>u;)s-=4;return s+4},n.quantize.vecDot=function(a,o,s){return a[o]*s[0]+a[o+1]*s[1]+a[o+2]*s[2]+a[o+3]*s[3]},n.quantize.stats=function(a,o,s){for(var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0],u=s-o>>2,c=o;c<s;c+=4){var h=a[c]*.00392156862745098,p=a[c+1]*(1/255),d=a[c+2]*(1/255),m=a[c+3]*(1/255);l[0]+=h,l[1]+=p,l[2]+=d,l[3]+=m,f[0]+=h*h,f[1]+=h*p,f[2]+=h*d,f[3]+=h*m,f[5]+=p*p,f[6]+=p*d,f[7]+=p*m,f[10]+=d*d,f[11]+=d*m,f[15]+=m*m}return f[4]=f[1],f[8]=f[2],f[12]=f[3],f[9]=f[6],f[13]=f[7],f[14]=f[11],{R:f,m:l,N:u}},n.quantize.estats=function(a){var o=a.R,s=a.m,f=a.N,l=s[0],u=s[1],c=s[2],h=s[3],p=f==0?0:1/f,d=[o[0]-l*l*p,o[1]-l*u*p,o[2]-l*c*p,o[3]-l*h*p,o[4]-u*l*p,o[5]-u*u*p,o[6]-u*c*p,o[7]-u*h*p,o[8]-c*l*p,o[9]-c*u*p,o[10]-c*c*p,o[11]-c*h*p,o[12]-h*l*p,o[13]-h*u*p,o[14]-h*c*p,o[15]-h*h*p],m=d,_=n.M4,v=[.5,.5,.5,.5],g=0,y=0;if(f!=0)for(var x=0;x<10&&(v=_.multVec(m,v),y=Math.sqrt(_.dot(v,v)),v=_.sml(1/y,v),!(Math.abs(y-g)<1e-9));x++)g=y;var b=[l*p,u*p,c*p,h*p],E=_.dot(_.sml(255,b),v),w=b[3]<.001?0:1/b[3];return{Cov:d,q:b,e:v,L:g,eMq255:E,eMq:_.dot(v,b),rgba:(Math.round(255*b[3])<<24|Math.round(255*b[2]*w)<<16|Math.round(255*b[1]*w)<<8|Math.round(255*b[0]*w)<<0)>>>0}},n.M4={multVec:function(a,o){return[a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3],a[4]*o[0]+a[5]*o[1]+a[6]*o[2]+a[7]*o[3],a[8]*o[0]+a[9]*o[1]+a[10]*o[2]+a[11]*o[3],a[12]*o[0]+a[13]*o[1]+a[14]*o[2]+a[15]*o[3]]},dot:function(a,o){return a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3]},sml:function(a,o){return[a*o[0],a*o[1],a*o[2],a*o[3]]}},n.encode.alphaMul=function(a,o){for(var s=new Uint8Array(a.length),f=a.length>>2,l=0;l<f;l++){var u=l<<2,c=a[u+3];o&&(c=c<128?0:255);var h=c*(1/255);s[u+0]=a[u+0]*h,s[u+1]=a[u+1]*h,s[u+2]=a[u+2]*h,s[u+3]=c}return s}}(e,r)})()})(u5);var awe=u5.exports;const NF=mn(awe);/*!
 * @tbminiapp/pixi-apng-textures - v6.2.1-beta.9
 * Compiled Thu, 17 Mar 2022 08:24:35 UTC
 *
 * @tbminiapp/pixi-apng-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nb=function(t,e){return Nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Nb(t,e)};function owe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Nb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var swe=function(t){owe(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,delay:16});var i=this,a,o;typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.loaded=!0;var s=n.delay;return i._delay=s||0,i.origin=a,i.buffer=o.buffer?new Pc(o.buffer):null,i}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),e}(Vo);function lwe(t,e,r){var n={textures:{},texture:null,frameCount:0,frameTextureKeys:[],frameDelay:[]};if(!e)return n;var i=e.map(function(a){return new nt(new xt(a,Object.assign({mipmap:Kn.OFF,alphaMode:Mn.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,f=t+"-"+(o+1);xt.addToCache(s,f),nt.addToCache(a,f),o===0&&(xt.addToCache(s,t),nt.addToCache(a,t),n.texture=a),n.frameTextureKeys.push(f),n.frameDelay.push(s.resource.delay),n.textures[f]=a}),PIXI.utils.TextureCache.abcd="efg",n.frameCount=i.length,n}Xt.setExtensionXhrType("apng",Xt.XHR_RESPONSE_TYPE.BUFFER);var LF=[97,99,84,76],uwe=function(){function t(){}return t.use=async function(e,r){if(e.extension==="png"&&e.data)try{var n=e.url,i=e.name||n;async function a(o){const s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch file: ${s.status} ${s.statusText}`);const f=await s.arrayBuffer(),l=new Uint8Array(f);if(t.validate(o,l))Object.assign(e,lwe(i,t.parse(i,l),e.metadata));else{r();return}}await a(n)}catch(a){r(a);return}r()},t.parse=function(e,r){var n=NF.decode(r),i=n.width,a=n.height,o=n.frames,s=NF.toRGBA8(n),f=[];s.forEach(function(u,c){var h=o[c],p=h.delay;f.push({data:new Uint8Array(u),delay:p})});var l=f.map(function(u){return new swe(u.data,{width:i,height:a,framesCount:f.length,delay:u.delay})});return l},t.validate=function(e,r){const n=r.slice(37,41);for(var i=0;i<LF.length;i++)if(n[i]!==LF[i])return!1;return!0},t}();const W0={height:1440,width:2560};window.PIXI=Fxe;Zn.registerPlugin(uwe);class fwe{constructor(){Ge(this,"currentApp",null);Ge(this,"effectsContainer");Ge(this,"frameDuration",16.67);Ge(this,"notUpdateBacklogEffects",!1);Ge(this,"figureContainer");Ge(this,"figureObjects",[]);Ge(this,"backgroundContainer");Ge(this,"backgroundObjects",[]);Ge(this,"stageAnimations",[]);Ge(this,"assetLoader",new Zn);Ge(this,"loadQueue",[]);Ge(this,"live2dFigureRecorder",[]);Ge(this,"lockTransformTarget",[]);Ge(this,"stageWidth",W0.width);Ge(this,"stageHeight",W0.height);Ge(this,"MAX_TEX_COUNT",10);const e=new vh({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),K2&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new Vr,this.effectsContainer.zIndex=3,this.figureContainer=new Vr,this.figureContainer.zIndex=2,this.backgroundContainer=new Vr,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:pf(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const f=s.pixiContainer;Object.assign(f,a.transform)}return}this.stageAnimations.push({uuid:pf(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const f=this.getStageObjByKey(o.targetKey);if(f){const l={alpha:f.pixiContainer.alpha,scale:{x:f.pixiContainer.scale.x,y:f.pixiContainer.scale.y},position:{x:f.pixiContainer.x,y:f.pixiContainer.y},rotation:f.pixiContainer.rotation,blur:f.pixiContainer.blur,...s};let u={target:o.targetKey,transform:l};Ce.dispatch(Gn.updateEffect(u))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{const f=this.assetLoader.resources[o[n]].texture;if(!f)return;const l=f.width,u=f.height,c=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(c,h),d=new gi(f);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const m=l*p,_=u*p;a.setBaseY(this.stageHeight/2),_<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-_/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(m/2),i==="right"&&a.setBaseX(this.stageWidth-m/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{const f=this.assetLoader.resources[o[n]].texture;if(!f)return;const l=f.width,u=f.height,c=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(c,h),d=new gi(f);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const m=l*p,_=u*p;a.setBaseY(this.stageHeight/2),_<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-_/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(m/2),i==="right"&&a.setBaseX(this.stageWidth-m/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}addBg(e,r){var l,u;const n=this.assetLoader,i=new V_;this.backgroundObjects.findIndex(c=>c.key===e)>=0&&this.removeStageObjectByKey(e),this.backgroundContainer.addChild(i);const s=pf();this.backgroundObjects.push({uuid:s,key:e,pixiContainer:i,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const f=()=>{var h,p;const c=(p=(h=n.resources)==null?void 0:h[r])==null?void 0:p.texture;if(c&&this.getStageObjByUuid(s)){const d=c.width,m=c.height,_=this.stageWidth/d,v=this.stageHeight/m,g=Math.max(_,v),y=new gi(c);y.scale.x=g,y.scale.y=g,y.anchor.set(.5),y.position.y=this.stageHeight/2,i.setBaseX(this.stageWidth/2),i.setBaseY(this.stageHeight/2),i.pivot.set(0,this.stageHeight/2),i.addChild(y)}};this.cacheGC(),(u=(l=n.resources)==null?void 0:l[r])!=null&&u.texture?f():this.loadAsset(r,f)}addFigure(e,r,n="center",i=!1){var c,h;const a=this.assetLoader,o=new V_;this.figureObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=pf();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const u=()=>{var m,_;const p=(_=(m=a.resources)==null?void 0:m[r])==null?void 0:_.texture;let d=[];if(p&&this.getStageObjByUuid(l)){const v=a.resources[r],g=[];if(i){const{frameDelay:x,textures:b,frameCount:E}=v;d=x,Object.values(b||[]).forEach(w=>{g.push(w)})}(x=>{const b=p.width,E=p.height,w=this.stageWidth/b,S=this.stageHeight/E,C=Math.min(w,S),T=i?new e6(x):new gi(p);T.scale.x=C,T.scale.y=C,T.anchor.set(.5),T.position.y=this.stageHeight/2;const I=b*C,A=E*C;if(o.setBaseY(this.stageHeight/2),A<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-A/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(I/2),n==="right"&&o.setBaseX(this.stageWidth-I/2),i){const R=T;let O=0,F=1;const k=()=>{R.gotoAndStop(O),setTimeout(()=>{O===x.length-1&&(F=-1),O===0&&(F=1),O+=F,k()},d[O])};k()}o.pivot.set(0,this.stageHeight/2),o.addChild(T)})(g)}};this.cacheGC(),(h=(c=a.resources)==null?void 0:c[r])!=null&&h.texture?u():this.loadAsset(r,u,"",i)}addSpineFigure(e,r,n="center"){var c;const i=`spine-${r}`,a=this.assetLoader,o=new V_;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=pf();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const u=()=>{var p,d;console.log(this.assetLoader.resources);const h=(p=this.assetLoader.resources)==null?void 0:p[i];if(h&&this.getStageObjByUuid(l)){const m=new qEe(h.spineData),_=((d=h==null?void 0:h.spineData)==null?void 0:d.y)??0;console.log(m);const v=m.width,g=m.height,y=this.stageWidth/v,x=this.stageHeight/g;m.y=-(x*_)/2,console.log(m.state),m.state.setAnimation(0,"07",!0);const b=Math.min(y,x),E=new gi;E.addChild(m),E.scale.x=b,E.scale.y=b,E.anchor.set(.5),E.position.y=this.stageHeight/2;const w=v*b,S=g*b;o.setBaseY(this.stageHeight/2),S<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-S/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(w/2),n==="right"&&o.setBaseX(this.stageWidth-w/2),o.pivot.set(0,this.stageHeight/2),o.addChild(E)}};this.cacheGC(),(c=a.resources)!=null&&c[r]?u():this.loadAsset(r,u,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const f=n.pixiContainer.children;for(const l of f){let u=r,c=0,h=3;const p=(l==null?void 0:l.internalModel)??void 0;(o=(a=p==null?void 0:p.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(u,c,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,f,l,u,c,h,p,d;function n(m){return m<50?0:(m-50)/50}const i=n(r),a=this.figureObjects.find(m=>m.key===e);if(a){const _=a.pixiContainer.children;for(const v of _)v!=null&&v.internalModel&&((s=(o=v==null?void 0:v.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((u=(l=(f=v==null?void 0:v.internalModel)==null?void 0:f.coreModel)==null?void 0:l.setParamFloat)==null||u.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(c=v==null?void 0:v.internalModel)==null?void 0:c.coreModel)!=null&&h.setParameterValueById&&((d=(p=v==null?void 0:v.internalModel)==null?void 0:p.coreModel)==null||d.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(i=>i.key===e),n=this.backgroundObjects.findIndex(i=>i.key===e);if(r>=0){const i=this.figureObjects[r];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){wD()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n,i){this.loadQueue.unshift({url:e,callback:r,name:n,extraInfo:{isApng:i??!1}}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){Ve.fatal("PIXI Loader ",r),e.callback(),this.callLoader()}}}updateFps(){ny==null||ny(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}}const ny=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),cwe={version:"IdolTime 1.0.0"},hwe=navigator.userAgent,K2=!!hwe.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),dwe=()=>{Ve.info(cwe.version),Ve.info("Made with  by IdolTime"),K2&&alert(`iOS 
| iOS `),pwe("./game/userStyleSheet.css"),vwe(),Ahe("./game/config.txt");const t=Hn("start.txt",Xn.scene);xa(t).then(async e=>{if(!await z.sceneManager.setCurrentScene(e,"start.txt",t))return;const n=z.sceneManager.sceneData.currentScene.subSceneList;z.sceneManager.settledScenes.push(t);const i=ah(n);Ru(i)}),z.gameplay.pixiStage=new fwe,Rhe(),Phe()};function pwe(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function vwe(){dc.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)dc.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};z.animationManager.addAnimation(i)}})})}const mwe="_Menu_main_1a7i6_1",gwe="_Menu_ShowSoftly_1a7i6_1",_we="_Menu_TagContent_1a7i6_10",BF={Menu_main:mwe,Menu_ShowSoftly:gwe,Menu_TagContent:_we},ywe="_MenuPanel_main_1c9ky_1",xwe="_MenuPanel_button_1c9ky_10",bwe="_MenuPanel_button_icon_1c9ky_38",Ewe="_MenuPanel_button_hl_1c9ky_44",Cl={MenuPanel_main:ywe,MenuPanel_button:xwe,MenuPanel_button_icon:bwe,MenuPanel_button_hl:Ewe};var wwe=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){Swe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Swe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cwe(t,e){if(t==null)return{};var r=Twe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Twe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Awe={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function Iwe(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function Rwe(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var v5=be.createContext(Awe);v5.Provider;function ju(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,f=n.theme,l=n.fill,u=n.className,c=n.spin,h=Cwe(n,wwe),p=be.useContext(v5),d=be.useMemo(Iwe,[]),m=Rwe(d,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:f,fill:l},p),_=[p.prefix+"-icon"];return _.push(p.prefix+"-icon-"+t),e&&p.rtl&&_.push(p.prefix+"-icon-rtl"),c&&_.push(p.prefix+"-icon-spin"),u&&_.push(u),qt.createElement("span",DF(DF({},h),{},{className:_.join(" ")}),r(m))}}const Pwe=ju("folder-open",!0,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),Owe=ju("hamburger-button",!1,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),Fwe=ju("home",!1,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M19 29V42H29V29H19Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M9 42H39",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),kwe=ju("logout",!0,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M23.9917 6H6V42H24",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M33 33L42 24L33 15",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M16 23.9917H42",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),Nwe=ju("save",!0,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:t.colors[3]}),qt.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M9 6H34.2814",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M14 26H34",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M14 34H24.0083",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),Lwe=ju("setting-two",!1,function(t){return qt.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},qt.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),qt.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),Bwe=t=>{let e;switch(t.iconName){case"save":e=B.jsx(Nwe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"load":e=B.jsx(Pwe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"option":e=B.jsx(Lwe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"title":e=B.jsx(Fwe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"exit":e=B.jsx(kwe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;default:e=B.jsx("div",{})}return e},vf=t=>{const{playSePageChange:e,playSeEnter:r}=Jn();let n=Cl.MenuPanel_button;return t.hasOwnProperty("buttonOnClassName")&&(n=n+t.buttonOnClassName),B.jsxs("div",{className:n,onClick:()=>{t.clickFunc()},onMouseEnter:r,style:{...t.style,color:t.tagColor},children:[B.jsx("div",{className:Cl.MenuPanel_button_icon,children:B.jsx(Bwe,{iconName:t.iconName,iconColor:t.iconColor})}),t.tagName]})},Z2=()=>{const t=Ce.dispatch;Hw(),pv(),Ul(),t(gt({key:"playVocal",value:""})),t(Bt({component:"showTitle",visibility:!0})),uv(Ce.getState().GUI.titleBg)},Mwe="_GlobalDialog_main_78ywd_2",Dwe="_showGlobalDialog_78ywd_1",Uwe="_glabalDialog_container_inner_78ywd_17",jwe="_glabalDialog_container_78ywd_17",$we="_title_78ywd_38",Vwe="_button_list_78ywd_50",Gwe="_button_78ywd_50",Ko={GlobalDialog_main:Mwe,showGlobalDialog:Dwe,glabalDialog_container_inner:Uwe,glabalDialog_container:jwe,title:$we,button_list:Vwe,button:Gwe};function Xwe(){const t=dt(e=>e.GUI.showGlobalDialog);return B.jsx(B.Fragment,{children:t&&B.jsx("div",{id:"globalDialogContainer"})})}function J2(t){const{playSeClick:e,playSeEnter:r}=Dw();Ce.dispatch(Bt({component:"showGlobalDialog",visibility:!0}));const n=()=>{e(),t.leftFunc(),UF()},i=()=>{e(),t.rightFunc(),UF()},a=B.jsx("div",{className:Ko.GlobalDialog_main,children:B.jsx("div",{className:Ko.glabalDialog_container,children:B.jsxs("div",{className:Ko.glabalDialog_container_inner,children:[B.jsx("div",{className:Ko.title,children:t.title}),B.jsxs("div",{className:Ko.button_list,children:[B.jsx("div",{className:Ko.button,onClick:n,onMouseEnter:r,children:t.leftText}),B.jsx("div",{className:Ko.button,onClick:i,onMouseEnter:r,children:t.rightText})]})]})})});setTimeout(()=>{Cs.render(a,document.getElementById("globalDialogContainer"))},100)}function UF(){Ce.dispatch(Bt({component:"showGlobalDialog",visibility:!1}))}const Hwe=()=>{const t=Fo("menu."),{playSeClick:e,playSeDialogOpen:r,playSePageChange:n}=Jn(),i=dt(m=>m.GUI),a=_n(),o=i.currentMenuTag===zt.Save?` ${Cl.MenuPanel_button_hl}`:"",s=i.currentMenuTag===zt.Load?` ${Cl.MenuPanel_button_hl}`:"",f=i.currentMenuTag===zt.Option?` ${Cl.MenuPanel_button_hl}`:"",l=i.currentMenuTag===zt.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",u=i.currentMenuTag===zt.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",c=i.currentMenuTag===zt.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)",h=i.currentMenuTag===zt.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",p=i.currentMenuTag===zt.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",d=i.currentMenuTag===zt.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)";return B.jsxs("div",{className:Cl.MenuPanel_main,children:[B.jsx(vf,{iconName:"save",buttonOnClassName:o,iconColor:h,tagColor:l,clickFunc:()=>{n(),!i.showTitle&&a(_s(zt.Save))},tagName:t("saving.title")},"saveButton"),B.jsx(vf,{iconName:"load",buttonOnClassName:s,iconColor:p,tagColor:u,clickFunc:()=>{n(),a(_s(zt.Load))},tagName:t("loadSaving.title")},"loadButton"),B.jsx(vf,{iconName:"title",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{r(),J2({title:t("$gaming.buttons.titleTips"),leftText:t("$common.no"),rightText:t("$common.yes"),leftFunc:()=>{},rightFunc:()=>{Z2(),a(Bt({component:"showMenuPanel",visibility:!1}))}})},tagName:t("title.title")},"titleIcon"),B.jsx(vf,{iconName:"option",style:{marginLeft:"auto"},buttonOnClassName:f,iconColor:d,tagColor:c,clickFunc:()=>{n(),a(_s(zt.Option))},tagName:t("options.title")},"optionButton"),B.jsx(vf,{iconName:"exit",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{e(),a(Bt({component:"showMenuPanel",visibility:!1}))},tagName:t("exit.title")},"exitIcon")]})},zwe="_Save_Load_main_enpnl_2",Wwe="_Common_back_enpnl_13",Ywe="_Common_title_enpnl_30",qwe="_Save_title_enpnl_41",Kwe="_Load_title_enpnl_45",Zwe="_Save_Load_top_buttonList_enpnl_49",Jwe="_Save_Load_indicator_container_enpnl_59",Qwe="_Save_Load_top_button_enpnl_49",eSe="_Save_Load_indicator_default_enpnl_74",tSe="_Save_Load_indicator_active_enpnl_83",rSe="_Save_Load_content_enpnl_92",nSe="_Save_Load_content_element_enpnl_105",iSe="_Elements_in_enpnl_1",aSe="_Elements_in_transform_enpnl_1",oSe="_Save_Load_content_element_top_enpnl_120",sSe="_Save_Load_info_enpnl_127",lSe="_Save_Load_content_ele_enpnl_105",uSe="_Save_Load_bg_enpnl_158",fSe="_Save_Load_content_miniRen_bg_enpnl_170",cSe="_Save_Load_border_enpnl_181",hSe="_Btn_enpnl_195",dSe="_Btn_r_enpnl_209",wt={Save_Load_main:zwe,Common_back:Wwe,Common_title:Ywe,Save_title:qwe,Load_title:Kwe,Save_Load_top_buttonList:Zwe,Save_Load_indicator_container:Jwe,Save_Load_top_button:Qwe,Save_Load_indicator_default:eSe,Save_Load_indicator_active:tSe,Save_Load_content:rSe,Save_Load_content_element:nSe,Elements_in:iSe,Elements_in_transform:aSe,Save_Load_content_element_top:oSe,Save_Load_info:sSe,Save_Load_content_ele:lSe,Save_Load_bg:uSe,Save_Load_content_miniRen_bg:fSe,Save_Load_border:cSe,Btn:hSe,Btn_r:dSe},pSe=()=>{const{playSeClick:t,playSePageChange:e,playSeEnter:r,playSeDialogOpen:n}=Jn(),i=dt(m=>m.userData),a=dt(m=>m.saveData),o=_n(),s=[];for(let m=1;m<=4;m++){const _=B.jsx("div",{onClick:()=>{o(y0(m)),fn(),e()},onMouseEnter:r,className:wt.Save_Load_top_button,children:B.jsx("div",{className:m===i.optionData.slPage?wt.Save_Load_indicator_active:wt.Save_Load_indicator_default})},"Load_element_page"+m);s.push(_)}const f=Fo("common."),l=[],u=(i.optionData.slPage-1)*6+1,c=u+5;be.useEffect(()=>{zw(u,c)},[u,c]);let h=0;for(let m=u;m<=c;m++){h++;const _=a.saveData[m];let v=B.jsx("div",{className:wt.Save_Load_content_ele});_&&(v=B.jsxs(B.Fragment,{children:[B.jsx("div",{className:wt.Save_Load_border}),B.jsx("img",{className:wt.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:_.previewImage}),B.jsxs("div",{className:wt.Save_Load_info,children:[_.saveTime,`
`,_.nowStageState.showText]})]}));const g=B.jsx("div",{onClick:()=>{a.saveData[m]?(n(),J2({title:p("saving.isOverwrite"),leftText:f("no"),rightText:f("yes"),leftFunc:()=>{},rightFunc:()=>{bR(m),fn()}})):(e(),bR(m))},onMouseEnter:r,className:wt.Save_Load_content_element,style:{animationDelay:`${h*30}ms`},children:v},"saveElement_"+m);l.push(g)}const p=Fo("menu."),d=m=>{let v=i.optionData.slPage;m==="left"?v=v>1?v-1:4:v=v<4?v+1:1,o(y0(v)),fn(),e()};return B.jsxs("div",{className:wt.Save_Load_main,children:[B.jsx("div",{className:`${wt.Common_title} ${wt.Save_title}`,children:B.jsx("div",{className:wt.Common_back,onClick:()=>{t(),o(Bt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:r})}),B.jsx("div",{className:wt.Save_Load_content,id:"Save_content_page_"+i.optionData.slPage,children:l}),B.jsxs("div",{className:wt.Save_Load_top_buttonList,children:[B.jsx("div",{className:wt.Btn,onMouseEnter:r,onClick:()=>d("left")}),B.jsx("div",{className:wt.Save_Load_indicator_container,children:s}),B.jsx("div",{className:`${wt.Btn} ${wt.Btn_r}`,onMouseEnter:r,onClick:()=>d("right")})]})]})},vSe=()=>{const{playSeClick:t,playSeEnter:e,playSePageChange:r}=Jn(),n=dt(h=>h.userData),i=dt(h=>h.saveData),a=_n(),o=[];for(let h=1;h<=4;h++){const p=B.jsx("div",{onClick:()=>{a(y0(h)),fn(),r()},onMouseEnter:e,className:wt.Save_Load_top_button,children:B.jsx("div",{className:h===n.optionData.slPage?wt.Save_Load_indicator_active:wt.Save_Load_indicator_default})},"Load_element_page"+h);o.push(p)}const s=[],f=(n.optionData.slPage-1)*6+1,l=f+5;be.useEffect(()=>{zw(f,l)},[f,l]);let u=0;for(let h=f;h<=l;h++){u++;const p=i.saveData[h];let d=B.jsx("div",{className:wt.Save_Load_content_ele});p&&(d=B.jsxs(B.Fragment,{children:[B.jsx("div",{className:wt.Save_Load_bg}),B.jsx("img",{className:wt.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:p.previewImage}),B.jsx("div",{className:wt.Save_Load_border}),B.jsxs("div",{className:wt.Save_Load_info,children:[p.saveTime,`
`,p.nowStageState.showText]})]}));const m=B.jsx("div",{onClick:()=>{gue(h),t()},onMouseEnter:e,className:wt.Save_Load_content_element,style:{animationDelay:`${u*30}ms`},children:d},"loadElement_"+h);s.push(m)}Fo("menu.");const c=h=>{let d=n.optionData.slPage;h==="left"?d=d>1?d-1:4:d=d<4?d+1:1,a(y0(d)),fn(),r()};return B.jsxs("div",{className:wt.Save_Load_main,children:[B.jsx("div",{className:`${wt.Common_title} ${wt.Load_title}`,children:B.jsx("div",{className:wt.Common_back,onClick:()=>{t(),a(Bt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e})}),B.jsx("div",{className:wt.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:s}),B.jsxs("div",{className:wt.Save_Load_top_buttonList,children:[B.jsx("div",{className:wt.Btn,onMouseEnter:e,onClick:()=>c("left")}),B.jsx("div",{className:wt.Save_Load_indicator_container,children:o}),B.jsx("div",{className:`${wt.Btn} ${wt.Btn_r}`,onMouseEnter:e,onClick:()=>c("right")})]})]})},mSe="_Options_main_jm6ym_1",gSe="_Options_top_jm6ym_12",_Se="_Options_page_container_jm6ym_25",ySe="_Options_left_jm6ym_31",xSe="_title_base_jm6ym_36",bSe="_Options_right_jm6ym_46",ESe="_Label_jm6ym_50",wSe="_title_voice_jm6ym_55",SSe="_Label_fullscreen_jm6ym_74",CSe="_Label_window_jm6ym_79",TSe="_Label_text_speed_jm6ym_84",ASe="_Label_row_jm6ym_88",ISe="_Label_row_right_jm6ym_96",RSe="_Label_row_text_jm6ym_101",PSe="_Label_row_decoration_jm6ym_108",OSe="_Check_row_jm6ym_120",FSe="_Check_row_option_jm6ym_129",kSe="_Check_row_prefix_jm6ym_134",NSe="_Check_row_box_jm6ym_149",LSe="_mt48_jm6ym_161",BSe="_mt32_jm6ym_165",MSe="_mt22_jm6ym_170",DSe="_Slider_wrapper_jm6ym_175",USe="_Check_row_box_checked_jm6ym_179",jSe="_Save_back_jm6ym_193",it={Options_main:mSe,Options_top:gSe,Options_page_container:_Se,Options_left:ySe,title_base:xSe,Options_right:bSe,Label:ESe,title_voice:wSe,Label_fullscreen:SSe,Label_window:CSe,Label_text_speed:TSe,Label_row:ASe,Label_row_right:ISe,Label_row_text:RSe,Label_row_decoration:PSe,Check_row:OSe,Check_row_option:FSe,Check_row_prefix:kSe,Check_row_box:NSe,mt48:LSe,mt32:BSe,mt22:MSe,Slider_wrapper:DSe,Check_row_box_checked:USe,Save_back:jSe};const mf=t=>{const{playSeEnter:e}=Jn();be.useEffect(()=>{setTimeout(()=>{const n=document.getElementById(t.uniqueID);n!==null&&n.setAttribute("value",t.initValue.toString()),r()},1)},[]),be.useEffect(()=>{r()},[t.initValue]);function r(){const n=document.getElementById(`${t.uniqueID}-bg`);n!==null&&(n.style.width=Number(t.initValue.toString())/100*376/.5+"px")}return B.jsxs("div",{className:"Option_WebGAL_slider",children:[B.jsx("input",{className:"Rang_input",id:t.uniqueID,type:"range",onChange:t.onChange,onFocus:e,onMouseEnter:e}),B.jsx("div",{className:"Slider_bg",id:`${t.uniqueID}-bg`}),B.jsx("div",{className:"Slider_bg_under"})]})},$Se=()=>{be.useEffect(C0,[]);const{playSeClick:t,playSeEnter:e}=Jn(),r=dt(i=>i.userData),n=_n();return B.jsxs("div",{className:it.Options_main,children:[B.jsx("div",{className:it.Options_top,children:B.jsx("div",{className:it.Save_back,onClick:()=>{t(),n(Bt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e})}),B.jsxs("div",{className:it.Options_page_container,children:[B.jsxs("div",{className:it.Options_left,children:[B.jsx("div",{className:it.title_base}),B.jsxs("div",{className:`${it.Label_row} ${it.mt48}`,children:[B.jsx("span",{className:it.Label_row_text,children:""}),B.jsx("span",{className:it.Label_row_decoration})]}),B.jsxs("div",{className:it.Check_row,children:[B.jsxs("div",{className:it.Check_row_option,children:[B.jsx("span",{className:it.Check_row_prefix,children:""}),B.jsx("div",{className:it.Check_row_box,onClick:()=>{n(Li({key:"fullScreen",value:la.on})),fn()},children:r.optionData.fullScreen?null:B.jsx("div",{className:it.Check_row_box_checked})})]}),B.jsxs("div",{className:it.Check_row_option,children:[B.jsx("span",{className:it.Check_row_prefix,children:""}),B.jsx("div",{className:it.Check_row_box,onClick:()=>{n(Li({key:"fullScreen",value:la.off})),fn()},children:r.optionData.fullScreen?B.jsx("div",{className:it.Check_row_box_checked}):null})]})]}),B.jsxs("div",{className:`${it.Label_row} ${it.mt48}`,children:[B.jsx("span",{className:it.Label_row_text,children:""}),B.jsx("span",{className:it.Label_row_decoration})]}),B.jsx(mf,{initValue:r.optionData.textSpeed,uniqueID:"",onChange:i=>{const a=i.target.value;n(Li({key:"textSpeed",value:Number(a)})),fn()}})]}),B.jsxs("div",{className:it.Options_right,children:[B.jsx("div",{className:it.title_voice}),B.jsxs("div",{className:`${it.Label_row} ${it.mt32} ${it.Label_row_right}`,children:[B.jsx("span",{className:it.Label_row_text,children:""}),B.jsx("span",{className:it.Label_row_decoration})]}),B.jsx("div",{className:it.Slider_wrapper,children:B.jsx(mf,{initValue:r.optionData.volumeMain,uniqueID:"",onChange:i=>{const a=i.target.value;n(Li({key:"volumeMain",value:Number(a)})),fn()}})}),B.jsxs("div",{className:`${it.Label_row} ${it.mt32} ${it.Label_row_right}`,children:[B.jsx("span",{className:it.Label_row_text,children:""}),B.jsx("span",{className:it.Label_row_decoration})]}),B.jsx("div",{className:it.Slider_wrapper,children:B.jsx(mf,{initValue:r.optionData.bgmVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n(Li({key:"bgmVolume",value:Number(a)})),fn()}})}),B.jsxs("div",{className:`${it.Label_row} ${it.mt32} ${it.Label_row_right}`,children:[B.jsx("span",{className:it.Label_row_text,children:""}),B.jsx("span",{className:it.Label_row_decoration})]}),B.jsx("div",{className:it.Slider_wrapper,children:B.jsx(mf,{initValue:r.optionData.seVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n(Li({key:"seVolume",value:Number(a)})),n(Li({key:"uiSeVolume",value:Number(a)})),fn()}})}),B.jsxs("div",{className:`${it.Label_row} ${it.mt22} ${it.Label_row_right}`,children:[B.jsx("span",{className:it.Label_row_text,children:""}),B.jsx("span",{className:it.Label_row_decoration})]}),B.jsx("div",{className:it.Slider_wrapper,children:B.jsx(mf,{initValue:r.optionData.vocalVolume,uniqueID:"",onChange:i=>{const a=i.target.value;n(Li({key:"vocalVolume",value:Number(a)})),fn()}})})]})]})]})},VSe=()=>{const t=dt(r=>r.GUI);let e;switch(t.currentMenuTag){case zt.Save:e=B.jsx(pSe,{});break;case zt.Load:e=B.jsx(vSe,{});break;case zt.Option:e=B.jsx($Se,{});break}return B.jsx(B.Fragment,{children:t.showMenuPanel&&B.jsxs("div",{className:BF.Menu_main,children:[B.jsx("div",{className:BF.Menu_TagContent,children:e}),zt.Option?null:B.jsx(Hwe,{})]})})},GSe="_MainStage_main_9enex_1",XSe="_MainStage_main_container_9enex_10",HSe="_MainStage_bgContainer_9enex_17",zSe="_MainStage_showBgSoftly_9enex_1",WSe="_MainStage_bgContainer_Settled_9enex_27",YSe="_MainStage_oldBgContainer_9enex_37",qSe="_MainStage_oldBgFadeout_9enex_1",KSe="_MainStage_oldBgContainer_Settled_9enex_47",ZSe="_pixiContainer_9enex_72",JSe="_chooseContainer_9enex_77",iy={MainStage_main:GSe,MainStage_main_container:XSe,MainStage_bgContainer:HSe,MainStage_showBgSoftly:zSe,MainStage_bgContainer_Settled:WSe,MainStage_oldBgContainer:YSe,MainStage_oldBgFadeout:qSe,MainStage_oldBgContainer_Settled:KSe,pixiContainer:ZSe,chooseContainer:JSe};function QSe(){const t=dt(r=>r.userData.optionData.textboxFont);function e(){return ov(t).with(gs.song,()=>'"", serif').with(gs.lxgw,()=>'"LXGW", serif').with(gs.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function jF(t){switch(t){case 0:return 150;case 1:return 205;case 2:return 240;default:return 205}}const e2e="_TextBox_EventHandler_3ooeu_1",t2e="_TextBox_Container_3ooeu_9",r2e="_showSoftly_3ooeu_1",n2e="_TextBox_main_3ooeu_24",i2e="_TextBox_textElement_start_3ooeu_50",a2e="_TextDelayShow_3ooeu_1",o2e="_outer_3ooeu_56",s2e="_inner_3ooeu_65",l2e="_zhanwei_3ooeu_74",u2e="_TextBox_textElement_Settled_3ooeu_79",f2e="_TextBox_showName_3ooeu_84",c2e="_outerName_3ooeu_94",h2e="_TextBox_showName_avatar_3ooeu_98",d2e="_TextBox_showName_player_3ooeu_104",p2e="_TextBox_ShowName_Background_3ooeu_110",v2e="_miniAvatarContainer_3ooeu_122",m2e="_miniAvatarImg_3ooeu_142",g2e="_nameContainer_3ooeu_147",_2e="_innerName_3ooeu_160",y2e="_line_3ooeu_167",x2e="_line_avatar_3ooeu_175",b2e="_line_hide_3ooeu_179",E2e="_text_3ooeu_183",Zt={TextBox_EventHandler:e2e,TextBox_Container:t2e,showSoftly:r2e,TextBox_main:n2e,TextBox_textElement_start:i2e,TextDelayShow:a2e,outer:o2e,inner:s2e,zhanwei:l2e,TextBox_textElement_Settled:u2e,TextBox_showName:f2e,outerName:c2e,TextBox_showName_avatar:h2e,TextBox_showName_player:d2e,TextBox_ShowName_Background:p2e,miniAvatarContainer:v2e,miniAvatarImg:m2e,nameContainer:g2e,innerName:_2e,line:y2e,line_avatar:x2e,line_hide:b2e,text:E2e};function w2e(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:f,miniAvatar:l,showName:u,font:c,textDuration:h,isUseStroke:p,textboxOpacity:d,dialogueMode:m,textAlign:_}=t,v=BM("Stage/TextBox/textbox.scss");be.useEffect(()=>{function x(){[...document.querySelectorAll(".Textelement_start")].forEach(w=>{w.className=v("TextBox_textElement_Settled",Zt.TextBox_textElement_Settled)})}return z.events.textSettle.on(x),()=>{z.events.textSettle.off(x)}},[]);let g=0;const y=e.map((x,b)=>{const E=x.map((w,S)=>{let C=g*r;g++;let T=n.length;return n!==""&&S>=T&&(C=C-T*r),S<T?B.jsx("span",{id:`${C}`,className:v("TextBox_textElement_Settled",Zt.TextBox_textElement_Settled),style:{animationDelay:`${C}ms`,animationDuration:`${h}ms`},children:B.jsxs("span",{className:Zt.zhanwei,children:[w,B.jsx("span",{className:v("outer",Zt.outer),children:w}),p&&B.jsx("span",{className:v("inner",Zt.inner),children:w})]})},i+S):B.jsx("span",{"data-text":w,id:`${C}`,className:`${v("TextBox_textElement_start",Zt.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${C}ms`,position:"relative"},children:B.jsxs("span",{className:Zt.zhanwei,children:[w,B.jsx("span",{className:v("outer",Zt.outer),children:w}),p&&B.jsx("span",{className:v("inner",Zt.inner),children:w})]})},i+S)});return B.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:E},`text-line-${b}`)});return B.jsx(B.Fragment,{children:a&&B.jsxs("div",{className:Zt.TextBox_Container,children:[B.jsx("div",{className:v("TextBox_main",Zt.TextBox_main),style:{opacity:`${d/100}`}}),B.jsxs("div",{id:"textBoxMain",className:Zt.TextBox_main,style:{fontFamily:c},children:[B.jsxs("div",{id:"miniAvatar",className:v("miniAvatarContainer",Zt.miniAvatarContainer),children:[l!==""&&B.jsx("div",{}),l!==""&&B.jsx("img",{className:v("miniAvatarImg",Zt.miniAvatarImg),alt:"miniAvatar",src:l})]}),u!==""&&m!=="narrator"&&B.jsxs(B.Fragment,{children:[B.jsx("div",{className:v("TextBox_showName",Zt.TextBox_showName),style:{opacity:`${d/100}`,fontSize:"200%"},children:B.jsx("div",{style:{opacity:0},children:u.split("").map((x,b)=>B.jsx("span",{style:{position:"relative"},children:B.jsxs("span",{className:Zt.zhanwei,children:[x,B.jsx("span",{className:v("outerName",Zt.outerName),children:x}),p&&B.jsx("span",{className:v("innerName",Zt.innerName),children:x})]})},x+b))})}),B.jsx("div",{className:`${Zt.TextBox_showName} ${l?Zt.TextBox_showName_avatar:""}`,children:u.split("").map((x,b)=>B.jsx("span",{style:{position:"relative"},children:B.jsxs("span",{className:Zt.zhanwei,children:[x,B.jsx("span",{className:v("outerName",Zt.outerName),children:x}),p&&B.jsx("span",{className:v("innerName",Zt.innerName),children:x})]})},x+b))},u)]}),B.jsx("div",{className:`${Zt.line} ${m==="narrator"?Zt.line_hide:""} ${l?Zt.line_avatar:""}`}),B.jsx("div",{className:v("text",Zt.text),style:{flexFlow:"column",overflow:"hidden",textAlign:_||m==="narrator"?"center":"left"},children:y})]})]})})}const m5=navigator.userAgent,S2e=/firefox/i.test(m5),C2e=/^((?!chrome|android).)*safari/i.test(m5),T2e=()=>{const[t,e]=be.useState(!0);be.useEffect(()=>{const y=()=>{const x=W0.height,b=W0.width,E=window.innerHeight,w=window.innerWidth,S=E/x,C=w/b,T=w/x,I=E/b;[S,C,T,I].forEach(A=>{A<=.2?e(!1):e(!0)})};return window.addEventListener("resize",y),y(),()=>{window.removeEventListener("resize",y)}},[]);const r=dt(y=>y.stage),n=dt(y=>y.userData),i=nM(n.optionData.textSpeed),a=ble(n.optionData.textSpeed);let o=jF(n.optionData.textSize)+"%";const s=QSe(),f=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;f&&r.showTextSize!==-1&&(o=jF(r.showTextSize)+"%",l=r.showTextSize);const u=ov(n.optionData.textSize).with(bo.small,()=>3).with(bo.medium,()=>2).with(bo.large,()=>2).default(()=>2),c=g5(r.showText,u),h=r.showName,p=r.currentConcatDialogPrev,d=r.currentDialogKey,m=r.miniAvatar,_=n.optionData.textboxOpacity,v=r.dialogueMode,g=w2e;return B.jsx(g,{textArray:c,isText:f,textDelay:i,showName:h,currentConcatDialogPrev:p,fontSize:o,currentDialogKey:d,isSafari:C2e,isFirefox:S2e,miniAvatar:m,textDuration:a,font:s,textSizeState:l,lineLimit:u,isUseStroke:t,textboxOpacity:_,dialogueMode:v})};function $F(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function g5(t,e,r){return t.split("|").map(o=>I2e(o)).map(o=>{const s=[];return o.forEach((f,l)=>{ov(f.type).with("SegmentType.String",()=>{const u=A2e(f.value);s.push(...u)}).endsWith("SegmentType.Link",()=>{const u=f.value,c=B.jsxs("ruby",{children:[u.text,B.jsx("rt",{children:u.link})]},l+u.text);s.push(c)})}),s}).slice(0,r?void 0:e)}function A2e(t){if(!t)return[];const e=[];let r="",n=$F(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(""),n=!1;else if($F(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function I2e(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];r.push({type:"SegmentType.Link",value:{text:i,link:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r}async function VF(t){if(!window.isSafari||!t.toLowerCase().endsWith(".ogg"))return t;try{const r=await(await fetch(t)).arrayBuffer();return await R2e(r)}catch(e){throw console.error("Error fetching or decoding Ogg file:",e),e}}function R2e(t){return new Promise((e,r)=>{let n=new Uint8Array(t),i=new Worker("./decoderWorker.js"),a=new Worker("./waveWorker.js"),o=8e3;i.postMessage({command:"init",decoderSampleRate:o,outputBufferSampleRate:o}),a.postMessage({command:"init",wavBitDepth:16,wavSampleRate:o}),i.onmessage=function(s){s.data===null?a.postMessage({command:"done"}):a.postMessage({command:"encode",buffers:s.data},s.data.map(function(f){return f.buffer}))},a.onmessage=function(s){if(s.data.message==="page"){let f=new Blob([s.data.page],{type:"audio/wav"}),l=URL.createObjectURL(f);e(l)}},i.postMessage({command:"decode",pages:n},[n.buffer])})}const P2e=()=>{var v;const t=dt(g=>g.stage),e=dt(g=>g.GUI.titleBgm),r=dt(g=>g.GUI.showTitle),n=dt(g=>g.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,f=t.uiSe,l=i*.01*(((v=n.optionData)==null?void 0:v.seVolume)??100)*.01,u=i*.01*(n.optionData.uiSeVolume??50)*.01,c=dt(g=>g.GUI.isEnterGame),[h,p]=be.useState(""),[d,m]=be.useState(setTimeout(()=>{},0)),_=(g,y,x)=>{x>=0?g.volume=0:g.volume=y;const b=10,E=y/x*b,w=()=>{const S=setTimeout(()=>{g.volume+E>=y?g.volume=y:g.volume+E<=0?(g.volume=0,Ce.dispatch(gt({key:"bgm",value:{src:"",enter:0,volume:100}}))):(g.volume+=E,w())},b);m(S)};w()};return be.useEffect(()=>{clearTimeout(d);const g=document.getElementById("currentBgm");g&&(s===0?g.volume=o:_(g,o,s))},[h,o,s]),be.useEffect(()=>{(async()=>{const y=await VF(r?e:t.bgm.src);p(y)})()},[r,e,t.bgm.src]),be.useEffect(()=>{Ve.debug(`${o}`)},[o]),be.useEffect(()=>{Ve.debug(`: ${s}`)},[s]),be.useEffect(()=>{Ve.debug(`${a}`);const g=document.getElementById("currentVocal");g&&(g.volume=a.toString())},[a]),be.useEffect(()=>{if(f==="")return;(async()=>{const y=await VF(f),x=document.createElement("audio");x.src=y,x.loop=!1,isNaN(u)?(Ve.error("UI SE Vol is NaN"),x.volume=isNaN(l)?i/100:l/100):x.volume=u,x.play(),x.addEventListener("ended",()=>{x.remove()}),Ce.dispatch(gt({key:"uiSe",value:""}))})()},[f]),be.useEffect(()=>{Ve.debug(`: ${l}`)},[l]),be.useEffect(()=>{Ve.debug(`: ${u}`)},[u]),B.jsxs("div",{children:[B.jsx("audio",{id:"currentBgm",src:h,loop:!0,autoPlay:c},r.toString()+h),B.jsx("audio",{id:"currentVocal",src:t.playVocal})]})},O2e=()=>{const t=dt(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),B.jsx("div",{className:Ka.FullScreenPerform_main,style:{width:e,height:r,top:n},children:B.jsx("div",{id:"videoContainer"})})},F2e="_TextBox_EventHandler_449dq_2",k2e="_TextBox_main_449dq_10",N2e="_showSoftly_449dq_1",L2e="_TextBox_textElement_449dq_38",B2e="_TextBox_textElement_start_449dq_43",M2e="_TextDelayShow_449dq_1",D2e="_TextBox_textElement_Settled_449dq_48",U2e="_TextBox_showName_449dq_52",j2e="_miniAvatarContainer_449dq_68",$2e="_miniAvatarImg_449dq_76",ay={TextBox_EventHandler:F2e,TextBox_main:k2e,showSoftly:N2e,TextBox_textElement:L2e,TextBox_textElement_start:B2e,TextDelayShow:M2e,TextBox_textElement_Settled:D2e,TextBox_showName:U2e,miniAvatarContainer:j2e,miniAvatarImg:$2e},V2e=()=>{const t=dt(o=>o.stage),e=dt(o=>o.userData);be.useEffect(()=>{});const r=dq.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let f=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(f=f-l*r),s<l?B.jsx("span",{id:`${f}`,className:ay.TextBox_textElement_Settled,style:{animationDelay:`${f}ms`},children:o},t.currentDialogKey+s):B.jsx("span",{id:`${f}`,className:ay.TextBox_textElement_start,style:{animationDelay:`${f}ms`},children:o},t.currentDialogKey+s)});return B.jsx("div",{id:"textBoxMain",className:ay.TextBox_main,children:B.jsx("div",{style:{fontSize:n},children:a})})};function G2e(t){const e=t.bgName;be.useEffect(()=>{var n,i,a;const r="bg-main";if(e!==""){const o=(n=z.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);o&&o.sourceUrl!==e&&GF(o),(i=z.gameplay.pixiStage)==null||i.addBg(r,e),uv(e),Ve.debug(""),setTimeout(()=>{const{duration:s,animation:f}=ro("bg-main","enter",!0);z.gameplay.pixiStage.registerPresetAnimation(f,"bg-main-softin",r,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),s)},0)}else{const o=(a=z.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(r);o&&GF(o)}},[e])}function GF(t){var i,a;(i=z.gameplay.pixiStage)==null||i.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off",(a=z.gameplay.pixiStage)==null||a.removeStageObjectByKey(e);const{duration:r,animation:n}=ro("bg-main-off","exit",!0);z.gameplay.pixiStage.registerAnimation(n,"bg-main-softoff","bg-main-off"),setTimeout(()=>{var o,s;(o=z.gameplay.pixiStage)==null||o.removeAnimation("bg-main-softoff"),(s=z.gameplay.pixiStage)==null||s.removeStageObjectByKey("bg-main-off")},r)}async function X2e(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch file: ${e.status} ${e.statusText}`);const r=await e.arrayBuffer();return new Uint8Array(r)}function H2e(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t;be.useEffect(()=>{var s;for(const f of a)(s=z.gameplay.pixiStage)==null||s.changeModelMotionByKey(f.target,f.motion)},[a]),be.useEffect(()=>{var s;for(const f of o)(s=z.gameplay.pixiStage)==null||s.changeModelExpressionByKey(f.target,f.expression)},[o]),be.useEffect(()=>{var l,u;const s="fig-center",f="fig-center-softin";if(r!==""){const c=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);c&&c.sourceUrl!==r&&Ia(c,f,t.effects),gf(void 0,s,r,"center"),Ve.debug(""),setTimeout(()=>{const{duration:h,animation:p}=ro(s,"enter");z.gameplay.pixiStage.registerPresetAnimation(p,f,s,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(f),h)},32)}else{Ve.debug("");const c=(u=z.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);c&&c.sourceUrl!==r&&Ia(c,f,t.effects)}},[r]),be.useEffect(()=>{var l,u;const s="fig-left",f="fig-left-softin";if(e!==""){const c=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);c&&c.sourceUrl!==e&&Ia(c,f,t.effects),gf(void 0,s,e,"left"),Ve.debug(""),setTimeout(()=>{const{duration:h,animation:p}=ro(s,"enter");z.gameplay.pixiStage.registerPresetAnimation(p,f,s,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(f),h)},32)}else{Ve.debug("");const c=(u=z.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);c&&c.sourceUrl!==e&&Ia(c,f,t.effects)}},[e]),be.useEffect(()=>{var l,u;const s="fig-right",f="fig-right-softin";if(n!==""){const c=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);c&&c.sourceUrl!==n&&Ia(c,f,t.effects),gf(void 0,s,n,"right"),Ve.debug(""),setTimeout(()=>{const{duration:h,animation:p}=ro(s,"enter");z.gameplay.pixiStage.registerPresetAnimation(p,f,s,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(f),h)},32)}else{const c=(u=z.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);c&&c.sourceUrl!==n&&Ia(c,f,t.effects)}},[n]),be.useEffect(()=>{var f,l,u;for(const c of i){const h=`${c.key}`,p=`${c.key}-softin`;if(c.name!==""){const d=(f=z.gameplay.pixiStage)==null?void 0:f.getStageObjByKey(h);d?d.sourceUrl!==c.name&&(Ia(d,p,t.effects),gf(void 0,h,c.name,c.basePosition),Ve.debug(`${c.key}`),setTimeout(()=>{const{duration:m,animation:_}=ro(h,"enter");z.gameplay.pixiStage.registerPresetAnimation(_,p,h,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(p),m)},32)):(gf(void 0,h,c.name,c.basePosition),Ve.debug(`${c.key}`),setTimeout(()=>{const{duration:m,animation:_}=ro(h,"enter");z.gameplay.pixiStage.registerPresetAnimation(_,p,h,t.effects),setTimeout(()=>z.gameplay.pixiStage.removeAnimationWithSetEffects(p),m)},32))}else{const d=(l=z.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);d&&d.sourceUrl!==c.name&&Ia(d,p,t.effects)}}const s=(u=z.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const c of s)if(!(c.key==="fig-left"||c.key==="fig-center"||c.key==="fig-right"||c.key.endsWith("-off"))){const h=c.key;if(i.findIndex(d=>d.key===h)<0){const d=`${c.key}-softin`;Ia(c,d,t.effects)}}}},[i])}function Ia(t,e,r){var f,l,u;if((f=z.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(e),z.gameplay.isFast){Ve.info(""),(l=z.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=z.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=ro(i,"exit");z.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var c,h;(c=z.gameplay.pixiStage)==null||c.removeAnimation(a),(h=z.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function gf(t,...e){var n,i;const r=e[1];if(r.endsWith(".json"))return z2e(...e);if(r.endsWith(".skel"))return(n=z.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e);if(r.endsWith(".png"))X2e(r).then(a=>{var o;return(o=z.gameplay.pixiStage)==null?void 0:o.addFigure(...e,W2e(a))});else return(i=z.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function z2e(...t){}function W2e(t){const e=new Uint8Array([137,80,78,71,13,10,26,10]);if(!t.slice(0,8).every((i,a)=>i===e[a]))return!1;const r=new Uint8Array([97,99,84,76]),n=37;return!!t.slice(n,n+4).every((i,a)=>i===r[a])}function Y2e(t){const e=t.effects;setTimeout(()=>{q2e(e)},10)}function q2e(t){var r,n,i,a;const e=((r=z.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,f=t.find(u=>u.target===s);if(!(((n=z.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(f){const u=(i=z.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(u){const c=u.pixiContainer;Object.assign(c,XF(f.transform))}}else{const u=(a=z.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(u){const c=u.pixiContainer;Object.assign(c,XF(Cw))}}}}function XF(t){if(!t)return{};const{position:e,...r}=t;return{...r,x:e.x,y:e.y}}function K2e(){const t=dt(e=>e.stage);return G2e(t),H2e(t),Y2e(t),B.jsx("div",{style:{display:"none"}})}const Z2e="_introContainer_119k8_1",J2e={introContainer:Z2e};function Q2e(){return B.jsx("div",{className:J2e.introContainer,id:"introContainer"})}function HF(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function eCe(t,e,r){!e.controlsVisibility&&HF(t)&&r(Bt({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!HF(t)&&r(Bt({component:"controlsVisibility",visibility:!1}))}function tCe(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let oy=null;function rCe(t,e,r,n){tCe(e,r)?(oy&&clearTimeout(oy),n(Bt({component:"controlsVisibility",visibility:!0})),oy=setTimeout(()=>{n(Bt({component:"controlsVisibility",visibility:!1}))},1e3)):eCe(t,r,n)}const nCe=()=>{const t=dt(n=>n.stage),e=dt(n=>n.GUI),r=_n();return she(),B.jsxs("div",{className:iy.MainStage_main,children:[B.jsx(O2e,{}),B.jsx(K2e,{}),B.jsx("div",{id:"pixiContianer",className:iy.pixiContainer,style:{zIndex:K2?"-5":void 0}}),B.jsx("div",{id:"chooseContainer",className:iy.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&B.jsx(T2e,{}),e.showTextBox&&t.enableFilm!==""&&B.jsx(V2e,{}),B.jsx(P2e,{}),B.jsx("div",{onClick:()=>{if(!e.showTextBox){r(Bt({component:"showTextBox",visibility:!0}));return}Jw(),gn()},onDoubleClick:()=>{z.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&rCe(n,t,e,r)}),B.jsx(Q2e,{})]})},iCe=()=>{const t=Fo("gaming."),{i18n:e}=fv(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=Jn();e.language;const a=dt(u=>u.GUI),o=dt(u=>u.stage),s=_n(),f=(u,c)=>{s(Bt({component:u,visibility:c}))},l=dt(u=>u.saveData.saveData);if(t("noSaving"),l[0]){const u=l[0];Kr.slPreviewMain,Kr.imgContainer,u.previewImage,Kr.textContainer,u.nowStageState.showName,u.nowStageState.showText}return B.jsx(B.Fragment,{children:a.showTextBox&&o.enableFilm===""&&B.jsxs("div",{className:Kr.main,style:{visibility:a.controlsVisibility?"visible":"hidden"},children:[B.jsx("span",{id:"Button_ControlPanel_auto",className:`${Kr.singleButton} ${Kr.singleButton_auto}`,title:"",onClick:()=>{DM(),n()},onMouseEnter:r,children:B.jsx("span",{className:Kr.autoIcon})}),B.jsx("span",{id:"Button_ControlPanel_fast",className:`${Kr.singleButton} ${Kr.singleButton_fast}`,title:"",onClick:()=>{VM(),n()},onMouseEnter:r,children:B.jsx("span",{className:Kr.fastIcon})}),B.jsx("span",{className:Kr.singleButton,title:"",onClick:()=>{z.gameplay.isAuto&&pv(),f("showBacklog",!0),f("showTextBox",!1),n()},onMouseEnter:r,children:B.jsx("span",{className:Kr.historyIcon})})]})})},aCe=()=>{var u,c;Fo("gaming.");const{playSeEnter:t,playSeClick:e}=Jn(),r=dt(h=>h.GUI),n=_n(),[i,a]=be.useState(!1),[o,s]=be.useState(!1);let f=be.useRef();const l=be.useMemo(()=>{let h=[];for(let p=0;p<z.backlogManager.getBacklog().length;p++){const d=z.backlogManager.getBacklog()[p],m=g5(d.currentStageState.showText,3,!0),v=oCe(m).map((y,x)=>B.jsx("div",{children:y.map((b,E)=>b==="<br />"?B.jsx("br",{},`br${E}`):b)},`backlog-line-${x}`)),g=B.jsxs("div",{className:bn.backlog_item,style:{animationDelay:`${20*(z.backlogManager.getBacklog().length-p)}ms`},children:[B.jsxs("div",{className:bn.backlog_content_container,children:[B.jsxs("div",{className:bn.backlog_func_area,children:[B.jsx("div",{className:bn.backlog_item_content_name,children:d.currentStageState.showName&&`${d.currentStageState.showName}`||""}),d.currentStageState.vocal?B.jsx("div",{onClick:y=>{e(),y.preventDefault(),y.stopPropagation();const x=document.getElementById("backlog_audio_play_element_"+p);if(x){x.currentTime=0;const b=Ce.getState().userData,E=b.optionData.volumeMain;x.volume=E*.01*b.optionData.vocalVolume*.01,x==null||x.play()}},onMouseEnter:t,className:bn.backlog_item_button_element,children:B.jsx("span",{className:bn.sound_icon})}):null]}),B.jsx("div",{className:bn.backlog_item_content,onClick:y=>{e(),mue(p),y.preventDefault(),y.stopPropagation()},children:B.jsx("span",{className:bn.backlog_item_content_text,children:v})})]}),B.jsx("audio",{id:"backlog_audio_play_element_"+p,src:d.currentStageState.vocal})]},"backlogItem"+d.currentStageState.showText+d.saveScene.currentSentenceId);h.unshift(g)}return h},[((c=(u=z.backlogManager.getBacklog()[z.backlogManager.getBacklog().length-1])==null?void 0:u.saveScene)==null?void 0:c.currentSentenceId)??0]);return be.useEffect(()=>{r.showBacklog?(f.current&&clearTimeout(f.current),a(!1),s(!0),setTimeout(()=>{s(!1)},0)):f.current=setTimeout(()=>{a(!0),f.current=void 0},700+80)},[r.showBacklog]),B.jsx(B.Fragment,{children:B.jsxs("div",{className:`
          ${r.showBacklog?bn.Backlog_main:bn.Backlog_main_out}
          ${i?bn.Backlog_main_out_IndexHide:""}
          `,children:[B.jsx("div",{className:bn.backlog_title,onClick:()=>{Ve.info("Rua! Testing")},children:B.jsx("div",{className:bn.backlog_top_icon,onClick:()=>{e(),n(Bt({component:"showBacklog",visibility:!1})),n(Bt({component:"showTextBox",visibility:!0}))},onMouseEnter:t})}),r.showBacklog&&B.jsx("div",{className:`${bn.backlog_content} ${o?bn.Backlog_main_DisableScroll:""}`,children:l})]})})};function oCe(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const sCe="_extra_2e79r_2",lCe="_extraTop_2e79r_12",uCe="_backIcon_2e79r_24",fCe="_mainContainer_2e79r_46",cCe="_mainTab_2e79r_53",hCe="_mainTab_bgm_2e79r_61",dCe="_mainTab_unselect_bgm_2e79r_70",pCe="_mainTab_cg_2e79r_79",vCe="_mainTab_unselect_cg_2e79r_88",mCe="_bgmContainer_2e79r_97",gCe="_bgmListContainer_2e79r_103",_Ce="_bgmElement_2e79r_111",yCe="_bgmName_2e79r_122",xCe="_bgm_item_name_2e79r_132",bCe="_bgm_sound_wrapper_2e79r_140",ECe="_bgm_sound_unselect_2e79r_148",wCe="_bgm_sound_select_2e79r_153",SCe="_bgmLocked_2e79r_158",CCe="_bgmUnlocked_2e79r_162",TCe="_footer_2e79r_171",ACe="_footer_page_container_2e79r_181",ICe="_footer_page_indicator_2e79r_186",RCe="_footer_page_icon_checked_2e79r_194",PCe="_footer_page_icon_unchecked_2e79r_199",OCe="_cgMain_2e79r_212",FCe="_cgContainer_2e79r_217",kCe="_cgElement_2e79r_225",NCe="_cgUnLockElement_2e79r_232",LCe="_unlockedCGImg_2e79r_237",BCe="_cgShowDiv_2e79r_244",MCe="_cgShowDivWarpper_2e79r_253",DCe="_cgNav_2e79r_262",UCe="_cgNav_active_2e79r_281",jCe="_showFullContainer_2e79r_291",$Ce="_showFullCgMain_2e79r_304",VCe="_fullCgIn_2e79r_1",GCe="_Btn_2e79r_325",XCe="_Btn_r_2e79r_339",HCe="_extra_icon_softin_2e79r_1",zCe="_bgmElement_In_2e79r_1",ft={extra:sCe,extraTop:lCe,backIcon:uCe,mainContainer:fCe,mainTab:cCe,mainTab_bgm:hCe,mainTab_unselect_bgm:dCe,mainTab_cg:pCe,mainTab_unselect_cg:vCe,bgmContainer:mCe,bgmListContainer:gCe,bgmElement:_Ce,bgmName:yCe,bgm_item_name:xCe,bgm_sound_wrapper:bCe,bgm_sound_unselect:ECe,bgm_sound_select:wCe,bgmLocked:SCe,bgmUnlocked:CCe,footer:TCe,footer_page_container:ACe,footer_page_indicator:ICe,footer_page_icon_checked:RCe,footer_page_icon_unchecked:PCe,cgMain:OCe,cgContainer:FCe,cgElement:kCe,cgUnLockElement:NCe,unlockedCGImg:LCe,cgShowDiv:BCe,cgShowDivWarpper:MCe,cgNav:DCe,cgNav_active:UCe,showFullContainer:jCe,showFullCgMain:$Ce,fullCgIn:VCe,Btn:GCe,Btn_r:XCe,extra_icon_softin:HCe,bgmElement_In:zCe},WCe=""+new URL("sound-icon.png",import.meta.url).href,YCe=""+new URL("sound-choose.png",import.meta.url).href,qCe=""+new URL("bgm-locked-bg.png",import.meta.url).href,KCe=""+new URL("bgm-unlock-bg.png",import.meta.url).href,_5=""+new URL("point-active.png",import.meta.url).href,y5=""+new URL("point-default.png",import.meta.url).href;function ZCe(){const{playSeClick:t,playSeEnter:e}=Jn(),[r,n]=be.useState(1),[i,a]=be.useState([]),o=dt(d=>d.GUI.titleBgm),s=dt(d=>d.userData.appreciationData),f="Title_BGM";let l=f;const u=s.bgm.length;s.bgm.forEach((d,m)=>{d.url===o&&(l=d.name)});const c=Math.ceil(u/8)||1,h=ko("");l!==f&&l!==h.value&&h.set(l);const p=_n();return be.useEffect(()=>{a(s.bgm.slice((r-1)*8,r*8)||[])},[s.bgm,r]),B.jsxs("div",{className:ft.bgmContainer,children:[B.jsxs("div",{className:ft.bgmListContainer,children:[i.map((d,m)=>B.jsxs("div",{onClick:()=>{t(),h.set(d.name),p(bx({asset:"titleBgm",value:d.url}))},className:ft.bgmElement,onMouseEnter:e,children:[B.jsxs("div",{className:ft.bgmName,children:[B.jsx("div",{className:ft.bgm_item_name,children:d.name}),B.jsx("div",{className:ft.bgm_sound_wrapper,children:B.jsx("img",{src:d.name===h.value?YCe:WCe,alt:"",className:d.name===h.value?ft.bgm_sound_select:ft.bgm_sound_unselect})})]}),B.jsx("img",{src:KCe,className:ft.bgmUnlocked,alt:""})]},d.name)),Array.from({length:8-i.length}).map((d,m)=>B.jsx("div",{className:`${ft.bgmElement}`,style:{cursor:"default"},children:B.jsx("img",{src:qCe,alt:"",className:ft.bgmLocked})},m))]}),B.jsxs("div",{className:ft.footer,children:[B.jsx("div",{className:ft.Btn,onMouseEnter:e,onClick:()=>{t(),r>1&&n(r-1)}}),B.jsx("div",{className:ft.footer_page_container,children:Array.from({length:c}).map((d,m)=>B.jsx("div",{className:ft.footer_page_indicator,children:B.jsx("img",{src:m+1===r?_5:y5,alt:"",className:m+1===r?ft.footer_page_icon_checked:ft.footer_page_icon_unchecked})},m))}),B.jsx("div",{className:`${ft.Btn} ${ft.Btn_r}`,onMouseEnter:e,onClick:()=>{t(),r!==c&&n(r+1)}})]})]})}function JCe(t){const e=ko(!1),{playSeEnter:r,playSeClick:n}=Jn();return B.jsxs(B.Fragment,{children:[e.value&&B.jsx("div",{onClick:()=>{e.set(!e.value),n()},className:ft.showFullContainer,onMouseEnter:r,children:B.jsx("div",{className:ft.showFullCgMain,children:B.jsx("div",{style:{backgroundImage:`url('${t.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),B.jsx("div",{onClick:()=>{e.set(!e.value),n()},onMouseEnter:r,className:`${ft.cgElement} ${ft.cgUnLockElement}`,children:B.jsx("div",{className:ft.unlockedCGImg,style:{background:`url('${t.imgUrl}') no-repeat center center`,backgroundSize:"cover"}})},t.name)]})}const QCe=""+new URL("cg-lock.png",import.meta.url).href;function eTe(){const t=dt(l=>l.userData.appreciationData),{playSeEnter:e,playSeClick:r}=Jn(),[n,i]=be.useState(1),[a,o]=be.useState([]),s=t.cg.length,f=Math.ceil(s/6)||1;return be.useEffect(()=>{o(t.cg.slice((n-1)*6,n*6)||[])},[t.cg,n]),B.jsxs("div",{className:ft.cgMain,children:[B.jsxs("div",{className:ft.cgContainer,children:[a.map((l,u)=>B.jsx(JCe,{name:l.name,imgUrl:"./game/background/Ch00/Yf_cg003.png"},u.toString()+l.url)),Array.from({length:6-a.length}).map((l,u)=>B.jsx("div",{className:ft.cgElement,style:{cursor:"default"},children:B.jsx("img",{src:QCe,alt:"",style:{width:"100%"}})},u))]}),B.jsxs("div",{className:ft.footer,children:[B.jsx("div",{className:ft.Btn,onMouseEnter:e,onClick:()=>{r(),n>1&&i(n-1)}}),B.jsx("div",{className:ft.footer_page_container,children:Array.from({length:f}).map((l,u)=>B.jsx("div",{className:ft.footer_page_indicator,children:B.jsx("img",{src:u+1===n?_5:y5,alt:"",className:u+1===n?ft.footer_page_icon_checked:ft.footer_page_icon_unchecked})},u))}),B.jsx("div",{className:`${ft.Btn} ${ft.Btn_r}`,onMouseEnter:e,onClick:()=>{r(),n!==f&&i(n+1)}})]})]})}const tTe=""+new URL("gallery-bg.webp",import.meta.url).href;function rTe(){const{playSeClick:t,playSeEnter:e}=Jn(),r=dt(o=>o.GUI.showExtra),n=_n(),[i,a]=be.useState("bgm");return be.useEffect(()=>{document.getElementById("currentBgm").pause()},[]),B.jsx(B.Fragment,{children:r&&B.jsxs("div",{className:ft.extra,style:{background:`url(${tTe}) no-repeat center center`,backgroundSize:"cover"},children:[B.jsx("div",{className:ft.extraTop,children:B.jsx("div",{className:ft.backIcon,onClick:()=>{n(Bt({component:"showExtra",visibility:!1})),t()},onMouseEnter:e})}),B.jsxs("div",{className:ft.mainContainer,children:[B.jsxs("div",{className:ft.mainTab,children:[i==="bgm"?B.jsx("span",{className:ft.mainTab_bgm}):B.jsx("span",{className:ft.mainTab_unselect_bgm,onClick:()=>{a("bgm"),t()},onMouseEnter:e}),i==="cg"?B.jsx("span",{className:ft.mainTab_cg}):B.jsx("span",{className:ft.mainTab_unselect_cg,onClick:()=>{a("cg"),t()},onMouseEnter:e})]}),i==="bgm"?B.jsx(ZCe,{}):B.jsx(eTe,{})]})]})})}const nTe="_tag_yghix_2",iTe="_container_yghix_17",aTe="_showContainer_yghix_1",oTe="_singleButton_yghix_33",sTe="_button_text_yghix_37",Yr={tag:nTe,container:iTe,showContainer:aTe,singleButton:oTe,button_text:sTe},lTe=()=>{const t=ko(!1),e=dt(a=>a.stage),r=_n(),n=(a,o)=>{r(Bt({component:a,visibility:o}))},i=a=>{r(_s(a))};return B.jsx(B.Fragment,{children:e.enableFilm!==""&&B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Yr.tag,onClick:()=>{t.set(!t.value)},children:B.jsx(Owe,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&B.jsxs("div",{className:Yr.container,children:[B.jsx("span",{className:Yr.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:B.jsx("span",{className:Yr.button_text,children:" / BACKLOG"})}),B.jsx("span",{className:Yr.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:B.jsx("span",{className:Yr.button_text,children:" / REPLAY VOICE"})}),B.jsx("span",{id:"Button_ControlPanel_auto",className:Yr.singleButton,onClick:()=>{DM(),t.set(!t.value)},children:B.jsx("span",{className:Yr.button_text,children:" / AUTO"})}),B.jsx("span",{id:"Button_ControlPanel_fast",className:Yr.singleButton,onClick:()=>{VM(),t.set(!t.value)},children:B.jsx("span",{className:Yr.button_text,children:" / FAST"})}),B.jsx("span",{className:Yr.singleButton,onClick:()=>{t.set(!t.value),i(zt.Save),n("showMenuPanel",!0)},children:B.jsx("span",{className:Yr.button_text,children:" / SAVE"})}),B.jsx("span",{className:Yr.singleButton,onClick:()=>{t.set(!t.value),i(zt.Load),n("showMenuPanel",!0)},children:B.jsx("span",{className:Yr.button_text,children:" / LOAD"})}),B.jsx("span",{className:Yr.singleButton,onClick:()=>{t.set(!t.value),i(zt.Option),n("showMenuPanel",!0)},children:B.jsx("span",{className:Yr.button_text,children:" / OPTIONS"})}),B.jsx("span",{className:Yr.singleButton,onClick:()=>{t.set(!t.value),Z2()},children:B.jsx("span",{className:Yr.button_text,children:" / TITLE"})})]})]})})},uTe="_devPanelMain_11x6i_1",fTe="_devPanelOpener_11x6i_13",zF={devPanelMain:uTe,devPanelOpener:fTe};function cTe(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function hTe(){function t(){return!!window.location.hash.match(/dev/)}const e=ko(!1),r=ko(window.location.hash),n=dt(f=>f.stage);be.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=fv(),s=B.jsxs(B.Fragment,{children:[B.jsx("div",{onClick:()=>cTe(),children:"Save PIXI Screenshot"}),B.jsxs("div",{children:["Current Language:",o.language]}),B.jsx("div",{onClick:()=>{var f;return(f=z.gameplay.pixiStage)==null?void 0:f.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),B.jsx("div",{children:"Stage State"}),B.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return B.jsxs(B.Fragment,{children:[i&&e.value&&B.jsxs("div",{className:zF.devPanelMain,children:[B.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[B.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),B.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),B.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&B.jsx("div",{onClick:()=>e.set(!0),className:zF.devPanelOpener,children:"Open Dev Panel"})]})}function dTe(t){return Cu[t]}function pTe(){const{i18n:t}=fv(),e=Ou(n=>n.userData),r=_n();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??Cu.zhCn,o=dTe(a);t.changeLanguage(o),r(Li({key:"language",value:a})),Ve.info(": "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&fn()}}const vTe="_trans_8uz61_2",mTe="_langWrapper_8uz61_10",gTe="_lang_8uz61_10",_Te="_langSelect_8uz61_29",yTe="_langSelectButton_8uz61_35",_f={trans:vTe,langWrapper:mTe,lang:gTe,langSelect:_Te,langSelectButton:yTe};function xTe(){const t=pTe(),[e,r]=be.useState(!1);be.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))||"0"?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return B.jsx(B.Fragment,{children:e&&B.jsx("div",{className:_f.trans,children:B.jsxs("div",{className:_f.langWrapper,children:[B.jsx("div",{className:_f.lang,children:"LANGUAGE SELECT"}),B.jsx("div",{className:_f.langSelect,children:Object.keys(PA).map(i=>B.jsx("div",{className:_f.langSelectButton,onClick:()=>n(Cu[i]),children:PA[i]},i))})]})})})}const bTe=()=>{const t=dt(n=>n.GUI),[e,r]=be.useState(!1);return be.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),null};function ETe(){const t=dt(i=>i.userData),e=dt(i=>i.GUI);_n();const r=t.optionData.fullScreen,n=e.isEnterGame;be.useEffect(()=>{switch(r){case la.on:{n&&(document.documentElement.requestFullscreen(),El&&El.lock(["Escape","F11"]));break}case la.off:{document.fullscreenElement&&(document.exitFullscreen(),El&&El.unlock());break}}},[r])}const wTe="_gameMenuPanelWrapper_1bdvx_1",STe="_gameMenuPanel_1bdvx_1",CTe="_menuButton_1bdvx_12",TTe="_gameMenuPanelContentWrapper_1bdvx_26",ATe="_mask_1bdvx_34",ITe="_gameMenuPanelContent_1bdvx_26",RTe="_buttonswrapper_1bdvx_54",PTe="_button_1bdvx_54",Ri={gameMenuPanelWrapper:wTe,gameMenuPanel:STe,menuButton:CTe,gameMenuPanelContentWrapper:TTe,mask:ATe,gameMenuPanelContent:ITe,buttonswrapper:RTe,button:PTe},OTe=()=>{const t=Fo("gaming."),{playSeEnter:e,playSeClick:r,playSeDialogOpen:n}=Jn(),i=dt(_=>_.GUI),[a,o]=be.useState(!1);be.useEffect(()=>{o(i.isShowGameMenu)},[i.isShowGameMenu]);const s=_n(),f=(_,v)=>{s(Bt({component:_,visibility:v}))},l=_=>{s(_s(_))},u=()=>{r(),f("isShowGameMenu",!0)},c=()=>{r(),f("isShowGameMenu",!1)},h=()=>{r(),l(zt.Save),f("isShowGameMenu",!1),f("showMenuPanel",!0)},p=()=>{l(zt.Load),f("isShowGameMenu",!1),f("showMenuPanel",!0),r()},d=()=>{l(zt.Option),f("isShowGameMenu",!1),f("showMenuPanel",!0),r()},m=()=>{n(),J2({title:t("buttons.quitTips"),leftText:t("$common.cancel"),rightText:t("$common.confirm"),leftFunc:()=>{},rightFunc:()=>{f("isShowGameMenu",!1),Z2()}})};return B.jsxs(B.Fragment,{children:[B.jsx("div",{className:Ri.gameMenuPanel,children:B.jsx("div",{className:Ri.menuButton,onClick:u,onMouseEnter:e})}),a&&B.jsxs("div",{className:Ri.gameMenuPanelContentWrapper,children:[B.jsx("div",{className:Ri.mask}),B.jsx("div",{className:Ri.gameMenuPanelContent,children:B.jsxs("div",{className:Ri.buttonswrapper,children:[B.jsx("span",{className:Ri.button,onMouseEnter:e,onClick:c,children:t("buttons.backToGame")}),B.jsx("span",{className:Ri.button,onMouseEnter:e,onClick:h,children:t("buttons.preserve")}),B.jsx("span",{className:Ri.button,onMouseEnter:e,onClick:p,children:t("buttons.read")}),B.jsx("span",{className:Ri.button,onMouseEnter:e,onClick:d,children:t("buttons.setting")}),B.jsx("span",{className:Ri.button,onMouseEnter:e,onClick:m,children:t("buttons.backToTitle")})]})})]})]})},FTe="_Loading_container_4mfnk_2",kTe="_spin_4mfnk_1",NTe={Loading_container:FTe,spin:kTe};function LTe(){const[t,e]=be.useState(!1);return be.useEffect(()=>window.pubsub.subscribe("loading",({loading:n})=>{e(n)}),[]),t?B.jsx("div",{className:NTe.Loading_container,children:B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"116",height:"116",viewBox:"0 0 116 116",fill:"none",children:[B.jsxs("g",{filter:"url(#filter0_f_44_50)",children:[B.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"})]}),B.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),B.jsx("defs",{children:B.jsxs("filter",{id:"filter0_f_44_50",x:"0.5",y:"0.5",width:"115",height:"115",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[B.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),B.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),B.jsx("feGaussianBlur",{stdDeviation:"15",result:"effect1_foregroundBlur_44_50"})]})})]})}):null}function BTe(){return be.useEffect(()=>{dwe()},[]),ETe(),B.jsxs("div",{className:"App",children:[B.jsx(LTe,{}),B.jsx(xTe,{}),B.jsx(nCe,{}),B.jsx(OTe,{}),B.jsx(iCe,{}),B.jsx(lTe,{}),B.jsx(aCe,{}),B.jsx(bhe,{}),B.jsx(The,{}),B.jsx(rTe,{}),B.jsx(VSe,{}),B.jsx(Xwe,{}),B.jsx(bTe,{}),B.jsx(hTe,{})]})}function So(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lb(t,e){return Lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lb(t,e)}function Mv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lb(t,e)}function _h(t,e){if(e&&(en(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return So(t)}function ma(t){return ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ma(t)}function MTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DTe(t){return wM(t)||MTe(t)||SM(t)||CM()}function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var UTe={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},jTe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gi(this,t),this.init(e,r)}return Xi(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||UTe,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,YF(YF({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),ia=new jTe,Bo=function(){function t(){Gi(this,t),this.observers={}}return Xi(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(f){f.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(f){f.apply(f,[r].concat(i))})}}}]),t}();function yf(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function qF(t){return t==null?"":""+t}function $Te(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function Q2(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function KF(t,e,r){var n=Q2(t,e,Object),i=n.obj,a=n.k;i[a]=r}function VTe(t,e,r,n){var i=Q2(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function Y0(t,e){var r=Q2(t,e),n=r.obj,i=r.k;if(n)return n[i]}function GTe(t,e,r){var n=Y0(t,r);return n!==void 0?n:Y0(e,r)}function x5(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):x5(t[n],e[n],r):t[n]=e[n]);return t}function ll(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var XTe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function HTe(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return XTe[e]}):t}var Dv=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,zTe=[" ",",","?","!",";"];function WTe(t,e,r){e=e||"",r=r||"";var n=zTe.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function q0(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),f=i[s];f===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),f=i[s];if(f===void 0)return;if(f===null)return null;if(e.endsWith(s)){if(typeof f=="string")return f;if(s&&typeof f[s]=="string")return f[s]}var l=n.slice(a+o).join(r);return l?q0(f,l,r):void 0}i=i[n[a]]}return i}}function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YTe(t){var e=qTe();return function(){var n=ma(t),i;if(e){var a=ma(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _h(this,i)}}function qTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var KTe=function(t){Mv(r,t);var e=YTe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Gi(this,r),i=e.call(this),Dv&&Bo.call(So(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Xi(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(f?o.split(f):o)),i.indexOf(".")>-1&&(u=i.split("."));var c=Y0(this.data,u);return c||!l||typeof o!="string"?c:q0(this.data&&this.data[i]&&this.data[i][a],o,f)}},{key:"addResource",value:function(i,a,o,s){var f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,u=[i,a];o&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split("."),s=a,a=u[1]),this.addNamespaces(a),KF(this.data,u,s),f.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var f in o)(typeof o[f]=="string"||Object.prototype.toString.apply(o[f])==="[object Array]")&&this.addResource(i,a,f,o[f],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,f){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var c=Y0(this.data,u)||{};s?x5(c,o,f):c=cd(cd({},c),o),KF(this.data,u,c),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?cd(cd({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Bo),b5={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function JF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZTe(t){var e=JTe();return function(){var n=ma(t),i;if(e){var a=ma(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _h(this,i)}}function JTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var QF={},ek=function(t){Mv(r,t);var e=ZTe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Gi(this,r),i=e.call(this),Dv&&Bo.call(So(i)),$Te(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,So(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=ia.create("translator"),i}return Xi(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,f=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!WTe(i,o,s);if(l&&!u){var c=i.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:i,namespaces:f};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(f=h.shift()),i=h.join(s)}return typeof f=="string"&&(f=[f]),{key:i,namespaces:f}}},{key:"translate",value:function(i,a,o){var s=this;if(en(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),en(a)==="object"&&(a=yn({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var f=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),c=u.key,h=u.namespaces,p=h[h.length-1],d=a.lng||this.language,m=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(m){var _=a.nsSeparator||this.options.nsSeparator;return f?{res:"".concat(p).concat(_).concat(c),usedKey:c,exactUsedKey:c,usedLng:d,usedNS:p}:"".concat(p).concat(_).concat(c)}return f?{res:c,usedKey:c,exactUsedKey:c,usedLng:d,usedNS:p}:c}var v=this.resolve(i,a),g=v&&v.res,y=v&&v.usedKey||c,x=v&&v.exactUsedKey||c,b=Object.prototype.toString.apply(g),E=["[object Number]","[object Function]","[object RegExp]"],w=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,C=typeof g!="string"&&typeof g!="boolean"&&typeof g!="number";if(S&&g&&C&&E.indexOf(b)<0&&!(typeof w=="string"&&b==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,g,yn(yn({},a),{},{ns:h})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return f?(v.res=T,v):T}if(l){var I=b==="[object Array]",A=I?[]:{},R=I?x:y;for(var O in g)if(Object.prototype.hasOwnProperty.call(g,O)){var F="".concat(R).concat(l).concat(O);A[O]=this.translate(F,yn(yn({},a),{joinArrays:!1,ns:h})),A[O]===F&&(A[O]=g[O])}g=A}}else if(S&&typeof w=="string"&&b==="[object Array]")g=g.join(w),g&&(g=this.extendTranslation(g,i,a,o));else{var k=!1,$=!1,q=a.count!==void 0&&typeof a.count!="string",K=r.hasDefaultValue(a),G=q?this.pluralResolver.getSuffix(d,a.count,a):"",N=a["defaultValue".concat(G)]||a.defaultValue;!this.isValidLookup(g)&&K&&(k=!0,g=N),this.isValidLookup(g)||($=!0,g=c);var j=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,M=j&&$?void 0:g,D=K&&N!==g&&this.options.updateMissing;if($||k||D){if(this.logger.log(D?"updateKey":"missingKey",d,p,c,D?N:g),l){var J=this.resolve(c,yn(yn({},a),{},{keySeparator:!1}));J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Q=[],se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(var re=0;re<se.length;re++)Q.push(se[re]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(a.lng||this.language):Q.push(a.lng||this.language);var ue=function(xe,de,pe){var Ae=K&&pe!==g?pe:M;s.options.missingKeyHandler?s.options.missingKeyHandler(xe,p,de,Ae,D,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(xe,p,de,Ae,D,a),s.emit("missingKey",xe,p,de,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?Q.forEach(function(Ee){s.pluralResolver.getSuffixes(Ee,a).forEach(function(xe){ue([Ee],c+xe,a["defaultValue".concat(xe)]||N)})}):ue(Q,c,N))}g=this.extendTranslation(g,i,a,v,o),$&&g===c&&this.options.appendNamespaceToMissingKey&&(g="".concat(p,":").concat(c)),($||k)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(p,":").concat(c):c,k?g:void 0):g=this.options.parseMissingKeyHandler(g))}return f?(v.res=g,v):g}},{key:"extendTranslation",value:function(i,a,o,s,f){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,yn(yn({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(yn(yn({},o),{interpolation:yn(yn({},this.options.interpolation),o.interpolation)}));var u=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(u){var h=i.match(this.interpolator.nestingRegexp);c=h&&h.length}var p=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(p=yn(yn({},this.options.interpolation.defaultVariables),p)),i=this.interpolator.interpolate(i,p,o.lng||this.language,o),u){var d=i.match(this.interpolator.nestingRegexp),m=d&&d.length;c<m&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var g=arguments.length,y=new Array(g),x=0;x<g;x++)y[x]=arguments[x];return f&&f[0]===y[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(y[0]," in key: ").concat(a[0])),null):l.translate.apply(l,y.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var _=o.postProcess||this.options.postProcess,v=typeof _=="string"?[_]:_;return i!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(i=b5.handle(v,i,a,this.options&&this.options.postProcessPassResolved?yn({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,f,l,u,c;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var p=a.extractFromKey(h,o),d=p.key;f=d;var m=p.namespaces;a.options.fallbackNS&&(m=m.concat(a.options.fallbackNS));var _=o.count!==void 0&&typeof o.count!="string",v=_&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),g=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",y=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);m.forEach(function(x){a.isValidLookup(s)||(c=x,!QF["".concat(y[0],"-").concat(x)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(c)&&(QF["".concat(y[0],"-").concat(x)]=!0,a.logger.warn('key "'.concat(f,'" for languages "').concat(y.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(function(b){if(!a.isValidLookup(s)){u=b;var E=[d];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(E,d,b,x,o);else{var w;_&&(w=a.pluralResolver.getSuffix(b,o.count,o));var S="".concat(a.options.pluralSeparator,"zero");if(_&&(E.push(d+w),v&&E.push(d+S)),g){var C="".concat(d).concat(a.options.contextSeparator).concat(o.context);E.push(C),_&&(E.push(C+w),v&&E.push(C+S))}}for(var T;T=E.pop();)a.isValidLookup(s)||(l=T,s=a.getResource(b,x,T,o))}}))})}}),{res:s,usedKey:f,exactUsedKey:l,usedLng:u,usedNS:c}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(Bo);function sy(t){return t.charAt(0).toUpperCase()+t.slice(1)}var tk=function(){function t(e){Gi(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ia.create("languageUtils")}return Xi(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=sy(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=sy(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=sy(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(f){o.indexOf(f)<0&&s(i.formatLanguageCode(f))}),o}}]),t}(),QTe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],eAe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},tAe=["v1","v2","v3"],rk={zero:0,one:1,two:2,few:3,many:4,other:5};function rAe(){var t={};return QTe.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:eAe[e.fc]}})}),t}var nAe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gi(this,t),this.languageUtils=e,this.options=r,this.logger=ia.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=rAe()}return Xi(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return rk[o]-rk[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!tAe.includes(this.options.compatibilityJSON)}}]),t}();function nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ik(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=GTe(t,e,r);return!a&&i&&typeof r=="string"&&(a=q0(t,r,n),a===void 0&&(a=q0(e,r,n))),a}var iAe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gi(this,t),this.logger=ia.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return Xi(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:HTe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?ll(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?ll(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?ll(n.nestingPrefix):n.nestingPrefixEscaped||ll("$t("),this.nestingSuffix=n.nestingSuffix?ll(n.nestingSuffix):n.nestingSuffixEscaped||ll(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,f,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(_){return _.replace(/\$/g,"$$$$")}var h=function(v){if(v.indexOf(o.formatSeparator)<0){var g=ik(n,u,v,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(g,void 0,i,Pi(Pi(Pi({},a),n),{},{interpolationkey:v})):g}var y=v.split(o.formatSeparator),x=y.shift().trim(),b=y.join(o.formatSeparator).trim();return o.format(ik(n,u,x,o.options.keySeparator,o.options.ignoreJSONStructure),b,i,Pi(Pi(Pi({},a),n),{},{interpolationkey:x}))};this.resetRegExp();var p=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,d=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(v){return c(v)}},{regex:this.regexp,safeValue:function(v){return o.escapeValue?c(o.escape(v)):c(v)}}];return m.forEach(function(_){for(l=0;s=_.regex.exec(r);){var v=s[1].trim();if(f=h(v),f===void 0)if(typeof p=="function"){var g=p(r,s,a);f=typeof g=="string"?g:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))f="";else if(d){f=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(r)),f="";else typeof f!="string"&&!o.useRawValueToEscape&&(f=qF(f));var y=_.safeValue(f);if(r=r.replace(s[0],y),d?(_.regex.lastIndex+=f.length,_.regex.lastIndex-=s[0].length):_.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,f;function l(p,d){var m=this.nestingOptionsSeparator;if(p.indexOf(m)<0)return p;var _=p.split(new RegExp("".concat(m,"[ ]*{"))),v="{".concat(_[1]);p=_[0],v=this.interpolate(v,f);var g=v.match(/'/g),y=v.match(/"/g);(g&&g.length%2===0&&!y||y.length%2!==0)&&(v=v.replace(/'/g,'"'));try{f=JSON.parse(v),d&&(f=Pi(Pi({},d),f))}catch(x){return this.logger.warn("failed parsing options string in nesting for key ".concat(p),x),"".concat(p).concat(m).concat(v)}return delete f.defaultValue,p}for(;o=this.nestingRegexp.exec(r);){var u=[];f=Pi({},a),f=f.replace&&typeof f.replace!="string"?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;var c=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(p){return p.trim()});o[1]=h.shift(),u=h,c=!0}if(s=n(l.call(this,o[1].trim(),f),f),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=qF(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),c&&(s=u.reduce(function(p,d){return i.format(p,d,a.lng,Pi(Pi({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aAe(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),f=DTe(s),l=f[0],u=f.slice(1),c=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=c),c==="false"&&(r[l.trim()]=!1),c==="true"&&(r[l.trim()]=!0),isNaN(c)||(r[l.trim()]=parseInt(c,10))}})}}return{formatName:e,formatOptions:r}}function ul(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var oAe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gi(this,t),this.logger=ia.create("formatter"),this.options=e,this.formats={number:ul(function(r,n){var i=new Intl.NumberFormat(r,Ra({},n));return function(a){return i.format(a)}}),currency:ul(function(r,n){var i=new Intl.NumberFormat(r,Ra(Ra({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:ul(function(r,n){var i=new Intl.DateTimeFormat(r,Ra({},n));return function(a){return i.format(a)}}),relativetime:ul(function(r,n){var i=new Intl.RelativeTimeFormat(r,Ra({},n));return function(a){return i.format(a,n.range||"day")}}),list:ul(function(r,n){var i=new Intl.ListFormat(r,Ra({},n));return function(a){return i.format(a)}})},this.init(e)}return Xi(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=ul(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),f=s.reduce(function(l,u){var c=aAe(u),h=c.formatName,p=c.formatOptions;if(a.formats[h]){var d=l;try{var m=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},_=m.locale||m.lng||o.locale||o.lng||i;d=a.formats[h](l,_,Ra(Ra(Ra({},p),o),m))}catch(v){a.logger.warn(v)}return d}else a.logger.warn("there was no format function for ".concat(h));return l},r);return f}}]),t}();function ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sAe(t){var e=lAe();return function(){var n=ma(t),i;if(e){var a=ma(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _h(this,i)}}function lAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uAe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var fAe=function(t){Mv(r,t);var e=sAe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Gi(this,r),o=e.call(this),Dv&&Bo.call(So(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=ia.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return Xi(r,[{key:"queueLoad",value:function(i,a,o,s){var f=this,l={},u={},c={},h={};return i.forEach(function(p){var d=!0;a.forEach(function(m){var _="".concat(p,"|").concat(m);!o.reload&&f.store.hasResourceBundle(p,m)?f.state[_]=2:f.state[_]<0||(f.state[_]===1?u[_]===void 0&&(u[_]=!0):(f.state[_]=1,d=!1,u[_]===void 0&&(u[_]=!0),l[_]===void 0&&(l[_]=!0),h[m]===void 0&&(h[m]=!0)))}),d||(c[p]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),f=s[0],l=s[1];a&&this.emit("failedLoading",f,l,a),o&&this.store.addResourceBundle(f,l,o),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(c){VTe(c.loaded,[f],l),uAe(c,i),a&&c.errors.push(a),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(function(h){u[h]||(u[h]={});var p=c.loaded[h];p.length&&p.forEach(function(d){u[h][d]===void 0&&(u[h][d]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(i,a,o){var s=this,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:f,wait:l,callback:u});return}this.readingCalls++;var c=function(m,_){if(s.readingCalls--,s.waitingReads.length>0){var v=s.waitingReads.shift();s.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&_&&f<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,f+1,l*2,u)},l);return}u(m,_)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var p=h(i,a);p&&typeof p.then=="function"?p.then(function(d){return c(null,d)}).catch(c):c(null,p)}catch(d){c(d)}return}return h(i,a,c)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),f&&f();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,f);if(!l.toLoad.length)return l.pending.length||f(),null;l.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),f=s[0],l=s[1];this.read(f,l,"read",void 0,void 0,function(u,c){u&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(f," failed"),u),!u&&c&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(f),c),a.loaded(i,u,c)})}},{key:"saveMissing",value:function(i,a,o,s,f){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var c=sk(sk({},l),{},{isUpdate:f}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var p;h.length===5?p=h(i,a,o,s,c):p=h(i,a,o,s),p&&typeof p.then=="function"?p.then(function(d){return u(null,d)}).catch(u):u(null,p)}catch(d){u(d)}else h(i,a,o,s,u,c)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(Bo);function lk(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(en(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),en(e[2])==="object"||en(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function uk(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cAe(t){var e=hAe();return function(){var n=ma(t),i;if(e){var a=ma(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _h(this,i)}}function hAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hd(){}function dAe(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var K0=function(t){Mv(r,t);var e=cAe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Gi(this,r),n=e.call(this),Dv&&Bo.call(So(n)),n.options=uk(i),n.services={},n.logger=ia,n.modules={external:[]},dAe(So(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),_h(n,So(n));setTimeout(function(){n.init(i,a)},0)}return n}return Xi(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=lk();this.options=Ki(Ki(Ki({},s),this.options),uk(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Ki(Ki({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function f(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?ia.init(f(this.modules.logger),this.options):ia.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=oAe);var u=new tk(this.options);this.store=new KTe(this.options.resources,this.options);var c=this.services;c.logger=ia,c.resourceStore=this.store,c.languageUtils=u,c.pluralResolver=new nAe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(c.formatter=f(l),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new iAe(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new fAe(f(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(v){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];i.emit.apply(i,[v].concat(y))}),this.modules.languageDetector&&(c.languageDetector=f(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=f(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new ek(this.services,this.options),this.translator.on("*",function(v){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];i.emit.apply(i,[v].concat(y))}),this.modules.external.forEach(function(v){v.init&&v.init(i)})}if(this.format=this.options.interpolation.format,o||(o=hd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var p=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];p.forEach(function(v){i[v]=function(){var g;return(g=i.store)[v].apply(g,arguments)}});var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach(function(v){i[v]=function(){var g;return(g=i.store)[v].apply(g,arguments),i}});var m=yf(),_=function(){var g=function(x,b){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(b),o(x,b)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return g(null,i.t.bind(i));i.changeLanguage(i.options.lng,g)};return this.options.resources||!this.options.initImmediate?_():setTimeout(_,0),m}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hd,s=o,f=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(f&&f.toLowerCase()==="cimode")return s();var l=[],u=function(p){if(p){var d=a.services.languageUtils.toResolveHierarchy(p);d.forEach(function(m){l.indexOf(m)<0&&l.push(m)})}};if(f)u(f);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(h){return u(h)})}this.options.preload&&this.options.preload.forEach(function(h){return u(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=yf();return i||(i=this.languages),a||(a=this.options.ns),o||(o=hd),this.services.backendConnector.reload(i,a,function(f){s.resolve(),o(f)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&b5.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=yf();this.emit("languageChanging",i);var f=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,p){p?(f(p),o.translator.changeLanguage(p),o.isLanguageChangingTo=void 0,o.emit("languageChanged",p),o.logger.log("languageChanged",p)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},u=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var p=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);p&&(o.language||f(p),o.translator.language||o.translator.changeLanguage(p),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(p)),o.loadResources(p,function(d){l(d,p)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,f=function l(u,c){var h;if(en(c)!=="object"){for(var p=arguments.length,d=new Array(p>2?p-2:0),m=2;m<p;m++)d[m-2]=arguments[m];h=s.options.overloadTranslationOptionHandler([u,c].concat(d))}else h=Ki({},c);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var _=s.options.keySeparator||".",v;return h.keyPrefix&&Array.isArray(u)?v=u.map(function(g){return"".concat(h.keyPrefix).concat(_).concat(g)}):v=h.keyPrefix?"".concat(h.keyPrefix).concat(_).concat(u):u,s.t(v,h)};return typeof i=="string"?f.lng=i:f.lngs=i,f.ns=a,f.keyPrefix=o,f}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],f=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(p,d){var m=a.services.backendConnector.state["".concat(p,"|").concat(d)];return m===-1||m===2};if(o.precheck){var c=o.precheck(this,u);if(c!==void 0)return c}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,i)&&(!f||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=yf();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(f){o.options.ns.indexOf(f)<0&&o.options.ns.push(f)}),this.loadResources(function(f){s.resolve(),a&&a(f)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=yf();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],f=i.filter(function(l){return s.indexOf(l)<0});return f.length?(this.options.preload=s.concat(f),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new tk(lk());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hd,s=Ki(Ki(Ki({},this.options),a),{isClone:!0}),f=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(f.logger=f.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){f[u]=i[u]}),f.services=Ki({},this.services),f.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},f.translator=new ek(f.services,f.options),f.translator.on("*",function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),p=1;p<c;p++)h[p-1]=arguments[p];f.emit.apply(f,[u].concat(h))}),f.init(s,o),f.translator.options=f.options,f.translator.backendConnector.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},f}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Bo);si(K0,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new K0(t,e)});var In=K0.createInstance();In.createInstance=K0.createInstance;In.createInstance;In.dir;In.init;In.loadResources;In.reloadResources;In.use;In.changeLanguage;In.getFixedT;In.t;In.exists;In.setDefaultNamespace;In.hasLoadedNamespace;In.loadNamespaces;In.loadLanguages;In.use(zue).init({resources:uq||{},lng:Cu[fq]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("IdolTime i18n Ready!"));Cs.render(B.jsx(qt.StrictMode,{children:B.jsx(Kue,{children:B.jsx(hse,{store:Ce,children:B.jsx(BTe,{})})})}),document.getElementById("root"));export{Vr as C,gi as S,nt as T,z as W,W0 as a,yAe as r};
